<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8" />
<title>mapdeck</title>
<script src="data:application/javascript;base64,KGZ1bmN0aW9uKCkgewogIC8vIElmIHdpbmRvdy5IVE1MV2lkZ2V0cyBpcyBhbHJlYWR5IGRlZmluZWQsIHRoZW4gdXNlIGl0OyBvdGhlcndpc2UgY3JlYXRlIGEKICAvLyBuZXcgb2JqZWN0LiBUaGlzIGFsbG93cyBwcmVjZWRpbmcgY29kZSB0byBzZXQgb3B0aW9ucyB0aGF0IGFmZmVjdCB0aGUKICAvLyBpbml0aWFsaXphdGlvbiBwcm9jZXNzICh0aG91Z2ggbm9uZSBjdXJyZW50bHkgZXhpc3QpLgogIHdpbmRvdy5IVE1MV2lkZ2V0cyA9IHdpbmRvdy5IVE1MV2lkZ2V0cyB8fCB7fTsKCiAgLy8gU2VlIGlmIHdlJ3JlIHJ1bm5pbmcgaW4gYSB2aWV3ZXIgcGFuZS4gSWYgbm90LCB3ZSdyZSBpbiBhIHdlYiBicm93c2VyLgogIHZhciB2aWV3ZXJNb2RlID0gd2luZG93LkhUTUxXaWRnZXRzLnZpZXdlck1vZGUgPQogICAgICAvXGJ2aWV3ZXJfcGFuZT0xXGIvLnRlc3Qod2luZG93LmxvY2F0aW9uKTsKCiAgLy8gU2VlIGlmIHdlJ3JlIHJ1bm5pbmcgaW4gU2hpbnkgbW9kZS4gSWYgbm90LCBpdCdzIGEgc3RhdGljIGRvY3VtZW50LgogIC8vIE5vdGUgdGhhdCBzdGF0aWMgd2lkZ2V0cyBjYW4gYXBwZWFyIGluIGJvdGggU2hpbnkgYW5kIHN0YXRpYyBtb2RlcywgYnV0CiAgLy8gb2J2aW91c2x5LCBTaGlueSB3aWRnZXRzIGNhbiBvbmx5IGFwcGVhciBpbiBTaGlueSBhcHBzL2RvY3VtZW50cy4KICB2YXIgc2hpbnlNb2RlID0gd2luZG93LkhUTUxXaWRnZXRzLnNoaW55TW9kZSA9CiAgICAgIHR5cGVvZih3aW5kb3cuU2hpbnkpICE9PSAidW5kZWZpbmVkIiAmJiAhIXdpbmRvdy5TaGlueS5vdXRwdXRCaW5kaW5nczsKCiAgLy8gV2UgY2FuJ3QgY291bnQgb24galF1ZXJ5IGJlaW5nIGF2YWlsYWJsZSwgc28gd2UgaW1wbGVtZW50IG91ciBvd24KICAvLyB2ZXJzaW9uIGlmIG5lY2Vzc2FyeS4KICBmdW5jdGlvbiBxdWVyeVNlbGVjdG9yQWxsKHNjb3BlLCBzZWxlY3RvcikgewogICAgaWYgKHR5cGVvZihqUXVlcnkpICE9PSAidW5kZWZpbmVkIiAmJiBzY29wZSBpbnN0YW5jZW9mIGpRdWVyeSkgewogICAgICByZXR1cm4gc2NvcGUuZmluZChzZWxlY3Rvcik7CiAgICB9CiAgICBpZiAoc2NvcGUucXVlcnlTZWxlY3RvckFsbCkgewogICAgICByZXR1cm4gc2NvcGUucXVlcnlTZWxlY3RvckFsbChzZWxlY3Rvcik7CiAgICB9CiAgfQoKICBmdW5jdGlvbiBhc0FycmF5KHZhbHVlKSB7CiAgICBpZiAodmFsdWUgPT09IG51bGwpCiAgICAgIHJldHVybiBbXTsKICAgIGlmICgkLmlzQXJyYXkodmFsdWUpKQogICAgICByZXR1cm4gdmFsdWU7CiAgICByZXR1cm4gW3ZhbHVlXTsKICB9CgogIC8vIEltcGxlbWVudCBqUXVlcnkncyBleHRlbmQKICBmdW5jdGlvbiBleHRlbmQodGFyZ2V0IC8qLCAuLi4gKi8pIHsKICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09IDEpIHsKICAgICAgcmV0dXJuIHRhcmdldDsKICAgIH0KICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7CiAgICAgIHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07CiAgICAgIGZvciAodmFyIHByb3AgaW4gc291cmNlKSB7CiAgICAgICAgaWYgKHNvdXJjZS5oYXNPd25Qcm9wZXJ0eShwcm9wKSkgewogICAgICAgICAgdGFyZ2V0W3Byb3BdID0gc291cmNlW3Byb3BdOwogICAgICAgIH0KICAgICAgfQogICAgfQogICAgcmV0dXJuIHRhcmdldDsKICB9CgogIC8vIElFOCBkb2Vzbid0IHN1cHBvcnQgQXJyYXkuZm9yRWFjaC4KICBmdW5jdGlvbiBmb3JFYWNoKHZhbHVlcywgY2FsbGJhY2ssIHRoaXNBcmcpIHsKICAgIGlmICh2YWx1ZXMuZm9yRWFjaCkgewogICAgICB2YWx1ZXMuZm9yRWFjaChjYWxsYmFjaywgdGhpc0FyZyk7CiAgICB9IGVsc2UgewogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHZhbHVlcy5sZW5ndGg7IGkrKykgewogICAgICAgIGNhbGxiYWNrLmNhbGwodGhpc0FyZywgdmFsdWVzW2ldLCBpLCB2YWx1ZXMpOwogICAgICB9CiAgICB9CiAgfQoKICAvLyBSZXBsYWNlcyB0aGUgc3BlY2lmaWVkIG1ldGhvZCB3aXRoIHRoZSByZXR1cm4gdmFsdWUgb2YgZnVuY1NvdXJjZS4KICAvLwogIC8vIE5vdGUgdGhhdCBmdW5jU291cmNlIHNob3VsZCBub3QgQkUgdGhlIG5ldyBtZXRob2QsIGl0IHNob3VsZCBiZSBhIGZ1bmN0aW9uCiAgLy8gdGhhdCBSRVRVUk5TIHRoZSBuZXcgbWV0aG9kLiBmdW5jU291cmNlIHJlY2VpdmVzIGEgc2luZ2xlIGFyZ3VtZW50IHRoYXQgaXMKICAvLyB0aGUgb3ZlcnJpZGRlbiBtZXRob2QsIGl0IGNhbiBiZSBjYWxsZWQgZnJvbSB0aGUgbmV3IG1ldGhvZC4gVGhlIG92ZXJyaWRkZW4KICAvLyBtZXRob2QgY2FuIGJlIGNhbGxlZCBsaWtlIGEgcmVndWxhciBmdW5jdGlvbiwgaXQgaGFzIHRoZSB0YXJnZXQgcGVybWFuZW50bHkKICAvLyBib3VuZCB0byBpdCBzbyAidGhpcyIgd2lsbCB3b3JrIGNvcnJlY3RseS4KICBmdW5jdGlvbiBvdmVycmlkZU1ldGhvZCh0YXJnZXQsIG1ldGhvZE5hbWUsIGZ1bmNTb3VyY2UpIHsKICAgIHZhciBzdXBlckZ1bmMgPSB0YXJnZXRbbWV0aG9kTmFtZV0gfHwgZnVuY3Rpb24oKSB7fTsKICAgIHZhciBzdXBlckZ1bmNCb3VuZCA9IGZ1bmN0aW9uKCkgewogICAgICByZXR1cm4gc3VwZXJGdW5jLmFwcGx5KHRhcmdldCwgYXJndW1lbnRzKTsKICAgIH07CiAgICB0YXJnZXRbbWV0aG9kTmFtZV0gPSBmdW5jU291cmNlKHN1cGVyRnVuY0JvdW5kKTsKICB9CgogIC8vIEFkZCBhIG1ldGhvZCB0byBkZWxlZ2F0b3IgdGhhdCwgd2hlbiBpbnZva2VkLCBjYWxscwogIC8vIGRlbGVnYXRlZS5tZXRob2ROYW1lLiBJZiB0aGVyZSBpcyBubyBzdWNoIG1ldGhvZCBvbgogIC8vIHRoZSBkZWxlZ2F0ZWUsIGJ1dCB0aGVyZSB3YXMgb25lIG9uIGRlbGVnYXRvciBiZWZvcmUKICAvLyBkZWxlZ2F0ZU1ldGhvZCB3YXMgY2FsbGVkLCB0aGVuIHRoZSBvcmlnaW5hbCB2ZXJzaW9uCiAgLy8gaXMgaW52b2tlZCBpbnN0ZWFkLgogIC8vIEZvciBleGFtcGxlOgogIC8vCiAgLy8gdmFyIGEgPSB7CiAgLy8gICBtZXRob2QxOiBmdW5jdGlvbigpIHsgY29uc29sZS5sb2coJ2ExJyk7IH0KICAvLyAgIG1ldGhvZDI6IGZ1bmN0aW9uKCkgeyBjb25zb2xlLmxvZygnYTInKTsgfQogIC8vIH07CiAgLy8gdmFyIGIgPSB7CiAgLy8gICBtZXRob2QxOiBmdW5jdGlvbigpIHsgY29uc29sZS5sb2coJ2IxJyk7IH0KICAvLyB9OwogIC8vIGRlbGVnYXRlTWV0aG9kKGEsIGIsICJtZXRob2QxIik7CiAgLy8gZGVsZWdhdGVNZXRob2QoYSwgYiwgIm1ldGhvZDIiKTsKICAvLyBhLm1ldGhvZDEoKTsKICAvLyBhLm1ldGhvZDIoKTsKICAvLwogIC8vIFRoZSBvdXRwdXQgd291bGQgYmUgImIxIiwgImEyIi4KICBmdW5jdGlvbiBkZWxlZ2F0ZU1ldGhvZChkZWxlZ2F0b3IsIGRlbGVnYXRlZSwgbWV0aG9kTmFtZSkgewogICAgdmFyIGluaGVyaXRlZCA9IGRlbGVnYXRvclttZXRob2ROYW1lXTsKICAgIGRlbGVnYXRvclttZXRob2ROYW1lXSA9IGZ1bmN0aW9uKCkgewogICAgICB2YXIgdGFyZ2V0ID0gZGVsZWdhdGVlOwogICAgICB2YXIgbWV0aG9kID0gZGVsZWdhdGVlW21ldGhvZE5hbWVdOwoKICAgICAgLy8gVGhlIG1ldGhvZCBkb2Vzbid0IGV4aXN0IG9uIHRoZSBkZWxlZ2F0ZWUuIEluc3RlYWQsCiAgICAgIC8vIGNhbGwgdGhlIG1ldGhvZCBvbiB0aGUgZGVsZWdhdG9yLCBpZiBpdCBleGlzdHMuCiAgICAgIGlmICghbWV0aG9kKSB7CiAgICAgICAgdGFyZ2V0ID0gZGVsZWdhdG9yOwogICAgICAgIG1ldGhvZCA9IGluaGVyaXRlZDsKICAgICAgfQoKICAgICAgaWYgKG1ldGhvZCkgewogICAgICAgIHJldHVybiBtZXRob2QuYXBwbHkodGFyZ2V0LCBhcmd1bWVudHMpOwogICAgICB9CiAgICB9OwogIH0KCiAgLy8gSW1wbGVtZW50IGEgdmFndWUgZmFjc2ltaWxpZSBvZiBqUXVlcnkncyBkYXRhIG1ldGhvZAogIGZ1bmN0aW9uIGVsZW1lbnREYXRhKGVsLCBuYW1lLCB2YWx1ZSkgewogICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT0gMikgewogICAgICByZXR1cm4gZWxbImh0bWx3aWRnZXRfZGF0YV8iICsgbmFtZV07CiAgICB9IGVsc2UgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT0gMykgewogICAgICBlbFsiaHRtbHdpZGdldF9kYXRhXyIgKyBuYW1lXSA9IHZhbHVlOwogICAgICByZXR1cm4gZWw7CiAgICB9IGVsc2UgewogICAgICB0aHJvdyBuZXcgRXJyb3IoIldyb25nIG51bWJlciBvZiBhcmd1bWVudHMgZm9yIGVsZW1lbnREYXRhOiAiICsKICAgICAgICBhcmd1bWVudHMubGVuZ3RoKTsKICAgIH0KICB9CgogIC8vIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMzQ0NjE3MC9lc2NhcGUtc3RyaW5nLWZvci11c2UtaW4tamF2YXNjcmlwdC1yZWdleAogIGZ1bmN0aW9uIGVzY2FwZVJlZ0V4cChzdHIpIHsKICAgIHJldHVybiBzdHIucmVwbGFjZSgvW1wtXFtcXVwvXHtcfVwoXClcKlwrXD9cLlxcXF5cJFx8XS9nLCAiXFwkJiIpOwogIH0KCiAgZnVuY3Rpb24gaGFzQ2xhc3MoZWwsIGNsYXNzTmFtZSkgewogICAgdmFyIHJlID0gbmV3IFJlZ0V4cCgiXFxiIiArIGVzY2FwZVJlZ0V4cChjbGFzc05hbWUpICsgIlxcYiIpOwogICAgcmV0dXJuIHJlLnRlc3QoZWwuY2xhc3NOYW1lKTsKICB9CgogIC8vIGVsZW1lbnRzIC0gYXJyYXkgKG9yIGFycmF5LWxpa2Ugb2JqZWN0KSBvZiBIVE1MIGVsZW1lbnRzCiAgLy8gY2xhc3NOYW1lIC0gY2xhc3MgbmFtZSB0byB0ZXN0IGZvcgogIC8vIGluY2x1ZGUgLSBpZiB0cnVlLCBvbmx5IHJldHVybiBlbGVtZW50cyB3aXRoIGdpdmVuIGNsYXNzTmFtZTsKICAvLyAgIGlmIGZhbHNlLCBvbmx5IHJldHVybiBlbGVtZW50cyAqd2l0aG91dCogZ2l2ZW4gY2xhc3NOYW1lCiAgZnVuY3Rpb24gZmlsdGVyQnlDbGFzcyhlbGVtZW50cywgY2xhc3NOYW1lLCBpbmNsdWRlKSB7CiAgICB2YXIgcmVzdWx0cyA9IFtdOwogICAgZm9yICh2YXIgaSA9IDA7IGkgPCBlbGVtZW50cy5sZW5ndGg7IGkrKykgewogICAgICBpZiAoaGFzQ2xhc3MoZWxlbWVudHNbaV0sIGNsYXNzTmFtZSkgPT0gaW5jbHVkZSkKICAgICAgICByZXN1bHRzLnB1c2goZWxlbWVudHNbaV0pOwogICAgfQogICAgcmV0dXJuIHJlc3VsdHM7CiAgfQoKICBmdW5jdGlvbiBvbihvYmosIGV2ZW50TmFtZSwgZnVuYykgewogICAgaWYgKG9iai5hZGRFdmVudExpc3RlbmVyKSB7CiAgICAgIG9iai5hZGRFdmVudExpc3RlbmVyKGV2ZW50TmFtZSwgZnVuYywgZmFsc2UpOwogICAgfSBlbHNlIGlmIChvYmouYXR0YWNoRXZlbnQpIHsKICAgICAgb2JqLmF0dGFjaEV2ZW50KGV2ZW50TmFtZSwgZnVuYyk7CiAgICB9CiAgfQoKICBmdW5jdGlvbiBvZmYob2JqLCBldmVudE5hbWUsIGZ1bmMpIHsKICAgIGlmIChvYmoucmVtb3ZlRXZlbnRMaXN0ZW5lcikKICAgICAgb2JqLnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnROYW1lLCBmdW5jLCBmYWxzZSk7CiAgICBlbHNlIGlmIChvYmouZGV0YWNoRXZlbnQpIHsKICAgICAgb2JqLmRldGFjaEV2ZW50KGV2ZW50TmFtZSwgZnVuYyk7CiAgICB9CiAgfQoKICAvLyBUcmFuc2xhdGUgYXJyYXkgb2YgdmFsdWVzIHRvIHRvcC9yaWdodC9ib3R0b20vbGVmdCwgYXMgdXN1YWwgd2l0aAogIC8vIHRoZSAicGFkZGluZyIgQ1NTIHByb3BlcnR5CiAgLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQ1NTL3BhZGRpbmcKICBmdW5jdGlvbiB1bnBhY2tQYWRkaW5nKHZhbHVlKSB7CiAgICBpZiAodHlwZW9mKHZhbHVlKSA9PT0gIm51bWJlciIpCiAgICAgIHZhbHVlID0gW3ZhbHVlXTsKICAgIGlmICh2YWx1ZS5sZW5ndGggPT09IDEpIHsKICAgICAgcmV0dXJuIHt0b3A6IHZhbHVlWzBdLCByaWdodDogdmFsdWVbMF0sIGJvdHRvbTogdmFsdWVbMF0sIGxlZnQ6IHZhbHVlWzBdfTsKICAgIH0KICAgIGlmICh2YWx1ZS5sZW5ndGggPT09IDIpIHsKICAgICAgcmV0dXJuIHt0b3A6IHZhbHVlWzBdLCByaWdodDogdmFsdWVbMV0sIGJvdHRvbTogdmFsdWVbMF0sIGxlZnQ6IHZhbHVlWzFdfTsKICAgIH0KICAgIGlmICh2YWx1ZS5sZW5ndGggPT09IDMpIHsKICAgICAgcmV0dXJuIHt0b3A6IHZhbHVlWzBdLCByaWdodDogdmFsdWVbMV0sIGJvdHRvbTogdmFsdWVbMl0sIGxlZnQ6IHZhbHVlWzFdfTsKICAgIH0KICAgIGlmICh2YWx1ZS5sZW5ndGggPT09IDQpIHsKICAgICAgcmV0dXJuIHt0b3A6IHZhbHVlWzBdLCByaWdodDogdmFsdWVbMV0sIGJvdHRvbTogdmFsdWVbMl0sIGxlZnQ6IHZhbHVlWzNdfTsKICAgIH0KICB9CgogIC8vIENvbnZlcnQgYW4gdW5wYWNrZWQgcGFkZGluZyBvYmplY3QgdG8gYSBDU1MgdmFsdWUKICBmdW5jdGlvbiBwYWRkaW5nVG9Dc3MocGFkZGluZ09iaikgewogICAgcmV0dXJuIHBhZGRpbmdPYmoudG9wICsgInB4ICIgKyBwYWRkaW5nT2JqLnJpZ2h0ICsgInB4ICIgKyBwYWRkaW5nT2JqLmJvdHRvbSArICJweCAiICsgcGFkZGluZ09iai5sZWZ0ICsgInB4IjsKICB9CgogIC8vIE1ha2VzIGEgbnVtYmVyIHN1aXRhYmxlIGZvciBDU1MKICBmdW5jdGlvbiBweCh4KSB7CiAgICBpZiAodHlwZW9mKHgpID09PSAibnVtYmVyIikKICAgICAgcmV0dXJuIHggKyAicHgiOwogICAgZWxzZQogICAgICByZXR1cm4geDsKICB9CgogIC8vIFJldHJpZXZlcyBydW50aW1lIHdpZGdldCBzaXppbmcgaW5mb3JtYXRpb24gZm9yIGFuIGVsZW1lbnQuCiAgLy8gVGhlIHJldHVybiB2YWx1ZSBpcyBlaXRoZXIgbnVsbCwgb3IgYW4gb2JqZWN0IHdpdGggZmlsbCwgcGFkZGluZywKICAvLyBkZWZhdWx0V2lkdGgsIGRlZmF1bHRIZWlnaHQgZmllbGRzLgogIGZ1bmN0aW9uIHNpemluZ1BvbGljeShlbCkgewogICAgdmFyIHNpemluZ0VsID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcigic2NyaXB0W2RhdGEtZm9yPSciICsgZWwuaWQgKyAiJ11bdHlwZT0nYXBwbGljYXRpb24vaHRtbHdpZGdldC1zaXppbmcnXSIpOwogICAgaWYgKCFzaXppbmdFbCkKICAgICAgcmV0dXJuIG51bGw7CiAgICB2YXIgc3AgPSBKU09OLnBhcnNlKHNpemluZ0VsLnRleHRDb250ZW50IHx8IHNpemluZ0VsLnRleHQgfHwgInt9Iik7CiAgICBpZiAodmlld2VyTW9kZSkgewogICAgICByZXR1cm4gc3Audmlld2VyOwogICAgfSBlbHNlIHsKICAgICAgcmV0dXJuIHNwLmJyb3dzZXI7CiAgICB9CiAgfQoKICAvLyBAcGFyYW0gdGFza3MgQXJyYXkgb2Ygc3RyaW5ncyAob3IgZmFsc3kgdmFsdWUsIGluIHdoaWNoIGNhc2Ugbm8tb3ApLgogIC8vICAgRWFjaCBlbGVtZW50IG11c3QgYmUgYSB2YWxpZCBKYXZhU2NyaXB0IGV4cHJlc3Npb24gdGhhdCB5aWVsZHMgYQogIC8vICAgZnVuY3Rpb24uIE9yLCBjYW4gYmUgYW4gYXJyYXkgb2Ygb2JqZWN0cyB3aXRoICJjb2RlIiBhbmQgImRhdGEiCiAgLy8gICBwcm9wZXJ0aWVzOyBpbiB0aGlzIGNhc2UsIHRoZSAiY29kZSIgcHJvcGVydHkgc2hvdWxkIGJlIGEgc3RyaW5nCiAgLy8gICBvZiBKUyB0aGF0J3MgYW4gZXhwciB0aGF0IHlpZWxkcyBhIGZ1bmN0aW9uLCBhbmQgImRhdGEiIHNob3VsZCBiZQogIC8vICAgYW4gb2JqZWN0IHRoYXQgd2lsbCBiZSBhZGRlZCBhcyBhbiBhZGRpdGlvbmFsIGFyZ3VtZW50IHdoZW4gdGhhdAogIC8vICAgZnVuY3Rpb24gaXMgY2FsbGVkLgogIC8vIEBwYXJhbSB0YXJnZXQgVGhlIG9iamVjdCB0aGF0IHdpbGwgYmUgInRoaXMiIGZvciBlYWNoIGZ1bmN0aW9uCiAgLy8gICBleGVjdXRpb24uCiAgLy8gQHBhcmFtIGFyZ3MgQXJyYXkgb2YgYXJndW1lbnRzIHRvIGJlIHBhc3NlZCB0byB0aGUgZnVuY3Rpb25zLiAoVGhlCiAgLy8gICBzYW1lIGFyZ3VtZW50cyB3aWxsIGJlIHBhc3NlZCB0byBhbGwgZnVuY3Rpb25zLikKICBmdW5jdGlvbiBldmFsQW5kUnVuKHRhc2tzLCB0YXJnZXQsIGFyZ3MpIHsKICAgIGlmICh0YXNrcykgewogICAgICBmb3JFYWNoKHRhc2tzLCBmdW5jdGlvbih0YXNrKSB7CiAgICAgICAgdmFyIHRoZXNlQXJncyA9IGFyZ3M7CiAgICAgICAgaWYgKHR5cGVvZih0YXNrKSA9PT0gIm9iamVjdCIpIHsKICAgICAgICAgIHRoZXNlQXJncyA9IHRoZXNlQXJncy5jb25jYXQoW3Rhc2suZGF0YV0pOwogICAgICAgICAgdGFzayA9IHRhc2suY29kZTsKICAgICAgICB9CiAgICAgICAgdmFyIHRhc2tGdW5jID0gdHJ5RXZhbCh0YXNrKTsKICAgICAgICBpZiAodHlwZW9mKHRhc2tGdW5jKSAhPT0gImZ1bmN0aW9uIikgewogICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCJUYXNrIG11c3QgYmUgYSBmdW5jdGlvbiEgU291cmNlOlxuIiArIHRhc2spOwogICAgICAgIH0KICAgICAgICB0YXNrRnVuYy5hcHBseSh0YXJnZXQsIHRoZXNlQXJncyk7CiAgICAgIH0pOwogICAgfQogIH0KCiAgLy8gQXR0ZW1wdCBldmFsKCkgYm90aCB3aXRoIGFuZCB3aXRob3V0IGVuY2xvc2luZyBpbiBwYXJlbnRoZXNlcy4KICAvLyBOb3RlIHRoYXQgZW5jbG9zaW5nIGNvZXJjZXMgYSBmdW5jdGlvbiBkZWNsYXJhdGlvbiBpbnRvCiAgLy8gYW4gZXhwcmVzc2lvbiB0aGF0IGV2YWwoKSBjYW4gcGFyc2UKICAvLyAob3RoZXJ3aXNlLCBhIFN5bnRheEVycm9yIGlzIHRocm93bikKICBmdW5jdGlvbiB0cnlFdmFsKGNvZGUpIHsKICAgIHZhciByZXN1bHQgPSBudWxsOwogICAgdHJ5IHsKICAgICAgcmVzdWx0ID0gZXZhbCgiKCIgKyBjb2RlICsgIikiKTsKICAgIH0gY2F0Y2goZXJyb3IpIHsKICAgICAgaWYgKCEoZXJyb3IgaW5zdGFuY2VvZiBTeW50YXhFcnJvcikpIHsKICAgICAgICB0aHJvdyBlcnJvcjsKICAgICAgfQogICAgICB0cnkgewogICAgICAgIHJlc3VsdCA9IGV2YWwoY29kZSk7CiAgICAgIH0gY2F0Y2goZSkgewogICAgICAgIGlmIChlIGluc3RhbmNlb2YgU3ludGF4RXJyb3IpIHsKICAgICAgICAgIHRocm93IGVycm9yOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aHJvdyBlOwogICAgICAgIH0KICAgICAgfQogICAgfQogICAgcmV0dXJuIHJlc3VsdDsKICB9CgogIGZ1bmN0aW9uIGluaXRTaXppbmcoZWwpIHsKICAgIHZhciBzaXppbmcgPSBzaXppbmdQb2xpY3koZWwpOwogICAgaWYgKCFzaXppbmcpCiAgICAgIHJldHVybjsKCiAgICB2YXIgY2VsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImh0bWx3aWRnZXRfY29udGFpbmVyIik7CiAgICBpZiAoIWNlbCkKICAgICAgcmV0dXJuOwoKICAgIGlmICh0eXBlb2Yoc2l6aW5nLnBhZGRpbmcpICE9PSAidW5kZWZpbmVkIikgewogICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLm1hcmdpbiA9ICIwIjsKICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5wYWRkaW5nID0gcGFkZGluZ1RvQ3NzKHVucGFja1BhZGRpbmcoc2l6aW5nLnBhZGRpbmcpKTsKICAgIH0KCiAgICBpZiAoc2l6aW5nLmZpbGwpIHsKICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdyA9ICJoaWRkZW4iOwogICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLndpZHRoID0gIjEwMCUiOwogICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLmhlaWdodCA9ICIxMDAlIjsKICAgICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlLndpZHRoID0gIjEwMCUiOwogICAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGUuaGVpZ2h0ID0gIjEwMCUiOwogICAgICBpZiAoY2VsKSB7CiAgICAgICAgY2VsLnN0eWxlLnBvc2l0aW9uID0gImFic29sdXRlIjsKICAgICAgICB2YXIgcGFkID0gdW5wYWNrUGFkZGluZyhzaXppbmcucGFkZGluZyk7CiAgICAgICAgY2VsLnN0eWxlLnRvcCA9IHBhZC50b3AgKyAicHgiOwogICAgICAgIGNlbC5zdHlsZS5yaWdodCA9IHBhZC5yaWdodCArICJweCI7CiAgICAgICAgY2VsLnN0eWxlLmJvdHRvbSA9IHBhZC5ib3R0b20gKyAicHgiOwogICAgICAgIGNlbC5zdHlsZS5sZWZ0ID0gcGFkLmxlZnQgKyAicHgiOwogICAgICAgIGVsLnN0eWxlLndpZHRoID0gIjEwMCUiOwogICAgICAgIGVsLnN0eWxlLmhlaWdodCA9ICIxMDAlIjsKICAgICAgfQoKICAgICAgcmV0dXJuIHsKICAgICAgICBnZXRXaWR0aDogZnVuY3Rpb24oKSB7IHJldHVybiBjZWwub2Zmc2V0V2lkdGg7IH0sCiAgICAgICAgZ2V0SGVpZ2h0OiBmdW5jdGlvbigpIHsgcmV0dXJuIGNlbC5vZmZzZXRIZWlnaHQ7IH0KICAgICAgfTsKCiAgICB9IGVsc2UgewogICAgICBlbC5zdHlsZS53aWR0aCA9IHB4KHNpemluZy53aWR0aCk7CiAgICAgIGVsLnN0eWxlLmhlaWdodCA9IHB4KHNpemluZy5oZWlnaHQpOwoKICAgICAgcmV0dXJuIHsKICAgICAgICBnZXRXaWR0aDogZnVuY3Rpb24oKSB7IHJldHVybiBlbC5vZmZzZXRXaWR0aDsgfSwKICAgICAgICBnZXRIZWlnaHQ6IGZ1bmN0aW9uKCkgeyByZXR1cm4gZWwub2Zmc2V0SGVpZ2h0OyB9CiAgICAgIH07CiAgICB9CiAgfQoKICAvLyBEZWZhdWx0IGltcGxlbWVudGF0aW9ucyBmb3IgbWV0aG9kcwogIHZhciBkZWZhdWx0cyA9IHsKICAgIGZpbmQ6IGZ1bmN0aW9uKHNjb3BlKSB7CiAgICAgIHJldHVybiBxdWVyeVNlbGVjdG9yQWxsKHNjb3BlLCAiLiIgKyB0aGlzLm5hbWUpOwogICAgfSwKICAgIHJlbmRlckVycm9yOiBmdW5jdGlvbihlbCwgZXJyKSB7CiAgICAgIHZhciAkZWwgPSAkKGVsKTsKCiAgICAgIHRoaXMuY2xlYXJFcnJvcihlbCk7CgogICAgICAvLyBBZGQgYWxsIHRoZXNlIGVycm9yIGNsYXNzZXMsIGFzIFNoaW55IGRvZXMKICAgICAgdmFyIGVyckNsYXNzID0gInNoaW55LW91dHB1dC1lcnJvciI7CiAgICAgIGlmIChlcnIudHlwZSAhPT0gbnVsbCkgewogICAgICAgIC8vIHVzZSB0aGUgY2xhc3NlcyBvZiB0aGUgZXJyb3IgY29uZGl0aW9uIGFzIENTUyBjbGFzcyBuYW1lcwogICAgICAgIGVyckNsYXNzID0gZXJyQ2xhc3MgKyAiICIgKyAkLm1hcChhc0FycmF5KGVyci50eXBlKSwgZnVuY3Rpb24odHlwZSkgewogICAgICAgICAgcmV0dXJuIGVyckNsYXNzICsgIi0iICsgdHlwZTsKICAgICAgICB9KS5qb2luKCIgIik7CiAgICAgIH0KICAgICAgZXJyQ2xhc3MgPSBlcnJDbGFzcyArICIgaHRtbHdpZGdldHMtZXJyb3IiOwoKICAgICAgLy8gSXMgZWwgaW5saW5lIG9yIGJsb2NrPyBJZiBpbmxpbmUgb3IgaW5saW5lLWJsb2NrLCBqdXN0IGRpc3BsYXk6bm9uZSBpdAogICAgICAvLyBhbmQgYWRkIGFuIGlubGluZSBlcnJvci4KICAgICAgdmFyIGRpc3BsYXkgPSAkZWwuY3NzKCJkaXNwbGF5Iik7CiAgICAgICRlbC5kYXRhKCJyZXN0b3JlLWRpc3BsYXktbW9kZSIsIGRpc3BsYXkpOwoKICAgICAgaWYgKGRpc3BsYXkgPT09ICJpbmxpbmUiIHx8IGRpc3BsYXkgPT09ICJpbmxpbmUtYmxvY2siKSB7CiAgICAgICAgJGVsLmhpZGUoKTsKICAgICAgICBpZiAoZXJyLm1lc3NhZ2UgIT09ICIiKSB7CiAgICAgICAgICB2YXIgZXJyb3JTcGFuID0gJCgiPHNwYW4+IikuYWRkQ2xhc3MoZXJyQ2xhc3MpOwogICAgICAgICAgZXJyb3JTcGFuLnRleHQoZXJyLm1lc3NhZ2UpOwogICAgICAgICAgJGVsLmFmdGVyKGVycm9yU3Bhbik7CiAgICAgICAgfQogICAgICB9IGVsc2UgaWYgKGRpc3BsYXkgPT09ICJibG9jayIpIHsKICAgICAgICAvLyBJZiBibG9jaywgYWRkIGFuIGVycm9yIGp1c3QgYWZ0ZXIgdGhlIGVsLCBzZXQgdmlzaWJpbGl0eTpub25lIG9uIHRoZQogICAgICAgIC8vIGVsLCBhbmQgcG9zaXRpb24gdGhlIGVycm9yIHRvIGJlIG9uIHRvcCBvZiB0aGUgZWwuCiAgICAgICAgLy8gTWFyayBpdCB3aXRoIGEgdW5pcXVlIElEIGFuZCBDU1MgY2xhc3Mgc28gd2UgY2FuIHJlbW92ZSBpdCBsYXRlci4KICAgICAgICAkZWwuY3NzKCJ2aXNpYmlsaXR5IiwgImhpZGRlbiIpOwogICAgICAgIGlmIChlcnIubWVzc2FnZSAhPT0gIiIpIHsKICAgICAgICAgIHZhciBlcnJvckRpdiA9ICQoIjxkaXY+IikuYWRkQ2xhc3MoZXJyQ2xhc3MpLmNzcygicG9zaXRpb24iLCAiYWJzb2x1dGUiKQogICAgICAgICAgICAuY3NzKCJ0b3AiLCBlbC5vZmZzZXRUb3ApCiAgICAgICAgICAgIC5jc3MoImxlZnQiLCBlbC5vZmZzZXRMZWZ0KQogICAgICAgICAgICAvLyBzZXR0aW5nIHdpZHRoIGNhbiBwdXNoIG91dCB0aGUgcGFnZSBzaXplLCBmb3JjaW5nIG90aGVyd2lzZQogICAgICAgICAgICAvLyB1bm5lY2Vzc2FyeSBzY3JvbGxiYXJzIHRvIGFwcGVhciBhbmQgbWFraW5nIGl0IGltcG9zc2libGUgZm9yCiAgICAgICAgICAgIC8vIHRoZSBlbGVtZW50IHRvIHNocmluazsgc28gdXNlIG1heC13aWR0aCBpbnN0ZWFkCiAgICAgICAgICAgIC5jc3MoIm1heFdpZHRoIiwgZWwub2Zmc2V0V2lkdGgpCiAgICAgICAgICAgIC5jc3MoImhlaWdodCIsIGVsLm9mZnNldEhlaWdodCk7CiAgICAgICAgICBlcnJvckRpdi50ZXh0KGVyci5tZXNzYWdlKTsKICAgICAgICAgICRlbC5hZnRlcihlcnJvckRpdik7CgogICAgICAgICAgLy8gUmVhbGx5IGR1bWIgd2F5IHRvIGtlZXAgdGhlIHNpemUvcG9zaXRpb24gb2YgdGhlIGVycm9yIGluIHN5bmMgd2l0aAogICAgICAgICAgLy8gdGhlIHBhcmVudCBlbGVtZW50IGFzIHRoZSB3aW5kb3cgaXMgcmVzaXplZCBvciB3aGF0ZXZlci4KICAgICAgICAgIHZhciBpbnRJZCA9IHNldEludGVydmFsKGZ1bmN0aW9uKCkgewogICAgICAgICAgICBpZiAoIWVycm9yRGl2WzBdLnBhcmVudEVsZW1lbnQpIHsKICAgICAgICAgICAgICBjbGVhckludGVydmFsKGludElkKTsKICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZXJyb3JEaXYKICAgICAgICAgICAgICAuY3NzKCJ0b3AiLCBlbC5vZmZzZXRUb3ApCiAgICAgICAgICAgICAgLmNzcygibGVmdCIsIGVsLm9mZnNldExlZnQpCiAgICAgICAgICAgICAgLmNzcygibWF4V2lkdGgiLCBlbC5vZmZzZXRXaWR0aCkKICAgICAgICAgICAgICAuY3NzKCJoZWlnaHQiLCBlbC5vZmZzZXRIZWlnaHQpOwogICAgICAgICAgfSwgNTAwKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICBjbGVhckVycm9yOiBmdW5jdGlvbihlbCkgewogICAgICB2YXIgJGVsID0gJChlbCk7CiAgICAgIHZhciBkaXNwbGF5ID0gJGVsLmRhdGEoInJlc3RvcmUtZGlzcGxheS1tb2RlIik7CiAgICAgICRlbC5kYXRhKCJyZXN0b3JlLWRpc3BsYXktbW9kZSIsIG51bGwpOwoKICAgICAgaWYgKGRpc3BsYXkgPT09ICJpbmxpbmUiIHx8IGRpc3BsYXkgPT09ICJpbmxpbmUtYmxvY2siKSB7CiAgICAgICAgaWYgKGRpc3BsYXkpCiAgICAgICAgICAkZWwuY3NzKCJkaXNwbGF5IiwgZGlzcGxheSk7CiAgICAgICAgJChlbC5uZXh0U2libGluZykuZmlsdGVyKCIuaHRtbHdpZGdldHMtZXJyb3IiKS5yZW1vdmUoKTsKICAgICAgfSBlbHNlIGlmIChkaXNwbGF5ID09PSAiYmxvY2siKXsKICAgICAgICAkZWwuY3NzKCJ2aXNpYmlsaXR5IiwgImluaGVyaXQiKTsKICAgICAgICAkKGVsLm5leHRTaWJsaW5nKS5maWx0ZXIoIi5odG1sd2lkZ2V0cy1lcnJvciIpLnJlbW92ZSgpOwogICAgICB9CiAgICB9LAogICAgc2l6aW5nOiB7fQogIH07CgogIC8vIENhbGxlZCBieSB3aWRnZXQgYmluZGluZ3MgdG8gcmVnaXN0ZXIgYSBuZXcgdHlwZSBvZiB3aWRnZXQuIFRoZSBkZWZpbml0aW9uCiAgLy8gb2JqZWN0IGNhbiBjb250YWluIHRoZSBmb2xsb3dpbmcgcHJvcGVydGllczoKICAvLyAtIG5hbWUgKHJlcXVpcmVkKSAtIEEgc3RyaW5nIGluZGljYXRpbmcgdGhlIGJpbmRpbmcgbmFtZSwgd2hpY2ggd2lsbCBiZQogIC8vICAgdXNlZCBieSBkZWZhdWx0IGFzIHRoZSBDU1MgY2xhc3NuYW1lIHRvIGxvb2sgZm9yLgogIC8vIC0gaW5pdGlhbGl6ZSAob3B0aW9uYWwpIC0gQSBmdW5jdGlvbihlbCkgdGhhdCB3aWxsIGJlIGNhbGxlZCBvbmNlIHBlcgogIC8vICAgd2lkZ2V0IGVsZW1lbnQ7IGlmIGEgdmFsdWUgaXMgcmV0dXJuZWQsIGl0IHdpbGwgYmUgcGFzc2VkIGFzIHRoZSB0aGlyZAogIC8vICAgdmFsdWUgdG8gcmVuZGVyVmFsdWUuCiAgLy8gLSByZW5kZXJWYWx1ZSAocmVxdWlyZWQpIC0gQSBmdW5jdGlvbihlbCwgZGF0YSwgaW5pdFZhbHVlKSB0aGF0IHdpbGwgYmUKICAvLyAgIGNhbGxlZCB3aXRoIGRhdGEuIFN0YXRpYyBjb250ZXh0cyB3aWxsIGNhdXNlIHRoaXMgdG8gYmUgY2FsbGVkIG9uY2UgcGVyCiAgLy8gICBlbGVtZW50OyBTaGlueSBhcHBzIHdpbGwgY2F1c2UgdGhpcyB0byBiZSBjYWxsZWQgbXVsdGlwbGUgdGltZXMgcGVyCiAgLy8gICBlbGVtZW50LCBhcyB0aGUgZGF0YSBjaGFuZ2VzLgogIHdpbmRvdy5IVE1MV2lkZ2V0cy53aWRnZXQgPSBmdW5jdGlvbihkZWZpbml0aW9uKSB7CiAgICBpZiAoIWRlZmluaXRpb24ubmFtZSkgewogICAgICB0aHJvdyBuZXcgRXJyb3IoIldpZGdldCBtdXN0IGhhdmUgYSBuYW1lIik7CiAgICB9CiAgICBpZiAoIWRlZmluaXRpb24udHlwZSkgewogICAgICB0aHJvdyBuZXcgRXJyb3IoIldpZGdldCBtdXN0IGhhdmUgYSB0eXBlIik7CiAgICB9CiAgICAvLyBDdXJyZW50bHkgd2Ugb25seSBzdXBwb3J0IG91dHB1dCB3aWRnZXRzCiAgICBpZiAoZGVmaW5pdGlvbi50eXBlICE9PSAib3V0cHV0IikgewogICAgICB0aHJvdyBuZXcgRXJyb3IoIlVucmVjb2duaXplZCB3aWRnZXQgdHlwZSAnIiArIGRlZmluaXRpb24udHlwZSArICInIik7CiAgICB9CiAgICAvLyBUT0RPOiBWZXJpZnkgdGhhdCAubmFtZSBpcyBhIHZhbGlkIENTUyBjbGFzc25hbWUKCiAgICAvLyBTdXBwb3J0IG5ldy1zdHlsZSBpbnN0YW5jZS1ib3VuZCBkZWZpbml0aW9ucy4gT2xkLXN0eWxlIGNsYXNzLWJvdW5kCiAgICAvLyBkZWZpbml0aW9ucyBoYXZlIG9uZSB3aWRnZXQgIm9iamVjdCIgcGVyIHdpZGdldCBwZXIgdHlwZS9jbGFzcyBvZgogICAgLy8gd2lkZ2V0OyB0aGUgcmVuZGVyVmFsdWUgYW5kIHJlc2l6ZSBtZXRob2RzIG9uIHN1Y2ggd2lkZ2V0IG9iamVjdHMKICAgIC8vIHRha2UgZWwgYW5kIGluc3RhbmNlIGFyZ3VtZW50cywgYmVjYXVzZSB0aGUgd2lkZ2V0IG9iamVjdCBjYW4ndAogICAgLy8gc3RvcmUgdGhlbS4gTmV3LXN0eWxlIGluc3RhbmNlLWJvdW5kIGRlZmluaXRpb25zIGhhdmUgb25lIHdpZGdldAogICAgLy8gb2JqZWN0IHBlciB3aWRnZXQgaW5zdGFuY2U7IHRoZSBkZWZpbml0aW9uIHRoYXQncyBwYXNzZWQgaW4gZG9lc24ndAogICAgLy8gcHJvdmlkZSByZW5kZXJWYWx1ZSBvciByZXNpemUgbWV0aG9kcyBhdCBhbGwsIGp1c3QgdGhlIHNpbmdsZSBtZXRob2QKICAgIC8vICAgZmFjdG9yeShlbCwgd2lkdGgsIGhlaWdodCkKICAgIC8vIHdoaWNoIHJldHVybnMgYW4gb2JqZWN0IHRoYXQgaGFzIHJlbmRlclZhbHVlKHgpIGFuZCByZXNpemUodywgaCkuCiAgICAvLyBUaGlzIGVuYWJsZXMgYSBmYXIgbW9yZSBuYXR1cmFsIHByb2dyYW1taW5nIHN0eWxlIGZvciB0aGUgd2lkZ2V0CiAgICAvLyBhdXRob3IsIHdobyBjYW4gc3RvcmUgcGVyLWluc3RhbmNlIHN0YXRlIHVzaW5nIGVpdGhlciBPTy1zdHlsZQogICAgLy8gaW5zdGFuY2UgZmllbGRzIG9yIGZ1bmN0aW9uYWwtc3R5bGUgY2xvc3VyZSB2YXJpYWJsZXMgKEkgZ3Vlc3MgdGhpcwogICAgLy8gaXMgaW4gY29udHJhc3QgdG8gd2hhdCBjYW4gb25seSBiZSBjYWxsZWQgQy1zdHlsZSBwc2V1ZG8tT08gd2hpY2ggaXMKICAgIC8vIHdoYXQgd2UgcmVxdWlyZWQgYmVmb3JlKS4KICAgIGlmIChkZWZpbml0aW9uLmZhY3RvcnkpIHsKICAgICAgZGVmaW5pdGlvbiA9IGNyZWF0ZUxlZ2FjeURlZmluaXRpb25BZGFwdGVyKGRlZmluaXRpb24pOwogICAgfQoKICAgIGlmICghZGVmaW5pdGlvbi5yZW5kZXJWYWx1ZSkgewogICAgICB0aHJvdyBuZXcgRXJyb3IoIldpZGdldCBtdXN0IGhhdmUgYSByZW5kZXJWYWx1ZSBmdW5jdGlvbiIpOwogICAgfQoKICAgIC8vIEZvciBzdGF0aWMgcmVuZGVyaW5nIChub24tU2hpbnkpLCB1c2UgYSBzaW1wbGUgd2lkZ2V0IHJlZ2lzdHJhdGlvbgogICAgLy8gc2NoZW1lLiBXZSBhbHNvIHVzZSB0aGlzIHNjaGVtZSBmb3IgU2hpbnkgYXBwcy9kb2N1bWVudHMgdGhhdCBhbHNvCiAgICAvLyBjb250YWluIHN0YXRpYyB3aWRnZXRzLgogICAgd2luZG93LkhUTUxXaWRnZXRzLndpZGdldHMgPSB3aW5kb3cuSFRNTFdpZGdldHMud2lkZ2V0cyB8fCBbXTsKICAgIC8vIE1lcmdlIGRlZmF1bHRzIGludG8gdGhlIGRlZmluaXRpb247IGRvbid0IG11dGF0ZSB0aGUgb3JpZ2luYWwgZGVmaW5pdGlvbi4KICAgIHZhciBzdGF0aWNCaW5kaW5nID0gZXh0ZW5kKHt9LCBkZWZhdWx0cywgZGVmaW5pdGlvbik7CiAgICBvdmVycmlkZU1ldGhvZChzdGF0aWNCaW5kaW5nLCAiZmluZCIsIGZ1bmN0aW9uKHN1cGVyZnVuYykgewogICAgICByZXR1cm4gZnVuY3Rpb24oc2NvcGUpIHsKICAgICAgICB2YXIgcmVzdWx0cyA9IHN1cGVyZnVuYyhzY29wZSk7CiAgICAgICAgLy8gRmlsdGVyIG91dCBTaGlueSBvdXRwdXRzLCB3ZSBvbmx5IHdhbnQgdGhlIHN0YXRpYyBraW5kCiAgICAgICAgcmV0dXJuIGZpbHRlckJ5Q2xhc3MocmVzdWx0cywgImh0bWwtd2lkZ2V0LW91dHB1dCIsIGZhbHNlKTsKICAgICAgfTsKICAgIH0pOwogICAgd2luZG93LkhUTUxXaWRnZXRzLndpZGdldHMucHVzaChzdGF0aWNCaW5kaW5nKTsKCiAgICBpZiAoc2hpbnlNb2RlKSB7CiAgICAgIC8vIFNoaW55IGlzIHJ1bm5pbmcuIFJlZ2lzdGVyIHRoZSBkZWZpbml0aW9uIHdpdGggYW4gb3V0cHV0IGJpbmRpbmcuCiAgICAgIC8vIFRoZSBkZWZpbml0aW9uIGl0c2VsZiB3aWxsIG5vdCBiZSB0aGUgb3V0cHV0IGJpbmRpbmcsIGluc3RlYWQKICAgICAgLy8gd2Ugd2lsbCBtYWtlIGFuIG91dHB1dCBiaW5kaW5nIG9iamVjdCB0aGF0IGRlbGVnYXRlcyB0byB0aGUKICAgICAgLy8gZGVmaW5pdGlvbi4gVGhpcyBpcyBiZWNhdXNlIHdlIGZvb2xpc2hseSB1c2VkIHRoZSBzYW1lIG1ldGhvZAogICAgICAvLyBuYW1lIChyZW5kZXJWYWx1ZSkgZm9yIGh0bWx3aWRnZXRzIGRlZmluaXRpb24gYW5kIFNoaW55IGJpbmRpbmdzCiAgICAgIC8vIGJ1dCB0aGV5IGFjdHVhbGx5IGhhdmUgcXVpdGUgZGlmZmVyZW50IHNlbWFudGljcyAodGhlIFNoaW55CiAgICAgIC8vIGJpbmRpbmdzIHJlY2VpdmUgZGF0YSB0aGF0IGluY2x1ZGVzIGxvdHMgb2YgbWV0YWRhdGEgdGhhdCBpdAogICAgICAvLyBzdHJpcHMgb2ZmIGJlZm9yZSBjYWxsaW5nIGh0bWx3aWRnZXRzIHJlbmRlclZhbHVlKS4gV2UgY2FuJ3QKICAgICAgLy8ganVzdCBpZ25vcmUgdGhlIGRpZmZlcmVuY2UgYmVjYXVzZSBpbiBzb21lIHdpZGdldHMgaXQncyBoZWxwZnVsCiAgICAgIC8vIHRvIGNhbGwgdGhpcy5yZW5kZXJWYWx1ZSgpIGZyb20gaW5zaWRlIG9mIHJlc2l6ZSgpLCBhbmQgaWYKICAgICAgLy8gd2UncmUgbm90IGRlbGVnYXRpbmcsIHRoZW4gdGhhdCBjYWxsIHdpbGwgZ28gdG8gdGhlIFNoaW55CiAgICAgIC8vIHZlcnNpb24gaW5zdGVhZCBvZiB0aGUgaHRtbHdpZGdldHMgdmVyc2lvbi4KCiAgICAgIC8vIE1lcmdlIGRlZmF1bHRzIHdpdGggZGVmaW5pdGlvbiwgd2l0aG91dCBtdXRhdGluZyBlaXRoZXIuCiAgICAgIHZhciBiaW5kaW5nRGVmID0gZXh0ZW5kKHt9LCBkZWZhdWx0cywgZGVmaW5pdGlvbik7CgogICAgICAvLyBUaGlzIG9iamVjdCB3aWxsIGJlIG91ciBhY3R1YWwgU2hpbnkgYmluZGluZy4KICAgICAgdmFyIHNoaW55QmluZGluZyA9IG5ldyBTaGlueS5PdXRwdXRCaW5kaW5nKCk7CgogICAgICAvLyBXaXRoIGEgZmV3IGV4Y2VwdGlvbnMsIHdlJ2xsIHdhbnQgdG8gc2ltcGx5IHVzZSB0aGUgYmluZGluZ0RlZidzCiAgICAgIC8vIHZlcnNpb24gb2YgbWV0aG9kcyBpZiB0aGV5IGFyZSBhdmFpbGFibGUsIG90aGVyd2lzZSBmYWxsIGJhY2sgdG8KICAgICAgLy8gU2hpbnkncyBkZWZhdWx0cy4gTk9URTogSWYgU2hpbnkncyBvdXRwdXQgYmluZGluZ3MgZ2FpbiBhZGRpdGlvbmFsCiAgICAgIC8vIG1ldGhvZHMgaW4gdGhlIGZ1dHVyZSwgYW5kIHdlIHdhbnQgdGhlbSB0byBiZSBvdmVycmlkZWFibGUgYnkKICAgICAgLy8gSFRNTFdpZGdldCBiaW5kaW5nIGRlZmluaXRpb25zLCB0aGVuIHdlJ2xsIG5lZWQgdG8gYWRkIHRoZW0gdG8gdGhpcwogICAgICAvLyBsaXN0LgogICAgICBkZWxlZ2F0ZU1ldGhvZChzaGlueUJpbmRpbmcsIGJpbmRpbmdEZWYsICJnZXRJZCIpOwogICAgICBkZWxlZ2F0ZU1ldGhvZChzaGlueUJpbmRpbmcsIGJpbmRpbmdEZWYsICJvblZhbHVlQ2hhbmdlIik7CiAgICAgIGRlbGVnYXRlTWV0aG9kKHNoaW55QmluZGluZywgYmluZGluZ0RlZiwgIm9uVmFsdWVFcnJvciIpOwogICAgICBkZWxlZ2F0ZU1ldGhvZChzaGlueUJpbmRpbmcsIGJpbmRpbmdEZWYsICJyZW5kZXJFcnJvciIpOwogICAgICBkZWxlZ2F0ZU1ldGhvZChzaGlueUJpbmRpbmcsIGJpbmRpbmdEZWYsICJjbGVhckVycm9yIik7CiAgICAgIGRlbGVnYXRlTWV0aG9kKHNoaW55QmluZGluZywgYmluZGluZ0RlZiwgInNob3dQcm9ncmVzcyIpOwoKICAgICAgLy8gVGhlIGZpbmQsIHJlbmRlclZhbHVlLCBhbmQgcmVzaXplIGFyZSBoYW5kbGVkIGRpZmZlcmVudGx5LCBiZWNhdXNlIHdlCiAgICAgIC8vIHdhbnQgdG8gYWN0dWFsbHkgZGVjb3JhdGUgdGhlIGJlaGF2aW9yIG9mIHRoZSBiaW5kaW5nRGVmIG1ldGhvZHMuCgogICAgICBzaGlueUJpbmRpbmcuZmluZCA9IGZ1bmN0aW9uKHNjb3BlKSB7CiAgICAgICAgdmFyIHJlc3VsdHMgPSBiaW5kaW5nRGVmLmZpbmQoc2NvcGUpOwoKICAgICAgICAvLyBPbmx5IHJldHVybiBlbGVtZW50cyB0aGF0IGFyZSBTaGlueSBvdXRwdXRzLCBub3Qgc3RhdGljIG9uZXMKICAgICAgICB2YXIgZHluYW1pY1Jlc3VsdHMgPSByZXN1bHRzLmZpbHRlcigiLmh0bWwtd2lkZ2V0LW91dHB1dCIpOwoKICAgICAgICAvLyBJdCdzIHBvc3NpYmxlIHRoYXQgd2hhdGV2ZXIgY2F1c2VkIFNoaW55IHRvIHRoaW5rIHRoZXJlIG1pZ2h0IGJlCiAgICAgICAgLy8gbmV3IGR5bmFtaWMgb3V0cHV0cywgYWxzbyBjYXVzZWQgdGhlcmUgdG8gYmUgbmV3IHN0YXRpYyBvdXRwdXRzLgogICAgICAgIC8vIFNpbmNlIHRoZXJlIG1pZ2h0IGJlIGxvdHMgb2YgZGlmZmVyZW50IGh0bWx3aWRnZXRzIGJpbmRpbmdzLCB3ZQogICAgICAgIC8vIHNjaGVkdWxlIGV4ZWN1dGlvbiBmb3IgbGF0ZXItLW5vIG5lZWQgdG8gc3RhdGljUmVuZGVyIG11bHRpcGxlCiAgICAgICAgLy8gdGltZXMuCiAgICAgICAgaWYgKHJlc3VsdHMubGVuZ3RoICE9PSBkeW5hbWljUmVzdWx0cy5sZW5ndGgpCiAgICAgICAgICBzY2hlZHVsZVN0YXRpY1JlbmRlcigpOwoKICAgICAgICByZXR1cm4gZHluYW1pY1Jlc3VsdHM7CiAgICAgIH07CgogICAgICAvLyBXcmFwIHJlbmRlclZhbHVlIHRvIGhhbmRsZSBpbml0aWFsaXphdGlvbiwgd2hpY2ggdW5mb3J0dW5hdGVseSBpc24ndAogICAgICAvLyBzdXBwb3J0ZWQgbmF0aXZlbHkgYnkgU2hpbnkgYXQgdGhlIHRpbWUgb2YgdGhpcyB3cml0aW5nLgoKICAgICAgc2hpbnlCaW5kaW5nLnJlbmRlclZhbHVlID0gZnVuY3Rpb24oZWwsIGRhdGEpIHsKICAgICAgICBTaGlueS5yZW5kZXJEZXBlbmRlbmNpZXMoZGF0YS5kZXBzKTsKICAgICAgICAvLyBSZXNvbHZlIHN0cmluZ3MgbWFya2VkIGFzIGphdmFzY3JpcHQgbGl0ZXJhbHMgdG8gb2JqZWN0cwogICAgICAgIGlmICghKGRhdGEuZXZhbHMgaW5zdGFuY2VvZiBBcnJheSkpIGRhdGEuZXZhbHMgPSBbZGF0YS5ldmFsc107CiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGRhdGEuZXZhbHMgJiYgaSA8IGRhdGEuZXZhbHMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgIHdpbmRvdy5IVE1MV2lkZ2V0cy5ldmFsdWF0ZVN0cmluZ01lbWJlcihkYXRhLngsIGRhdGEuZXZhbHNbaV0pOwogICAgICAgIH0KICAgICAgICBpZiAoIWJpbmRpbmdEZWYucmVuZGVyT25OdWxsVmFsdWUpIHsKICAgICAgICAgIGlmIChkYXRhLnggPT09IG51bGwpIHsKICAgICAgICAgICAgZWwuc3R5bGUudmlzaWJpbGl0eSA9ICJoaWRkZW4iOwogICAgICAgICAgICByZXR1cm47CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBlbC5zdHlsZS52aXNpYmlsaXR5ID0gImluaGVyaXQiOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBpZiAoIWVsZW1lbnREYXRhKGVsLCAiaW5pdGlhbGl6ZWQiKSkgewogICAgICAgICAgaW5pdFNpemluZyhlbCk7CgogICAgICAgICAgZWxlbWVudERhdGEoZWwsICJpbml0aWFsaXplZCIsIHRydWUpOwogICAgICAgICAgaWYgKGJpbmRpbmdEZWYuaW5pdGlhbGl6ZSkgewogICAgICAgICAgICB2YXIgcmVzdWx0ID0gYmluZGluZ0RlZi5pbml0aWFsaXplKGVsLCBlbC5vZmZzZXRXaWR0aCwKICAgICAgICAgICAgICBlbC5vZmZzZXRIZWlnaHQpOwogICAgICAgICAgICBlbGVtZW50RGF0YShlbCwgImluaXRfcmVzdWx0IiwgcmVzdWx0KTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgYmluZGluZ0RlZi5yZW5kZXJWYWx1ZShlbCwgZGF0YS54LCBlbGVtZW50RGF0YShlbCwgImluaXRfcmVzdWx0IikpOwogICAgICAgIGV2YWxBbmRSdW4oZGF0YS5qc0hvb2tzLnJlbmRlciwgZWxlbWVudERhdGEoZWwsICJpbml0X3Jlc3VsdCIpLCBbZWwsIGRhdGEueF0pOwogICAgICB9OwoKICAgICAgLy8gT25seSBvdmVycmlkZSByZXNpemUgaWYgYmluZGluZ0RlZiBpbXBsZW1lbnRzIGl0CiAgICAgIGlmIChiaW5kaW5nRGVmLnJlc2l6ZSkgewogICAgICAgIHNoaW55QmluZGluZy5yZXNpemUgPSBmdW5jdGlvbihlbCwgd2lkdGgsIGhlaWdodCkgewogICAgICAgICAgLy8gU2hpbnkgY2FuIGNhbGwgcmVzaXplIGJlZm9yZSBpbml0aWFsaXplL3JlbmRlclZhbHVlIGhhdmUgYmVlbgogICAgICAgICAgLy8gY2FsbGVkLCB3aGljaCBkb2Vzbid0IG1ha2Ugc2Vuc2UgZm9yIHdpZGdldHMuCiAgICAgICAgICBpZiAoZWxlbWVudERhdGEoZWwsICJpbml0aWFsaXplZCIpKSB7CiAgICAgICAgICAgIGJpbmRpbmdEZWYucmVzaXplKGVsLCB3aWR0aCwgaGVpZ2h0LCBlbGVtZW50RGF0YShlbCwgImluaXRfcmVzdWx0IikpOwogICAgICAgICAgfQogICAgICAgIH07CiAgICAgIH0KCiAgICAgIFNoaW55Lm91dHB1dEJpbmRpbmdzLnJlZ2lzdGVyKHNoaW55QmluZGluZywgYmluZGluZ0RlZi5uYW1lKTsKICAgIH0KICB9OwoKICB2YXIgc2NoZWR1bGVTdGF0aWNSZW5kZXJUaW1lcklkID0gbnVsbDsKICBmdW5jdGlvbiBzY2hlZHVsZVN0YXRpY1JlbmRlcigpIHsKICAgIGlmICghc2NoZWR1bGVTdGF0aWNSZW5kZXJUaW1lcklkKSB7CiAgICAgIHNjaGVkdWxlU3RhdGljUmVuZGVyVGltZXJJZCA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CiAgICAgICAgc2NoZWR1bGVTdGF0aWNSZW5kZXJUaW1lcklkID0gbnVsbDsKICAgICAgICB3aW5kb3cuSFRNTFdpZGdldHMuc3RhdGljUmVuZGVyKCk7CiAgICAgIH0sIDEpOwogICAgfQogIH0KCiAgLy8gUmVuZGVyIHN0YXRpYyB3aWRnZXRzIGFmdGVyIHRoZSBkb2N1bWVudCBmaW5pc2hlcyBsb2FkaW5nCiAgLy8gU3RhdGljYWxseSByZW5kZXIgYWxsIGVsZW1lbnRzIHRoYXQgYXJlIG9mIHRoaXMgd2lkZ2V0J3MgY2xhc3MKICB3aW5kb3cuSFRNTFdpZGdldHMuc3RhdGljUmVuZGVyID0gZnVuY3Rpb24oKSB7CiAgICB2YXIgYmluZGluZ3MgPSB3aW5kb3cuSFRNTFdpZGdldHMud2lkZ2V0cyB8fCBbXTsKICAgIGZvckVhY2goYmluZGluZ3MsIGZ1bmN0aW9uKGJpbmRpbmcpIHsKICAgICAgdmFyIG1hdGNoZXMgPSBiaW5kaW5nLmZpbmQoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KTsKICAgICAgZm9yRWFjaChtYXRjaGVzLCBmdW5jdGlvbihlbCkgewogICAgICAgIHZhciBzaXplT2JqID0gaW5pdFNpemluZyhlbCwgYmluZGluZyk7CgogICAgICAgIGlmIChoYXNDbGFzcyhlbCwgImh0bWwtd2lkZ2V0LXN0YXRpYy1ib3VuZCIpKQogICAgICAgICAgcmV0dXJuOwogICAgICAgIGVsLmNsYXNzTmFtZSA9IGVsLmNsYXNzTmFtZSArICIgaHRtbC13aWRnZXQtc3RhdGljLWJvdW5kIjsKCiAgICAgICAgdmFyIGluaXRSZXN1bHQ7CiAgICAgICAgaWYgKGJpbmRpbmcuaW5pdGlhbGl6ZSkgewogICAgICAgICAgaW5pdFJlc3VsdCA9IGJpbmRpbmcuaW5pdGlhbGl6ZShlbCwKICAgICAgICAgICAgc2l6ZU9iaiA/IHNpemVPYmouZ2V0V2lkdGgoKSA6IGVsLm9mZnNldFdpZHRoLAogICAgICAgICAgICBzaXplT2JqID8gc2l6ZU9iai5nZXRIZWlnaHQoKSA6IGVsLm9mZnNldEhlaWdodAogICAgICAgICAgKTsKICAgICAgICAgIGVsZW1lbnREYXRhKGVsLCAiaW5pdF9yZXN1bHQiLCBpbml0UmVzdWx0KTsKICAgICAgICB9CgogICAgICAgIGlmIChiaW5kaW5nLnJlc2l6ZSkgewogICAgICAgICAgdmFyIGxhc3RTaXplID0gewogICAgICAgICAgICB3OiBzaXplT2JqID8gc2l6ZU9iai5nZXRXaWR0aCgpIDogZWwub2Zmc2V0V2lkdGgsCiAgICAgICAgICAgIGg6IHNpemVPYmogPyBzaXplT2JqLmdldEhlaWdodCgpIDogZWwub2Zmc2V0SGVpZ2h0CiAgICAgICAgICB9OwogICAgICAgICAgdmFyIHJlc2l6ZUhhbmRsZXIgPSBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgIHZhciBzaXplID0gewogICAgICAgICAgICAgIHc6IHNpemVPYmogPyBzaXplT2JqLmdldFdpZHRoKCkgOiBlbC5vZmZzZXRXaWR0aCwKICAgICAgICAgICAgICBoOiBzaXplT2JqID8gc2l6ZU9iai5nZXRIZWlnaHQoKSA6IGVsLm9mZnNldEhlaWdodAogICAgICAgICAgICB9OwogICAgICAgICAgICBpZiAoc2l6ZS53ID09PSAwICYmIHNpemUuaCA9PT0gMCkKICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIGlmIChzaXplLncgPT09IGxhc3RTaXplLncgJiYgc2l6ZS5oID09PSBsYXN0U2l6ZS5oKQogICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgbGFzdFNpemUgPSBzaXplOwogICAgICAgICAgICBiaW5kaW5nLnJlc2l6ZShlbCwgc2l6ZS53LCBzaXplLmgsIGluaXRSZXN1bHQpOwogICAgICAgICAgfTsKCiAgICAgICAgICBvbih3aW5kb3csICJyZXNpemUiLCByZXNpemVIYW5kbGVyKTsKCiAgICAgICAgICAvLyBUaGlzIGlzIG5lZWRlZCBmb3IgY2FzZXMgd2hlcmUgd2UncmUgcnVubmluZyBpbiBhIFNoaW55CiAgICAgICAgICAvLyBhcHAsIGJ1dCB0aGUgd2lkZ2V0IGl0c2VsZiBpcyBub3QgYSBTaGlueSBvdXRwdXQsIGJ1dAogICAgICAgICAgLy8gcmF0aGVyIGEgc2ltcGxlIHN0YXRpYyB3aWRnZXQuIE9uZSBleGFtcGxlIG9mIHRoaXMgaXMKICAgICAgICAgIC8vIGFuIHJtYXJrZG93biBkb2N1bWVudCB0aGF0IGhhcyBydW50aW1lOnNoaW55IGFuZCB3aWRnZXQKICAgICAgICAgIC8vIHRoYXQgaXNuJ3QgaW4gYSByZW5kZXIgZnVuY3Rpb24uIFNoaW55IG9ubHkga25vd3MgdG8KICAgICAgICAgIC8vIGNhbGwgcmVzaXplIGhhbmRsZXJzIGZvciBTaGlueSBvdXRwdXRzLCBub3QgZm9yIHN0YXRpYwogICAgICAgICAgLy8gd2lkZ2V0cywgc28gd2UgZG8gaXQgb3Vyc2VsdmVzLgogICAgICAgICAgaWYgKHdpbmRvdy5qUXVlcnkpIHsKICAgICAgICAgICAgd2luZG93LmpRdWVyeShkb2N1bWVudCkub24oCiAgICAgICAgICAgICAgInNob3duLmh0bWx3aWRnZXRzIHNob3duLmJzLnRhYi5odG1sd2lkZ2V0cyBzaG93bi5icy5jb2xsYXBzZS5odG1sd2lkZ2V0cyIsCiAgICAgICAgICAgICAgcmVzaXplSGFuZGxlcgogICAgICAgICAgICApOwogICAgICAgICAgICB3aW5kb3cualF1ZXJ5KGRvY3VtZW50KS5vbigKICAgICAgICAgICAgICAiaGlkZGVuLmh0bWx3aWRnZXRzIGhpZGRlbi5icy50YWIuaHRtbHdpZGdldHMgaGlkZGVuLmJzLmNvbGxhcHNlLmh0bWx3aWRnZXRzIiwKICAgICAgICAgICAgICByZXNpemVIYW5kbGVyCiAgICAgICAgICAgICk7CiAgICAgICAgICB9CgogICAgICAgICAgLy8gVGhpcyBpcyBuZWVkZWQgZm9yIHRoZSBzcGVjaWZpYyBjYXNlIG9mIGlvc2xpZGVzLCB3aGljaAogICAgICAgICAgLy8gZmxpcHMgc2xpZGVzIGJldHdlZW4gZGlzcGxheTpub25lIGFuZCBkaXNwbGF5OmJsb2NrLgogICAgICAgICAgLy8gSWRlYWxseSB3ZSB3b3VsZCBub3QgaGF2ZSB0byBoYXZlIGlvc2xpZGUtc3BlY2lmaWMgY29kZQogICAgICAgICAgLy8gaGVyZSwgYnV0IHJhdGhlciBoYXZlIGlvc2xpZGVzIHJhaXNlIGEgZ2VuZXJpYyBldmVudCwKICAgICAgICAgIC8vIGJ1dCB0aGUgcm1hcmtkb3duIHBhY2thZ2UganVzdCB3ZW50IHRvIENSQU4gc28gdGhlCiAgICAgICAgICAvLyB3aW5kb3cgdG8gZ2V0dGluZyB0aGF0IGZpeGVkIG1heSBiZSBsb25nLgogICAgICAgICAgaWYgKHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKSB7CiAgICAgICAgICAgIC8vIEl0J3MgT0sgdG8gbGltaXQgdGhpcyB0byB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcgogICAgICAgICAgICAvLyBicm93c2VycyBiZWNhdXNlIGlvc2xpZGVzIGl0c2VsZiBvbmx5IHN1cHBvcnRzCiAgICAgICAgICAgIC8vIHN1Y2ggYnJvd3NlcnMuCiAgICAgICAgICAgIG9uKGRvY3VtZW50LCAic2xpZGVlbnRlciIsIHJlc2l6ZUhhbmRsZXIpOwogICAgICAgICAgICBvbihkb2N1bWVudCwgInNsaWRlbGVhdmUiLCByZXNpemVIYW5kbGVyKTsKICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIHZhciBzY3JpcHREYXRhID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcigic2NyaXB0W2RhdGEtZm9yPSciICsgZWwuaWQgKyAiJ11bdHlwZT0nYXBwbGljYXRpb24vanNvbiddIik7CiAgICAgICAgaWYgKHNjcmlwdERhdGEpIHsKICAgICAgICAgIHZhciBkYXRhID0gSlNPTi5wYXJzZShzY3JpcHREYXRhLnRleHRDb250ZW50IHx8IHNjcmlwdERhdGEudGV4dCk7CiAgICAgICAgICAvLyBSZXNvbHZlIHN0cmluZ3MgbWFya2VkIGFzIGphdmFzY3JpcHQgbGl0ZXJhbHMgdG8gb2JqZWN0cwogICAgICAgICAgaWYgKCEoZGF0YS5ldmFscyBpbnN0YW5jZW9mIEFycmF5KSkgZGF0YS5ldmFscyA9IFtkYXRhLmV2YWxzXTsKICAgICAgICAgIGZvciAodmFyIGsgPSAwOyBkYXRhLmV2YWxzICYmIGsgPCBkYXRhLmV2YWxzLmxlbmd0aDsgaysrKSB7CiAgICAgICAgICAgIHdpbmRvdy5IVE1MV2lkZ2V0cy5ldmFsdWF0ZVN0cmluZ01lbWJlcihkYXRhLngsIGRhdGEuZXZhbHNba10pOwogICAgICAgICAgfQogICAgICAgICAgYmluZGluZy5yZW5kZXJWYWx1ZShlbCwgZGF0YS54LCBpbml0UmVzdWx0KTsKICAgICAgICAgIGV2YWxBbmRSdW4oZGF0YS5qc0hvb2tzLnJlbmRlciwgaW5pdFJlc3VsdCwgW2VsLCBkYXRhLnhdKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSk7CgogICAgaW52b2tlUG9zdFJlbmRlckhhbmRsZXJzKCk7CiAgfQoKCiAgZnVuY3Rpb24gaGFzX2pRdWVyeTMoKSB7CiAgICBpZiAoIXdpbmRvdy5qUXVlcnkpIHsKICAgICAgcmV0dXJuIGZhbHNlOwogICAgfQogICAgdmFyICR2ZXJzaW9uID0gd2luZG93LmpRdWVyeS5mbi5qcXVlcnk7CiAgICB2YXIgJG1ham9yX3ZlcnNpb24gPSBwYXJzZUludCgkdmVyc2lvbi5zcGxpdCgiLiIpWzBdKTsKICAgIHJldHVybiAkbWFqb3JfdmVyc2lvbiA+PSAzOwogIH0KCiAgLyoKICAvIFNoaW55IDEuNCBidW1wZWQgalF1ZXJ5IGZyb20gMS54IHRvIDMueCB3aGljaCBtZWFucyBqUXVlcnkncwogIC8gb24tcmVhZHkgaGFuZGxlciAoaS5lLiwgJChmbikpIGlzIG5vdyBhc3luY3Jvbm91cyAoaS5lLiwgaXQgbm93CiAgLyByZWFsbHkgbWVhbnMgJChzZXRUaW1lb3V0KGZuKSkuCiAgLyBodHRwczovL2pxdWVyeS5jb20vdXBncmFkZS1ndWlkZS8zLjAvI2JyZWFraW5nLWNoYW5nZS1kb2N1bWVudC1yZWFkeS1oYW5kbGVycy1hcmUtbm93LWFzeW5jaHJvbm91cwogIC8KICAvIFNpbmNlIFNoaW55IHVzZXMgJCgpIHRvIHNjaGVkdWxlIGluaXRTaGlueSwgc2hpbnk+PTEuNCBjYWxscyBpbml0U2hpbnkKICAvIG9uZSB0aWNrIGxhdGVyIHRoYW4gaXQgZGlkIGJlZm9yZSwgd2hpY2ggbWVhbnMgc3RhdGljUmVuZGVyKCkgaXMKICAvIGNhbGxlZCByZW5kZXJWYWx1ZSgpIGVhcmxpZXIgdGhhbiAoYWR2YW5jZWQpIHdpZGdldCBhdXRob3JzIG1pZ2h0IGJlIGV4cGVjdGluZy4KICAvIGh0dHBzOi8vZ2l0aHViLmNvbS9yc3R1ZGlvL3NoaW55L2lzc3Vlcy8yNjMwCiAgLwogIC8gRm9yIGEgY29uY3JldGUgZXhhbXBsZSwgbGVhZmxldCBoYXMgc29tZSBtZXRob2RzIChlLmcuLCB1cGRhdGVCb3VuZHMpCiAgLyB3aGljaCByZWZlcmVuY2UgU2hpbnkgbWV0aG9kcyByZWdpc3RlcmVkIGluIGluaXRTaGlueSAoZS5nLiwgc2V0SW5wdXRWYWx1ZSkuCiAgLyBTaW5jZSBsZWFmbGV0IGlzIHByaXZ5IHRvIHRoaXMgbGlmZS1jeWNsZSwgaXQga25vd3MgdG8gdXNlIHNldFRpbWVvdXQoKSB0bwogIC8gZGVsYXkgZXhlY3V0aW9uIG9mIHRob3NlIG1ldGhvZHMgKHVudGlsIFNoaW55IG1ldGhvZHMgYXJlIHJlYWR5KQogIC8gaHR0cHM6Ly9naXRodWIuY29tL3JzdHVkaW8vbGVhZmxldC9ibG9iLzE4ZWM5ODEvamF2YXNjcmlwdC9zcmMvaW5kZXguanMjTDI2Ni1MMjY4CiAgLwogIC8gSWRlYWxseSB3aWRnZXQgYXV0aG9ycyB3b3VsZG4ndCBuZWVkIHRvIHVzZSB0aGlzIHNldFRpbWVvdXQoKSBoYWNrIHRoYXQKICAvIGxlYWZsZXQgdXNlcyB0byBjYWxsIFNoaW55IG1ldGhvZHMgb24gYSBzdGF0aWNSZW5kZXIoKS4gSW4gdGhlIGxvbmcgcnVuLAogIC8gdGhlIGxvZ2ljIGluaXRTaGlueSBzaG91bGQgYmUgYnJva2VuIHVwIHNvIHRoYXQgbWV0aG9kIHJlZ2lzdHJhdGlvbiBoYXBwZW5zCiAgLyByaWdodCBhd2F5LCBidXQgYmluZGluZyBoYXBwZW5zIGxhdGVyLgogICovCiAgZnVuY3Rpb24gbWF5YmVTdGF0aWNSZW5kZXJMYXRlcigpIHsKICAgIGlmIChzaGlueU1vZGUgJiYgaGFzX2pRdWVyeTMoKSkgewogICAgICB3aW5kb3cualF1ZXJ5KHdpbmRvdy5IVE1MV2lkZ2V0cy5zdGF0aWNSZW5kZXIpOwogICAgfSBlbHNlIHsKICAgICAgd2luZG93LkhUTUxXaWRnZXRzLnN0YXRpY1JlbmRlcigpOwogICAgfQogIH0KCiAgaWYgKGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIpIHsKICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoIkRPTUNvbnRlbnRMb2FkZWQiLCBmdW5jdGlvbigpIHsKICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigiRE9NQ29udGVudExvYWRlZCIsIGFyZ3VtZW50cy5jYWxsZWUsIGZhbHNlKTsKICAgICAgbWF5YmVTdGF0aWNSZW5kZXJMYXRlcigpOwogICAgfSwgZmFsc2UpOwogIH0gZWxzZSBpZiAoZG9jdW1lbnQuYXR0YWNoRXZlbnQpIHsKICAgIGRvY3VtZW50LmF0dGFjaEV2ZW50KCJvbnJlYWR5c3RhdGVjaGFuZ2UiLCBmdW5jdGlvbigpIHsKICAgICAgaWYgKGRvY3VtZW50LnJlYWR5U3RhdGUgPT09ICJjb21wbGV0ZSIpIHsKICAgICAgICBkb2N1bWVudC5kZXRhY2hFdmVudCgib25yZWFkeXN0YXRlY2hhbmdlIiwgYXJndW1lbnRzLmNhbGxlZSk7CiAgICAgICAgbWF5YmVTdGF0aWNSZW5kZXJMYXRlcigpOwogICAgICB9CiAgICB9KTsKICB9CgoKICB3aW5kb3cuSFRNTFdpZGdldHMuZ2V0QXR0YWNobWVudFVybCA9IGZ1bmN0aW9uKGRlcG5hbWUsIGtleSkgewogICAgLy8gSWYgbm8ga2V5LCBkZWZhdWx0IHRvIHRoZSBmaXJzdCBpdGVtCiAgICBpZiAodHlwZW9mKGtleSkgPT09ICJ1bmRlZmluZWQiKQogICAgICBrZXkgPSAxOwoKICAgIHZhciBsaW5rID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZGVwbmFtZSArICItIiArIGtleSArICItYXR0YWNobWVudCIpOwogICAgaWYgKCFsaW5rKSB7CiAgICAgIHRocm93IG5ldyBFcnJvcigiQXR0YWNobWVudCAiICsgZGVwbmFtZSArICIvIiArIGtleSArICIgbm90IGZvdW5kIGluIGRvY3VtZW50Iik7CiAgICB9CiAgICByZXR1cm4gbGluay5nZXRBdHRyaWJ1dGUoImhyZWYiKTsKICB9OwoKICB3aW5kb3cuSFRNTFdpZGdldHMuZGF0YWZyYW1lVG9EMyA9IGZ1bmN0aW9uKGRmKSB7CiAgICB2YXIgbmFtZXMgPSBbXTsKICAgIHZhciBsZW5ndGg7CiAgICBmb3IgKHZhciBuYW1lIGluIGRmKSB7CiAgICAgICAgaWYgKGRmLmhhc093blByb3BlcnR5KG5hbWUpKQogICAgICAgICAgICBuYW1lcy5wdXNoKG5hbWUpOwogICAgICAgIGlmICh0eXBlb2YoZGZbbmFtZV0pICE9PSAib2JqZWN0IiB8fCB0eXBlb2YoZGZbbmFtZV0ubGVuZ3RoKSA9PT0gInVuZGVmaW5lZCIpIHsKICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCJBbGwgZmllbGRzIG11c3QgYmUgYXJyYXlzIik7CiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YobGVuZ3RoKSAhPT0gInVuZGVmaW5lZCIgJiYgbGVuZ3RoICE9PSBkZltuYW1lXS5sZW5ndGgpIHsKICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCJBbGwgZmllbGRzIG11c3QgYmUgYXJyYXlzIG9mIHRoZSBzYW1lIGxlbmd0aCIpOwogICAgICAgIH0KICAgICAgICBsZW5ndGggPSBkZltuYW1lXS5sZW5ndGg7CiAgICB9CiAgICB2YXIgcmVzdWx0cyA9IFtdOwogICAgdmFyIGl0ZW07CiAgICBmb3IgKHZhciByb3cgPSAwOyByb3cgPCBsZW5ndGg7IHJvdysrKSB7CiAgICAgICAgaXRlbSA9IHt9OwogICAgICAgIGZvciAodmFyIGNvbCA9IDA7IGNvbCA8IG5hbWVzLmxlbmd0aDsgY29sKyspIHsKICAgICAgICAgICAgaXRlbVtuYW1lc1tjb2xdXSA9IGRmW25hbWVzW2NvbF1dW3Jvd107CiAgICAgICAgfQogICAgICAgIHJlc3VsdHMucHVzaChpdGVtKTsKICAgIH0KICAgIHJldHVybiByZXN1bHRzOwogIH07CgogIHdpbmRvdy5IVE1MV2lkZ2V0cy50cmFuc3Bvc2VBcnJheTJEID0gZnVuY3Rpb24oYXJyYXkpIHsKICAgICAgaWYgKGFycmF5Lmxlbmd0aCA9PT0gMCkgcmV0dXJuIGFycmF5OwogICAgICB2YXIgbmV3QXJyYXkgPSBhcnJheVswXS5tYXAoZnVuY3Rpb24oY29sLCBpKSB7CiAgICAgICAgICByZXR1cm4gYXJyYXkubWFwKGZ1bmN0aW9uKHJvdykgewogICAgICAgICAgICAgIHJldHVybiByb3dbaV0KICAgICAgICAgIH0pCiAgICAgIH0pOwogICAgICByZXR1cm4gbmV3QXJyYXk7CiAgfTsKICAvLyBTcGxpdCB2YWx1ZSBhdCBzcGxpdENoYXIsIGJ1dCBhbGxvdyBzcGxpdENoYXIgdG8gYmUgZXNjYXBlZAogIC8vIHVzaW5nIGVzY2FwZUNoYXIuIEFueSBvdGhlciBjaGFyYWN0ZXJzIGVzY2FwZWQgYnkgZXNjYXBlQ2hhcgogIC8vIHdpbGwgYmUgaW5jbHVkZWQgYXMgdXN1YWwgKGluY2x1ZGluZyBlc2NhcGVDaGFyIGl0c2VsZikuCiAgZnVuY3Rpb24gc3BsaXRXaXRoRXNjYXBlKHZhbHVlLCBzcGxpdENoYXIsIGVzY2FwZUNoYXIpIHsKICAgIHZhciByZXN1bHRzID0gW107CiAgICB2YXIgZXNjYXBlTW9kZSA9IGZhbHNlOwogICAgdmFyIGN1cnJlbnRSZXN1bHQgPSAiIjsKICAgIGZvciAodmFyIHBvcyA9IDA7IHBvcyA8IHZhbHVlLmxlbmd0aDsgcG9zKyspIHsKICAgICAgaWYgKCFlc2NhcGVNb2RlKSB7CiAgICAgICAgaWYgKHZhbHVlW3Bvc10gPT09IHNwbGl0Q2hhcikgewogICAgICAgICAgcmVzdWx0cy5wdXNoKGN1cnJlbnRSZXN1bHQpOwogICAgICAgICAgY3VycmVudFJlc3VsdCA9ICIiOwogICAgICAgIH0gZWxzZSBpZiAodmFsdWVbcG9zXSA9PT0gZXNjYXBlQ2hhcikgewogICAgICAgICAgZXNjYXBlTW9kZSA9IHRydWU7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGN1cnJlbnRSZXN1bHQgKz0gdmFsdWVbcG9zXTsKICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgY3VycmVudFJlc3VsdCArPSB2YWx1ZVtwb3NdOwogICAgICAgIGVzY2FwZU1vZGUgPSBmYWxzZTsKICAgICAgfQogICAgfQogICAgaWYgKGN1cnJlbnRSZXN1bHQgIT09ICIiKSB7CiAgICAgIHJlc3VsdHMucHVzaChjdXJyZW50UmVzdWx0KTsKICAgIH0KICAgIHJldHVybiByZXN1bHRzOwogIH0KICAvLyBGdW5jdGlvbiBhdXRob3JlZCBieSBZaWh1aS9KSiBBbGxhaXJlCiAgd2luZG93LkhUTUxXaWRnZXRzLmV2YWx1YXRlU3RyaW5nTWVtYmVyID0gZnVuY3Rpb24obywgbWVtYmVyKSB7CiAgICB2YXIgcGFydHMgPSBzcGxpdFdpdGhFc2NhcGUobWVtYmVyLCAnLicsICdcXCcpOwogICAgZm9yICh2YXIgaSA9IDAsIGwgPSBwYXJ0cy5sZW5ndGg7IGkgPCBsOyBpKyspIHsKICAgICAgdmFyIHBhcnQgPSBwYXJ0c1tpXTsKICAgICAgLy8gcGFydCBtYXkgYmUgYSBjaGFyYWN0ZXIgb3IgJ251bWVyaWMnIG1lbWJlciBuYW1lCiAgICAgIGlmIChvICE9PSBudWxsICYmIHR5cGVvZiBvID09PSAib2JqZWN0IiAmJiBwYXJ0IGluIG8pIHsKICAgICAgICBpZiAoaSA9PSAobCAtIDEpKSB7IC8vIGlmIHdlIGFyZSBhdCB0aGUgZW5kIG9mIHRoZSBsaW5lIHRoZW4gZXZhbHVsYXRlCiAgICAgICAgICBpZiAodHlwZW9mIG9bcGFydF0gPT09ICJzdHJpbmciKQogICAgICAgICAgICBvW3BhcnRdID0gdHJ5RXZhbChvW3BhcnRdKTsKICAgICAgICB9IGVsc2UgeyAvLyBvdGhlcndpc2UgY29udGludWUgdG8gbmV4dCBlbWJlZGRlZCBvYmplY3QKICAgICAgICAgIG8gPSBvW3BhcnRdOwogICAgICAgIH0KICAgICAgfQogICAgfQogIH07CgogIC8vIFJldHJpZXZlIHRoZSBIVE1MV2lkZ2V0IGluc3RhbmNlIChpLmUuIHRoZSByZXR1cm4gdmFsdWUgb2YgYW4KICAvLyBIVE1MV2lkZ2V0IGJpbmRpbmcncyBpbml0aWFsaXplKCkgb3IgZmFjdG9yeSgpIGZ1bmN0aW9uKQogIC8vIGFzc29jaWF0ZWQgd2l0aCBhbiBlbGVtZW50LCBvciBudWxsIGlmIG5vbmUuCiAgd2luZG93LkhUTUxXaWRnZXRzLmdldEluc3RhbmNlID0gZnVuY3Rpb24oZWwpIHsKICAgIHJldHVybiBlbGVtZW50RGF0YShlbCwgImluaXRfcmVzdWx0Iik7CiAgfTsKCiAgLy8gRmluZHMgdGhlIGZpcnN0IGVsZW1lbnQgaW4gdGhlIHNjb3BlIHRoYXQgbWF0Y2hlcyB0aGUgc2VsZWN0b3IsCiAgLy8gYW5kIHJldHVybnMgdGhlIEhUTUxXaWRnZXQgaW5zdGFuY2UgKGkuZS4gdGhlIHJldHVybiB2YWx1ZSBvZgogIC8vIGFuIEhUTUxXaWRnZXQgYmluZGluZydzIGluaXRpYWxpemUoKSBvciBmYWN0b3J5KCkgZnVuY3Rpb24pCiAgLy8gYXNzb2NpYXRlZCB3aXRoIHRoYXQgZWxlbWVudCwgaWYgYW55LiBJZiBubyBlbGVtZW50IG1hdGNoZXMgdGhlCiAgLy8gc2VsZWN0b3IsIG9yIHRoZSBmaXJzdCBtYXRjaGluZyBlbGVtZW50IGhhcyBubyBIVE1MV2lkZ2V0CiAgLy8gaW5zdGFuY2UgYXNzb2NpYXRlZCB3aXRoIGl0LCB0aGVuIG51bGwgaXMgcmV0dXJuZWQuCiAgLy8KICAvLyBUaGUgc2NvcGUgYXJndW1lbnQgaXMgb3B0aW9uYWwsIGFuZCBkZWZhdWx0cyB0byB3aW5kb3cuZG9jdW1lbnQuCiAgd2luZG93LkhUTUxXaWRnZXRzLmZpbmQgPSBmdW5jdGlvbihzY29wZSwgc2VsZWN0b3IpIHsKICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09IDEpIHsKICAgICAgc2VsZWN0b3IgPSBzY29wZTsKICAgICAgc2NvcGUgPSBkb2N1bWVudDsKICAgIH0KCiAgICB2YXIgZWwgPSBzY29wZS5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yKTsKICAgIGlmIChlbCA9PT0gbnVsbCkgewogICAgICByZXR1cm4gbnVsbDsKICAgIH0gZWxzZSB7CiAgICAgIHJldHVybiB3aW5kb3cuSFRNTFdpZGdldHMuZ2V0SW5zdGFuY2UoZWwpOwogICAgfQogIH07CgogIC8vIEZpbmRzIGFsbCBlbGVtZW50cyBpbiB0aGUgc2NvcGUgdGhhdCBtYXRjaCB0aGUgc2VsZWN0b3IsIGFuZAogIC8vIHJldHVybnMgdGhlIEhUTUxXaWRnZXQgaW5zdGFuY2VzIChpLmUuIHRoZSByZXR1cm4gdmFsdWVzIG9mCiAgLy8gYW4gSFRNTFdpZGdldCBiaW5kaW5nJ3MgaW5pdGlhbGl6ZSgpIG9yIGZhY3RvcnkoKSBmdW5jdGlvbikKICAvLyBhc3NvY2lhdGVkIHdpdGggdGhlIGVsZW1lbnRzLCBpbiBhbiBhcnJheS4gSWYgZWxlbWVudHMgdGhhdAogIC8vIG1hdGNoIHRoZSBzZWxlY3RvciBkb24ndCBoYXZlIGFuIGFzc29jaWF0ZWQgSFRNTFdpZGdldAogIC8vIGluc3RhbmNlLCB0aGUgcmV0dXJuZWQgYXJyYXkgd2lsbCBjb250YWluIG51bGxzLgogIC8vCiAgLy8gVGhlIHNjb3BlIGFyZ3VtZW50IGlzIG9wdGlvbmFsLCBhbmQgZGVmYXVsdHMgdG8gd2luZG93LmRvY3VtZW50LgogIHdpbmRvdy5IVE1MV2lkZ2V0cy5maW5kQWxsID0gZnVuY3Rpb24oc2NvcGUsIHNlbGVjdG9yKSB7CiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PSAxKSB7CiAgICAgIHNlbGVjdG9yID0gc2NvcGU7CiAgICAgIHNjb3BlID0gZG9jdW1lbnQ7CiAgICB9CgogICAgdmFyIG5vZGVzID0gc2NvcGUucXVlcnlTZWxlY3RvckFsbChzZWxlY3Rvcik7CiAgICB2YXIgcmVzdWx0cyA9IFtdOwogICAgZm9yICh2YXIgaSA9IDA7IGkgPCBub2Rlcy5sZW5ndGg7IGkrKykgewogICAgICByZXN1bHRzLnB1c2god2luZG93LkhUTUxXaWRnZXRzLmdldEluc3RhbmNlKG5vZGVzW2ldKSk7CiAgICB9CiAgICByZXR1cm4gcmVzdWx0czsKICB9OwoKICB2YXIgcG9zdFJlbmRlckhhbmRsZXJzID0gW107CiAgZnVuY3Rpb24gaW52b2tlUG9zdFJlbmRlckhhbmRsZXJzKCkgewogICAgd2hpbGUgKHBvc3RSZW5kZXJIYW5kbGVycy5sZW5ndGgpIHsKICAgICAgdmFyIGhhbmRsZXIgPSBwb3N0UmVuZGVySGFuZGxlcnMuc2hpZnQoKTsKICAgICAgaWYgKGhhbmRsZXIpIHsKICAgICAgICBoYW5kbGVyKCk7CiAgICAgIH0KICAgIH0KICB9CgogIC8vIFJlZ2lzdGVyIHRoZSBnaXZlbiBjYWxsYmFjayBmdW5jdGlvbiB0byBiZSBpbnZva2VkIGFmdGVyIHRoZQogIC8vIG5leHQgdGltZSBzdGF0aWMgd2lkZ2V0cyBhcmUgcmVuZGVyZWQuCiAgd2luZG93LkhUTUxXaWRnZXRzLmFkZFBvc3RSZW5kZXJIYW5kbGVyID0gZnVuY3Rpb24oY2FsbGJhY2spIHsKICAgIHBvc3RSZW5kZXJIYW5kbGVycy5wdXNoKGNhbGxiYWNrKTsKICB9OwoKICAvLyBUYWtlcyBhIG5ldy1zdHlsZSBpbnN0YW5jZS1ib3VuZCBkZWZpbml0aW9uLCBhbmQgcmV0dXJucyBhbgogIC8vIG9sZC1zdHlsZSBjbGFzcy1ib3VuZCBkZWZpbml0aW9uLiBUaGlzIHNhdmVzIHVzIGZyb20gaGF2aW5nCiAgLy8gdG8gcmV3cml0ZSBhbGwgdGhlIGxvZ2ljIGluIHRoaXMgZmlsZSB0byBhY2NvbW9kYXRlIGJvdGgKICAvLyB0eXBlcyBvZiBkZWZpbml0aW9ucy4KICBmdW5jdGlvbiBjcmVhdGVMZWdhY3lEZWZpbml0aW9uQWRhcHRlcihkZWZuKSB7CiAgICB2YXIgcmVzdWx0ID0gewogICAgICBuYW1lOiBkZWZuLm5hbWUsCiAgICAgIHR5cGU6IGRlZm4udHlwZSwKICAgICAgaW5pdGlhbGl6ZTogZnVuY3Rpb24oZWwsIHdpZHRoLCBoZWlnaHQpIHsKICAgICAgICByZXR1cm4gZGVmbi5mYWN0b3J5KGVsLCB3aWR0aCwgaGVpZ2h0KTsKICAgICAgfSwKICAgICAgcmVuZGVyVmFsdWU6IGZ1bmN0aW9uKGVsLCB4LCBpbnN0YW5jZSkgewogICAgICAgIHJldHVybiBpbnN0YW5jZS5yZW5kZXJWYWx1ZSh4KTsKICAgICAgfSwKICAgICAgcmVzaXplOiBmdW5jdGlvbihlbCwgd2lkdGgsIGhlaWdodCwgaW5zdGFuY2UpIHsKICAgICAgICByZXR1cm4gaW5zdGFuY2UucmVzaXplKHdpZHRoLCBoZWlnaHQpOwogICAgICB9CiAgICB9OwoKICAgIGlmIChkZWZuLmZpbmQpCiAgICAgIHJlc3VsdC5maW5kID0gZGVmbi5maW5kOwogICAgaWYgKGRlZm4ucmVuZGVyRXJyb3IpCiAgICAgIHJlc3VsdC5yZW5kZXJFcnJvciA9IGRlZm4ucmVuZGVyRXJyb3I7CiAgICBpZiAoZGVmbi5jbGVhckVycm9yKQogICAgICByZXN1bHQuY2xlYXJFcnJvciA9IGRlZm4uY2xlYXJFcnJvcjsKCiAgICByZXR1cm4gcmVzdWx0OwogIH0KfSkoKTsKCg=="></script>
<script src="data:application/javascript;base64,SFRNTFdpZGdldHMud2lkZ2V0KHsKCiAgbmFtZTogJ21hcGRlY2snLAogIHR5cGU6ICdvdXRwdXQnLAoKICBmYWN0b3J5OiBmdW5jdGlvbihlbCwgd2lkdGgsIGhlaWdodCkgewoKICAgIHJldHVybiB7CgogICAgICByZW5kZXJWYWx1ZTogZnVuY3Rpb24oeCkgewoKICAgICAgCW1kX3NldHVwX3dpbmRvdyggZWwuaWQgKTsKCgkJCQlpZiggeC5zaG93X3ZpZXdfc3RhdGUgKSB7CiAgICAgIAkgIG1kX3NldHVwX3ZpZXdfc3RhdGUoIGVsLmlkICk7CiAgICAgIAkgIHdpbmRvd1tlbC5pZCArICdtYXBWaWV3U3RhdGUnXSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOwogICAgICAJICB3aW5kb3dbZWwuaWQgKyAnbWFwVmlld1N0YXRlJ10uc2V0QXR0cmlidXRlKCdpZCcsIGVsLmlkICsgJ21hcFZpZXdTdGF0ZScpOwogICAgICAJICB3aW5kb3dbZWwuaWQgKyAnbWFwVmlld1N0YXRlJ10uc2V0QXR0cmlidXRlKCdjbGFzcycsICdtYXBWaWV3U3RhdGUnKTsKICAgICAgCSAgdmFyIG1hcGJveF9jdHJsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoICJtYXBWaWV3U3RhdGVDb250YWluZXIiK2VsLmlkKTsKICAgIAkJCW1hcGJveF9jdHJsLmFwcGVuZENoaWxkKCB3aW5kb3dbZWwuaWQgKyAnbWFwVmlld1N0YXRlJ10gKTsKCQkJCX0KCiAgICAgICAgLy8gSU5JVElBTCBWSUVXCiAgICAgICAgd2luZG93W2VsLmlkICsgJ0lOSVRJQUxfVklFV19TVEFURSddID0gewogICAgICAgIAlsb25naXR1ZGU6IHgubG9jYXRpb25bMF0sCiAgICAgICAgCWxhdGl0dWRlOiB4LmxvY2F0aW9uWzFdLAogICAgICAgIAl6b29tOiB4Lnpvb20sCiAgICAgICAgCXBpdGNoOiB4LnBpdGNoLAogICAgICAgIAliZWFyaW5nOiB4LmJlYXJpbmcsCiAgICAgICAgCW1heFpvb206IHgubWF4X3pvb20sCiAgICAgICAJIAltaW5ab29tOiB4Lm1pbl96b29tLAogICAgICAgCSAJbWF4UGl0Y2g6IHgubWF4X3BpdGNoLAogICAgICAgCSAJbWluUGl0Y2g6IHgubWluX3BpdGNoCiAgICAgICAgfTsKCiAgICAgICBpZiggeC5hY2Nlc3NfdG9rZW4gPT09IG51bGwgKSB7CiAgICAgICAJIGNvbnN0IGRlY2tnbCA9IG5ldyBkZWNrLkRlY2tHTCh7CiAgICAgICAJIAkgIHZpZXdzOiBbIG5ldyBkZWNrLk1hcFZpZXcoewogICAgICAgCSAJICAJaWQ6IGVsLmlkLAogICAgICAgCSAJICAJcmVwZWF0OiB4LnJlcGVhdF92aWV3CiAgICAgICAJIAkgIAl9KSBdLAogICAgICAgCSAJICBtYXA6IGZhbHNlLAoJCQkgICAgICBjb250YWluZXI6IGVsLmlkLAoJCQkgICAgICBpbml0aWFsVmlld1N0YXRlOiB3aW5kb3dbZWwuaWQgKyAnSU5JVElBTF9WSUVXX1NUQVRFJ10sCgkJCSAgICAgIGxheWVyczogW10sCgkJCSAgICAgIGNvbnRyb2xsZXI6IHRydWUKCQkJICAgICAgLy9vbkxheWVySG92ZXI6IHNldFRvb2x0aXAKCQkJICAgfSk7CgkJCSAgIHdpbmRvd1tlbC5pZCArICdtYXAnXSA9IGRlY2tnbDsKICAgICAgIH0gZWxzZSB7CiAgICAgICAgY29uc3QgZGVja2dsID0gbmV3IGRlY2suRGVja0dMKHsKICAgICAgICAJICB2aWV3czogWyBuZXcgZGVjay5NYXBWaWV3KHsKICAgICAgICAJICAJaWQ6IGVsLmlkLAogICAgICAgIAkgIAlyZXBlYXQ6IHgucmVwZWF0X3ZpZXcKICAgICAgICAJICAJfSkgXSwKICAgICAgICAgIAltYXBib3hBcGlBY2Nlc3NUb2tlbjogeC5hY2Nlc3NfdG9rZW4sCgkJCSAgICAgIGNvbnRhaW5lcjogZWwuaWQsCgkJCSAgICAgIG1hcFN0eWxlOiB4LnN0eWxlLAoJCQkgICAgICBpbml0aWFsVmlld1N0YXRlOiB3aW5kb3dbZWwuaWQgKyAnSU5JVElBTF9WSUVXX1NUQVRFJ10sCgkJCSAgICAgIGxheWVyczogW10sCgkJCSAgICAgIGNvbnRyb2xsZXI6IHRydWUsCgkJCSAgICAgIC8vb25MYXllckhvdmVyOiBzZXRUb29sdGlwCgkJCSAgICAgIG9uVmlld1N0YXRlQ2hhbmdlOiAoe3ZpZXdJZCwgdmlld1N0YXRlLCBpbnRlcmFjdGlvblN0YXRlfSkgPT4gewoKCQkJICAgICAgCWlmICghSFRNTFdpZGdldHMuc2hpbnlNb2RlICYmICF4LnNob3dfdmlld19zdGF0ZSApIHsgcmV0dXJuOyB9CgkJCQkJCQkvLyBhcyBwZXI6CgkJCQkJCQkvLyBodHRwczovL2dpdGh1Yi5jb20vdWJlci9kZWNrLmdsL2lzc3Vlcy8zMzQ0CgkJCQkJCQkvLyBodHRwczovL2dpdGh1Yi5jb20vU3ltYm9saXhBVS9tYXBkZWNrL2lzc3Vlcy8yMTEKCQkJICAgICAgCWNvbnN0IHZpZXdwb3J0ID0gbmV3IGRlY2suV2ViTWVyY2F0b3JWaWV3cG9ydCh2aWV3U3RhdGUpOwogIAkJCQkJCWNvbnN0IG53ID0gdmlld3BvcnQudW5wcm9qZWN0KFswLCAwXSk7CiAgCQkJCQkJY29uc3Qgc2UgPSB2aWV3cG9ydC51bnByb2plY3QoW3ZpZXdwb3J0LndpZHRoLCB2aWV3cG9ydC5oZWlnaHRdKTsKCiAgCQkJCQkJY29uc3QgdyA9IG53WzBdIDwgLTE4MCA/IC0xODAgOiAoIG53WzBdID4gMTgwID8gMTgwIDogbndbMF0gKTsKICAJCQkJCQljb25zdCBuID0gbndbMV0gPCAtOTAgPyAtOTAgOiAoIG53WzFdID4gOTAgPyA5MCA6IG53WzFdICk7CgogIAkJCQkJCWNvbnN0IGUgPSBzZVswXSA8IC0xODAgPyAtMTgwIDogKCBzZVswXSA+IDE4MCA/IDE4MCA6IHNlWzBdICk7CiAgCQkJCQkJY29uc3QgcyA9IHNlWzFdIDwgLTkwID8gLTkwIDogKCBzZVsxXSA+IDkwID8gOTAgOiBzZVsxXSApOwoKICAJCQkJCQl2aWV3U3RhdGUudmlld0lkID0gdmlld0lkOwoKCQkJCQkJCXZpZXdTdGF0ZS52aWV3Qm91bmRzID0gewogIAkJCQkJCQlub3J0aDogbiwgLy9ud1sxXSwKICAJCQkJCQkJZWFzdDogIGUsIC8vc2VbMF0sCiAgCQkJCQkJCXNvdXRoOiBzLCAvL3NlWzFdLAogIAkJCQkJCQl3ZXN0OiAgdyAvL253WzBdCiAgCQkJCQkJfTsKICAJCQkJCQl2aWV3U3RhdGUuaW50ZXJhY3Rpb25TdGF0ZSA9IGludGVyYWN0aW9uU3RhdGU7CgogIAkJCQkJCWlmKCB4LnNob3dfdmlld19zdGF0ZSApIHsKICAJCQkJCQkJdmFyIHZzID0gSlNPTi5zdHJpbmdpZnkoIHZpZXdTdGF0ZSApOwogIAkJCQkJCQkvL2NvbnNvbGUubG9nKCB2cyApOwogIAkJCQkJCQl3aW5kb3dbZWwuaWQgKyAnbWFwVmlld1N0YXRlJ10uaW5uZXJIVE1MID0gdnM7CiAgCQkJCQkJfQoKICAJCQkJCQlpZiAoIUhUTUxXaWRnZXRzLnNoaW55TW9kZSApIHsgcmV0dXJuOyB9CgoJCQkJCQkgIFNoaW55Lm9uSW5wdXRDaGFuZ2UoZWwuaWQgKyAnX3ZpZXdfY2hhbmdlJywgdmlld1N0YXRlKTsKCQkJICAgICAgfSwKCQkJICAgICAgb25EcmFnU3RhcnQoaW5mbywgZXZlbnQpewoJCQkgICAgICAJaWYgKCFIVE1MV2lkZ2V0cy5zaGlueU1vZGUpIHsgcmV0dXJuOyB9CgkJCSAgICAgIAkvL2lmKCBpbmZvLmxheWVyICE9PSBudWxsICkgeyBpbmZvLmxheWVyID0gbnVsbDsgfSAgLy8gZHJhZ2dpbmcgYSBsYXllcjsKCQkJICAgICAgCWluZm8ubGF5ZXIgPSB1bmRlZmluZWQ7IC8vIGluIGNhc2Ugb2YgZHJhZ2dpbmcgYSBsYXllcgoJCQkgICAgICAJU2hpbnkub25JbnB1dENoYW5nZShlbC5pZCArJ19kcmFnX3N0YXJ0JywgaW5mbyk7CgkJCSAgICAgIH0sCgkJCSAgICAgIG9uRHJhZyhpbmZvLCBldmVudCl7CgkJCSAgICAgIAlpZiAoIUhUTUxXaWRnZXRzLnNoaW55TW9kZSkgeyByZXR1cm47IH0KCQkJICAgICAgCS8vaWYoIGluZm8ubGF5ZXIgIT09IG51bGwgKSB7IGluZm8ubGF5ZXIgPSBudWxsOyB9ICAvLyBkcmFnZ2luZyBhIGxheWVyOwoJCQkgICAgICAJaW5mby5sYXllciA9IHVuZGVmaW5lZDsgLy8gaW4gY2FzZSBvZiBkcmFnZ2luZyBhIGxheWVyCgkJCSAgICAgIAlTaGlueS5vbklucHV0Q2hhbmdlKGVsLmlkICsnX2RyYWcnLCBpbmZvKTsKCQkJICAgICAgfSwKCQkJICAgICAgb25EcmFnRW5kKGluZm8sIGV2ZW50KXsKCQkJICAgICAgCWlmICghSFRNTFdpZGdldHMuc2hpbnlNb2RlKSB7IHJldHVybjsgfQoJCQkgICAgICAJLy9pZiggaW5mby5sYXllciAhPT0gbnVsbCApIHsgaW5mby5sYXllciA9IG51bGw7IH0gIC8vIGRyYWdnaW5nIGEgbGF5ZXI7CgkJCSAgICAgIAlpbmZvLmxheWVyID0gdW5kZWZpbmVkOyAvLyBpbiBjYXNlIG9mIGRyYWdnaW5nIGEgbGF5ZXIKCQkJICAgICAgCVNoaW55Lm9uSW5wdXRDaGFuZ2UoZWwuaWQgKydfZHJhZ19lbmQnLCBpbmZvKTsKCQkJICAgICAgfSwKCQkJICAgICAgb25SZXNpemUoc2l6ZSkgewoJCQkgICAgICAJaWYgKCFIVE1MV2lkZ2V0cy5zaGlueU1vZGUpIHsgcmV0dXJuOyB9CgkJCSAgICAgIAlTaGlueS5vbklucHV0Q2hhbmdlKGVsLmlkICsnX3Jlc2l6ZScsIHNpemUpOwoJCQkgICAgICB9CgkJCSAgfSk7CgoJCQkgIHdpbmRvd1tlbC5pZCArICdtYXAnXSA9IGRlY2tnbDsKCiAgICAgICB9CgkJCSAgICBtZF9pbml0aWFsaXNlX21hcChlbCwgeCk7CiAgICAgIH0sCgogICAgICByZXNpemU6IGZ1bmN0aW9uKHdpZHRoLCBoZWlnaHQpIHsKCiAgICAgICAgLy8gVE9ETzogY29kZSB0byByZS1yZW5kZXIgdGhlIHdpZGdldCB3aXRoIGEgbmV3IHNpemUKICAgICAgfQogICAgfTsKICB9Cn0pOwoKCmlmIChIVE1MV2lkZ2V0cy5zaGlueU1vZGUpIHsKCiAgU2hpbnkuYWRkQ3VzdG9tTWVzc2FnZUhhbmRsZXIoIm1hcGRlY2ttYXAtY2FsbHMiLCBmdW5jdGlvbiAoZGF0YSkgewoKICAJLy9jb25zb2xlLmxvZyggIm1hcGRlY2ttYXAtY2FsbHMiICk7CgogICAgdmFyIGlkID0gZGF0YS5pZCwgICAvLyB0aGUgZGl2IGlkIG9mIHRoZSBtYXAKICAgICAgZWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZCksCiAgICAgIG1hcCA9IGVsLAogICAgICBjYWxsID0gW10sCiAgICAgIGkgPSAwOwoKICAgIGlmICghbWFwKSB7CiAgICAgIC8vY29uc29sZS5sb2coIkNvdWxkbid0IGZpbmQgbWFwIHdpdGggaWQgIiArIGlkKTsKICAgICAgcmV0dXJuOwogICAgfQoKICAgIGZvciAoaSA9IDA7IGkgPCBkYXRhLmNhbGxzLmxlbmd0aDsgaSsrKSB7CgogICAgICBjYWxsID0gZGF0YS5jYWxsc1tpXTsKCiAgICAgIC8vcHVzaCB0aGUgbWFwSWQgaW50byB0aGUgY2FsbC5hcmdzCiAgICAgIGNhbGwuYXJncy51bnNoaWZ0KGlkKTsKCiAgICAgIGlmIChjYWxsLmRlcGVuZGVuY2llcykgewogICAgICAgIFNoaW55LnJlbmRlckRlcGVuZGVuY2llcyhjYWxsLmRlcGVuZGVuY2llcyk7CiAgICAgIH0KCiAgICAgIGlmICh3aW5kb3dbY2FsbC5tZXRob2RdKSB7CiAgICAgICAgd2luZG93W2NhbGwubWV0aG9kXS5hcHBseSh3aW5kb3dbaWQgKyAnbWFwJ10sIGNhbGwuYXJncyk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgLy9jb25zb2xlLmxvZygiVW5rbm93biBmdW5jdGlvbiAiICsgY2FsbC5tZXRob2QpOwogICAgICB9CiAgICB9CiAgfSk7Cn0KCg=="></script>
<script src="data:application/javascript;base64,ZnVuY3Rpb24gbWRfc2V0dXBfd2luZG93KCBtYXBfaWQgKSB7CgoJbWRfc2V0dXBfd2luZG93X29iamVjdHMoIG1hcF9pZCApOwogIG1kX3NldHVwX21hcGRlY2tfZGl2KCBtYXBfaWQgKTsKCiAgbWRfc2V0dXBfbGVnZW5kKCBtYXBfaWQgKTsKICBtZF9zZXR1cF90aXRsZSggbWFwX2lkICk7CiAgbWRfc2V0dXBfdmlld19zdGF0ZSggbWFwX2lkICk7CiAgbWRfc2V0dXBfdG9vbHRpcCggbWFwX2lkICk7Cn0KCmZ1bmN0aW9uIG1kX3NldHVwX3dpbmRvd19vYmplY3RzKCBtYXBfaWQgKSB7Cgl3aW5kb3dbbWFwX2lkICsgJ2xheWVycyddID0gW107IC8vIGtlZXAgdHJhY2sgb2YgbGF5ZXJzIGZvciBvdmVybGF5aW5nIG11bHRpcGxlCiAgd2luZG93W21hcF9pZCArICdsZWdlbmRQb3NpdGlvbnMnXSA9IFtdOyAgICAgLy8gYXJyYXkgZm9yIGtlZXBpbmcgYSByZWZlcmVuZSB0byBsZWdlbmQgcG9zaXRpb25zCiAgd2luZG93W21hcF9pZCArICdtYXBUaXRsZVBvc2l0aW9ucyddID0gW107CiAgd2luZG93W21hcF9pZCArICdtYXBkZWNrQm91bmRzJ10gPSBbXTsgICAgICAgLy8gc3RvcmUgdGhlIGJvdW5kaW5nIGJveCBvZiBlYWNoIGxheWVyCiAgd2luZG93W21hcF9pZCArICdnbG9iYWxCb3gnXSA9IFtdOwogIHdpbmRvd1ttYXBfaWQgKyAnY3VycmVudFpvb21MZXZlbCddID0gMDsKfQoKZnVuY3Rpb24gbWRfc2V0dXBfbWFwZGVja19kaXYoIG1hcF9pZCApIHsKCXZhciBtYXBEaXYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChtYXBfaWQpOwogIG1hcERpdi5jbGFzc05hbWUgPSAnbWFwZGVja21hcCc7Cn0KCmZ1bmN0aW9uIG1kX3NldHVwX2xlZ2VuZCggbWFwX2lkICkgewoJdmFyIG1hcERpdiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKG1hcF9pZCk7Cgl2YXIgbGVnZW5kQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CiAgbGVnZW5kQ29udGFpbmVyLmNsYXNzTmFtZSA9ICJsZWdlbmRDb250YWluZXIiOwogIGxlZ2VuZENvbnRhaW5lci5pZCA9ICJsZWdlbmRDb250YWluZXIiK21hcF9pZDsKICBtYXBEaXYuYXBwZW5kQ2hpbGQoIGxlZ2VuZENvbnRhaW5lciApOwp9CgpmdW5jdGlvbiBtZF9zZXR1cF90aXRsZSggbWFwX2lkICkgewoJdmFyIG1hcERpdiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKG1hcF9pZCk7Cgl2YXIgbWFwVGl0bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICBtYXBUaXRsZS5jbGFzc05hbWUgPSAibWFwVGl0bGVDb250YWluZXIiOwogIG1hcFRpdGxlLmlkID0gIm1hcFRpdGxlQ29udGFpbmVyIittYXBfaWQ7CiAgbWFwRGl2LmFwcGVuZENoaWxkKCBtYXBUaXRsZSApOwp9CgpmdW5jdGlvbiBtZF9zZXR1cF92aWV3X3N0YXRlKCBtYXBfaWQgKSB7Cgl2YXIgbWFwRGl2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQobWFwX2lkKTsKCXZhciBtYXBWaWV3U3RhdGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICBtYXBWaWV3U3RhdGUuY2xhc3NOYW1lID0gIm1hcFZpZXdTdGF0ZUNvbnRhaW5lciI7CiAgbWFwVmlld1N0YXRlLmlkID0gIm1hcFZpZXdTdGF0ZUNvbnRhaW5lciIrbWFwX2lkOwogIG1hcERpdi5hcHBlbmRDaGlsZCggbWFwVmlld1N0YXRlICk7Cn0KCmZ1bmN0aW9uIG1kX3NldHVwX3Rvb2x0aXAoIG1hcF9pZCApIHsKCXZhciBtYXBEaXYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChtYXBfaWQpOwoJdmFyIHRvb2x0aXBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICB0b29sdGlwZGl2LnNldEF0dHJpYnV0ZSgiY2xhc3MiLCAibWFwZGVja3Rvb2x0aXAiKTsKICB0b29sdGlwZGl2LnNldEF0dHJpYnV0ZSgiaWQiLCAibWFwZGVja3Rvb2x0aXAiK21hcF9pZCk7CiAgbWFwRGl2LmFwcGVuZENoaWxkKHRvb2x0aXBkaXYpOwp9CgpmdW5jdGlvbiBtZF9kaXZfZXhpc3RzKCBkaXZfZWxlbWVudCApIHsKCWlmKCAhZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIGRpdl9lbGVtZW50ICkgKSB7CgkJcmV0dXJuKCBmYWxzZSApOwoJfQoJcmV0dXJuKCB0cnVlICk7Cn0KCi8vIGZvbGxvd2luZzogaHR0cHM6Ly9jb2RlcGVuLmlvL3Zpcy1nbC9wZW4vcExMUXBOCi8vIGFuZDogaHR0cHM6Ly9iZXRhLm9ic2VydmFibGVocS5jb20vQHBlc3NpbWlzdHJlc3MvZGVjay1nbC1nZW9qc29ubGF5ZXItZXhhbXBsZQpmdW5jdGlvbiBtZF91cGRhdGVfdG9vbHRpcCh7eCwgeSwgb2JqZWN0LCBsYXllciwgaW5kZXh9KSB7CiAgICAvLyBvYmplY3QgaXMgdGhlIGRhdGEgb2JqZWN0IHNlbnQgdG8gdGhlIGxheWVyIGZ1bmN0aW9uCgogIGlmKCAhbWRfZGl2X2V4aXN0cyggJ21hcGRlY2t0b29sdGlwJytsYXllci5wcm9wcy5tYXBfaWQgKSApIHsKICAJbWRfc2V0dXBfdG9vbHRpcCggbGF5ZXIucHJvcHMubWFwX2lkICk7CiAgfQoKICBjb25zdCB0b29sdGlwID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21hcGRlY2t0b29sdGlwJytsYXllci5wcm9wcy5tYXBfaWQpOwogIHZhciB0dDsKCiAgaWYgKG9iamVjdCkgewogIAlpZiggb2JqZWN0LnByb3BlcnRpZXMgIT09IHVuZGVmaW5lZCApIHsKCSAgCWlmICggb2JqZWN0LnByb3BlcnRpZXMudG9vbHRpcCAhPT0gdW5kZWZpbmVkICkgewoJICAJICB0dCA9IG9iamVjdC5wcm9wZXJ0aWVzLnRvb2x0aXA7CgkgIAl9IGVsc2UgewoJICAJCXJldHVybjsKCSAgCX0KCSAgfSBlbHNlIGlmICggb2JqZWN0LnRvb2x0aXAgIT09IHVuZGVmaW5lZCApIHsKCSAgCXR0ID0gb2JqZWN0LnRvb2x0aXA7CgkgIH0gZWxzZSB7CgkgIAlyZXR1cm47CgkgIH0KCiAgICB0b29sdGlwLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snOwogICAgdG9vbHRpcC5zdHlsZS50b3AgPSBgJHt5fXB4YDsKICAgIHRvb2x0aXAuc3R5bGUubGVmdCA9IGAke3h9cHhgOwogICAgdG9vbHRpcC5pbm5lckhUTUwgPSBgPGRpdj4ke3R0fTwvZGl2PmA7CiAgfSBlbHNlIHsKICAJdG9vbHRpcC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOwogICAgdG9vbHRpcC5pbm5lckhUTUwgPSAnJzsKICB9Cn0KCmZ1bmN0aW9uIG1kX3VwZGF0ZV9iaW5hcnlfdG9vbHRpcChsYXllciwgaWR4LCB4LCB5KSB7CgoJaWYoICFtZF9kaXZfZXhpc3RzKCAnbWFwZGVja3Rvb2x0aXAnKyBsYXllci5wcm9wcy5tYXBfaWQgKSApIHsKICAJbWRfc2V0dXBfdG9vbHRpcCggbGF5ZXIucHJvcHMubWFwX2lkICk7CiAgfQoKICBjb25zdCB0b29sdGlwID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoICdtYXBkZWNrdG9vbHRpcCcrbGF5ZXIucHJvcHMubWFwX2lkICk7CiAgdmFyIHR0OwoKCSAgaWYoIGxheWVyLnByb3BzLmRhdGEudG9vbHRpcCAmJiBpZHggPj0gMCApIHsKCSAgCXR0ID0gbGF5ZXIucHJvcHMuZGF0YS50b29sdGlwWyBpZHggXTsKCSAgCXRvb2x0aXAuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7CgkgICAgdG9vbHRpcC5zdHlsZS50b3AgPSBgJHt5fXB4YDsKCSAgICB0b29sdGlwLnN0eWxlLmxlZnQgPSBgJHt4fXB4YDsKCSAgICB0b29sdGlwLmlubmVySFRNTCA9IGA8ZGl2PiR7dHR9PC9kaXY+YDsKCSAgfSBlbHNlIHsKICAgIAl0b29sdGlwLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7CgkgICAgdG9vbHRpcC5pbm5lckhUTUwgPSAnJzsKICB9Cgp9CgoKZnVuY3Rpb24gbWRfaW5pdGlhbGlzZV9tYXAoZWwsIHgpIHsKCgkvLyBjYWxsIGluaXRpYWwgbGF5ZXJzCiAgaWYgKHguY2FsbHMgIT09IHVuZGVmaW5lZCkgewoKICAgIGZvciAobGF5ZXJDYWxscyA9IDA7IGxheWVyQ2FsbHMgPCB4LmNhbGxzLmxlbmd0aDsgbGF5ZXJDYWxscysrKSB7CgogICAgICAvL3B1c2ggdGhlIG1hcF9pZCBpbnRvIHRoZSBjYWxsLmFyZ3MKICAgICAgeC5jYWxsc1tsYXllckNhbGxzXS5hcmdzLnVuc2hpZnQoZWwuaWQpOwoKICAgICAgaWYgKHdpbmRvd1t4LmNhbGxzW2xheWVyQ2FsbHNdLmZ1bmN0aW9uc10pIHsKCiAgICAgICAgd2luZG93W3guY2FsbHNbbGF5ZXJDYWxsc10uZnVuY3Rpb25zXS5hcHBseSh3aW5kb3dbZWwuaWQgKyAnbWFwJ10sIHguY2FsbHNbbGF5ZXJDYWxsc10uYXJncyk7CgogICAgICB9IGVsc2UgewogICAgICAgIC8vY29uc29sZS5sb2coIlVua25vd24gZnVuY3Rpb24gIiArIHguY2FsbHNbbGF5ZXJDYWxsc10pOwogICAgICB9CiAgICB9CiAgfQoKfQoKCgpmdW5jdGlvbiBtZF9maW5kT2JqZWN0RWxlbWVudEJ5S2V5KGFycmF5LCBrZXksIHZhbHVlICkgewogICAgZm9yICggdmFyIGkgPSAwOyBpIDwgYXJyYXkubGVuZ3RoOyBpKyspIHsKICAgICAgICBpZiAoYXJyYXlbaV1ba2V5XSA9PT0gdmFsdWUpIHsKICAgICAgICAgICAgcmV0dXJuIGk7CiAgICAgICAgfQogICAgfQogICAgcmV0dXJuIC0xOwp9CgpmdW5jdGlvbiBtZF9sYXllcl9jbGVhciggbWFwX2lkLCBtYXBfdHlwZSwgbGF5ZXJfaWQsIGxheWVyICkgewoKICBpZiggbWFwX3R5cGUgPT0gIm1hcGRlY2siICkgewoJCW1kX2NsZWFyX2xheWVyKCBtYXBfaWQsIGxheWVyKyctJytsYXllcl9pZCApOwogIH0gZWxzZSBpZiAoIG1hcF90eXBlID09ICJnb29nbGVfbWFwIiApIHsKICAJbWRfY2xlYXJfb3ZlcmxheSggbWFwX2lkLCBsYXllcisnLScrbGF5ZXJfaWQgKTsKICB9CgogIG1kX3JlbW92ZV9mcm9tX2JvdW5kcyggbWFwX2lkLCBsYXllcl9pZCApOwoJbWRfdXBkYXRlX2xvY2F0aW9uKCBtYXBfaWQsIG1hcF90eXBlICk7CgltZF9jbGVhcl9sZWdlbmQoIG1hcF9pZCwgbWFwX3R5cGUsIGxheWVyX2lkICk7Cn0KCgpmdW5jdGlvbiBtZF91cGRhdGVfbGF5ZXIoIG1hcF9pZCwgbGF5ZXJfaWQsIGxheWVyICkgewoKICB2YXIgZWxlbSA9IG1kX2ZpbmRPYmplY3RFbGVtZW50QnlLZXkoIHdpbmRvd1ttYXBfaWQgKyAnbWFwJ10ucHJvcHMubGF5ZXJzLCAnaWQnLCBsYXllcl9pZCApOwogIGlmICggZWxlbSAhPSAtMSApIHsKICAJd2luZG93WyBtYXBfaWQgKyAnbGF5ZXJzJ11bZWxlbV0gPSBsYXllcjsKICB9IGVsc2UgewogIAl3aW5kb3dbbWFwX2lkICsgJ2xheWVycyddLnB1c2goIGxheWVyICk7CiAgfQoKICAvLyAjIyBpc3N1ZSAxMzcKICAvL3ZhciB2cyA9IHdpbmRvd1sgbWFwX2lkICsgJ21hcCddLnZpZXdTdGF0ZTsKCiAgd2luZG93W21hcF9pZCArICdtYXAnXS5zZXRQcm9wcyh7CiAgCWxheWVyczogWy4uLndpbmRvd1ttYXBfaWQgKyAnbGF5ZXJzJ10gXQogIAkvL3ZpZXdTdGF0ZTogdnMgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBpc3N1ZSAyMzkgLSB2aWV3U3RhdGUgbm8gbG9uZ2VyIHN1cHBvcnRlZCBpbiBkZWNrLmdsIHY4LjAuOAogIH0pOwp9CgpmdW5jdGlvbiBtZF9jbGVhcl9sYXllciggbWFwX2lkLCBsYXllcl9pZCApIHsKCiAgdmFyIGVsZW0gPSBtZF9maW5kT2JqZWN0RWxlbWVudEJ5S2V5KCB3aW5kb3dbbWFwX2lkICsgJ21hcCddLnByb3BzLmxheWVycywgJ2lkJywgbGF5ZXJfaWQpOwoKICBpZiAoIGVsZW0gIT0gLTEgKSB7CiAgCXdpbmRvd1sgbWFwX2lkICsgJ2xheWVycyddLnNwbGljZSggZWxlbSwgMSApOwogIH0KCiAgLy8gIyMgaXNzdWUgMTM3CiAgLy92YXIgdnMgPSB3aW5kb3dbIG1hcF9pZCArICdtYXAnXS52aWV3U3RhdGU7CiAgd2luZG93W21hcF9pZCArICdtYXAnXS5zZXRQcm9wcyh7CiAgCWxheWVyczogWy4uLndpbmRvd1ttYXBfaWQgKyAnbGF5ZXJzJ10gXQogIAkvL3ZpZXdTdGF0ZTogdnMgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gaXNzdWUgMjM5ICYgMjg2CiAgfSk7Cn0KCgpmdW5jdGlvbiBtZF91cGRhdGVfb3ZlcmxheSggbWFwX2lkLCBsYXllcl9pZCwgbGF5ZXIgKSB7CgogIGlmICggd2luZG93WyBtYXBfaWQgKyAnbGF5ZXJzJyBdID09IG51bGwgKSB7CiAgCXdpbmRvd1sgbWFwX2lkICsgJ2xheWVycycgXSA9IFtdOwogIH0KCiAgaWYgKCB3aW5kb3dbIG1hcF9pZCArICdHb29nbGVNYXBzT3ZlcmxheSddID09IG51bGwgKSB7CiAgCXdpbmRvd1sgbWFwX2lkICsgJ0dvb2dsZU1hcHNPdmVybGF5J10gPSBuZXcgZGVjay5Hb29nbGVNYXBzT3ZlcmxheSgpOwogIH0KCgl2YXIgZWxlbSA9IG1kX2ZpbmRPYmplY3RFbGVtZW50QnlLZXkoIHdpbmRvd1ttYXBfaWQgKyAnbGF5ZXJzJ10sICdpZCcsIGxheWVyX2lkICk7CgogIGlmICggZWxlbSAhPSAtMSApIHsKICAJd2luZG93WyBtYXBfaWQgKyAnbGF5ZXJzJ11bZWxlbV0gPSBsYXllcjsKICB9IGVsc2UgewogIAl3aW5kb3dbbWFwX2lkICsgJ2xheWVycyddLnB1c2goIGxheWVyICk7CiAgfQoKICB3aW5kb3dbIG1hcF9pZCArICdHb29nbGVNYXBzT3ZlcmxheSddLnNldFByb3BzKHsgbGF5ZXJzOiBbIC4uLndpbmRvd1ttYXBfaWQgKyAnbGF5ZXJzJ10gXSB9KTsKICBjb25zdCBvdmVybGF5ID0gd2luZG93WyBtYXBfaWQgKyAnR29vZ2xlTWFwc092ZXJsYXknXTsKICBvdmVybGF5LnNldE1hcCggd2luZG93W21hcF9pZCArICdtYXAnXSApOwp9CgoKZnVuY3Rpb24gbWRfY2xlYXJfb3ZlcmxheSggbWFwX2lkLCBsYXllcl9pZCApIHsKCXZhciBlbGVtID0gbWRfZmluZE9iamVjdEVsZW1lbnRCeUtleSggd2luZG93W21hcF9pZCArICdsYXllcnMnXSwgJ2lkJywgbGF5ZXJfaWQgKTsKCWlmKCBlbGVtICE9IC0xICkgewoJCXdpbmRvd1sgbWFwX2lkICsgJ2xheWVycyddLnNwbGljZSggZWxlbSwgMSApOwoJfQoKCXdpbmRvd1sgbWFwX2lkICsgJ0dvb2dsZU1hcHNPdmVybGF5J10uc2V0UHJvcHMoeyBsYXllcnM6IFsgLi4ud2luZG93W21hcF9pZCArICdsYXllcnMnXSBdIH0pOwogIGNvbnN0IG92ZXJsYXkgPSB3aW5kb3dbIG1hcF9pZCArICdHb29nbGVNYXBzT3ZlcmxheSddOwogIG92ZXJsYXkuc2V0TWFwKCB3aW5kb3dbbWFwX2lkICsgJ21hcCddICk7Cgp9CgpmdW5jdGlvbiBtZF9sYXllcl9jbGljayggbWFwX2lkLCBsYXllciwgaW5mbyApIHsKCiAgaWYgKCAhSFRNTFdpZGdldHMuc2hpbnlNb2RlICkgewogICAgcmV0dXJuOwogIH0KCiAgdmFyIGV2ZW50SW5mbyA9IHsKICAJaW5kZXg6IGluZm8uaW5kZXgsCiAgCWNvbG9yOiBpbmZvLmNvbG9yLAogIAlvYmplY3Q6IGluZm8ub2JqZWN0LAogIAlsYXllcklkOiBpbmZvLmxheWVyX2lkLAogIAlsYXQ6IGluZm8ubG5nTGF0WzFdLAogIAlsb246IGluZm8ubG5nTGF0WzBdCiAgfTsKCiAgZXZlbnRJbmZvID0gSlNPTi5zdHJpbmdpZnkoIGV2ZW50SW5mbyApOwogIFNoaW55Lm9uSW5wdXRDaGFuZ2UobWFwX2lkICsgIl8iICsgbGF5ZXIgKyAiX2NsaWNrIiwgZXZlbnRJbmZvKTsKfQoKCgoKCg=="></script>
<script src="data:application/javascript;base64,IWZ1bmN0aW9uKHQsZSl7Im9iamVjdCI9PXR5cGVvZiBleHBvcnRzJiYib2JqZWN0Ij09dHlwZW9mIG1vZHVsZT9tb2R1bGUuZXhwb3J0cz1lKHJlcXVpcmUoImgzIikpOiJmdW5jdGlvbiI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKFsiaDMiXSxlKToib2JqZWN0Ij09dHlwZW9mIGV4cG9ydHM/ZXhwb3J0cy5kZWNrPWUocmVxdWlyZSgiaDMiKSk6dC5kZWNrPWUodC5oMyl9KHdpbmRvdywoZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKHQpe3ZhciBlPXt9O2Z1bmN0aW9uIG4ocil7aWYoZVtyXSlyZXR1cm4gZVtyXS5leHBvcnRzO3ZhciBpPWVbcl09e2k6cixsOiExLGV4cG9ydHM6e319O3JldHVybiB0W3JdLmNhbGwoaS5leHBvcnRzLGksaS5leHBvcnRzLG4pLGkubD0hMCxpLmV4cG9ydHN9cmV0dXJuIG4ubT10LG4uYz1lLG4uZD1mdW5jdGlvbih0LGUscil7bi5vKHQsZSl8fE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LGUse2VudW1lcmFibGU6ITAsZ2V0OnJ9KX0sbi5yPWZ1bmN0aW9uKHQpeyJ1bmRlZmluZWQiIT10eXBlb2YgU3ltYm9sJiZTeW1ib2wudG9TdHJpbmdUYWcmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFN5bWJvbC50b1N0cmluZ1RhZyx7dmFsdWU6Ik1vZHVsZSJ9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSl9LG4udD1mdW5jdGlvbih0LGUpe2lmKDEmZSYmKHQ9bih0KSksOCZlKXJldHVybiB0O2lmKDQmZSYmIm9iamVjdCI9PXR5cGVvZiB0JiZ0JiZ0Ll9fZXNNb2R1bGUpcmV0dXJuIHQ7dmFyIHI9T2JqZWN0LmNyZWF0ZShudWxsKTtpZihuLnIociksT2JqZWN0LmRlZmluZVByb3BlcnR5KHIsImRlZmF1bHQiLHtlbnVtZXJhYmxlOiEwLHZhbHVlOnR9KSwyJmUmJiJzdHJpbmciIT10eXBlb2YgdClmb3IodmFyIGkgaW4gdCluLmQocixpLGZ1bmN0aW9uKGUpe3JldHVybiB0W2VdfS5iaW5kKG51bGwsaSkpO3JldHVybiByfSxuLm49ZnVuY3Rpb24odCl7dmFyIGU9dCYmdC5fX2VzTW9kdWxlP2Z1bmN0aW9uKCl7cmV0dXJuIHQuZGVmYXVsdH06ZnVuY3Rpb24oKXtyZXR1cm4gdH07cmV0dXJuIG4uZChlLCJhIixlKSxlfSxuLm89ZnVuY3Rpb24odCxlKXtyZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQsZSl9LG4ucD0iIixuKG4ucz0yMzkpfShbZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiByKHQsZSxuKXtyZXR1cm4gZSBpbiB0P09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LGUse3ZhbHVlOm4sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITB9KTp0W2VdPW4sdH1uLmQoZSwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIHJ9KSl9LGZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcigiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uIil9fSxmdW5jdGlvbih0LGUpe2Z1bmN0aW9uIG4odCxlKXtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIHI9ZVtuXTtyLmVudW1lcmFibGU9ci5lbnVtZXJhYmxlfHwhMSxyLmNvbmZpZ3VyYWJsZT0hMCwidmFsdWUiaW4gciYmKHIud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LHIua2V5LHIpfX10LmV4cG9ydHM9ZnVuY3Rpb24odCxlLHIpe3JldHVybiBlJiZuKHQucHJvdG90eXBlLGUpLHImJm4odCxyKSx0fX0sZnVuY3Rpb24odCxlKXtmdW5jdGlvbiBuKGUpe3JldHVybiB0LmV4cG9ydHM9bj1PYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LmdldFByb3RvdHlwZU9mOmZ1bmN0aW9uKHQpe3JldHVybiB0Ll9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKHQpfSxuKGUpfXQuZXhwb3J0cz1ufSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz1mdW5jdGlvbih0LGUsbil7cmV0dXJuIGUgaW4gdD9PYmplY3QuZGVmaW5lUHJvcGVydHkodCxlLHt2YWx1ZTpuLGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwfSk6dFtlXT1uLHR9fSxmdW5jdGlvbih0LGUsbil7dC5leHBvcnRzPW4oMjUyKX0sZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiByKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcigiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uIil9bi5kKGUsImEiLChmdW5jdGlvbigpe3JldHVybiByfSkpfSxmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIHIodCxlKXtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIHI9ZVtuXTtyLmVudW1lcmFibGU9ci5lbnVtZXJhYmxlfHwhMSxyLmNvbmZpZ3VyYWJsZT0hMCwidmFsdWUiaW4gciYmKHIud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LHIua2V5LHIpfX1mdW5jdGlvbiBpKHQsZSxuKXtyZXR1cm4gZSYmcih0LnByb3RvdHlwZSxlKSxuJiZyKHQsbiksdH1uLmQoZSwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIGl9KSl9LGZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dmFyIHI9big1OCk7bi5kKGUsImEiLChmdW5jdGlvbigpe3JldHVybiByLmF9KSksbi5kKGUsImIiLChmdW5jdGlvbigpe3JldHVybiByLmJ9KSksbi5kKGUsImMiLChmdW5jdGlvbigpe3JldHVybiByLmN9KSksbi5kKGUsImQiLChmdW5jdGlvbigpe3JldHVybiByLmR9KSksbi5kKGUsImUiLChmdW5jdGlvbigpe3JldHVybiByLmV9KSksbi5kKGUsImYiLChmdW5jdGlvbigpe3JldHVybiByLmZ9KSksbi5kKGUsImciLChmdW5jdGlvbigpe3JldHVybiByLmd9KSksbi5kKGUsImgiLChmdW5jdGlvbigpe3JldHVybiByLmh9KSksbi5kKGUsImkiLChmdW5jdGlvbigpe3JldHVybiByLml9KSksbi5kKGUsImoiLChmdW5jdGlvbigpe3JldHVybiByLmp9KSksbi5kKGUsImsiLChmdW5jdGlvbigpe3JldHVybiByLmt9KSksbi5kKGUsImwiLChmdW5jdGlvbigpe3JldHVybiByLmx9KSksbi5kKGUsIm0iLChmdW5jdGlvbigpe3JldHVybiByLm19KSksbi5kKGUsIm4iLChmdW5jdGlvbigpe3JldHVybiByLm59KSl9LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDQxKSxpPW4oMTg0KTt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlKXtyZXR1cm4hZXx8Im9iamVjdCIhPT1yKGUpJiYiZnVuY3Rpb24iIT10eXBlb2YgZT9pKHQpOmV9fSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigyNTMpO3QuZXhwb3J0cz1mdW5jdGlvbih0LGUpe2lmKCJmdW5jdGlvbiIhPXR5cGVvZiBlJiZudWxsIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiIpO3QucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZSYmZS5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTp0LHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSxlJiZyKHQsZSl9fSxmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oMzUpLGk9e307ZnVuY3Rpb24gYSh0LGUpe3ZhciBuO2lbdF09ITAsdm9pZCAwIT09ZSYmKG49ZSxyLmdsb2JhbC5jb25zb2xlJiZyLmdsb2JhbC5jb25zb2xlLmVycm9yJiZyLmdsb2JhbC5jb25zb2xlLmVycm9yKG4pKX12YXIgbz1mdW5jdGlvbiB0KGUpe3ZhciBuPWUuZ2w7dGhpcy5leHQ9ZSx0aGlzLmlzQWxpdmU9ITAsdGhpcy5oYXNCZWVuQm91bmQ9ITEsdGhpcy5lbGVtZW50QXJyYXlCdWZmZXI9bnVsbCx0aGlzLmF0dHJpYnM9bmV3IEFycmF5KGUubWF4VmVydGV4QXR0cmlicyk7Zm9yKHZhciByPTA7cjx0aGlzLmF0dHJpYnMubGVuZ3RoO3IrKyl7dmFyIGk9bmV3IHQuVmVydGV4QXR0cmliKG4pO3RoaXMuYXR0cmlic1tyXT1pfXRoaXMubWF4QXR0cmliPTB9OyhvLlZlcnRleEF0dHJpYj1mdW5jdGlvbih0KXt0aGlzLmVuYWJsZWQ9ITEsdGhpcy5idWZmZXI9bnVsbCx0aGlzLnNpemU9NCx0aGlzLnR5cGU9NTEyNix0aGlzLm5vcm1hbGl6ZWQ9ITEsdGhpcy5zdHJpZGU9MTYsdGhpcy5vZmZzZXQ9MCx0aGlzLmNhY2hlZD0iIix0aGlzLnJlY2FjaGUoKX0pLnByb3RvdHlwZS5yZWNhY2hlPWZ1bmN0aW9uKCl7dGhpcy5jYWNoZWQ9W3RoaXMuc2l6ZSx0aGlzLnR5cGUsdGhpcy5ub3JtYWxpemVkLHRoaXMuc3RyaWRlLHRoaXMub2Zmc2V0XS5qb2luKCI6Iil9O3ZhciBzPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7dGhpcy5nbD10LGZ1bmN0aW9uKHQpe3ZhciBlPXQuZ2V0RXJyb3I7dC5nZXRFcnJvcj1mdW5jdGlvbigpe3ZhciBuO2RvezAhPT0obj1lLmFwcGx5KHQpKSYmKGlbbl09ITApfXdoaWxlKDAhPT1uKTtmb3IobiBpbiBpKWlmKGlbbl0pcmV0dXJuIGRlbGV0ZSBpW25dLHBhcnNlSW50KG4sMTApO3JldHVybiAwfX0odCk7dmFyIG49dGhpcy5vcmlnaW5hbD17Z2V0UGFyYW1ldGVyOnQuZ2V0UGFyYW1ldGVyLGVuYWJsZVZlcnRleEF0dHJpYkFycmF5OnQuZW5hYmxlVmVydGV4QXR0cmliQXJyYXksZGlzYWJsZVZlcnRleEF0dHJpYkFycmF5OnQuZGlzYWJsZVZlcnRleEF0dHJpYkFycmF5LGJpbmRCdWZmZXI6dC5iaW5kQnVmZmVyLGdldFZlcnRleEF0dHJpYjp0LmdldFZlcnRleEF0dHJpYix2ZXJ0ZXhBdHRyaWJQb2ludGVyOnQudmVydGV4QXR0cmliUG9pbnRlcn07dC5nZXRQYXJhbWV0ZXI9ZnVuY3Rpb24odCl7cmV0dXJuIHQ9PT1lLlZFUlRFWF9BUlJBWV9CSU5ESU5HX09FUz9lLmN1cnJlbnRWZXJ0ZXhBcnJheU9iamVjdD09PWUuZGVmYXVsdFZlcnRleEFycmF5T2JqZWN0P251bGw6ZS5jdXJyZW50VmVydGV4QXJyYXlPYmplY3Q6bi5nZXRQYXJhbWV0ZXIuYXBwbHkodGhpcyxhcmd1bWVudHMpfSx0LmVuYWJsZVZlcnRleEF0dHJpYkFycmF5PWZ1bmN0aW9uKHQpe3ZhciByPWUuY3VycmVudFZlcnRleEFycmF5T2JqZWN0O3IubWF4QXR0cmliPU1hdGgubWF4KHIubWF4QXR0cmliLHQpO3ZhciBpPXIuYXR0cmlic1t0XTtyZXR1cm4gaS5lbmFibGVkPSEwLG4uZW5hYmxlVmVydGV4QXR0cmliQXJyYXkuYXBwbHkodGhpcyxhcmd1bWVudHMpfSx0LmRpc2FibGVWZXJ0ZXhBdHRyaWJBcnJheT1mdW5jdGlvbih0KXt2YXIgcj1lLmN1cnJlbnRWZXJ0ZXhBcnJheU9iamVjdDtyLm1heEF0dHJpYj1NYXRoLm1heChyLm1heEF0dHJpYix0KTt2YXIgaT1yLmF0dHJpYnNbdF07cmV0dXJuIGkuZW5hYmxlZD0hMSxuLmRpc2FibGVWZXJ0ZXhBdHRyaWJBcnJheS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LHQuYmluZEJ1ZmZlcj1mdW5jdGlvbih0LHIpe3N3aXRjaCh0KXtjYXNlIDM0OTYyOmUuY3VycmVudEFycmF5QnVmZmVyPXI7YnJlYWs7Y2FzZSAzNDk2MzplLmN1cnJlbnRWZXJ0ZXhBcnJheU9iamVjdC5lbGVtZW50QXJyYXlCdWZmZXI9cn1yZXR1cm4gbi5iaW5kQnVmZmVyLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sdC5nZXRWZXJ0ZXhBdHRyaWI9ZnVuY3Rpb24odCxyKXt2YXIgaT1lLmN1cnJlbnRWZXJ0ZXhBcnJheU9iamVjdCxhPWkuYXR0cmlic1t0XTtzd2l0Y2gocil7Y2FzZSAzNDk3NTpyZXR1cm4gYS5idWZmZXI7Y2FzZSAzNDMzODpyZXR1cm4gYS5lbmFibGVkO2Nhc2UgMzQzMzk6cmV0dXJuIGEuc2l6ZTtjYXNlIDM0MzQwOnJldHVybiBhLnN0cmlkZTtjYXNlIDM0MzQxOnJldHVybiBhLnR5cGU7Y2FzZSAzNDkyMjpyZXR1cm4gYS5ub3JtYWxpemVkO2RlZmF1bHQ6cmV0dXJuIG4uZ2V0VmVydGV4QXR0cmliLmFwcGx5KHRoaXMsYXJndW1lbnRzKX19LHQudmVydGV4QXR0cmliUG9pbnRlcj1mdW5jdGlvbih0LHIsaSxhLG8scyl7dmFyIHU9ZS5jdXJyZW50VmVydGV4QXJyYXlPYmplY3Q7dS5tYXhBdHRyaWI9TWF0aC5tYXgodS5tYXhBdHRyaWIsdCk7dmFyIGM9dS5hdHRyaWJzW3RdO3JldHVybiBjLmJ1ZmZlcj1lLmN1cnJlbnRBcnJheUJ1ZmZlcixjLnNpemU9cixjLnR5cGU9aSxjLm5vcm1hbGl6ZWQ9YSxjLnN0cmlkZT1vLGMub2Zmc2V0PXMsYy5yZWNhY2hlKCksbi52ZXJ0ZXhBdHRyaWJQb2ludGVyLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sdC5pbnN0cnVtZW50RXh0ZW5zaW9uJiZ0Lmluc3RydW1lbnRFeHRlbnNpb24odGhpcywiT0VTX3ZlcnRleF9hcnJheV9vYmplY3QiKSx0LmNhbnZhcyYmdC5jYW52YXMuYWRkRXZlbnRMaXN0ZW5lcigid2ViZ2xjb250ZXh0cmVzdG9yZWQiLChmdW5jdGlvbigpe3ZhciB0O3Q9Ik9FU1ZlcnRleEFycmF5T2JqZWN0IGVtdWxhdGlvbiBsaWJyYXJ5IGNvbnRleHQgcmVzdG9yZWQiLHIuZ2xvYmFsLmNvbnNvbGUmJnIuZ2xvYmFsLmNvbnNvbGUubG9nJiZyLmdsb2JhbC5jb25zb2xlLmxvZyh0KSxlLnJlc2V0XygpfSksITApLHRoaXMucmVzZXRfKCl9O3MucHJvdG90eXBlLlZFUlRFWF9BUlJBWV9CSU5ESU5HX09FUz0zNDIyOSxzLnByb3RvdHlwZS5yZXNldF89ZnVuY3Rpb24oKXtpZih2b2lkIDAhPT10aGlzLnZlcnRleEFycmF5T2JqZWN0cylmb3IodmFyIHQ9MDt0PHRoaXMudmVydGV4QXJyYXlPYmplY3RzLmxlbmd0aDsrK3QpdGhpcy52ZXJ0ZXhBcnJheU9iamVjdHMuaXNBbGl2ZT0hMTt2YXIgZT10aGlzLmdsO3RoaXMubWF4VmVydGV4QXR0cmlicz1lLmdldFBhcmFtZXRlcigzNDkyMSksdGhpcy5kZWZhdWx0VmVydGV4QXJyYXlPYmplY3Q9bmV3IG8odGhpcyksdGhpcy5jdXJyZW50VmVydGV4QXJyYXlPYmplY3Q9bnVsbCx0aGlzLmN1cnJlbnRBcnJheUJ1ZmZlcj1udWxsLHRoaXMudmVydGV4QXJyYXlPYmplY3RzPVt0aGlzLmRlZmF1bHRWZXJ0ZXhBcnJheU9iamVjdF0sdGhpcy5iaW5kVmVydGV4QXJyYXlPRVMobnVsbCl9LHMucHJvdG90eXBlLmNyZWF0ZVZlcnRleEFycmF5T0VTPWZ1bmN0aW9uKCl7dmFyIHQ9bmV3IG8odGhpcyk7cmV0dXJuIHRoaXMudmVydGV4QXJyYXlPYmplY3RzLnB1c2godCksdH0scy5wcm90b3R5cGUuZGVsZXRlVmVydGV4QXJyYXlPRVM9ZnVuY3Rpb24odCl7dC5pc0FsaXZlPSExLHRoaXMudmVydGV4QXJyYXlPYmplY3RzLnNwbGljZSh0aGlzLnZlcnRleEFycmF5T2JqZWN0cy5pbmRleE9mKHQpLDEpLHRoaXMuY3VycmVudFZlcnRleEFycmF5T2JqZWN0PT09dCYmdGhpcy5iaW5kVmVydGV4QXJyYXlPRVMobnVsbCl9LHMucHJvdG90eXBlLmlzVmVydGV4QXJyYXlPRVM9ZnVuY3Rpb24odCl7cmV0dXJuISEodCYmdCBpbnN0YW5jZW9mIG8mJnQuaGFzQmVlbkJvdW5kJiZ0LmV4dD09PXRoaXMpfSxzLnByb3RvdHlwZS5iaW5kVmVydGV4QXJyYXlPRVM9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5nbDtpZighdHx8dC5pc0FsaXZlKXt2YXIgbj10aGlzLm9yaWdpbmFsLHI9dGhpcy5jdXJyZW50VmVydGV4QXJyYXlPYmplY3Q7dGhpcy5jdXJyZW50VmVydGV4QXJyYXlPYmplY3Q9dHx8dGhpcy5kZWZhdWx0VmVydGV4QXJyYXlPYmplY3QsdGhpcy5jdXJyZW50VmVydGV4QXJyYXlPYmplY3QuaGFzQmVlbkJvdW5kPSEwO3ZhciBpPXRoaXMuY3VycmVudFZlcnRleEFycmF5T2JqZWN0O2lmKHIhPT1pKXtyJiZpLmVsZW1lbnRBcnJheUJ1ZmZlcj09PXIuZWxlbWVudEFycmF5QnVmZmVyfHxuLmJpbmRCdWZmZXIuY2FsbChlLDM0OTYzLGkuZWxlbWVudEFycmF5QnVmZmVyKTtmb3IodmFyIG89dGhpcy5jdXJyZW50QXJyYXlCdWZmZXIscz1NYXRoLm1heChyP3IubWF4QXR0cmliOjAsaS5tYXhBdHRyaWIpLHU9MDt1PD1zO3UrKyl7dmFyIGM9aS5hdHRyaWJzW3VdLGw9cj9yLmF0dHJpYnNbdV06bnVsbDtpZihyJiZjLmVuYWJsZWQ9PT1sLmVuYWJsZWR8fChjLmVuYWJsZWQ/bi5lbmFibGVWZXJ0ZXhBdHRyaWJBcnJheS5jYWxsKGUsdSk6bi5kaXNhYmxlVmVydGV4QXR0cmliQXJyYXkuY2FsbChlLHUpKSxjLmVuYWJsZWQpe3ZhciBoPSExO3ImJmMuYnVmZmVyPT09bC5idWZmZXJ8fChvIT09Yy5idWZmZXImJihuLmJpbmRCdWZmZXIuY2FsbChlLDM0OTYyLGMuYnVmZmVyKSxvPWMuYnVmZmVyKSxoPSEwKSwoaHx8Yy5jYWNoZWQhPT1sLmNhY2hlZCkmJm4udmVydGV4QXR0cmliUG9pbnRlci5jYWxsKGUsdSxjLnNpemUsYy50eXBlLGMubm9ybWFsaXplZCxjLnN0cmlkZSxjLm9mZnNldCl9fXRoaXMuY3VycmVudEFycmF5QnVmZmVyIT09byYmbi5iaW5kQnVmZmVyLmNhbGwoZSwzNDk2Mix0aGlzLmN1cnJlbnRBcnJheUJ1ZmZlcil9fWVsc2UgYSgxMjgyLCJiaW5kVmVydGV4QXJyYXlPRVM6IGF0dGVtcHQgdG8gYmluZCBkZWxldGVkIGFycmF5T2JqZWN0Iil9O3ZhciB1PW4oMjc4KTtmdW5jdGlvbiBjKHQsZSl7aWYoIXQpdGhyb3cgbmV3IEVycm9yKGV8fCJsdW1hLmdsOiBhc3NlcnRpb24gZmFpbGVkLiIpfWZ1bmN0aW9uIGwodCl7Zm9yKHZhciBlIGluIHQpcmV0dXJuITE7cmV0dXJuITB9ZnVuY3Rpb24gaCh0LGUpe2lmKHQ9PT1lKXJldHVybiEwO3ZhciBuPUFycmF5LmlzQXJyYXkodCl8fEFycmF5QnVmZmVyLmlzVmlldyh0KSxyPUFycmF5LmlzQXJyYXkoZSl8fEFycmF5QnVmZmVyLmlzVmlldyhlKTtpZihuJiZyJiZ0Lmxlbmd0aD09PWUubGVuZ3RoKXtmb3IodmFyIGk9MDtpPHQubGVuZ3RoOysraSlpZih0W2ldIT09ZVtpXSlyZXR1cm4hMTtyZXR1cm4hMH1yZXR1cm4hMX1mdW5jdGlvbiBmKHQpe2lmKHQuY2FudmFzJiZ0Lmx1bWEpe3ZhciBlPXQubHVtYS5jYW52YXNTaXplSW5mby5jbGllbnRXaWR0aDtyZXR1cm4gZT90LmRyYXdpbmdCdWZmZXJXaWR0aC9lOjF9cmV0dXJuIDF9ZnVuY3Rpb24gZCh0LGUpe3ZhciBuPSEoYXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0pfHxhcmd1bWVudHNbMl0scj1mKHQpLGk9dC5kcmF3aW5nQnVmZmVyV2lkdGgsYT10LmRyYXdpbmdCdWZmZXJIZWlnaHQ7cmV0dXJuIHAoZSxyLGksYSxuKX1mdW5jdGlvbiB2KHQpe3ZhciBlPSJ1bmRlZmluZWQiPT10eXBlb2Ygd2luZG93PzE6d2luZG93LmRldmljZVBpeGVsUmF0aW98fDE7cmV0dXJuIE51bWJlci5pc0Zpbml0ZSh0KT90PD0wPzE6dDp0P2U6MX1mdW5jdGlvbiBwKHQsZSxuLHIsaSl7dmFyIGEsbz1nKHRbMF0sZSxuKSxzPXkodFsxXSxlLHIsaSksdT1nKHRbMF0rMSxlLG4pLGM9dT09PW4tMT91OnUtMTtyZXR1cm4gdT15KHRbMV0rMSxlLHIsaSksaT8oYT1zLHM9dT0wPT09dT91OnUrMSk6YT11PT09ci0xP3U6dS0xLHt4Om8seTpzLHdpZHRoOk1hdGgubWF4KGMtbysxLDEpLGhlaWdodDpNYXRoLm1heChhLXMrMSwxKX19ZnVuY3Rpb24gZyh0LGUsbil7cmV0dXJuIE1hdGgubWluKE1hdGgucm91bmQodCplKSxuLTEpfWZ1bmN0aW9uIHkodCxlLG4scil7cmV0dXJuIHI/TWF0aC5tYXgoMCxuLTEtTWF0aC5yb3VuZCh0KmUpKTpNYXRoLm1pbihNYXRoLnJvdW5kKHQqZSksbi0xKX1mdW5jdGlvbiBtKHQpe3JldHVybiBCb29sZWFuKHQmJk51bWJlci5pc0Zpbml0ZSh0Ll92ZXJzaW9uKSl9ZnVuY3Rpb24gYih0KXtyZXR1cm4gQm9vbGVhbih0JiYyPT09dC5fdmVyc2lvbil9dmFyIF8sTyx4PW5ldyB1LmEoe2lkOiJsdW1hLmdsIn0pLHc9bigwKSxrPWZ1bmN0aW9uKHQpe3JldHVybiBiKHQpP3ZvaWQgMDowfSxTPShfPXt9LE9iamVjdCh3LmEpKF8sMzA3NCwoZnVuY3Rpb24odCl7cmV0dXJuIGIodCk/dm9pZCAwOjM2MDY0fSkpLE9iamVjdCh3LmEpKF8sMzU3MjMsKGZ1bmN0aW9uKHQpe3JldHVybiBiKHQpP3ZvaWQgMDo0MzUyfSkpLE9iamVjdCh3LmEpKF8sMzU5NzcsayksT2JqZWN0KHcuYSkoXywzMjkzNyxrKSxPYmplY3Qody5hKShfLDM2Nzk1LChmdW5jdGlvbih0LGUpe3ZhciBuPWIodCk/dC5nZXRFeHRlbnNpb24oIkVYVF9kaXNqb2ludF90aW1lcl9xdWVyeV93ZWJnbDIiKTp0LmdldEV4dGVuc2lvbigiRVhUX2Rpc2pvaW50X3RpbWVyX3F1ZXJ5Iik7cmV0dXJuIG4mJm4uR1BVX0RJU0pPSU5UX0VYVD9lKG4uR1BVX0RJU0pPSU5UX0VYVCk6MH0pKSxPYmplY3Qody5hKShfLDM3NDQ1LChmdW5jdGlvbih0LGUpe3ZhciBuPXQuZ2V0RXh0ZW5zaW9uKCJXRUJHTF9kZWJ1Z19yZW5kZXJlcl9pbmZvIik7cmV0dXJuIGUobiYmbi5VTk1BU0tFRF9WRU5ET1JfV0VCR0x8fDc5MzYpfSkpLE9iamVjdCh3LmEpKF8sMzc0NDYsKGZ1bmN0aW9uKHQsZSl7dmFyIG49dC5nZXRFeHRlbnNpb24oIldFQkdMX2RlYnVnX3JlbmRlcmVyX2luZm8iKTtyZXR1cm4gZShuJiZuLlVOTUFTS0VEX1JFTkRFUkVSX1dFQkdMfHw3OTM3KX0pKSxPYmplY3Qody5hKShfLDM0MDQ3LChmdW5jdGlvbih0LGUpe3ZhciBuPXQubHVtYS5leHRlbnNpb25zLkVYVF90ZXh0dXJlX2ZpbHRlcl9hbmlzb3Ryb3BpYztyZXR1cm4gbj9lKG4uTUFYX1RFWFRVUkVfTUFYX0FOSVNPVFJPUFlfRVhUKToxfSkpLE9iamVjdCh3LmEpKF8sMzI4ODMsayksT2JqZWN0KHcuYSkoXywzNTA3MSxrKSxPYmplY3Qody5hKShfLDM3NDQ3LGspLE9iamVjdCh3LmEpKF8sMzYwNjMsKGZ1bmN0aW9uKHQsZSl7aWYoIWIodCkpe3ZhciBuPXQuZ2V0RXh0ZW5zaW9uKCJXRUJHTF9kcmF3X2J1ZmZlcnMiKTtyZXR1cm4gbj9lKG4uTUFYX0NPTE9SX0FUVEFDSE1FTlRTX1dFQkdMKTowfX0pKSxPYmplY3Qody5hKShfLDM1Mzc5LGspLE9iamVjdCh3LmEpKF8sMzUzNzQsayksT2JqZWN0KHcuYSkoXywzNTM3NyxrKSxPYmplY3Qody5hKShfLDM0ODUyLChmdW5jdGlvbih0KXtpZighYih0KSl7dmFyIGU9dC5nZXRFeHRlbnNpb24oIldFQkdMX2RyYXdfYnVmZmVycyIpO3JldHVybiBlP2UuTUFYX0RSQVdfQlVGRkVSU19XRUJHTDowfX0pKSxPYmplY3Qody5hKShfLDM2MjAzLChmdW5jdGlvbih0KXtyZXR1cm4gdC5nZXRFeHRlbnNpb24oIk9FU19lbGVtZW50X2luZGV4Iik/MjE0NzQ4MzY0Nzo2NTUzNX0pKSxPYmplY3Qody5hKShfLDMzMDAxLChmdW5jdGlvbih0KXtyZXR1cm4gdC5nZXRFeHRlbnNpb24oIk9FU19lbGVtZW50X2luZGV4Iik/MTY3NzcyMTY6NjU1MzV9KSksT2JqZWN0KHcuYSkoXywzM2UzLChmdW5jdGlvbih0KXtyZXR1cm4gMTY3NzcyMTZ9KSksT2JqZWN0KHcuYSkoXywzNzE1NyxrKSxPYmplY3Qody5hKShfLDM1MzczLGspLE9iamVjdCh3LmEpKF8sMzU2NTcsayksT2JqZWN0KHcuYSkoXywzNjE4MyxrKSxPYmplY3Qody5hKShfLDM3MTM3LGspLE9iamVjdCh3LmEpKF8sMzQwNDUsayksT2JqZWN0KHcuYSkoXywzNTk3OCxrKSxPYmplY3Qody5hKShfLDM1OTc5LGspLE9iamVjdCh3LmEpKF8sMzU5NjgsayksT2JqZWN0KHcuYSkoXywzNTM3NixrKSxPYmplY3Qody5hKShfLDM1Mzc1LGspLE9iamVjdCh3LmEpKF8sMzU2NTksayksT2JqZWN0KHcuYSkoXywzNzE1NCxrKSxPYmplY3Qody5hKShfLDM1MzcxLGspLE9iamVjdCh3LmEpKF8sMzU2NTgsayksT2JqZWN0KHcuYSkoXywzNTA3NixrKSxPYmplY3Qody5hKShfLDM1MDc3LGspLE9iamVjdCh3LmEpKF8sMzUzODAsayksXyk7dmFyIFA9KE89e30sT2JqZWN0KHcuYSkoTywiT0VTX3ZlcnRleF9hcnJheV9vYmplY3QiLHttZXRhOntzdWZmaXg6Ik9FUyJ9LGNyZWF0ZVZlcnRleEFycmF5OmZ1bmN0aW9uKCl7YyghMSwiVmVydGV4QXJyYXkgcmVxdWlyZXMgV2ViR0wyIG9yIE9FU192ZXJ0ZXhfYXJyYXlfb2JqZWN0IGV4dGVuc2lvbiIpfSxkZWxldGVWZXJ0ZXhBcnJheTpmdW5jdGlvbigpe30sYmluZFZlcnRleEFycmF5OmZ1bmN0aW9uKCl7fSxpc1ZlcnRleEFycmF5OmZ1bmN0aW9uKCl7cmV0dXJuITF9fSksT2JqZWN0KHcuYSkoTywiQU5HTEVfaW5zdGFuY2VkX2FycmF5cyIse21ldGE6e3N1ZmZpeDoiQU5HTEUifSx2ZXJ0ZXhBdHRyaWJEaXZpc29yOmZ1bmN0aW9uKHQsZSl7YygwPT09ZSwiV2ViR0wgaW5zdGFuY2VkIHJlbmRlcmluZyBub3Qgc3VwcG9ydGVkIil9LGRyYXdFbGVtZW50c0luc3RhbmNlZDpmdW5jdGlvbigpe30sZHJhd0FycmF5c0luc3RhbmNlZDpmdW5jdGlvbigpe319KSxPYmplY3Qody5hKShPLCJXRUJHTF9kcmF3X2J1ZmZlcnMiLHttZXRhOntzdWZmaXg6IldFQkdMIn0sZHJhd0J1ZmZlcnM6ZnVuY3Rpb24oKXtjKCExKX19KSxPYmplY3Qody5hKShPLCJFWFRfZGlzam9pbnRfdGltZXJfcXVlcnkiLHttZXRhOntzdWZmaXg6IkVYVCJ9LGNyZWF0ZVF1ZXJ5OmZ1bmN0aW9uKCl7YyghMSl9LGRlbGV0ZVF1ZXJ5OmZ1bmN0aW9uKCl7YyghMSl9LGJlZ2luUXVlcnk6ZnVuY3Rpb24oKXtjKCExKX0sZW5kUXVlcnk6ZnVuY3Rpb24oKXt9LGdldFF1ZXJ5OmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuZ2V0UXVlcnlPYmplY3QodCxlKX0sZ2V0UXVlcnlQYXJhbWV0ZXI6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5nZXRRdWVyeU9iamVjdCh0LGUpfSxnZXRRdWVyeU9iamVjdDpmdW5jdGlvbigpe319KSxPKSxqPXtyZWFkQnVmZmVyOmZ1bmN0aW9uKHQsZSxuKXtiKHQpJiZlKG4pfSxnZXRWZXJ0ZXhBdHRyaWI6ZnVuY3Rpb24odCxlLG4scil7dmFyIGksYT1mdW5jdGlvbih0LGUpe3JldHVybnt3ZWJnbDI6Yih0KSxleHQ6dC5nZXRFeHRlbnNpb24oZSl9fSh0LCJBTkdMRV9pbnN0YW5jZWRfYXJyYXlzIiksbz1hLndlYmdsMixzPWEuZXh0O3N3aXRjaChyKXtjYXNlIDM1MDY5Omk9ISFvJiZ2b2lkIDA7YnJlYWs7Y2FzZSAzNTA3MDppPW98fHM/dm9pZCAwOjB9cmV0dXJuIHZvaWQgMCE9PWk/aTplKG4scil9LGdldFByb2dyYW1QYXJhbWV0ZXI6ZnVuY3Rpb24odCxlLG4scil7aWYoIWIodCkpc3dpdGNoKHIpe2Nhc2UgMzU5Njc6cmV0dXJuIDM1OTgxO2Nhc2UgMzU5NzE6Y2FzZSAzNTM4MjpyZXR1cm4gMH1yZXR1cm4gZShuLHIpfSxnZXRJbnRlcm5hbGZvcm1hdFBhcmFtZXRlcjpmdW5jdGlvbih0LGUsbixyLGkpe2lmKCFiKHQpKXN3aXRjaChpKXtjYXNlIDMyOTM3OnJldHVybiBuZXcgSW50MzJBcnJheShbMF0pfXJldHVybiB0LmdldEludGVybmFsZm9ybWF0UGFyYW1ldGVyKG4scixpKX0sZ2V0VGV4UGFyYW1ldGVyOmZ1bmN0aW9uKHQsZSxuLHIpe3N3aXRjaChyKXtjYXNlIDM0MDQ2OnZhciBpPXQubHVtYS5leHRlbnNpb25zLkVYVF90ZXh0dXJlX2ZpbHRlcl9hbmlzb3Ryb3BpYztyPWkmJmkuVEVYVFVSRV9NQVhfQU5JU09UUk9QWV9FWFR8fDM0MDQ2fXJldHVybiBlKG4scil9LGdldFBhcmFtZXRlcjpmdW5jdGlvbih0LGUsbil7dmFyIHI9U1tuXSxpPSJmdW5jdGlvbiI9PXR5cGVvZiByP3IodCxlLG4pOnI7cmV0dXJuIHZvaWQgMCE9PWk/aTplKG4pfSxoaW50OmZ1bmN0aW9uKHQsZSxuLHIpe3JldHVybiBlKG4scil9fTtmdW5jdGlvbiBUKHQsZSl7dmFyIG49ZS5leHRlbnNpb24scj1lLnRhcmdldCxpPWUudGFyZ2V0MixhPVBbbl07YyhhKTtmb3IodmFyIG89YS5tZXRhLHM9KHZvaWQgMD09PW8/e306bykuc3VmZml4LHU9dm9pZCAwPT09cz8iIjpzLGw9dC5nZXRFeHRlbnNpb24obiksaD1mdW5jdGlvbigpe3ZhciBlPWRbZl0sbj0iIi5jb25jYXQoZSkuY29uY2F0KHUpLG89bnVsbDsibWV0YSI9PT1lfHwiZnVuY3Rpb24iPT10eXBlb2YgdFtlXXx8KGwmJiJmdW5jdGlvbiI9PXR5cGVvZiBsW25dP289ZnVuY3Rpb24oKXtyZXR1cm4gbFtuXS5hcHBseShsLGFyZ3VtZW50cyl9OiJmdW5jdGlvbiI9PXR5cGVvZiBhW2VdJiYobz1hW2VdLmJpbmQocikpKSxvJiYocltlXT1vLGlbZV09byl9LGY9MCxkPU9iamVjdC5rZXlzKGEpO2Y8ZC5sZW5ndGg7ZisrKWgoKX0oInVuZGVmaW5lZCIhPXR5cGVvZiBnbG9iYWw/Z2xvYmFsOndpbmRvdykucG9seWZpbGxDb250ZXh0PWZ1bmN0aW9uKHQpe3JldHVybiB0Lmx1bWE9dC5sdW1hfHx7fSx0Lmx1bWEucG9seWZpbGxlZHx8KCFmdW5jdGlvbih0KXtpZigiZnVuY3Rpb24iIT10eXBlb2YgdC5jcmVhdGVWZXJ0ZXhBcnJheSl7dmFyIGU9dC5nZXRTdXBwb3J0ZWRFeHRlbnNpb25zO3QuZ2V0U3VwcG9ydGVkRXh0ZW5zaW9ucz1mdW5jdGlvbigpe3ZhciB0PWUuY2FsbCh0aGlzKXx8W107cmV0dXJuIHQuaW5kZXhPZigiT0VTX3ZlcnRleF9hcnJheV9vYmplY3QiKTwwJiZ0LnB1c2goIk9FU192ZXJ0ZXhfYXJyYXlfb2JqZWN0IiksdH07dmFyIG49dC5nZXRFeHRlbnNpb247dC5nZXRFeHRlbnNpb249ZnVuY3Rpb24oZSl7dmFyIHI9bi5jYWxsKHRoaXMsZSk7cmV0dXJuIHJ8fCgiT0VTX3ZlcnRleF9hcnJheV9vYmplY3QiIT09ZT9udWxsOih0Ll9fT0VTVmVydGV4QXJyYXlPYmplY3R8fCh0aGlzLl9fT0VTVmVydGV4QXJyYXlPYmplY3Q9bmV3IHModGhpcykpLHRoaXMuX19PRVNWZXJ0ZXhBcnJheU9iamVjdCkpfX19KHQpLGZ1bmN0aW9uKHQpe3QubHVtYS5leHRlbnNpb25zPXt9O3ZhciBlPXQuZ2V0U3VwcG9ydGVkRXh0ZW5zaW9ucygpfHxbXSxuPSEwLHI9ITEsaT12b2lkIDA7dHJ5e2Zvcih2YXIgYSxvPWVbU3ltYm9sLml0ZXJhdG9yXSgpOyEobj0oYT1vLm5leHQoKSkuZG9uZSk7bj0hMCl7dmFyIHM9YS52YWx1ZTt0Lmx1bWFbc109dC5nZXRFeHRlbnNpb24ocyl9fWNhdGNoKHQpe3I9ITAsaT10fWZpbmFsbHl7dHJ5e258fG51bGw9PW8ucmV0dXJufHxvLnJldHVybigpfWZpbmFsbHl7aWYocil0aHJvdyBpfX19KHQpLGZ1bmN0aW9uKHQsZSl7dmFyIG49ITAscj0hMSxpPXZvaWQgMDt0cnl7Zm9yKHZhciBhLG89T2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoZSlbU3ltYm9sLml0ZXJhdG9yXSgpOyEobj0oYT1vLm5leHQoKSkuZG9uZSk7bj0hMCl7dmFyIHM9YS52YWx1ZTsib3ZlcnJpZGVzIiE9PXMmJlQodCx7ZXh0ZW5zaW9uOnMsdGFyZ2V0OnQubHVtYSx0YXJnZXQyOnR9KX19Y2F0Y2godCl7cj0hMCxpPXR9ZmluYWxseXt0cnl7bnx8bnVsbD09by5yZXR1cm58fG8ucmV0dXJuKCl9ZmluYWxseXtpZihyKXRocm93IGl9fX0odCxQKSxmdW5jdGlvbih0LGUpe3ZhciBuPWUudGFyZ2V0LHI9ZS50YXJnZXQyO09iamVjdC5rZXlzKGopLmZvckVhY2goKGZ1bmN0aW9uKGUpe2lmKCJmdW5jdGlvbiI9PXR5cGVvZiBqW2VdKXt2YXIgaT10W2VdP3RbZV0uYmluZCh0KTpmdW5jdGlvbigpe30sYT1qW2VdLmJpbmQobnVsbCx0LGkpO25bZV09YSxyW2VdPWF9fSkpfSh0LHt0YXJnZXQ6dC5sdW1hLHRhcmdldDI6dH0pLHQubHVtYS5wb2x5ZmlsbGVkPSEwKSx0fTt2YXIgRSxBLE0sQz1uKDMxKSxMPW4oMjYpLEk9KEU9e30sT2JqZWN0KHcuYSkoRSwzMDQyLCExKSxPYmplY3Qody5hKShFLDMyNzczLG5ldyBGbG9hdDMyQXJyYXkoWzAsMCwwLDBdKSksT2JqZWN0KHcuYSkoRSwzMjc3NywzMjc3NCksT2JqZWN0KHcuYSkoRSwzNDg3NywzMjc3NCksT2JqZWN0KHcuYSkoRSwzMjk2OSwxKSxPYmplY3Qody5hKShFLDMyOTY4LDApLE9iamVjdCh3LmEpKEUsMzI5NzEsMSksT2JqZWN0KHcuYSkoRSwzMjk3MCwwKSxPYmplY3Qody5hKShFLDMxMDYsbmV3IEZsb2F0MzJBcnJheShbMCwwLDAsMF0pKSxPYmplY3Qody5hKShFLDMxMDcsWyEwLCEwLCEwLCEwXSksT2JqZWN0KHcuYSkoRSwyODg0LCExKSxPYmplY3Qody5hKShFLDI4ODUsMTAyOSksT2JqZWN0KHcuYSkoRSwyOTI5LCExKSxPYmplY3Qody5hKShFLDI5MzEsMSksT2JqZWN0KHcuYSkoRSwyOTMyLDUxMyksT2JqZWN0KHcuYSkoRSwyOTI4LG5ldyBGbG9hdDMyQXJyYXkoWzAsMV0pKSxPYmplY3Qody5hKShFLDI5MzAsITApLE9iamVjdCh3LmEpKEUsMzAyNCwhMCksT2JqZWN0KHcuYSkoRSwzNjAwNixudWxsKSxPYmplY3Qody5hKShFLDI4ODYsMjMwNSksT2JqZWN0KHcuYSkoRSwzMzE3MCw0MzUyKSxPYmplY3Qody5hKShFLDI4NDksMSksT2JqZWN0KHcuYSkoRSwzMjgyMywhMSksT2JqZWN0KHcuYSkoRSwzMjgyNCwwKSxPYmplY3Qody5hKShFLDEwNzUyLDApLE9iamVjdCh3LmEpKEUsMzI5MzgsMSksT2JqZWN0KHcuYSkoRSwzMjkzOSwhMSksT2JqZWN0KHcuYSkoRSwzMDg5LCExKSxPYmplY3Qody5hKShFLDMwODgsbmV3IEludDMyQXJyYXkoWzAsMCwxMDI0LDEwMjRdKSksT2JqZWN0KHcuYSkoRSwyOTYwLCExKSxPYmplY3Qody5hKShFLDI5NjEsMCksT2JqZWN0KHcuYSkoRSwyOTY4LDQyOTQ5NjcyOTUpLE9iamVjdCh3LmEpKEUsMzYwMDUsNDI5NDk2NzI5NSksT2JqZWN0KHcuYSkoRSwyOTYyLDUxOSksT2JqZWN0KHcuYSkoRSwyOTY3LDApLE9iamVjdCh3LmEpKEUsMjk2Myw0Mjk0OTY3Mjk1KSxPYmplY3Qody5hKShFLDM0ODE2LDUxOSksT2JqZWN0KHcuYSkoRSwzNjAwMywwKSxPYmplY3Qody5hKShFLDM2MDA0LDQyOTQ5NjcyOTUpLE9iamVjdCh3LmEpKEUsMjk2NCw3NjgwKSxPYmplY3Qody5hKShFLDI5NjUsNzY4MCksT2JqZWN0KHcuYSkoRSwyOTY2LDc2ODApLE9iamVjdCh3LmEpKEUsMzQ4MTcsNzY4MCksT2JqZWN0KHcuYSkoRSwzNDgxOCw3NjgwKSxPYmplY3Qody5hKShFLDM0ODE5LDc2ODApLE9iamVjdCh3LmEpKEUsMjk3OCxbMCwwLDEwMjQsMTAyNF0pLE9iamVjdCh3LmEpKEUsMzMzMyw0KSxPYmplY3Qody5hKShFLDMzMTcsNCksT2JqZWN0KHcuYSkoRSwzNzQ0MCwhMSksT2JqZWN0KHcuYSkoRSwzNzQ0MSwhMSksT2JqZWN0KHcuYSkoRSwzNzQ0MywzNzQ0NCksT2JqZWN0KHcuYSkoRSwzNTcyMyw0MzUyKSxPYmplY3Qody5hKShFLDM2MDEwLG51bGwpLE9iamVjdCh3LmEpKEUsMzU5NzcsITEpLE9iamVjdCh3LmEpKEUsMzMzMCwwKSxPYmplY3Qody5hKShFLDMzMzIsMCksT2JqZWN0KHcuYSkoRSwzMzMxLDApLE9iamVjdCh3LmEpKEUsMzMxNCwwKSxPYmplY3Qody5hKShFLDMyODc4LDApLE9iamVjdCh3LmEpKEUsMzMxNiwwKSxPYmplY3Qody5hKShFLDMzMTUsMCksT2JqZWN0KHcuYSkoRSwzMjg3NywwKSxFKSxSPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gZT90LmVuYWJsZShuKTp0LmRpc2FibGUobil9LE49ZnVuY3Rpb24odCxlLG4pe3JldHVybiB0LmhpbnQobixlKX0sRD1mdW5jdGlvbih0LGUsbil7cmV0dXJuIHQucGl4ZWxTdG9yZWkobixlKX07ZnVuY3Rpb24gRih0KXtyZXR1cm4gQXJyYXkuaXNBcnJheSh0KXx8QXJyYXlCdWZmZXIuaXNWaWV3KHQpfXZhciB6PShBPXt9LE9iamVjdCh3LmEpKEEsMzA0MixSKSxPYmplY3Qody5hKShBLDMyNzczLChmdW5jdGlvbih0LGUpe3JldHVybiB0LmJsZW5kQ29sb3IuYXBwbHkodCxPYmplY3QoTC5hKShlKSl9KSksT2JqZWN0KHcuYSkoQSwzMjc3NywiYmxlbmRFcXVhdGlvbiIpLE9iamVjdCh3LmEpKEEsMzQ4NzcsImJsZW5kRXF1YXRpb24iKSxPYmplY3Qody5hKShBLDMyOTY5LCJibGVuZEZ1bmMiKSxPYmplY3Qody5hKShBLDMyOTY4LCJibGVuZEZ1bmMiKSxPYmplY3Qody5hKShBLDMyOTcxLCJibGVuZEZ1bmMiKSxPYmplY3Qody5hKShBLDMyOTcwLCJibGVuZEZ1bmMiKSxPYmplY3Qody5hKShBLDMxMDYsKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuY2xlYXJDb2xvci5hcHBseSh0LE9iamVjdChMLmEpKGUpKX0pKSxPYmplY3Qody5hKShBLDMxMDcsKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuY29sb3JNYXNrLmFwcGx5KHQsT2JqZWN0KEwuYSkoZSkpfSkpLE9iamVjdCh3LmEpKEEsMjg4NCxSKSxPYmplY3Qody5hKShBLDI4ODUsKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuY3VsbEZhY2UoZSl9KSksT2JqZWN0KHcuYSkoQSwyOTI5LFIpLE9iamVjdCh3LmEpKEEsMjkzMSwoZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5jbGVhckRlcHRoKGUpfSkpLE9iamVjdCh3LmEpKEEsMjkzMiwoZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5kZXB0aEZ1bmMoZSl9KSksT2JqZWN0KHcuYSkoQSwyOTI4LChmdW5jdGlvbih0LGUpe3JldHVybiB0LmRlcHRoUmFuZ2UuYXBwbHkodCxPYmplY3QoTC5hKShlKSl9KSksT2JqZWN0KHcuYSkoQSwyOTMwLChmdW5jdGlvbih0LGUpe3JldHVybiB0LmRlcHRoTWFzayhlKX0pKSxPYmplY3Qody5hKShBLDMwMjQsUiksT2JqZWN0KHcuYSkoQSwzNTcyMyxOKSxPYmplY3Qody5hKShBLDM2MDA2LChmdW5jdGlvbih0LGUpe3ZhciBuPWIodCk/MzYwMDk6MzYxNjA7cmV0dXJuIHQuYmluZEZyYW1lYnVmZmVyKG4sZSl9KSksT2JqZWN0KHcuYSkoQSwyODg2LChmdW5jdGlvbih0LGUpe3JldHVybiB0LmZyb250RmFjZShlKX0pKSxPYmplY3Qody5hKShBLDMzMTcwLE4pLE9iamVjdCh3LmEpKEEsMjg0OSwoZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5saW5lV2lkdGgoZSl9KSksT2JqZWN0KHcuYSkoQSwzMjgyMyxSKSxPYmplY3Qody5hKShBLDMyODI0LCJwb2x5Z29uT2Zmc2V0IiksT2JqZWN0KHcuYSkoQSwxMDc1MiwicG9seWdvbk9mZnNldCIpLE9iamVjdCh3LmEpKEEsMzU5NzcsUiksT2JqZWN0KHcuYSkoQSwzMjkzOCwic2FtcGxlQ292ZXJhZ2UiKSxPYmplY3Qody5hKShBLDMyOTM5LCJzYW1wbGVDb3ZlcmFnZSIpLE9iamVjdCh3LmEpKEEsMzA4OSxSKSxPYmplY3Qody5hKShBLDMwODgsKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuc2Npc3Nvci5hcHBseSh0LE9iamVjdChMLmEpKGUpKX0pKSxPYmplY3Qody5hKShBLDI5NjAsUiksT2JqZWN0KHcuYSkoQSwyOTYxLChmdW5jdGlvbih0LGUpe3JldHVybiB0LmNsZWFyU3RlbmNpbChlKX0pKSxPYmplY3Qody5hKShBLDI5NjgsKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuc3RlbmNpbE1hc2tTZXBhcmF0ZSgxMDI4LGUpfSkpLE9iamVjdCh3LmEpKEEsMzYwMDUsKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuc3RlbmNpbE1hc2tTZXBhcmF0ZSgxMDI5LGUpfSkpLE9iamVjdCh3LmEpKEEsMjk2Miwic3RlbmNpbEZ1bmNGcm9udCIpLE9iamVjdCh3LmEpKEEsMjk2Nywic3RlbmNpbEZ1bmNGcm9udCIpLE9iamVjdCh3LmEpKEEsMjk2Mywic3RlbmNpbEZ1bmNGcm9udCIpLE9iamVjdCh3LmEpKEEsMzQ4MTYsInN0ZW5jaWxGdW5jQmFjayIpLE9iamVjdCh3LmEpKEEsMzYwMDMsInN0ZW5jaWxGdW5jQmFjayIpLE9iamVjdCh3LmEpKEEsMzYwMDQsInN0ZW5jaWxGdW5jQmFjayIpLE9iamVjdCh3LmEpKEEsMjk2NCwic3RlbmNpbE9wRnJvbnQiKSxPYmplY3Qody5hKShBLDI5NjUsInN0ZW5jaWxPcEZyb250IiksT2JqZWN0KHcuYSkoQSwyOTY2LCJzdGVuY2lsT3BGcm9udCIpLE9iamVjdCh3LmEpKEEsMzQ4MTcsInN0ZW5jaWxPcEJhY2siKSxPYmplY3Qody5hKShBLDM0ODE4LCJzdGVuY2lsT3BCYWNrIiksT2JqZWN0KHcuYSkoQSwzNDgxOSwic3RlbmNpbE9wQmFjayIpLE9iamVjdCh3LmEpKEEsMjk3OCwoZnVuY3Rpb24odCxlKXtyZXR1cm4gdC52aWV3cG9ydC5hcHBseSh0LE9iamVjdChMLmEpKGUpKX0pKSxPYmplY3Qody5hKShBLDMzMzMsRCksT2JqZWN0KHcuYSkoQSwzMzE3LEQpLE9iamVjdCh3LmEpKEEsMzc0NDAsRCksT2JqZWN0KHcuYSkoQSwzNzQ0MSxEKSxPYmplY3Qody5hKShBLDM3NDQzLEQpLE9iamVjdCh3LmEpKEEsMzMzMCxEKSxPYmplY3Qody5hKShBLDMzMzIsRCksT2JqZWN0KHcuYSkoQSwzMzMxLEQpLE9iamVjdCh3LmEpKEEsMzYwMTAsKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuYmluZEZyYW1lYnVmZmVyKDM2MDA4LGUpfSkpLE9iamVjdCh3LmEpKEEsMzMxNCxEKSxPYmplY3Qody5hKShBLDMyODc4LEQpLE9iamVjdCh3LmEpKEEsMzMxNixEKSxPYmplY3Qody5hKShBLDMzMTUsRCksT2JqZWN0KHcuYSkoQSwzMjg3NyxEKSxPYmplY3Qody5hKShBLCJmcmFtZWJ1ZmZlciIsKGZ1bmN0aW9uKHQsZSl7dmFyIG49ZSYmImhhbmRsZSJpbiBlP2UuaGFuZGxlOmU7cmV0dXJuIHQuYmluZEZyYW1lYnVmZmVyKDM2MTYwLG4pfSkpLE9iamVjdCh3LmEpKEEsImJsZW5kIiwoZnVuY3Rpb24odCxlKXtyZXR1cm4gZT90LmVuYWJsZSgzMDQyKTp0LmRpc2FibGUoMzA0Mil9KSksT2JqZWN0KHcuYSkoQSwiYmxlbmRDb2xvciIsKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuYmxlbmRDb2xvci5hcHBseSh0LE9iamVjdChMLmEpKGUpKX0pKSxPYmplY3Qody5hKShBLCJibGVuZEVxdWF0aW9uIiwoZnVuY3Rpb24odCxlKXtlPUYoZSk/ZTpbZSxlXSx0LmJsZW5kRXF1YXRpb25TZXBhcmF0ZS5hcHBseSh0LE9iamVjdChMLmEpKGUpKX0pKSxPYmplY3Qody5hKShBLCJibGVuZEZ1bmMiLChmdW5jdGlvbih0LGUpe2U9RihlKSYmMj09PWUubGVuZ3RoP1tdLmNvbmNhdChPYmplY3QoTC5hKShlKSxPYmplY3QoTC5hKShlKSk6ZSx0LmJsZW5kRnVuY1NlcGFyYXRlLmFwcGx5KHQsT2JqZWN0KEwuYSkoZSkpfSkpLE9iamVjdCh3LmEpKEEsImNsZWFyQ29sb3IiLChmdW5jdGlvbih0LGUpe3JldHVybiB0LmNsZWFyQ29sb3IuYXBwbHkodCxPYmplY3QoTC5hKShlKSl9KSksT2JqZWN0KHcuYSkoQSwiY2xlYXJEZXB0aCIsKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuY2xlYXJEZXB0aChlKX0pKSxPYmplY3Qody5hKShBLCJjbGVhclN0ZW5jaWwiLChmdW5jdGlvbih0LGUpe3JldHVybiB0LmNsZWFyU3RlbmNpbChlKX0pKSxPYmplY3Qody5hKShBLCJjb2xvck1hc2siLChmdW5jdGlvbih0LGUpe3JldHVybiB0LmNvbG9yTWFzay5hcHBseSh0LE9iamVjdChMLmEpKGUpKX0pKSxPYmplY3Qody5hKShBLCJjdWxsIiwoZnVuY3Rpb24odCxlKXtyZXR1cm4gZT90LmVuYWJsZSgyODg0KTp0LmRpc2FibGUoMjg4NCl9KSksT2JqZWN0KHcuYSkoQSwiY3VsbEZhY2UiLChmdW5jdGlvbih0LGUpe3JldHVybiB0LmN1bGxGYWNlKGUpfSkpLE9iamVjdCh3LmEpKEEsImRlcHRoVGVzdCIsKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIGU/dC5lbmFibGUoMjkyOSk6dC5kaXNhYmxlKDI5MjkpfSkpLE9iamVjdCh3LmEpKEEsImRlcHRoRnVuYyIsKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuZGVwdGhGdW5jKGUpfSkpLE9iamVjdCh3LmEpKEEsImRlcHRoTWFzayIsKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuZGVwdGhNYXNrKGUpfSkpLE9iamVjdCh3LmEpKEEsImRlcHRoUmFuZ2UiLChmdW5jdGlvbih0LGUpe3JldHVybiB0LmRlcHRoUmFuZ2UuYXBwbHkodCxPYmplY3QoTC5hKShlKSl9KSksT2JqZWN0KHcuYSkoQSwiZGl0aGVyIiwoZnVuY3Rpb24odCxlKXtyZXR1cm4gZT90LmVuYWJsZSgzMDI0KTp0LmRpc2FibGUoMzAyNCl9KSksT2JqZWN0KHcuYSkoQSwiZGVyaXZhdGl2ZUhpbnQiLChmdW5jdGlvbih0LGUpe3QuaGludCgzNTcyMyxlKX0pKSxPYmplY3Qody5hKShBLCJmcm9udEZhY2UiLChmdW5jdGlvbih0LGUpe3JldHVybiB0LmZyb250RmFjZShlKX0pKSxPYmplY3Qody5hKShBLCJtaXBtYXBIaW50IiwoZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5oaW50KDMzMTcwLGUpfSkpLE9iamVjdCh3LmEpKEEsImxpbmVXaWR0aCIsKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQubGluZVdpZHRoKGUpfSkpLE9iamVjdCh3LmEpKEEsInBvbHlnb25PZmZzZXRGaWxsIiwoZnVuY3Rpb24odCxlKXtyZXR1cm4gZT90LmVuYWJsZSgzMjgyMyk6dC5kaXNhYmxlKDMyODIzKX0pKSxPYmplY3Qody5hKShBLCJwb2x5Z29uT2Zmc2V0IiwoZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5wb2x5Z29uT2Zmc2V0LmFwcGx5KHQsT2JqZWN0KEwuYSkoZSkpfSkpLE9iamVjdCh3LmEpKEEsInNhbXBsZUNvdmVyYWdlIiwoZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5zYW1wbGVDb3ZlcmFnZS5hcHBseSh0LE9iamVjdChMLmEpKGUpKX0pKSxPYmplY3Qody5hKShBLCJzY2lzc29yVGVzdCIsKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIGU/dC5lbmFibGUoMzA4OSk6dC5kaXNhYmxlKDMwODkpfSkpLE9iamVjdCh3LmEpKEEsInNjaXNzb3IiLChmdW5jdGlvbih0LGUpe3JldHVybiB0LnNjaXNzb3IuYXBwbHkodCxPYmplY3QoTC5hKShlKSl9KSksT2JqZWN0KHcuYSkoQSwic3RlbmNpbFRlc3QiLChmdW5jdGlvbih0LGUpe3JldHVybiBlP3QuZW5hYmxlKDI5NjApOnQuZGlzYWJsZSgyOTYwKX0pKSxPYmplY3Qody5hKShBLCJzdGVuY2lsTWFzayIsKGZ1bmN0aW9uKHQsZSl7dmFyIG49ZT1GKGUpP2U6W2UsZV0scj1PYmplY3QoQy5hKShuLDIpLGk9clswXSxhPXJbMV07dC5zdGVuY2lsTWFza1NlcGFyYXRlKDEwMjgsaSksdC5zdGVuY2lsTWFza1NlcGFyYXRlKDEwMjksYSl9KSksT2JqZWN0KHcuYSkoQSwic3RlbmNpbEZ1bmMiLChmdW5jdGlvbih0LGUpe3ZhciBuPWU9RihlKSYmMz09PWUubGVuZ3RoP1tdLmNvbmNhdChPYmplY3QoTC5hKShlKSxPYmplY3QoTC5hKShlKSk6ZSxyPU9iamVjdChDLmEpKG4sNiksaT1yWzBdLGE9clsxXSxvPXJbMl0scz1yWzNdLHU9cls0XSxjPXJbNV07dC5zdGVuY2lsRnVuY1NlcGFyYXRlKDEwMjgsaSxhLG8pLHQuc3RlbmNpbEZ1bmNTZXBhcmF0ZSgxMDI5LHMsdSxjKX0pKSxPYmplY3Qody5hKShBLCJzdGVuY2lsT3AiLChmdW5jdGlvbih0LGUpe3ZhciBuPWU9RihlKSYmMz09PWUubGVuZ3RoP1tdLmNvbmNhdChPYmplY3QoTC5hKShlKSxPYmplY3QoTC5hKShlKSk6ZSxyPU9iamVjdChDLmEpKG4sNiksaT1yWzBdLGE9clsxXSxvPXJbMl0scz1yWzNdLHU9cls0XSxjPXJbNV07dC5zdGVuY2lsT3BTZXBhcmF0ZSgxMDI4LGksYSxvKSx0LnN0ZW5jaWxPcFNlcGFyYXRlKDEwMjkscyx1LGMpfSkpLE9iamVjdCh3LmEpKEEsInZpZXdwb3J0IiwoZnVuY3Rpb24odCxlKXtyZXR1cm4gdC52aWV3cG9ydC5hcHBseSh0LE9iamVjdChMLmEpKGUpKX0pKSxBKTtmdW5jdGlvbiBCKHQsZSxuKXtyZXR1cm4gdm9pZCAwIT09ZVt0XT9lW3RdOm5bdF19dmFyIFU9e2JsZW5kRXF1YXRpb246ZnVuY3Rpb24odCxlLG4pe3JldHVybiB0LmJsZW5kRXF1YXRpb25TZXBhcmF0ZShCKDMyNzc3LGUsbiksQigzNDg3NyxlLG4pKX0sYmxlbmRGdW5jOmZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gdC5ibGVuZEZ1bmNTZXBhcmF0ZShCKDMyOTY5LGUsbiksQigzMjk2OCxlLG4pLEIoMzI5NzEsZSxuKSxCKDMyOTcwLGUsbikpfSxwb2x5Z29uT2Zmc2V0OmZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gdC5wb2x5Z29uT2Zmc2V0KEIoMzI4MjQsZSxuKSxCKDEwNzUyLGUsbikpfSxzYW1wbGVDb3ZlcmFnZTpmdW5jdGlvbih0LGUsbil7cmV0dXJuIHQuc2FtcGxlQ292ZXJhZ2UoQigzMjkzOCxlLG4pLEIoMzI5MzksZSxuKSl9LHN0ZW5jaWxGdW5jRnJvbnQ6ZnVuY3Rpb24odCxlLG4pe3JldHVybiB0LnN0ZW5jaWxGdW5jU2VwYXJhdGUoMTAyOCxCKDI5NjIsZSxuKSxCKDI5NjcsZSxuKSxCKDI5NjMsZSxuKSl9LHN0ZW5jaWxGdW5jQmFjazpmdW5jdGlvbih0LGUsbil7cmV0dXJuIHQuc3RlbmNpbEZ1bmNTZXBhcmF0ZSgxMDI5LEIoMzQ4MTYsZSxuKSxCKDM2MDAzLGUsbiksQigzNjAwNCxlLG4pKX0sc3RlbmNpbE9wRnJvbnQ6ZnVuY3Rpb24odCxlLG4pe3JldHVybiB0LnN0ZW5jaWxPcFNlcGFyYXRlKDEwMjgsQigyOTY0LGUsbiksQigyOTY1LGUsbiksQigyOTY2LGUsbikpfSxzdGVuY2lsT3BCYWNrOmZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gdC5zdGVuY2lsT3BTZXBhcmF0ZSgxMDI5LEIoMzQ4MTcsZSxuKSxCKDM0ODE4LGUsbiksQigzNDgxOSxlLG4pKX19LFY9e2VuYWJsZTpmdW5jdGlvbih0LGUpe3JldHVybiB0KE9iamVjdCh3LmEpKHt9LGUsITApKX0sZGlzYWJsZTpmdW5jdGlvbih0LGUpe3JldHVybiB0KE9iamVjdCh3LmEpKHt9LGUsITEpKX0scGl4ZWxTdG9yZWk6ZnVuY3Rpb24odCxlLG4pe3JldHVybiB0KE9iamVjdCh3LmEpKHt9LGUsbikpfSxoaW50OmZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gdChPYmplY3Qody5hKSh7fSxlLG4pKX0sYmluZEZyYW1lYnVmZmVyOmZ1bmN0aW9uKHQsZSxuKXt2YXIgcjtzd2l0Y2goZSl7Y2FzZSAzNjE2MDpyZXR1cm4gdCgocj17fSxPYmplY3Qody5hKShyLDM2MDA2LG4pLE9iamVjdCh3LmEpKHIsMzYwMTAsbikscikpO2Nhc2UgMzYwMDk6cmV0dXJuIHQoT2JqZWN0KHcuYSkoe30sMzYwMDYsbikpO2Nhc2UgMzYwMDg6cmV0dXJuIHQoT2JqZWN0KHcuYSkoe30sMzYwMTAsbikpO2RlZmF1bHQ6cmV0dXJuIG51bGx9fSxibGVuZENvbG9yOmZ1bmN0aW9uKHQsZSxuLHIsaSl7cmV0dXJuIHQoT2JqZWN0KHcuYSkoe30sMzI3NzMsbmV3IEZsb2F0MzJBcnJheShbZSxuLHIsaV0pKSl9LGJsZW5kRXF1YXRpb246ZnVuY3Rpb24odCxlKXt2YXIgbjtyZXR1cm4gdCgobj17fSxPYmplY3Qody5hKShuLDMyNzc3LGUpLE9iamVjdCh3LmEpKG4sMzQ4NzcsZSksbikpfSxibGVuZEVxdWF0aW9uU2VwYXJhdGU6ZnVuY3Rpb24odCxlLG4pe3ZhciByO3JldHVybiB0KChyPXt9LE9iamVjdCh3LmEpKHIsMzI3NzcsZSksT2JqZWN0KHcuYSkociwzNDg3NyxuKSxyKSl9LGJsZW5kRnVuYzpmdW5jdGlvbih0LGUsbil7dmFyIHI7cmV0dXJuIHQoKHI9e30sT2JqZWN0KHcuYSkociwzMjk2OSxlKSxPYmplY3Qody5hKShyLDMyOTY4LG4pLE9iamVjdCh3LmEpKHIsMzI5NzEsZSksT2JqZWN0KHcuYSkociwzMjk3MCxuKSxyKSl9LGJsZW5kRnVuY1NlcGFyYXRlOmZ1bmN0aW9uKHQsZSxuLHIsaSl7dmFyIGE7cmV0dXJuIHQoKGE9e30sT2JqZWN0KHcuYSkoYSwzMjk2OSxlKSxPYmplY3Qody5hKShhLDMyOTY4LG4pLE9iamVjdCh3LmEpKGEsMzI5NzEsciksT2JqZWN0KHcuYSkoYSwzMjk3MCxpKSxhKSl9LGNsZWFyQ29sb3I6ZnVuY3Rpb24odCxlLG4scixpKXtyZXR1cm4gdChPYmplY3Qody5hKSh7fSwzMTA2LG5ldyBGbG9hdDMyQXJyYXkoW2UsbixyLGldKSkpfSxjbGVhckRlcHRoOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQoT2JqZWN0KHcuYSkoe30sMjkzMSxlKSl9LGNsZWFyU3RlbmNpbDpmdW5jdGlvbih0LGUpe3JldHVybiB0KE9iamVjdCh3LmEpKHt9LDI5NjEsZSkpfSxjb2xvck1hc2s6ZnVuY3Rpb24odCxlLG4scixpKXtyZXR1cm4gdChPYmplY3Qody5hKSh7fSwzMTA3LFtlLG4scixpXSkpfSxjdWxsRmFjZTpmdW5jdGlvbih0LGUpe3JldHVybiB0KE9iamVjdCh3LmEpKHt9LDI4ODUsZSkpfSxkZXB0aEZ1bmM6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdChPYmplY3Qody5hKSh7fSwyOTMyLGUpKX0sZGVwdGhSYW5nZTpmdW5jdGlvbih0LGUsbil7cmV0dXJuIHQoT2JqZWN0KHcuYSkoe30sMjkyOCxuZXcgRmxvYXQzMkFycmF5KFtlLG5dKSkpfSxkZXB0aE1hc2s6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdChPYmplY3Qody5hKSh7fSwyOTMwLGUpKX0sZnJvbnRGYWNlOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQoT2JqZWN0KHcuYSkoe30sMjg4NixlKSl9LGxpbmVXaWR0aDpmdW5jdGlvbih0LGUpe3JldHVybiB0KE9iamVjdCh3LmEpKHt9LDI4NDksZSkpfSxwb2x5Z29uT2Zmc2V0OmZ1bmN0aW9uKHQsZSxuKXt2YXIgcjtyZXR1cm4gdCgocj17fSxPYmplY3Qody5hKShyLDMyODI0LGUpLE9iamVjdCh3LmEpKHIsMTA3NTIsbikscikpfSxzYW1wbGVDb3ZlcmFnZTpmdW5jdGlvbih0LGUsbil7dmFyIHI7cmV0dXJuIHQoKHI9e30sT2JqZWN0KHcuYSkociwzMjkzOCxlKSxPYmplY3Qody5hKShyLDMyOTM5LG4pLHIpKX0sc2Npc3NvcjpmdW5jdGlvbih0LGUsbixyLGkpe3JldHVybiB0KE9iamVjdCh3LmEpKHt9LDMwODgsbmV3IEludDMyQXJyYXkoW2UsbixyLGldKSkpfSxzdGVuY2lsTWFzazpmdW5jdGlvbih0LGUpe3ZhciBuO3JldHVybiB0KChuPXt9LE9iamVjdCh3LmEpKG4sMjk2OCxlKSxPYmplY3Qody5hKShuLDM2MDA1LGUpLG4pKX0sc3RlbmNpbE1hc2tTZXBhcmF0ZTpmdW5jdGlvbih0LGUsbil7cmV0dXJuIHQoT2JqZWN0KHcuYSkoe30sMTAyOD09PWU/Mjk2ODozNjAwNSxuKSl9LHN0ZW5jaWxGdW5jOmZ1bmN0aW9uKHQsZSxuLHIpe3ZhciBpO3JldHVybiB0KChpPXt9LE9iamVjdCh3LmEpKGksMjk2MixlKSxPYmplY3Qody5hKShpLDI5NjcsbiksT2JqZWN0KHcuYSkoaSwyOTYzLHIpLE9iamVjdCh3LmEpKGksMzQ4MTYsZSksT2JqZWN0KHcuYSkoaSwzNjAwMyxuKSxPYmplY3Qody5hKShpLDM2MDA0LHIpLGkpKX0sc3RlbmNpbEZ1bmNTZXBhcmF0ZTpmdW5jdGlvbih0LGUsbixyLGkpe3ZhciBhO3JldHVybiB0KChhPXt9LE9iamVjdCh3LmEpKGEsMTAyOD09PWU/Mjk2MjozNDgxNixuKSxPYmplY3Qody5hKShhLDEwMjg9PT1lPzI5Njc6MzYwMDMsciksT2JqZWN0KHcuYSkoYSwxMDI4PT09ZT8yOTYzOjM2MDA0LGkpLGEpKX0sc3RlbmNpbE9wOmZ1bmN0aW9uKHQsZSxuLHIpe3ZhciBpO3JldHVybiB0KChpPXt9LE9iamVjdCh3LmEpKGksMjk2NCxlKSxPYmplY3Qody5hKShpLDI5NjUsbiksT2JqZWN0KHcuYSkoaSwyOTY2LHIpLE9iamVjdCh3LmEpKGksMzQ4MTcsZSksT2JqZWN0KHcuYSkoaSwzNDgxOCxuKSxPYmplY3Qody5hKShpLDM0ODE5LHIpLGkpKX0sc3RlbmNpbE9wU2VwYXJhdGU6ZnVuY3Rpb24odCxlLG4scixpKXt2YXIgYTtyZXR1cm4gdCgoYT17fSxPYmplY3Qody5hKShhLDEwMjg9PT1lPzI5NjQ6MzQ4MTcsbiksT2JqZWN0KHcuYSkoYSwxMDI4PT09ZT8yOTY1OjM0ODE4LHIpLE9iamVjdCh3LmEpKGEsMTAyOD09PWU/Mjk2NjozNDgxOSxpKSxhKSl9LHZpZXdwb3J0OmZ1bmN0aW9uKHQsZSxuLHIsaSl7cmV0dXJuIHQoT2JqZWN0KHcuYSkoe30sMjk3OCxbZSxuLHIsaV0pKX19LEc9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5pc0VuYWJsZWQoZSl9LFc9KE09e30sT2JqZWN0KHcuYSkoTSwzMDQyLEcpLE9iamVjdCh3LmEpKE0sMjg4NCxHKSxPYmplY3Qody5hKShNLDI5MjksRyksT2JqZWN0KHcuYSkoTSwzMDI0LEcpLE9iamVjdCh3LmEpKE0sMzI4MjMsRyksT2JqZWN0KHcuYSkoTSwzMjkyNixHKSxPYmplY3Qody5hKShNLDMyOTI4LEcpLE9iamVjdCh3LmEpKE0sMzA4OSxHKSxPYmplY3Qody5hKShNLDI5NjAsRyksT2JqZWN0KHcuYSkoTSwzNTk3NyxHKSxNKSxIPW4oNikscT1uKDcpO2Z1bmN0aW9uIFgodCxlKXt2YXIgbj10W2VdLmJpbmQodCk7dFtlXT1mdW5jdGlvbigpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg8PTA/dm9pZCAwOmFyZ3VtZW50c1swXTtyZXR1cm4gZSBpbiB0LnN0YXRlLmNhY2hlfHwodC5zdGF0ZS5jYWNoZVtlXT1uLmFwcGx5KHZvaWQgMCxhcmd1bWVudHMpKSx0LnN0YXRlLmVuYWJsZT90LnN0YXRlLmNhY2hlW2VdOm4uYXBwbHkodm9pZCAwLGFyZ3VtZW50cyl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0W2VdLCJuYW1lIix7dmFsdWU6IiIuY29uY2F0KGUsIi1mcm9tLWNhY2hlIiksY29uZmlndXJhYmxlOiExfSl9ZnVuY3Rpb24gWih0LGUsbil7dmFyIHI9dFtlXS5iaW5kKHQpO3RbZV09ZnVuY3Rpb24oKXtmb3IodmFyIGU9YXJndW1lbnRzLmxlbmd0aCxpPW5ldyBBcnJheShlKSxhPTA7YTxlO2ErKylpW2FdPWFyZ3VtZW50c1thXTt2YXIgbz1uLmFwcGx5KHZvaWQgMCxbdC5zdGF0ZS5fdXBkYXRlQ2FjaGVdLmNvbmNhdChpKSkscz1vLnZhbHVlQ2hhbmdlZCx1PW8ub2xkVmFsdWU7cmV0dXJuIHMmJnIuYXBwbHkodm9pZCAwLGkpLHV9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0W2VdLCJuYW1lIix7dmFsdWU6IiIuY29uY2F0KGUsIi10by1jYWNoZSIpLGNvbmZpZ3VyYWJsZTohMX0pfWZ1bmN0aW9uIFkodCl7dmFyIGU9dC51c2VQcm9ncmFtLmJpbmQodCk7dC51c2VQcm9ncmFtPWZ1bmN0aW9uKG4pe3Quc3RhdGUucHJvZ3JhbSE9PW4mJihlKG4pLHQuc3RhdGUucHJvZ3JhbT1uKX19dmFyIEs9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUpe3ZhciBuPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp7fSxyPW4uY29weVN0YXRlLGk9dm9pZCAwIT09ciYmcixhPW4ubG9nLG89dm9pZCAwPT09YT9mdW5jdGlvbigpe306YTtPYmplY3QoSC5hKSh0aGlzLHQpLHRoaXMuZ2w9ZSx0aGlzLnByb2dyYW09bnVsbCx0aGlzLnN0YXRlU3RhY2s9W10sdGhpcy5lbmFibGU9ITAsdGhpcy5jYWNoZT1pP3R0KGUpOk9iamVjdC5hc3NpZ24oe30sSSksdGhpcy5sb2c9byx0aGlzLl91cGRhdGVDYWNoZT10aGlzLl91cGRhdGVDYWNoZS5iaW5kKHRoaXMpLE9iamVjdC5zZWFsKHRoaXMpfXJldHVybiBPYmplY3QocS5hKSh0LFt7a2V5OiJwdXNoIix2YWx1ZTpmdW5jdGlvbigpe2FyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdJiZhcmd1bWVudHNbMF07dGhpcy5zdGF0ZVN0YWNrLnB1c2goe30pfX0se2tleToicG9wIix2YWx1ZTpmdW5jdGlvbigpe2ModGhpcy5zdGF0ZVN0YWNrLmxlbmd0aD4wKTt2YXIgdD10aGlzLnN0YXRlU3RhY2tbdGhpcy5zdGF0ZVN0YWNrLmxlbmd0aC0xXTskKHRoaXMuZ2wsdCx0aGlzLmNhY2hlKSx0aGlzLnN0YXRlU3RhY2sucG9wKCl9fSx7a2V5OiJfdXBkYXRlQ2FjaGUiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlLG49ITEscj10aGlzLnN0YXRlU3RhY2subGVuZ3RoPjAmJnRoaXMuc3RhdGVTdGFja1t0aGlzLnN0YXRlU3RhY2subGVuZ3RoLTFdO2Zvcih2YXIgaSBpbiB0KXtjKHZvaWQgMCE9PWkpO3ZhciBhPXRbaV0sbz10aGlzLmNhY2hlW2ldO2goYSxvKXx8KG49ITAsZT1vLCFyfHxpIGluIHJ8fChyW2ldPW8pLHRoaXMuY2FjaGVbaV09YSl9cmV0dXJue3ZhbHVlQ2hhbmdlZDpuLG9sZFZhbHVlOmV9fX1dKSx0fSgpO2Z1bmN0aW9uIFEodCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOnt9LG49ZS5lbmFibGUscj12b2lkIDA9PT1ufHxuLGk9ZS5jb3B5U3RhdGU7aWYoYyh2b2lkIDAhPT1pKSwhdC5zdGF0ZSl7dmFyIGE9InVuZGVmaW5lZCIhPXR5cGVvZiBnbG9iYWw/Z2xvYmFsOndpbmRvdztmb3IodmFyIG8gaW4gYS5wb2x5ZmlsbENvbnRleHQmJmEucG9seWZpbGxDb250ZXh0KHQpLHQuc3RhdGU9bmV3IEsodCx7Y29weVN0YXRlOmksZW5hYmxlOnJ9KSxZKHQpLFYpe3ZhciBzPVZbb107Wih0LG8scyl9WCh0LCJnZXRQYXJhbWV0ZXIiKSxYKHQsImlzRW5hYmxlZCIpfXJldHVybiB0LnN0YXRlLmVuYWJsZT1yLHR9ZnVuY3Rpb24gSih0KXtjKHQuc3RhdGUpLHQuc3RhdGUucG9wKCl9ZnVuY3Rpb24gJCh0LGUpe2lmKGMobSh0KSwic2V0UGFyYW1ldGVycyByZXF1aXJlcyBhIFdlYkdMIGNvbnRleHQiKSwhbChlKSl7dmFyIG49e307Zm9yKHZhciByIGluIGUpe3ZhciBpPU51bWJlcihyKSxhPXpbcl07YSYmKCJzdHJpbmciPT10eXBlb2YgYT9uW2FdPSEwOmEodCxlW3JdLGkpKX12YXIgbz10LnN0YXRlJiZ0LnN0YXRlLmNhY2hlO2lmKG8pZm9yKHZhciBzIGluIG4peygwLFVbc10pKHQsZSxvKX19fWZ1bmN0aW9uIHR0KHQsZSl7aWYoIm51bWJlciI9PXR5cGVvZihlPWV8fEkpKXt2YXIgbj1lLHI9V1tuXTtyZXR1cm4gcj9yKHQsbik6dC5nZXRQYXJhbWV0ZXIobil9dmFyIGk9QXJyYXkuaXNBcnJheShlKT9lOk9iamVjdC5rZXlzKGUpLGE9e30sbz0hMCxzPSExLHU9dm9pZCAwO3RyeXtmb3IodmFyIGMsbD1pW1N5bWJvbC5pdGVyYXRvcl0oKTshKG89KGM9bC5uZXh0KCkpLmRvbmUpO289ITApe3ZhciBoPWMudmFsdWUsZj1XW2hdO2FbaF09Zj9mKHQsTnVtYmVyKGgpKTp0LmdldFBhcmFtZXRlcihOdW1iZXIoaCkpfX1jYXRjaCh0KXtzPSEwLHU9dH1maW5hbGx5e3RyeXtvfHxudWxsPT1sLnJldHVybnx8bC5yZXR1cm4oKX1maW5hbGx5e2lmKHMpdGhyb3cgdX19cmV0dXJuIGF9ZnVuY3Rpb24gZXQodCl7JCh0LEkpfWZ1bmN0aW9uIG50KHQsZSxuKXtpZihsKGUpKXJldHVybiBuKHQpO3ZhciByLGk9ZS5ub2NhdGNoLGE9dm9pZCAwPT09aXx8aTtpZihmdW5jdGlvbih0KXt0LnN0YXRlfHxRKHQse2NvcHlTdGF0ZTohMX0pLHQuc3RhdGUucHVzaCgpfSh0KSwkKHQsZSksYSlyPW4odCksSih0KTtlbHNlIHRyeXtyPW4odCl9ZmluYWxseXtKKHQpfXJldHVybiByfXZhciBydD1PYmplY3Qoci5pc0Jyb3dzZXIpKCksaXQ9cnQmJiJ1bmRlZmluZWQiIT10eXBlb2YgZG9jdW1lbnQsYXQ9e3dlYmdsMjohMCx3ZWJnbDE6ITAsdGhyb3dPbkVycm9yOiEwLG1hbmFnZVN0YXRlOiEwLGNhbnZhczpudWxsLGRlYnVnOiExLHdpZHRoOjgwMCxoZWlnaHQ6NjAwfTtmdW5jdGlvbiBvdCgpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fTtjKHJ0LCJjcmVhdGVHTENvbnRleHQgb24gYXZhaWxhYmxlIGluIHRoZSBicm93c2VyLlxuQ3JlYXRlIHlvdXIgb3duIGhlYWRsZXNzIGNvbnRleHQgb3IgdXNlICdjcmVhdGVIZWFkbGVzc0NvbnRleHQnIGZyb20gQGx1bWEuZ2wvdGVzdC11dGlscyIpO3ZhciBlLG49dD1PYmplY3QuYXNzaWduKHt9LGF0LHQpLHI9bi53aWR0aCxpPW4uaGVpZ2h0O2Z1bmN0aW9uIGEoZSl7aWYodC50aHJvd09uRXJyb3IpdGhyb3cgbmV3IEVycm9yKGUpO3JldHVybiBjb25zb2xlLmVycm9yKGUpLG51bGx9dC5vbkVycm9yPWE7dmFyIG89dCxzPW8uY2FudmFzLHU9bHQoe2NhbnZhczpzLHdpZHRoOnIsaGVpZ2h0Omksb25FcnJvcjphfSk7cmV0dXJuKGU9Y3QodSx0KSk/KGh0KGU9c3QoZSx0KSksZSk6bnVsbH1mdW5jdGlvbiBzdCh0KXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06e307aWYoIXR8fHQuX2luc3RydW1lbnRlZClyZXR1cm4gdDt0Ll92ZXJzaW9uPXQuX3ZlcnNpb258fGZ0KHQpLHQubHVtYT10Lmx1bWF8fHt9LHQubHVtYS5jYW52YXNTaXplSW5mbz10Lmx1bWEuY2FudmFzU2l6ZUluZm98fHt9O3ZhciBuPWU9T2JqZWN0LmFzc2lnbih7fSxhdCxlKSxpPW4ubWFuYWdlU3RhdGUsYT1uLmRlYnVnO3JldHVybiBpJiZRKHQse2NvcHlTdGF0ZTohMSxsb2c6ZnVuY3Rpb24oKXtmb3IodmFyIHQ9YXJndW1lbnRzLmxlbmd0aCxlPW5ldyBBcnJheSh0KSxuPTA7bjx0O24rKyllW25dPWFyZ3VtZW50c1tuXTtyZXR1cm4geC5sb2cuYXBwbHkoeCxbMV0uY29uY2F0KGUpKSgpfX0pLHJ0JiZhJiYoci5nbG9iYWwubWFrZURlYnVnQ29udGV4dD8odD1yLmdsb2JhbC5tYWtlRGVidWdDb250ZXh0KHQsZSkseC5sZXZlbD1NYXRoLm1heCh4LmxldmVsLDEpKTp4Lndhcm4oJ1dlYkdMIGRlYnVnIG1vZGUgbm90IGFjdGl2YXRlZC4gaW1wb3J0ICJAbHVtYS5nbC9kZWJ1ZyIgdG8gZW5hYmxlLicpKCkpLHQuX2luc3RydW1lbnRlZD0hMCx0fWZ1bmN0aW9uIHV0KHQpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp7fTtpZih0LmNhbnZhcyl7dmFyIG49dihlLnVzZURldmljZVBpeGVscyk7ZHQodCxuLGUpfWVsc2V7dmFyIHI9dC5nZXRFeHRlbnNpb24oIlNUQUNLR0xfcmVzaXplX2RyYXdpbmdidWZmZXIiKTtyJiYid2lkdGgiaW4gZSYmImhlaWdodCJpbiBlJiZyLnJlc2l6ZShlLndpZHRoLGUuaGVpZ2h0KX19ZnVuY3Rpb24gY3QodCxlKXt2YXIgbj1lLm9uRXJyb3Iscj1mdW5jdGlvbih0KXtyZXR1cm4gbigiV2ViR0wgY29udGV4dDogIi5jb25jYXQodC5zdGF0dXNNZXNzYWdlfHwiZXJyb3IiKSl9O3QuYWRkRXZlbnRMaXN0ZW5lcigid2ViZ2xjb250ZXh0Y3JlYXRpb25lcnJvciIsciwhMSk7dmFyIGk9ZS53ZWJnbDEsYT12b2lkIDA9PT1pfHxpLG89ZS53ZWJnbDIscz12b2lkIDA9PT1vfHxvLHU9bnVsbDtyZXR1cm4gcyYmKHU9KHU9dXx8dC5nZXRDb250ZXh0KCJ3ZWJnbDIiLGUpKXx8dC5nZXRDb250ZXh0KCJleHBlcmltZW50YWwtd2ViZ2wyIixlKSksYSYmKHU9KHU9dXx8dC5nZXRDb250ZXh0KCJ3ZWJnbCIsZSkpfHx0LmdldENvbnRleHQoImV4cGVyaW1lbnRhbC13ZWJnbCIsZSkpLHQucmVtb3ZlRXZlbnRMaXN0ZW5lcigid2ViZ2xjb250ZXh0Y3JlYXRpb25lcnJvciIsciwhMSksdXx8bigiRmFpbGVkIHRvIGNyZWF0ZSAiLmNvbmNhdChzJiYhYT8iV2ViR0wyIjoiV2ViR0wiLCIgY29udGV4dCIpKX1mdW5jdGlvbiBsdCh0KXt2YXIgZSxuPXQuY2FudmFzLHI9dC53aWR0aCxpPXZvaWQgMD09PXI/ODAwOnIsYT10LmhlaWdodCxvPXZvaWQgMD09PWE/NjAwOmEscz10Lm9uRXJyb3I7InN0cmluZyI9PXR5cGVvZiBuPyhpdCYmImNvbXBsZXRlIj09PWRvY3VtZW50LnJlYWR5U3RhdGV8fHMoImNyZWF0ZUdMQ29udGV4dCBjYWxsZWQgb24gY2FudmFzICciLmNvbmNhdChuLCInIGJlZm9yZSBwYWdlIHdhcyBsb2FkZWQiKSksZT1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChuKSk6bj9lPW46KChlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImNhbnZhcyIpKS5pZD0ibHVtYWdsLWNhbnZhcyIsZS5zdHlsZS53aWR0aD1OdW1iZXIuaXNGaW5pdGUoaSk/IiIuY29uY2F0KGksInB4Iik6IjEwMCUiLGUuc3R5bGUuaGVpZ2h0PU51bWJlci5pc0Zpbml0ZShvKT8iIi5jb25jYXQobywicHgiKToiMTAwJSIsZG9jdW1lbnQuYm9keS5pbnNlcnRCZWZvcmUoZSxkb2N1bWVudC5ib2R5LmZpcnN0Q2hpbGQpKTtyZXR1cm4gZX1mdW5jdGlvbiBodCh0KXt2YXIgZT1iKHQpPyJXZWJHTDIiOiJXZWJHTDEiLG49ZnVuY3Rpb24odCl7dmFyIGU9dC5nZXRQYXJhbWV0ZXIoNzkzNiksbj10LmdldFBhcmFtZXRlcig3OTM3KSxyPXQuZ2V0RXh0ZW5zaW9uKCJXRUJHTF9kZWJ1Z19yZW5kZXJlcl9pbmZvIik7cmV0dXJue3ZlbmRvcjpyJiZ0LmdldFBhcmFtZXRlcihyLlVOTUFTS0VEX1ZFTkRPUl9XRUJHTHx8NzkzNil8fGUscmVuZGVyZXI6ciYmdC5nZXRQYXJhbWV0ZXIoci5VTk1BU0tFRF9SRU5ERVJFUl9XRUJHTHx8NzkzNyl8fG4sdmVuZG9yTWFza2VkOmUscmVuZGVyZXJNYXNrZWQ6bix2ZXJzaW9uOnQuZ2V0UGFyYW1ldGVyKDc5MzgpLHNoYWRpbmdMYW5ndWFnZVZlcnNpb246dC5nZXRQYXJhbWV0ZXIoMzU3MjQpfX0odCkscj1uPyIoIi5jb25jYXQobi52ZW5kb3IsIiwiKS5jb25jYXQobi5yZW5kZXJlciwiKSIpOiIiLGk9dC5kZWJ1Zz8iIGRlYnVnIjoiIjt4LmluZm8oMSwiIi5jb25jYXQoZSkuY29uY2F0KGksIiBjb250ZXh0ICIpLmNvbmNhdChyKSkoKX1mdW5jdGlvbiBmdCh0KXtyZXR1cm4idW5kZWZpbmVkIiE9dHlwZW9mIFdlYkdMMlJlbmRlcmluZ0NvbnRleHQmJnQgaW5zdGFuY2VvZiBXZWJHTDJSZW5kZXJpbmdDb250ZXh0PzI6MX1mdW5jdGlvbiBkdCh0LGUsbil7dmFyIHI9IndpZHRoImluIG4/bi53aWR0aDp0LmNhbnZhcy5jbGllbnRXaWR0aCxpPSJoZWlnaHQiaW4gbj9uLmhlaWdodDp0LmNhbnZhcy5jbGllbnRIZWlnaHQ7ciYmaXx8KHgubG9nKDEsIkNhbnZhcyBjbGllbnRXaWR0aC9jbGllbnRIZWlnaHQgaXMgMCIpKCksZT0xLHI9dC5jYW52YXMud2lkdGh8fDEsaT10LmNhbnZhcy5oZWlnaHR8fDEpLHQubHVtYT10Lmx1bWF8fHt9LHQubHVtYS5jYW52YXNTaXplSW5mbz10Lmx1bWEuY2FudmFzU2l6ZUluZm98fHt9O3ZhciBhPXQubHVtYS5jYW52YXNTaXplSW5mbztpZihhLmNsaWVudFdpZHRoIT09cnx8YS5jbGllbnRIZWlnaHQhPT1pfHxhLmRldmljZVBpeGVsUmF0aW8hPT1lKXt2YXIgbz1lLHM9TWF0aC5mbG9vcihyKm8pLHU9TWF0aC5mbG9vcihpKm8pO3QuY2FudmFzLndpZHRoPXMsdC5jYW52YXMuaGVpZ2h0PXUsdC5kcmF3aW5nQnVmZmVyV2lkdGg9PT1zJiZ0LmRyYXdpbmdCdWZmZXJIZWlnaHQ9PT11fHwoeC53YXJuKCJEZXZpY2UgcGl4ZWwgcmF0aW8gY2xhbXBlZCIpKCksbz1NYXRoLm1pbih0LmRyYXdpbmdCdWZmZXJXaWR0aC9yLHQuZHJhd2luZ0J1ZmZlckhlaWdodC9pKSx0LmNhbnZhcy53aWR0aD1NYXRoLmZsb29yKHIqbyksdC5jYW52YXMuaGVpZ2h0PU1hdGguZmxvb3IoaSpvKSksT2JqZWN0LmFzc2lnbih0Lmx1bWEuY2FudmFzU2l6ZUluZm8se2NsaWVudFdpZHRoOnIsY2xpZW50SGVpZ2h0OmksZGV2aWNlUGl4ZWxSYXRpbzplfSl9fW4uZChlLCJkIiwoZnVuY3Rpb24oKXtyZXR1cm4gdHR9KSksbi5kKGUsImsiLChmdW5jdGlvbigpe3JldHVybiAkfSkpLG4uZChlLCJpIiwoZnVuY3Rpb24oKXtyZXR1cm4gZXR9KSksbi5kKGUsImwiLChmdW5jdGlvbigpe3JldHVybiBudH0pKSxuLmQoZSwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIG90fSkpLG4uZChlLCJqIiwoZnVuY3Rpb24oKXtyZXR1cm4gdXR9KSksbi5kKGUsImUiLChmdW5jdGlvbigpe3JldHVybiBzdH0pKSxuLmQoZSwiaCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHh9KSksbi5kKGUsImMiLChmdW5jdGlvbigpe3JldHVybiBmfSkpLG4uZChlLCJiIiwoZnVuY3Rpb24oKXtyZXR1cm4gZH0pKSxuLmQoZSwiZiIsKGZ1bmN0aW9uKCl7cmV0dXJuIG19KSksbi5kKGUsImciLChmdW5jdGlvbigpe3JldHVybiBifSkpfSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigyNjApO2Z1bmN0aW9uIGkoZSxuLGEpe3JldHVybiJ1bmRlZmluZWQiIT10eXBlb2YgUmVmbGVjdCYmUmVmbGVjdC5nZXQ/dC5leHBvcnRzPWk9UmVmbGVjdC5nZXQ6dC5leHBvcnRzPWk9ZnVuY3Rpb24odCxlLG4pe3ZhciBpPXIodCxlKTtpZihpKXt2YXIgYT1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGksZSk7cmV0dXJuIGEuZ2V0P2EuZ2V0LmNhbGwobik6YS52YWx1ZX19LGkoZSxuLGF8fGUpfXQuZXhwb3J0cz1pfSxmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIHIodCxlLG4scixpLGEsbyl7dHJ5e3ZhciBzPXRbYV0obyksdT1zLnZhbHVlfWNhdGNoKHQpe3JldHVybiB2b2lkIG4odCl9cy5kb25lP2UodSk6UHJvbWlzZS5yZXNvbHZlKHUpLnRoZW4ocixpKX1mdW5jdGlvbiBpKHQpe3JldHVybiBmdW5jdGlvbigpe3ZhciBlPXRoaXMsbj1hcmd1bWVudHM7cmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbihpLGEpe3ZhciBvPXQuYXBwbHkoZSxuKTtmdW5jdGlvbiBzKHQpe3IobyxpLGEscyx1LCJuZXh0Iix0KX1mdW5jdGlvbiB1KHQpe3IobyxpLGEscyx1LCJ0aHJvdyIsdCl9cyh2b2lkIDApfSkpfX1uLmQoZSwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIGl9KSl9LGZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7bi5kKGUsImIiLChmdW5jdGlvbigpe3JldHVybiByfSkpLG4uZChlLCJhIiwoZnVuY3Rpb24oKXtyZXR1cm4gaX0pKSxuLmQoZSwiYyIsKGZ1bmN0aW9uKCl7cmV0dXJuIGF9KSk7dmFyIHI9MWUtNixpPSJ1bmRlZmluZWQiIT10eXBlb2YgRmxvYXQzMkFycmF5P0Zsb2F0MzJBcnJheTpBcnJheSxhPU1hdGgucmFuZG9tO01hdGguUEk7TWF0aC5oeXBvdHx8KE1hdGguaHlwb3Q9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9MCxlPWFyZ3VtZW50cy5sZW5ndGg7ZS0tOyl0Kz1hcmd1bWVudHNbZV0qYXJndW1lbnRzW2VdO3JldHVybiBNYXRoLnNxcnQodCl9KX0sZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiByKHQpe3JldHVybihyPU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3QuZ2V0UHJvdG90eXBlT2Y6ZnVuY3Rpb24odCl7cmV0dXJuIHQuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YodCl9KSh0KX1uLmQoZSwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIHJ9KSl9LGZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7bi5kKGUsImIiLChmdW5jdGlvbigpe3JldHVybiByfSkpLG4uZChlLCJhIiwoZnVuY3Rpb24oKXtyZXR1cm4gaX0pKSxuLmQoZSwiYyIsKGZ1bmN0aW9uKCl7cmV0dXJuIGF9KSk7dmFyIHI9MWUtNixpPSJ1bmRlZmluZWQiIT10eXBlb2YgRmxvYXQzMkFycmF5P0Zsb2F0MzJBcnJheTpBcnJheSxhPU1hdGgucmFuZG9tO01hdGguUEk7TWF0aC5oeXBvdHx8KE1hdGguaHlwb3Q9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9MCxlPWFyZ3VtZW50cy5sZW5ndGg7ZS0tOyl0Kz1hcmd1bWVudHNbZV0qYXJndW1lbnRzW2VdO3JldHVybiBNYXRoLnNxcnQodCl9KX0sZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0IjtuLmQoZSwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIGF9KSk7dmFyIHI9bigyNSksaT1uKDQ3KTtmdW5jdGlvbiBhKHQsZSl7cmV0dXJuIWV8fCJvYmplY3QiIT09T2JqZWN0KHIuYSkoZSkmJiJmdW5jdGlvbiIhPXR5cGVvZiBlP09iamVjdChpLmEpKHQpOmV9fSxmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO24uZChlLCJhIiwoZnVuY3Rpb24oKXtyZXR1cm4gaX0pKTt2YXIgcj1uKDEyMCk7ZnVuY3Rpb24gaSh0LGUpe2lmKCJmdW5jdGlvbiIhPXR5cGVvZiBlJiZudWxsIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiIpO3QucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZSYmZS5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTp0LHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSxlJiZPYmplY3Qoci5hKSh0LGUpfX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMjU3KSxpPW4oMjU4KSxhPW4oMjU5KTt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlKXtyZXR1cm4gcih0KXx8aSh0LGUpfHxhKCl9fSxmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO24ucihlKTt2YXIgcj1uKDIyKSxpPW4oMTM4KSxhPW4oMTQ5KSxvPW4oMTA5KSxzPW4oMSksdT1uLm4ocyksYz1uKDIpLGw9bi5uKGMpLGg9bigxNDIpLGY9WzI1NSwyNTUsMjU1XSxkPVswLDAsMV0sdj1bMCwwLDFdLHA9MCxnPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fTt1KCkodGhpcyx0KTt2YXIgbj1lLmNvbG9yLHI9dm9pZCAwPT09bj9mOm4saT1lLmludGVuc2l0eSxhPXZvaWQgMD09PWk/MTppLG89ZS5wb3NpdGlvbixzPXZvaWQgMD09PW8/djpvO3RoaXMuaWQ9ZS5pZHx8InBvaW50LSIuY29uY2F0KHArKyksdGhpcy5jb2xvcj1yLHRoaXMuaW50ZW5zaXR5PWEsdGhpcy50eXBlPSJwb2ludCIsdGhpcy5wb3NpdGlvbj1zLHRoaXMuYXR0ZW51YXRpb249eShlKSx0aGlzLnByb2plY3RlZExpZ2h0PU9iamVjdC5hc3NpZ24oe30sdGhpcyl9cmV0dXJuIGwoKSh0LFt7a2V5OiJnZXRQcm9qZWN0ZWRMaWdodCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dC5sYXllcixuPXRoaXMucHJvamVjdGVkTGlnaHQsaT1lLmNvbnRleHQudmlld3BvcnQsYT1lLnByb3BzLG89YS5jb29yZGluYXRlU3lzdGVtLHM9YS5jb29yZGluYXRlT3JpZ2luLHU9T2JqZWN0KGguYikodGhpcy5wb3NpdGlvbix7dmlld3BvcnQ6aSxjb29yZGluYXRlU3lzdGVtOm8sY29vcmRpbmF0ZU9yaWdpbjpzLGZyb21Db29yZGluYXRlU3lzdGVtOmkuaXNHZW9zcGF0aWFsP3IuYS5MTkdMQVQ6ci5hLkNBUlRFU0lBTixmcm9tQ29vcmRpbmF0ZU9yaWdpbjpbMCwwLDBdfSk7cmV0dXJuIG4uY29sb3I9dGhpcy5jb2xvcixuLmludGVuc2l0eT10aGlzLmludGVuc2l0eSxuLnBvc2l0aW9uPXUsbn19XSksdH0oKTtmdW5jdGlvbiB5KHQpe3JldHVybiJhdHRlbnVhdGlvbiJpbiB0P3QuYXR0ZW51YXRpb246ImludGVuc2l0eSJpbiB0P1swLDAsdC5pbnRlbnNpdHldOmR9dmFyIG09big5KSxiPW4ubihtKSxfPW4oMyksTz1uLm4oXykseD1uKDEwKSx3PW4ubih4KSxrPW4oMTI0KSxTPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXtyZXR1cm4gdSgpKHRoaXMsZSksYigpKHRoaXMsTygpKGUpLmFwcGx5KHRoaXMsYXJndW1lbnRzKSl9cmV0dXJuIHcoKShlLHQpLGwoKShlLFt7a2V5OiJnZXRQcm9qZWN0ZWRMaWdodCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dC5sYXllcixuPXRoaXMucHJvamVjdGVkTGlnaHQscj1lLmNvbnRleHQudmlld3BvcnQsaT1lLnByb3BzLGE9aS5jb29yZGluYXRlU3lzdGVtLG89aS5jb29yZGluYXRlT3JpZ2luLHM9aS5tb2RlbE1hdHJpeCx1PU9iamVjdChrLmIpKHt2aWV3cG9ydDpyLG1vZGVsTWF0cml4OnMsY29vcmRpbmF0ZVN5c3RlbTphLGNvb3JkaW5hdGVPcmlnaW46b30pLnByb2plY3RfdUNhbWVyYVBvc2l0aW9uO3JldHVybiBuLmNvbG9yPXRoaXMuY29sb3Isbi5pbnRlbnNpdHk9dGhpcy5pbnRlbnNpdHksbi5wb3NpdGlvbj11LG59fV0pLGV9KGcpLFA9bigyMjQpLGo9bi5uKFApLFQ9TWF0aC5QSS8xODAsRT0yMy40Mzk3KlQ7ZnVuY3Rpb24gQSh0LGUsbil7dmFyIHIsaSxhLG8scyx1LGM9VCotbixsPVQqZSxoPWZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm4gdC84NjRlNS0uNSsyNDQwNTg4fSh0KS0yNDUxNTQ1fSh0KSxmPShyPVQqKDM1Ny41MjkxKy45ODU2MDAyOCpoKSxpPVQqKDEuOTE0OCpNYXRoLnNpbihyKSsuMDIqTWF0aC5zaW4oMipyKSszZS00Kk1hdGguc2luKDMqcikpLGE9citpKzEwMi45MzcyKlQrTWF0aC5QSSx7ZGVjbGluYXRpb246KG89YSxzPTAsdT1vLE1hdGguYXNpbihNYXRoLnNpbihzKSpNYXRoLmNvcyhFKStNYXRoLmNvcyhzKSpNYXRoLnNpbihFKSpNYXRoLnNpbih1KSkpLHJpZ2h0QXNjZW5zaW9uOk0oYSwwKX0pLGQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gVCooMjgwLjE0NyszNjAuOTg1NjIzNSp0KS1lfShoLGMpLWYucmlnaHRBc2NlbnNpb247cmV0dXJue2F6aW11dGg6QyhkLGwsZi5kZWNsaW5hdGlvbiksYWx0aXR1ZGU6TChkLGwsZi5kZWNsaW5hdGlvbil9fWZ1bmN0aW9uIE0odCxlKXt2YXIgbj10O3JldHVybiBNYXRoLmF0YW4yKE1hdGguc2luKG4pKk1hdGguY29zKEUpLU1hdGgudGFuKGUpKk1hdGguc2luKEUpLE1hdGguY29zKG4pKX1mdW5jdGlvbiBDKHQsZSxuKXt2YXIgcj10LGk9ZSxhPW47cmV0dXJuIE1hdGguYXRhbjIoTWF0aC5zaW4ociksTWF0aC5jb3MocikqTWF0aC5zaW4oaSktTWF0aC50YW4oYSkqTWF0aC5jb3MoaSkpfWZ1bmN0aW9uIEwodCxlLG4pe3ZhciByPXQsaT1lLGE9bjtyZXR1cm4gTWF0aC5hc2luKE1hdGguc2luKGkpKk1hdGguc2luKGEpK01hdGguY29zKGkpKk1hdGguY29zKGEpKk1hdGguY29zKHIpKX12YXIgST1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKHQpe3ZhciBuLHI9dC50aW1lc3RhbXAsaT1qKCkodCxbInRpbWVzdGFtcCJdKTtyZXR1cm4gdSgpKHRoaXMsZSksKG49YigpKHRoaXMsTygpKGUpLmNhbGwodGhpcyxpKSkpLnRpbWVzdGFtcD1yLG59cmV0dXJuIHcoKShlLHQpLGwoKShlLFt7a2V5OiJnZXRQcm9qZWN0ZWRMaWdodCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dC5sYXllci5jb250ZXh0LnZpZXdwb3J0LG49ZS5sYXRpdHVkZSxyPWUubG9uZ2l0dWRlO3JldHVybiB0aGlzLmRpcmVjdGlvbj1mdW5jdGlvbih0LGUsbil7dmFyIHI9QSh0LGUsbiksaT1yLmF6aW11dGgsYT1yLmFsdGl0dWRlLG89aStNYXRoLlBJO3JldHVyblstTWF0aC5zaW4obyksLU1hdGguY29zKG8pLC1NYXRoLnNpbihhKV19KHRoaXMudGltZXN0YW1wLG4sciksdGhpc319XSksZX0oby5hKSxSPW4oMTAyKSxOPW4oNiksRD1uKDE3KSxGPW4oMTUpLHo9bigxOCksQj1uKDE3NSksVT1uKDcxKSxWPVstMSwtMSwxLC0xLC0xLDEsMSwxXSxHPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUodCxuKXt2YXIgcjtPYmplY3QoTi5hKSh0aGlzLGUpO3ZhciBpPVYubWFwKChmdW5jdGlvbih0KXtyZXR1cm4tMT09PXQ/MDp0fSkpO3JldHVybihyPU9iamVjdChELmEpKHRoaXMsT2JqZWN0KEYuYSkoZSkuY2FsbCh0aGlzLHQsT2JqZWN0LmFzc2lnbih7fSxuLHt2czoiYXR0cmlidXRlIHZlYzIgYUNsaXBTcGFjZVBvc2l0aW9uO1xuYXR0cmlidXRlIHZlYzIgYVRleENvb3JkO1xuYXR0cmlidXRlIHZlYzIgYUNvb3JkaW5hdGU7XG5cbnZhcnlpbmcgdmVjMiBwb3NpdGlvbjtcbnZhcnlpbmcgdmVjMiBjb29yZGluYXRlO1xudmFyeWluZyB2ZWMyIHV2O1xuXG52b2lkIG1haW4odm9pZCkge1xuICBnbF9Qb3NpdGlvbiA9IHZlYzQoYUNsaXBTcGFjZVBvc2l0aW9uLCAwLiwgMS4pO1xuICBwb3NpdGlvbiA9IGFDbGlwU3BhY2VQb3NpdGlvbjtcbiAgY29vcmRpbmF0ZSA9IGFDb29yZGluYXRlO1xuICB1diA9IGFUZXhDb29yZDtcbn1cbiIsZ2VvbWV0cnk6bmV3IFUuYSh7ZHJhd01vZGU6NSx2ZXJ0ZXhDb3VudDo0LGF0dHJpYnV0ZXM6e2FDbGlwU3BhY2VQb3NpdGlvbjp7c2l6ZToyLHZhbHVlOm5ldyBGbG9hdDMyQXJyYXkoVil9LGFUZXhDb29yZDp7c2l6ZToyLHZhbHVlOm5ldyBGbG9hdDMyQXJyYXkoaSl9LGFDb29yZGluYXRlOntzaXplOjIsdmFsdWU6bmV3IEZsb2F0MzJBcnJheShpKX19fSl9KSkpKS5zZXRWZXJ0ZXhDb3VudCg0KSxyfXJldHVybiBPYmplY3Qoei5hKShlLHQpLGV9KEIuYSksVz1uKDExKSxIPW4oMTc3KSxxPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUodCl7dmFyIG4scj1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06e307dSgpKHRoaXMsZSksbj1iKCkodGhpcyxPKCkoZSkuY2FsbCh0aGlzLHQscikpO3ZhciBpPXIubW9kdWxlLGE9ci5mcyxvPXIuaWQ7cmV0dXJuIG4ubW9kZWw9bmV3IEcodCx7aWQ6byxmczphLG1vZHVsZXM6W2ldfSksbn1yZXR1cm4gdygpKGUsdCksbCgpKGUsW3trZXk6InJlbmRlciIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcyxuPXRoaXMuZ2w7T2JqZWN0KFcubCkobix7ZnJhbWVidWZmZXI6dC5vdXRwdXRCdWZmZXIsY2xlYXJDb2xvcjpbMCwwLDAsMF19LChmdW5jdGlvbigpe3JldHVybiBlLl9yZW5kZXJQYXNzKG4sdCl9KSl9fSx7a2V5OiJkZWxldGUiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5tb2RlbC5kZWxldGUoKSx0aGlzLm1vZGVsPW51bGx9fSx7a2V5OiJfcmVuZGVyUGFzcyIsdmFsdWU6ZnVuY3Rpb24odCxlKXt2YXIgbj1lLmlucHV0QnVmZmVyO2Uub3V0cHV0QnVmZmVyO09iamVjdChILmEpKHQse2NvbG9yOiEwfSksdGhpcy5tb2RlbC5kcmF3KHttb2R1bGVTZXR0aW5nczp0aGlzLnByb3BzLm1vZHVsZVNldHRpbmdzLHVuaWZvcm1zOnt0ZXh0dXJlOm4sdGV4U2l6ZTpbbi53aWR0aCxuLmhlaWdodF19LHBhcmFtZXRlcnM6e2RlcHRoV3JpdGU6ITEsZGVwdGhUZXN0OiExfX0pfX1dKSxlfShuKDE2OSkuYSksWD1uKDE5MCksWj1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKHQpe3ZhciBuLHI9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOnt9O3JldHVybiB1KCkodGhpcyxlKSwobj1iKCkodGhpcyxPKCkoZSkuY2FsbCh0aGlzLHIpKSkuaWQ9IiIuY29uY2F0KHQubmFtZSwiLXBhc3MiKSxPYmplY3QoWC5iKSh0KSxuLm1vZHVsZT10LG59cmV0dXJuIHcoKShlLHQpLGwoKShlLFt7a2V5OiJwb3N0UmVuZGVyIix2YWx1ZTpmdW5jdGlvbih0LGUpe3RoaXMucGFzc2VzfHwodGhpcy5wYXNzZXM9ZnVuY3Rpb24odCxlLG4scil7aWYoZS5maWx0ZXJ8fGUuc2FtcGxlcil7dmFyIGk9UShlKTtyZXR1cm5bbmV3IHEodCx7aWQ6bixtb2R1bGU6ZSxmczppLG1vZHVsZVNldHRpbmdzOnJ9KV19cmV0dXJuKGUucGFzc2VzfHxbXSkubWFwKChmdW5jdGlvbihpLGEpe3ZhciBvPVEoZSxpKSxzPSIiLmNvbmNhdChuLCItIikuY29uY2F0KGEpO3JldHVybiBuZXcgcSh0LHtpZDpzLG1vZHVsZTplLGZzOm8sbW9kdWxlU2V0dGluZ3M6cn0pfSkpfSh0LHRoaXMubW9kdWxlLHRoaXMuaWQsdGhpcy5wcm9wcykpO2Zvcih2YXIgbj1lLnRhcmdldCxyPWUuaW5wdXRCdWZmZXIsaT1lLnN3YXBCdWZmZXIsYT0wO2E8dGhpcy5wYXNzZXMubGVuZ3RoO2ErKyl7biYmYT09PXRoaXMucGFzc2VzLmxlbmd0aC0xJiYoaT1uKSx0aGlzLnBhc3Nlc1thXS5yZW5kZXIoe2lucHV0QnVmZmVyOnIsb3V0cHV0QnVmZmVyOml9KTt2YXIgbz1pO2k9cixyPW99cmV0dXJuIHJ9fSx7a2V5OiJjbGVhbnVwIix2YWx1ZTpmdW5jdGlvbigpe2lmKHRoaXMucGFzc2VzKXt2YXIgdD0hMCxlPSExLG49dm9pZCAwO3RyeXtmb3IodmFyIHIsaT10aGlzLnBhc3Nlc1tTeW1ib2wuaXRlcmF0b3JdKCk7ISh0PShyPWkubmV4dCgpKS5kb25lKTt0PSEwKXtyLnZhbHVlLmRlbGV0ZSgpfX1jYXRjaCh0KXtlPSEwLG49dH1maW5hbGx5e3RyeXt0fHxudWxsPT1pLnJldHVybnx8aS5yZXR1cm4oKX1maW5hbGx5e2lmKGUpdGhyb3cgbn19dGhpcy5wYXNzZXM9bnVsbH19fV0pLGV9KFIuYSk7dmFyIFk9ZnVuY3Rpb24odCl7cmV0dXJuInVuaWZvcm0gc2FtcGxlcjJEIHRleHR1cmU7XG51bmlmb3JtIHZlYzIgdGV4U2l6ZTtcblxudmFyeWluZyB2ZWMyIHBvc2l0aW9uO1xudmFyeWluZyB2ZWMyIGNvb3JkaW5hdGU7XG52YXJ5aW5nIHZlYzIgdXY7XG5cbnZvaWQgbWFpbigpIHtcbiAgdmVjMiB0ZXhDb29yZCA9IGNvb3JkaW5hdGU7XG5cbiAgZ2xfRnJhZ0NvbG9yID0gdGV4dHVyZTJEKHRleHR1cmUsIHRleENvb3JkKTtcbiAgZ2xfRnJhZ0NvbG9yID0gIi5jb25jYXQodCwiKGdsX0ZyYWdDb2xvciwgdGV4U2l6ZSwgdGV4Q29vcmQpO1xufVxuIil9LEs9ZnVuY3Rpb24odCl7cmV0dXJuInVuaWZvcm0gc2FtcGxlcjJEIHRleHR1cmU7XG51bmlmb3JtIHZlYzIgdGV4U2l6ZTtcblxudmFyeWluZyB2ZWMyIHBvc2l0aW9uO1xudmFyeWluZyB2ZWMyIGNvb3JkaW5hdGU7XG52YXJ5aW5nIHZlYzIgdXY7XG5cbnZvaWQgbWFpbigpIHtcbiAgdmVjMiB0ZXhDb29yZCA9IGNvb3JkaW5hdGU7XG5cbiAgZ2xfRnJhZ0NvbG9yID0gIi5jb25jYXQodCwiKHRleHR1cmUsIHRleFNpemUsIHRleENvb3JkKTtcbn1cbiIpfTtmdW5jdGlvbiBRKHQpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp0O2lmKGUuZmlsdGVyKXt2YXIgbj0ic3RyaW5nIj09dHlwZW9mIGUuZmlsdGVyP2UuZmlsdGVyOiIiLmNvbmNhdCh0Lm5hbWUsIl9maWx0ZXJDb2xvciIpO3JldHVybiBZKG4pfWlmKGUuc2FtcGxlcil7dmFyIHI9InN0cmluZyI9PXR5cGVvZiBlLnNhbXBsZXI/ZS5zYW1wbGVyOiIiLmNvbmNhdCh0Lm5hbWUsIl9zYW1wbGVDb2xvciIpO3JldHVybiBLKHIpfXJldHVybiBudWxsfXZhciBKPW4oMTAxKSwkPW4oMjEyKSx0dD1uKDE1MyksZXQ9bigxNTgpLG50PW4oMTE4KSxydD1uKDE4NSksaXQ9bigxNjQpLGF0PW4oNTYpLG90PW4oMTUxKSxzdD1uKDIyMCksdXQ9bigxMTEpLGN0PW4oMjAyKSxsdD1uKDI5MyksaHQ9bigxMjIpLGZ0PW4oODEpLGR0PW4oMTUwKSx2dD1uKDM0KSxwdD1uKDgpLGd0PW4oNzkpLHl0PW4oMTI1KSxtdD1uKDUwKSxidD17cG9zaXRpb246WzAsMCwwXSxwaXRjaDowLGJlYXJpbmc6MCxtYXhQaXRjaDo5MCxtaW5QaXRjaDotOTB9LF90PWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUodCl7dmFyIG4scj10LndpZHRoLGk9dC5oZWlnaHQsYT10LnBvc2l0aW9uLG89dm9pZCAwPT09YT9idC5wb3NpdGlvbjphLHM9dC5iZWFyaW5nLGM9dm9pZCAwPT09cz9idC5iZWFyaW5nOnMsbD10LnBpdGNoLGg9dm9pZCAwPT09bD9idC5waXRjaDpsLGY9dC5sb25naXR1ZGUsZD10LmxhdGl0dWRlLHY9dC5tYXhQaXRjaCxwPXZvaWQgMD09PXY/YnQubWF4UGl0Y2g6dixnPXQubWluUGl0Y2gseT12b2lkIDA9PT1nP2J0Lm1pblBpdGNoOmcsbT10LnN0YXJ0QmVhcmluZyxfPXQuc3RhcnRQaXRjaCx4PXQuc3RhcnRab29tUG9zaXRpb24sdz10LnN0YXJ0Wm9vbTtyZXR1cm4gdSgpKHRoaXMsZSksKG49YigpKHRoaXMsTygpKGUpLmNhbGwodGhpcyx7d2lkdGg6cixoZWlnaHQ6aSxwb3NpdGlvbjpvLGJlYXJpbmc6YyxwaXRjaDpoLGxvbmdpdHVkZTpmLGxhdGl0dWRlOmQsbWF4UGl0Y2g6cCxtaW5QaXRjaDp5fSkpKS5faW50ZXJhY3RpdmVTdGF0ZT17c3RhcnRCZWFyaW5nOm0sc3RhcnRQaXRjaDpfLHN0YXJ0Wm9vbVBvc2l0aW9uOngsc3RhcnRab29tOnd9LG59cmV0dXJuIHcoKShlLHQpLGwoKShlLFt7a2V5OiJnZXRJbnRlcmFjdGl2ZVN0YXRlIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pbnRlcmFjdGl2ZVN0YXRlfX0se2tleToiZ2V0RGlyZWN0aW9uIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdJiZhcmd1bWVudHNbMF0sZT1uZXcgcHQuZih7YmVhcmluZzp0aGlzLl92aWV3cG9ydFByb3BzLmJlYXJpbmcscGl0Y2g6dD85MDo5MCt0aGlzLl92aWV3cG9ydFByb3BzLnBpdGNofSksbj1lLnRvVmVjdG9yMygpLm5vcm1hbGl6ZSgpO3JldHVybiBufX0se2tleToicGFuU3RhcnQiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9fSx7a2V5OiJwYW4iLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9fSx7a2V5OiJwYW5FbmQiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9fSx7a2V5OiJyb3RhdGVTdGFydCIsdmFsdWU6ZnVuY3Rpb24odCl7dC5wb3M7cmV0dXJuIHRoaXMuX2dldFVwZGF0ZWRTdGF0ZSh7c3RhcnRCZWFyaW5nOnRoaXMuX3ZpZXdwb3J0UHJvcHMuYmVhcmluZyxzdGFydFBpdGNoOnRoaXMuX3ZpZXdwb3J0UHJvcHMucGl0Y2h9KX19LHtrZXk6InJvdGF0ZSIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dC5kZWx0YVNjYWxlWCxuPXQuZGVsdGFTY2FsZVkscj10aGlzLl9pbnRlcmFjdGl2ZVN0YXRlLGk9ci5zdGFydEJlYXJpbmcsYT1yLnN0YXJ0UGl0Y2g7cmV0dXJuIE51bWJlci5pc0Zpbml0ZShpKSYmTnVtYmVyLmlzRmluaXRlKGEpP3RoaXMuX2dldFVwZGF0ZWRTdGF0ZSh7YmVhcmluZzppLTE4MCplLHBpdGNoOmEtOTAqbn0pOnRoaXN9fSx7a2V5OiJyb3RhdGVFbmQiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2dldFVwZGF0ZWRTdGF0ZSh7c3RhcnRCZWFyaW5nOm51bGwsc3RhcnRQaXRjaDpudWxsfSl9fSx7a2V5OiJ6b29tU3RhcnQiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2dldFVwZGF0ZWRTdGF0ZSh7c3RhcnRab29tUG9zaXRpb246dGhpcy5fdmlld3BvcnRQcm9wcy5wb3NpdGlvbixzdGFydFpvb206dGhpcy5fdmlld3BvcnRQcm9wcy56b29tfSl9fSx7a2V5OiJ6b29tIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10LnNjYWxlLG49dGhpcy5faW50ZXJhY3RpdmVTdGF0ZS5zdGFydFpvb21Qb3NpdGlvbjtufHwobj10aGlzLl92aWV3cG9ydFByb3BzLnBvc2l0aW9uKTt2YXIgcj10aGlzLmdldERpcmVjdGlvbigpO3JldHVybiB0aGlzLl9tb3ZlKHIsTWF0aC5sb2cyKGUpLG4pfX0se2tleToiem9vbUVuZCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZ2V0VXBkYXRlZFN0YXRlKHtzdGFydFpvb21Qb3NpdGlvbjpudWxsLHN0YXJ0Wm9vbTpudWxsfSl9fSx7a2V5OiJtb3ZlTGVmdCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmdldERpcmVjdGlvbighMCk7cmV0dXJuIHRoaXMuX21vdmUodC5yb3RhdGVaKHtyYWRpYW5zOk1hdGguUEkvMn0pKX19LHtrZXk6Im1vdmVSaWdodCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmdldERpcmVjdGlvbighMCk7cmV0dXJuIHRoaXMuX21vdmUodC5yb3RhdGVaKHtyYWRpYW5zOi1NYXRoLlBJLzJ9KSl9fSx7a2V5OiJtb3ZlVXAiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5nZXREaXJlY3Rpb24oITApO3JldHVybiB0aGlzLl9tb3ZlKHQpfX0se2tleToibW92ZURvd24iLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5nZXREaXJlY3Rpb24oITApO3JldHVybiB0aGlzLl9tb3ZlKHQubmVnYXRlKCkpfX0se2tleToicm90YXRlTGVmdCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZ2V0VXBkYXRlZFN0YXRlKHtiZWFyaW5nOnRoaXMuX3ZpZXdwb3J0UHJvcHMuYmVhcmluZy0xNX0pfX0se2tleToicm90YXRlUmlnaHQiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2dldFVwZGF0ZWRTdGF0ZSh7YmVhcmluZzp0aGlzLl92aWV3cG9ydFByb3BzLmJlYXJpbmcrMTV9KX19LHtrZXk6InJvdGF0ZVVwIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9nZXRVcGRhdGVkU3RhdGUoe3BpdGNoOnRoaXMuX3ZpZXdwb3J0UHJvcHMucGl0Y2grMTB9KX19LHtrZXk6InJvdGF0ZURvd24iLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2dldFVwZGF0ZWRTdGF0ZSh7cGl0Y2g6dGhpcy5fdmlld3BvcnRQcm9wcy5waXRjaC0xMH0pfX0se2tleToiem9vbUluIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnpvb20oe3NjYWxlOjJ9KX19LHtrZXk6Inpvb21PdXQiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuem9vbSh7c2NhbGU6LjV9KX19LHtrZXk6InNob3J0ZXN0UGF0aEZyb20iLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXQuZ2V0Vmlld3BvcnRQcm9wcygpLG49T2JqZWN0LmFzc2lnbih7fSx0aGlzLl92aWV3cG9ydFByb3BzKSxyPW4uYmVhcmluZyxpPW4ubG9uZ2l0dWRlO3JldHVybiBNYXRoLmFicyhyLWUuYmVhcmluZyk+MTgwJiYobi5iZWFyaW5nPXI8MD9yKzM2MDpyLTM2MCksTWF0aC5hYnMoaS1lLmxvbmdpdHVkZSk+MTgwJiYobi5sb25naXR1ZGU9aTwwP2krMzYwOmktMzYwKSxufX0se2tleToiX21vdmUiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXToxLG49YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOnRoaXMuX3ZpZXdwb3J0UHJvcHMucG9zaXRpb24scj10LnNjYWxlKDIwKmUpO3JldHVybiB0aGlzLl9nZXRVcGRhdGVkU3RhdGUoe3Bvc2l0aW9uOm5ldyBwdC5kKG4pLmFkZChyKX0pfX0se2tleToiX2dldFVwZGF0ZWRTdGF0ZSIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBlKE9iamVjdC5hc3NpZ24oe30sdGhpcy5fdmlld3BvcnRQcm9wcyx0aGlzLl9pbnRlcmFjdGl2ZVN0YXRlLHQpKX19LHtrZXk6Il9hcHBseUNvbnN0cmFpbnRzIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10LnBpdGNoLG49dC5tYXhQaXRjaCxyPXQubWluUGl0Y2gsaT10LmxvbmdpdHVkZSxhPXQuYmVhcmluZztyZXR1cm4gdC5waXRjaD1PYmplY3QocHQuaCkoZSxyLG4pLChpPC0xODB8fGk+MTgwKSYmKHQubG9uZ2l0dWRlPU9iamVjdChtdC5lKShpKzE4MCwzNjApLTE4MCksKGE8LTE4MHx8YT4xODApJiYodC5iZWFyaW5nPU9iamVjdChtdC5lKShhKzE4MCwzNjApLTE4MCksdH19XSksZX0oeXQuYSksT3Q9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSh0KXtyZXR1cm4gdSgpKHRoaXMsZSksYigpKHRoaXMsTygpKGUpLmNhbGwodGhpcyxfdCx0KSl9cmV0dXJuIHcoKShlLHQpLGV9KGd0LmEpO3ZhciB4dD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7cmV0dXJuIHUoKSh0aGlzLGUpLGIoKSh0aGlzLE8oKShlKS5hcHBseSh0aGlzLGFyZ3VtZW50cykpfXJldHVybiB3KCkoZSx0KSxsKCkoZSxbe2tleToiX2dldFZpZXdwb3J0Iix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10LnZpZXdTdGF0ZSxuPWUubW9kZWxNYXRyaXgscj12b2lkIDA9PT1uP251bGw6bixpPWUuYmVhcmluZyxhPXZvaWQgMD09PWk/MDppLG89ZS5waXRjaCxzPXZvaWQgMD09PW8/MDpvLHU9ZS51cCxjPXZvaWQgMD09PXU/WzAsMCwxXTp1LGw9ZnVuY3Rpb24odCl7dmFyIGU9dC5iZWFyaW5nLG49dC5waXRjaDtyZXR1cm4gbmV3IHB0LmYoe2JlYXJpbmc6ZSxwaXRjaDpufSkudG9WZWN0b3IzKCkubm9ybWFsaXplKCl9KHtiZWFyaW5nOmEscGl0Y2g6OTArc30pLGg9cj9yLnRyYW5zZm9ybURpcmVjdGlvbihsKTpsLGY9T2JqZWN0KHZ0LmcpKHQpLGQ9TWF0aC5wb3coMixmKSx2PShuZXcgcHQuYSkubG9va0F0KHtleWU6WzAsMCwwXSxjZW50ZXI6aCx1cDpjfSkuc2NhbGUoZCk7cmV0dXJuIG5ldyBhdC5hKE9iamVjdC5hc3NpZ24oe30sdCx7em9vbTpmLHZpZXdNYXRyaXg6dn0pKX19LHtrZXk6ImNvbnRyb2xsZXIiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9nZXRDb250cm9sbGVyUHJvcHMoe3R5cGU6T3R9KX19XSksZX0oZnQuYSk7eHQuZGlzcGxheU5hbWU9IkZpcnN0UGVyc29uVmlldyI7dmFyIHd0PW4oNzcpLGt0PW4oNzgpLFN0PXtvcmJpdEF4aXM6IloiLHJvdGF0aW9uWDowLHJvdGF0aW9uT3JiaXQ6MCx6b29tOjAsdGFyZ2V0OlswLDAsMF0sbWluUm90YXRpb25YOi05MCxtYXhSb3RhdGlvblg6OTAsbWluWm9vbTotMS8wLG1heFpvb206MS8wfSxQdD17dHJhbnNpdGlvbkR1cmF0aW9uOjMwMCx0cmFuc2l0aW9uRWFzaW5nOmZ1bmN0aW9uKHQpe3JldHVybiB0fSx0cmFuc2l0aW9uSW50ZXJwb2xhdG9yOm5ldyB3dC5hKFsidGFyZ2V0Iiwiem9vbSIsInJvdGF0aW9uWCIsInJvdGF0aW9uT3JiaXQiXSksdHJhbnNpdGlvbkludGVycnVwdGlvbjprdC5hLkJSRUFLfSxqdD1mdW5jdGlvbih0KXtyZXR1cm4gTWF0aC5wb3coMix0KX0sVHQ9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSh0KXt2YXIgbixyPXQuVmlld3BvcnRUeXBlLGk9dC53aWR0aCxhPXQuaGVpZ2h0LG89dC5vcmJpdEF4aXMscz12b2lkIDA9PT1vP1N0Lm9yYml0QXhpczpvLGM9dC5yb3RhdGlvblgsbD12b2lkIDA9PT1jP1N0LnJvdGF0aW9uWDpjLGg9dC5yb3RhdGlvbk9yYml0LGY9dm9pZCAwPT09aD9TdC5yb3RhdGlvbk9yYml0OmgsZD10LnRhcmdldCx2PXZvaWQgMD09PWQ/U3QudGFyZ2V0OmQscD10Lnpvb20sZz12b2lkIDA9PT1wP1N0Lnpvb206cCx5PXQubWluUm90YXRpb25YLG09dm9pZCAwPT09eT9TdC5taW5Sb3RhdGlvblg6eSxfPXQubWF4Um90YXRpb25YLHg9dm9pZCAwPT09Xz9TdC5tYXhSb3RhdGlvblg6Xyx3PXQubWluWm9vbSxrPXZvaWQgMD09PXc/U3QubWluWm9vbTp3LFM9dC5tYXhab29tLFA9dm9pZCAwPT09Uz9TdC5tYXhab29tOlMsaj10LnN0YXJ0UGFuUG9zaXRpb24sVD10LnN0YXJ0VGFyZ2V0LEU9dC5zdGFydFJvdGF0aW9uWCxBPXQuc3RhcnRSb3RhdGlvbk9yYml0LE09dC5zdGFydFpvb21Qb3NpdGlvbixDPXQuc3RhcnRab29tO3JldHVybiB1KCkodGhpcyxlKSwobj1iKCkodGhpcyxPKCkoZSkuY2FsbCh0aGlzLHt3aWR0aDppLGhlaWdodDphLG9yYml0QXhpczpzLHJvdGF0aW9uWDpsLHJvdGF0aW9uT3JiaXQ6Zix0YXJnZXQ6dix6b29tOmcsbWluUm90YXRpb25YOm0sbWF4Um90YXRpb25YOngsbWluWm9vbTprLG1heFpvb206UH0pKSkuX2ludGVyYWN0aXZlU3RhdGU9e3N0YXJ0UGFuUG9zaXRpb246aixzdGFydFRhcmdldDpULHN0YXJ0Um90YXRpb25YOkUsc3RhcnRSb3RhdGlvbk9yYml0OkEsc3RhcnRab29tUG9zaXRpb246TSxzdGFydFpvb206Q30sbi5WaWV3cG9ydFR5cGU9cixufXJldHVybiB3KCkoZSx0KSxsKCkoZSxbe2tleToiZ2V0Vmlld3BvcnRQcm9wcyIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdmlld3BvcnRQcm9wc319LHtrZXk6ImdldEludGVyYWN0aXZlU3RhdGUiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2ludGVyYWN0aXZlU3RhdGV9fSx7a2V5OiJwYW5TdGFydCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dC5wb3Msbj10aGlzLl92aWV3cG9ydFByb3BzLnRhcmdldDtyZXR1cm4gdGhpcy5fZ2V0VXBkYXRlZFN0YXRlKHtzdGFydFBhblBvc2l0aW9uOmUsc3RhcnRUYXJnZXQ6bn0pfX0se2tleToicGFuIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10LnBvcyxuPSh0LnN0YXJ0UG9zLHRoaXMuX2ludGVyYWN0aXZlU3RhdGUpLHI9bi5zdGFydFBhblBvc2l0aW9uLGk9bi5zdGFydFRhcmdldCxhPW5ldyBwdC5jKGUpLnN1YnRyYWN0KHIpO3JldHVybiB0aGlzLl9nZXRVcGRhdGVkU3RhdGUoe3RhcmdldDp0aGlzLl9jYWxjdWxhdGVOZXdUYXJnZXQoe3N0YXJ0VGFyZ2V0OmkscGl4ZWxPZmZzZXQ6YX0pfSl9fSx7a2V5OiJwYW5FbmQiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2dldFVwZGF0ZWRTdGF0ZSh7c3RhcnRQYW5Qb3NpdGlvbjpudWxsLHN0YXJ0VGFyZ2V0Om51bGx9KX19LHtrZXk6InJvdGF0ZVN0YXJ0Iix2YWx1ZTpmdW5jdGlvbih0KXt0LnBvcztyZXR1cm4gdGhpcy5fZ2V0VXBkYXRlZFN0YXRlKHtzdGFydFJvdGF0aW9uWDp0aGlzLl92aWV3cG9ydFByb3BzLnJvdGF0aW9uWCxzdGFydFJvdGF0aW9uT3JiaXQ6dGhpcy5fdmlld3BvcnRQcm9wcy5yb3RhdGlvbk9yYml0fSl9fSx7a2V5OiJyb3RhdGUiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXQuZGVsdGFTY2FsZVgsbj10LmRlbHRhU2NhbGVZLHI9dGhpcy5faW50ZXJhY3RpdmVTdGF0ZSxpPXIuc3RhcnRSb3RhdGlvblgsYT1yLnN0YXJ0Um90YXRpb25PcmJpdDtyZXR1cm4gTnVtYmVyLmlzRmluaXRlKGkpJiZOdW1iZXIuaXNGaW5pdGUoYSk/KChpPC05MHx8aT45MCkmJihlKj0tMSksdGhpcy5fZ2V0VXBkYXRlZFN0YXRlKHtyb3RhdGlvblg6aSsxODAqbixyb3RhdGlvbk9yYml0OmErMTgwKmUsaXNSb3RhdGluZzohMH0pKTp0aGlzfX0se2tleToicm90YXRlRW5kIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9nZXRVcGRhdGVkU3RhdGUoe3N0YXJ0Um90YXRpb25YOm51bGwsc3RhcnRSb3RhdGlvbk9yYml0Om51bGx9KX19LHtrZXk6InNob3J0ZXN0UGF0aEZyb20iLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXQuZ2V0Vmlld3BvcnRQcm9wcygpLG49T2JqZWN0LmFzc2lnbih7fSx0aGlzLl92aWV3cG9ydFByb3BzKSxyPW4ucm90YXRpb25PcmJpdDtyZXR1cm4gTWF0aC5hYnMoci1lLnJvdGF0aW9uT3JiaXQpPjE4MCYmKG4ucm90YXRpb25PcmJpdD1yPDA/ciszNjA6ci0zNjApLG59fSx7a2V5OiJ6b29tU3RhcnQiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXQucG9zO3JldHVybiB0aGlzLl9nZXRVcGRhdGVkU3RhdGUoe3N0YXJ0Wm9vbVBvc2l0aW9uOmUsc3RhcnRUYXJnZXQ6dGhpcy5fdmlld3BvcnRQcm9wcy50YXJnZXQsc3RhcnRab29tOnRoaXMuX3ZpZXdwb3J0UHJvcHMuem9vbX0pfX0se2tleToiem9vbSIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dC5wb3Msbj10LnN0YXJ0UG9zLHI9dC5zY2FsZSxpPXRoaXMuX3ZpZXdwb3J0UHJvcHMsYT1pLnpvb20sbz1pLndpZHRoLHM9aS5oZWlnaHQsdT1pLnRhcmdldCxjPXRoaXMuX2ludGVyYWN0aXZlU3RhdGUsbD1jLnN0YXJ0Wm9vbSxoPWMuc3RhcnRab29tUG9zaXRpb24sZj1jLnN0YXJ0VGFyZ2V0O051bWJlci5pc0Zpbml0ZShsKXx8KGw9YSxmPXUsaD1ufHxlKTt2YXIgZD10aGlzLl9jYWxjdWxhdGVOZXdab29tKHtzY2FsZTpyLHN0YXJ0Wm9vbTpsfSksdj1qdChsKSxwPWp0KGQpLGc9KG8vMi1oWzBdKSoocC92LTEpLHk9KHMvMi1oWzFdKSoocC92LTEpO3JldHVybiB0aGlzLl9nZXRVcGRhdGVkU3RhdGUoe3pvb206ZCx0YXJnZXQ6dGhpcy5fY2FsY3VsYXRlTmV3VGFyZ2V0KHtzdGFydFRhcmdldDpmLHpvb206ZCxwaXhlbE9mZnNldDpbZyx5XX0pfSl9fSx7a2V5OiJ6b29tRW5kIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9nZXRVcGRhdGVkU3RhdGUoe3N0YXJ0Wm9vbVBvc2l0aW9uOm51bGwsc3RhcnRUYXJnZXQ6bnVsbCxzdGFydFpvb206bnVsbH0pfX0se2tleToiem9vbUluIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9nZXRVcGRhdGVkU3RhdGUoe3pvb206dGhpcy5fY2FsY3VsYXRlTmV3Wm9vbSh7c2NhbGU6Mn0pfSl9fSx7a2V5OiJ6b29tT3V0Iix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9nZXRVcGRhdGVkU3RhdGUoe3pvb206dGhpcy5fY2FsY3VsYXRlTmV3Wm9vbSh7c2NhbGU6LjV9KX0pfX0se2tleToibW92ZUxlZnQiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9Wy01MCwwXTtyZXR1cm4gdGhpcy5fZ2V0VXBkYXRlZFN0YXRlKHt0YXJnZXQ6dGhpcy5fY2FsY3VsYXRlTmV3VGFyZ2V0KHtwaXhlbE9mZnNldDp0fSl9KX19LHtrZXk6Im1vdmVSaWdodCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD1bNTAsMF07cmV0dXJuIHRoaXMuX2dldFVwZGF0ZWRTdGF0ZSh7dGFyZ2V0OnRoaXMuX2NhbGN1bGF0ZU5ld1RhcmdldCh7cGl4ZWxPZmZzZXQ6dH0pfSl9fSx7a2V5OiJtb3ZlVXAiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9WzAsLTUwXTtyZXR1cm4gdGhpcy5fZ2V0VXBkYXRlZFN0YXRlKHt0YXJnZXQ6dGhpcy5fY2FsY3VsYXRlTmV3VGFyZ2V0KHtwaXhlbE9mZnNldDp0fSl9KX19LHtrZXk6Im1vdmVEb3duIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PVswLDUwXTtyZXR1cm4gdGhpcy5fZ2V0VXBkYXRlZFN0YXRlKHt0YXJnZXQ6dGhpcy5fY2FsY3VsYXRlTmV3VGFyZ2V0KHtwaXhlbE9mZnNldDp0fSl9KX19LHtrZXk6InJvdGF0ZUxlZnQiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2dldFVwZGF0ZWRTdGF0ZSh7cm90YXRpb25PcmJpdDp0aGlzLl92aWV3cG9ydFByb3BzLnJvdGF0aW9uT3JiaXQtMTV9KX19LHtrZXk6InJvdGF0ZVJpZ2h0Iix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9nZXRVcGRhdGVkU3RhdGUoe3JvdGF0aW9uT3JiaXQ6dGhpcy5fdmlld3BvcnRQcm9wcy5yb3RhdGlvbk9yYml0KzE1fSl9fSx7a2V5OiJyb3RhdGVVcCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZ2V0VXBkYXRlZFN0YXRlKHtyb3RhdGlvblg6dGhpcy5fdmlld3BvcnRQcm9wcy5yb3RhdGlvblgtMTB9KX19LHtrZXk6InJvdGF0ZURvd24iLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2dldFVwZGF0ZWRTdGF0ZSh7cm90YXRpb25YOnRoaXMuX3ZpZXdwb3J0UHJvcHMucm90YXRpb25YKzEwfSl9fSx7a2V5OiJfY2FsY3VsYXRlTmV3Wm9vbSIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dC5zY2FsZSxuPXQuc3RhcnRab29tLHI9dGhpcy5fdmlld3BvcnRQcm9wcyxpPXIubWF4Wm9vbSxhPXIubWluWm9vbTtOdW1iZXIuaXNGaW5pdGUobil8fChuPXRoaXMuX3ZpZXdwb3J0UHJvcHMuem9vbSk7dmFyIG89bitNYXRoLmxvZzIoZSk7cmV0dXJuIE9iamVjdChwdC5oKShvLGEsaSl9fSx7a2V5OiJfY2FsY3VsYXRlTmV3VGFyZ2V0Iix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10LnN0YXJ0VGFyZ2V0LG49dC56b29tLHI9dC5waXhlbE9mZnNldCxpPU9iamVjdC5hc3NpZ24oe30sdGhpcy5fdmlld3BvcnRQcm9wcyk7TnVtYmVyLmlzRmluaXRlKG4pJiYoaS56b29tPW4pLGUmJihpLnRhcmdldD1lKTt2YXIgYT1uZXcgdGhpcy5WaWV3cG9ydFR5cGUoaSksbz1hLnByb2plY3QoaS50YXJnZXQpO3JldHVybiBhLnVucHJvamVjdChbb1swXS1yWzBdLG9bMV0tclsxXSxvWzJdXSl9fSx7a2V5OiJfZ2V0VXBkYXRlZFN0YXRlIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gbmV3IGUoT2JqZWN0LmFzc2lnbih7fSx0aGlzLl92aWV3cG9ydFByb3BzLHRoaXMuX2ludGVyYWN0aXZlU3RhdGUsdCkpfX0se2tleToiX2FwcGx5Q29uc3RyYWludHMiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXQubWF4Wm9vbSxuPXQubWluWm9vbSxyPXQuem9vbSxpPXQubWF4Um90YXRpb25YLGE9dC5taW5Sb3RhdGlvblgsbz10LnJvdGF0aW9uT3JiaXQ7cmV0dXJuIHQuem9vbT1PYmplY3QocHQuaCkocixuLGUpLHQucm90YXRpb25YPU9iamVjdChwdC5oKSh0LnJvdGF0aW9uWCxhLGkpLChvPC0xODB8fG8+MTgwKSYmKHQucm90YXRpb25PcmJpdD1PYmplY3QobXQuZSkobysxODAsMzYwKS0xODApLHR9fV0pLGV9KHl0LmEpLEV0PWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUodCl7cmV0dXJuIHUoKSh0aGlzLGUpLGIoKSh0aGlzLE8oKShlKS5jYWxsKHRoaXMsVHQsdCkpfXJldHVybiB3KCkoZSx0KSxsKCkoZSxbe2tleToiX2dldFRyYW5zaXRpb25Qcm9wcyIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gUHR9fV0pLGV9KGd0LmEpLEF0PU1hdGguUEkvMTgwO2Z1bmN0aW9uIE10KHQpe3ZhciBlPXQuaGVpZ2h0LG49dC5mb3Z5LHI9dC5vcmJpdEF4aXMsaT10LnJvdGF0aW9uWCxhPXQucm90YXRpb25PcmJpdCxvPXQuem9vbSxzPS41L01hdGgudGFuKG4qQXQvMiksdT0iWiI9PT1yP1swLDAsMV06WzAsMSwwXSxjPSJaIj09PXI/WzAsLXMsMF06WzAsMCxzXSxsPShuZXcgcHQuYSkubG9va0F0KHtleWU6Yyx1cDp1fSk7bC5yb3RhdGVYKGkqQXQpLCJaIj09PXI/bC5yb3RhdGVaKGEqQXQpOmwucm90YXRlWShhKkF0KTt2YXIgaD1NYXRoLnBvdygyLG8pLyhlfHwxKTtyZXR1cm4gbC5zY2FsZShoKSxsfXZhciBDdD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKHQpe3UoKSh0aGlzLGUpO3ZhciBuPXQuaWQscj10LngsaT10LnksYT10LndpZHRoLG89dC5oZWlnaHQscz10LmZvdnksYz12b2lkIDA9PT1zPzUwOnMsbD10Lm5lYXIsaD10LmZhcixmPXQub3JiaXRBeGlzLGQ9dm9pZCAwPT09Zj8iWiI6Zix2PXQudGFyZ2V0LHA9dm9pZCAwPT09dj9bMCwwLDBdOnYsZz10LnJvdGF0aW9uWCx5PXZvaWQgMD09PWc/MDpnLG09dC5yb3RhdGlvbk9yYml0LF89dm9pZCAwPT09bT8wOm0seD10Lnpvb20sdz12b2lkIDA9PT14PzA6eDtyZXR1cm4gYigpKHRoaXMsTygpKGUpLmNhbGwodGhpcyx7aWQ6bix2aWV3TWF0cml4Ok10KHtoZWlnaHQ6byxmb3Z5OmMsb3JiaXRBeGlzOmQscm90YXRpb25YOnkscm90YXRpb25PcmJpdDpfLHpvb206d30pLGZvdnk6YyxuZWFyOmwsZmFyOmgseDpyLHk6aSxwb3NpdGlvbjpwLHdpZHRoOmEsaGVpZ2h0Om8sem9vbTp3fSkpfXJldHVybiB3KCkoZSx0KSxlfShhdC5hKSxMdD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKHQpe3JldHVybiB1KCkodGhpcyxlKSxiKCkodGhpcyxPKCkoZSkuY2FsbCh0aGlzLE9iamVjdC5hc3NpZ24oe30sdCx7dHlwZTpDdH0pKSl9cmV0dXJuIHcoKShlLHQpLGwoKShlLFt7a2V5OiJjb250cm9sbGVyIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZ2V0Q29udHJvbGxlclByb3BzKHt0eXBlOkV0LFZpZXdwb3J0VHlwZTpDdH0pfX1dKSxlfShmdC5hKTtMdC5kaXNwbGF5TmFtZT0iT3JiaXRWaWV3Ijt2YXIgSXQ9e3RyYW5zaXRpb25EdXJhdGlvbjozMDAsdHJhbnNpdGlvbkVhc2luZzpmdW5jdGlvbih0KXtyZXR1cm4gdH0sdHJhbnNpdGlvbkludGVycG9sYXRvcjpuZXcgd3QuYShbInRhcmdldCIsInpvb20iXSksdHJhbnNpdGlvbkludGVycnVwdGlvbjprdC5hLkJSRUFLfSxSdD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKHQpe3ZhciBuO3JldHVybiB1KCkodGhpcyxlKSwobj1iKCkodGhpcyxPKCkoZSkuY2FsbCh0aGlzLFR0LHQpKSkuaW52ZXJ0UGFuPSEwLG59cmV0dXJuIHcoKShlLHQpLGwoKShlLFt7a2V5OiJfb25QYW5Sb3RhdGUiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiExfX0se2tleToiX2dldFRyYW5zaXRpb25Qcm9wcyIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gSXR9fV0pLGV9KGd0LmEpLE50PShuZXcgcHQuYSkubG9va0F0KHtleWU6WzAsMCwxXX0pO2Z1bmN0aW9uIER0KHQpe3ZhciBlPXQud2lkdGgsbj10LmhlaWdodCxyPXQubmVhcixpPXQuZmFyO3JldHVybiBlPWV8fDEsbj1ufHwxLChuZXcgcHQuYSkub3J0aG8oe2xlZnQ6LWUvMixyaWdodDplLzIsYm90dG9tOm4vMix0b3A6LW4vMixuZWFyOnIsZmFyOml9KX12YXIgRnQ9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSh0KXt2YXIgbj10LmlkLHI9dC54LGk9dC55LGE9dC53aWR0aCxvPXQuaGVpZ2h0LHM9dC5uZWFyLGM9dm9pZCAwPT09cz8uMTpzLGw9dC5mYXIsaD12b2lkIDA9PT1sPzFlMzpsLGY9dC56b29tLGQ9dm9pZCAwPT09Zj8wOmYsdj10LnRhcmdldCxwPXZvaWQgMD09PXY/WzAsMCwwXTp2O3UoKSh0aGlzLGUpO3ZhciBnPU1hdGgucG93KDIsZCk7cmV0dXJuIGIoKSh2b2lkIDAsbmV3IGF0LmEoe2lkOm4seDpyLHk6aSx3aWR0aDphLGhlaWdodDpvLHBvc2l0aW9uOnAsdmlld01hdHJpeDpOdC5jbG9uZSgpLnNjYWxlKGcpLHByb2plY3Rpb25NYXRyaXg6RHQoe3dpZHRoOmEsaGVpZ2h0Om8sbmVhcjpjLGZhcjpofSksem9vbTpkfSkpfXJldHVybiB3KCkoZSx0KSxlfShhdC5hKSx6dD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKHQpe3JldHVybiB1KCkodGhpcyxlKSxiKCkodGhpcyxPKCkoZSkuY2FsbCh0aGlzLE9iamVjdC5hc3NpZ24oe30sdCx7dHlwZTpGdH0pKSl9cmV0dXJuIHcoKShlLHQpLGwoKShlLFt7a2V5OiJjb250cm9sbGVyIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZ2V0Q29udHJvbGxlclByb3BzKHt0eXBlOlJ0LFZpZXdwb3J0VHlwZTpGdH0pfX1dKSxlfShmdC5hKTt6dC5kaXNwbGF5TmFtZT0iT3J0aG9ncmFwaGljVmlldyI7dmFyIEJ0PW4oMTUyKSxVdD1uKDIwMyksVnQ9bigxNzApLEd0PVsiYmVhcmluZyIsInBpdGNoIl0sV3Q9e3NwZWVkOjEuMixjdXJ2ZToxLjQxNH0sSHQ9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3ZhciB0LG49YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9O3JldHVybiB1KCkodGhpcyxlKSwodD1iKCkodGhpcyxPKCkoZSkuY2FsbCh0aGlzLHtjb21wYXJlOlsibG9uZ2l0dWRlIiwibGF0aXR1ZGUiLCJ6b29tIiwiYmVhcmluZyIsInBpdGNoIl0sZXh0cmFjdDpbIndpZHRoIiwiaGVpZ2h0IiwibG9uZ2l0dWRlIiwibGF0aXR1ZGUiLCJ6b29tIiwiYmVhcmluZyIsInBpdGNoIl0scmVxdWlyZWQ6WyJ3aWR0aCIsImhlaWdodCIsImxhdGl0dWRlIiwibG9uZ2l0dWRlIiwiem9vbSJdfSkpKS5wcm9wcz1PYmplY3QuYXNzaWduKHt9LFd0LG4pLHR9cmV0dXJuIHcoKShlLHQpLGwoKShlLFt7a2V5OiJpbnRlcnBvbGF0ZVByb3BzIix2YWx1ZTpmdW5jdGlvbih0LGUsbil7dmFyIHI9T2JqZWN0KHZ0LmQpKHQsZSxuLHRoaXMucHJvcHMpLGk9ITAsYT0hMSxvPXZvaWQgMDt0cnl7Zm9yKHZhciBzLHU9R3RbU3ltYm9sLml0ZXJhdG9yXSgpOyEoaT0ocz11Lm5leHQoKSkuZG9uZSk7aT0hMCl7dmFyIGM9cy52YWx1ZTtyW2NdPU9iamVjdChwdC5sKSh0W2NdfHwwLGVbY118fDAsbil9fWNhdGNoKHQpe2E9ITAsbz10fWZpbmFsbHl7dHJ5e2l8fG51bGw9PXUucmV0dXJufHx1LnJldHVybigpfWZpbmFsbHl7aWYoYSl0aHJvdyBvfX1yZXR1cm4gcn19LHtrZXk6ImdldER1cmF0aW9uIix2YWx1ZTpmdW5jdGlvbih0LGUpe3ZhciBuPWUudHJhbnNpdGlvbkR1cmF0aW9uO3JldHVybiJhdXRvIj09PW4mJihuPU9iamVjdCh2dC5mKSh0LGUsdGhpcy5wcm9wcykpLG59fV0pLGV9KFZ0LmEpLHF0PW4oMjMpLFh0PW4oNjQpLFp0PW4oMjA0KSxZdD1uKDc1KSxLdD1uKDE1NyksUXQ9bigxMDgpLEp0PW4oMTU2KSwkdD1uKDEzNyk7bi5kKGUsIkNPT1JESU5BVEVfU1lTVEVNIiwoZnVuY3Rpb24oKXtyZXR1cm4gci5hfSkpLG4uZChlLCJMaWdodGluZ0VmZmVjdCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGkuYX0pKSxuLmQoZSwiQW1iaWVudExpZ2h0IiwoZnVuY3Rpb24oKXtyZXR1cm4gYS5hfSkpLG4uZChlLCJEaXJlY3Rpb25hbExpZ2h0IiwoZnVuY3Rpb24oKXtyZXR1cm4gby5hfSkpLG4uZChlLCJQb2ludExpZ2h0IiwoZnVuY3Rpb24oKXtyZXR1cm4gZ30pKSxuLmQoZSwiX0NhbWVyYUxpZ2h0IiwoZnVuY3Rpb24oKXtyZXR1cm4gU30pKSxuLmQoZSwiX1N1bkxpZ2h0IiwoZnVuY3Rpb24oKXtyZXR1cm4gSX0pKSxuLmQoZSwiUG9zdFByb2Nlc3NFZmZlY3QiLChmdW5jdGlvbigpe3JldHVybiBafSkpLG4uZChlLCJfTGF5ZXJzUGFzcyIsKGZ1bmN0aW9uKCl7cmV0dXJuIEouYX0pKSxuLmQoZSwiRGVjayIsKGZ1bmN0aW9uKCl7cmV0dXJuICQuYX0pKSxuLmQoZSwiTGF5ZXJNYW5hZ2VyIiwoZnVuY3Rpb24oKXtyZXR1cm4gdHQuYX0pKSxuLmQoZSwiQXR0cmlidXRlTWFuYWdlciIsKGZ1bmN0aW9uKCl7cmV0dXJuIGV0LmF9KSksbi5kKGUsIkxheWVyIiwoZnVuY3Rpb24oKXtyZXR1cm4gbnQuYX0pKSxuLmQoZSwiQ29tcG9zaXRlTGF5ZXIiLChmdW5jdGlvbigpe3JldHVybiBydC5hfSkpLG4uZChlLCJEZWNrUmVuZGVyZXIiLChmdW5jdGlvbigpe3JldHVybiBpdC5hfSkpLG4uZChlLCJWaWV3cG9ydCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGF0LmF9KSksbi5kKGUsIldlYk1lcmNhdG9yVmlld3BvcnQiLChmdW5jdGlvbigpe3JldHVybiBvdC5hfSkpLG4uZChlLCJwaWNraW5nIiwoZnVuY3Rpb24oKXtyZXR1cm4gc3QuYX0pKSxuLmQoZSwicHJvamVjdCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHV0LmF9KSksbi5kKGUsInByb2plY3QzMiIsKGZ1bmN0aW9uKCl7cmV0dXJuIGN0LmF9KSksbi5kKGUsImdvdXJhdWRMaWdodGluZyIsKGZ1bmN0aW9uKCl7cmV0dXJuIGx0LmF9KSksbi5kKGUsInBob25nTGlnaHRpbmciLChmdW5jdGlvbigpe3JldHVybiBsdC5ifSkpLG4uZChlLCJzaGFkb3ciLChmdW5jdGlvbigpe3JldHVybiBodC5hfSkpLG4uZChlLCJWaWV3IiwoZnVuY3Rpb24oKXtyZXR1cm4gZnQuYX0pKSxuLmQoZSwiTWFwVmlldyIsKGZ1bmN0aW9uKCl7cmV0dXJuIGR0LmF9KSksbi5kKGUsIkZpcnN0UGVyc29uVmlldyIsKGZ1bmN0aW9uKCl7cmV0dXJuIHh0fSkpLG4uZChlLCJPcmJpdFZpZXciLChmdW5jdGlvbigpe3JldHVybiBMdH0pKSxuLmQoZSwiT3J0aG9ncmFwaGljVmlldyIsKGZ1bmN0aW9uKCl7cmV0dXJuIHp0fSkpLG4uZChlLCJDb250cm9sbGVyIiwoZnVuY3Rpb24oKXtyZXR1cm4gZ3QuYX0pKSxuLmQoZSwiTWFwQ29udHJvbGxlciIsKGZ1bmN0aW9uKCl7cmV0dXJuIEJ0LmF9KSksbi5kKGUsIkZpcnN0UGVyc29uQ29udHJvbGxlciIsKGZ1bmN0aW9uKCl7cmV0dXJuIE90fSkpLG4uZChlLCJPcmJpdENvbnRyb2xsZXIiLChmdW5jdGlvbigpe3JldHVybiBFdH0pKSxuLmQoZSwiT3J0aG9ncmFwaGljQ29udHJvbGxlciIsKGZ1bmN0aW9uKCl7cmV0dXJuIFJ0fSkpLG4uZChlLCJFZmZlY3QiLChmdW5jdGlvbigpe3JldHVybiBSLmF9KSksbi5kKGUsIkxheWVyRXh0ZW5zaW9uIiwoZnVuY3Rpb24oKXtyZXR1cm4gVXQuYX0pKSxuLmQoZSwiVFJBTlNJVElPTl9FVkVOVFMiLChmdW5jdGlvbigpe3JldHVybiBrdC5hfSkpLG4uZChlLCJMaW5lYXJJbnRlcnBvbGF0b3IiLChmdW5jdGlvbigpe3JldHVybiB3dC5hfSkpLG4uZChlLCJGbHlUb0ludGVycG9sYXRvciIsKGZ1bmN0aW9uKCl7cmV0dXJuIEh0fSkpLG4uZChlLCJsb2ciLChmdW5jdGlvbigpe3JldHVybiBxdC5hfSkpLG4uZChlLCJjcmVhdGVJdGVyYWJsZSIsKGZ1bmN0aW9uKCl7cmV0dXJuIFh0LmF9KSksbi5kKGUsImZwNjRMb3dQYXJ0IiwoZnVuY3Rpb24oKXtyZXR1cm4gbXQuY30pKSxuLmQoZSwiVGVzc2VsYXRvciIsKGZ1bmN0aW9uKCl7cmV0dXJuIFp0LmF9KSksbi5kKGUsIl9maWxsQXJyYXkiLChmdW5jdGlvbigpe3JldHVybiBZdC5hfSkpLG4uZChlLCJfZmxhdHRlbiIsKGZ1bmN0aW9uKCl7cmV0dXJuIFl0LmJ9KSksbi5kKGUsIl9jb3VudCIsKGZ1bmN0aW9uKCl7cmV0dXJuIEt0LmF9KSksbi5kKGUsIl9tZW1vaXplIiwoZnVuY3Rpb24oKXtyZXR1cm4gUXQuYX0pKSxuLmQoZSwiX21lcmdlU2hhZGVycyIsKGZ1bmN0aW9uKCl7cmV0dXJuIEp0LmF9KSksbi5kKGUsIl9jb21wYXJlUHJvcHMiLChmdW5jdGlvbigpe3JldHVybiAkdC5hfSkpfSxmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO24uZChlLCJiIiwoZnVuY3Rpb24oKXtyZXR1cm4gYX0pKSxuLmQoZSwiZSIsKGZ1bmN0aW9uKCl7cmV0dXJuIHN9KSksbi5kKGUsImYiLChmdW5jdGlvbigpe3JldHVybiB1fSkpLG4uZChlLCJqIiwoZnVuY3Rpb24oKXtyZXR1cm4gbH0pKSxuLmQoZSwiaSIsKGZ1bmN0aW9uKCl7cmV0dXJuIGh9KSksbi5kKGUsImgiLChmdW5jdGlvbigpe3JldHVybiBmfSkpLG4uZChlLCJjIiwoZnVuY3Rpb24oKXtyZXR1cm4gZH0pKSxuLmQoZSwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIHZ9KSksbi5kKGUsImciLChmdW5jdGlvbigpe3JldHVybiBwfSkpLG4uZChlLCJkIiwoZnVuY3Rpb24oKXtyZXR1cm4gZ30pKTtuKDI1KSxuKDEyMSksbigyNiksbig4Myk7dmFyIHI9MS9NYXRoLlBJKjE4MCxpPTEvMTgwKk1hdGguUEksYT17fTtmdW5jdGlvbiBvKHQpe3JldHVybiBNYXRoLnJvdW5kKHQvYS5FUFNJTE9OKSphLkVQU0lMT059ZnVuY3Rpb24gcyh0KXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06e30sbj1lLnByZWNpc2lvbixyPXZvaWQgMD09PW4/YS5wcmVjaXNpb258fDQ6bjtyZXR1cm4gdD1vKHQpLCIiLmNvbmNhdChwYXJzZUZsb2F0KHQudG9QcmVjaXNpb24ocikpKX1mdW5jdGlvbiB1KHQpe3JldHVybiBBcnJheS5pc0FycmF5KHQpfHxBcnJheUJ1ZmZlci5pc1ZpZXcodCkmJnZvaWQgMCE9PXQubGVuZ3RofWZ1bmN0aW9uIGModCxlLG4pe2lmKHUodCkpe249bnx8KChpPXQpLmNsb25lP2kuY2xvbmUoKTpuZXcgQXJyYXkoaS5sZW5ndGgpKTtmb3IodmFyIHI9MDtyPG4ubGVuZ3RoJiZyPHQubGVuZ3RoOysrciluW3JdPWUodFtyXSxyLG4pO3JldHVybiBufXZhciBpO3JldHVybiBlKHQpfWZ1bmN0aW9uIGwodCl7cmV0dXJuIGYodCl9ZnVuY3Rpb24gaCh0KXtyZXR1cm4gZCh0KX1mdW5jdGlvbiBmKHQsZSl7cmV0dXJuIGModCwoZnVuY3Rpb24odCl7cmV0dXJuIHQqaX0pLGUpfWZ1bmN0aW9uIGQodCxlKXtyZXR1cm4gYyh0LChmdW5jdGlvbih0KXtyZXR1cm4gdCpyfSksZSl9ZnVuY3Rpb24gdih0LGUsbil7cmV0dXJuIGModCwoZnVuY3Rpb24odCl7cmV0dXJuIE1hdGgubWF4KGUsTWF0aC5taW4obix0KSl9KSl9ZnVuY3Rpb24gcCh0LGUsbil7cmV0dXJuIHUodCk/dC5tYXAoKGZ1bmN0aW9uKHQscil7cmV0dXJuIHAodCxlW3JdLG4pfSkpOm4qZSsoMS1uKSp0fWZ1bmN0aW9uIGcodCxlLG4pe3ZhciByPWEuRVBTSUxPTjtuJiYoYS5FUFNJTE9OPW4pO3RyeXtpZih0PT09ZSlyZXR1cm4hMDtpZih1KHQpJiZ1KGUpKXtpZih0Lmxlbmd0aCE9PWUubGVuZ3RoKXJldHVybiExO2Zvcih2YXIgaT0wO2k8dC5sZW5ndGg7KytpKWlmKCFnKHRbaV0sZVtpXSkpcmV0dXJuITE7cmV0dXJuITB9cmV0dXJuIHQmJnQuZXF1YWxzP3QuZXF1YWxzKGUpOmUmJmUuZXF1YWxzP2UuZXF1YWxzKHQpOiEoIU51bWJlci5pc0Zpbml0ZSh0KXx8IU51bWJlci5pc0Zpbml0ZShlKSkmJk1hdGguYWJzKHQtZSk8PWEuRVBTSUxPTipNYXRoLm1heCgxLE1hdGguYWJzKHQpLE1hdGguYWJzKGUpKX1maW5hbGx5e2EuRVBTSUxPTj1yfX1hLkVQU0lMT049MWUtMTIsYS5kZWJ1Zz0hMSxhLnByZWNpc2lvbj00LGEucHJpbnRUeXBlcz0hMSxhLnByaW50RGVncmVlcz0hMSxhLnByaW50Um93TWFqb3I9ITB9LGZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7bi5kKGUsImEiLChmdW5jdGlvbigpe3JldHVybiBpfSkpLG4uZChlLCJjIiwoZnVuY3Rpb24oKXtyZXR1cm4gYX0pKSxuLmQoZSwiYiIsKGZ1bmN0aW9uKCl7cmV0dXJuIG99KSk7dmFyIHI9bigyMyksaT17REVGQVVMVDotMSxMTkdMQVQ6MSxNRVRFUl9PRkZTRVRTOjIsTE5HTEFUX09GRlNFVFM6MyxDQVJURVNJQU46MH07T2JqZWN0LmRlZmluZVByb3BlcnR5KGksIklERU5USVRZIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHIuYS5kZXByZWNhdGVkKCJDT09SRElOQVRFX1NZU1RFTS5JREVOVElUWSIsIkNPT1JESU5BVEVfU1lTVEVNLkNBUlRFU0lBTiIpKCl8fDB9fSk7dmFyIGE9e1dFQl9NRVJDQVRPUjoxLFdFQl9NRVJDQVRPUl9BVVRPX09GRlNFVDo0LElERU5USVRZOjB9LG89e2NsaWNrOntoYW5kbGVyOiJvbkNsaWNrIn0scGFuc3RhcnQ6e2hhbmRsZXI6Im9uRHJhZ1N0YXJ0In0scGFubW92ZTp7aGFuZGxlcjoib25EcmFnIn0scGFuZW5kOntoYW5kbGVyOiJvbkRyYWdFbmQifX19LGZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigyNzgpO2UuYT1uZXcgci5hKHtpZDoiZGVjayJ9KX0sLGZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gcih0KXtyZXR1cm4ocj0iZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiYic3ltYm9sIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbih0KXtyZXR1cm4gdHlwZW9mIHR9OmZ1bmN0aW9uKHQpe3JldHVybiB0JiYiZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiZ0LmNvbnN0cnVjdG9yPT09U3ltYm9sJiZ0IT09U3ltYm9sLnByb3RvdHlwZT8ic3ltYm9sIjp0eXBlb2YgdH0pKHQpfW4uZChlLCJhIiwoZnVuY3Rpb24oKXtyZXR1cm4gcn0pKX0sZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiByKHQpe3JldHVybiBmdW5jdGlvbih0KXtpZihBcnJheS5pc0FycmF5KHQpKXtmb3IodmFyIGU9MCxuPW5ldyBBcnJheSh0Lmxlbmd0aCk7ZTx0Lmxlbmd0aDtlKyspbltlXT10W2VdO3JldHVybiBufX0odCl8fGZ1bmN0aW9uKHQpe2lmKFN5bWJvbC5pdGVyYXRvciBpbiBPYmplY3QodCl8fCJbb2JqZWN0IEFyZ3VtZW50c10iPT09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHQpKXJldHVybiBBcnJheS5mcm9tKHQpfSh0KXx8ZnVuY3Rpb24oKXt0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGF0dGVtcHQgdG8gc3ByZWFkIG5vbi1pdGVyYWJsZSBpbnN0YW5jZSIpfSgpfW4uZChlLCJhIiwoZnVuY3Rpb24oKXtyZXR1cm4gcn0pKX0sZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0IjtuLmQoZSwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIGl9KSksbi5kKGUsImIiLChmdW5jdGlvbigpe3JldHVybiBhfSkpLG4uZChlLCJjIiwoZnVuY3Rpb24oKXtyZXR1cm4gc30pKTt2YXIgcj1uKDIxKTtmdW5jdGlvbiBpKHQpe2lmKCFOdW1iZXIuaXNGaW5pdGUodCkpdGhyb3cgbmV3IEVycm9yKCJJbnZhbGlkIG51bWJlciAiLmNvbmNhdCh0KSk7cmV0dXJuIHR9ZnVuY3Rpb24gYSh0LGUsbil7aWYoci5iLmRlYnVnJiYhZnVuY3Rpb24odCxlKXtpZih0Lmxlbmd0aCE9PWUpcmV0dXJuITE7Zm9yKHZhciBuPTA7bjx0Lmxlbmd0aDsrK24paWYoIU51bWJlci5pc0Zpbml0ZSh0W25dKSlyZXR1cm4hMTtyZXR1cm4hMH0odCxlKSl0aHJvdyBuZXcgRXJyb3IoIm1hdGguZ2w6ICIuY29uY2F0KCIifG4sIiBzb21lIGZpZWxkcyBzZXQgdG8gaW52YWxpZCBudW1iZXJzJyIpKTtyZXR1cm4gdH12YXIgbz17fTtmdW5jdGlvbiBzKHQsZSl7b1t0XXx8KG9bdF09ITAsY29uc29sZS53YXJuKCIiLmNvbmNhdCh0LCIgaGFzIGJlZW4gcmVtb3ZlZCBpbiB2ZXJzaW9uICIpLmNvbmNhdChlLCIsIHNlZSB1cGdyYWRlIGd1aWRlIGZvciBtb3JlIGluZm9ybWF0aW9uIikpKX19LGZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gcih0LGUpe2lmKCF0KXRocm93IG5ldyBFcnJvcihlfHwibHVtYS5nbDogYXNzZXJ0aW9uIGZhaWxlZC4iKX1uLmQoZSwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIHJ9KSl9LGZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gcih0LGUpe2lmKCF0KXRocm93IG5ldyBFcnJvcihlfHwiZGVjay5nbDogYXNzZXJ0aW9uIGZhaWxlZC4iKX1uLmQoZSwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIHJ9KSl9LGZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7bi5kKGUsInEiLChmdW5jdGlvbigpe3JldHVybiBpfSkpLG4uZChlLCJmIiwoZnVuY3Rpb24oKXtyZXR1cm4gYX0pKSxuLmQoZSwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIG99KSksbi5kKGUsImgiLChmdW5jdGlvbigpe3JldHVybiBzfSkpLG4uZChlLCJwIiwoZnVuY3Rpb24oKXtyZXR1cm4gdX0pKSxuLmQoZSwibyIsKGZ1bmN0aW9uKCl7cmV0dXJuIGN9KSksbi5kKGUsImsiLChmdW5jdGlvbigpe3JldHVybiBsfSkpLG4uZChlLCJsIiwoZnVuY3Rpb24oKXtyZXR1cm4gaH0pKSxuLmQoZSwibSIsKGZ1bmN0aW9uKCl7cmV0dXJuIGZ9KSksbi5kKGUsIm4iLChmdW5jdGlvbigpe3JldHVybiBkfSkpLG4uZChlLCJlIiwoZnVuY3Rpb24oKXtyZXR1cm4gdn0pKSxuLmQoZSwiYyIsKGZ1bmN0aW9uKCl7cmV0dXJuIHB9KSksbi5kKGUsImQiLChmdW5jdGlvbigpe3JldHVybiBnfSkpLG4uZChlLCJqIiwoZnVuY3Rpb24oKXtyZXR1cm4geX0pKSxuLmQoZSwiaSIsKGZ1bmN0aW9uKCl7cmV0dXJuIG19KSksbi5kKGUsImciLChmdW5jdGlvbigpe3JldHVybiBifSkpLG4uZChlLCJiIiwoZnVuY3Rpb24oKXtyZXR1cm4gX30pKTt2YXIgcj1uKDE2KTtmdW5jdGlvbiBpKHQsZSl7aWYodD09PWUpe3ZhciBuPWVbMV0scj1lWzJdLGk9ZVszXSxhPWVbNl0sbz1lWzddLHM9ZVsxMV07dFsxXT1lWzRdLHRbMl09ZVs4XSx0WzNdPWVbMTJdLHRbNF09bix0WzZdPWVbOV0sdFs3XT1lWzEzXSx0WzhdPXIsdFs5XT1hLHRbMTFdPWVbMTRdLHRbMTJdPWksdFsxM109byx0WzE0XT1zfWVsc2UgdFswXT1lWzBdLHRbMV09ZVs0XSx0WzJdPWVbOF0sdFszXT1lWzEyXSx0WzRdPWVbMV0sdFs1XT1lWzVdLHRbNl09ZVs5XSx0WzddPWVbMTNdLHRbOF09ZVsyXSx0WzldPWVbNl0sdFsxMF09ZVsxMF0sdFsxMV09ZVsxNF0sdFsxMl09ZVszXSx0WzEzXT1lWzddLHRbMTRdPWVbMTFdLHRbMTVdPWVbMTVdO3JldHVybiB0fWZ1bmN0aW9uIGEodCxlKXt2YXIgbj1lWzBdLHI9ZVsxXSxpPWVbMl0sYT1lWzNdLG89ZVs0XSxzPWVbNV0sdT1lWzZdLGM9ZVs3XSxsPWVbOF0saD1lWzldLGY9ZVsxMF0sZD1lWzExXSx2PWVbMTJdLHA9ZVsxM10sZz1lWzE0XSx5PWVbMTVdLG09bipzLXIqbyxiPW4qdS1pKm8sXz1uKmMtYSpvLE89cip1LWkqcyx4PXIqYy1hKnMsdz1pKmMtYSp1LGs9bCpwLWgqdixTPWwqZy1mKnYsUD1sKnktZCp2LGo9aCpnLWYqcCxUPWgqeS1kKnAsRT1mKnktZCpnLEE9bSpFLWIqVCtfKmorTypQLXgqUyt3Kms7cmV0dXJuIEE/KEE9MS9BLHRbMF09KHMqRS11KlQrYypqKSpBLHRbMV09KGkqVC1yKkUtYSpqKSpBLHRbMl09KHAqdy1nKngreSpPKSpBLHRbM109KGYqeC1oKnctZCpPKSpBLHRbNF09KHUqUC1vKkUtYypTKSpBLHRbNV09KG4qRS1pKlArYSpTKSpBLHRbNl09KGcqXy12KncteSpiKSpBLHRbN109KGwqdy1mKl8rZCpiKSpBLHRbOF09KG8qVC1zKlArYyprKSpBLHRbOV09KHIqUC1uKlQtYSprKSpBLHRbMTBdPSh2KngtcCpfK3kqbSkqQSx0WzExXT0oaCpfLWwqeC1kKm0pKkEsdFsxMl09KHMqUy1vKmotdSprKSpBLHRbMTNdPShuKmotcipTK2kqaykqQSx0WzE0XT0ocCpiLXYqTy1nKm0pKkEsdFsxNV09KGwqTy1oKmIrZiptKSpBLHQpOm51bGx9ZnVuY3Rpb24gbyh0KXt2YXIgZT10WzBdLG49dFsxXSxyPXRbMl0saT10WzNdLGE9dFs0XSxvPXRbNV0scz10WzZdLHU9dFs3XSxjPXRbOF0sbD10WzldLGg9dFsxMF0sZj10WzExXSxkPXRbMTJdLHY9dFsxM10scD10WzE0XSxnPXRbMTVdO3JldHVybihlKm8tbiphKSooaCpnLWYqcCktKGUqcy1yKmEpKihsKmctZip2KSsoZSp1LWkqYSkqKGwqcC1oKnYpKyhuKnMtcipvKSooYypnLWYqZCktKG4qdS1pKm8pKihjKnAtaCpkKSsocip1LWkqcykqKGMqdi1sKmQpfWZ1bmN0aW9uIHModCxlLG4pe3ZhciByPWVbMF0saT1lWzFdLGE9ZVsyXSxvPWVbM10scz1lWzRdLHU9ZVs1XSxjPWVbNl0sbD1lWzddLGg9ZVs4XSxmPWVbOV0sZD1lWzEwXSx2PWVbMTFdLHA9ZVsxMl0sZz1lWzEzXSx5PWVbMTRdLG09ZVsxNV0sYj1uWzBdLF89blsxXSxPPW5bMl0seD1uWzNdO3JldHVybiB0WzBdPWIqcitfKnMrTypoK3gqcCx0WzFdPWIqaStfKnUrTypmK3gqZyx0WzJdPWIqYStfKmMrTypkK3gqeSx0WzNdPWIqbytfKmwrTyp2K3gqbSxiPW5bNF0sXz1uWzVdLE89bls2XSx4PW5bN10sdFs0XT1iKnIrXypzK08qaCt4KnAsdFs1XT1iKmkrXyp1K08qZit4KmcsdFs2XT1iKmErXypjK08qZCt4KnksdFs3XT1iKm8rXypsK08qdit4Km0sYj1uWzhdLF89bls5XSxPPW5bMTBdLHg9blsxMV0sdFs4XT1iKnIrXypzK08qaCt4KnAsdFs5XT1iKmkrXyp1K08qZit4KmcsdFsxMF09YiphK18qYytPKmQreCp5LHRbMTFdPWIqbytfKmwrTyp2K3gqbSxiPW5bMTJdLF89blsxM10sTz1uWzE0XSx4PW5bMTVdLHRbMTJdPWIqcitfKnMrTypoK3gqcCx0WzEzXT1iKmkrXyp1K08qZit4KmcsdFsxNF09YiphK18qYytPKmQreCp5LHRbMTVdPWIqbytfKmwrTyp2K3gqbSx0fWZ1bmN0aW9uIHUodCxlLG4pe3ZhciByLGksYSxvLHMsdSxjLGwsaCxmLGQsdixwPW5bMF0sZz1uWzFdLHk9blsyXTtyZXR1cm4gZT09PXQ/KHRbMTJdPWVbMF0qcCtlWzRdKmcrZVs4XSp5K2VbMTJdLHRbMTNdPWVbMV0qcCtlWzVdKmcrZVs5XSp5K2VbMTNdLHRbMTRdPWVbMl0qcCtlWzZdKmcrZVsxMF0qeStlWzE0XSx0WzE1XT1lWzNdKnArZVs3XSpnK2VbMTFdKnkrZVsxNV0pOihyPWVbMF0saT1lWzFdLGE9ZVsyXSxvPWVbM10scz1lWzRdLHU9ZVs1XSxjPWVbNl0sbD1lWzddLGg9ZVs4XSxmPWVbOV0sZD1lWzEwXSx2PWVbMTFdLHRbMF09cix0WzFdPWksdFsyXT1hLHRbM109byx0WzRdPXMsdFs1XT11LHRbNl09Yyx0WzddPWwsdFs4XT1oLHRbOV09Zix0WzEwXT1kLHRbMTFdPXYsdFsxMl09cipwK3MqZytoKnkrZVsxMl0sdFsxM109aSpwK3UqZytmKnkrZVsxM10sdFsxNF09YSpwK2MqZytkKnkrZVsxNF0sdFsxNV09bypwK2wqZyt2KnkrZVsxNV0pLHR9ZnVuY3Rpb24gYyh0LGUsbil7dmFyIHI9blswXSxpPW5bMV0sYT1uWzJdO3JldHVybiB0WzBdPWVbMF0qcix0WzFdPWVbMV0qcix0WzJdPWVbMl0qcix0WzNdPWVbM10qcix0WzRdPWVbNF0qaSx0WzVdPWVbNV0qaSx0WzZdPWVbNl0qaSx0WzddPWVbN10qaSx0WzhdPWVbOF0qYSx0WzldPWVbOV0qYSx0WzEwXT1lWzEwXSphLHRbMTFdPWVbMTFdKmEsdFsxMl09ZVsxMl0sdFsxM109ZVsxM10sdFsxNF09ZVsxNF0sdFsxNV09ZVsxNV0sdH1mdW5jdGlvbiBsKHQsZSxuLGkpe3ZhciBhLG8scyx1LGMsbCxoLGYsZCx2LHAsZyx5LG0sYixfLE8seCx3LGssUyxQLGosVCxFPWlbMF0sQT1pWzFdLE09aVsyXSxDPU1hdGguaHlwb3QoRSxBLE0pO3JldHVybiBDPHIuYj9udWxsOihFKj1DPTEvQyxBKj1DLE0qPUMsYT1NYXRoLnNpbihuKSxzPTEtKG89TWF0aC5jb3MobikpLHU9ZVswXSxjPWVbMV0sbD1lWzJdLGg9ZVszXSxmPWVbNF0sZD1lWzVdLHY9ZVs2XSxwPWVbN10sZz1lWzhdLHk9ZVs5XSxtPWVbMTBdLGI9ZVsxMV0sXz1FKkUqcytvLE89QSpFKnMrTSphLHg9TSpFKnMtQSphLHc9RSpBKnMtTSphLGs9QSpBKnMrbyxTPU0qQSpzK0UqYSxQPUUqTSpzK0EqYSxqPUEqTSpzLUUqYSxUPU0qTSpzK28sdFswXT11Kl8rZipPK2cqeCx0WzFdPWMqXytkKk8reSp4LHRbMl09bCpfK3YqTyttKngsdFszXT1oKl8rcCpPK2IqeCx0WzRdPXUqdytmKmsrZypTLHRbNV09Yyp3K2Qqayt5KlMsdFs2XT1sKncrdiprK20qUyx0WzddPWgqdytwKmsrYipTLHRbOF09dSpQK2YqaitnKlQsdFs5XT1jKlArZCpqK3kqVCx0WzEwXT1sKlArdipqK20qVCx0WzExXT1oKlArcCpqK2IqVCxlIT09dCYmKHRbMTJdPWVbMTJdLHRbMTNdPWVbMTNdLHRbMTRdPWVbMTRdLHRbMTVdPWVbMTVdKSx0KX1mdW5jdGlvbiBoKHQsZSxuKXt2YXIgcj1NYXRoLnNpbihuKSxpPU1hdGguY29zKG4pLGE9ZVs0XSxvPWVbNV0scz1lWzZdLHU9ZVs3XSxjPWVbOF0sbD1lWzldLGg9ZVsxMF0sZj1lWzExXTtyZXR1cm4gZSE9PXQmJih0WzBdPWVbMF0sdFsxXT1lWzFdLHRbMl09ZVsyXSx0WzNdPWVbM10sdFsxMl09ZVsxMl0sdFsxM109ZVsxM10sdFsxNF09ZVsxNF0sdFsxNV09ZVsxNV0pLHRbNF09YSppK2Mqcix0WzVdPW8qaStsKnIsdFs2XT1zKmkraCpyLHRbN109dSppK2Yqcix0WzhdPWMqaS1hKnIsdFs5XT1sKmktbypyLHRbMTBdPWgqaS1zKnIsdFsxMV09ZippLXUqcix0fWZ1bmN0aW9uIGYodCxlLG4pe3ZhciByPU1hdGguc2luKG4pLGk9TWF0aC5jb3MobiksYT1lWzBdLG89ZVsxXSxzPWVbMl0sdT1lWzNdLGM9ZVs4XSxsPWVbOV0saD1lWzEwXSxmPWVbMTFdO3JldHVybiBlIT09dCYmKHRbNF09ZVs0XSx0WzVdPWVbNV0sdFs2XT1lWzZdLHRbN109ZVs3XSx0WzEyXT1lWzEyXSx0WzEzXT1lWzEzXSx0WzE0XT1lWzE0XSx0WzE1XT1lWzE1XSksdFswXT1hKmktYypyLHRbMV09byppLWwqcix0WzJdPXMqaS1oKnIsdFszXT11KmktZipyLHRbOF09YSpyK2MqaSx0WzldPW8qcitsKmksdFsxMF09cypyK2gqaSx0WzExXT11KnIrZippLHR9ZnVuY3Rpb24gZCh0LGUsbil7dmFyIHI9TWF0aC5zaW4obiksaT1NYXRoLmNvcyhuKSxhPWVbMF0sbz1lWzFdLHM9ZVsyXSx1PWVbM10sYz1lWzRdLGw9ZVs1XSxoPWVbNl0sZj1lWzddO3JldHVybiBlIT09dCYmKHRbOF09ZVs4XSx0WzldPWVbOV0sdFsxMF09ZVsxMF0sdFsxMV09ZVsxMV0sdFsxMl09ZVsxMl0sdFsxM109ZVsxM10sdFsxNF09ZVsxNF0sdFsxNV09ZVsxNV0pLHRbMF09YSppK2Mqcix0WzFdPW8qaStsKnIsdFsyXT1zKmkraCpyLHRbM109dSppK2Yqcix0WzRdPWMqaS1hKnIsdFs1XT1sKmktbypyLHRbNl09aCppLXMqcix0WzddPWYqaS11KnIsdH1mdW5jdGlvbiB2KHQsZSl7dmFyIG49ZVswXSxyPWVbMV0saT1lWzJdLGE9ZVs0XSxvPWVbNV0scz1lWzZdLHU9ZVs4XSxjPWVbOV0sbD1lWzEwXTtyZXR1cm4gdFswXT1NYXRoLmh5cG90KG4scixpKSx0WzFdPU1hdGguaHlwb3QoYSxvLHMpLHRbMl09TWF0aC5oeXBvdCh1LGMsbCksdH1mdW5jdGlvbiBwKHQsZSl7dmFyIG49ZVswXSxyPWVbMV0saT1lWzJdLGE9ZVszXSxvPW4rbixzPXIrcix1PWkraSxjPW4qbyxsPXIqbyxoPXIqcyxmPWkqbyxkPWkqcyx2PWkqdSxwPWEqbyxnPWEqcyx5PWEqdTtyZXR1cm4gdFswXT0xLWgtdix0WzFdPWwreSx0WzJdPWYtZyx0WzNdPTAsdFs0XT1sLXksdFs1XT0xLWMtdix0WzZdPWQrcCx0WzddPTAsdFs4XT1mK2csdFs5XT1kLXAsdFsxMF09MS1jLWgsdFsxMV09MCx0WzEyXT0wLHRbMTNdPTAsdFsxNF09MCx0WzE1XT0xLHR9ZnVuY3Rpb24gZyh0LGUsbixyLGksYSxvKXt2YXIgcz0xLyhuLWUpLHU9MS8oaS1yKSxjPTEvKGEtbyk7cmV0dXJuIHRbMF09MiphKnMsdFsxXT0wLHRbMl09MCx0WzNdPTAsdFs0XT0wLHRbNV09MiphKnUsdFs2XT0wLHRbN109MCx0WzhdPShuK2UpKnMsdFs5XT0oaStyKSp1LHRbMTBdPShvK2EpKmMsdFsxMV09LTEsdFsxMl09MCx0WzEzXT0wLHRbMTRdPW8qYSoyKmMsdFsxNV09MCx0fWZ1bmN0aW9uIHkodCxlLG4scixpKXt2YXIgYSxvPTEvTWF0aC50YW4oZS8yKTtyZXR1cm4gdFswXT1vL24sdFsxXT0wLHRbMl09MCx0WzNdPTAsdFs0XT0wLHRbNV09byx0WzZdPTAsdFs3XT0wLHRbOF09MCx0WzldPTAsdFsxMV09LTEsdFsxMl09MCx0WzEzXT0wLHRbMTVdPTAsbnVsbCE9aSYmaSE9PTEvMD8oYT0xLyhyLWkpLHRbMTBdPShpK3IpKmEsdFsxNF09MippKnIqYSk6KHRbMTBdPS0xLHRbMTRdPS0yKnIpLHR9ZnVuY3Rpb24gbSh0LGUsbixyLGksYSxvKXt2YXIgcz0xLyhlLW4pLHU9MS8oci1pKSxjPTEvKGEtbyk7cmV0dXJuIHRbMF09LTIqcyx0WzFdPTAsdFsyXT0wLHRbM109MCx0WzRdPTAsdFs1XT0tMip1LHRbNl09MCx0WzddPTAsdFs4XT0wLHRbOV09MCx0WzEwXT0yKmMsdFsxMV09MCx0WzEyXT0oZStuKSpzLHRbMTNdPShpK3IpKnUsdFsxNF09KG8rYSkqYyx0WzE1XT0xLHR9ZnVuY3Rpb24gYih0LGUsbixpKXt2YXIgYSxvLHMsdSxjLGwsaCxmLGQsdixwPWVbMF0sZz1lWzFdLHk9ZVsyXSxtPWlbMF0sYj1pWzFdLF89aVsyXSxPPW5bMF0seD1uWzFdLHc9blsyXTtyZXR1cm4gTWF0aC5hYnMocC1PKTxyLmImJk1hdGguYWJzKGcteCk8ci5iJiZNYXRoLmFicyh5LXcpPHIuYj9mdW5jdGlvbih0KXtyZXR1cm4gdFswXT0xLHRbMV09MCx0WzJdPTAsdFszXT0wLHRbNF09MCx0WzVdPTEsdFs2XT0wLHRbN109MCx0WzhdPTAsdFs5XT0wLHRbMTBdPTEsdFsxMV09MCx0WzEyXT0wLHRbMTNdPTAsdFsxNF09MCx0WzE1XT0xLHR9KHQpOihoPXAtTyxmPWcteCxkPXktdyxhPWIqKGQqPXY9MS9NYXRoLmh5cG90KGgsZixkKSktXyooZio9diksbz1fKihoKj12KS1tKmQscz1tKmYtYipoLCh2PU1hdGguaHlwb3QoYSxvLHMpKT8oYSo9dj0xL3Ysbyo9dixzKj12KTooYT0wLG89MCxzPTApLHU9ZipzLWQqbyxjPWQqYS1oKnMsbD1oKm8tZiphLCh2PU1hdGguaHlwb3QodSxjLGwpKT8odSo9dj0xL3YsYyo9dixsKj12KToodT0wLGM9MCxsPTApLHRbMF09YSx0WzFdPXUsdFsyXT1oLHRbM109MCx0WzRdPW8sdFs1XT1jLHRbNl09Zix0WzddPTAsdFs4XT1zLHRbOV09bCx0WzEwXT1kLHRbMTFdPTAsdFsxMl09LShhKnArbypnK3MqeSksdFsxM109LSh1KnArYypnK2wqeSksdFsxNF09LShoKnArZipnK2QqeSksdFsxNV09MSx0KX1mdW5jdGlvbiBfKHQsZSl7dmFyIG49dFswXSxpPXRbMV0sYT10WzJdLG89dFszXSxzPXRbNF0sdT10WzVdLGM9dFs2XSxsPXRbN10saD10WzhdLGY9dFs5XSxkPXRbMTBdLHY9dFsxMV0scD10WzEyXSxnPXRbMTNdLHk9dFsxNF0sbT10WzE1XSxiPWVbMF0sXz1lWzFdLE89ZVsyXSx4PWVbM10sdz1lWzRdLGs9ZVs1XSxTPWVbNl0sUD1lWzddLGo9ZVs4XSxUPWVbOV0sRT1lWzEwXSxBPWVbMTFdLE09ZVsxMl0sQz1lWzEzXSxMPWVbMTRdLEk9ZVsxNV07cmV0dXJuIE1hdGguYWJzKG4tYik8PXIuYipNYXRoLm1heCgxLE1hdGguYWJzKG4pLE1hdGguYWJzKGIpKSYmTWF0aC5hYnMoaS1fKTw9ci5iKk1hdGgubWF4KDEsTWF0aC5hYnMoaSksTWF0aC5hYnMoXykpJiZNYXRoLmFicyhhLU8pPD1yLmIqTWF0aC5tYXgoMSxNYXRoLmFicyhhKSxNYXRoLmFicyhPKSkmJk1hdGguYWJzKG8teCk8PXIuYipNYXRoLm1heCgxLE1hdGguYWJzKG8pLE1hdGguYWJzKHgpKSYmTWF0aC5hYnMocy13KTw9ci5iKk1hdGgubWF4KDEsTWF0aC5hYnMocyksTWF0aC5hYnModykpJiZNYXRoLmFicyh1LWspPD1yLmIqTWF0aC5tYXgoMSxNYXRoLmFicyh1KSxNYXRoLmFicyhrKSkmJk1hdGguYWJzKGMtUyk8PXIuYipNYXRoLm1heCgxLE1hdGguYWJzKGMpLE1hdGguYWJzKFMpKSYmTWF0aC5hYnMobC1QKTw9ci5iKk1hdGgubWF4KDEsTWF0aC5hYnMobCksTWF0aC5hYnMoUCkpJiZNYXRoLmFicyhoLWopPD1yLmIqTWF0aC5tYXgoMSxNYXRoLmFicyhoKSxNYXRoLmFicyhqKSkmJk1hdGguYWJzKGYtVCk8PXIuYipNYXRoLm1heCgxLE1hdGguYWJzKGYpLE1hdGguYWJzKFQpKSYmTWF0aC5hYnMoZC1FKTw9ci5iKk1hdGgubWF4KDEsTWF0aC5hYnMoZCksTWF0aC5hYnMoRSkpJiZNYXRoLmFicyh2LUEpPD1yLmIqTWF0aC5tYXgoMSxNYXRoLmFicyh2KSxNYXRoLmFicyhBKSkmJk1hdGguYWJzKHAtTSk8PXIuYipNYXRoLm1heCgxLE1hdGguYWJzKHApLE1hdGguYWJzKE0pKSYmTWF0aC5hYnMoZy1DKTw9ci5iKk1hdGgubWF4KDEsTWF0aC5hYnMoZyksTWF0aC5hYnMoQykpJiZNYXRoLmFicyh5LUwpPD1yLmIqTWF0aC5tYXgoMSxNYXRoLmFicyh5KSxNYXRoLmFicyhMKSkmJk1hdGguYWJzKG0tSSk8PXIuYipNYXRoLm1heCgxLE1hdGguYWJzKG0pLE1hdGguYWJzKEkpKX19LGZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gcih0LGUpe3JldHVybiBmdW5jdGlvbih0KXtpZihBcnJheS5pc0FycmF5KHQpKXJldHVybiB0fSh0KXx8ZnVuY3Rpb24odCxlKXtpZihTeW1ib2wuaXRlcmF0b3IgaW4gT2JqZWN0KHQpfHwiW29iamVjdCBBcmd1bWVudHNdIj09PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh0KSl7dmFyIG49W10scj0hMCxpPSExLGE9dm9pZCAwO3RyeXtmb3IodmFyIG8scz10W1N5bWJvbC5pdGVyYXRvcl0oKTshKHI9KG89cy5uZXh0KCkpLmRvbmUpJiYobi5wdXNoKG8udmFsdWUpLCFlfHxuLmxlbmd0aCE9PWUpO3I9ITApO31jYXRjaCh0KXtpPSEwLGE9dH1maW5hbGx5e3RyeXtyfHxudWxsPT1zLnJldHVybnx8cy5yZXR1cm4oKX1maW5hbGx5e2lmKGkpdGhyb3cgYX19cmV0dXJuIG59fSh0LGUpfHxmdW5jdGlvbigpe3Rocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2UiKX0oKX1uLmQoZSwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIHJ9KSl9LGZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dmFyIHI9e307ZnVuY3Rpb24gaSh0KXt2YXIgZT10JiZ0Lmxhc3RJbmRleE9mKCIvIik7cmV0dXJuIGU+PTA/dC5zdWJzdHIoMCxlKToiIn1uLnIociksbi5kKHIsImRpcm5hbWUiLChmdW5jdGlvbigpe3JldHVybiBpfSkpLG4uZChlLCJhIiwoZnVuY3Rpb24oKXtyZXR1cm4gcn0pKX0sZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiByKHQsZSl7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciByPWVbbl07ci5lbnVtZXJhYmxlPXIuZW51bWVyYWJsZXx8ITEsci5jb25maWd1cmFibGU9ITAsInZhbHVlImluIHImJihyLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxyLmtleSxyKX19ZnVuY3Rpb24gaSh0LGUsbil7cmV0dXJuIGUmJnIodC5wcm90b3R5cGUsZSksbiYmcih0LG4pLHR9bi5kKGUsImEiLChmdW5jdGlvbigpe3JldHVybiBpfSkpfSxmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oMzcpLGk9bigzMyksYT1uKDYyKSxvPW4oNTUpLHM9bigxNDApLHU9big2MyksYz1uKDUxKSxsPW4oMTQxKTtmdW5jdGlvbiBoKHQsZSl7dmFyIG49bC5iKFtdLGUsdCk7cmV0dXJuIGwuYShuLG4sMS9uWzNdKSxufWZ1bmN0aW9uIGYodCxlKXt2YXIgbj10JWU7cmV0dXJuIG48MD9lK246bn1mdW5jdGlvbiBkKHQsZSxuKXtyZXR1cm4gbiplKygxLW4pKnR9dmFyIHY9bigzMCkscD1uKDYwKSxnPW4oNjEpO2Z1bmN0aW9uIHkodCxlKXtpZighdCl0aHJvdyBuZXcgRXJyb3IoZXx8IkBtYXRoLmdsL3dlYi1tZXJjYXRvcjogYXNzZXJ0aW9uIGZhaWxlZC4iKX12YXIgbT1NYXRoLlBJLGI9bS80LF89bS8xODAsTz0xODAvbTtmdW5jdGlvbiB4KHQpe3JldHVybiBNYXRoLnBvdygyLHQpfWZ1bmN0aW9uIHcodCl7cmV0dXJuIE1hdGgubG9nMih0KX1mdW5jdGlvbiBrKHQpe3ZhciBlPU9iamVjdChjLmEpKHQsMiksbj1lWzBdLHI9ZVsxXTt5KE51bWJlci5pc0Zpbml0ZShuKSkseShOdW1iZXIuaXNGaW5pdGUocikmJnI+PS05MCYmcjw9OTAsImludmFsaWQgbGF0aXR1ZGUiKTt2YXIgaT1yKl87cmV0dXJuWzUxMioobipfK20pLygyKm0pLDUxMioobStNYXRoLmxvZyhNYXRoLnRhbihiKy41KmkpKSkvKDIqbSldfWZ1bmN0aW9uIFModCl7dmFyIGU9T2JqZWN0KGMuYSkodCwyKSxuPWVbMF0scj1lWzFdLGk9bi81MTIqKDIqbSktbSxhPTIqKE1hdGguYXRhbihNYXRoLmV4cChyLzUxMiooMiptKS1tKSktYik7cmV0dXJuW2kqTyxhKk9dfWZ1bmN0aW9uIFAodCl7dmFyIGU9dC5sYXRpdHVkZTtyZXR1cm4geShOdW1iZXIuaXNGaW5pdGUoZSkpLHcoNDAwM2U0Kk1hdGguY29zKGUqXykpLTl9ZnVuY3Rpb24gaih0KXt2YXIgZT10LmxhdGl0dWRlLG49dC5sb25naXR1ZGUscj10LmhpZ2hQcmVjaXNpb24saT12b2lkIDAhPT1yJiZyO3koTnVtYmVyLmlzRmluaXRlKGUpJiZOdW1iZXIuaXNGaW5pdGUobikpO3ZhciBhPXt9LG89TWF0aC5jb3MoZSpfKSxzPTUxMi8zNjAvbyx1PTUxMi80MDAzZTQvbztpZihhLnVuaXRzUGVyTWV0ZXI9W3UsdSx1XSxhLm1ldGVyc1BlclVuaXQ9WzEvdSwxL3UsMS91XSxhLnVuaXRzUGVyRGVncmVlPVs1MTIvMzYwLHMsdV0sYS5kZWdyZWVzUGVyVW5pdD1bLjcwMzEyNSwxL3MsMS91XSxpKXt2YXIgYz1fKk1hdGgudGFuKGUqXykvbyxsPTUxMi8zNjAqYy8yLGg9NTEyLzQwMDNlNCpjLGY9aC9zKnU7YS51bml0c1BlckRlZ3JlZTI9WzAsbCxoXSxhLnVuaXRzUGVyTWV0ZXIyPVtmLDAsZl19cmV0dXJuIGF9ZnVuY3Rpb24gVCh0LGUpe3ZhciBuPU9iamVjdChjLmEpKHQsMykscj1uWzBdLGk9blsxXSxhPW5bMl0sbz1PYmplY3QoYy5hKShlLDMpLHM9b1swXSx1PW9bMV0sbD1vWzJdLGg9aih7bG9uZ2l0dWRlOnIsbGF0aXR1ZGU6aSxoaWdoUHJlY2lzaW9uOiEwfSksZj1oLnVuaXRzUGVyTWV0ZXIsZD1oLnVuaXRzUGVyTWV0ZXIyLHY9ayh0KTt2WzBdKz1zKihmWzBdK2RbMF0qdSksdlsxXSs9dSooZlsxXStkWzFdKnUpO3ZhciBwPVModiksZz0oYXx8MCkrKGx8fDApO3JldHVybiBOdW1iZXIuaXNGaW5pdGUoYSl8fE51bWJlci5pc0Zpbml0ZShsKT9bcFswXSxwWzFdLGddOnB9ZnVuY3Rpb24gRSh0KXt2YXIgZT10LmhlaWdodCxuPXQucGl0Y2gscj10LmJlYXJpbmcsaT10LmFsdGl0dWRlLGE9dC5zY2FsZSxvPXQuY2VudGVyLHM9dm9pZCAwPT09bz9udWxsOm8sdT1bMSwwLDAsMCwwLDEsMCwwLDAsMCwxLDAsMCwwLDAsMV07cmV0dXJuIHYucCh1LHUsWzAsMCwtaV0pLHYubCh1LHUsLW4qXyksdi5uKHUsdSxyKl8pLGEvPWUsdi5vKHUsdSxbYSxhLGFdKSxzJiZ2LnAodSx1LGcuYyhbXSxzKSksdX1mdW5jdGlvbiBBKHQpe3ZhciBlPXQud2lkdGgsbj10LmhlaWdodCxyPXQuYWx0aXR1ZGUsaT12b2lkIDA9PT1yPzEuNTpyLGE9dC5waXRjaCxvPXZvaWQgMD09PWE/MDphLHM9dC5uZWFyWk11bHRpcGxpZXIsdT12b2lkIDA9PT1zPzE6cyxjPXQuZmFyWk11bHRpcGxpZXIsbD12b2lkIDA9PT1jPzE6YyxoPW8qXyxmPU1hdGguYXRhbiguNS9pKSxkPU1hdGguc2luKGYpKmkvTWF0aC5zaW4oTWF0aC5taW4oTWF0aC5tYXgoTWF0aC5QSS8yLWgtZiwuMDEpLE1hdGguUEktLjAxKSk7cmV0dXJue2ZvdjoyKmYsYXNwZWN0OmUvbixmb2NhbERpc3RhbmNlOmksbmVhcjp1LGZhcjooTWF0aC5zaW4oaCkqZCtpKSpsfX1mdW5jdGlvbiBNKHQpe3ZhciBlPXQud2lkdGgsbj10LmhlaWdodCxyPXQucGl0Y2gsaT1BKHt3aWR0aDplLGhlaWdodDpuLGFsdGl0dWRlOnQuYWx0aXR1ZGUscGl0Y2g6cixuZWFyWk11bHRpcGxpZXI6dC5uZWFyWk11bHRpcGxpZXIsZmFyWk11bHRpcGxpZXI6dC5mYXJaTXVsdGlwbGllcn0pLGE9aS5mb3Ysbz1pLmFzcGVjdCxzPWkubmVhcix1PWkuZmFyO3JldHVybiB2LmooW10sYSxvLHMsdSl9ZnVuY3Rpb24gQyh0LGUpe3ZhciBuPU9iamVjdChjLmEpKHQsMykscj1uWzBdLGk9blsxXSxhPW5bMl0sbz12b2lkIDA9PT1hPzA6YTtyZXR1cm4geShOdW1iZXIuaXNGaW5pdGUocikmJk51bWJlci5pc0Zpbml0ZShpKSYmTnVtYmVyLmlzRmluaXRlKG8pKSxoKGUsW3IsaSxvLDFdKX1mdW5jdGlvbiBMKHQsZSl7dmFyIG49YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOjAscj1PYmplY3QoYy5hKSh0LDMpLGk9clswXSxhPXJbMV0sbz1yWzJdO2lmKHkoTnVtYmVyLmlzRmluaXRlKGkpJiZOdW1iZXIuaXNGaW5pdGUoYSksImludmFsaWQgcGl4ZWwgY29vcmRpbmF0ZSIpLE51bWJlci5pc0Zpbml0ZShvKSl7dmFyIHM9aChlLFtpLGEsbywxXSk7cmV0dXJuIHN9dmFyIHU9aChlLFtpLGEsMCwxXSksbD1oKGUsW2ksYSwxLDFdKSxmPXVbMl0sZD1sWzJdLHY9Zj09PWQ/MDooKG58fDApLWYpLyhkLWYpO3JldHVybiBwLmMoW10sdSxsLHYpfXZhciBJPVsxLDAsMCwwLDAsMSwwLDAsMCwwLDEsMCwwLDAsMCwxXTtmdW5jdGlvbiBSKHQpe3ZhciBlPXQud2lkdGgsbj10LmhlaWdodCxyPXQuYm91bmRzLGk9dC5taW5FeHRlbnQsYT12b2lkIDA9PT1pPzA6aSxvPXQubWF4Wm9vbSxzPXZvaWQgMD09PW8/MjQ6byx1PXQucGFkZGluZyxsPXZvaWQgMD09PXU/MDp1LGg9dC5vZmZzZXQsZj12b2lkIDA9PT1oP1swLDBdOmgsZD1PYmplY3QoYy5hKShyLDIpLHY9T2JqZWN0KGMuYSkoZFswXSwyKSxwPXZbMF0sZz12WzFdLG09T2JqZWN0KGMuYSkoZFsxXSwyKSxiPW1bMF0sXz1tWzFdO2lmKE51bWJlci5pc0Zpbml0ZShsKSl7bD17dG9wOmwsYm90dG9tOmwsbGVmdDpsLHJpZ2h0Omx9fWVsc2UgeShOdW1iZXIuaXNGaW5pdGUobC50b3ApJiZOdW1iZXIuaXNGaW5pdGUobC5ib3R0b20pJiZOdW1iZXIuaXNGaW5pdGUobC5sZWZ0KSYmTnVtYmVyLmlzRmluaXRlKGwucmlnaHQpKTt2YXIgTz1uZXcgTih7d2lkdGg6ZSxoZWlnaHQ6bixsb25naXR1ZGU6MCxsYXRpdHVkZTowLHpvb206MH0pLHg9Ty5wcm9qZWN0KFtwLF9dKSx3PU8ucHJvamVjdChbYixnXSksaz1bTWF0aC5tYXgoTWF0aC5hYnMod1swXS14WzBdKSxhKSxNYXRoLm1heChNYXRoLmFicyh3WzFdLXhbMV0pLGEpXSxTPVtlLWwubGVmdC1sLnJpZ2h0LTIqTWF0aC5hYnMoZlswXSksbi1sLnRvcC1sLmJvdHRvbS0yKk1hdGguYWJzKGZbMV0pXTt5KFNbMF0+MCYmU1sxXT4wKTt2YXIgUD1TWzBdL2tbMF0saj1TWzFdL2tbMV0sVD0obC5yaWdodC1sLmxlZnQpLzIvUCxFPShsLmJvdHRvbS1sLnRvcCkvMi9qLEE9Wyh3WzBdK3hbMF0pLzIrVCwod1sxXSt4WzFdKS8yK0VdLE09Ty51bnByb2plY3QoQSksQz1NYXRoLm1pbihzLE8uem9vbStNYXRoLmxvZzIoTWF0aC5hYnMoTWF0aC5taW4oUCxqKSkpKTtyZXR1cm4geShOdW1iZXIuaXNGaW5pdGUoQykpLHtsb25naXR1ZGU6TVswXSxsYXRpdHVkZTpNWzFdLHpvb206Q319dmFyIE49ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3ZhciB0LG49YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9LGk9bi53aWR0aCx1PW4uaGVpZ2h0LGM9bi5sYXRpdHVkZSxsPXZvaWQgMD09PWM/MDpjLGg9bi5sb25naXR1ZGUsZj12b2lkIDA9PT1oPzA6aCxkPW4uem9vbSx2PXZvaWQgMD09PWQ/MDpkLHA9bi5waXRjaCxnPXZvaWQgMD09PXA/MDpwLHk9bi5iZWFyaW5nLG09dm9pZCAwPT09eT8wOnksYj1uLmFsdGl0dWRlLF89dm9pZCAwPT09Yj8xLjU6YixPPW4ubmVhclpNdWx0aXBsaWVyLHc9dm9pZCAwPT09Tz8uMDI6TyxTPW4uZmFyWk11bHRpcGxpZXIsUD12b2lkIDA9PT1TPzEuMDE6UztPYmplY3Qoci5hKSh0aGlzLGUpLGk9aXx8MSx1PXV8fDE7dmFyIFQ9eCh2KTtfPU1hdGgubWF4KC43NSxfKTt2YXIgQT1rKFtmLGxdKTtBWzJdPTA7dmFyIEM9TSh7d2lkdGg6aSxoZWlnaHQ6dSxwaXRjaDpnLGJlYXJpbmc6bSxhbHRpdHVkZTpfLG5lYXJaTXVsdGlwbGllcjp3LGZhclpNdWx0aXBsaWVyOlB9KSxMPUUoe2hlaWdodDp1LHNjYWxlOlQsY2VudGVyOkEscGl0Y2g6ZyxiZWFyaW5nOm0sYWx0aXR1ZGU6X30pO3JldHVybih0PU9iamVjdChhLmEpKHRoaXMsT2JqZWN0KG8uYSkoZSkuY2FsbCh0aGlzLHt3aWR0aDppLGhlaWdodDp1LHNjYWxlOlQsdmlld01hdHJpeDpMLHByb2plY3Rpb25NYXRyaXg6Q30pKSkubGF0aXR1ZGU9bCx0LmxvbmdpdHVkZT1mLHQuem9vbT12LHQucGl0Y2g9Zyx0LmJlYXJpbmc9bSx0LmFsdGl0dWRlPV8sdC5jZW50ZXI9QSx0LnVuaXRzUGVyTWV0ZXI9aihPYmplY3Qocy5hKSh0KSkudW5pdHNQZXJNZXRlclsyXSxPYmplY3QuZnJlZXplKE9iamVjdChzLmEpKHQpKSx0fXJldHVybiBPYmplY3QodS5hKShlLHQpLE9iamVjdChpLmEpKGUsW3trZXk6InByb2plY3RGbGF0Iix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gayh0KX19LHtrZXk6InVucHJvamVjdEZsYXQiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiBTKHQpfX0se2tleToiZ2V0TWFwQ2VudGVyQnlMbmdMYXRQb3NpdGlvbiIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dC5sbmdMYXQsbj1MKHQucG9zLHRoaXMucGl4ZWxVbnByb2plY3Rpb25NYXRyaXgpLHI9ayhlKSxpPXAuYShbXSxyLHAuZChbXSxuKSk7cmV0dXJuIFMocC5hKFtdLHRoaXMuY2VudGVyLGkpLHRoaXMuc2NhbGUpfX0se2tleToiZ2V0TG9jYXRpb25BdFBvaW50Iix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10LmxuZ0xhdCxuPXQucG9zO3JldHVybiB0aGlzLmdldE1hcENlbnRlckJ5TG5nTGF0UG9zaXRpb24oe2xuZ0xhdDplLHBvczpufSl9fSx7a2V5OiJmaXRCb3VuZHMiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBuPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp7fSxyPXRoaXMud2lkdGgsaT10aGlzLmhlaWdodCxhPVIoT2JqZWN0LmFzc2lnbih7d2lkdGg6cixoZWlnaHQ6aSxib3VuZHM6dH0sbikpLG89YS5sb25naXR1ZGUscz1hLmxhdGl0dWRlLHU9YS56b29tO3JldHVybiBuZXcgZSh7d2lkdGg6cixoZWlnaHQ6aSxsb25naXR1ZGU6byxsYXRpdHVkZTpzLHpvb206dX0pfX1dKSxlfShmdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e30sbj1lLndpZHRoLGk9ZS5oZWlnaHQsYT1lLnNjYWxlLG89ZS52aWV3TWF0cml4LHM9dm9pZCAwPT09bz9JOm8sdT1lLnByb2plY3Rpb25NYXRyaXgsYz12b2lkIDA9PT11P0k6dTtPYmplY3Qoci5hKSh0aGlzLHQpLHRoaXMud2lkdGg9bnx8MSx0aGlzLmhlaWdodD1pfHwxLHRoaXMuc2NhbGU9YSx0aGlzLnVuaXRzUGVyTWV0ZXI9MSx0aGlzLnZpZXdNYXRyaXg9cyx0aGlzLnByb2plY3Rpb25NYXRyaXg9Yzt2YXIgbD1bMSwwLDAsMCwwLDEsMCwwLDAsMCwxLDAsMCwwLDAsMV07di5oKGwsbCx0aGlzLnByb2plY3Rpb25NYXRyaXgpLHYuaChsLGwsdGhpcy52aWV3TWF0cml4KSx0aGlzLnZpZXdQcm9qZWN0aW9uTWF0cml4PWw7dmFyIGg9WzEsMCwwLDAsMCwxLDAsMCwwLDAsMSwwLDAsMCwwLDFdO3YubyhoLGgsW3RoaXMud2lkdGgvMiwtdGhpcy5oZWlnaHQvMiwxXSksdi5wKGgsaCxbMSwtMSwwXSksdi5oKGgsaCx0aGlzLnZpZXdQcm9qZWN0aW9uTWF0cml4KTt2YXIgZj12LmYoWzEsMCwwLDAsMCwxLDAsMCwwLDAsMSwwLDAsMCwwLDFdLGgpO2lmKCFmKXRocm93IG5ldyBFcnJvcigiUGl4ZWwgcHJvamVjdCBtYXRyaXggbm90IGludmVydGlibGUiKTt0aGlzLnBpeGVsUHJvamVjdGlvbk1hdHJpeD1oLHRoaXMucGl4ZWxVbnByb2plY3Rpb25NYXRyaXg9Zix0aGlzLmVxdWFscz10aGlzLmVxdWFscy5iaW5kKHRoaXMpLHRoaXMucHJvamVjdD10aGlzLnByb2plY3QuYmluZCh0aGlzKSx0aGlzLnVucHJvamVjdD10aGlzLnVucHJvamVjdC5iaW5kKHRoaXMpLHRoaXMucHJvamVjdFBvc2l0aW9uPXRoaXMucHJvamVjdFBvc2l0aW9uLmJpbmQodGhpcyksdGhpcy51bnByb2plY3RQb3NpdGlvbj10aGlzLnVucHJvamVjdFBvc2l0aW9uLmJpbmQodGhpcyksdGhpcy5wcm9qZWN0RmxhdD10aGlzLnByb2plY3RGbGF0LmJpbmQodGhpcyksdGhpcy51bnByb2plY3RGbGF0PXRoaXMudW5wcm9qZWN0RmxhdC5iaW5kKHRoaXMpfXJldHVybiBPYmplY3QoaS5hKSh0LFt7a2V5OiJlcXVhbHMiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBlIGluc3RhbmNlb2YgdCYmKGUud2lkdGg9PT10aGlzLndpZHRoJiZlLmhlaWdodD09PXRoaXMuaGVpZ2h0JiZ2LmIoZS5wcm9qZWN0aW9uTWF0cml4LHRoaXMucHJvamVjdGlvbk1hdHJpeCkmJnYuYihlLnZpZXdNYXRyaXgsdGhpcy52aWV3TWF0cml4KSl9fSx7a2V5OiJwcm9qZWN0Iix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06e30sbj1lLnRvcExlZnQscj12b2lkIDA9PT1ufHxuLGk9dGhpcy5wcm9qZWN0UG9zaXRpb24odCksYT1DKGksdGhpcy5waXhlbFByb2plY3Rpb25NYXRyaXgpLG89T2JqZWN0KGMuYSkoYSwyKSxzPW9bMF0sdT1vWzFdLGw9cj91OnRoaXMuaGVpZ2h0LXU7cmV0dXJuIDI9PT10Lmxlbmd0aD9bcyxsXTpbcyxsLGFbMl1dfX0se2tleToidW5wcm9qZWN0Iix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06e30sbj1lLnRvcExlZnQscj12b2lkIDA9PT1ufHxuLGk9ZS50YXJnZXRaLGE9T2JqZWN0KGMuYSkodCwzKSxvPWFbMF0scz1hWzFdLHU9YVsyXSxsPXI/czp0aGlzLmhlaWdodC1zLGg9aSYmaSp0aGlzLnVuaXRzUGVyTWV0ZXIsZj1MKFtvLGwsdV0sdGhpcy5waXhlbFVucHJvamVjdGlvbk1hdHJpeCxoKSxkPXRoaXMudW5wcm9qZWN0UG9zaXRpb24oZiksdj1PYmplY3QoYy5hKShkLDMpLHA9dlswXSxnPXZbMV0seT12WzJdO3JldHVybiBOdW1iZXIuaXNGaW5pdGUodSk/W3AsZyx5XTpOdW1iZXIuaXNGaW5pdGUoaSk/W3AsZyxpXTpbcCxnXX19LHtrZXk6InByb2plY3RQb3NpdGlvbiIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5wcm9qZWN0RmxhdCh0KSxuPU9iamVjdChjLmEpKGUsMik7cmV0dXJuW25bMF0sblsxXSwodFsyXXx8MCkqdGhpcy51bml0c1Blck1ldGVyXX19LHtrZXk6InVucHJvamVjdFBvc2l0aW9uIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLnVucHJvamVjdEZsYXQodCksbj1PYmplY3QoYy5hKShlLDIpO3JldHVybltuWzBdLG5bMV0sKHRbMl18fDApL3RoaXMudW5pdHNQZXJNZXRlcl19fSx7a2V5OiJwcm9qZWN0RmxhdCIsdmFsdWU6ZnVuY3Rpb24odCl7YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOnRoaXMuc2NhbGU7cmV0dXJuIHR9fSx7a2V5OiJ1bnByb2plY3RGbGF0Iix2YWx1ZTpmdW5jdGlvbih0KXthcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06dGhpcy5zY2FsZTtyZXR1cm4gdH19XSksdH0oKSk7ZnVuY3Rpb24gRCh0KXt2YXIgZT10LndpZHRoLG49dC5oZWlnaHQscj10LmxvbmdpdHVkZSxpPXQubGF0aXR1ZGUsYT10Lnpvb20sbz10LnBpdGNoLHM9dm9pZCAwPT09bz8wOm8sdT10LmJlYXJpbmcsYz12b2lkIDA9PT11PzA6dTsocjwtMTgwfHxyPjE4MCkmJihyPWYocisxODAsMzYwKS0xODApLChjPC0xODB8fGM+MTgwKSYmKGM9ZihjKzE4MCwzNjApLTE4MCk7dmFyIGw9bmV3IE4oe3dpZHRoOmUsaGVpZ2h0Om4sbG9uZ2l0dWRlOnIsbGF0aXR1ZGU6aSx6b29tOmF9KSxoPWwucHJvamVjdChbciw4NS4wNTExM10pWzFdLGQ9bC5wcm9qZWN0KFtyLC04NS4wNTExM10pWzFdLHY9MDtyZXR1cm4gZC1oPG4mJihhKz1NYXRoLmxvZzIobi8oZC1oKSksaD0obD1uZXcgTih7d2lkdGg6ZSxoZWlnaHQ6bixsb25naXR1ZGU6cixsYXRpdHVkZTppLHpvb206YX0pKS5wcm9qZWN0KFtyLDg1LjA1MTEzXSlbMV0sZD1sLnByb2plY3QoW3IsLTg1LjA1MTEzXSlbMV0pLGg+MD92PWg6ZDxuJiYodj1kLW4pLHYmJihpPWwudW5wcm9qZWN0KFtlLzIsbi8yK3ZdKVsxXSkse3dpZHRoOmUsaGVpZ2h0Om4sbG9uZ2l0dWRlOnIsbGF0aXR1ZGU6aSx6b29tOmEscGl0Y2g6cyxiZWFyaW5nOmN9fXZhciBGPVsibG9uZ2l0dWRlIiwibGF0aXR1ZGUiLCJ6b29tIl0sej17Y3VydmU6MS40MTQsc3BlZWQ6MS4yfTtmdW5jdGlvbiBCKHQsZSxuKXt2YXIgcj1hcmd1bWVudHMubGVuZ3RoPjMmJnZvaWQgMCE9PWFyZ3VtZW50c1szXT9hcmd1bWVudHNbM106e30saT17fSxhPVYodCxlLHIpLG89YS5zdGFydFpvb20scz1hLnN0YXJ0Q2VudGVyWFksdT1hLnVEZWx0YSxjPWEudzAsbD1hLnUxLGg9YS5TLGY9YS5yaG8sdj1hLnJobzIsZz1hLnIwO2lmKGw8LjAxKXt2YXIgeT0hMCxtPSExLGI9dm9pZCAwO3RyeXtmb3IodmFyIF8sTz1GW1N5bWJvbC5pdGVyYXRvcl0oKTshKHk9KF89Ty5uZXh0KCkpLmRvbmUpO3k9ITApe3ZhciB4PV8udmFsdWUsaz10W3hdLFA9ZVt4XTtpW3hdPWQoayxQLG4pfX1jYXRjaCh0KXttPSEwLGI9dH1maW5hbGx5e3RyeXt5fHxudWxsPT1PLnJldHVybnx8Ty5yZXR1cm4oKX1maW5hbGx5e2lmKG0pdGhyb3cgYn19cmV0dXJuIGl9dmFyIGo9bipoLFQ9TWF0aC5jb3NoKGcpL01hdGguY29zaChnK2YqaiksRT1jKigoTWF0aC5jb3NoKGcpKk1hdGgudGFuaChnK2YqaiktTWF0aC5zaW5oKGcpKS92KS9sLEE9MS9ULE09byt3KEEpLEM9cC5lKFtdLHUsRSk7cC5hKEMsQyxzKTt2YXIgTD1TKEMpO3JldHVybiBpLmxvbmdpdHVkZT1MWzBdLGkubGF0aXR1ZGU9TFsxXSxpLnpvb209TSxpfWZ1bmN0aW9uIFUodCxlKXt2YXIgbixyPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTp7fSxpPXI9T2JqZWN0LmFzc2lnbih7fSx6LHIpLGE9aS5zY3JlZW5TcGVlZCxvPWkuc3BlZWQscz1pLm1heER1cmF0aW9uLHU9Vih0LGUsciksYz11LlMsbD11LnJobyxoPTFlMypjO3JldHVybiBuPU51bWJlci5pc0Zpbml0ZShhKT9oLyhhL2wpOmgvbyxOdW1iZXIuaXNGaW5pdGUocykmJm4+cz8wOm59ZnVuY3Rpb24gVih0LGUsbil7dmFyIHI9KG49T2JqZWN0LmFzc2lnbih7fSx6LG4pKS5jdXJ2ZSxpPXQuem9vbSxhPVt0LmxvbmdpdHVkZSx0LmxhdGl0dWRlXSxvPXgoaSkscz1lLnpvb20sdT1bZS5sb25naXR1ZGUsZS5sYXRpdHVkZV0sYz14KHMtaSksbD1rKGEpLGg9ayh1KSxmPXAuZihbXSxoLGwpLGQ9TWF0aC5tYXgodC53aWR0aCx0LmhlaWdodCksdj1kL2MsZz1wLmIoZikqbyx5PU1hdGgubWF4KGcsLjAxKSxtPXIqcixiPSh2KnYtZCpkK20qbSp5KnkpLygyKmQqbSp5KSxfPSh2KnYtZCpkLW0qbSp5KnkpLygyKnYqbSp5KSxPPU1hdGgubG9nKE1hdGguc3FydChiKmIrMSktYiksdz1NYXRoLmxvZyhNYXRoLnNxcnQoXypfKzEpLV8pO3JldHVybntzdGFydFpvb206aSxzdGFydENlbnRlclhZOmwsdURlbHRhOmYsdzA6ZCx1MTpnLFM6KHctTykvcixyaG86cixyaG8yOm0scjA6TyxyMTp3fX1uLmQoZSwiYiIsKGZ1bmN0aW9uKCl7cmV0dXJuIE59KSksbi5kKGUsImMiLChmdW5jdGlvbigpe3JldHVybiBSfSkpLG4uZChlLCJrIiwoZnVuY3Rpb24oKXtyZXR1cm4gRH0pKSxuLmQoZSwiZCIsKGZ1bmN0aW9uKCl7cmV0dXJuIEJ9KSksbi5kKGUsImYiLChmdW5jdGlvbigpe3JldHVybiBVfSkpLG4uZChlLCJqIiwoZnVuY3Rpb24oKXtyZXR1cm4ga30pKSxuLmQoZSwibSIsKGZ1bmN0aW9uKCl7cmV0dXJuIFN9KSksbi5kKGUsIm4iLChmdW5jdGlvbigpe3JldHVybiBDfSkpLG4uZChlLCJsIiwoZnVuY3Rpb24oKXtyZXR1cm4gTH0pKSxuLmQoZSwiZyIsKGZ1bmN0aW9uKCl7cmV0dXJuIFB9KSksbi5kKGUsImUiLChmdW5jdGlvbigpe3JldHVybiBqfSkpLG4uZChlLCJhIiwoZnVuY3Rpb24oKXtyZXR1cm4gVH0pKSxuLmQoZSwiaSIsKGZ1bmN0aW9uKCl7cmV0dXJuIEV9KSksbi5kKGUsImgiLChmdW5jdGlvbigpe3JldHVybiBBfSkpfSxmdW5jdGlvbih0LGUsbil7dC5leHBvcnRzPW4oMjQ4KX0sZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0IjtuLmQoZSwiYiIsKGZ1bmN0aW9uKCl7cmV0dXJuIGl9KSksbi5kKGUsImciLChmdW5jdGlvbigpe3JldHVybiBhfSkpLG4uZChlLCJlIiwoZnVuY3Rpb24oKXtyZXR1cm4gb30pKSxuLmQoZSwiaCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHN9KSksbi5kKGUsImQiLChmdW5jdGlvbigpe3JldHVybiB1fSkpLG4uZChlLCJjIiwoZnVuY3Rpb24oKXtyZXR1cm4gY30pKSxuLmQoZSwibiIsKGZ1bmN0aW9uKCl7cmV0dXJuIGx9KSksbi5kKGUsIm0iLChmdW5jdGlvbigpe3JldHVybiBofSkpLG4uZChlLCJvIiwoZnVuY3Rpb24oKXtyZXR1cm4gZn0pKSxuLmQoZSwiaSIsKGZ1bmN0aW9uKCl7cmV0dXJuIGR9KSksbi5kKGUsImoiLChmdW5jdGlvbigpe3JldHVybiB2fSkpLG4uZChlLCJrIiwoZnVuY3Rpb24oKXtyZXR1cm4gcH0pKSxuLmQoZSwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIGd9KSksbi5kKGUsImwiLChmdW5jdGlvbigpe3JldHVybiBtfSkpLG4uZChlLCJmIiwoZnVuY3Rpb24oKXtyZXR1cm4gYn0pKTt2YXIgcj1uKDE0KTtmdW5jdGlvbiBpKCl7dmFyIHQ9bmV3IHIuYSgzKTtyZXR1cm4gci5hIT1GbG9hdDMyQXJyYXkmJih0WzBdPTAsdFsxXT0wLHRbMl09MCksdH1mdW5jdGlvbiBhKHQpe3ZhciBlPXRbMF0sbj10WzFdLHI9dFsyXTtyZXR1cm4gTWF0aC5oeXBvdChlLG4scil9ZnVuY3Rpb24gbyh0LGUsbil7dmFyIGk9bmV3IHIuYSgzKTtyZXR1cm4gaVswXT10LGlbMV09ZSxpWzJdPW4saX1mdW5jdGlvbiBzKHQsZSl7dmFyIG49ZVswXSxyPWVbMV0saT1lWzJdLGE9bipuK3IqcitpKmk7cmV0dXJuIGE+MCYmKGE9MS9NYXRoLnNxcnQoYSkpLHRbMF09ZVswXSphLHRbMV09ZVsxXSphLHRbMl09ZVsyXSphLHR9ZnVuY3Rpb24gdSh0LGUpe3JldHVybiB0WzBdKmVbMF0rdFsxXSplWzFdK3RbMl0qZVsyXX1mdW5jdGlvbiBjKHQsZSxuKXt2YXIgcj1lWzBdLGk9ZVsxXSxhPWVbMl0sbz1uWzBdLHM9blsxXSx1PW5bMl07cmV0dXJuIHRbMF09aSp1LWEqcyx0WzFdPWEqby1yKnUsdFsyXT1yKnMtaSpvLHR9ZnVuY3Rpb24gbCh0LGUsbil7dmFyIHI9ZVswXSxpPWVbMV0sYT1lWzJdLG89blszXSpyK25bN10qaStuWzExXSphK25bMTVdO3JldHVybiBvPW98fDEsdFswXT0oblswXSpyK25bNF0qaStuWzhdKmErblsxMl0pL28sdFsxXT0oblsxXSpyK25bNV0qaStuWzldKmErblsxM10pL28sdFsyXT0oblsyXSpyK25bNl0qaStuWzEwXSphK25bMTRdKS9vLHR9ZnVuY3Rpb24gaCh0LGUsbil7dmFyIHI9ZVswXSxpPWVbMV0sYT1lWzJdO3JldHVybiB0WzBdPXIqblswXStpKm5bM10rYSpuWzZdLHRbMV09cipuWzFdK2kqbls0XSthKm5bN10sdFsyXT1yKm5bMl0raSpuWzVdK2Eqbls4XSx0fWZ1bmN0aW9uIGYodCxlLG4pe3ZhciByPW5bMF0saT1uWzFdLGE9blsyXSxvPW5bM10scz1lWzBdLHU9ZVsxXSxjPWVbMl0sbD1pKmMtYSp1LGg9YSpzLXIqYyxmPXIqdS1pKnMsZD1pKmYtYSpoLHY9YSpsLXIqZixwPXIqaC1pKmwsZz0yKm87cmV0dXJuIGwqPWcsaCo9ZyxmKj1nLGQqPTIsdio9MixwKj0yLHRbMF09cytsK2QsdFsxXT11K2grdix0WzJdPWMrZitwLHR9ZnVuY3Rpb24gZCh0LGUsbixyKXt2YXIgaT1bXSxhPVtdO3JldHVybiBpWzBdPWVbMF0tblswXSxpWzFdPWVbMV0tblsxXSxpWzJdPWVbMl0tblsyXSxhWzBdPWlbMF0sYVsxXT1pWzFdKk1hdGguY29zKHIpLWlbMl0qTWF0aC5zaW4ociksYVsyXT1pWzFdKk1hdGguc2luKHIpK2lbMl0qTWF0aC5jb3MociksdFswXT1hWzBdK25bMF0sdFsxXT1hWzFdK25bMV0sdFsyXT1hWzJdK25bMl0sdH1mdW5jdGlvbiB2KHQsZSxuLHIpe3ZhciBpPVtdLGE9W107cmV0dXJuIGlbMF09ZVswXS1uWzBdLGlbMV09ZVsxXS1uWzFdLGlbMl09ZVsyXS1uWzJdLGFbMF09aVsyXSpNYXRoLnNpbihyKStpWzBdKk1hdGguY29zKHIpLGFbMV09aVsxXSxhWzJdPWlbMl0qTWF0aC5jb3MociktaVswXSpNYXRoLnNpbihyKSx0WzBdPWFbMF0rblswXSx0WzFdPWFbMV0rblsxXSx0WzJdPWFbMl0rblsyXSx0fWZ1bmN0aW9uIHAodCxlLG4scil7dmFyIGk9W10sYT1bXTtyZXR1cm4gaVswXT1lWzBdLW5bMF0saVsxXT1lWzFdLW5bMV0saVsyXT1lWzJdLW5bMl0sYVswXT1pWzBdKk1hdGguY29zKHIpLWlbMV0qTWF0aC5zaW4ociksYVsxXT1pWzBdKk1hdGguc2luKHIpK2lbMV0qTWF0aC5jb3MociksYVsyXT1pWzJdLHRbMF09YVswXStuWzBdLHRbMV09YVsxXStuWzFdLHRbMl09YVsyXStuWzJdLHR9ZnVuY3Rpb24gZyh0LGUpe3ZhciBuPW8odFswXSx0WzFdLHRbMl0pLHI9byhlWzBdLGVbMV0sZVsyXSk7cyhuLG4pLHMocixyKTt2YXIgaT11KG4scik7cmV0dXJuIGk+MT8wOmk8LTE/TWF0aC5QSTpNYXRoLmFjb3MoaSl9dmFyIHksbT1mdW5jdGlvbih0LGUsbil7cmV0dXJuIHRbMF09ZVswXS1uWzBdLHRbMV09ZVsxXS1uWzFdLHRbMl09ZVsyXS1uWzJdLHR9LGI9YTt5PWkoKX0sZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiByKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcigiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uIil9bi5kKGUsImEiLChmdW5jdGlvbigpe3JldHVybiByfSkpfSxmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO24uZChlLCJnIiwoZnVuY3Rpb24oKXtyZXR1cm4gc30pKSxuLmQoZSwiZSIsKGZ1bmN0aW9uKCl7cmV0dXJuIHV9KSksbi5kKGUsImEiLChmdW5jdGlvbigpe3JldHVybiBjfSkpLG4uZChlLCJmIiwoZnVuY3Rpb24oKXtyZXR1cm4gbH0pKSxuLmQoZSwiYyIsKGZ1bmN0aW9uKCl7cmV0dXJuIGh9KSksbi5kKGUsImQiLChmdW5jdGlvbigpe3JldHVybiBmfSkpLG4uZChlLCJiIiwoZnVuY3Rpb24oKXtyZXR1cm4gZH0pKSxuLmQoZSwiaCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHZ9KSksbi5kKGUsImkiLChmdW5jdGlvbigpe3JldHVybiBwfSkpO3ZhciByPW4oMjUpLGk9ZnVuY3Rpb24odCl7cmV0dXJuImJvb2xlYW4iPT10eXBlb2YgdH0sYT1mdW5jdGlvbih0KXtyZXR1cm4iZnVuY3Rpb24iPT10eXBlb2YgdH0sbz1mdW5jdGlvbih0KXtyZXR1cm4gbnVsbCE9PXQmJiJvYmplY3QiPT09T2JqZWN0KHIuYSkodCl9LHM9ZnVuY3Rpb24odCl7cmV0dXJuIG8odCkmJmEodC50aGVuKX0sdT1mdW5jdGlvbih0KXtyZXR1cm4gdCYmImZ1bmN0aW9uIj09dHlwZW9mIHRbU3ltYm9sLml0ZXJhdG9yXX0sYz1mdW5jdGlvbih0KXtyZXR1cm4gdCYmImZ1bmN0aW9uIj09dHlwZW9mIHRbU3ltYm9sLmFzeW5jSXRlcmF0b3JdfSxsPWZ1bmN0aW9uKHQpe3JldHVybiB0JiZhKHQubmV4dCl9LGg9ZnVuY3Rpb24odCl7cmV0dXJuInVuZGVmaW5lZCIhPXR5cGVvZiBSZXNwb25zZSYmdCBpbnN0YW5jZW9mIFJlc3BvbnNlfHx0JiZ0LmFycmF5QnVmZmVyJiZ0LnRleHQmJnQuanNvbn0sZj1mdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuInVuZGVmaW5lZCIhPXR5cGVvZiBGaWxlJiZ0IGluc3RhbmNlb2YgRmlsZX0odCl8fGZ1bmN0aW9uKHQpe3JldHVybiJ1bmRlZmluZWQiIT10eXBlb2YgQmxvYiYmdCBpbnN0YW5jZW9mIEJsb2J9KHQpfSxkPWZ1bmN0aW9uKHQpe3JldHVybiB0JiYib2JqZWN0Ij09PU9iamVjdChyLmEpKHQpJiZ0LmlzQnVmZmVyfSx2PWZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm4idW5kZWZpbmVkIiE9dHlwZW9mIFJlYWRhYmxlU3RyZWFtJiZ0IGluc3RhbmNlb2YgUmVhZGFibGVTdHJlYW18fG8odCkmJmEodC50ZWUpJiZhKHQuY2FuY2VsKSYmYSh0LmdldFJlYWRlcil9KHQpfHxmdW5jdGlvbih0KXtyZXR1cm4gbyh0KSYmYSh0LnJlYWQpJiZhKHQucGlwZSkmJmkodC5yZWFkYWJsZSl9KHQpfSxwPWZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm4gbyh0KSYmYSh0LmFib3J0KSYmYSh0LmdldFdyaXRlcil9KHQpfHxmdW5jdGlvbih0KXtyZXR1cm4gbyh0KSYmYSh0LmVuZCkmJmEodC53cml0ZSkmJmkodC53cml0YWJsZSl9KHQpfX0sZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0IjtuLmQoZSwibyIsKGZ1bmN0aW9uKCl7cmV0dXJuIGl9KSksbi5kKGUsImQiLChmdW5jdGlvbigpe3JldHVybiBhfSkpLG4uZChlLCJhIiwoZnVuY3Rpb24oKXtyZXR1cm4gb30pKSxuLmQoZSwiZiIsKGZ1bmN0aW9uKCl7cmV0dXJuIHN9KSksbi5kKGUsIm4iLChmdW5jdGlvbigpe3JldHVybiB1fSkpLG4uZChlLCJtIiwoZnVuY3Rpb24oKXtyZXR1cm4gY30pKSxuLmQoZSwiaSIsKGZ1bmN0aW9uKCl7cmV0dXJuIGx9KSksbi5kKGUsImoiLChmdW5jdGlvbigpe3JldHVybiBofSkpLG4uZChlLCJrIiwoZnVuY3Rpb24oKXtyZXR1cm4gZn0pKSxuLmQoZSwibCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGR9KSksbi5kKGUsImIiLChmdW5jdGlvbigpe3JldHVybiB2fSkpLG4uZChlLCJjIiwoZnVuY3Rpb24oKXtyZXR1cm4gcH0pKSxuLmQoZSwiaCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGd9KSksbi5kKGUsImciLChmdW5jdGlvbigpe3JldHVybiB5fSkpLG4uZChlLCJlIiwoZnVuY3Rpb24oKXtyZXR1cm4gbX0pKTt2YXIgcj1uKDE0KTtmdW5jdGlvbiBpKHQsZSl7aWYodD09PWUpe3ZhciBuPWVbMV0scj1lWzJdLGk9ZVszXSxhPWVbNl0sbz1lWzddLHM9ZVsxMV07dFsxXT1lWzRdLHRbMl09ZVs4XSx0WzNdPWVbMTJdLHRbNF09bix0WzZdPWVbOV0sdFs3XT1lWzEzXSx0WzhdPXIsdFs5XT1hLHRbMTFdPWVbMTRdLHRbMTJdPWksdFsxM109byx0WzE0XT1zfWVsc2UgdFswXT1lWzBdLHRbMV09ZVs0XSx0WzJdPWVbOF0sdFszXT1lWzEyXSx0WzRdPWVbMV0sdFs1XT1lWzVdLHRbNl09ZVs5XSx0WzddPWVbMTNdLHRbOF09ZVsyXSx0WzldPWVbNl0sdFsxMF09ZVsxMF0sdFsxMV09ZVsxNF0sdFsxMl09ZVszXSx0WzEzXT1lWzddLHRbMTRdPWVbMTFdLHRbMTVdPWVbMTVdO3JldHVybiB0fWZ1bmN0aW9uIGEodCxlKXt2YXIgbj1lWzBdLHI9ZVsxXSxpPWVbMl0sYT1lWzNdLG89ZVs0XSxzPWVbNV0sdT1lWzZdLGM9ZVs3XSxsPWVbOF0saD1lWzldLGY9ZVsxMF0sZD1lWzExXSx2PWVbMTJdLHA9ZVsxM10sZz1lWzE0XSx5PWVbMTVdLG09bipzLXIqbyxiPW4qdS1pKm8sXz1uKmMtYSpvLE89cip1LWkqcyx4PXIqYy1hKnMsdz1pKmMtYSp1LGs9bCpwLWgqdixTPWwqZy1mKnYsUD1sKnktZCp2LGo9aCpnLWYqcCxUPWgqeS1kKnAsRT1mKnktZCpnLEE9bSpFLWIqVCtfKmorTypQLXgqUyt3Kms7cmV0dXJuIEE/KEE9MS9BLHRbMF09KHMqRS11KlQrYypqKSpBLHRbMV09KGkqVC1yKkUtYSpqKSpBLHRbMl09KHAqdy1nKngreSpPKSpBLHRbM109KGYqeC1oKnctZCpPKSpBLHRbNF09KHUqUC1vKkUtYypTKSpBLHRbNV09KG4qRS1pKlArYSpTKSpBLHRbNl09KGcqXy12KncteSpiKSpBLHRbN109KGwqdy1mKl8rZCpiKSpBLHRbOF09KG8qVC1zKlArYyprKSpBLHRbOV09KHIqUC1uKlQtYSprKSpBLHRbMTBdPSh2KngtcCpfK3kqbSkqQSx0WzExXT0oaCpfLWwqeC1kKm0pKkEsdFsxMl09KHMqUy1vKmotdSprKSpBLHRbMTNdPShuKmotcipTK2kqaykqQSx0WzE0XT0ocCpiLXYqTy1nKm0pKkEsdFsxNV09KGwqTy1oKmIrZiptKSpBLHQpOm51bGx9ZnVuY3Rpb24gbyh0KXt2YXIgZT10WzBdLG49dFsxXSxyPXRbMl0saT10WzNdLGE9dFs0XSxvPXRbNV0scz10WzZdLHU9dFs3XSxjPXRbOF0sbD10WzldLGg9dFsxMF0sZj10WzExXSxkPXRbMTJdLHY9dFsxM10scD10WzE0XSxnPXRbMTVdO3JldHVybihlKm8tbiphKSooaCpnLWYqcCktKGUqcy1yKmEpKihsKmctZip2KSsoZSp1LWkqYSkqKGwqcC1oKnYpKyhuKnMtcipvKSooYypnLWYqZCktKG4qdS1pKm8pKihjKnAtaCpkKSsocip1LWkqcykqKGMqdi1sKmQpfWZ1bmN0aW9uIHModCxlLG4pe3ZhciByPWVbMF0saT1lWzFdLGE9ZVsyXSxvPWVbM10scz1lWzRdLHU9ZVs1XSxjPWVbNl0sbD1lWzddLGg9ZVs4XSxmPWVbOV0sZD1lWzEwXSx2PWVbMTFdLHA9ZVsxMl0sZz1lWzEzXSx5PWVbMTRdLG09ZVsxNV0sYj1uWzBdLF89blsxXSxPPW5bMl0seD1uWzNdO3JldHVybiB0WzBdPWIqcitfKnMrTypoK3gqcCx0WzFdPWIqaStfKnUrTypmK3gqZyx0WzJdPWIqYStfKmMrTypkK3gqeSx0WzNdPWIqbytfKmwrTyp2K3gqbSxiPW5bNF0sXz1uWzVdLE89bls2XSx4PW5bN10sdFs0XT1iKnIrXypzK08qaCt4KnAsdFs1XT1iKmkrXyp1K08qZit4KmcsdFs2XT1iKmErXypjK08qZCt4KnksdFs3XT1iKm8rXypsK08qdit4Km0sYj1uWzhdLF89bls5XSxPPW5bMTBdLHg9blsxMV0sdFs4XT1iKnIrXypzK08qaCt4KnAsdFs5XT1iKmkrXyp1K08qZit4KmcsdFsxMF09YiphK18qYytPKmQreCp5LHRbMTFdPWIqbytfKmwrTyp2K3gqbSxiPW5bMTJdLF89blsxM10sTz1uWzE0XSx4PW5bMTVdLHRbMTJdPWIqcitfKnMrTypoK3gqcCx0WzEzXT1iKmkrXyp1K08qZit4KmcsdFsxNF09YiphK18qYytPKmQreCp5LHRbMTVdPWIqbytfKmwrTyp2K3gqbSx0fWZ1bmN0aW9uIHUodCxlLG4pe3ZhciByLGksYSxvLHMsdSxjLGwsaCxmLGQsdixwPW5bMF0sZz1uWzFdLHk9blsyXTtyZXR1cm4gZT09PXQ/KHRbMTJdPWVbMF0qcCtlWzRdKmcrZVs4XSp5K2VbMTJdLHRbMTNdPWVbMV0qcCtlWzVdKmcrZVs5XSp5K2VbMTNdLHRbMTRdPWVbMl0qcCtlWzZdKmcrZVsxMF0qeStlWzE0XSx0WzE1XT1lWzNdKnArZVs3XSpnK2VbMTFdKnkrZVsxNV0pOihyPWVbMF0saT1lWzFdLGE9ZVsyXSxvPWVbM10scz1lWzRdLHU9ZVs1XSxjPWVbNl0sbD1lWzddLGg9ZVs4XSxmPWVbOV0sZD1lWzEwXSx2PWVbMTFdLHRbMF09cix0WzFdPWksdFsyXT1hLHRbM109byx0WzRdPXMsdFs1XT11LHRbNl09Yyx0WzddPWwsdFs4XT1oLHRbOV09Zix0WzEwXT1kLHRbMTFdPXYsdFsxMl09cipwK3MqZytoKnkrZVsxMl0sdFsxM109aSpwK3UqZytmKnkrZVsxM10sdFsxNF09YSpwK2MqZytkKnkrZVsxNF0sdFsxNV09bypwK2wqZyt2KnkrZVsxNV0pLHR9ZnVuY3Rpb24gYyh0LGUsbil7dmFyIHI9blswXSxpPW5bMV0sYT1uWzJdO3JldHVybiB0WzBdPWVbMF0qcix0WzFdPWVbMV0qcix0WzJdPWVbMl0qcix0WzNdPWVbM10qcix0WzRdPWVbNF0qaSx0WzVdPWVbNV0qaSx0WzZdPWVbNl0qaSx0WzddPWVbN10qaSx0WzhdPWVbOF0qYSx0WzldPWVbOV0qYSx0WzEwXT1lWzEwXSphLHRbMTFdPWVbMTFdKmEsdFsxMl09ZVsxMl0sdFsxM109ZVsxM10sdFsxNF09ZVsxNF0sdFsxNV09ZVsxNV0sdH1mdW5jdGlvbiBsKHQsZSxuLGkpe3ZhciBhLG8scyx1LGMsbCxoLGYsZCx2LHAsZyx5LG0sYixfLE8seCx3LGssUyxQLGosVCxFPWlbMF0sQT1pWzFdLE09aVsyXSxDPU1hdGguaHlwb3QoRSxBLE0pO3JldHVybiBDPHIuYj9udWxsOihFKj1DPTEvQyxBKj1DLE0qPUMsYT1NYXRoLnNpbihuKSxzPTEtKG89TWF0aC5jb3MobikpLHU9ZVswXSxjPWVbMV0sbD1lWzJdLGg9ZVszXSxmPWVbNF0sZD1lWzVdLHY9ZVs2XSxwPWVbN10sZz1lWzhdLHk9ZVs5XSxtPWVbMTBdLGI9ZVsxMV0sXz1FKkUqcytvLE89QSpFKnMrTSphLHg9TSpFKnMtQSphLHc9RSpBKnMtTSphLGs9QSpBKnMrbyxTPU0qQSpzK0UqYSxQPUUqTSpzK0EqYSxqPUEqTSpzLUUqYSxUPU0qTSpzK28sdFswXT11Kl8rZipPK2cqeCx0WzFdPWMqXytkKk8reSp4LHRbMl09bCpfK3YqTyttKngsdFszXT1oKl8rcCpPK2IqeCx0WzRdPXUqdytmKmsrZypTLHRbNV09Yyp3K2Qqayt5KlMsdFs2XT1sKncrdiprK20qUyx0WzddPWgqdytwKmsrYipTLHRbOF09dSpQK2YqaitnKlQsdFs5XT1jKlArZCpqK3kqVCx0WzEwXT1sKlArdipqK20qVCx0WzExXT1oKlArcCpqK2IqVCxlIT09dCYmKHRbMTJdPWVbMTJdLHRbMTNdPWVbMTNdLHRbMTRdPWVbMTRdLHRbMTVdPWVbMTVdKSx0KX1mdW5jdGlvbiBoKHQsZSxuKXt2YXIgcj1NYXRoLnNpbihuKSxpPU1hdGguY29zKG4pLGE9ZVs0XSxvPWVbNV0scz1lWzZdLHU9ZVs3XSxjPWVbOF0sbD1lWzldLGg9ZVsxMF0sZj1lWzExXTtyZXR1cm4gZSE9PXQmJih0WzBdPWVbMF0sdFsxXT1lWzFdLHRbMl09ZVsyXSx0WzNdPWVbM10sdFsxMl09ZVsxMl0sdFsxM109ZVsxM10sdFsxNF09ZVsxNF0sdFsxNV09ZVsxNV0pLHRbNF09YSppK2Mqcix0WzVdPW8qaStsKnIsdFs2XT1zKmkraCpyLHRbN109dSppK2Yqcix0WzhdPWMqaS1hKnIsdFs5XT1sKmktbypyLHRbMTBdPWgqaS1zKnIsdFsxMV09ZippLXUqcix0fWZ1bmN0aW9uIGYodCxlLG4pe3ZhciByPU1hdGguc2luKG4pLGk9TWF0aC5jb3MobiksYT1lWzBdLG89ZVsxXSxzPWVbMl0sdT1lWzNdLGM9ZVs4XSxsPWVbOV0saD1lWzEwXSxmPWVbMTFdO3JldHVybiBlIT09dCYmKHRbNF09ZVs0XSx0WzVdPWVbNV0sdFs2XT1lWzZdLHRbN109ZVs3XSx0WzEyXT1lWzEyXSx0WzEzXT1lWzEzXSx0WzE0XT1lWzE0XSx0WzE1XT1lWzE1XSksdFswXT1hKmktYypyLHRbMV09byppLWwqcix0WzJdPXMqaS1oKnIsdFszXT11KmktZipyLHRbOF09YSpyK2MqaSx0WzldPW8qcitsKmksdFsxMF09cypyK2gqaSx0WzExXT11KnIrZippLHR9ZnVuY3Rpb24gZCh0LGUsbil7dmFyIHI9TWF0aC5zaW4obiksaT1NYXRoLmNvcyhuKSxhPWVbMF0sbz1lWzFdLHM9ZVsyXSx1PWVbM10sYz1lWzRdLGw9ZVs1XSxoPWVbNl0sZj1lWzddO3JldHVybiBlIT09dCYmKHRbOF09ZVs4XSx0WzldPWVbOV0sdFsxMF09ZVsxMF0sdFsxMV09ZVsxMV0sdFsxMl09ZVsxMl0sdFsxM109ZVsxM10sdFsxNF09ZVsxNF0sdFsxNV09ZVsxNV0pLHRbMF09YSppK2Mqcix0WzFdPW8qaStsKnIsdFsyXT1zKmkraCpyLHRbM109dSppK2Yqcix0WzRdPWMqaS1hKnIsdFs1XT1sKmktbypyLHRbNl09aCppLXMqcix0WzddPWYqaS11KnIsdH1mdW5jdGlvbiB2KHQsZSl7dmFyIG49ZVswXSxyPWVbMV0saT1lWzJdLGE9ZVszXSxvPW4rbixzPXIrcix1PWkraSxjPW4qbyxsPXIqbyxoPXIqcyxmPWkqbyxkPWkqcyx2PWkqdSxwPWEqbyxnPWEqcyx5PWEqdTtyZXR1cm4gdFswXT0xLWgtdix0WzFdPWwreSx0WzJdPWYtZyx0WzNdPTAsdFs0XT1sLXksdFs1XT0xLWMtdix0WzZdPWQrcCx0WzddPTAsdFs4XT1mK2csdFs5XT1kLXAsdFsxMF09MS1jLWgsdFsxMV09MCx0WzEyXT0wLHRbMTNdPTAsdFsxNF09MCx0WzE1XT0xLHR9ZnVuY3Rpb24gcCh0LGUsbixyLGksYSxvKXt2YXIgcz0xLyhuLWUpLHU9MS8oaS1yKSxjPTEvKGEtbyk7cmV0dXJuIHRbMF09MiphKnMsdFsxXT0wLHRbMl09MCx0WzNdPTAsdFs0XT0wLHRbNV09MiphKnUsdFs2XT0wLHRbN109MCx0WzhdPShuK2UpKnMsdFs5XT0oaStyKSp1LHRbMTBdPShvK2EpKmMsdFsxMV09LTEsdFsxMl09MCx0WzEzXT0wLHRbMTRdPW8qYSoyKmMsdFsxNV09MCx0fWZ1bmN0aW9uIGcodCxlLG4scixpKXt2YXIgYSxvPTEvTWF0aC50YW4oZS8yKTtyZXR1cm4gdFswXT1vL24sdFsxXT0wLHRbMl09MCx0WzNdPTAsdFs0XT0wLHRbNV09byx0WzZdPTAsdFs3XT0wLHRbOF09MCx0WzldPTAsdFsxMV09LTEsdFsxMl09MCx0WzEzXT0wLHRbMTVdPTAsbnVsbCE9aSYmaSE9PTEvMD8oYT0xLyhyLWkpLHRbMTBdPShpK3IpKmEsdFsxNF09MippKnIqYSk6KHRbMTBdPS0xLHRbMTRdPS0yKnIpLHR9ZnVuY3Rpb24geSh0LGUsbixyLGksYSxvKXt2YXIgcz0xLyhlLW4pLHU9MS8oci1pKSxjPTEvKGEtbyk7cmV0dXJuIHRbMF09LTIqcyx0WzFdPTAsdFsyXT0wLHRbM109MCx0WzRdPTAsdFs1XT0tMip1LHRbNl09MCx0WzddPTAsdFs4XT0wLHRbOV09MCx0WzEwXT0yKmMsdFsxMV09MCx0WzEyXT0oZStuKSpzLHRbMTNdPShpK3IpKnUsdFsxNF09KG8rYSkqYyx0WzE1XT0xLHR9ZnVuY3Rpb24gbSh0LGUsbixpKXt2YXIgYSxvLHMsdSxjLGwsaCxmLGQsdixwPWVbMF0sZz1lWzFdLHk9ZVsyXSxtPWlbMF0sYj1pWzFdLF89aVsyXSxPPW5bMF0seD1uWzFdLHc9blsyXTtyZXR1cm4gTWF0aC5hYnMocC1PKTxyLmImJk1hdGguYWJzKGcteCk8ci5iJiZNYXRoLmFicyh5LXcpPHIuYj9mdW5jdGlvbih0KXtyZXR1cm4gdFswXT0xLHRbMV09MCx0WzJdPTAsdFszXT0wLHRbNF09MCx0WzVdPTEsdFs2XT0wLHRbN109MCx0WzhdPTAsdFs5XT0wLHRbMTBdPTEsdFsxMV09MCx0WzEyXT0wLHRbMTNdPTAsdFsxNF09MCx0WzE1XT0xLHR9KHQpOihoPXAtTyxmPWcteCxkPXktdyxhPWIqKGQqPXY9MS9NYXRoLmh5cG90KGgsZixkKSktXyooZio9diksbz1fKihoKj12KS1tKmQscz1tKmYtYipoLCh2PU1hdGguaHlwb3QoYSxvLHMpKT8oYSo9dj0xL3Ysbyo9dixzKj12KTooYT0wLG89MCxzPTApLHU9ZipzLWQqbyxjPWQqYS1oKnMsbD1oKm8tZiphLCh2PU1hdGguaHlwb3QodSxjLGwpKT8odSo9dj0xL3YsYyo9dixsKj12KToodT0wLGM9MCxsPTApLHRbMF09YSx0WzFdPXUsdFsyXT1oLHRbM109MCx0WzRdPW8sdFs1XT1jLHRbNl09Zix0WzddPTAsdFs4XT1zLHRbOV09bCx0WzEwXT1kLHRbMTFdPTAsdFsxMl09LShhKnArbypnK3MqeSksdFsxM109LSh1KnArYypnK2wqeSksdFsxNF09LShoKnArZipnK2QqeSksdFsxNV09MSx0KX19LGZ1bmN0aW9uKHQsZSxuKXt0LmV4cG9ydHM9bigyNjIpKCl9LGZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gbihlKXtyZXR1cm4iZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiYic3ltYm9sIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj90LmV4cG9ydHM9bj1mdW5jdGlvbih0KXtyZXR1cm4gdHlwZW9mIHR9OnQuZXhwb3J0cz1uPWZ1bmN0aW9uKHQpe3JldHVybiB0JiYiZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiZ0LmNvbnN0cnVjdG9yPT09U3ltYm9sJiZ0IT09U3ltYm9sLnByb3RvdHlwZT8ic3ltYm9sIjp0eXBlb2YgdH0sbihlKX10LmV4cG9ydHM9bn0sLCxmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO24uZChlLCJhIiwoZnVuY3Rpb24oKXtyZXR1cm4gaX0pKTt2YXIgcj1uKDApO2Z1bmN0aW9uIGkodCl7Zm9yKHZhciBlPTE7ZTxhcmd1bWVudHMubGVuZ3RoO2UrKyl7dmFyIG49bnVsbCE9YXJndW1lbnRzW2VdP09iamVjdChhcmd1bWVudHNbZV0pOnt9LGk9T2JqZWN0LmtleXMobik7ImZ1bmN0aW9uIj09dHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMmJihpPWkuY29uY2F0KE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMobikuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihuLHQpLmVudW1lcmFibGV9KSkpKSxpLmZvckVhY2goKGZ1bmN0aW9uKGUpe09iamVjdChyLmEpKHQsZSxuW2VdKX0pKX1yZXR1cm4gdH19LGZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7bi5kKGUsImIiLChmdW5jdGlvbigpe3JldHVybiBhfSkpLG4uZChlLCJhIiwoZnVuY3Rpb24oKXtyZXR1cm4gb30pKTt2YXIgcj1uKDIzKSxpPXt9O2Z1bmN0aW9uIGEodCl7aT10fWZ1bmN0aW9uIG8odCl7dmFyIGU7ci5hLmxldmVsPjAmJmlbdF0mJihlPWlbdF0pLmNhbGwuYXBwbHkoZSxhcmd1bWVudHMpfX0sZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0IjtuLmQoZSwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIHJ9KSksbi5kKGUsImIiLChmdW5jdGlvbigpe3JldHVybiBpfSkpO3ZhciByPXtOT19TVEFURToiQXdhaXRpbmcgc3RhdGUiLE1BVENIRUQ6Ik1hdGNoZWQuIFN0YXRlIHRyYW5zZmVycmVkIGZyb20gcHJldmlvdXMgbGF5ZXIiLElOSVRJQUxJWkVEOiJJbml0aWFsaXplZCIsQVdBSVRJTkdfR0M6IkRpc2NhcmRlZC4gQXdhaXRpbmcgZ2FyYmFnZSBjb2xsZWN0aW9uIixBV0FJVElOR19GSU5BTElaQVRJT046Ik5vIGxvbmdlciBtYXRjaGVkLiBBd2FpdGluZyBnYXJiYWdlIGNvbGxlY3Rpb24iLEZJTkFMSVpFRDoiRmluYWxpemVkISBBd2FpdGluZyBnYXJiYWdlIGNvbGxlY3Rpb24ifSxpPXtDT01QT05FTlQ6U3ltYm9sLmZvcigiY29tcG9uZW50IiksQVNZTkNfREVGQVVMVFM6U3ltYm9sLmZvcigiYXN5bmNQcm9wRGVmYXVsdHMiKSxBU1lOQ19PUklHSU5BTDpTeW1ib2wuZm9yKCJhc3luY1Byb3BPcmlnaW5hbCIpLEFTWU5DX1JFU09MVkVEOlN5bWJvbC5mb3IoImFzeW5jUHJvcFJlc29sdmVkIil9fSxmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIHIodCl7aWYodm9pZCAwPT09dCl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZCIpO3JldHVybiB0fW4uZChlLCJhIiwoZnVuY3Rpb24oKXtyZXR1cm4gcn0pKX0sZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0IjtuLmQoZSwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIGJ9KSk7dmFyIHI9big2KSxpPW4oNyksYT1uKDE3KSxvPW4oMTUpLHM9big0NyksdT1uKDE4KSxjPW4oNTIpLGw9big3MiksaD1uKDc2KSxmPW4oOTkpLGQ9bigxMSksdj1uKDE5MikscD1uKDI4KSxnPXtvZmZzZXQ6ImFjY2Vzc29yLm9mZnNldCIsc3RyaWRlOiJhY2Nlc3Nvci5zdHJpZGUiLHR5cGU6ImFjY2Vzc29yLnR5cGUiLHNpemU6ImFjY2Vzc29yLnNpemUiLGRpdmlzb3I6ImFjY2Vzc29yLmRpdmlzb3IiLG5vcm1hbGl6ZWQ6ImFjY2Vzc29yLm5vcm1hbGl6ZWQiLGludGVnZXI6ImFjY2Vzc29yLmludGVnZXIiLGluc3RhbmNlZDoiYWNjZXNzb3IuZGl2aXNvciIsaXNJbnN0YW5jZWQ6ImFjY2Vzc29yLmRpdmlzb3IifSx5PXtyZW1vdmVkUHJvcHM6e30scmVwbGFjZWRQcm9wczp7Ynl0ZXM6ImJ5dGVMZW5ndGgifSxkZXByZWNhdGVkUHJvcHM6Z30sbT17cmVtb3ZlZFByb3BzOmd9LGI9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSh0KXt2YXIgbixpPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp7fTtyZXR1cm4gT2JqZWN0KHIuYSkodGhpcyxlKSwobj1PYmplY3QoYS5hKSh0aGlzLE9iamVjdChvLmEpKGUpLmNhbGwodGhpcyx0LGkpKSkuc3R1YlJlbW92ZWRNZXRob2RzKCJCdWZmZXIiLCJ2Ni4wIixbImxheW91dCIsInNldExheW91dCIsImdldEluZGV4ZWRQYXJhbWV0ZXIiXSksbi50YXJnZXQ9aS50YXJnZXR8fChuLmdsLndlYmdsMj8zNjY2MjozNDk2Miksbi5pbml0aWFsaXplKGkpLE9iamVjdC5zZWFsKE9iamVjdChzLmEpKG4pKSxufXJldHVybiBPYmplY3QodS5hKShlLHQpLE9iamVjdChpLmEpKGUsW3trZXk6ImdldEVsZW1lbnRDb3VudCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06dGhpcy5hY2Nlc3NvcjtyZXR1cm4gTWF0aC5yb3VuZCh0aGlzLmJ5dGVMZW5ndGgvbC5hLmdldEJ5dGVzUGVyRWxlbWVudCh0KSl9fSx7a2V5OiJnZXRWZXJ0ZXhDb3VudCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06dGhpcy5hY2Nlc3NvcjtyZXR1cm4gTWF0aC5yb3VuZCh0aGlzLmJ5dGVMZW5ndGgvbC5hLmdldEJ5dGVzUGVyVmVydGV4KHQpKX19LHtrZXk6ImluaXRpYWxpemUiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9O3JldHVybiBBcnJheUJ1ZmZlci5pc1ZpZXcodCkmJih0PXtkYXRhOnR9KSxOdW1iZXIuaXNGaW5pdGUodCkmJih0PXtieXRlTGVuZ3RoOnR9KSx0PU9iamVjdCh2LmEpKCJCdWZmZXIiLHQseSksdGhpcy51c2FnZT10LnVzYWdlfHwzNTA0NCx0aGlzLmRlYnVnRGF0YT1udWxsLHRoaXMuc2V0QWNjZXNzb3IoT2JqZWN0LmFzc2lnbih7fSx0LHQuYWNjZXNzb3IpKSx0LmRhdGE/dGhpcy5fc2V0RGF0YSh0LmRhdGEsdC5vZmZzZXQsdC5ieXRlTGVuZ3RoKTp0aGlzLl9zZXRCeXRlTGVuZ3RoKHQuYnl0ZUxlbmd0aHx8MCksdGhpc319LHtrZXk6InNldFByb3BzIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4iYWNjZXNzb3IiaW4odD1PYmplY3Qodi5hKSgiQnVmZmVyIix0LG0pKSYmdGhpcy5zZXRBY2Nlc3Nvcih0LmFjY2Vzc29yKSx0aGlzfX0se2tleToic2V0QWNjZXNzb3IiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiBkZWxldGUodD1PYmplY3QuYXNzaWduKHt9LHQpKS5idWZmZXIsdGhpcy5hY2Nlc3Nvcj1uZXcgbC5hKHQpLHRoaXN9fSx7a2V5OiJyZWFsbG9jYXRlIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdD50aGlzLmJ5dGVMZW5ndGg/KHRoaXMuX3NldEJ5dGVMZW5ndGgodCksITApOih0aGlzLmJ5dGVzVXNlZD10LCExKX19LHtrZXk6InNldERhdGEiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmluaXRpYWxpemUodCl9fSx7a2V5OiJzdWJEYXRhIix2YWx1ZTpmdW5jdGlvbih0KXtBcnJheUJ1ZmZlci5pc1ZpZXcodCkmJih0PXtkYXRhOnR9KTt2YXIgZT10LG49ZS5kYXRhLHI9ZS5vZmZzZXQsaT12b2lkIDA9PT1yPzA6cixhPWUuc3JjT2Zmc2V0LG89dm9pZCAwPT09YT8wOmEscz10LmJ5dGVMZW5ndGh8fHQubGVuZ3RoO09iamVjdChwLmEpKG4pO3ZhciB1PXRoaXMuZ2wud2ViZ2wyPzM2NjYzOnRoaXMudGFyZ2V0O3JldHVybiB0aGlzLmdsLmJpbmRCdWZmZXIodSx0aGlzLmhhbmRsZSksMCE9PW98fHZvaWQgMCE9PXM/KE9iamVjdChoLmEpKHRoaXMuZ2wpLHRoaXMuZ2wuYnVmZmVyU3ViRGF0YSh0aGlzLnRhcmdldCxpLG4sbyxzKSk6dGhpcy5nbC5idWZmZXJTdWJEYXRhKHUsaSxuKSx0aGlzLmdsLmJpbmRCdWZmZXIodSxudWxsKSx0aGlzLmRlYnVnRGF0YT1udWxsLHRoaXMuX2luZmVyVHlwZShuKSx0aGlzfX0se2tleToiY29weURhdGEiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXQuc291cmNlQnVmZmVyLG49dC5yZWFkT2Zmc2V0LHI9dm9pZCAwPT09bj8wOm4saT10LndyaXRlT2Zmc2V0LGE9dm9pZCAwPT09aT8wOmksbz10LnNpemUscz10aGlzLmdsO3JldHVybiBPYmplY3QoaC5hKShzKSxzLmJpbmRCdWZmZXIoMzY2NjIsZS5oYW5kbGUpLHMuYmluZEJ1ZmZlcigzNjY2Myx0aGlzLmhhbmRsZSkscy5jb3B5QnVmZmVyU3ViRGF0YSgzNjY2MiwzNjY2MyxyLGEsbykscy5iaW5kQnVmZmVyKDM2NjYyLG51bGwpLHMuYmluZEJ1ZmZlcigzNjY2MyxudWxsKSx0aGlzLmRlYnVnRGF0YT1udWxsLHRoaXN9fSx7a2V5OiJnZXREYXRhIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fSxlPXQuZHN0RGF0YSxuPXZvaWQgMD09PWU/bnVsbDplLHI9dC5zcmNCeXRlT2Zmc2V0LGk9dm9pZCAwPT09cj8wOnIsYT10LmRzdE9mZnNldCxvPXZvaWQgMD09PWE/MDphLHM9dC5sZW5ndGgsdT12b2lkIDA9PT1zPzA6cztPYmplY3QoaC5hKSh0aGlzLmdsKTt2YXIgYyxsLGQ9T2JqZWN0KGYuYykodGhpcy5hY2Nlc3Nvci50eXBlfHw1MTI2LHtjbGFtcGVkOiExfSksdj10aGlzLl9nZXRBdmFpbGFibGVFbGVtZW50Q291bnQoaSksZz1vO24/Yz0obD1uLmxlbmd0aCktZzpsPWcrKGM9TWF0aC5taW4odix1fHx2KSk7dmFyIHk9TWF0aC5taW4odixjKTtyZXR1cm4gdT11fHx5LE9iamVjdChwLmEpKHU8PXkpLG49bnx8bmV3IGQobCksdGhpcy5nbC5iaW5kQnVmZmVyKDM2NjYyLHRoaXMuaGFuZGxlKSx0aGlzLmdsLmdldEJ1ZmZlclN1YkRhdGEoMzY2NjIsaSxuLG8sdSksdGhpcy5nbC5iaW5kQnVmZmVyKDM2NjYyLG51bGwpLG59fSx7a2V5OiJiaW5kIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fSxlPXQudGFyZ2V0LG49dm9pZCAwPT09ZT90aGlzLnRhcmdldDplLHI9dC5pbmRleCxpPXZvaWQgMD09PXI/dGhpcy5hY2Nlc3NvciYmdGhpcy5hY2Nlc3Nvci5pbmRleDpyLGE9dC5vZmZzZXQsbz12b2lkIDA9PT1hPzA6YSxzPXQuc2l6ZTtyZXR1cm4gMzUzNDU9PT1ufHwzNTk4Mj09PW4/dm9pZCAwIT09cz90aGlzLmdsLmJpbmRCdWZmZXJSYW5nZShuLGksdGhpcy5oYW5kbGUsbyxzKTooT2JqZWN0KHAuYSkoMD09PW8pLHRoaXMuZ2wuYmluZEJ1ZmZlckJhc2UobixpLHRoaXMuaGFuZGxlKSk6dGhpcy5nbC5iaW5kQnVmZmVyKG4sdGhpcy5oYW5kbGUpLHRoaXN9fSx7a2V5OiJ1bmJpbmQiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9LGU9dC50YXJnZXQsbj12b2lkIDA9PT1lP3RoaXMudGFyZ2V0OmUscj10LmluZGV4LGk9dm9pZCAwPT09cj90aGlzLmFjY2Vzc29yJiZ0aGlzLmFjY2Vzc29yLmluZGV4OnIsYT0zNTM0NT09PW58fDM1OTgyPT09bjtyZXR1cm4gYT90aGlzLmdsLmJpbmRCdWZmZXJCYXNlKG4saSxudWxsKTp0aGlzLmdsLmJpbmRCdWZmZXIobixudWxsKSx0aGlzfX0se2tleToiZ2V0RGVidWdEYXRhIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmRlYnVnRGF0YT97ZGF0YTp0aGlzLmRlYnVnRGF0YSxjaGFuZ2VkOiExfToodGhpcy5kZWJ1Z0RhdGE9dGhpcy5nZXREYXRhKHtsZW5ndGg6TWF0aC5taW4oMTAsdGhpcy5ieXRlTGVuZ3RoKX0pLHtkYXRhOnRoaXMuZGVidWdEYXRhLGNoYW5nZWQ6ITB9KX19LHtrZXk6ImludmFsaWRhdGVEZWJ1Z0RhdGEiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5kZWJ1Z0RhdGE9bnVsbH19LHtrZXk6Il9zZXREYXRhIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06MCxuPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTp0LmJ5dGVMZW5ndGgrZTtPYmplY3QocC5hKShBcnJheUJ1ZmZlci5pc1ZpZXcodCkpLHRoaXMuX3RyYWNrRGVhbGxvY2F0ZWRNZW1vcnkoKTt2YXIgcj10aGlzLl9nZXRUYXJnZXQoKTt0aGlzLmdsLmJpbmRCdWZmZXIocix0aGlzLmhhbmRsZSksdGhpcy5nbC5idWZmZXJEYXRhKHIsbix0aGlzLnVzYWdlKSx0aGlzLmdsLmJ1ZmZlclN1YkRhdGEocixlLHQpLHRoaXMuZ2wuYmluZEJ1ZmZlcihyLG51bGwpLHRoaXMuZGVidWdEYXRhPXQuc2xpY2UoMCwxMCksdGhpcy5ieXRlc1VzZWQ9bix0aGlzLl90cmFja0FsbG9jYXRlZE1lbW9yeShuKTt2YXIgaT1PYmplY3QoZi5iKSh0KTtyZXR1cm4gT2JqZWN0KHAuYSkoaSksdGhpcy5zZXRBY2Nlc3NvcihuZXcgbC5hKHRoaXMuYWNjZXNzb3Ise3R5cGU6aX0pKSx0aGlzfX0se2tleToiX3NldEJ5dGVMZW5ndGgiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp0aGlzLnVzYWdlO09iamVjdChwLmEpKHQ+PTApLHRoaXMuX3RyYWNrRGVhbGxvY2F0ZWRNZW1vcnkoKTt2YXIgbj10OzA9PT10JiYobj1uZXcgRmxvYXQzMkFycmF5KDApKTt2YXIgcj10aGlzLl9nZXRUYXJnZXQoKTtyZXR1cm4gdGhpcy5nbC5iaW5kQnVmZmVyKHIsdGhpcy5oYW5kbGUpLHRoaXMuZ2wuYnVmZmVyRGF0YShyLG4sZSksdGhpcy5nbC5iaW5kQnVmZmVyKHIsbnVsbCksdGhpcy51c2FnZT1lLHRoaXMuZGVidWdEYXRhPW51bGwsdGhpcy5ieXRlc1VzZWQ9dCx0aGlzLl90cmFja0FsbG9jYXRlZE1lbW9yeSh0KSx0aGlzfX0se2tleToiX2dldFRhcmdldCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nbC53ZWJnbDI/MzY2NjM6dGhpcy50YXJnZXR9fSx7a2V5OiJfZ2V0QXZhaWxhYmxlRWxlbWVudENvdW50Iix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10L09iamVjdChmLmMpKHRoaXMuYWNjZXNzb3IudHlwZXx8NTEyNix7Y2xhbXBlZDohMX0pLkJZVEVTX1BFUl9FTEVNRU5UO3JldHVybiB0aGlzLmdldEVsZW1lbnRDb3VudCgpLWV9fSx7a2V5OiJfaW5mZXJUeXBlIix2YWx1ZTpmdW5jdGlvbih0KXt0aGlzLmFjY2Vzc29yLnR5cGV8fHRoaXMuc2V0QWNjZXNzb3IobmV3IGwuYSh0aGlzLmFjY2Vzc29yLHt0eXBlOk9iamVjdChmLmIpKHQpfSkpfX0se2tleToiX2NyZWF0ZUhhbmRsZSIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nbC5jcmVhdGVCdWZmZXIoKX19LHtrZXk6Il9kZWxldGVIYW5kbGUiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5nbC5kZWxldGVCdWZmZXIodGhpcy5oYW5kbGUpLHRoaXMuX3RyYWNrRGVhbGxvY2F0ZWRNZW1vcnkoKX19LHtrZXk6Il9nZXRQYXJhbWV0ZXIiLHZhbHVlOmZ1bmN0aW9uKHQpe3RoaXMuZ2wuYmluZEJ1ZmZlcih0aGlzLnRhcmdldCx0aGlzLmhhbmRsZSk7dmFyIGU9dGhpcy5nbC5nZXRCdWZmZXJQYXJhbWV0ZXIodGhpcy50YXJnZXQsdCk7cmV0dXJuIHRoaXMuZ2wuYmluZEJ1ZmZlcih0aGlzLnRhcmdldCxudWxsKSxlfX0se2tleToic2V0Qnl0ZUxlbmd0aCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIGQuaC5kZXByZWNhdGVkKCJzZXRCeXRlTGVuZ3RoIiwicmVhbGxvY2F0ZSIpKCksdGhpcy5yZWFsbG9jYXRlKHQpfX0se2tleToidXBkYXRlQWNjZXNzb3IiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiBkLmguZGVwcmVjYXRlZCgidXBkYXRlQWNjZXNzb3IoLi4uKSIsInNldEFjY2Vzc29yKG5ldyBBY2Nlc3NvcihidWZmZXIuYWNjZXNzb3IsIC4uLikiKSgpLHRoaXMuYWNjZXNzb3I9bmV3IGwuYSh0aGlzLmFjY2Vzc29yLHQpLHRoaXN9fSx7a2V5OiJ0eXBlIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZC5oLmRlcHJlY2F0ZWQoIkJ1ZmZlci50eXBlIiwiQnVmZmVyLmFjY2Vzc29yLnR5cGUiKSgpLHRoaXMuYWNjZXNzb3IudHlwZX19LHtrZXk6ImJ5dGVzIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZC5oLmRlcHJlY2F0ZWQoIkJ1ZmZlci5ieXRlcyIsIkJ1ZmZlci5ieXRlTGVuZ3RoIikoKSx0aGlzLmJ5dGVMZW5ndGh9fV0pLGV9KGMuYSl9LGZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7bi5kKGUsImIiLChmdW5jdGlvbigpe3JldHVybiBpfSkpLG4uZChlLCJnIiwoZnVuY3Rpb24oKXtyZXR1cm4gYX0pKSxuLmQoZSwiYyIsKGZ1bmN0aW9uKCl7cmV0dXJuIG99KSksbi5kKGUsImwiLChmdW5jdGlvbigpe3JldHVybiBzfSkpLG4uZChlLCJhIiwoZnVuY3Rpb24oKXtyZXR1cm4gdX0pKSxuLmQoZSwiayIsKGZ1bmN0aW9uKCl7cmV0dXJuIGN9KSksbi5kKGUsImgiLChmdW5jdGlvbigpe3JldHVybiBsfSkpLG4uZChlLCJtIiwoZnVuY3Rpb24oKXtyZXR1cm4gaH0pKSxuLmQoZSwiaiIsKGZ1bmN0aW9uKCl7cmV0dXJuIGZ9KSksbi5kKGUsImQiLChmdW5jdGlvbigpe3JldHVybiBkfSkpLG4uZChlLCJpIiwoZnVuY3Rpb24oKXtyZXR1cm4gdn0pKSxuLmQoZSwibiIsKGZ1bmN0aW9uKCl7cmV0dXJuIHB9KSksbi5kKGUsIm8iLChmdW5jdGlvbigpe3JldHVybiBnfSkpLG4uZChlLCJmIiwoZnVuY3Rpb24oKXtyZXR1cm4geX0pKSxuLmQoZSwiZSIsKGZ1bmN0aW9uKCl7cmV0dXJuIG19KSk7dmFyIHI9bigxNCk7ZnVuY3Rpb24gaSh0KXt2YXIgZT1uZXcgci5hKDQpO3JldHVybiBlWzBdPXRbMF0sZVsxXT10WzFdLGVbMl09dFsyXSxlWzNdPXRbM10sZX1mdW5jdGlvbiBhKHQsZSxuLGkpe3ZhciBhPW5ldyByLmEoNCk7cmV0dXJuIGFbMF09dCxhWzFdPWUsYVsyXT1uLGFbM109aSxhfWZ1bmN0aW9uIG8odCxlKXtyZXR1cm4gdFswXT1lWzBdLHRbMV09ZVsxXSx0WzJdPWVbMl0sdFszXT1lWzNdLHR9ZnVuY3Rpb24gcyh0LGUsbixyLGkpe3JldHVybiB0WzBdPWUsdFsxXT1uLHRbMl09cix0WzNdPWksdH1mdW5jdGlvbiB1KHQsZSxuKXtyZXR1cm4gdFswXT1lWzBdK25bMF0sdFsxXT1lWzFdK25bMV0sdFsyXT1lWzJdK25bMl0sdFszXT1lWzNdK25bM10sdH1mdW5jdGlvbiBjKHQsZSxuKXtyZXR1cm4gdFswXT1lWzBdKm4sdFsxXT1lWzFdKm4sdFsyXT1lWzJdKm4sdFszXT1lWzNdKm4sdH1mdW5jdGlvbiBsKHQpe3ZhciBlPXRbMF0sbj10WzFdLHI9dFsyXSxpPXRbM107cmV0dXJuIE1hdGguaHlwb3QoZSxuLHIsaSl9ZnVuY3Rpb24gaCh0KXt2YXIgZT10WzBdLG49dFsxXSxyPXRbMl0saT10WzNdO3JldHVybiBlKmUrbipuK3IqcitpKml9ZnVuY3Rpb24gZih0LGUpe3ZhciBuPWVbMF0scj1lWzFdLGk9ZVsyXSxhPWVbM10sbz1uKm4rcipyK2kqaSthKmE7cmV0dXJuIG8+MCYmKG89MS9NYXRoLnNxcnQobykpLHRbMF09bipvLHRbMV09cipvLHRbMl09aSpvLHRbM109YSpvLHR9ZnVuY3Rpb24gZCh0LGUpe3JldHVybiB0WzBdKmVbMF0rdFsxXSplWzFdK3RbMl0qZVsyXSt0WzNdKmVbM119ZnVuY3Rpb24gdih0LGUsbixyKXt2YXIgaT1lWzBdLGE9ZVsxXSxvPWVbMl0scz1lWzNdO3JldHVybiB0WzBdPWkrciooblswXS1pKSx0WzFdPWErciooblsxXS1hKSx0WzJdPW8rciooblsyXS1vKSx0WzNdPXMrciooblszXS1zKSx0fWZ1bmN0aW9uIHAodCxlLG4pe3ZhciByPWVbMF0saT1lWzFdLGE9ZVsyXSxvPWVbM107cmV0dXJuIHRbMF09blswXSpyK25bNF0qaStuWzhdKmErblsxMl0qbyx0WzFdPW5bMV0qcituWzVdKmkrbls5XSphK25bMTNdKm8sdFsyXT1uWzJdKnIrbls2XSppK25bMTBdKmErblsxNF0qbyx0WzNdPW5bM10qcituWzddKmkrblsxMV0qYStuWzE1XSpvLHR9ZnVuY3Rpb24gZyh0LGUsbil7dmFyIHI9ZVswXSxpPWVbMV0sYT1lWzJdLG89blswXSxzPW5bMV0sdT1uWzJdLGM9blszXSxsPWMqcitzKmEtdSppLGg9YyppK3Uqci1vKmEsZj1jKmErbyppLXMqcixkPS1vKnItcyppLXUqYTtyZXR1cm4gdFswXT1sKmMrZCotbytoKi11LWYqLXMsdFsxXT1oKmMrZCotcytmKi1vLWwqLXUsdFsyXT1mKmMrZCotdStsKi1zLWgqLW8sdFszXT1lWzNdLHR9ZnVuY3Rpb24geSh0LGUpe3JldHVybiB0WzBdPT09ZVswXSYmdFsxXT09PWVbMV0mJnRbMl09PT1lWzJdJiZ0WzNdPT09ZVszXX1mdW5jdGlvbiBtKHQsZSl7dmFyIG49dFswXSxpPXRbMV0sYT10WzJdLG89dFszXSxzPWVbMF0sdT1lWzFdLGM9ZVsyXSxsPWVbM107cmV0dXJuIE1hdGguYWJzKG4tcyk8PXIuYipNYXRoLm1heCgxLE1hdGguYWJzKG4pLE1hdGguYWJzKHMpKSYmTWF0aC5hYnMoaS11KTw9ci5iKk1hdGgubWF4KDEsTWF0aC5hYnMoaSksTWF0aC5hYnModSkpJiZNYXRoLmFicyhhLWMpPD1yLmIqTWF0aC5tYXgoMSxNYXRoLmFicyhhKSxNYXRoLmFicyhjKSkmJk1hdGguYWJzKG8tbCk8PXIuYipNYXRoLm1heCgxLE1hdGguYWJzKG8pLE1hdGguYWJzKGwpKX12YXIgYixfO2I9bmV3IHIuYSg0KSxyLmEhPUZsb2F0MzJBcnJheSYmKGJbMF09MCxiWzFdPTAsYlsyXT0wLGJbM109MCksXz1ifSxmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO24uZChlLCJhIiwoZnVuY3Rpb24oKXtyZXR1cm4gYX0pKSxuLmQoZSwiZSIsKGZ1bmN0aW9uKCl7cmV0dXJuIG99KSksbi5kKGUsImIiLChmdW5jdGlvbigpe3JldHVybiBzfSkpLG4uZChlLCJkIiwoZnVuY3Rpb24oKXtyZXR1cm4gZ30pKSxuLmQoZSwiYyIsKGZ1bmN0aW9uKCl7cmV0dXJuIHl9KSksbi5kKGUsImYiLChmdW5jdGlvbigpe3JldHVybiBtfSkpO3ZhciByPW4oOTUpLGk9big4KTtmdW5jdGlvbiBhKCl7cmV0dXJuWzEsMCwwLDAsMCwxLDAsMCwwLDAsMSwwLDAsMCwwLDFdfWZ1bmN0aW9uIG8odCxlKXt2YXIgbj10JWU7cmV0dXJuIG48MD9lK246bn1mdW5jdGlvbiBzKHQpe3ZhciBlPXQudmlld01hdHJpeCxuPXQudmlld01hdHJpeEludmVyc2U7cmV0dXJue2V5ZTpbblsxMl0sblsxM10sblsxNF1dLGRpcmVjdGlvbjpbLWVbMl0sLWVbNl0sLWVbMTBdXSx1cDpbZVsxXSxlWzVdLGVbOV1dLHJpZ2h0OltlWzBdLGVbNF0sZVs4XV19fXZhciB1LGM9bmV3IGkuZCxsPW5ldyBpLmQsaD1uZXcgaS5kLGY9bmV3IGkuZCxkPW5ldyBpLmQsdj1uZXcgaS5kLHA9bmV3IGkuZDtmdW5jdGlvbiBnKHQpe3ZhciBlPXQuYXNwZWN0LG49dC5uZWFyLHI9dC5mYXIsYT10LmZvdnlSYWRpYW5zLG89dC5wb3NpdGlvbixzPXQuZGlyZWN0aW9uLHU9dC51cCxnPXQucmlnaHQ7bC5jb3B5KHMpO3ZhciB5PTEvbC5sZW4oKTtsLm5vcm1hbGl6ZSgpLGMuY29weShvKSxoLmNvcHkodSk7dmFyIG09MS9oLmxlbigpO2gubm9ybWFsaXplKCksZi5jb3B5KGcpLm5vcm1hbGl6ZSgpO3ZhciBiPTIqTWF0aC50YW4oYS8yKSpuKm0sXz1iKmU7ZC5jb3B5KGwpLnNjYWxlKG4qeSkuYWRkKGMpLHYuY29weShsKS5zY2FsZShyKnkpLmFkZChjKTt2YXIgTz1sLmNsb25lKCkubmVnYXRlKCkseD1PLmRvdChkKSx3PXtuZWFyOntkaXN0YW5jZTp4LG5vcm1hbDpPfSxmYXI6e2Rpc3RhbmNlOmwuZG90KHYpLG5vcm1hbDpsLmNsb25lKCl9fTtyZXR1cm4gcC5jb3B5KGYpLnNjYWxlKC41Kl8pLmFkZChkKS5zdWJ0cmFjdChjKS5ub3JtYWxpemUoKSxPPW5ldyBpLmQocCkuY3Jvc3MoaCkseD1jLmRvdChPKSx3LnJpZ2h0PXtub3JtYWw6TyxkaXN0YW5jZTp4fSxwLmNvcHkoZikuc2NhbGUoLjUqLV8pLmFkZChkKS5zdWJ0cmFjdChjKS5ub3JtYWxpemUoKSxPPW5ldyBpLmQoaCkuY3Jvc3MocCkseD1jLmRvdChPKSx3LmxlZnQ9e25vcm1hbDpPLGRpc3RhbmNlOnh9LHAuY29weShoKS5zY2FsZSguNSpiKS5hZGQoZCkuc3VidHJhY3QoYykubm9ybWFsaXplKCksTz1uZXcgaS5kKGYpLmNyb3NzKHApLHg9Yy5kb3QoTyksdy50b3A9e25vcm1hbDpPLGRpc3RhbmNlOnh9LHAuY29weShoKS5zY2FsZSguNSotYikuYWRkKGQpLnN1YnRyYWN0KGMpLm5vcm1hbGl6ZSgpLE89bmV3IGkuZChwKS5jcm9zcyhmKSx4PWMuZG90KE8pLHcuYm90dG9tPXtub3JtYWw6TyxkaXN0YW5jZTp4fSx3fWZ1bmN0aW9uIHkodCl7cmV0dXJuIHQtTWF0aC5mcm91bmQodCl9ZnVuY3Rpb24gbSh0LGUpe3ZhciBuPWUuc2l6ZSxpPXZvaWQgMD09PW4/MTpuLGE9ZS5zdGFydEluZGV4LG89dm9pZCAwPT09YT8wOmEscz1lLmVuZEluZGV4O051bWJlci5pc0Zpbml0ZShzKXx8KHM9dC5sZW5ndGgpO3ZhciBjPShzLW8pL2k7dT1yLmEuYWxsb2NhdGUodSxjLHt0eXBlOkZsb2F0MzJBcnJheSxzaXplOjIqaX0pO2Zvcih2YXIgbD1vLGg9MDtsPHM7KXtmb3IodmFyIGY9MDtmPGk7ZisrKXt2YXIgZD10W2wrK107dVtoK2ZdPWQsdVtoK2YraV09eShkKX1oKz0yKml9cmV0dXJuIHUuc3ViYXJyYXkoMCxjKmkqMil9fSxmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIHIodCxlKXtyZXR1cm4gZnVuY3Rpb24odCl7aWYoQXJyYXkuaXNBcnJheSh0KSlyZXR1cm4gdH0odCl8fGZ1bmN0aW9uKHQsZSl7aWYoU3ltYm9sLml0ZXJhdG9yIGluIE9iamVjdCh0KXx8IltvYmplY3QgQXJndW1lbnRzXSI9PT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodCkpe3ZhciBuPVtdLHI9ITAsaT0hMSxhPXZvaWQgMDt0cnl7Zm9yKHZhciBvLHM9dFtTeW1ib2wuaXRlcmF0b3JdKCk7IShyPShvPXMubmV4dCgpKS5kb25lKSYmKG4ucHVzaChvLnZhbHVlKSwhZXx8bi5sZW5ndGghPT1lKTtyPSEwKTt9Y2F0Y2godCl7aT0hMCxhPXR9ZmluYWxseXt0cnl7cnx8bnVsbD09cy5yZXR1cm58fHMucmV0dXJuKCl9ZmluYWxseXtpZihpKXRocm93IGF9fXJldHVybiBufX0odCxlKXx8ZnVuY3Rpb24oKXt0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlIil9KCl9bi5kKGUsImEiLChmdW5jdGlvbigpe3JldHVybiByfSkpfSxmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO24uZChlLCJhIiwoZnVuY3Rpb24oKXtyZXR1cm4gZH0pKTt2YXIgcj1uKDYpLGk9big3KSxhPW4oMTEpLG89bigxNDQpLHM9big3NiksdT1uKDEwNSksYz1uKDExNSksbD1uKDI4KSxoPW4oMjc0KSxmPSJSZXNvdXJjZSBzdWJjbGFzcyBtdXN0IGRlZmluZSB2aXJ0dWFsIG1ldGhvZHMiLGQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUpe3ZhciBuPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp7fTtPYmplY3Qoci5hKSh0aGlzLHQpLE9iamVjdChzLmIpKGUpO3ZhciBpPW4uaWQsYT1uLnVzZXJEYXRhLG89dm9pZCAwPT09YT97fTphO3RoaXMuZ2w9ZSx0aGlzLmlkPWl8fE9iamVjdChjLmMpKHRoaXMuY29uc3RydWN0b3IubmFtZSksdGhpcy51c2VyRGF0YT1vLHRoaXMuX2JvdW5kPSExLHRoaXMuX2hhbmRsZT1uLmhhbmRsZSx2b2lkIDA9PT10aGlzLl9oYW5kbGUmJih0aGlzLl9oYW5kbGU9dGhpcy5fY3JlYXRlSGFuZGxlKCkpLHRoaXMuYnl0ZUxlbmd0aD0wLHRoaXMuX2FkZFN0YXRzKCl9cmV0dXJuIE9iamVjdChpLmEpKHQsW3trZXk6InRvU3RyaW5nIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiIiLmNvbmNhdCh0aGlzLmNvbnN0cnVjdG9yLm5hbWUsIigiKS5jb25jYXQodGhpcy5pZCwiKSIpfX0se2tleToiZGVsZXRlIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fSxlPXQuZGVsZXRlQ2hpbGRyZW4sbj12b2lkIDAhPT1lJiZlLHI9dGhpcy5faGFuZGxlJiZ0aGlzLl9kZWxldGVIYW5kbGUodGhpcy5faGFuZGxlKTtyZXR1cm4gdGhpcy5faGFuZGxlJiZ0aGlzLl9yZW1vdmVTdGF0cygpLHRoaXMuX2hhbmRsZT1udWxsLHImJm4mJnIuZmlsdGVyKEJvb2xlYW4pLmZvckVhY2goKGZ1bmN0aW9uKHQpe3QuZGVsZXRlKCl9KSksdGhpc319LHtrZXk6ImJpbmQiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQsZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06dGhpcy5oYW5kbGU7cmV0dXJuImZ1bmN0aW9uIiE9dHlwZW9mIGU/KHRoaXMuX2JpbmRIYW5kbGUoZSksdGhpcyk6KHRoaXMuX2JvdW5kP3Q9ZSgpOih0aGlzLl9iaW5kSGFuZGxlKHRoaXMuaGFuZGxlKSx0aGlzLl9ib3VuZD0hMCx0PWUoKSx0aGlzLl9ib3VuZD0hMSx0aGlzLl9iaW5kSGFuZGxlKG51bGwpKSx0KX19LHtrZXk6InVuYmluZCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLmJpbmQobnVsbCl9fSx7a2V5OiJnZXRQYXJhbWV0ZXIiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp7fTt0PU9iamVjdCh1LmIpKHRoaXMuZ2wsdCksT2JqZWN0KGwuYSkodCk7dmFyIG49dGhpcy5jb25zdHJ1Y3Rvci5QQVJBTUVURVJTfHx7fSxyPW5bdF07aWYocil7dmFyIGk9T2JqZWN0KGEuZykodGhpcy5nbCksbz0oISgid2ViZ2wyImluIHIpfHxpKSYmKCEoImV4dGVuc2lvbiJpbiByKXx8dGhpcy5nbC5nZXRFeHRlbnNpb24oci5leHRlbnNpb24pKTtpZighbyl7dmFyIHM9ci53ZWJnbDEsYz0id2ViZ2wyImluIHI/ci53ZWJnbDI6ci53ZWJnbDEsaD1pP2M6cztyZXR1cm4gaH19cmV0dXJuIHRoaXMuX2dldFBhcmFtZXRlcih0LGUpfX0se2tleToiZ2V0UGFyYW1ldGVycyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e30sZT17fSxuPWUucGFyYW1ldGVycyxyPWUua2V5cyxpPXRoaXMuY29uc3RydWN0b3IuUEFSQU1FVEVSU3x8e30sbz1PYmplY3QoYS5nKSh0aGlzLmdsKSxzPXt9LGM9bnx8T2JqZWN0LmtleXMoaSksbD0hMCxoPSExLGY9dm9pZCAwO3RyeXtmb3IodmFyIGQsdj1jW1N5bWJvbC5pdGVyYXRvcl0oKTshKGw9KGQ9di5uZXh0KCkpLmRvbmUpO2w9ITApe3ZhciBwPWQudmFsdWUsZz1pW3BdLHk9ZyYmKCEoIndlYmdsMiJpbiBnKXx8bykmJighKCJleHRlbnNpb24iaW4gZyl8fHRoaXMuZ2wuZ2V0RXh0ZW5zaW9uKGcuZXh0ZW5zaW9uKSk7aWYoeSl7dmFyIG09cj9PYmplY3QodS5hKSh0aGlzLmdsLHApOnA7c1ttXT10aGlzLmdldFBhcmFtZXRlcihwLHQpLHImJiJHTGVudW0iPT09Zy50eXBlJiYoc1ttXT1PYmplY3QodS5hKSh0aGlzLmdsLHNbbV0pKX19fWNhdGNoKHQpe2g9ITAsZj10fWZpbmFsbHl7dHJ5e2x8fG51bGw9PXYucmV0dXJufHx2LnJldHVybigpfWZpbmFsbHl7aWYoaCl0aHJvdyBmfX1yZXR1cm4gc319LHtrZXk6InNldFBhcmFtZXRlciIsdmFsdWU6ZnVuY3Rpb24odCxlKXt0PU9iamVjdCh1LmIpKHRoaXMuZ2wsdCksT2JqZWN0KGwuYSkodCk7dmFyIG49KHRoaXMuY29uc3RydWN0b3IuUEFSQU1FVEVSU3x8e30pW3RdO2lmKG4pe3ZhciByPU9iamVjdChhLmcpKHRoaXMuZ2wpO2lmKCEoKCEoIndlYmdsMiJpbiBuKXx8cikmJighKCJleHRlbnNpb24iaW4gbil8fHRoaXMuZ2wuZ2V0RXh0ZW5zaW9uKG4uZXh0ZW5zaW9uKSkpKXRocm93IG5ldyBFcnJvcigiUGFyYW1ldGVyIG5vdCBhdmFpbGFibGUgb24gdGhpcyBwbGF0Zm9ybSIpOyJHTGVudW0iPT09bi50eXBlJiYoZT1PYmplY3QodS5iKShlKSl9cmV0dXJuIHRoaXMuX3NldFBhcmFtZXRlcih0LGUpLHRoaXN9fSx7a2V5OiJzZXRQYXJhbWV0ZXJzIix2YWx1ZTpmdW5jdGlvbih0KXtmb3IodmFyIGUgaW4gdCl0aGlzLnNldFBhcmFtZXRlcihlLHRbZV0pO3JldHVybiB0aGlzfX0se2tleToic3R1YlJlbW92ZWRNZXRob2RzIix2YWx1ZTpmdW5jdGlvbih0LGUsbil7cmV0dXJuIE9iamVjdChoLmEpKHRoaXMsdCxlLG4pfX0se2tleToiaW5pdGlhbGl6ZSIsdmFsdWU6ZnVuY3Rpb24odCl7fX0se2tleToiX2NyZWF0ZUhhbmRsZSIsdmFsdWU6ZnVuY3Rpb24oKXt0aHJvdyBuZXcgRXJyb3IoZil9fSx7a2V5OiJfZGVsZXRlSGFuZGxlIix2YWx1ZTpmdW5jdGlvbigpe3Rocm93IG5ldyBFcnJvcihmKX19LHtrZXk6Il9iaW5kSGFuZGxlIix2YWx1ZTpmdW5jdGlvbigpe3Rocm93IG5ldyBFcnJvcihmKX19LHtrZXk6Il9nZXRPcHRzRnJvbUhhbmRsZSIsdmFsdWU6ZnVuY3Rpb24oKXt0aHJvdyBuZXcgRXJyb3IoZil9fSx7a2V5OiJfZ2V0UGFyYW1ldGVyIix2YWx1ZTpmdW5jdGlvbih0LGUpe3Rocm93IG5ldyBFcnJvcihmKX19LHtrZXk6Il9zZXRQYXJhbWV0ZXIiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dGhyb3cgbmV3IEVycm9yKGYpfX0se2tleToiX2NvbnRleHQiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2wubHVtYT10aGlzLmdsLmx1bWF8fHt9LHRoaXMuZ2wubHVtYX19LHtrZXk6Il9hZGRTdGF0cyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmNvbnN0cnVjdG9yLm5hbWUsZT1vLmEuZ2V0KCJSZXNvdXJjZSBDb3VudHMiKTtlLmdldCgiUmVzb3VyY2VzIENyZWF0ZWQiKS5pbmNyZW1lbnRDb3VudCgpLGUuZ2V0KCIiLmNvbmNhdCh0LCJzIENyZWF0ZWQiKSkuaW5jcmVtZW50Q291bnQoKSxlLmdldCgiIi5jb25jYXQodCwicyBBY3RpdmUiKSkuaW5jcmVtZW50Q291bnQoKX19LHtrZXk6Il9yZW1vdmVTdGF0cyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmNvbnN0cnVjdG9yLm5hbWU7by5hLmdldCgiUmVzb3VyY2UgQ291bnRzIikuZ2V0KCIiLmNvbmNhdCh0LCJzIEFjdGl2ZSIpKS5kZWNyZW1lbnRDb3VudCgpfX0se2tleToiX3RyYWNrQWxsb2NhdGVkTWVtb3J5Iix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06dGhpcy5jb25zdHJ1Y3Rvci5uYW1lLG49by5hLmdldCgiTWVtb3J5IFVzYWdlIik7bi5nZXQoIkdQVSBNZW1vcnkiKS5hZGRDb3VudCh0KSxuLmdldCgiIi5jb25jYXQoZSwiIE1lbW9yeSIpKS5hZGRDb3VudCh0KSx0aGlzLmJ5dGVMZW5ndGg9dH19LHtrZXk6Il90cmFja0RlYWxsb2NhdGVkTWVtb3J5Iix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp0aGlzLmNvbnN0cnVjdG9yLm5hbWUsZT1vLmEuZ2V0KCJNZW1vcnkgVXNhZ2UiKTtlLmdldCgiR1BVIE1lbW9yeSIpLnN1YnRyYWN0Q291bnQodGhpcy5ieXRlTGVuZ3RoKSxlLmdldCgiIi5jb25jYXQodCwiIE1lbW9yeSIpKS5zdWJ0cmFjdENvdW50KHRoaXMuYnl0ZUxlbmd0aCksdGhpcy5ieXRlTGVuZ3RoPTB9fSx7a2V5OiJoYW5kbGUiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9oYW5kbGV9fV0pLHR9KCl9LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDI1NCksaT1uKDI1NSksYT1uKDI1Nik7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVybiByKHQpfHxpKHQpfHxhKCl9fSxmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO24uZChlLCJhIiwoZnVuY3Rpb24oKXtyZXR1cm4gaX0pKTt2YXIgcj1uKDE3Mik7ZnVuY3Rpb24gaSh0KXtyZXR1cm4gbmV3IHIuYSh0KX19LGZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gcih0KXtyZXR1cm4ocj1PYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LmdldFByb3RvdHlwZU9mOmZ1bmN0aW9uKHQpe3JldHVybiB0Ll9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKHQpfSkodCl9bi5kKGUsImEiLChmdW5jdGlvbigpe3JldHVybiByfSkpfSxmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO24uZChlLCJhIiwoZnVuY3Rpb24oKXtyZXR1cm4gYn0pKTt2YXIgcj1uKDE5KSxpPW4ubihyKSxhPW4oMSksbz1uLm4oYSkscz1uKDIpLHU9bi5uKHMpLGM9bigyMyksbD1uKDUwKSxoPW4oOCksZj1uKDM5KSxkPW4oMzQpLHY9bigyMikscD1NYXRoLlBJLzE4MCxnPU9iamVjdChsLmEpKCkseT1bMCwwLDBdLG09e3VuaXRzUGVyTWV0ZXI6WzEsMSwxXSxtZXRlcnNQZXJVbml0OlsxLDEsMV19LGI9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9O28oKSh0aGlzLHQpO3ZhciBuPWUuaWQscj12b2lkIDA9PT1uP251bGw6bixpPWUueCxhPXZvaWQgMD09PWk/MDppLHM9ZS55LHU9dm9pZCAwPT09cz8wOnMsYz1lLndpZHRoLGw9dm9pZCAwPT09Yz8xOmMsaD1lLmhlaWdodCxmPXZvaWQgMD09PWg/MTpoO3RoaXMuaWQ9cnx8dGhpcy5jb25zdHJ1Y3Rvci5kaXNwbGF5TmFtZXx8InZpZXdwb3J0Iix0aGlzLng9YSx0aGlzLnk9dSx0aGlzLndpZHRoPWx8fDEsdGhpcy5oZWlnaHQ9Znx8MSx0aGlzLl9mcnVzdHVtUGxhbmVzPXt9LHRoaXMuX2luaXRWaWV3TWF0cml4KGUpLHRoaXMuX2luaXRQcm9qZWN0aW9uTWF0cml4KGUpLHRoaXMuX2luaXRQaXhlbE1hdHJpY2VzKCksdGhpcy5lcXVhbHM9dGhpcy5lcXVhbHMuYmluZCh0aGlzKSx0aGlzLnByb2plY3Q9dGhpcy5wcm9qZWN0LmJpbmQodGhpcyksdGhpcy51bnByb2plY3Q9dGhpcy51bnByb2plY3QuYmluZCh0aGlzKSx0aGlzLnByb2plY3RQb3NpdGlvbj10aGlzLnByb2plY3RQb3NpdGlvbi5iaW5kKHRoaXMpLHRoaXMudW5wcm9qZWN0UG9zaXRpb249dGhpcy51bnByb2plY3RQb3NpdGlvbi5iaW5kKHRoaXMpLHRoaXMucHJvamVjdEZsYXQ9dGhpcy5wcm9qZWN0RmxhdC5iaW5kKHRoaXMpLHRoaXMudW5wcm9qZWN0RmxhdD10aGlzLnVucHJvamVjdEZsYXQuYmluZCh0aGlzKX1yZXR1cm4gdSgpKHQsW3trZXk6ImVxdWFscyIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiB0JiYoZS53aWR0aD09PXRoaXMud2lkdGgmJmUuaGVpZ2h0PT09dGhpcy5oZWlnaHQmJmUuc2NhbGU9PT10aGlzLnNjYWxlJiZPYmplY3QoaC5qKShlLnByb2plY3Rpb25NYXRyaXgsdGhpcy5wcm9qZWN0aW9uTWF0cml4KSYmT2JqZWN0KGguaikoZS52aWV3TWF0cml4LHRoaXMudmlld01hdHJpeCkpfX0se2tleToicHJvamVjdCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOnt9LG49ZS50b3BMZWZ0LHI9dm9pZCAwPT09bnx8bixhPXRoaXMucHJvamVjdFBvc2l0aW9uKHQpLG89T2JqZWN0KGQubikoYSx0aGlzLnBpeGVsUHJvamVjdGlvbk1hdHJpeCkscz1pKCkobywyKSx1PXNbMF0sYz1zWzFdLGw9cj9jOnRoaXMuaGVpZ2h0LWM7cmV0dXJuIDI9PT10Lmxlbmd0aD9bdSxsXTpbdSxsLG9bMl1dfX0se2tleToidW5wcm9qZWN0Iix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06e30sbj1lLnRvcExlZnQscj12b2lkIDA9PT1ufHxuLGE9ZS50YXJnZXRaLG89aSgpKHQsMykscz1vWzBdLHU9b1sxXSxjPW9bMl0sbD1yP3U6dGhpcy5oZWlnaHQtdSxoPWEmJmEqdGhpcy5kaXN0YW5jZVNjYWxlcy51bml0c1Blck1ldGVyWzJdLGY9T2JqZWN0KGQubCkoW3MsbCxjXSx0aGlzLnBpeGVsVW5wcm9qZWN0aW9uTWF0cml4LGgpLHY9dGhpcy51bnByb2plY3RQb3NpdGlvbihmKSxwPWkoKSh2LDMpLGc9cFswXSx5PXBbMV0sbT1wWzJdO3JldHVybiBOdW1iZXIuaXNGaW5pdGUoYyk/W2cseSxtXTpOdW1iZXIuaXNGaW5pdGUoYSk/W2cseSxhXTpbZyx5XX19LHtrZXk6InByb2plY3RQb3NpdGlvbiIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5wcm9qZWN0RmxhdCh0KSxuPWkoKShlLDIpO3JldHVybltuWzBdLG5bMV0sKHRbMl18fDApKnRoaXMuZGlzdGFuY2VTY2FsZXMudW5pdHNQZXJNZXRlclsyXV19fSx7a2V5OiJ1bnByb2plY3RQb3NpdGlvbiIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy51bnByb2plY3RGbGF0KHQpLG49aSgpKGUsMik7cmV0dXJuW25bMF0sblsxXSwodFsyXXx8MCkqdGhpcy5kaXN0YW5jZVNjYWxlcy5tZXRlcnNQZXJVbml0WzJdXX19LHtrZXk6InByb2plY3RGbGF0Iix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5pc0dlb3NwYXRpYWw/T2JqZWN0KGQuaikodCk6dH19LHtrZXk6InVucHJvamVjdEZsYXQiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmlzR2Vvc3BhdGlhbD9PYmplY3QoZC5tKSh0KTp0fX0se2tleToiZ2V0RGlzdGFuY2VTY2FsZXMiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOm51bGw7cmV0dXJuIHQ/T2JqZWN0KGQuZSkoe2xvbmdpdHVkZTp0WzBdLGxhdGl0dWRlOnRbMV0saGlnaFByZWNpc2lvbjohMH0pOnRoaXMuZGlzdGFuY2VTY2FsZXN9fSx7a2V5OiJjb250YWluc1BpeGVsIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10Lngsbj10Lnkscj10LndpZHRoLGk9dm9pZCAwPT09cj8xOnIsYT10LmhlaWdodCxvPXZvaWQgMD09PWE/MTphO3JldHVybiBlPHRoaXMueCt0aGlzLndpZHRoJiZ0aGlzLng8ZStpJiZuPHRoaXMueSt0aGlzLmhlaWdodCYmdGhpcy55PG4rb319LHtrZXk6ImdldEZydXN0dW1QbGFuZXMiLHZhbHVlOmZ1bmN0aW9uKCl7aWYodGhpcy5fZnJ1c3R1bVBsYW5lcy5uZWFyKXJldHVybiB0aGlzLl9mcnVzdHVtUGxhbmVzO3ZhciB0PXRoaXMucHJvamVjdGlvblByb3BzLGU9dC5uZWFyLG49dC5mYXIscj10LmZvdnlSYWRpYW5zLGk9dC5hc3BlY3Q7cmV0dXJuIE9iamVjdC5hc3NpZ24odGhpcy5fZnJ1c3R1bVBsYW5lcyxPYmplY3QobC5kKSh7YXNwZWN0OmksbmVhcjplLGZhcjpuLGZvdnlSYWRpYW5zOnIscG9zaXRpb246dGhpcy5jYW1lcmFQb3NpdGlvbixkaXJlY3Rpb246dGhpcy5jYW1lcmFEaXJlY3Rpb24sdXA6dGhpcy5jYW1lcmFVcCxyaWdodDp0aGlzLmNhbWVyYVJpZ2h0fSkpLHRoaXMuX2ZydXN0dW1QbGFuZXN9fSx7a2V5OiJnZXRDYW1lcmFQb3NpdGlvbiIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jYW1lcmFQb3NpdGlvbn19LHtrZXk6ImdldENhbWVyYURpcmVjdGlvbiIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jYW1lcmFEaXJlY3Rpb259fSx7a2V5OiJnZXRDYW1lcmFVcCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jYW1lcmFVcH19LHtrZXk6Il9jcmVhdGVQcm9qZWN0aW9uTWF0cml4Iix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10Lm9ydGhvZ3JhcGhpYyxuPXQuZm92eVJhZGlhbnMscj10LmFzcGVjdCxpPXQuZm9jYWxEaXN0YW5jZSxhPXQubmVhcixvPXQuZmFyO3JldHVybiBlPyhuZXcgaC5hKS5vcnRob2dyYXBoaWMoe2Zvdnk6bixhc3BlY3Q6cixmb2NhbERpc3RhbmNlOmksbmVhcjphLGZhcjpvfSk6KG5ldyBoLmEpLnBlcnNwZWN0aXZlKHtmb3Z5Om4sYXNwZWN0OnIsbmVhcjphLGZhcjpvfSl9fSx7a2V5OiJfaW5pdFZpZXdNYXRyaXgiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXQudmlld01hdHJpeCxuPXZvaWQgMD09PWU/ZzplLHI9dC5sb25naXR1ZGUsaT12b2lkIDA9PT1yP251bGw6cixhPXQubGF0aXR1ZGUsbz12b2lkIDA9PT1hP251bGw6YSxzPXQuem9vbSx1PXZvaWQgMD09PXM/bnVsbDpzLGM9dC5wb3NpdGlvbixsPXZvaWQgMD09PWM/bnVsbDpjLGY9dC5tb2RlbE1hdHJpeCx2PXZvaWQgMD09PWY/bnVsbDpmLHA9dC5mb2NhbERpc3RhbmNlLGI9dm9pZCAwPT09cD8xOnAsXz10LmRpc3RhbmNlU2NhbGVzLE89dm9pZCAwPT09Xz9udWxsOl87dGhpcy5pc0dlb3NwYXRpYWw9TnVtYmVyLmlzRmluaXRlKG8pJiZOdW1iZXIuaXNGaW5pdGUoaSksdGhpcy56b29tPXUsTnVtYmVyLmlzRmluaXRlKHRoaXMuem9vbSl8fCh0aGlzLnpvb209dGhpcy5pc0dlb3NwYXRpYWw/T2JqZWN0KGQuZykoe2xhdGl0dWRlOm99KStNYXRoLmxvZzIoYik6MCk7dmFyIHg9TWF0aC5wb3coMix0aGlzLnpvb20pO3RoaXMuc2NhbGU9eCx0aGlzLmRpc3RhbmNlU2NhbGVzPXRoaXMuaXNHZW9zcGF0aWFsP09iamVjdChkLmUpKHtsYXRpdHVkZTpvLGxvbmdpdHVkZTppfSk6T3x8bSx0aGlzLmZvY2FsRGlzdGFuY2U9Yix0aGlzLmRpc3RhbmNlU2NhbGVzLm1ldGVyc1BlclVuaXQ9bmV3IGguZCh0aGlzLmRpc3RhbmNlU2NhbGVzLm1ldGVyc1BlclVuaXQpLHRoaXMuZGlzdGFuY2VTY2FsZXMudW5pdHNQZXJNZXRlcj1uZXcgaC5kKHRoaXMuZGlzdGFuY2VTY2FsZXMudW5pdHNQZXJNZXRlciksdGhpcy5wb3NpdGlvbj15LHRoaXMubWV0ZXJPZmZzZXQ9eSxsJiYodGhpcy5wb3NpdGlvbj1sLHRoaXMubW9kZWxNYXRyaXg9dix0aGlzLm1ldGVyT2Zmc2V0PXY/di50cmFuc2Zvcm1WZWN0b3IobCk6bCksdGhpcy5pc0dlb3NwYXRpYWw/KHRoaXMubG9uZ2l0dWRlPWksdGhpcy5sYXRpdHVkZT1vLHRoaXMuY2VudGVyPXRoaXMuX2dldENlbnRlckluV29ybGQoe2xvbmdpdHVkZTppLGxhdGl0dWRlOm99KSk6dGhpcy5jZW50ZXI9bD90aGlzLnByb2plY3RQb3NpdGlvbihsKTpbMCwwLDBdLHRoaXMudmlld01hdHJpeFVuY2VudGVyZWQ9bix0aGlzLnZpZXdNYXRyaXg9KG5ldyBoLmEpLm11bHRpcGx5UmlnaHQodGhpcy52aWV3TWF0cml4VW5jZW50ZXJlZCkudHJhbnNsYXRlKG5ldyBoLmQodGhpcy5jZW50ZXJ8fHkpLm5lZ2F0ZSgpKX19LHtrZXk6Il9nZXRDZW50ZXJJbldvcmxkIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10LmxvbmdpdHVkZSxuPXQubGF0aXR1ZGUscj10aGlzLm1ldGVyT2Zmc2V0LGk9dGhpcy5kaXN0YW5jZVNjYWxlcyxhPXRoaXMucHJvamVjdEZsYXQoW2Usbl0pLG89bmV3IGguZChhWzBdLGFbMV0sMCk7aWYocil7dmFyIHM9bmV3IGguZChyKS5zY2FsZShpLnVuaXRzUGVyTWV0ZXIpO28uYWRkKHMpfXJldHVybiBvfX0se2tleToiX2luaXRQcm9qZWN0aW9uTWF0cml4Iix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10LnByb2plY3Rpb25NYXRyaXgsbj12b2lkIDA9PT1lP251bGw6ZSxyPXQub3J0aG9ncmFwaGljLGk9dm9pZCAwIT09ciYmcixhPXQuZm92eVJhZGlhbnMsbz10LmZvdnkscz12b2lkIDA9PT1vPzc1Om8sdT10Lm5lYXIsYz12b2lkIDA9PT11Py4xOnUsbD10LmZhcixoPXZvaWQgMD09PWw/MWUzOmwsZj10LmZvY2FsRGlzdGFuY2UsZD12b2lkIDA9PT1mPzE6Zjt0aGlzLnByb2plY3Rpb25Qcm9wcz17b3J0aG9ncmFwaGljOmksZm92eVJhZGlhbnM6YXx8cypwLGFzcGVjdDp0aGlzLndpZHRoL3RoaXMuaGVpZ2h0LGZvY2FsRGlzdGFuY2U6ZCxuZWFyOmMsZmFyOmh9LHRoaXMucHJvamVjdGlvbk1hdHJpeD1ufHx0aGlzLl9jcmVhdGVQcm9qZWN0aW9uTWF0cml4KHRoaXMucHJvamVjdGlvblByb3BzKX19LHtrZXk6Il9pbml0UGl4ZWxNYXRyaWNlcyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD1PYmplY3QobC5hKSgpO2YuZih0LHQsdGhpcy5wcm9qZWN0aW9uTWF0cml4KSxmLmYodCx0LHRoaXMudmlld01hdHJpeCksdGhpcy52aWV3UHJvamVjdGlvbk1hdHJpeD10LHRoaXMudmlld01hdHJpeEludmVyc2U9Zi5kKFtdLHRoaXMudmlld01hdHJpeCl8fHRoaXMudmlld01hdHJpeDt2YXIgZT1PYmplY3QobC5iKSh7dmlld01hdHJpeDp0aGlzLnZpZXdNYXRyaXgsdmlld01hdHJpeEludmVyc2U6dGhpcy52aWV3TWF0cml4SW52ZXJzZX0pLG49ZS5leWUscj1lLmRpcmVjdGlvbixpPWUudXAsYT1lLnJpZ2h0O3RoaXMuY2FtZXJhUG9zaXRpb249bix0aGlzLmNhbWVyYURpcmVjdGlvbj1yLHRoaXMuY2FtZXJhVXA9aSx0aGlzLmNhbWVyYVJpZ2h0PWE7dmFyIG89T2JqZWN0KGwuYSkoKSxzPU9iamVjdChsLmEpKCk7Zi5tKG8sbyxbdGhpcy53aWR0aC8yLC10aGlzLmhlaWdodC8yLDFdKSxmLm4obyxvLFsxLC0xLDBdKSxmLmYocyxvLHRoaXMudmlld1Byb2plY3Rpb25NYXRyaXgpLHRoaXMucGl4ZWxQcm9qZWN0aW9uTWF0cml4PXMsdGhpcy52aWV3cG9ydE1hdHJpeD1vLHRoaXMucGl4ZWxVbnByb2plY3Rpb25NYXRyaXg9Zi5kKE9iamVjdChsLmEpKCksdGhpcy5waXhlbFByb2plY3Rpb25NYXRyaXgpLHRoaXMucGl4ZWxVbnByb2plY3Rpb25NYXRyaXh8fGMuYS53YXJuKCJQaXhlbCBwcm9qZWN0IG1hdHJpeCBub3QgaW52ZXJ0aWJsZSIpKCl9fSx7a2V5OiJtZXRlcnNQZXJQaXhlbCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZGlzdGFuY2VTY2FsZXMubWV0ZXJzUGVyVW5pdFsyXS90aGlzLnNjYWxlfX0se2tleToicHJvamVjdGlvbk1vZGUiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmlzR2Vvc3BhdGlhbD90aGlzLnpvb208MTI/di5jLldFQl9NRVJDQVRPUjp2LmMuV0VCX01FUkNBVE9SX0FVVE9fT0ZGU0VUOnYuYy5JREVOVElUWX19XSksdH0oKTtiLmRpc3BsYXlOYW1lPSJWaWV3cG9ydCJ9LGZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gcih0KXt2YXIgZT10LnNvdXJjZSxuPXQudGFyZ2V0LHI9dC5zdGFydCxpPXZvaWQgMD09PXI/MDpyLGE9dC5lbmQsbz10LmdldERhdGE7YT1hfHxuLmxlbmd0aDt2YXIgcz1lLmxlbmd0aCx1PWEtaTtpZihzPnUpbi5zZXQoZS5zdWJhcnJheSgwLHUpLGkpO2Vsc2UgaWYobi5zZXQoZSxpKSxvKWZvcih2YXIgYz1zO2M8dTspZm9yKHZhciBsPW8oYyxlKSxoPTA7aDxsLmxlbmd0aDtoKyspbltpK2NdPWxbaF0sYysrfW4uZChlLCJlIiwoZnVuY3Rpb24oKXtyZXR1cm4gYX0pKSxuLmQoZSwiZCIsKGZ1bmN0aW9uKCl7cmV0dXJuIG99KSksbi5kKGUsImMiLChmdW5jdGlvbigpe3JldHVybiBzfSkpLG4uZChlLCJhIiwoZnVuY3Rpb24oKXtyZXR1cm4gdX0pKSxuLmQoZSwiYiIsKGZ1bmN0aW9uKCl7cmV0dXJuIGN9KSksbi5kKGUsImYiLChmdW5jdGlvbigpe3JldHVybiBsfSkpO3ZhciBpPXtpbnRlcnBvbGF0aW9uOntkdXJhdGlvbjowLGVhc2luZzpmdW5jdGlvbih0KXtyZXR1cm4gdH19LHNwcmluZzp7c3RpZmZuZXNzOi4wNSxkYW1waW5nOi41fX07ZnVuY3Rpb24gYSh0LGUpe3JldHVybiB0PyhOdW1iZXIuaXNGaW5pdGUodCkmJih0PXtkdXJhdGlvbjp0fSksdC50eXBlPXQudHlwZXx8ImludGVycG9sYXRpb24iLE9iamVjdC5hc3NpZ24oe30saVt0LnR5cGVdLGUsdCkpOm51bGx9ZnVuY3Rpb24gbyh0LGUpe3JldHVybiBlLmdldEJ1ZmZlcigpP1tlLmdldEJ1ZmZlcigpLHtkaXZpc29yOjAsc2l6ZTplLnNpemUsbm9ybWFsaXplZDplLnNldHRpbmdzLm5vcm1hbGl6ZWR9XTplLnZhbHVlfWZ1bmN0aW9uIHModCl7c3dpdGNoKHQpe2Nhc2UgMTpyZXR1cm4iZmxvYXQiO2Nhc2UgMjpyZXR1cm4idmVjMiI7Y2FzZSAzOnJldHVybiJ2ZWMzIjtjYXNlIDQ6cmV0dXJuInZlYzQiO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKCdObyBkZWZpbmVkIGF0dHJpYnV0ZSB0eXBlIGZvciBzaXplICInLmNvbmNhdCh0LCciJykpfX1mdW5jdGlvbiB1KHQpe3QucHVzaCh0LnNoaWZ0KCkpfWZ1bmN0aW9uIGModCxlKXt2YXIgbj10LmRvdWJsZVByZWNpc2lvbixyPXQuc2V0dGluZ3MsaT10LnZhbHVlLGE9dC5zaXplLG89bj8yOjE7cmV0dXJuKHIubm9BbGxvYz9pLmxlbmd0aDplKmEpKm99ZnVuY3Rpb24gbCh0KXt2YXIgZT10LmJ1ZmZlcixuPXQubnVtSW5zdGFuY2VzLGk9dC5hdHRyaWJ1dGUsYT10LmZyb21MZW5ndGgsbz10LmZyb21TdGFydEluZGljZXMscz10LmdldERhdGEsdT12b2lkIDA9PT1zP2Z1bmN0aW9uKHQpe3JldHVybiB0fTpzLGw9aS5kb3VibGVQcmVjaXNpb24/MjoxLGg9aS5zaXplKmwsZj1pLmJ5dGVPZmZzZXQsZD1pLnN0YXJ0SW5kaWNlcyx2PW8mJmQscD1jKGksbiksZz1pLnN0YXRlLmNvbnN0YW50O2lmKHZ8fCEoYT49cCkpe3ZhciB5PWc/aS52YWx1ZTppLmdldEJ1ZmZlcigpLmdldERhdGEoe3NyY0J5dGVPZmZzZXQ6Zn0pO2lmKGkuc2V0dGluZ3Mubm9ybWFsaXplZCYmIWcpe3ZhciBtPXU7dT1mdW5jdGlvbih0LGUpe3JldHVybiBpLl9ub3JtYWxpemVDb25zdGFudChtKHQsZSkpfX12YXIgYj1nP2Z1bmN0aW9uKHQsZSl7cmV0dXJuIHUoeSxlKX06ZnVuY3Rpb24odCxlKXtyZXR1cm4gdSh5LnN1YmFycmF5KHQsdCtoKSxlKX0sXz1lLmdldERhdGEoe2xlbmd0aDphfSksTz1uZXcgRmxvYXQzMkFycmF5KHApOyFmdW5jdGlvbih0KXt2YXIgZT10LnNvdXJjZSxuPXQudGFyZ2V0LGk9dC5zaXplLGE9dC5nZXREYXRhLG89dC5zb3VyY2VTdGFydEluZGljZXMscz10LnRhcmdldFN0YXJ0SW5kaWNlcztpZighQXJyYXkuaXNBcnJheShzKSlyZXR1cm4gcih7c291cmNlOmUsdGFyZ2V0Om4sZ2V0RGF0YTphfSksbjtmb3IodmFyIHU9MCxjPTAsbD1hJiZmdW5jdGlvbih0LGUpe3JldHVybiBhKHQrYyxlKX0saD1NYXRoLm1pbihvLmxlbmd0aCxzLmxlbmd0aCksZj0xO2Y8aDtmKyspe3ZhciBkPW9bZl0qaSx2PXNbZl0qaTtyKHtzb3VyY2U6ZS5zdWJhcnJheSh1LGQpLHRhcmdldDpuLHN0YXJ0OmMsZW5kOnYsZ2V0RGF0YTpsfSksdT1kLGM9dn1jPG4ubGVuZ3RoJiZyKHtzb3VyY2U6W10sdGFyZ2V0Om4sc3RhcnQ6YyxnZXREYXRhOmx9KX0oe3NvdXJjZTpfLHRhcmdldDpPLHNvdXJjZVN0YXJ0SW5kaWNlczpvLHRhcmdldFN0YXJ0SW5kaWNlczpkLHNpemU6aCxnZXREYXRhOmJ9KSxlLmJ5dGVMZW5ndGg8Ty5ieXRlTGVuZ3RoK2YmJmUucmVhbGxvY2F0ZShPLmJ5dGVMZW5ndGgrZiksZS5zdWJEYXRhKHtkYXRhOk8sb2Zmc2V0OmZ9KX19fSxmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oOCksaT1uKDYpLGE9big3KSxvPW4oMTcpLHM9bigxNSksdT1uKDE4KSxjPW4oMTY3KSxsPW4oMjEpLGg9bigyNyksZj1uKDY3KSxkPW4oODkpLHY9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3ZhciB0LG49YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOjAscj1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06MDtyZXR1cm4gT2JqZWN0KGkuYSkodGhpcyxlKSx0PU9iamVjdChvLmEpKHRoaXMsT2JqZWN0KHMuYSkoZSkuY2FsbCh0aGlzLDIpKSxPYmplY3QobC5mKShuKSYmMT09PWFyZ3VtZW50cy5sZW5ndGg/dC5jb3B5KG4pOihsLmIuZGVidWcmJihPYmplY3QoaC5hKShuKSxPYmplY3QoaC5hKShyKSksdFswXT1uLHRbMV09ciksdH1yZXR1cm4gT2JqZWN0KHUuYSkoZSx0KSxPYmplY3QoYS5hKShlLFt7a2V5OiJzZXQiLHZhbHVlOmZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gdGhpc1swXT10LHRoaXNbMV09ZSx0aGlzLmNoZWNrKCl9fSx7a2V5OiJjb3B5Iix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpc1swXT10WzBdLHRoaXNbMV09dFsxXSx0aGlzLmNoZWNrKCl9fSx7a2V5OiJmcm9tT2JqZWN0Iix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gbC5iLmRlYnVnJiYoT2JqZWN0KGguYSkodC54KSxPYmplY3QoaC5hKSh0LnkpKSx0aGlzWzBdPXQueCx0aGlzWzFdPXQueSx0aGlzLmNoZWNrKCl9fSx7a2V5OiJ0b09iamVjdCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHQueD10aGlzWzBdLHQueT10aGlzWzFdLHR9fSx7a2V5OiJob3Jpem9udGFsQW5nbGUiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIE1hdGguYXRhbjIodGhpcy55LHRoaXMueCl9fSx7a2V5OiJ2ZXJ0aWNhbEFuZ2xlIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiBNYXRoLmF0YW4yKHRoaXMueCx0aGlzLnkpfX0se2tleToidHJhbnNmb3JtIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy50cmFuc2Zvcm1Bc1BvaW50KHQpfX0se2tleToidHJhbnNmb3JtQXNQb2ludCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIGYuZih0aGlzLHRoaXMsdCksdGhpcy5jaGVjaygpfX0se2tleToidHJhbnNmb3JtQXNWZWN0b3IiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3QoZC5hKSh0aGlzLHRoaXMsdCksdGhpcy5jaGVjaygpfX0se2tleToidHJhbnNmb3JtQnlNYXRyaXgzIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gZi5lKHRoaXMsdGhpcyx0KSx0aGlzLmNoZWNrKCl9fSx7a2V5OiJ0cmFuc2Zvcm1CeU1hdHJpeDJ4MyIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIGYuZCh0aGlzLHRoaXMsdCksdGhpcy5jaGVjaygpfX0se2tleToidHJhbnNmb3JtQnlNYXRyaXgyIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gZi5jKHRoaXMsdGhpcyx0KSx0aGlzLmNoZWNrKCl9fSx7a2V5OiJFTEVNRU5UUyIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIDJ9fV0pLGV9KGMuYSkscD1uKDE0OCksZz1uKDE5OCkseT1uKDIxOSksbT17RVBTSUxPTjE6LjEsRVBTSUxPTjI6LjAxLEVQU0lMT04zOi4wMDEsRVBTSUxPTjQ6MWUtNCxFUFNJTE9ONToxZS01LEVQU0lMT042OjFlLTYsRVBTSUxPTjc6MWUtNyxFUFNJTE9OODoxZS04LEVQU0lMT045OjFlLTksRVBTSUxPTjEwOjFlLTEwLEVQU0lMT04xMToxZS0xMSxFUFNJTE9OMTI6MWUtMTIsRVBTSUxPTjEzOjFlLTEzLEVQU0lMT04xNDoxZS0xNCxFUFNJTE9OMTU6MWUtMTUsRVBTSUxPTjE2OjFlLTE2LEVQU0lMT04xNzoxZS0xNyxFUFNJTE9OMTg6MWUtMTgsRVBTSUxPTjE5OjFlLTE5LEVQU0lMT04yMDoxZS0yMCxQSV9PVkVSX1RXTzpNYXRoLlBJLzIsUElfT1ZFUl9GT1VSOk1hdGguUEkvNCxQSV9PVkVSX1NJWDpNYXRoLlBJLzYsVFdPX1BJOjIqTWF0aC5QSX0sYj1uKDMxKSxfPW4oMzYpLE89ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9LG49ZS5waGkscj1lLnRoZXRhLGE9ZS5yYWRpdXMsbz1lLmJlYXJpbmcscz1lLnBpdGNoLHU9KGUuYWx0aXR1ZGUsZS5yYWRpdXNTY2FsZSksYz12b2lkIDA9PT11PzYzNzFlMzp1O09iamVjdChpLmEpKHRoaXMsdCksMD09PWFyZ3VtZW50cy5sZW5ndGg/KHRoaXMucGhpPTAsdGhpcy50aGV0YT0wLHRoaXMucmFkaXVzPTEpOk51bWJlci5pc0Zpbml0ZShuKXx8TnVtYmVyLmlzRmluaXRlKHIpPyh0aGlzLnBoaT1ufHwwLHRoaXMudGhldGE9cnx8MCk6KE51bWJlci5pc0Zpbml0ZShvKXx8TnVtYmVyLmlzRmluaXRlKHMpKSYmKHRoaXMuYmVhcmluZz1vfHwwLHRoaXMucGl0Y2g9c3x8MCksdGhpcy5yYWRpdXM9YXx8MSx0aGlzLnJhZGl1c1NjYWxlPWN8fDEsdGhpcy5jaGVjaygpfXJldHVybiBPYmplY3QoYS5hKSh0LFt7a2V5OiJ0b1N0cmluZyIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5mb3JtYXRTdHJpbmcobC5iKX19LHtrZXk6ImZvcm1hdFN0cmluZyIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dC5wcmludFR5cGVzLG49KHQucHJpbnREZWdyZWVzLGwuZSk7cmV0dXJuIiIuY29uY2F0KGU/IlNwaGVyaWNhbCI6IiIsIltyaG86IikuY29uY2F0KG4odGhpcy5yYWRpdXMpLCIsdGhldGE6IikuY29uY2F0KG4odGhpcy50aGV0YSksIixwaGk6IikuY29uY2F0KG4odGhpcy5waGkpLCJdIil9fSx7a2V5OiJlcXVhbHMiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3QobC5kKSh0aGlzLnJhZGl1cyx0LnJhZGl1cykmJk9iamVjdChsLmQpKHRoaXMudGhldGEsdC50aGV0YSkmJk9iamVjdChsLmQpKHRoaXMucGhpLHQucGhpKX19LHtrZXk6ImV4YWN0RXF1YWxzIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5yYWRpdXM9PT10LnJhZGl1cyYmdGhpcy50aGV0YT09PXQudGhldGEmJnRoaXMucGhpPT09dC5waGl9fSx7a2V5OiJzZXQiLHZhbHVlOmZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gdGhpcy5yYWRpdXM9dCx0aGlzLnBoaT1lLHRoaXMudGhldGE9bix0aGlzLmNoZWNrKCl9fSx7a2V5OiJjbG9uZSIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4obmV3IHRoaXMuY29uc3RydWN0b3IpLmNvcHkodGhpcyl9fSx7a2V5OiJjb3B5Iix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5yYWRpdXM9dC5yYWRpdXMsdGhpcy5waGk9dC5waGksdGhpcy50aGV0YT10LnRoZXRhLHRoaXMuY2hlY2soKX19LHtrZXk6ImZyb21MbmdMYXRaIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT1PYmplY3QoYi5hKSh0LDMpLG49ZVswXSxyPWVbMV0saT1lWzJdO3RoaXMucmFkaXVzPTEraS90aGlzLnJhZGl1c1NjYWxlLHRoaXMucGhpPU9iamVjdChsLmgpKHIpLHRoaXMudGhldGE9T2JqZWN0KGwuaCkobil9fSx7a2V5OiJmcm9tVmVjdG9yMyIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMucmFkaXVzPV8uZyh0KSx0aGlzLnJhZGl1cz4wJiYodGhpcy50aGV0YT1NYXRoLmF0YW4yKHRbMF0sdFsxXSksdGhpcy5waGk9TWF0aC5hY29zKE9iamVjdChsLmEpKHRbMl0vdGhpcy5yYWRpdXMsLTEsMSkpKSx0aGlzLmNoZWNrKCl9fSx7a2V5OiJ0b1ZlY3RvcjMiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBwLmEoMCwwLHRoaXMucmFkaXVzKS5yb3RhdGVYKHtyYWRpYW5zOnRoaXMudGhldGF9KS5yb3RhdGVaKHtyYWRpYW5zOnRoaXMucGhpfSl9fSx7a2V5OiJtYWtlU2FmZSIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLnBoaT1NYXRoLm1heCgxZS02LE1hdGgubWluKE1hdGguUEktMWUtNix0aGlzLnBoaSkpfX0se2tleToiY2hlY2siLHZhbHVlOmZ1bmN0aW9uKCl7aWYoIShOdW1iZXIuaXNGaW5pdGUodGhpcy5waGkpJiZOdW1iZXIuaXNGaW5pdGUodGhpcy50aGV0YSkmJnRoaXMucmFkaXVzPjApKXRocm93IG5ldyBFcnJvcigiU3BoZXJpY2FsQ29vcmRpbmF0ZXM6IHNvbWUgZmllbGRzIHNldCB0byBpbnZhbGlkIG51bWJlcnMiKTtyZXR1cm4gdGhpc319LHtrZXk6ImJlYXJpbmciLGdldDpmdW5jdGlvbigpe3JldHVybiAxODAtT2JqZWN0KGwuYykodGhpcy5waGkpfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5waGk9TWF0aC5QSS1PYmplY3QobC5oKSh0KX19LHtrZXk6InBpdGNoIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gT2JqZWN0KGwuYykodGhpcy50aGV0YSl9LHNldDpmdW5jdGlvbih0KXt0aGlzLnRoZXRhPU9iamVjdChsLmgpKHQpfX0se2tleToibG9uZ2l0dWRlIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gT2JqZWN0KGwuYykodGhpcy5waGkpfX0se2tleToibGF0aXR1ZGUiLGdldDpmdW5jdGlvbigpe3JldHVybiBPYmplY3QobC5jKSh0aGlzLnRoZXRhKX19LHtrZXk6ImxuZyIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIE9iamVjdChsLmMpKHRoaXMucGhpKX19LHtrZXk6ImxhdCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIE9iamVjdChsLmMpKHRoaXMudGhldGEpfX0se2tleToieiIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuKHRoaXMucmFkaXVzLTEpKnRoaXMucmFkaXVzU2NhbGV9fV0pLHR9KCkseD1uKDgzKTtuLmQoZSwiYyIsKGZ1bmN0aW9uKCl7cmV0dXJuIHZ9KSksbi5kKGUsImQiLChmdW5jdGlvbigpe3JldHVybiBwLmF9KSksbi5kKGUsImEiLChmdW5jdGlvbigpe3JldHVybiBnLmF9KSksbi5kKGUsImIiLChmdW5jdGlvbigpe3JldHVybiB5LmF9KSksbi5kKGUsImkiLChmdW5jdGlvbigpe3JldHVybiBsLmJ9KSksbi5kKGUsImsiLChmdW5jdGlvbigpe3JldHVybiBsLmZ9KSksbi5kKGUsImoiLChmdW5jdGlvbigpe3JldHVybiBsLmR9KSksbi5kKGUsIm4iLChmdW5jdGlvbigpe3JldHVybiBsLmp9KSksbi5kKGUsIm0iLChmdW5jdGlvbigpe3JldHVybiBsLml9KSksbi5kKGUsImgiLChmdW5jdGlvbigpe3JldHVybiBsLmF9KSksbi5kKGUsImwiLChmdW5jdGlvbigpe3JldHVybiBsLmd9KSksbi5kKGUsImUiLChmdW5jdGlvbigpe3JldHVybiBtfSkpLG4uZChlLCJmIiwoZnVuY3Rpb24oKXtyZXR1cm4gT30pKSxuLmQoZSwiZyIsKGZ1bmN0aW9uKCl7cmV0dXJuIHguYX0pKTt2YXIgdz17c2VsZjoidW5kZWZpbmVkIiE9dHlwZW9mIHNlbGYmJnNlbGYsd2luZG93OiJ1bmRlZmluZWQiIT10eXBlb2Ygd2luZG93JiZ3aW5kb3csZ2xvYmFsOiJ1bmRlZmluZWQiIT10eXBlb2YgZ2xvYmFsJiZnbG9iYWx9Oyh3Lmdsb2JhbHx8dy5zZWxmfHx3LndpbmRvdykubWF0aGdsPXtjb25maWc6ci5pfX0sZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0IjtuLmQoZSwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIHN9KSksbi5kKGUsImIiLChmdW5jdGlvbigpe3JldHVybiB1fSkpO3ZhciByPW4oMCksaT1uKDk2KTtmdW5jdGlvbiBhKHQsZSl7dmFyIG49T2JqZWN0LmtleXModCk7aWYoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyl7dmFyIHI9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyh0KTtlJiYocj1yLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodCxlKS5lbnVtZXJhYmxlfSkpKSxuLnB1c2guYXBwbHkobixyKX1yZXR1cm4gbn1mdW5jdGlvbiBvKHQpe2Zvcih2YXIgZT0xO2U8YXJndW1lbnRzLmxlbmd0aDtlKyspe3ZhciBuPW51bGwhPWFyZ3VtZW50c1tlXT9hcmd1bWVudHNbZV06e307ZSUyP2EoT2JqZWN0KG4pLCEwKS5mb3JFYWNoKChmdW5jdGlvbihlKXtPYmplY3Qoci5hKSh0LGUsbltlXSl9KSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXModCxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhuKSk6YShPYmplY3QobikpLmZvckVhY2goKGZ1bmN0aW9uKGUpe09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LGUsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihuLGUpKX0pKX1yZXR1cm4gdH1mdW5jdGlvbiBzKHQpe2lmKCF0KXJldHVybiExO0FycmF5LmlzQXJyYXkodCkmJih0PXRbMF0pO3ZhciBlPXQucGFyc2VUZXh0U3luY3x8dC5wYXJzZVN5bmN8fHQucGFyc2V8fHQucGFyc2VTdHJlYW18fHQucGFyc2VJbkJhdGNoZXMsbj10Lm9wdGlvbnMmJnQub3B0aW9uc1t0LmlkXTtyZXR1cm4gZT1lfHxuJiZuLndvcmtlclVybH1mdW5jdGlvbiB1KHQpe3ZhciBlO3JldHVybiBPYmplY3QoaS5hKSh0LCJudWxsIGxvYWRlciIpLE9iamVjdChpLmEpKHModCksImludmFsaWQgbG9hZGVyIiksQXJyYXkuaXNBcnJheSh0KSYmKGU9dFsxXSx0PW8oe30sdD10WzBdLHtvcHRpb25zOm8oe30sdC5vcHRpb25zLHt9LGUpfSkpLHQuZXh0ZW5zaW9uJiYodC5leHRlbnNpb25zPXQuZXh0ZW5zaW9uc3x8dC5leHRlbnNpb24sZGVsZXRlIHQuZXh0ZW5zaW9uKSxBcnJheS5pc0FycmF5KHQuZXh0ZW5zaW9ucyl8fCh0LmV4dGVuc2lvbnM9W3QuZXh0ZW5zaW9uc10pLE9iamVjdChpLmEpKHQuZXh0ZW5zaW9ucyYmdC5leHRlbnNpb25zLmxlbmd0aD4wJiZ0LmV4dGVuc2lvbnNbMF0pLHQucGFyc2VUZXh0U3luYyYmKHQudGV4dD0hMCksdC50ZXh0fHwodC5iaW5hcnk9ITApLHR9fSxmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO24uZChlLCJhIiwoZnVuY3Rpb24oKXtyZXR1cm4gaX0pKSxuLmQoZSwiZSIsKGZ1bmN0aW9uKCl7cmV0dXJuIGF9KSksbi5kKGUsImIiLChmdW5jdGlvbigpe3JldHVybiBvfSkpLG4uZChlLCJkIiwoZnVuY3Rpb24oKXtyZXR1cm4gc30pKSxuLmQoZSwiYyIsKGZ1bmN0aW9uKCl7cmV0dXJuIHV9KSksbi5kKGUsImciLChmdW5jdGlvbigpe3JldHVybiBjfSkpLG4uZChlLCJoIiwoZnVuY3Rpb24oKXtyZXR1cm4gbH0pKSxuLmQoZSwiZiIsKGZ1bmN0aW9uKCl7cmV0dXJuIGR9KSk7dmFyIHI9bigxNik7ZnVuY3Rpb24gaSh0LGUsbil7cmV0dXJuIHRbMF09ZVswXStuWzBdLHRbMV09ZVsxXStuWzFdLHR9ZnVuY3Rpb24gYSh0LGUsbil7cmV0dXJuIHRbMF09ZVswXSpuLHRbMV09ZVsxXSpuLHR9ZnVuY3Rpb24gbyh0KXt2YXIgZT10WzBdLG49dFsxXTtyZXR1cm4gTWF0aC5oeXBvdChlLG4pfWZ1bmN0aW9uIHModCxlKXtyZXR1cm4gdFswXT0tZVswXSx0WzFdPS1lWzFdLHR9ZnVuY3Rpb24gdSh0LGUsbixyKXt2YXIgaT1lWzBdLGE9ZVsxXTtyZXR1cm4gdFswXT1pK3IqKG5bMF0taSksdFsxXT1hK3IqKG5bMV0tYSksdH1mdW5jdGlvbiBjKHQsZSxuKXt2YXIgcj1lWzBdLGk9ZVsxXTtyZXR1cm4gdFswXT1uWzBdKnIrblszXSppK25bNl0sdFsxXT1uWzFdKnIrbls0XSppK25bN10sdH1mdW5jdGlvbiBsKHQsZSxuKXt2YXIgcj1lWzBdLGk9ZVsxXTtyZXR1cm4gdFswXT1uWzBdKnIrbls0XSppK25bMTJdLHRbMV09blsxXSpyK25bNV0qaStuWzEzXSx0fXZhciBoLGYsZD1mdW5jdGlvbih0LGUsbil7cmV0dXJuIHRbMF09ZVswXS1uWzBdLHRbMV09ZVsxXS1uWzFdLHR9O2g9bmV3IHIuYSgyKSxyLmEhPUZsb2F0MzJBcnJheSYmKGhbMF09MCxoWzFdPTApLGY9aH0sZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0IjtuLmQoZSwiYyIsKGZ1bmN0aW9uKCl7cmV0dXJuIGF9KSksbi5kKGUsImIiLChmdW5jdGlvbigpe3JldHVybiBzfSkpLG4uZChlLCJoIiwoZnVuY3Rpb24oKXtyZXR1cm4gdX0pKSxuLmQoZSwiZyIsKGZ1bmN0aW9uKCl7cmV0dXJuIGN9KSksbi5kKGUsImkiLChmdW5jdGlvbigpe3JldHVybiBsfSkpLG4uZChlLCJkIiwoZnVuY3Rpb24oKXtyZXR1cm4gaH0pKSxuLmQoZSwiZSIsKGZ1bmN0aW9uKCl7cmV0dXJuIGZ9KSksbi5kKGUsImYiLChmdW5jdGlvbigpe3JldHVybiBkfSkpLG4uZChlLCJhIiwoZnVuY3Rpb24oKXtyZXR1cm4gdn0pKTt2YXIgcj1uKDE2KTtmdW5jdGlvbiBpKHQsZSxuKXt2YXIgaT1uZXcgci5hKDMpO3JldHVybiBpWzBdPXQsaVsxXT1lLGlbMl09bixpfWZ1bmN0aW9uIGEodCxlKXtyZXR1cm4gdFswXT0tZVswXSx0WzFdPS1lWzFdLHRbMl09LWVbMl0sdH1mdW5jdGlvbiBvKHQsZSl7dmFyIG49ZVswXSxyPWVbMV0saT1lWzJdLGE9bipuK3IqcitpKmk7cmV0dXJuIGE+MCYmKGE9MS9NYXRoLnNxcnQoYSkpLHRbMF09ZVswXSphLHRbMV09ZVsxXSphLHRbMl09ZVsyXSphLHR9ZnVuY3Rpb24gcyh0LGUsbil7dmFyIHI9ZVswXSxpPWVbMV0sYT1lWzJdLG89blswXSxzPW5bMV0sdT1uWzJdO3JldHVybiB0WzBdPWkqdS1hKnMsdFsxXT1hKm8tcip1LHRbMl09cipzLWkqbyx0fWZ1bmN0aW9uIHUodCxlLG4pe3ZhciByPWVbMF0saT1lWzFdLGE9ZVsyXSxvPW5bM10qcituWzddKmkrblsxMV0qYStuWzE1XTtyZXR1cm4gbz1vfHwxLHRbMF09KG5bMF0qcituWzRdKmkrbls4XSphK25bMTJdKS9vLHRbMV09KG5bMV0qcituWzVdKmkrbls5XSphK25bMTNdKS9vLHRbMl09KG5bMl0qcituWzZdKmkrblsxMF0qYStuWzE0XSkvbyx0fWZ1bmN0aW9uIGModCxlLG4pe3ZhciByPWVbMF0saT1lWzFdLGE9ZVsyXTtyZXR1cm4gdFswXT1yKm5bMF0raSpuWzNdK2Eqbls2XSx0WzFdPXIqblsxXStpKm5bNF0rYSpuWzddLHRbMl09cipuWzJdK2kqbls1XSthKm5bOF0sdH1mdW5jdGlvbiBsKHQsZSxuKXt2YXIgcj1uWzBdLGk9blsxXSxhPW5bMl0sbz1uWzNdLHM9ZVswXSx1PWVbMV0sYz1lWzJdLGw9aSpjLWEqdSxoPWEqcy1yKmMsZj1yKnUtaSpzLGQ9aSpmLWEqaCx2PWEqbC1yKmYscD1yKmgtaSpsLGc9MipvO3JldHVybiBsKj1nLGgqPWcsZio9ZyxkKj0yLHYqPTIscCo9Mix0WzBdPXMrbCtkLHRbMV09dStoK3YsdFsyXT1jK2YrcCx0fWZ1bmN0aW9uIGgodCxlLG4scil7dmFyIGk9W10sYT1bXTtyZXR1cm4gaVswXT1lWzBdLW5bMF0saVsxXT1lWzFdLW5bMV0saVsyXT1lWzJdLW5bMl0sYVswXT1pWzBdLGFbMV09aVsxXSpNYXRoLmNvcyhyKS1pWzJdKk1hdGguc2luKHIpLGFbMl09aVsxXSpNYXRoLnNpbihyKStpWzJdKk1hdGguY29zKHIpLHRbMF09YVswXStuWzBdLHRbMV09YVsxXStuWzFdLHRbMl09YVsyXStuWzJdLHR9ZnVuY3Rpb24gZih0LGUsbixyKXt2YXIgaT1bXSxhPVtdO3JldHVybiBpWzBdPWVbMF0tblswXSxpWzFdPWVbMV0tblsxXSxpWzJdPWVbMl0tblsyXSxhWzBdPWlbMl0qTWF0aC5zaW4ocikraVswXSpNYXRoLmNvcyhyKSxhWzFdPWlbMV0sYVsyXT1pWzJdKk1hdGguY29zKHIpLWlbMF0qTWF0aC5zaW4ociksdFswXT1hWzBdK25bMF0sdFsxXT1hWzFdK25bMV0sdFsyXT1hWzJdK25bMl0sdH1mdW5jdGlvbiBkKHQsZSxuLHIpe3ZhciBpPVtdLGE9W107cmV0dXJuIGlbMF09ZVswXS1uWzBdLGlbMV09ZVsxXS1uWzFdLGlbMl09ZVsyXS1uWzJdLGFbMF09aVswXSpNYXRoLmNvcyhyKS1pWzFdKk1hdGguc2luKHIpLGFbMV09aVswXSpNYXRoLnNpbihyKStpWzFdKk1hdGguY29zKHIpLGFbMl09aVsyXSx0WzBdPWFbMF0rblswXSx0WzFdPWFbMV0rblsxXSx0WzJdPWFbMl0rblsyXSx0fWZ1bmN0aW9uIHYodCxlKXt2YXIgbj1pKHRbMF0sdFsxXSx0WzJdKSxyPWkoZVswXSxlWzFdLGVbMl0pO28obixuKSxvKHIscik7dmFyIGE9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdFswXSplWzBdK3RbMV0qZVsxXSt0WzJdKmVbMl19KG4scik7cmV0dXJuIGE+MT8wOmE8LTE/TWF0aC5QSTpNYXRoLmFjb3MoYSl9dmFyIHAsZztwPW5ldyByLmEoMyksci5hIT1GbG9hdDMyQXJyYXkmJihwWzBdPTAscFsxXT0wLHBbMl09MCksZz1wfSxmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO24uZChlLCJhIiwoZnVuY3Rpb24oKXtyZXR1cm4gYX0pKTt2YXIgcj1uKDEzOSksaT1uKDE0MCk7ZnVuY3Rpb24gYSh0LGUpe3JldHVybiFlfHwib2JqZWN0IiE9PU9iamVjdChyLmEpKGUpJiYiZnVuY3Rpb24iIT10eXBlb2YgZT9PYmplY3QoaS5hKSh0KTplfX0sZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0IjtuLmQoZSwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIGl9KSk7dmFyIHI9bigxMjMpO2Z1bmN0aW9uIGkodCxlKXtpZigiZnVuY3Rpb24iIT10eXBlb2YgZSYmbnVsbCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcigiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24iKTt0LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGUmJmUucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6dCx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksZSYmT2JqZWN0KHIuYSkodCxlKX19LGZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7bi5kKGUsImEiLChmdW5jdGlvbigpe3JldHVybiBhfSkpLG4uZChlLCJjIiwoZnVuY3Rpb24oKXtyZXR1cm4gb30pKSxuLmQoZSwiYiIsKGZ1bmN0aW9uKCl7cmV0dXJuIHN9KSk7dmFyIHI9W10saT1bXTtmdW5jdGlvbiBhKHQpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTowLG49YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOjEvMCxhPXIsbz17aW5kZXg6LTEsZGF0YTp0LHRhcmdldDpbXX07cmV0dXJuIHQ/ImZ1bmN0aW9uIj09dHlwZW9mIHRbU3ltYm9sLml0ZXJhdG9yXT9hPXQ6dC5sZW5ndGg+MCYmKGkubGVuZ3RoPXQubGVuZ3RoLGE9aSk6YT1yLChlPjB8fE51bWJlci5pc0Zpbml0ZShuKSkmJihhPShBcnJheS5pc0FycmF5KGEpP2E6QXJyYXkuZnJvbShhKSkuc2xpY2UoZSxuKSxvLmluZGV4PWUtMSkse2l0ZXJhYmxlOmEsb2JqZWN0SW5mbzpvfX1mdW5jdGlvbiBvKHQpe3JldHVybiB0JiZ0W1N5bWJvbC5hc3luY0l0ZXJhdG9yXX1mdW5jdGlvbiBzKHQsZSl7dmFyIG49ZS5zaXplLHI9ZS5zdHJpZGUsaT1lLm9mZnNldCxhPWUuc3RhcnRJbmRpY2VzLG89ZS5uZXN0ZWQscz10LkJZVEVTX1BFUl9FTEVNRU5ULHU9cj9yL3M6bixjPWk/aS9zOjAsbD1NYXRoLmZsb29yKCh0Lmxlbmd0aC1jKS91KTtyZXR1cm4gZnVuY3Rpb24oZSxyKXt2YXIgaT1yLmluZGV4LHM9ci50YXJnZXQ7aWYoIWEpe2Zvcih2YXIgaD1pKnUrYyxmPTA7ZjxuO2YrKylzW2ZdPXRbaCtmXTtyZXR1cm4gc312YXIgZCx2PWFbaV0scD1hW2krMV18fGw7aWYobyl7ZD1uZXcgQXJyYXkocC12KTtmb3IodmFyIGc9djtnPHA7ZysrKXt2YXIgeT1nKnUrYztzPW5ldyBBcnJheShuKTtmb3IodmFyIG09MDttPG47bSsrKXNbbV09dFt5K21dO2RbZy12XT1zfX1lbHNlIGlmKHU9PT1uKWQ9dC5zdWJhcnJheSh2Km4rYyxwKm4rYyk7ZWxzZXtkPW5ldyB0LmNvbnN0cnVjdG9yKChwLXYpKm4pO2Zvcih2YXIgYj0wLF89djtfPHA7XysrKWZvcih2YXIgTz1fKnUrYyx4PTA7eDxuO3grKylkW2IrK109dFtPK3hdfXJldHVybiBkfX19LCxmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO24uZChlLCJhIiwoZnVuY3Rpb24oKXtyZXR1cm4gbX0pKTt2YXIgcj1uKDYpLGk9bigxNyksYT1uKDE1KSxvPW4oNykscz1uKDE4KSx1PW4oNTIpLGM9big0OCksbD1uKDk3KSxoPW4oMTEpLGY9bigzNSksZD1uKDc2KSx2PW4oMTE1KSxwPW4oMjgpLGc9Wzk3MjksOTcyOF0seT1mLmdsb2JhbC5XZWJHTEJ1ZmZlcnx8ZnVuY3Rpb24oKXt9LG09ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSh0LG4pe3ZhciBvO09iamVjdChyLmEpKHRoaXMsZSk7dmFyIHM9bi5pZCx1PXZvaWQgMD09PXM/T2JqZWN0KHYuYykoInRleHR1cmUiKTpzLGM9bi5oYW5kbGUsbD1uLnRhcmdldDtyZXR1cm4obz1PYmplY3QoaS5hKSh0aGlzLE9iamVjdChhLmEpKGUpLmNhbGwodGhpcyx0LHtpZDp1LGhhbmRsZTpjfSkpKS50YXJnZXQ9bCxvLnRleHR1cmVVbml0PXZvaWQgMCxvLmxvYWRlZD0hMSxvLndpZHRoPXZvaWQgMCxvLmhlaWdodD12b2lkIDAsby5kZXB0aD12b2lkIDAsby5mb3JtYXQ9dm9pZCAwLG8udHlwZT12b2lkIDAsby5kYXRhRm9ybWF0PXZvaWQgMCxvLmJvcmRlcj12b2lkIDAsby50ZXh0dXJlVW5pdD12b2lkIDAsby5taXBtYXBzPXZvaWQgMCxvfXJldHVybiBPYmplY3Qocy5hKShlLHQpLE9iamVjdChvLmEpKGUsbnVsbCxbe2tleToiaXNTdXBwb3J0ZWQiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp7fSxuPWUuZm9ybWF0LHI9ZS5saW5lYXJGaWx0ZXJpbmcsaT0hMDtyZXR1cm4gbiYmKGk9KGk9aSYmT2JqZWN0KGwuZCkodCxuKSkmJighcnx8T2JqZWN0KGwuZSkodCxuKSkpLGl9fV0pLE9iamVjdChvLmEpKGUsW3trZXk6InRvU3RyaW5nIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiJUZXh0dXJlKCIuY29uY2F0KHRoaXMuaWQsIiwiKS5jb25jYXQodGhpcy53aWR0aCwieCIpLmNvbmNhdCh0aGlzLmhlaWdodCwiKSIpfX0se2tleToiaW5pdGlhbGl6ZSIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9LG49ZS5kYXRhO2lmKG4gaW5zdGFuY2VvZiBQcm9taXNlKXJldHVybiBuLnRoZW4oKGZ1bmN0aW9uKG4pe3JldHVybiB0LmluaXRpYWxpemUoT2JqZWN0LmFzc2lnbih7fSxlLHtwaXhlbHM6bixkYXRhOm59KSl9KSksdGhpczt2YXIgcj1lLnBpeGVscyxpPXZvaWQgMD09PXI/bnVsbDpyLGE9ZS5mb3JtYXQsbz12b2lkIDA9PT1hPzY0MDg6YSxzPWUuYm9yZGVyLHU9dm9pZCAwPT09cz8wOnMsYz1lLnJlY3JlYXRlLGw9dm9pZCAwIT09YyYmYyxmPWUucGFyYW1ldGVycyxkPXZvaWQgMD09PWY/e306Zix2PWUucGl4ZWxTdG9yZSxwPXZvaWQgMD09PXY/e306dixnPWUudGV4dHVyZVVuaXQseT12b2lkIDA9PT1nP3ZvaWQgMDpnLG09ZS5taXBtYXBzLGI9dm9pZCAwPT09bXx8bTtufHwobj1pKTt2YXIgXz1lLndpZHRoLE89ZS5oZWlnaHQseD1lLmRhdGFGb3JtYXQsdz1lLnR5cGUsaz1lLmRlcHRoLFM9dm9pZCAwPT09az8wOmssUD10aGlzLl9kZWR1Y2VQYXJhbWV0ZXJzKHtmb3JtYXQ6byx0eXBlOncsZGF0YUZvcm1hdDp4LGNvbXByZXNzZWQ6ITEsZGF0YTpuLHdpZHRoOl8saGVpZ2h0Ok99KTtyZXR1cm4gXz1QLndpZHRoLE89UC5oZWlnaHQseD1QLmRhdGFGb3JtYXQsdz1QLnR5cGUsdGhpcy53aWR0aD1fLHRoaXMuaGVpZ2h0PU8sdGhpcy5kZXB0aD1TLHRoaXMuZm9ybWF0PW8sdGhpcy50eXBlPXcsdGhpcy5kYXRhRm9ybWF0PXgsdGhpcy5ib3JkZXI9dSx0aGlzLnRleHR1cmVVbml0PXksTnVtYmVyLmlzRmluaXRlKHRoaXMudGV4dHVyZVVuaXQpJiYodGhpcy5nbC5hY3RpdmVUZXh0dXJlKDMzOTg0K3RoaXMudGV4dHVyZVVuaXQpLHRoaXMuZ2wuYmluZFRleHR1cmUodGhpcy50YXJnZXQsdGhpcy5oYW5kbGUpKSxiJiZ0aGlzLl9pc05QT1QoKSYmKGguaC53YXJuKCJ0ZXh0dXJlOiAiLmNvbmNhdCh0aGlzLCIgaXMgTm9uLVBvd2VyLU9mLVR3bywgZGlzYWJsaW5nIG1pcG1hcGluZyIpKSgpLGI9ITEsdGhpcy5fdXBkYXRlRm9yTlBPVChkKSksdGhpcy5taXBtYXBzPWIsdGhpcy5zZXRJbWFnZURhdGEoe2RhdGE6bix3aWR0aDpfLGhlaWdodDpPLGRlcHRoOlMsZm9ybWF0Om8sdHlwZTp3LGRhdGFGb3JtYXQ6eCxib3JkZXI6dSxtaXBtYXBzOmIscGFyYW1ldGVyczpwfSksYiYmdGhpcy5nZW5lcmF0ZU1pcG1hcCgpLHRoaXMuc2V0UGFyYW1ldGVycyhkKSxsJiYodGhpcy5kYXRhPW4pLHRoaXN9fSx7a2V5OiJyZXNpemUiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXQuaGVpZ2h0LG49dC53aWR0aCxyPXQubWlwbWFwcyxpPXZvaWQgMCE9PXImJnI7cmV0dXJuIG4hPT10aGlzLndpZHRofHxlIT09dGhpcy5oZWlnaHQ/dGhpcy5pbml0aWFsaXplKHt3aWR0aDpuLGhlaWdodDplLGZvcm1hdDp0aGlzLmZvcm1hdCx0eXBlOnRoaXMudHlwZSxkYXRhRm9ybWF0OnRoaXMuZGF0YUZvcm1hdCxib3JkZXI6dGhpcy5ib3JkZXIsbWlwbWFwczppfSk6dGhpc319LHtrZXk6ImdlbmVyYXRlTWlwbWFwIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMsZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e307cmV0dXJuIHRoaXMuX2lzTlBPVCgpPyhoLmgud2FybigidGV4dHVyZTogIi5jb25jYXQodGhpcywiIGlzIE5vbi1Qb3dlci1PZi1Ud28sIGRpc2FibGluZyBtaXBtYXBpbmciKSkoKSx0aGlzKToodGhpcy5taXBtYXBzPSEwLHRoaXMuZ2wuYmluZFRleHR1cmUodGhpcy50YXJnZXQsdGhpcy5oYW5kbGUpLE9iamVjdChoLmwpKHRoaXMuZ2wsZSwoZnVuY3Rpb24oKXt0LmdsLmdlbmVyYXRlTWlwbWFwKHQudGFyZ2V0KX0pKSx0aGlzLmdsLmJpbmRUZXh0dXJlKHRoaXMudGFyZ2V0LG51bGwpLHRoaXMpfX0se2tleToic2V0SW1hZ2VEYXRhIix2YWx1ZTpmdW5jdGlvbih0KXt0aGlzLl90cmFja0RlYWxsb2NhdGVkTWVtb3J5KCJUZXh0dXJlIik7dmFyIGU9dC50YXJnZXQsbj12b2lkIDA9PT1lP3RoaXMudGFyZ2V0OmUscj10LnBpeGVscyxpPXZvaWQgMD09PXI/bnVsbDpyLGE9dC5sZXZlbCxvPXZvaWQgMD09PWE/MDphLHM9dC5mb3JtYXQsdT12b2lkIDA9PT1zP3RoaXMuZm9ybWF0OnMsYz10LmJvcmRlcixmPXZvaWQgMD09PWM/dGhpcy5ib3JkZXI6Yyx2PXQub2Zmc2V0LGc9dm9pZCAwPT09dj8wOnYseT10LnBhcmFtZXRlcnMsbT12b2lkIDA9PT15P3t9OnksYj10LmRhdGEsXz12b2lkIDA9PT1iP251bGw6YixPPXQudHlwZSx4PXZvaWQgMD09PU8/dGhpcy50eXBlOk8sdz10LndpZHRoLGs9dm9pZCAwPT09dz90aGlzLndpZHRoOncsUz10LmhlaWdodCxQPXZvaWQgMD09PVM/dGhpcy5oZWlnaHQ6UyxqPXQuZGF0YUZvcm1hdCxUPXZvaWQgMD09PWo/dGhpcy5kYXRhRm9ybWF0OmosRT10LmNvbXByZXNzZWQsQT12b2lkIDAhPT1FJiZFO198fChfPWkpO3ZhciBNPXRoaXMuX2RlZHVjZVBhcmFtZXRlcnMoe2Zvcm1hdDp1LHR5cGU6eCxkYXRhRm9ybWF0OlQsY29tcHJlc3NlZDpBLGRhdGE6Xyx3aWR0aDprLGhlaWdodDpQfSk7eD1NLnR5cGUsVD1NLmRhdGFGb3JtYXQsQT1NLmNvbXByZXNzZWQsaz1NLndpZHRoLFA9TS5oZWlnaHQ7dmFyIEM9dGhpcy5nbDtDLmJpbmRUZXh0dXJlKHRoaXMudGFyZ2V0LHRoaXMuaGFuZGxlKTt2YXIgTCxJPXRoaXMuX2dldERhdGFUeXBlKHtkYXRhOl8sY29tcHJlc3NlZDpBfSk7aWYoXz1JLmRhdGEsTD1JLmRhdGFUeXBlLE9iamVjdChoLmwpKHRoaXMuZ2wsbSwoZnVuY3Rpb24oKXtzd2l0Y2goTCl7Y2FzZSJudWxsIjpDLnRleEltYWdlMkQobixvLHUsayxQLGYsVCx4LF8pO2JyZWFrO2Nhc2UidHlwZWQtYXJyYXkiOkMudGV4SW1hZ2UyRChuLG8sdSxrLFAsZixULHgsXyxnKTticmVhaztjYXNlImJ1ZmZlciI6T2JqZWN0KGQuYSkoQyksQy5iaW5kQnVmZmVyKDM1MDUyLF8uaGFuZGxlfHxfKSxDLnRleEltYWdlMkQobixvLHUsayxQLGYsVCx4LGcpLEMuYmluZEJ1ZmZlcigzNTA1MixudWxsKTticmVhaztjYXNlImJyb3dzZXItb2JqZWN0IjpPYmplY3QoaC5nKShDKT9DLnRleEltYWdlMkQobixvLHUsayxQLGYsVCx4LF8pOkMudGV4SW1hZ2UyRChuLG8sdSxULHgsXyk7YnJlYWs7Y2FzZSJjb21wcmVzc2VkIjpDLmNvbXByZXNzZWRUZXhJbWFnZTJEKG4sbyx1LGssUCxmLF8pO2JyZWFrO2RlZmF1bHQ6T2JqZWN0KHAuYSkoITEsIlVua25vd24gaW1hZ2UgZGF0YSB0eXBlIil9fSkpLF8mJl8uYnl0ZUxlbmd0aCl0aGlzLl90cmFja0FsbG9jYXRlZE1lbW9yeShfLmJ5dGVMZW5ndGgsIlRleHR1cmUiKTtlbHNle3ZhciBSPWwuYVt0aGlzLmRhdGFGb3JtYXRdfHw0LE49bC5jW3RoaXMudHlwZV18fDE7dGhpcy5fdHJhY2tBbGxvY2F0ZWRNZW1vcnkodGhpcy53aWR0aCp0aGlzLmhlaWdodCpSKk4sIlRleHR1cmUiKX1yZXR1cm4gdGhpcy5sb2FkZWQ9ITAsdGhpc319LHtrZXk6InNldFN1YkltYWdlRGF0YSIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcyxuPXQudGFyZ2V0LHI9dm9pZCAwPT09bj90aGlzLnRhcmdldDpuLGk9dC5waXhlbHMsYT12b2lkIDA9PT1pP251bGw6aSxvPXQuZGF0YSxzPXZvaWQgMD09PW8/bnVsbDpvLHU9dC54LGw9dm9pZCAwPT09dT8wOnUsZj10Lnksdj12b2lkIDA9PT1mPzA6ZixnPXQud2lkdGgsbT12b2lkIDA9PT1nP3RoaXMud2lkdGg6ZyxiPXQuaGVpZ2h0LF89dm9pZCAwPT09Yj90aGlzLmhlaWdodDpiLE89dC5sZXZlbCx4PXZvaWQgMD09PU8/MDpPLHc9dC5mb3JtYXQsaz12b2lkIDA9PT13P3RoaXMuZm9ybWF0OncsUz10LnR5cGUsUD12b2lkIDA9PT1TP3RoaXMudHlwZTpTLGo9dC5kYXRhRm9ybWF0LFQ9dm9pZCAwPT09aj90aGlzLmRhdGFGb3JtYXQ6aixFPXQuY29tcHJlc3NlZCxBPXZvaWQgMCE9PUUmJkUsTT10Lm9mZnNldCxDPXZvaWQgMD09PU0/MDpNLEw9dC5ib3JkZXIsST0odm9pZCAwPT09TCYmdGhpcy5ib3JkZXIsdC5wYXJhbWV0ZXJzKSxSPXZvaWQgMD09PUk/e306SSxOPXRoaXMuX2RlZHVjZVBhcmFtZXRlcnMoe2Zvcm1hdDprLHR5cGU6UCxkYXRhRm9ybWF0OlQsY29tcHJlc3NlZDpBLGRhdGE6cyx3aWR0aDptLGhlaWdodDpffSk7aWYoUD1OLnR5cGUsVD1OLmRhdGFGb3JtYXQsQT1OLmNvbXByZXNzZWQsbT1OLndpZHRoLF89Ti5oZWlnaHQsT2JqZWN0KHAuYSkoMD09PXRoaXMuZGVwdGgsInRleFN1YkltYWdlIG5vdCBzdXBwb3J0ZWQgZm9yIDNEIHRleHR1cmVzIiksc3x8KHM9YSkscyYmcy5kYXRhKXt2YXIgRD1zO3M9RC5kYXRhLG09RC5zaGFwZVswXSxfPUQuc2hhcGVbMV19cyBpbnN0YW5jZW9mIGMuYSYmKHM9cy5oYW5kbGUpLHRoaXMuZ2wuYmluZFRleHR1cmUodGhpcy50YXJnZXQsdGhpcy5oYW5kbGUpLE9iamVjdChoLmwpKHRoaXMuZ2wsUiwoZnVuY3Rpb24oKXtBP2UuZ2wuY29tcHJlc3NlZFRleFN1YkltYWdlMkQocix4LGwsdixtLF8sayxzKTpudWxsPT09cz9lLmdsLnRleFN1YkltYWdlMkQocix4LGwsdixtLF8sVCxQLG51bGwpOkFycmF5QnVmZmVyLmlzVmlldyhzKT9lLmdsLnRleFN1YkltYWdlMkQocix4LGwsdixtLF8sVCxQLHMsQyk6cyBpbnN0YW5jZW9mIHk/KE9iamVjdChkLmEpKGUuZ2wpLGUuZ2wuYmluZEJ1ZmZlcigzNTA1MixzKSxlLmdsLnRleFN1YkltYWdlMkQocix4LGwsdixtLF8sVCxQLEMpLGUuZ2wuYmluZEJ1ZmZlcigzNTA1MixudWxsKSk6T2JqZWN0KGguZykoZS5nbCk/ZS5nbC50ZXhTdWJJbWFnZTJEKHIseCxsLHYsbSxfLFQsUCxzKTplLmdsLnRleFN1YkltYWdlMkQocix4LGwsdixULFAscyl9KSksdGhpcy5nbC5iaW5kVGV4dHVyZSh0aGlzLnRhcmdldCxudWxsKX19LHtrZXk6ImNvcHlGcmFtZWJ1ZmZlciIsdmFsdWU6ZnVuY3Rpb24oKXthcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXSYmYXJndW1lbnRzWzBdO3JldHVybiBoLmguZXJyb3IoIlRleHR1cmUuY29weUZyYW1lYnVmZmVyKHsuLi59KSBpcyBubyBsb2duZXIgc3VwcG9ydGVkLCB1c2UgY29weVRvVGV4dHVyZShzb3VyY2UsIHRhcmdldCwgb3B0c30pIikoKSxudWxsfX0se2tleToiZ2V0QWN0aXZlVW5pdCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nbC5nZXRQYXJhbWV0ZXIoMzQwMTYpLTMzOTg0fX0se2tleToiYmluZCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06dGhpcy50ZXh0dXJlVW5pdCxlPXRoaXMuZ2w7cmV0dXJuIHZvaWQgMCE9PXQmJih0aGlzLnRleHR1cmVVbml0PXQsZS5hY3RpdmVUZXh0dXJlKDMzOTg0K3QpKSxlLmJpbmRUZXh0dXJlKHRoaXMudGFyZ2V0LHRoaXMuaGFuZGxlKSx0fX0se2tleToidW5iaW5kIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp0aGlzLnRleHR1cmVVbml0LGU9dGhpcy5nbDtyZXR1cm4gdm9pZCAwIT09dCYmKHRoaXMudGV4dHVyZVVuaXQ9dCxlLmFjdGl2ZVRleHR1cmUoMzM5ODQrdCkpLGUuYmluZFRleHR1cmUodGhpcy50YXJnZXQsbnVsbCksdH19LHtrZXk6Il9nZXREYXRhVHlwZSIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dC5kYXRhLG49dC5jb21wcmVzc2VkO3JldHVybiB2b2lkIDAhPT1uJiZuP3tkYXRhOmUsZGF0YVR5cGU6ImNvbXByZXNzZWQifTpudWxsPT09ZT97ZGF0YTplLGRhdGFUeXBlOiJudWxsIn06QXJyYXlCdWZmZXIuaXNWaWV3KGUpP3tkYXRhOmUsZGF0YVR5cGU6InR5cGVkLWFycmF5In06ZSBpbnN0YW5jZW9mIGMuYT97ZGF0YTplLmhhbmRsZSxkYXRhVHlwZToiYnVmZmVyIn06ZSBpbnN0YW5jZW9mIHk/e2RhdGE6ZSxkYXRhVHlwZToiYnVmZmVyIn06e2RhdGE6ZSxkYXRhVHlwZToiYnJvd3Nlci1vYmplY3QifX19LHtrZXk6Il9kZWR1Y2VQYXJhbWV0ZXJzIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10LmZvcm1hdCxuPXQuZGF0YSxyPXQud2lkdGgsaT10LmhlaWdodCxhPXQuZGF0YUZvcm1hdCxvPXQudHlwZSxzPXQuY29tcHJlc3NlZCx1PWwuYltlXTthPWF8fHUmJnUuZGF0YUZvcm1hdCxvPW98fHUmJnUudHlwZXNbMF0scz1zfHx1JiZ1LmNvbXByZXNzZWQ7dmFyIGM9dGhpcy5fZGVkdWNlSW1hZ2VTaXplKG4scixpKTtyZXR1cm57ZGF0YUZvcm1hdDphLHR5cGU6byxjb21wcmVzc2VkOnMsd2lkdGg6cj1jLndpZHRoLGhlaWdodDppPWMuaGVpZ2h0LGZvcm1hdDplLGRhdGE6bn19fSx7a2V5OiJfZGVkdWNlSW1hZ2VTaXplIix2YWx1ZTpmdW5jdGlvbih0LGUsbil7dmFyIHI7cmV0dXJuIHI9InVuZGVmaW5lZCIhPXR5cGVvZiBJbWFnZURhdGEmJnQgaW5zdGFuY2VvZiBJbWFnZURhdGE/e3dpZHRoOnQud2lkdGgsaGVpZ2h0OnQuaGVpZ2h0fToidW5kZWZpbmVkIiE9dHlwZW9mIEhUTUxJbWFnZUVsZW1lbnQmJnQgaW5zdGFuY2VvZiBIVE1MSW1hZ2VFbGVtZW50P3t3aWR0aDp0Lm5hdHVyYWxXaWR0aCxoZWlnaHQ6dC5uYXR1cmFsSGVpZ2h0fToidW5kZWZpbmVkIiE9dHlwZW9mIEhUTUxDYW52YXNFbGVtZW50JiZ0IGluc3RhbmNlb2YgSFRNTENhbnZhc0VsZW1lbnQ/e3dpZHRoOnQud2lkdGgsaGVpZ2h0OnQuaGVpZ2h0fToidW5kZWZpbmVkIiE9dHlwZW9mIEltYWdlQml0bWFwJiZ0IGluc3RhbmNlb2YgSW1hZ2VCaXRtYXA/e3dpZHRoOnQud2lkdGgsaGVpZ2h0OnQuaGVpZ2h0fToidW5kZWZpbmVkIiE9dHlwZW9mIEhUTUxWaWRlb0VsZW1lbnQmJnQgaW5zdGFuY2VvZiBIVE1MVmlkZW9FbGVtZW50P3t3aWR0aDp0LnZpZGVvV2lkdGgsaGVpZ2h0OnQudmlkZW9IZWlnaHR9OnQ/e3dpZHRoOmUsaGVpZ2h0Om59Ont3aWR0aDplPj0wP2U6MSxoZWlnaHQ6bj49MD9uOjF9LE9iamVjdChwLmEpKHIsIkNvdWxkIG5vdCBkZWR1Y2VkIHRleHR1cmUgc2l6ZSIpLE9iamVjdChwLmEpKHZvaWQgMD09PWV8fHIud2lkdGg9PT1lLCJEZWR1Y2VkIHRleHR1cmUgd2lkdGggZG9lcyBub3QgbWF0Y2ggc3VwcGxpZWQgd2lkdGgiKSxPYmplY3QocC5hKSh2b2lkIDA9PT1ufHxyLmhlaWdodD09PW4sIkRlZHVjZWQgdGV4dHVyZSBoZWlnaHQgZG9lcyBub3QgbWF0Y2ggc3VwcGxpZWQgaGVpZ2h0Iikscn19LHtrZXk6Il9jcmVhdGVIYW5kbGUiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2wuY3JlYXRlVGV4dHVyZSgpfX0se2tleToiX2RlbGV0ZUhhbmRsZSIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLmdsLmRlbGV0ZVRleHR1cmUodGhpcy5oYW5kbGUpLHRoaXMuX3RyYWNrRGVhbGxvY2F0ZWRNZW1vcnkoIlRleHR1cmUiKX19LHtrZXk6Il9nZXRQYXJhbWV0ZXIiLHZhbHVlOmZ1bmN0aW9uKHQpe3N3aXRjaCh0KXtjYXNlIDQwOTY6cmV0dXJuIHRoaXMud2lkdGg7Y2FzZSA0MDk3OnJldHVybiB0aGlzLmhlaWdodDtkZWZhdWx0OnRoaXMuZ2wuYmluZFRleHR1cmUodGhpcy50YXJnZXQsdGhpcy5oYW5kbGUpO3ZhciBlPXRoaXMuZ2wuZ2V0VGV4UGFyYW1ldGVyKHRoaXMudGFyZ2V0LHQpO3JldHVybiB0aGlzLmdsLmJpbmRUZXh0dXJlKHRoaXMudGFyZ2V0LG51bGwpLGV9fX0se2tleToiX3NldFBhcmFtZXRlciIsdmFsdWU6ZnVuY3Rpb24odCxlKXtzd2l0Y2godGhpcy5nbC5iaW5kVGV4dHVyZSh0aGlzLnRhcmdldCx0aGlzLmhhbmRsZSksZT10aGlzLl9nZXROUE9UUGFyYW0odCxlKSx0KXtjYXNlIDMzMDgyOmNhc2UgMzMwODM6dGhpcy5nbC50ZXhQYXJhbWV0ZXJmKHRoaXMuaGFuZGxlLHQsZSk7YnJlYWs7Y2FzZSA0MDk2OmNhc2UgNDA5NzpPYmplY3QocC5hKSghMSk7YnJlYWs7ZGVmYXVsdDp0aGlzLmdsLnRleFBhcmFtZXRlcmkodGhpcy50YXJnZXQsdCxlKX1yZXR1cm4gdGhpcy5nbC5iaW5kVGV4dHVyZSh0aGlzLnRhcmdldCxudWxsKSx0aGlzfX0se2tleToiX2lzTlBPVCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4hT2JqZWN0KGguZykodGhpcy5nbCkmJighKCF0aGlzLndpZHRofHwhdGhpcy5oZWlnaHQpJiYoIU9iamVjdCh2LmIpKHRoaXMud2lkdGgpfHwhT2JqZWN0KHYuYikodGhpcy5oZWlnaHQpKSl9fSx7a2V5OiJfdXBkYXRlRm9yTlBPVCIsdmFsdWU6ZnVuY3Rpb24odCl7dm9pZCAwPT09dFt0aGlzLmdsLlRFWFRVUkVfTUlOX0ZJTFRFUl0mJih0W3RoaXMuZ2wuVEVYVFVSRV9NSU5fRklMVEVSXT10aGlzLmdsLkxJTkVBUiksdm9pZCAwPT09dFt0aGlzLmdsLlRFWFRVUkVfV1JBUF9TXSYmKHRbdGhpcy5nbC5URVhUVVJFX1dSQVBfU109dGhpcy5nbC5DTEFNUF9UT19FREdFKSx2b2lkIDA9PT10W3RoaXMuZ2wuVEVYVFVSRV9XUkFQX1RdJiYodFt0aGlzLmdsLlRFWFRVUkVfV1JBUF9UXT10aGlzLmdsLkNMQU1QX1RPX0VER0UpfX0se2tleToiX2dldE5QT1RQYXJhbSIsdmFsdWU6ZnVuY3Rpb24odCxlKXtpZih0aGlzLl9pc05QT1QoKSlzd2l0Y2godCl7Y2FzZSAxMDI0MTotMT09PWcuaW5kZXhPZihlKSYmKGU9OTcyOSk7YnJlYWs7Y2FzZSAxMDI0MjpjYXNlIDEwMjQzOjMzMDcxIT09ZSYmKGU9MzMwNzEpfXJldHVybiBlfX1dKSxlfSh1LmEpfSxmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO24uZChlLCJhIiwoZnVuY3Rpb24oKXtyZXR1cm4gaX0pKSxuLmQoZSwiYiIsKGZ1bmN0aW9uKCl7cmV0dXJuIGF9KSksbi5kKGUsImMiLChmdW5jdGlvbigpe3JldHVybiBvfSkpLG4uZChlLCJkIiwoZnVuY3Rpb24oKXtyZXR1cm4gc30pKSxuLmQoZSwiZSIsKGZ1bmN0aW9uKCl7cmV0dXJuIHV9KSksbi5kKGUsImYiLChmdW5jdGlvbigpe3JldHVybiBjfSkpO3ZhciByPW4oMTQpO2Z1bmN0aW9uIGkodCxlLG4pe3JldHVybiB0WzBdPWVbMF0rblswXSx0WzFdPWVbMV0rblsxXSx0fWZ1bmN0aW9uIGEodCxlKXtyZXR1cm4gdFswXT0tZVswXSx0WzFdPS1lWzFdLHR9ZnVuY3Rpb24gbyh0LGUsbil7dmFyIHI9ZVswXSxpPWVbMV07cmV0dXJuIHRbMF09blswXSpyK25bMl0qaSx0WzFdPW5bMV0qcituWzNdKmksdH1mdW5jdGlvbiBzKHQsZSxuKXt2YXIgcj1lWzBdLGk9ZVsxXTtyZXR1cm4gdFswXT1uWzBdKnIrblsyXSppK25bNF0sdFsxXT1uWzFdKnIrblszXSppK25bNV0sdH1mdW5jdGlvbiB1KHQsZSxuKXt2YXIgcj1lWzBdLGk9ZVsxXTtyZXR1cm4gdFswXT1uWzBdKnIrblszXSppK25bNl0sdFsxXT1uWzFdKnIrbls0XSppK25bN10sdH1mdW5jdGlvbiBjKHQsZSxuKXt2YXIgcj1lWzBdLGk9ZVsxXTtyZXR1cm4gdFswXT1uWzBdKnIrbls0XSppK25bMTJdLHRbMV09blsxXSpyK25bNV0qaStuWzEzXSx0fXZhciBsLGg7bD1uZXcgci5hKDIpLHIuYSE9RmxvYXQzMkFycmF5JiYobFswXT0wLGxbMV09MCksaD1sfSxmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO24uZChlLCJhIiwoZnVuY3Rpb24oKXtyZXR1cm4gaX0pKSxuLmQoZSwiaSIsKGZ1bmN0aW9uKCl7cmV0dXJuIGF9KSksbi5kKGUsImQiLChmdW5jdGlvbigpe3JldHVybiBvfSkpLG4uZChlLCJiIiwoZnVuY3Rpb24oKXtyZXR1cm4gc30pKSxuLmQoZSwiZSIsKGZ1bmN0aW9uKCl7cmV0dXJuIHV9KSksbi5kKGUsImgiLChmdW5jdGlvbigpe3JldHVybiBjfSkpLG4uZChlLCJmIiwoZnVuY3Rpb24oKXtyZXR1cm4gbH0pKSxuLmQoZSwiZyIsKGZ1bmN0aW9uKCl7cmV0dXJuIGh9KSksbi5kKGUsImMiLChmdW5jdGlvbigpe3JldHVybiBmfSkpO3ZhciByPW4oMTQpO2Z1bmN0aW9uIGkoKXt2YXIgdD1uZXcgci5hKDkpO3JldHVybiByLmEhPUZsb2F0MzJBcnJheSYmKHRbMV09MCx0WzJdPTAsdFszXT0wLHRbNV09MCx0WzZdPTAsdFs3XT0wKSx0WzBdPTEsdFs0XT0xLHRbOF09MSx0fWZ1bmN0aW9uIGEodCxlKXtpZih0PT09ZSl7dmFyIG49ZVsxXSxyPWVbMl0saT1lWzVdO3RbMV09ZVszXSx0WzJdPWVbNl0sdFszXT1uLHRbNV09ZVs3XSx0WzZdPXIsdFs3XT1pfWVsc2UgdFswXT1lWzBdLHRbMV09ZVszXSx0WzJdPWVbNl0sdFszXT1lWzFdLHRbNF09ZVs0XSx0WzVdPWVbN10sdFs2XT1lWzJdLHRbN109ZVs1XSx0WzhdPWVbOF07cmV0dXJuIHR9ZnVuY3Rpb24gbyh0LGUpe3ZhciBuPWVbMF0scj1lWzFdLGk9ZVsyXSxhPWVbM10sbz1lWzRdLHM9ZVs1XSx1PWVbNl0sYz1lWzddLGw9ZVs4XSxoPWwqby1zKmMsZj0tbCphK3MqdSxkPWMqYS1vKnUsdj1uKmgrcipmK2kqZDtyZXR1cm4gdj8odj0xL3YsdFswXT1oKnYsdFsxXT0oLWwqcitpKmMpKnYsdFsyXT0ocypyLWkqbykqdix0WzNdPWYqdix0WzRdPShsKm4taSp1KSp2LHRbNV09KC1zKm4raSphKSp2LHRbNl09ZCp2LHRbN109KC1jKm4rcip1KSp2LHRbOF09KG8qbi1yKmEpKnYsdCk6bnVsbH1mdW5jdGlvbiBzKHQpe3ZhciBlPXRbMF0sbj10WzFdLHI9dFsyXSxpPXRbM10sYT10WzRdLG89dFs1XSxzPXRbNl0sdT10WzddLGM9dFs4XTtyZXR1cm4gZSooYyphLW8qdSkrbiooLWMqaStvKnMpK3IqKHUqaS1hKnMpfWZ1bmN0aW9uIHUodCxlLG4pe3ZhciByPWVbMF0saT1lWzFdLGE9ZVsyXSxvPWVbM10scz1lWzRdLHU9ZVs1XSxjPWVbNl0sbD1lWzddLGg9ZVs4XSxmPW5bMF0sZD1uWzFdLHY9blsyXSxwPW5bM10sZz1uWzRdLHk9bls1XSxtPW5bNl0sYj1uWzddLF89bls4XTtyZXR1cm4gdFswXT1mKnIrZCpvK3YqYyx0WzFdPWYqaStkKnMrdipsLHRbMl09ZiphK2QqdSt2KmgsdFszXT1wKnIrZypvK3kqYyx0WzRdPXAqaStnKnMreSpsLHRbNV09cCphK2cqdSt5KmgsdFs2XT1tKnIrYipvK18qYyx0WzddPW0qaStiKnMrXypsLHRbOF09bSphK2IqdStfKmgsdH1mdW5jdGlvbiBjKHQsZSxuKXt2YXIgcj1lWzBdLGk9ZVsxXSxhPWVbMl0sbz1lWzNdLHM9ZVs0XSx1PWVbNV0sYz1lWzZdLGw9ZVs3XSxoPWVbOF0sZj1uWzBdLGQ9blsxXTtyZXR1cm4gdFswXT1yLHRbMV09aSx0WzJdPWEsdFszXT1vLHRbNF09cyx0WzVdPXUsdFs2XT1mKnIrZCpvK2MsdFs3XT1mKmkrZCpzK2wsdFs4XT1mKmErZCp1K2gsdH1mdW5jdGlvbiBsKHQsZSxuKXt2YXIgcj1lWzBdLGk9ZVsxXSxhPWVbMl0sbz1lWzNdLHM9ZVs0XSx1PWVbNV0sYz1lWzZdLGw9ZVs3XSxoPWVbOF0sZj1NYXRoLnNpbihuKSxkPU1hdGguY29zKG4pO3JldHVybiB0WzBdPWQqcitmKm8sdFsxXT1kKmkrZipzLHRbMl09ZCphK2YqdSx0WzNdPWQqby1mKnIsdFs0XT1kKnMtZippLHRbNV09ZCp1LWYqYSx0WzZdPWMsdFs3XT1sLHRbOF09aCx0fWZ1bmN0aW9uIGgodCxlLG4pe3ZhciByPW5bMF0saT1uWzFdO3JldHVybiB0WzBdPXIqZVswXSx0WzFdPXIqZVsxXSx0WzJdPXIqZVsyXSx0WzNdPWkqZVszXSx0WzRdPWkqZVs0XSx0WzVdPWkqZVs1XSx0WzZdPWVbNl0sdFs3XT1lWzddLHRbOF09ZVs4XSx0fWZ1bmN0aW9uIGYodCxlKXt2YXIgbj1lWzBdLHI9ZVsxXSxpPWVbMl0sYT1lWzNdLG89bituLHM9cityLHU9aStpLGM9bipvLGw9cipvLGg9cipzLGY9aSpvLGQ9aSpzLHY9aSp1LHA9YSpvLGc9YSpzLHk9YSp1O3JldHVybiB0WzBdPTEtaC12LHRbM109bC15LHRbNl09ZitnLHRbMV09bCt5LHRbNF09MS1jLXYsdFs3XT1kLXAsdFsyXT1mLWcsdFs1XT1kK3AsdFs4XT0xLWMtaCx0fX0sZnVuY3Rpb24oZSxuKXtlLmV4cG9ydHM9dH0sZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0IjtuLmQoZSwiYiIsKGZ1bmN0aW9uKCl7cmV0dXJuIGF9KSksbi5kKGUsImEiLChmdW5jdGlvbigpe3JldHVybiBvfSkpO3ZhciByPW4oMjUpLGk9e3NlbGY6InVuZGVmaW5lZCIhPXR5cGVvZiBzZWxmJiZzZWxmLHdpbmRvdzoidW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdyYmd2luZG93LGdsb2JhbDoidW5kZWZpbmVkIiE9dHlwZW9mIGdsb2JhbCYmZ2xvYmFsLGRvY3VtZW50OiJ1bmRlZmluZWQiIT10eXBlb2YgZG9jdW1lbnQmJmRvY3VtZW50LHByb2Nlc3M6Im9iamVjdCI9PT0oInVuZGVmaW5lZCI9PXR5cGVvZiBwcm9jZXNzPyJ1bmRlZmluZWQiOk9iamVjdChyLmEpKHByb2Nlc3MpKSYmcHJvY2Vzc30sYT1pLndpbmRvd3x8aS5zZWxmfHxpLmdsb2JhbCxvPWkucHJvY2Vzc3x8e307Y29uc29sZX0sZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0IjtuLmQoZSwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIGN9KSk7dmFyIHI9big0NCksaT1uKDYpLGE9big3KSxvPW4oMTE1KSxzPW4oMjgpLHU9e1BPSU5UUzowLExJTkVTOjEsTElORV9MT09QOjIsTElORV9TVFJJUDozLFRSSUFOR0xFUzo0LFRSSUFOR0xFX1NUUklQOjUsVFJJQU5HTEVfRkFOOjZ9LGM9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9O09iamVjdChpLmEpKHRoaXMsdCk7dmFyIG49ZS5pZCxyPXZvaWQgMD09PW4/T2JqZWN0KG8uYykoImdlb21ldHJ5Iik6bixhPWUuZHJhd01vZGUscz12b2lkIDA9PT1hP3UuVFJJQU5HTEVTOmEsYz1lLmF0dHJpYnV0ZXMsbD12b2lkIDA9PT1jP3t9OmMsaD1lLmluZGljZXMsZj12b2lkIDA9PT1oP251bGw6aCxkPWUudmVydGV4Q291bnQsdj12b2lkIDA9PT1kP251bGw6ZDt0aGlzLmlkPXIsdGhpcy5kcmF3TW9kZT0wfHMsdGhpcy5hdHRyaWJ1dGVzPXt9LHRoaXMudXNlckRhdGE9e30sdGhpcy5fc2V0QXR0cmlidXRlcyhsLGYpLHRoaXMudmVydGV4Q291bnQ9dnx8dGhpcy5fY2FsY3VsYXRlVmVydGV4Q291bnQodGhpcy5hdHRyaWJ1dGVzLHRoaXMuaW5kaWNlcyl9cmV0dXJuIE9iamVjdChhLmEpKHQsbnVsbCxbe2tleToiRFJBV19NT0RFIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdX19XSksT2JqZWN0KGEuYSkodCxbe2tleToiZ2V0VmVydGV4Q291bnQiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudmVydGV4Q291bnR9fSx7a2V5OiJnZXRBdHRyaWJ1dGVzIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmluZGljZXM/T2JqZWN0KHIuYSkoe2luZGljZXM6dGhpcy5pbmRpY2VzfSx0aGlzLmF0dHJpYnV0ZXMpOnRoaXMuYXR0cmlidXRlc319LHtrZXk6Il9wcmludCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIkdlb21ldHJ5ICIuY29uY2F0KHRoaXMuaWQsIiBhdHRyaWJ1dGUgIikuY29uY2F0KHQpfX0se2tleToiX3NldEF0dHJpYnV0ZXMiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuIGluIGUmJih0aGlzLmluZGljZXM9QXJyYXlCdWZmZXIuaXNWaWV3KGUpP3t2YWx1ZTplLHNpemU6MX06ZSksdCl7dmFyIHI9dFtuXTtyPUFycmF5QnVmZmVyLmlzVmlldyhyKT97dmFsdWU6cn06cixPYmplY3Qocy5hKShBcnJheUJ1ZmZlci5pc1ZpZXcoci52YWx1ZSksIiIuY29uY2F0KHRoaXMuX3ByaW50KG4pLCI6IG11c3QgYmUgdHlwZWQgYXJyYXkgb3Igb2JqZWN0IHdpdGggdmFsdWUgYXMgdHlwZWQgYXJyYXkiKSksIlBPU0lUSU9OIiE9PW4mJiJwb3NpdGlvbnMiIT09bnx8ci5zaXplfHwoci5zaXplPTMpLCJpbmRpY2VzIj09PW4/KE9iamVjdChzLmEpKCF0aGlzLmluZGljZXMpLHRoaXMuaW5kaWNlcz1yKTp0aGlzLmF0dHJpYnV0ZXNbbl09cn1yZXR1cm4gdGhpcy5pbmRpY2VzJiZ2b2lkIDAhPT10aGlzLmluZGljZXMuaXNJbmRleGVkJiYodGhpcy5pbmRpY2VzPU9iamVjdC5hc3NpZ24oe30sdGhpcy5pbmRpY2VzKSxkZWxldGUgdGhpcy5pbmRpY2VzLmlzSW5kZXhlZCksdGhpc319LHtrZXk6Il9jYWxjdWxhdGVWZXJ0ZXhDb3VudCIsdmFsdWU6ZnVuY3Rpb24odCxlKXtpZihlKXJldHVybiBlLnZhbHVlLmxlbmd0aDt2YXIgbj0xLzA7Zm9yKHZhciByIGluIHQpe3ZhciBpPXRbcl0sYT1pLnZhbHVlLG89aS5zaXplOyFpLmNvbnN0YW50JiZhJiZvPj0xJiYobj1NYXRoLm1pbihuLGEubGVuZ3RoL28pKX1yZXR1cm4gT2JqZWN0KHMuYSkoTnVtYmVyLmlzRmluaXRlKG4pKSxufX0se2tleToibW9kZSIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZHJhd01vZGV9fV0pLHR9KCl9LGZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7bi5kKGUsImEiLChmdW5jdGlvbigpe3JldHVybiBofSkpO3ZhciByPW4oMTIxKSxpPW4oNiksYT1uKDcpLG89big5OSkscz1uKDI4KSx1PW4oMTkyKSxjPXtvZmZzZXQ6MCxzdHJpZGU6MCx0eXBlOjUxMjYsc2l6ZToxLGRpdmlzb3I6MCxub3JtYWxpemVkOiExLGludGVnZXI6ITF9LGw9e2RlcHJlY2F0ZWRQcm9wczp7aW5zdGFuY2VkOiJkaXZpc29yIixpc0luc3RhbmNlZDoiZGl2aXNvciJ9fSxoPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe3ZhciBlPXRoaXM7T2JqZWN0KGkuYSkodGhpcyx0KTtmb3IodmFyIG49YXJndW1lbnRzLmxlbmd0aCxyPW5ldyBBcnJheShuKSxhPTA7YTxuO2ErKylyW2FdPWFyZ3VtZW50c1thXTtyLmZvckVhY2goKGZ1bmN0aW9uKHQpe3JldHVybiBlLl9hc3NpZ24odCl9KSksT2JqZWN0LmZyZWV6ZSh0aGlzKX1yZXR1cm4gT2JqZWN0KGEuYSkodCxudWxsLFt7a2V5OiJnZXRCeXRlc1BlckVsZW1lbnQiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3Qoby5jKSh0LnR5cGV8fDUxMjYpLkJZVEVTX1BFUl9FTEVNRU5UfX0se2tleToiZ2V0Qnl0ZXNQZXJWZXJ0ZXgiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3Qocy5hKSh0LnNpemUpLE9iamVjdChvLmMpKHQudHlwZXx8NTEyNikuQllURVNfUEVSX0VMRU1FTlQqdC5zaXplfX0se2tleToicmVzb2x2ZSIsdmFsdWU6ZnVuY3Rpb24oKXtmb3IodmFyIGU9YXJndW1lbnRzLmxlbmd0aCxuPW5ldyBBcnJheShlKSxpPTA7aTxlO2krKyluW2ldPWFyZ3VtZW50c1tpXTtyZXR1cm4gT2JqZWN0KHIuYSkodCxbY10uY29uY2F0KG4pKX19XSksT2JqZWN0KGEuYSkodCxbe2tleToidG9TdHJpbmciLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIEpTT04uc3RyaW5naWZ5KHRoaXMpfX0se2tleToiX2Fzc2lnbiIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e307cmV0dXJuIHZvaWQgMCE9PSh0PU9iamVjdCh1LmEpKCJBY2Nlc3NvciIsdCxsKSkudHlwZSYmKHRoaXMudHlwZT10LnR5cGUsNTEyNCE9PXQudHlwZSYmNTEyNSE9PXQudHlwZXx8KHRoaXMuaW50ZWdlcj0hMCkpLHZvaWQgMCE9PXQuc2l6ZSYmKHRoaXMuc2l6ZT10LnNpemUpLHZvaWQgMCE9PXQub2Zmc2V0JiYodGhpcy5vZmZzZXQ9dC5vZmZzZXQpLHZvaWQgMCE9PXQuc3RyaWRlJiYodGhpcy5zdHJpZGU9dC5zdHJpZGUpLHZvaWQgMCE9PXQubm9ybWFsaXplZCYmKHRoaXMubm9ybWFsaXplZD10Lm5vcm1hbGl6ZWQpLHZvaWQgMCE9PXQuaW50ZWdlciYmKHRoaXMuaW50ZWdlcj10LmludGVnZXIpLHZvaWQgMCE9PXQuZGl2aXNvciYmKHRoaXMuZGl2aXNvcj10LmRpdmlzb3IpLHZvaWQgMCE9PXQuYnVmZmVyJiYodGhpcy5idWZmZXI9dC5idWZmZXIpLHZvaWQgMCE9PXQuaW5kZXgmJigiYm9vbGVhbiI9PXR5cGVvZiBpbmRleD90aGlzLmluZGV4PXQuaW5kZXg/MTowOnRoaXMuaW5kZXg9dC5pbmRleCksdm9pZCAwIT09dC5pbnN0YW5jZWQmJih0aGlzLmRpdmlzb3I9dC5pbnN0YW5jZWQ/MTowKSx2b2lkIDAhPT10LmlzSW5zdGFuY2VkJiYodGhpcy5kaXZpc29yPXQuaXNJbnN0YW5jZWQ/MTowKSx0aGlzfX0se2tleToiQllURVNfUEVSX0VMRU1FTlQiLGdldDpmdW5jdGlvbigpe3JldHVybiB0LmdldEJ5dGVzUGVyRWxlbWVudCh0aGlzKX19LHtrZXk6IkJZVEVTX1BFUl9WRVJURVgiLGdldDpmdW5jdGlvbigpe3JldHVybiB0LmdldEJ5dGVzUGVyVmVydGV4KHRoaXMpfX1dKSx0fSgpfSxmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO24ucihlKTt2YXIgcixpPW4oMjE0KSxhPW4oMSksbz1uLm4oYSkscz1uKDIpLHU9bi5uKHMpLGM9big5KSxsPW4ubihjKSxoPW4oMyksZj1uLm4oaCksZD1uKDEyKSx2PW4ubihkKSxwPW4oMTApLGc9bi5uKHApLHk9big0KSxtPW4ubih5KSxiPW4oMjAyKSxfPW4oMjIwKSxPPW4oMTE4KSx4PW4oMTc1KSx3PW4oNzEpLGs9bigxMjcpLFM9KHI9e30sbSgpKHIsMTAyNDEsOTk4NyksbSgpKHIsMTAyNDAsOTcyOSksbSgpKHIsMTAyNDIsMzMwNzEpLG0oKShyLDEwMjQzLDMzMDcxKSxyKSxQPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXtyZXR1cm4gbygpKHRoaXMsZSksbCgpKHRoaXMsZigpKGUpLmFwcGx5KHRoaXMsYXJndW1lbnRzKSl9cmV0dXJuIGcoKShlLHQpLHUoKShlLFt7a2V5OiJnZXRTaGFkZXJzIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB2KCkoZigpKGUucHJvdG90eXBlKSwiZ2V0U2hhZGVycyIsdGhpcykuY2FsbCh0aGlzLHt2czoiXG4jZGVmaW5lIFNIQURFUl9OQU1FIGJpdG1hcC1sYXllci12ZXJ0ZXgtc2hhZGVyXG5cbmF0dHJpYnV0ZSB2ZWMyIHRleENvb3JkcztcbmF0dHJpYnV0ZSB2ZWMzIHBvc2l0aW9ucztcbmF0dHJpYnV0ZSB2ZWMzIHBvc2l0aW9uczY0TG93O1xuYXR0cmlidXRlIHZlYzMgaW5zdGFuY2VQaWNraW5nQ29sb3JzO1xuXG52YXJ5aW5nIHZlYzIgdlRleENvb3JkO1xuXG52b2lkIG1haW4odm9pZCkge1xuICBnZW9tZXRyeS53b3JsZFBvc2l0aW9uID0gcG9zaXRpb25zO1xuICBnZW9tZXRyeS51diA9IHRleENvb3JkcztcbiAgZ2VvbWV0cnkucGlja2luZ0NvbG9yID0gaW5zdGFuY2VQaWNraW5nQ29sb3JzO1xuXG4gIGdsX1Bvc2l0aW9uID0gcHJvamVjdF9wb3NpdGlvbl90b19jbGlwc3BhY2UocG9zaXRpb25zLCBwb3NpdGlvbnM2NExvdywgdmVjMygwLjApLCBnZW9tZXRyeS5wb3NpdGlvbik7XG4gIERFQ0tHTF9GSUxURVJfR0xfUE9TSVRJT04oZ2xfUG9zaXRpb24sIGdlb21ldHJ5KTtcblxuICB2VGV4Q29vcmQgPSB0ZXhDb29yZHM7XG5cbiAgdmVjNCBjb2xvciA9IHZlYzQoMC4wKTtcbiAgREVDS0dMX0ZJTFRFUl9DT0xPUihjb2xvciwgZ2VvbWV0cnkpO1xufVxuIixmczoiXG4jZGVmaW5lIFNIQURFUl9OQU1FIGJpdG1hcC1sYXllci1mcmFnbWVudC1zaGFkZXJcblxuI2lmZGVmIEdMX0VTXG5wcmVjaXNpb24gaGlnaHAgZmxvYXQ7XG4jZW5kaWZcblxudW5pZm9ybSBzYW1wbGVyMkQgYml0bWFwVGV4dHVyZTtcblxudmFyeWluZyB2ZWMyIHZUZXhDb29yZDtcblxudW5pZm9ybSBmbG9hdCBkZXNhdHVyYXRlO1xudW5pZm9ybSB2ZWM0IHRyYW5zcGFyZW50Q29sb3I7XG51bmlmb3JtIHZlYzMgdGludENvbG9yO1xudW5pZm9ybSBmbG9hdCBvcGFjaXR5O1xuXG4vLyBhcHBseSBkZXNhdHVyYXRpb25cbnZlYzMgY29sb3JfZGVzYXR1cmF0ZSh2ZWMzIGNvbG9yKSB7XG4gIGZsb2F0IGx1bWluYW5jZSA9IChjb2xvci5yICsgY29sb3IuZyArIGNvbG9yLmIpICogMC4zMzMzMzMzMzM7XG4gIHJldHVybiBtaXgoY29sb3IsIHZlYzMobHVtaW5hbmNlKSwgZGVzYXR1cmF0ZSk7XG59XG5cbi8vIGFwcGx5IHRpbnRcbnZlYzMgY29sb3JfdGludCh2ZWMzIGNvbG9yKSB7XG4gIHJldHVybiBjb2xvciAqIHRpbnRDb2xvcjtcbn1cblxuLy8gYmxlbmQgd2l0aCBiYWNrZ3JvdW5kIGNvbG9yXG52ZWM0IGFwcGx5X29wYWNpdHkodmVjMyBjb2xvciwgZmxvYXQgYWxwaGEpIHtcbiAgcmV0dXJuIG1peCh0cmFuc3BhcmVudENvbG9yLCB2ZWM0KGNvbG9yLCAxLjApLCBhbHBoYSk7XG59XG5cbnZvaWQgbWFpbih2b2lkKSB7XG4gIHZlYzQgYml0bWFwQ29sb3IgPSB0ZXh0dXJlMkQoYml0bWFwVGV4dHVyZSwgdlRleENvb3JkKTtcblxuICBnbF9GcmFnQ29sb3IgPSBhcHBseV9vcGFjaXR5KGNvbG9yX3RpbnQoY29sb3JfZGVzYXR1cmF0ZShiaXRtYXBDb2xvci5yZ2IpKSwgYml0bWFwQ29sb3IuYSAqIG9wYWNpdHkpO1xuXG4gIGdlb21ldHJ5LnV2ID0gdlRleENvb3JkO1xuICBERUNLR0xfRklMVEVSX0NPTE9SKGdsX0ZyYWdDb2xvciwgZ2VvbWV0cnkpO1xufVxuIixtb2R1bGVzOltiLmEsXy5hXX0pfX0se2tleToiaW5pdGlhbGl6ZVN0YXRlIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuZ2V0QXR0cmlidXRlTWFuYWdlcigpLmFkZCh7cG9zaXRpb25zOntzaXplOjMsdHlwZTo1MTMwLGZwNjQ6dGhpcy51c2U2NGJpdFBvc2l0aW9ucygpLHVwZGF0ZTp0aGlzLmNhbGN1bGF0ZVBvc2l0aW9ucyxub0FsbG9jOiEwfX0pLHRoaXMuc2V0U3RhdGUoe251bUluc3RhbmNlczoxLHBvc2l0aW9uczpuZXcgRmxvYXQ2NEFycmF5KDEyKX0pfX0se2tleToidXBkYXRlU3RhdGUiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXQucHJvcHMsbj10Lm9sZFByb3BzO2lmKHQuY2hhbmdlRmxhZ3MuZXh0ZW5zaW9uc0NoYW5nZWQpe3ZhciByPXRoaXMuY29udGV4dC5nbDt0aGlzLnN0YXRlLm1vZGVsJiZ0aGlzLnN0YXRlLm1vZGVsLmRlbGV0ZSgpLHRoaXMuc2V0U3RhdGUoe21vZGVsOnRoaXMuX2dldE1vZGVsKHIpfSksdGhpcy5nZXRBdHRyaWJ1dGVNYW5hZ2VyKCkuaW52YWxpZGF0ZUFsbCgpfWUuaW1hZ2UhPT1uLmltYWdlJiZ0aGlzLmxvYWRUZXh0dXJlKGUuaW1hZ2UpO3ZhciBpPXRoaXMuZ2V0QXR0cmlidXRlTWFuYWdlcigpO2UuYm91bmRzIT09bi5ib3VuZHMmJmkuaW52YWxpZGF0ZSgicG9zaXRpb25zIil9fSx7a2V5OiJmaW5hbGl6ZVN0YXRlIix2YWx1ZTpmdW5jdGlvbigpe3YoKShmKCkoZS5wcm90b3R5cGUpLCJmaW5hbGl6ZVN0YXRlIix0aGlzKS5jYWxsKHRoaXMpLHRoaXMuc3RhdGUuYml0bWFwVGV4dHVyZSYmdGhpcy5zdGF0ZS5iaXRtYXBUZXh0dXJlLmRlbGV0ZSgpfX0se2tleToiY2FsY3VsYXRlUG9zaXRpb25zIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLnN0YXRlLnBvc2l0aW9ucyxuPXRoaXMucHJvcHMuYm91bmRzO2lmKE51bWJlci5pc0Zpbml0ZShuWzBdKSllWzBdPW5bMF0sZVsxXT1uWzFdLGVbMl09MCxlWzNdPW5bMF0sZVs0XT1uWzNdLGVbNV09MCxlWzZdPW5bMl0sZVs3XT1uWzNdLGVbOF09MCxlWzldPW5bMl0sZVsxMF09blsxXSxlWzExXT0wO2Vsc2UgZm9yKHZhciByPTA7cjxuLmxlbmd0aDtyKyspZVszKnIrMF09bltyXVswXSxlWzMqcisxXT1uW3JdWzFdLGVbMypyKzJdPW5bcl1bMl18fDA7dC52YWx1ZT1lfX0se2tleToiX2dldE1vZGVsIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdD9uZXcgeC5hKHQsT2JqZWN0LmFzc2lnbih7fSx0aGlzLmdldFNoYWRlcnMoKSx7aWQ6dGhpcy5wcm9wcy5pZCxnZW9tZXRyeTpuZXcgdy5hKHtkcmF3TW9kZTo2LHZlcnRleENvdW50OjQsYXR0cmlidXRlczp7dGV4Q29vcmRzOm5ldyBGbG9hdDMyQXJyYXkoWzAsMSwwLDAsMSwwLDEsMV0pfX0pLGlzSW5zdGFuY2VkOiExfSkpOm51bGx9fSx7a2V5OiJkcmF3Iix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10LnVuaWZvcm1zLG49dGhpcy5zdGF0ZSxyPW4uYml0bWFwVGV4dHVyZSxpPW4ubW9kZWwsYT10aGlzLnByb3BzLG89YS5pbWFnZSxzPWEuZGVzYXR1cmF0ZSx1PWEudHJhbnNwYXJlbnRDb2xvcixjPWEudGludENvbG9yO3ImJm8gaW5zdGFuY2VvZiBIVE1MVmlkZW9FbGVtZW50JiZvLnJlYWR5U3RhdGU+SFRNTFZpZGVvRWxlbWVudC5IQVZFX01FVEFEQVRBJiYoci53aWR0aCE9PW8udmlkZW9XaWR0aHx8ci5oZWlnaHQhPT1vLnZpZGVvSGVpZ2h0PyhyLnJlc2l6ZSh7d2lkdGg6by52aWRlb1dpZHRoLGhlaWdodDpvLnZpZGVvSGVpZ2h0LG1pcG1hcHM6ITB9KSxyLnNldFN1YkltYWdlRGF0YSh7ZGF0YTpvLHBhcmFtdGVyczpTfSkpOnIuc2V0U3ViSW1hZ2VEYXRhKHtkYXRhOm99KSxyLmdlbmVyYXRlTWlwbWFwKCkpO3ImJmkmJmkuc2V0VW5pZm9ybXMoT2JqZWN0LmFzc2lnbih7fSxlLHtiaXRtYXBUZXh0dXJlOnIsZGVzYXR1cmF0ZTpzLHRyYW5zcGFyZW50Q29sb3I6dS5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiB0LzI1NX0pKSx0aW50Q29sb3I6Yy5zbGljZSgwLDMpLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIHQvMjU1fSkpfSkpLmRyYXcoKX19LHtrZXk6ImxvYWRUZXh0dXJlIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLmNvbnRleHQuZ2w7dGhpcy5zdGF0ZS5iaXRtYXBUZXh0dXJlJiZ0aGlzLnN0YXRlLmJpdG1hcFRleHR1cmUuZGVsZXRlKCksdCBpbnN0YW5jZW9mIGsuYT90aGlzLnNldFN0YXRlKHtiaXRtYXBUZXh0dXJlOnR9KTp0IGluc3RhbmNlb2YgSFRNTFZpZGVvRWxlbWVudD90aGlzLnNldFN0YXRlKHtiaXRtYXBUZXh0dXJlOm5ldyBrLmEoZSx7d2lkdGg6MSxoZWlnaHQ6MSxwYXJhbWV0ZXJzOlMsbWlwbWFwczohMX0pfSk6dCYmdGhpcy5zZXRTdGF0ZSh7Yml0bWFwVGV4dHVyZTpuZXcgay5hKGUse2RhdGE6dCxwYXJhbWV0ZXJzOlN9KX0pfX1dKSxlfShPLmEpO1AubGF5ZXJOYW1lPSJCaXRtYXBMYXllciIsUC5kZWZhdWx0UHJvcHM9e2ltYWdlOnt0eXBlOiJvYmplY3QiLHZhbHVlOm51bGwsYXN5bmM6ITB9LGJvdW5kczp7dHlwZToiYXJyYXkiLHZhbHVlOlsxLDAsMCwxXSxjb21wYXJlOiEwfSxkZXNhdHVyYXRlOnt0eXBlOiJudW1iZXIiLG1pbjowLG1heDoxLHZhbHVlOjB9LHRyYW5zcGFyZW50Q29sb3I6e3R5cGU6ImNvbG9yIix2YWx1ZTpbMCwwLDAsMF19LHRpbnRDb2xvcjp7dHlwZToiY29sb3IiLHZhbHVlOlsyNTUsMjU1LDI1NV19fTt2YXIgaixUPW4oMjIxKSxFPW4oMTkxKSxBPW4oMjg5KSxNPW4oMTk5KSxDPW4oNjQpLEw9bigyMyksST1mdW5jdGlvbigpe30sUj0oaj17fSxtKCkoaiwxMDI0MSw5OTg3KSxtKCkoaiwxMDI0MCw5NzI5KSxtKCkoaiwxMDI0MiwzMzA3MSksbSgpKGosMTAyNDMsMzMwNzEpLGopO2Z1bmN0aW9uIE4odCl7cmV0dXJuIHQmJih0LmlkfHx0LnVybCl9ZnVuY3Rpb24gRCh0LGUsbil7Zm9yKHZhciByPTA7cjxlLmxlbmd0aDtyKyspe3ZhciBpPWVbcl0sYT1pLmljb24sbz1pLnhPZmZzZXQ7dFtOKGEpXT1PYmplY3QuYXNzaWduKHt9LGEse3g6byx5Om59KX19dmFyIEY9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUsbil7dmFyIHI9bi5vblVwZGF0ZSxpPXZvaWQgMD09PXI/STpyO28oKSh0aGlzLHQpLHRoaXMuZ2w9ZSx0aGlzLm9uVXBkYXRlPWksdGhpcy5fbG9hZE9wdGlvbnM9bnVsbCx0aGlzLl9nZXRJY29uPW51bGwsdGhpcy5fdGV4dHVyZT1udWxsLHRoaXMuX2V4dGVybmFsVGV4dHVyZT1udWxsLHRoaXMuX21hcHBpbmc9e30sdGhpcy5fcGVuZGluZ0NvdW50PTAsdGhpcy5fYXV0b1BhY2tpbmc9ITEsdGhpcy5feE9mZnNldD0wLHRoaXMuX3lPZmZzZXQ9MCx0aGlzLl9yb3dIZWlnaHQ9MCx0aGlzLl9idWZmZXI9NCx0aGlzLl9jYW52YXNXaWR0aD0xMDI0LHRoaXMuX2NhbnZhc0hlaWdodD0wLHRoaXMuX2NhbnZhcz1udWxsfXJldHVybiB1KCkodCxbe2tleToiZmluYWxpemUiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5fdGV4dHVyZSYmdGhpcy5fdGV4dHVyZS5kZWxldGUoKX19LHtrZXk6ImdldFRleHR1cmUiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3RleHR1cmV8fHRoaXMuX2V4dGVybmFsVGV4dHVyZX19LHtrZXk6ImdldEljb25NYXBwaW5nIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLl9hdXRvUGFja2luZz9OKHQpOnQ7cmV0dXJuIHRoaXMuX21hcHBpbmdbZV18fHt9fX0se2tleToic2V0UHJvcHMiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXQubG9hZE9wdGlvbnMsbj10LmF1dG9QYWNraW5nLHI9dC5pY29uQXRsYXMsaT10Lmljb25NYXBwaW5nLGE9dC5kYXRhLG89dC5nZXRJY29uO2UmJih0aGlzLl9sb2FkT3B0aW9ucz1lKSx2b2lkIDAhPT1uJiYodGhpcy5fYXV0b1BhY2tpbmc9biksbyYmKHRoaXMuX2dldEljb249byksaSYmKHRoaXMuX21hcHBpbmc9aSksciYmdGhpcy5fdXBkYXRlSWNvbkF0bGFzKHIpLHRoaXMuX2F1dG9QYWNraW5nJiYoYXx8bykmJiJ1bmRlZmluZWQiIT10eXBlb2YgZG9jdW1lbnQmJih0aGlzLl9jYW52YXM9dGhpcy5fY2FudmFzfHxkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJjYW52YXMiKSx0aGlzLl91cGRhdGVBdXRvUGFja2luZyhhKSl9fSx7a2V5OiJfdXBkYXRlSWNvbkF0bGFzIix2YWx1ZTpmdW5jdGlvbih0KXt0aGlzLl90ZXh0dXJlJiYodGhpcy5fdGV4dHVyZS5kZWxldGUoKSx0aGlzLl90ZXh0dXJlPW51bGwpLHQgaW5zdGFuY2VvZiBrLmE/KHQuc2V0UGFyYW1ldGVycyhSKSx0aGlzLl9leHRlcm5hbFRleHR1cmU9dCx0aGlzLm9uVXBkYXRlKCkpOnQmJih0aGlzLl90ZXh0dXJlPW5ldyBrLmEodGhpcy5nbCx7ZGF0YTp0LHBhcmFtZXRlcnM6Un0pLHRoaXMub25VcGRhdGUoKSl9fSx7a2V5OiJfdXBkYXRlQXV0b1BhY2tpbmciLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlLG4scixpLGEsbyxzPU9iamVjdC52YWx1ZXMoZnVuY3Rpb24odCxlLG4pe2lmKCF0fHwhZSlyZXR1cm4gbnVsbDtuPW58fHt9O3ZhciByPXt9LGk9T2JqZWN0KEMuYSkodCksYT1pLml0ZXJhYmxlLG89aS5vYmplY3RJbmZvLHM9ITAsdT0hMSxjPXZvaWQgMDt0cnl7Zm9yKHZhciBsLGg9YVtTeW1ib2wuaXRlcmF0b3JdKCk7IShzPShsPWgubmV4dCgpKS5kb25lKTtzPSEwKXt2YXIgZj1sLnZhbHVlO28uaW5kZXgrKzt2YXIgZD1lKGYsbyksdj1OKGQpO2lmKCFkKXRocm93IG5ldyBFcnJvcigiSWNvbiBpcyBtaXNzaW5nLiIpO2lmKCFkLnVybCl0aHJvdyBuZXcgRXJyb3IoIkljb24gdXJsIGlzIG1pc3NpbmcuIik7clt2XXx8blt2XSYmZC51cmw9PT1uW3ZdLnVybHx8KHJbdl09ZCl9fWNhdGNoKHQpe3U9ITAsYz10fWZpbmFsbHl7dHJ5e3N8fG51bGw9PWgucmV0dXJufHxoLnJldHVybigpfWZpbmFsbHl7aWYodSl0aHJvdyBjfX1yZXR1cm4gcn0odCx0aGlzLl9nZXRJY29uLHRoaXMuX21hcHBpbmcpfHx7fSk7aWYocy5sZW5ndGg+MCl7dmFyIHU9ZnVuY3Rpb24odCl7Zm9yKHZhciBlLG49dC5pY29ucyxyPXQuYnVmZmVyLGk9dC5tYXBwaW5nLGE9dm9pZCAwPT09aT97fTppLG89dC54T2Zmc2V0LHM9dm9pZCAwPT09bz8wOm8sdT10LnlPZmZzZXQsYz12b2lkIDA9PT11PzA6dSxsPXQucm93SGVpZ2h0LGg9dm9pZCAwPT09bD8wOmwsZj10LmNhbnZhc1dpZHRoLGQ9W10sdj0wO3Y8bi5sZW5ndGg7disrKXt2YXIgcD1uW3ZdO2lmKCFhW04ocCldKXt2YXIgZz1wLmhlaWdodCx5PXAud2lkdGg7cyt5K3I+ZiYmKEQoYSxkLGMpLHM9MCxjPWgrYytyLGg9MCxkPVtdKSxkLnB1c2goe2ljb246cCx4T2Zmc2V0OnN9KSxzPXMreStyLGg9TWF0aC5tYXgoaCxnKX19cmV0dXJuIGQubGVuZ3RoPjAmJkQoYSxkLGMpLHttYXBwaW5nOmEscm93SGVpZ2h0OmgseE9mZnNldDpzLHlPZmZzZXQ6YyxjYW52YXNXaWR0aDpmLGNhbnZhc0hlaWdodDooZT1oK2MrcixNYXRoLnBvdygyLE1hdGguY2VpbChNYXRoLmxvZzIoZSkpKSl9fSh7aWNvbnM6cyxidWZmZXI6dGhpcy5fYnVmZmVyLGNhbnZhc1dpZHRoOnRoaXMuX2NhbnZhc1dpZHRoLG1hcHBpbmc6dGhpcy5fbWFwcGluZyxyb3dIZWlnaHQ6dGhpcy5fcm93SGVpZ2h0LHhPZmZzZXQ6dGhpcy5feE9mZnNldCx5T2Zmc2V0OnRoaXMuX3lPZmZzZXR9KSxjPXUubWFwcGluZyxsPXUueE9mZnNldCxoPXUueU9mZnNldCxmPXUucm93SGVpZ2h0LGQ9dS5jYW52YXNIZWlnaHQ7dGhpcy5fcm93SGVpZ2h0PWYsdGhpcy5fbWFwcGluZz1jLHRoaXMuX3hPZmZzZXQ9bCx0aGlzLl95T2Zmc2V0PWgsdGhpcy5fY2FudmFzSGVpZ2h0PWQsdGhpcy5fdGV4dHVyZXx8KHRoaXMuX3RleHR1cmU9bmV3IGsuYSh0aGlzLmdsLHt3aWR0aDp0aGlzLl9jYW52YXNXaWR0aCxoZWlnaHQ6dGhpcy5fY2FudmFzSGVpZ2h0LHBhcmFtZXRlcnM6Un0pKSx0aGlzLl90ZXh0dXJlLmhlaWdodCE9PXRoaXMuX2NhbnZhc0hlaWdodCYmKHRoaXMuX3RleHR1cmU9KHRoaXMuZ2wsZT10aGlzLl90ZXh0dXJlLG49dGhpcy5fY2FudmFzV2lkdGgscj10aGlzLl9jYW52YXNIZWlnaHQsaT1lLndpZHRoLGE9ZS5oZWlnaHQsbz1PYmplY3QoVC5hKShlLHt3aWR0aDpuLGhlaWdodDpyfSksT2JqZWN0KEUuYikoZSxvLHt0YXJnZXRZOjAsd2lkdGg6aSxoZWlnaHQ6YX0pLGUuZGVsZXRlKCksbykpLHRoaXMub25VcGRhdGUoKSx0aGlzLl9sb2FkSWNvbnMocyl9fX0se2tleToiX2xvYWRJY29ucyIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcyxuPXRoaXMuX2NhbnZhcy5nZXRDb250ZXh0KCIyZCIpLHI9ITAsaT0hMSxhPXZvaWQgMDt0cnl7Zm9yKHZhciBvLHM9ZnVuY3Rpb24oKXt2YXIgdD1vLnZhbHVlO2UuX3BlbmRpbmdDb3VudCsrLE9iamVjdChNLmEpKHQudXJsLEEuYSxlLl9sb2FkT3B0aW9ucykudGhlbigoZnVuY3Rpb24ocil7dmFyIGk9Tih0KSxhPWUuX21hcHBpbmdbaV0sbz1hLngscz1hLnksdT1hLndpZHRoLGM9YS5oZWlnaHQsbD1mdW5jdGlvbih0LGUsbixyKXt2YXIgaT1lLm5hdHVyYWxXaWR0aCxhPWUubmF0dXJhbEhlaWdodDtyZXR1cm4gbj09PWkmJnI9PT1hP2U6KHQuY2FudmFzLmhlaWdodD1yLHQuY2FudmFzLndpZHRoPW4sdC5jbGVhclJlY3QoMCwwLHQuY2FudmFzLndpZHRoLHQuY2FudmFzLmhlaWdodCksdC5kcmF3SW1hZ2UoZSwwLDAsaSxhLDAsMCxuLHIpLHQuY2FudmFzKX0obixyLHUsYyk7ZS5fdGV4dHVyZS5zZXRTdWJJbWFnZURhdGEoe2RhdGE6bCx4Om8seTpzLHdpZHRoOnUsaGVpZ2h0OmN9KSxlLl90ZXh0dXJlLmdlbmVyYXRlTWlwbWFwKCksZS5vblVwZGF0ZSgpfSkpLmNhdGNoKChmdW5jdGlvbih0KXtMLmEuZXJyb3IodCkoKX0pKS5maW5hbGx5KChmdW5jdGlvbigpe2UuX3BlbmRpbmdDb3VudC0tfSkpfSx1PXRbU3ltYm9sLml0ZXJhdG9yXSgpOyEocj0obz11Lm5leHQoKSkuZG9uZSk7cj0hMClzKCl9Y2F0Y2godCl7aT0hMCxhPXR9ZmluYWxseXt0cnl7cnx8bnVsbD09dS5yZXR1cm58fHUucmV0dXJuKCl9ZmluYWxseXtpZihpKXRocm93IGF9fX19LHtrZXk6ImlzTG9hZGVkIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gMD09PXRoaXMuX3BlbmRpbmdDb3VudH19XSksdH0oKSx6PVswLDAsMCwyNTVdLEI9e2ljb25BdGxhczp7dHlwZToib2JqZWN0Iix2YWx1ZTpudWxsLGFzeW5jOiEwfSxpY29uTWFwcGluZzp7dHlwZToib2JqZWN0Iix2YWx1ZTp7fSxhc3luYzohMH0sc2l6ZVNjYWxlOnt0eXBlOiJudW1iZXIiLHZhbHVlOjEsbWluOjB9LGJpbGxib2FyZDohMCxzaXplVW5pdHM6InBpeGVscyIsc2l6ZU1pblBpeGVsczp7dHlwZToibnVtYmVyIixtaW46MCx2YWx1ZTowfSxzaXplTWF4UGl4ZWxzOnt0eXBlOiJudW1iZXIiLG1pbjowLHZhbHVlOk51bWJlci5NQVhfU0FGRV9JTlRFR0VSfSxhbHBoYUN1dG9mZjp7dHlwZToibnVtYmVyIix2YWx1ZTouMDUsbWluOjAsbWF4OjF9LGdldFBvc2l0aW9uOnt0eXBlOiJhY2Nlc3NvciIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHQucG9zaXRpb259fSxnZXRJY29uOnt0eXBlOiJhY2Nlc3NvciIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHQuaWNvbn19LGdldENvbG9yOnt0eXBlOiJhY2Nlc3NvciIsdmFsdWU6en0sZ2V0U2l6ZTp7dHlwZToiYWNjZXNzb3IiLHZhbHVlOjF9LGdldEFuZ2xlOnt0eXBlOiJhY2Nlc3NvciIsdmFsdWU6MH0sZ2V0UGl4ZWxPZmZzZXQ6e3R5cGU6ImFjY2Vzc29yIix2YWx1ZTpbMCwwXX19LFU9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3JldHVybiBvKCkodGhpcyxlKSxsKCkodGhpcyxmKCkoZSkuYXBwbHkodGhpcyxhcmd1bWVudHMpKX1yZXR1cm4gZygpKGUsdCksdSgpKGUsW3trZXk6ImdldFNoYWRlcnMiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHYoKShmKCkoZS5wcm90b3R5cGUpLCJnZXRTaGFkZXJzIix0aGlzKS5jYWxsKHRoaXMse3ZzOiIjZGVmaW5lIFNIQURFUl9OQU1FIGljb24tbGF5ZXItdmVydGV4LXNoYWRlclxuXG5hdHRyaWJ1dGUgdmVjMiBwb3NpdGlvbnM7XG5cbmF0dHJpYnV0ZSB2ZWMzIGluc3RhbmNlUG9zaXRpb25zO1xuYXR0cmlidXRlIHZlYzMgaW5zdGFuY2VQb3NpdGlvbnM2NExvdztcbmF0dHJpYnV0ZSBmbG9hdCBpbnN0YW5jZVNpemVzO1xuYXR0cmlidXRlIGZsb2F0IGluc3RhbmNlQW5nbGVzO1xuYXR0cmlidXRlIHZlYzQgaW5zdGFuY2VDb2xvcnM7XG5hdHRyaWJ1dGUgdmVjMyBpbnN0YW5jZVBpY2tpbmdDb2xvcnM7XG5hdHRyaWJ1dGUgdmVjNCBpbnN0YW5jZUljb25GcmFtZXM7XG5hdHRyaWJ1dGUgZmxvYXQgaW5zdGFuY2VDb2xvck1vZGVzO1xuYXR0cmlidXRlIHZlYzIgaW5zdGFuY2VPZmZzZXRzO1xuYXR0cmlidXRlIHZlYzIgaW5zdGFuY2VQaXhlbE9mZnNldDtcblxudW5pZm9ybSBmbG9hdCBzaXplU2NhbGU7XG51bmlmb3JtIHZlYzIgaWNvbnNUZXh0dXJlRGltO1xudW5pZm9ybSBmbG9hdCBzaXplTWluUGl4ZWxzO1xudW5pZm9ybSBmbG9hdCBzaXplTWF4UGl4ZWxzO1xudW5pZm9ybSBib29sIGJpbGxib2FyZDtcblxudmFyeWluZyBmbG9hdCB2Q29sb3JNb2RlO1xudmFyeWluZyB2ZWM0IHZDb2xvcjtcbnZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkcztcbnZhcnlpbmcgdmVjMiB1djtcblxudmVjMiByb3RhdGVfYnlfYW5nbGUodmVjMiB2ZXJ0ZXgsIGZsb2F0IGFuZ2xlKSB7XG4gIGZsb2F0IGFuZ2xlX3JhZGlhbiA9IGFuZ2xlICogUEkgLyAxODAuMDtcbiAgZmxvYXQgY29zX2FuZ2xlID0gY29zKGFuZ2xlX3JhZGlhbik7XG4gIGZsb2F0IHNpbl9hbmdsZSA9IHNpbihhbmdsZV9yYWRpYW4pO1xuICBtYXQyIHJvdGF0aW9uTWF0cml4ID0gbWF0Mihjb3NfYW5nbGUsIC1zaW5fYW5nbGUsIHNpbl9hbmdsZSwgY29zX2FuZ2xlKTtcbiAgcmV0dXJuIHJvdGF0aW9uTWF0cml4ICogdmVydGV4O1xufVxuXG52b2lkIG1haW4odm9pZCkge1xuICBnZW9tZXRyeS53b3JsZFBvc2l0aW9uID0gaW5zdGFuY2VQb3NpdGlvbnM7XG4gIGdlb21ldHJ5LnV2ID0gcG9zaXRpb25zO1xuICBnZW9tZXRyeS5waWNraW5nQ29sb3IgPSBpbnN0YW5jZVBpY2tpbmdDb2xvcnM7XG4gIHV2ID0gcG9zaXRpb25zO1xuXG4gIHZlYzIgaWNvblNpemUgPSBpbnN0YW5jZUljb25GcmFtZXMuenc7XG4gIGZsb2F0IHNpemVQaXhlbHMgPSBjbGFtcChcbiAgICBwcm9qZWN0X3NpemVfdG9fcGl4ZWwoaW5zdGFuY2VTaXplcyAqIHNpemVTY2FsZSksIFxuICAgIHNpemVNaW5QaXhlbHMsIHNpemVNYXhQaXhlbHNcbiAgKTtcbiAgZmxvYXQgaW5zdGFuY2VTY2FsZSA9IGljb25TaXplLnkgPT0gMC4wID8gMC4wIDogc2l6ZVBpeGVscyAvIGljb25TaXplLnk7XG4gIHZlYzIgcGl4ZWxPZmZzZXQgPSBwb3NpdGlvbnMgLyAyLjAgKiBpY29uU2l6ZSArIGluc3RhbmNlT2Zmc2V0cztcbiAgcGl4ZWxPZmZzZXQgPSByb3RhdGVfYnlfYW5nbGUocGl4ZWxPZmZzZXQsIGluc3RhbmNlQW5nbGVzKSAqIGluc3RhbmNlU2NhbGU7XG4gIHBpeGVsT2Zmc2V0ICs9IGluc3RhbmNlUGl4ZWxPZmZzZXQ7XG4gIHBpeGVsT2Zmc2V0LnkgKj0gLTEuMDtcblxuICBpZiAoYmlsbGJvYXJkKSAge1xuICAgIGdsX1Bvc2l0aW9uID0gcHJvamVjdF9wb3NpdGlvbl90b19jbGlwc3BhY2UoaW5zdGFuY2VQb3NpdGlvbnMsIGluc3RhbmNlUG9zaXRpb25zNjRMb3csIHZlYzMoMC4wKSwgZ2VvbWV0cnkucG9zaXRpb24pO1xuICAgIHZlYzMgb2Zmc2V0ID0gdmVjMyhwaXhlbE9mZnNldCwgMC4wKTtcbiAgICBERUNLR0xfRklMVEVSX1NJWkUob2Zmc2V0LCBnZW9tZXRyeSk7XG4gICAgZ2xfUG9zaXRpb24ueHkgKz0gcHJvamVjdF9waXhlbF9zaXplX3RvX2NsaXBzcGFjZShvZmZzZXQueHkpO1xuXG4gIH0gZWxzZSB7XG4gICAgdmVjMyBvZmZzZXRfY29tbW9uID0gdmVjMyhwcm9qZWN0X3BpeGVsX3NpemUocGl4ZWxPZmZzZXQpLCAwLjApO1xuICAgIERFQ0tHTF9GSUxURVJfU0laRShvZmZzZXRfY29tbW9uLCBnZW9tZXRyeSk7XG4gICAgZ2xfUG9zaXRpb24gPSBwcm9qZWN0X3Bvc2l0aW9uX3RvX2NsaXBzcGFjZShpbnN0YW5jZVBvc2l0aW9ucywgaW5zdGFuY2VQb3NpdGlvbnM2NExvdywgb2Zmc2V0X2NvbW1vbiwgZ2VvbWV0cnkucG9zaXRpb24pOyBcbiAgfVxuICBERUNLR0xfRklMVEVSX0dMX1BPU0lUSU9OKGdsX1Bvc2l0aW9uLCBnZW9tZXRyeSk7XG5cbiAgdlRleHR1cmVDb29yZHMgPSBtaXgoXG4gICAgaW5zdGFuY2VJY29uRnJhbWVzLnh5LFxuICAgIGluc3RhbmNlSWNvbkZyYW1lcy54eSArIGljb25TaXplLFxuICAgIChwb3NpdGlvbnMueHkgKyAxLjApIC8gMi4wXG4gICkgLyBpY29uc1RleHR1cmVEaW07XG5cbiAgdkNvbG9yID0gaW5zdGFuY2VDb2xvcnM7XG4gIERFQ0tHTF9GSUxURVJfQ09MT1IodkNvbG9yLCBnZW9tZXRyeSk7XG5cbiAgdkNvbG9yTW9kZSA9IGluc3RhbmNlQ29sb3JNb2Rlcztcbn1cbiIsZnM6IiNkZWZpbmUgU0hBREVSX05BTUUgaWNvbi1sYXllci1mcmFnbWVudC1zaGFkZXJcblxucHJlY2lzaW9uIGhpZ2hwIGZsb2F0O1xuXG51bmlmb3JtIGZsb2F0IG9wYWNpdHk7XG51bmlmb3JtIHNhbXBsZXIyRCBpY29uc1RleHR1cmU7XG51bmlmb3JtIGZsb2F0IGFscGhhQ3V0b2ZmO1xuXG52YXJ5aW5nIGZsb2F0IHZDb2xvck1vZGU7XG52YXJ5aW5nIHZlYzQgdkNvbG9yO1xudmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmRzO1xudmFyeWluZyB2ZWMyIHV2O1xuXG52b2lkIG1haW4odm9pZCkge1xuICBnZW9tZXRyeS51diA9IHV2O1xuXG4gIHZlYzQgdGV4Q29sb3IgPSB0ZXh0dXJlMkQoaWNvbnNUZXh0dXJlLCB2VGV4dHVyZUNvb3Jkcyk7XG4gIHZlYzMgY29sb3IgPSBtaXgodGV4Q29sb3IucmdiLCB2Q29sb3IucmdiLCB2Q29sb3JNb2RlKTtcbiAgZmxvYXQgYSA9IHRleENvbG9yLmEgKiBvcGFjaXR5ICogdkNvbG9yLmE7XG5cbiAgaWYgKGEgPCBhbHBoYUN1dG9mZikge1xuICAgIGRpc2NhcmQ7XG4gIH1cblxuICBnbF9GcmFnQ29sb3IgPSB2ZWM0KGNvbG9yLCBhKTtcbiAgREVDS0dMX0ZJTFRFUl9DT0xPUihnbF9GcmFnQ29sb3IsIGdlb21ldHJ5KTtcbn1cbiIsbW9kdWxlczpbYi5hLF8uYV19KX19LHtrZXk6ImluaXRpYWxpemVTdGF0ZSIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3RoaXMuc3RhdGU9e2ljb25NYW5hZ2VyOm5ldyBGKHRoaXMuY29udGV4dC5nbCx7b25VcGRhdGU6ZnVuY3Rpb24oKXtyZXR1cm4gdC5fb25VcGRhdGUoKX19KX0sdGhpcy5nZXRBdHRyaWJ1dGVNYW5hZ2VyKCkuYWRkSW5zdGFuY2VkKHtpbnN0YW5jZVBvc2l0aW9uczp7c2l6ZTozLHR5cGU6NTEzMCxmcDY0OnRoaXMudXNlNjRiaXRQb3NpdGlvbnMoKSx0cmFuc2l0aW9uOiEwLGFjY2Vzc29yOiJnZXRQb3NpdGlvbiJ9LGluc3RhbmNlU2l6ZXM6e3NpemU6MSx0cmFuc2l0aW9uOiEwLGFjY2Vzc29yOiJnZXRTaXplIixkZWZhdWx0VmFsdWU6MX0saW5zdGFuY2VPZmZzZXRzOntzaXplOjIsYWNjZXNzb3I6ImdldEljb24iLHRyYW5zZm9ybTp0aGlzLmdldEluc3RhbmNlT2Zmc2V0fSxpbnN0YW5jZUljb25GcmFtZXM6e3NpemU6NCxhY2Nlc3NvcjoiZ2V0SWNvbiIsdHJhbnNmb3JtOnRoaXMuZ2V0SW5zdGFuY2VJY29uRnJhbWV9LGluc3RhbmNlQ29sb3JNb2Rlczp7c2l6ZToxLHR5cGU6NTEyMSxhY2Nlc3NvcjoiZ2V0SWNvbiIsdHJhbnNmb3JtOnRoaXMuZ2V0SW5zdGFuY2VDb2xvck1vZGV9LGluc3RhbmNlQ29sb3JzOntzaXplOnRoaXMucHJvcHMuY29sb3JGb3JtYXQubGVuZ3RoLHR5cGU6NTEyMSxub3JtYWxpemVkOiEwLHRyYW5zaXRpb246ITAsYWNjZXNzb3I6ImdldENvbG9yIixkZWZhdWx0VmFsdWU6en0saW5zdGFuY2VBbmdsZXM6e3NpemU6MSx0cmFuc2l0aW9uOiEwLGFjY2Vzc29yOiJnZXRBbmdsZSJ9LGluc3RhbmNlUGl4ZWxPZmZzZXQ6e3NpemU6Mix0cmFuc2l0aW9uOiEwLGFjY2Vzc29yOiJnZXRQaXhlbE9mZnNldCJ9fSl9fSx7a2V5OiJ1cGRhdGVTdGF0ZSIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIG49dC5vbGRQcm9wcyxyPXQucHJvcHMsaT10LmNoYW5nZUZsYWdzO3YoKShmKCkoZS5wcm90b3R5cGUpLCJ1cGRhdGVTdGF0ZSIsdGhpcykuY2FsbCh0aGlzLHtwcm9wczpyLG9sZFByb3BzOm4sY2hhbmdlRmxhZ3M6aX0pO3ZhciBhPXRoaXMuZ2V0QXR0cmlidXRlTWFuYWdlcigpLG89ci5pY29uQXRsYXMscz1yLmljb25NYXBwaW5nLHU9ci5kYXRhLGM9ci5nZXRJY29uLGw9dGhpcy5zdGF0ZS5pY29uTWFuYWdlcjtsLnNldFByb3BzKHtsb2FkT3B0aW9uczpyLmxvYWRPcHRpb25zfSk7dmFyIGg9ITE7aWYob3x8dGhpcy5pbnRlcm5hbFN0YXRlLmlzQXN5bmNQcm9wTG9hZGluZygiaWNvbkF0bGFzIik/KG4uaWNvbkF0bGFzIT09ci5pY29uQXRsYXMmJmwuc2V0UHJvcHMoe2ljb25BdGxhczpvLGF1dG9QYWNraW5nOiExfSksbi5pY29uTWFwcGluZyE9PXIuaWNvbk1hcHBpbmcmJihsLnNldFByb3BzKHtpY29uTWFwcGluZzpzfSksaD0hMCkpOmwuc2V0UHJvcHMoe2F1dG9QYWNraW5nOiEwfSksKGkuZGF0YUNoYW5nZWR8fGkudXBkYXRlVHJpZ2dlcnNDaGFuZ2VkJiYoaS51cGRhdGVUcmlnZ2Vyc0NoYW5nZWQuYWxsfHxpLnVwZGF0ZVRyaWdnZXJzQ2hhbmdlZC5nZXRJY29uKSkmJihsLnNldFByb3BzKHtkYXRhOnUsZ2V0SWNvbjpjfSksaD0hMCksaCYmKGEuaW52YWxpZGF0ZSgiaW5zdGFuY2VPZmZzZXRzIiksYS5pbnZhbGlkYXRlKCJpbnN0YW5jZUljb25GcmFtZXMiKSxhLmludmFsaWRhdGUoImluc3RhbmNlQ29sb3JNb2RlcyIpKSxpLmV4dGVuc2lvbnNDaGFuZ2VkKXt2YXIgZD10aGlzLmNvbnRleHQuZ2w7dGhpcy5zdGF0ZS5tb2RlbCYmdGhpcy5zdGF0ZS5tb2RlbC5kZWxldGUoKSx0aGlzLnNldFN0YXRlKHttb2RlbDp0aGlzLl9nZXRNb2RlbChkKX0pLGEuaW52YWxpZGF0ZUFsbCgpfX19LHtrZXk6ImZpbmFsaXplU3RhdGUiLHZhbHVlOmZ1bmN0aW9uKCl7digpKGYoKShlLnByb3RvdHlwZSksImZpbmFsaXplU3RhdGUiLHRoaXMpLmNhbGwodGhpcyksdGhpcy5zdGF0ZS5pY29uTWFuYWdlci5maW5hbGl6ZSgpfX0se2tleToiZHJhdyIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dC51bmlmb3JtcyxuPXRoaXMucHJvcHMscj1uLnNpemVTY2FsZSxpPW4uc2l6ZU1pblBpeGVscyxhPW4uc2l6ZU1heFBpeGVscyxvPW4uc2l6ZVVuaXRzLHM9bi5iaWxsYm9hcmQsdT1uLmFscGhhQ3V0b2ZmLGM9dGhpcy5zdGF0ZS5pY29uTWFuYWdlcixsPXRoaXMuY29udGV4dC52aWV3cG9ydCxoPWMuZ2V0VGV4dHVyZSgpO2gmJmgubG9hZGVkJiZ0aGlzLnN0YXRlLm1vZGVsLnNldFVuaWZvcm1zKE9iamVjdC5hc3NpZ24oe30sZSx7aWNvbnNUZXh0dXJlOmgsaWNvbnNUZXh0dXJlRGltOltoLndpZHRoLGguaGVpZ2h0XSxzaXplU2NhbGU6ciooInBpeGVscyI9PT1vP2wubWV0ZXJzUGVyUGl4ZWw6MSksc2l6ZU1pblBpeGVsczppLHNpemVNYXhQaXhlbHM6YSxiaWxsYm9hcmQ6cyxhbHBoYUN1dG9mZjp1fSkpLmRyYXcoKX19LHtrZXk6Il9nZXRNb2RlbCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyB4LmEodCxPYmplY3QuYXNzaWduKHt9LHRoaXMuZ2V0U2hhZGVycygpLHtpZDp0aGlzLnByb3BzLmlkLGdlb21ldHJ5Om5ldyB3LmEoe2RyYXdNb2RlOjYsYXR0cmlidXRlczp7cG9zaXRpb25zOntzaXplOjIsdmFsdWU6bmV3IEZsb2F0MzJBcnJheShbLTEsLTEsLTEsMSwxLDEsMSwtMV0pfX19KSxpc0luc3RhbmNlZDohMH0pKX19LHtrZXk6Il9vblVwZGF0ZSIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLnNldE5lZWRzUmVkcmF3KCl9fSx7a2V5OiJnZXRJbnN0YW5jZU9mZnNldCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5zdGF0ZS5pY29uTWFuYWdlci5nZXRJY29uTWFwcGluZyh0KTtyZXR1cm5bZS53aWR0aC8yLWUuYW5jaG9yWHx8MCxlLmhlaWdodC8yLWUuYW5jaG9yWXx8MF19fSx7a2V5OiJnZXRJbnN0YW5jZUNvbG9yTW9kZSIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuc3RhdGUuaWNvbk1hbmFnZXIuZ2V0SWNvbk1hcHBpbmcodCkubWFzaz8xOjB9fSx7a2V5OiJnZXRJbnN0YW5jZUljb25GcmFtZSIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5zdGF0ZS5pY29uTWFuYWdlci5nZXRJY29uTWFwcGluZyh0KTtyZXR1cm5bZS54fHwwLGUueXx8MCxlLndpZHRofHwwLGUuaGVpZ2h0fHwwXX19LHtrZXk6ImlzTG9hZGVkIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdigpKGYoKShlLnByb3RvdHlwZSksImlzTG9hZGVkIix0aGlzKSYmdGhpcy5zdGF0ZS5pY29uTWFuYWdlci5pc0xvYWRlZH19XSksZX0oTy5hKTtVLmxheWVyTmFtZT0iSWNvbkxheWVyIixVLmRlZmF1bHRQcm9wcz1CO3ZhciBWPW4oMjE1KSxHPW4oMjE2KSxXPW4oMTYwKSxIPW4oMTU5KSxxPW4oMjA1KSxYPW4oMTEwKSxaPW4oMjA2KSxZPW4oMjE4KSxLPW4oMTkpLFE9bi5uKEspLEo9bigxODUpLCQ9W10sdHQ9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3JldHVybiBvKCkodGhpcyxlKSxsKCkodGhpcyxmKCkoZSkuYXBwbHkodGhpcyxhcmd1bWVudHMpKX1yZXR1cm4gZygpKGUsdCksdSgpKGUsW3trZXk6ImdldFNoYWRlcnMiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIE9iamVjdC5hc3NpZ24oe30sdigpKGYoKShlLnByb3RvdHlwZSksImdldFNoYWRlcnMiLHRoaXMpLmNhbGwodGhpcykse2luamVjdDp7InZzOiNkZWNsIjoiXG4gIHVuaWZvcm0gZmxvYXQgZ2FtbWE7XG4gIHZhcnlpbmcgZmxvYXQgdkdhbW1hO1xuIiwidnM6I21haW4tZW5kIjoiXG4gIHZHYW1tYSA9IGdhbW1hIC8gKHNpemVTY2FsZSAqIGljb25TaXplLnkpO1xuIn0sZnM6IiNkZWZpbmUgU0hBREVSX05BTUUgbXVsdGktaWNvbi1sYXllci1mcmFnbWVudC1zaGFkZXJcblxucHJlY2lzaW9uIGhpZ2hwIGZsb2F0O1xuXG51bmlmb3JtIHNhbXBsZXIyRCBpY29uc1RleHR1cmU7XG51bmlmb3JtIGZsb2F0IGJ1ZmZlcjtcbnVuaWZvcm0gYm9vbCBzZGY7XG51bmlmb3JtIGZsb2F0IGFscGhhQ3V0b2ZmO1xudW5pZm9ybSBib29sIHNob3VsZERyYXdCYWNrZ3JvdW5kO1xudW5pZm9ybSB2ZWMzIGJhY2tncm91bmRDb2xvcjtcblxudmFyeWluZyB2ZWM0IHZDb2xvcjtcbnZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkcztcbnZhcnlpbmcgZmxvYXQgdkdhbW1hO1xudmFyeWluZyB2ZWMyIHV2O1xuXG52b2lkIG1haW4odm9pZCkge1xuICBnZW9tZXRyeS51diA9IHV2O1xuXG4gIGlmICghcGlja2luZ191QWN0aXZlKSB7XG4gICAgZmxvYXQgYWxwaGEgPSB0ZXh0dXJlMkQoaWNvbnNUZXh0dXJlLCB2VGV4dHVyZUNvb3JkcykuYTtcbiAgICBpZiAoc2RmKSB7XG4gICAgICBhbHBoYSA9IHNtb290aHN0ZXAoYnVmZmVyIC0gdkdhbW1hLCBidWZmZXIgKyB2R2FtbWEsIGFscGhhKTtcbiAgICB9XG4gICAgZmxvYXQgYSA9IGFscGhhICogdkNvbG9yLmE7XG4gICAgXG4gICAgaWYgKGEgPCBhbHBoYUN1dG9mZikge1xuICAgICAgaWYgKHNob3VsZERyYXdCYWNrZ3JvdW5kKSB7XG4gICAgICAgIGdsX0ZyYWdDb2xvciA9IHZlYzQoYmFja2dyb3VuZENvbG9yLCB2Q29sb3IuYSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRpc2NhcmQ7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHNob3VsZERyYXdCYWNrZ3JvdW5kKSB7XG4gICAgICBnbF9GcmFnQ29sb3IgPSB2ZWM0KG1peChiYWNrZ3JvdW5kQ29sb3IsIHZDb2xvci5yZ2IsIGFscGhhKSwgdkNvbG9yLmEpO1xuICAgIH0gZWxzZSB7XG4gICAgICBnbF9GcmFnQ29sb3IgPSB2ZWM0KHZDb2xvci5yZ2IsIGEpO1xuICAgIH1cbiAgfVxuXG4gIERFQ0tHTF9GSUxURVJfQ09MT1IoZ2xfRnJhZ0NvbG9yLCBnZW9tZXRyeSk7XG59XG4ifSl9fSx7a2V5OiJpbml0aWFsaXplU3RhdGUiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpczt2KCkoZigpKGUucHJvdG90eXBlKSwiaW5pdGlhbGl6ZVN0YXRlIix0aGlzKS5jYWxsKHRoaXMpLHRoaXMuZ2V0QXR0cmlidXRlTWFuYWdlcigpLmFkZEluc3RhbmNlZCh7aW5zdGFuY2VPZmZzZXRzOntzaXplOjIsYWNjZXNzb3I6ImdldEljb25PZmZzZXRzIn0saW5zdGFuY2VQaWNraW5nQ29sb3JzOnt0eXBlOjUxMjEsc2l6ZTozLGFjY2Vzc29yOmZ1bmN0aW9uKGUsbil7dmFyIHI9bi5pbmRleCxpPW4udGFyZ2V0O3JldHVybiB0LmVuY29kZVBpY2tpbmdDb2xvcihyLGkpfX19KX19LHtrZXk6InVwZGF0ZVN0YXRlIix2YWx1ZTpmdW5jdGlvbih0KXt2KCkoZigpKGUucHJvdG90eXBlKSwidXBkYXRlU3RhdGUiLHRoaXMpLmNhbGwodGhpcyx0KTt2YXIgbj10Lm9sZFByb3BzLHI9dC5wcm9wcztpZihyLmJhY2tncm91bmRDb2xvciE9PW4uYmFja2dyb3VuZENvbG9yKXt2YXIgaT1BcnJheS5pc0FycmF5KHIuYmFja2dyb3VuZENvbG9yKT9yLmJhY2tncm91bmRDb2xvci5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiB0LzI1NX0pKS5zbGljZSgwLDMpOm51bGw7dGhpcy5zZXRTdGF0ZSh7YmFja2dyb3VuZENvbG9yOml9KX19fSx7a2V5OiJkcmF3Iix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgbj10LnVuaWZvcm1zLHI9dGhpcy5wcm9wcy5zZGYsaT10aGlzLnN0YXRlLmJhY2tncm91bmRDb2xvcixhPUFycmF5LmlzQXJyYXkoaSk7digpKGYoKShlLnByb3RvdHlwZSksImRyYXciLHRoaXMpLmNhbGwodGhpcyx7dW5pZm9ybXM6T2JqZWN0LmFzc2lnbih7fSxuLHtidWZmZXI6Ljc1LGdhbW1hOi4yLHNkZjpCb29sZWFuKHIpLGJhY2tncm91bmRDb2xvcjppfHxbMCwwLDBdLHNob3VsZERyYXdCYWNrZ3JvdW5kOmF9KX0pfX0se2tleToiZ2V0SW5zdGFuY2VPZmZzZXQiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBuPXRoaXM7cmV0dXJuIHQ/QXJyYXkuZnJvbSh0KS5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiB2KCkoZigpKGUucHJvdG90eXBlKSwiZ2V0SW5zdGFuY2VPZmZzZXQiLG4pLmNhbGwobix0KX0pKTokfX0se2tleToiZ2V0SW5zdGFuY2VDb2xvck1vZGUiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiAxfX0se2tleToiZ2V0SW5zdGFuY2VJY29uRnJhbWUiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBuPXRoaXM7cmV0dXJuIHQ/QXJyYXkuZnJvbSh0KS5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiB2KCkoZigpKGUucHJvdG90eXBlKSwiZ2V0SW5zdGFuY2VJY29uRnJhbWUiLG4pLmNhbGwobix0KX0pKTokfX1dKSxlfShVKTt0dC5sYXllck5hbWU9Ik11bHRpSWNvbkxheWVyIix0dC5kZWZhdWx0UHJvcHM9e2JhY2tncm91bmRDb2xvcjp7dHlwZToiY29sb3IiLHZhbHVlOm51bGwsb3B0aW9uYWw6ITB9LGdldEljb25PZmZzZXRzOnt0eXBlOiJhY2Nlc3NvciIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHQub2Zmc2V0c319fTt2YXIgZXQ9bigyMjgpLG50PW4ubihldCk7ZnVuY3Rpb24gcnQodCxlKXtmb3IodmFyIG49MCxyPTA7cjx0Lmxlbmd0aDtyKyspe3ZhciBpPXRbcl0sYT1udWxsLG89ZSYmZVtpXTtvJiYoYT1vLndpZHRoKSxuKz1hfXJldHVybiBufWZ1bmN0aW9uIGl0KHQsZSxuKXtmb3IodmFyIHI9W10saT0wLGE9MCxvPTA7bzx0Lmxlbmd0aDtvKyspe3ZhciBzPXJ0KHRbb10sbik7YStzPmUmJihpPG8mJnIucHVzaCh0LnN1YnN0cmluZyhpLG8pKSxpPW8sYT0wKSxhKz1zfXJldHVybiBpPHQubGVuZ3RoJiZyLnB1c2godC5zdWJzdHJpbmcoaSkpLHtyb3dzOnIsbGFzdFJvd1N0YXJ0Q2hhckluZGV4OmksbGFzdFJvd09mZnNldExlZnQ6YX19ZnVuY3Rpb24gYXQodCxlLG4scil7cmV0dXJuImJyZWFrLWFsbCI9PT1lP2l0KHQsbixyKTpmdW5jdGlvbih0LGUsbil7Zm9yKHZhciByPVtdLGk9MCxhPTAsbz0wLHM9bnVsbCx1PTA7dTx0Lmxlbmd0aDt1KyspaWYoIiAiPT09dFt1XT8ocz10W3VdLGE9dSsxKTp1KzE8dC5sZW5ndGgmJiIgIj09PXRbdSsxXXx8dSsxPT09dC5sZW5ndGg/KHM9dC5zdWJzdHJpbmcoYSx1KzEpLGE9dSsxKTpzPW51bGwscyl7dmFyIGM9cnQocyxuKTtpZihvK2M+ZSl7dmFyIGw9YS1zLmxlbmd0aDtpZihpPGwmJihyLnB1c2godC5zdWJzdHJpbmcoaSxsKSksaT1sLG89MCksYz5lKXt2YXIgaD1pdChzLGUsbik7aC5yb3dzLmxlbmd0aD4xJiYocj1yLmNvbmNhdChoLnJvd3Muc2xpY2UoMCxoLnJvd3MubGVuZ3RoLTEpKSksaSs9aC5sYXN0Um93U3RhcnRDaGFySW5kZXgsYz1oLmxhc3RSb3dPZmZzZXRMZWZ0fX1vKz1jfXJldHVybiBpPHQubGVuZ3RoJiZyLnB1c2godC5zdWJzdHJpbmcoaSkpLHtyb3dzOnIsbGFzdFJvd1N0YXJ0Q2hhckluZGV4OmksbGFzdFJvd09mZnNldExlZnQ6b319KHQsbixyKX1mdW5jdGlvbiBvdCh0LGUpe2Zvcih2YXIgbj0wLHI9MCxpPW5ldyBBcnJheSh0Lmxlbmd0aCksYT0wO2E8dC5sZW5ndGg7YSsrKXt2YXIgbz10W2FdLHM9ZVtvXTtzPyhyfHwocj1zLmhlaWdodCksaVthXT1uK3Mud2lkdGgvMixuKz1zLndpZHRoKTooTC5hLndhcm4oIk1pc3NpbmcgY2hhcmFjdGVyOiAiLmNvbmNhdChvKSkoKSxpW2FdPW4sbis9MzIpfXJldHVybntsZWZ0T2Zmc2V0czppLHJvd1dpZHRoOm4scm93SGVpZ2h0OnJ9fXZhciBzdD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06NTtvKCkodGhpcyx0KSx0aGlzLmxpbWl0PWUsdGhpcy5jbGVhcigpfXJldHVybiB1KCkodCxbe2tleToiY2xlYXIiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5fY2FjaGU9e30sdGhpcy5fb3JkZXI9W119fSx7a2V5OiJnZXQiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX2NhY2hlW3RdO3JldHVybiBlJiYodGhpcy5fZGVsZXRlT3JkZXIodCksdGhpcy5fYXBwZW5kT3JkZXIodCkpLGV9fSx7a2V5OiJzZXQiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dGhpcy5fY2FjaGVbdF0/KHRoaXMuZGVsZXRlKHQpLHRoaXMuX2NhY2hlW3RdPWUsdGhpcy5fYXBwZW5kT3JkZXIodCkpOihPYmplY3Qua2V5cyh0aGlzLl9jYWNoZSkubGVuZ3RoPT09dGhpcy5saW1pdCYmdGhpcy5kZWxldGUodGhpcy5fb3JkZXJbMF0pLHRoaXMuX2NhY2hlW3RdPWUsdGhpcy5fYXBwZW5kT3JkZXIodCkpfX0se2tleToiZGVsZXRlIix2YWx1ZTpmdW5jdGlvbih0KXt0aGlzLl9jYWNoZVt0XSYmKHRoaXMuX2RlbGV0ZUNhY2hlKHQpLHRoaXMuX2RlbGV0ZU9yZGVyKHQpKX19LHtrZXk6Il9kZWxldGVDYWNoZSIsdmFsdWU6ZnVuY3Rpb24odCl7ZGVsZXRlIHRoaXMuX2NhY2hlW3RdfX0se2tleToiX2RlbGV0ZU9yZGVyIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLl9vcmRlci5maW5kSW5kZXgoKGZ1bmN0aW9uKGUpe3JldHVybiBlPT09dH0pKTtlPj0wJiZ0aGlzLl9vcmRlci5zcGxpY2UoZSwxKX19LHtrZXk6Il9hcHBlbmRPcmRlciIsdmFsdWU6ZnVuY3Rpb24odCl7dGhpcy5fb3JkZXIucHVzaCh0KX19XSksdH0oKTt2YXIgdXQ9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9W10sZT0zMjtlPDEyODtlKyspdC5wdXNoKFN0cmluZy5mcm9tQ2hhckNvZGUoZSkpO3JldHVybiB0fSgpLGN0PW5ldyBzdCgzKSxsdD1bImZvbnRGYW1pbHkiLCJmb250V2VpZ2h0IiwiY2hhcmFjdGVyU2V0IiwiZm9udFNpemUiLCJzZGYiLCJidWZmZXIiLCJjdXRvZmYiLCJyYWRpdXMiXTtmdW5jdGlvbiBodCh0LGUpe3ZhciBuPWN0LmdldCh0KTtpZighbilyZXR1cm4gZTt2YXIgcj1bXSxpPW4ubWFwcGluZyxhPU9iamVjdC5rZXlzKGkpO2E9bmV3IFNldChhKTt2YXIgbz1lO3JldHVybiBvIGluc3RhbmNlb2YgQXJyYXkmJihvPW5ldyBTZXQobykpLG8uZm9yRWFjaCgoZnVuY3Rpb24odCl7YS5oYXModCl8fHIucHVzaCh0KX0pKSxyfWZ1bmN0aW9uIGZ0KHQsZSl7Zm9yKHZhciBuPTA7bjx0Lmxlbmd0aDtuKyspZS5kYXRhWzQqbiszXT10W25dfWZ1bmN0aW9uIGR0KHQsZSxuLHIpe3QuZm9udD0iIi5jb25jYXQociwiICIpLmNvbmNhdChuLCJweCAiKS5jb25jYXQoZSksdC5maWxsU3R5bGU9IiMwMDAiLHQudGV4dEJhc2VsaW5lPSJiYXNlbGluZSIsdC50ZXh0QWxpZ249ImxlZnQifXZhciB2dD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSl7bygpKHRoaXMsdCksdGhpcy5nbD1lLHRoaXMucHJvcHM9e2ZvbnRGYW1pbHk6Ik1vbmFjbywgbW9ub3NwYWNlIixmb250V2VpZ2h0OiJub3JtYWwiLGNoYXJhY3RlclNldDp1dCxmb250U2l6ZTo2NCxidWZmZXI6MixzZGY6ITEsY3V0b2ZmOi4yNSxyYWRpdXM6M30sdGhpcy5fa2V5PW51bGwsdGhpcy5fdGV4dHVyZT1uZXcgay5hKHRoaXMuZ2wpfXJldHVybiB1KCkodCxbe2tleToiZmluYWxpemUiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5fdGV4dHVyZS5kZWxldGUoKX19LHtrZXk6InNldFByb3BzIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMsZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e307bHQuZm9yRWFjaCgoZnVuY3Rpb24obil7biBpbiBlJiYodC5wcm9wc1tuXT1lW25dKX0pKTt2YXIgbj10aGlzLl9rZXk7dGhpcy5fa2V5PXRoaXMuX2dldEtleSgpO3ZhciByPWh0KHRoaXMuX2tleSx0aGlzLnByb3BzLmNoYXJhY3RlclNldCksaT1jdC5nZXQodGhpcy5fa2V5KTtpZihpJiYwPT09ci5sZW5ndGgpdGhpcy5fa2V5IT09biYmdGhpcy5fdXBkYXRlVGV4dHVyZShpKTtlbHNle3ZhciBhPXRoaXMuX2dlbmVyYXRlRm9udEF0bGFzKHRoaXMuX2tleSxyLGkpO3RoaXMuX3VwZGF0ZVRleHR1cmUoYSksY3Quc2V0KHRoaXMuX2tleSxhKX19fSx7a2V5OiJfdXBkYXRlVGV4dHVyZSIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGUsbj10LmRhdGEscj10LndpZHRoLGk9dC5oZWlnaHQ7dGhpcy5fdGV4dHVyZS53aWR0aD09PXImJnRoaXMuX3RleHR1cmUuaGVpZ2h0PT09aXx8dGhpcy5fdGV4dHVyZS5yZXNpemUoe3dpZHRoOnIsaGVpZ2h0Oml9KSx0aGlzLl90ZXh0dXJlLnNldEltYWdlRGF0YSh7ZGF0YTpuLHdpZHRoOnIsaGVpZ2h0OmkscGFyYW1ldGVyczooZT17fSxtKCkoZSwxMDI0MiwzMzA3MSksbSgpKGUsMTAyNDMsMzMwNzEpLGUpfSksdGhpcy5fdGV4dHVyZS5nZW5lcmF0ZU1pcG1hcCgpfX0se2tleToiX2dlbmVyYXRlRm9udEF0bGFzIix2YWx1ZTpmdW5jdGlvbih0LGUsbil7dmFyIHI9dGhpcy5wcm9wcyxpPXIuZm9udEZhbWlseSxhPXIuZm9udFdlaWdodCxvPXIuZm9udFNpemUscz1yLmJ1ZmZlcix1PXIuc2RmLGM9ci5yYWRpdXMsbD1yLmN1dG9mZixoPW4mJm4uZGF0YTtofHwoKGg9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiY2FudmFzIikpLndpZHRoPTEwMjQpO3ZhciBmPWguZ2V0Q29udGV4dCgiMmQiKTtkdChmLGksbyxhKTt2YXIgZD1mdW5jdGlvbih0KXt2YXIgZT10LmNoYXJhY3RlclNldCxuPXQuZ2V0Rm9udFdpZHRoLHI9dC5mb250SGVpZ2h0LGk9dC5idWZmZXIsYT10Lm1heENhbnZhc1dpZHRoLG89dC5tYXBwaW5nLHM9dm9pZCAwPT09bz97fTpvLHU9dC54T2Zmc2V0LGM9dm9pZCAwPT09dT8wOnUsbD10LnlPZmZzZXQsaD12b2lkIDA9PT1sPzA6bCxmPTAsZD1jLHY9MCxwPSEwLGc9ITEseT12b2lkIDA7dHJ5e2Zvcih2YXIgbSxiPWVbU3ltYm9sLml0ZXJhdG9yXSgpOyEocD0obT1iLm5leHQoKSkuZG9uZSk7cD0hMCl7dmFyIF89bS52YWx1ZTtpZighc1tfXSl7dmFyIE89bihfLHYrKyk7ZCtPKzIqaT5hJiYoZD0wLGYrKyksc1tfXT17eDpkK2kseTpoK2YqKHIrMippKStpLHdpZHRoOk8saGVpZ2h0OnJ9LGQrPU8rMippfX19Y2F0Y2godCl7Zz0hMCx5PXR9ZmluYWxseXt0cnl7cHx8bnVsbD09Yi5yZXR1cm58fGIucmV0dXJuKCl9ZmluYWxseXtpZihnKXRocm93IHl9fXZhciB4LHc9cisyKmk7cmV0dXJue21hcHBpbmc6cyx4T2Zmc2V0OmQseU9mZnNldDpoK2YqdyxjYW52YXNIZWlnaHQ6KHg9aCsoZisxKSp3LE1hdGgucG93KDIsTWF0aC5jZWlsKE1hdGgubG9nMih4KSkpKX19KE9iamVjdC5hc3NpZ24oe2dldEZvbnRXaWR0aDpmdW5jdGlvbih0KXtyZXR1cm4gZi5tZWFzdXJlVGV4dCh0KS53aWR0aH0sZm9udEhlaWdodDoxLjIqbyxidWZmZXI6cyxjaGFyYWN0ZXJTZXQ6ZSxtYXhDYW52YXNXaWR0aDoxMDI0fSxuJiZ7bWFwcGluZzpuLm1hcHBpbmcseE9mZnNldDpuLnhPZmZzZXQseU9mZnNldDpuLnlPZmZzZXR9KSksdj1kLm1hcHBpbmcscD1kLmNhbnZhc0hlaWdodCxnPWQueE9mZnNldCx5PWQueU9mZnNldDtpZihoLmhlaWdodCE9PXApe3ZhciBtPWYuZ2V0SW1hZ2VEYXRhKDAsMCxoLndpZHRoLGguaGVpZ2h0KTtoLmhlaWdodD1wLGYucHV0SW1hZ2VEYXRhKG0sMCwwKX1pZihkdChmLGksbyxhKSx1KXt2YXIgYj1uZXcgbnQuYShvLHMsYyxsLGksYSksXz1mLmdldEltYWdlRGF0YSgwLDAsYi5zaXplLGIuc2l6ZSksTz0hMCx4PSExLHc9dm9pZCAwO3RyeXtmb3IodmFyIGssUz1lW1N5bWJvbC5pdGVyYXRvcl0oKTshKE89KGs9Uy5uZXh0KCkpLmRvbmUpO089ITApe3ZhciBQPWsudmFsdWU7ZnQoYi5kcmF3KFApLF8pLGYucHV0SW1hZ2VEYXRhKF8sdltQXS54LXMsdltQXS55LXMpfX1jYXRjaCh0KXt4PSEwLHc9dH1maW5hbGx5e3RyeXtPfHxudWxsPT1TLnJldHVybnx8Uy5yZXR1cm4oKX1maW5hbGx5e2lmKHgpdGhyb3cgd319fWVsc2V7dmFyIGo9ITAsVD0hMSxFPXZvaWQgMDt0cnl7Zm9yKHZhciBBLE09ZVtTeW1ib2wuaXRlcmF0b3JdKCk7IShqPShBPU0ubmV4dCgpKS5kb25lKTtqPSEwKXt2YXIgQz1BLnZhbHVlO2YuZmlsbFRleHQoQyx2W0NdLngsdltDXS55Ky45Km8pfX1jYXRjaCh0KXtUPSEwLEU9dH1maW5hbGx5e3RyeXtqfHxudWxsPT1NLnJldHVybnx8TS5yZXR1cm4oKX1maW5hbGx5e2lmKFQpdGhyb3cgRX19fXJldHVybnt4T2Zmc2V0OmcseU9mZnNldDp5LG1hcHBpbmc6dixkYXRhOmgsd2lkdGg6aC53aWR0aCxoZWlnaHQ6aC5oZWlnaHR9fX0se2tleToiX2dldEtleSIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnByb3BzLGU9dC5nbCxuPXQuZm9udEZhbWlseSxyPXQuZm9udFdlaWdodCxpPXQuZm9udFNpemUsYT10LmJ1ZmZlcixvPXQuc2RmLHM9dC5yYWRpdXMsdT10LmN1dG9mZjtyZXR1cm4gbz8iIi5jb25jYXQoZSwiICIpLmNvbmNhdChuLCIgIikuY29uY2F0KHIsIiAiKS5jb25jYXQoaSwiICIpLmNvbmNhdChhLCIgIikuY29uY2F0KHMsIiAiKS5jb25jYXQodSk6IiIuY29uY2F0KGUsIiAiKS5jb25jYXQobiwiICIpLmNvbmNhdChyLCIgIikuY29uY2F0KGksIiAiKS5jb25jYXQoYSl9fSx7a2V5OiJ0ZXh0dXJlIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdGV4dHVyZX19LHtrZXk6Im1hcHBpbmciLGdldDpmdW5jdGlvbigpe3ZhciB0PWN0LmdldCh0aGlzLl9rZXkpO3JldHVybiB0JiZ0Lm1hcHBpbmd9fSx7a2V5OiJzY2FsZSIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIDEuMn19XSksdH0oKTtmdW5jdGlvbiBwdCh0LGUpe3ZhciBuPU9iamVjdC5rZXlzKHQpO2lmKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciByPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHModCk7ZSYmKHI9ci5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHQsZSkuZW51bWVyYWJsZX0pKSksbi5wdXNoLmFwcGx5KG4scil9cmV0dXJuIG59dmFyIGd0PXtmb250U2l6ZTo2NCxidWZmZXI6MixzZGY6ITEscmFkaXVzOjMsY3V0b2ZmOi4yNX0seXQ9e3N0YXJ0OjEsbWlkZGxlOjAsZW5kOi0xfSxtdD17dG9wOjEsY2VudGVyOjAsYm90dG9tOi0xfSxidD1bImZvbnRTaXplIiwiYnVmZmVyIiwic2RmIiwicmFkaXVzIiwiY3V0b2ZmIl0sX3Q9e2JpbGxib2FyZDohMCxzaXplU2NhbGU6MSxzaXplVW5pdHM6InBpeGVscyIsc2l6ZU1pblBpeGVsczowLHNpemVNYXhQaXhlbHM6TnVtYmVyLk1BWF9TQUZFX0lOVEVHRVIsYmFja2dyb3VuZENvbG9yOnt0eXBlOiJjb2xvciIsdmFsdWU6bnVsbCxvcHRpb25hbDohMH0sY2hhcmFjdGVyU2V0OnV0LGZvbnRGYW1pbHk6Ik1vbmFjbywgbW9ub3NwYWNlIixmb250V2VpZ2h0OiJub3JtYWwiLGxpbmVIZWlnaHQ6MSxmb250U2V0dGluZ3M6e30sd29yZEJyZWFrOiJ3b3JkLWJyZWFrIixtYXhXaWR0aDp7dHlwZToibnVtYmVyIix2YWx1ZTotMX0sZ2V0VGV4dDp7dHlwZToiYWNjZXNzb3IiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0LnRleHR9fSxnZXRQb3NpdGlvbjp7dHlwZToiYWNjZXNzb3IiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0LnBvc2l0aW9ufX0sZ2V0Q29sb3I6e3R5cGU6ImFjY2Vzc29yIix2YWx1ZTpbMCwwLDAsMjU1XX0sZ2V0U2l6ZTp7dHlwZToiYWNjZXNzb3IiLHZhbHVlOjMyfSxnZXRBbmdsZTp7dHlwZToiYWNjZXNzb3IiLHZhbHVlOjB9LGdldFRleHRBbmNob3I6e3R5cGU6ImFjY2Vzc29yIix2YWx1ZToibWlkZGxlIn0sZ2V0QWxpZ25tZW50QmFzZWxpbmU6e3R5cGU6ImFjY2Vzc29yIix2YWx1ZToiY2VudGVyIn0sZ2V0UGl4ZWxPZmZzZXQ6e3R5cGU6ImFjY2Vzc29yIix2YWx1ZTpbMCwwXX19LE90PWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXtyZXR1cm4gbygpKHRoaXMsZSksbCgpKHRoaXMsZigpKGUpLmFwcGx5KHRoaXMsYXJndW1lbnRzKSl9cmV0dXJuIGcoKShlLHQpLHUoKShlLFt7a2V5OiJpbml0aWFsaXplU3RhdGUiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5zdGF0ZT17c3R5bGVWZXJzaW9uOjAsZm9udEF0bGFzTWFuYWdlcjpuZXcgdnQodGhpcy5jb250ZXh0LmdsKX19fSx7a2V5OiJ1cGRhdGVTdGF0ZSIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dC5wcm9wcyxuPXQub2xkUHJvcHMscj10LmNoYW5nZUZsYWdzLGk9dGhpcy5fZm9udENoYW5nZWQobixlKTtpJiZ0aGlzLl91cGRhdGVGb250QXRsYXMobixlKTt2YXIgYT1pfHxlLmxpbmVIZWlnaHQhPT1uLmxpbmVIZWlnaHR8fGUud29yZEJyZWFrIT09bi53b3JkQnJlYWt8fGUubWF4V2lkdGghPT1uLm1heFdpZHRoOyhyLmRhdGFDaGFuZ2VkfHxyLnVwZGF0ZVRyaWdnZXJzQ2hhbmdlZCYmKHIudXBkYXRlVHJpZ2dlcnNDaGFuZ2VkLmFsbHx8ci51cGRhdGVUcmlnZ2Vyc0NoYW5nZWQuZ2V0VGV4dCkpJiZ0aGlzLl91cGRhdGVUZXh0KCksYSYmdGhpcy5zZXRTdGF0ZSh7c3R5bGVWZXJzaW9uOnRoaXMuc3RhdGUuc3R5bGVWZXJzaW9uKzF9KX19LHtrZXk6ImZpbmFsaXplU3RhdGUiLHZhbHVlOmZ1bmN0aW9uKCl7digpKGYoKShlLnByb3RvdHlwZSksImZpbmFsaXplU3RhdGUiLHRoaXMpLmNhbGwodGhpcyksdGhpcy5zdGF0ZS5mb250QXRsYXNNYW5hZ2VyLmZpbmFsaXplKCl9fSx7a2V5OiJnZXRQaWNraW5nSW5mbyIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dC5pbmZvO3JldHVybiBPYmplY3QuYXNzaWduKGUse29iamVjdDplLmluZGV4Pj0wP3RoaXMucHJvcHMuZGF0YVtlLmluZGV4XTpudWxsfSl9fSx7a2V5OiJfdXBkYXRlRm9udEF0bGFzIix2YWx1ZTpmdW5jdGlvbih0LGUpe3ZhciBuPWUuY2hhcmFjdGVyU2V0LHI9ZS5mb250U2V0dGluZ3MsaT1lLmZvbnRGYW1pbHksYT1lLmZvbnRXZWlnaHQ7dGhpcy5zdGF0ZS5mb250QXRsYXNNYW5hZ2VyLnNldFByb3BzKE9iamVjdC5hc3NpZ24oe30sZ3Qscix7Y2hhcmFjdGVyU2V0Om4sZm9udEZhbWlseTppLGZvbnRXZWlnaHQ6YX0pKSx0aGlzLnNldE5lZWRzUmVkcmF3KCEwKX19LHtrZXk6Il9mb250Q2hhbmdlZCIsdmFsdWU6ZnVuY3Rpb24odCxlKXtpZih0LmZvbnRGYW1pbHkhPT1lLmZvbnRGYW1pbHl8fHQuY2hhcmFjdGVyU2V0IT09ZS5jaGFyYWN0ZXJTZXR8fHQuZm9udFdlaWdodCE9PWUuZm9udFdlaWdodClyZXR1cm4hMDtpZih0LmZvbnRTZXR0aW5ncz09PWUuZm9udFNldHRpbmdzKXJldHVybiExO3ZhciBuPXQuZm9udFNldHRpbmdzfHx7fSxyPWUuZm9udFNldHRpbmdzfHx7fTtyZXR1cm4gYnQuc29tZSgoZnVuY3Rpb24odCl7cmV0dXJuIG5bdF0hPT1yW3RdfSkpfX0se2tleToiX3VwZGF0ZVRleHQiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQsZT10aGlzLnByb3BzLmRhdGEsbj1lLmF0dHJpYnV0ZXMmJmUuYXR0cmlidXRlcy5nZXRUZXh0LHI9dGhpcy5wcm9wcy5nZXRUZXh0LGk9ZS5zdGFydEluZGljZXM7aWYobiYmaSl7dmFyIGE9ZnVuY3Rpb24odCl7dmFyIGU9dC52YWx1ZSxuPXQubGVuZ3RoLHI9dC5zdHJpZGUsaT10Lm9mZnNldCxhPXQuc3RhcnRJbmRpY2VzLG89ZS5CWVRFU19QRVJfRUxFTUVOVCxzPXI/ci9vOjEsdT1pP2kvbzowLGM9YVtuXXx8TWF0aC5mbG9vcigoZS5sZW5ndGgtdS1vKS9zKSsxLGw9bmV3IEFycmF5KG4pLGg9ZTtpZihzPjF8fHU+MCl7aD1uZXcgZS5jb25zdHJ1Y3RvcihjKTtmb3IodmFyIGY9MDtmPGM7ZisrKWhbZl09ZVtmKnMrdV19Zm9yKHZhciBkPTA7ZDxuO2QrKyl7dmFyIHY9YVtkXSxwPWFbZCsxXXx8YztsW2RdPVN0cmluZy5mcm9tQ29kZVBvaW50LmFwcGx5KG51bGwsaC5zdWJhcnJheSh2LHApKX1yZXR1cm57dGV4dHM6bCxjaGFyYWN0ZXJDb3VudDpjfX0oZnVuY3Rpb24odCl7Zm9yKHZhciBlPTE7ZTxhcmd1bWVudHMubGVuZ3RoO2UrKyl7dmFyIG49bnVsbCE9YXJndW1lbnRzW2VdP2FyZ3VtZW50c1tlXTp7fTtlJTI/cHQoT2JqZWN0KG4pLCEwKS5mb3JFYWNoKChmdW5jdGlvbihlKXttKCkodCxlLG5bZV0pfSkpOk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzP09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHQsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMobikpOnB0KE9iamVjdChuKSkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsZSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG4sZSkpfSkpfXJldHVybiB0fSh7fSxBcnJheUJ1ZmZlci5pc1ZpZXcobik/e3ZhbHVlOm59Om4se2xlbmd0aDplLmxlbmd0aCxzdGFydEluZGljZXM6aX0pKSxvPWEudGV4dHM7dD1hLmNoYXJhY3RlckNvdW50LHI9ZnVuY3Rpb24odCxlKXt2YXIgbj1lLmluZGV4O3JldHVybiBvW25dfX1lbHNle3ZhciBzPU9iamVjdChDLmEpKGUpLHU9cy5pdGVyYWJsZSxjPXMub2JqZWN0SW5mbztpPVswXSx0PTA7dmFyIGw9ITAsaD0hMSxmPXZvaWQgMDt0cnl7Zm9yKHZhciBkLHY9dVtTeW1ib2wuaXRlcmF0b3JdKCk7IShsPShkPXYubmV4dCgpKS5kb25lKTtsPSEwKXt2YXIgcD1kLnZhbHVlO2MuaW5kZXgrKyx0Kz0ocihwLGMpfHwiIikubGVuZ3RoLGkucHVzaCh0KX19Y2F0Y2godCl7aD0hMCxmPXR9ZmluYWxseXt0cnl7bHx8bnVsbD09di5yZXR1cm58fHYucmV0dXJuKCl9ZmluYWxseXtpZihoKXRocm93IGZ9fX10aGlzLnNldFN0YXRlKHtnZXRUZXh0OnIsc3RhcnRJbmRpY2VzOmksbnVtSW5zdGFuY2VzOnR9KX19LHtrZXk6ImdldEljb25PZmZzZXRzIix2YWx1ZTpmdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMuc3RhdGUuZm9udEF0bGFzTWFuYWdlci5tYXBwaW5nLHI9dGhpcy5zdGF0ZS5nZXRUZXh0LGk9dGhpcy5wcm9wcyxhPWkud29yZEJyZWFrLG89aS5tYXhXaWR0aCxzPWkubGluZUhlaWdodCx1PWkuZ2V0VGV4dEFuY2hvcixjPWkuZ2V0QWxpZ25tZW50QmFzZWxpbmUsbD1yKHQsZSl8fCIiLGg9ZnVuY3Rpb24odCxlLG4scixpKXtmb3IodmFyIGE9bmV3IEFycmF5KHQubGVuZ3RoKSxvPSgiYnJlYWstd29yZCI9PT1ufHwiYnJlYWstYWxsIj09PW4pJiZpc0Zpbml0ZShyKSYmcj4wLHM9WzAsMF0sdT0wLGM9MCxsPTA7bDw9dC5sZW5ndGg7bCsrKXt2YXIgaD10W2xdLGY9dm9pZCAwO2lmKCJcbiIhPT1oJiZ2b2lkIDAhPT1ofHwoZj10LnNsaWNlKGMsbCkpLGYpe3ZhciBkPW8/YXQoZixuLHIsaSkucm93czpbZl0sdj0hMCxwPSExLGc9dm9pZCAwO3RyeXtmb3IodmFyIHksbT1kW1N5bWJvbC5pdGVyYXRvcl0oKTshKHY9KHk9bS5uZXh0KCkpLmRvbmUpO3Y9ITApe3ZhciBiPW90KHkudmFsdWUsaSksXz1iLnJvd1dpZHRoLE89Yi5yb3dIZWlnaHQseD1iLmxlZnRPZmZzZXRzLHc9ITAsaz0hMSxTPXZvaWQgMDt0cnl7Zm9yKHZhciBQLGo9eFtTeW1ib2wuaXRlcmF0b3JdKCk7ISh3PShQPWoubmV4dCgpKS5kb25lKTt3PSEwKXt2YXIgVD1QLnZhbHVlO2FbYysrXT17eDpULHk6dStPLzIscm93V2lkdGg6X319fWNhdGNoKHQpe2s9ITAsUz10fWZpbmFsbHl7dHJ5e3d8fG51bGw9PWoucmV0dXJufHxqLnJldHVybigpfWZpbmFsbHl7aWYoayl0aHJvdyBTfX11Kz1PKmUsc1swXT1vP3I6TWF0aC5tYXgoc1swXSxfKX19Y2F0Y2godCl7cD0hMCxnPXR9ZmluYWxseXt0cnl7dnx8bnVsbD09bS5yZXR1cm58fG0ucmV0dXJuKCl9ZmluYWxseXtpZihwKXRocm93IGd9fX0iXG4iPT09aCYmKGFbYysrXT17eDowLHk6MCxyb3dXaWR0aDowfSl9cmV0dXJuIHNbMV09dSx7Y2hhcmFjdGVyczphLHNpemU6c319KGwscyxhLG8sbiksZj1oLmNoYXJhY3RlcnMsZD1RKCkoaC5zaXplLDIpLHY9ZFswXSxwPWRbMV0sZz15dFsiZnVuY3Rpb24iPT10eXBlb2YgdT91KHQsZSk6dV0seT1tdFsiZnVuY3Rpb24iPT10eXBlb2YgYz9jKHQsZSk6Y10sbT1uZXcgQXJyYXkoMipsLmxlbmd0aCksYj0wLF89ITAsTz0hMSx4PXZvaWQgMDt0cnl7Zm9yKHZhciB3LGs9ZltTeW1ib2wuaXRlcmF0b3JdKCk7IShfPSh3PWsubmV4dCgpKS5kb25lKTtfPSEwKXt2YXIgUz13LnZhbHVlLFA9Uy5yb3dXaWR0aCxqPVMueCxUPVMueSxFPSgxLWcpKih2LVApLzI7bVtiKytdPShnLTEpKnYvMitFK2osbVtiKytdPSh5LTEpKnAvMitUfX1jYXRjaCh0KXtPPSEwLHg9dH1maW5hbGx5e3RyeXtffHxudWxsPT1rLnJldHVybnx8ay5yZXR1cm4oKX1maW5hbGx5e2lmKE8pdGhyb3cgeH19cmV0dXJuIG19fSx7a2V5OiJyZW5kZXJMYXllcnMiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5zdGF0ZSxlPXQuc3RhcnRJbmRpY2VzLG49dC5udW1JbnN0YW5jZXMscj10LmdldFRleHQsaT10LmZvbnRBdGxhc01hbmFnZXIsYT1pLnNjYWxlLG89aS50ZXh0dXJlLHM9aS5tYXBwaW5nLHU9dC5zdHlsZVZlcnNpb24sYz10aGlzLnByb3BzLGw9Yy5kYXRhLGg9Yy5fZGF0YURpZmYsZj1jLmJhY2tncm91bmRDb2xvcixkPWMuZ2V0UG9zaXRpb24sdj1jLmdldENvbG9yLHA9Yy5nZXRTaXplLGc9Yy5nZXRBbmdsZSx5PWMuZ2V0UGl4ZWxPZmZzZXQsbT1jLmJpbGxib2FyZCxiPWMuc2RmLF89Yy5zaXplU2NhbGUsTz1jLnNpemVVbml0cyx4PWMuc2l6ZU1pblBpeGVscyx3PWMuc2l6ZU1heFBpeGVscyxrPWMudHJhbnNpdGlvbnMsUz1jLnVwZGF0ZVRyaWdnZXJzLFA9dGhpcy5nZXRJY29uT2Zmc2V0cy5iaW5kKHRoaXMpO3JldHVybiBuZXcodGhpcy5nZXRTdWJMYXllckNsYXNzKCJjaGFyYWN0ZXJzIix0dCkpKHtzZGY6YixpY29uQXRsYXM6byxpY29uTWFwcGluZzpzLGJhY2tncm91bmRDb2xvcjpmLGdldFBvc2l0aW9uOmQsZ2V0Q29sb3I6dixnZXRTaXplOnAsZ2V0QW5nbGU6ZyxnZXRQaXhlbE9mZnNldDp5LGJpbGxib2FyZDptLHNpemVTY2FsZTpfKmEsc2l6ZVVuaXRzOk8sc2l6ZU1pblBpeGVsczp4KmEsc2l6ZU1heFBpeGVsczp3KmEsdHJhbnNpdGlvbnM6ayYme2dldFBvc2l0aW9uOmsuZ2V0UG9zaXRpb24sZ2V0QW5nbGU6ay5nZXRBbmdsZSxnZXRDb2xvcjprLmdldENvbG9yLGdldFNpemU6ay5nZXRTaXplLGdldFBpeGVsT2Zmc2V0OlMuZ2V0UGl4ZWxPZmZzZXR9fSx0aGlzLmdldFN1YkxheWVyUHJvcHMoe2lkOiJjaGFyYWN0ZXJzIix1cGRhdGVUcmlnZ2Vyczp7Z2V0UG9zaXRpb246Uy5nZXRQb3NpdGlvbixnZXRBbmdsZTpTLmdldEFuZ2xlLGdldENvbG9yOlMuZ2V0Q29sb3IsZ2V0U2l6ZTpTLmdldFNpemUsZ2V0UGl4ZWxPZmZzZXQ6Uy5nZXRQaXhlbE9mZnNldCxnZXRJY29uT2Zmc2V0czp7Z2V0VGV4dDpTLmdldFRleHQsZ2V0VGV4dEFuY2hvcjpTLmdldFRleHRBbmNob3IsZ2V0QWxpZ25tZW50QmFzZWxpbmU6Uy5nZXRBbGlnbm1lbnRCYXNlbGluZSxzdHlsZVZlcnNpb246dX19fSkse2RhdGE6bCxfZGF0YURpZmY6aCxzdGFydEluZGljZXM6ZSxudW1JbnN0YW5jZXM6bixnZXRJY29uT2Zmc2V0czpQLGdldEljb246cn0pfX1dKSxlfShKLmEpO090LmxheWVyTmFtZT0iVGV4dExheWVyIixPdC5kZWZhdWx0UHJvcHM9X3Q7dmFyIHh0PW4oMTE5KTtuLmQoZSwiQXJjTGF5ZXIiLChmdW5jdGlvbigpe3JldHVybiBpLmF9KSksbi5kKGUsIkJpdG1hcExheWVyIiwoZnVuY3Rpb24oKXtyZXR1cm4gUH0pKSxuLmQoZSwiSWNvbkxheWVyIiwoZnVuY3Rpb24oKXtyZXR1cm4gVX0pKSxuLmQoZSwiTGluZUxheWVyIiwoZnVuY3Rpb24oKXtyZXR1cm4gVi5hfSkpLG4uZChlLCJQb2ludENsb3VkTGF5ZXIiLChmdW5jdGlvbigpe3JldHVybiBHLmF9KSksbi5kKGUsIlNjYXR0ZXJwbG90TGF5ZXIiLChmdW5jdGlvbigpe3JldHVybiBXLmF9KSksbi5kKGUsIkNvbHVtbkxheWVyIiwoZnVuY3Rpb24oKXtyZXR1cm4gSC5hfSkpLG4uZChlLCJHcmlkQ2VsbExheWVyIiwoZnVuY3Rpb24oKXtyZXR1cm4gcS5hfSkpLG4uZChlLCJQYXRoTGF5ZXIiLChmdW5jdGlvbigpe3JldHVybiBYLmF9KSksbi5kKGUsIlBvbHlnb25MYXllciIsKGZ1bmN0aW9uKCl7cmV0dXJuIFouYX0pKSxuLmQoZSwiR2VvSnNvbkxheWVyIiwoZnVuY3Rpb24oKXtyZXR1cm4gWS5hfSkpLG4uZChlLCJUZXh0TGF5ZXIiLChmdW5jdGlvbigpe3JldHVybiBPdH0pKSxuLmQoZSwiU29saWRQb2x5Z29uTGF5ZXIiLChmdW5jdGlvbigpe3JldHVybiB4dC5hfSkpLG4uZChlLCJfTXVsdGlJY29uTGF5ZXIiLChmdW5jdGlvbigpe3JldHVybiB0dH0pKX0sZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0IjtuLmQoZSwiZiIsKGZ1bmN0aW9uKCl7cmV0dXJuIGF9KSksbi5kKGUsImciLChmdW5jdGlvbigpe3JldHVybiBvfSkpLG4uZChlLCJiIiwoZnVuY3Rpb24oKXtyZXR1cm4gc30pKSxuLmQoZSwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIHV9KSksbi5kKGUsImMiLChmdW5jdGlvbigpe3JldHVybiBjfSkpLG4uZChlLCJkIiwoZnVuY3Rpb24oKXtyZXR1cm4gbH0pKSxuLmQoZSwiZSIsKGZ1bmN0aW9uKCl7cmV0dXJuIGZ9KSk7dmFyIHI9bigyNSksaT17c2VsZjoidW5kZWZpbmVkIiE9dHlwZW9mIHNlbGYmJnNlbGYsd2luZG93OiJ1bmRlZmluZWQiIT10eXBlb2Ygd2luZG93JiZ3aW5kb3csZ2xvYmFsOiJ1bmRlZmluZWQiIT10eXBlb2YgZ2xvYmFsJiZnbG9iYWwsZG9jdW1lbnQ6InVuZGVmaW5lZCIhPXR5cGVvZiBkb2N1bWVudCYmZG9jdW1lbnR9LGE9aS5zZWxmfHxpLndpbmRvd3x8aS5nbG9iYWwsbz1pLndpbmRvd3x8aS5zZWxmfHxpLmdsb2JhbCxzPWkuZ2xvYmFsfHxpLnNlbGZ8fGkud2luZG93LHU9aS5kb2N1bWVudHx8e30sYz0ib2JqZWN0IiE9PSgidW5kZWZpbmVkIj09dHlwZW9mIHByb2Nlc3M/InVuZGVmaW5lZCI6T2JqZWN0KHIuYSkocHJvY2VzcykpfHwiW29iamVjdCBwcm9jZXNzXSIhPT1TdHJpbmcocHJvY2Vzcyl8fHByb2Nlc3MuYnJvd3NlcixsPSJmdW5jdGlvbiI9PXR5cGVvZiBpbXBvcnRTY3JpcHRzLGg9InVuZGVmaW5lZCIhPXR5cGVvZiBwcm9jZXNzJiZwcm9jZXNzLnZlcnNpb24mJnByb2Nlc3MudmVyc2lvbi5tYXRjaCgvdihbMC05XSopLyksZj1oJiZwYXJzZUZsb2F0KGhbMV0pfHwwfSxmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIHIodCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOmZ1bmN0aW9uKCl7cmV0dXJuITB9O3JldHVybiBBcnJheS5pc0FycmF5KHQpP2kodCxlLFtdKTplKHQpP1t0XTpbXX1mdW5jdGlvbiBpKHQsZSxuKXtmb3IodmFyIHI9LTE7KytyPHQubGVuZ3RoOyl7dmFyIGE9dFtyXTtBcnJheS5pc0FycmF5KGEpP2koYSxlLG4pOmUoYSkmJm4ucHVzaChhKX1yZXR1cm4gbn1mdW5jdGlvbiBhKHQpe2Zvcih2YXIgZT10LnRhcmdldCxuPXQuc291cmNlLHI9dC5zdGFydCxpPXZvaWQgMD09PXI/MDpyLGE9dC5jb3VudCxvPXZvaWQgMD09PWE/MTphLHM9bi5sZW5ndGgsdT1vKnMsYz0wLGw9aTtjPHM7YysrKWVbbCsrXT1uW2NdO2Zvcig7Yzx1OyljPHUtYz8oZS5jb3B5V2l0aGluKGkrYyxpLGkrYyksYyo9Mik6KGUuY29weVdpdGhpbihpK2MsaSxpK3UtYyksYz11KTtyZXR1cm4gZX1uLmQoZSwiYiIsKGZ1bmN0aW9uKCl7cmV0dXJuIHJ9KSksbi5kKGUsImEiLChmdW5jdGlvbigpe3JldHVybiBhfSkpfSxmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO24uZChlLCJiIiwoZnVuY3Rpb24oKXtyZXR1cm4gYX0pKSxuLmQoZSwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIG99KSk7dmFyIHI9bigyOCksaT1uKDExKTtmdW5jdGlvbiBhKHQpe09iamVjdChyLmEpKE9iamVjdChpLmYpKHQpLCJJbnZhbGlkIFdlYkdMUmVuZGVyaW5nQ29udGV4dCIpfWZ1bmN0aW9uIG8odCl7T2JqZWN0KHIuYSkoT2JqZWN0KGkuZykodCksIlJlcXVpcmVzIFdlYkdMMiIpfX0sZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0IjtuLmQoZSwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIGd9KSk7dmFyIHI9bigxKSxpPW4ubihyKSxhPW4oMiksbz1uLm4oYSkscz1uKDkpLHU9bi5uKHMpLGM9bigzKSxsPW4ubihjKSxoPW4oMTApLGY9bi5uKGgpLGQ9bigxNzApLHY9big4KSxwPVsibG9uZ2l0dWRlIiwibGF0aXR1ZGUiLCJ6b29tIiwiYmVhcmluZyIsInBpdGNoIl0sZz1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnA7cmV0dXJuIGkoKSh0aGlzLGUpLHUoKSh0aGlzLGwoKShlKS5jYWxsKHRoaXMsdCkpfXJldHVybiBmKCkoZSx0KSxvKCkoZSxbe2tleToiaW50ZXJwb2xhdGVQcm9wcyIsdmFsdWU6ZnVuY3Rpb24odCxlLG4pe3ZhciByPXt9O2Zvcih2YXIgaSBpbiBlKXJbaV09T2JqZWN0KHYubCkodFtpXSxlW2ldLG4pO3JldHVybiByfX1dKSxlfShkLmEpfSxmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO24uZChlLCJhIiwoZnVuY3Rpb24oKXtyZXR1cm4gbH0pKSxuLmQoZSwiYiIsKGZ1bmN0aW9uKCl7cmV0dXJuIGZ9KSk7dmFyIHI9bigxKSxpPW4ubihyKSxhPW4oMiksbz1uLm4oYSkscz1uKDc3KSx1PW4oODUpLGM9ZnVuY3Rpb24oKXt9LGw9e0JSRUFLOjEsU05BUF9UT19FTkQ6MixJR05PUkU6M30saD17dHJhbnNpdGlvbkR1cmF0aW9uOjAsdHJhbnNpdGlvbkVhc2luZzpmdW5jdGlvbih0KXtyZXR1cm4gdH0sdHJhbnNpdGlvbkludGVycG9sYXRvcjpuZXcgcy5hLHRyYW5zaXRpb25JbnRlcnJ1cHRpb246bC5CUkVBSyxvblRyYW5zaXRpb25TdGFydDpjLG9uVHJhbnNpdGlvbkludGVycnVwdDpjLG9uVHJhbnNpdGlvbkVuZDpjfSxmPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlKXt2YXIgbj1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06e307aSgpKHRoaXMsdCksdGhpcy5Db250cm9sbGVyU3RhdGU9ZSx0aGlzLnByb3BzPU9iamVjdC5hc3NpZ24oe30saCxuKSx0aGlzLnByb3BzSW5UcmFuc2l0aW9uPW51bGwsdGhpcy50cmFuc2l0aW9uPW5ldyB1LmEobi50aW1lbGluZSksdGhpcy5vblZpZXdTdGF0ZUNoYW5nZT1uLm9uVmlld1N0YXRlQ2hhbmdlLHRoaXMuX29uVHJhbnNpdGlvblVwZGF0ZT10aGlzLl9vblRyYW5zaXRpb25VcGRhdGUuYmluZCh0aGlzKX1yZXR1cm4gbygpKHQsW3trZXk6ImZpbmFsaXplIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMudHJhbnNpdGlvbi5jYW5jZWwoKX19LHtrZXk6ImdldFZpZXdwb3J0SW5UcmFuc2l0aW9uIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnByb3BzSW5UcmFuc2l0aW9ufX0se2tleToicHJvY2Vzc1ZpZXdTdGF0ZUNoYW5nZSIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9ITEsbj10aGlzLnByb3BzO2lmKHQ9T2JqZWN0LmFzc2lnbih7fSxoLHQpLHRoaXMucHJvcHM9dCx0aGlzLl9zaG91bGRJZ25vcmVWaWV3cG9ydENoYW5nZShuLHQpKXJldHVybiBlO2lmKHRoaXMuX2lzVHJhbnNpdGlvbkVuYWJsZWQodCkpe3ZhciByPXRoaXMudHJhbnNpdGlvbi5zZXR0aW5ncyxpPXIuaW50ZXJydXB0aW9uLGE9ci5lbmRQcm9wcyxvPU9iamVjdC5hc3NpZ24oe30sbixpPT09bC5TTkFQX1RPX0VORD9hOnRoaXMucHJvcHNJblRyYW5zaXRpb258fG4pO3RoaXMuX3RyaWdnZXJUcmFuc2l0aW9uKG8sdCksZT0hMH1lbHNlIHRoaXMudHJhbnNpdGlvbi5jYW5jZWwoKTtyZXR1cm4gZX19LHtrZXk6InVwZGF0ZVRyYW5zaXRpb24iLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy50cmFuc2l0aW9uLnVwZGF0ZSgpfX0se2tleToiX2lzVHJhbnNpdGlvbkVuYWJsZWQiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXQudHJhbnNpdGlvbkR1cmF0aW9uLG49dC50cmFuc2l0aW9uSW50ZXJwb2xhdG9yO3JldHVybihlPjB8fCJhdXRvIj09PWUpJiZCb29sZWFuKG4pfX0se2tleToiX2lzVXBkYXRlRHVlVG9DdXJyZW50VHJhbnNpdGlvbiIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuISF0aGlzLnRyYW5zaXRpb24uaW5Qcm9ncmVzcyYmdGhpcy50cmFuc2l0aW9uLnNldHRpbmdzLmludGVycG9sYXRvci5hcmVQcm9wc0VxdWFsKHQsdGhpcy5wcm9wc0luVHJhbnNpdGlvbil9fSx7a2V5OiJfc2hvdWxkSWdub3JlVmlld3BvcnRDaGFuZ2UiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMudHJhbnNpdGlvbi5pblByb2dyZXNzP3RoaXMudHJhbnNpdGlvbi5zZXR0aW5ncy5pbnRlcnJ1cHRpb249PT1sLklHTk9SRXx8dGhpcy5faXNVcGRhdGVEdWVUb0N1cnJlbnRUcmFuc2l0aW9uKGUpOiF0aGlzLl9pc1RyYW5zaXRpb25FbmFibGVkKGUpfHxlLnRyYW5zaXRpb25JbnRlcnBvbGF0b3IuYXJlUHJvcHNFcXVhbCh0LGUpfX0se2tleToiX3RyaWdnZXJUcmFuc2l0aW9uIix2YWx1ZTpmdW5jdGlvbih0LGUpe3ZhciBuPW5ldyB0aGlzLkNvbnRyb2xsZXJTdGF0ZSh0KSxyPW5ldyB0aGlzLkNvbnRyb2xsZXJTdGF0ZShlKS5zaG9ydGVzdFBhdGhGcm9tKG4pLGk9ZS50cmFuc2l0aW9uSW50ZXJwb2xhdG9yLGE9aS5nZXREdXJhdGlvbj9pLmdldER1cmF0aW9uKHQsZSk6ZS50cmFuc2l0aW9uRHVyYXRpb24sbz1lLnRyYW5zaXRpb25JbnRlcnBvbGF0b3IuaW5pdGlhbGl6ZVByb3BzKHQscik7dGhpcy5wcm9wc0luVHJhbnNpdGlvbj17fSx0aGlzLmR1cmF0aW9uPWEsdGhpcy50cmFuc2l0aW9uLnN0YXJ0KHtkdXJhdGlvbjphLGVhc2luZzplLnRyYW5zaXRpb25FYXNpbmcsaW50ZXJwb2xhdG9yOmUudHJhbnNpdGlvbkludGVycG9sYXRvcixpbnRlcnJ1cHRpb246ZS50cmFuc2l0aW9uSW50ZXJydXB0aW9uLHN0YXJ0UHJvcHM6by5zdGFydCxlbmRQcm9wczpvLmVuZCxvblN0YXJ0OmUub25UcmFuc2l0aW9uU3RhcnQsb25VcGRhdGU6dGhpcy5fb25UcmFuc2l0aW9uVXBkYXRlLG9uSW50ZXJydXB0OnRoaXMuX29uVHJhbnNpdGlvbkVuZChlLm9uVHJhbnNpdGlvbkludGVycnVwdCksb25FbmQ6dGhpcy5fb25UcmFuc2l0aW9uRW5kKGUub25UcmFuc2l0aW9uRW5kKX0pLHRoaXMudXBkYXRlVHJhbnNpdGlvbigpfX0se2tleToiX29uVHJhbnNpdGlvbkVuZCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcztyZXR1cm4gZnVuY3Rpb24obil7ZS5wcm9wc0luVHJhbnNpdGlvbj1udWxsLHQobil9fX0se2tleToiX29uVHJhbnNpdGlvblVwZGF0ZSIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dC50aW1lLG49dC5zZXR0aW5ncyxyPW4uaW50ZXJwb2xhdG9yLGk9bi5zdGFydFByb3BzLGE9bi5lbmRQcm9wcyxvPW4uZHVyYXRpb24scz0oMCxuLmVhc2luZykoZS9vKSx1PXIuaW50ZXJwb2xhdGVQcm9wcyhpLGEscyk7dGhpcy5wcm9wc0luVHJhbnNpdGlvbj1uZXcgdGhpcy5Db250cm9sbGVyU3RhdGUoT2JqZWN0LmFzc2lnbih7fSx0aGlzLnByb3BzLHUpKS5nZXRWaWV3cG9ydFByb3BzKCksdGhpcy5vblZpZXdTdGF0ZUNoYW5nZSYmdGhpcy5vblZpZXdTdGF0ZUNoYW5nZSh7dmlld1N0YXRlOnRoaXMucHJvcHNJblRyYW5zaXRpb24saW50ZXJhY3Rpb25TdGF0ZTp7aW5UcmFuc2l0aW9uOiEwfSxvbGRWaWV3U3RhdGU6dGhpcy5wcm9wc30pfX1dKSx0fSgpO2YuZGVmYXVsdFByb3BzPWh9LGZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7bi5kKGUsImEiLChmdW5jdGlvbigpe3JldHVybiBnfSkpO3ZhciByPW4oMSksaT1uLm4ociksYT1uKDIpLG89bi5uKGEpLHM9big3OCksdT1uKDIzKSxjPW4oMjkpLGw9e3RyYW5zaXRpb25EdXJhdGlvbjowfSxoPVsid2hlZWwiXSxmPVsicGFuc3RhcnQiLCJwYW5tb3ZlIiwicGFuZW5kIl0sZD1bInBpbmNoc3RhcnQiLCJwaW5jaG1vdmUiLCJwaW5jaGVuZCJdLHY9WyJkb3VibGV0YXAiXSxwPVsia2V5ZG93biJdLGc9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUpe3ZhciBuPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp7fTtpKCkodGhpcyx0KSxPYmplY3QoYy5hKShlKSx0aGlzLkNvbnRyb2xsZXJTdGF0ZT1lLHRoaXMuY29udHJvbGxlclN0YXRlPW51bGwsdGhpcy5jb250cm9sbGVyU3RhdGVQcm9wcz1udWxsLHRoaXMuZXZlbnRNYW5hZ2VyPW51bGwsdGhpcy50cmFuc2l0aW9uTWFuYWdlcj1uZXcgcy5iKGUsbiksdGhpcy5fZXZlbnRzPW51bGwsdGhpcy5fc3RhdGU9e2lzRHJhZ2dpbmc6ITF9LHRoaXMuX2N1c3RvbUV2ZW50cz1bXSx0aGlzLm9uVmlld1N0YXRlQ2hhbmdlPW51bGwsdGhpcy5vblN0YXRlQ2hhbmdlPW51bGwsdGhpcy5pbnZlcnRQYW49ITEsdGhpcy5oYW5kbGVFdmVudD10aGlzLmhhbmRsZUV2ZW50LmJpbmQodGhpcyksdGhpcy5zZXRQcm9wcyhuKX1yZXR1cm4gbygpKHQsW3trZXk6ImZpbmFsaXplIix2YWx1ZTpmdW5jdGlvbigpe2Zvcih2YXIgdCBpbiB0aGlzLl9ldmVudHMpdGhpcy5fZXZlbnRzW3RdJiZ0aGlzLmV2ZW50TWFuYWdlci5vZmYodCx0aGlzLmhhbmRsZUV2ZW50KTt0aGlzLnRyYW5zaXRpb25NYW5hZ2VyLmZpbmFsaXplKCl9fSx7a2V5OiJoYW5kbGVFdmVudCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5Db250cm9sbGVyU3RhdGU7c3dpdGNoKHRoaXMuY29udHJvbGxlclN0YXRlPW5ldyBlKE9iamVjdC5hc3NpZ24oe30sdGhpcy5jb250cm9sbGVyU3RhdGVQcm9wcyx0aGlzLl9zdGF0ZSkpLHQudHlwZSl7Y2FzZSJwYW5zdGFydCI6cmV0dXJuIHRoaXMuX29uUGFuU3RhcnQodCk7Y2FzZSJwYW5tb3ZlIjpyZXR1cm4gdGhpcy5fb25QYW4odCk7Y2FzZSJwYW5lbmQiOnJldHVybiB0aGlzLl9vblBhbkVuZCh0KTtjYXNlInBpbmNoc3RhcnQiOnJldHVybiB0aGlzLl9vblBpbmNoU3RhcnQodCk7Y2FzZSJwaW5jaG1vdmUiOnJldHVybiB0aGlzLl9vblBpbmNoKHQpO2Nhc2UicGluY2hlbmQiOnJldHVybiB0aGlzLl9vblBpbmNoRW5kKHQpO2Nhc2UiZG91YmxldGFwIjpyZXR1cm4gdGhpcy5fb25Eb3VibGVUYXAodCk7Y2FzZSJ3aGVlbCI6cmV0dXJuIHRoaXMuX29uV2hlZWwodCk7Y2FzZSJrZXlkb3duIjpyZXR1cm4gdGhpcy5fb25LZXlEb3duKHQpO2RlZmF1bHQ6cmV0dXJuITF9fX0se2tleToiZ2V0Q2VudGVyIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLmNvbnRyb2xsZXJTdGF0ZVByb3BzLG49ZS54LHI9ZS55LGk9dC5vZmZzZXRDZW50ZXI7cmV0dXJuW2kueC1uLGkueS1yXX19LHtrZXk6ImlzUG9pbnRJbkJvdW5kcyIsdmFsdWU6ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLmNvbnRyb2xsZXJTdGF0ZVByb3BzLHI9bi53aWR0aCxpPW4uaGVpZ2h0O2lmKGUmJmUuaGFuZGxlZClyZXR1cm4hMTt2YXIgYT10WzBdPj0wJiZ0WzBdPD1yJiZ0WzFdPj0wJiZ0WzFdPD1pO3JldHVybiBhJiZlJiZlLnN0b3BQcm9wYWdhdGlvbigpLGF9fSx7a2V5OiJpc0Z1bmN0aW9uS2V5UHJlc3NlZCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dC5zcmNFdmVudDtyZXR1cm4gQm9vbGVhbihlLm1ldGFLZXl8fGUuYWx0S2V5fHxlLmN0cmxLZXl8fGUuc2hpZnRLZXkpfX0se2tleToiaXNEcmFnZ2luZyIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3RhdGUuaXNEcmFnZ2luZ319LHtrZXk6InNldFByb3BzIix2YWx1ZTpmdW5jdGlvbih0KXsib25WaWV3cG9ydENoYW5nZSJpbiB0JiZ1LmEucmVtb3ZlZCgib25WaWV3cG9ydENoYW5nZSIpKCksIm9uVmlld1N0YXRlQ2hhbmdlImluIHQmJih0aGlzLm9uVmlld1N0YXRlQ2hhbmdlPXQub25WaWV3U3RhdGVDaGFuZ2UpLCJvblN0YXRlQ2hhbmdlImluIHQmJih0aGlzLm9uU3RhdGVDaGFuZ2U9dC5vblN0YXRlQ2hhbmdlKSx0aGlzLmNvbnRyb2xsZXJTdGF0ZVByb3BzPXQsImV2ZW50TWFuYWdlciJpbiB0JiZ0aGlzLmV2ZW50TWFuYWdlciE9PXQuZXZlbnRNYW5hZ2VyJiYodGhpcy5ldmVudE1hbmFnZXI9dC5ldmVudE1hbmFnZXIsdGhpcy5fZXZlbnRzPXt9LHRoaXMudG9nZ2xlRXZlbnRzKHRoaXMuX2N1c3RvbUV2ZW50cywhMCkpLHRoaXMudHJhbnNpdGlvbk1hbmFnZXIucHJvY2Vzc1ZpZXdTdGF0ZUNoYW5nZSh0aGlzLmNvbnRyb2xsZXJTdGF0ZVByb3BzKTt2YXIgZT10LnNjcm9sbFpvb20sbj12b2lkIDA9PT1lfHxlLHI9dC5kcmFnUGFuLGk9dm9pZCAwPT09cnx8cixhPXQuZHJhZ1JvdGF0ZSxvPXZvaWQgMD09PWF8fGEscz10LmRvdWJsZUNsaWNrWm9vbSxjPXZvaWQgMD09PXN8fHMsbD10LnRvdWNoWm9vbSxnPXZvaWQgMD09PWx8fGwseT10LnRvdWNoUm90YXRlLG09dm9pZCAwIT09eSYmeSxiPXQua2V5Ym9hcmQsXz12b2lkIDA9PT1ifHxiLE89Qm9vbGVhbih0aGlzLm9uVmlld1N0YXRlQ2hhbmdlKTt0aGlzLnRvZ2dsZUV2ZW50cyhoLE8mJm4pLHRoaXMudG9nZ2xlRXZlbnRzKGYsTyYmKGl8fG8pKSx0aGlzLnRvZ2dsZUV2ZW50cyhkLE8mJihnfHxtKSksdGhpcy50b2dnbGVFdmVudHModixPJiZjKSx0aGlzLnRvZ2dsZUV2ZW50cyhwLE8mJl8pLHRoaXMuc2Nyb2xsWm9vbT1uLHRoaXMuZHJhZ1Bhbj1pLHRoaXMuZHJhZ1JvdGF0ZT1vLHRoaXMuZG91YmxlQ2xpY2tab29tPWMsdGhpcy50b3VjaFpvb209Zyx0aGlzLnRvdWNoUm90YXRlPW0sdGhpcy5rZXlib2FyZD1ffX0se2tleToidXBkYXRlVHJhbnNpdGlvbiIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLnRyYW5zaXRpb25NYW5hZ2VyLnVwZGF0ZVRyYW5zaXRpb24oKX19LHtrZXk6InRvZ2dsZUV2ZW50cyIsdmFsdWU6ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzO3RoaXMuZXZlbnRNYW5hZ2VyJiZ0LmZvckVhY2goKGZ1bmN0aW9uKHQpe24uX2V2ZW50c1t0XSE9PWUmJihuLl9ldmVudHNbdF09ZSxlP24uZXZlbnRNYW5hZ2VyLm9uKHQsbi5oYW5kbGVFdmVudCk6bi5ldmVudE1hbmFnZXIub2ZmKHQsbi5oYW5kbGVFdmVudCkpfSkpfX0se2tleToidXBkYXRlVmlld3BvcnQiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp7fSxuPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTp7fSxyPU9iamVjdC5hc3NpZ24oe30sdC5nZXRWaWV3cG9ydFByb3BzKCksZSksaT10aGlzLmNvbnRyb2xsZXJTdGF0ZSE9PXQ7aWYoaSl7dmFyIGE9dGhpcy5jb250cm9sbGVyU3RhdGU/dGhpcy5jb250cm9sbGVyU3RhdGUuZ2V0Vmlld3BvcnRQcm9wcygpOm51bGw7dGhpcy5vblZpZXdTdGF0ZUNoYW5nZSYmdGhpcy5vblZpZXdTdGF0ZUNoYW5nZSh7dmlld1N0YXRlOnIsaW50ZXJhY3Rpb25TdGF0ZTpuLG9sZFZpZXdTdGF0ZTphfSl9T2JqZWN0LmFzc2lnbih0aGlzLl9zdGF0ZSx0LmdldEludGVyYWN0aXZlU3RhdGUoKSxuKSx0aGlzLm9uU3RhdGVDaGFuZ2UmJnRoaXMub25TdGF0ZUNoYW5nZSh0aGlzLl9zdGF0ZSl9fSx7a2V5OiJfb25QYW5TdGFydCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5nZXRDZW50ZXIodCk7aWYoIXRoaXMuaXNQb2ludEluQm91bmRzKGUsdCkpcmV0dXJuITE7dmFyIG49dGhpcy5jb250cm9sbGVyU3RhdGUucGFuU3RhcnQoe3BvczplfSkucm90YXRlU3RhcnQoe3BvczplfSk7cmV0dXJuIHRoaXMudXBkYXRlVmlld3BvcnQobixsLHtpc0RyYWdnaW5nOiEwfSksITB9fSx7a2V5OiJfb25QYW4iLHZhbHVlOmZ1bmN0aW9uKHQpe2lmKCF0aGlzLmlzRHJhZ2dpbmcoKSlyZXR1cm4hMTt2YXIgZT10aGlzLmlzRnVuY3Rpb25LZXlQcmVzc2VkKHQpfHx0LnJpZ2h0QnV0dG9uO3JldHVybihlPXRoaXMuaW52ZXJ0UGFuPyFlOmUpP3RoaXMuX29uUGFuTW92ZSh0KTp0aGlzLl9vblBhblJvdGF0ZSh0KX19LHtrZXk6Il9vblBhbkVuZCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5jb250cm9sbGVyU3RhdGUucGFuRW5kKCkucm90YXRlRW5kKCk7cmV0dXJuIHRoaXMudXBkYXRlVmlld3BvcnQoZSxudWxsLHtpc0RyYWdnaW5nOiExLGlzUGFubmluZzohMSxpc1JvdGF0aW5nOiExfSksITB9fSx7a2V5OiJfb25QYW5Nb3ZlIix2YWx1ZTpmdW5jdGlvbih0KXtpZighdGhpcy5kcmFnUGFuKXJldHVybiExO3ZhciBlPXRoaXMuZ2V0Q2VudGVyKHQpLG49dGhpcy5jb250cm9sbGVyU3RhdGUucGFuKHtwb3M6ZX0pO3JldHVybiB0aGlzLnVwZGF0ZVZpZXdwb3J0KG4sbCx7aXNEcmFnZ2luZzohMCxpc1Bhbm5pbmc6ITB9KSwhMH19LHtrZXk6Il9vblBhblJvdGF0ZSIsdmFsdWU6ZnVuY3Rpb24odCl7aWYoIXRoaXMuZHJhZ1JvdGF0ZSlyZXR1cm4hMTt2YXIgZT10LmRlbHRhWCxuPXQuZGVsdGFZLHI9dGhpcy5jb250cm9sbGVyU3RhdGUuZ2V0Vmlld3BvcnRQcm9wcygpLGk9ZS9yLndpZHRoLGE9bi9yLmhlaWdodCxvPXRoaXMuY29udHJvbGxlclN0YXRlLnJvdGF0ZSh7ZGVsdGFTY2FsZVg6aSxkZWx0YVNjYWxlWTphfSk7cmV0dXJuIHRoaXMudXBkYXRlVmlld3BvcnQobyxsLHtpc0RyYWdnaW5nOiEwLGlzUm90YXRpbmc6ITB9KSwhMH19LHtrZXk6Il9vbldoZWVsIix2YWx1ZTpmdW5jdGlvbih0KXtpZighdGhpcy5zY3JvbGxab29tKXJldHVybiExO3QucHJldmVudERlZmF1bHQoKTt2YXIgZT10aGlzLmdldENlbnRlcih0KTtpZighdGhpcy5pc1BvaW50SW5Cb3VuZHMoZSx0KSlyZXR1cm4hMTt2YXIgbj10LmRlbHRhLHI9Mi8oMStNYXRoLmV4cCgtTWF0aC5hYnMoLjAxKm4pKSk7bjwwJiYwIT09ciYmKHI9MS9yKTt2YXIgaT10aGlzLmNvbnRyb2xsZXJTdGF0ZS56b29tKHtwb3M6ZSxzY2FsZTpyfSk7cmV0dXJuIHRoaXMudXBkYXRlVmlld3BvcnQoaSxsLHtpc1pvb21pbmc6ITAsaXNQYW5uaW5nOiEwfSksITB9fSx7a2V5OiJfb25QaW5jaFN0YXJ0Iix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLmdldENlbnRlcih0KTtpZighdGhpcy5pc1BvaW50SW5Cb3VuZHMoZSx0KSlyZXR1cm4hMTt2YXIgbj10aGlzLmNvbnRyb2xsZXJTdGF0ZS56b29tU3RhcnQoe3BvczplfSkucm90YXRlU3RhcnQoe3BvczplfSk7cmV0dXJuIHRoaXMuX3N0YXRlLnN0YXJ0UGluY2hSb3RhdGlvbj10LnJvdGF0aW9uLHRoaXMudXBkYXRlVmlld3BvcnQobixsLHtpc0RyYWdnaW5nOiEwfSksITB9fSx7a2V5OiJfb25QaW5jaCIsdmFsdWU6ZnVuY3Rpb24odCl7aWYoIXRoaXMudG91Y2hab29tJiYhdGhpcy50b3VjaFJvdGF0ZSlyZXR1cm4hMTtpZighdGhpcy5pc0RyYWdnaW5nKCkpcmV0dXJuITE7dmFyIGU9dGhpcy5jb250cm9sbGVyU3RhdGU7aWYodGhpcy50b3VjaFpvb20pe3ZhciBuPXQuc2NhbGUscj10aGlzLmdldENlbnRlcih0KTtlPWUuem9vbSh7cG9zOnIsc2NhbGU6bn0pfWlmKHRoaXMudG91Y2hSb3RhdGUpe3ZhciBpPXQucm90YXRpb24sYT10aGlzLl9zdGF0ZS5zdGFydFBpbmNoUm90YXRpb247ZT1lLnJvdGF0ZSh7ZGVsdGFTY2FsZVg6LShpLWEpLzE4MH0pfXJldHVybiB0aGlzLnVwZGF0ZVZpZXdwb3J0KGUsbCx7aXNEcmFnZ2luZzohMCxpc1Bhbm5pbmc6dGhpcy50b3VjaFpvb20saXNab29taW5nOnRoaXMudG91Y2hab29tLGlzUm90YXRpbmc6dGhpcy50b3VjaFJvdGF0ZX0pLCEwfX0se2tleToiX29uUGluY2hFbmQiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuY29udHJvbGxlclN0YXRlLnpvb21FbmQoKS5yb3RhdGVFbmQoKTtyZXR1cm4gdGhpcy5fc3RhdGUuc3RhcnRQaW5jaFJvdGF0aW9uPTAsdGhpcy51cGRhdGVWaWV3cG9ydChlLG51bGwse2lzRHJhZ2dpbmc6ITEsaXNQYW5uaW5nOiExLGlzWm9vbWluZzohMSxpc1JvdGF0aW5nOiExfSksITB9fSx7a2V5OiJfb25Eb3VibGVUYXAiLHZhbHVlOmZ1bmN0aW9uKHQpe2lmKCF0aGlzLmRvdWJsZUNsaWNrWm9vbSlyZXR1cm4hMTt2YXIgZT10aGlzLmdldENlbnRlcih0KTtpZighdGhpcy5pc1BvaW50SW5Cb3VuZHMoZSx0KSlyZXR1cm4hMTt2YXIgbj10aGlzLmlzRnVuY3Rpb25LZXlQcmVzc2VkKHQpLHI9dGhpcy5jb250cm9sbGVyU3RhdGUuem9vbSh7cG9zOmUsc2NhbGU6bj8uNToyfSk7cmV0dXJuIHRoaXMudXBkYXRlVmlld3BvcnQocix0aGlzLl9nZXRUcmFuc2l0aW9uUHJvcHMoKSx7aXNab29taW5nOiEwLGlzUGFubmluZzohMH0pLCEwfX0se2tleToiX29uS2V5RG93biIsdmFsdWU6ZnVuY3Rpb24odCl7aWYoIXRoaXMua2V5Ym9hcmQpcmV0dXJuITE7dmFyIGUsbj10aGlzLmlzRnVuY3Rpb25LZXlQcmVzc2VkKHQpLHI9dGhpcy5jb250cm9sbGVyU3RhdGUsaT17fTtzd2l0Y2godC5zcmNFdmVudC5rZXlDb2RlKXtjYXNlIDE4OTplPW4/ci56b29tT3V0KCkuem9vbU91dCgpOnIuem9vbU91dCgpLGkuaXNab29taW5nPSEwO2JyZWFrO2Nhc2UgMTg3OmU9bj9yLnpvb21JbigpLnpvb21JbigpOnIuem9vbUluKCksaS5pc1pvb21pbmc9ITA7YnJlYWs7Y2FzZSAzNzpuPyhlPXIucm90YXRlTGVmdCgpLGkuaXNSb3RhdGluZz0hMCk6KGU9ci5tb3ZlTGVmdCgpLGkuaXNQYW5uaW5nPSEwKTticmVhaztjYXNlIDM5Om4/KGU9ci5yb3RhdGVSaWdodCgpLGkuaXNSb3RhdGluZz0hMCk6KGU9ci5tb3ZlUmlnaHQoKSxpLmlzUGFubmluZz0hMCk7YnJlYWs7Y2FzZSAzODpuPyhlPXIucm90YXRlVXAoKSxpLmlzUm90YXRpbmc9ITApOihlPXIubW92ZVVwKCksaS5pc1Bhbm5pbmc9ITApO2JyZWFrO2Nhc2UgNDA6bj8oZT1yLnJvdGF0ZURvd24oKSxpLmlzUm90YXRpbmc9ITApOihlPXIubW92ZURvd24oKSxpLmlzUGFubmluZz0hMCk7YnJlYWs7ZGVmYXVsdDpyZXR1cm4hMX1yZXR1cm4gdGhpcy51cGRhdGVWaWV3cG9ydChlLHRoaXMuX2dldFRyYW5zaXRpb25Qcm9wcygpLGkpLCEwfX0se2tleToiX2dldFRyYW5zaXRpb25Qcm9wcyIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gbH19LHtrZXk6ImV2ZW50cyIsc2V0OmZ1bmN0aW9uKHQpe3RoaXMudG9nZ2xlRXZlbnRzKHRoaXMuX2N1c3RvbUV2ZW50cywhMSksdGhpcy50b2dnbGVFdmVudHModCwhMCksdGhpcy5fY3VzdG9tRXZlbnRzPXQsdGhpcy5zZXRQcm9wcyh0aGlzLmNvbnRyb2xsZXJTdGF0ZVByb3BzKX19XSksdH0oKX0sZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0IjtuLmQoZSwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIGx9KSk7dmFyIHI9bigyNSksaT1uKDI2KSxhPW4oMTE3KSxvPW4oNTkpLHM9bigzOCksdT0vXC4oW14uXSspJC8sYz0vXmRhdGE6KC4qPykoO3wsKS87ZnVuY3Rpb24gbCh0KXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06IiIsbj1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06bnVsbCxyPWFyZ3VtZW50cy5sZW5ndGg+MyYmdm9pZCAwIT09YXJndW1lbnRzWzNdP2FyZ3VtZW50c1szXTp7fSxzPXIubm90aHJvdyx1PXZvaWQgMCE9PXMmJnM7aWYoZT1lfHwiIix0JiYhQXJyYXkuaXNBcnJheSh0KSl7dmFyIGM9dDtyZXR1cm4gT2JqZWN0KG8uYikoYyksY31oKHQ9W10uY29uY2F0KE9iamVjdChpLmEpKHR8fFtdKSxPYmplY3QoaS5hKShPYmplY3QoYS5iKSgpKSkpO3ZhciBsPWYodCxlPWUucmVwbGFjZSgvXD8uKi8sIiIpKTtpZighKGw9KGw9bHx8dih0LG4pKXx8cCh0LG4pKSl7aWYodSlyZXR1cm4gbnVsbDt2YXIgZD0iTm8gdmFsaWQgbG9hZGVyIGZvdW5kIjt0aHJvdyBuJiYoZCs9JyBmb3IgZGF0YSBzdGFydGluZyB3aXRoICInLmNvbmNhdChtKG4pLCciJykpLGUmJihkKz0iIGZvciAiLmNvbmNhdChlKSksbmV3IEVycm9yKGQpfXJldHVybiBsfWZ1bmN0aW9uIGgodCl7dmFyIGU9ITAsbj0hMSxyPXZvaWQgMDt0cnl7Zm9yKHZhciBpLGE9dFtTeW1ib2wuaXRlcmF0b3JdKCk7IShlPShpPWEubmV4dCgpKS5kb25lKTtlPSEwKXt2YXIgcz1pLnZhbHVlO09iamVjdChvLmIpKHMpfX1jYXRjaCh0KXtuPSEwLHI9dH1maW5hbGx5e3RyeXtlfHxudWxsPT1hLnJldHVybnx8YS5yZXR1cm4oKX1maW5hbGx5e2lmKG4pdGhyb3cgcn19fWZ1bmN0aW9uIGYodCxlKXt2YXIgbj1lLm1hdGNoKGMpLHI9biYmblsxXTtpZihyKXJldHVybiBkKHQscik7dmFyIGk9KG49ZS5tYXRjaCh1KSkmJm5bMV07cmV0dXJuIGkmJmZ1bmN0aW9uKHQsZSl7ZT1lLnRvTG93ZXJDYXNlKCk7dmFyIG49ITAscj0hMSxpPXZvaWQgMDt0cnl7Zm9yKHZhciBhLG89dFtTeW1ib2wuaXRlcmF0b3JdKCk7IShuPShhPW8ubmV4dCgpKS5kb25lKTtuPSEwKXt2YXIgcz1hLnZhbHVlLHU9ITAsYz0hMSxsPXZvaWQgMDt0cnl7Zm9yKHZhciBoLGY9cy5leHRlbnNpb25zW1N5bWJvbC5pdGVyYXRvcl0oKTshKHU9KGg9Zi5uZXh0KCkpLmRvbmUpO3U9ITApe2lmKGgudmFsdWUudG9Mb3dlckNhc2UoKT09PWUpcmV0dXJuIHN9fWNhdGNoKHQpe2M9ITAsbD10fWZpbmFsbHl7dHJ5e3V8fG51bGw9PWYucmV0dXJufHxmLnJldHVybigpfWZpbmFsbHl7aWYoYyl0aHJvdyBsfX19fWNhdGNoKHQpe3I9ITAsaT10fWZpbmFsbHl7dHJ5e258fG51bGw9PW8ucmV0dXJufHxvLnJldHVybigpfWZpbmFsbHl7aWYocil0aHJvdyBpfX1yZXR1cm4gbnVsbH0odCxpKX1mdW5jdGlvbiBkKHQsZSl7dmFyIG49ITAscj0hMSxpPXZvaWQgMDt0cnl7Zm9yKHZhciBhLG89dFtTeW1ib2wuaXRlcmF0b3JdKCk7IShuPShhPW8ubmV4dCgpKS5kb25lKTtuPSEwKXt2YXIgcz1hLnZhbHVlO2lmKHMubWltZVR5cGVzJiZzLm1pbWVUeXBlcy5pbmNsdWRlcyhlKSlyZXR1cm4gc319Y2F0Y2godCl7cj0hMCxpPXR9ZmluYWxseXt0cnl7bnx8bnVsbD09by5yZXR1cm58fG8ucmV0dXJuKCl9ZmluYWxseXtpZihyKXRocm93IGl9fXJldHVybiBudWxsfWZ1bmN0aW9uIHYodCxlKXtyZXR1cm4gZSYmT2JqZWN0KHMuYykoZSkmJmUuaGVhZGVycz9kKHQsZS5oZWFkZXJzLmdldCgiY29udGVudC10eXBlIikpOm51bGx9ZnVuY3Rpb24gcCh0LGUpe2lmKCFlKXJldHVybiBudWxsO3ZhciBuPSEwLHI9ITEsaT12b2lkIDA7dHJ5e2Zvcih2YXIgYSxvPXRbU3ltYm9sLml0ZXJhdG9yXSgpOyEobj0oYT1vLm5leHQoKSkuZG9uZSk7bj0hMCl7dmFyIHM9YS52YWx1ZTtpZigic3RyaW5nIj09dHlwZW9mIGUpe2lmKGcoZSxzKSlyZXR1cm4gc31lbHNlIGlmKEFycmF5QnVmZmVyLmlzVmlldyhlKSl7aWYoeShlLmJ1ZmZlcixlLmJ5dGVPZmZzZXQscykpcmV0dXJuIHN9ZWxzZSBpZihlIGluc3RhbmNlb2YgQXJyYXlCdWZmZXIpe2lmKHkoZSwwLHMpKXJldHVybiBzfX19Y2F0Y2godCl7cj0hMCxpPXR9ZmluYWxseXt0cnl7bnx8bnVsbD09by5yZXR1cm58fG8ucmV0dXJuKCl9ZmluYWxseXtpZihyKXRocm93IGl9fXJldHVybiBudWxsfWZ1bmN0aW9uIGcodCxlKXtyZXR1cm4gZS50ZXN0VGV4dCYmZS50ZXN0VGV4dCh0KX1mdW5jdGlvbiB5KHQsZSxuKXtzd2l0Y2goQXJyYXkuaXNBcnJheShuLnRlc3QpPyJhcnJheSI6T2JqZWN0KHIuYSkobi50ZXN0KSl7Y2FzZSJmdW5jdGlvbiI6cmV0dXJuIG4udGVzdCh0LG4pO2Nhc2Uic3RyaW5nIjpjYXNlImFycmF5IjpyZXR1cm4oQXJyYXkuaXNBcnJheShuLnRlc3QpP24udGVzdDpbbi50ZXN0XSkuc29tZSgoZnVuY3Rpb24obil7cmV0dXJuIG49PT1iKHQsZSxuLmxlbmd0aCl9KSk7ZGVmYXVsdDpyZXR1cm4hMX19ZnVuY3Rpb24gbSh0KXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06NTtpZigic3RyaW5nIj09dHlwZW9mIHQpcmV0dXJuIHQuc2xpY2UoMCxlKTtpZihBcnJheUJ1ZmZlci5pc1ZpZXcodCkpcmV0dXJuIGIodC5idWZmZXIsdC5ieXRlT2Zmc2V0LGUpO2lmKHQgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcil7dmFyIG49MDtyZXR1cm4gYih0LG4sZSl9cmV0dXJuIiJ9ZnVuY3Rpb24gYih0LGUsbil7aWYodC5ieXRlTGVuZ3RoPD1lK24pcmV0dXJuIiI7Zm9yKHZhciByPW5ldyBEYXRhVmlldyh0KSxpPSIiLGE9MDthPG47YSsrKWkrPVN0cmluZy5mcm9tQ2hhckNvZGUoci5nZXRVaW50OChlK2EpKTtyZXR1cm4gaX19LGZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dmFyIHI9big0MSksaT1uLm4ociksYT1uKDEpLG89bi5uKGEpLHM9bigyKSx1PW4ubihzKSxjPW4oNTYpLGw9LyhbMC05XStcLj9bMC05XSopKCV8cHgpLztmdW5jdGlvbiBoKHQpe3N3aXRjaChpKCkodCkpe2Nhc2UibnVtYmVyIjpyZXR1cm57cG9zaXRpb246dCxyZWxhdGl2ZTohMX07Y2FzZSJzdHJpbmciOnZhciBlPXQubWF0Y2gobCk7aWYoZSYmZS5sZW5ndGg+PTMpe3ZhciBuPSIlIj09PWVbMl0scj1wYXJzZUZsb2F0KGVbMV0pO3JldHVybntwb3NpdGlvbjpuP3IvMTAwOnIscmVsYXRpdmU6bn19ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoIkNvdWxkIG5vdCBwYXJzZSBwb3NpdGlvbiBzdHJpbmcgIi5jb25jYXQodCkpfX1mdW5jdGlvbiBmKHQsZSl7cmV0dXJuIHQucmVsYXRpdmU/TWF0aC5yb3VuZCh0LnBvc2l0aW9uKmUpOnQucG9zaXRpb259dmFyIGQ9big4NCksdj1uKDI5KTtuLmQoZSwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIHB9KSk7dmFyIHA9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9O28oKSh0aGlzLHQpO3ZhciBuPWUuaWQscj12b2lkIDA9PT1uP251bGw6bixpPWUueCxhPXZvaWQgMD09PWk/MDppLHM9ZS55LHU9dm9pZCAwPT09cz8wOnMsbD1lLndpZHRoLGg9dm9pZCAwPT09bD8iMTAwJSI6bCxmPWUuaGVpZ2h0LGQ9dm9pZCAwPT09Zj8iMTAwJSI6ZixwPWUucHJvamVjdGlvbk1hdHJpeCxnPXZvaWQgMD09PXA/bnVsbDpwLHk9ZS5mb3Z5LG09dm9pZCAwPT09eT81MDp5LGI9ZS5uZWFyLF89dm9pZCAwPT09Yj8uMTpiLE89ZS5mYXIseD12b2lkIDA9PT1PPzFlMzpPLHc9ZS5tb2RlbE1hdHJpeCxrPXZvaWQgMD09PXc/bnVsbDp3LFM9ZS52aWV3cG9ydEluc3RhbmNlLFA9dm9pZCAwPT09Uz9udWxsOlMsaj1lLnR5cGUsVD12b2lkIDA9PT1qP2MuYTpqO09iamVjdCh2LmEpKCFQfHxQIGluc3RhbmNlb2YgYy5hKSx0aGlzLnZpZXdwb3J0SW5zdGFuY2U9UCx0aGlzLmlkPXJ8fHRoaXMuY29uc3RydWN0b3IuZGlzcGxheU5hbWV8fCJ2aWV3Iix0aGlzLnR5cGU9VCx0aGlzLnByb3BzPU9iamVjdC5hc3NpZ24oe30sZSx7aWQ6dGhpcy5pZCxwcm9qZWN0aW9uTWF0cml4OmcsZm92eTptLG5lYXI6XyxmYXI6eCxtb2RlbE1hdHJpeDprfSksdGhpcy5fcGFyc2VEaW1lbnNpb25zKHt4OmEseTp1LHdpZHRoOmgsaGVpZ2h0OmR9KSx0aGlzLmVxdWFscz10aGlzLmVxdWFscy5iaW5kKHRoaXMpLE9iamVjdC5zZWFsKHRoaXMpfXJldHVybiB1KCkodCxbe2tleToiZXF1YWxzIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcz09PXR8fCh0aGlzLnZpZXdwb3J0SW5zdGFuY2U/dC52aWV3cG9ydEluc3RhbmNlJiZ0aGlzLnZpZXdwb3J0SW5zdGFuY2UuZXF1YWxzKHQudmlld3BvcnRJbnN0YW5jZSk6T2JqZWN0KGQuYSkodGhpcy5wcm9wcyx0LnByb3BzKSl9fSx7a2V5OiJtYWtlVmlld3BvcnQiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXQud2lkdGgsbj10LmhlaWdodCxyPXQudmlld1N0YXRlO2lmKHRoaXMudmlld3BvcnRJbnN0YW5jZSlyZXR1cm4gdGhpcy52aWV3cG9ydEluc3RhbmNlO3I9dGhpcy5maWx0ZXJWaWV3U3RhdGUocik7dmFyIGk9dGhpcy5nZXREaW1lbnNpb25zKHt3aWR0aDplLGhlaWdodDpufSksYT1PYmplY3QuYXNzaWduKHt2aWV3U3RhdGU6cn0scix0aGlzLnByb3BzLGkpO3JldHVybiB0aGlzLl9nZXRWaWV3cG9ydChhKX19LHtrZXk6ImdldFZpZXdTdGF0ZUlkIix2YWx1ZTpmdW5jdGlvbigpe3N3aXRjaChpKCkodGhpcy5wcm9wcy52aWV3U3RhdGUpKXtjYXNlInN0cmluZyI6cmV0dXJuIHRoaXMucHJvcHMudmlld1N0YXRlO2Nhc2Uib2JqZWN0IjpyZXR1cm4gdGhpcy5wcm9wcy52aWV3U3RhdGUmJnRoaXMucHJvcHMudmlld1N0YXRlLmlkO2RlZmF1bHQ6cmV0dXJuIHRoaXMuaWR9fX0se2tleToiZmlsdGVyVmlld1N0YXRlIix2YWx1ZTpmdW5jdGlvbih0KXtpZih0aGlzLnByb3BzLnZpZXdTdGF0ZSYmIm9iamVjdCI9PT1pKCkodGhpcy5wcm9wcy52aWV3U3RhdGUpKXtpZighdGhpcy5wcm9wcy52aWV3U3RhdGUuaWQpcmV0dXJuIHRoaXMucHJvcHMudmlld1N0YXRlO3ZhciBlPU9iamVjdC5hc3NpZ24oe30sdCk7Zm9yKHZhciBuIGluIHRoaXMucHJvcHMudmlld1N0YXRlKSJpZCIhPT1uJiYoZVtuXT10aGlzLnByb3BzLnZpZXdTdGF0ZVtuXSk7cmV0dXJuIGV9cmV0dXJuIHR9fSx7a2V5OiJnZXREaW1lbnNpb25zIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10LndpZHRoLG49dC5oZWlnaHQ7cmV0dXJue3g6Zih0aGlzLl94LGUpLHk6Zih0aGlzLl95LG4pLHdpZHRoOmYodGhpcy5fd2lkdGgsZSksaGVpZ2h0OmYodGhpcy5faGVpZ2h0LG4pfX19LHtrZXk6Il9nZXRDb250cm9sbGVyUHJvcHMiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMucHJvcHMuY29udHJvbGxlcjtyZXR1cm4gZT8hMD09PWU/dDooImZ1bmN0aW9uIj09dHlwZW9mIGUmJihlPXt0eXBlOmV9KSxPYmplY3QuYXNzaWduKHt9LHQsZSkpOm51bGx9fSx7a2V5OiJfZ2V0Vmlld3BvcnQiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiBuZXcoMCx0aGlzLnR5cGUpKHQpfX0se2tleToiX3BhcnNlRGltZW5zaW9ucyIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dC54LG49dC55LHI9dC53aWR0aCxpPXQuaGVpZ2h0O3RoaXMuX3g9aChlKSx0aGlzLl95PWgobiksdGhpcy5fd2lkdGg9aChyKSx0aGlzLl9oZWlnaHQ9aChpKX19XSksdH0oKX0sZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0IjtuLmQoZSwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIHh9KSk7dmFyIHI9bigwKSxpPW4oMzEpLGE9big2KSxvPW4oMTcpLHM9big0NyksdT1uKDE1KSxjPW4oODgpLGw9big3KSxoPW4oMTgpLGY9bigxMSksZD1uKDUyKSx2PW4oMTI3KSxwPW4oMTE0KSxnPW4oMTc3KSx5PW4oMTkxKSxtPW4oMjc1KSxiPW4oNzYpLF89bigxMDUpLE89bigyOCkseD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKHQpe3ZhciBuLHI9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOnt9O3JldHVybiBPYmplY3QoYS5hKSh0aGlzLGUpLChuPU9iamVjdChvLmEpKHRoaXMsT2JqZWN0KHUuYSkoZSkuY2FsbCh0aGlzLHQscikpKS53aWR0aD1udWxsLG4uaGVpZ2h0PW51bGwsbi5hdHRhY2htZW50cz17fSxuLnJlYWRCdWZmZXI9MzYwNjQsbi5kcmF3QnVmZmVycz1bMzYwNjRdLG4ub3duUmVzb3VyY2VzPVtdLG4uaW5pdGlhbGl6ZShyKSxPYmplY3Quc2VhbChPYmplY3Qocy5hKShuKSksbn1yZXR1cm4gT2JqZWN0KGguYSkoZSx0KSxPYmplY3QobC5hKShlLFt7a2V5OiJNQVhfQ09MT1JfQVRUQUNITUVOVFMiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmdsLmdldFBhcmFtZXRlcih0aGlzLmdsLk1BWF9DT0xPUl9BVFRBQ0hNRU5UUyl9fSx7a2V5OiJNQVhfRFJBV19CVUZGRVJTIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nbC5nZXRQYXJhbWV0ZXIodGhpcy5nbC5NQVhfRFJBV19CVUZGRVJTKX19XSxbe2tleToiaXNTdXBwb3J0ZWQiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp7fSxuPWUuY29sb3JCdWZmZXJGbG9hdCxyPWUuY29sb3JCdWZmZXJIYWxmRmxvYXQsaT0hMDtyZXR1cm4gbiYmKGk9Qm9vbGVhbih0LmdldEV4dGVuc2lvbigiRVhUX2NvbG9yX2J1ZmZlcl9mbG9hdCIpfHx0LmdldEV4dGVuc2lvbigiV0VCR0xfY29sb3JfYnVmZmVyX2Zsb2F0Iil8fHQuZ2V0RXh0ZW5zaW9uKCJPRVNfdGV4dHVyZV9mbG9hdCIpKSksciYmKGk9aSYmQm9vbGVhbih0LmdldEV4dGVuc2lvbigiRVhUX2NvbG9yX2J1ZmZlcl9mbG9hdCIpfHx0LmdldEV4dGVuc2lvbigiRVhUX2NvbG9yX2J1ZmZlcl9oYWxmX2Zsb2F0IikpKSxpfX0se2tleToiZ2V0RGVmYXVsdEZyYW1lYnVmZmVyIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdC5sdW1hPXQubHVtYXx8e30sdC5sdW1hLmRlZmF1bHRGcmFtZWJ1ZmZlcj10Lmx1bWEuZGVmYXVsdEZyYW1lYnVmZmVyfHxuZXcgZSh0LHtpZDoiZGVmYXVsdC1mcmFtZWJ1ZmZlciIsaGFuZGxlOm51bGwsYXR0YWNobWVudHM6e319KSx0Lmx1bWEuZGVmYXVsdEZyYW1lYnVmZmVyfX1dKSxPYmplY3QobC5hKShlLFt7a2V5OiJpbml0aWFsaXplIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10LndpZHRoLG49dm9pZCAwPT09ZT8xOmUscj10LmhlaWdodCxpPXZvaWQgMD09PXI/MTpyLGE9dC5hdHRhY2htZW50cyxvPXZvaWQgMD09PWE/bnVsbDphLHM9dC5jb2xvcix1PXZvaWQgMD09PXN8fHMsYz10LmRlcHRoLGw9dm9pZCAwPT09Y3x8YyxoPXQuc3RlbmNpbCxmPXZvaWQgMCE9PWgmJmgsZD10LmNoZWNrLHY9dm9pZCAwPT09ZHx8ZCxwPXQucmVhZEJ1ZmZlcixnPXQuZHJhd0J1ZmZlcnM7aWYoT2JqZWN0KE8uYSkobj49MCYmaT49MCwiV2lkdGggYW5kIGhlaWdodCBuZWVkIHRvIGJlIGludGVnZXJzIiksdGhpcy53aWR0aD1uLHRoaXMuaGVpZ2h0PWksbylmb3IodmFyIHkgaW4gbyl7dmFyIG09b1t5XTsoQXJyYXkuaXNBcnJheShtKT9tWzBdOm0pLnJlc2l6ZSh7d2lkdGg6bixoZWlnaHQ6aX0pfWVsc2Ugbz10aGlzLl9jcmVhdGVEZWZhdWx0QXR0YWNobWVudHModSxsLGYsbixpKTt0aGlzLnVwZGF0ZSh7Y2xlYXJBdHRhY2htZW50czohMCxhdHRhY2htZW50czpvLHJlYWRCdWZmZXI6cCxkcmF3QnVmZmVyczpnfSksbyYmdiYmdGhpcy5jaGVja1N0YXR1cygpfX0se2tleToiZGVsZXRlIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PSEwLG49ITEscj12b2lkIDA7dHJ5e2Zvcih2YXIgaSxhPXRoaXMub3duUmVzb3VyY2VzW1N5bWJvbC5pdGVyYXRvcl0oKTshKHQ9KGk9YS5uZXh0KCkpLmRvbmUpO3Q9ITApe2kudmFsdWUuZGVsZXRlKCl9fWNhdGNoKHQpe249ITAscj10fWZpbmFsbHl7dHJ5e3R8fG51bGw9PWEucmV0dXJufHxhLnJldHVybigpfWZpbmFsbHl7aWYobil0aHJvdyByfX1PYmplY3QoYy5hKShPYmplY3QodS5hKShlLnByb3RvdHlwZSksImRlbGV0ZSIsdGhpcykuY2FsbCh0aGlzKX19LHtrZXk6InVwZGF0ZSIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dC5hdHRhY2htZW50cyxuPXZvaWQgMD09PWU/e306ZSxyPXQucmVhZEJ1ZmZlcixpPXQuZHJhd0J1ZmZlcnMsYT10LmNsZWFyQXR0YWNobWVudHMsbz12b2lkIDAhPT1hJiZhLHM9dC5yZXNpemVBdHRhY2htZW50cyx1PXZvaWQgMD09PXN8fHM7dGhpcy5hdHRhY2gobix7Y2xlYXJBdHRhY2htZW50czpvLHJlc2l6ZUF0dGFjaG1lbnRzOnV9KTt2YXIgYz10aGlzLmdsLGw9Yy5iaW5kRnJhbWVidWZmZXIoMzYxNjAsdGhpcy5oYW5kbGUpO3JldHVybiByJiZ0aGlzLl9zZXRSZWFkQnVmZmVyKHIpLGkmJnRoaXMuX3NldERyYXdCdWZmZXJzKGkpLGMuYmluZEZyYW1lYnVmZmVyKDM2MTYwLGx8fG51bGwpLHRoaXN9fSx7a2V5OiJyZXNpemUiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9LGU9dC53aWR0aCxuPXQuaGVpZ2h0O2lmKG51bGw9PT10aGlzLmhhbmRsZSlyZXR1cm4gT2JqZWN0KE8uYSkodm9pZCAwPT09ZSYmdm9pZCAwPT09biksdGhpcy53aWR0aD10aGlzLmdsLmRyYXdpbmdCdWZmZXJXaWR0aCx0aGlzLmhlaWdodD10aGlzLmdsLmRyYXdpbmdCdWZmZXJIZWlnaHQsdGhpcztmb3IodmFyIHIgaW4gdm9pZCAwPT09ZSYmKGU9dGhpcy5nbC5kcmF3aW5nQnVmZmVyV2lkdGgpLHZvaWQgMD09PW4mJihuPXRoaXMuZ2wuZHJhd2luZ0J1ZmZlckhlaWdodCksZSE9PXRoaXMud2lkdGgmJm4hPT10aGlzLmhlaWdodCYmZi5oLmxvZygyLCJSZXNpemluZyBmcmFtZWJ1ZmZlciAiLmNvbmNhdCh0aGlzLmlkLCIgdG8gIikuY29uY2F0KGUsIngiKS5jb25jYXQobikpKCksdGhpcy5hdHRhY2htZW50cyl0aGlzLmF0dGFjaG1lbnRzW3JdLnJlc2l6ZSh7d2lkdGg6ZSxoZWlnaHQ6bn0pO3JldHVybiB0aGlzLndpZHRoPWUsdGhpcy5oZWlnaHQ9bix0aGlzfX0se2tleToiYXR0YWNoIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLG49YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOnt9LHI9bi5jbGVhckF0dGFjaG1lbnRzLGE9dm9pZCAwIT09ciYmcixvPW4ucmVzaXplQXR0YWNobWVudHMscz12b2lkIDA9PT1vfHxvLHU9e307YSYmT2JqZWN0LmtleXModGhpcy5hdHRhY2htZW50cykuZm9yRWFjaCgoZnVuY3Rpb24odCl7dVt0XT1udWxsfSkpLE9iamVjdC5hc3NpZ24odSx0KTt2YXIgYz10aGlzLmdsLmJpbmRGcmFtZWJ1ZmZlcigzNjE2MCx0aGlzLmhhbmRsZSk7Zm9yKHZhciBsIGluIHUpe09iamVjdChPLmEpKHZvaWQgMCE9PWwsIk1pc3NwZWxsZWQgZnJhbWVidWZmZXIgYmluZGluZyBwb2ludD8iKTt2YXIgaD1OdW1iZXIobCksZj11W2hdLGQ9ZjtpZihkKWlmKGQgaW5zdGFuY2VvZiBwLmEpdGhpcy5fYXR0YWNoUmVuZGVyYnVmZmVyKHthdHRhY2htZW50OmgscmVuZGVyYnVmZmVyOmR9KTtlbHNlIGlmKEFycmF5LmlzQXJyYXkoZikpe3ZhciB2PU9iamVjdChpLmEpKGYsMyksZz12WzBdLHk9dlsxXSxtPXZvaWQgMD09PXk/MDp5LGI9dlsyXSxfPXZvaWQgMD09PWI/MDpiO2Q9Zyx0aGlzLl9hdHRhY2hUZXh0dXJlKHthdHRhY2htZW50OmgsdGV4dHVyZTpnLGxheWVyOm0sbGV2ZWw6X30pfWVsc2UgdGhpcy5fYXR0YWNoVGV4dHVyZSh7YXR0YWNobWVudDpoLHRleHR1cmU6ZCxsYXllcjowLGxldmVsOjB9KTtlbHNlIHRoaXMuX3VuYXR0YWNoKGgpO3MmJmQmJmQucmVzaXplKHt3aWR0aDp0aGlzLndpZHRoLGhlaWdodDp0aGlzLmhlaWdodH0pfXRoaXMuZ2wuYmluZEZyYW1lYnVmZmVyKDM2MTYwLGN8fG51bGwpLE9iamVjdC5hc3NpZ24odGhpcy5hdHRhY2htZW50cyx0KSxPYmplY3Qua2V5cyh0aGlzLmF0dGFjaG1lbnRzKS5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiFlLmF0dGFjaG1lbnRzW3RdfSkpLmZvckVhY2goKGZ1bmN0aW9uKHQpe2RlbGV0ZSBlLmF0dGFjaG1lbnRzW3RdfSkpfX0se2tleToiY2hlY2tTdGF0dXMiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5nbDt2YXIgdD10aGlzLmdldFN0YXR1cygpO2lmKDM2MDUzIT09dCl0aHJvdyBuZXcgRXJyb3Iodyh0KSk7cmV0dXJuIHRoaXN9fSx7a2V5OiJnZXRTdGF0dXMiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5nbCxlPXQuYmluZEZyYW1lYnVmZmVyKDM2MTYwLHRoaXMuaGFuZGxlKSxuPXQuY2hlY2tGcmFtZWJ1ZmZlclN0YXR1cygzNjE2MCk7cmV0dXJuIHQuYmluZEZyYW1lYnVmZmVyKDM2MTYwLGV8fG51bGwpLG59fSx7a2V5OiJjbGVhciIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e30sZT10LmNvbG9yLG49dC5kZXB0aCxyPXQuc3RlbmNpbCxpPXQuZHJhd0J1ZmZlcnMsYT12b2lkIDA9PT1pP1tdOmksbz10aGlzLmdsLmJpbmRGcmFtZWJ1ZmZlcigzNjE2MCx0aGlzLmhhbmRsZSk7cmV0dXJuKGV8fG58fHIpJiZPYmplY3QoZy5hKSh0aGlzLmdsLHtjb2xvcjplLGRlcHRoOm4sc3RlbmNpbDpyfSksYS5mb3JFYWNoKChmdW5jdGlvbih0LGUpe09iamVjdChnLmIpKHtkcmF3QnVmZmVyOmUsdmFsdWU6dH0pfSkpLHRoaXMuZ2wuYmluZEZyYW1lYnVmZmVyKDM2MTYwLG98fG51bGwpLHRoaXN9fSx7a2V5OiJyZWFkUGl4ZWxzIix2YWx1ZTpmdW5jdGlvbigpe2FyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdJiZhcmd1bWVudHNbMF07cmV0dXJuIGYuaC5lcnJvcigiRnJhbWVidWZmZXIucmVhZFBpeGVscygpIGlzIG5vIGxvZ25lciBzdXBwb3J0ZWQsIHVzZSByZWFkUGl4ZWxzVG9BcnJheShmcmFtZWJ1ZmZlcikiKSgpLG51bGx9fSx7a2V5OiJyZWFkUGl4ZWxzVG9CdWZmZXIiLHZhbHVlOmZ1bmN0aW9uKCl7YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0mJmFyZ3VtZW50c1swXTtyZXR1cm4gZi5oLmVycm9yKCJGcmFtZWJ1ZmZlci5yZWFkUGl4ZWxzVG9CdWZmZXIoKWlzIG5vIGxvZ25lciBzdXBwb3J0ZWQsIHVzZSByZWFkUGl4ZWxzVG9CdWZmZXIoZnJhbWVidWZmZXIpIikoKSxudWxsfX0se2tleToiY29weVRvRGF0YVVybCIsdmFsdWU6ZnVuY3Rpb24oKXthcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXSYmYXJndW1lbnRzWzBdO3JldHVybiBmLmguZXJyb3IoIkZyYW1lYnVmZmVyLmNvcHlUb0RhdGFVcmwoKSBpcyBubyBsb2duZXIgc3VwcG9ydGVkLCB1c2UgY29weVRvRGF0YVVybChmcmFtZWJ1ZmZlcikiKSgpLG51bGx9fSx7a2V5OiJjb3B5VG9JbWFnZSIsdmFsdWU6ZnVuY3Rpb24oKXthcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXSYmYXJndW1lbnRzWzBdO3JldHVybiBmLmguZXJyb3IoIkZyYW1lYnVmZmVyLmNvcHlUb0ltYWdlKCkgaXMgbm8gbG9nbmVyIHN1cHBvcnRlZCwgdXNlIGNvcHlUb0ltYWdlKGZyYW1lYnVmZmVyKSIpKCksbnVsbH19LHtrZXk6ImNvcHlUb1RleHR1cmUiLHZhbHVlOmZ1bmN0aW9uKCl7YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0mJmFyZ3VtZW50c1swXTtyZXR1cm4gZi5oLmVycm9yKCJGcmFtZWJ1ZmZlci5jb3B5VG9UZXh0dXJlKHsuLi59KSBpcyBubyBsb2duZXIgc3VwcG9ydGVkLCB1c2UgY29weVRvVGV4dHVyZShzb3VyY2UsIHRhcmdldCwgb3B0c30pIikoKSxudWxsfX0se2tleToiYmxpdCIsdmFsdWU6ZnVuY3Rpb24oKXthcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXSYmYXJndW1lbnRzWzBdO3JldHVybiBmLmguZXJyb3IoIkZyYW1lYnVmZmVyLmJsaXQoey4uLn0pIGlzIG5vIGxvZ25lciBzdXBwb3J0ZWQsIHVzZSBibGl0KHNvdXJjZSwgdGFyZ2V0LCBvcHRzKSIpKCksbnVsbH19LHtrZXk6ImludmFsaWRhdGUiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXQuYXR0YWNobWVudHMsbj12b2lkIDA9PT1lP1tdOmUscj10LngsaT12b2lkIDA9PT1yPzA6cixhPXQueSxvPXZvaWQgMD09PWE/MDphLHM9dC53aWR0aCx1PXQuaGVpZ2h0LGM9dGhpcy5nbDtPYmplY3QoYi5hKShjKTt2YXIgbD1jLmJpbmRGcmFtZWJ1ZmZlcigzNjAwOCx0aGlzLmhhbmRsZSk7cmV0dXJuIDA9PT1pJiYwPT09byYmdm9pZCAwPT09cyYmdm9pZCAwPT09dT9jLmludmFsaWRhdGVGcmFtZWJ1ZmZlcigzNjAwOCxuKTpjLmludmFsaWRhdGVGcmFtZWJ1ZmZlcigzNjAwOCxuLGksbyxzLHUpLGMuYmluZEZyYW1lYnVmZmVyKDM2MDA4LGwpLHRoaXN9fSx7a2V5OiJnZXRBdHRhY2htZW50UGFyYW1ldGVyIix2YWx1ZTpmdW5jdGlvbih0LGUsbil7dmFyIHI9dGhpcy5fZ2V0QXR0YWNobWVudFBhcmFtZXRlckZhbGxiYWNrKGUpO3JldHVybiBudWxsPT09ciYmKHRoaXMuZ2wuYmluZEZyYW1lYnVmZmVyKDM2MTYwLHRoaXMuaGFuZGxlKSxyPXRoaXMuZ2wuZ2V0RnJhbWVidWZmZXJBdHRhY2htZW50UGFyYW1ldGVyKDM2MTYwLHQsZSksdGhpcy5nbC5iaW5kRnJhbWVidWZmZXIoMzYxNjAsbnVsbCkpLG4mJnI+MWUzJiYocj1PYmplY3QoXy5hKSh0aGlzLmdsLHIpKSxyfX0se2tleToiZ2V0QXR0YWNobWVudFBhcmFtZXRlcnMiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOjM2MDY0LGU9YXJndW1lbnRzLmxlbmd0aD4xP2FyZ3VtZW50c1sxXTp2b2lkIDAsbj1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06dGhpcy5jb25zdHJ1Y3Rvci5BVFRBQ0hNRU5UX1BBUkFNRVRFUlN8fFtdLHI9e30saT0hMCxhPSExLG89dm9pZCAwO3RyeXtmb3IodmFyIHMsdT1uW1N5bWJvbC5pdGVyYXRvcl0oKTshKGk9KHM9dS5uZXh0KCkpLmRvbmUpO2k9ITApe3ZhciBjPXMudmFsdWUsbD1lP09iamVjdChfLmEpKHRoaXMuZ2wsYyk6YztyW2xdPXRoaXMuZ2V0QXR0YWNobWVudFBhcmFtZXRlcih0LGMsZSl9fWNhdGNoKHQpe2E9ITAsbz10fWZpbmFsbHl7dHJ5e2l8fG51bGw9PXUucmV0dXJufHx1LnJldHVybigpfWZpbmFsbHl7aWYoYSl0aHJvdyBvfX1yZXR1cm4gcn19LHtrZXk6ImdldFBhcmFtZXRlcnMiLHZhbHVlOmZ1bmN0aW9uKCl7Zm9yKHZhciB0PSEoYXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0pfHxhcmd1bWVudHNbMF0sZT1PYmplY3Qua2V5cyh0aGlzLmF0dGFjaG1lbnRzKSxuPXt9LHI9MCxpPWU7cjxpLmxlbmd0aDtyKyspe3ZhciBhPWlbcl0sbz1OdW1iZXIoYSkscz10P09iamVjdChfLmEpKHRoaXMuZ2wsbyk6bztuW3NdPXRoaXMuZ2V0QXR0YWNobWVudFBhcmFtZXRlcnMobyx0KX1yZXR1cm4gbn19LHtrZXk6InNob3ciLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuInVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3cmJndpbmRvdy5vcGVuKE9iamVjdCh5LmEpKHRoaXMpLCJsdW1hLWRlYnVnLXRleHR1cmUiKSx0aGlzfX0se2tleToibG9nIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTowLGU9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOiIiO2lmKHQ+Zi5oLmxldmVsfHwidW5kZWZpbmVkIj09dHlwZW9mIHdpbmRvdylyZXR1cm4gdGhpcztlPWV8fCJGcmFtZWJ1ZmZlciAiLmNvbmNhdCh0aGlzLmlkKTt2YXIgbj1PYmplY3QoeS5hKSh0aGlzLHttYXhIZWlnaHQ6MTAwfSk7cmV0dXJuIGYuaC5pbWFnZSh7bG9nTGV2ZWw6dCxtZXNzYWdlOmUsaW1hZ2U6bn0sZSkoKSx0aGlzfX0se2tleToiYmluZCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e30sZT10LnRhcmdldCxuPXZvaWQgMD09PWU/MzYxNjA6ZTtyZXR1cm4gdGhpcy5nbC5iaW5kRnJhbWVidWZmZXIobix0aGlzLmhhbmRsZSksdGhpc319LHtrZXk6InVuYmluZCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e30sZT10LnRhcmdldCxuPXZvaWQgMD09PWU/MzYxNjA6ZTtyZXR1cm4gdGhpcy5nbC5iaW5kRnJhbWVidWZmZXIobixudWxsKSx0aGlzfX0se2tleToiX2NyZWF0ZURlZmF1bHRBdHRhY2htZW50cyIsdmFsdWU6ZnVuY3Rpb24odCxlLG4saSxhKXt2YXIgbyxzPW51bGw7dCYmKChzPXN8fHt9KVszNjA2NF09bmV3IHYuYSh0aGlzLmdsLHtpZDoiIi5jb25jYXQodGhpcy5pZCwiLWNvbG9yMCIpLHBpeGVsczpudWxsLGZvcm1hdDo2NDA4LHR5cGU6NTEyMSx3aWR0aDppLGhlaWdodDphLG1pcG1hcHM6ITEscGFyYW1ldGVyczoobz17fSxPYmplY3Qoci5hKShvLDEwMjQxLDk3MjkpLE9iamVjdChyLmEpKG8sMTAyNDAsOTcyOSksT2JqZWN0KHIuYSkobywxMDI0MiwzMzA3MSksT2JqZWN0KHIuYSkobywxMDI0MywzMzA3MSksbyl9KSx0aGlzLm93blJlc291cmNlcy5wdXNoKHNbMzYwNjRdKSk7cmV0dXJuIGUmJm4/KChzPXN8fHt9KVszMzMwNl09bmV3IHAuYSh0aGlzLmdsLHtpZDoiIi5jb25jYXQodGhpcy5pZCwiLWRlcHRoLXN0ZW5jaWwiKSxmb3JtYXQ6MzUwNTYsd2lkdGg6aSxoZWlnaHQ6MTExfSksdGhpcy5vd25SZXNvdXJjZXMucHVzaChzWzMzMzA2XSkpOmU/KChzPXN8fHt9KVszNjA5Nl09bmV3IHAuYSh0aGlzLmdsLHtpZDoiIi5jb25jYXQodGhpcy5pZCwiLWRlcHRoIiksZm9ybWF0OjMzMTg5LHdpZHRoOmksaGVpZ2h0OmF9KSx0aGlzLm93blJlc291cmNlcy5wdXNoKHNbMzYwOTZdKSk6biYmT2JqZWN0KE8uYSkoITEpLHN9fSx7a2V5OiJfdW5hdHRhY2giLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuYXR0YWNobWVudHNbdF07ZSYmKGUgaW5zdGFuY2VvZiBwLmE/dGhpcy5nbC5mcmFtZWJ1ZmZlclJlbmRlcmJ1ZmZlcigzNjE2MCx0LDM2MTYxLG51bGwpOnRoaXMuZ2wuZnJhbWVidWZmZXJUZXh0dXJlMkQoMzYxNjAsdCwzNTUzLG51bGwsMCksZGVsZXRlIHRoaXMuYXR0YWNobWVudHNbdF0pfX0se2tleToiX2F0dGFjaFJlbmRlcmJ1ZmZlciIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dC5hdHRhY2htZW50LG49dm9pZCAwPT09ZT8zNjA2NDplLHI9dC5yZW5kZXJidWZmZXI7dGhpcy5nbC5mcmFtZWJ1ZmZlclJlbmRlcmJ1ZmZlcigzNjE2MCxuLDM2MTYxLHIuaGFuZGxlKSx0aGlzLmF0dGFjaG1lbnRzW25dPXJ9fSx7a2V5OiJfYXR0YWNoVGV4dHVyZSIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dC5hdHRhY2htZW50LG49dm9pZCAwPT09ZT8zNjA2NDplLHI9dC50ZXh0dXJlLGk9dC5sYXllcixhPXQubGV2ZWwsbz10aGlzLmdsO3N3aXRjaChvLmJpbmRUZXh0dXJlKHIudGFyZ2V0LHIuaGFuZGxlKSxyLnRhcmdldCl7Y2FzZSAzNTg2NjpjYXNlIDMyODc5Om8uZnJhbWVidWZmZXJUZXh0dXJlTGF5ZXIoMzYxNjAsbixyLnRhcmdldCxhLGkpO2JyZWFrO2Nhc2UgMzQwNjc6dmFyIHM9ZnVuY3Rpb24odCl7cmV0dXJuIHQ8MzQwNjk/dCszNDA2OTp0fShpKTtvLmZyYW1lYnVmZmVyVGV4dHVyZTJEKDM2MTYwLG4scyxyLmhhbmRsZSxhKTticmVhaztjYXNlIDM1NTM6by5mcmFtZWJ1ZmZlclRleHR1cmUyRCgzNjE2MCxuLDM1NTMsci5oYW5kbGUsYSk7YnJlYWs7ZGVmYXVsdDpPYmplY3QoTy5hKSghMSwiSWxsZWdhbCB0ZXh0dXJlIHR5cGUiKX1vLmJpbmRUZXh0dXJlKHIudGFyZ2V0LG51bGwpLHRoaXMuYXR0YWNobWVudHNbbl09cn19LHtrZXk6Il9zZXRSZWFkQnVmZmVyIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLmdsO09iamVjdChmLmcpKGUpP2UucmVhZEJ1ZmZlcih0KTpPYmplY3QoTy5hKSgzNjA2ND09PXR8fDEwMjk9PT10LCJNdWx0aXBsZSByZW5kZXIgdGFyZ2V0cyBub3Qgc3VwcG9ydGVkIiksdGhpcy5yZWFkQnVmZmVyPXR9fSx7a2V5OiJfc2V0RHJhd0J1ZmZlcnMiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuZ2w7aWYoT2JqZWN0KGYuZykoZSkpZS5kcmF3QnVmZmVycyh0KTtlbHNle3ZhciBuPWUuZ2V0RXh0ZW5zaW9uKCJXRUJHTC5kcmF3X2J1ZmZlcnMiKTtuP24uZHJhd0J1ZmZlcnNXRUJHTCh0KTpPYmplY3QoTy5hKSgxPT09dC5sZW5ndGgmJigzNjA2ND09PXRbMF18fDEwMjk9PT10WzBdKSwiTXVsdGlwbGUgcmVuZGVyIHRhcmdldHMgbm90IHN1cHBvcnRlZCIpfXRoaXMuZHJhd0J1ZmZlcnM9dH19LHtrZXk6Il9nZXRBdHRhY2htZW50UGFyYW1ldGVyRmFsbGJhY2siLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPU9iamVjdChtLmEpKHRoaXMuZ2wpO3N3aXRjaCh0KXtjYXNlIDM2MDUyOnJldHVybiBlLldFQkdMMj9udWxsOjA7Y2FzZSAzMzI5ODpjYXNlIDMzMjk5OmNhc2UgMzMzMDA6Y2FzZSAzMzMwMTpjYXNlIDMzMzAyOmNhc2UgMzMzMDM6cmV0dXJuIGUuV0VCR0wyP251bGw6ODtjYXNlIDMzMjk3OnJldHVybiBlLldFQkdMMj9udWxsOjUxMjU7Y2FzZSAzMzI5NjpyZXR1cm4gZS5XRUJHTDJ8fGUuRVhUX3NSR0I/bnVsbDo5NzI5O2RlZmF1bHQ6cmV0dXJuIG51bGx9fX0se2tleToiX2NyZWF0ZUhhbmRsZSIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nbC5jcmVhdGVGcmFtZWJ1ZmZlcigpfX0se2tleToiX2RlbGV0ZUhhbmRsZSIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLmdsLmRlbGV0ZUZyYW1lYnVmZmVyKHRoaXMuaGFuZGxlKX19LHtrZXk6Il9iaW5kSGFuZGxlIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5nbC5iaW5kRnJhbWVidWZmZXIoMzYxNjAsdCl9fSx7a2V5OiJjb2xvciIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYXR0YWNobWVudHNbMzYwNjRdfHxudWxsfX0se2tleToidGV4dHVyZSIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYXR0YWNobWVudHNbMzYwNjRdfHxudWxsfX0se2tleToiZGVwdGgiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmF0dGFjaG1lbnRzWzM2MDk2XXx8dGhpcy5hdHRhY2htZW50c1szMzMwNl18fG51bGx9fSx7a2V5OiJzdGVuY2lsIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hdHRhY2htZW50c1szNjEyOF18fHRoaXMuYXR0YWNobWVudHNbMzMzMDZdfHxudWxsfX1dKSxlfShkLmEpO2Z1bmN0aW9uIHcodCl7cmV0dXJuKHguU1RBVFVTfHx7fSlbdF18fCJGcmFtZWJ1ZmZlciBlcnJvciAiLmNvbmNhdCh0KX14LkFUVEFDSE1FTlRfUEFSQU1FVEVSUz1bMzYwNDksMzYwNDgsMzMyOTYsMzMyOTgsMzMyOTksMzMzMDAsMzMzMDEsMzMzMDIsMzMzMDNdfSxmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIHIodCxlKXtpZighdCl0aHJvdyBuZXcgRXJyb3IoIm1hdGguZ2wgYXNzZXJ0aW9uICIuY29uY2F0KGUpKX1uLmQoZSwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIHJ9KSl9LGZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gcih0LGUpe2lmKHQ9PT1lKXJldHVybiEwO2lmKCF0fHwhZSlyZXR1cm4hMTtmb3IodmFyIG4gaW4gdCl7dmFyIGk9dFtuXSxhPWVbbl07aWYoIShpPT09YXx8QXJyYXkuaXNBcnJheShpKSYmQXJyYXkuaXNBcnJheShhKSYmcihpLGEpKSlyZXR1cm4hMX1yZXR1cm4hMH1uLmQoZSwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIHJ9KSl9LGZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7bi5kKGUsImEiLChmdW5jdGlvbigpe3JldHVybiBjfSkpO3ZhciByPW4oMSksaT1uLm4ociksYT1uKDIpLG89bi5uKGEpO2Z1bmN0aW9uIHMoKXt9dmFyIHU9e29uU3RhcnQ6cyxvblVwZGF0ZTpzLG9uSW50ZXJydXB0OnMsb25FbmQ6c30sYz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSl7aSgpKHRoaXMsdCksdGhpcy5faW5Qcm9ncmVzcz0hMSx0aGlzLl9oYW5kbGU9bnVsbCx0aGlzLnRpbWVsaW5lPWUsdGhpcy5zZXR0aW5ncz17fX1yZXR1cm4gbygpKHQsW3trZXk6InN0YXJ0Iix2YWx1ZTpmdW5jdGlvbih0KXt0aGlzLmNhbmNlbCgpLHRoaXMuc2V0dGluZ3M9T2JqZWN0LmFzc2lnbih7fSx1LHQpLHRoaXMuX2luUHJvZ3Jlc3M9ITAsdGhpcy5zZXR0aW5ncy5vblN0YXJ0KHRoaXMpfX0se2tleToiZW5kIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuX2luUHJvZ3Jlc3MmJih0aGlzLnRpbWVsaW5lLnJlbW92ZUNoYW5uZWwodGhpcy5faGFuZGxlKSx0aGlzLl9oYW5kbGU9bnVsbCx0aGlzLl9pblByb2dyZXNzPSExLHRoaXMuc2V0dGluZ3Mub25FbmQodGhpcykpfX0se2tleToiY2FuY2VsIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuX2luUHJvZ3Jlc3MmJih0aGlzLnNldHRpbmdzLm9uSW50ZXJydXB0KHRoaXMpLHRoaXMudGltZWxpbmUucmVtb3ZlQ2hhbm5lbCh0aGlzLl9oYW5kbGUpLHRoaXMuX2hhbmRsZT1udWxsLHRoaXMuX2luUHJvZ3Jlc3M9ITEpfX0se2tleToidXBkYXRlIix2YWx1ZTpmdW5jdGlvbigpe2lmKCF0aGlzLl9pblByb2dyZXNzKXJldHVybiExO2lmKG51bGw9PT10aGlzLl9oYW5kbGUpe3ZhciB0PXRoaXMudGltZWxpbmUsZT10aGlzLnNldHRpbmdzO3RoaXMuX2hhbmRsZT10LmFkZENoYW5uZWwoe2RlbGF5OnQuZ2V0VGltZSgpLGR1cmF0aW9uOmUuZHVyYXRpb259KX1yZXR1cm4gdGhpcy50aW1lPXRoaXMudGltZWxpbmUuZ2V0VGltZSh0aGlzLl9oYW5kbGUpLHRoaXMuX29uVXBkYXRlKCksdGhpcy5zZXR0aW5ncy5vblVwZGF0ZSh0aGlzKSx0aGlzLnRpbWVsaW5lLmlzRmluaXNoZWQodGhpcy5faGFuZGxlKSYmdGhpcy5lbmQoKSwhMH19LHtrZXk6Il9vblVwZGF0ZSIsdmFsdWU6ZnVuY3Rpb24oKXt9fSx7a2V5OiJpblByb2dyZXNzIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faW5Qcm9ncmVzc319XSksdH0oKX0sZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKDApLGk9bigyNSksYT1uKDYpLG89big3KSxzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe09iamVjdChhLmEpKHRoaXMsdCl9cmV0dXJuIE9iamVjdChvLmEpKHQsW3trZXk6ImxvZyIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24odCl7fX19LHtrZXk6ImluZm8iLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKHQpe319fSx7a2V5OiJ3YXJuIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbih0KXt9fX0se2tleToiZXJyb3IiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKHQpe319fV0pLHR9KCksdT17Q0ROOiJodHRwczovL3VucGtnLmNvbS9AbG9hZGVycy5nbCIsd29ya2VyOiEwLGxvZzpuZXcoZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7T2JqZWN0KGEuYSkodGhpcyx0KSx0aGlzLmNvbnNvbGU9Y29uc29sZX1yZXR1cm4gT2JqZWN0KG8uYSkodCxbe2tleToibG9nIix2YWx1ZTpmdW5jdGlvbigpe2Zvcih2YXIgdCxlPWFyZ3VtZW50cy5sZW5ndGgsbj1uZXcgQXJyYXkoZSkscj0wO3I8ZTtyKyspbltyXT1hcmd1bWVudHNbcl07cmV0dXJuKHQ9dGhpcy5jb25zb2xlLmxvZykuYmluZC5hcHBseSh0LFt0aGlzLmNvbnNvbGVdLmNvbmNhdChuKSl9fSx7a2V5OiJpbmZvIix2YWx1ZTpmdW5jdGlvbigpe2Zvcih2YXIgdCxlPWFyZ3VtZW50cy5sZW5ndGgsbj1uZXcgQXJyYXkoZSkscj0wO3I8ZTtyKyspbltyXT1hcmd1bWVudHNbcl07cmV0dXJuKHQ9dGhpcy5jb25zb2xlLmluZm8pLmJpbmQuYXBwbHkodCxbdGhpcy5jb25zb2xlXS5jb25jYXQobikpfX0se2tleToid2FybiIsdmFsdWU6ZnVuY3Rpb24oKXtmb3IodmFyIHQsZT1hcmd1bWVudHMubGVuZ3RoLG49bmV3IEFycmF5KGUpLHI9MDtyPGU7cisrKW5bcl09YXJndW1lbnRzW3JdO3JldHVybih0PXRoaXMuY29uc29sZS53YXJuKS5iaW5kLmFwcGx5KHQsW3RoaXMuY29uc29sZV0uY29uY2F0KG4pKX19LHtrZXk6ImVycm9yIix2YWx1ZTpmdW5jdGlvbigpe2Zvcih2YXIgdCxlPWFyZ3VtZW50cy5sZW5ndGgsbj1uZXcgQXJyYXkoZSkscj0wO3I8ZTtyKyspbltyXT1hcmd1bWVudHNbcl07cmV0dXJuKHQ9dGhpcy5jb25zb2xlLmVycm9yKS5iaW5kLmFwcGx5KHQsW3RoaXMuY29uc29sZV0uY29uY2F0KG4pKX19XSksdH0oKSksZGF0YVR5cGU6ImFycmF5YnVmZmVyIn07ZnVuY3Rpb24gYyh0LGUpe3ZhciBuPU9iamVjdC5rZXlzKHQpO2lmKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciByPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHModCk7ZSYmKHI9ci5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHQsZSkuZW51bWVyYWJsZX0pKSksbi5wdXNoLmFwcGx5KG4scil9cmV0dXJuIG59ZnVuY3Rpb24gbCh0KXtmb3IodmFyIGU9MTtlPGFyZ3VtZW50cy5sZW5ndGg7ZSsrKXt2YXIgbj1udWxsIT1hcmd1bWVudHNbZV0/YXJndW1lbnRzW2VdOnt9O2UlMj9jKE9iamVjdChuKSwhMCkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7T2JqZWN0KHIuYSkodCxlLG5bZV0pfSkpOk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzP09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHQsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMobikpOmMoT2JqZWN0KG4pKS5mb3JFYWNoKChmdW5jdGlvbihlKXtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxlLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IobixlKSl9KSl9cmV0dXJuIHR9bi5kKGUsImIiLChmdW5jdGlvbigpe3JldHVybiBkfSkpLG4uZChlLCJhIiwoZnVuY3Rpb24oKXtyZXR1cm4gdn0pKTt2YXIgaD1mdW5jdGlvbih0KXtyZXR1cm4gdCYmIm9iamVjdCI9PT1PYmplY3QoaS5hKSh0KSYmdC5jb25zdHJ1Y3Rvcj09PXt9LmNvbnN0cnVjdG9yfSxmPWwoe30sdSk7ZnVuY3Rpb24gZCh0KXtmPXYoZix0KX1mdW5jdGlvbiB2KHQsZSxuKXt2YXIgcj1sKHt9LHQmJih0LkRFRkFVTFRfTE9BREVSX09QVElPTlN8fHQuZGVmYXVsdE9wdGlvbnN8fHQub3B0aW9uc3x8e30pKTtyZXR1cm4gZnVuY3Rpb24odCxlKXshZXx8ImJhc2VVcmkiaW4gdHx8KHQuYmFzZVVyaT1lKX0ocixuKSxudWxsPT09ci5sb2cmJihyLmxvZz1uZXcgcykscChyLGYpLHAocixlKSxyfWZ1bmN0aW9uIHAodCxlKXtmb3IodmFyIG4gaW4gZSlpZihuIGluIGUpe3ZhciByPWVbbl07aChyKSYmaCh0W25dKT90W25dPWwoe30sdFtuXSx7fSxlW25dKTp0W25dPWVbbl19fX0sZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKDUpLGk9bi5uKHIpLGE9bigxMyksbz1uKDM4KSxzPW4oMTAzKSx1PW4oMTA3KSxjPW4oMTcxKTtmdW5jdGlvbiBsKHQpe3JldHVybiBoLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1mdW5jdGlvbiBoKCl7cmV0dXJuKGg9T2JqZWN0KGEuYSkoaS5hLm1hcmsoKGZ1bmN0aW9uIHQoZSl7dmFyIG4scjtyZXR1cm4gaS5hLndyYXAoKGZ1bmN0aW9uKHQpe2Zvcig7Oylzd2l0Y2godC5wcmV2PXQubmV4dCl7Y2FzZSAwOmlmKGUub2spe3QubmV4dD0xMjticmVha31yZXR1cm4gbj0iZmV0Y2ggZmFpbGVkICIuY29uY2F0KGUuc3RhdHVzLCIgIiksdC5wcmV2PTIsdC5uZXh0PTUsZS50ZXh0KCk7Y2FzZSA1OnI9dC5zZW50LG4rPXIsdC5uZXh0PTExO2JyZWFrO2Nhc2UgOTp0LnByZXY9OSx0LnQwPXQuY2F0Y2goMik7Y2FzZSAxMTp0aHJvdyBuZXcgRXJyb3Iobik7Y2FzZSAxMjpjYXNlImVuZCI6cmV0dXJuIHQuc3RvcCgpfX0pLHQsbnVsbCxbWzIsOV1dKX0pKSkpLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1uLmQoZSwiZSIsKGZ1bmN0aW9uKCl7cmV0dXJuIGR9KSksbi5kKGUsImIiLChmdW5jdGlvbigpe3JldHVybiB2fSkpLG4uZChlLCJhIiwoZnVuY3Rpb24oKXtyZXR1cm4gcH0pKSxuLmQoZSwiYyIsKGZ1bmN0aW9uKCl7cmV0dXJuIHl9KSksbi5kKGUsImQiLChmdW5jdGlvbigpe3JldHVybiBtfSkpO3ZhciBmPSJDYW5ub3QgY29udmVydCBzdXBwbGllZCBkYXRhIHR5cGUiO2Z1bmN0aW9uIGQodCxlKXtyZXR1cm4gT2JqZWN0KG8uYykodCk/ZT1lfHx0LnVybDpPYmplY3Qoby5kKShlKSYmKGU9ZS5uYW1lKSwic3RyaW5nIj09dHlwZW9mIGU/ZS5yZXBsYWNlKC9cPy4qLywiIik6ZX1mdW5jdGlvbiB2KHQsZSl7aWYoZS50ZXh0JiYic3RyaW5nIj09dHlwZW9mIHQpcmV0dXJuIHQ7aWYodCBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKXt2YXIgbj10O3JldHVybiBlLnRleHQmJiFlLmJpbmFyeT9uZXcgVGV4dERlY29kZXIoInV0ZjgiKS5kZWNvZGUobik6bn1pZihBcnJheUJ1ZmZlci5pc1ZpZXcodCl8fE9iamVjdChvLmIpKHQpKXtpZihlLnRleHQmJiFlLmJpbmFyeSlyZXR1cm4gbmV3IFRleHREZWNvZGVyKCJ1dGY4IikuZGVjb2RlKHQpO3ZhciByPXQuYnVmZmVyLGk9dC5ieXRlTGVuZ3RofHx0Lmxlbmd0aDtyZXR1cm4gMD09PXQuYnl0ZU9mZnNldCYmaT09PXIuYnl0ZUxlbmd0aHx8KHI9ci5zbGljZSh0LmJ5dGVPZmZzZXQsdC5ieXRlT2Zmc2V0K2kpKSxyfXRocm93IG5ldyBFcnJvcihmKX1mdW5jdGlvbiBwKHQsZSl7cmV0dXJuIGcuYXBwbHkodGhpcyxhcmd1bWVudHMpfWZ1bmN0aW9uIGcoKXtyZXR1cm4oZz1PYmplY3QoYS5hKShpLmEubWFyaygoZnVuY3Rpb24gdChlLG4pe3ZhciByLGE7cmV0dXJuIGkuYS53cmFwKChmdW5jdGlvbih0KXtmb3IoOzspc3dpdGNoKHQucHJldj10Lm5leHQpe2Nhc2UgMDpyZXR1cm4gdC5uZXh0PTIsZTtjYXNlIDI6aWYoZT10LnNlbnQscj1lIGluc3RhbmNlb2YgQXJyYXlCdWZmZXJ8fEFycmF5QnVmZmVyLmlzVmlldyhlKSwic3RyaW5nIiE9dHlwZW9mIGUmJiFyKXt0Lm5leHQ9NjticmVha31yZXR1cm4gdC5hYnJ1cHQoInJldHVybiIsdihlLG4pKTtjYXNlIDY6aWYoIU9iamVjdChvLmQpKGUpKXt0Lm5leHQ9MTA7YnJlYWt9cmV0dXJuIHQubmV4dD05LE9iamVjdChjLmEpKGUpO2Nhc2UgOTplPXQuc2VudDtjYXNlIDEwOmlmKCFPYmplY3Qoby5jKShlKSl7dC5uZXh0PTI0O2JyZWFrfXJldHVybiBhPWUsdC5uZXh0PTE0LGwoYSk7Y2FzZSAxNDppZighbi5iaW5hcnkpe3QubmV4dD0yMDticmVha31yZXR1cm4gdC5uZXh0PTE3LGEuYXJyYXlCdWZmZXIoKTtjYXNlIDE3OnQudDA9dC5zZW50LHQubmV4dD0yMzticmVhaztjYXNlIDIwOnJldHVybiB0Lm5leHQ9MjIsYS50ZXh0KCk7Y2FzZSAyMjp0LnQwPXQuc2VudDtjYXNlIDIzOnJldHVybiB0LmFicnVwdCgicmV0dXJuIix0LnQwKTtjYXNlIDI0OmlmKE9iamVjdChvLmgpKGUpJiYoZT1PYmplY3Qocy5hKShlKSksIU9iamVjdChvLmUpKGUpJiYhT2JqZWN0KG8uYSkoZSkpe3QubmV4dD0yNzticmVha31yZXR1cm4gdC5hYnJ1cHQoInJldHVybiIsT2JqZWN0KHUuYSkoZSkpO2Nhc2UgMjc6dGhyb3cgbmV3IEVycm9yKGYpO2Nhc2UgMjg6Y2FzZSJlbmQiOnJldHVybiB0LnN0b3AoKX19KSx0KX0pKSkpLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1mdW5jdGlvbiB5KHQpe3JldHVybiBPYmplY3Qoby5mKSh0KT90Ok9iamVjdChvLmMpKHQpJiZ0LmJvZHk/KGZ1bmN0aW9uKHQpe2lmKCF0Lm9rKXRocm93IG5ldyBFcnJvcigiZmV0Y2ggZmFpbGVkICIuY29uY2F0KHQuc3RhdHVzKSl9KHQpLE9iamVjdChzLmEpKHQuYm9keSkpOk9iamVjdChvLmgpKHQpP09iamVjdChzLmEpKHQpOk9iamVjdChvLmEpKHQpP3RbU3ltYm9sLmFzeW5jSXRlcmF0b3JdKCk6bSh0KX1mdW5jdGlvbiBtKHQpe2lmKHQgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcnx8QXJyYXlCdWZmZXIuaXNWaWV3KHQpKXJldHVybiBpLmEubWFyaygoZnVuY3Rpb24gZSgpe3JldHVybiBpLmEud3JhcCgoZnVuY3Rpb24oZSl7Zm9yKDs7KXN3aXRjaChlLnByZXY9ZS5uZXh0KXtjYXNlIDA6cmV0dXJuIGUubmV4dD0yLHQuYnVmZmVyfHx0O2Nhc2UgMjpjYXNlImVuZCI6cmV0dXJuIGUuc3RvcCgpfX0pLGUpfSkpKCk7aWYoT2JqZWN0KG8uZikodCkpcmV0dXJuIHQ7aWYoT2JqZWN0KG8uZSkodCkpcmV0dXJuIHRbU3ltYm9sLml0ZXJhdG9yXSgpO3Rocm93IG5ldyBFcnJvcihmKX19LGZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigxNSk7ZnVuY3Rpb24gaSh0LGUsbil7cmV0dXJuKGk9InVuZGVmaW5lZCIhPXR5cGVvZiBSZWZsZWN0JiZSZWZsZWN0LmdldD9SZWZsZWN0LmdldDpmdW5jdGlvbih0LGUsbil7dmFyIGk9ZnVuY3Rpb24odCxlKXtmb3IoOyFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxlKSYmbnVsbCE9PSh0PU9iamVjdChyLmEpKHQpKTspO3JldHVybiB0fSh0LGUpO2lmKGkpe3ZhciBhPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoaSxlKTtyZXR1cm4gYS5nZXQ/YS5nZXQuY2FsbChuKTphLnZhbHVlfX0pKHQsZSxufHx0KX1uLmQoZSwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIGl9KSl9LGZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gcih0LGUsbil7dmFyIHI9ZVswXSxpPWVbMV0sYT1uWzNdKnIrbls3XSppfHwxO3JldHVybiB0WzBdPShuWzBdKnIrbls0XSppKS9hLHRbMV09KG5bMV0qcituWzVdKmkpL2EsdH1mdW5jdGlvbiBpKHQsZSxuKXt2YXIgcj1lWzBdLGk9ZVsxXSxhPWVbMl0sbz1uWzNdKnIrbls3XSppK25bMTFdKmF8fDE7cmV0dXJuIHRbMF09KG5bMF0qcituWzRdKmkrbls4XSphKS9vLHRbMV09KG5bMV0qcituWzVdKmkrbls5XSphKS9vLHRbMl09KG5bMl0qcituWzZdKmkrblsxMF0qYSkvbyx0fWZ1bmN0aW9uIGEodCxlLG4pe3ZhciByPWVbMF0saT1lWzFdO3JldHVybiB0WzBdPW5bMF0qcituWzJdKmksdFsxXT1uWzFdKnIrblszXSppLHRbMl09ZVsyXSx0fWZ1bmN0aW9uIG8odCxlLG4pe3ZhciByPWVbMF0saT1lWzFdLGE9ZVsyXTtyZXR1cm4gdFswXT1uWzBdKnIrblszXSppK25bNl0qYSx0WzFdPW5bMV0qcituWzRdKmkrbls3XSphLHRbMl09blsyXSpyK25bNV0qaStuWzhdKmEsdFszXT1lWzNdLHR9bi5kKGUsImEiLChmdW5jdGlvbigpe3JldHVybiByfSkpLG4uZChlLCJjIiwoZnVuY3Rpb24oKXtyZXR1cm4gaX0pKSxuLmQoZSwiYiIsKGZ1bmN0aW9uKCl7cmV0dXJuIGF9KSksbi5kKGUsImQiLChmdW5jdGlvbigpe3JldHVybiBvfSkpfSxmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO24uZChlLCJhIiwoZnVuY3Rpb24oKXtyZXR1cm4gc30pKSxuLmQoZSwiYiIsKGZ1bmN0aW9uKCl7cmV0dXJuIHV9KSk7dmFyIHI9bigyNiksaT1uKDApLGE9big5Myk7ZnVuY3Rpb24gbyh0LGUpe3ZhciBuPU9iamVjdC5rZXlzKHQpO2lmKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciByPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHModCk7ZSYmKHI9ci5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHQsZSkuZW51bWVyYWJsZX0pKSksbi5wdXNoLmFwcGx5KG4scil9cmV0dXJuIG59ZnVuY3Rpb24gcyh0LGUsbil7cmV0dXJuIG58fCh0PWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0xO2U8YXJndW1lbnRzLmxlbmd0aDtlKyspe3ZhciBuPW51bGwhPWFyZ3VtZW50c1tlXT9hcmd1bWVudHNbZV06e307ZSUyP28oT2JqZWN0KG4pLCEwKS5mb3JFYWNoKChmdW5jdGlvbihlKXtPYmplY3QoaS5hKSh0LGUsbltlXSl9KSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXModCxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhuKSk6byhPYmplY3QobikpLmZvckVhY2goKGZ1bmN0aW9uKGUpe09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LGUsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihuLGUpKX0pKX1yZXR1cm4gdH0oe2ZldGNoOnQuZmV0Y2h8fGEuYX0sdCksQXJyYXkuaXNBcnJheSh0LmxvYWRlcnMpfHwodC5sb2FkZXJzPW51bGwpLHQpfWZ1bmN0aW9uIHUodCxlKXtpZighZSYmIUFycmF5LmlzQXJyYXkodCkpcmV0dXJuIHQ7dmFyIG47aWYodCYmKG49QXJyYXkuaXNBcnJheSh0KT90Olt0XSksZSYmZS5sb2FkZXJzKXt2YXIgaT1BcnJheS5pc0FycmF5KGUubG9hZGVycyk/ZS5sb2FkZXJzOltlLmxvYWRlcnNdO249bj9bXS5jb25jYXQoT2JqZWN0KHIuYSkobiksT2JqZWN0KHIuYSkoaSkpOml9cmV0dXJuIG4mJm4ubGVuZ3RoP246bnVsbH19LGZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7bi5kKGUsImIiLChmdW5jdGlvbigpe3JldHVybiByfSkpLG4uZChlLCJhIiwoZnVuY3Rpb24oKXtyZXR1cm4gaX0pKTt2YXIgcj0idnMiLGk9ImZzIn0sZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0IjtuLnIoZSk7dmFyIHI9big5MyksaT1uKDExNiksYT1uKDc0KSxvPW4oMTg5KSxzPW4oOTYpLHU9e2RhdGFUeXBlOiJhcnJheWJ1ZmZlciIsbm90aHJvdzohMH07ZnVuY3Rpb24gYyh0LGUpe3JldHVybiBlPWZ1bmN0aW9uKCl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9O3JldHVybih0PU9iamVjdC5hc3NpZ24oe30sdSx0KSkucmVzcG9uc2VUeXBlPXQucmVzcG9uc2VUeXBlfHx0LmRhdGFUeXBlLHR9KGUpLHQuc3RhcnRzV2l0aCgiZGF0YToiKSxlLm5vdGhyb3d8fE9iamVjdChzLmEpKCExKSxudWxsfWZ1bmN0aW9uIGwodCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOnt9O3JldHVybiB0PU9iamVjdChpLmIpKHQpLCFhLmMmJm8ucmVhZEZpbGVTeW5jP28ucmVhZEZpbGVTeW5jKHQsZSk6Yyh0LGUpfXZhciBoPW4oMTQ2KTtmdW5jdGlvbiBmKHQsZSxuKXtyZXR1cm4gdD1PYmplY3QoaS5iKSh0KSwhYS5jJiZoLndyaXRlRmlsZT9oLndyaXRlRmlsZSh0LGUsbik6T2JqZWN0KHMuYSkoITEpfWZ1bmN0aW9uIGQodCxlLG4pe3JldHVybiB0PU9iamVjdChpLmIpKHQpLCFhLmMmJmgud3JpdGVGaWxlU3luYz9oLndyaXRlRmlsZVN5bmModCxlLG4pOk9iamVjdChzLmEpKCExKX12YXIgdj1uKDg2KTtmdW5jdGlvbiBwKHQpe09iamVjdCh2LmIpKHQpfXZhciBnPW4oMTE3KSx5PW4oMTYxKSxtPW4oODApLGI9big1OSksXz1uKDg3KSxPPW4oOTApO2Z1bmN0aW9uIHgodCxlLG4scil7QXJyYXkuaXNBcnJheShlKXx8T2JqZWN0KGIuYSkoZSl8fChyPW4sbj1lLGU9bnVsbCk7dmFyIGk9IiI7InN0cmluZyI9PXR5cGVvZiByJiYoaT1yLHI9bnVsbCksbj1ufHx7fTt2YXIgYT1PYmplY3QoTy5iKShlLHIpLG89T2JqZWN0KG0uYSkoYSxpLHQpO3JldHVybiBvP2Z1bmN0aW9uKHQsZSxuLHIpe2lmKGU9T2JqZWN0KF8uYikoZSx0KSx0LnBhcnNlVGV4dFN5bmMmJiJzdHJpbmciPT10eXBlb2YgZSlyZXR1cm4gdC5wYXJzZVRleHRTeW5jKGUsbixyLHQpO2lmKHQucGFyc2VTeW5jKXJldHVybiB0LnBhcnNlU3luYyhlLG4scix0KTt0aHJvdyBuZXcgRXJyb3IoIiIuY29uY2F0KHQubmFtZSwiIGxvYWRlcjogJ3BhcnNlU3luYycgbm90IHN1cHBvcnRlZCBieSB0aGlzIGxvYWRlciwgdXNlICdwYXJzZScgaW5zdGVhZC4gIikuY29uY2F0KHIudXJsfHwiIikpfShvLHQsbj1PYmplY3Qodi5hKShvLG4saSkscj1PYmplY3QoTy5hKSh7dXJsOmkscGFyc2VTeW5jOngsbG9hZGVyczplfSxuKSk6bnVsbH12YXIgdz1uKDUpLGs9bi5uKHcpLFM9bigxMyksUD1uKDU0KSxqPW4oMTA0KSxUPW4oMTEzKTtmdW5jdGlvbiBFKHQsZSl7cmV0dXJuIEEuYXBwbHkodGhpcyxhcmd1bWVudHMpfWZ1bmN0aW9uIEEoKXtyZXR1cm4oQT1PYmplY3QoUy5hKShrLmEubWFyaygoZnVuY3Rpb24gdChlLG4pe3ZhciByLGksYTtyZXR1cm4gay5hLndyYXAoKGZ1bmN0aW9uKHQpe2Zvcig7Oylzd2l0Y2godC5wcmV2PXQubmV4dCl7Y2FzZSAwOnJldHVybiB0Lm5leHQ9MyxlLm5leHQoKTtjYXNlIDM6aWYocj10LnNlbnQsaT1yLmRvbmUsYT1yLnZhbHVlLCFpKXt0Lm5leHQ9OTticmVha31yZXR1cm4gZS5yZXR1cm4oKSx0LmFicnVwdCgicmV0dXJuIik7Y2FzZSA5OmlmKCFuKGEpKXt0Lm5leHQ9MTI7YnJlYWt9cmV0dXJuIHQuYWJydXB0KCJyZXR1cm4iKTtjYXNlIDEyOnQubmV4dD0wO2JyZWFrO2Nhc2UgMTQ6Y2FzZSJlbmQiOnJldHVybiB0LnN0b3AoKX19KSx0KX0pKSkpLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1mdW5jdGlvbiBNKHQsZSl7cmV0dXJuIEMuYXBwbHkodGhpcyxhcmd1bWVudHMpfWZ1bmN0aW9uIEMoKXtyZXR1cm4oQz1PYmplY3Qoai5hKShrLmEubWFyaygoZnVuY3Rpb24gdChlLG4pe3ZhciByLGksYSxvLHMsdSxjLGw7cmV0dXJuIGsuYS53cmFwKChmdW5jdGlvbih0KXtmb3IoOzspc3dpdGNoKHQucHJldj10Lm5leHQpe2Nhc2UgMDpyPW5ldyBUZXh0RGVjb2RlcihuKSxpPSEwLGE9ITEsdC5wcmV2PTMscz1PYmplY3QoVC5hKShlKTtjYXNlIDU6cmV0dXJuIHQubmV4dD03LE9iamVjdChQLmEpKHMubmV4dCgpKTtjYXNlIDc6cmV0dXJuIHU9dC5zZW50LGk9dS5kb25lLHQubmV4dD0xMSxPYmplY3QoUC5hKSh1LnZhbHVlKTtjYXNlIDExOmlmKGM9dC5zZW50LGkpe3QubmV4dD0xOTticmVha31yZXR1cm4gbD1jLHQubmV4dD0xNiwic3RyaW5nIj09dHlwZW9mIGw/bDpyLmRlY29kZShsLHtzdHJlYW06ITB9KTtjYXNlIDE2Omk9ITAsdC5uZXh0PTU7YnJlYWs7Y2FzZSAxOTp0Lm5leHQ9MjU7YnJlYWs7Y2FzZSAyMTp0LnByZXY9MjEsdC50MD10LmNhdGNoKDMpLGE9ITAsbz10LnQwO2Nhc2UgMjU6aWYodC5wcmV2PTI1LHQucHJldj0yNixpfHxudWxsPT1zLnJldHVybil7dC5uZXh0PTMwO2JyZWFrfXJldHVybiB0Lm5leHQ9MzAsT2JqZWN0KFAuYSkocy5yZXR1cm4oKSk7Y2FzZSAzMDppZih0LnByZXY9MzAsIWEpe3QubmV4dD0zMzticmVha310aHJvdyBvO2Nhc2UgMzM6cmV0dXJuIHQuZmluaXNoKDMwKTtjYXNlIDM0OnJldHVybiB0LmZpbmlzaCgyNSk7Y2FzZSAzNTpjYXNlImVuZCI6cmV0dXJuIHQuc3RvcCgpfX0pLHQsbnVsbCxbWzMsMjEsMjUsMzVdLFsyNiwsMzAsMzRdXSl9KSkpKS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZnVuY3Rpb24gTCh0KXtyZXR1cm4gSS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZnVuY3Rpb24gSSgpe3JldHVybihJPU9iamVjdChqLmEpKGsuYS5tYXJrKChmdW5jdGlvbiB0KGUpe3ZhciBuLHIsaSxhLG8scyx1LGMsbDtyZXR1cm4gay5hLndyYXAoKGZ1bmN0aW9uKHQpe2Zvcig7Oylzd2l0Y2godC5wcmV2PXQubmV4dCl7Y2FzZSAwOm49IiIscj0hMCxpPSExLHQucHJldj0zLG89T2JqZWN0KFQuYSkoZSk7Y2FzZSA1OnJldHVybiB0Lm5leHQ9NyxPYmplY3QoUC5hKShvLm5leHQoKSk7Y2FzZSA3OnJldHVybiBzPXQuc2VudCxyPXMuZG9uZSx0Lm5leHQ9MTEsT2JqZWN0KFAuYSkocy52YWx1ZSk7Y2FzZSAxMTppZih1PXQuc2VudCxyKXt0Lm5leHQ9MjY7YnJlYWt9bis9dSxjPXZvaWQgMDtjYXNlIDE2OmlmKCEoKGM9bi5pbmRleE9mKCJcbiIpKT49MCkpe3QubmV4dD0yMzticmVha31yZXR1cm4gbD1uLnNsaWNlKDAsYysxKSxuPW4uc2xpY2UoYysxKSx0Lm5leHQ9MjEsbDtjYXNlIDIxOnQubmV4dD0xNjticmVhaztjYXNlIDIzOnI9ITAsdC5uZXh0PTU7YnJlYWs7Y2FzZSAyNjp0Lm5leHQ9MzI7YnJlYWs7Y2FzZSAyODp0LnByZXY9MjgsdC50MD10LmNhdGNoKDMpLGk9ITAsYT10LnQwO2Nhc2UgMzI6aWYodC5wcmV2PTMyLHQucHJldj0zMyxyfHxudWxsPT1vLnJldHVybil7dC5uZXh0PTM3O2JyZWFrfXJldHVybiB0Lm5leHQ9MzcsT2JqZWN0KFAuYSkoby5yZXR1cm4oKSk7Y2FzZSAzNzppZih0LnByZXY9MzcsIWkpe3QubmV4dD00MDticmVha310aHJvdyBhO2Nhc2UgNDA6cmV0dXJuIHQuZmluaXNoKDM3KTtjYXNlIDQxOnJldHVybiB0LmZpbmlzaCgzMik7Y2FzZSA0MjppZighKG4ubGVuZ3RoPjApKXt0Lm5leHQ9NDU7YnJlYWt9cmV0dXJuIHQubmV4dD00NSxuO2Nhc2UgNDU6Y2FzZSJlbmQiOnJldHVybiB0LnN0b3AoKX19KSx0LG51bGwsW1szLDI4LDMyLDQyXSxbMzMsLDM3LDQxXV0pfSkpKSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfWZ1bmN0aW9uIFIodCl7cmV0dXJuIE4uYXBwbHkodGhpcyxhcmd1bWVudHMpfWZ1bmN0aW9uIE4oKXtyZXR1cm4oTj1PYmplY3Qoai5hKShrLmEubWFyaygoZnVuY3Rpb24gdChlKXt2YXIgbixyLGksYSxvLHMsdSxjO3JldHVybiBrLmEud3JhcCgoZnVuY3Rpb24odCl7Zm9yKDs7KXN3aXRjaCh0LnByZXY9dC5uZXh0KXtjYXNlIDA6bj0xLHI9ITAsaT0hMSx0LnByZXY9MyxvPU9iamVjdChULmEpKGUpO2Nhc2UgNTpyZXR1cm4gdC5uZXh0PTcsT2JqZWN0KFAuYSkoby5uZXh0KCkpO2Nhc2UgNzpyZXR1cm4gcz10LnNlbnQscj1zLmRvbmUsdC5uZXh0PTExLE9iamVjdChQLmEpKHMudmFsdWUpO2Nhc2UgMTE6aWYodT10LnNlbnQscil7dC5uZXh0PTIwO2JyZWFrfXJldHVybiBjPXUsdC5uZXh0PTE2LHtjb3VudGVyOm4sbGluZTpjfTtjYXNlIDE2Om4rKztjYXNlIDE3OnI9ITAsdC5uZXh0PTU7YnJlYWs7Y2FzZSAyMDp0Lm5leHQ9MjY7YnJlYWs7Y2FzZSAyMjp0LnByZXY9MjIsdC50MD10LmNhdGNoKDMpLGk9ITAsYT10LnQwO2Nhc2UgMjY6aWYodC5wcmV2PTI2LHQucHJldj0yNyxyfHxudWxsPT1vLnJldHVybil7dC5uZXh0PTMxO2JyZWFrfXJldHVybiB0Lm5leHQ9MzEsT2JqZWN0KFAuYSkoby5yZXR1cm4oKSk7Y2FzZSAzMTppZih0LnByZXY9MzEsIWkpe3QubmV4dD0zNDticmVha310aHJvdyBhO2Nhc2UgMzQ6cmV0dXJuIHQuZmluaXNoKDMxKTtjYXNlIDM1OnJldHVybiB0LmZpbmlzaCgyNik7Y2FzZSAzNjpjYXNlImVuZCI6cmV0dXJuIHQuc3RvcCgpfX0pLHQsbnVsbCxbWzMsMjIsMjYsMzZdLFsyNywsMzEsMzVdXSl9KSkpKS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZnVuY3Rpb24gRCh0LGUsbixyKXtyZXR1cm4gRi5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZnVuY3Rpb24gRigpe3JldHVybihGPU9iamVjdChTLmEpKGsuYS5tYXJrKChmdW5jdGlvbiB0KGUsbixyLGkpe3ZhciBhLG87cmV0dXJuIGsuYS53cmFwKChmdW5jdGlvbih0KXtmb3IoOzspc3dpdGNoKHQucHJldj10Lm5leHQpe2Nhc2UgMDpyZXR1cm4gQXJyYXkuaXNBcnJheShuKXx8T2JqZWN0KGIuYSkobil8fChpPXIscj1uLG49bnVsbCksYT1PYmplY3QobS5hKShuLGksbnVsbCkscj1PYmplY3Qodi5hKShhLHIsaSksbz1PYmplY3QoTy5hKSh7dXJsOmksbG9hZGVyczpufSxyKSx0LmFicnVwdCgicmV0dXJuIix6KGEsZSxyLG8pKTtjYXNlIDU6Y2FzZSJlbmQiOnJldHVybiB0LnN0b3AoKX19KSx0KX0pKSkpLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1mdW5jdGlvbiB6KHQsZSxuLHIpe2lmKHQucGFyc2VJbkJhdGNoZXMpe3ZhciBpPU9iamVjdChfLmMpKGUpO3JldHVybiB0LnRleHQmJihpPU0oaSkpLHQucGFyc2VJbkJhdGNoZXMoaSxuLHIsdCl9dGhyb3cgbmV3IEVycm9yKCJwYXJzZVdpdGhMb2FkZXJJbkJhdGNoZXNTeW5jIG5vdCBhdmFpbGFibGUiKX1mdW5jdGlvbiBCKHQsZSxuLHIpe3JldHVybiBVLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1mdW5jdGlvbiBVKCl7cmV0dXJuKFU9T2JqZWN0KFMuYSkoay5hLm1hcmsoKGZ1bmN0aW9uIHQoZSxuLHIsaSl7dmFyIGEsbztyZXR1cm4gay5hLndyYXAoKGZ1bmN0aW9uKHQpe2Zvcig7Oylzd2l0Y2godC5wcmV2PXQubmV4dCl7Y2FzZSAwOnJldHVybiBBcnJheS5pc0FycmF5KG4pfHxPYmplY3QoYi5hKShuKXx8KGk9cixyPW4sbj1udWxsKSxhPU9iamVjdChtLmEpKG4saSxudWxsKSxyPU9iamVjdCh2LmEpKGEsciksbz1PYmplY3QoTy5hKSh7dXJsOmksbG9hZGVyczpufSxyKSx0LmFicnVwdCgicmV0dXJuIixWKGEsZSxyLG8pKTtjYXNlIDU6Y2FzZSJlbmQiOnJldHVybiB0LnN0b3AoKX19KSx0KX0pKSkpLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1mdW5jdGlvbiBWKHQsZSxuLHIpe2lmKHQucGFyc2VJbkJhdGNoZXNTeW5jKXt2YXIgaT1PYmplY3QoXy5kKShlKTtyZXR1cm4gdC5wYXJzZUluQmF0Y2hlc1N5bmMoaSxuLHIsdCl9dGhyb3cgbmV3IEVycm9yKCJwYXJzZVdpdGhMb2FkZXJJbkJhdGNoZXNTeW5jIG5vdCBhdmFpbGFibGUiKX12YXIgRz1uKDE5OSk7ZnVuY3Rpb24gVyh0LGUsbil7cmV0dXJuIEguYXBwbHkodGhpcyxhcmd1bWVudHMpfWZ1bmN0aW9uIEgoKXtyZXR1cm4oSD1PYmplY3QoUy5hKShrLmEubWFyaygoZnVuY3Rpb24gdChlLG4saSl7dmFyIGE7cmV0dXJuIGsuYS53cmFwKChmdW5jdGlvbih0KXtmb3IoOzspc3dpdGNoKHQucHJldj10Lm5leHQpe2Nhc2UgMDpyZXR1cm4gdC5uZXh0PTIsT2JqZWN0KHIuYSkoZSxpKTtjYXNlIDI6cmV0dXJuIGE9dC5zZW50LHQuYWJydXB0KCJyZXR1cm4iLEQoYSxuLGksZSkpO2Nhc2UgNDpjYXNlImVuZCI6cmV0dXJuIHQuc3RvcCgpfX0pLHQpfSkpKSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfWZ1bmN0aW9uIHEodCxlLG4scil7cmV0dXJuIFguYXBwbHkodGhpcyxhcmd1bWVudHMpfWZ1bmN0aW9uIFgoKXtyZXR1cm4oWD1PYmplY3QoUy5hKShrLmEubWFyaygoZnVuY3Rpb24gdChlLG4scixpKXtyZXR1cm4gay5hLndyYXAoKGZ1bmN0aW9uKHQpe2Zvcig7Oylzd2l0Y2godC5wcmV2PXQubmV4dCl7Y2FzZSAwOmlmKCFuLmVuY29kZSl7dC5uZXh0PTQ7YnJlYWt9cmV0dXJuIHQubmV4dD0zLG4uZW5jb2RlKGUscik7Y2FzZSAzOnJldHVybiB0LmFicnVwdCgicmV0dXJuIix0LnNlbnQpO2Nhc2UgNDppZighbi5lbmNvZGVTeW5jKXt0Lm5leHQ9NjticmVha31yZXR1cm4gdC5hYnJ1cHQoInJldHVybiIsbi5lbmNvZGVTeW5jKGUscikpO2Nhc2UgNjp0aHJvdyBuZXcgRXJyb3IoIldyaXRlciBjb3VsZCBub3QgZW5jb2RlIGRhdGEiKTtjYXNlIDc6Y2FzZSJlbmQiOnJldHVybiB0LnN0b3AoKX19KSx0KX0pKSkpLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1mdW5jdGlvbiBaKHQsZSxuLHIpe2lmKGUuZW5jb2RlU3luYylyZXR1cm4gZS5lbmNvZGVTeW5jKHQsbik7dGhyb3cgbmV3IEVycm9yKCJXcml0ZXIgY291bGQgbm90IHN5bmNocm9ub3VzbHkgZW5jb2RlIGRhdGEiKX1mdW5jdGlvbiBZKHQsZSxuLHIpe2lmKGUuZW5jb2RlSW5CYXRjaGVzKXJldHVybiBlLmVuY29kZUluQmF0Y2hlcyh0LG4pO3Rocm93IG5ldyBFcnJvcigiV3JpdGVyIGNvdWxkIG5vdCBlbmNvZGUgZGF0YSBpbiBiYXRjaGVzIil9ZnVuY3Rpb24gSyh0LGUsbixyKXtyZXR1cm4gZihlLHEodCxuLHIsZSkpfWZ1bmN0aW9uIFEodCxlLG4scil7cmV0dXJuIGQoZSxaKHQsbixyKSl9dmFyIEo9bigzOCksJD1uKDE1NSksdHQ9bigxMDMpLGV0PW4oMTA3KSxudD1uKDE2MikscnQ9bigxMzYpLGl0PW4oMTU0KTtmdW5jdGlvbiBhdCh0LGUpe3JldHVybiBvdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZnVuY3Rpb24gb3QoKXtyZXR1cm4ob3Q9T2JqZWN0KFMuYSkoay5hLm1hcmsoKGZ1bmN0aW9uIHQoZSxuKXt2YXIgcixpLGEsbyxzLHU9YXJndW1lbnRzO3JldHVybiBrLmEud3JhcCgoZnVuY3Rpb24odCl7Zm9yKDs7KXN3aXRjaCh0LnByZXY9dC5uZXh0KXtjYXNlIDA6cmV0dXJuIHI9dS5sZW5ndGg+MiYmdm9pZCAwIT09dVsyXT91WzJdOmZ1bmN0aW9uKCl7fSxpPXUubGVuZ3RoPjMmJnZvaWQgMCE9PXVbM10/dVszXTpmdW5jdGlvbigpe30sdC5uZXh0PTQsZTtjYXNlIDQ6aWYoKGU9dC5zZW50KS5vayl7dC5uZXh0PTc7YnJlYWt9cmV0dXJuIHQuYWJydXB0KCJyZXR1cm4iLGUpO2Nhc2UgNzppZihlLmJvZHkpe3QubmV4dD05O2JyZWFrfXJldHVybiB0LmFicnVwdCgicmV0dXJuIixlKTtjYXNlIDk6aWYoYT1lLmhlYWRlcnMuZ2V0KCJjb250ZW50LWxlbmd0aCIpLG89YSYmcGFyc2VJbnQoYSwxMCksYT4wKXt0Lm5leHQ9MTM7YnJlYWt9cmV0dXJuIHQuYWJydXB0KCJyZXR1cm4iLGUpO2Nhc2UgMTM6aWYoInVuZGVmaW5lZCIhPXR5cGVvZiBSZWFkYWJsZVN0cmVhbSl7dC5uZXh0PTE1O2JyZWFrfXJldHVybiB0LmFicnVwdCgicmV0dXJuIixlKTtjYXNlIDE1OnJldHVybiBzPW5ldyBSZWFkYWJsZVN0cmVhbSh7c3RhcnQ6ZnVuY3Rpb24odCl7c3QodCxlLmJvZHkuZ2V0UmVhZGVyKCksMCxvLG4scixpKX19KSx0LmFicnVwdCgicmV0dXJuIixuZXcgUmVzcG9uc2UocykpO2Nhc2UgMTc6Y2FzZSJlbmQiOnJldHVybiB0LnN0b3AoKX19KSx0KX0pKSkpLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1mdW5jdGlvbiBzdCh0LGUsbixyLGksYSxvKXtyZXR1cm4gdXQuYXBwbHkodGhpcyxhcmd1bWVudHMpfWZ1bmN0aW9uIHV0KCl7cmV0dXJuKHV0PU9iamVjdChTLmEpKGsuYS5tYXJrKChmdW5jdGlvbiB0KGUsbixyLGksYSxvLHMpe3ZhciB1LGMsbCxoO3JldHVybiBrLmEud3JhcCgoZnVuY3Rpb24odCl7Zm9yKDs7KXN3aXRjaCh0LnByZXY9dC5uZXh0KXtjYXNlIDA6cmV0dXJuIHQucHJldj0wLHQubmV4dD0zLG4ucmVhZCgpO2Nhc2UgMzppZih1PXQuc2VudCxjPXUuZG9uZSxsPXUudmFsdWUsIWMpe3QubmV4dD0xMDticmVha31yZXR1cm4gbygpLGUuY2xvc2UoKSx0LmFicnVwdCgicmV0dXJuIik7Y2FzZSAxMDpyZXR1cm4gcis9bC5ieXRlTGVuZ3RoLGg9TWF0aC5yb3VuZChyL2kqMTAwKSxhKGgse2xvYWRlZEJ5dGVzOnIsdG90YWxCeXRlczppfSksZS5lbnF1ZXVlKGwpLHQubmV4dD0xNixzdChlLG4scixpLGEsbyxzKTtjYXNlIDE2OnQubmV4dD0yMjticmVhaztjYXNlIDE4OnQucHJldj0xOCx0LnQwPXQuY2F0Y2goMCksZS5lcnJvcih0LnQwKSxzKHQudDApO2Nhc2UgMjI6Y2FzZSJlbmQiOnJldHVybiB0LnN0b3AoKX19KSx0LG51bGwsW1swLDE4XV0pfSkpKSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfW4uZChlLCJmZXRjaEZpbGUiLChmdW5jdGlvbigpe3JldHVybiByLmF9KSksbi5kKGUsInJlYWRGaWxlU3luYyIsKGZ1bmN0aW9uKCl7cmV0dXJuIGx9KSksbi5kKGUsIndyaXRlRmlsZSIsKGZ1bmN0aW9uKCl7cmV0dXJuIGZ9KSksbi5kKGUsIndyaXRlRmlsZVN5bmMiLChmdW5jdGlvbigpe3JldHVybiBkfSkpLG4uZChlLCJzZXRMb2FkZXJPcHRpb25zIiwoZnVuY3Rpb24oKXtyZXR1cm4gcH0pKSxuLmQoZSwicmVnaXN0ZXJMb2FkZXJzIiwoZnVuY3Rpb24oKXtyZXR1cm4gZy5jfSkpLG4uZChlLCJwYXJzZSIsKGZ1bmN0aW9uKCl7cmV0dXJuIHkuYX0pKSxuLmQoZSwicGFyc2VTeW5jIiwoZnVuY3Rpb24oKXtyZXR1cm4geH0pKSxuLmQoZSwicGFyc2VJbkJhdGNoZXMiLChmdW5jdGlvbigpe3JldHVybiBEfSkpLG4uZChlLCJwYXJzZUluQmF0Y2hlc1N5bmMiLChmdW5jdGlvbigpe3JldHVybiBCfSkpLG4uZChlLCJsb2FkIiwoZnVuY3Rpb24oKXtyZXR1cm4gRy5hfSkpLG4uZChlLCJsb2FkSW5CYXRjaGVzIiwoZnVuY3Rpb24oKXtyZXR1cm4gV30pKSxuLmQoZSwiZW5jb2RlIiwoZnVuY3Rpb24oKXtyZXR1cm4gcX0pKSxuLmQoZSwiZW5jb2RlU3luYyIsKGZ1bmN0aW9uKCl7cmV0dXJuIFp9KSksbi5kKGUsImVuY29kZUluQmF0Y2hlcyIsKGZ1bmN0aW9uKCl7cmV0dXJuIFl9KSksbi5kKGUsInNhdmUiLChmdW5jdGlvbigpe3JldHVybiBLfSkpLG4uZChlLCJzYXZlU3luYyIsKGZ1bmN0aW9uKCl7cmV0dXJuIFF9KSksbi5kKGUsImlzUHJvbWlzZSIsKGZ1bmN0aW9uKCl7cmV0dXJuIEouZ30pKSxuLmQoZSwiaXNJdGVyYWJsZSIsKGZ1bmN0aW9uKCl7cmV0dXJuIEouZX0pKSxuLmQoZSwiaXNBc3luY0l0ZXJhYmxlIiwoZnVuY3Rpb24oKXtyZXR1cm4gSi5hfSkpLG4uZChlLCJpc0l0ZXJhdG9yIiwoZnVuY3Rpb24oKXtyZXR1cm4gSi5mfSkpLG4uZChlLCJpc0ZldGNoUmVzcG9uc2UiLChmdW5jdGlvbigpe3JldHVybiBKLmN9KSksbi5kKGUsImlzUmVhZGFibGVTdHJlYW0iLChmdW5jdGlvbigpe3JldHVybiBKLmh9KSksbi5kKGUsImlzV3JpdGFibGVTdHJlYW0iLChmdW5jdGlvbigpe3JldHVybiBKLml9KSksbi5kKGUsInRvQXJyYXlCdWZmZXIiLChmdW5jdGlvbigpe3JldHVybiAkLmF9KSksbi5kKGUsIm1ha2VTdHJlYW1JdGVyYXRvciIsKGZ1bmN0aW9uKCl7cmV0dXJuIHR0LmF9KSksbi5kKGUsImZvckVhY2giLChmdW5jdGlvbigpe3JldHVybiBFfSkpLG4uZChlLCJsaW5lQXN5bmNJdGVyYXRvciIsKGZ1bmN0aW9uKCl7cmV0dXJuIEx9KSksbi5kKGUsInRleHREZWNvZGVyQXN5bmNJdGVyYXRvciIsKGZ1bmN0aW9uKCl7cmV0dXJuIE19KSksbi5kKGUsIm51bWJlcmVkTGluZUFzeW5jSXRlcmF0b3IiLChmdW5jdGlvbigpe3JldHVybiBSfSkpLG4uZChlLCJtYWtlQ2h1bmtJdGVyYXRvciIsKGZ1bmN0aW9uKCl7cmV0dXJuIGV0LmJ9KSksbi5kKGUsImNvbmNhdGVuYXRlQ2h1bmtzQXN5bmMiLChmdW5jdGlvbigpe3JldHVybiBldC5hfSkpLG4uZChlLCJpc0Jyb3dzZXIiLChmdW5jdGlvbigpe3JldHVybiBhLmN9KSksbi5kKGUsImlzV29ya2VyIiwoZnVuY3Rpb24oKXtyZXR1cm4gYS5kfSkpLG4uZChlLCJzZWxmIiwoZnVuY3Rpb24oKXtyZXR1cm4gYS5mfSkpLG4uZChlLCJ3aW5kb3ciLChmdW5jdGlvbigpe3JldHVybiBhLmd9KSksbi5kKGUsImdsb2JhbCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGEuYn0pKSxuLmQoZSwiZG9jdW1lbnQiLChmdW5jdGlvbigpe3JldHVybiBhLmF9KSksbi5kKGUsImFzc2VydCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHMuYX0pKSxuLmQoZSwic2V0UGF0aFByZWZpeCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGkuY30pKSxuLmQoZSwiZ2V0UGF0aFByZWZpeCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGkuYX0pKSxuLmQoZSwicmVzb2x2ZVBhdGgiLChmdW5jdGlvbigpe3JldHVybiBpLmJ9KSksbi5kKGUsIl9zZWxlY3RMb2FkZXIiLChmdW5jdGlvbigpe3JldHVybiBtLmF9KSksbi5kKGUsIl9Xb3JrZXJUaHJlYWQiLChmdW5jdGlvbigpe3JldHVybiBudC5hfSkpLG4uZChlLCJfV29ya2VyRmFybSIsKGZ1bmN0aW9uKCl7cmV0dXJuIHJ0LmF9KSksbi5kKGUsIl9Xb3JrZXJQb29sIiwoZnVuY3Rpb24oKXtyZXR1cm4gaXQuYX0pKSxuLmQoZSwiX2ZldGNoUHJvZ3Jlc3MiLChmdW5jdGlvbigpe3JldHVybiBhdH0pKSxuLmQoZSwiX3VucmVnaXN0ZXJMb2FkZXJzIiwoZnVuY3Rpb24oKXtyZXR1cm4gZy5hfSkpLG4uZChlLCJjb250YXRlbmF0ZUFzeW5jSXRlcmF0b3IiLChmdW5jdGlvbigpe3JldHVybiBldC5hfSkpLG4uZChlLCJnZXRTdHJlYW1JdGVyYXRvciIsKGZ1bmN0aW9uKCl7cmV0dXJuIHR0LmF9KSl9LGZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dmFyIHI9big1KSxpPW4ubihyKSxhPW4oMTMpLG89bigxMTYpLHM9bigzOCksdT1uKDE3MSk7ZnVuY3Rpb24gYyh0KXtyZXR1cm4gbC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZnVuY3Rpb24gbCgpe3JldHVybihsPU9iamVjdChhLmEpKGkuYS5tYXJrKChmdW5jdGlvbiB0KGUpe3ZhciBuO3JldHVybiBpLmEud3JhcCgoZnVuY3Rpb24odCl7Zm9yKDs7KXN3aXRjaCh0LnByZXY9dC5uZXh0KXtjYXNlIDA6aWYobj0iRmFpbGVkIHRvIGZldGNoIHJlc291cmNlICIuY29uY2F0KGUudXJsLCIgKCIpLmNvbmNhdChlLnN0YXR1cywiKTogIiksdC5wcmV2PTEsIWUuaGVhZGVycy5nZXQoIkNvbnRlbnQtVHlwZSIpLmluY2x1ZGVzKCJhcHBsaWNhdGlvbi9qc29uIikpe3QubmV4dD0xMDticmVha31yZXR1cm4gdC50MD1uLHQubmV4dD03LGUudGV4dCgpO2Nhc2UgNzpuPXQudDArPXQuc2VudCx0Lm5leHQ9MTE7YnJlYWs7Y2FzZSAxMDpuKz1lLnN0YXR1c1RleHQ7Y2FzZSAxMTp0Lm5leHQ9MTY7YnJlYWs7Y2FzZSAxMzpyZXR1cm4gdC5wcmV2PTEzLHQudDE9dC5jYXRjaCgxKSx0LmFicnVwdCgicmV0dXJuIixuKTtjYXNlIDE2OnJldHVybiB0LmFicnVwdCgicmV0dXJuIixuKTtjYXNlIDE3OmNhc2UiZW5kIjpyZXR1cm4gdC5zdG9wKCl9fSksdCxudWxsLFtbMSwxM11dKX0pKSkpLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1mdW5jdGlvbiBoKHQsZSl7cmV0dXJuIGYuYXBwbHkodGhpcyxhcmd1bWVudHMpfWZ1bmN0aW9uIGYoKXtyZXR1cm4oZj1PYmplY3QoYS5hKShpLmEubWFyaygoZnVuY3Rpb24gdChlLG4pe3ZhciByO3JldHVybiBpLmEud3JhcCgoZnVuY3Rpb24odCl7Zm9yKDs7KXN3aXRjaCh0LnByZXY9dC5uZXh0KXtjYXNlIDA6aWYoIU9iamVjdChzLmQpKGUpKXt0Lm5leHQ9MjticmVha31yZXR1cm4gdC5hYnJ1cHQoInJldHVybiIsT2JqZWN0KHUuYSkoZSxuKSk7Y2FzZSAyOnJldHVybiBlPU9iamVjdChvLmIpKGUpLHQubmV4dD01LGZldGNoKGUsbik7Y2FzZSA1OmlmKChyPXQuc2VudCkub2t8fCFuLnRocm93cyl7dC5uZXh0PTEyO2JyZWFrfXJldHVybiB0LnQwPUVycm9yLHQubmV4dD0xMCxjKHIpO2Nhc2UgMTA6dGhyb3cgdC50MT10LnNlbnQsbmV3IHQudDAodC50MSk7Y2FzZSAxMjpyZXR1cm4gdC5hYnJ1cHQoInJldHVybiIscik7Y2FzZSAxMzpjYXNlImVuZCI6cmV0dXJuIHQuc3RvcCgpfX0pLHQpfSkpKSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfW4uZChlLCJhIiwoZnVuY3Rpb24oKXtyZXR1cm4gaH0pKX0sZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0IjtuLmQoZSwiYyIsKGZ1bmN0aW9uKCl7cmV0dXJuIHV9KSksbi5kKGUsImEiLChmdW5jdGlvbigpe3JldHVybiBjfSkpLG4uZChlLCJiIiwoZnVuY3Rpb24oKXtyZXR1cm4gbH0pKTt2YXIgcixpPW4oMzEpLGE9bigwKSxvPW4oMjgpLHM9KHI9e30sT2JqZWN0KGEuYSkociw1MTI2LFs1MTI2LDEsImZsb2F0Il0pLE9iamVjdChhLmEpKHIsMzU2NjQsWzUxMjYsMiwidmVjMiJdKSxPYmplY3QoYS5hKShyLDM1NjY1LFs1MTI2LDMsInZlYzMiXSksT2JqZWN0KGEuYSkociwzNTY2NixbNTEyNiw0LCJ2ZWM0Il0pLE9iamVjdChhLmEpKHIsNTEyNCxbNTEyNCwxLCJpbnQiXSksT2JqZWN0KGEuYSkociwzNTY2NyxbNTEyNCwyLCJpdmVjMiJdKSxPYmplY3QoYS5hKShyLDM1NjY4LFs1MTI0LDMsIml2ZWMzIl0pLE9iamVjdChhLmEpKHIsMzU2NjksWzUxMjQsNCwiaXZlYzQiXSksT2JqZWN0KGEuYSkociw1MTI1LFs1MTI1LDEsInVpbnQiXSksT2JqZWN0KGEuYSkociwzNjI5NCxbNTEyNSwyLCJ1dmVjMiJdKSxPYmplY3QoYS5hKShyLDM2Mjk1LFs1MTI1LDMsInV2ZWMzIl0pLE9iamVjdChhLmEpKHIsMzYyOTYsWzUxMjUsNCwidXZlYzQiXSksT2JqZWN0KGEuYSkociwzNTY3MCxbNTEyNiwxLCJib29sIl0pLE9iamVjdChhLmEpKHIsMzU2NzEsWzUxMjYsMiwiYnZlYzIiXSksT2JqZWN0KGEuYSkociwzNTY3MixbNTEyNiwzLCJidmVjMyJdKSxPYmplY3QoYS5hKShyLDM1NjczLFs1MTI2LDQsImJ2ZWM0Il0pLE9iamVjdChhLmEpKHIsMzU2NzQsWzUxMjYsOCwibWF0MiJdKSxPYmplY3QoYS5hKShyLDM1Njg1LFs1MTI2LDgsIm1hdDJ4MyJdKSxPYmplY3QoYS5hKShyLDM1Njg2LFs1MTI2LDgsIm1hdDJ4NCJdKSxPYmplY3QoYS5hKShyLDM1Njc1LFs1MTI2LDEyLCJtYXQzIl0pLE9iamVjdChhLmEpKHIsMzU2ODcsWzUxMjYsMTIsIm1hdDN4MiJdKSxPYmplY3QoYS5hKShyLDM1Njg4LFs1MTI2LDEyLCJtYXQzeDQiXSksT2JqZWN0KGEuYSkociwzNTY3NixbNTEyNiwxNiwibWF0NCJdKSxPYmplY3QoYS5hKShyLDM1Njg5LFs1MTI2LDE2LCJtYXQ0eDIiXSksT2JqZWN0KGEuYSkociwzNTY5MCxbNTEyNiwxNiwibWF0NHgzIl0pLHIpO2Z1bmN0aW9uIHUodCl7c3dpdGNoKHQpe2Nhc2UgMDpyZXR1cm4gMDtjYXNlIDE6Y2FzZSAzOmNhc2UgMjpyZXR1cm4gMTtjYXNlIDQ6Y2FzZSA1OmNhc2UgNjpyZXR1cm4gNDtkZWZhdWx0OnJldHVybiBPYmplY3Qoby5hKSghMSksMH19ZnVuY3Rpb24gYyh0KXt2YXIgZT1zW3RdO2lmKCFlKXJldHVybiBudWxsO3ZhciBuPU9iamVjdChpLmEpKGUsMik7cmV0dXJue3R5cGU6blswXSxjb21wb25lbnRzOm5bMV19fWZ1bmN0aW9uIGwodCxlKXtzd2l0Y2godCl7Y2FzZSA1MTIwOmNhc2UgNTEyMTpjYXNlIDUxMjI6Y2FzZSA1MTIzOnQ9NTEyNn1mb3IodmFyIG4gaW4gcyl7dmFyIHI9T2JqZWN0KGkuYSkoc1tuXSwzKSxhPXJbMF0sbz1yWzFdLHU9clsyXTtpZihhPT09dCYmbz09PWUpcmV0dXJue2dsVHlwZTpuLG5hbWU6dX19cmV0dXJuIG51bGx9fSxmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oMSksaT1uLm4ociksYT1uKDIpLG89bi5uKGEpLHM9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9LG49ZS5vdmVyQWxsb2Mscj12b2lkIDA9PT1uPzI6bixhPWUucG9vbFNpemUsbz12b2lkIDA9PT1hPzEwMDphO2koKSh0aGlzLHQpLHRoaXMub3ZlckFsbG9jPXIsdGhpcy5wb29sU2l6ZT1vLHRoaXMuX3Bvb2w9W119cmV0dXJuIG8oKSh0LFt7a2V5OiJhbGxvY2F0ZSIsdmFsdWU6ZnVuY3Rpb24odCxlLG4pe3ZhciByPW4uc2l6ZSxpPXZvaWQgMD09PXI/MTpyLGE9bi50eXBlLG89bi5wYWRkaW5nLHM9dm9pZCAwPT09bz8wOm8sdT1uLmNvcHksYz12b2lkIDAhPT11JiZ1LGw9YXx8dCYmdC5jb25zdHJ1Y3Rvcnx8RmxvYXQzMkFycmF5LGg9ZSppK3M7aWYoQXJyYXlCdWZmZXIuaXNWaWV3KHQpKXtpZihoPD10Lmxlbmd0aClyZXR1cm4gdDtpZihoKnQuQllURVNfUEVSX0VMRU1FTlQ8PXQuYnVmZmVyLmJ5dGVMZW5ndGgpcmV0dXJuIG5ldyBsKHQuYnVmZmVyLDAsaCl9dmFyIGY9dGhpcy5fYWxsb2NhdGUobCxoKTtyZXR1cm4gdCYmYz9mLnNldCh0KTpmLmZpbGwoMCwwLDQpLHRoaXMuX3JlbGVhc2UodCksZn19LHtrZXk6InJlbGVhc2UiLHZhbHVlOmZ1bmN0aW9uKHQpe3RoaXMuX3JlbGVhc2UodCl9fSx7a2V5OiJfYWxsb2NhdGUiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7ZT1NYXRoLm1heChNYXRoLmNlaWwoZSp0aGlzLm92ZXJBbGxvYyksMSk7dmFyIG49dGhpcy5fcG9vbCxyPXQuQllURVNfUEVSX0VMRU1FTlQqZSxpPW4uZmluZEluZGV4KChmdW5jdGlvbih0KXtyZXR1cm4gdC5ieXRlTGVuZ3RoPj1yfSkpO3JldHVybiBpPj0wP25ldyB0KG4uc3BsaWNlKGksMSlbMF0sMCxlKTpuZXcgdChlKX19LHtrZXk6Il9yZWxlYXNlIix2YWx1ZTpmdW5jdGlvbih0KXtpZihBcnJheUJ1ZmZlci5pc1ZpZXcodCkpe3ZhciBlPXRoaXMuX3Bvb2wsbj10LmJ1ZmZlcixyPW4uYnl0ZUxlbmd0aCxpPWUuZmluZEluZGV4KChmdW5jdGlvbih0KXtyZXR1cm4gdC5ieXRlTGVuZ3RoPj1yfSkpO2k8MD9lLnB1c2gobik6KGk+MHx8ZS5sZW5ndGg8dGhpcy5wb29sU2l6ZSkmJmUuc3BsaWNlKGksMCxuKSxlLmxlbmd0aD50aGlzLnBvb2xTaXplJiZlLnNoaWZ0KCl9fX1dKSx0fSgpO2UuYT1uZXcgc30sZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiByKHQsZSl7aWYoIXQpdGhyb3cgbmV3IEVycm9yKGV8fCJsb2FkZXIgYXNzZXJ0aW9uIGZhaWxlZC4iKX1uLmQoZSwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIHJ9KSl9LGZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7bi5kKGUsImIiLChmdW5jdGlvbigpe3JldHVybiB1fSkpLG4uZChlLCJhIiwoZnVuY3Rpb24oKXtyZXR1cm4gY30pKSxuLmQoZSwiYyIsKGZ1bmN0aW9uKCl7cmV0dXJuIGx9KSksbi5kKGUsImQiLChmdW5jdGlvbigpe3JldHVybiBofSkpLG4uZChlLCJlIiwoZnVuY3Rpb24oKXtyZXR1cm4gZn0pKTt2YXIgcixpLGEsbz1uKDApLHM9bigxMSksdT0ocj17fSxPYmplY3Qoby5hKShyLDY0MDcse2RhdGFGb3JtYXQ6NjQwNyx0eXBlczpbNTEyMSwzMzYzNV19KSxPYmplY3Qoby5hKShyLDY0MDgse2RhdGFGb3JtYXQ6NjQwOCx0eXBlczpbNTEyMSwzMjgxOSwzMjgyMF19KSxPYmplY3Qoby5hKShyLDY0MDYse2RhdGFGb3JtYXQ6NjQwNix0eXBlczpbNTEyMV19KSxPYmplY3Qoby5hKShyLDY0MDkse2RhdGFGb3JtYXQ6NjQwOSx0eXBlczpbNTEyMV19KSxPYmplY3Qoby5hKShyLDY0MTAse2RhdGFGb3JtYXQ6NjQxMCx0eXBlczpbNTEyMV19KSxPYmplY3Qoby5hKShyLDMzMzI2LHtkYXRhRm9ybWF0OjY0MDMsdHlwZXM6WzUxMjZdLGdsMjohMH0pLE9iamVjdChvLmEpKHIsMzMzMjgse2RhdGFGb3JtYXQ6MzMzMTksdHlwZXM6WzUxMjZdLGdsMjohMH0pLE9iamVjdChvLmEpKHIsMzQ4Mzcse2RhdGFGb3JtYXQ6NjQwNyx0eXBlczpbNTEyNl0sZ2wyOiEwfSksT2JqZWN0KG8uYSkociwzNDgzNix7ZGF0YUZvcm1hdDo2NDA4LHR5cGVzOls1MTI2XSxnbDI6ITB9KSxyKSxjPShpPXt9LE9iamVjdChvLmEpKGksNjQwMywxKSxPYmplY3Qoby5hKShpLDM2MjQ0LDEpLE9iamVjdChvLmEpKGksMzMzMTksMiksT2JqZWN0KG8uYSkoaSwzMzMyMCwyKSxPYmplY3Qoby5hKShpLDY0MDcsMyksT2JqZWN0KG8uYSkoaSwzNjI0OCwzKSxPYmplY3Qoby5hKShpLDY0MDgsNCksT2JqZWN0KG8uYSkoaSwzNjI0OSw0KSxPYmplY3Qoby5hKShpLDY0MDIsMSksT2JqZWN0KG8uYSkoaSwzNDA0MSwxKSxPYmplY3Qoby5hKShpLDY0MDYsMSksT2JqZWN0KG8uYSkoaSw2NDA5LDEpLE9iamVjdChvLmEpKGksNjQxMCwyKSxpKSxsPShhPXt9LE9iamVjdChvLmEpKGEsNTEyNiw0KSxPYmplY3Qoby5hKShhLDUxMjUsNCksT2JqZWN0KG8uYSkoYSw1MTI0LDQpLE9iamVjdChvLmEpKGEsNTEyMywyKSxPYmplY3Qoby5hKShhLDUxMjIsMiksT2JqZWN0KG8uYSkoYSw1MTMxLDIpLE9iamVjdChvLmEpKGEsNTEyMCwxKSxPYmplY3Qoby5hKShhLDUxMjEsMSksYSk7ZnVuY3Rpb24gaCh0LGUpe3ZhciBuPXVbZV07aWYoIW4pcmV0dXJuITE7aWYodm9pZCAwPT09bi5nbDEmJnZvaWQgMD09PW4uZ2wyKXJldHVybiEwO3ZhciByPU9iamVjdChzLmcpKHQpJiZuLmdsMnx8bi5nbDE7cmV0dXJuInN0cmluZyI9PXR5cGVvZiByP3QuZ2V0RXh0ZW5zaW9uKHIpOnJ9ZnVuY3Rpb24gZih0LGUpe3ZhciBuPXVbZV07c3dpdGNoKG4mJm4udHlwZXNbMF0pe2Nhc2UgNTEyNjpyZXR1cm4gdC5nZXRFeHRlbnNpb24oIk9FU190ZXh0dXJlX2Zsb2F0X2xpbmVhciIpO2Nhc2UgNTEzMTpyZXR1cm4gdC5nZXRFeHRlbnNpb24oIk9FU190ZXh0dXJlX2hhbGZfZmxvYXRfbGluZWFyIik7ZGVmYXVsdDpyZXR1cm4hMH19fSxmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO24uZChlLCJlIiwoZnVuY3Rpb24oKXtyZXR1cm4gcn0pKSxuLmQoZSwiZCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGl9KSksbi5kKGUsImIiLChmdW5jdGlvbigpe3JldHVybiBhfSkpLG4uZChlLCJhIiwoZnVuY3Rpb24oKXtyZXR1cm4gb30pKSxuLmQoZSwiYyIsKGZ1bmN0aW9uKCl7cmV0dXJuIHN9KSk7dmFyIHI9bmV3IE1hcChbWyJpbWFnZS9wbmciLHt0ZXN0OmksZ2V0U2l6ZTpmdW5jdGlvbih0KXtyZXR1cm57d2lkdGg6dC5nZXRVaW50MzIoMTYsITEpLGhlaWdodDp0LmdldFVpbnQzMigyMCwhMSl9fX1dLFsiaW1hZ2UvanBlZyIse3Rlc3Q6cyxnZXRTaXplOmZ1bmN0aW9uKHQpe2lmKHQuYnl0ZUxlbmd0aDwyfHw2NTQ5NiE9PXQuZ2V0VWludDE2KDAsITEpKXJldHVybiBudWxsO3ZhciBlPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PW5ldyBTZXQoWzY1NDk5LDY1NDc2LDY1NDg0LDY1NTAxLDY1NTM0XSksZT02NTUwNDtlPDY1NTIwOysrZSl0LmFkZChlKTt2YXIgbj1uZXcgU2V0KFs2NTQ3Miw2NTQ3Myw2NTQ3NCw2NTQ3NSw2NTQ3Nyw2NTQ3OCw2NTQ3OSw2NTQ4MSw2NTQ4Miw2NTQ4Myw2NTQ4NSw2NTQ4Niw2NTQ4Nyw2NTUwMl0pO3JldHVybnt0YWJsZU1hcmtlcnM6dCxzb2ZNYXJrZXJzOm59fSgpLG49ZS50YWJsZU1hcmtlcnMscj1lLnNvZk1hcmtlcnMsaT0yO2Zvcig7aTx0LmJ5dGVMZW5ndGg7KXt2YXIgYT10LmdldFVpbnQxNihpLCExKTtpZihyLmhhcyhhKSlyZXR1cm57aGVpZ2h0OnQuZ2V0VWludDE2KGkrNSwhMSksd2lkdGg6dC5nZXRVaW50MTYoaSs3LCExKX07aWYoIW4uaGFzKGEpKXJldHVybiBudWxsO2krPTIsaSs9dC5nZXRVaW50MTYoaSwhMSl9cmV0dXJuIG51bGx9fV0sWyJpbWFnZS9naWYiLHt0ZXN0OmEsZ2V0U2l6ZTpmdW5jdGlvbih0KXtyZXR1cm57d2lkdGg6dC5nZXRVaW50MTYoNiwhMCksaGVpZ2h0OnQuZ2V0VWludDE2KDgsITApfX19XSxbImltYWdlL2JtcCIse3Rlc3Q6byxnZXRTaXplOmZ1bmN0aW9uKHQpe3JldHVybnt3aWR0aDp0LmdldFVpbnQzMigxOCwhMCksaGVpZ2h0OnQuZ2V0VWludDMyKDIyLCEwKX19fV1dKTtmdW5jdGlvbiBpKHQpe3JldHVybiB0LmJ5dGVMZW5ndGg+PTI0JiYyMzAzNzQxNTExPT09dC5nZXRVaW50MzIoMCwhMSl9ZnVuY3Rpb24gYSh0KXtyZXR1cm4gdC5ieXRlTGVuZ3RoPj0xMCYmMTE5NTk4NDQ0MD09PXQuZ2V0VWludDMyKDAsITEpfWZ1bmN0aW9uIG8odCl7cmV0dXJuIHQuYnl0ZUxlbmd0aD49MTQmJjE2OTczPT09dC5nZXRVaW50MTYoMCwhMSkmJnQuZ2V0VWludDMyKDIsITApPT09dC5ieXRlTGVuZ3RofWZ1bmN0aW9uIHModCl7cmV0dXJuIHQuYnl0ZUxlbmd0aD49MyYmNjU0OTY9PT10LmdldFVpbnQxNigwLCExKSYmMjU1PT09dC5nZXRVaW50OCgyLCExKX19LGZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7bi5kKGUsImIiLChmdW5jdGlvbigpe3JldHVybiByfSkpLG4uZChlLCJjIiwoZnVuY3Rpb24oKXtyZXR1cm4gaX0pKSxuLmQoZSwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIGF9KSksbi5kKGUsImQiLChmdW5jdGlvbigpe3JldHVybiBvfSkpO2Z1bmN0aW9uIHIodCl7c3dpdGNoKEFycmF5QnVmZmVyLmlzVmlldyh0KT90LmNvbnN0cnVjdG9yOnQpe2Nhc2UgRmxvYXQzMkFycmF5OnJldHVybiA1MTI2O2Nhc2UgVWludDE2QXJyYXk6cmV0dXJuIDUxMjM7Y2FzZSBVaW50MzJBcnJheTpyZXR1cm4gNTEyNTtjYXNlIFVpbnQ4QXJyYXk6Y2FzZSBVaW50OENsYW1wZWRBcnJheTpyZXR1cm4gNTEyMTtjYXNlIEludDhBcnJheTpyZXR1cm4gNTEyMDtjYXNlIEludDE2QXJyYXk6cmV0dXJuIDUxMjI7Y2FzZSBJbnQzMkFycmF5OnJldHVybiA1MTI0O2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKCJGYWlsZWQgdG8gZGVkdWNlIEdMIGNvbnN0YW50IGZyb20gdHlwZWQgYXJyYXkiKX19ZnVuY3Rpb24gaSh0KXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06e30sbj1lLmNsYW1wZWQscj12b2lkIDA9PT1ufHxuO3N3aXRjaCh0KXtjYXNlIDUxMjY6cmV0dXJuIEZsb2F0MzJBcnJheTtjYXNlIDUxMjM6Y2FzZSAzMzYzNTpjYXNlIDMyODE5OmNhc2UgMzI4MjA6cmV0dXJuIFVpbnQxNkFycmF5O2Nhc2UgNTEyNTpyZXR1cm4gVWludDMyQXJyYXk7Y2FzZSA1MTIxOnJldHVybiByP1VpbnQ4Q2xhbXBlZEFycmF5OlVpbnQ4QXJyYXk7Y2FzZSA1MTIwOnJldHVybiBJbnQ4QXJyYXk7Y2FzZSA1MTIyOnJldHVybiBJbnQxNkFycmF5O2Nhc2UgNTEyNDpyZXR1cm4gSW50MzJBcnJheTtkZWZhdWx0OnRocm93IG5ldyBFcnJvcigiRmFpbGVkIHRvIGRlZHVjZSB0eXBlZCBhcnJheSB0eXBlIGZyb20gR0wgY29uc3RhbnQiKX19ZnVuY3Rpb24gYSh0KXt2YXIgZT10LmRhdGEsbj10LndpZHRoLHI9dC5oZWlnaHQsaT10LmJ5dGVzUGVyUGl4ZWwsYT12b2lkIDA9PT1pPzQ6aSxvPXQudGVtcCxzPW4qYTtvPW98fG5ldyBVaW50OEFycmF5KHMpO2Zvcih2YXIgdT0wO3U8ci8yOysrdSl7dmFyIGM9dSpzLGw9KHItdS0xKSpzO28uc2V0KGUuc3ViYXJyYXkoYyxjK3MpKSxlLmNvcHlXaXRoaW4oYyxsLGwrcyksZS5zZXQobyxsKX19ZnVuY3Rpb24gbyh0KXtmb3IodmFyIGU9dC5kYXRhLG49dC53aWR0aCxyPXQuaGVpZ2h0LGk9TWF0aC5yb3VuZChuLzIpLGE9TWF0aC5yb3VuZChyLzIpLG89bmV3IFVpbnQ4QXJyYXkoaSphKjQpLHM9MDtzPGE7cysrKWZvcih2YXIgdT0wO3U8aTt1KyspZm9yKHZhciBjPTA7Yzw0O2MrKylvWzQqKHMqaSt1KStjXT1lWzQqKDIqcypuKzIqdSkrY107cmV0dXJue2RhdGE6byx3aWR0aDppLGhlaWdodDphfX19LCxmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO24uZChlLCJhIiwoZnVuY3Rpb24oKXtyZXR1cm4geX0pKTt2YXIgcj1uKDEpLGk9bi5uKHIpLGE9bigyKSxvPW4ubihhKSxzPW4oOSksdT1uLm4ocyksYz1uKDMpLGw9bi5uKGMpLGg9bigxMCksZj1uLm4oaCksZD1uKDE2OSksdj1uKDExKSxwPW4oMTc3KSxnPW4oMjMpLHk9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3JldHVybiBpKCkodGhpcyxlKSx1KCkodGhpcyxsKCkoZSkuYXBwbHkodGhpcyxhcmd1bWVudHMpKX1yZXR1cm4gZigpKGUsdCksbygpKGUsW3trZXk6InJlbmRlciIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5nbDtyZXR1cm4gT2JqZWN0KHYuaykoZSx7ZnJhbWVidWZmZXI6dC50YXJnZXR9KSx0aGlzLl9kcmF3TGF5ZXJzKHQpfX0se2tleToiX2RyYXdMYXllcnMiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXQudmlld3BvcnRzLG49dC52aWV3cyxyPXQub25WaWV3cG9ydEFjdGl2ZSxpPXQuY2xlYXJDYW52YXMsYT12b2lkIDA9PT1pfHxpLG89dGhpcy5nbDthJiZmdW5jdGlvbih0KXt2YXIgZT10LmRyYXdpbmdCdWZmZXJXaWR0aCxuPXQuZHJhd2luZ0J1ZmZlckhlaWdodDtPYmplY3Qodi5rKSh0LHt2aWV3cG9ydDpbMCwwLGUsbl19KSx0LmNsZWFyKDE2NjQwKX0obyk7dmFyIHM9W10sdT0hMCxjPSExLGw9dm9pZCAwO3RyeXtmb3IodmFyIGgsZj1lW1N5bWJvbC5pdGVyYXRvcl0oKTshKHU9KGg9Zi5uZXh0KCkpLmRvbmUpO3U9ITApe3ZhciBkPWgudmFsdWUscD1kLnZpZXdwb3J0fHxkLGc9biYmbltwLmlkXTtyKHApLHQudmlldz1nO3ZhciB5PXAuc3ViVmlld3BvcnRzfHxbcF0sbT0hMCxiPSExLF89dm9pZCAwO3RyeXtmb3IodmFyIE8seD15W1N5bWJvbC5pdGVyYXRvcl0oKTshKG09KE89eC5uZXh0KCkpLmRvbmUpO209ITApe3ZhciB3PU8udmFsdWU7dC52aWV3cG9ydD13O3ZhciBrPXRoaXMuX2RyYXdMYXllcnNJblZpZXdwb3J0KG8sdCk7cy5wdXNoKGspfX1jYXRjaCh0KXtiPSEwLF89dH1maW5hbGx5e3RyeXttfHxudWxsPT14LnJldHVybnx8eC5yZXR1cm4oKX1maW5hbGx5e2lmKGIpdGhyb3cgX319fX1jYXRjaCh0KXtjPSEwLGw9dH1maW5hbGx5e3RyeXt1fHxudWxsPT1mLnJldHVybnx8Zi5yZXR1cm4oKX1maW5hbGx5e2lmKGMpdGhyb3cgbH19cmV0dXJuIHN9fSx7a2V5OiJfZHJhd0xheWVyc0luVmlld3BvcnQiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dmFyIG49ZS5sYXllcnMscj1lLmxheWVyRmlsdGVyLGk9ZS5vbkVycm9yLGE9ZS52aWV3cG9ydCxvPWUudmlldyxzPWUucGFzcyx1PXZvaWQgMD09PXM/InVua25vd24iOnMsYz1lLmVmZmVjdHMsbD1lLm1vZHVsZVBhcmFtZXRlcnMsaD1mdW5jdGlvbih0LGUpe3ZhciBuPWUudmlld3BvcnQscj10LmNhbnZhcz90LmNhbnZhcy5jbGllbnRIZWlnaHR8fHQuY2FudmFzLmhlaWdodDoxMDAsaT1uLGE9T2JqZWN0KHYuYykodCk7cmV0dXJuW2kueCphLChyLWkueS1pLmhlaWdodCkqYSxpLndpZHRoKmEsaS5oZWlnaHQqYV19KHQse3ZpZXdwb3J0OmF9KTtpZihvJiZvLnByb3BzLmNsZWFyKXt2YXIgZj0hMD09PW8ucHJvcHMuY2xlYXI/e2NvbG9yOiEwLGRlcHRoOiEwfTpvLnByb3BzLmNsZWFyO09iamVjdCh2LmwpKHQse3NjaXNzb3JUZXN0OiEwLHNjaXNzb3I6aH0sKGZ1bmN0aW9uKCl7cmV0dXJuIE9iamVjdChwLmEpKHQsZil9KSl9dmFyIGQ9e3RvdGFsQ291bnQ6bi5sZW5ndGgsdmlzaWJsZUNvdW50OjAsY29tcG9zaXRlQ291bnQ6MCxwaWNrYWJsZUNvdW50OjB9O09iamVjdCh2LmspKHQse3ZpZXdwb3J0Omh9KTtmb3IodmFyIHk9ZnVuY3Rpb24gdCgpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTowLG49YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOnt9LHI9e307cmV0dXJuIGZ1bmN0aW9uKGksYSl7dmFyIG8scz1pLnByb3BzLl9vZmZzZXQsdT1pLmlkLGM9aS5wYXJlbnQmJmkucGFyZW50LmlkO2lmKGMgaW4gcil7dmFyIGw9cltjXT1yW2NdfHx0KG5bY10sbik7bz1sKGksYSksclt1XT1sfWVsc2UgTnVtYmVyLmlzRmluaXRlKHMpPyhvPXMrKG5bY118fDApLHJbdV09bnVsbCk6bz1lO3JldHVybiBhJiZvPj1lJiYoZT1vKzEpLG5bdV09byxvfX0oKSxtPTA7bTxuLmxlbmd0aDttKyspe3ZhciBiPW5bbV0sXz10aGlzLl9zaG91bGREcmF3TGF5ZXIoYixhLHUsciksTz15KGIsXyk7aWYoXyYmYi5wcm9wcy5waWNrYWJsZSYmZC5waWNrYWJsZUNvdW50KyssYi5pc0NvbXBvc2l0ZSYmZC5jb21wb3NpdGVDb3VudCsrLF8pe2QudmlzaWJsZUNvdW50Kys7dmFyIHg9dGhpcy5fZ2V0TW9kdWxlUGFyYW1ldGVycyhiLGMsdSxsKSx3PXRoaXMuZ2V0TGF5ZXJQYXJhbWV0ZXJzKGIsbSk7eC52aWV3cG9ydD1hO3RyeXtiLmRyYXdMYXllcih7bW9kdWxlUGFyYW1ldGVyczp4LHVuaWZvcm1zOntsYXllckluZGV4Ok99LHBhcmFtZXRlcnM6d30pfWNhdGNoKHQpe2k/aSh0LGIpOmcuYS5lcnJvcigiZXJyb3IgZHVyaW5nIGRyYXdpbmcgb2YgIi5jb25jYXQoYiksdCkoKX19fXJldHVybiBkfX0se2tleToic2hvdWxkRHJhd0xheWVyIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4hMH19LHtrZXk6ImdldE1vZHVsZVBhcmFtZXRlcnMiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIG51bGx9fSx7a2V5OiJnZXRMYXllclBhcmFtZXRlcnMiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQucHJvcHMucGFyYW1ldGVyc319LHtrZXk6Il9zaG91bGREcmF3TGF5ZXIiLHZhbHVlOmZ1bmN0aW9uKHQsZSxuLHIpe3ZhciBpPXRoaXMuc2hvdWxkRHJhd0xheWVyKHQpJiYhdC5pc0NvbXBvc2l0ZSYmdC5wcm9wcy52aXNpYmxlO3JldHVybiBpJiZyJiYoaT1yKHtsYXllcjp0LHZpZXdwb3J0OmUsaXNQaWNraW5nOm4uc3RhcnRzV2l0aCgicGlja2luZyIpLHJlbmRlclBhc3M6bn0pKSxpfX0se2tleToiX2dldE1vZHVsZVBhcmFtZXRlcnMiLHZhbHVlOmZ1bmN0aW9uKHQsZSxuLHIpe3ZhciBpPU9iamVjdC5hc3NpZ24oT2JqZWN0LmNyZWF0ZSh0LnByb3BzKSx7dmlld3BvcnQ6dC5jb250ZXh0LnZpZXdwb3J0LG1vdXNlUG9zaXRpb246dC5jb250ZXh0Lm1vdXNlUG9zaXRpb24scGlja2luZ0FjdGl2ZTowLGRldmljZVBpeGVsUmF0aW86T2JqZWN0KHYuYykodGhpcy5nbCl9KTtpZihlKXt2YXIgYT0hMCxvPSExLHM9dm9pZCAwO3RyeXtmb3IodmFyIHUsYz1lW1N5bWJvbC5pdGVyYXRvcl0oKTshKGE9KHU9Yy5uZXh0KCkpLmRvbmUpO2E9ITApe3ZhciBsPXUudmFsdWU7T2JqZWN0LmFzc2lnbihpLGwuZ2V0TW9kdWxlUGFyYW1ldGVycyh0KSl9fWNhdGNoKHQpe289ITAscz10fWZpbmFsbHl7dHJ5e2F8fG51bGw9PWMucmV0dXJufHxjLnJldHVybigpfWZpbmFsbHl7aWYobyl0aHJvdyBzfX19cmV0dXJuIE9iamVjdC5hc3NpZ24oaSx0aGlzLmdldE1vZHVsZVBhcmFtZXRlcnModCxlKSxyKX19XSksZX0oZC5hKX0sZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0IjtuLmQoZSwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIHN9KSk7dmFyIHI9bigxKSxpPW4ubihyKSxhPW4oMiksbz1uLm4oYSkscz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e307aSgpKHRoaXMsdCk7dmFyIG49ZS5pZCxyPXZvaWQgMD09PW4/ImVmZmVjdCI6bjt0aGlzLmlkPXIsdGhpcy5wcm9wcz17fSxPYmplY3QuYXNzaWduKHRoaXMucHJvcHMsZSl9cmV0dXJuIG8oKSh0LFt7a2V5OiJwcmVSZW5kZXIiLHZhbHVlOmZ1bmN0aW9uKCl7fX0se2tleToiZ2V0TW9kdWxlUGFyYW1ldGVycyIsdmFsdWU6ZnVuY3Rpb24oKXt9fSx7a2V5OiJjbGVhbnVwIix2YWx1ZTpmdW5jdGlvbigpe319XSksdH0oKX0sZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0IjtuLmQoZSwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIGN9KSk7dmFyIHI9bigxMyksaT1uKDUpLGE9bi5uKGkpLG89big1NCkscz1uKDEwNCksdT1uKDc0KTtmdW5jdGlvbiBjKHQpe2lmKHUuY3x8dS5lPj0xMCl7aWYoImZ1bmN0aW9uIj09dHlwZW9mIHRbU3ltYm9sLmFzeW5jSXRlcmF0b3JdKXJldHVybiB0O2lmKCJmdW5jdGlvbiI9PXR5cGVvZiB0LmdldEl0ZXJhdG9yKXJldHVybiB0LmdldEl0ZXJhdG9yKCl9cmV0dXJuIHUuYz9mdW5jdGlvbih0KXtyZXR1cm4gbC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9KHQpOmZ1bmN0aW9uKHQpe3JldHVybiBoLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0odCl9ZnVuY3Rpb24gbCgpe3JldHVybihsPU9iamVjdChzLmEpKGEuYS5tYXJrKChmdW5jdGlvbiB0KGUpe3ZhciBuLHIsaSxzO3JldHVybiBhLmEud3JhcCgoZnVuY3Rpb24odCl7Zm9yKDs7KXN3aXRjaCh0LnByZXY9dC5uZXh0KXtjYXNlIDA6bj1lLmdldFJlYWRlcigpLHQucHJldj0xO2Nhc2UgMjpyZXR1cm4gdC5uZXh0PTUsT2JqZWN0KG8uYSkobi5yZWFkKCkpO2Nhc2UgNTppZihyPXQuc2VudCxpPXIuZG9uZSxzPXIudmFsdWUsIWkpe3QubmV4dD0xMDticmVha31yZXR1cm4gdC5hYnJ1cHQoInJldHVybiIpO2Nhc2UgMTA6cmV0dXJuIHQubmV4dD0xMixzO2Nhc2UgMTI6dC5uZXh0PTI7YnJlYWs7Y2FzZSAxNDp0Lm5leHQ9MTk7YnJlYWs7Y2FzZSAxNjp0LnByZXY9MTYsdC50MD10LmNhdGNoKDEpLG4ucmVsZWFzZUxvY2soKTtjYXNlIDE5OmNhc2UiZW5kIjpyZXR1cm4gdC5zdG9wKCl9fSksdCxudWxsLFtbMSwxNl1dKX0pKSkpLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1mdW5jdGlvbiBoKCl7cmV0dXJuKGg9T2JqZWN0KHMuYSkoYS5hLm1hcmsoKGZ1bmN0aW9uIHQoZSl7dmFyIG47cmV0dXJuIGEuYS53cmFwKChmdW5jdGlvbih0KXtmb3IoOzspc3dpdGNoKHQucHJldj10Lm5leHQpe2Nhc2UgMDpyZXR1cm4gdC5uZXh0PTIsT2JqZWN0KG8uYSkoZSk7Y2FzZSAyOmU9dC5zZW50O2Nhc2UgMzppZihudWxsPT09KG49ZS5yZWFkKCkpKXt0Lm5leHQ9OTticmVha31yZXR1cm4gdC5uZXh0PTgsbjtjYXNlIDg6cmV0dXJuIHQuYWJydXB0KCJjb250aW51ZSIsMyk7Y2FzZSA5OmlmKCFlLl9yZWFkYWJsZVN0YXRlLmVuZGVkKXt0Lm5leHQ9MTE7YnJlYWt9cmV0dXJuIHQuYWJydXB0KCJyZXR1cm4iKTtjYXNlIDExOnJldHVybiB0Lm5leHQ9MTMsT2JqZWN0KG8uYSkoZihlKSk7Y2FzZSAxMzp0Lm5leHQ9MzticmVhaztjYXNlIDE1OmNhc2UiZW5kIjpyZXR1cm4gdC5zdG9wKCl9fSksdCl9KSkpKS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZnVuY3Rpb24gZih0KXtyZXR1cm4gZC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZnVuY3Rpb24gZCgpe3JldHVybihkPU9iamVjdChyLmEpKGEuYS5tYXJrKChmdW5jdGlvbiB0KGUpe3JldHVybiBhLmEud3JhcCgoZnVuY3Rpb24odCl7Zm9yKDs7KXN3aXRjaCh0LnByZXY9dC5uZXh0KXtjYXNlIDA6cmV0dXJuIHQuYWJydXB0KCJyZXR1cm4iLG5ldyBQcm9taXNlKChmdW5jdGlvbih0KXtlLm9uY2UoInJlYWRhYmxlIix0KX0pKSk7Y2FzZSAxOmNhc2UiZW5kIjpyZXR1cm4gdC5zdG9wKCl9fSksdCl9KSkpKS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fSxmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oMTcyKTtmdW5jdGlvbiBpKHQpe3ZhciBlLG47ZnVuY3Rpb24gaShlLG4pe3RyeXt2YXIgbz10W2VdKG4pLHM9by52YWx1ZSx1PXMgaW5zdGFuY2VvZiByLmE7UHJvbWlzZS5yZXNvbHZlKHU/cy53cmFwcGVkOnMpLnRoZW4oKGZ1bmN0aW9uKHQpe3U/aSgicmV0dXJuIj09PWU/InJldHVybiI6Im5leHQiLHQpOmEoby5kb25lPyJyZXR1cm4iOiJub3JtYWwiLHQpfSksKGZ1bmN0aW9uKHQpe2koInRocm93Iix0KX0pKX1jYXRjaCh0KXthKCJ0aHJvdyIsdCl9fWZ1bmN0aW9uIGEodCxyKXtzd2l0Y2godCl7Y2FzZSJyZXR1cm4iOmUucmVzb2x2ZSh7dmFsdWU6cixkb25lOiEwfSk7YnJlYWs7Y2FzZSJ0aHJvdyI6ZS5yZWplY3Qocik7YnJlYWs7ZGVmYXVsdDplLnJlc29sdmUoe3ZhbHVlOnIsZG9uZTohMX0pfShlPWUubmV4dCk/aShlLmtleSxlLmFyZyk6bj1udWxsfXRoaXMuX2ludm9rZT1mdW5jdGlvbih0LHIpe3JldHVybiBuZXcgUHJvbWlzZSgoZnVuY3Rpb24oYSxvKXt2YXIgcz17a2V5OnQsYXJnOnIscmVzb2x2ZTphLHJlamVjdDpvLG5leHQ6bnVsbH07bj9uPW4ubmV4dD1zOihlPW49cyxpKHQscikpfSkpfSwiZnVuY3Rpb24iIT10eXBlb2YgdC5yZXR1cm4mJih0aGlzLnJldHVybj12b2lkIDApfWZ1bmN0aW9uIGEodCl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBpKHQuYXBwbHkodGhpcyxhcmd1bWVudHMpKX19ImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmU3ltYm9sLmFzeW5jSXRlcmF0b3ImJihpLnByb3RvdHlwZVtTeW1ib2wuYXN5bmNJdGVyYXRvcl09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30pLGkucHJvdG90eXBlLm5leHQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2ludm9rZSgibmV4dCIsdCl9LGkucHJvdG90eXBlLnRocm93PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9pbnZva2UoInRocm93Iix0KX0saS5wcm90b3R5cGUucmV0dXJuPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9pbnZva2UoInJldHVybiIsdCl9LG4uZChlLCJhIiwoZnVuY3Rpb24oKXtyZXR1cm4gYX0pKX0sZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0IjtuLmQoZSwiYiIsKGZ1bmN0aW9uKCl7cmV0dXJuIGl9KSksbi5kKGUsImEiLChmdW5jdGlvbigpe3JldHVybiBhfSkpO3ZhciByPW4oMjgpO2Z1bmN0aW9uIGkodCxlKXtpZigic3RyaW5nIiE9dHlwZW9mIGUpcmV0dXJuIGU7dmFyIG49TnVtYmVyKGUpO2lmKCFpc05hTihuKSlyZXR1cm4gbjt2YXIgaT10W2U9ZS5yZXBsYWNlKC9eLipcLi8sIiIpXTtyZXR1cm4gT2JqZWN0KHIuYSkodm9pZCAwIT09aSwiQWNjZXNzaW5nIHVuZGVmaW5lZCBjb25zdGFudCBHTC4iLmNvbmNhdChlKSksaX1mdW5jdGlvbiBhKHQsZSl7Zm9yKHZhciBuIGluIGU9TnVtYmVyKGUpLHQpaWYodFtuXT09PWUpcmV0dXJuIkdMLiIuY29uY2F0KG4pO3JldHVybiBTdHJpbmcoZSl9fSwsZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKDUpLGk9bi5uKHIpLGE9bigxMyksbz1uKDExMyk7ZnVuY3Rpb24gcyh0LGUpe3ZhciBuPXQgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcj9uZXcgVWludDhBcnJheSh0KTp0LHI9ZSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyP25ldyBVaW50OEFycmF5KGUpOmUsaT1uZXcgVWludDhBcnJheShuLmJ5dGVMZW5ndGgrci5ieXRlTGVuZ3RoKTtyZXR1cm4gaS5zZXQobiwwKSxpLnNldChyLG4uYnl0ZUxlbmd0aCksaX1uLmQoZSwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIGh9KSksbi5kKGUsImIiLChmdW5jdGlvbigpe3JldHVybiBkfSkpO3ZhciB1PWkuYS5tYXJrKGQpLGM9aS5hLm1hcmsodiksbD1pLmEubWFyayhwKTtmdW5jdGlvbiBoKHQpe3JldHVybiBmLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1mdW5jdGlvbiBmKCl7cmV0dXJuKGY9T2JqZWN0KGEuYSkoaS5hLm1hcmsoKGZ1bmN0aW9uIHQoZSl7dmFyIG4scixhLHUsYyxsLGgsZixkO3JldHVybiBpLmEud3JhcCgoZnVuY3Rpb24odCl7Zm9yKDs7KXN3aXRjaCh0LnByZXY9dC5uZXh0KXtjYXNlIDA6bj1uZXcgQXJyYXlCdWZmZXIoMCkscj0iIixhPSEwLHU9ITEsdC5wcmV2PTQsbD1PYmplY3Qoby5hKShlKTtjYXNlIDY6cmV0dXJuIHQubmV4dD04LGwubmV4dCgpO2Nhc2UgODpyZXR1cm4gaD10LnNlbnQsYT1oLmRvbmUsdC5uZXh0PTEyLGgudmFsdWU7Y2FzZSAxMjppZihmPXQuc2VudCxhKXt0Lm5leHQ9MTk7YnJlYWt9InN0cmluZyI9PXR5cGVvZihkPWYpP3IrPWQ6bj1zKG4sZCk7Y2FzZSAxNjphPSEwLHQubmV4dD02O2JyZWFrO2Nhc2UgMTk6dC5uZXh0PTI1O2JyZWFrO2Nhc2UgMjE6dC5wcmV2PTIxLHQudDA9dC5jYXRjaCg0KSx1PSEwLGM9dC50MDtjYXNlIDI1OmlmKHQucHJldj0yNSx0LnByZXY9MjYsYXx8bnVsbD09bC5yZXR1cm4pe3QubmV4dD0zMDticmVha31yZXR1cm4gdC5uZXh0PTMwLGwucmV0dXJuKCk7Y2FzZSAzMDppZih0LnByZXY9MzAsIXUpe3QubmV4dD0zMzticmVha310aHJvdyBjO2Nhc2UgMzM6cmV0dXJuIHQuZmluaXNoKDMwKTtjYXNlIDM0OnJldHVybiB0LmZpbmlzaCgyNSk7Y2FzZSAzNTpyZXR1cm4gdC5hYnJ1cHQoInJldHVybiIscnx8bik7Y2FzZSAzNjpjYXNlImVuZCI6cmV0dXJuIHQuc3RvcCgpfX0pLHQsbnVsbCxbWzQsMjEsMjUsMzVdLFsyNiwsMzAsMzRdXSl9KSkpKS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZnVuY3Rpb24gZCh0KXt2YXIgZSxuPWFyZ3VtZW50cztyZXR1cm4gaS5hLndyYXAoKGZ1bmN0aW9uKHIpe2Zvcig7Oylzd2l0Y2goci5wcmV2PXIubmV4dCl7Y2FzZSAwOmlmKGU9bi5sZW5ndGg+MSYmdm9pZCAwIT09blsxXT9uWzFdOnt9LCJzdHJpbmciIT10eXBlb2YgdCl7ci5uZXh0PTQ7YnJlYWt9cmV0dXJuIHIuZGVsZWdhdGVZaWVsZChwKHQsZSksInQwIiwzKTtjYXNlIDM6cmV0dXJuIHIuYWJydXB0KCJyZXR1cm4iKTtjYXNlIDQ6aWYoISh0IGluc3RhbmNlb2YgQXJyYXlCdWZmZXIpKXtyLm5leHQ9NzticmVha31yZXR1cm4gci5kZWxlZ2F0ZVlpZWxkKHYodCxlKSwidDEiLDYpO2Nhc2UgNjpyZXR1cm4gci5hYnJ1cHQoInJldHVybiIpO2Nhc2UgNzp0aHJvdyBuZXcgRXJyb3IoImFzc2VydCIpO2Nhc2UgODpjYXNlImVuZCI6cmV0dXJuIHIuc3RvcCgpfX0pLHUpfWZ1bmN0aW9uIHYodCl7dmFyIGUsbixyLGEsbyxzLHUsbD1hcmd1bWVudHM7cmV0dXJuIGkuYS53cmFwKChmdW5jdGlvbihpKXtmb3IoOzspc3dpdGNoKGkucHJldj1pLm5leHQpe2Nhc2UgMDplPWwubGVuZ3RoPjEmJnZvaWQgMCE9PWxbMV0/bFsxXTp7fSxuPWUuY2h1bmtTaXplLHI9dm9pZCAwPT09bj8yNjIxNDQ6bixhPTA7Y2FzZSAzOmlmKCEoYTx0LmJ5dGVMZW5ndGgpKXtpLm5leHQ9MTQ7YnJlYWt9cmV0dXJuIG89TWF0aC5taW4odC5ieXRlTGVuZ3RoLWEscikscz1uZXcgQXJyYXlCdWZmZXIobyksdT1uZXcgVWludDhBcnJheSh0LGEsbyksbmV3IFVpbnQ4QXJyYXkocykuc2V0KHUpLGErPW8saS5uZXh0PTEyLHM7Y2FzZSAxMjppLm5leHQ9MzticmVhaztjYXNlIDE0OmNhc2UiZW5kIjpyZXR1cm4gaS5zdG9wKCl9fSksYyl9ZnVuY3Rpb24gcCh0KXt2YXIgZSxuLHIsYSxvLHMsdT1hcmd1bWVudHM7cmV0dXJuIGkuYS53cmFwKChmdW5jdGlvbihpKXtmb3IoOzspc3dpdGNoKGkucHJldj1pLm5leHQpe2Nhc2UgMDplPXUubGVuZ3RoPjEmJnZvaWQgMCE9PXVbMV0/dVsxXTp7fSxuPWUuY2h1bmtTaXplLHI9dm9pZCAwPT09bj8yNjIxNDQ6bixhPTA7Y2FzZSAzOmlmKCEoYTx0Lmxlbmd0aCkpe2kubmV4dD0xMTticmVha31yZXR1cm4gbz1NYXRoLm1pbih0Lmxlbmd0aC1hLHIpLHM9dC5zbGljZShhLGErbyksYSs9byxpLm5leHQ9OSxzO2Nhc2UgOTppLm5leHQ9MzticmVhaztjYXNlIDExOmNhc2UiZW5kIjpyZXR1cm4gaS5zdG9wKCl9fSksbCl9fSxmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIHIodCxlKXtpZih0PT09ZSlyZXR1cm4hMDtpZihBcnJheS5pc0FycmF5KHQpKXt2YXIgbj10Lmxlbmd0aDtpZighZXx8ZS5sZW5ndGghPT1uKXJldHVybiExO2Zvcih2YXIgcj0wO3I8bjtyKyspaWYodFtyXSE9PWVbcl0pcmV0dXJuITE7cmV0dXJuITB9cmV0dXJuITF9ZnVuY3Rpb24gaSh0KXt2YXIgZSxuPXt9O3JldHVybiBmdW5jdGlvbihpKXtmb3IodmFyIGEgaW4gaSlpZighcihpW2FdLG5bYV0pKXtlPXQoaSksbj1pO2JyZWFrfXJldHVybiBlfX1uLmQoZSwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIGl9KSl9LGZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7bi5kKGUsImEiLChmdW5jdGlvbigpe3JldHVybiBofSkpO3ZhciByPW4oMSksaT1uLm4ociksYT1uKDIpLG89bi5uKGEpLHM9big4KSx1PVsyNTUsMjU1LDI1NV0sYz1bMCwwLC0xXSxsPTAsaD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e307aSgpKHRoaXMsdCk7dmFyIG49ZS5jb2xvcixyPXZvaWQgMD09PW4/dTpuLGE9ZS5pbnRlbnNpdHksbz12b2lkIDA9PT1hPzE6YSxoPWUuZGlyZWN0aW9uLGY9dm9pZCAwPT09aD9jOmgsZD1lLl9zaGFkb3csdj12b2lkIDAhPT1kJiZkO3RoaXMuaWQ9ZS5pZHx8ImRpcmVjdGlvbmFsLSIuY29uY2F0KGwrKyksdGhpcy5jb2xvcj1yLHRoaXMuaW50ZW5zaXR5PW8sdGhpcy50eXBlPSJkaXJlY3Rpb25hbCIsdGhpcy5kaXJlY3Rpb249bmV3IHMuZChmKS5ub3JtYWxpemUoKS50b0FycmF5KCksdGhpcy5zaGFkb3c9dn1yZXR1cm4gbygpKHQsW3trZXk6ImdldFByb2plY3RlZExpZ2h0Iix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzfX1dKSx0fSgpfSxmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oMSksaT1uLm4ociksYT1uKDIpLG89bi5uKGEpLHM9big5KSx1PW4ubihzKSxjPW4oMyksbD1uLm4oYyksaD1uKDEyKSxmPW4ubihoKSxkPW4oMTApLHY9bi5uKGQpLHA9bigyMDIpLGc9bigyMjApLHk9bigyMyksbT1uKDExOCksYj1uKDE3NSksXz1uKDcxKSxPPW4oNCkseD1uLm4oTyksdz1uKDIwNCk7ZnVuY3Rpb24gayh0LGUpe3ZhciBuPU9iamVjdC5rZXlzKHQpO2lmKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciByPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHModCk7ZSYmKHI9ci5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHQsZSkuZW51bWVyYWJsZX0pKSksbi5wdXNoLmFwcGx5KG4scil9cmV0dXJuIG59dmFyIFM9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSh0KXtyZXR1cm4gaSgpKHRoaXMsZSksdSgpKHRoaXMsbCgpKGUpLmNhbGwodGhpcyxmdW5jdGlvbih0KXtmb3IodmFyIGU9MTtlPGFyZ3VtZW50cy5sZW5ndGg7ZSsrKXt2YXIgbj1udWxsIT1hcmd1bWVudHNbZV0/YXJndW1lbnRzW2VdOnt9O2UlMj9rKE9iamVjdChuKSwhMCkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7eCgpKHQsZSxuW2VdKX0pKTpPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycz9PYmplY3QuZGVmaW5lUHJvcGVydGllcyh0LE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKG4pKTprKE9iamVjdChuKSkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsZSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG4sZSkpfSkpfXJldHVybiB0fSh7fSx0LHthdHRyaWJ1dGVzOntwb3NpdGlvbnM6e3NpemU6MyxwYWRkaW5nOjE4LHR5cGU6dC5mcDY0P0Zsb2F0NjRBcnJheTpGbG9hdDMyQXJyYXl9LHNlZ21lbnRUeXBlczp7c2l6ZToxLHR5cGU6VWludDhDbGFtcGVkQXJyYXl9fX0pKSl9cmV0dXJuIHYoKShlLHQpLG8oKShlLFt7a2V5OiJnZXRHZW9tZXRyeUZyb21CdWZmZXIiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLm5vcm1hbGl6ZT9mKCkobCgpKGUucHJvdG90eXBlKSwiZ2V0R2VvbWV0cnlGcm9tQnVmZmVyIix0aGlzKS5jYWxsKHRoaXMsdCk6ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbH19fSx7a2V5OiJnZXQiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmF0dHJpYnV0ZXNbdF19fSx7a2V5OiJnZXRHZW9tZXRyeVNpemUiLHZhbHVlOmZ1bmN0aW9uKHQpe2lmKCF0aGlzLm5vcm1hbGl6ZSl7dmFyIGU9dC5sZW5ndGgvdGhpcy5wb3NpdGlvblNpemU7cmV0dXJuIHRoaXMub3B0cy5sb29wP2UrMjplfXZhciBuPXRoaXMuZ2V0UGF0aExlbmd0aCh0KTtyZXR1cm4gbjwyPzA6dGhpcy5pc0Nsb3NlZCh0KT9uPDM/MDpuKzI6bn19LHtrZXk6InVwZGF0ZUdlb21ldHJ5QXR0cmlidXRlcyIsdmFsdWU6ZnVuY3Rpb24odCxlKXswIT09ZS5nZW9tZXRyeVNpemUmJih0aGlzLl91cGRhdGVTZWdtZW50VHlwZXModCxlKSx0aGlzLl91cGRhdGVQb3NpdGlvbnModCxlKSl9fSx7a2V5OiJfdXBkYXRlU2VnbWVudFR5cGVzIix2YWx1ZTpmdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMuYXR0cmlidXRlcy5zZWdtZW50VHlwZXMscj10aGlzLmlzQ2xvc2VkKHQpLGk9ZS52ZXJ0ZXhTdGFydCxhPWUuZ2VvbWV0cnlTaXplO24uZmlsbCgwLGksaSthKSxyPyhuW2ldPTQsbltpK2EtMl09NCk6KG5baV0rPTEsbltpK2EtMl0rPTIpLG5baSthLTFdPTR9fSx7a2V5OiJfdXBkYXRlUG9zaXRpb25zIix2YWx1ZTpmdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMuYXR0cmlidXRlcy5wb3NpdGlvbnM7aWYobilmb3IodmFyIHI9ZS52ZXJ0ZXhTdGFydCxpPWUuZ2VvbWV0cnlTaXplLGE9cixvPTA7bzxpO2ErKyxvKyspe3ZhciBzPXRoaXMuZ2V0UG9pbnRPblBhdGgodCxvKTtuWzMqYV09c1swXSxuWzMqYSsxXT1zWzFdLG5bMyphKzJdPXNbMl18fDB9fX0se2tleToiZ2V0UGF0aExlbmd0aCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIE51bWJlci5pc0Zpbml0ZSh0WzBdKT90Lmxlbmd0aC90aGlzLnBvc2l0aW9uU2l6ZTp0Lmxlbmd0aH19LHtrZXk6ImdldFBvaW50T25QYXRoIix2YWx1ZTpmdW5jdGlvbih0LGUpe2lmKE51bWJlci5pc0Zpbml0ZSh0WzBdKSl7dmFyIG49dGhpcy5wb3NpdGlvblNpemU7cmV0dXJuIGUqbj49dC5sZW5ndGgmJihlKz0xLXQubGVuZ3RoL24pLFt0W2Uqbl0sdFtlKm4rMV0sMz09PW4/dFtlKm4rMl06MF19cmV0dXJuIGU+PXQubGVuZ3RoJiYoZSs9MS10Lmxlbmd0aCksdFtlXX19LHtrZXk6ImlzQ2xvc2VkIix2YWx1ZTpmdW5jdGlvbih0KXtpZighdGhpcy5ub3JtYWxpemUpcmV0dXJuIHRoaXMub3B0cy5sb29wO3ZhciBlPXRoaXMuZ2V0UGF0aExlbmd0aCh0KSxuPXRoaXMuZ2V0UG9pbnRPblBhdGgodCwwKSxyPXRoaXMuZ2V0UG9pbnRPblBhdGgodCxlLTEpO3JldHVybiBuWzBdPT09clswXSYmblsxXT09PXJbMV0mJm5bMl09PT1yWzJdfX1dKSxlfSh3LmEpO24uZChlLCJhIiwoZnVuY3Rpb24oKXtyZXR1cm4gRX0pKTt2YXIgUD1bMCwwLDAsMjU1XSxqPXt3aWR0aFVuaXRzOiJtZXRlcnMiLHdpZHRoU2NhbGU6e3R5cGU6Im51bWJlciIsbWluOjAsdmFsdWU6MX0sd2lkdGhNaW5QaXhlbHM6e3R5cGU6Im51bWJlciIsbWluOjAsdmFsdWU6MH0sd2lkdGhNYXhQaXhlbHM6e3R5cGU6Im51bWJlciIsbWluOjAsdmFsdWU6TnVtYmVyLk1BWF9TQUZFX0lOVEVHRVJ9LHJvdW5kZWQ6ITEsbWl0ZXJMaW1pdDp7dHlwZToibnVtYmVyIixtaW46MCx2YWx1ZTo0fSxiaWxsYm9hcmQ6ITEsX3BhdGhUeXBlOm51bGwsZ2V0UGF0aDp7dHlwZToiYWNjZXNzb3IiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0LnBhdGh9fSxnZXRDb2xvcjp7dHlwZToiYWNjZXNzb3IiLHZhbHVlOlB9LGdldFdpZHRoOnt0eXBlOiJhY2Nlc3NvciIsdmFsdWU6MX19LFQ9e2VudGVyOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIGUubGVuZ3RoP2Uuc3ViYXJyYXkoZS5sZW5ndGgtdC5sZW5ndGgpOnR9fSxFPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXtyZXR1cm4gaSgpKHRoaXMsZSksdSgpKHRoaXMsbCgpKGUpLmFwcGx5KHRoaXMsYXJndW1lbnRzKSl9cmV0dXJuIHYoKShlLHQpLG8oKShlLFt7a2V5OiJnZXRTaGFkZXJzIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiBmKCkobCgpKGUucHJvdG90eXBlKSwiZ2V0U2hhZGVycyIsdGhpcykuY2FsbCh0aGlzLHt2czoiI2RlZmluZSBTSEFERVJfTkFNRSBwYXRoLWxheWVyLXZlcnRleC1zaGFkZXJcblxuYXR0cmlidXRlIHZlYzIgcG9zaXRpb25zO1xuXG5hdHRyaWJ1dGUgZmxvYXQgaW5zdGFuY2VUeXBlcztcbmF0dHJpYnV0ZSB2ZWMzIGluc3RhbmNlU3RhcnRQb3NpdGlvbnM7XG5hdHRyaWJ1dGUgdmVjMyBpbnN0YW5jZUVuZFBvc2l0aW9ucztcbmF0dHJpYnV0ZSB2ZWMzIGluc3RhbmNlTGVmdFBvc2l0aW9ucztcbmF0dHJpYnV0ZSB2ZWMzIGluc3RhbmNlUmlnaHRQb3NpdGlvbnM7XG5hdHRyaWJ1dGUgdmVjMyBpbnN0YW5jZUxlZnRQb3NpdGlvbnM2NExvdztcbmF0dHJpYnV0ZSB2ZWMzIGluc3RhbmNlU3RhcnRQb3NpdGlvbnM2NExvdztcbmF0dHJpYnV0ZSB2ZWMzIGluc3RhbmNlRW5kUG9zaXRpb25zNjRMb3c7XG5hdHRyaWJ1dGUgdmVjMyBpbnN0YW5jZVJpZ2h0UG9zaXRpb25zNjRMb3c7XG5hdHRyaWJ1dGUgZmxvYXQgaW5zdGFuY2VTdHJva2VXaWR0aHM7XG5hdHRyaWJ1dGUgdmVjNCBpbnN0YW5jZUNvbG9ycztcbmF0dHJpYnV0ZSB2ZWMzIGluc3RhbmNlUGlja2luZ0NvbG9ycztcblxudW5pZm9ybSBmbG9hdCB3aWR0aFNjYWxlO1xudW5pZm9ybSBmbG9hdCB3aWR0aE1pblBpeGVscztcbnVuaWZvcm0gZmxvYXQgd2lkdGhNYXhQaXhlbHM7XG51bmlmb3JtIGZsb2F0IGpvaW50VHlwZTtcbnVuaWZvcm0gZmxvYXQgbWl0ZXJMaW1pdDtcbnVuaWZvcm0gYm9vbCBiaWxsYm9hcmQ7XG5cbnVuaWZvcm0gZmxvYXQgb3BhY2l0eTtcblxudmFyeWluZyB2ZWM0IHZDb2xvcjtcbnZhcnlpbmcgdmVjMiB2Q29ybmVyT2Zmc2V0O1xudmFyeWluZyBmbG9hdCB2TWl0ZXJMZW5ndGg7XG52YXJ5aW5nIHZlYzIgdlBhdGhQb3NpdGlvbjtcbnZhcnlpbmcgZmxvYXQgdlBhdGhMZW5ndGg7XG5cbmNvbnN0IGZsb2F0IEVQU0lMT04gPSAwLjAwMTtcbmNvbnN0IHZlYzMgWkVST19PRkZTRVQgPSB2ZWMzKDAuMCk7XG5cbmZsb2F0IGZsaXBJZlRydWUoYm9vbCBmbGFnKSB7XG4gIHJldHVybiAtKGZsb2F0KGZsYWcpICogMi4gLSAxLik7XG59XG52ZWMzIGxpbmVKb2luKFxuICB2ZWMzIHByZXZQb2ludCwgdmVjMyBjdXJyUG9pbnQsIHZlYzMgbmV4dFBvaW50LFxuICB2ZWMyIHdpZHRoXG4pIHtcbiAgYm9vbCBpc0VuZCA9IHBvc2l0aW9ucy54ID4gMC4wO1xuICBmbG9hdCBzaWRlT2ZQYXRoID0gcG9zaXRpb25zLnk7XG4gIGZsb2F0IGlzSm9pbnQgPSBmbG9hdChzaWRlT2ZQYXRoID09IDAuMCk7XG5cbiAgdmVjMiBkZWx0YUEgPSAoY3VyclBvaW50Lnh5IC0gcHJldlBvaW50Lnh5KSAvIHdpZHRoO1xuICB2ZWMyIGRlbHRhQiA9IChuZXh0UG9pbnQueHkgLSBjdXJyUG9pbnQueHkpIC8gd2lkdGg7XG5cbiAgZmxvYXQgbGVuQSA9IGxlbmd0aChkZWx0YUEpO1xuICBmbG9hdCBsZW5CID0gbGVuZ3RoKGRlbHRhQik7XG5cbiAgdmVjMiBkaXJBID0gbGVuQSA+IDAuID8gbm9ybWFsaXplKGRlbHRhQSkgOiB2ZWMyKDAuMCwgMC4wKTtcbiAgdmVjMiBkaXJCID0gbGVuQiA+IDAuID8gbm9ybWFsaXplKGRlbHRhQikgOiB2ZWMyKDAuMCwgMC4wKTtcblxuICB2ZWMyIHBlcnBBID0gdmVjMigtZGlyQS55LCBkaXJBLngpO1xuICB2ZWMyIHBlcnBCID0gdmVjMigtZGlyQi55LCBkaXJCLngpO1xuICB2ZWMyIHRhbmdlbnQgPSBkaXJBICsgZGlyQjtcbiAgdGFuZ2VudCA9IGxlbmd0aCh0YW5nZW50KSA+IDAuID8gbm9ybWFsaXplKHRhbmdlbnQpIDogcGVycEE7XG4gIHZlYzIgbWl0ZXJWZWMgPSB2ZWMyKC10YW5nZW50LnksIHRhbmdlbnQueCk7XG4gIHZlYzIgZGlyID0gaXNFbmQgPyBkaXJBIDogZGlyQjtcbiAgdmVjMiBwZXJwID0gaXNFbmQgPyBwZXJwQSA6IHBlcnBCO1xuICBmbG9hdCBMID0gaXNFbmQgPyBsZW5BIDogbGVuQjtcbiAgZmxvYXQgc2luSGFsZkEgPSBhYnMoZG90KG1pdGVyVmVjLCBwZXJwKSk7XG4gIGZsb2F0IGNvc0hhbGZBID0gYWJzKGRvdChkaXJBLCBtaXRlclZlYykpO1xuICBmbG9hdCB0dXJuRGlyZWN0aW9uID0gZmxpcElmVHJ1ZShkaXJBLnggKiBkaXJCLnkgPj0gZGlyQS55ICogZGlyQi54KTtcbiAgZmxvYXQgY29ybmVyUG9zaXRpb24gPSBzaWRlT2ZQYXRoICogdHVybkRpcmVjdGlvbjtcblxuICBmbG9hdCBtaXRlclNpemUgPSAxLjAgLyBtYXgoc2luSGFsZkEsIEVQU0lMT04pO1xuICBtaXRlclNpemUgPSBtaXgoXG4gICAgbWluKG1pdGVyU2l6ZSwgbWF4KGxlbkEsIGxlbkIpIC8gbWF4KGNvc0hhbGZBLCBFUFNJTE9OKSksXG4gICAgbWl0ZXJTaXplLFxuICAgIHN0ZXAoMC4wLCBjb3JuZXJQb3NpdGlvbilcbiAgKTtcblxuICB2ZWMyIG9mZnNldFZlYyA9IG1peChtaXRlclZlYyAqIG1pdGVyU2l6ZSwgcGVycCwgc3RlcCgwLjUsIGNvcm5lclBvc2l0aW9uKSlcbiAgICAqIChzaWRlT2ZQYXRoICsgaXNKb2ludCAqIHR1cm5EaXJlY3Rpb24pO1xuICBib29sIGlzU3RhcnRDYXAgPSBsZW5BID09IDAuMCB8fCAoIWlzRW5kICYmIChpbnN0YW5jZVR5cGVzID09IDEuMCB8fCBpbnN0YW5jZVR5cGVzID09IDMuMCkpO1xuICBib29sIGlzRW5kQ2FwID0gbGVuQiA9PSAwLjAgfHwgKGlzRW5kICYmIChpbnN0YW5jZVR5cGVzID09IDIuMCB8fCBpbnN0YW5jZVR5cGVzID09IDMuMCkpO1xuICBib29sIGlzQ2FwID0gaXNTdGFydENhcCB8fCBpc0VuZENhcDtcbiAgaWYgKGlzQ2FwKSB7XG4gICAgb2Zmc2V0VmVjID0gbWl4KHBlcnAgKiBzaWRlT2ZQYXRoLCBkaXIgKiBqb2ludFR5cGUgKiA0LjAgKiBmbGlwSWZUcnVlKGlzU3RhcnRDYXApLCBpc0pvaW50KTtcbiAgfVxuICB2UGF0aExlbmd0aCA9IEw7XG4gIHZDb3JuZXJPZmZzZXQgPSBvZmZzZXRWZWM7XG4gIHZNaXRlckxlbmd0aCA9IGRvdCh2Q29ybmVyT2Zmc2V0LCBtaXRlclZlYyAqIHR1cm5EaXJlY3Rpb24pO1xuICB2TWl0ZXJMZW5ndGggPSBpc0NhcCA/IGlzSm9pbnQgOiB2TWl0ZXJMZW5ndGg7XG5cbiAgdmVjMiBvZmZzZXRGcm9tU3RhcnRPZlBhdGggPSB2Q29ybmVyT2Zmc2V0ICsgZGVsdGFBICogZmxvYXQoaXNFbmQpO1xuICB2UGF0aFBvc2l0aW9uID0gdmVjMihcbiAgICBkb3Qob2Zmc2V0RnJvbVN0YXJ0T2ZQYXRoLCBwZXJwKSxcbiAgICBkb3Qob2Zmc2V0RnJvbVN0YXJ0T2ZQYXRoLCBkaXIpXG4gICk7XG4gIGdlb21ldHJ5LnV2ID0gdlBhdGhQb3NpdGlvbjtcblxuICBmbG9hdCBpc1ZhbGlkID0gc3RlcChpbnN0YW5jZVR5cGVzLCAzLjUpO1xuICB2ZWMzIG9mZnNldCA9IHZlYzMob2Zmc2V0VmVjICogd2lkdGggKiBpc1ZhbGlkLCAwLjApO1xuICBERUNLR0xfRklMVEVSX1NJWkUob2Zmc2V0LCBnZW9tZXRyeSk7XG4gIHJldHVybiBjdXJyUG9pbnQgKyBvZmZzZXQ7XG59XG52b2lkIGNsaXBMaW5lKGlub3V0IHZlYzQgcG9zaXRpb24sIHZlYzQgcmVmUG9zaXRpb24pIHtcbiAgaWYgKHBvc2l0aW9uLncgPCBFUFNJTE9OKSB7XG4gICAgZmxvYXQgciA9IChFUFNJTE9OIC0gcmVmUG9zaXRpb24udykgLyAocG9zaXRpb24udyAtIHJlZlBvc2l0aW9uLncpO1xuICAgIHBvc2l0aW9uID0gcmVmUG9zaXRpb24gKyAocG9zaXRpb24gLSByZWZQb3NpdGlvbikgKiByO1xuICB9XG59XG5cbnZvaWQgbWFpbigpIHtcbiAgZ2VvbWV0cnkud29ybGRQb3NpdGlvbiA9IGluc3RhbmNlU3RhcnRQb3NpdGlvbnM7XG4gIGdlb21ldHJ5LndvcmxkUG9zaXRpb25BbHQgPSBpbnN0YW5jZUVuZFBvc2l0aW9ucztcbiAgZ2VvbWV0cnkucGlja2luZ0NvbG9yID0gaW5zdGFuY2VQaWNraW5nQ29sb3JzO1xuXG4gIHZlYzIgd2lkdGhQaXhlbHMgPSB2ZWMyKGNsYW1wKHByb2plY3Rfc2l6ZV90b19waXhlbChpbnN0YW5jZVN0cm9rZVdpZHRocyAqIHdpZHRoU2NhbGUpLFxuICAgIHdpZHRoTWluUGl4ZWxzLCB3aWR0aE1heFBpeGVscykgLyAyLjApO1xuXG4gIHZDb2xvciA9IHZlYzQoaW5zdGFuY2VDb2xvcnMucmdiLCBpbnN0YW5jZUNvbG9ycy5hICogb3BhY2l0eSk7XG5cbiAgZmxvYXQgaXNFbmQgPSBwb3NpdGlvbnMueDtcblxuICB2ZWMzIHByZXZQb3NpdGlvbiA9IG1peChpbnN0YW5jZUxlZnRQb3NpdGlvbnMsIGluc3RhbmNlU3RhcnRQb3NpdGlvbnMsIGlzRW5kKTtcbiAgdmVjMyBwcmV2UG9zaXRpb242NExvdyA9IG1peChpbnN0YW5jZUxlZnRQb3NpdGlvbnM2NExvdywgaW5zdGFuY2VTdGFydFBvc2l0aW9uczY0TG93LCBpc0VuZCk7XG5cbiAgdmVjMyBjdXJyUG9zaXRpb24gPSBtaXgoaW5zdGFuY2VTdGFydFBvc2l0aW9ucywgaW5zdGFuY2VFbmRQb3NpdGlvbnMsIGlzRW5kKTtcbiAgdmVjMyBjdXJyUG9zaXRpb242NExvdyA9IG1peChpbnN0YW5jZVN0YXJ0UG9zaXRpb25zNjRMb3csIGluc3RhbmNlRW5kUG9zaXRpb25zNjRMb3csIGlzRW5kKTtcblxuICB2ZWMzIG5leHRQb3NpdGlvbiA9IG1peChpbnN0YW5jZUVuZFBvc2l0aW9ucywgaW5zdGFuY2VSaWdodFBvc2l0aW9ucywgaXNFbmQpO1xuICB2ZWMzIG5leHRQb3NpdGlvbjY0TG93ID0gbWl4KGluc3RhbmNlRW5kUG9zaXRpb25zNjRMb3csIGluc3RhbmNlUmlnaHRQb3NpdGlvbnM2NExvdywgaXNFbmQpO1xuXG4gIGlmIChiaWxsYm9hcmQpIHtcbiAgICB2ZWM0IHByZXZQb3NpdGlvblNjcmVlbiA9IHByb2plY3RfcG9zaXRpb25fdG9fY2xpcHNwYWNlKHByZXZQb3NpdGlvbiwgcHJldlBvc2l0aW9uNjRMb3csIFpFUk9fT0ZGU0VUKTtcbiAgICB2ZWM0IGN1cnJQb3NpdGlvblNjcmVlbiA9IHByb2plY3RfcG9zaXRpb25fdG9fY2xpcHNwYWNlKGN1cnJQb3NpdGlvbiwgY3VyclBvc2l0aW9uNjRMb3csIFpFUk9fT0ZGU0VULCBnZW9tZXRyeS5wb3NpdGlvbik7XG4gICAgdmVjNCBuZXh0UG9zaXRpb25TY3JlZW4gPSBwcm9qZWN0X3Bvc2l0aW9uX3RvX2NsaXBzcGFjZShuZXh0UG9zaXRpb24sIG5leHRQb3NpdGlvbjY0TG93LCBaRVJPX09GRlNFVCk7XG5cbiAgICBjbGlwTGluZShwcmV2UG9zaXRpb25TY3JlZW4sIGN1cnJQb3NpdGlvblNjcmVlbik7XG4gICAgY2xpcExpbmUobmV4dFBvc2l0aW9uU2NyZWVuLCBjdXJyUG9zaXRpb25TY3JlZW4pO1xuICAgIGNsaXBMaW5lKGN1cnJQb3NpdGlvblNjcmVlbiwgbWl4KG5leHRQb3NpdGlvblNjcmVlbiwgcHJldlBvc2l0aW9uU2NyZWVuLCBpc0VuZCkpO1xuXG4gICAgdmVjMiB3aWR0aCA9IHByb2plY3RfcGl4ZWxfc2l6ZV90b19jbGlwc3BhY2Uod2lkdGhQaXhlbHMpO1xuXG4gICAgdmVjMyBwb3MgPSBsaW5lSm9pbihcbiAgICAgIHByZXZQb3NpdGlvblNjcmVlbi54eXogLyBwcmV2UG9zaXRpb25TY3JlZW4udyxcbiAgICAgIGN1cnJQb3NpdGlvblNjcmVlbi54eXogLyBjdXJyUG9zaXRpb25TY3JlZW4udyxcbiAgICAgIG5leHRQb3NpdGlvblNjcmVlbi54eXogLyBuZXh0UG9zaXRpb25TY3JlZW4udyxcbiAgICAgIHdpZHRoXG4gICAgKTtcblxuICAgIGdsX1Bvc2l0aW9uID0gdmVjNChwb3MgKiBjdXJyUG9zaXRpb25TY3JlZW4udywgY3VyclBvc2l0aW9uU2NyZWVuLncpO1xuICB9IGVsc2Uge1xuICAgIHByZXZQb3NpdGlvbiA9IHByb2plY3RfcG9zaXRpb24ocHJldlBvc2l0aW9uLCBwcmV2UG9zaXRpb242NExvdyk7XG4gICAgY3VyclBvc2l0aW9uID0gcHJvamVjdF9wb3NpdGlvbihjdXJyUG9zaXRpb24sIGN1cnJQb3NpdGlvbjY0TG93KTtcbiAgICBuZXh0UG9zaXRpb24gPSBwcm9qZWN0X3Bvc2l0aW9uKG5leHRQb3NpdGlvbiwgbmV4dFBvc2l0aW9uNjRMb3cpO1xuXG4gICAgdmVjMiB3aWR0aCA9IHByb2plY3RfcGl4ZWxfc2l6ZSh3aWR0aFBpeGVscyk7XG5cbiAgICB2ZWM0IHBvcyA9IHZlYzQoXG4gICAgICBsaW5lSm9pbihwcmV2UG9zaXRpb24sIGN1cnJQb3NpdGlvbiwgbmV4dFBvc2l0aW9uLCB3aWR0aCksXG4gICAgICAxLjApO1xuICAgIGdlb21ldHJ5LnBvc2l0aW9uID0gcG9zO1xuICAgIGdsX1Bvc2l0aW9uID0gcHJvamVjdF9jb21tb25fcG9zaXRpb25fdG9fY2xpcHNwYWNlKHBvcyk7XG4gIH1cbiAgREVDS0dMX0ZJTFRFUl9HTF9QT1NJVElPTihnbF9Qb3NpdGlvbiwgZ2VvbWV0cnkpO1xuICBERUNLR0xfRklMVEVSX0NPTE9SKHZDb2xvciwgZ2VvbWV0cnkpO1xufVxuIixmczoiI2RlZmluZSBTSEFERVJfTkFNRSBwYXRoLWxheWVyLWZyYWdtZW50LXNoYWRlclxuXG5wcmVjaXNpb24gaGlnaHAgZmxvYXQ7XG5cbnVuaWZvcm0gZmxvYXQgam9pbnRUeXBlO1xudW5pZm9ybSBmbG9hdCBtaXRlckxpbWl0O1xuXG52YXJ5aW5nIHZlYzQgdkNvbG9yO1xudmFyeWluZyB2ZWMyIHZDb3JuZXJPZmZzZXQ7XG52YXJ5aW5nIGZsb2F0IHZNaXRlckxlbmd0aDtcbnZhcnlpbmcgdmVjMiB2UGF0aFBvc2l0aW9uO1xudmFyeWluZyBmbG9hdCB2UGF0aExlbmd0aDtcblxudm9pZCBtYWluKHZvaWQpIHtcbiAgZ2VvbWV0cnkudXYgPSB2UGF0aFBvc2l0aW9uO1xuXG4gIGlmICh2UGF0aFBvc2l0aW9uLnkgPCAwLjAgfHwgdlBhdGhQb3NpdGlvbi55ID4gdlBhdGhMZW5ndGgpIHtcbiAgICBpZiAoam9pbnRUeXBlID4gMC4wICYmIGxlbmd0aCh2Q29ybmVyT2Zmc2V0KSA+IDEuMCkge1xuICAgICAgZGlzY2FyZDtcbiAgICB9XG4gICAgaWYgKGpvaW50VHlwZSA9PSAwLjAgJiYgdk1pdGVyTGVuZ3RoID4gbWl0ZXJMaW1pdCArIDEuMCkge1xuICAgICAgZGlzY2FyZDtcbiAgICB9XG4gIH1cbiAgZ2xfRnJhZ0NvbG9yID0gdkNvbG9yO1xuXG4gIERFQ0tHTF9GSUxURVJfQ09MT1IoZ2xfRnJhZ0NvbG9yLCBnZW9tZXRyeSk7XG59XG4iLG1vZHVsZXM6W3AuYSxnLmFdfSl9fSx7a2V5OiJpbml0aWFsaXplU3RhdGUiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpczt0aGlzLmdldEF0dHJpYnV0ZU1hbmFnZXIoKS5hZGRJbnN0YW5jZWQoe3Bvc2l0aW9uczp7c2l6ZTozLHZlcnRleE9mZnNldDoxLHR5cGU6NTEzMCxmcDY0OnRoaXMudXNlNjRiaXRQb3NpdGlvbnMoKSx0cmFuc2l0aW9uOlQsYWNjZXNzb3I6ImdldFBhdGgiLHVwZGF0ZTp0aGlzLmNhbGN1bGF0ZVBvc2l0aW9ucyxub0FsbG9jOiEwLHNoYWRlckF0dHJpYnV0ZXM6e2luc3RhbmNlTGVmdFBvc2l0aW9uczp7dmVydGV4T2Zmc2V0OjB9LGluc3RhbmNlU3RhcnRQb3NpdGlvbnM6e3ZlcnRleE9mZnNldDoxfSxpbnN0YW5jZUVuZFBvc2l0aW9uczp7dmVydGV4T2Zmc2V0OjJ9LGluc3RhbmNlUmlnaHRQb3NpdGlvbnM6e3ZlcnRleE9mZnNldDozfX19LGluc3RhbmNlVHlwZXM6e3NpemU6MSx0eXBlOjUxMjEsdXBkYXRlOnRoaXMuY2FsY3VsYXRlU2VnbWVudFR5cGVzLG5vQWxsb2M6ITB9LGluc3RhbmNlU3Ryb2tlV2lkdGhzOntzaXplOjEsYWNjZXNzb3I6ImdldFdpZHRoIix0cmFuc2l0aW9uOlQsZGVmYXVsdFZhbHVlOjF9LGluc3RhbmNlQ29sb3JzOntzaXplOnRoaXMucHJvcHMuY29sb3JGb3JtYXQubGVuZ3RoLHR5cGU6NTEyMSxub3JtYWxpemVkOiEwLGFjY2Vzc29yOiJnZXRDb2xvciIsdHJhbnNpdGlvbjpULGRlZmF1bHRWYWx1ZTpQfSxpbnN0YW5jZVBpY2tpbmdDb2xvcnM6e3NpemU6Myx0eXBlOjUxMjEsYWNjZXNzb3I6ZnVuY3Rpb24oZSxuKXt2YXIgcj1uLmluZGV4LGk9bi50YXJnZXQ7cmV0dXJuIHQuZW5jb2RlUGlja2luZ0NvbG9yKGUmJmUuX19zb3VyY2U/ZS5fX3NvdXJjZS5pbmRleDpyLGkpfX19KSx0aGlzLnNldFN0YXRlKHtwYXRoVGVzc2VsYXRvcjpuZXcgUyh7ZnA2NDp0aGlzLnVzZTY0Yml0UG9zaXRpb25zKCl9KX0pLHRoaXMucHJvcHMuZ2V0RGFzaEFycmF5JiYhdGhpcy5wcm9wcy5leHRlbnNpb25zLmxlbmd0aCYmeS5hLnJlbW92ZWQoImdldERhc2hBcnJheSIsIlBhdGhTdHlsZUV4dGVuc2lvbiIpKCl9fSx7a2V5OiJ1cGRhdGVTdGF0ZSIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIG49dC5vbGRQcm9wcyxyPXQucHJvcHMsaT10LmNoYW5nZUZsYWdzO2YoKShsKCkoZS5wcm90b3R5cGUpLCJ1cGRhdGVTdGF0ZSIsdGhpcykuY2FsbCh0aGlzLHtwcm9wczpyLG9sZFByb3BzOm4sY2hhbmdlRmxhZ3M6aX0pO3ZhciBhPXRoaXMuZ2V0QXR0cmlidXRlTWFuYWdlcigpO2lmKGkuZGF0YUNoYW5nZWR8fGkudXBkYXRlVHJpZ2dlcnNDaGFuZ2VkJiYoaS51cGRhdGVUcmlnZ2Vyc0NoYW5nZWQuYWxsfHxpLnVwZGF0ZVRyaWdnZXJzQ2hhbmdlZC5nZXRQYXRoKSl7dmFyIG89dGhpcy5zdGF0ZS5wYXRoVGVzc2VsYXRvcixzPXIuZGF0YS5hdHRyaWJ1dGVzfHx7fTtvLnVwZGF0ZUdlb21ldHJ5KHtkYXRhOnIuZGF0YSxnZW9tZXRyeUJ1ZmZlcjpzLmdldFBhdGgsYnVmZmVyczpzLG5vcm1hbGl6ZTohci5fcGF0aFR5cGUsbG9vcDoibG9vcCI9PT1yLl9wYXRoVHlwZSxnZXRHZW9tZXRyeTpyLmdldFBhdGgscG9zaXRpb25Gb3JtYXQ6ci5wb3NpdGlvbkZvcm1hdCxkYXRhQ2hhbmdlZDppLmRhdGFDaGFuZ2VkfSksdGhpcy5zZXRTdGF0ZSh7bnVtSW5zdGFuY2VzOm8uaW5zdGFuY2VDb3VudCxzdGFydEluZGljZXM6by52ZXJ0ZXhTdGFydHN9KSxpLmRhdGFDaGFuZ2VkfHxhLmludmFsaWRhdGVBbGwoKX1pZihpLmV4dGVuc2lvbnNDaGFuZ2VkKXt2YXIgdT10aGlzLmNvbnRleHQuZ2w7dGhpcy5zdGF0ZS5tb2RlbCYmdGhpcy5zdGF0ZS5tb2RlbC5kZWxldGUoKSx0aGlzLnNldFN0YXRlKHttb2RlbDp0aGlzLl9nZXRNb2RlbCh1KX0pLGEuaW52YWxpZGF0ZUFsbCgpfX19LHtrZXk6ImdldFBpY2tpbmdJbmZvIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgbj1mKCkobCgpKGUucHJvdG90eXBlKSwiZ2V0UGlja2luZ0luZm8iLHRoaXMpLmNhbGwodGhpcyx0KSxyPW4uaW5kZXgsaT10aGlzLnByb3BzLmRhdGE7cmV0dXJuIGlbMF0mJmlbMF0uX19zb3VyY2UmJihuLm9iamVjdD1pLmZpbmQoKGZ1bmN0aW9uKHQpe3JldHVybiB0Ll9fc291cmNlLmluZGV4PT09cn0pKSksbn19LHtrZXk6ImRyYXciLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXQudW5pZm9ybXMsbj10aGlzLmNvbnRleHQudmlld3BvcnQscj10aGlzLnByb3BzLGk9ci5yb3VuZGVkLGE9ci5iaWxsYm9hcmQsbz1yLm1pdGVyTGltaXQscz1yLndpZHRoVW5pdHMsdT1yLndpZHRoU2NhbGUsYz1yLndpZHRoTWluUGl4ZWxzLGw9ci53aWR0aE1heFBpeGVscyxoPSJwaXhlbHMiPT09cz9uLm1ldGVyc1BlclBpeGVsOjE7dGhpcy5zdGF0ZS5tb2RlbC5zZXRVbmlmb3JtcyhPYmplY3QuYXNzaWduKHt9LGUse2pvaW50VHlwZTpOdW1iZXIoaSksYmlsbGJvYXJkOmEsd2lkdGhTY2FsZTp1KmgsbWl0ZXJMaW1pdDpvLHdpZHRoTWluUGl4ZWxzOmMsd2lkdGhNYXhQaXhlbHM6bH0pKS5kcmF3KCl9fSx7a2V5OiJfZ2V0TW9kZWwiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiBuZXcgYi5hKHQsT2JqZWN0LmFzc2lnbih7fSx0aGlzLmdldFNoYWRlcnMoKSx7aWQ6dGhpcy5wcm9wcy5pZCxnZW9tZXRyeTpuZXcgXy5hKHtkcmF3TW9kZTo0LGF0dHJpYnV0ZXM6e2luZGljZXM6bmV3IFVpbnQxNkFycmF5KFswLDIsMSwxLDIsNCwxLDQsMywzLDQsNV0pLHBvc2l0aW9uczp7dmFsdWU6bmV3IEZsb2F0MzJBcnJheShbMCwwLDAsLTEsMCwxLDEsLTEsMSwxLDEsMF0pLHNpemU6Mn19fSksaXNJbnN0YW5jZWQ6ITB9KSl9fSx7a2V5OiJjYWxjdWxhdGVQb3NpdGlvbnMiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuc3RhdGUucGF0aFRlc3NlbGF0b3I7dC5zdGFydEluZGljZXM9ZS52ZXJ0ZXhTdGFydHMsdC52YWx1ZT1lLmdldCgicG9zaXRpb25zIil9fSx7a2V5OiJjYWxjdWxhdGVTZWdtZW50VHlwZXMiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuc3RhdGUucGF0aFRlc3NlbGF0b3I7dC5zdGFydEluZGljZXM9ZS52ZXJ0ZXhTdGFydHMsdC52YWx1ZT1lLmdldCgic2VnbWVudFR5cGVzIil9fV0pLGV9KG0uYSk7RS5sYXllck5hbWU9IlBhdGhMYXllciIsRS5kZWZhdWx0UHJvcHM9an0sZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj17bmFtZToiZnAzMiIsdnM6IiNpZmRlZiBMVU1BX0ZQMzJfVEFOX1BSRUNJU0lPTl9XT1JLQVJPVU5EXG5jb25zdCBmbG9hdCBUV09fUEkgPSA2LjI4MzE4NTQ4MjAyNTE0NjU7XG5jb25zdCBmbG9hdCBQSV8yID0gMS41NzA3OTYzNzA1MDYyODY2O1xuY29uc3QgZmxvYXQgUElfMTYgPSAwLjE5NjM0OTU0NjMxMzI4NTg7XG5cbmNvbnN0IGZsb2F0IFNJTl9UQUJMRV8wID0gMC4xOTUwOTAzMjM2ODY1OTk3MztcbmNvbnN0IGZsb2F0IFNJTl9UQUJMRV8xID0gMC4zODI2ODM0MjYxNDE3Mzg5O1xuY29uc3QgZmxvYXQgU0lOX1RBQkxFXzIgPSAwLjU1NTU3MDI0NDc4OTEyMzU7XG5jb25zdCBmbG9hdCBTSU5fVEFCTEVfMyA9IDAuNzA3MTA2NzY5MDg0OTMwNDtcblxuY29uc3QgZmxvYXQgQ09TX1RBQkxFXzAgPSAwLjk4MDc4NTI1MDY2Mzc1NzM7XG5jb25zdCBmbG9hdCBDT1NfVEFCTEVfMSA9IDAuOTIzODc5NTA0MjAzNzk2NDtcbmNvbnN0IGZsb2F0IENPU19UQUJMRV8yID0gMC44MzE0Njk1OTU0MzIyODE1O1xuY29uc3QgZmxvYXQgQ09TX1RBQkxFXzMgPSAwLjcwNzEwNjc2OTA4NDkzMDQ7XG5cbmNvbnN0IGZsb2F0IElOVkVSU0VfRkFDVE9SSUFMXzMgPSAxLjY2NjY2NjcxNjMzNzIwNGUtMDE7XG5jb25zdCBmbG9hdCBJTlZFUlNFX0ZBQ1RPUklBTF81ID0gOC4zMzMzMzM3Njc5NTA1MzVlLTAzO1xuY29uc3QgZmxvYXQgSU5WRVJTRV9GQUNUT1JJQUxfNyA9IDEuOTg0MTI3MDExMzgyOTUyM2UtMDQ7XG5jb25zdCBmbG9hdCBJTlZFUlNFX0ZBQ1RPUklBTF85ID0gMi43NTU3MzE4ODQ0NjI4NzUzM2UtMDY7XG5cbmZsb2F0IHNpbl90YXlsb3JfZnAzMihmbG9hdCBhKSB7XG4gIGZsb2F0IHIsIHMsIHQsIHg7XG5cbiAgaWYgKGEgPT0gMC4wKSB7XG4gICAgcmV0dXJuIDAuMDtcbiAgfVxuXG4gIHggPSAtYSAqIGE7XG4gIHMgPSBhO1xuICByID0gYTtcblxuICByID0gciAqIHg7XG4gIHQgPSByICogSU5WRVJTRV9GQUNUT1JJQUxfMztcbiAgcyA9IHMgKyB0O1xuXG4gIHIgPSByICogeDtcbiAgdCA9IHIgKiBJTlZFUlNFX0ZBQ1RPUklBTF81O1xuICBzID0gcyArIHQ7XG5cbiAgciA9IHIgKiB4O1xuICB0ID0gciAqIElOVkVSU0VfRkFDVE9SSUFMXzc7XG4gIHMgPSBzICsgdDtcblxuICByID0gciAqIHg7XG4gIHQgPSByICogSU5WRVJTRV9GQUNUT1JJQUxfOTtcbiAgcyA9IHMgKyB0O1xuXG4gIHJldHVybiBzO1xufVxuXG52b2lkIHNpbmNvc190YXlsb3JfZnAzMihmbG9hdCBhLCBvdXQgZmxvYXQgc2luX3QsIG91dCBmbG9hdCBjb3NfdCkge1xuICBpZiAoYSA9PSAwLjApIHtcbiAgICBzaW5fdCA9IDAuMDtcbiAgICBjb3NfdCA9IDEuMDtcbiAgfVxuICBzaW5fdCA9IHNpbl90YXlsb3JfZnAzMihhKTtcbiAgY29zX3QgPSBzcXJ0KDEuMCAtIHNpbl90ICogc2luX3QpO1xufVxuXG5mbG9hdCB0YW5fdGF5bG9yX2ZwMzIoZmxvYXQgYSkge1xuICAgIGZsb2F0IHNpbl9hO1xuICAgIGZsb2F0IGNvc19hO1xuXG4gICAgaWYgKGEgPT0gMC4wKSB7XG4gICAgICAgIHJldHVybiAwLjA7XG4gICAgfVxuICAgIGZsb2F0IHogPSBmbG9vcihhIC8gVFdPX1BJKTtcbiAgICBmbG9hdCByID0gYSAtIFRXT19QSSAqIHo7XG5cbiAgICBmbG9hdCB0O1xuICAgIGZsb2F0IHEgPSBmbG9vcihyIC8gUElfMiArIDAuNSk7XG4gICAgaW50IGogPSBpbnQocSk7XG5cbiAgICBpZiAoaiA8IC0yIHx8IGogPiAyKSB7XG4gICAgICAgIHJldHVybiAwLjAgLyAwLjA7XG4gICAgfVxuXG4gICAgdCA9IHIgLSBQSV8yICogcTtcblxuICAgIHEgPSBmbG9vcih0IC8gUElfMTYgKyAwLjUpO1xuICAgIGludCBrID0gaW50KHEpO1xuICAgIGludCBhYnNfayA9IGludChhYnMoZmxvYXQoaykpKTtcblxuICAgIGlmIChhYnNfayA+IDQpIHtcbiAgICAgICAgcmV0dXJuIDAuMCAvIDAuMDtcbiAgICB9IGVsc2Uge1xuICAgICAgICB0ID0gdCAtIFBJXzE2ICogcTtcbiAgICB9XG5cbiAgICBmbG9hdCB1ID0gMC4wO1xuICAgIGZsb2F0IHYgPSAwLjA7XG5cbiAgICBmbG9hdCBzaW5fdCwgY29zX3Q7XG4gICAgZmxvYXQgcywgYztcbiAgICBzaW5jb3NfdGF5bG9yX2ZwMzIodCwgc2luX3QsIGNvc190KTtcblxuICAgIGlmIChrID09IDApIHtcbiAgICAgICAgcyA9IHNpbl90O1xuICAgICAgICBjID0gY29zX3Q7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKGFicyhmbG9hdChhYnNfaykgLSAxLjApIDwgMC41KSB7XG4gICAgICAgICAgICB1ID0gQ09TX1RBQkxFXzA7XG4gICAgICAgICAgICB2ID0gU0lOX1RBQkxFXzA7XG4gICAgICAgIH0gZWxzZSBpZiAoYWJzKGZsb2F0KGFic19rKSAtIDIuMCkgPCAwLjUpIHtcbiAgICAgICAgICAgIHUgPSBDT1NfVEFCTEVfMTtcbiAgICAgICAgICAgIHYgPSBTSU5fVEFCTEVfMTtcbiAgICAgICAgfSBlbHNlIGlmIChhYnMoZmxvYXQoYWJzX2spIC0gMy4wKSA8IDAuNSkge1xuICAgICAgICAgICAgdSA9IENPU19UQUJMRV8yO1xuICAgICAgICAgICAgdiA9IFNJTl9UQUJMRV8yO1xuICAgICAgICB9IGVsc2UgaWYgKGFicyhmbG9hdChhYnNfaykgLSA0LjApIDwgMC41KSB7XG4gICAgICAgICAgICB1ID0gQ09TX1RBQkxFXzM7XG4gICAgICAgICAgICB2ID0gU0lOX1RBQkxFXzM7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGsgPiAwKSB7XG4gICAgICAgICAgICBzID0gdSAqIHNpbl90ICsgdiAqIGNvc190O1xuICAgICAgICAgICAgYyA9IHUgKiBjb3NfdCAtIHYgKiBzaW5fdDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHMgPSB1ICogc2luX3QgLSB2ICogY29zX3Q7XG4gICAgICAgICAgICBjID0gdSAqIGNvc190ICsgdiAqIHNpbl90O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGogPT0gMCkge1xuICAgICAgICBzaW5fYSA9IHM7XG4gICAgICAgIGNvc19hID0gYztcbiAgICB9IGVsc2UgaWYgKGogPT0gMSkge1xuICAgICAgICBzaW5fYSA9IGM7XG4gICAgICAgIGNvc19hID0gLXM7XG4gICAgfSBlbHNlIGlmIChqID09IC0xKSB7XG4gICAgICAgIHNpbl9hID0gLWM7XG4gICAgICAgIGNvc19hID0gcztcbiAgICB9IGVsc2Uge1xuICAgICAgICBzaW5fYSA9IC1zO1xuICAgICAgICBjb3NfYSA9IC1jO1xuICAgIH1cbiAgICByZXR1cm4gc2luX2EgLyBjb3NfYTtcbn1cbiNlbmRpZlxuXG5mbG9hdCB0YW5fZnAzMihmbG9hdCBhKSB7XG4jaWZkZWYgTFVNQV9GUDMyX1RBTl9QUkVDSVNJT05fV09SS0FST1VORFxuICByZXR1cm4gdGFuX3RheWxvcl9mcDMyKGEpO1xuI2Vsc2VcbiAgcmV0dXJuIHRhbihhKTtcbiNlbmRpZlxufVxuIixmczpudWxsfSxpPW4oMjIpLGE9T2JqZWN0LmtleXMoaS5hKS5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiJjb25zdCBpbnQgQ09PUkRJTkFURV9TWVNURU1fIi5jb25jYXQodCwiID0gIikuY29uY2F0KGkuYVt0XSwiOyIpfSkpLmpvaW4oIiIpLG89T2JqZWN0LmtleXMoaS5jKS5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiJjb25zdCBpbnQgUFJPSkVDVElPTl9NT0RFXyIuY29uY2F0KHQsIiA9ICIpLmNvbmNhdChpLmNbdF0sIjsiKX0pKS5qb2luKCIiKSxzPSIiLmNvbmNhdChhLCJcbiIpLmNvbmNhdChvLCJcblxudW5pZm9ybSBpbnQgcHJvamVjdF91Q29vcmRpbmF0ZVN5c3RlbTtcbnVuaWZvcm0gaW50IHByb2plY3RfdVByb2plY3Rpb25Nb2RlO1xudW5pZm9ybSBmbG9hdCBwcm9qZWN0X3VTY2FsZTtcbnVuaWZvcm0gYm9vbCBwcm9qZWN0X3VXcmFwTG9uZ2l0dWRlO1xudW5pZm9ybSBmbG9hdCBwcm9qZWN0X3VBbnRpbWVyaWRpYW47XG51bmlmb3JtIHZlYzMgcHJvamVjdF91Q29tbW9uVW5pdHNQZXJNZXRlcjtcbnVuaWZvcm0gdmVjMyBwcm9qZWN0X3VDb21tb25Vbml0c1BlcldvcmxkVW5pdDtcbnVuaWZvcm0gdmVjMyBwcm9qZWN0X3VDb21tb25Vbml0c1BlcldvcmxkVW5pdDI7XG51bmlmb3JtIHZlYzQgcHJvamVjdF91Q2VudGVyO1xudW5pZm9ybSBtYXQ0IHByb2plY3RfdU1vZGVsTWF0cml4O1xudW5pZm9ybSBtYXQ0IHByb2plY3RfdVZpZXdQcm9qZWN0aW9uTWF0cml4O1xudW5pZm9ybSB2ZWMyIHByb2plY3RfdVZpZXdwb3J0U2l6ZTtcbnVuaWZvcm0gZmxvYXQgcHJvamVjdF91RGV2aWNlUGl4ZWxSYXRpbztcbnVuaWZvcm0gZmxvYXQgcHJvamVjdF91Rm9jYWxEaXN0YW5jZTtcbnVuaWZvcm0gdmVjMyBwcm9qZWN0X3VDYW1lcmFQb3NpdGlvbjtcbnVuaWZvcm0gdmVjMyBwcm9qZWN0X3VDb29yZGluYXRlT3JpZ2luO1xuXG5jb25zdCBmbG9hdCBUSUxFX1NJWkUgPSA1MTIuMDtcbmNvbnN0IGZsb2F0IFBJID0gMy4xNDE1OTI2NTM2O1xuY29uc3QgZmxvYXQgV09STERfU0NBTEUgPSBUSUxFX1NJWkUgLyAoUEkgKiAyLjApO1xuY29uc3QgdmVjMyBaRVJPXzY0X0xPVyA9IHZlYzMoMC4wKTtcbmZsb2F0IHByb2plY3Rfc2l6ZShmbG9hdCBtZXRlcnMpIHtcbiAgcmV0dXJuIG1ldGVycyAqIHByb2plY3RfdUNvbW1vblVuaXRzUGVyTWV0ZXIuejtcbn1cblxudmVjMiBwcm9qZWN0X3NpemUodmVjMiBtZXRlcnMpIHtcbiAgcmV0dXJuIG1ldGVycyAqIHByb2plY3RfdUNvbW1vblVuaXRzUGVyTWV0ZXIueHk7XG59XG5cbnZlYzMgcHJvamVjdF9zaXplKHZlYzMgbWV0ZXJzKSB7XG4gIHJldHVybiBtZXRlcnMgKiBwcm9qZWN0X3VDb21tb25Vbml0c1Blck1ldGVyO1xufVxuXG52ZWM0IHByb2plY3Rfc2l6ZSh2ZWM0IG1ldGVycykge1xuICByZXR1cm4gdmVjNChtZXRlcnMueHl6ICogcHJvamVjdF91Q29tbW9uVW5pdHNQZXJNZXRlciwgbWV0ZXJzLncpO1xufVxudmVjMyBwcm9qZWN0X25vcm1hbCh2ZWMzIHZlY3Rvcikge1xuICB2ZWM0IG5vcm1hbF9tb2RlbHNwYWNlID0gcHJvamVjdF91TW9kZWxNYXRyaXggKiB2ZWM0KHZlY3RvciwgMC4wKTtcbiAgcmV0dXJuIG5vcm1hbGl6ZShub3JtYWxfbW9kZWxzcGFjZS54eXogKiBwcm9qZWN0X3VDb21tb25Vbml0c1Blck1ldGVyKTtcbn1cblxudmVjNCBwcm9qZWN0X29mZnNldF8odmVjNCBvZmZzZXQpIHtcbiAgZmxvYXQgZHkgPSBvZmZzZXQueTtcbiAgaWYgKHByb2plY3RfdUNvb3JkaW5hdGVTeXN0ZW0gPT0gQ09PUkRJTkFURV9TWVNURU1fTE5HTEFUKSB7XG4gICAgZHkgPSBjbGFtcChkeSwgLTEuLCAxLik7XG4gIH1cbiAgdmVjMyBjb21tb25Vbml0c1BlcldvcmxkVW5pdCA9IHByb2plY3RfdUNvbW1vblVuaXRzUGVyV29ybGRVbml0ICsgcHJvamVjdF91Q29tbW9uVW5pdHNQZXJXb3JsZFVuaXQyICogZHk7XG4gIHJldHVybiB2ZWM0KG9mZnNldC54eXogKiBjb21tb25Vbml0c1BlcldvcmxkVW5pdCwgb2Zmc2V0LncpO1xufVxudmVjMiBwcm9qZWN0X21lcmNhdG9yXyh2ZWMyIGxuZ2xhdCkge1xuICBmbG9hdCB4ID0gbG5nbGF0Lng7XG4gIGlmIChwcm9qZWN0X3VXcmFwTG9uZ2l0dWRlKSB7XG4gICAgeCA9IG1vZCh4IC0gcHJvamVjdF91QW50aW1lcmlkaWFuLCAzNjAuMCkgKyBwcm9qZWN0X3VBbnRpbWVyaWRpYW47XG4gIH1cbiAgcmV0dXJuIHZlYzIoXG4gICAgcmFkaWFucyh4KSArIFBJLFxuICAgIFBJICsgbG9nKHRhbl9mcDMyKFBJICogMC4yNSArIHJhZGlhbnMobG5nbGF0LnkpICogMC41KSlcbiAgKTtcbn1cbnZlYzQgcHJvamVjdF9wb3NpdGlvbih2ZWM0IHBvc2l0aW9uLCB2ZWMzIHBvc2l0aW9uNjRMb3cpIHtcbiAgdmVjNCBwb3NpdGlvbl93b3JsZCA9IHByb2plY3RfdU1vZGVsTWF0cml4ICogcG9zaXRpb247XG4gIGlmIChwcm9qZWN0X3VQcm9qZWN0aW9uTW9kZSA9PSBQUk9KRUNUSU9OX01PREVfV0VCX01FUkNBVE9SKSB7XG4gICAgaWYgKHByb2plY3RfdUNvb3JkaW5hdGVTeXN0ZW0gPT0gQ09PUkRJTkFURV9TWVNURU1fTE5HTEFUKSB7XG4gICAgICByZXR1cm4gdmVjNChcbiAgICAgICAgcHJvamVjdF9tZXJjYXRvcl8ocG9zaXRpb25fd29ybGQueHkpICogV09STERfU0NBTEUsXG4gICAgICAgIHByb2plY3Rfc2l6ZShwb3NpdGlvbl93b3JsZC56KSxcbiAgICAgICAgcG9zaXRpb25fd29ybGQud1xuICAgICAgKTtcbiAgICB9XG4gIH1cbiAgaWYgKHByb2plY3RfdVByb2plY3Rpb25Nb2RlID09IFBST0pFQ1RJT05fTU9ERV9JREVOVElUWSB8fFxuICAgIChwcm9qZWN0X3VQcm9qZWN0aW9uTW9kZSA9PSBQUk9KRUNUSU9OX01PREVfV0VCX01FUkNBVE9SX0FVVE9fT0ZGU0VUICYmXG4gICAgKHByb2plY3RfdUNvb3JkaW5hdGVTeXN0ZW0gPT0gQ09PUkRJTkFURV9TWVNURU1fTE5HTEFUIHx8XG4gICAgIHByb2plY3RfdUNvb3JkaW5hdGVTeXN0ZW0gPT0gQ09PUkRJTkFURV9TWVNURU1fQ0FSVEVTSUFOKSkpIHtcbiAgICBwb3NpdGlvbl93b3JsZC54eXogLT0gcHJvamVjdF91Q29vcmRpbmF0ZU9yaWdpbjtcbiAgICBwb3NpdGlvbl93b3JsZCArPSBwcm9qZWN0X3VNb2RlbE1hdHJpeCAqIHZlYzQocG9zaXRpb242NExvdywgMC4wKTtcbiAgfVxuXG4gIHJldHVybiBwcm9qZWN0X29mZnNldF8ocG9zaXRpb25fd29ybGQpO1xufVxuXG52ZWM0IHByb2plY3RfcG9zaXRpb24odmVjNCBwb3NpdGlvbikge1xuICByZXR1cm4gcHJvamVjdF9wb3NpdGlvbihwb3NpdGlvbiwgWkVST182NF9MT1cpO1xufVxuXG52ZWMzIHByb2plY3RfcG9zaXRpb24odmVjMyBwb3NpdGlvbiwgdmVjMyBwb3NpdGlvbjY0TG93KSB7XG4gIHZlYzQgcHJvamVjdGVkX3Bvc2l0aW9uID0gcHJvamVjdF9wb3NpdGlvbih2ZWM0KHBvc2l0aW9uLCAxLjApLCBwb3NpdGlvbjY0TG93KTtcbiAgcmV0dXJuIHByb2plY3RlZF9wb3NpdGlvbi54eXo7XG59XG5cbnZlYzMgcHJvamVjdF9wb3NpdGlvbih2ZWMzIHBvc2l0aW9uKSB7XG4gIHZlYzQgcHJvamVjdGVkX3Bvc2l0aW9uID0gcHJvamVjdF9wb3NpdGlvbih2ZWM0KHBvc2l0aW9uLCAxLjApLCBaRVJPXzY0X0xPVyk7XG4gIHJldHVybiBwcm9qZWN0ZWRfcG9zaXRpb24ueHl6O1xufVxuXG52ZWMyIHByb2plY3RfcG9zaXRpb24odmVjMiBwb3NpdGlvbikge1xuICB2ZWM0IHByb2plY3RlZF9wb3NpdGlvbiA9IHByb2plY3RfcG9zaXRpb24odmVjNChwb3NpdGlvbiwgMC4wLCAxLjApLCBaRVJPXzY0X0xPVyk7XG4gIHJldHVybiBwcm9qZWN0ZWRfcG9zaXRpb24ueHk7XG59XG5cbnZlYzQgcHJvamVjdF9jb21tb25fcG9zaXRpb25fdG9fY2xpcHNwYWNlKHZlYzQgcG9zaXRpb24sIG1hdDQgdmlld1Byb2plY3Rpb25NYXRyaXgsIHZlYzQgY2VudGVyKSB7XG4gIHJldHVybiB2aWV3UHJvamVjdGlvbk1hdHJpeCAqIHBvc2l0aW9uICsgY2VudGVyO1xufVxudmVjNCBwcm9qZWN0X2NvbW1vbl9wb3NpdGlvbl90b19jbGlwc3BhY2UodmVjNCBwb3NpdGlvbikge1xuICByZXR1cm4gcHJvamVjdF9jb21tb25fcG9zaXRpb25fdG9fY2xpcHNwYWNlKHBvc2l0aW9uLCBwcm9qZWN0X3VWaWV3UHJvamVjdGlvbk1hdHJpeCwgcHJvamVjdF91Q2VudGVyKTtcbn1cbnZlYzIgcHJvamVjdF9waXhlbF9zaXplX3RvX2NsaXBzcGFjZSh2ZWMyIHBpeGVscykge1xuICB2ZWMyIG9mZnNldCA9IHBpeGVscyAvIHByb2plY3RfdVZpZXdwb3J0U2l6ZSAqIHByb2plY3RfdURldmljZVBpeGVsUmF0aW8gKiAyLjA7XG4gIHJldHVybiBvZmZzZXQgKiBwcm9qZWN0X3VGb2NhbERpc3RhbmNlO1xufVxuXG5mbG9hdCBwcm9qZWN0X3NpemVfdG9fcGl4ZWwoZmxvYXQgbWV0ZXJzKSB7XG4gIHJldHVybiBwcm9qZWN0X3NpemUobWV0ZXJzKSAqIHByb2plY3RfdVNjYWxlO1xufVxuZmxvYXQgcHJvamVjdF9waXhlbF9zaXplKGZsb2F0IHBpeGVscykge1xuICByZXR1cm4gcGl4ZWxzIC8gcHJvamVjdF91U2NhbGU7XG59XG52ZWMyIHByb2plY3RfcGl4ZWxfc2l6ZSh2ZWMyIHBpeGVscykge1xuICByZXR1cm4gcGl4ZWxzIC8gcHJvamVjdF91U2NhbGU7XG59XG4iKSx1PW4oMTI0KSxjPXt9O2UuYT17bmFtZToicHJvamVjdCIsZGVwZW5kZW5jaWVzOltyXSx2czpzLGdldFVuaWZvcm1zOmZ1bmN0aW9uKCl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOmM7cmV0dXJuIHQudmlld3BvcnQ/T2JqZWN0KHUuYikodCk6e319fX0sZnVuY3Rpb24odCxlKXtmdW5jdGlvbiBuKHQsZSxuLHIsaSxhLG8pe3RyeXt2YXIgcz10W2FdKG8pLHU9cy52YWx1ZX1jYXRjaCh0KXtyZXR1cm4gdm9pZCBuKHQpfXMuZG9uZT9lKHUpOlByb21pc2UucmVzb2x2ZSh1KS50aGVuKHIsaSl9dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbigpe3ZhciBlPXRoaXMscj1hcmd1bWVudHM7cmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbihpLGEpe3ZhciBvPXQuYXBwbHkoZSxyKTtmdW5jdGlvbiBzKHQpe24obyxpLGEscyx1LCJuZXh0Iix0KX1mdW5jdGlvbiB1KHQpe24obyxpLGEscyx1LCJ0aHJvdyIsdCl9cyh2b2lkIDApfSkpfX19LGZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gcih0KXt2YXIgZTtpZigidW5kZWZpbmVkIiE9dHlwZW9mIFN5bWJvbCl7aWYoU3ltYm9sLmFzeW5jSXRlcmF0b3ImJm51bGwhPShlPXRbU3ltYm9sLmFzeW5jSXRlcmF0b3JdKSlyZXR1cm4gZS5jYWxsKHQpO2lmKFN5bWJvbC5pdGVyYXRvciYmbnVsbCE9KGU9dFtTeW1ib2wuaXRlcmF0b3JdKSlyZXR1cm4gZS5jYWxsKHQpfXRocm93IG5ldyBUeXBlRXJyb3IoIk9iamVjdCBpcyBub3QgYXN5bmMgaXRlcmFibGUiKX1uLmQoZSwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIHJ9KSl9LGZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dmFyIHIsaT1uKDYpLGE9bigxNyksbz1uKDE1KSxzPW4oNDcpLHU9big3KSxjPW4oMTgpLGw9big1MiksaD1uKDApLGY9IkVYVF9jb2xvcl9idWZmZXJfZmxvYXQiLGQ9KHI9e30sT2JqZWN0KGguYSkociwzMzE4OSx7YnBwOjJ9KSxPYmplY3QoaC5hKShyLDMzMTkwLHtnbDI6ITAsYnBwOjN9KSxPYmplY3QoaC5hKShyLDM2MDEyLHtnbDI6ITAsYnBwOjR9KSxPYmplY3QoaC5hKShyLDM2MTY4LHticHA6MX0pLE9iamVjdChoLmEpKHIsMzQwNDEse2JwcDo0fSksT2JqZWN0KGguYSkociwzNTA1Nix7Z2wyOiEwLGJwcDo0fSksT2JqZWN0KGguYSkociwzNjAxMyx7Z2wyOiEwLGJwcDo1fSksT2JqZWN0KGguYSkociwzMjg1NCx7YnBwOjJ9KSxPYmplY3QoaC5hKShyLDM2MTk0LHticHA6Mn0pLE9iamVjdChoLmEpKHIsMzI4NTUse2JwcDoyfSksT2JqZWN0KGguYSkociwzMzMyMSx7Z2wyOiEwLGJwcDoxfSksT2JqZWN0KGguYSkociwzMzMzMCx7Z2wyOiEwLGJwcDoxfSksT2JqZWN0KGguYSkociwzMzMyOSx7Z2wyOiEwLGJwcDoxfSksT2JqZWN0KGguYSkociwzMzMzMix7Z2wyOiEwLGJwcDoyfSksT2JqZWN0KGguYSkociwzMzMzMSx7Z2wyOiEwLGJwcDoyfSksT2JqZWN0KGguYSkociwzMzMzNCx7Z2wyOiEwLGJwcDo0fSksT2JqZWN0KGguYSkociwzMzMzMyx7Z2wyOiEwLGJwcDo0fSksT2JqZWN0KGguYSkociwzMzMyMyx7Z2wyOiEwLGJwcDoyfSksT2JqZWN0KGguYSkociwzMzMzNix7Z2wyOiEwLGJwcDoyfSksT2JqZWN0KGguYSkociwzMzMzNSx7Z2wyOiEwLGJwcDoyfSksT2JqZWN0KGguYSkociwzMzMzOCx7Z2wyOiEwLGJwcDo0fSksT2JqZWN0KGguYSkociwzMzMzNyx7Z2wyOiEwLGJwcDo0fSksT2JqZWN0KGguYSkociwzMzM0MCx7Z2wyOiEwLGJwcDo4fSksT2JqZWN0KGguYSkociwzMzMzOSx7Z2wyOiEwLGJwcDo4fSksT2JqZWN0KGguYSkociwzMjg0OSx7Z2wyOiEwLGJwcDozfSksT2JqZWN0KGguYSkociwzMjg1Nix7Z2wyOiEwLGJwcDo0fSksT2JqZWN0KGguYSkociwzMjg1Nyx7Z2wyOiEwLGJwcDo0fSksT2JqZWN0KGguYSkociwzNjIyMCx7Z2wyOiEwLGJwcDo0fSksT2JqZWN0KGguYSkociwzNjIzOCx7Z2wyOiEwLGJwcDo0fSksT2JqZWN0KGguYSkociwzNjk3NSx7Z2wyOiEwLGJwcDo0fSksT2JqZWN0KGguYSkociwzNjIxNCx7Z2wyOiEwLGJwcDo4fSksT2JqZWN0KGguYSkociwzNjIzMix7Z2wyOiEwLGJwcDo4fSksT2JqZWN0KGguYSkociwzNjIyNix7Z2wyOiEwLGJwcDoxNn0pLE9iamVjdChoLmEpKHIsMzYyMDgse2dsMjohMCxicHA6MTZ9KSxPYmplY3QoaC5hKShyLDMzMzI1LHtnbDI6ZixicHA6Mn0pLE9iamVjdChoLmEpKHIsMzMzMjcse2dsMjpmLGJwcDo0fSksT2JqZWN0KGguYSkociwzNDg0Mix7Z2wyOmYsYnBwOjh9KSxPYmplY3QoaC5hKShyLDMzMzI2LHtnbDI6ZixicHA6NH0pLE9iamVjdChoLmEpKHIsMzMzMjgse2dsMjpmLGJwcDo4fSksT2JqZWN0KGguYSkociwzNDgzNix7Z2wyOmYsYnBwOjE2fSksT2JqZWN0KGguYSkociwzNTg5OCx7Z2wyOmYsYnBwOjR9KSxyKSx2PW4oMTEpLHA9bigyOCk7ZnVuY3Rpb24gZyh0LGUsbil7dmFyIHI9bltlXTtpZighcilyZXR1cm4hMTt2YXIgaT1PYmplY3Qodi5nKSh0KSYmci5nbDJ8fHIuZ2wxO3JldHVybiJzdHJpbmciPT10eXBlb2YgaT90LmdldEV4dGVuc2lvbihpKTppfW4uZChlLCJhIiwoZnVuY3Rpb24oKXtyZXR1cm4geX0pKTt2YXIgeT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKHQpe3ZhciBuLHI9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOnt9O3JldHVybiBPYmplY3QoaS5hKSh0aGlzLGUpLChuPU9iamVjdChhLmEpKHRoaXMsT2JqZWN0KG8uYSkoZSkuY2FsbCh0aGlzLHQscikpKS5pbml0aWFsaXplKHIpLE9iamVjdC5zZWFsKE9iamVjdChzLmEpKG4pKSxufXJldHVybiBPYmplY3QoYy5hKShlLHQpLE9iamVjdCh1LmEpKGUsbnVsbCxbe2tleToiaXNTdXBwb3J0ZWQiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp7fSxuPWUuZm9ybWF0O3JldHVybiFufHxnKHQsbixkKX19LHtrZXk6ImdldFNhbXBsZXNGb3JGb3JtYXQiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dmFyIG49ZS5mb3JtYXQ7cmV0dXJuIHQuZ2V0SW50ZXJuYWxmb3JtYXRQYXJhbWV0ZXIoMzYxNjEsbiwzMjkzNyl9fV0pLE9iamVjdCh1LmEpKGUsW3trZXk6ImluaXRpYWxpemUiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXQuZm9ybWF0LG49dC53aWR0aCxyPXZvaWQgMD09PW4/MTpuLGk9dC5oZWlnaHQsYT12b2lkIDA9PT1pPzE6aSxvPXQuc2FtcGxlcyxzPXZvaWQgMD09PW8/MDpvO3JldHVybiBPYmplY3QocC5hKShlLCJOZWVkcyBmb3JtYXQiKSx0aGlzLl90cmFja0RlYWxsb2NhdGVkTWVtb3J5KCksdGhpcy5nbC5iaW5kUmVuZGVyYnVmZmVyKDM2MTYxLHRoaXMuaGFuZGxlKSwwIT09cyYmT2JqZWN0KHYuZykodGhpcy5nbCk/dGhpcy5nbC5yZW5kZXJidWZmZXJTdG9yYWdlTXVsdGlzYW1wbGUoMzYxNjEscyxlLHIsYSk6dGhpcy5nbC5yZW5kZXJidWZmZXJTdG9yYWdlKDM2MTYxLGUscixhKSx0aGlzLmZvcm1hdD1lLHRoaXMud2lkdGg9cix0aGlzLmhlaWdodD1hLHRoaXMuc2FtcGxlcz1zLHRoaXMuX3RyYWNrQWxsb2NhdGVkTWVtb3J5KHRoaXMud2lkdGgqdGhpcy5oZWlnaHQqKHRoaXMuc2FtcGxlc3x8MSkqZFt0aGlzLmZvcm1hdF0uYnBwKSx0aGlzfX0se2tleToicmVzaXplIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10LndpZHRoLG49dC5oZWlnaHQ7cmV0dXJuIGUhPT10aGlzLndpZHRofHxuIT09dGhpcy5oZWlnaHQ/dGhpcy5pbml0aWFsaXplKHt3aWR0aDplLGhlaWdodDpuLGZvcm1hdDp0aGlzLmZvcm1hdCxzYW1wbGVzOnRoaXMuc2FtcGxlc30pOnRoaXN9fSx7a2V5OiJfY3JlYXRlSGFuZGxlIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmdsLmNyZWF0ZVJlbmRlcmJ1ZmZlcigpfX0se2tleToiX2RlbGV0ZUhhbmRsZSIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLmdsLmRlbGV0ZVJlbmRlcmJ1ZmZlcih0aGlzLmhhbmRsZSksdGhpcy5fdHJhY2tEZWFsbG9jYXRlZE1lbW9yeSgpfX0se2tleToiX2JpbmRIYW5kbGUiLHZhbHVlOmZ1bmN0aW9uKHQpe3RoaXMuZ2wuYmluZFJlbmRlcmJ1ZmZlcigzNjE2MSx0KX19LHtrZXk6Il9zeW5jSGFuZGxlIix2YWx1ZTpmdW5jdGlvbih0KXt0aGlzLmZvcm1hdD10aGlzLmdldFBhcmFtZXRlcigzNjE2NCksdGhpcy53aWR0aD10aGlzLmdldFBhcmFtZXRlcigzNjE2MiksdGhpcy5oZWlnaHQ9dGhpcy5nZXRQYXJhbWV0ZXIoMzYxNjMpLHRoaXMuc2FtcGxlcz10aGlzLmdldFBhcmFtZXRlcigzNjAxMSl9fSx7a2V5OiJfZ2V0UGFyYW1ldGVyIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5nbC5iaW5kUmVuZGVyYnVmZmVyKDM2MTYxLHRoaXMuaGFuZGxlKSx0aGlzLmdsLmdldFJlbmRlcmJ1ZmZlclBhcmFtZXRlcigzNjE2MSx0KX19XSksZX0obC5hKX0sZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0IjtuLmQoZSwiYyIsKGZ1bmN0aW9uKCl7cmV0dXJuIGF9KSksbi5kKGUsImIiLChmdW5jdGlvbigpe3JldHVybiBvfSkpLG4uZChlLCJhIiwoZnVuY3Rpb24oKXtyZXR1cm4gc30pKTt2YXIgcj1uKDI4KSxpPXt9O2Z1bmN0aW9uIGEoKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06ImlkIjtpW3RdPWlbdF18fDE7dmFyIGU9aVt0XSsrO3JldHVybiIiLmNvbmNhdCh0LCItIikuY29uY2F0KGUpfWZ1bmN0aW9uIG8odCl7cmV0dXJuIE9iamVjdChyLmEpKCJudW1iZXIiPT10eXBlb2YgdCwiSW5wdXQgbXVzdCBiZSBhIG51bWJlciIpLHQmJjA9PSh0JnQtMSl9ZnVuY3Rpb24gcyh0KXt2YXIgZT0hMDtmb3IodmFyIG4gaW4gdCl7ZT0hMTticmVha31yZXR1cm4gZX19LGZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7bi5kKGUsImMiLChmdW5jdGlvbigpe3JldHVybiBhfSkpLG4uZChlLCJhIiwoZnVuY3Rpb24oKXtyZXR1cm4gb30pKSxuLmQoZSwiYiIsKGZ1bmN0aW9uKCl7cmV0dXJuIHN9KSk7dmFyIHI9IiIsaT17fTtmdW5jdGlvbiBhKHQpe3I9dH1mdW5jdGlvbiBvKCl7cmV0dXJuIHJ9ZnVuY3Rpb24gcyh0KXtmb3IodmFyIGUgaW4gaSlpZih0LnN0YXJ0c1dpdGgoZSkpe3ZhciBuPWlbZV07cmV0dXJuIHQucmVwbGFjZShlLG4pfXJldHVybiB0Kz1yfX0sZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0IjtuLmQoZSwiYyIsKGZ1bmN0aW9uKCl7cmV0dXJuIGF9KSksbi5kKGUsImIiLChmdW5jdGlvbigpe3JldHVybiBvfSkpLG4uZChlLCJhIiwoZnVuY3Rpb24oKXtyZXR1cm4gc30pKTt2YXIgcj1uKDU5KSxpPVtdO2Z1bmN0aW9uIGEodCl7dD1BcnJheS5pc0FycmF5KHQpP3Q6W3RdO3ZhciBlPSEwLG49ITEsYT12b2lkIDA7dHJ5e2Zvcih2YXIgbyxzPWZ1bmN0aW9uKCl7dmFyIHQ9by52YWx1ZSxlPU9iamVjdChyLmIpKHQpO2kuZmluZCgoZnVuY3Rpb24odCl7cmV0dXJuIGU9PT10fSkpfHxpLnVuc2hpZnQoZSl9LHU9dFtTeW1ib2wuaXRlcmF0b3JdKCk7IShlPShvPXUubmV4dCgpKS5kb25lKTtlPSEwKXMoKX1jYXRjaCh0KXtuPSEwLGE9dH1maW5hbGx5e3RyeXtlfHxudWxsPT11LnJldHVybnx8dS5yZXR1cm4oKX1maW5hbGx5e2lmKG4pdGhyb3cgYX19fWZ1bmN0aW9uIG8oKXtyZXR1cm4gaX1mdW5jdGlvbiBzKCl7aT1bXX19LGZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigxOSksaT1uLm4ociksYT1uKDEpLG89bi5uKGEpLHM9bigyKSx1PW4ubihzKSxjPW4oOSksbD1uLm4oYyksaD1uKDMpLGY9bi5uKGgpLGQ9bigxMCksdj1uLm4oZCkscD1uKDIyKSxnPW4oMTU4KSx5PW4oNCksbT1uLm4oeSksYj1uKDU3KSxfPW4oOCksTz1uKDg1KSx4PWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXtyZXR1cm4gbygpKHRoaXMsZSksbCgpKHRoaXMsZigpKGUpLmFwcGx5KHRoaXMsYXJndW1lbnRzKSl9cmV0dXJuIHYoKShlLHQpLHUoKShlLFt7a2V5OiJfb25VcGRhdGUiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy50aW1lLGU9dGhpcy5zZXR0aW5ncyxuPWUuZnJvbVZhbHVlLHI9ZS50b1ZhbHVlLGk9ZS5kdXJhdGlvbixhPSgwLGUuZWFzaW5nKSh0L2kpO3RoaXMuX3ZhbHVlPU9iamVjdChfLmwpKG4scixhKX19LHtrZXk6InZhbHVlIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdmFsdWV9fV0pLGV9KE8uYSk7ZnVuY3Rpb24gdyh0LGUsbixyLGkpe3ZhciBhPWUtdDtyZXR1cm4obi1lKSppKy1hKnIrYStlfWZ1bmN0aW9uIGsodCxlKXtpZihBcnJheS5pc0FycmF5KHQpKXtmb3IodmFyIG49MCxyPTA7cjx0Lmxlbmd0aDtyKyspe3ZhciBpPXRbcl0tZVtyXTtuKz1pKml9cmV0dXJuIE1hdGguc3FydChuKX1yZXR1cm4gTWF0aC5hYnModC1lKX12YXIgUz1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7cmV0dXJuIG8oKSh0aGlzLGUpLGwoKSh0aGlzLGYoKShlKS5hcHBseSh0aGlzLGFyZ3VtZW50cykpfXJldHVybiB2KCkoZSx0KSx1KCkoZSxbe2tleToiX29uVXBkYXRlIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMuc2V0dGluZ3MsZT10LmZyb21WYWx1ZSxuPXQudG9WYWx1ZSxyPXQuZGFtcGluZyxpPXQuc3RpZmZuZXNzLGE9dGhpcy5fcHJldlZhbHVlLG89dm9pZCAwPT09YT9lOmEscz10aGlzLl9jdXJyVmFsdWUsdT12b2lkIDA9PT1zP2U6cyxjPWZ1bmN0aW9uKHQsZSxuLHIsaSl7aWYoQXJyYXkuaXNBcnJheShuKSl7Zm9yKHZhciBhPVtdLG89MDtvPG4ubGVuZ3RoO28rKylhW29dPXcodFtvXSxlW29dLG5bb10scixpKTtyZXR1cm4gYX1yZXR1cm4gdyh0LGUsbixyLGkpfShvLHUsbixyLGkpLGw9ayhjLG4pLGg9ayhjLHUpO2w8MWUtNSYmaDwxZS01JiYoYz1uLHRoaXMuZW5kKCkpLHRoaXMuX3ByZXZWYWx1ZT11LHRoaXMuX2N1cnJWYWx1ZT1jfX0se2tleToidmFsdWUiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9jdXJyVmFsdWV9fV0pLGV9KE8uYSksUD1uKDIzKTtmdW5jdGlvbiBqKHQsZSl7dmFyIG49T2JqZWN0LmtleXModCk7aWYoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyl7dmFyIHI9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyh0KTtlJiYocj1yLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodCxlKS5lbnVtZXJhYmxlfSkpKSxuLnB1c2guYXBwbHkobixyKX1yZXR1cm4gbn12YXIgVD17aW50ZXJwb2xhdGlvbjp4LHNwcmluZzpTfSxFPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlKXtvKCkodGhpcyx0KSx0aGlzLnRyYW5zaXRpb25zPW5ldyBNYXAsdGhpcy50aW1lbGluZT1lfXJldHVybiB1KCkodCxbe2tleToiYWRkIix2YWx1ZTpmdW5jdGlvbih0LGUsbixyKXt2YXIgaT10aGlzLnRyYW5zaXRpb25zO2kuaGFzKHQpJiYoZT1pLmdldCh0KS52YWx1ZSx0aGlzLnJlbW92ZSh0KSk7aWYocj1PYmplY3QoYi5lKShyKSl7dmFyIGE9VFtyLnR5cGVdO2lmKGEpe3ZhciBvPW5ldyBhKHRoaXMudGltZWxpbmUpO28uc3RhcnQoZnVuY3Rpb24odCl7Zm9yKHZhciBlPTE7ZTxhcmd1bWVudHMubGVuZ3RoO2UrKyl7dmFyIG49bnVsbCE9YXJndW1lbnRzW2VdP2FyZ3VtZW50c1tlXTp7fTtlJTI/aihPYmplY3QobiksITApLmZvckVhY2goKGZ1bmN0aW9uKGUpe20oKSh0LGUsbltlXSl9KSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXModCxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhuKSk6aihPYmplY3QobikpLmZvckVhY2goKGZ1bmN0aW9uKGUpe09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LGUsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihuLGUpKX0pKX1yZXR1cm4gdH0oe30scix7ZnJvbVZhbHVlOmUsdG9WYWx1ZTpufSkpLGkuc2V0KHQsbyl9ZWxzZSBQLmEuZXJyb3IoInVuc3VwcG9ydGVkIHRyYW5zaXRpb24gdHlwZSAnIi5jb25jYXQoci50eXBlLCInIikpKCl9fX0se2tleToicmVtb3ZlIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLnRyYW5zaXRpb25zO2UuaGFzKHQpJiYoZS5nZXQodCkuY2FuY2VsKCksZS5kZWxldGUodCkpfX0se2tleToidXBkYXRlIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXt9LGU9ITAsbj0hMSxyPXZvaWQgMDt0cnl7Zm9yKHZhciBhLG89dGhpcy50cmFuc2l0aW9uc1tTeW1ib2wuaXRlcmF0b3JdKCk7IShlPShhPW8ubmV4dCgpKS5kb25lKTtlPSEwKXt2YXIgcz1pKCkoYS52YWx1ZSwyKSx1PXNbMF0sYz1zWzFdO2MudXBkYXRlKCksdFt1XT1jLnZhbHVlLGMuaW5Qcm9ncmVzc3x8dGhpcy5yZW1vdmUodSl9fWNhdGNoKHQpe249ITAscj10fWZpbmFsbHl7dHJ5e2V8fG51bGw9PW8ucmV0dXJufHxvLnJldHVybigpfWZpbmFsbHl7aWYobil0aHJvdyByfX1yZXR1cm4gdH19LHtrZXk6ImNsZWFyIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PSEwLGU9ITEsbj12b2lkIDA7dHJ5e2Zvcih2YXIgcixpPXRoaXMudHJhbnNpdGlvbnMua2V5cygpW1N5bWJvbC5pdGVyYXRvcl0oKTshKHQ9KHI9aS5uZXh0KCkpLmRvbmUpO3Q9ITApe3ZhciBhPXIudmFsdWU7dGhpcy5yZW1vdmUoYSl9fWNhdGNoKHQpe2U9ITAsbj10fWZpbmFsbHl7dHJ5e3R8fG51bGw9PWkucmV0dXJufHxpLnJldHVybigpfWZpbmFsbHl7aWYoZSl0aHJvdyBufX19fSx7a2V5OiJhY3RpdmUiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnRyYW5zaXRpb25zLnNpemU+MH19XSksdH0oKSxBPW4oMTM3KSxNPW4oMTU3KSxDPW4oNDUpLEw9bigxMSksST1uKDI5KSxSPW4oMTU2KSxOPW4oMTQyKSxEPW4oOTUpLEY9big0Niksej1uKDY0KSxCPW4oNDEpLFU9bi5uKEIpLFY9e2Jvb2xlYW46e3ZhbGlkYXRlOmZ1bmN0aW9uKHQsZSl7cmV0dXJuITB9LGVxdWFsOmZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gQm9vbGVhbih0KT09PUJvb2xlYW4oZSl9fSxudW1iZXI6e3ZhbGlkYXRlOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIE51bWJlci5pc0Zpbml0ZSh0KSYmKCEoIm1heCJpbiBlKXx8dDw9ZS5tYXgpJiYoISgibWluImluIGUpfHx0Pj1lLm1pbil9fSxjb2xvcjp7dmFsaWRhdGU6ZnVuY3Rpb24odCxlKXtyZXR1cm4gZS5vcHRpb25hbCYmIXR8fHEodCkmJigzPT09dC5sZW5ndGh8fDQ9PT10Lmxlbmd0aCl9LGVxdWFsOmZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gRyh0LGUpfX0sYWNjZXNzb3I6e3ZhbGlkYXRlOmZ1bmN0aW9uKHQsZSl7dmFyIG49WCh0KTtyZXR1cm4iZnVuY3Rpb24iPT09bnx8bj09PVgoZS52YWx1ZSl9LGVxdWFsOmZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4iZnVuY3Rpb24iPT10eXBlb2YgZXx8Ryh0LGUpfX0sYXJyYXk6e3ZhbGlkYXRlOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIGUub3B0aW9uYWwmJiF0fHxxKHQpfSxlcXVhbDpmdW5jdGlvbih0LGUsbil7cmV0dXJuIG4uY29tcGFyZT9HKHQsZSk6dD09PWV9fSxmdW5jdGlvbjp7dmFsaWRhdGU6ZnVuY3Rpb24odCxlKXtyZXR1cm4gZS5vcHRpb25hbCYmIXR8fCJmdW5jdGlvbiI9PXR5cGVvZiB0fSxlcXVhbDpmdW5jdGlvbih0LGUsbil7cmV0dXJuIW4uY29tcGFyZXx8dD09PWV9fX07ZnVuY3Rpb24gRyh0LGUpe2lmKHQ9PT1lKXJldHVybiEwO2lmKCFxKHQpfHwhcShlKSlyZXR1cm4hMTt2YXIgbj10Lmxlbmd0aDtpZihuIT09ZS5sZW5ndGgpcmV0dXJuITE7Zm9yKHZhciByPTA7cjxuO3IrKylpZih0W3JdIT09ZVtyXSlyZXR1cm4hMTtyZXR1cm4hMH1mdW5jdGlvbiBXKHQsZSl7c3dpdGNoKFgoZSkpe2Nhc2Uib2JqZWN0IjpyZXR1cm4gSCh0LGUpO2Nhc2UiYXJyYXkiOnJldHVybiBIKHQse3R5cGU6ImFycmF5Iix2YWx1ZTplLGNvbXBhcmU6ITF9KTtjYXNlImJvb2xlYW4iOnJldHVybiBIKHQse3R5cGU6ImJvb2xlYW4iLHZhbHVlOmV9KTtjYXNlIm51bWJlciI6cmV0dXJuIEgodCx7dHlwZToibnVtYmVyIix2YWx1ZTplfSk7Y2FzZSJmdW5jdGlvbiI6cmV0dXJuIEgodCx7dHlwZToiZnVuY3Rpb24iLHZhbHVlOmUsY29tcGFyZTohMH0pO2RlZmF1bHQ6cmV0dXJue25hbWU6dCx0eXBlOiJ1bmtub3duIix2YWx1ZTplfX19ZnVuY3Rpb24gSCh0LGUpe3JldHVybiJ0eXBlImluIGU/T2JqZWN0LmFzc2lnbih7bmFtZTp0fSxWW2UudHlwZV0sZSk6InZhbHVlImluIGU/T2JqZWN0LmFzc2lnbih7bmFtZTp0LHR5cGU6WChlLnZhbHVlKX0sZSk6e25hbWU6dCx0eXBlOiJvYmplY3QiLHZhbHVlOmV9fWZ1bmN0aW9uIHEodCl7cmV0dXJuIEFycmF5LmlzQXJyYXkodCl8fEFycmF5QnVmZmVyLmlzVmlldyh0KX1mdW5jdGlvbiBYKHQpe3JldHVybiBxKHQpPyJhcnJheSI6bnVsbD09PXQ/Im51bGwiOlUoKSh0KX12YXIgWj1GLmIuQ09NUE9ORU5ULFk9Ri5iLkFTWU5DX09SSUdJTkFMLEs9Ri5iLkFTWU5DX1JFU09MVkVELFE9Ri5iLkFTWU5DX0RFRkFVTFRTO2Z1bmN0aW9uIEooKXt2YXIgdD10aGlzLGU9JCh0LmNvbnN0cnVjdG9yKSxuPU9iamVjdC5jcmVhdGUoZSk7bltaXT10LG5bWV09e30sbltLXT17fTtmb3IodmFyIHI9MDtyPGFyZ3VtZW50cy5sZW5ndGg7KytyKXt2YXIgaT1hcmd1bWVudHNbcl07Zm9yKHZhciBhIGluIGkpblthXT1pW2FdfXJldHVybiBPYmplY3QuZnJlZXplKG4pLG59ZnVuY3Rpb24gJCh0KXt2YXIgZT1udCh0LCJfbWVyZ2VkRGVmYXVsdFByb3BzIik7cmV0dXJuIGV8fChmdW5jdGlvbih0KXtpZighdC5wcm90b3R5cGUpcmV0dXJuO3ZhciBlPU9iamVjdC5nZXRQcm90b3R5cGVPZih0KSxuPSQoZSkscj1mdW5jdGlvbih0KXtmb3IodmFyIGU9e30sbj17fSxyPXt9LGE9MCxvPU9iamVjdC5lbnRyaWVzKHQpO2E8by5sZW5ndGg7YSsrKXt2YXIgcz1pKCkob1thXSwyKSx1PXNbMF0sYz1zWzFdO2lmKGMmJmMuZGVwcmVjYXRlZEZvcilyW3VdPUFycmF5LmlzQXJyYXkoYy5kZXByZWNhdGVkRm9yKT9jLmRlcHJlY2F0ZWRGb3I6W2MuZGVwcmVjYXRlZEZvcl07ZWxzZXt2YXIgbD1XKHUsYyk7ZVt1XT1sLG5bdV09bC52YWx1ZX19cmV0dXJue3Byb3BUeXBlczplLGRlZmF1bHRQcm9wczpuLGRlcHJlY2F0ZWRQcm9wczpyfX0obnQodCwiZGVmYXVsdFByb3BzIil8fHt9KSxhPWZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1PYmplY3QuY3JlYXRlKG51bGwpO09iamVjdC5hc3NpZ24ocixlLHQpO3ZhciBpPWZ1bmN0aW9uKHQpe3ZhciBlPW50KHQsImxheWVyTmFtZSIpfHxudCh0LCJjb21wb25lbnROYW1lIik7ZXx8UC5hLm9uY2UoMCwiIi5jb25jYXQodC5uYW1lLCIuY29tcG9uZW50TmFtZSBub3Qgc3BlY2lmaWVkIikpKCk7cmV0dXJuIGV8fHQubmFtZX0obik7cmV0dXJuIGRlbGV0ZSB0LmlkLE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHIse2lkOnt3cml0YWJsZTohMCx2YWx1ZTppfX0pLHJ9KHIuZGVmYXVsdFByb3BzLG4sdCksbz1PYmplY3QuYXNzaWduKHt9LGUuX3Byb3BUeXBlcyxyLnByb3BUeXBlcyk7IWZ1bmN0aW9uKHQsZSl7dmFyIG49e30scj17fTtmb3IodmFyIGkgaW4gZSl7dmFyIGE9ZVtpXSxvPWEubmFtZSxzPWEudmFsdWU7YS5hc3luYyYmKG5bb109cyxyW29dPXR0KG8pKX10W1FdPW4sdFtZXT17fSxPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0LHIpfShhLG8pO3ZhciBzPU9iamVjdC5hc3NpZ24oe30sZS5fZGVwcmVjYXRlZFByb3BzLHIuZGVwcmVjYXRlZFByb3BzKTsoZnVuY3Rpb24odCxlKXt2YXIgbj1mdW5jdGlvbihuKXtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxuLHtlbnVtZXJhYmxlOiExLHNldDpmdW5jdGlvbih0KXt2YXIgcj0iIi5jb25jYXQodGhpcy5pZCwiOiAiKS5jb25jYXQobiksaT0hMCxhPSExLG89dm9pZCAwO3RyeXtmb3IodmFyIHMsdT1lW25dW1N5bWJvbC5pdGVyYXRvcl0oKTshKGk9KHM9dS5uZXh0KCkpLmRvbmUpO2k9ITApe3ZhciBjPXMudmFsdWU7ZXQodGhpcyxjKXx8KHRoaXNbY109dCl9fWNhdGNoKHQpe2E9ITAsbz10fWZpbmFsbHl7dHJ5e2l8fG51bGw9PXUucmV0dXJufHx1LnJldHVybigpfWZpbmFsbHl7aWYoYSl0aHJvdyBvfX1QLmEuZGVwcmVjYXRlZChyLGVbbl0uam9pbigiLyIpKSgpfX0pfTtmb3IodmFyIHIgaW4gZSluKHIpfSkoYSxzKSx0Ll9tZXJnZWREZWZhdWx0UHJvcHM9YSx0Ll9wcm9wVHlwZXM9byx0Ll9kZXByZWNhdGVkUHJvcHM9c30odCksdC5fbWVyZ2VkRGVmYXVsdFByb3BzKX1mdW5jdGlvbiB0dCh0KXtyZXR1cm57ZW51bWVyYWJsZTohMCxzZXQ6ZnVuY3Rpb24oZSl7InN0cmluZyI9PXR5cGVvZiBlfHxlIGluc3RhbmNlb2YgUHJvbWlzZXx8T2JqZWN0KHouYykoZSk/dGhpc1tZXVt0XT1lOnRoaXNbS11bdF09ZX0sZ2V0OmZ1bmN0aW9uKCl7aWYodGhpc1tLXSl7aWYodCBpbiB0aGlzW0tdKXt2YXIgZT10aGlzW0tdW3RdO3JldHVybiJkYXRhIj09PXQ/ZXx8dGhpc1tRXVt0XTplfWlmKHQgaW4gdGhpc1tZXSl7dmFyIG49dGhpc1taXSYmdGhpc1taXS5pbnRlcm5hbFN0YXRlO2lmKG4mJm4uaGFzQXN5bmNQcm9wKHQpKXJldHVybiBuLmdldEFzeW5jUHJvcCh0KX19cmV0dXJuIHRoaXNbUV1bdF19fX1mdW5jdGlvbiBldCh0LGUpe3JldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxlKX1mdW5jdGlvbiBudCh0LGUpe3JldHVybiBldCh0LGUpJiZ0W2VdfXZhciBydD1uKDUpLGl0PW4ubihydCksYXQ9bigxMTIpLG90PW4ubihhdCksc3Q9bigyMjUpLHV0PW4ubihzdCksY3Q9Ri5iLkFTWU5DX09SSUdJTkFMLGx0PUYuYi5BU1lOQ19SRVNPTFZFRCxodD1GLmIuQVNZTkNfREVGQVVMVFMsZnQ9T2JqZWN0LmZyZWV6ZSh7fSksZHQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOm51bGw7bygpKHRoaXMsdCksdGhpcy5jb21wb25lbnQ9ZSx0aGlzLmFzeW5jUHJvcHM9e30sdGhpcy5vbkFzeW5jUHJvcFVwZGF0ZWQ9ZnVuY3Rpb24oKXt9LHRoaXMub2xkUHJvcHM9ZnQsdGhpcy5vbGRBc3luY1Byb3BzPW51bGx9dmFyIGU7cmV0dXJuIHUoKSh0LFt7a2V5OiJnZXRPbGRQcm9wcyIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5vbGRBc3luY1Byb3BzfHx0aGlzLm9sZFByb3BzfX0se2tleToicmVzZXRPbGRQcm9wcyIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLm9sZEFzeW5jUHJvcHM9bnVsbCx0aGlzLm9sZFByb3BzPXRoaXMuY29tcG9uZW50LnByb3BzfX0se2tleToiZnJlZXplQXN5bmNPbGRQcm9wcyIsdmFsdWU6ZnVuY3Rpb24oKXtpZighdGhpcy5vbGRBc3luY1Byb3BzKWZvcih2YXIgdCBpbiB0aGlzLm9sZFByb3BzPXRoaXMub2xkUHJvcHN8fHRoaXMuY29tcG9uZW50LnByb3BzLHRoaXMub2xkQXN5bmNQcm9wcz1PYmplY3QuY3JlYXRlKHRoaXMub2xkUHJvcHMpLHRoaXMuYXN5bmNQcm9wcylPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcy5vbGRBc3luY1Byb3BzLHQse2VudW1lcmFibGU6ITAsdmFsdWU6dGhpcy5vbGRQcm9wc1t0XX0pfX0se2tleToiaGFzQXN5bmNQcm9wIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdCBpbiB0aGlzLmFzeW5jUHJvcHN9fSx7a2V5OiJnZXRBc3luY1Byb3AiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuYXN5bmNQcm9wc1t0XTtyZXR1cm4gZSYmZS5yZXNvbHZlZFZhbHVlfX0se2tleToiaXNBc3luY1Byb3BMb2FkaW5nIix2YWx1ZTpmdW5jdGlvbih0KXtpZih0KXt2YXIgZT10aGlzLmFzeW5jUHJvcHNbdF07cmV0dXJuIEJvb2xlYW4oZSYmZS5wZW5kaW5nTG9hZENvdW50PjAmJmUucGVuZGluZ0xvYWRDb3VudCE9PWUucmVzb2x2ZWRMb2FkQ291bnQpfWZvcih2YXIgbiBpbiB0aGlzLmFzeW5jUHJvcHMpaWYodGhpcy5pc0FzeW5jUHJvcExvYWRpbmcobikpcmV0dXJuITA7cmV0dXJuITF9fSx7a2V5OiJzZXRBc3luY1Byb3BzIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10W2x0XXx8e30sbj10W2N0XXx8dCxyPXRbaHRdfHx7fTtmb3IodmFyIGkgaW4gZSl7dmFyIGE9ZVtpXTt0aGlzLl9jcmVhdGVBc3luY1Byb3BEYXRhKGksYSxyW2ldKSx0aGlzLl91cGRhdGVBc3luY1Byb3AoaSxhKX1mb3IodmFyIG8gaW4gbil7dmFyIHM9bltvXTt0aGlzLl9jcmVhdGVBc3luY1Byb3BEYXRhKG8scyxyW29dKSx0aGlzLl91cGRhdGVBc3luY1Byb3AobyxzKX19fSx7a2V5OiJfdXBkYXRlQXN5bmNQcm9wIix2YWx1ZTpmdW5jdGlvbih0LGUpe2lmKHRoaXMuX2RpZEFzeW5jSW5wdXRWYWx1ZUNoYW5nZSh0LGUpKXtpZigic3RyaW5nIj09dHlwZW9mIGUpe3ZhciBuPXRoaXMubGF5ZXImJnRoaXMubGF5ZXIucHJvcHMuZmV0Y2g7biYmKGU9bihlLHtwcm9wTmFtZTp0LGxheWVyOnRoaXMubGF5ZXJ9KSl9ZSBpbnN0YW5jZW9mIFByb21pc2U/dGhpcy5fd2F0Y2hQcm9taXNlKHQsZSk6T2JqZWN0KHouYykoZSk/dGhpcy5fcmVzb2x2ZUFzeW5jSXRlcmFibGUodCxlKTp0aGlzLl9zZXRQcm9wVmFsdWUodCxlKX19fSx7a2V5OiJfZGlkQXN5bmNJbnB1dFZhbHVlQ2hhbmdlIix2YWx1ZTpmdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMuYXN5bmNQcm9wc1t0XTtyZXR1cm4gZSE9PW4ubGFzdFZhbHVlJiYobi5sYXN0VmFsdWU9ZSwhMCl9fSx7a2V5OiJfc2V0UHJvcFZhbHVlIix2YWx1ZTpmdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMuYXN5bmNQcm9wc1t0XTtuLnZhbHVlPWUsbi5yZXNvbHZlZFZhbHVlPWUsbi5wZW5kaW5nTG9hZENvdW50Kyssbi5yZXNvbHZlZExvYWRDb3VudD1uLnBlbmRpbmdMb2FkQ291bnR9fSx7a2V5OiJfc2V0QXN5bmNQcm9wVmFsdWUiLHZhbHVlOmZ1bmN0aW9uKHQsZSxuKXt2YXIgcj10aGlzLmFzeW5jUHJvcHNbdF07ciYmbj49ci5yZXNvbHZlZExvYWRDb3VudCYmdm9pZCAwIT09ZSYmKHRoaXMuZnJlZXplQXN5bmNPbGRQcm9wcygpLHIucmVzb2x2ZWRWYWx1ZT1lLHIucmVzb2x2ZWRMb2FkQ291bnQ9bix0aGlzLm9uQXN5bmNQcm9wVXBkYXRlZCh0LGUpKX19LHtrZXk6Il93YXRjaFByb21pc2UiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcyxyPXRoaXMuYXN5bmNQcm9wc1t0XTtyLnBlbmRpbmdMb2FkQ291bnQrKzt2YXIgaT1yLnBlbmRpbmdMb2FkQ291bnQ7ZS50aGVuKChmdW5jdGlvbihlKXtlPW4uX3Bvc3RQcm9jZXNzVmFsdWUodCxlKSxuLl9zZXRBc3luY1Byb3BWYWx1ZSh0LGUsaSk7dmFyIHI9bi5sYXllciYmbi5sYXllci5wcm9wcy5vbkRhdGFMb2FkOyJkYXRhIj09PXQmJnImJnIoZSx7cHJvcE5hbWU6dCxsYXllcjpuLmxheWVyfSl9KSkuY2F0Y2goKGZ1bmN0aW9uKHQpe3JldHVybiBQLmEuZXJyb3IodCkoKX0pKX19LHtrZXk6Il9yZXNvbHZlQXN5bmNJdGVyYWJsZSIsdmFsdWU6KGU9b3QoKShpdC5hLm1hcmsoKGZ1bmN0aW9uIHQoZSxuKXt2YXIgcixpLGEsbyxzLHUsYyxsLGgsZixkLHY7cmV0dXJuIGl0LmEud3JhcCgoZnVuY3Rpb24odCl7Zm9yKDs7KXN3aXRjaCh0LnByZXY9dC5uZXh0KXtjYXNlIDA6ImRhdGEiIT09ZSYmdGhpcy5fc2V0UHJvcFZhbHVlKGUsbiksKHI9dGhpcy5hc3luY1Byb3BzW2VdKS5wZW5kaW5nTG9hZENvdW50KyssaT1yLnBlbmRpbmdMb2FkQ291bnQsYT1bXSxvPTAscz0hMCx1PSExLHQucHJldj04LGw9dXQoKShuKTtjYXNlIDEwOnJldHVybiB0Lm5leHQ9MTIsbC5uZXh0KCk7Y2FzZSAxMjpyZXR1cm4gaD10LnNlbnQscz1oLmRvbmUsdC5uZXh0PTE2LGgudmFsdWU7Y2FzZSAxNjppZihmPXQuc2VudCxzKXt0Lm5leHQ9MjY7YnJlYWt9ZD1mLGE9dGhpcy5fcG9zdFByb2Nlc3NWYWx1ZShlLGQsYSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGEsIl9fZGlmZiIse2VudW1lcmFibGU6ITEsdmFsdWU6W3tzdGFydFJvdzpvLGVuZFJvdzphLmxlbmd0aH1dfSksbz1hLmxlbmd0aCx0aGlzLl9zZXRBc3luY1Byb3BWYWx1ZShlLGEsaSk7Y2FzZSAyMzpzPSEwLHQubmV4dD0xMDticmVhaztjYXNlIDI2OnQubmV4dD0zMjticmVhaztjYXNlIDI4OnQucHJldj0yOCx0LnQwPXQuY2F0Y2goOCksdT0hMCxjPXQudDA7Y2FzZSAzMjppZih0LnByZXY9MzIsdC5wcmV2PTMzLHN8fG51bGw9PWwucmV0dXJuKXt0Lm5leHQ9Mzc7YnJlYWt9cmV0dXJuIHQubmV4dD0zNyxsLnJldHVybigpO2Nhc2UgMzc6aWYodC5wcmV2PTM3LCF1KXt0Lm5leHQ9NDA7YnJlYWt9dGhyb3cgYztjYXNlIDQwOnJldHVybiB0LmZpbmlzaCgzNyk7Y2FzZSA0MTpyZXR1cm4gdC5maW5pc2goMzIpO2Nhc2UgNDI6KHY9dGhpcy5sYXllciYmdGhpcy5sYXllci5wcm9wcy5vbkRhdGFMb2FkKSYmdihhLHtwcm9wTmFtZTplLGxheWVyOnRoaXMubGF5ZXJ9KTtjYXNlIDQ0OmNhc2UiZW5kIjpyZXR1cm4gdC5zdG9wKCl9fSksdCx0aGlzLFtbOCwyOCwzMiw0Ml0sWzMzLCwzNyw0MV1dKX0pKSksZnVuY3Rpb24odCxuKXtyZXR1cm4gZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9KX0se2tleToiX3Bvc3RQcm9jZXNzVmFsdWUiLHZhbHVlOmZ1bmN0aW9uKHQsZSxuKXt2YXIgcj0odGhpcy5jb21wb25lbnQ/dGhpcy5jb21wb25lbnQucHJvcHM6e30pLmRhdGFUcmFuc2Zvcm07cmV0dXJuImRhdGEiIT09dD9lOnI/cihlLG4pOm4/bi5jb25jYXQoZSk6ZX19LHtrZXk6Il9jcmVhdGVBc3luY1Byb3BEYXRhIix2YWx1ZTpmdW5jdGlvbih0LGUsbil7dGhpcy5hc3luY1Byb3BzW3RdfHwodGhpcy5hc3luY1Byb3BzW3RdPXtsYXN0VmFsdWU6bnVsbCxyZXNvbHZlZFZhbHVlOm4scGVuZGluZ0xvYWRDb3VudDowLHJlc29sdmVkTG9hZENvdW50OjB9KX19XSksdH0oKSx2dD1GLmIuQVNZTkNfT1JJR0lOQUwscHQ9Ri5iLkFTWU5DX1JFU09MVkVELGd0PUYuYi5BU1lOQ19ERUZBVUxUUyx5dD0wLG10PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe28oKSh0aGlzLHQpLHRoaXMucHJvcHM9Si5hcHBseSh0aGlzLGFyZ3VtZW50cyksdGhpcy5pZD10aGlzLnByb3BzLmlkLHRoaXMuY291bnQ9eXQrKyx0aGlzLmxpZmVjeWNsZT1GLmEuTk9fU1RBVEUsdGhpcy5wYXJlbnQ9bnVsbCx0aGlzLmNvbnRleHQ9bnVsbCx0aGlzLnN0YXRlPW51bGwsdGhpcy5pbnRlcm5hbFN0YXRlPW51bGwsT2JqZWN0LnNlYWwodGhpcyl9cmV0dXJuIHUoKSh0LFt7a2V5OiJjbG9uZSIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5wcm9wcyxuPXt9O2Zvcih2YXIgciBpbiBlW2d0XSlyIGluIGVbcHRdP25bcl09ZVtwdF1bcl06ciBpbiBlW3Z0XSYmKG5bcl09ZVt2dF1bcl0pO3JldHVybiBuZXcgdGhpcy5jb25zdHJ1Y3RvcihPYmplY3QuYXNzaWduKHt9LGUsbix0KSl9fSx7a2V5OiJfaW5pdFN0YXRlIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuaW50ZXJuYWxTdGF0ZT1uZXcgZHQoe30pfX0se2tleToic3RhdHMiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmludGVybmFsU3RhdGUuc3RhdHN9fV0pLHR9KCk7bXQuY29tcG9uZW50TmFtZT0iQ29tcG9uZW50IixtdC5kZWZhdWx0UHJvcHM9e307dmFyIGJ0PWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUodCl7dmFyIG4scj10LmF0dHJpYnV0ZU1hbmFnZXIsaT10LmxheWVyO3JldHVybiBvKCkodGhpcyxlKSwobj1sKCkodGhpcyxmKCkoZSkuY2FsbCh0aGlzLGkpKSkuYXR0cmlidXRlTWFuYWdlcj1yLG4ubW9kZWw9bnVsbCxuLm5lZWRzUmVkcmF3PSEwLG4uc3ViTGF5ZXJzPW51bGwsbn1yZXR1cm4gdigpKGUsdCksdSgpKGUsW3trZXk6ImxheWVyIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb21wb25lbnR9LHNldDpmdW5jdGlvbih0KXt0aGlzLmNvbXBvbmVudD10fX1dKSxlfShkdCksX3Q9bigzNCksT3Q9bigxOTkpO24uZChlLCJhIiwoZnVuY3Rpb24oKXtyZXR1cm4gU3R9KSk7dmFyIHh0PU9iamVjdC5mcmVlemUoW10pLHd0PW5ldyBVaW50OENsYW1wZWRBcnJheSgwKSxrdD17ZGF0YTp7dHlwZToiZGF0YSIsdmFsdWU6eHQsYXN5bmM6ITB9LGRhdGFDb21wYXJhdG9yOm51bGwsX2RhdGFEaWZmOnt0eXBlOiJmdW5jdGlvbiIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHQmJnQuX19kaWZmfSxjb21wYXJlOiExLG9wdGlvbmFsOiEwfSxkYXRhVHJhbnNmb3JtOnt0eXBlOiJmdW5jdGlvbiIsdmFsdWU6bnVsbCxjb21wYXJlOiExLG9wdGlvbmFsOiEwfSxvbkRhdGFMb2FkOnt0eXBlOiJmdW5jdGlvbiIsdmFsdWU6bnVsbCxjb21wYXJlOiExLG9wdGlvbmFsOiEwfSxmZXRjaDp7dHlwZToiZnVuY3Rpb24iLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dmFyIG49ZS5sYXllcjtyZXR1cm4gT2JqZWN0KE90LmEpKHQsbi5nZXRMb2FkT3B0aW9ucygpKX0sY29tcGFyZTohMX0sdXBkYXRlVHJpZ2dlcnM6e30sdmlzaWJsZTohMCxwaWNrYWJsZTohMSxvcGFjaXR5Ont0eXBlOiJudW1iZXIiLG1pbjowLG1heDoxLHZhbHVlOjF9LG9uSG92ZXI6e3R5cGU6ImZ1bmN0aW9uIix2YWx1ZTpudWxsLGNvbXBhcmU6ITEsb3B0aW9uYWw6ITB9LG9uQ2xpY2s6e3R5cGU6ImZ1bmN0aW9uIix2YWx1ZTpudWxsLGNvbXBhcmU6ITEsb3B0aW9uYWw6ITB9LG9uRHJhZ1N0YXJ0Ont0eXBlOiJmdW5jdGlvbiIsdmFsdWU6bnVsbCxjb21wYXJlOiExLG9wdGlvbmFsOiEwfSxvbkRyYWc6e3R5cGU6ImZ1bmN0aW9uIix2YWx1ZTpudWxsLGNvbXBhcmU6ITEsb3B0aW9uYWw6ITB9LG9uRHJhZ0VuZDp7dHlwZToiZnVuY3Rpb24iLHZhbHVlOm51bGwsY29tcGFyZTohMSxvcHRpb25hbDohMH0sY29vcmRpbmF0ZVN5c3RlbTpwLmEuREVGQVVMVCxjb29yZGluYXRlT3JpZ2luOnt0eXBlOiJhcnJheSIsdmFsdWU6WzAsMCwwXSxjb21wYXJlOiEwfSxtb2RlbE1hdHJpeDp7dHlwZToiYXJyYXkiLHZhbHVlOm51bGwsY29tcGFyZTohMCxvcHRpb25hbDohMH0sd3JhcExvbmdpdHVkZTohMSxwb3NpdGlvbkZvcm1hdDoiWFlaIixjb2xvckZvcm1hdDoiUkdCQSIscGFyYW1ldGVyczp7fSx1bmlmb3Jtczp7fSxleHRlbnNpb25zOltdLGdldFBvbHlnb25PZmZzZXQ6e3R5cGU6ImZ1bmN0aW9uIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm5bMCwxMDAqLXQubGF5ZXJJbmRleF19LGNvbXBhcmU6ITF9LGhpZ2hsaWdodGVkT2JqZWN0SW5kZXg6bnVsbCxhdXRvSGlnaGxpZ2h0OiExLGhpZ2hsaWdodENvbG9yOnt0eXBlOiJhY2Nlc3NvciIsdmFsdWU6WzAsMCwxMjgsMTI4XX19LFN0PWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXtyZXR1cm4gbygpKHRoaXMsZSksbCgpKHRoaXMsZigpKGUpLmFwcGx5KHRoaXMsYXJndW1lbnRzKSl9cmV0dXJuIHYoKShlLHQpLHUoKShlLFt7a2V5OiJ0b1N0cmluZyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmNvbnN0cnVjdG9yLmxheWVyTmFtZXx8dGhpcy5jb25zdHJ1Y3Rvci5uYW1lO3JldHVybiIiLmNvbmNhdCh0LCIoe2lkOiAnIikuY29uY2F0KHRoaXMucHJvcHMuaWQsIid9KSIpfX0se2tleToic2V0U3RhdGUiLHZhbHVlOmZ1bmN0aW9uKHQpe3RoaXMuc2V0Q2hhbmdlRmxhZ3Moe3N0YXRlQ2hhbmdlZDohMH0pLE9iamVjdC5hc3NpZ24odGhpcy5zdGF0ZSx0KSx0aGlzLnNldE5lZWRzUmVkcmF3KCl9fSx7a2V5OiJzZXROZWVkc1JlZHJhdyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD0hKGFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdKXx8YXJndW1lbnRzWzBdO3RoaXMuaW50ZXJuYWxTdGF0ZSYmKHRoaXMuaW50ZXJuYWxTdGF0ZS5uZWVkc1JlZHJhdz10KX19LHtrZXk6InNldE5lZWRzVXBkYXRlIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuY29udGV4dC5sYXllck1hbmFnZXIuc2V0TmVlZHNVcGRhdGUoU3RyaW5nKHRoaXMpKSx0aGlzLmludGVybmFsU3RhdGUubmVlZHNVcGRhdGU9ITB9fSx7a2V5OiJnZXROZWVkc1JlZHJhdyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e2NsZWFyUmVkcmF3RmxhZ3M6ITF9O3JldHVybiB0aGlzLl9nZXROZWVkc1JlZHJhdyh0KX19LHtrZXk6Im5lZWRzVXBkYXRlIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmludGVybmFsU3RhdGUubmVlZHNVcGRhdGV8fHRoaXMuaGFzVW5pZm9ybVRyYW5zaXRpb24oKXx8dGhpcy5zaG91bGRVcGRhdGVTdGF0ZSh0aGlzLl9nZXRVcGRhdGVQYXJhbXMoKSl9fSx7a2V5OiJoYXNVbmlmb3JtVHJhbnNpdGlvbiIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pbnRlcm5hbFN0YXRlLnVuaWZvcm1UcmFuc2l0aW9ucy5hY3RpdmV9fSx7a2V5OiJpc1BpY2thYmxlIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnByb3BzLnBpY2thYmxlJiZ0aGlzLnByb3BzLnZpc2libGV9fSx7a2V5OiJnZXRNb2RlbHMiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc3RhdGUmJih0aGlzLnN0YXRlLm1vZGVsc3x8KHRoaXMuc3RhdGUubW9kZWw/W3RoaXMuc3RhdGUubW9kZWxdOltdKSl9fSx7a2V5OiJnZXRBdHRyaWJ1dGVNYW5hZ2VyIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmludGVybmFsU3RhdGUmJnRoaXMuaW50ZXJuYWxTdGF0ZS5hdHRyaWJ1dGVNYW5hZ2VyfX0se2tleToiZ2V0Q3VycmVudExheWVyIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmludGVybmFsU3RhdGUmJnRoaXMuaW50ZXJuYWxTdGF0ZS5sYXllcn19LHtrZXk6ImdldExvYWRPcHRpb25zIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnByb3BzLmxvYWRPcHRpb25zfX0se2tleToicHJvamVjdCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5jb250ZXh0LnZpZXdwb3J0LG49T2JqZWN0KE4uYSkodCx7dmlld3BvcnQ6ZSxtb2RlbE1hdHJpeDp0aGlzLnByb3BzLm1vZGVsTWF0cml4LGNvb3JkaW5hdGVPcmlnaW46dGhpcy5wcm9wcy5jb29yZGluYXRlT3JpZ2luLGNvb3JkaW5hdGVTeXN0ZW06dGhpcy5wcm9wcy5jb29yZGluYXRlU3lzdGVtfSkscj1PYmplY3QoX3QubikobixlLnBpeGVsUHJvamVjdGlvbk1hdHJpeCksYT1pKCkociwzKSxvPWFbMF0scz1hWzFdLHU9YVsyXTtyZXR1cm4gMj09PXQubGVuZ3RoP1tvLHNdOltvLHMsdV19fSx7a2V5OiJ1bnByb2plY3QiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmNvbnRleHQudmlld3BvcnQudW5wcm9qZWN0KHQpfX0se2tleToicHJvamVjdFBvc2l0aW9uIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0KE4uYikodCx7dmlld3BvcnQ6dGhpcy5jb250ZXh0LnZpZXdwb3J0LG1vZGVsTWF0cml4OnRoaXMucHJvcHMubW9kZWxNYXRyaXgsY29vcmRpbmF0ZU9yaWdpbjp0aGlzLnByb3BzLmNvb3JkaW5hdGVPcmlnaW4sY29vcmRpbmF0ZVN5c3RlbTp0aGlzLnByb3BzLmNvb3JkaW5hdGVTeXN0ZW19KX19LHtrZXk6InVzZTY0Yml0UG9zaXRpb25zIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMucHJvcHMuY29vcmRpbmF0ZVN5c3RlbTtyZXR1cm4gdD09PXAuYS5ERUZBVUxUfHx0PT09cC5hLkxOR0xBVHx8dD09PXAuYS5DQVJURVNJQU59fSx7a2V5OiJvbkhvdmVyIix2YWx1ZTpmdW5jdGlvbih0LGUpe3JldHVybiEhdGhpcy5wcm9wcy5vbkhvdmVyJiZ0aGlzLnByb3BzLm9uSG92ZXIodCxlKX19LHtrZXk6Im9uQ2xpY2siLHZhbHVlOmZ1bmN0aW9uKHQsZSl7cmV0dXJuISF0aGlzLnByb3BzLm9uQ2xpY2smJnRoaXMucHJvcHMub25DbGljayh0LGUpfX0se2tleToibnVsbFBpY2tpbmdDb2xvciIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm5bMCwwLDBdfX0se2tleToiZW5jb2RlUGlja2luZ0NvbG9yIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06W107cmV0dXJuIGVbMF09dCsxJjI1NSxlWzFdPXQrMT4+OCYyNTUsZVsyXT10KzE+Pjg+PjgmMjU1LGV9fSx7a2V5OiJkZWNvZGVQaWNraW5nQ29sb3IiLHZhbHVlOmZ1bmN0aW9uKHQpe09iamVjdChJLmEpKHQgaW5zdGFuY2VvZiBVaW50OEFycmF5KTt2YXIgZT1pKCkodCwzKTtyZXR1cm4gZVswXSsyNTYqZVsxXSs2NTUzNiplWzJdLTF9fSx7a2V5OiJpbml0aWFsaXplU3RhdGUiLHZhbHVlOmZ1bmN0aW9uKCl7dGhyb3cgbmV3IEVycm9yKCJMYXllciAiLmNvbmNhdCh0aGlzLCIgaGFzIG5vdCBkZWZpbmVkIGluaXRpYWxpemVTdGF0ZSIpKX19LHtrZXk6ImdldFNoYWRlcnMiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPSEwLG49ITEscj12b2lkIDA7dHJ5e2Zvcih2YXIgaSxhPXRoaXMucHJvcHMuZXh0ZW5zaW9uc1tTeW1ib2wuaXRlcmF0b3JdKCk7IShlPShpPWEubmV4dCgpKS5kb25lKTtlPSEwKXt2YXIgbz1pLnZhbHVlO3Q9T2JqZWN0KFIuYSkodCxvLmdldFNoYWRlcnMuY2FsbCh0aGlzLG8pKX19Y2F0Y2godCl7bj0hMCxyPXR9ZmluYWxseXt0cnl7ZXx8bnVsbD09YS5yZXR1cm58fGEucmV0dXJuKCl9ZmluYWxseXtpZihuKXRocm93IHJ9fXJldHVybiB0fX0se2tleToic2hvdWxkVXBkYXRlU3RhdGUiLHZhbHVlOmZ1bmN0aW9uKHQpe3Qub2xkUHJvcHMsdC5wcm9wcyx0LmNvbnRleHQ7cmV0dXJuIHQuY2hhbmdlRmxhZ3MucHJvcHNPckRhdGFDaGFuZ2VkfX0se2tleToidXBkYXRlU3RhdGUiLHZhbHVlOmZ1bmN0aW9uKHQpe3Qub2xkUHJvcHMsdC5wcm9wcyx0LmNvbnRleHQ7dmFyIGU9dC5jaGFuZ2VGbGFncyxuPXRoaXMuZ2V0QXR0cmlidXRlTWFuYWdlcigpO2lmKGUuZGF0YUNoYW5nZWQmJm4pe3ZhciByPWUuZGF0YUNoYW5nZWQ7aWYoQXJyYXkuaXNBcnJheShyKSl7dmFyIGk9ITAsYT0hMSxvPXZvaWQgMDt0cnl7Zm9yKHZhciBzLHU9cltTeW1ib2wuaXRlcmF0b3JdKCk7IShpPShzPXUubmV4dCgpKS5kb25lKTtpPSEwKXt2YXIgYz1zLnZhbHVlO24uaW52YWxpZGF0ZUFsbChjKX19Y2F0Y2godCl7YT0hMCxvPXR9ZmluYWxseXt0cnl7aXx8bnVsbD09dS5yZXR1cm58fHUucmV0dXJuKCl9ZmluYWxseXtpZihhKXRocm93IG99fX1lbHNlIG4uaW52YWxpZGF0ZUFsbCgpfX19LHtrZXk6ImZpbmFsaXplU3RhdGUiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9ITAsZT0hMSxuPXZvaWQgMDt0cnl7Zm9yKHZhciByLGk9dGhpcy5nZXRNb2RlbHMoKVtTeW1ib2wuaXRlcmF0b3JdKCk7ISh0PShyPWkubmV4dCgpKS5kb25lKTt0PSEwKXtyLnZhbHVlLmRlbGV0ZSgpfX1jYXRjaCh0KXtlPSEwLG49dH1maW5hbGx5e3RyeXt0fHxudWxsPT1pLnJldHVybnx8aS5yZXR1cm4oKX1maW5hbGx5e2lmKGUpdGhyb3cgbn19dmFyIGE9dGhpcy5nZXRBdHRyaWJ1dGVNYW5hZ2VyKCk7YSYmYS5maW5hbGl6ZSgpLHRoaXMuaW50ZXJuYWxTdGF0ZS51bmlmb3JtVHJhbnNpdGlvbnMuY2xlYXIoKX19LHtrZXk6ImRyYXciLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPSEwLG49ITEscj12b2lkIDA7dHJ5e2Zvcih2YXIgaSxhPXRoaXMuZ2V0TW9kZWxzKClbU3ltYm9sLml0ZXJhdG9yXSgpOyEoZT0oaT1hLm5leHQoKSkuZG9uZSk7ZT0hMCl7aS52YWx1ZS5kcmF3KHQpfX1jYXRjaCh0KXtuPSEwLHI9dH1maW5hbGx5e3RyeXtlfHxudWxsPT1hLnJldHVybnx8YS5yZXR1cm4oKX1maW5hbGx5e2lmKG4pdGhyb3cgcn19fX0se2tleToiZ2V0UGlja2luZ0luZm8iLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXQuaW5mbyxuPSh0Lm1vZGUsZS5pbmRleCk7cmV0dXJuIG4+PTAmJkFycmF5LmlzQXJyYXkodGhpcy5wcm9wcy5kYXRhKSYmKGUub2JqZWN0PXRoaXMucHJvcHMuZGF0YVtuXSksZX19LHtrZXk6ImludmFsaWRhdGVBdHRyaWJ1dGUiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOiJhbGwiLGU9KGFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdJiZhcmd1bWVudHNbMV0sdGhpcy5nZXRBdHRyaWJ1dGVNYW5hZ2VyKCkpO2UmJigiYWxsIj09PXQ/ZS5pbnZhbGlkYXRlQWxsKCk6ZS5pbnZhbGlkYXRlKHQpKX19LHtrZXk6InVwZGF0ZUF0dHJpYnV0ZXMiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPSEwLG49ITEscj12b2lkIDA7dHJ5e2Zvcih2YXIgaSxhPXRoaXMuZ2V0TW9kZWxzKClbU3ltYm9sLml0ZXJhdG9yXSgpOyEoZT0oaT1hLm5leHQoKSkuZG9uZSk7ZT0hMCl7dmFyIG89aS52YWx1ZTt0aGlzLl9zZXRNb2RlbEF0dHJpYnV0ZXMobyx0KX19Y2F0Y2godCl7bj0hMCxyPXR9ZmluYWxseXt0cnl7ZXx8bnVsbD09YS5yZXR1cm58fGEucmV0dXJuKCl9ZmluYWxseXtpZihuKXRocm93IHJ9fX19LHtrZXk6Il91cGRhdGVBdHRyaWJ1dGVzIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLmdldEF0dHJpYnV0ZU1hbmFnZXIoKTtpZihlKXt2YXIgbj10aGlzLmdldE51bUluc3RhbmNlcyh0KSxyPXRoaXMuZ2V0U3RhcnRJbmRpY2VzKHQpO2UudXBkYXRlKHtkYXRhOnQuZGF0YSxudW1JbnN0YW5jZXM6bixzdGFydEluZGljZXM6cixwcm9wczp0LHRyYW5zaXRpb25zOnQudHJhbnNpdGlvbnMsYnVmZmVyczp0LmRhdGEuYXR0cmlidXRlcyxjb250ZXh0OnRoaXMsaWdub3JlVW5rbm93bkF0dHJpYnV0ZXM6ITB9KTt2YXIgaT1lLmdldENoYW5nZWRBdHRyaWJ1dGVzKHtjbGVhckNoYW5nZWRGbGFnczohMH0pO3RoaXMudXBkYXRlQXR0cmlidXRlcyhpKX19fSx7a2V5OiJfdXBkYXRlQXR0cmlidXRlVHJhbnNpdGlvbiIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmdldEF0dHJpYnV0ZU1hbmFnZXIoKTt0JiZ0LnVwZGF0ZVRyYW5zaXRpb24oKX19LHtrZXk6Il91cGRhdGVVbmlmb3JtVHJhbnNpdGlvbiIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmludGVybmFsU3RhdGUudW5pZm9ybVRyYW5zaXRpb25zO2lmKHQuYWN0aXZlKXt2YXIgZT10LnVwZGF0ZSgpLG49T2JqZWN0LmNyZWF0ZSh0aGlzLnByb3BzKTtmb3IodmFyIHIgaW4gZSlPYmplY3QuZGVmaW5lUHJvcGVydHkobixyLHt2YWx1ZTplW3JdfSk7cmV0dXJuIG59cmV0dXJuIHRoaXMucHJvcHN9fSx7a2V5OiJjYWxjdWxhdGVJbnN0YW5jZVBpY2tpbmdDb2xvcnMiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dmFyIG49ZS5udW1JbnN0YW5jZXMscj13dC5sZW5ndGgvMztpZihyPG4pe3ZhciBpPSh3dD1ELmEuYWxsb2NhdGUod3Qsbix7c2l6ZTozLGNvcHk6ITB9KSkubGVuZ3RoLzMsYT1bXTtPYmplY3QoSS5hKShpPDE2Nzc3MjE1LCJpbmRleCBvdXQgb2YgcGlja2luZyBjb2xvciByYW5nZSIpO2Zvcih2YXIgbz1yO288aTtvKyspdGhpcy5lbmNvZGVQaWNraW5nQ29sb3IobyxhKSx3dFszKm8rMF09YVswXSx3dFszKm8rMV09YVsxXSx3dFszKm8rMl09YVsyXX10LnZhbHVlPXd0LnN1YmFycmF5KDAsMypuKX19LHtrZXk6Il9zZXRNb2RlbEF0dHJpYnV0ZXMiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy5nZXRBdHRyaWJ1dGVNYW5hZ2VyKCkscj10LnVzZXJEYXRhLmV4Y2x1ZGVBdHRyaWJ1dGVzfHx7fSxpPW4uZ2V0U2hhZGVyQXR0cmlidXRlcyhlLHIpO3Quc2V0QXR0cmlidXRlcyhpKX19LHtrZXk6ImNsZWFyUGlja2luZ0NvbG9yIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLmdldEF0dHJpYnV0ZU1hbmFnZXIoKS5hdHRyaWJ1dGVzLG49ZS5waWNraW5nQ29sb3JzLHI9ZS5pbnN0YW5jZVBpY2tpbmdDb2xvcnMsaT1ufHxyLGE9dGhpcy5kZWNvZGVQaWNraW5nQ29sb3IodCksbz1pLmdldFZlcnRleE9mZnNldChhKSxzPWkuZ2V0VmVydGV4T2Zmc2V0KGErMSk7aS5idWZmZXIuc3ViRGF0YSh7ZGF0YTpuZXcgVWludDhBcnJheShzLW8pLG9mZnNldDpvfSl9fSx7a2V5OiJyZXN0b3JlUGlja2luZ0NvbG9ycyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmdldEF0dHJpYnV0ZU1hbmFnZXIoKS5hdHRyaWJ1dGVzLGU9dC5waWNraW5nQ29sb3JzLG49dC5pbnN0YW5jZVBpY2tpbmdDb2xvcnM7KGV8fG4pLnVwZGF0ZVN1YkJ1ZmZlcih7c3RhcnRPZmZzZXQ6MH0pfX0se2tleToiZ2V0TnVtSW5zdGFuY2VzIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdm9pZCAwIT09KHQ9dHx8dGhpcy5wcm9wcykubnVtSW5zdGFuY2VzP3QubnVtSW5zdGFuY2VzOnRoaXMuc3RhdGUmJnZvaWQgMCE9PXRoaXMuc3RhdGUubnVtSW5zdGFuY2VzP3RoaXMuc3RhdGUubnVtSW5zdGFuY2VzOk9iamVjdChNLmEpKHQuZGF0YSl9fSx7a2V5OiJnZXRTdGFydEluZGljZXMiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB2b2lkIDAhPT0odD10fHx0aGlzLnByb3BzKS5zdGFydEluZGljZXM/dC5zdGFydEluZGljZXM6dGhpcy5zdGF0ZSYmdGhpcy5zdGF0ZS5zdGFydEluZGljZXM/dGhpcy5zdGF0ZS5zdGFydEluZGljZXM6bnVsbH19LHtrZXk6Il9pbml0aWFsaXplIix2YWx1ZTpmdW5jdGlvbigpe09iamVjdChDLmEpKCJsYXllci5pbml0aWFsaXplIix0aGlzKSx0aGlzLl9pbml0U3RhdGUoKSx0aGlzLmluaXRpYWxpemVTdGF0ZSh0aGlzLmNvbnRleHQpO3ZhciB0PSEwLGU9ITEsbj12b2lkIDA7dHJ5e2Zvcih2YXIgcixpPXRoaXMucHJvcHMuZXh0ZW5zaW9uc1tTeW1ib2wuaXRlcmF0b3JdKCk7ISh0PShyPWkubmV4dCgpKS5kb25lKTt0PSEwKXt2YXIgYT1yLnZhbHVlO2EuaW5pdGlhbGl6ZVN0YXRlLmNhbGwodGhpcyx0aGlzLmNvbnRleHQsYSl9fWNhdGNoKHQpe2U9ITAsbj10fWZpbmFsbHl7dHJ5e3R8fG51bGw9PWkucmV0dXJufHxpLnJldHVybigpfWZpbmFsbHl7aWYoZSl0aHJvdyBufX10aGlzLnNldENoYW5nZUZsYWdzKHtkYXRhQ2hhbmdlZDohMCxwcm9wc0NoYW5nZWQ6ITAsdmlld3BvcnRDaGFuZ2VkOiEwLGV4dGVuc2lvbnNDaGFuZ2VkOiEwfSksdGhpcy5fdXBkYXRlU3RhdGUoKX19LHtrZXk6Il91cGRhdGUiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5uZWVkc1VwZGF0ZSgpO09iamVjdChDLmEpKCJsYXllci51cGRhdGUiLHRoaXMsdCksdCYmdGhpcy5fdXBkYXRlU3RhdGUoKX19LHtrZXk6Il91cGRhdGVTdGF0ZSIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnByb3BzLGU9dGhpcy5fdXBkYXRlVW5pZm9ybVRyYW5zaXRpb24oKTt0aGlzLmludGVybmFsU3RhdGUucHJvcHNJblRyYW5zaXRpb249ZSx0aGlzLnByb3BzPWU7dmFyIG49dGhpcy5fZ2V0VXBkYXRlUGFyYW1zKCk7aWYodGhpcy5jb250ZXh0LmdsKXRoaXMudXBkYXRlU3RhdGUobik7ZWxzZSB0cnl7dGhpcy51cGRhdGVTdGF0ZShuKX1jYXRjaCh0KXt9dmFyIHI9ITAsaT0hMSxhPXZvaWQgMDt0cnl7Zm9yKHZhciBvLHM9dGhpcy5wcm9wcy5leHRlbnNpb25zW1N5bWJvbC5pdGVyYXRvcl0oKTshKHI9KG89cy5uZXh0KCkpLmRvbmUpO3I9ITApe3ZhciB1PW8udmFsdWU7dS51cGRhdGVTdGF0ZS5jYWxsKHRoaXMsbix1KX19Y2F0Y2godCl7aT0hMCxhPXR9ZmluYWxseXt0cnl7cnx8bnVsbD09cy5yZXR1cm58fHMucmV0dXJuKCl9ZmluYWxseXtpZihpKXRocm93IGF9fXRoaXMuX3VwZGF0ZU1vZHVsZXMobiksdGhpcy5pc0NvbXBvc2l0ZT90aGlzLl9yZW5kZXJMYXllcnMobik6KHRoaXMuc2V0TmVlZHNSZWRyYXcoKSx0aGlzLl91cGRhdGVBdHRyaWJ1dGVzKHRoaXMucHJvcHMpLHRoaXMuc3RhdGUubW9kZWwmJnRoaXMuc3RhdGUubW9kZWwuc2V0SW5zdGFuY2VDb3VudCh0aGlzLmdldE51bUluc3RhbmNlcygpKSksdGhpcy5wcm9wcz10LHRoaXMuY2xlYXJDaGFuZ2VGbGFncygpLHRoaXMuaW50ZXJuYWxTdGF0ZS5uZWVkc1VwZGF0ZT0hMSx0aGlzLmludGVybmFsU3RhdGUucmVzZXRPbGRQcm9wcygpfX0se2tleToiX2ZpbmFsaXplIix2YWx1ZTpmdW5jdGlvbigpe09iamVjdChDLmEpKCJsYXllci5maW5hbGl6ZSIsdGhpcyksT2JqZWN0KEkuYSkodGhpcy5pbnRlcm5hbFN0YXRlJiZ0aGlzLnN0YXRlKSx0aGlzLmZpbmFsaXplU3RhdGUodGhpcy5jb250ZXh0KTt2YXIgdD0hMCxlPSExLG49dm9pZCAwO3RyeXtmb3IodmFyIHIsaT10aGlzLnByb3BzLmV4dGVuc2lvbnNbU3ltYm9sLml0ZXJhdG9yXSgpOyEodD0ocj1pLm5leHQoKSkuZG9uZSk7dD0hMCl7dmFyIGE9ci52YWx1ZTthLmZpbmFsaXplU3RhdGUuY2FsbCh0aGlzLGEpfX1jYXRjaCh0KXtlPSEwLG49dH1maW5hbGx5e3RyeXt0fHxudWxsPT1pLnJldHVybnx8aS5yZXR1cm4oKX1maW5hbGx5e2lmKGUpdGhyb3cgbn19fX0se2tleToiZHJhd0xheWVyIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLG49dC5tb2R1bGVQYXJhbWV0ZXJzLHI9dm9pZCAwPT09bj9udWxsOm4saT10LnVuaWZvcm1zLGE9dm9pZCAwPT09aT97fTppLG89dC5wYXJhbWV0ZXJzLHM9dm9pZCAwPT09bz97fTpvO3RoaXMuX3VwZGF0ZUF0dHJpYnV0ZVRyYW5zaXRpb24oKTt2YXIgdT10aGlzLnByb3BzO3RoaXMucHJvcHM9dGhpcy5pbnRlcm5hbFN0YXRlLnByb3BzSW5UcmFuc2l0aW9ufHx1O3ZhciBjPXRoaXMucHJvcHMub3BhY2l0eTthLm9wYWNpdHk9TWF0aC5wb3coYywxLzIuMiksciYmdGhpcy5zZXRNb2R1bGVQYXJhbWV0ZXJzKHIpO3ZhciBsPXRoaXMucHJvcHMuZ2V0UG9seWdvbk9mZnNldCxoPWwmJmwoYSl8fFswLDBdO09iamVjdChMLmspKHRoaXMuY29udGV4dC5nbCx7cG9seWdvbk9mZnNldDpofSksT2JqZWN0KEwubCkodGhpcy5jb250ZXh0LmdsLHMsKGZ1bmN0aW9uKCl7dmFyIHQ9e21vZHVsZVBhcmFtZXRlcnM6cix1bmlmb3JtczphLHBhcmFtZXRlcnM6cyxjb250ZXh0OmUuY29udGV4dH0sbj0hMCxpPSExLG89dm9pZCAwO3RyeXtmb3IodmFyIHUsYz1lLnByb3BzLmV4dGVuc2lvbnNbU3ltYm9sLml0ZXJhdG9yXSgpOyEobj0odT1jLm5leHQoKSkuZG9uZSk7bj0hMCl7dmFyIGw9dS52YWx1ZTtsLmRyYXcuY2FsbChlLHQsbCl9fWNhdGNoKHQpe2k9ITAsbz10fWZpbmFsbHl7dHJ5e258fG51bGw9PWMucmV0dXJufHxjLnJldHVybigpfWZpbmFsbHl7aWYoaSl0aHJvdyBvfX1lLmRyYXcodCl9KSksdGhpcy5wcm9wcz11fX0se2tleToiZ2V0Q2hhbmdlRmxhZ3MiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaW50ZXJuYWxTdGF0ZS5jaGFuZ2VGbGFnc319LHtrZXk6InNldENoYW5nZUZsYWdzIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLmludGVybmFsU3RhdGUuY2hhbmdlRmxhZ3M7Zm9yKHZhciBuIGluIGUpdFtuXSYmIWVbbl0mJihlW25dPXRbbl0sT2JqZWN0KEMuYSkoImxheWVyLmNoYW5nZUZsYWciLHRoaXMsbix0KSk7dmFyIHI9ZS5kYXRhQ2hhbmdlZHx8ZS51cGRhdGVUcmlnZ2Vyc0NoYW5nZWR8fGUucHJvcHNDaGFuZ2VkfHxlLmV4dGVuc2lvbnNDaGFuZ2VkO2UucHJvcHNPckRhdGFDaGFuZ2VkPXIsZS5zb21ldGhpbmdDaGFuZ2VkPXJ8fHQudmlld3BvcnRDaGFuZ2VkfHx0LnN0YXRlQ2hhbmdlZH19LHtrZXk6ImNsZWFyQ2hhbmdlRmxhZ3MiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5pbnRlcm5hbFN0YXRlLmNoYW5nZUZsYWdzPXtkYXRhQ2hhbmdlZDohMSxwcm9wc0NoYW5nZWQ6ITEsdXBkYXRlVHJpZ2dlcnNDaGFuZ2VkOiExLHZpZXdwb3J0Q2hhbmdlZDohMSxzdGF0ZUNoYW5nZWQ6ITEsZXh0ZW5zaW9uc0NoYW5nZWQ6ITEscHJvcHNPckRhdGFDaGFuZ2VkOiExLHNvbWV0aGluZ0NoYW5nZWQ6ITF9fX0se2tleToiZGlmZlByb3BzIix2YWx1ZTpmdW5jdGlvbih0LGUpe3ZhciBuPU9iamVjdChBLmIpKHQsZSk7aWYobi51cGRhdGVUcmlnZ2Vyc0NoYW5nZWQpZm9yKHZhciByIGluIG4udXBkYXRlVHJpZ2dlcnNDaGFuZ2VkKW4udXBkYXRlVHJpZ2dlcnNDaGFuZ2VkW3JdJiZ0aGlzLmludmFsaWRhdGVBdHRyaWJ1dGUocik7aWYobi50cmFuc2l0aW9uc0NoYW5nZWQpZm9yKHZhciBpIGluIG4udHJhbnNpdGlvbnNDaGFuZ2VkKXRoaXMuaW50ZXJuYWxTdGF0ZS51bmlmb3JtVHJhbnNpdGlvbnMuYWRkKGksZVtpXSx0W2ldLHQudHJhbnNpdGlvbnNbaV0pO3JldHVybiB0aGlzLnNldENoYW5nZUZsYWdzKG4pfX0se2tleToidmFsaWRhdGVQcm9wcyIsdmFsdWU6ZnVuY3Rpb24oKXtPYmplY3QoQS5jKSh0aGlzLnByb3BzKX19LHtrZXk6InNldE1vZHVsZVBhcmFtZXRlcnMiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPSEwLG49ITEscj12b2lkIDA7dHJ5e2Zvcih2YXIgaSxhPXRoaXMuZ2V0TW9kZWxzKClbU3ltYm9sLml0ZXJhdG9yXSgpOyEoZT0oaT1hLm5leHQoKSkuZG9uZSk7ZT0hMCl7aS52YWx1ZS51cGRhdGVNb2R1bGVTZXR0aW5ncyh0KX19Y2F0Y2godCl7bj0hMCxyPXR9ZmluYWxseXt0cnl7ZXx8bnVsbD09YS5yZXR1cm58fGEucmV0dXJuKCl9ZmluYWxseXtpZihuKXRocm93IHJ9fX19LHtrZXk6Il91cGRhdGVNb2R1bGVzIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10LnByb3BzLG49dC5vbGRQcm9wcyxyPWUuYXV0b0hpZ2hsaWdodCxpPWUuaGlnaGxpZ2h0ZWRPYmplY3RJbmRleCxhPWUuaGlnaGxpZ2h0Q29sb3I7aWYobi5hdXRvSGlnaGxpZ2h0IT09cnx8bi5oaWdobGlnaHRlZE9iamVjdEluZGV4IT09aXx8bi5oaWdobGlnaHRDb2xvciE9PWEpe3ZhciBvPXt9O3J8fChvLnBpY2tpbmdTZWxlY3RlZENvbG9yPW51bGwpLEFycmF5LmlzQXJyYXkoYSkmJihvLnBpY2tpbmdIaWdobGlnaHRDb2xvcj1hKSxOdW1iZXIuaXNJbnRlZ2VyKGkpJiYoby5waWNraW5nU2VsZWN0ZWRDb2xvcj1pPj0wP3RoaXMuZW5jb2RlUGlja2luZ0NvbG9yKGkpOm51bGwpLHRoaXMuc2V0TW9kdWxlUGFyYW1ldGVycyhvKX19fSx7a2V5OiJfZ2V0VXBkYXRlUGFyYW1zIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybntwcm9wczp0aGlzLnByb3BzLG9sZFByb3BzOnRoaXMuaW50ZXJuYWxTdGF0ZS5nZXRPbGRQcm9wcygpLGNvbnRleHQ6dGhpcy5jb250ZXh0LGNoYW5nZUZsYWdzOnRoaXMuaW50ZXJuYWxTdGF0ZS5jaGFuZ2VGbGFnc319fSx7a2V5OiJfZ2V0TmVlZHNSZWRyYXciLHZhbHVlOmZ1bmN0aW9uKHQpe2lmKCF0aGlzLmludGVybmFsU3RhdGUpcmV0dXJuITE7dmFyIGU9ITE7ZT1lfHx0aGlzLmludGVybmFsU3RhdGUubmVlZHNSZWRyYXcmJnRoaXMuaWQsdGhpcy5pbnRlcm5hbFN0YXRlLm5lZWRzUmVkcmF3PXRoaXMuaW50ZXJuYWxTdGF0ZS5uZWVkc1JlZHJhdyYmIXQuY2xlYXJSZWRyYXdGbGFnczt2YXIgbj10aGlzLmdldEF0dHJpYnV0ZU1hbmFnZXIoKSxyPW4mJm4uZ2V0TmVlZHNSZWRyYXcodCk7cmV0dXJuIGU9ZXx8cn19LHtrZXk6Il9nZXRBdHRyaWJ1dGVNYW5hZ2VyIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiBuZXcgZy5hKHRoaXMuY29udGV4dC5nbCx7aWQ6dGhpcy5wcm9wcy5pZCxzdGF0czp0aGlzLmNvbnRleHQuc3RhdHMsdGltZWxpbmU6dGhpcy5jb250ZXh0LnRpbWVsaW5lfSl9fSx7a2V5OiJfaW5pdFN0YXRlIix2YWx1ZTpmdW5jdGlvbigpe09iamVjdChJLmEpKCF0aGlzLmludGVybmFsU3RhdGUmJiF0aGlzLnN0YXRlKSxPYmplY3QoSS5hKShpc0Zpbml0ZSh0aGlzLnByb3BzLmNvb3JkaW5hdGVTeXN0ZW0pLCIiLmNvbmNhdCh0aGlzLmlkLCI6IGludmFsaWQgY29vcmRpbmF0ZVN5c3RlbSIpKTt2YXIgdD10aGlzLl9nZXRBdHRyaWJ1dGVNYW5hZ2VyKCk7dCYmdC5hZGRJbnN0YW5jZWQoe2luc3RhbmNlUGlja2luZ0NvbG9yczp7dHlwZTo1MTIxLHNpemU6Myxub0FsbG9jOiEwLHVwZGF0ZTp0aGlzLmNhbGN1bGF0ZUluc3RhbmNlUGlja2luZ0NvbG9yc319KSx0aGlzLmludGVybmFsU3RhdGU9bmV3IGJ0KHthdHRyaWJ1dGVNYW5hZ2VyOnQsbGF5ZXI6dGhpc30pLHRoaXMuY2xlYXJDaGFuZ2VGbGFncygpLHRoaXMuc3RhdGU9e30sT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMuc3RhdGUsImF0dHJpYnV0ZU1hbmFnZXIiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gUC5hLmRlcHJlY2F0ZWQoImxheWVyLnN0YXRlLmF0dHJpYnV0ZU1hbmFnZXIiLCJsYXllci5nZXRBdHRyaWJ1dGVNYW5hZ2VyKCkiKSx0fX0pLHRoaXMuaW50ZXJuYWxTdGF0ZS5sYXllcj10aGlzLHRoaXMuaW50ZXJuYWxTdGF0ZS51bmlmb3JtVHJhbnNpdGlvbnM9bmV3IEUodGhpcy5jb250ZXh0LnRpbWVsaW5lKSx0aGlzLmludGVybmFsU3RhdGUub25Bc3luY1Byb3BVcGRhdGVkPXRoaXMuX29uQXN5bmNQcm9wVXBkYXRlZC5iaW5kKHRoaXMpLHRoaXMuaW50ZXJuYWxTdGF0ZS5zZXRBc3luY1Byb3BzKHRoaXMucHJvcHMpfX0se2tleToiX3RyYW5zZmVyU3RhdGUiLHZhbHVlOmZ1bmN0aW9uKHQpe09iamVjdChDLmEpKCJsYXllci5tYXRjaGVkIix0aGlzLHRoaXM9PT10KTt2YXIgZT10LnN0YXRlLG49dC5pbnRlcm5hbFN0YXRlO09iamVjdChJLmEpKGUmJm4pLHRoaXMhPT10JiYodGhpcy5pbnRlcm5hbFN0YXRlPW4sdGhpcy5pbnRlcm5hbFN0YXRlLmxheWVyPXRoaXMsdGhpcy5zdGF0ZT1lLHRoaXMuaW50ZXJuYWxTdGF0ZS5zZXRBc3luY1Byb3BzKHRoaXMucHJvcHMpLHRoaXMuZGlmZlByb3BzKHRoaXMucHJvcHMsdGhpcy5pbnRlcm5hbFN0YXRlLmdldE9sZFByb3BzKCkpKX19LHtrZXk6Il9vbkFzeW5jUHJvcFVwZGF0ZWQiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5kaWZmUHJvcHModGhpcy5wcm9wcyx0aGlzLmludGVybmFsU3RhdGUuZ2V0T2xkUHJvcHMoKSksdGhpcy5zZXROZWVkc1VwZGF0ZSgpfX0se2tleToiaXNMb2FkZWQiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmludGVybmFsU3RhdGUmJiF0aGlzLmludGVybmFsU3RhdGUuaXNBc3luY1Byb3BMb2FkaW5nKCl9fV0pLGV9KG10KTtTdC5sYXllck5hbWU9IkxheWVyIixTdC5kZWZhdWx0UHJvcHM9a3R9LGZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigxKSxpPW4ubihyKSxhPW4oMiksbz1uLm4oYSkscz1uKDkpLHU9bi5uKHMpLGM9bigzKSxsPW4ubihjKSxoPW4oMTIpLGY9bi5uKGgpLGQ9bigxMCksdj1uLm4oZCkscD1uKDIwMiksZz1uKDI5MykseT1uKDIyMCksbT1uKDIyKSxiPW4oMTE4KSxfPW4oMjc1KSxPPW4oMTg3KSx4PW4oMTc1KSx3PW4oNzEpLGs9big0KSxTPW4ubihrKSxQPW4oMTI4KTtmdW5jdGlvbiBqKHQsZSl7dmFyIG49T2JqZWN0LmtleXModCk7aWYoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyl7dmFyIHI9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyh0KTtlJiYocj1yLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodCxlKS5lbnVtZXJhYmxlfSkpKSxuLnB1c2guYXBwbHkobixyKX1yZXR1cm4gbn12YXIgVD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKHQpe2koKSh0aGlzLGUpO3ZhciBuPXQuZnA2NCxyPXQuSW5kZXhUeXBlLGE9dm9pZCAwPT09cj9VaW50MzJBcnJheTpyO3JldHVybiB1KCkodGhpcyxsKCkoZSkuY2FsbCh0aGlzLGZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0xO2U8YXJndW1lbnRzLmxlbmd0aDtlKyspe3ZhciBuPW51bGwhPWFyZ3VtZW50c1tlXT9hcmd1bWVudHNbZV06e307ZSUyP2ooT2JqZWN0KG4pLCEwKS5mb3JFYWNoKChmdW5jdGlvbihlKXtTKCkodCxlLG5bZV0pfSkpOk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzP09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHQsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMobikpOmooT2JqZWN0KG4pKS5mb3JFYWNoKChmdW5jdGlvbihlKXtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxlLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IobixlKSl9KSl9cmV0dXJuIHR9KHt9LHQse2F0dHJpYnV0ZXM6e3Bvc2l0aW9uczp7c2l6ZTozLHR5cGU6bj9GbG9hdDY0QXJyYXk6RmxvYXQzMkFycmF5fSx2ZXJ0ZXhWYWxpZDp7dHlwZTpVaW50OENsYW1wZWRBcnJheSxzaXplOjF9LGluZGljZXM6e3R5cGU6YSxzaXplOjF9fX0pKSl9cmV0dXJuIHYoKShlLHQpLG8oKShlLFt7a2V5OiJnZXQiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuYXR0cmlidXRlcztyZXR1cm4iaW5kaWNlcyI9PT10P2UuaW5kaWNlcyYmZS5pbmRpY2VzLnN1YmFycmF5KDAsdGhpcy52ZXJ0ZXhDb3VudCk6ZVt0XX19LHtrZXk6InVwZGF0ZUdlb21ldHJ5Iix2YWx1ZTpmdW5jdGlvbih0KXtmKCkobCgpKGUucHJvdG90eXBlKSwidXBkYXRlR2VvbWV0cnkiLHRoaXMpLmNhbGwodGhpcyx0KTt2YXIgbj10aGlzLmJ1ZmZlcnMuaW5kaWNlcztuJiYodGhpcy52ZXJ0ZXhDb3VudD0obi52YWx1ZXx8bikubGVuZ3RoKX19LHtrZXk6ImdldEdlb21ldHJ5U2l6ZSIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIFAuYih0LHRoaXMucG9zaXRpb25TaXplLHRoaXMubm9ybWFsaXplKX19LHtrZXk6ImdldEdlb21ldHJ5RnJvbUJ1ZmZlciIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMubm9ybWFsaXplfHwhdGhpcy5idWZmZXJzLmluZGljZXM/ZigpKGwoKShlLnByb3RvdHlwZSksImdldEdlb21ldHJ5RnJvbUJ1ZmZlciIsdGhpcykuY2FsbCh0aGlzLHQpOmZ1bmN0aW9uKCl7cmV0dXJuIG51bGx9fX0se2tleToidXBkYXRlR2VvbWV0cnlBdHRyaWJ1dGVzIix2YWx1ZTpmdW5jdGlvbih0LGUpe3RoaXMubm9ybWFsaXplJiYodD1QLmModCx0aGlzLnBvc2l0aW9uU2l6ZSxlLmdlb21ldHJ5U2l6ZSkpLHRoaXMuX3VwZGF0ZUluZGljZXModCxlKSx0aGlzLl91cGRhdGVQb3NpdGlvbnModCxlKSx0aGlzLl91cGRhdGVWZXJ0ZXhWYWxpZCh0LGUpfX0se2tleToiX3VwZGF0ZUluZGljZXMiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dmFyIG49ZS5nZW9tZXRyeUluZGV4LHI9ZS52ZXJ0ZXhTdGFydCxpPWUuaW5kZXhTdGFydCxhPXRoaXMuYXR0cmlidXRlcyxvPXRoaXMuaW5kZXhTdGFydHMscz10aGlzLnR5cGVkQXJyYXlNYW5hZ2VyLHU9YS5pbmRpY2VzO2lmKHUpe3ZhciBjPWksbD1QLmEodCx0aGlzLnBvc2l0aW9uU2l6ZSx0aGlzLm9wdHMucHJlcHJvamVjdCk7dT1zLmFsbG9jYXRlKHUsaStsLmxlbmd0aCx7Y29weTohMH0pO2Zvcih2YXIgaD0wO2g8bC5sZW5ndGg7aCsrKXVbYysrXT1sW2hdK3I7b1tuKzFdPWkrbC5sZW5ndGgsYS5pbmRpY2VzPXV9fX0se2tleToiX3VwZGF0ZVBvc2l0aW9ucyIsdmFsdWU6ZnVuY3Rpb24odCxlKXt2YXIgbj1lLnZlcnRleFN0YXJ0LHI9ZS5nZW9tZXRyeVNpemUsaT10aGlzLmF0dHJpYnV0ZXMucG9zaXRpb25zLGE9dGhpcy5wb3NpdGlvblNpemU7aWYoaSlmb3IodmFyIG89dC5wb3NpdGlvbnN8fHQscz1uLHU9MDt1PHI7cysrLHUrKyl7dmFyIGM9b1t1KmFdLGw9b1t1KmErMV0saD1hPjI/b1t1KmErMl06MDtpWzMqc109YyxpWzMqcysxXT1sLGlbMypzKzJdPWh9fX0se2tleToiX3VwZGF0ZVZlcnRleFZhbGlkIix2YWx1ZTpmdW5jdGlvbih0LGUpe3ZhciBuPWUudmVydGV4U3RhcnQscj1lLmdlb21ldHJ5U2l6ZSxpPXRoaXMuYXR0cmlidXRlcy52ZXJ0ZXhWYWxpZCxhPXRoaXMucG9zaXRpb25TaXplLG89dCYmdC5ob2xlSW5kaWNlcztpZihpLmZpbGwoMSxuLG4rciksbylmb3IodmFyIHM9MDtzPG8ubGVuZ3RoO3MrKylpW24rb1tzXS9hLTFdPTA7aVtuK3ItMV09MH19XSksZX0obigyMDQpLmEpLEU9IlxuYXR0cmlidXRlIHZlYzIgdmVydGV4UG9zaXRpb25zO1xuYXR0cmlidXRlIGZsb2F0IHZlcnRleFZhbGlkO1xuXG51bmlmb3JtIGJvb2wgZXh0cnVkZWQ7XG51bmlmb3JtIGJvb2wgaXNXaXJlZnJhbWU7XG51bmlmb3JtIGZsb2F0IGVsZXZhdGlvblNjYWxlO1xudW5pZm9ybSBmbG9hdCBvcGFjaXR5O1xuXG52YXJ5aW5nIHZlYzQgdkNvbG9yO1xudmFyeWluZyBmbG9hdCBpc1ZhbGlkO1xuXG5zdHJ1Y3QgUG9seWdvblByb3BzIHtcbiAgdmVjNCBmaWxsQ29sb3JzO1xuICB2ZWM0IGxpbmVDb2xvcnM7XG4gIHZlYzMgcG9zaXRpb25zO1xuICB2ZWMzIG5leHRQb3NpdGlvbnM7XG4gIHZlYzMgcGlja2luZ0NvbG9ycztcbiAgdmVjMyBwb3NpdGlvbnM2NExvdztcbiAgdmVjMyBuZXh0UG9zaXRpb25zNjRMb3c7XG4gIGZsb2F0IGVsZXZhdGlvbnM7XG59O1xuXG52ZWMzIHByb2plY3Rfb2Zmc2V0X25vcm1hbCh2ZWMzIHZlY3Rvcikge1xuICBpZiAocHJvamVjdF91Q29vcmRpbmF0ZVN5c3RlbSA9PSBDT09SRElOQVRFX1NZU1RFTV9MTkdMQVQgfHxcbiAgICBwcm9qZWN0X3VDb29yZGluYXRlU3lzdGVtID09IENPT1JESU5BVEVfU1lTVEVNX0xOR0xBVF9PRkZTRVRTKSB7XG4gICAgcmV0dXJuIG5vcm1hbGl6ZSh2ZWN0b3IgKiBwcm9qZWN0X3VDb21tb25Vbml0c1BlcldvcmxkVW5pdCk7XG4gIH1cbiAgcmV0dXJuIHByb2plY3Rfbm9ybWFsKHZlY3Rvcik7XG59XG5cbnZvaWQgY2FsY3VsYXRlUG9zaXRpb24oUG9seWdvblByb3BzIHByb3BzKSB7XG4gIHZlYzMgcG9zO1xuICB2ZWMzIHBvczY0TG93O1xuICB2ZWMzIG5vcm1hbDtcbiAgdmVjNCBjb2xvcnMgPSBpc1dpcmVmcmFtZSA/IHByb3BzLmxpbmVDb2xvcnMgOiBwcm9wcy5maWxsQ29sb3JzO1xuXG4gIGdlb21ldHJ5LndvcmxkUG9zaXRpb24gPSBwcm9wcy5wb3NpdGlvbnM7XG4gIGdlb21ldHJ5LndvcmxkUG9zaXRpb25BbHQgPSBwcm9wcy5uZXh0UG9zaXRpb25zO1xuICBnZW9tZXRyeS5waWNraW5nQ29sb3IgPSBwcm9wcy5waWNraW5nQ29sb3JzO1xuXG4jaWZkZWYgSVNfU0lERV9WRVJURVhcbiAgcG9zID0gbWl4KHByb3BzLnBvc2l0aW9ucywgcHJvcHMubmV4dFBvc2l0aW9ucywgdmVydGV4UG9zaXRpb25zLngpO1xuICBwb3M2NExvdyA9IG1peChwcm9wcy5wb3NpdGlvbnM2NExvdywgcHJvcHMubmV4dFBvc2l0aW9uczY0TG93LCB2ZXJ0ZXhQb3NpdGlvbnMueCk7XG4gIGlzVmFsaWQgPSB2ZXJ0ZXhWYWxpZDtcbiNlbHNlXG4gIHBvcyA9IHByb3BzLnBvc2l0aW9ucztcbiAgcG9zNjRMb3cgPSBwcm9wcy5wb3NpdGlvbnM2NExvdztcbiAgaXNWYWxpZCA9IDEuMDtcbiNlbmRpZlxuXG4gIGlmIChleHRydWRlZCkge1xuICAgIHBvcy56ICs9IHByb3BzLmVsZXZhdGlvbnMgKiB2ZXJ0ZXhQb3NpdGlvbnMueSAqIGVsZXZhdGlvblNjYWxlO1xuICAgIFxuI2lmZGVmIElTX1NJREVfVkVSVEVYXG4gICAgbm9ybWFsID0gdmVjMyhwcm9wcy5wb3NpdGlvbnMueSAtIHByb3BzLm5leHRQb3NpdGlvbnMueSwgcHJvcHMubmV4dFBvc2l0aW9ucy54IC0gcHJvcHMucG9zaXRpb25zLngsIDAuMCk7XG4gICAgbm9ybWFsID0gcHJvamVjdF9vZmZzZXRfbm9ybWFsKG5vcm1hbCk7XG4jZWxzZVxuICAgIG5vcm1hbCA9IHZlYzMoMC4wLCAwLjAsIDEuMCk7XG4jZW5kaWZcbiAgICBnZW9tZXRyeS5ub3JtYWwgPSBub3JtYWw7XG4gIH1cblxuICBnbF9Qb3NpdGlvbiA9IHByb2plY3RfcG9zaXRpb25fdG9fY2xpcHNwYWNlKHBvcywgcG9zNjRMb3csIHZlYzMoMC4pLCBnZW9tZXRyeS5wb3NpdGlvbik7XG4gIERFQ0tHTF9GSUxURVJfR0xfUE9TSVRJT04oZ2xfUG9zaXRpb24sIGdlb21ldHJ5KTtcblxuICBpZiAoZXh0cnVkZWQpIHtcbiAgICB2ZWMzIGxpZ2h0Q29sb3IgPSBsaWdodGluZ19nZXRMaWdodENvbG9yKGNvbG9ycy5yZ2IsIHByb2plY3RfdUNhbWVyYVBvc2l0aW9uLCBnZW9tZXRyeS5wb3NpdGlvbi54eXosIG5vcm1hbCk7XG4gICAgdkNvbG9yID0gdmVjNChsaWdodENvbG9yLCBjb2xvcnMuYSAqIG9wYWNpdHkpO1xuICB9IGVsc2Uge1xuICAgIHZDb2xvciA9IHZlYzQoY29sb3JzLnJnYiwgY29sb3JzLmEgKiBvcGFjaXR5KTtcbiAgfVxuICBERUNLR0xfRklMVEVSX0NPTE9SKHZDb2xvciwgZ2VvbWV0cnkpO1xufVxuIixBPSIjZGVmaW5lIFNIQURFUl9OQU1FIHNvbGlkLXBvbHlnb24tbGF5ZXItdmVydGV4LXNoYWRlclxuXG5hdHRyaWJ1dGUgdmVjMyBwb3NpdGlvbnM7XG5hdHRyaWJ1dGUgdmVjMyBwb3NpdGlvbnM2NExvdztcbmF0dHJpYnV0ZSBmbG9hdCBlbGV2YXRpb25zO1xuYXR0cmlidXRlIHZlYzQgZmlsbENvbG9ycztcbmF0dHJpYnV0ZSB2ZWM0IGxpbmVDb2xvcnM7XG5hdHRyaWJ1dGUgdmVjMyBwaWNraW5nQ29sb3JzO1xuXG4iLmNvbmNhdChFLCJcblxudm9pZCBtYWluKHZvaWQpIHtcbiAgUG9seWdvblByb3BzIHByb3BzO1xuXG4gIHByb3BzLnBvc2l0aW9ucyA9IHBvc2l0aW9ucztcbiAgcHJvcHMucG9zaXRpb25zNjRMb3cgPSBwb3NpdGlvbnM2NExvdztcbiAgcHJvcHMuZWxldmF0aW9ucyA9IGVsZXZhdGlvbnM7XG4gIHByb3BzLmZpbGxDb2xvcnMgPSBmaWxsQ29sb3JzO1xuICBwcm9wcy5saW5lQ29sb3JzID0gbGluZUNvbG9ycztcbiAgcHJvcHMucGlja2luZ0NvbG9ycyA9IHBpY2tpbmdDb2xvcnM7XG5cbiAgY2FsY3VsYXRlUG9zaXRpb24ocHJvcHMpO1xufVxuIiksTT0iI2RlZmluZSBTSEFERVJfTkFNRSBzb2xpZC1wb2x5Z29uLWxheWVyLXZlcnRleC1zaGFkZXItc2lkZVxuI2RlZmluZSBJU19TSURFX1ZFUlRFWFxuXG5cbmF0dHJpYnV0ZSB2ZWMzIGluc3RhbmNlUG9zaXRpb25zO1xuYXR0cmlidXRlIHZlYzMgbmV4dFBvc2l0aW9ucztcbmF0dHJpYnV0ZSB2ZWMzIGluc3RhbmNlUG9zaXRpb25zNjRMb3c7XG5hdHRyaWJ1dGUgdmVjMyBuZXh0UG9zaXRpb25zNjRMb3c7XG5hdHRyaWJ1dGUgZmxvYXQgaW5zdGFuY2VFbGV2YXRpb25zO1xuYXR0cmlidXRlIHZlYzQgaW5zdGFuY2VGaWxsQ29sb3JzO1xuYXR0cmlidXRlIHZlYzQgaW5zdGFuY2VMaW5lQ29sb3JzO1xuYXR0cmlidXRlIHZlYzMgaW5zdGFuY2VQaWNraW5nQ29sb3JzO1xuXG4iLmNvbmNhdChFLCJcblxudm9pZCBtYWluKHZvaWQpIHtcbiAgUG9seWdvblByb3BzIHByb3BzO1xuXG4gIHByb3BzLnBvc2l0aW9ucyA9IGluc3RhbmNlUG9zaXRpb25zO1xuICBwcm9wcy5wb3NpdGlvbnM2NExvdyA9IGluc3RhbmNlUG9zaXRpb25zNjRMb3c7XG4gIHByb3BzLmVsZXZhdGlvbnMgPSBpbnN0YW5jZUVsZXZhdGlvbnM7XG4gIHByb3BzLmZpbGxDb2xvcnMgPSBpbnN0YW5jZUZpbGxDb2xvcnM7XG4gIHByb3BzLmxpbmVDb2xvcnMgPSBpbnN0YW5jZUxpbmVDb2xvcnM7XG4gIHByb3BzLnBpY2tpbmdDb2xvcnMgPSBpbnN0YW5jZVBpY2tpbmdDb2xvcnM7XG4gIHByb3BzLm5leHRQb3NpdGlvbnMgPSBuZXh0UG9zaXRpb25zO1xuICBwcm9wcy5uZXh0UG9zaXRpb25zNjRMb3cgPSBuZXh0UG9zaXRpb25zNjRMb3c7XG5cbiAgY2FsY3VsYXRlUG9zaXRpb24ocHJvcHMpO1xufVxuIik7bi5kKGUsImEiLChmdW5jdGlvbigpe3JldHVybiBSfSkpO3ZhciBDPVswLDAsMCwyNTVdLEw9e2ZpbGxlZDohMCxleHRydWRlZDohMSx3aXJlZnJhbWU6ITEsX25vcm1hbGl6ZTohMCxlbGV2YXRpb25TY2FsZTp7dHlwZToibnVtYmVyIixtaW46MCx2YWx1ZToxfSxnZXRQb2x5Z29uOnt0eXBlOiJhY2Nlc3NvciIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHQucG9seWdvbn19LGdldEVsZXZhdGlvbjp7dHlwZToiYWNjZXNzb3IiLHZhbHVlOjFlM30sZ2V0RmlsbENvbG9yOnt0eXBlOiJhY2Nlc3NvciIsdmFsdWU6Q30sZ2V0TGluZUNvbG9yOnt0eXBlOiJhY2Nlc3NvciIsdmFsdWU6Q30sbWF0ZXJpYWw6ITB9LEk9e2VudGVyOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIGUubGVuZ3RoP2Uuc3ViYXJyYXkoZS5sZW5ndGgtdC5sZW5ndGgpOnR9fSxSPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXtyZXR1cm4gaSgpKHRoaXMsZSksdSgpKHRoaXMsbCgpKGUpLmFwcGx5KHRoaXMsYXJndW1lbnRzKSl9cmV0dXJuIHYoKShlLHQpLG8oKShlLFt7a2V5OiJnZXRTaGFkZXJzIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gZigpKGwoKShlLnByb3RvdHlwZSksImdldFNoYWRlcnMiLHRoaXMpLmNhbGwodGhpcyx7dnM6dCxmczoiI2RlZmluZSBTSEFERVJfTkFNRSBzb2xpZC1wb2x5Z29uLWxheWVyLWZyYWdtZW50LXNoYWRlclxuXG5wcmVjaXNpb24gaGlnaHAgZmxvYXQ7XG5cbnZhcnlpbmcgdmVjNCB2Q29sb3I7XG52YXJ5aW5nIGZsb2F0IGlzVmFsaWQ7XG5cbnZvaWQgbWFpbih2b2lkKSB7XG4gIGlmIChpc1ZhbGlkIDwgMC41KSB7XG4gICAgZGlzY2FyZDtcbiAgfVxuXG4gIGdsX0ZyYWdDb2xvciA9IHZDb2xvcjtcblxuICBERUNLR0xfRklMVEVSX0NPTE9SKGdsX0ZyYWdDb2xvciwgZ2VvbWV0cnkpO1xufVxuIixkZWZpbmVzOnt9LG1vZHVsZXM6W3AuYSxnLmEseS5hXX0pfX0se2tleToiaW5pdGlhbGl6ZVN0YXRlIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMsZT10aGlzLmNvbnRleHQsbj1lLmdsLHI9ZS52aWV3cG9ydCxpPXRoaXMucHJvcHMuY29vcmRpbmF0ZVN5c3RlbTtyLmlzR2Vvc3BhdGlhbCYmaT09PW0uYS5ERUZBVUxUJiYoaT1tLmEuTE5HTEFUKSx0aGlzLnNldFN0YXRlKHtudW1JbnN0YW5jZXM6MCxwb2x5Z29uVGVzc2VsYXRvcjpuZXcgVCh7cHJlcHJvamVjdDppPT09bS5hLkxOR0xBVCxmcDY0OnRoaXMudXNlNjRiaXRQb3NpdGlvbnMoKSxJbmRleFR5cGU6IW58fE9iamVjdChfLmMpKG4sTy5hLkVMRU1FTlRfSU5ERVhfVUlOVDMyKT9VaW50MzJBcnJheTpVaW50MTZBcnJheX0pfSk7dmFyIGE9dGhpcy5nZXRBdHRyaWJ1dGVNYW5hZ2VyKCk7YS5yZW1vdmUoWyJpbnN0YW5jZVBpY2tpbmdDb2xvcnMiXSksYS5hZGQoe2luZGljZXM6e3NpemU6MSxpc0luZGV4ZWQ6ITAsdXBkYXRlOnRoaXMuY2FsY3VsYXRlSW5kaWNlcyxub0FsbG9jOiEwfSxwb3NpdGlvbnM6e3NpemU6Myx0eXBlOjUxMzAsZnA2NDp0aGlzLnVzZTY0Yml0UG9zaXRpb25zKCksdHJhbnNpdGlvbjpJLGFjY2Vzc29yOiJnZXRQb2x5Z29uIix1cGRhdGU6dGhpcy5jYWxjdWxhdGVQb3NpdGlvbnMsbm9BbGxvYzohMCxzaGFkZXJBdHRyaWJ1dGVzOntwb3NpdGlvbnM6e3ZlcnRleE9mZnNldDowLGRpdmlzb3I6MH0saW5zdGFuY2VQb3NpdGlvbnM6e3ZlcnRleE9mZnNldDowLGRpdmlzb3I6MX0sbmV4dFBvc2l0aW9uczp7dmVydGV4T2Zmc2V0OjEsZGl2aXNvcjoxfX19LHZlcnRleFZhbGlkOntzaXplOjEsZGl2aXNvcjoxLHR5cGU6NTEyMSx1cGRhdGU6dGhpcy5jYWxjdWxhdGVWZXJ0ZXhWYWxpZCxub0FsbG9jOiEwfSxlbGV2YXRpb25zOntzaXplOjEsdHJhbnNpdGlvbjpJLGFjY2Vzc29yOiJnZXRFbGV2YXRpb24iLHNoYWRlckF0dHJpYnV0ZXM6e2VsZXZhdGlvbnM6e2Rpdmlzb3I6MH0saW5zdGFuY2VFbGV2YXRpb25zOntkaXZpc29yOjF9fX0sZmlsbENvbG9yczp7YWxpYXM6ImNvbG9ycyIsc2l6ZTp0aGlzLnByb3BzLmNvbG9yRm9ybWF0Lmxlbmd0aCx0eXBlOjUxMjEsbm9ybWFsaXplZDohMCx0cmFuc2l0aW9uOkksYWNjZXNzb3I6ImdldEZpbGxDb2xvciIsZGVmYXVsdFZhbHVlOkMsc2hhZGVyQXR0cmlidXRlczp7ZmlsbENvbG9yczp7ZGl2aXNvcjowfSxpbnN0YW5jZUZpbGxDb2xvcnM6e2Rpdmlzb3I6MX19fSxsaW5lQ29sb3JzOnthbGlhczoiY29sb3JzIixzaXplOnRoaXMucHJvcHMuY29sb3JGb3JtYXQubGVuZ3RoLHR5cGU6NTEyMSxub3JtYWxpemVkOiEwLHRyYW5zaXRpb246SSxhY2Nlc3NvcjoiZ2V0TGluZUNvbG9yIixkZWZhdWx0VmFsdWU6QyxzaGFkZXJBdHRyaWJ1dGVzOntsaW5lQ29sb3JzOntkaXZpc29yOjB9LGluc3RhbmNlTGluZUNvbG9yczp7ZGl2aXNvcjoxfX19LHBpY2tpbmdDb2xvcnM6e3NpemU6Myx0eXBlOjUxMjEsYWNjZXNzb3I6ZnVuY3Rpb24oZSxuKXt2YXIgcj1uLmluZGV4LGk9bi50YXJnZXQ7cmV0dXJuIHQuZW5jb2RlUGlja2luZ0NvbG9yKGUmJmUuX19zb3VyY2U/ZS5fX3NvdXJjZS5pbmRleDpyLGkpfSxzaGFkZXJBdHRyaWJ1dGVzOntwaWNraW5nQ29sb3JzOntkaXZpc29yOjB9LGluc3RhbmNlUGlja2luZ0NvbG9yczp7ZGl2aXNvcjoxfX19fSl9fSx7a2V5OiJnZXRQaWNraW5nSW5mbyIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIG49ZigpKGwoKShlLnByb3RvdHlwZSksImdldFBpY2tpbmdJbmZvIix0aGlzKS5jYWxsKHRoaXMsdCkscj1uLmluZGV4LGk9dGhpcy5wcm9wcy5kYXRhO3JldHVybiBpWzBdJiZpWzBdLl9fc291cmNlJiYobi5vYmplY3Q9aS5maW5kKChmdW5jdGlvbih0KXtyZXR1cm4gdC5fX3NvdXJjZS5pbmRleD09PXJ9KSkpLG59fSx7a2V5OiJkcmF3Iix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10LnVuaWZvcm1zLG49dGhpcy5wcm9wcyxyPW4uZXh0cnVkZWQsaT1uLmZpbGxlZCxhPW4ud2lyZWZyYW1lLG89bi5lbGV2YXRpb25TY2FsZSxzPXRoaXMuc3RhdGUsdT1zLnRvcE1vZGVsLGM9cy5zaWRlTW9kZWwsbD1zLnBvbHlnb25UZXNzZWxhdG9yLGg9T2JqZWN0LmFzc2lnbih7fSxlLHtleHRydWRlZDpCb29sZWFuKHIpLGVsZXZhdGlvblNjYWxlOm99KTtjJiYoYy5zZXRJbnN0YW5jZUNvdW50KGwuaW5zdGFuY2VDb3VudC0xKSxjLnNldFVuaWZvcm1zKGgpLGEmJihjLnNldERyYXdNb2RlKDMpLGMuc2V0VW5pZm9ybXMoe2lzV2lyZWZyYW1lOiEwfSkuZHJhdygpKSxpJiYoYy5zZXREcmF3TW9kZSg2KSxjLnNldFVuaWZvcm1zKHtpc1dpcmVmcmFtZTohMX0pLmRyYXcoKSkpLHUmJih1LnNldFZlcnRleENvdW50KGwudmVydGV4Q291bnQpLHUuc2V0VW5pZm9ybXMoaCkuZHJhdygpKX19LHtrZXk6InVwZGF0ZVN0YXRlIix2YWx1ZTpmdW5jdGlvbih0KXtmKCkobCgpKGUucHJvdG90eXBlKSwidXBkYXRlU3RhdGUiLHRoaXMpLmNhbGwodGhpcyx0KSx0aGlzLnVwZGF0ZUdlb21ldHJ5KHQpO3ZhciBuPXQucHJvcHMscj10Lm9sZFByb3BzLGk9dC5jaGFuZ2VGbGFncyxhPXRoaXMuZ2V0QXR0cmlidXRlTWFuYWdlcigpOyhpLmV4dGVuc2lvbnNDaGFuZ2VkfHxuLmZpbGxlZCE9PXIuZmlsbGVkfHxuLmV4dHJ1ZGVkIT09ci5leHRydWRlZCkmJih0aGlzLnN0YXRlLm1vZGVscyYmdGhpcy5zdGF0ZS5tb2RlbHMuZm9yRWFjaCgoZnVuY3Rpb24odCl7cmV0dXJuIHQuZGVsZXRlKCl9KSksdGhpcy5zZXRTdGF0ZSh0aGlzLl9nZXRNb2RlbHModGhpcy5jb250ZXh0LmdsKSksYS5pbnZhbGlkYXRlQWxsKCkpfX0se2tleToidXBkYXRlR2VvbWV0cnkiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXQucHJvcHMsbj0odC5vbGRQcm9wcyx0LmNoYW5nZUZsYWdzKTtpZihuLmRhdGFDaGFuZ2VkfHxuLnVwZGF0ZVRyaWdnZXJzQ2hhbmdlZCYmKG4udXBkYXRlVHJpZ2dlcnNDaGFuZ2VkLmFsbHx8bi51cGRhdGVUcmlnZ2Vyc0NoYW5nZWQuZ2V0UG9seWdvbikpe3ZhciByPXRoaXMuc3RhdGUucG9seWdvblRlc3NlbGF0b3IsaT1lLmRhdGEuYXR0cmlidXRlc3x8e307ci51cGRhdGVHZW9tZXRyeSh7ZGF0YTplLmRhdGEsbm9ybWFsaXplOmUuX25vcm1hbGl6ZSxnZW9tZXRyeUJ1ZmZlcjppLmdldFBvbHlnb24sYnVmZmVyczppLGdldEdlb21ldHJ5OmUuZ2V0UG9seWdvbixwb3NpdGlvbkZvcm1hdDplLnBvc2l0aW9uRm9ybWF0LGZwNjQ6dGhpcy51c2U2NGJpdFBvc2l0aW9ucygpLGRhdGFDaGFuZ2VkOm4uZGF0YUNoYW5nZWR9KSx0aGlzLnNldFN0YXRlKHtudW1JbnN0YW5jZXM6ci5pbnN0YW5jZUNvdW50LHN0YXJ0SW5kaWNlczpyLnZlcnRleFN0YXJ0c30pLG4uZGF0YUNoYW5nZWR8fHRoaXMuZ2V0QXR0cmlidXRlTWFuYWdlcigpLmludmFsaWRhdGVBbGwoKX19fSx7a2V5OiJfZ2V0TW9kZWxzIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZSxuLHI9dGhpcy5wcm9wcyxpPXIuaWQsYT1yLmZpbGxlZCxvPXIuZXh0cnVkZWQ7aWYoYSl7dmFyIHM9dGhpcy5nZXRTaGFkZXJzKEEpO3MuZGVmaW5lcy5OT05fSU5TVEFOQ0VEX01PREVMPTEsZT1uZXcgeC5hKHQsT2JqZWN0LmFzc2lnbih7fSxzLHtpZDoiIi5jb25jYXQoaSwiLXRvcCIpLGRyYXdNb2RlOjQsYXR0cmlidXRlczp7dmVydGV4UG9zaXRpb25zOm5ldyBGbG9hdDMyQXJyYXkoWzAsMV0pfSx1bmlmb3Jtczp7aXNXaXJlZnJhbWU6ITEsaXNTaWRlVmVydGV4OiExfSx2ZXJ0ZXhDb3VudDowLGlzSW5kZXhlZDohMH0pKX1yZXR1cm4gbyYmKChuPW5ldyB4LmEodCxPYmplY3QuYXNzaWduKHt9LHRoaXMuZ2V0U2hhZGVycyhNKSx7aWQ6IiIuY29uY2F0KGksIi1zaWRlIiksZ2VvbWV0cnk6bmV3IHcuYSh7ZHJhd01vZGU6MSx2ZXJ0ZXhDb3VudDo0LGF0dHJpYnV0ZXM6e3ZlcnRleFBvc2l0aW9uczp7c2l6ZToyLHZhbHVlOm5ldyBGbG9hdDMyQXJyYXkoWzEsMSwwLDEsMCwwLDEsMF0pfX19KSxpbnN0YW5jZUNvdW50OjAsaXNJbnN0YW5jZWQ6MX0pKSkudXNlckRhdGEuZXhjbHVkZUF0dHJpYnV0ZXM9e2luZGljZXM6ITB9KSx7bW9kZWxzOltuLGVdLmZpbHRlcihCb29sZWFuKSx0b3BNb2RlbDplLHNpZGVNb2RlbDpufX19LHtrZXk6ImNhbGN1bGF0ZUluZGljZXMiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuc3RhdGUucG9seWdvblRlc3NlbGF0b3I7dC5zdGFydEluZGljZXM9ZS5pbmRleFN0YXJ0cyx0LnZhbHVlPWUuZ2V0KCJpbmRpY2VzIil9fSx7a2V5OiJjYWxjdWxhdGVQb3NpdGlvbnMiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuc3RhdGUucG9seWdvblRlc3NlbGF0b3I7dC5zdGFydEluZGljZXM9ZS52ZXJ0ZXhTdGFydHMsdC52YWx1ZT1lLmdldCgicG9zaXRpb25zIil9fSx7a2V5OiJjYWxjdWxhdGVWZXJ0ZXhWYWxpZCIsdmFsdWU6ZnVuY3Rpb24odCl7dC52YWx1ZT10aGlzLnN0YXRlLnBvbHlnb25UZXNzZWxhdG9yLmdldCgidmVydGV4VmFsaWQiKX19XSksZX0oYi5hKTtSLmxheWVyTmFtZT0iU29saWRQb2x5Z29uTGF5ZXIiLFIuZGVmYXVsdFByb3BzPUx9LGZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gcih0LGUpe3JldHVybihyPU9iamVjdC5zZXRQcm90b3R5cGVPZnx8ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5fX3Byb3RvX189ZSx0fSkodCxlKX1uLmQoZSwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIHJ9KSl9LGZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7bi5kKGUsImEiLChmdW5jdGlvbigpe3JldHVybiBhfSkpO3ZhciByPW4oMTIwKTtmdW5jdGlvbiBpKCl7aWYoInVuZGVmaW5lZCI9PXR5cGVvZiBSZWZsZWN0fHwhUmVmbGVjdC5jb25zdHJ1Y3QpcmV0dXJuITE7aWYoUmVmbGVjdC5jb25zdHJ1Y3Quc2hhbSlyZXR1cm4hMTtpZigiZnVuY3Rpb24iPT10eXBlb2YgUHJveHkpcmV0dXJuITA7dHJ5e3JldHVybiBEYXRlLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKFJlZmxlY3QuY29uc3RydWN0KERhdGUsW10sKGZ1bmN0aW9uKCl7fSkpKSwhMH1jYXRjaCh0KXtyZXR1cm4hMX19ZnVuY3Rpb24gYSh0LGUsbil7cmV0dXJuKGE9aSgpP1JlZmxlY3QuY29uc3RydWN0OmZ1bmN0aW9uKHQsZSxuKXt2YXIgaT1bbnVsbF07aS5wdXNoLmFwcGx5KGksZSk7dmFyIGE9bmV3KEZ1bmN0aW9uLmJpbmQuYXBwbHkodCxpKSk7cmV0dXJuIG4mJk9iamVjdChyLmEpKGEsbi5wcm90b3R5cGUpLGF9KS5hcHBseShudWxsLGFyZ3VtZW50cyl9fSxmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oNTMpLGk9bi5uKHIpLGE9bigxOSksbz1uLm4oYSkscz1uKDIyKSx1PW4oMTExKSxjPW4oOCksbD1uKDEwOCksaD1uKDM0KSxmPU9iamVjdChsLmEpKChmdW5jdGlvbih0KXt2YXIgZT10LnZpZXdwb3J0LG49dC5jZW50ZXI7cmV0dXJuIG5ldyBjLmEoZS52aWV3UHJvamVjdGlvbk1hdHJpeCkuaW52ZXJ0KCkudHJhbnNmb3JtKG4pfSkpLGQ9T2JqZWN0KGwuYSkoKGZ1bmN0aW9uKHQpe3ZhciBlPXQudmlld3BvcnQsbj10LnNoYWRvd01hdHJpY2VzLHI9W10sYT1lLnBpeGVsVW5wcm9qZWN0aW9uTWF0cml4LHM9ZS5pc0dlb3NwYXRpYWw/dm9pZCAwOjEsdT1bWzAsMCxzXSxbZS53aWR0aCwwLHNdLFswLGUuaGVpZ2h0LHNdLFtlLndpZHRoLGUuaGVpZ2h0LHNdLFswLDAsLTFdLFtlLndpZHRoLDAsLTFdLFswLGUuaGVpZ2h0LC0xXSxbZS53aWR0aCxlLmhlaWdodCwtMV1dLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKHQsZSl7dmFyIG49bygpKHQsMykscj1uWzBdLGk9blsxXSxhPW5bMl0scz1PYmplY3QoaC5sKShbcixpLGFdLGUpO2lmKE51bWJlci5pc0Zpbml0ZShhKSlyZXR1cm4gcztyZXR1cm5bc1swXSxzWzFdLDBdfSh0LGEpfSkpLGw9ITAsZj0hMSxkPXZvaWQgMDt0cnl7Zm9yKHZhciB2LHA9ZnVuY3Rpb24oKXt2YXIgdD12LnZhbHVlLG49dC5jbG9uZSgpLnRyYW5zbGF0ZShuZXcgYy5kKGUuY2VudGVyKS5uZWdhdGUoKSksYT11Lm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIG4udHJhbnNmb3JtKHQpfSkpLG89KG5ldyBjLmEpLm9ydGhvKHtsZWZ0Ok1hdGgubWluLmFwcGx5KE1hdGgsaSgpKGEubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gdFswXX0pKSkpLHJpZ2h0Ok1hdGgubWF4LmFwcGx5KE1hdGgsaSgpKGEubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gdFswXX0pKSkpLGJvdHRvbTpNYXRoLm1pbi5hcHBseShNYXRoLGkoKShhLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIHRbMV19KSkpKSx0b3A6TWF0aC5tYXguYXBwbHkoTWF0aCxpKCkoYS5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiB0WzFdfSkpKSksbmVhcjpNYXRoLm1pbi5hcHBseShNYXRoLGkoKShhLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuLXRbMl19KSkpKSxmYXI6TWF0aC5tYXguYXBwbHkoTWF0aCxpKCkoYS5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybi10WzJdfSkpKSl9KTtyLnB1c2goby5tdWx0aXBseVJpZ2h0KHQpKX0sZz1uW1N5bWJvbC5pdGVyYXRvcl0oKTshKGw9KHY9Zy5uZXh0KCkpLmRvbmUpO2w9ITApcCgpfWNhdGNoKHQpe2Y9ITAsZD10fWZpbmFsbHl7dHJ5e2x8fG51bGw9PWcucmV0dXJufHxnLnJldHVybigpfWZpbmFsbHl7aWYoZil0aHJvdyBkfX1yZXR1cm4gcn0pKSx2PVswLDAsMCwxXSxwPVsxLDAsMCwwLDAsMSwwLDAsMCwwLDEsMCwwLDAsMCwwXTtmdW5jdGlvbiBnKCl7Zm9yKHZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fSxlPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp7fSxuPXtzaGFkb3dfdURyYXdTaGFkb3dNYXA6Qm9vbGVhbih0LmRyYXdUb1NoYWRvd01hcCksc2hhZG93X3VVc2VTaGFkb3dNYXA6ISF0LnNoYWRvd01hcHMmJnQuc2hhZG93TWFwcy5sZW5ndGg+MCxzaGFkb3dfdUNvbG9yOnQuc2hhZG93Q29sb3J8fHYsc2hhZG93X3VMaWdodElkOnQuc2hhZG93TGlnaHRJZHx8MCxzaGFkb3dfdUxpZ2h0Q291bnQ6dC5zaGFkb3dNYXRyaWNlcy5sZW5ndGh9LHI9Zih7dmlld3BvcnQ6dC52aWV3cG9ydCxjZW50ZXI6ZS5wcm9qZWN0X3VDZW50ZXJ9KSxpPVtdLGE9ZCh7c2hhZG93TWF0cmljZXM6dC5zaGFkb3dNYXRyaWNlcyx2aWV3cG9ydDp0LnZpZXdwb3J0fSkuc2xpY2UoKSxvPTA7bzx0LnNoYWRvd01hdHJpY2VzLmxlbmd0aDtvKyspe3ZhciB1PWFbb10sbD11LmNsb25lKCkudHJhbnNsYXRlKG5ldyBjLmQodC52aWV3cG9ydC5jZW50ZXIpLm5lZ2F0ZSgpKTtlLnByb2plY3RfdUNvb3JkaW5hdGVTeXN0ZW09PT1zLmEuTE5HTEFUJiZlLnByb2plY3RfdVByb2plY3Rpb25Nb2RlPT09cy5jLldFQl9NRVJDQVRPUj8oYVtvXT1sLGlbb109cik6KGFbb109dS5jbG9uZSgpLm11bHRpcGx5UmlnaHQocCksaVtvXT1sLnRyYW5zZm9ybShyKSl9Zm9yKHZhciBoPTA7aDxhLmxlbmd0aDtoKyspblsic2hhZG93X3VWaWV3UHJvamVjdGlvbk1hdHJpY2VzWyIuY29uY2F0KGgsIl0iKV09YVtoXSxuWyJzaGFkb3dfdVByb2plY3RDZW50ZXJzWyIuY29uY2F0KGgsIl0iKV09aVtoXSx0LnNoYWRvd01hcHMmJnQuc2hhZG93TWFwcy5sZW5ndGg+MD9uWyJzaGFkb3dfdVNoYWRvd01hcCIuY29uY2F0KGgpXT10LnNoYWRvd01hcHNbaF06blsic2hhZG93X3VTaGFkb3dNYXAiLmNvbmNhdChoKV09dC5kdW1teVNoYWRvd01hcDtyZXR1cm4gbn1lLmE9e25hbWU6InNoYWRvdyIsZGVwZW5kZW5jaWVzOlt1LmFdLHZzOiJcbmNvbnN0IGludCBtYXhfbGlnaHRzID0gMjtcbnVuaWZvcm0gbWF0NCBzaGFkb3dfdVZpZXdQcm9qZWN0aW9uTWF0cmljZXNbbWF4X2xpZ2h0c107XG51bmlmb3JtIHZlYzQgc2hhZG93X3VQcm9qZWN0Q2VudGVyc1ttYXhfbGlnaHRzXTtcbnVuaWZvcm0gYm9vbCBzaGFkb3dfdURyYXdTaGFkb3dNYXA7XG51bmlmb3JtIGJvb2wgc2hhZG93X3VVc2VTaGFkb3dNYXA7XG51bmlmb3JtIGludCBzaGFkb3dfdUxpZ2h0SWQ7XG51bmlmb3JtIGZsb2F0IHNoYWRvd191TGlnaHRDb3VudDtcblxudmFyeWluZyB2ZWMzIHNoYWRvd192UG9zaXRpb25bbWF4X2xpZ2h0c107XG5cbnZlYzQgc2hhZG93X3NldFZlcnRleFBvc2l0aW9uKHZlYzQgcG9zaXRpb25fY29tbW9uc3BhY2UpIHtcbiAgaWYgKHNoYWRvd191RHJhd1NoYWRvd01hcCkge1xuICAgIHJldHVybiBwcm9qZWN0X2NvbW1vbl9wb3NpdGlvbl90b19jbGlwc3BhY2UocG9zaXRpb25fY29tbW9uc3BhY2UsIHNoYWRvd191Vmlld1Byb2plY3Rpb25NYXRyaWNlc1tzaGFkb3dfdUxpZ2h0SWRdLCBzaGFkb3dfdVByb2plY3RDZW50ZXJzW3NoYWRvd191TGlnaHRJZF0pO1xuICB9XG4gIGlmIChzaGFkb3dfdVVzZVNoYWRvd01hcCkge1xuICAgIGZvciAoaW50IGkgPSAwOyBpIDwgbWF4X2xpZ2h0czsgaSsrKSB7XG4gICAgICBpZihpIDwgaW50KHNoYWRvd191TGlnaHRDb3VudCkpIHtcbiAgICAgICAgdmVjNCBzaGFkb3dNYXBfcG9zaXRpb24gPSBwcm9qZWN0X2NvbW1vbl9wb3NpdGlvbl90b19jbGlwc3BhY2UocG9zaXRpb25fY29tbW9uc3BhY2UsIHNoYWRvd191Vmlld1Byb2plY3Rpb25NYXRyaWNlc1tpXSwgc2hhZG93X3VQcm9qZWN0Q2VudGVyc1tpXSk7XG4gICAgICAgIHNoYWRvd192UG9zaXRpb25baV0gPSAoc2hhZG93TWFwX3Bvc2l0aW9uLnh5eiAvIHNoYWRvd01hcF9wb3NpdGlvbi53ICsgMS4wKSAvIDIuMDtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIGdsX1Bvc2l0aW9uO1xufVxuIixmczoiXG5jb25zdCBpbnQgbWF4X2xpZ2h0cyA9IDI7XG51bmlmb3JtIGJvb2wgc2hhZG93X3VEcmF3U2hhZG93TWFwO1xudW5pZm9ybSBib29sIHNoYWRvd191VXNlU2hhZG93TWFwO1xudW5pZm9ybSBzYW1wbGVyMkQgc2hhZG93X3VTaGFkb3dNYXAwO1xudW5pZm9ybSBzYW1wbGVyMkQgc2hhZG93X3VTaGFkb3dNYXAxO1xudW5pZm9ybSB2ZWM0IHNoYWRvd191Q29sb3I7XG51bmlmb3JtIGZsb2F0IHNoYWRvd191TGlnaHRDb3VudDtcblxudmFyeWluZyB2ZWMzIHNoYWRvd192UG9zaXRpb25bbWF4X2xpZ2h0c107XG5cbmNvbnN0IHZlYzQgYml0UGFja1NoaWZ0ID0gdmVjNCgxLjAsIDI1NS4wLCA2NTAyNS4wLCAxNjU4MTM3NS4wKTtcbmNvbnN0IHZlYzQgYml0VW5wYWNrU2hpZnQgPSAxLjAgLyBiaXRQYWNrU2hpZnQ7XG5jb25zdCB2ZWM0IGJpdE1hc2sgPSB2ZWM0KDEuMCAvIDI1NS4wLCAxLjAgLyAyNTUuMCwgMS4wIC8gMjU1LjAsICAwLjApO1xuXG5mbG9hdCBzaGFkb3dfZ2V0U2hhZG93V2VpZ2h0KHZlYzMgcG9zaXRpb24sIHNhbXBsZXIyRCBzaGFkb3dNYXApIHtcbiAgdmVjNCByZ2JhRGVwdGggPSB0ZXh0dXJlMkQoc2hhZG93TWFwLCBwb3NpdGlvbi54eSk7XG5cbiAgZmxvYXQgeiA9IGRvdChyZ2JhRGVwdGgsIGJpdFVucGFja1NoaWZ0KTtcbiAgcmV0dXJuIHNtb290aHN0ZXAoMC4wMDEsIDAuMDEsIHBvc2l0aW9uLnogLSB6KTtcbn1cblxudmVjNCBzaGFkb3dfZmlsdGVyU2hhZG93Q29sb3IodmVjNCBjb2xvcikge1xuICBpZiAoc2hhZG93X3VEcmF3U2hhZG93TWFwKSB7XG4gICAgdmVjNCByZ2JhRGVwdGggPSBmcmFjdChnbF9GcmFnQ29vcmQueiAqIGJpdFBhY2tTaGlmdCk7XG4gICAgcmdiYURlcHRoIC09IHJnYmFEZXB0aC5nYmFhICogYml0TWFzaztcbiAgICByZXR1cm4gcmdiYURlcHRoO1xuICB9XG4gIGlmIChzaGFkb3dfdVVzZVNoYWRvd01hcCkge1xuICAgIGZsb2F0IHNoYWRvd0FscGhhID0gMC4wO1xuICAgIHNoYWRvd0FscGhhICs9IHNoYWRvd19nZXRTaGFkb3dXZWlnaHQoc2hhZG93X3ZQb3NpdGlvblswXSwgc2hhZG93X3VTaGFkb3dNYXAwKTtcbiAgICBpZihzaGFkb3dfdUxpZ2h0Q291bnQgPiAxLjApIHtcbiAgICAgIHNoYWRvd0FscGhhICs9IHNoYWRvd19nZXRTaGFkb3dXZWlnaHQoc2hhZG93X3ZQb3NpdGlvblsxXSwgc2hhZG93X3VTaGFkb3dNYXAxKTtcbiAgICB9XG4gICAgc2hhZG93QWxwaGEgKj0gc2hhZG93X3VDb2xvci5hIC8gc2hhZG93X3VMaWdodENvdW50O1xuICAgIGZsb2F0IGJsZW5kZWRBbHBoYSA9IHNoYWRvd0FscGhhICsgY29sb3IuYSAqICgxLjAgLSBzaGFkb3dBbHBoYSk7XG5cbiAgICByZXR1cm4gdmVjNChcbiAgICAgIG1peChjb2xvci5yZ2IsIHNoYWRvd191Q29sb3IucmdiLCBzaGFkb3dBbHBoYSAvIGJsZW5kZWRBbHBoYSksXG4gICAgICBibGVuZGVkQWxwaGFcbiAgICApO1xuICB9XG4gIHJldHVybiBjb2xvcjtcbn1cbiIsaW5qZWN0OnsidnM6REVDS0dMX0ZJTFRFUl9HTF9QT1NJVElPTiI6IlxuICAgIHBvc2l0aW9uID0gc2hhZG93X3NldFZlcnRleFBvc2l0aW9uKGdlb21ldHJ5LnBvc2l0aW9uKTtcbiAgICAiLCJmczpERUNLR0xfRklMVEVSX0NPTE9SIjoiXG4gICAgY29sb3IgPSBzaGFkb3dfZmlsdGVyU2hhZG93Q29sb3IoY29sb3IpO1xuICAgICJ9LGdldFVuaWZvcm1zOmZ1bmN0aW9uKCl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9LGU9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOnt9O2lmKHQuZHJhd1RvU2hhZG93TWFwfHx0LnNoYWRvd01hcHMmJnQuc2hhZG93TWFwcy5sZW5ndGg+MCl7dmFyIG49e30scj10LnNoYWRvd0VuYWJsZWQsaT12b2lkIDA9PT1yfHxyO3JldHVybiBpJiZ0LnNoYWRvd01hdHJpY2VzJiZ0LnNoYWRvd01hdHJpY2VzLmxlbmd0aD4wP09iamVjdC5hc3NpZ24obixnKHQsZSkpOk9iamVjdC5hc3NpZ24obix7c2hhZG93X3VEcmF3U2hhZG93TWFwOiExLHNoYWRvd191VXNlU2hhZG93TWFwOiExfSksbn1yZXR1cm57fX19fSxmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIHIodCxlKXtyZXR1cm4ocj1PYmplY3Quc2V0UHJvdG90eXBlT2Z8fGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuX19wcm90b19fPWUsdH0pKHQsZSl9bi5kKGUsImEiLChmdW5jdGlvbigpe3JldHVybiByfSkpfSxmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO24uZChlLCJhIiwoZnVuY3Rpb24oKXtyZXR1cm4gdn0pKSxuLmQoZSwiYiIsKGZ1bmN0aW9uKCl7cmV0dXJuIHB9KSk7dmFyIHI9bigzOSksaT1uKDQ5KSxhPW4oMjIpLG89bigxMDgpLHM9bigyOSksdT1bMCwwLDAsMF0sYz1bMSwwLDAsMCwwLDEsMCwwLDAsMCwxLDAsMCwwLDAsMF0sbD1bMSwwLDAsMCwwLDEsMCwwLDAsMCwxLDAsMCwwLDAsMV0saD1bMCwwLDBdLGY9WzAsMCwwXSxkPU9iamVjdChvLmEpKChmdW5jdGlvbih0KXt2YXIgZT10LnZpZXdwb3J0LG49dC5kZXZpY2VQaXhlbFJhdGlvLG89dC5jb29yZGluYXRlU3lzdGVtLHM9dC5jb29yZGluYXRlT3JpZ2luLGw9ZnVuY3Rpb24odCxlLG4pe3ZhciBhPXQudmlld01hdHJpeFVuY2VudGVyZWQsbz10LnByb2plY3Rpb25NYXRyaXgscz10LnZpZXdNYXRyaXgsbD10LnZpZXdQcm9qZWN0aW9uTWF0cml4LGg9dSxmPXQuY2FtZXJhUG9zaXRpb24sZD12KHQsZSxuKSxwPWQuZ2Vvc3BhdGlhbE9yaWdpbixnPWQuc2hhZGVyQ29vcmRpbmF0ZU9yaWdpbjtpZihkLm9mZnNldE1vZGUpe3ZhciB5PXQucHJvamVjdFBvc2l0aW9uKHB8fGcpO2Y9W2ZbMF0teVswXSxmWzFdLXlbMV0sZlsyXS15WzJdXSx5WzNdPTEsaD1pLm4oW10seSxsKSxzPWF8fHMsbD1yLmYoW10sbyxzKSxsPXIuZihbXSxsLGMpfXJldHVybnt2aWV3TWF0cml4OnMsdmlld1Byb2plY3Rpb25NYXRyaXg6bCxwcm9qZWN0aW9uQ2VudGVyOmgsY2FtZXJhUG9zQ29tbW9uOmYsc2hhZGVyQ29vcmRpbmF0ZU9yaWdpbjpnLGdlb3NwYXRpYWxPcmlnaW46cH19KGUsbyxzKSxmPWwucHJvamVjdGlvbkNlbnRlcixkPWwudmlld1Byb2plY3Rpb25NYXRyaXgscD1sLmNhbWVyYVBvc0NvbW1vbixnPWwuc2hhZGVyQ29vcmRpbmF0ZU9yaWdpbix5PWwuZ2Vvc3BhdGlhbE9yaWdpbixtPWUuZ2V0RGlzdGFuY2VTY2FsZXMoKSxiPVtlLndpZHRoKm4sZS5oZWlnaHQqbl0sXz17cHJvamVjdF91Q29vcmRpbmF0ZVN5c3RlbTpvLHByb2plY3RfdVByb2plY3Rpb25Nb2RlOmUucHJvamVjdGlvbk1vZGUscHJvamVjdF91Q29vcmRpbmF0ZU9yaWdpbjpnLHByb2plY3RfdUNlbnRlcjpmLHByb2plY3RfdUFudGltZXJpZGlhbjooZS5sb25naXR1ZGV8fDApLTE4MCxwcm9qZWN0X3VWaWV3cG9ydFNpemU6Yixwcm9qZWN0X3VEZXZpY2VQaXhlbFJhdGlvOm4scHJvamVjdF91Rm9jYWxEaXN0YW5jZTplLmZvY2FsRGlzdGFuY2V8fDEscHJvamVjdF91Q29tbW9uVW5pdHNQZXJNZXRlcjptLnVuaXRzUGVyTWV0ZXIscHJvamVjdF91Q29tbW9uVW5pdHNQZXJXb3JsZFVuaXQ6bS51bml0c1Blck1ldGVyLHByb2plY3RfdUNvbW1vblVuaXRzUGVyV29ybGRVbml0MjpoLHByb2plY3RfdVNjYWxlOmUuc2NhbGUscHJvamVjdF91Vmlld1Byb2plY3Rpb25NYXRyaXg6ZCxwcm9qZWN0X3VDYW1lcmFQb3NpdGlvbjpwfTtpZih5KXt2YXIgTz1lLmdldERpc3RhbmNlU2NhbGVzKHkpO3N3aXRjaChvKXtjYXNlIGEuYS5NRVRFUl9PRkZTRVRTOl8ucHJvamVjdF91Q29tbW9uVW5pdHNQZXJXb3JsZFVuaXQ9Ty51bml0c1Blck1ldGVyLF8ucHJvamVjdF91Q29tbW9uVW5pdHNQZXJXb3JsZFVuaXQyPU8udW5pdHNQZXJNZXRlcjI7YnJlYWs7Y2FzZSBhLmEuTE5HTEFUOmNhc2UgYS5hLkxOR0xBVF9PRkZTRVRTOl8ucHJvamVjdF91Q29tbW9uVW5pdHNQZXJXb3JsZFVuaXQ9Ty51bml0c1BlckRlZ3JlZSxfLnByb2plY3RfdUNvbW1vblVuaXRzUGVyV29ybGRVbml0Mj1PLnVuaXRzUGVyRGVncmVlMjticmVhaztjYXNlIGEuYS5DQVJURVNJQU46Xy5wcm9qZWN0X3VDb21tb25Vbml0c1BlcldvcmxkVW5pdD1bMSwxLE8udW5pdHNQZXJNZXRlclsyXV0sXy5wcm9qZWN0X3VDb21tb25Vbml0c1BlcldvcmxkVW5pdDI9WzAsMCxPLnVuaXRzUGVyTWV0ZXIyWzJdXX19cmV0dXJuIF99KSk7ZnVuY3Rpb24gdih0LGUpe3ZhciBuLHI9YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOmYsaT1yLG89ITA7c3dpdGNoKG49ZT09PWEuYS5MTkdMQVRfT0ZGU0VUU3x8ZT09PWEuYS5NRVRFUl9PRkZTRVRTP3I6dC5pc0dlb3NwYXRpYWw/W01hdGguZnJvdW5kKHQubG9uZ2l0dWRlKSxNYXRoLmZyb3VuZCh0LmxhdGl0dWRlKSwwXTpudWxsLHQucHJvamVjdGlvbk1vZGUpe2Nhc2UgYS5jLldFQl9NRVJDQVRPUjplIT09YS5hLkxOR0xBVCYmZSE9PWEuYS5DQVJURVNJQU58fChvPSExKTticmVhaztjYXNlIGEuYy5XRUJfTUVSQ0FUT1JfQVVUT19PRkZTRVQ6ZT09PWEuYS5MTkdMQVQ/aT1uOmU9PT1hLmEuQ0FSVEVTSUFOJiYoaT1bTWF0aC5mcm91bmQodC5jZW50ZXJbMF0pLE1hdGguZnJvdW5kKHQuY2VudGVyWzFdKSwwXSxuPXQudW5wcm9qZWN0UG9zaXRpb24oaSkpO2JyZWFrO2Nhc2UgYS5jLklERU5USVRZOmk9dC5wb3NpdGlvbi5tYXAoTWF0aC5mcm91bmQpO2JyZWFrO2RlZmF1bHQ6bz0hMX1yZXR1cm4gaVsyXT1pWzJdfHwwLHtnZW9zcGF0aWFsT3JpZ2luOm4sc2hhZGVyQ29vcmRpbmF0ZU9yaWdpbjppLG9mZnNldE1vZGU6b319ZnVuY3Rpb24gcCgpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fSxlPXQudmlld3BvcnQsbj10LmRldmljZVBpeGVsUmF0aW8scj12b2lkIDA9PT1uPzE6bixpPXQubW9kZWxNYXRyaXgsbz12b2lkIDA9PT1pP251bGw6aSx1PXQuY29vcmRpbmF0ZVN5c3RlbSxjPXZvaWQgMD09PXU/YS5hLkRFRkFVTFQ6dSxoPXQuY29vcmRpbmF0ZU9yaWdpbixmPXQud3JhcExvbmdpdHVkZSx2PXZvaWQgMCE9PWYmJmY7dC5wcm9qZWN0aW9uTW9kZSx0LnBvc2l0aW9uT3JpZ2luO09iamVjdChzLmEpKGUpLGM9PT1hLmEuREVGQVVMVCYmKGM9ZS5pc0dlb3NwYXRpYWw/YS5hLkxOR0xBVDphLmEuQ0FSVEVTSUFOKTt2YXIgcD1kKHt2aWV3cG9ydDplLGRldmljZVBpeGVsUmF0aW86cixjb29yZGluYXRlU3lzdGVtOmMsY29vcmRpbmF0ZU9yaWdpbjpofSk7cmV0dXJuIHAucHJvamVjdF91V3JhcExvbmdpdHVkZT12LHAucHJvamVjdF91TW9kZWxNYXRyaXg9b3x8bCxwfX0sZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0IjtuLmQoZSwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIHV9KSk7dmFyIHI9bigxKSxpPW4ubihyKSxhPW4oMiksbz1uLm4oYSkscz1uKDI5KSx1PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlKXtpKCkodGhpcyx0KSxPYmplY3Qocy5hKShOdW1iZXIuaXNGaW5pdGUoZS53aWR0aCksImB3aWR0aGAgbXVzdCBiZSBzdXBwbGllZCIpLE9iamVjdChzLmEpKE51bWJlci5pc0Zpbml0ZShlLmhlaWdodCksImBoZWlnaHRgIG11c3QgYmUgc3VwcGxpZWQiKSx0aGlzLl92aWV3cG9ydFByb3BzPXRoaXMuX2FwcGx5Q29uc3RyYWludHMoZSl9cmV0dXJuIG8oKSh0LFt7a2V5OiJnZXRWaWV3cG9ydFByb3BzIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl92aWV3cG9ydFByb3BzfX0se2tleToic2hvcnRlc3RQYXRoRnJvbSIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX3ZpZXdwb3J0UHJvcHN9fSx7a2V5OiJfYXBwbHlDb25zdHJhaW50cyIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHR9fV0pLHR9KCl9LGZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dmFyIHI9big2KSxpPW4oNyksYT1uKDE3KSxvPW4oMTUpLHM9bigxOCksdT1uKDEyMCk7dmFyIGM9bigxMjEpO2Z1bmN0aW9uIGwodCl7dmFyIGU9ImZ1bmN0aW9uIj09dHlwZW9mIE1hcD9uZXcgTWFwOnZvaWQgMDtyZXR1cm4obD1mdW5jdGlvbih0KXtpZihudWxsPT09dHx8KG49dCwtMT09PUZ1bmN0aW9uLnRvU3RyaW5nLmNhbGwobikuaW5kZXhPZigiW25hdGl2ZSBjb2RlXSIpKSlyZXR1cm4gdDt2YXIgbjtpZigiZnVuY3Rpb24iIT10eXBlb2YgdCl0aHJvdyBuZXcgVHlwZUVycm9yKCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiIpO2lmKHZvaWQgMCE9PWUpe2lmKGUuaGFzKHQpKXJldHVybiBlLmdldCh0KTtlLnNldCh0LHIpfWZ1bmN0aW9uIHIoKXtyZXR1cm4gT2JqZWN0KGMuYSkodCxhcmd1bWVudHMsT2JqZWN0KG8uYSkodGhpcykuY29uc3RydWN0b3IpfXJldHVybiByLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6cixlbnVtZXJhYmxlOiExLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSxPYmplY3QodS5hKShyLHQpfSkodCl9dmFyIGg9bigyMSk7bi5kKGUsImEiLChmdW5jdGlvbigpe3JldHVybiBmfSkpO3ZhciBmPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXtyZXR1cm4gT2JqZWN0KHIuYSkodGhpcyxlKSxPYmplY3QoYS5hKSh0aGlzLE9iamVjdChvLmEpKGUpLmFwcGx5KHRoaXMsYXJndW1lbnRzKSl9cmV0dXJuIE9iamVjdChzLmEpKGUsdCksT2JqZWN0KGkuYSkoZSxbe2tleToiY2xvbmUiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuKG5ldyB0aGlzLmNvbnN0cnVjdG9yKS5jb3B5KHRoaXMpfX0se2tleToiZnJvbSIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIEFycmF5LmlzQXJyYXkodCk/dGhpcy5jb3B5KHQpOnRoaXMuZnJvbU9iamVjdCh0KX19LHtrZXk6ImZyb21BcnJheSIsdmFsdWU6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTowLG49MDtuPHRoaXMuRUxFTUVOVFM7KytuKXRoaXNbbl09dFtuK2VdO3JldHVybiB0aGlzLmNoZWNrKCl9fSx7a2V5OiJ0byIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHQ9PT10aGlzP3RoaXM6T2JqZWN0KGguZikodCk/dGhpcy50b0FycmF5KHQpOnRoaXMudG9PYmplY3QodCl9fSx7a2V5OiJ0b1RhcmdldCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHQ/dGhpcy50byh0KTp0aGlzfX0se2tleToidG9BcnJheSIsdmFsdWU6ZnVuY3Rpb24oKXtmb3IodmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOltdLGU9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOjAsbj0wO248dGhpcy5FTEVNRU5UUzsrK24pdFtlK25dPXRoaXNbbl07cmV0dXJuIHR9fSx7a2V5OiJ0b0Zsb2F0MzJBcnJheSIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IEZsb2F0MzJBcnJheSh0aGlzKX19LHtrZXk6InRvU3RyaW5nIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmZvcm1hdFN0cmluZyhoLmIpfX0se2tleToiZm9ybWF0U3RyaW5nIix2YWx1ZTpmdW5jdGlvbih0KXtmb3IodmFyIGU9IiIsbj0wO248dGhpcy5FTEVNRU5UUzsrK24pZSs9KG4+MD8iLCAiOiIiKStPYmplY3QoaC5lKSh0aGlzW25dLHQpO3JldHVybiIiLmNvbmNhdCh0LnByaW50VHlwZXM/dGhpcy5jb25zdHJ1Y3Rvci5uYW1lOiIiLCJbIikuY29uY2F0KGUsIl0iKX19LHtrZXk6ImVxdWFscyIsdmFsdWU6ZnVuY3Rpb24odCl7aWYoIXR8fHRoaXMubGVuZ3RoIT09dC5sZW5ndGgpcmV0dXJuITE7Zm9yKHZhciBlPTA7ZTx0aGlzLkVMRU1FTlRTOysrZSlpZighT2JqZWN0KGguZCkodGhpc1tlXSx0W2VdKSlyZXR1cm4hMTtyZXR1cm4hMH19LHtrZXk6ImV4YWN0RXF1YWxzIix2YWx1ZTpmdW5jdGlvbih0KXtpZighdHx8dGhpcy5sZW5ndGghPT10Lmxlbmd0aClyZXR1cm4hMTtmb3IodmFyIGU9MDtlPHRoaXMuRUxFTUVOVFM7KytlKWlmKHRoaXNbZV0hPT10W2VdKXJldHVybiExO3JldHVybiEwfX0se2tleToibmVnYXRlIix2YWx1ZTpmdW5jdGlvbigpe2Zvcih2YXIgdD0wO3Q8dGhpcy5FTEVNRU5UUzsrK3QpdGhpc1t0XT0tdGhpc1t0XTtyZXR1cm4gdGhpcy5jaGVjaygpfX0se2tleToibGVycCIsdmFsdWU6ZnVuY3Rpb24odCxlLG4pe3ZvaWQgMD09PW4mJihuPWUsZT10LHQ9dGhpcyk7Zm9yKHZhciByPTA7cjx0aGlzLkVMRU1FTlRTOysrcil7dmFyIGk9dFtyXTt0aGlzW3JdPWkrbiooZVtyXS1pKX1yZXR1cm4gdGhpcy5jaGVjaygpfX0se2tleToibWluIix2YWx1ZTpmdW5jdGlvbih0KXtmb3IodmFyIGU9MDtlPHRoaXMuRUxFTUVOVFM7KytlKXRoaXNbZV09TWF0aC5taW4odFtlXSx0aGlzW2VdKTtyZXR1cm4gdGhpcy5jaGVjaygpfX0se2tleToibWF4Iix2YWx1ZTpmdW5jdGlvbih0KXtmb3IodmFyIGU9MDtlPHRoaXMuRUxFTUVOVFM7KytlKXRoaXNbZV09TWF0aC5tYXgodFtlXSx0aGlzW2VdKTtyZXR1cm4gdGhpcy5jaGVjaygpfX0se2tleToiY2xhbXAiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPTA7bjx0aGlzLkVMRU1FTlRTOysrbil0aGlzW25dPU1hdGgubWluKE1hdGgubWF4KHRoaXNbbl0sdFtuXSksZVtuXSk7cmV0dXJuIHRoaXMuY2hlY2soKX19LHtrZXk6ImFkZCIsdmFsdWU6ZnVuY3Rpb24oKXtmb3IodmFyIHQ9YXJndW1lbnRzLmxlbmd0aCxlPW5ldyBBcnJheSh0KSxuPTA7bjx0O24rKyllW25dPWFyZ3VtZW50c1tuXTtmb3IodmFyIHI9MCxpPWU7cjxpLmxlbmd0aDtyKyspZm9yKHZhciBhPWlbcl0sbz0wO288dGhpcy5FTEVNRU5UUzsrK28pdGhpc1tvXSs9YVtvXTtyZXR1cm4gdGhpcy5jaGVjaygpfX0se2tleToic3VidHJhY3QiLHZhbHVlOmZ1bmN0aW9uKCl7Zm9yKHZhciB0PWFyZ3VtZW50cy5sZW5ndGgsZT1uZXcgQXJyYXkodCksbj0wO248dDtuKyspZVtuXT1hcmd1bWVudHNbbl07Zm9yKHZhciByPTAsaT1lO3I8aS5sZW5ndGg7cisrKWZvcih2YXIgYT1pW3JdLG89MDtvPHRoaXMuRUxFTUVOVFM7KytvKXRoaXNbb10tPWFbb107cmV0dXJuIHRoaXMuY2hlY2soKX19LHtrZXk6InNjYWxlIix2YWx1ZTpmdW5jdGlvbih0KXtpZihBcnJheS5pc0FycmF5KHQpKXJldHVybiB0aGlzLm11bHRpcGx5KHQpO2Zvcih2YXIgZT0wO2U8dGhpcy5FTEVNRU5UUzsrK2UpdGhpc1tlXSo9dDtyZXR1cm4gdGhpcy5jaGVjaygpfX0se2tleToic3ViIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5zdWJ0cmFjdCh0KX19LHtrZXk6InNldFNjYWxhciIsdmFsdWU6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPTA7ZTx0aGlzLkVMRU1FTlRTOysrZSl0aGlzW2VdPXQ7cmV0dXJuIHRoaXMuY2hlY2soKX19LHtrZXk6ImFkZFNjYWxhciIsdmFsdWU6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPTA7ZTx0aGlzLkVMRU1FTlRTOysrZSl0aGlzW2VdKz10O3JldHVybiB0aGlzLmNoZWNrKCl9fSx7a2V5OiJzdWJTY2FsYXIiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmFkZFNjYWxhcigtdCl9fSx7a2V5OiJtdWx0aXBseVNjYWxhciIsdmFsdWU6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPTA7ZTx0aGlzLkVMRU1FTlRTOysrZSl0aGlzW2VdKj10O3JldHVybiB0aGlzLmNoZWNrKCl9fSx7a2V5OiJkaXZpZGVTY2FsYXIiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnNjYWxlKDEvdCl9fSx7a2V5OiJjbGFtcFNjYWxhciIsdmFsdWU6ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49MDtuPHRoaXMuRUxFTUVOVFM7KytuKXRoaXNbbl09TWF0aC5taW4oTWF0aC5tYXgodGhpc1tuXSx0KSxlKTtyZXR1cm4gdGhpcy5jaGVjaygpfX0se2tleToibXVsdGlwbHlCeVNjYWxhciIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuc2NhbGUodCl9fSx7a2V5OiJjaGVjayIsdmFsdWU6ZnVuY3Rpb24oKXtpZihoLmIuZGVidWcmJiF0aGlzLnZhbGlkYXRlKHRoaXMpKXRocm93IG5ldyBFcnJvcigibWF0aC5nbDogIi5jb25jYXQodGhpcy5jb25zdHJ1Y3Rvci5uYW1lLCIgc29tZSBmaWVsZHMgc2V0IHRvIGludmFsaWQgbnVtYmVycyciKSk7cmV0dXJuIHRoaXN9fSx7a2V5OiJ2YWxpZGF0ZSIsdmFsdWU6ZnVuY3Rpb24oKXtmb3IodmFyIHQ9dGhpcy5sZW5ndGg9PT10aGlzLkVMRU1FTlRTLGU9MDtlPHRoaXMuRUxFTUVOVFM7KytlKXQ9dCYmTnVtYmVyLmlzRmluaXRlKHRoaXNbZV0pO3JldHVybiB0fX0se2tleToiZWxlbWVudHMiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzfX1dKSxlfShsKEFycmF5KSl9LGZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dmFyIHI9big2KSxpPW4oMTcpLGE9bigxNSksbz1uKDQ3KSxzPW4oNyksdT1uKDE4KSxjPW4oNjYpLGw9big3NiksaD1uKDI4KSxmPSIiO2Z1bmN0aW9uIGQodCxlKXtyZXR1cm4gT2JqZWN0KGguYSkoInN0cmluZyI9PXR5cGVvZiB0KSx0PWYrdCxuZXcgUHJvbWlzZSgoZnVuY3Rpb24obixyKXt0cnl7dmFyIGk9bmV3IEltYWdlO2kub25sb2FkPWZ1bmN0aW9uKCl7cmV0dXJuIG4oaSl9LGkub25lcnJvcj1mdW5jdGlvbigpe3JldHVybiByKG5ldyBFcnJvcigiQ291bGQgbm90IGxvYWQgaW1hZ2UgIi5jb25jYXQodCwiLiIpKSl9LGkuY3Jvc3NPcmlnaW49ZSYmZS5jcm9zc09yaWdpbnx8ImFub255bW91cyIsaS5zcmM9dH1jYXRjaCh0KXtyKHQpfX0pKX1uLmQoZSwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIHZ9KSk7dmFyIHY9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSh0KXt2YXIgbixzPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp7fTtyZXR1cm4gT2JqZWN0KHIuYSkodGhpcyxlKSxPYmplY3QobC5iKSh0KSwocyBpbnN0YW5jZW9mIFByb21pc2V8fCJzdHJpbmciPT10eXBlb2YgcykmJihzPXtkYXRhOnN9KSwic3RyaW5nIj09dHlwZW9mIHMuZGF0YSYmKHM9T2JqZWN0LmFzc2lnbih7fSxzLHtkYXRhOmQocy5kYXRhKX0pKSwobj1PYmplY3QoaS5hKSh0aGlzLE9iamVjdChhLmEpKGUpLmNhbGwodGhpcyx0LE9iamVjdC5hc3NpZ24oe30scyx7dGFyZ2V0OjM1NTN9KSkpKS5pbml0aWFsaXplKHMpLE9iamVjdC5zZWFsKE9iamVjdChvLmEpKG4pKSxufXJldHVybiBPYmplY3QodS5hKShlLHQpLE9iamVjdChzLmEpKGUsbnVsbCxbe2tleToiaXNTdXBwb3J0ZWQiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIGMuYS5pc1N1cHBvcnRlZCh0LGUpfX1dKSxlfShjLmEpfSxmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO24uZChlLCJiIiwoZnVuY3Rpb24oKXtyZXR1cm4gcH0pKSxuLmQoZSwiYyIsKGZ1bmN0aW9uKCl7cmV0dXJuIGd9KSksbi5kKGUsImEiLChmdW5jdGlvbigpe3JldHVybiB5fSkpO3ZhciByPW4oMjI3KSxpPW4ubihyKSxhPU1hdGguUEkvNCxvPU1hdGguUEkvMzYwO2Z1bmN0aW9uIHModCl7aWYodD10JiZ0LnBvc2l0aW9uc3x8dCwhQXJyYXkuaXNBcnJheSh0KSYmIUFycmF5QnVmZmVyLmlzVmlldyh0KSl0aHJvdyBuZXcgRXJyb3IoImludmFsaWQgcG9seWdvbiIpfWZ1bmN0aW9uIHUodCl7cmV0dXJuIHQubGVuZ3RoPj0xJiZ0WzBdLmxlbmd0aD49MiYmTnVtYmVyLmlzRmluaXRlKHRbMF1bMF0pfWZ1bmN0aW9uIGModCl7dmFyIGU9dFswXSxuPXRbdC5sZW5ndGgtMV07cmV0dXJuIGVbMF09PT1uWzBdJiZlWzFdPT09blsxXSYmZVsyXT09PW5bMl19ZnVuY3Rpb24gbCh0LGUsbixyKXtmb3IodmFyIGk9MDtpPGU7aSsrKWlmKHRbbitpXSE9PXRbci1lK2ldKXJldHVybiExO3JldHVybiEwfWZ1bmN0aW9uIGgodCxlLG4scil7Zm9yKHZhciBpPWUsYT1uLmxlbmd0aCxvPTA7bzxhO28rKylmb3IodmFyIHM9MDtzPHI7cysrKXRbaSsrXT1uW29dW3NdfHwwO2lmKCFjKG4pKWZvcih2YXIgdT0wO3U8cjt1KyspdFtpKytdPW5bMF1bdV18fDA7cmV0dXJuIGl9ZnVuY3Rpb24gZih0LGUsbixyKXt2YXIgaT1hcmd1bWVudHMubGVuZ3RoPjQmJnZvaWQgMCE9PWFyZ3VtZW50c1s0XT9hcmd1bWVudHNbNF06MCxhPWFyZ3VtZW50cy5sZW5ndGg+NT9hcmd1bWVudHNbNV06dm9pZCAwLG89KGE9YXx8bi5sZW5ndGgpLWk7aWYobzw9MClyZXR1cm4gZTtmb3IodmFyIHM9ZSx1PTA7dTxvO3UrKyl0W3MrK109bltpK3VdO2lmKCFsKG4scixpLGEpKWZvcih2YXIgYz0wO2M8cjtjKyspdFtzKytdPW5baStjXTtyZXR1cm4gc31mdW5jdGlvbiBkKHQpe3JldHVybihjKHQpPzA6MSkrdC5sZW5ndGh9ZnVuY3Rpb24gdih0LGUpe3ZhciBuPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTowLHI9YXJndW1lbnRzLmxlbmd0aD4zP2FyZ3VtZW50c1szXTp2b2lkIDA7cmV0dXJuIG4+PShyPXJ8fHQubGVuZ3RoKT8wOihsKHQsZSxuLHIpPzA6MSkrKHItbikvZX1mdW5jdGlvbiBwKHQsZSl7dmFyIG49IShhcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXSl8fGFyZ3VtZW50c1syXTtpZighbilyZXR1cm4odD10LnBvc2l0aW9uc3x8dCkubGVuZ3RoL2U7aWYocyh0KSx0LnBvc2l0aW9ucyl7dmFyIHI9dCxpPXIucG9zaXRpb25zLGE9ci5ob2xlSW5kaWNlcztpZihhKXtmb3IodmFyIG89MCxjPTA7Yzw9YS5sZW5ndGg7YysrKW8rPXYodC5wb3NpdGlvbnMsZSxhW2MtMV0sYVtjXSk7cmV0dXJuIG99dD1pfWlmKE51bWJlci5pc0Zpbml0ZSh0WzBdKSlyZXR1cm4gdih0LGUpO2lmKCF1KHQpKXt2YXIgbD0wLGg9ITAsZj0hMSxwPXZvaWQgMDt0cnl7Zm9yKHZhciBnLHk9dFtTeW1ib2wuaXRlcmF0b3JdKCk7IShoPShnPXkubmV4dCgpKS5kb25lKTtoPSEwKXt2YXIgbT1nLnZhbHVlO2wrPWQobSl9fWNhdGNoKHQpe2Y9ITAscD10fWZpbmFsbHl7dHJ5e2h8fG51bGw9PXkucmV0dXJufHx5LnJldHVybigpfWZpbmFsbHl7aWYoZil0aHJvdyBwfX1yZXR1cm4gbH1yZXR1cm4gZCh0KX1mdW5jdGlvbiBnKHQsZSxuKXtzKHQpLG49bnx8cCh0LGUpO3ZhciByPW5ldyBGbG9hdDY0QXJyYXkobiplKSxpPVtdO2lmKHQucG9zaXRpb25zKXt2YXIgYT10LG89YS5wb3NpdGlvbnMsYz1hLmhvbGVJbmRpY2VzO2lmKGMpe2Zvcih2YXIgbD0wLGQ9MDtkPD1jLmxlbmd0aDtkKyspbD1mKHIsbCxvLGUsY1tkLTFdLGNbZF0pLGkucHVzaChsKTtyZXR1cm4gaS5wb3AoKSx7cG9zaXRpb25zOnIsaG9sZUluZGljZXM6aX19dD1vfWlmKE51bWJlci5pc0Zpbml0ZSh0WzBdKSlyZXR1cm4gZihyLDAsdCxlKSxyO2lmKCF1KHQpKXt2YXIgdj0wLGc9ITAseT0hMSxtPXZvaWQgMDt0cnl7Zm9yKHZhciBiLF89dFtTeW1ib2wuaXRlcmF0b3JdKCk7IShnPShiPV8ubmV4dCgpKS5kb25lKTtnPSEwKXt2PWgocix2LGIudmFsdWUsZSksaS5wdXNoKHYpfX1jYXRjaCh0KXt5PSEwLG09dH1maW5hbGx5e3RyeXtnfHxudWxsPT1fLnJldHVybnx8Xy5yZXR1cm4oKX1maW5hbGx5e2lmKHkpdGhyb3cgbX19cmV0dXJuIGkucG9wKCkse3Bvc2l0aW9uczpyLGhvbGVJbmRpY2VzOml9fXJldHVybiBoKHIsMCx0LGUpLHJ9ZnVuY3Rpb24geSh0LGUsbil7dmFyIHI9bnVsbDt0LmhvbGVJbmRpY2VzJiYocj10LmhvbGVJbmRpY2VzLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIHQvZX0pKSk7dmFyIHM9dC5wb3NpdGlvbnN8fHQ7aWYobil7dmFyIHU9cy5sZW5ndGg7cz1zLnNsaWNlKCk7Zm9yKHZhciBjPTA7Yzx1O2MrPWUpe3ZhciBsPXNbYysxXTtzW2MrMV09TWF0aC5sb2coTWF0aC50YW4oYStsKm8pKX19cmV0dXJuIGkoKShzLHIsZSl9fSxmdW5jdGlvbih0LGUsbil7dmFyIHIsaSxhOwovKioKICogQGxpY2Vuc2UgbG9uZy5qcyAoYykgMjAxMyBEYW5pZWwgV2lydHogPGRjb2RlQGRjb2RlLmlvPgogKiBSZWxlYXNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wCiAqIHNlZTogaHR0cHM6Ly9naXRodWIuY29tL2Rjb2RlSU8vbG9uZy5qcyBmb3IgZGV0YWlscwogKi9pPVtdLHZvaWQgMD09PShhPSJmdW5jdGlvbiI9PXR5cGVvZihyPWZ1bmN0aW9uKCl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIHQodCxlLG4pe3RoaXMubG93PTB8dCx0aGlzLmhpZ2g9MHxlLHRoaXMudW5zaWduZWQ9ISFufWZ1bmN0aW9uIGUodCl7cmV0dXJuITA9PT0odCYmdC5fX2lzTG9uZ19fKX10LnByb3RvdHlwZS5fX2lzTG9uZ19fLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSwiX19pc0xvbmdfXyIse3ZhbHVlOiEwLGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiExfSksdC5pc0xvbmc9ZTt2YXIgbj17fSxyPXt9O2Z1bmN0aW9uIGkodCxlKXt2YXIgaSxhLHM7cmV0dXJuIGU/KHM9MDw9KHQ+Pj49MCkmJnQ8MjU2KSYmKGE9clt0XSk/YTooaT1vKHQsKDB8dCk8MD8tMTowLCEwKSxzJiYoclt0XT1pKSxpKToocz0tMTI4PD0odHw9MCkmJnQ8MTI4KSYmKGE9blt0XSk/YTooaT1vKHQsdDwwPy0xOjAsITEpLHMmJihuW3RdPWkpLGkpfWZ1bmN0aW9uIGEodCxlKXtpZihpc05hTih0KXx8IWlzRmluaXRlKHQpKXJldHVybiBlP3A6djtpZihlKXtpZih0PDApcmV0dXJuIHA7aWYodD49aClyZXR1cm4gX31lbHNle2lmKHQ8PS1mKXJldHVybiBPO2lmKHQrMT49ZilyZXR1cm4gYn1yZXR1cm4gdDwwP2EoLXQsZSkubmVnKCk6byh0JWx8MCx0L2x8MCxlKX1mdW5jdGlvbiBvKGUsbixyKXtyZXR1cm4gbmV3IHQoZSxuLHIpfXQuZnJvbUludD1pLHQuZnJvbU51bWJlcj1hLHQuZnJvbUJpdHM9bzt2YXIgcz1NYXRoLnBvdztmdW5jdGlvbiB1KHQsZSxuKXtpZigwPT09dC5sZW5ndGgpdGhyb3cgRXJyb3IoImVtcHR5IHN0cmluZyIpO2lmKCJOYU4iPT09dHx8IkluZmluaXR5Ij09PXR8fCIrSW5maW5pdHkiPT09dHx8Ii1JbmZpbml0eSI9PT10KXJldHVybiB2O2lmKCJudW1iZXIiPT10eXBlb2YgZT8obj1lLGU9ITEpOmU9ISFlLChuPW58fDEwKTwyfHwzNjxuKXRocm93IFJhbmdlRXJyb3IoInJhZGl4Iik7dmFyIHI7aWYoKHI9dC5pbmRleE9mKCItIikpPjApdGhyb3cgRXJyb3IoImludGVyaW9yIGh5cGhlbiIpO2lmKDA9PT1yKXJldHVybiB1KHQuc3Vic3RyaW5nKDEpLGUsbikubmVnKCk7Zm9yKHZhciBpPWEocyhuLDgpKSxvPXYsYz0wO2M8dC5sZW5ndGg7Yys9OCl7dmFyIGw9TWF0aC5taW4oOCx0Lmxlbmd0aC1jKSxoPXBhcnNlSW50KHQuc3Vic3RyaW5nKGMsYytsKSxuKTtpZihsPDgpe3ZhciBmPWEocyhuLGwpKTtvPW8ubXVsKGYpLmFkZChhKGgpKX1lbHNlIG89KG89by5tdWwoaSkpLmFkZChhKGgpKX1yZXR1cm4gby51bnNpZ25lZD1lLG99ZnVuY3Rpb24gYyhlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIHQ/ZToibnVtYmVyIj09dHlwZW9mIGU/YShlKToic3RyaW5nIj09dHlwZW9mIGU/dShlKTpvKGUubG93LGUuaGlnaCxlLnVuc2lnbmVkKX10LmZyb21TdHJpbmc9dSx0LmZyb21WYWx1ZT1jO3ZhciBsPTQyOTQ5NjcyOTYsaD1sKmwsZj1oLzIsZD1pKDE8PDI0KSx2PWkoMCk7dC5aRVJPPXY7dmFyIHA9aSgwLCEwKTt0LlVaRVJPPXA7dmFyIGc9aSgxKTt0Lk9ORT1nO3ZhciB5PWkoMSwhMCk7dC5VT05FPXk7dmFyIG09aSgtMSk7dC5ORUdfT05FPW07dmFyIGI9bygtMSwyMTQ3NDgzNjQ3LCExKTt0Lk1BWF9WQUxVRT1iO3ZhciBfPW8oLTEsLTEsITApO3QuTUFYX1VOU0lHTkVEX1ZBTFVFPV87dmFyIE89bygwLC0yMTQ3NDgzNjQ4LCExKTt0Lk1JTl9WQUxVRT1PO3ZhciB4PXQucHJvdG90eXBlO3JldHVybiB4LnRvSW50PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudW5zaWduZWQ/dGhpcy5sb3c+Pj4wOnRoaXMubG93fSx4LnRvTnVtYmVyPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudW5zaWduZWQ/KHRoaXMuaGlnaD4+PjApKmwrKHRoaXMubG93Pj4+MCk6dGhpcy5oaWdoKmwrKHRoaXMubG93Pj4+MCl9LHgudG9TdHJpbmc9ZnVuY3Rpb24odCl7aWYoKHQ9dHx8MTApPDJ8fDM2PHQpdGhyb3cgUmFuZ2VFcnJvcigicmFkaXgiKTtpZih0aGlzLmlzWmVybygpKXJldHVybiIwIjtpZih0aGlzLmlzTmVnYXRpdmUoKSl7aWYodGhpcy5lcShPKSl7dmFyIGU9YSh0KSxuPXRoaXMuZGl2KGUpLHI9bi5tdWwoZSkuc3ViKHRoaXMpO3JldHVybiBuLnRvU3RyaW5nKHQpK3IudG9JbnQoKS50b1N0cmluZyh0KX1yZXR1cm4iLSIrdGhpcy5uZWcoKS50b1N0cmluZyh0KX1mb3IodmFyIGk9YShzKHQsNiksdGhpcy51bnNpZ25lZCksbz10aGlzLHU9IiI7Oyl7dmFyIGM9by5kaXYoaSksbD0oby5zdWIoYy5tdWwoaSkpLnRvSW50KCk+Pj4wKS50b1N0cmluZyh0KTtpZigobz1jKS5pc1plcm8oKSlyZXR1cm4gbCt1O2Zvcig7bC5sZW5ndGg8NjspbD0iMCIrbDt1PSIiK2wrdX19LHguZ2V0SGlnaEJpdHM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5oaWdofSx4LmdldEhpZ2hCaXRzVW5zaWduZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5oaWdoPj4+MH0seC5nZXRMb3dCaXRzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubG93fSx4LmdldExvd0JpdHNVbnNpZ25lZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmxvdz4+PjB9LHguZ2V0TnVtQml0c0Ficz1mdW5jdGlvbigpe2lmKHRoaXMuaXNOZWdhdGl2ZSgpKXJldHVybiB0aGlzLmVxKE8pPzY0OnRoaXMubmVnKCkuZ2V0TnVtQml0c0FicygpO2Zvcih2YXIgdD0wIT10aGlzLmhpZ2g/dGhpcy5oaWdoOnRoaXMubG93LGU9MzE7ZT4wJiYwPT0odCYxPDxlKTtlLS0pO3JldHVybiAwIT10aGlzLmhpZ2g/ZSszMzplKzF9LHguaXNaZXJvPWZ1bmN0aW9uKCl7cmV0dXJuIDA9PT10aGlzLmhpZ2gmJjA9PT10aGlzLmxvd30seC5pc05lZ2F0aXZlPWZ1bmN0aW9uKCl7cmV0dXJuIXRoaXMudW5zaWduZWQmJnRoaXMuaGlnaDwwfSx4LmlzUG9zaXRpdmU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy51bnNpZ25lZHx8dGhpcy5oaWdoPj0wfSx4LmlzT2RkPWZ1bmN0aW9uKCl7cmV0dXJuIDE9PSgxJnRoaXMubG93KX0seC5pc0V2ZW49ZnVuY3Rpb24oKXtyZXR1cm4gMD09KDEmdGhpcy5sb3cpfSx4LmVxdWFscz1mdW5jdGlvbih0KXtyZXR1cm4gZSh0KXx8KHQ9Yyh0KSksKHRoaXMudW5zaWduZWQ9PT10LnVuc2lnbmVkfHx0aGlzLmhpZ2g+Pj4zMSE9MXx8dC5oaWdoPj4+MzEhPTEpJiZ0aGlzLmhpZ2g9PT10LmhpZ2gmJnRoaXMubG93PT09dC5sb3d9LHguZXE9eC5lcXVhbHMseC5ub3RFcXVhbHM9ZnVuY3Rpb24odCl7cmV0dXJuIXRoaXMuZXEodCl9LHgubmVxPXgubm90RXF1YWxzLHgubGVzc1RoYW49ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuY29tcCh0KTwwfSx4Lmx0PXgubGVzc1RoYW4seC5sZXNzVGhhbk9yRXF1YWw9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuY29tcCh0KTw9MH0seC5sdGU9eC5sZXNzVGhhbk9yRXF1YWwseC5ncmVhdGVyVGhhbj1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5jb21wKHQpPjB9LHguZ3Q9eC5ncmVhdGVyVGhhbix4LmdyZWF0ZXJUaGFuT3JFcXVhbD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5jb21wKHQpPj0wfSx4Lmd0ZT14LmdyZWF0ZXJUaGFuT3JFcXVhbCx4LmNvbXBhcmU9ZnVuY3Rpb24odCl7aWYoZSh0KXx8KHQ9Yyh0KSksdGhpcy5lcSh0KSlyZXR1cm4gMDt2YXIgbj10aGlzLmlzTmVnYXRpdmUoKSxyPXQuaXNOZWdhdGl2ZSgpO3JldHVybiBuJiYhcj8tMTohbiYmcj8xOnRoaXMudW5zaWduZWQ/dC5oaWdoPj4+MD50aGlzLmhpZ2g+Pj4wfHx0LmhpZ2g9PT10aGlzLmhpZ2gmJnQubG93Pj4+MD50aGlzLmxvdz4+PjA/LTE6MTp0aGlzLnN1Yih0KS5pc05lZ2F0aXZlKCk/LTE6MX0seC5jb21wPXguY29tcGFyZSx4Lm5lZ2F0ZT1mdW5jdGlvbigpe3JldHVybiF0aGlzLnVuc2lnbmVkJiZ0aGlzLmVxKE8pP086dGhpcy5ub3QoKS5hZGQoZyl9LHgubmVnPXgubmVnYXRlLHguYWRkPWZ1bmN0aW9uKHQpe2UodCl8fCh0PWModCkpO3ZhciBuPXRoaXMuaGlnaD4+PjE2LHI9NjU1MzUmdGhpcy5oaWdoLGk9dGhpcy5sb3c+Pj4xNixhPTY1NTM1JnRoaXMubG93LHM9dC5oaWdoPj4+MTYsdT02NTUzNSZ0LmhpZ2gsbD10Lmxvdz4+PjE2LGg9MCxmPTAsZD0wLHY9MDtyZXR1cm4gZCs9KHYrPWErKDY1NTM1JnQubG93KSk+Pj4xNixmKz0oZCs9aStsKT4+PjE2LGgrPShmKz1yK3UpPj4+MTYsaCs9bitzLG8oKGQmPTY1NTM1KTw8MTZ8KHYmPTY1NTM1KSwoaCY9NjU1MzUpPDwxNnwoZiY9NjU1MzUpLHRoaXMudW5zaWduZWQpfSx4LnN1YnRyYWN0PWZ1bmN0aW9uKHQpe3JldHVybiBlKHQpfHwodD1jKHQpKSx0aGlzLmFkZCh0Lm5lZygpKX0seC5zdWI9eC5zdWJ0cmFjdCx4Lm11bHRpcGx5PWZ1bmN0aW9uKHQpe2lmKHRoaXMuaXNaZXJvKCkpcmV0dXJuIHY7aWYoZSh0KXx8KHQ9Yyh0KSksdC5pc1plcm8oKSlyZXR1cm4gdjtpZih0aGlzLmVxKE8pKXJldHVybiB0LmlzT2RkKCk/Tzp2O2lmKHQuZXEoTykpcmV0dXJuIHRoaXMuaXNPZGQoKT9POnY7aWYodGhpcy5pc05lZ2F0aXZlKCkpcmV0dXJuIHQuaXNOZWdhdGl2ZSgpP3RoaXMubmVnKCkubXVsKHQubmVnKCkpOnRoaXMubmVnKCkubXVsKHQpLm5lZygpO2lmKHQuaXNOZWdhdGl2ZSgpKXJldHVybiB0aGlzLm11bCh0Lm5lZygpKS5uZWcoKTtpZih0aGlzLmx0KGQpJiZ0Lmx0KGQpKXJldHVybiBhKHRoaXMudG9OdW1iZXIoKSp0LnRvTnVtYmVyKCksdGhpcy51bnNpZ25lZCk7dmFyIG49dGhpcy5oaWdoPj4+MTYscj02NTUzNSZ0aGlzLmhpZ2gsaT10aGlzLmxvdz4+PjE2LHM9NjU1MzUmdGhpcy5sb3csdT10LmhpZ2g+Pj4xNixsPTY1NTM1JnQuaGlnaCxoPXQubG93Pj4+MTYsZj02NTUzNSZ0LmxvdyxwPTAsZz0wLHk9MCxtPTA7cmV0dXJuIHkrPShtKz1zKmYpPj4+MTYsZys9KHkrPWkqZik+Pj4xNix5Jj02NTUzNSxnKz0oeSs9cypoKT4+PjE2LHArPShnKz1yKmYpPj4+MTYsZyY9NjU1MzUscCs9KGcrPWkqaCk+Pj4xNixnJj02NTUzNSxwKz0oZys9cypsKT4+PjE2LHArPW4qZityKmgraSpsK3MqdSxvKCh5Jj02NTUzNSk8PDE2fChtJj02NTUzNSksKHAmPTY1NTM1KTw8MTZ8KGcmPTY1NTM1KSx0aGlzLnVuc2lnbmVkKX0seC5tdWw9eC5tdWx0aXBseSx4LmRpdmlkZT1mdW5jdGlvbih0KXtpZihlKHQpfHwodD1jKHQpKSx0LmlzWmVybygpKXRocm93IEVycm9yKCJkaXZpc2lvbiBieSB6ZXJvIik7aWYodGhpcy5pc1plcm8oKSlyZXR1cm4gdGhpcy51bnNpZ25lZD9wOnY7dmFyIG4scixpO2lmKHRoaXMudW5zaWduZWQpe2lmKHQudW5zaWduZWR8fCh0PXQudG9VbnNpZ25lZCgpKSx0Lmd0KHRoaXMpKXJldHVybiBwO2lmKHQuZ3QodGhpcy5zaHJ1KDEpKSlyZXR1cm4geTtpPXB9ZWxzZXtpZih0aGlzLmVxKE8pKXJldHVybiB0LmVxKGcpfHx0LmVxKG0pP086dC5lcShPKT9nOihuPXRoaXMuc2hyKDEpLmRpdih0KS5zaGwoMSkpLmVxKHYpP3QuaXNOZWdhdGl2ZSgpP2c6bToocj10aGlzLnN1Yih0Lm11bChuKSksaT1uLmFkZChyLmRpdih0KSkpO2lmKHQuZXEoTykpcmV0dXJuIHRoaXMudW5zaWduZWQ/cDp2O2lmKHRoaXMuaXNOZWdhdGl2ZSgpKXJldHVybiB0LmlzTmVnYXRpdmUoKT90aGlzLm5lZygpLmRpdih0Lm5lZygpKTp0aGlzLm5lZygpLmRpdih0KS5uZWcoKTtpZih0LmlzTmVnYXRpdmUoKSlyZXR1cm4gdGhpcy5kaXYodC5uZWcoKSkubmVnKCk7aT12fWZvcihyPXRoaXM7ci5ndGUodCk7KXtuPU1hdGgubWF4KDEsTWF0aC5mbG9vcihyLnRvTnVtYmVyKCkvdC50b051bWJlcigpKSk7Zm9yKHZhciBvPU1hdGguY2VpbChNYXRoLmxvZyhuKS9NYXRoLkxOMiksdT1vPD00OD8xOnMoMixvLTQ4KSxsPWEobiksaD1sLm11bCh0KTtoLmlzTmVnYXRpdmUoKXx8aC5ndChyKTspaD0obD1hKG4tPXUsdGhpcy51bnNpZ25lZCkpLm11bCh0KTtsLmlzWmVybygpJiYobD1nKSxpPWkuYWRkKGwpLHI9ci5zdWIoaCl9cmV0dXJuIGl9LHguZGl2PXguZGl2aWRlLHgubW9kdWxvPWZ1bmN0aW9uKHQpe3JldHVybiBlKHQpfHwodD1jKHQpKSx0aGlzLnN1Yih0aGlzLmRpdih0KS5tdWwodCkpfSx4Lm1vZD14Lm1vZHVsbyx4Lm5vdD1mdW5jdGlvbigpe3JldHVybiBvKH50aGlzLmxvdyx+dGhpcy5oaWdoLHRoaXMudW5zaWduZWQpfSx4LmFuZD1mdW5jdGlvbih0KXtyZXR1cm4gZSh0KXx8KHQ9Yyh0KSksbyh0aGlzLmxvdyZ0Lmxvdyx0aGlzLmhpZ2gmdC5oaWdoLHRoaXMudW5zaWduZWQpfSx4Lm9yPWZ1bmN0aW9uKHQpe3JldHVybiBlKHQpfHwodD1jKHQpKSxvKHRoaXMubG93fHQubG93LHRoaXMuaGlnaHx0LmhpZ2gsdGhpcy51bnNpZ25lZCl9LHgueG9yPWZ1bmN0aW9uKHQpe3JldHVybiBlKHQpfHwodD1jKHQpKSxvKHRoaXMubG93XnQubG93LHRoaXMuaGlnaF50LmhpZ2gsdGhpcy51bnNpZ25lZCl9LHguc2hpZnRMZWZ0PWZ1bmN0aW9uKHQpe3JldHVybiBlKHQpJiYodD10LnRvSW50KCkpLDA9PSh0Jj02Myk/dGhpczp0PDMyP28odGhpcy5sb3c8PHQsdGhpcy5oaWdoPDx0fHRoaXMubG93Pj4+MzItdCx0aGlzLnVuc2lnbmVkKTpvKDAsdGhpcy5sb3c8PHQtMzIsdGhpcy51bnNpZ25lZCl9LHguc2hsPXguc2hpZnRMZWZ0LHguc2hpZnRSaWdodD1mdW5jdGlvbih0KXtyZXR1cm4gZSh0KSYmKHQ9dC50b0ludCgpKSwwPT0odCY9NjMpP3RoaXM6dDwzMj9vKHRoaXMubG93Pj4+dHx0aGlzLmhpZ2g8PDMyLXQsdGhpcy5oaWdoPj50LHRoaXMudW5zaWduZWQpOm8odGhpcy5oaWdoPj50LTMyLHRoaXMuaGlnaD49MD8wOi0xLHRoaXMudW5zaWduZWQpfSx4LnNocj14LnNoaWZ0UmlnaHQseC5zaGlmdFJpZ2h0VW5zaWduZWQ9ZnVuY3Rpb24odCl7aWYoZSh0KSYmKHQ9dC50b0ludCgpKSwwPT0odCY9NjMpKXJldHVybiB0aGlzO3ZhciBuPXRoaXMuaGlnaDtyZXR1cm4gdDwzMj9vKHRoaXMubG93Pj4+dHxuPDwzMi10LG4+Pj50LHRoaXMudW5zaWduZWQpOm8oMzI9PT10P246bj4+PnQtMzIsMCx0aGlzLnVuc2lnbmVkKX0seC5zaHJ1PXguc2hpZnRSaWdodFVuc2lnbmVkLHgudG9TaWduZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy51bnNpZ25lZD9vKHRoaXMubG93LHRoaXMuaGlnaCwhMSk6dGhpc30seC50b1Vuc2lnbmVkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudW5zaWduZWQ/dGhpczpvKHRoaXMubG93LHRoaXMuaGlnaCwhMCl9LHgudG9CeXRlcz1mdW5jdGlvbih0KXtyZXR1cm4gdD90aGlzLnRvQnl0ZXNMRSgpOnRoaXMudG9CeXRlc0JFKCl9LHgudG9CeXRlc0xFPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5oaWdoLGU9dGhpcy5sb3c7cmV0dXJuWzI1NSZlLGU+Pj44JjI1NSxlPj4+MTYmMjU1LGU+Pj4yNCYyNTUsMjU1JnQsdD4+PjgmMjU1LHQ+Pj4xNiYyNTUsdD4+PjI0JjI1NV19LHgudG9CeXRlc0JFPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5oaWdoLGU9dGhpcy5sb3c7cmV0dXJuW3Q+Pj4yNCYyNTUsdD4+PjE2JjI1NSx0Pj4+OCYyNTUsMjU1JnQsZT4+PjI0JjI1NSxlPj4+MTYmMjU1LGU+Pj44JjI1NSwyNTUmZV19LHR9KT9yLmFwcGx5KGUsaSk6cil8fCh0LmV4cG9ydHM9YSl9LGZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7bi5kKGUsImEiLChmdW5jdGlvbigpe3JldHVybiBsfSkpLG4uZChlLCJiIiwoZnVuY3Rpb24oKXtyZXR1cm4gaH0pKTt2YXIgcj1uKDY0KSxpPW4oMjIpLGE9TWF0aC5QSS8xODAsbz1uZXcgRmxvYXQzMkFycmF5KDE2KSxzPW5ldyBGbG9hdDMyQXJyYXkoMTIpO2Z1bmN0aW9uIHUodCxlLG4pe3ZhciByPWVbMF0qYSxpPWVbMV0qYSxvPWVbMl0qYSxzPU1hdGguc2luKG8pLHU9TWF0aC5zaW4ociksYz1NYXRoLnNpbihpKSxsPU1hdGguY29zKG8pLGg9TWF0aC5jb3MociksZj1NYXRoLmNvcyhpKSxkPW5bMF0sdj1uWzFdLHA9blsyXTt0WzBdPWQqZipoLHRbMV09ZCpjKmgsdFsyXT1kKi11LHRbM109diooLWMqbCtmKnUqcyksdFs0XT12KihmKmwrYyp1KnMpLHRbNV09dipoKnMsdFs2XT1wKihjKnMrZip1KmwpLHRbN109cCooLWYqcytjKnUqbCksdFs4XT1wKmgqbH1mdW5jdGlvbiBjKHQpe3JldHVybiB0WzBdPXRbMF0sdFsxXT10WzFdLHRbMl09dFsyXSx0WzNdPXRbNF0sdFs0XT10WzVdLHRbNV09dFs2XSx0WzZdPXRbOF0sdFs3XT10WzldLHRbOF09dFsxMF0sdFs5XT10WzEyXSx0WzEwXT10WzEzXSx0WzExXT10WzE0XSx0LnN1YmFycmF5KDAsMTIpfXZhciBsPXtzaXplOjEyLGFjY2Vzc29yOlsiZ2V0T3JpZW50YXRpb24iLCJnZXRTY2FsZSIsImdldFRyYW5zbGF0aW9uIiwiZ2V0VHJhbnNmb3JtTWF0cml4Il0sc2hhZGVyQXR0cmlidXRlczp7aW5zdGFuY2VNb2RlbE1hdHJpeF9fTE9DQVRJT05fMDp7c2l6ZTozLGVsZW1lbnRPZmZzZXQ6MH0saW5zdGFuY2VNb2RlbE1hdHJpeF9fTE9DQVRJT05fMTp7c2l6ZTozLGVsZW1lbnRPZmZzZXQ6M30saW5zdGFuY2VNb2RlbE1hdHJpeF9fTE9DQVRJT05fMjp7c2l6ZTozLGVsZW1lbnRPZmZzZXQ6Nn0saW5zdGFuY2VUcmFuc2xhdGlvbjp7c2l6ZTozLGVsZW1lbnRPZmZzZXQ6OX19LHVwZGF0ZTpmdW5jdGlvbih0LGUpe3ZhciBuPWUuc3RhcnRSb3csaT1lLmVuZFJvdyxhPXRoaXMucHJvcHMsbD1hLmRhdGEsaD1hLmdldE9yaWVudGF0aW9uLGY9YS5nZXRTY2FsZSxkPWEuZ2V0VHJhbnNsYXRpb24sdj1hLmdldFRyYW5zZm9ybU1hdHJpeCxwPUFycmF5LmlzQXJyYXkodiksZz1wJiYxNj09PXYubGVuZ3RoLHk9QXJyYXkuaXNBcnJheShmKSxtPUFycmF5LmlzQXJyYXkoaCksYj1BcnJheS5pc0FycmF5KGQpLF89Z3x8IXAmJkJvb2xlYW4odihsWzBdKSk7dC5jb25zdGFudD1fP2c6bSYmeSYmYjt2YXIgTz10LnZhbHVlO2lmKHQuY29uc3RhbnQpe3ZhciB4O2lmKF8pby5zZXQodikseD1jKG8pO2Vsc2UgdSh4PXMsaCxmKSx4LnNldChkLDkpO3QudmFsdWU9bmV3IEZsb2F0MzJBcnJheSh4KX1lbHNle3ZhciB3PW4qdC5zaXplLGs9T2JqZWN0KHIuYSkobCxuLGkpLFM9ay5pdGVyYWJsZSxQPWsub2JqZWN0SW5mbyxqPSEwLFQ9ITEsRT12b2lkIDA7dHJ5e2Zvcih2YXIgQSxNPVNbU3ltYm9sLml0ZXJhdG9yXSgpOyEoaj0oQT1NLm5leHQoKSkuZG9uZSk7aj0hMCl7dmFyIEM9QS52YWx1ZTtQLmluZGV4Kys7dmFyIEw9dm9pZCAwO2lmKF8pby5zZXQoZz92OnYoQyxQKSksTD1jKG8pO2Vsc2UgdShMPXMsbT9oOmgoQyxQKSx5P2Y6ZihDLFApKSxMLnNldChiP2Q6ZChDLFApLDkpO09bdysrXT1MWzBdLE9bdysrXT1MWzFdLE9bdysrXT1MWzJdLE9bdysrXT1MWzNdLE9bdysrXT1MWzRdLE9bdysrXT1MWzVdLE9bdysrXT1MWzZdLE9bdysrXT1MWzddLE9bdysrXT1MWzhdLE9bdysrXT1MWzldLE9bdysrXT1MWzEwXSxPW3crK109TFsxMV19fWNhdGNoKHQpe1Q9ITAsRT10fWZpbmFsbHl7dHJ5e2p8fG51bGw9PU0ucmV0dXJufHxNLnJldHVybigpfWZpbmFsbHl7aWYoVCl0aHJvdyBFfX19fX07ZnVuY3Rpb24gaCh0LGUpe3JldHVybiBlPT09aS5hLkNBUlRFU0lBTnx8ZT09PWkuYS5NRVRFUl9PRkZTRVRTfHxlPT09aS5hLkRFRkFVTFQmJiF0LmlzR2Vvc3BhdGlhbH19LGZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dmFyIHI9big2KSxpPW4oNyk7ZnVuY3Rpb24gYSgpe3ZhciB0O2lmKCJ1bmRlZmluZWQiIT10eXBlb2Ygd2luZG93JiZ3aW5kb3cucGVyZm9ybWFuY2UpdD13aW5kb3cucGVyZm9ybWFuY2Uubm93KCk7ZWxzZSBpZigidW5kZWZpbmVkIiE9dHlwZW9mIHByb2Nlc3MmJnByb2Nlc3MuaHJ0aW1lKXt2YXIgZT1wcm9jZXNzLmhydGltZSgpO3Q9MWUzKmVbMF0rZVsxXS8xZTZ9ZWxzZSB0PURhdGUubm93KCk7cmV0dXJuIHR9dmFyIG89ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUsbil7T2JqZWN0KHIuYSkodGhpcyx0KSx0aGlzLm5hbWU9ZSx0aGlzLnR5cGU9bix0aGlzLnNhbXBsZVNpemU9MSx0aGlzLnJlc2V0KCl9cmV0dXJuIE9iamVjdChpLmEpKHQsW3trZXk6InNldFNhbXBsZVNpemUiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnNhbXBsZVNpemU9dCx0aGlzfX0se2tleToiaW5jcmVtZW50Q291bnQiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYWRkQ291bnQoMSksdGhpc319LHtrZXk6ImRlY3JlbWVudENvdW50Iix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnN1YnRyYWN0Q291bnQoMSksdGhpc319LHtrZXk6ImFkZENvdW50Iix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fY291bnQrPXQsdGhpcy5fc2FtcGxlcysrLHRoaXMuX2NoZWNrU2FtcGxpbmcoKSx0aGlzfX0se2tleToic3VidHJhY3RDb3VudCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2NvdW50LT10LHRoaXMuX3NhbXBsZXMrKyx0aGlzLl9jaGVja1NhbXBsaW5nKCksdGhpc319LHtrZXk6ImFkZFRpbWUiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl90aW1lKz10LHRoaXMubGFzdFRpbWluZz10LHRoaXMuX3NhbXBsZXMrKyx0aGlzLl9jaGVja1NhbXBsaW5nKCksdGhpc319LHtrZXk6InRpbWVTdGFydCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3RhcnRUaW1lPWEoKSx0aGlzLl90aW1lclBlbmRpbmc9ITAsdGhpc319LHtrZXk6InRpbWVFbmQiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3RpbWVyUGVuZGluZz8odGhpcy5hZGRUaW1lKGEoKS10aGlzLl9zdGFydFRpbWUpLHRoaXMuX3RpbWVyUGVuZGluZz0hMSx0aGlzLl9jaGVja1NhbXBsaW5nKCksdGhpcyk6dGhpc319LHtrZXk6ImdldFNhbXBsZUF2ZXJhZ2VDb3VudCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zYW1wbGVTaXplPjA/dGhpcy5sYXN0U2FtcGxlQ291bnQvdGhpcy5zYW1wbGVTaXplOjB9fSx7a2V5OiJnZXRTYW1wbGVBdmVyYWdlVGltZSIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zYW1wbGVTaXplPjA/dGhpcy5sYXN0U2FtcGxlVGltZS90aGlzLnNhbXBsZVNpemU6MH19LHtrZXk6ImdldFNhbXBsZUh6Iix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmxhc3RTYW1wbGVUaW1lPjA/dGhpcy5zYW1wbGVTaXplLyh0aGlzLmxhc3RTYW1wbGVUaW1lLzFlMyk6MH19LHtrZXk6ImdldEF2ZXJhZ2VDb3VudCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zYW1wbGVzPjA/dGhpcy5jb3VudC90aGlzLnNhbXBsZXM6MH19LHtrZXk6ImdldEF2ZXJhZ2VUaW1lIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnNhbXBsZXM+MD90aGlzLnRpbWUvdGhpcy5zYW1wbGVzOjB9fSx7a2V5OiJnZXRIeiIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50aW1lPjA/dGhpcy5zYW1wbGVzLyh0aGlzLnRpbWUvMWUzKTowfX0se2tleToicmVzZXQiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudGltZT0wLHRoaXMuY291bnQ9MCx0aGlzLnNhbXBsZXM9MCx0aGlzLmxhc3RUaW1pbmc9MCx0aGlzLmxhc3RTYW1wbGVUaW1lPTAsdGhpcy5sYXN0U2FtcGxlQ291bnQ9MCx0aGlzLl9jb3VudD0wLHRoaXMuX3RpbWU9MCx0aGlzLl9zYW1wbGVzPTAsdGhpcy5fc3RhcnRUaW1lPTAsdGhpcy5fdGltZXJQZW5kaW5nPSExLHRoaXN9fSx7a2V5OiJfY2hlY2tTYW1wbGluZyIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLl9zYW1wbGVzPT09dGhpcy5zYW1wbGVTaXplJiYodGhpcy5sYXN0U2FtcGxlVGltZT10aGlzLl90aW1lLHRoaXMubGFzdFNhbXBsZUNvdW50PXRoaXMuX2NvdW50LHRoaXMuY291bnQrPXRoaXMuX2NvdW50LHRoaXMudGltZSs9dGhpcy5fdGltZSx0aGlzLnNhbXBsZXMrPXRoaXMuX3NhbXBsZXMsdGhpcy5fdGltZT0wLHRoaXMuX2NvdW50PTAsdGhpcy5fc2FtcGxlcz0wKX19XSksdH0oKSxzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlKXt2YXIgbj1lLmlkLGk9ZS5zdGF0cztPYmplY3Qoci5hKSh0aGlzLHQpLHRoaXMuaWQ9bix0aGlzLnN0YXRzPXt9LHRoaXMuX2luaXRpYWxpemVTdGF0cyhpKSxPYmplY3Quc2VhbCh0aGlzKX1yZXR1cm4gT2JqZWN0KGkuYSkodCxbe2tleToiZ2V0Iix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06ImNvdW50IjtyZXR1cm4gdGhpcy5fZ2V0T3JDcmVhdGUoe25hbWU6dCx0eXBlOmV9KX19LHtrZXk6InJlc2V0Iix2YWx1ZTpmdW5jdGlvbigpe2Zvcih2YXIgdCBpbiB0aGlzLnN0YXRzKXRoaXMuc3RhdHNbdF0ucmVzZXQoKTtyZXR1cm4gdGhpc319LHtrZXk6ImZvckVhY2giLHZhbHVlOmZ1bmN0aW9uKHQpe2Zvcih2YXIgZSBpbiB0aGlzLnN0YXRzKXQodGhpcy5zdGF0c1tlXSl9fSx7a2V5OiJnZXRUYWJsZSIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD17fTtyZXR1cm4gdGhpcy5mb3JFYWNoKChmdW5jdGlvbihlKXt0W2UubmFtZV09e3RpbWU6ZS50aW1lfHwwLGNvdW50OmUuY291bnR8fDAsYXZlcmFnZTplLmdldEF2ZXJhZ2VUaW1lKCl8fDAsaHo6ZS5nZXRIeigpfHwwfX0pKSx0fX0se2tleToiX2luaXRpYWxpemVTdGF0cyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOltdO2UuZm9yRWFjaCgoZnVuY3Rpb24oZSl7cmV0dXJuIHQuX2dldE9yQ3JlYXRlKGUpfSkpfX0se2tleToiX2dldE9yQ3JlYXRlIix2YWx1ZTpmdW5jdGlvbih0KXtpZighdHx8IXQubmFtZSlyZXR1cm4gbnVsbDt2YXIgZT10Lm5hbWUsbj10LnR5cGU7cmV0dXJuIHRoaXMuc3RhdHNbZV18fCh0aGlzLnN0YXRzW2VdPXQgaW5zdGFuY2VvZiBvP3Q6bmV3IG8oZSxuKSksdGhpcy5zdGF0c1tlXX19LHtrZXk6InNpemUiLGdldDpmdW5jdGlvbigpe3JldHVybiBPYmplY3Qua2V5cyh0aGlzLnN0YXRzKS5sZW5ndGh9fV0pLHR9KCk7bi5kKGUsImEiLChmdW5jdGlvbigpe3JldHVybiBzfSkpfSwsZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuIHQmJnQuX19lc01vZHVsZT90OntkZWZhdWx0OnR9fX0sZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiByKHQpe3JldHVybiB0KzMmLTR9ZnVuY3Rpb24gaSh0LGUsbil7dmFyIHI9bj9uZXcgVWludDhBcnJheSh0KS5zdWJhcnJheShlLGUrbik6bmV3IFVpbnQ4QXJyYXkodCkuc3ViYXJyYXkoZSk7cmV0dXJuIG5ldyBVaW50OEFycmF5KHIpLmJ1ZmZlcn1mdW5jdGlvbiBhKHQsZSxuKXt2YXIgaTtpZih0IGluc3RhbmNlb2YgQXJyYXlCdWZmZXIpaT1uZXcgVWludDhBcnJheSh0KTtlbHNle3ZhciBhPXQuYnl0ZU9mZnNldCxvPXQuYnl0ZUxlbmd0aDtpPW5ldyBVaW50OEFycmF5KHQuYnVmZmVyLGEsbyl9cmV0dXJuIGUuc2V0KGksbiksbityKGkuYnl0ZUxlbmd0aCl9bi5kKGUsImMiLChmdW5jdGlvbigpe3JldHVybiByfSkpLG4uZChlLCJiIiwoZnVuY3Rpb24oKXtyZXR1cm4gaX0pKSxuLmQoZSwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIGF9KSl9LGZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gcih0KXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06NTtpZigic3RyaW5nIj09dHlwZW9mIHQpcmV0dXJuIHQuc2xpY2UoMCxlKTtpZihBcnJheUJ1ZmZlci5pc1ZpZXcodCkpcmV0dXJuIGkodC5idWZmZXIsdC5ieXRlT2Zmc2V0LGUpO2lmKHQgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcil7dmFyIG49MDtyZXR1cm4gaSh0LG4sZSl9cmV0dXJuIiJ9ZnVuY3Rpb24gaSh0LGUsbil7aWYodC5ieXRlTGVuZ3RoPD1lK24pcmV0dXJuIiI7Zm9yKHZhciByPW5ldyBEYXRhVmlldyh0KSxpPSIiLGE9MDthPG47YSsrKWkrPVN0cmluZy5mcm9tQ2hhckNvZGUoci5nZXRVaW50OChlK2EpKTtyZXR1cm4gaX1uLmQoZSwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIHJ9KSl9LGZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7bi5kKGUsImEiLChmdW5jdGlvbigpe3JldHVybiBjfSkpO3ZhciByPW4oNSksaT1uLm4ociksYT1uKDEzKSxvPW4oNikscz1uKDcpLHU9bigxNTQpLGM9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUpe3ZhciBuPWUubWF4Q29uY3VycmVuY3kscj12b2lkIDA9PT1uPzU6bixpPWUub25NZXNzYWdlLGE9ZS5vbkRlYnVnLHM9dm9pZCAwPT09YT9mdW5jdGlvbigpe306YTtPYmplY3Qoby5hKSh0aGlzLHQpLHRoaXMubWF4Q29uY3VycmVuY3k9cix0aGlzLm9uTWVzc2FnZT1pLHRoaXMub25EZWJ1Zz1zLHRoaXMud29ya2VyUG9vbHM9bmV3IE1hcH12YXIgZTtyZXR1cm4gT2JqZWN0KHMuYSkodCxudWxsLFt7a2V5OiJpc1N1cHBvcnRlZCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4idW5kZWZpbmVkIiE9dHlwZW9mIFdvcmtlcn19XSksT2JqZWN0KHMuYSkodCxbe2tleToic2V0UHJvcHMiLHZhbHVlOmZ1bmN0aW9uKHQpeyJtYXhDb25jdXJyZW5jeSJpbiB0JiYodGhpcy5tYXhDb25jdXJyZW5jeT10Lm1heENvbmN1cnJlbmN5KSwib25EZWJ1ZyJpbiB0JiYodGhpcy5vbkRlYnVnPXQub25EZWJ1Zyl9fSx7a2V5OiJkZXN0cm95Iix2YWx1ZTpmdW5jdGlvbigpe3RoaXMud29ya2VyUG9vbHMuZm9yRWFjaCgoZnVuY3Rpb24odCl7cmV0dXJuIHQuZGVzdHJveSgpfSkpfX0se2tleToicHJvY2VzcyIsdmFsdWU6KGU9T2JqZWN0KGEuYSkoaS5hLm1hcmsoKGZ1bmN0aW9uIHQoZSxuLHIpe3ZhciBhO3JldHVybiBpLmEud3JhcCgoZnVuY3Rpb24odCl7Zm9yKDs7KXN3aXRjaCh0LnByZXY9dC5uZXh0KXtjYXNlIDA6cmV0dXJuIGE9dGhpcy5fZ2V0V29ya2VyUG9vbChlLG4pLHQuYWJydXB0KCJyZXR1cm4iLGEucHJvY2VzcyhyKSk7Y2FzZSAyOmNhc2UiZW5kIjpyZXR1cm4gdC5zdG9wKCl9fSksdCx0aGlzKX0pKSksZnVuY3Rpb24odCxuLHIpe3JldHVybiBlLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0pfSx7a2V5OiJfZ2V0V29ya2VyUG9vbCIsdmFsdWU6ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLndvcmtlclBvb2xzLmdldChlKTtyZXR1cm4gbnx8KG49bmV3IHUuYSh7c291cmNlOnQsbmFtZTplLG9uTWVzc2FnZTp0aGlzLm9uTWVzc2FnZSxtYXhDb25jdXJyZW5jeTp0aGlzLm1heENvbmN1cnJlbmN5LG9uRGVidWc6dGhpcy5vbkRlYnVnfSksdGhpcy53b3JrZXJQb29scy5zZXQoZSxuKSksbn19XSksdH0oKX0sZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0IjtuLmQoZSwiYyIsKGZ1bmN0aW9uKCl7cmV0dXJuIG99KSksbi5kKGUsImIiLChmdW5jdGlvbigpe3JldHVybiBzfSkpLG4uZChlLCJhIiwoZnVuY3Rpb24oKXtyZXR1cm4gY30pKTt2YXIgcj1uKDQxKSxpPW4ubihyKSxhPW4oNDYpLmIuQ09NUE9ORU5UO2Z1bmN0aW9uIG8odCl7dmFyIGU9ZCh0KTtmb3IodmFyIG4gaW4gZSl7dmFyIHI9ZVtuXSxpPXIudmFsaWRhdGU7aWYoaSYmIWkodFtuXSxyKSl0aHJvdyBuZXcgRXJyb3IoIkludmFsaWQgcHJvcCAiLmNvbmNhdChuLCI6ICIpLmNvbmNhdCh0W25dKSl9fWZ1bmN0aW9uIHModCxlKXt2YXIgbj1jKHtuZXdQcm9wczp0LG9sZFByb3BzOmUscHJvcFR5cGVzOmQodCksaWdub3JlUHJvcHM6e2RhdGE6bnVsbCx1cGRhdGVUcmlnZ2VyczpudWxsLGV4dGVuc2lvbnM6bnVsbCx0cmFuc2l0aW9uczpudWxsfX0pLHI9ZnVuY3Rpb24odCxlKXtpZihudWxsPT09ZSlyZXR1cm4ib2xkUHJvcHMgaXMgbnVsbCwgaW5pdGlhbCBkaWZmIjt2YXIgbj1udWxsLHI9dC5kYXRhQ29tcGFyYXRvcixpPXQuX2RhdGFEaWZmO3I/cih0LmRhdGEsZS5kYXRhKXx8KG49IkRhdGEgY29tcGFyYXRvciBkZXRlY3RlZCBhIGNoYW5nZSIpOnQuZGF0YSE9PWUuZGF0YSYmKG49IkEgbmV3IGRhdGEgY29udGFpbmVyIHdhcyBzdXBwbGllZCIpO24mJmkmJihuPWkodC5kYXRhLGUuZGF0YSl8fG4pO3JldHVybiBufSh0LGUpLGk9ITE7cmV0dXJuIHJ8fChpPWZ1bmN0aW9uKHQsZSl7aWYobnVsbD09PWUpcmV0dXJuIm9sZFByb3BzIGlzIG51bGwsIGluaXRpYWwgZGlmZiI7aWYoImFsbCJpbiB0LnVwZGF0ZVRyaWdnZXJzKXtpZihmKHQsZSwiYWxsIikpcmV0dXJue2FsbDohMH19dmFyIG49e30scj0hMTtmb3IodmFyIGkgaW4gdC51cGRhdGVUcmlnZ2Vycyl7aWYoImFsbCIhPT1pKWYodCxlLGkpJiYobltpXT0hMCxyPW4pfXJldHVybiByfSh0LGUpKSx7ZGF0YUNoYW5nZWQ6cixwcm9wc0NoYW5nZWQ6bix1cGRhdGVUcmlnZ2Vyc0NoYW5nZWQ6aSxleHRlbnNpb25zQ2hhbmdlZDpoKHQsZSksdHJhbnNpdGlvbnNDaGFuZ2VkOnUodCxlKX19ZnVuY3Rpb24gdSh0LGUpe2lmKCF0LnRyYW5zaXRpb25zKXJldHVybiBudWxsO3ZhciBuPXt9LHI9ZCh0KTtmb3IodmFyIGkgaW4gdC50cmFuc2l0aW9ucyl7dmFyIGE9cltpXSxvPWEmJmEudHlwZTsoIm51bWJlciI9PT1vfHwiY29sb3IiPT09b3x8ImFycmF5Ij09PW8pJiZsKHRbaV0sZVtpXSxhKSYmKG5baV09ITApfXJldHVybiBufWZ1bmN0aW9uIGMoKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e30sZT10Lm5ld1Byb3BzLG49dC5vbGRQcm9wcyxyPXQuaWdub3JlUHJvcHMsYT12b2lkIDA9PT1yP3t9OnIsbz10LnByb3BUeXBlcyxzPXZvaWQgMD09PW8/e306byx1PXQudHJpZ2dlck5hbWUsYz12b2lkIDA9PT11PyJwcm9wcyI6dTtpZihuPT09ZSlyZXR1cm4gbnVsbDtpZigib2JqZWN0IiE9PWkoKShlKXx8bnVsbD09PWUpcmV0dXJuIiIuY29uY2F0KGMsIiBjaGFuZ2VkIHNoYWxsb3dseSIpO2lmKCJvYmplY3QiIT09aSgpKG4pfHxudWxsPT09bilyZXR1cm4iIi5jb25jYXQoYywiIGNoYW5nZWQgc2hhbGxvd2x5Iik7Zm9yKHZhciBoPTAsZj1PYmplY3Qua2V5cyhlKTtoPGYubGVuZ3RoO2grKyl7dmFyIGQ9ZltoXTtpZighKGQgaW4gYSkpe2lmKCEoZCBpbiBuKSlyZXR1cm4iIi5jb25jYXQoYywiLiIpLmNvbmNhdChkLCIgYWRkZWQiKTt2YXIgdj1sKGVbZF0sbltkXSxzW2RdKTtpZih2KXJldHVybiIiLmNvbmNhdChjLCIuIikuY29uY2F0KGQsIiAiKS5jb25jYXQodil9fWZvcih2YXIgcD0wLGc9T2JqZWN0LmtleXMobik7cDxnLmxlbmd0aDtwKyspe3ZhciB5PWdbcF07aWYoISh5IGluIGEpKXtpZighKHkgaW4gZSkpcmV0dXJuIiIuY29uY2F0KGMsIi4iKS5jb25jYXQoeSwiIGRyb3BwZWQiKTtpZighT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSx5KSl7dmFyIG09bChlW3ldLG5beV0sc1t5XSk7aWYobSlyZXR1cm4iIi5jb25jYXQoYywiLiIpLmNvbmNhdCh5LCIgIikuY29uY2F0KG0pfX19cmV0dXJuIG51bGx9ZnVuY3Rpb24gbCh0LGUsbil7dmFyIHI9biYmbi5lcXVhbDtyZXR1cm4gciYmIXIodCxlLG4pPyJjaGFuZ2VkIGRlZXBseSI6cnx8IShyPXQmJmUmJnQuZXF1YWxzKXx8ci5jYWxsKHQsZSk/cnx8ZT09PXQ/bnVsbDoiY2hhbmdlZCBzaGFsbG93bHkiOiJjaGFuZ2VkIGRlZXBseSJ9ZnVuY3Rpb24gaCh0LGUpe2lmKG51bGw9PT1lKXJldHVybiJvbGRQcm9wcyBpcyBudWxsLCBpbml0aWFsIGRpZmYiO3ZhciBuPWUuZXh0ZW5zaW9ucyxyPXQuZXh0ZW5zaW9ucztpZihyPT09bilyZXR1cm4hMTtpZihyLmxlbmd0aCE9PW4ubGVuZ3RoKXJldHVybiEwO2Zvcih2YXIgaT0wO2k8ci5sZW5ndGg7aSsrKWlmKCFyW2ldLmVxdWFscyhuW2ldKSlyZXR1cm4hMDtyZXR1cm4hMX1mdW5jdGlvbiBmKHQsZSxuKXt2YXIgcj10LnVwZGF0ZVRyaWdnZXJzW25dO3I9bnVsbD09cj97fTpyO3ZhciBpPWUudXBkYXRlVHJpZ2dlcnNbbl07cmV0dXJuIGMoe29sZFByb3BzOmk9bnVsbD09aT97fTppLG5ld1Byb3BzOnIsdHJpZ2dlck5hbWU6bn0pfWZ1bmN0aW9uIGQodCl7dmFyIGU9dFthXSxuPWUmJmUuY29uc3RydWN0b3I7cmV0dXJuIG4/bi5fcHJvcFR5cGVzOnt9fX0sZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKDEpLGk9bi5uKHIpLGE9bigyKSxvPW4ubihhKSxzPW4oOSksdT1uLm4ocyksYz1uKDMpLGw9bi5uKGMpLGg9bigxMCksZj1uLm4oaCksZD1uKDIzMSksdj1uKDEyNykscD1uKDE0OSksZz1uKDEwOSkseT1uKDEwMiksbT1uKDgpLGI9big0KSxfPW4ubihiKSxPPW4oMTIpLHg9bi5uKE8pLHc9bigxMDEpLGs9bigxMTQpLFM9big4MiksUD1uKDExKTtmdW5jdGlvbiBqKHQsZSl7dmFyIG49T2JqZWN0LmtleXModCk7aWYoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyl7dmFyIHI9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyh0KTtlJiYocj1yLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodCxlKS5lbnVtZXJhYmxlfSkpKSxuLnB1c2guYXBwbHkobixyKX1yZXR1cm4gbn12YXIgVD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKHQsbil7dmFyIHIsYSxvO3JldHVybiBpKCkodGhpcyxlKSwobz11KCkodGhpcyxsKCkoZSkuY2FsbCh0aGlzLHQsbikpKS5zaGFkb3dNYXA9bmV3IHYuYSh0LHt3aWR0aDoxLGhlaWdodDoxLHBhcmFtZXRlcnM6KHI9e30sXygpKHIsMTAyNDEsOTcyOSksXygpKHIsMTAyNDAsOTcyOSksXygpKHIsMTAyNDIsMzMwNzEpLF8oKShyLDEwMjQzLDMzMDcxKSxyKX0pLG8uZGVwdGhCdWZmZXI9bmV3IGsuYSh0LHtmb3JtYXQ6MzMxODksd2lkdGg6MSxoZWlnaHQ6MX0pLG8uZmJvPW5ldyBTLmEodCx7aWQ6InNoYWRvd21hcCIsd2lkdGg6MSxoZWlnaHQ6MSxhdHRhY2htZW50czooYT17fSxfKCkoYSwzNjA2NCxvLnNoYWRvd01hcCksXygpKGEsMzYwOTYsby5kZXB0aEJ1ZmZlciksYSl9KSxvfXJldHVybiBmKCkoZSx0KSxvKCkoZSxbe2tleToicmVuZGVyIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgbj10aGlzLHI9dGhpcy5mYm87T2JqZWN0KFAubCkodGhpcy5nbCx7ZGVwdGhSYW5nZTpbMCwxXSxkZXB0aFRlc3Q6ITAsYmxlbmQ6ITEsY2xlYXJDb2xvcjpbMSwxLDEsMV19LChmdW5jdGlvbigpe3ZhciBpPXQudmlld3BvcnRzWzBdLGE9T2JqZWN0KFAuYykobi5nbCksbz1pLndpZHRoKmEscz1pLmhlaWdodCphO289PT1yLndpZHRoJiZzPT09ci5oZWlnaHR8fHIucmVzaXplKHt3aWR0aDpvLGhlaWdodDpzfSkseCgpKGwoKShlLnByb3RvdHlwZSksInJlbmRlciIsbikuY2FsbChuLGZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0xO2U8YXJndW1lbnRzLmxlbmd0aDtlKyspe3ZhciBuPW51bGwhPWFyZ3VtZW50c1tlXT9hcmd1bWVudHNbZV06e307ZSUyP2ooT2JqZWN0KG4pLCEwKS5mb3JFYWNoKChmdW5jdGlvbihlKXtfKCkodCxlLG5bZV0pfSkpOk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzP09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHQsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMobikpOmooT2JqZWN0KG4pKS5mb3JFYWNoKChmdW5jdGlvbihlKXtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxlLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IobixlKSl9KSl9cmV0dXJuIHR9KHt9LHQse3RhcmdldDpyLHBhc3M6InNoYWRvdyJ9KSl9KSl9fSx7a2V5OiJzaG91bGREcmF3TGF5ZXIiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiExIT09dC5wcm9wcy5zaGFkb3dFbmFibGVkfX0se2tleToiZ2V0TW9kdWxlUGFyYW1ldGVycyIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm57ZHJhd1RvU2hhZG93TWFwOiEwfX19LHtrZXk6ImRlbGV0ZSIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLmZibyYmKHRoaXMuZmJvLmRlbGV0ZSgpLHRoaXMuZmJvPW51bGwpLHRoaXMuc2hhZG93TWFwJiYodGhpcy5zaGFkb3dNYXAuZGVsZXRlKCksdGhpcy5zaGFkb3dNYXA9bnVsbCksdGhpcy5kZXB0aEJ1ZmZlciYmKHRoaXMuZGVwdGhCdWZmZXIuZGVsZXRlKCksdGhpcy5kZXB0aEJ1ZmZlcj1udWxsKX19XSksZX0ody5hKSxFPW4oMTIyKTtuLmQoZSwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIEx9KSk7dmFyIEE9e2NvbG9yOlsyNTUsMjU1LDI1NV0saW50ZW5zaXR5OjF9LE09W3tjb2xvcjpbMjU1LDI1NSwyNTVdLGludGVuc2l0eToxLGRpcmVjdGlvbjpbLTEsMywtMV19LHtjb2xvcjpbMjU1LDI1NSwyNTVdLGludGVuc2l0eTouOSxkaXJlY3Rpb246WzEsLTgsLTIuNV19XSxDPVswLDAsMCwyMDAvMjU1XSxMPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUodCl7dmFyIG47Zm9yKHZhciByIGluIGkoKSh0aGlzLGUpLChuPXUoKSh0aGlzLGwoKShlKS5jYWxsKHRoaXMsdCkpKS5hbWJpZW50TGlnaHQ9bnVsbCxuLmRpcmVjdGlvbmFsTGlnaHRzPVtdLG4ucG9pbnRMaWdodHM9W10sbi5zaGFkb3dDb2xvcj1DLG4uc2hhZG93UGFzc2VzPVtdLG4uc2hhZG93TWFwcz1bXSxuLmR1bW15U2hhZG93TWFwPW51bGwsbi5zaGFkb3c9ITEsbi5wcm9ncmFtTWFuYWdlcj1udWxsLHQpe3ZhciBhPXRbcl07c3dpdGNoKGEudHlwZSl7Y2FzZSJhbWJpZW50IjpuLmFtYmllbnRMaWdodD1hO2JyZWFrO2Nhc2UiZGlyZWN0aW9uYWwiOm4uZGlyZWN0aW9uYWxMaWdodHMucHVzaChhKTticmVhaztjYXNlInBvaW50IjpuLnBvaW50TGlnaHRzLnB1c2goYSl9fXJldHVybiBuLl9hcHBseURlZmF1bHRMaWdodHMoKSxuLnNoYWRvdz1uLmRpcmVjdGlvbmFsTGlnaHRzLnNvbWUoKGZ1bmN0aW9uKHQpe3JldHVybiB0LnNoYWRvd30pKSxufXJldHVybiBmKCkoZSx0KSxvKCkoZSxbe2tleToicHJlUmVuZGVyIix2YWx1ZTpmdW5jdGlvbih0LGUpe3ZhciBuPWUubGF5ZXJzLHI9ZS5sYXllckZpbHRlcixpPWUudmlld3BvcnRzLGE9ZS5vblZpZXdwb3J0QWN0aXZlLG89ZS52aWV3cztpZih0aGlzLnNoYWRvdyl7dGhpcy5zaGFkb3dNYXRyaWNlcz10aGlzLl9jcmVhdGVMaWdodE1hdHJpeCgpLDA9PT10aGlzLnNoYWRvd1Bhc3Nlcy5sZW5ndGgmJnRoaXMuX2NyZWF0ZVNoYWRvd1Bhc3Nlcyh0KSx0aGlzLnByb2dyYW1NYW5hZ2VyfHwodGhpcy5wcm9ncmFtTWFuYWdlcj1kLmEuZ2V0RGVmYXVsdFByb2dyYW1NYW5hZ2VyKHQpLEUuYSYmdGhpcy5wcm9ncmFtTWFuYWdlci5hZGREZWZhdWx0TW9kdWxlKEUuYSkpLHRoaXMuZHVtbXlTaGFkb3dNYXB8fCh0aGlzLmR1bW15U2hhZG93TWFwPW5ldyB2LmEodCx7d2lkdGg6MSxoZWlnaHQ6MX0pKTtmb3IodmFyIHM9MDtzPHRoaXMuc2hhZG93UGFzc2VzLmxlbmd0aDtzKyspe3RoaXMuc2hhZG93UGFzc2VzW3NdLnJlbmRlcih7bGF5ZXJzOm4sbGF5ZXJGaWx0ZXI6cix2aWV3cG9ydHM6aSxvblZpZXdwb3J0QWN0aXZlOmEsdmlld3M6byxtb2R1bGVQYXJhbWV0ZXJzOntzaGFkb3dMaWdodElkOnMsZHVtbXlTaGFkb3dNYXA6dGhpcy5kdW1teVNoYWRvd01hcCxzaGFkb3dNYXRyaWNlczp0aGlzLnNoYWRvd01hdHJpY2VzfX0pfX19fSx7a2V5OiJnZXRNb2R1bGVQYXJhbWV0ZXJzIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLnNoYWRvdz97c2hhZG93TWFwczp0aGlzLnNoYWRvd01hcHMsZHVtbXlTaGFkb3dNYXA6dGhpcy5kdW1teVNoYWRvd01hcCxzaGFkb3dDb2xvcjp0aGlzLnNoYWRvd0NvbG9yLHNoYWRvd01hdHJpY2VzOnRoaXMuc2hhZG93TWF0cmljZXN9Ont9O3JldHVybiBlLmxpZ2h0U291cmNlcz17YW1iaWVudExpZ2h0OnRoaXMuYW1iaWVudExpZ2h0LGRpcmVjdGlvbmFsTGlnaHRzOnRoaXMuZGlyZWN0aW9uYWxMaWdodHMubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZS5nZXRQcm9qZWN0ZWRMaWdodCh7bGF5ZXI6dH0pfSkpLHBvaW50TGlnaHRzOnRoaXMucG9pbnRMaWdodHMubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZS5nZXRQcm9qZWN0ZWRMaWdodCh7bGF5ZXI6dH0pfSkpfSxlfX0se2tleToiY2xlYW51cCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD0hMCxlPSExLG49dm9pZCAwO3RyeXtmb3IodmFyIHIsaT10aGlzLnNoYWRvd1Bhc3Nlc1tTeW1ib2wuaXRlcmF0b3JdKCk7ISh0PShyPWkubmV4dCgpKS5kb25lKTt0PSEwKXtyLnZhbHVlLmRlbGV0ZSgpfX1jYXRjaCh0KXtlPSEwLG49dH1maW5hbGx5e3RyeXt0fHxudWxsPT1pLnJldHVybnx8aS5yZXR1cm4oKX1maW5hbGx5e2lmKGUpdGhyb3cgbn19dGhpcy5zaGFkb3dQYXNzZXMubGVuZ3RoPTAsdGhpcy5zaGFkb3dNYXBzLmxlbmd0aD0wLHRoaXMuZHVtbXlTaGFkb3dNYXAmJih0aGlzLmR1bW15U2hhZG93TWFwLmRlbGV0ZSgpLHRoaXMuZHVtbXlTaGFkb3dNYXA9bnVsbCksdGhpcy5zaGFkb3cmJnRoaXMucHJvZ3JhbU1hbmFnZXImJih0aGlzLnByb2dyYW1NYW5hZ2VyLnJlbW92ZURlZmF1bHRNb2R1bGUoRS5hKSx0aGlzLnByb2dyYW1NYW5hZ2VyPW51bGwpfX0se2tleToiX2NyZWF0ZUxpZ2h0TWF0cml4Iix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PVtdLGU9ITAsbj0hMSxyPXZvaWQgMDt0cnl7Zm9yKHZhciBpLGE9dGhpcy5kaXJlY3Rpb25hbExpZ2h0c1tTeW1ib2wuaXRlcmF0b3JdKCk7IShlPShpPWEubmV4dCgpKS5kb25lKTtlPSEwKXt2YXIgbz1pLnZhbHVlLHM9KG5ldyBtLmEpLmxvb2tBdCh7ZXllOm5ldyBtLmQoby5kaXJlY3Rpb24pLm5lZ2F0ZSgpfSk7dC5wdXNoKHMpfX1jYXRjaCh0KXtuPSEwLHI9dH1maW5hbGx5e3RyeXtlfHxudWxsPT1hLnJldHVybnx8YS5yZXR1cm4oKX1maW5hbGx5e2lmKG4pdGhyb3cgcn19cmV0dXJuIHR9fSx7a2V5OiJfY3JlYXRlU2hhZG93UGFzc2VzIix2YWx1ZTpmdW5jdGlvbih0KXtmb3IodmFyIGU9MDtlPHRoaXMuZGlyZWN0aW9uYWxMaWdodHMubGVuZ3RoO2UrKyl7dmFyIG49bmV3IFQodCk7dGhpcy5zaGFkb3dQYXNzZXNbZV09bix0aGlzLnNoYWRvd01hcHNbZV09bi5zaGFkb3dNYXB9fX0se2tleToiX2FwcGx5RGVmYXVsdExpZ2h0cyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmFtYmllbnRMaWdodCxlPXRoaXMucG9pbnRMaWdodHMsbj10aGlzLmRpcmVjdGlvbmFsTGlnaHRzO3R8fDAhPT1lLmxlbmd0aHx8MCE9PW4ubGVuZ3RofHwodGhpcy5hbWJpZW50TGlnaHQ9bmV3IHAuYShBKSx0aGlzLmRpcmVjdGlvbmFsTGlnaHRzLnB1c2gobmV3IGcuYShNWzBdKSxuZXcgZy5hKE1bMV0pKSl9fV0pLGV9KHkuYSl9LGZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gcih0KXtyZXR1cm4ocj0iZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiYic3ltYm9sIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbih0KXtyZXR1cm4gdHlwZW9mIHR9OmZ1bmN0aW9uKHQpe3JldHVybiB0JiYiZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiZ0LmNvbnN0cnVjdG9yPT09U3ltYm9sJiZ0IT09U3ltYm9sLnByb3RvdHlwZT8ic3ltYm9sIjp0eXBlb2YgdH0pKHQpfWZ1bmN0aW9uIGkodCl7cmV0dXJuKGk9ImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmInN5bWJvbCI9PT1yKFN5bWJvbC5pdGVyYXRvcik/ZnVuY3Rpb24odCl7cmV0dXJuIHIodCl9OmZ1bmN0aW9uKHQpe3JldHVybiB0JiYiZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiZ0LmNvbnN0cnVjdG9yPT09U3ltYm9sJiZ0IT09U3ltYm9sLnByb3RvdHlwZT8ic3ltYm9sIjpyKHQpfSkodCl9bi5kKGUsImEiLChmdW5jdGlvbigpe3JldHVybiBpfSkpfSxmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIHIodCl7aWYodm9pZCAwPT09dCl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZCIpO3JldHVybiB0fW4uZChlLCJhIiwoZnVuY3Rpb24oKXtyZXR1cm4gcn0pKX0sZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0IjtuLmQoZSwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIGl9KSksbi5kKGUsImIiLChmdW5jdGlvbigpe3JldHVybiBhfSkpO3ZhciByPW4oMTYpO2Z1bmN0aW9uIGkodCxlLG4pe3JldHVybiB0WzBdPWVbMF0qbix0WzFdPWVbMV0qbix0WzJdPWVbMl0qbix0WzNdPWVbM10qbix0fWZ1bmN0aW9uIGEodCxlLG4pe3ZhciByPWVbMF0saT1lWzFdLGE9ZVsyXSxvPWVbM107cmV0dXJuIHRbMF09blswXSpyK25bNF0qaStuWzhdKmErblsxMl0qbyx0WzFdPW5bMV0qcituWzVdKmkrbls5XSphK25bMTNdKm8sdFsyXT1uWzJdKnIrbls2XSppK25bMTBdKmErblsxNF0qbyx0WzNdPW5bM10qcituWzddKmkrblsxMV0qYStuWzE1XSpvLHR9dmFyIG8scztvPW5ldyByLmEoNCksci5hIT1GbG9hdDMyQXJyYXkmJihvWzBdPTAsb1sxXT0wLG9bMl09MCxvWzNdPTApLHM9b30sZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0IjtuLmQoZSwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIGh9KSksbi5kKGUsImIiLChmdW5jdGlvbigpe3JldHVybiBmfSkpO3ZhciByPW4oMTkpLGk9bi5uKHIpLGE9bigyMiksbz1uKDEyNCkscz1uKDQ5KSx1PW4oMzYpLGM9bigzNCk7ZnVuY3Rpb24gbCh0LGUpe3ZhciBuPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdJiZhcmd1bWVudHNbMl0scj1pKCkodCwzKSxhPXJbMF0sbz1yWzFdLHM9clsyXSx1PXZvaWQgMD09PXM/MDpzLGM9ZS5wcm9qZWN0RmxhdCh0KSxsPWkoKShjLDIpLGg9bFswXSxmPWxbMV0sZD1lLmdldERpc3RhbmNlU2NhbGVzKG4mJlthLG9dKSx2PXUqZC51bml0c1Blck1ldGVyWzJdO3JldHVybltoLGYsdl19ZnVuY3Rpb24gaCh0LGUpe3ZhciBuPWUudmlld3BvcnQscj1lLm1vZGVsTWF0cml4LG89ZS5jb29yZGluYXRlU3lzdGVtLHU9ZS5jb29yZGluYXRlT3JpZ2luLGg9ZS5vZmZzZXRNb2RlLGY9aSgpKHQsMyksZD1mWzBdLHY9ZlsxXSxwPWZbMl07aWYocil7dmFyIGc9cy5uKFtdLFtkLHYscCwxXSxyKSx5PWkoKShnLDMpO2Q9eVswXSx2PXlbMV0scD15WzJdfXN3aXRjaChvKXtjYXNlIGEuYS5MTkdMQVQ6cmV0dXJuIGwoW2QsdixwXSxuLGgpO2Nhc2UgYS5hLkxOR0xBVF9PRkZTRVRTOnJldHVybiBsKFtkK3VbMF0sdit1WzFdLHArKHVbMl18fDApXSxuLGgpO2Nhc2UgYS5hLk1FVEVSX09GRlNFVFM6cmV0dXJuIGwoT2JqZWN0KGMuYSkodSxbZCx2LHBdKSxuLGgpO2Nhc2UgYS5hLkNBUlRFU0lBTjpkZWZhdWx0OnJldHVybiBuLmlzR2Vvc3BhdGlhbD9bZCx2LHBdOm4ucHJvamVjdFBvc2l0aW9uKFtkLHYscF0pfX1mdW5jdGlvbiBmKHQsZSl7dmFyIG49ZnVuY3Rpb24odCl7dmFyIGU9T2JqZWN0LmFzc2lnbih7fSx0KSxuPXQuY29vcmRpbmF0ZVN5c3RlbSxyPXQudmlld3BvcnQsaT10LmNvb3JkaW5hdGVPcmlnaW4sbz10LmZyb21Db29yZGluYXRlU3lzdGVtLHM9dC5mcm9tQ29vcmRpbmF0ZU9yaWdpbjtyZXR1cm4gbj09PWEuYS5ERUZBVUxUJiYobj1yLmlzR2Vvc3BhdGlhbD9hLmEuTE5HTEFUOmEuYS5DQVJURVNJQU4pLHZvaWQgMD09PW8mJihlLmZyb21Db29yZGluYXRlU3lzdGVtPW4pLHZvaWQgMD09PXMmJihlLmZyb21Db29yZGluYXRlT3JpZ2luPWkpLGUuY29vcmRpbmF0ZVN5c3RlbT1uLGV9KGUpLHI9bi52aWV3cG9ydCxpPW4uY29vcmRpbmF0ZVN5c3RlbSxzPW4uY29vcmRpbmF0ZU9yaWdpbixjPW4ubW9kZWxNYXRyaXgsbD1uLmZyb21Db29yZGluYXRlU3lzdGVtLGY9bi5mcm9tQ29vcmRpbmF0ZU9yaWdpbixkPU9iamVjdChvLmEpKHIsaSxzKSx2PWQuZ2Vvc3BhdGlhbE9yaWdpbixwPWQuc2hhZGVyQ29vcmRpbmF0ZU9yaWdpbixnPWQub2Zmc2V0TW9kZSx5PWgodCx7dmlld3BvcnQ6cixtb2RlbE1hdHJpeDpjLGNvb3JkaW5hdGVTeXN0ZW06bCxjb29yZGluYXRlT3JpZ2luOmYsb2Zmc2V0TW9kZTpnfSk7aWYoZyl7dmFyIG09ci5wcm9qZWN0UG9zaXRpb24odnx8cCk7dS5sKHkseSxtKX1yZXR1cm4geX19LGZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dmFyIHI9IiNpZiAoZGVmaW5lZChTSEFERVJfVFlQRV9GUkFHTUVOVCkgJiYgZGVmaW5lZChMSUdIVElOR19GUkFHTUVOVCkpIHx8IChkZWZpbmVkKFNIQURFUl9UWVBFX1ZFUlRFWCkgJiYgZGVmaW5lZChMSUdIVElOR19WRVJURVgpKVxuXG5zdHJ1Y3QgQW1iaWVudExpZ2h0IHtcbiB2ZWMzIGNvbG9yO1xufTtcblxuc3RydWN0IFBvaW50TGlnaHQge1xuIHZlYzMgY29sb3I7XG4gdmVjMyBwb3NpdGlvbjtcbiB2ZWMzIGF0dGVudWF0aW9uO1xufTtcblxuc3RydWN0IERpcmVjdGlvbmFsTGlnaHQge1xuICB2ZWMzIGNvbG9yO1xuICB2ZWMzIGRpcmVjdGlvbjtcbn07XG5cbnVuaWZvcm0gQW1iaWVudExpZ2h0IGxpZ2h0aW5nX3VBbWJpZW50TGlnaHQ7XG51bmlmb3JtIFBvaW50TGlnaHQgbGlnaHRpbmdfdVBvaW50TGlnaHRbTUFYX0xJR0hUU107XG51bmlmb3JtIERpcmVjdGlvbmFsTGlnaHQgbGlnaHRpbmdfdURpcmVjdGlvbmFsTGlnaHRbTUFYX0xJR0hUU107XG51bmlmb3JtIGludCBsaWdodGluZ191UG9pbnRMaWdodENvdW50O1xudW5pZm9ybSBpbnQgbGlnaHRpbmdfdURpcmVjdGlvbmFsTGlnaHRDb3VudDtcblxudW5pZm9ybSBib29sIGxpZ2h0aW5nX3VFbmFibGVkO1xuXG5mbG9hdCBnZXRQb2ludExpZ2h0QXR0ZW51YXRpb24oUG9pbnRMaWdodCBwb2ludExpZ2h0LCBmbG9hdCBkaXN0YW5jZSkge1xuICByZXR1cm4gcG9pbnRMaWdodC5hdHRlbnVhdGlvbi54XG4gICAgICAgKyBwb2ludExpZ2h0LmF0dGVudWF0aW9uLnkgKiBkaXN0YW5jZVxuICAgICAgICsgcG9pbnRMaWdodC5hdHRlbnVhdGlvbi56ICogZGlzdGFuY2UgKiBkaXN0YW5jZTtcbn1cblxuI2VuZGlmXG4iLGk9KGUuYT17bmFtZToibGlnaHRzIix2czpyLGZzOnIsZ2V0VW5pZm9ybXM6ZnVuY3Rpb24gdCgpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTppO2lmKCJsaWdodFNvdXJjZXMiaW4gZSl7dmFyIG49ZS5saWdodFNvdXJjZXN8fHt9LHI9bi5hbWJpZW50TGlnaHQsYT1uLnBvaW50TGlnaHRzLHM9bi5kaXJlY3Rpb25hbExpZ2h0cyx1PXJ8fGEmJmEubGVuZ3RoPjB8fHMmJnMubGVuZ3RoPjA7cmV0dXJuIHU/T2JqZWN0LmFzc2lnbih7fSxvKHthbWJpZW50TGlnaHQ6cixwb2ludExpZ2h0czphLGRpcmVjdGlvbmFsTGlnaHRzOnN9KSx7bGlnaHRpbmdfdUVuYWJsZWQ6ITB9KTp7bGlnaHRpbmdfdUVuYWJsZWQ6ITF9fWlmKCJsaWdodHMiaW4gZSl7dmFyIGM9e3BvaW50TGlnaHRzOltdLGRpcmVjdGlvbmFsTGlnaHRzOltdfSxsPSEwLGg9ITEsZj12b2lkIDA7dHJ5e2Zvcih2YXIgZCx2PShlLmxpZ2h0c3x8W10pW1N5bWJvbC5pdGVyYXRvcl0oKTshKGw9KGQ9di5uZXh0KCkpLmRvbmUpO2w9ITApe3ZhciBwPWQudmFsdWU7c3dpdGNoKHAudHlwZSl7Y2FzZSJhbWJpZW50IjpjLmFtYmllbnRMaWdodD1wO2JyZWFrO2Nhc2UiZGlyZWN0aW9uYWwiOmMuZGlyZWN0aW9uYWxMaWdodHMucHVzaChwKTticmVhaztjYXNlInBvaW50IjpjLnBvaW50TGlnaHRzLnB1c2gocCl9fX1jYXRjaCh0KXtoPSEwLGY9dH1maW5hbGx5e3RyeXtsfHxudWxsPT12LnJldHVybnx8di5yZXR1cm4oKX1maW5hbGx5e2lmKGgpdGhyb3cgZn19cmV0dXJuIHQoe2xpZ2h0U291cmNlczpjfSl9cmV0dXJue319LGRlZmluZXM6e01BWF9MSUdIVFM6M319LHt9KTtmdW5jdGlvbiBhKCl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9LGU9dC5jb2xvcixuPXZvaWQgMD09PWU/WzAsMCwwXTplLHI9dC5pbnRlbnNpdHksaT12b2lkIDA9PT1yPzE6cjtyZXR1cm4gbi5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiB0KmkvMjU1fSkpfWZ1bmN0aW9uIG8odCl7dmFyIGU9dC5hbWJpZW50TGlnaHQsbj10LnBvaW50TGlnaHRzLHI9dm9pZCAwPT09bj9bXTpuLGk9dC5kaXJlY3Rpb25hbExpZ2h0cyxvPXZvaWQgMD09PWk/W106aSxzPXt9O3JldHVybiBzWyJsaWdodGluZ191QW1iaWVudExpZ2h0LmNvbG9yIl09ZT9hKGUpOlswLDAsMF0sci5mb3JFYWNoKChmdW5jdGlvbih0LGUpe3NbImxpZ2h0aW5nX3VQb2ludExpZ2h0WyIuY29uY2F0KGUsIl0uY29sb3IiKV09YSh0KSxzWyJsaWdodGluZ191UG9pbnRMaWdodFsiLmNvbmNhdChlLCJdLnBvc2l0aW9uIildPXQucG9zaXRpb24sc1sibGlnaHRpbmdfdVBvaW50TGlnaHRbIi5jb25jYXQoZSwiXS5hdHRlbnVhdGlvbiIpXT10LmF0dGVudWF0aW9ufHxbMSwwLDBdfSkpLHMubGlnaHRpbmdfdVBvaW50TGlnaHRDb3VudD1yLmxlbmd0aCxvLmZvckVhY2goKGZ1bmN0aW9uKHQsZSl7c1sibGlnaHRpbmdfdURpcmVjdGlvbmFsTGlnaHRbIi5jb25jYXQoZSwiXS5jb2xvciIpXT1hKHQpLHNbImxpZ2h0aW5nX3VEaXJlY3Rpb25hbExpZ2h0WyIuY29uY2F0KGUsIl0uZGlyZWN0aW9uIildPXQuZGlyZWN0aW9ufSkpLHMubGlnaHRpbmdfdURpcmVjdGlvbmFsTGlnaHRDb3VudD1vLmxlbmd0aCxzfX0sZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0IjtuLmQoZSwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIHV9KSk7dmFyIHI9big2KSxpPW4oNyksYT1uKDExKSxvPW4oMTMxKSxzPW4oMzUpLHU9bmV3KGZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe09iamVjdChyLmEpKHRoaXMsdCksdGhpcy5zdGF0cz1uZXcgTWFwfXJldHVybiBPYmplY3QoaS5hKSh0LFt7a2V5OiJnZXQiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnN0YXRzLmhhcyh0KXx8dGhpcy5zdGF0cy5zZXQodCxuZXcgby5hKHtpZDp0fSkpLHRoaXMuc3RhdHMuZ2V0KHQpfX1dKSx0fSgpKTtpZihzLmdsb2JhbC5sdW1hJiYiOC4xLjIiIT09cy5nbG9iYWwubHVtYS5WRVJTSU9OKXRocm93IG5ldyBFcnJvcigibHVtYS5nbCAtIG11bHRpcGxlIFZFUlNJT05zIGRldGVjdGVkOiAiLmNvbmNhdChzLmdsb2JhbC5sdW1hLlZFUlNJT04sIiB2cyAiKS5jb25jYXQoIjguMS4yIikpO3MuZ2xvYmFsLmx1bWF8fChPYmplY3Qocy5pc0Jyb3dzZXIpKCkmJmEuaC5sb2coMSwibHVtYS5nbCAiLmNvbmNhdCgiOC4xLjIiLCIgLSAiKS5jb25jYXQoInNldCBsdW1hLmxvZy5sZXZlbD0xIChvciBoaWdoZXIpIHRvIHRyYWNlIHJlbmRlcmluZyIpKSgpLHMuZ2xvYmFsLmx1bWE9cy5nbG9iYWwubHVtYXx8e1ZFUlNJT046IjguMS4yIix2ZXJzaW9uOiI4LjEuMiIsbG9nOmEuaCxzdGF0czp1LGdsb2JhbHM6e21vZHVsZXM6e30sbm9kZUlPOnt9fX0pO3MuZ2xvYmFsLmx1bWF9LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcjsKLyohIEhhbW1lci5KUyAtIHYyLjAuNyAtIDIwMTYtMDQtMjIKICogaHR0cDovL2hhbW1lcmpzLmdpdGh1Yi5pby8KICoKICogQ29weXJpZ2h0IChjKSAyMDE2IEpvcmlrIFRhbmdlbGRlcjsKICogTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlICovIWZ1bmN0aW9uKGksYSxvLHMpeyJ1c2Ugc3RyaWN0Ijt2YXIgdSxjPVsiIiwid2Via2l0IiwiTW96IiwiTVMiLCJtcyIsIm8iXSxsPWEuY3JlYXRlRWxlbWVudCgiZGl2IiksaD1NYXRoLnJvdW5kLGY9TWF0aC5hYnMsZD1EYXRlLm5vdztmdW5jdGlvbiB2KHQsZSxuKXtyZXR1cm4gc2V0VGltZW91dChPKHQsbiksZSl9ZnVuY3Rpb24gcCh0LGUsbil7cmV0dXJuISFBcnJheS5pc0FycmF5KHQpJiYoZyh0LG5bZV0sbiksITApfWZ1bmN0aW9uIGcodCxlLG4pe3ZhciByO2lmKHQpaWYodC5mb3JFYWNoKXQuZm9yRWFjaChlLG4pO2Vsc2UgaWYodm9pZCAwIT09dC5sZW5ndGgpZm9yKHI9MDtyPHQubGVuZ3RoOyllLmNhbGwobix0W3JdLHIsdCkscisrO2Vsc2UgZm9yKHIgaW4gdCl0Lmhhc093blByb3BlcnR5KHIpJiZlLmNhbGwobix0W3JdLHIsdCl9ZnVuY3Rpb24geSh0LGUsbil7dmFyIHI9IkRFUFJFQ0FURUQgTUVUSE9EOiAiK2UrIlxuIituKyIgQVQgXG4iO3JldHVybiBmdW5jdGlvbigpe3ZhciBlPW5ldyBFcnJvcigiZ2V0LXN0YWNrLXRyYWNlIiksbj1lJiZlLnN0YWNrP2Uuc3RhY2sucmVwbGFjZSgvXlteXChdKz9bXG4kXS9nbSwiIikucmVwbGFjZSgvXlxzK2F0XHMrL2dtLCIiKS5yZXBsYWNlKC9eT2JqZWN0Ljxhbm9ueW1vdXM+XHMqXCgvZ20sInthbm9ueW1vdXN9KClAIik6IlVua25vd24gU3RhY2sgVHJhY2UiLGE9aS5jb25zb2xlJiYoaS5jb25zb2xlLndhcm58fGkuY29uc29sZS5sb2cpO3JldHVybiBhJiZhLmNhbGwoaS5jb25zb2xlLHIsbiksdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fXU9ImZ1bmN0aW9uIiE9dHlwZW9mIE9iamVjdC5hc3NpZ24/ZnVuY3Rpb24odCl7aWYobnVsbD09dCl0aHJvdyBuZXcgVHlwZUVycm9yKCJDYW5ub3QgY29udmVydCB1bmRlZmluZWQgb3IgbnVsbCB0byBvYmplY3QiKTtmb3IodmFyIGU9T2JqZWN0KHQpLG49MTtuPGFyZ3VtZW50cy5sZW5ndGg7bisrKXt2YXIgcj1hcmd1bWVudHNbbl07aWYobnVsbCE9cilmb3IodmFyIGkgaW4gcilyLmhhc093blByb3BlcnR5KGkpJiYoZVtpXT1yW2ldKX1yZXR1cm4gZX06T2JqZWN0LmFzc2lnbjt2YXIgbT15KChmdW5jdGlvbih0LGUsbil7Zm9yKHZhciByPU9iamVjdC5rZXlzKGUpLGk9MDtpPHIubGVuZ3RoOykoIW58fG4mJnZvaWQgMD09PXRbcltpXV0pJiYodFtyW2ldXT1lW3JbaV1dKSxpKys7cmV0dXJuIHR9KSwiZXh0ZW5kIiwiVXNlIGBhc3NpZ25gLiIpLGI9eSgoZnVuY3Rpb24odCxlKXtyZXR1cm4gbSh0LGUsITApfSksIm1lcmdlIiwiVXNlIGBhc3NpZ25gLiIpO2Z1bmN0aW9uIF8odCxlLG4pe3ZhciByLGk9ZS5wcm90b3R5cGU7KHI9dC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShpKSkuY29uc3RydWN0b3I9dCxyLl9zdXBlcj1pLG4mJnUocixuKX1mdW5jdGlvbiBPKHQsZSl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIHQuYXBwbHkoZSxhcmd1bWVudHMpfX1mdW5jdGlvbiB4KHQsZSl7cmV0dXJuImZ1bmN0aW9uIj09dHlwZW9mIHQ/dC5hcHBseShlJiZlWzBdfHx2b2lkIDAsZSk6dH1mdW5jdGlvbiB3KHQsZSl7cmV0dXJuIHZvaWQgMD09PXQ/ZTp0fWZ1bmN0aW9uIGsodCxlLG4pe2coVChlKSwoZnVuY3Rpb24oZSl7dC5hZGRFdmVudExpc3RlbmVyKGUsbiwhMSl9KSl9ZnVuY3Rpb24gUyh0LGUsbil7ZyhUKGUpLChmdW5jdGlvbihlKXt0LnJlbW92ZUV2ZW50TGlzdGVuZXIoZSxuLCExKX0pKX1mdW5jdGlvbiBQKHQsZSl7Zm9yKDt0Oyl7aWYodD09ZSlyZXR1cm4hMDt0PXQucGFyZW50Tm9kZX1yZXR1cm4hMX1mdW5jdGlvbiBqKHQsZSl7cmV0dXJuIHQuaW5kZXhPZihlKT4tMX1mdW5jdGlvbiBUKHQpe3JldHVybiB0LnRyaW0oKS5zcGxpdCgvXHMrL2cpfWZ1bmN0aW9uIEUodCxlLG4pe2lmKHQuaW5kZXhPZiYmIW4pcmV0dXJuIHQuaW5kZXhPZihlKTtmb3IodmFyIHI9MDtyPHQubGVuZ3RoOyl7aWYobiYmdFtyXVtuXT09ZXx8IW4mJnRbcl09PT1lKXJldHVybiByO3IrK31yZXR1cm4tMX1mdW5jdGlvbiBBKHQpe3JldHVybiBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbCh0LDApfWZ1bmN0aW9uIE0odCxlLG4pe2Zvcih2YXIgcj1bXSxpPVtdLGE9MDthPHQubGVuZ3RoOyl7dmFyIG89ZT90W2FdW2VdOnRbYV07RShpLG8pPDAmJnIucHVzaCh0W2FdKSxpW2FdPW8sYSsrfXJldHVybiBuJiYocj1lP3Iuc29ydCgoZnVuY3Rpb24odCxuKXtyZXR1cm4gdFtlXT5uW2VdfSkpOnIuc29ydCgpKSxyfWZ1bmN0aW9uIEModCxlKXtmb3IodmFyIG4scixpPWVbMF0udG9VcHBlckNhc2UoKStlLnNsaWNlKDEpLGE9MDthPGMubGVuZ3RoOyl7aWYoKHI9KG49Y1thXSk/bitpOmUpaW4gdClyZXR1cm4gcjthKyt9fXZhciBMPTE7ZnVuY3Rpb24gSSh0KXt2YXIgZT10Lm93bmVyRG9jdW1lbnR8fHQ7cmV0dXJuIGUuZGVmYXVsdFZpZXd8fGUucGFyZW50V2luZG93fHxpfXZhciBSPSJvbnRvdWNoc3RhcnQiaW4gaSxOPXZvaWQgMCE9PUMoaSwiUG9pbnRlckV2ZW50IiksRD1SJiYvbW9iaWxlfHRhYmxldHxpcChhZHxob25lfG9kKXxhbmRyb2lkL2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSxGPVsieCIsInkiXSx6PVsiY2xpZW50WCIsImNsaWVudFkiXTtmdW5jdGlvbiBCKHQsZSl7dmFyIG49dGhpczt0aGlzLm1hbmFnZXI9dCx0aGlzLmNhbGxiYWNrPWUsdGhpcy5lbGVtZW50PXQuZWxlbWVudCx0aGlzLnRhcmdldD10Lm9wdGlvbnMuaW5wdXRUYXJnZXQsdGhpcy5kb21IYW5kbGVyPWZ1bmN0aW9uKGUpe3godC5vcHRpb25zLmVuYWJsZSxbdF0pJiZuLmhhbmRsZXIoZSl9LHRoaXMuaW5pdCgpfWZ1bmN0aW9uIFUodCxlLG4pe3ZhciByPW4ucG9pbnRlcnMubGVuZ3RoLGk9bi5jaGFuZ2VkUG9pbnRlcnMubGVuZ3RoLGE9MSZlJiZyLWk9PTAsbz0xMiZlJiZyLWk9PTA7bi5pc0ZpcnN0PSEhYSxuLmlzRmluYWw9ISFvLGEmJih0LnNlc3Npb249e30pLG4uZXZlbnRUeXBlPWUsZnVuY3Rpb24odCxlKXt2YXIgbj10LnNlc3Npb24scj1lLnBvaW50ZXJzLGk9ci5sZW5ndGg7bi5maXJzdElucHV0fHwobi5maXJzdElucHV0PVYoZSkpO2k+MSYmIW4uZmlyc3RNdWx0aXBsZT9uLmZpcnN0TXVsdGlwbGU9VihlKToxPT09aSYmKG4uZmlyc3RNdWx0aXBsZT0hMSk7dmFyIGE9bi5maXJzdElucHV0LG89bi5maXJzdE11bHRpcGxlLHM9bz9vLmNlbnRlcjphLmNlbnRlcix1PWUuY2VudGVyPUcocik7ZS50aW1lU3RhbXA9ZCgpLGUuZGVsdGFUaW1lPWUudGltZVN0YW1wLWEudGltZVN0YW1wLGUuYW5nbGU9WChzLHUpLGUuZGlzdGFuY2U9cShzLHUpLGZ1bmN0aW9uKHQsZSl7dmFyIG49ZS5jZW50ZXIscj10Lm9mZnNldERlbHRhfHx7fSxpPXQucHJldkRlbHRhfHx7fSxhPXQucHJldklucHV0fHx7fTsxIT09ZS5ldmVudFR5cGUmJjQhPT1hLmV2ZW50VHlwZXx8KGk9dC5wcmV2RGVsdGE9e3g6YS5kZWx0YVh8fDAseTphLmRlbHRhWXx8MH0scj10Lm9mZnNldERlbHRhPXt4Om4ueCx5Om4ueX0pO2UuZGVsdGFYPWkueCsobi54LXIueCksZS5kZWx0YVk9aS55KyhuLnktci55KX0obixlKSxlLm9mZnNldERpcmVjdGlvbj1IKGUuZGVsdGFYLGUuZGVsdGFZKTt2YXIgYz1XKGUuZGVsdGFUaW1lLGUuZGVsdGFYLGUuZGVsdGFZKTtlLm92ZXJhbGxWZWxvY2l0eVg9Yy54LGUub3ZlcmFsbFZlbG9jaXR5WT1jLnksZS5vdmVyYWxsVmVsb2NpdHk9ZihjLngpPmYoYy55KT9jLng6Yy55LGUuc2NhbGU9bz8obD1vLnBvaW50ZXJzLGg9cixxKGhbMF0saFsxXSx6KS9xKGxbMF0sbFsxXSx6KSk6MSxlLnJvdGF0aW9uPW8/ZnVuY3Rpb24odCxlKXtyZXR1cm4gWChlWzFdLGVbMF0seikrWCh0WzFdLHRbMF0seil9KG8ucG9pbnRlcnMscik6MCxlLm1heFBvaW50ZXJzPW4ucHJldklucHV0P2UucG9pbnRlcnMubGVuZ3RoPm4ucHJldklucHV0Lm1heFBvaW50ZXJzP2UucG9pbnRlcnMubGVuZ3RoOm4ucHJldklucHV0Lm1heFBvaW50ZXJzOmUucG9pbnRlcnMubGVuZ3RoLGZ1bmN0aW9uKHQsZSl7dmFyIG4scixpLGEsbz10Lmxhc3RJbnRlcnZhbHx8ZSxzPWUudGltZVN0YW1wLW8udGltZVN0YW1wO2lmKDghPWUuZXZlbnRUeXBlJiYocz4yNXx8dm9pZCAwPT09by52ZWxvY2l0eSkpe3ZhciB1PWUuZGVsdGFYLW8uZGVsdGFYLGM9ZS5kZWx0YVktby5kZWx0YVksbD1XKHMsdSxjKTtyPWwueCxpPWwueSxuPWYobC54KT5mKGwueSk/bC54OmwueSxhPUgodSxjKSx0Lmxhc3RJbnRlcnZhbD1lfWVsc2Ugbj1vLnZlbG9jaXR5LHI9by52ZWxvY2l0eVgsaT1vLnZlbG9jaXR5WSxhPW8uZGlyZWN0aW9uO2UudmVsb2NpdHk9bixlLnZlbG9jaXR5WD1yLGUudmVsb2NpdHlZPWksZS5kaXJlY3Rpb249YX0obixlKTt2YXIgbCxoO3ZhciB2PXQuZWxlbWVudDtQKGUuc3JjRXZlbnQudGFyZ2V0LHYpJiYodj1lLnNyY0V2ZW50LnRhcmdldCk7ZS50YXJnZXQ9dn0odCxuKSx0LmVtaXQoImhhbW1lci5pbnB1dCIsbiksdC5yZWNvZ25pemUobiksdC5zZXNzaW9uLnByZXZJbnB1dD1ufWZ1bmN0aW9uIFYodCl7Zm9yKHZhciBlPVtdLG49MDtuPHQucG9pbnRlcnMubGVuZ3RoOyllW25dPXtjbGllbnRYOmgodC5wb2ludGVyc1tuXS5jbGllbnRYKSxjbGllbnRZOmgodC5wb2ludGVyc1tuXS5jbGllbnRZKX0sbisrO3JldHVybnt0aW1lU3RhbXA6ZCgpLHBvaW50ZXJzOmUsY2VudGVyOkcoZSksZGVsdGFYOnQuZGVsdGFYLGRlbHRhWTp0LmRlbHRhWX19ZnVuY3Rpb24gRyh0KXt2YXIgZT10Lmxlbmd0aDtpZigxPT09ZSlyZXR1cm57eDpoKHRbMF0uY2xpZW50WCkseTpoKHRbMF0uY2xpZW50WSl9O2Zvcih2YXIgbj0wLHI9MCxpPTA7aTxlOyluKz10W2ldLmNsaWVudFgscis9dFtpXS5jbGllbnRZLGkrKztyZXR1cm57eDpoKG4vZSkseTpoKHIvZSl9fWZ1bmN0aW9uIFcodCxlLG4pe3JldHVybnt4OmUvdHx8MCx5Om4vdHx8MH19ZnVuY3Rpb24gSCh0LGUpe3JldHVybiB0PT09ZT8xOmYodCk+PWYoZSk/dDwwPzI6NDplPDA/ODoxNn1mdW5jdGlvbiBxKHQsZSxuKXtufHwobj1GKTt2YXIgcj1lW25bMF1dLXRbblswXV0saT1lW25bMV1dLXRbblsxXV07cmV0dXJuIE1hdGguc3FydChyKnIraSppKX1mdW5jdGlvbiBYKHQsZSxuKXtufHwobj1GKTt2YXIgcj1lW25bMF1dLXRbblswXV0saT1lW25bMV1dLXRbblsxXV07cmV0dXJuIDE4MCpNYXRoLmF0YW4yKGkscikvTWF0aC5QSX1CLnByb3RvdHlwZT17aGFuZGxlcjpmdW5jdGlvbigpe30saW5pdDpmdW5jdGlvbigpe3RoaXMuZXZFbCYmayh0aGlzLmVsZW1lbnQsdGhpcy5ldkVsLHRoaXMuZG9tSGFuZGxlciksdGhpcy5ldlRhcmdldCYmayh0aGlzLnRhcmdldCx0aGlzLmV2VGFyZ2V0LHRoaXMuZG9tSGFuZGxlciksdGhpcy5ldldpbiYmayhJKHRoaXMuZWxlbWVudCksdGhpcy5ldldpbix0aGlzLmRvbUhhbmRsZXIpfSxkZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5ldkVsJiZTKHRoaXMuZWxlbWVudCx0aGlzLmV2RWwsdGhpcy5kb21IYW5kbGVyKSx0aGlzLmV2VGFyZ2V0JiZTKHRoaXMudGFyZ2V0LHRoaXMuZXZUYXJnZXQsdGhpcy5kb21IYW5kbGVyKSx0aGlzLmV2V2luJiZTKEkodGhpcy5lbGVtZW50KSx0aGlzLmV2V2luLHRoaXMuZG9tSGFuZGxlcil9fTt2YXIgWj17bW91c2Vkb3duOjEsbW91c2Vtb3ZlOjIsbW91c2V1cDo0fTtmdW5jdGlvbiBZKCl7dGhpcy5ldkVsPSJtb3VzZWRvd24iLHRoaXMuZXZXaW49Im1vdXNlbW92ZSBtb3VzZXVwIix0aGlzLnByZXNzZWQ9ITEsQi5hcHBseSh0aGlzLGFyZ3VtZW50cyl9XyhZLEIse2hhbmRsZXI6ZnVuY3Rpb24odCl7dmFyIGU9Wlt0LnR5cGVdOzEmZSYmMD09PXQuYnV0dG9uJiYodGhpcy5wcmVzc2VkPSEwKSwyJmUmJjEhPT10LndoaWNoJiYoZT00KSx0aGlzLnByZXNzZWQmJig0JmUmJih0aGlzLnByZXNzZWQ9ITEpLHRoaXMuY2FsbGJhY2sodGhpcy5tYW5hZ2VyLGUse3BvaW50ZXJzOlt0XSxjaGFuZ2VkUG9pbnRlcnM6W3RdLHBvaW50ZXJUeXBlOiJtb3VzZSIsc3JjRXZlbnQ6dH0pKX19KTt2YXIgSz17cG9pbnRlcmRvd246MSxwb2ludGVybW92ZToyLHBvaW50ZXJ1cDo0LHBvaW50ZXJjYW5jZWw6OCxwb2ludGVyb3V0Ojh9LFE9ezI6InRvdWNoIiwzOiJwZW4iLDQ6Im1vdXNlIiw1OiJraW5lY3QifSxKPSJwb2ludGVyZG93biIsJD0icG9pbnRlcm1vdmUgcG9pbnRlcnVwIHBvaW50ZXJjYW5jZWwiO2Z1bmN0aW9uIHR0KCl7dGhpcy5ldkVsPUosdGhpcy5ldldpbj0kLEIuYXBwbHkodGhpcyxhcmd1bWVudHMpLHRoaXMuc3RvcmU9dGhpcy5tYW5hZ2VyLnNlc3Npb24ucG9pbnRlckV2ZW50cz1bXX1pLk1TUG9pbnRlckV2ZW50JiYhaS5Qb2ludGVyRXZlbnQmJihKPSJNU1BvaW50ZXJEb3duIiwkPSJNU1BvaW50ZXJNb3ZlIE1TUG9pbnRlclVwIE1TUG9pbnRlckNhbmNlbCIpLF8odHQsQix7aGFuZGxlcjpmdW5jdGlvbih0KXt2YXIgZT10aGlzLnN0b3JlLG49ITEscj10LnR5cGUudG9Mb3dlckNhc2UoKS5yZXBsYWNlKCJtcyIsIiIpLGk9S1tyXSxhPVFbdC5wb2ludGVyVHlwZV18fHQucG9pbnRlclR5cGUsbz0idG91Y2giPT1hLHM9RShlLHQucG9pbnRlcklkLCJwb2ludGVySWQiKTsxJmkmJigwPT09dC5idXR0b258fG8pP3M8MCYmKGUucHVzaCh0KSxzPWUubGVuZ3RoLTEpOjEyJmkmJihuPSEwKSxzPDB8fChlW3NdPXQsdGhpcy5jYWxsYmFjayh0aGlzLm1hbmFnZXIsaSx7cG9pbnRlcnM6ZSxjaGFuZ2VkUG9pbnRlcnM6W3RdLHBvaW50ZXJUeXBlOmEsc3JjRXZlbnQ6dH0pLG4mJmUuc3BsaWNlKHMsMSkpfX0pO3ZhciBldD17dG91Y2hzdGFydDoxLHRvdWNobW92ZToyLHRvdWNoZW5kOjQsdG91Y2hjYW5jZWw6OH07ZnVuY3Rpb24gbnQoKXt0aGlzLmV2VGFyZ2V0PSJ0b3VjaHN0YXJ0Iix0aGlzLmV2V2luPSJ0b3VjaHN0YXJ0IHRvdWNobW92ZSB0b3VjaGVuZCB0b3VjaGNhbmNlbCIsdGhpcy5zdGFydGVkPSExLEIuYXBwbHkodGhpcyxhcmd1bWVudHMpfWZ1bmN0aW9uIHJ0KHQsZSl7dmFyIG49QSh0LnRvdWNoZXMpLHI9QSh0LmNoYW5nZWRUb3VjaGVzKTtyZXR1cm4gMTImZSYmKG49TShuLmNvbmNhdChyKSwiaWRlbnRpZmllciIsITApKSxbbixyXX1fKG50LEIse2hhbmRsZXI6ZnVuY3Rpb24odCl7dmFyIGU9ZXRbdC50eXBlXTtpZigxPT09ZSYmKHRoaXMuc3RhcnRlZD0hMCksdGhpcy5zdGFydGVkKXt2YXIgbj1ydC5jYWxsKHRoaXMsdCxlKTsxMiZlJiZuWzBdLmxlbmd0aC1uWzFdLmxlbmd0aD09MCYmKHRoaXMuc3RhcnRlZD0hMSksdGhpcy5jYWxsYmFjayh0aGlzLm1hbmFnZXIsZSx7cG9pbnRlcnM6blswXSxjaGFuZ2VkUG9pbnRlcnM6blsxXSxwb2ludGVyVHlwZToidG91Y2giLHNyY0V2ZW50OnR9KX19fSk7dmFyIGl0PXt0b3VjaHN0YXJ0OjEsdG91Y2htb3ZlOjIsdG91Y2hlbmQ6NCx0b3VjaGNhbmNlbDo4fTtmdW5jdGlvbiBhdCgpe3RoaXMuZXZUYXJnZXQ9InRvdWNoc3RhcnQgdG91Y2htb3ZlIHRvdWNoZW5kIHRvdWNoY2FuY2VsIix0aGlzLnRhcmdldElkcz17fSxCLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1mdW5jdGlvbiBvdCh0LGUpe3ZhciBuPUEodC50b3VjaGVzKSxyPXRoaXMudGFyZ2V0SWRzO2lmKDMmZSYmMT09PW4ubGVuZ3RoKXJldHVybiByW25bMF0uaWRlbnRpZmllcl09ITAsW24sbl07dmFyIGksYSxvPUEodC5jaGFuZ2VkVG91Y2hlcykscz1bXSx1PXRoaXMudGFyZ2V0O2lmKGE9bi5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiBQKHQudGFyZ2V0LHUpfSkpLDE9PT1lKWZvcihpPTA7aTxhLmxlbmd0aDspclthW2ldLmlkZW50aWZpZXJdPSEwLGkrKztmb3IoaT0wO2k8by5sZW5ndGg7KXJbb1tpXS5pZGVudGlmaWVyXSYmcy5wdXNoKG9baV0pLDEyJmUmJmRlbGV0ZSByW29baV0uaWRlbnRpZmllcl0saSsrO3JldHVybiBzLmxlbmd0aD9bTShhLmNvbmNhdChzKSwiaWRlbnRpZmllciIsITApLHNdOnZvaWQgMH1fKGF0LEIse2hhbmRsZXI6ZnVuY3Rpb24odCl7dmFyIGU9aXRbdC50eXBlXSxuPW90LmNhbGwodGhpcyx0LGUpO24mJnRoaXMuY2FsbGJhY2sodGhpcy5tYW5hZ2VyLGUse3BvaW50ZXJzOm5bMF0sY2hhbmdlZFBvaW50ZXJzOm5bMV0scG9pbnRlclR5cGU6InRvdWNoIixzcmNFdmVudDp0fSl9fSk7ZnVuY3Rpb24gc3QoKXtCLmFwcGx5KHRoaXMsYXJndW1lbnRzKTt2YXIgdD1PKHRoaXMuaGFuZGxlcix0aGlzKTt0aGlzLnRvdWNoPW5ldyBhdCh0aGlzLm1hbmFnZXIsdCksdGhpcy5tb3VzZT1uZXcgWSh0aGlzLm1hbmFnZXIsdCksdGhpcy5wcmltYXJ5VG91Y2g9bnVsbCx0aGlzLmxhc3RUb3VjaGVzPVtdfWZ1bmN0aW9uIHV0KHQsZSl7MSZ0Pyh0aGlzLnByaW1hcnlUb3VjaD1lLmNoYW5nZWRQb2ludGVyc1swXS5pZGVudGlmaWVyLGN0LmNhbGwodGhpcyxlKSk6MTImdCYmY3QuY2FsbCh0aGlzLGUpfWZ1bmN0aW9uIGN0KHQpe3ZhciBlPXQuY2hhbmdlZFBvaW50ZXJzWzBdO2lmKGUuaWRlbnRpZmllcj09PXRoaXMucHJpbWFyeVRvdWNoKXt2YXIgbj17eDplLmNsaWVudFgseTplLmNsaWVudFl9O3RoaXMubGFzdFRvdWNoZXMucHVzaChuKTt2YXIgcj10aGlzLmxhc3RUb3VjaGVzO3NldFRpbWVvdXQoKGZ1bmN0aW9uKCl7dmFyIHQ9ci5pbmRleE9mKG4pO3Q+LTEmJnIuc3BsaWNlKHQsMSl9KSwyNTAwKX19ZnVuY3Rpb24gbHQodCl7Zm9yKHZhciBlPXQuc3JjRXZlbnQuY2xpZW50WCxuPXQuc3JjRXZlbnQuY2xpZW50WSxyPTA7cjx0aGlzLmxhc3RUb3VjaGVzLmxlbmd0aDtyKyspe3ZhciBpPXRoaXMubGFzdFRvdWNoZXNbcl0sYT1NYXRoLmFicyhlLWkueCksbz1NYXRoLmFicyhuLWkueSk7aWYoYTw9MjUmJm88PTI1KXJldHVybiEwfXJldHVybiExfV8oc3QsQix7aGFuZGxlcjpmdW5jdGlvbih0LGUsbil7dmFyIHI9InRvdWNoIj09bi5wb2ludGVyVHlwZSxpPSJtb3VzZSI9PW4ucG9pbnRlclR5cGU7aWYoIShpJiZuLnNvdXJjZUNhcGFiaWxpdGllcyYmbi5zb3VyY2VDYXBhYmlsaXRpZXMuZmlyZXNUb3VjaEV2ZW50cykpe2lmKHIpdXQuY2FsbCh0aGlzLGUsbik7ZWxzZSBpZihpJiZsdC5jYWxsKHRoaXMsbikpcmV0dXJuO3RoaXMuY2FsbGJhY2sodCxlLG4pfX0sZGVzdHJveTpmdW5jdGlvbigpe3RoaXMudG91Y2guZGVzdHJveSgpLHRoaXMubW91c2UuZGVzdHJveSgpfX0pO3ZhciBodD1DKGwuc3R5bGUsInRvdWNoQWN0aW9uIiksZnQ9dm9pZCAwIT09aHQsZHQ9ZnVuY3Rpb24oKXtpZighZnQpcmV0dXJuITE7dmFyIHQ9e30sZT1pLkNTUyYmaS5DU1Muc3VwcG9ydHM7cmV0dXJuWyJhdXRvIiwibWFuaXB1bGF0aW9uIiwicGFuLXkiLCJwYW4teCIsInBhbi14IHBhbi15Iiwibm9uZSJdLmZvckVhY2goKGZ1bmN0aW9uKG4pe3Rbbl09IWV8fGkuQ1NTLnN1cHBvcnRzKCJ0b3VjaC1hY3Rpb24iLG4pfSkpLHR9KCk7ZnVuY3Rpb24gdnQodCxlKXt0aGlzLm1hbmFnZXI9dCx0aGlzLnNldChlKX12dC5wcm90b3R5cGU9e3NldDpmdW5jdGlvbih0KXsiY29tcHV0ZSI9PXQmJih0PXRoaXMuY29tcHV0ZSgpKSxmdCYmdGhpcy5tYW5hZ2VyLmVsZW1lbnQuc3R5bGUmJmR0W3RdJiYodGhpcy5tYW5hZ2VyLmVsZW1lbnQuc3R5bGVbaHRdPXQpLHRoaXMuYWN0aW9ucz10LnRvTG93ZXJDYXNlKCkudHJpbSgpfSx1cGRhdGU6ZnVuY3Rpb24oKXt0aGlzLnNldCh0aGlzLm1hbmFnZXIub3B0aW9ucy50b3VjaEFjdGlvbil9LGNvbXB1dGU6ZnVuY3Rpb24oKXt2YXIgdD1bXTtyZXR1cm4gZyh0aGlzLm1hbmFnZXIucmVjb2duaXplcnMsKGZ1bmN0aW9uKGUpe3goZS5vcHRpb25zLmVuYWJsZSxbZV0pJiYodD10LmNvbmNhdChlLmdldFRvdWNoQWN0aW9uKCkpKX0pKSxmdW5jdGlvbih0KXtpZihqKHQsIm5vbmUiKSlyZXR1cm4ibm9uZSI7dmFyIGU9aih0LCJwYW4teCIpLG49aih0LCJwYW4teSIpO2lmKGUmJm4pcmV0dXJuIm5vbmUiO2lmKGV8fG4pcmV0dXJuIGU/InBhbi14IjoicGFuLXkiO2lmKGoodCwibWFuaXB1bGF0aW9uIikpcmV0dXJuIm1hbmlwdWxhdGlvbiI7cmV0dXJuImF1dG8ifSh0LmpvaW4oIiAiKSl9LHByZXZlbnREZWZhdWx0czpmdW5jdGlvbih0KXt2YXIgZT10LnNyY0V2ZW50LG49dC5vZmZzZXREaXJlY3Rpb247aWYodGhpcy5tYW5hZ2VyLnNlc3Npb24ucHJldmVudGVkKWUucHJldmVudERlZmF1bHQoKTtlbHNle3ZhciByPXRoaXMuYWN0aW9ucyxpPWoociwibm9uZSIpJiYhZHQubm9uZSxhPWoociwicGFuLXkiKSYmIWR0WyJwYW4teSJdLG89aihyLCJwYW4teCIpJiYhZHRbInBhbi14Il07aWYoaSl7dmFyIHM9MT09PXQucG9pbnRlcnMubGVuZ3RoLHU9dC5kaXN0YW5jZTwyLGM9dC5kZWx0YVRpbWU8MjUwO2lmKHMmJnUmJmMpcmV0dXJufWlmKCFvfHwhYSlyZXR1cm4gaXx8YSYmNiZufHxvJiYyNCZuP3RoaXMucHJldmVudFNyYyhlKTp2b2lkIDB9fSxwcmV2ZW50U3JjOmZ1bmN0aW9uKHQpe3RoaXMubWFuYWdlci5zZXNzaW9uLnByZXZlbnRlZD0hMCx0LnByZXZlbnREZWZhdWx0KCl9fTtmdW5jdGlvbiBwdCh0KXt0aGlzLm9wdGlvbnM9dSh7fSx0aGlzLmRlZmF1bHRzLHR8fHt9KSx0aGlzLmlkPUwrKyx0aGlzLm1hbmFnZXI9bnVsbCx0aGlzLm9wdGlvbnMuZW5hYmxlPXcodGhpcy5vcHRpb25zLmVuYWJsZSwhMCksdGhpcy5zdGF0ZT0xLHRoaXMuc2ltdWx0YW5lb3VzPXt9LHRoaXMucmVxdWlyZUZhaWw9W119ZnVuY3Rpb24gZ3QodCl7cmV0dXJuIDE2JnQ/ImNhbmNlbCI6OCZ0PyJlbmQiOjQmdD8ibW92ZSI6MiZ0PyJzdGFydCI6IiJ9ZnVuY3Rpb24geXQodCl7cmV0dXJuIDE2PT10PyJkb3duIjo4PT10PyJ1cCI6Mj09dD8ibGVmdCI6ND09dD8icmlnaHQiOiIifWZ1bmN0aW9uIG10KHQsZSl7dmFyIG49ZS5tYW5hZ2VyO3JldHVybiBuP24uZ2V0KHQpOnR9ZnVuY3Rpb24gYnQoKXtwdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZnVuY3Rpb24gX3QoKXtidC5hcHBseSh0aGlzLGFyZ3VtZW50cyksdGhpcy5wWD1udWxsLHRoaXMucFk9bnVsbH1mdW5jdGlvbiBPdCgpe2J0LmFwcGx5KHRoaXMsYXJndW1lbnRzKX1mdW5jdGlvbiB4dCgpe3B0LmFwcGx5KHRoaXMsYXJndW1lbnRzKSx0aGlzLl90aW1lcj1udWxsLHRoaXMuX2lucHV0PW51bGx9ZnVuY3Rpb24gd3QoKXtidC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZnVuY3Rpb24ga3QoKXtidC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZnVuY3Rpb24gU3QoKXtwdC5hcHBseSh0aGlzLGFyZ3VtZW50cyksdGhpcy5wVGltZT0hMSx0aGlzLnBDZW50ZXI9ITEsdGhpcy5fdGltZXI9bnVsbCx0aGlzLl9pbnB1dD1udWxsLHRoaXMuY291bnQ9MH1mdW5jdGlvbiBQdCh0LGUpe3JldHVybihlPWV8fHt9KS5yZWNvZ25pemVycz13KGUucmVjb2duaXplcnMsUHQuZGVmYXVsdHMucHJlc2V0KSxuZXcganQodCxlKX1wdC5wcm90b3R5cGU9e2RlZmF1bHRzOnt9LHNldDpmdW5jdGlvbih0KXtyZXR1cm4gdSh0aGlzLm9wdGlvbnMsdCksdGhpcy5tYW5hZ2VyJiZ0aGlzLm1hbmFnZXIudG91Y2hBY3Rpb24udXBkYXRlKCksdGhpc30scmVjb2duaXplV2l0aDpmdW5jdGlvbih0KXtpZihwKHQsInJlY29nbml6ZVdpdGgiLHRoaXMpKXJldHVybiB0aGlzO3ZhciBlPXRoaXMuc2ltdWx0YW5lb3VzO3JldHVybiBlWyh0PW10KHQsdGhpcykpLmlkXXx8KGVbdC5pZF09dCx0LnJlY29nbml6ZVdpdGgodGhpcykpLHRoaXN9LGRyb3BSZWNvZ25pemVXaXRoOmZ1bmN0aW9uKHQpe3JldHVybiBwKHQsImRyb3BSZWNvZ25pemVXaXRoIix0aGlzKT90aGlzOih0PW10KHQsdGhpcyksZGVsZXRlIHRoaXMuc2ltdWx0YW5lb3VzW3QuaWRdLHRoaXMpfSxyZXF1aXJlRmFpbHVyZTpmdW5jdGlvbih0KXtpZihwKHQsInJlcXVpcmVGYWlsdXJlIix0aGlzKSlyZXR1cm4gdGhpczt2YXIgZT10aGlzLnJlcXVpcmVGYWlsO3JldHVybi0xPT09RShlLHQ9bXQodCx0aGlzKSkmJihlLnB1c2godCksdC5yZXF1aXJlRmFpbHVyZSh0aGlzKSksdGhpc30sZHJvcFJlcXVpcmVGYWlsdXJlOmZ1bmN0aW9uKHQpe2lmKHAodCwiZHJvcFJlcXVpcmVGYWlsdXJlIix0aGlzKSlyZXR1cm4gdGhpczt0PW10KHQsdGhpcyk7dmFyIGU9RSh0aGlzLnJlcXVpcmVGYWlsLHQpO3JldHVybiBlPi0xJiZ0aGlzLnJlcXVpcmVGYWlsLnNwbGljZShlLDEpLHRoaXN9LGhhc1JlcXVpcmVGYWlsdXJlczpmdW5jdGlvbigpe3JldHVybiB0aGlzLnJlcXVpcmVGYWlsLmxlbmd0aD4wfSxjYW5SZWNvZ25pemVXaXRoOmZ1bmN0aW9uKHQpe3JldHVybiEhdGhpcy5zaW11bHRhbmVvdXNbdC5pZF19LGVtaXQ6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcyxuPXRoaXMuc3RhdGU7ZnVuY3Rpb24gcihuKXtlLm1hbmFnZXIuZW1pdChuLHQpfW48OCYmcihlLm9wdGlvbnMuZXZlbnQrZ3QobikpLHIoZS5vcHRpb25zLmV2ZW50KSx0LmFkZGl0aW9uYWxFdmVudCYmcih0LmFkZGl0aW9uYWxFdmVudCksbj49OCYmcihlLm9wdGlvbnMuZXZlbnQrZ3QobikpfSx0cnlFbWl0OmZ1bmN0aW9uKHQpe2lmKHRoaXMuY2FuRW1pdCgpKXJldHVybiB0aGlzLmVtaXQodCk7dGhpcy5zdGF0ZT0zMn0sY2FuRW1pdDpmdW5jdGlvbigpe2Zvcih2YXIgdD0wO3Q8dGhpcy5yZXF1aXJlRmFpbC5sZW5ndGg7KXtpZighKDMzJnRoaXMucmVxdWlyZUZhaWxbdF0uc3RhdGUpKXJldHVybiExO3QrK31yZXR1cm4hMH0scmVjb2duaXplOmZ1bmN0aW9uKHQpe3ZhciBlPXUoe30sdCk7aWYoIXgodGhpcy5vcHRpb25zLmVuYWJsZSxbdGhpcyxlXSkpcmV0dXJuIHRoaXMucmVzZXQoKSx2b2lkKHRoaXMuc3RhdGU9MzIpOzU2JnRoaXMuc3RhdGUmJih0aGlzLnN0YXRlPTEpLHRoaXMuc3RhdGU9dGhpcy5wcm9jZXNzKGUpLDMwJnRoaXMuc3RhdGUmJnRoaXMudHJ5RW1pdChlKX0scHJvY2VzczpmdW5jdGlvbih0KXt9LGdldFRvdWNoQWN0aW9uOmZ1bmN0aW9uKCl7fSxyZXNldDpmdW5jdGlvbigpe319LF8oYnQscHQse2RlZmF1bHRzOntwb2ludGVyczoxfSxhdHRyVGVzdDpmdW5jdGlvbih0KXt2YXIgZT10aGlzLm9wdGlvbnMucG9pbnRlcnM7cmV0dXJuIDA9PT1lfHx0LnBvaW50ZXJzLmxlbmd0aD09PWV9LHByb2Nlc3M6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5zdGF0ZSxuPXQuZXZlbnRUeXBlLHI9NiZlLGk9dGhpcy5hdHRyVGVzdCh0KTtyZXR1cm4gciYmKDgmbnx8IWkpPzE2fGU6cnx8aT80Jm4/OHxlOjImZT80fGU6MjozMn19KSxfKF90LGJ0LHtkZWZhdWx0czp7ZXZlbnQ6InBhbiIsdGhyZXNob2xkOjEwLHBvaW50ZXJzOjEsZGlyZWN0aW9uOjMwfSxnZXRUb3VjaEFjdGlvbjpmdW5jdGlvbigpe3ZhciB0PXRoaXMub3B0aW9ucy5kaXJlY3Rpb24sZT1bXTtyZXR1cm4gNiZ0JiZlLnB1c2goInBhbi15IiksMjQmdCYmZS5wdXNoKCJwYW4teCIpLGV9LGRpcmVjdGlvblRlc3Q6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5vcHRpb25zLG49ITAscj10LmRpc3RhbmNlLGk9dC5kaXJlY3Rpb24sYT10LmRlbHRhWCxvPXQuZGVsdGFZO3JldHVybiBpJmUuZGlyZWN0aW9ufHwoNiZlLmRpcmVjdGlvbj8oaT0wPT09YT8xOmE8MD8yOjQsbj1hIT10aGlzLnBYLHI9TWF0aC5hYnModC5kZWx0YVgpKTooaT0wPT09bz8xOm88MD84OjE2LG49byE9dGhpcy5wWSxyPU1hdGguYWJzKHQuZGVsdGFZKSkpLHQuZGlyZWN0aW9uPWksbiYmcj5lLnRocmVzaG9sZCYmaSZlLmRpcmVjdGlvbn0sYXR0clRlc3Q6ZnVuY3Rpb24odCl7cmV0dXJuIGJ0LnByb3RvdHlwZS5hdHRyVGVzdC5jYWxsKHRoaXMsdCkmJigyJnRoaXMuc3RhdGV8fCEoMiZ0aGlzLnN0YXRlKSYmdGhpcy5kaXJlY3Rpb25UZXN0KHQpKX0sZW1pdDpmdW5jdGlvbih0KXt0aGlzLnBYPXQuZGVsdGFYLHRoaXMucFk9dC5kZWx0YVk7dmFyIGU9eXQodC5kaXJlY3Rpb24pO2UmJih0LmFkZGl0aW9uYWxFdmVudD10aGlzLm9wdGlvbnMuZXZlbnQrZSksdGhpcy5fc3VwZXIuZW1pdC5jYWxsKHRoaXMsdCl9fSksXyhPdCxidCx7ZGVmYXVsdHM6e2V2ZW50OiJwaW5jaCIsdGhyZXNob2xkOjAscG9pbnRlcnM6Mn0sZ2V0VG91Y2hBY3Rpb246ZnVuY3Rpb24oKXtyZXR1cm5bIm5vbmUiXX0sYXR0clRlc3Q6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX3N1cGVyLmF0dHJUZXN0LmNhbGwodGhpcyx0KSYmKE1hdGguYWJzKHQuc2NhbGUtMSk+dGhpcy5vcHRpb25zLnRocmVzaG9sZHx8MiZ0aGlzLnN0YXRlKX0sZW1pdDpmdW5jdGlvbih0KXtpZigxIT09dC5zY2FsZSl7dmFyIGU9dC5zY2FsZTwxPyJpbiI6Im91dCI7dC5hZGRpdGlvbmFsRXZlbnQ9dGhpcy5vcHRpb25zLmV2ZW50K2V9dGhpcy5fc3VwZXIuZW1pdC5jYWxsKHRoaXMsdCl9fSksXyh4dCxwdCx7ZGVmYXVsdHM6e2V2ZW50OiJwcmVzcyIscG9pbnRlcnM6MSx0aW1lOjI1MSx0aHJlc2hvbGQ6OX0sZ2V0VG91Y2hBY3Rpb246ZnVuY3Rpb24oKXtyZXR1cm5bImF1dG8iXX0scHJvY2VzczpmdW5jdGlvbih0KXt2YXIgZT10aGlzLm9wdGlvbnMsbj10LnBvaW50ZXJzLmxlbmd0aD09PWUucG9pbnRlcnMscj10LmRpc3RhbmNlPGUudGhyZXNob2xkLGk9dC5kZWx0YVRpbWU+ZS50aW1lO2lmKHRoaXMuX2lucHV0PXQsIXJ8fCFufHwxMiZ0LmV2ZW50VHlwZSYmIWkpdGhpcy5yZXNldCgpO2Vsc2UgaWYoMSZ0LmV2ZW50VHlwZSl0aGlzLnJlc2V0KCksdGhpcy5fdGltZXI9digoZnVuY3Rpb24oKXt0aGlzLnN0YXRlPTgsdGhpcy50cnlFbWl0KCl9KSxlLnRpbWUsdGhpcyk7ZWxzZSBpZig0JnQuZXZlbnRUeXBlKXJldHVybiA4O3JldHVybiAzMn0scmVzZXQ6ZnVuY3Rpb24oKXtjbGVhclRpbWVvdXQodGhpcy5fdGltZXIpfSxlbWl0OmZ1bmN0aW9uKHQpezg9PT10aGlzLnN0YXRlJiYodCYmNCZ0LmV2ZW50VHlwZT90aGlzLm1hbmFnZXIuZW1pdCh0aGlzLm9wdGlvbnMuZXZlbnQrInVwIix0KToodGhpcy5faW5wdXQudGltZVN0YW1wPWQoKSx0aGlzLm1hbmFnZXIuZW1pdCh0aGlzLm9wdGlvbnMuZXZlbnQsdGhpcy5faW5wdXQpKSl9fSksXyh3dCxidCx7ZGVmYXVsdHM6e2V2ZW50OiJyb3RhdGUiLHRocmVzaG9sZDowLHBvaW50ZXJzOjJ9LGdldFRvdWNoQWN0aW9uOmZ1bmN0aW9uKCl7cmV0dXJuWyJub25lIl19LGF0dHJUZXN0OmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9zdXBlci5hdHRyVGVzdC5jYWxsKHRoaXMsdCkmJihNYXRoLmFicyh0LnJvdGF0aW9uKT50aGlzLm9wdGlvbnMudGhyZXNob2xkfHwyJnRoaXMuc3RhdGUpfX0pLF8oa3QsYnQse2RlZmF1bHRzOntldmVudDoic3dpcGUiLHRocmVzaG9sZDoxMCx2ZWxvY2l0eTouMyxkaXJlY3Rpb246MzAscG9pbnRlcnM6MX0sZ2V0VG91Y2hBY3Rpb246ZnVuY3Rpb24oKXtyZXR1cm4gX3QucHJvdG90eXBlLmdldFRvdWNoQWN0aW9uLmNhbGwodGhpcyl9LGF0dHJUZXN0OmZ1bmN0aW9uKHQpe3ZhciBlLG49dGhpcy5vcHRpb25zLmRpcmVjdGlvbjtyZXR1cm4gMzAmbj9lPXQub3ZlcmFsbFZlbG9jaXR5OjYmbj9lPXQub3ZlcmFsbFZlbG9jaXR5WDoyNCZuJiYoZT10Lm92ZXJhbGxWZWxvY2l0eVkpLHRoaXMuX3N1cGVyLmF0dHJUZXN0LmNhbGwodGhpcyx0KSYmbiZ0Lm9mZnNldERpcmVjdGlvbiYmdC5kaXN0YW5jZT50aGlzLm9wdGlvbnMudGhyZXNob2xkJiZ0Lm1heFBvaW50ZXJzPT10aGlzLm9wdGlvbnMucG9pbnRlcnMmJmYoZSk+dGhpcy5vcHRpb25zLnZlbG9jaXR5JiY0JnQuZXZlbnRUeXBlfSxlbWl0OmZ1bmN0aW9uKHQpe3ZhciBlPXl0KHQub2Zmc2V0RGlyZWN0aW9uKTtlJiZ0aGlzLm1hbmFnZXIuZW1pdCh0aGlzLm9wdGlvbnMuZXZlbnQrZSx0KSx0aGlzLm1hbmFnZXIuZW1pdCh0aGlzLm9wdGlvbnMuZXZlbnQsdCl9fSksXyhTdCxwdCx7ZGVmYXVsdHM6e2V2ZW50OiJ0YXAiLHBvaW50ZXJzOjEsdGFwczoxLGludGVydmFsOjMwMCx0aW1lOjI1MCx0aHJlc2hvbGQ6OSxwb3NUaHJlc2hvbGQ6MTB9LGdldFRvdWNoQWN0aW9uOmZ1bmN0aW9uKCl7cmV0dXJuWyJtYW5pcHVsYXRpb24iXX0scHJvY2VzczpmdW5jdGlvbih0KXt2YXIgZT10aGlzLm9wdGlvbnMsbj10LnBvaW50ZXJzLmxlbmd0aD09PWUucG9pbnRlcnMscj10LmRpc3RhbmNlPGUudGhyZXNob2xkLGk9dC5kZWx0YVRpbWU8ZS50aW1lO2lmKHRoaXMucmVzZXQoKSwxJnQuZXZlbnRUeXBlJiYwPT09dGhpcy5jb3VudClyZXR1cm4gdGhpcy5mYWlsVGltZW91dCgpO2lmKHImJmkmJm4pe2lmKDQhPXQuZXZlbnRUeXBlKXJldHVybiB0aGlzLmZhaWxUaW1lb3V0KCk7dmFyIGE9IXRoaXMucFRpbWV8fHQudGltZVN0YW1wLXRoaXMucFRpbWU8ZS5pbnRlcnZhbCxvPSF0aGlzLnBDZW50ZXJ8fHEodGhpcy5wQ2VudGVyLHQuY2VudGVyKTxlLnBvc1RocmVzaG9sZDtpZih0aGlzLnBUaW1lPXQudGltZVN0YW1wLHRoaXMucENlbnRlcj10LmNlbnRlcixvJiZhP3RoaXMuY291bnQrPTE6dGhpcy5jb3VudD0xLHRoaXMuX2lucHV0PXQsMD09PXRoaXMuY291bnQlZS50YXBzKXJldHVybiB0aGlzLmhhc1JlcXVpcmVGYWlsdXJlcygpPyh0aGlzLl90aW1lcj12KChmdW5jdGlvbigpe3RoaXMuc3RhdGU9OCx0aGlzLnRyeUVtaXQoKX0pLGUuaW50ZXJ2YWwsdGhpcyksMik6OH1yZXR1cm4gMzJ9LGZhaWxUaW1lb3V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3RpbWVyPXYoKGZ1bmN0aW9uKCl7dGhpcy5zdGF0ZT0zMn0pLHRoaXMub3B0aW9ucy5pbnRlcnZhbCx0aGlzKSwzMn0scmVzZXQ6ZnVuY3Rpb24oKXtjbGVhclRpbWVvdXQodGhpcy5fdGltZXIpfSxlbWl0OmZ1bmN0aW9uKCl7OD09dGhpcy5zdGF0ZSYmKHRoaXMuX2lucHV0LnRhcENvdW50PXRoaXMuY291bnQsdGhpcy5tYW5hZ2VyLmVtaXQodGhpcy5vcHRpb25zLmV2ZW50LHRoaXMuX2lucHV0KSl9fSksUHQuVkVSU0lPTj0iMi4wLjciLFB0LmRlZmF1bHRzPXtkb21FdmVudHM6ITEsdG91Y2hBY3Rpb246ImNvbXB1dGUiLGVuYWJsZTohMCxpbnB1dFRhcmdldDpudWxsLGlucHV0Q2xhc3M6bnVsbCxwcmVzZXQ6W1t3dCx7ZW5hYmxlOiExfV0sW090LHtlbmFibGU6ITF9LFsicm90YXRlIl1dLFtrdCx7ZGlyZWN0aW9uOjZ9XSxbX3Qse2RpcmVjdGlvbjo2fSxbInN3aXBlIl1dLFtTdF0sW1N0LHtldmVudDoiZG91YmxldGFwIix0YXBzOjJ9LFsidGFwIl1dLFt4dF1dLGNzc1Byb3BzOnt1c2VyU2VsZWN0OiJub25lIix0b3VjaFNlbGVjdDoibm9uZSIsdG91Y2hDYWxsb3V0OiJub25lIixjb250ZW50Wm9vbWluZzoibm9uZSIsdXNlckRyYWc6Im5vbmUiLHRhcEhpZ2hsaWdodENvbG9yOiJyZ2JhKDAsMCwwLDApIn19O2Z1bmN0aW9uIGp0KHQsZSl7dmFyIG47dGhpcy5vcHRpb25zPXUoe30sUHQuZGVmYXVsdHMsZXx8e30pLHRoaXMub3B0aW9ucy5pbnB1dFRhcmdldD10aGlzLm9wdGlvbnMuaW5wdXRUYXJnZXR8fHQsdGhpcy5oYW5kbGVycz17fSx0aGlzLnNlc3Npb249e30sdGhpcy5yZWNvZ25pemVycz1bXSx0aGlzLm9sZENzc1Byb3BzPXt9LHRoaXMuZWxlbWVudD10LHRoaXMuaW5wdXQ9bmV3KChuPXRoaXMpLm9wdGlvbnMuaW5wdXRDbGFzc3x8KE4/dHQ6RD9hdDpSP3N0OlkpKShuLFUpLHRoaXMudG91Y2hBY3Rpb249bmV3IHZ0KHRoaXMsdGhpcy5vcHRpb25zLnRvdWNoQWN0aW9uKSxUdCh0aGlzLCEwKSxnKHRoaXMub3B0aW9ucy5yZWNvZ25pemVycywoZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5hZGQobmV3IHRbMF0odFsxXSkpO3RbMl0mJmUucmVjb2duaXplV2l0aCh0WzJdKSx0WzNdJiZlLnJlcXVpcmVGYWlsdXJlKHRbM10pfSksdGhpcyl9ZnVuY3Rpb24gVHQodCxlKXt2YXIgbixyPXQuZWxlbWVudDtyLnN0eWxlJiYoZyh0Lm9wdGlvbnMuY3NzUHJvcHMsKGZ1bmN0aW9uKGksYSl7bj1DKHIuc3R5bGUsYSksZT8odC5vbGRDc3NQcm9wc1tuXT1yLnN0eWxlW25dLHIuc3R5bGVbbl09aSk6ci5zdHlsZVtuXT10Lm9sZENzc1Byb3BzW25dfHwiIn0pKSxlfHwodC5vbGRDc3NQcm9wcz17fSkpfWp0LnByb3RvdHlwZT17c2V0OmZ1bmN0aW9uKHQpe3JldHVybiB1KHRoaXMub3B0aW9ucyx0KSx0LnRvdWNoQWN0aW9uJiZ0aGlzLnRvdWNoQWN0aW9uLnVwZGF0ZSgpLHQuaW5wdXRUYXJnZXQmJih0aGlzLmlucHV0LmRlc3Ryb3koKSx0aGlzLmlucHV0LnRhcmdldD10LmlucHV0VGFyZ2V0LHRoaXMuaW5wdXQuaW5pdCgpKSx0aGlzfSxzdG9wOmZ1bmN0aW9uKHQpe3RoaXMuc2Vzc2lvbi5zdG9wcGVkPXQ/MjoxfSxyZWNvZ25pemU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5zZXNzaW9uO2lmKCFlLnN0b3BwZWQpe3ZhciBuO3RoaXMudG91Y2hBY3Rpb24ucHJldmVudERlZmF1bHRzKHQpO3ZhciByPXRoaXMucmVjb2duaXplcnMsaT1lLmN1clJlY29nbml6ZXI7KCFpfHxpJiY4Jmkuc3RhdGUpJiYoaT1lLmN1clJlY29nbml6ZXI9bnVsbCk7Zm9yKHZhciBhPTA7YTxyLmxlbmd0aDspbj1yW2FdLDI9PT1lLnN0b3BwZWR8fGkmJm4hPWkmJiFuLmNhblJlY29nbml6ZVdpdGgoaSk/bi5yZXNldCgpOm4ucmVjb2duaXplKHQpLCFpJiYxNCZuLnN0YXRlJiYoaT1lLmN1clJlY29nbml6ZXI9biksYSsrfX0sZ2V0OmZ1bmN0aW9uKHQpe2lmKHQgaW5zdGFuY2VvZiBwdClyZXR1cm4gdDtmb3IodmFyIGU9dGhpcy5yZWNvZ25pemVycyxuPTA7bjxlLmxlbmd0aDtuKyspaWYoZVtuXS5vcHRpb25zLmV2ZW50PT10KXJldHVybiBlW25dO3JldHVybiBudWxsfSxhZGQ6ZnVuY3Rpb24odCl7aWYocCh0LCJhZGQiLHRoaXMpKXJldHVybiB0aGlzO3ZhciBlPXRoaXMuZ2V0KHQub3B0aW9ucy5ldmVudCk7cmV0dXJuIGUmJnRoaXMucmVtb3ZlKGUpLHRoaXMucmVjb2duaXplcnMucHVzaCh0KSx0Lm1hbmFnZXI9dGhpcyx0aGlzLnRvdWNoQWN0aW9uLnVwZGF0ZSgpLHR9LHJlbW92ZTpmdW5jdGlvbih0KXtpZihwKHQsInJlbW92ZSIsdGhpcykpcmV0dXJuIHRoaXM7aWYodD10aGlzLmdldCh0KSl7dmFyIGU9dGhpcy5yZWNvZ25pemVycyxuPUUoZSx0KTstMSE9PW4mJihlLnNwbGljZShuLDEpLHRoaXMudG91Y2hBY3Rpb24udXBkYXRlKCkpfXJldHVybiB0aGlzfSxvbjpmdW5jdGlvbih0LGUpe2lmKHZvaWQgMCE9PXQmJnZvaWQgMCE9PWUpe3ZhciBuPXRoaXMuaGFuZGxlcnM7cmV0dXJuIGcoVCh0KSwoZnVuY3Rpb24odCl7blt0XT1uW3RdfHxbXSxuW3RdLnB1c2goZSl9KSksdGhpc319LG9mZjpmdW5jdGlvbih0LGUpe2lmKHZvaWQgMCE9PXQpe3ZhciBuPXRoaXMuaGFuZGxlcnM7cmV0dXJuIGcoVCh0KSwoZnVuY3Rpb24odCl7ZT9uW3RdJiZuW3RdLnNwbGljZShFKG5bdF0sZSksMSk6ZGVsZXRlIG5bdF19KSksdGhpc319LGVtaXQ6ZnVuY3Rpb24odCxlKXt0aGlzLm9wdGlvbnMuZG9tRXZlbnRzJiZmdW5jdGlvbih0LGUpe3ZhciBuPWEuY3JlYXRlRXZlbnQoIkV2ZW50Iik7bi5pbml0RXZlbnQodCwhMCwhMCksbi5nZXN0dXJlPWUsZS50YXJnZXQuZGlzcGF0Y2hFdmVudChuKX0odCxlKTt2YXIgbj10aGlzLmhhbmRsZXJzW3RdJiZ0aGlzLmhhbmRsZXJzW3RdLnNsaWNlKCk7aWYobiYmbi5sZW5ndGgpe2UudHlwZT10LGUucHJldmVudERlZmF1bHQ9ZnVuY3Rpb24oKXtlLnNyY0V2ZW50LnByZXZlbnREZWZhdWx0KCl9O2Zvcih2YXIgcj0wO3I8bi5sZW5ndGg7KW5bcl0oZSkscisrfX0sZGVzdHJveTpmdW5jdGlvbigpe3RoaXMuZWxlbWVudCYmVHQodGhpcywhMSksdGhpcy5oYW5kbGVycz17fSx0aGlzLnNlc3Npb249e30sdGhpcy5pbnB1dC5kZXN0cm95KCksdGhpcy5lbGVtZW50PW51bGx9fSx1KFB0LHtJTlBVVF9TVEFSVDoxLElOUFVUX01PVkU6MixJTlBVVF9FTkQ6NCxJTlBVVF9DQU5DRUw6OCxTVEFURV9QT1NTSUJMRToxLFNUQVRFX0JFR0FOOjIsU1RBVEVfQ0hBTkdFRDo0LFNUQVRFX0VOREVEOjgsU1RBVEVfUkVDT0dOSVpFRDo4LFNUQVRFX0NBTkNFTExFRDoxNixTVEFURV9GQUlMRUQ6MzIsRElSRUNUSU9OX05PTkU6MSxESVJFQ1RJT05fTEVGVDoyLERJUkVDVElPTl9SSUdIVDo0LERJUkVDVElPTl9VUDo4LERJUkVDVElPTl9ET1dOOjE2LERJUkVDVElPTl9IT1JJWk9OVEFMOjYsRElSRUNUSU9OX1ZFUlRJQ0FMOjI0LERJUkVDVElPTl9BTEw6MzAsTWFuYWdlcjpqdCxJbnB1dDpCLFRvdWNoQWN0aW9uOnZ0LFRvdWNoSW5wdXQ6YXQsTW91c2VJbnB1dDpZLFBvaW50ZXJFdmVudElucHV0OnR0LFRvdWNoTW91c2VJbnB1dDpzdCxTaW5nbGVUb3VjaElucHV0Om50LFJlY29nbml6ZXI6cHQsQXR0clJlY29nbml6ZXI6YnQsVGFwOlN0LFBhbjpfdCxTd2lwZTprdCxQaW5jaDpPdCxSb3RhdGU6d3QsUHJlc3M6eHQsb246ayxvZmY6UyxlYWNoOmcsbWVyZ2U6YixleHRlbmQ6bSxhc3NpZ246dSxpbmhlcml0Ol8sYmluZEZuOk8scHJlZml4ZWQ6Q30pLCh2b2lkIDAhPT1pP2k6InVuZGVmaW5lZCIhPXR5cGVvZiBzZWxmP3NlbGY6e30pLkhhbW1lcj1QdCx2b2lkIDA9PT0ocj1mdW5jdGlvbigpe3JldHVybiBQdH0uY2FsbChlLG4sZSx0KSl8fCh0LmV4cG9ydHM9cil9KHdpbmRvdyxkb2N1bWVudCl9LGZ1bmN0aW9uKHQsZSl7fSwsZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0IjtuLmQoZSwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIHZ9KSk7dmFyIHI9big2KSxpPW4oNyksYT1uKDE3KSxvPW4oMTUpLHM9bigxOCksdT1uKDE2NyksYz1uKDIxKSxsPW4oMjcpLGg9bigzNiksZj1uKDg5KSxkPVswLDAsMF0sdj1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dmFyIHQsbj1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06MCxpPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTowLHM9YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOjA7cmV0dXJuIE9iamVjdChyLmEpKHRoaXMsZSksdD1PYmplY3QoYS5hKSh0aGlzLE9iamVjdChvLmEpKGUpLmNhbGwodGhpcywtMCwtMCwtMCkpLDE9PT1hcmd1bWVudHMubGVuZ3RoJiZPYmplY3QoYy5mKShuKT90LmNvcHkobik6KGMuYi5kZWJ1ZyYmKE9iamVjdChsLmEpKG4pLE9iamVjdChsLmEpKGkpLE9iamVjdChsLmEpKHMpKSx0WzBdPW4sdFsxXT1pLHRbMl09cyksdH1yZXR1cm4gT2JqZWN0KHMuYSkoZSx0KSxPYmplY3QoaS5hKShlLFt7a2V5OiJzZXQiLHZhbHVlOmZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gdGhpc1swXT10LHRoaXNbMV09ZSx0aGlzWzJdPW4sdGhpcy5jaGVjaygpfX0se2tleToiY29weSIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXNbMF09dFswXSx0aGlzWzFdPXRbMV0sdGhpc1syXT10WzJdLHRoaXMuY2hlY2soKX19LHtrZXk6ImZyb21PYmplY3QiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiBjLmIuZGVidWcmJihPYmplY3QobC5hKSh0LngpLE9iamVjdChsLmEpKHQueSksT2JqZWN0KGwuYSkodC56KSksdGhpc1swXT10LngsdGhpc1sxXT10LnksdGhpc1syXT10LnosdGhpcy5jaGVjaygpfX0se2tleToidG9PYmplY3QiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0Lng9dGhpc1swXSx0Lnk9dGhpc1sxXSx0Lno9dGhpc1syXSx0fX0se2tleToiYW5nbGUiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiBoLmEodGhpcyx0KX19LHtrZXk6ImNyb3NzIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gaC5jKHRoaXMsdGhpcyx0KSx0aGlzLmNoZWNrKCl9fSx7a2V5OiJyb3RhdGVYIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10LnJhZGlhbnMsbj10Lm9yaWdpbixyPXZvaWQgMD09PW4/ZDpuO3JldHVybiBoLmkodGhpcyx0aGlzLHIsZSksdGhpcy5jaGVjaygpfX0se2tleToicm90YXRlWSIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dC5yYWRpYW5zLG49dC5vcmlnaW4scj12b2lkIDA9PT1uP2Q6bjtyZXR1cm4gaC5qKHRoaXMsdGhpcyxyLGUpLHRoaXMuY2hlY2soKX19LHtrZXk6InJvdGF0ZVoiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXQucmFkaWFucyxuPXQub3JpZ2luLHI9dm9pZCAwPT09bj9kOm47cmV0dXJuIGguayh0aGlzLHRoaXMscixlKSx0aGlzLmNoZWNrKCl9fSx7a2V5OiJ0cmFuc2Zvcm0iLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnRyYW5zZm9ybUFzUG9pbnQodCl9fSx7a2V5OiJ0cmFuc2Zvcm1Bc1BvaW50Iix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gaC5uKHRoaXMsdGhpcyx0KSx0aGlzLmNoZWNrKCl9fSx7a2V5OiJ0cmFuc2Zvcm1Bc1ZlY3RvciIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdChmLmMpKHRoaXMsdGhpcyx0KSx0aGlzLmNoZWNrKCl9fSx7a2V5OiJ0cmFuc2Zvcm1CeU1hdHJpeDMiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiBoLm0odGhpcyx0aGlzLHQpLHRoaXMuY2hlY2soKX19LHtrZXk6InRyYW5zZm9ybUJ5TWF0cml4MiIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdChmLmIpKHRoaXMsdGhpcyx0KSx0aGlzLmNoZWNrKCl9fSx7a2V5OiJ0cmFuc2Zvcm1CeVF1YXRlcm5pb24iLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiBoLm8odGhpcyx0aGlzLHQpLHRoaXMuY2hlY2soKX19LHtrZXk6IkVMRU1FTlRTIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gM319LHtrZXk6InoiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzWzJdfSxzZXQ6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXNbMl09T2JqZWN0KGwuYSkodCl9fV0pLGV9KHUuYSl9LGZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7bi5kKGUsImEiLChmdW5jdGlvbigpe3JldHVybiBzfSkpO3ZhciByPW4oMSksaT1uLm4ociksYT1bMjU1LDI1NSwyNTVdLG89MCxzPWZ1bmN0aW9uIHQoKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e307aSgpKHRoaXMsdCk7dmFyIG49ZS5jb2xvcixyPXZvaWQgMD09PW4/YTpuLHM9ZS5pbnRlbnNpdHksdT12b2lkIDA9PT1zPzE6czt0aGlzLmlkPWUuaWR8fCJhbWJpZW50LSIuY29uY2F0KG8rKyksdGhpcy5jb2xvcj1yLHRoaXMuaW50ZW5zaXR5PXUsdGhpcy50eXBlPSJhbWJpZW50In19LGZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7bi5kKGUsImEiLChmdW5jdGlvbigpe3JldHVybiBnfSkpO3ZhciByPW4oMSksaT1uLm4ociksYT1uKDIpLG89bi5uKGEpLHM9big5KSx1PW4ubihzKSxjPW4oMyksbD1uLm4oYyksaD1uKDEwKSxmPW4ubihoKSxkPW4oODEpLHY9bigxNTEpLHA9bigxNTIpLGc9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSh0KXtyZXR1cm4gaSgpKHRoaXMsZSksdSgpKHRoaXMsbCgpKGUpLmNhbGwodGhpcyxPYmplY3QuYXNzaWduKHt9LHQse3R5cGU6di5hfSkpKX1yZXR1cm4gZigpKGUsdCksbygpKGUsW3trZXk6ImNvbnRyb2xsZXIiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9nZXRDb250cm9sbGVyUHJvcHMoe3R5cGU6cC5hfSl9fV0pLGV9KGQuYSk7Zy5kaXNwbGF5TmFtZT0iTWFwVmlldyJ9LGZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7bi5kKGUsImEiLChmdW5jdGlvbigpe3JldHVybiB3fSkpO3ZhciByPW4oNCksaT1uLm4ociksYT1uKDEpLG89bi5uKGEpLHM9bigyKSx1PW4ubihzKSxjPW4oOSksbD1uLm4oYyksaD1uKDMpLGY9bi5uKGgpLGQ9bigxODQpLHY9bi5uKGQpLHA9bigxMCksZz1uLm4ocCkseT1uKDU2KSxtPW4oMzQpLGI9big2NyksXz1uKDgpO2Z1bmN0aW9uIE8odCxlKXt2YXIgbj1PYmplY3Qua2V5cyh0KTtpZihPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgcj1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHQpO2UmJihyPXIuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0LGUpLmVudW1lcmFibGV9KSkpLG4ucHVzaC5hcHBseShuLHIpfXJldHVybiBufWZ1bmN0aW9uIHgodCl7Zm9yKHZhciBlPTE7ZTxhcmd1bWVudHMubGVuZ3RoO2UrKyl7dmFyIG49bnVsbCE9YXJndW1lbnRzW2VdP2FyZ3VtZW50c1tlXTp7fTtlJTI/TyhPYmplY3QobiksITApLmZvckVhY2goKGZ1bmN0aW9uKGUpe2koKSh0LGUsbltlXSl9KSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXModCxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhuKSk6TyhPYmplY3QobikpLmZvckVhY2goKGZ1bmN0aW9uKGUpe09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LGUsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihuLGUpKX0pKX1yZXR1cm4gdH12YXIgdz1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dmFyIHQsbj1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e307bygpKHRoaXMsZSk7dmFyIHI9bi5sYXRpdHVkZSxpPXZvaWQgMD09PXI/MDpyLGE9bi5sb25naXR1ZGUscz12b2lkIDA9PT1hPzA6YSx1PW4uem9vbSxjPXZvaWQgMD09PXU/MTE6dSxoPW4ucGl0Y2gsZD12b2lkIDA9PT1oPzA6aCxwPW4uYmVhcmluZyxnPXZvaWQgMD09PXA/MDpwLHk9bi5uZWFyWk11bHRpcGxpZXIsYj12b2lkIDA9PT15Py4xOnksTz1uLmZhclpNdWx0aXBsaWVyLHg9dm9pZCAwPT09Tz8xLjAxOk8sdz1uLm9ydGhvZ3JhcGhpYyxrPXZvaWQgMCE9PXcmJncsUz1uLnJlcGVhdCxQPXZvaWQgMCE9PVMmJlMsaj1uLndvcmxkT2Zmc2V0LFQ9dm9pZCAwPT09aj8wOmosRT1uLndpZHRoLEE9bi5oZWlnaHQsTT1uLmFsdGl0dWRlLEM9dm9pZCAwPT09TT8xLjU6TSxMPU1hdGgucG93KDIsYyk7RT1FfHwxLEE9QXx8MSxDPU1hdGgubWF4KC43NSxDKTt2YXIgST1PYmplY3QobS5oKSh7d2lkdGg6RSxoZWlnaHQ6QSxwaXRjaDpkLGFsdGl0dWRlOkMsbmVhclpNdWx0aXBsaWVyOmIsZmFyWk11bHRpcGxpZXI6eH0pLFI9SS5mb3YsTj1JLmFzcGVjdCxEPUkuZm9jYWxEaXN0YW5jZSxGPUkubmVhcix6PUkuZmFyLEI9T2JqZWN0KG0uaSkoe2hlaWdodDpBLHBpdGNoOmQsYmVhcmluZzpnLHNjYWxlOkwsYWx0aXR1ZGU6Q30pO2lmKFQpe3ZhciBVPShuZXcgXy5hKS50cmFuc2xhdGUoWzUxMipULDAsMF0pO0I9VS5tdWx0aXBseUxlZnQoQil9dmFyIFY9T2JqZWN0LmFzc2lnbih7fSxuLHt3aWR0aDpFLGhlaWdodDpBLHZpZXdNYXRyaXg6Qixsb25naXR1ZGU6cyxsYXRpdHVkZTppLHpvb206YyxvcnRob2dyYXBoaWM6ayxmb3Z5UmFkaWFuczpSLGFzcGVjdDpOLGZvY2FsRGlzdGFuY2U6az9EOjEsbmVhcjpGLGZhcjp6fSk7cmV0dXJuKHQ9bCgpKHRoaXMsZigpKGUpLmNhbGwodGhpcyxWKSkpLmxhdGl0dWRlPWksdC5sb25naXR1ZGU9cyx0Lnpvb209Yyx0LnBpdGNoPWQsdC5iZWFyaW5nPWcsdC5hbHRpdHVkZT1DLHQub3J0aG9ncmFwaGljPWssdC5fc3ViVmlld3BvcnRzPVA/W106bnVsbCxPYmplY3QuZnJlZXplKHYoKSh0KSksdH1yZXR1cm4gZygpKGUsdCksdSgpKGUsW3trZXk6ImFkZE1ldGVyc1RvTG5nTGF0Iix2YWx1ZTpmdW5jdGlvbih0LGUpe3JldHVybiBPYmplY3QobS5hKSh0LGUpfX0se2tleToiZ2V0TWFwQ2VudGVyQnlMbmdMYXRQb3NpdGlvbiIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dC5sbmdMYXQsbj10LnBvcyxyPU9iamVjdChtLmwpKG4sdGhpcy5waXhlbFVucHJvamVjdGlvbk1hdHJpeCksaT10aGlzLnByb2plY3RGbGF0KGUpLGE9Yi5hKFtdLGksYi5iKFtdLHIpKSxvPWIuYShbXSx0aGlzLmNlbnRlcixhKTtyZXR1cm4gdGhpcy51bnByb2plY3RGbGF0KG8pfX0se2tleToiZml0Qm91bmRzIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgbj1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06e30scj10aGlzLndpZHRoLGk9dGhpcy5oZWlnaHQsYT1PYmplY3QobS5jKShPYmplY3QuYXNzaWduKHt3aWR0aDpyLGhlaWdodDppLGJvdW5kczp0fSxuKSksbz1hLmxvbmdpdHVkZSxzPWEubGF0aXR1ZGUsdT1hLnpvb207cmV0dXJuIG5ldyBlKHt3aWR0aDpyLGhlaWdodDppLGxvbmdpdHVkZTpvLGxhdGl0dWRlOnMsem9vbTp1fSl9fSx7a2V5OiJzdWJWaWV3cG9ydHMiLGdldDpmdW5jdGlvbigpe2lmKHRoaXMuX3N1YlZpZXdwb3J0cyYmIXRoaXMuX3N1YlZpZXdwb3J0cy5sZW5ndGgpZm9yKHZhciB0PXRoaXMudW5wcm9qZWN0KFswLDBdKSxuPXRoaXMudW5wcm9qZWN0KFt0aGlzLndpZHRoLDBdKSxyPXRoaXMudW5wcm9qZWN0KFswLHRoaXMuaGVpZ2h0XSksaT10aGlzLnVucHJvamVjdChbdGhpcy53aWR0aCx0aGlzLmhlaWdodF0pLGE9TWF0aC5taW4odFswXSxuWzBdLHJbMF0saVswXSksbz1NYXRoLm1heCh0WzBdLG5bMF0sclswXSxpWzBdKSxzPU1hdGguZmxvb3IoKGErMTgwKS8zNjApLHU9TWF0aC5jZWlsKChvLTE4MCkvMzYwKSxjPXM7Yzw9dTtjKyspe3ZhciBsPWM/bmV3IGUoeCh7fSx0aGlzLHt3b3JsZE9mZnNldDpjfSkpOnRoaXM7dGhpcy5fc3ViVmlld3BvcnRzLnB1c2gobCl9cmV0dXJuIHRoaXMuX3N1YlZpZXdwb3J0c319XSksZX0oeS5hKTt3LmRpc3BsYXlOYW1lPSJXZWJNZXJjYXRvclZpZXdwb3J0In0sZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0IjtuLmQoZSwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIEN9KSk7dmFyIHI9bigxOSksaT1uLm4ociksYT1uKDEpLG89bi5uKGEpLHM9bigyKSx1PW4ubihzKSxjPW4oOSksbD1uLm4oYyksaD1uKDMpLGY9bi5uKGgpLGQ9bigxMCksdj1uLm4oZCkscD1uKDgpLGc9big3OSkseT1uKDEyNSksbT1uKDM0KSxiPW4oMjkpLF89big3NyksTz1uKDc4KSx4PXt0cmFuc2l0aW9uRHVyYXRpb246MzAwLHRyYW5zaXRpb25FYXNpbmc6ZnVuY3Rpb24odCl7cmV0dXJuIHR9LHRyYW5zaXRpb25JbnRlcnBvbGF0b3I6bmV3IF8uYSx0cmFuc2l0aW9uSW50ZXJydXB0aW9uOk8uYS5CUkVBS30sdz17dHJhbnNpdGlvbkR1cmF0aW9uOjB9LGs9MCxTPTIwLFA9MCxqPTYwLFQ9MCxFPTAsQT0xLjUsTT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dmFyIHQsbj1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e30scj1uLndpZHRoLGk9bi5oZWlnaHQsYT1uLmxhdGl0dWRlLHM9bi5sb25naXR1ZGUsdT1uLnpvb20sYz1uLmJlYXJpbmcsaD12b2lkIDA9PT1jP0U6YyxkPW4ucGl0Y2gsdj12b2lkIDA9PT1kP1Q6ZCxwPW4uYWx0aXR1ZGUsZz12b2lkIDA9PT1wP0E6cCx5PW4ubWF4Wm9vbSxtPXZvaWQgMD09PXk/Uzp5LF89bi5taW5ab29tLE89dm9pZCAwPT09Xz9rOl8seD1uLm1heFBpdGNoLHc9dm9pZCAwPT09eD9qOngsTT1uLm1pblBpdGNoLEM9dm9pZCAwPT09TT9QOk0sTD1uLnN0YXJ0UGFuTG5nTGF0LEk9bi5zdGFydFpvb21MbmdMYXQsUj1uLnN0YXJ0QmVhcmluZyxOPW4uc3RhcnRQaXRjaCxEPW4uc3RhcnRab29tO3JldHVybiBvKCkodGhpcyxlKSxPYmplY3QoYi5hKShOdW1iZXIuaXNGaW5pdGUocyksImBsb25naXR1ZGVgIG11c3QgYmUgc3VwcGxpZWQiKSxPYmplY3QoYi5hKShOdW1iZXIuaXNGaW5pdGUoYSksImBsYXRpdHVkZWAgbXVzdCBiZSBzdXBwbGllZCIpLE9iamVjdChiLmEpKE51bWJlci5pc0Zpbml0ZSh1KSwiYHpvb21gIG11c3QgYmUgc3VwcGxpZWQiKSwodD1sKCkodGhpcyxmKCkoZSkuY2FsbCh0aGlzLHt3aWR0aDpyLGhlaWdodDppLGxhdGl0dWRlOmEsbG9uZ2l0dWRlOnMsem9vbTp1LGJlYXJpbmc6aCxwaXRjaDp2LGFsdGl0dWRlOmcsbWF4Wm9vbTptLG1pblpvb206TyxtYXhQaXRjaDp3LG1pblBpdGNoOkN9KSkpLl9pbnRlcmFjdGl2ZVN0YXRlPXtzdGFydFBhbkxuZ0xhdDpMLHN0YXJ0Wm9vbUxuZ0xhdDpJLHN0YXJ0QmVhcmluZzpSLHN0YXJ0UGl0Y2g6TixzdGFydFpvb206RH0sdH1yZXR1cm4gdigpKGUsdCksdSgpKGUsW3trZXk6ImdldFZpZXdwb3J0UHJvcHMiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3ZpZXdwb3J0UHJvcHN9fSx7a2V5OiJnZXRJbnRlcmFjdGl2ZVN0YXRlIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pbnRlcmFjdGl2ZVN0YXRlfX0se2tleToicGFuU3RhcnQiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXQucG9zO3JldHVybiB0aGlzLl9nZXRVcGRhdGVkU3RhdGUoe3N0YXJ0UGFuTG5nTGF0OnRoaXMuX3VucHJvamVjdChlKX0pfX0se2tleToicGFuIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10LnBvcyxuPXQuc3RhcnRQb3Mscj10aGlzLl9pbnRlcmFjdGl2ZVN0YXRlLnN0YXJ0UGFuTG5nTGF0fHx0aGlzLl91bnByb2plY3Qobik7aWYoIXIpcmV0dXJuIHRoaXM7dmFyIGE9dGhpcy5fY2FsY3VsYXRlTmV3TG5nTGF0KHtzdGFydFBhbkxuZ0xhdDpyLHBvczplfSksbz1pKCkoYSwyKSxzPW9bMF0sdT1vWzFdO3JldHVybiB0aGlzLl9nZXRVcGRhdGVkU3RhdGUoe2xvbmdpdHVkZTpzLGxhdGl0dWRlOnV9KX19LHtrZXk6InBhbkVuZCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZ2V0VXBkYXRlZFN0YXRlKHtzdGFydFBhbkxuZ0xhdDpudWxsfSl9fSx7a2V5OiJyb3RhdGVTdGFydCIsdmFsdWU6ZnVuY3Rpb24odCl7dC5wb3M7cmV0dXJuIHRoaXMuX2dldFVwZGF0ZWRTdGF0ZSh7c3RhcnRCZWFyaW5nOnRoaXMuX3ZpZXdwb3J0UHJvcHMuYmVhcmluZyxzdGFydFBpdGNoOnRoaXMuX3ZpZXdwb3J0UHJvcHMucGl0Y2h9KX19LHtrZXk6InJvdGF0ZSIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dC5kZWx0YVNjYWxlWCxuPXZvaWQgMD09PWU/MDplLHI9dC5kZWx0YVNjYWxlWSxpPXZvaWQgMD09PXI/MDpyLGE9dGhpcy5faW50ZXJhY3RpdmVTdGF0ZSxvPWEuc3RhcnRCZWFyaW5nLHM9YS5zdGFydFBpdGNoO2lmKCFOdW1iZXIuaXNGaW5pdGUobyl8fCFOdW1iZXIuaXNGaW5pdGUocykpcmV0dXJuIHRoaXM7dmFyIHU9dGhpcy5fY2FsY3VsYXRlTmV3UGl0Y2hBbmRCZWFyaW5nKHtkZWx0YVNjYWxlWDpuLGRlbHRhU2NhbGVZOmksc3RhcnRCZWFyaW5nOm8sc3RhcnRQaXRjaDpzfSksYz11LnBpdGNoLGw9dS5iZWFyaW5nO3JldHVybiB0aGlzLl9nZXRVcGRhdGVkU3RhdGUoe2JlYXJpbmc6bCxwaXRjaDpjfSl9fSx7a2V5OiJyb3RhdGVFbmQiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2dldFVwZGF0ZWRTdGF0ZSh7c3RhcnRCZWFyaW5nOm51bGwsc3RhcnRQaXRjaDpudWxsfSl9fSx7a2V5OiJ6b29tU3RhcnQiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXQucG9zO3JldHVybiB0aGlzLl9nZXRVcGRhdGVkU3RhdGUoe3N0YXJ0Wm9vbUxuZ0xhdDp0aGlzLl91bnByb2plY3QoZSksc3RhcnRab29tOnRoaXMuX3ZpZXdwb3J0UHJvcHMuem9vbX0pfX0se2tleToiem9vbSIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dC5wb3Msbj10LnN0YXJ0UG9zLHI9dC5zY2FsZSxhPXRoaXMuX2ludGVyYWN0aXZlU3RhdGUsbz1hLnN0YXJ0Wm9vbSxzPWEuc3RhcnRab29tTG5nTGF0O051bWJlci5pc0Zpbml0ZShvKXx8KG89dGhpcy5fdmlld3BvcnRQcm9wcy56b29tLHM9dGhpcy5fdW5wcm9qZWN0KG4pfHx0aGlzLl91bnByb2plY3QoZSkpO3ZhciB1PXRoaXMuX2NhbGN1bGF0ZU5ld1pvb20oe3NjYWxlOnIsc3RhcnRab29tOm99KSxjPW5ldyBtLmIoT2JqZWN0LmFzc2lnbih7fSx0aGlzLl92aWV3cG9ydFByb3BzLHt6b29tOnV9KSkuZ2V0TWFwQ2VudGVyQnlMbmdMYXRQb3NpdGlvbih7bG5nTGF0OnMscG9zOmV9KSxsPWkoKShjLDIpLGg9bFswXSxmPWxbMV07cmV0dXJuIHRoaXMuX2dldFVwZGF0ZWRTdGF0ZSh7em9vbTp1LGxvbmdpdHVkZTpoLGxhdGl0dWRlOmZ9KX19LHtrZXk6Inpvb21FbmQiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2dldFVwZGF0ZWRTdGF0ZSh7c3RhcnRab29tTG5nTGF0Om51bGwsc3RhcnRab29tOm51bGx9KX19LHtrZXk6Inpvb21JbiIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fem9vbUZyb21DZW50ZXIoMil9fSx7a2V5OiJ6b29tT3V0Iix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl96b29tRnJvbUNlbnRlciguNSl9fSx7a2V5OiJtb3ZlTGVmdCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcGFuRnJvbUNlbnRlcihbMTAwLDBdKX19LHtrZXk6Im1vdmVSaWdodCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcGFuRnJvbUNlbnRlcihbLTEwMCwwXSl9fSx7a2V5OiJtb3ZlVXAiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3BhbkZyb21DZW50ZXIoWzAsMTAwXSl9fSx7a2V5OiJtb3ZlRG93biIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcGFuRnJvbUNlbnRlcihbMCwtMTAwXSl9fSx7a2V5OiJyb3RhdGVMZWZ0Iix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9nZXRVcGRhdGVkU3RhdGUoe2JlYXJpbmc6dGhpcy5fdmlld3BvcnRQcm9wcy5iZWFyaW5nLTE1fSl9fSx7a2V5OiJyb3RhdGVSaWdodCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZ2V0VXBkYXRlZFN0YXRlKHtiZWFyaW5nOnRoaXMuX3ZpZXdwb3J0UHJvcHMuYmVhcmluZysxNX0pfX0se2tleToicm90YXRlVXAiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2dldFVwZGF0ZWRTdGF0ZSh7cGl0Y2g6dGhpcy5fdmlld3BvcnRQcm9wcy5waXRjaCsxMH0pfX0se2tleToicm90YXRlRG93biIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZ2V0VXBkYXRlZFN0YXRlKHtwaXRjaDp0aGlzLl92aWV3cG9ydFByb3BzLnBpdGNoLTEwfSl9fSx7a2V5OiJzaG9ydGVzdFBhdGhGcm9tIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10LmdldFZpZXdwb3J0UHJvcHMoKSxuPU9iamVjdC5hc3NpZ24oe30sdGhpcy5fdmlld3BvcnRQcm9wcykscj1uLmJlYXJpbmcsaT1uLmxvbmdpdHVkZTtyZXR1cm4gTWF0aC5hYnMoci1lLmJlYXJpbmcpPjE4MCYmKG4uYmVhcmluZz1yPDA/ciszNjA6ci0zNjApLE1hdGguYWJzKGktZS5sb25naXR1ZGUpPjE4MCYmKG4ubG9uZ2l0dWRlPWk8MD9pKzM2MDppLTM2MCksbn19LHtrZXk6Il96b29tRnJvbUNlbnRlciIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fdmlld3BvcnRQcm9wcyxuPWUud2lkdGgscj1lLmhlaWdodDtyZXR1cm4gdGhpcy56b29tKHtwb3M6W24vMixyLzJdLHNjYWxlOnR9KX19LHtrZXk6Il9wYW5Gcm9tQ2VudGVyIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLl92aWV3cG9ydFByb3BzLG49ZS53aWR0aCxyPWUuaGVpZ2h0O3JldHVybiB0aGlzLnBhbih7c3RhcnRQb3M6W24vMixyLzJdLHBvczpbbi8yK3RbMF0sci8yK3RbMV1dfSl9fSx7a2V5OiJfZ2V0VXBkYXRlZFN0YXRlIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gbmV3IGUoT2JqZWN0LmFzc2lnbih7fSx0aGlzLl92aWV3cG9ydFByb3BzLHRoaXMuX2ludGVyYWN0aXZlU3RhdGUsdCkpfX0se2tleToiX2FwcGx5Q29uc3RyYWludHMiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXQubWF4Wm9vbSxuPXQubWluWm9vbSxyPXQuem9vbTt0Lnpvb209T2JqZWN0KHAuaCkocixuLGUpO3ZhciBpPXQubWF4UGl0Y2gsYT10Lm1pblBpdGNoLG89dC5waXRjaDtyZXR1cm4gdC5waXRjaD1PYmplY3QocC5oKShvLGEsaSksT2JqZWN0LmFzc2lnbih0LE9iamVjdChtLmspKHQpKSx0fX0se2tleToiX3VucHJvamVjdCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9bmV3IG0uYih0aGlzLl92aWV3cG9ydFByb3BzKTtyZXR1cm4gdCYmZS51bnByb2plY3QodCl9fSx7a2V5OiJfY2FsY3VsYXRlTmV3TG5nTGF0Iix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10LnN0YXJ0UGFuTG5nTGF0LG49dC5wb3M7cmV0dXJuIG5ldyBtLmIodGhpcy5fdmlld3BvcnRQcm9wcykuZ2V0TWFwQ2VudGVyQnlMbmdMYXRQb3NpdGlvbih7bG5nTGF0OmUscG9zOm59KX19LHtrZXk6Il9jYWxjdWxhdGVOZXdab29tIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10LnNjYWxlLG49dC5zdGFydFpvb20scj10aGlzLl92aWV3cG9ydFByb3BzLGk9ci5tYXhab29tLGE9ci5taW5ab29tLG89bitNYXRoLmxvZzIoZSk7cmV0dXJuIE9iamVjdChwLmgpKG8sYSxpKX19LHtrZXk6Il9jYWxjdWxhdGVOZXdQaXRjaEFuZEJlYXJpbmciLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXQuZGVsdGFTY2FsZVgsbj10LmRlbHRhU2NhbGVZLHI9dC5zdGFydEJlYXJpbmcsaT10LnN0YXJ0UGl0Y2g7bj1PYmplY3QocC5oKShuLC0xLDEpO3ZhciBhPXRoaXMuX3ZpZXdwb3J0UHJvcHMsbz1hLm1pblBpdGNoLHM9YS5tYXhQaXRjaCx1PWk7cmV0dXJuIG4+MD91PWkrbioocy1pKTpuPDAmJih1PWktbiooby1pKSkse3BpdGNoOnUsYmVhcmluZzpyKzE4MCplfX19XSksZX0oeS5hKSxDPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUodCl7dmFyIG47cmV0dXJuIG8oKSh0aGlzLGUpLChuPWwoKSh0aGlzLGYoKShlKS5jYWxsKHRoaXMsTSx0KSkpLmludmVydFBhbj0hMCxufXJldHVybiB2KCkoZSx0KSx1KCkoZSxbe2tleToiX2dldFRyYW5zaXRpb25Qcm9wcyIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4geH19LHtrZXk6Il9vblBhblJvdGF0ZSIsdmFsdWU6ZnVuY3Rpb24odCl7aWYoIXRoaXMuZHJhZ1JvdGF0ZSlyZXR1cm4hMTt2YXIgZT10LmRlbHRhWCxuPXQuZGVsdGFZLHI9dGhpcy5nZXRDZW50ZXIodCksYT1pKCkociwyKVsxXSxvPWEtbixzPXRoaXMuY29udHJvbGxlclN0YXRlLmdldFZpZXdwb3J0UHJvcHMoKSx1PXMud2lkdGgsYz1zLmhlaWdodCxsPWUvdSxoPTA7bj4wP01hdGguYWJzKGMtbyk+NSYmKGg9bi8oby1jKSoxLjIpOm48MCYmbz41JiYoaD0xLWEvbyksaD1NYXRoLm1pbigxLE1hdGgubWF4KC0xLGgpKTt2YXIgZj10aGlzLmNvbnRyb2xsZXJTdGF0ZS5yb3RhdGUoe2RlbHRhU2NhbGVYOmwsZGVsdGFTY2FsZVk6aH0pO3JldHVybiB0aGlzLnVwZGF0ZVZpZXdwb3J0KGYsdyx7aXNEcmFnZ2luZzohMCxpc1JvdGF0aW5nOiEwfSl9fV0pLGV9KGcuYSl9LGZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7bi5kKGUsImEiLChmdW5jdGlvbigpe3JldHVybiBifSkpO3ZhciByPW4oMSksaT1uLm4ociksYT1uKDIpLG89bi5uKGEpLHM9bigyOSksdT1uKDI3NiksYz1uKDExOCksbD1uKDQ2KSxoPW4oMjMpLGY9big0NSksZD1uKDc1KSx2PW4oMTMxKSxwPW4oNTYpLGc9bigxNjMpLHk9T2JqZWN0LnNlYWwoe2xheWVyTWFuYWdlcjpudWxsLGRlY2s6bnVsbCxnbDpudWxsLHN0YXRzOm51bGwsc2hhZGVyQ2FjaGU6bnVsbCxwaWNraW5nRkJPOm51bGwsbW91c2VQb3NpdGlvbjpudWxsLHVzZXJEYXRhOnt9fSksbT1mdW5jdGlvbih0KXtyZXR1cm4gdCBpbnN0YW5jZW9mIGMuYT8iIi5jb25jYXQodCk6dD8iaW52YWxpZCI6Im51bGwifSxiPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlKXt2YXIgbj1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06e30scj1uLmRlY2ssYT1uLnN0YXRzLG89bi52aWV3cG9ydCxzPXZvaWQgMD09PW8/bnVsbDpvLGM9bi50aW1lbGluZSxsPXZvaWQgMD09PWM/bnVsbDpjO2koKSh0aGlzLHQpLHRoaXMubGFzdFJlbmRlcmVkTGF5ZXJzPVtdLHRoaXMubGF5ZXJzPVtdLHRoaXMuY29udGV4dD1PYmplY3QuYXNzaWduKHt9LHkse2xheWVyTWFuYWdlcjp0aGlzLGRlY2s6cixnbDplLHByb2dyYW1NYW5hZ2VyOmUmJk9iamVjdChnLmEpKGUpLHN0YXRzOmF8fG5ldyB2LmEoe2lkOiJkZWNrLmdsIn0pLHZpZXdwb3J0OnN8fG5ldyBwLmEoe2lkOiJERUZBVUxULUlOSVRJQUwtVklFV1BPUlQifSksdGltZWxpbmU6bHx8bmV3IHUuYX0pLHRoaXMuX25lZWRzUmVkcmF3PSJJbml0aWFsIHJlbmRlciIsdGhpcy5fbmVlZHNVcGRhdGU9ITEsdGhpcy5fZGVidWc9ITEsdGhpcy5fb25FcnJvcj1udWxsLHRoaXMuYWN0aXZhdGVWaWV3cG9ydD10aGlzLmFjdGl2YXRlVmlld3BvcnQuYmluZCh0aGlzKSxPYmplY3Quc2VhbCh0aGlzKX1yZXR1cm4gbygpKHQsW3trZXk6ImZpbmFsaXplIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PSEwLGU9ITEsbj12b2lkIDA7dHJ5e2Zvcih2YXIgcixpPXRoaXMubGF5ZXJzW1N5bWJvbC5pdGVyYXRvcl0oKTshKHQ9KHI9aS5uZXh0KCkpLmRvbmUpO3Q9ITApe3ZhciBhPXIudmFsdWU7dGhpcy5fZmluYWxpemVMYXllcihhKX19Y2F0Y2godCl7ZT0hMCxuPXR9ZmluYWxseXt0cnl7dHx8bnVsbD09aS5yZXR1cm58fGkucmV0dXJuKCl9ZmluYWxseXtpZihlKXRocm93IG59fX19LHtrZXk6Im5lZWRzUmVkcmF3Iix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7Y2xlYXJSZWRyYXdGbGFnczohMX0sZT10aGlzLl9uZWVkc1JlZHJhdzt0LmNsZWFyUmVkcmF3RmxhZ3MmJih0aGlzLl9uZWVkc1JlZHJhdz0hMSk7dmFyIG49ITAscj0hMSxpPXZvaWQgMDt0cnl7Zm9yKHZhciBhLG89dGhpcy5sYXllcnNbU3ltYm9sLml0ZXJhdG9yXSgpOyEobj0oYT1vLm5leHQoKSkuZG9uZSk7bj0hMCl7dmFyIHM9YS52YWx1ZSx1PXMuZ2V0TmVlZHNSZWRyYXcodCk7ZT1lfHx1fX1jYXRjaCh0KXtyPSEwLGk9dH1maW5hbGx5e3RyeXtufHxudWxsPT1vLnJldHVybnx8by5yZXR1cm4oKX1maW5hbGx5e2lmKHIpdGhyb3cgaX19cmV0dXJuIGV9fSx7a2V5OiJuZWVkc1VwZGF0ZSIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbmVlZHNVcGRhdGV9fSx7a2V5OiJzZXROZWVkc1JlZHJhdyIsdmFsdWU6ZnVuY3Rpb24odCl7dGhpcy5fbmVlZHNSZWRyYXc9dGhpcy5fbmVlZHNSZWRyYXd8fHR9fSx7a2V5OiJzZXROZWVkc1VwZGF0ZSIsdmFsdWU6ZnVuY3Rpb24odCl7dGhpcy5fbmVlZHNVcGRhdGU9dGhpcy5fbmVlZHNVcGRhdGV8fHR9fSx7a2V5OiJnZXRMYXllcnMiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9LGU9dC5sYXllcklkcyxuPXZvaWQgMD09PWU/bnVsbDplO3JldHVybiBuP3RoaXMubGF5ZXJzLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIG4uZmluZCgoZnVuY3Rpb24oZSl7cmV0dXJuIDA9PT10LmlkLmluZGV4T2YoZSl9KSl9KSk6dGhpcy5sYXllcnN9fSx7a2V5OiJzZXRQcm9wcyIsdmFsdWU6ZnVuY3Rpb24odCl7ImRlYnVnImluIHQmJih0aGlzLl9kZWJ1Zz10LmRlYnVnKSwidXNlckRhdGEiaW4gdCYmKHRoaXMuY29udGV4dC51c2VyRGF0YT10LnVzZXJEYXRhKSwibGF5ZXJzImluIHQmJnRoaXMuc2V0TGF5ZXJzKHQubGF5ZXJzKSwib25FcnJvciJpbiB0JiYodGhpcy5fb25FcnJvcj10Lm9uRXJyb3IpfX0se2tleToic2V0TGF5ZXJzIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXSYmYXJndW1lbnRzWzFdLG49ZXx8dCE9PXRoaXMubGFzdFJlbmRlcmVkTGF5ZXJzO2lmKE9iamVjdChmLmEpKCJsYXllck1hbmFnZXIuc2V0TGF5ZXJzIix0aGlzLG4sdCksIW4pcmV0dXJuIHRoaXM7dGhpcy5sYXN0UmVuZGVyZWRMYXllcnM9dCx0PU9iamVjdChkLmIpKHQsQm9vbGVhbik7dmFyIHI9ITAsaT0hMSxhPXZvaWQgMDt0cnl7Zm9yKHZhciBvLHM9dFtTeW1ib2wuaXRlcmF0b3JdKCk7IShyPShvPXMubmV4dCgpKS5kb25lKTtyPSEwKXt2YXIgdT1vLnZhbHVlO3UuY29udGV4dD10aGlzLmNvbnRleHR9fWNhdGNoKHQpe2k9ITAsYT10fWZpbmFsbHl7dHJ5e3J8fG51bGw9PXMucmV0dXJufHxzLnJldHVybigpfWZpbmFsbHl7aWYoaSl0aHJvdyBhfX1yZXR1cm4gdGhpcy5fdXBkYXRlTGF5ZXJzKHRoaXMubGF5ZXJzLHQpLHRoaXN9fSx7a2V5OiJ1cGRhdGVMYXllcnMiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5uZWVkc1VwZGF0ZSgpO2lmKHQpe3RoaXMuc2V0TmVlZHNSZWRyYXcoInVwZGF0aW5nIGxheWVyczogIi5jb25jYXQodCkpO3RoaXMuc2V0TGF5ZXJzKHRoaXMubGFzdFJlbmRlcmVkTGF5ZXJzLCEwKX19fSx7a2V5OiJhY3RpdmF0ZVZpZXdwb3J0Iix2YWx1ZTpmdW5jdGlvbih0KXtPYmplY3Qocy5hKSh0LCJMYXllck1hbmFnZXI6IHZpZXdwb3J0IG5vdCBzZXQiKTt2YXIgZT10aGlzLmNvbnRleHQudmlld3BvcnQ7aWYoIWV8fCF0LmVxdWFscyhlKSl7T2JqZWN0KGYuYSkoImxheWVyTWFuYWdlci5hY3RpdmF0ZVZpZXdwb3J0Iix0aGlzLHQpLHRoaXMuY29udGV4dC52aWV3cG9ydD10O3ZhciBuPXt2aWV3cG9ydENoYW5nZWQ6ITB9LHI9ITAsaT0hMSxhPXZvaWQgMDt0cnl7Zm9yKHZhciBvLHU9dGhpcy5sYXllcnNbU3ltYm9sLml0ZXJhdG9yXSgpOyEocj0obz11Lm5leHQoKSkuZG9uZSk7cj0hMCl7dmFyIGM9by52YWx1ZTtjLnNldENoYW5nZUZsYWdzKG4pLHRoaXMuX3VwZGF0ZUxheWVyKGMpfX1jYXRjaCh0KXtpPSEwLGE9dH1maW5hbGx5e3RyeXtyfHxudWxsPT11LnJldHVybnx8dS5yZXR1cm4oKX1maW5hbGx5e2lmKGkpdGhyb3cgYX19fXJldHVybiB0aGlzfX0se2tleToiX2hhbmRsZUVycm9yIix2YWx1ZTpmdW5jdGlvbih0LGUsbil7dGhpcy5fb25FcnJvcj90aGlzLl9vbkVycm9yKGUsbik6aC5hLmVycm9yKCJlcnJvciBkdXJpbmcgIi5jb25jYXQodCwiIG9mICIpLmNvbmNhdChtKG4pKSxlKSgpfX0se2tleToiX3VwZGF0ZUxheWVycyIsdmFsdWU6ZnVuY3Rpb24odCxlKXt2YXIgbj17fSxyPSEwLGk9ITEsYT12b2lkIDA7dHJ5e2Zvcih2YXIgbyxzPXRbU3ltYm9sLml0ZXJhdG9yXSgpOyEocj0obz1zLm5leHQoKSkuZG9uZSk7cj0hMCl7dmFyIHU9by52YWx1ZTtuW3UuaWRdP2guYS53YXJuKCJNdWx0aXBsZSBvbGQgbGF5ZXJzIHdpdGggc2FtZSBpZCAiLmNvbmNhdChtKHUpKSkoKTpuW3UuaWRdPXV9fWNhdGNoKHQpe2k9ITAsYT10fWZpbmFsbHl7dHJ5e3J8fG51bGw9PXMucmV0dXJufHxzLnJldHVybigpfWZpbmFsbHl7aWYoaSl0aHJvdyBhfX12YXIgYz1bXTt0aGlzLl91cGRhdGVTdWJsYXllcnNSZWN1cnNpdmVseShlLG4sYyksdGhpcy5fZmluYWxpemVPbGRMYXllcnMobik7Zm9yKHZhciBsPSExLGY9MCxkPWM7ZjxkLmxlbmd0aDtmKyspe2lmKGRbZl0uaGFzVW5pZm9ybVRyYW5zaXRpb24oKSl7bD0hMDticmVha319dGhpcy5fbmVlZHNVcGRhdGU9bCx0aGlzLmxheWVycz1jfX0se2tleToiX3VwZGF0ZVN1YmxheWVyc1JlY3Vyc2l2ZWx5Iix2YWx1ZTpmdW5jdGlvbih0LGUsbil7dmFyIHI9ITAsaT0hMSxhPXZvaWQgMDt0cnl7Zm9yKHZhciBvLHM9dFtTeW1ib2wuaXRlcmF0b3JdKCk7IShyPShvPXMubmV4dCgpKS5kb25lKTtyPSEwKXt2YXIgdT1vLnZhbHVlO3UuY29udGV4dD10aGlzLmNvbnRleHQ7dmFyIGM9ZVt1LmlkXTtudWxsPT09YyYmaC5hLndhcm4oIk11bHRpcGxlIG5ldyBsYXllcnMgd2l0aCBzYW1lIGlkICIuY29uY2F0KG0odSkpKSgpLGVbdS5pZF09bnVsbDt2YXIgbD1udWxsO3RyeXt0aGlzLl9kZWJ1ZyYmYyE9PXUmJnUudmFsaWRhdGVQcm9wcygpLGM/KHRoaXMuX3RyYW5zZmVyTGF5ZXJTdGF0ZShjLHUpLHRoaXMuX3VwZGF0ZUxheWVyKHUpKTp0aGlzLl9pbml0aWFsaXplTGF5ZXIodSksbi5wdXNoKHUpLGw9dS5pc0NvbXBvc2l0ZSYmdS5nZXRTdWJMYXllcnMoKX1jYXRjaCh0KXt0aGlzLl9oYW5kbGVFcnJvcigibWF0Y2hpbmciLHQsdSl9bCYmdGhpcy5fdXBkYXRlU3VibGF5ZXJzUmVjdXJzaXZlbHkobCxlLG4pfX1jYXRjaCh0KXtpPSEwLGE9dH1maW5hbGx5e3RyeXtyfHxudWxsPT1zLnJldHVybnx8cy5yZXR1cm4oKX1maW5hbGx5e2lmKGkpdGhyb3cgYX19fX0se2tleToiX2ZpbmFsaXplT2xkTGF5ZXJzIix2YWx1ZTpmdW5jdGlvbih0KXtmb3IodmFyIGUgaW4gdCl7dmFyIG49dFtlXTtuJiZ0aGlzLl9maW5hbGl6ZUxheWVyKG4pfX19LHtrZXk6Il9pbml0aWFsaXplTGF5ZXIiLHZhbHVlOmZ1bmN0aW9uKHQpe3RyeXt0Ll9pbml0aWFsaXplKCksdC5saWZlY3ljbGU9bC5hLklOSVRJQUxJWkVEfWNhdGNoKGUpe3RoaXMuX2hhbmRsZUVycm9yKCJpbml0aWFsaXphdGlvbiIsZSx0KX19fSx7a2V5OiJfdHJhbnNmZXJMYXllclN0YXRlIix2YWx1ZTpmdW5jdGlvbih0LGUpe2UuX3RyYW5zZmVyU3RhdGUodCksZS5saWZlY3ljbGU9bC5hLk1BVENIRUQsZSE9PXQmJih0LmxpZmVjeWNsZT1sLmEuQVdBSVRJTkdfR0MpfX0se2tleToiX3VwZGF0ZUxheWVyIix2YWx1ZTpmdW5jdGlvbih0KXt0cnl7dC5fdXBkYXRlKCl9Y2F0Y2goZSl7dGhpcy5faGFuZGxlRXJyb3IoInVwZGF0ZSIsZSx0KX19fSx7a2V5OiJfZmluYWxpemVMYXllciIsdmFsdWU6ZnVuY3Rpb24odCl7dGhpcy5fbmVlZHNSZWRyYXc9dGhpcy5fbmVlZHNSZWRyYXd8fCJmaW5hbGl6ZWQgIi5jb25jYXQobSh0KSksdC5saWZlY3ljbGU9bC5hLkFXQUlUSU5HX0ZJTkFMSVpBVElPTjt0cnl7dC5fZmluYWxpemUoKSx0LmxpZmVjeWNsZT1sLmEuRklOQUxJWkVEfWNhdGNoKGUpe3RoaXMuX2hhbmRsZUVycm9yKCJmaW5hbGl6YXRpb24iLGUsdCl9fX1dKSx0fSgpfSxmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO24uZChlLCJhIiwoZnVuY3Rpb24oKXtyZXR1cm4gY30pKTt2YXIgcj1uKDUpLGk9bi5uKHIpLGE9bigxMyksbz1uKDYpLHM9big3KSx1PW4oMTYyKSxjPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlKXt2YXIgbj1lLnNvdXJjZSxyPWUubmFtZSxpPXZvaWQgMD09PXI/InVubmFtZWQiOnIsYT1lLm1heENvbmN1cnJlbmN5LHM9dm9pZCAwPT09YT8xOmEsdT1lLm9uTWVzc2FnZSxjPWUub25EZWJ1ZyxsPXZvaWQgMD09PWM/ZnVuY3Rpb24oKXt9OmM7T2JqZWN0KG8uYSkodGhpcyx0KSx0aGlzLnNvdXJjZT1uLHRoaXMubmFtZT1pLHRoaXMubWF4Q29uY3VycmVuY3k9cyx0aGlzLm9uTWVzc2FnZT11LHRoaXMub25EZWJ1Zz1sLHRoaXMuam9iUXVldWU9W10sdGhpcy5pZGxlUXVldWU9W10sdGhpcy5jb3VudD0wLHRoaXMuaXNEZXN0cm95ZWQ9ITF9dmFyIGU7cmV0dXJuIE9iamVjdChzLmEpKHQsW3trZXk6ImRlc3Ryb3kiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5pZGxlUXVldWUuZm9yRWFjaCgoZnVuY3Rpb24odCl7cmV0dXJuIHQuZGVzdHJveSgpfSkpLHRoaXMuaXNEZXN0cm95ZWQ9ITB9fSx7a2V5OiJwcm9jZXNzIix2YWx1ZTooZT1PYmplY3QoYS5hKShpLmEubWFyaygoZnVuY3Rpb24gdChlLG4pe3ZhciByPXRoaXM7cmV0dXJuIGkuYS53cmFwKChmdW5jdGlvbih0KXtmb3IoOzspc3dpdGNoKHQucHJldj10Lm5leHQpe2Nhc2UgMDpyZXR1cm4gdC5hYnJ1cHQoInJldHVybiIsbmV3IFByb21pc2UoKGZ1bmN0aW9uKHQsaSl7ci5qb2JRdWV1ZS5wdXNoKHtkYXRhOmUsam9iTmFtZTpuLHJlc29sdmU6dCxyZWplY3Q6aX0pLHIuX3N0YXJ0UXVldWVkSm9iKCl9KSkpO2Nhc2UgMTpjYXNlImVuZCI6cmV0dXJuIHQuc3RvcCgpfX0pLHQpfSkpKSxmdW5jdGlvbih0LG4pe3JldHVybiBlLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0pfSx7a2V5OiJfc3RhcnRRdWV1ZWRKb2IiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcztpZih0aGlzLmpvYlF1ZXVlLmxlbmd0aCl7dmFyIGU9dGhpcy5fZ2V0QXZhaWxhYmxlV29ya2VyKCk7aWYoZSl7dmFyIG49dGhpcy5qb2JRdWV1ZS5zaGlmdCgpO3RoaXMub25EZWJ1Zyh7bWVzc2FnZToicHJvY2Vzc2luZyIsd29ya2VyOmUubmFtZSxqb2I6bi5qb2JOYW1lLGJhY2tsb2c6dGhpcy5qb2JRdWV1ZS5sZW5ndGh9KSxlLnByb2Nlc3Mobi5kYXRhKS50aGVuKChmdW5jdGlvbih0KXtyZXR1cm4gbi5yZXNvbHZlKHQpfSkpLmNhdGNoKChmdW5jdGlvbih0KXtyZXR1cm4gbi5yZWplY3QodCl9KSkudGhlbigoZnVuY3Rpb24oKXtyZXR1cm4gdC5fb25Xb3JrZXJEb25lKGUpfSkpfX19fSx7a2V5OiJfb25Xb3JrZXJEb25lIix2YWx1ZTpmdW5jdGlvbih0KXt0aGlzLmlzRGVzdHJveWVkP3QuZGVzdHJveSgpOih0aGlzLmlkbGVRdWV1ZS5wdXNoKHQpLHRoaXMuX3N0YXJ0UXVldWVkSm9iKCkpfX0se2tleToiX2dldEF2YWlsYWJsZVdvcmtlciIsdmFsdWU6ZnVuY3Rpb24oKXtpZih0aGlzLmlkbGVRdWV1ZS5sZW5ndGg+MClyZXR1cm4gdGhpcy5pZGxlUXVldWUuc2hpZnQoKTtpZih0aGlzLmNvdW50PHRoaXMubWF4Q29uY3VycmVuY3kpe3RoaXMuY291bnQrKzt2YXIgdD0iIi5jb25jYXQodGhpcy5uYW1lLnRvTG93ZXJDYXNlKCksIiAoIyIpLmNvbmNhdCh0aGlzLmNvdW50LCIgb2YgIikuY29uY2F0KHRoaXMubWF4Q29uY3VycmVuY3ksIikiKTtyZXR1cm4gbmV3IHUuYSh7c291cmNlOnRoaXMuc291cmNlLG9uTWVzc2FnZTp0aGlzLm9uTWVzc2FnZSxuYW1lOnR9KX1yZXR1cm4gbnVsbH19XSksdH0oKX0sZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0IjtuLmQoZSwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIGF9KSk7dmFyIHI9big5NiksaT1uKDE4OCk7ZnVuY3Rpb24gYSh0KXtpZihpLnRvQXJyYXlCdWZmZXImJih0PU9iamVjdChpLnRvQXJyYXlCdWZmZXIpKHQpKSx0IGluc3RhbmNlb2YgQXJyYXlCdWZmZXIpcmV0dXJuIHQ7aWYoQXJyYXlCdWZmZXIuaXNWaWV3KHQpKXJldHVybiB0LmJ1ZmZlcjtpZigic3RyaW5nIj09dHlwZW9mIHQpe3ZhciBlPXQ7cmV0dXJuKG5ldyBUZXh0RW5jb2RlcikuZW5jb2RlKGUpLmJ1ZmZlcn1yZXR1cm4gT2JqZWN0KHIuYSkoITEpfX0sZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0IjtuLmQoZSwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIG99KSk7dmFyIHI9big0KSxpPW4ubihyKTtmdW5jdGlvbiBhKHQsZSl7dmFyIG49T2JqZWN0LmtleXModCk7aWYoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyl7dmFyIHI9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyh0KTtlJiYocj1yLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodCxlKS5lbnVtZXJhYmxlfSkpKSxuLnB1c2guYXBwbHkobixyKX1yZXR1cm4gbn1mdW5jdGlvbiBvKHQsZSl7aWYoIWUpcmV0dXJuIHQ7dmFyIG49T2JqZWN0LmFzc2lnbih7fSx0LGUpO2lmKCJkZWZpbmVzImluIGUmJihuLmRlZmluZXM9T2JqZWN0LmFzc2lnbih7fSx0LmRlZmluZXMsZS5kZWZpbmVzKSksIm1vZHVsZXMiaW4gZSYmKG4ubW9kdWxlcz0odC5tb2R1bGVzfHxbXSkuY29uY2F0KGUubW9kdWxlcyksZS5tb2R1bGVzLnNvbWUoKGZ1bmN0aW9uKHQpe3JldHVybiJwcm9qZWN0NjQiPT09dC5uYW1lfSkpKSl7dmFyIHI9bi5tb2R1bGVzLmZpbmRJbmRleCgoZnVuY3Rpb24odCl7cmV0dXJuInByb2plY3QzMiI9PT10Lm5hbWV9KSk7cj49MCYmbi5tb2R1bGVzLnNwbGljZShyLDEpfWlmKCJpbmplY3QiaW4gZSlpZih0LmluamVjdCl7dmFyIG89ZnVuY3Rpb24odCl7Zm9yKHZhciBlPTE7ZTxhcmd1bWVudHMubGVuZ3RoO2UrKyl7dmFyIG49bnVsbCE9YXJndW1lbnRzW2VdP2FyZ3VtZW50c1tlXTp7fTtlJTI/YShPYmplY3QobiksITApLmZvckVhY2goKGZ1bmN0aW9uKGUpe2koKSh0LGUsbltlXSl9KSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXModCxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhuKSk6YShPYmplY3QobikpLmZvckVhY2goKGZ1bmN0aW9uKGUpe09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LGUsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihuLGUpKX0pKX1yZXR1cm4gdH0oe30sdC5pbmplY3QpO2Zvcih2YXIgcyBpbiBlLmluamVjdClvW3NdPShvW3NdfHwiIikrZS5pbmplY3Rbc107bi5pbmplY3Q9b31lbHNlIG4uaW5qZWN0PWUuaW5qZWN0O3JldHVybiBufX0sZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0IjtuLmQoZSwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIGF9KSk7dmFyIHI9big0MSksaT1uLm4ocik7ZnVuY3Rpb24gYSh0KXtpZihudWxsPT09KGU9dCl8fCJvYmplY3QiIT09aSgpKGUpKXRocm93IG5ldyBFcnJvcigiY291bnQoKTogYXJndW1lbnQgbm90IGFuIG9iamVjdCIpO3ZhciBlO2lmKCJmdW5jdGlvbiI9PXR5cGVvZiB0LmNvdW50KXJldHVybiB0LmNvdW50KCk7aWYoTnVtYmVyLmlzRmluaXRlKHQuc2l6ZSkpcmV0dXJuIHQuc2l6ZTtpZihOdW1iZXIuaXNGaW5pdGUodC5sZW5ndGgpKXJldHVybiB0Lmxlbmd0aDtpZihmdW5jdGlvbih0KXtyZXR1cm4gbnVsbCE9PXQmJiJvYmplY3QiPT09aSgpKHQpJiZ0LmNvbnN0cnVjdG9yPT09T2JqZWN0fSh0KSlyZXR1cm4gT2JqZWN0LmtleXModCkubGVuZ3RoO3Rocm93IG5ldyBFcnJvcigiY291bnQoKTogYXJndW1lbnQgbm90IGEgY29udGFpbmVyIil9fSxmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oMSksaT1uLm4ociksYT1uKDIpLG89bi5uKGEpLHM9big0KSx1PW4ubihzKSxjPW4oMTkpLGw9bi5uKGMpLGg9big5KSxmPW4ubihoKSxkPW4oMyksdj1uLm4oZCkscD1uKDEyKSxnPW4ubihwKSx5PW4oMTApLG09bi5uKHkpLGI9bigyNzUpLF89bigxODcpLE89big0OCk7ZnVuY3Rpb24geCh0LGUpe3ZhciBuPU9iamVjdC5rZXlzKHQpO2lmKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciByPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHModCk7ZSYmKHI9ci5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHQsZSkuZW51bWVyYWJsZX0pKSksbi5wdXNoLmFwcGx5KG4scil9cmV0dXJuIG59dmFyIHc9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUsbil7aSgpKHRoaXMsdCksdGhpcy5vcHRzPW4sdGhpcy5zb3VyY2U9ZX1yZXR1cm4gbygpKHQsW3trZXk6ImdldFZhbHVlIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMuc291cmNlLmdldEJ1ZmZlcigpLGU9dGhpcy5nZXRBY2Nlc3NvcigpO2lmKHQpcmV0dXJuW3QsZV07dmFyIG49dGhpcy5zb3VyY2UudmFsdWUscj1lLnNpemUsaT1uO2lmKG4mJm4ubGVuZ3RoIT09cil7aT1uZXcgRmxvYXQzMkFycmF5KHIpO2Zvcih2YXIgYT1lLmVsZW1lbnRPZmZzZXR8fDAsbz0wO288cjsrK28paVtvXT1uW2Erb119cmV0dXJuIGl9fSx7a2V5OiJnZXRBY2Nlc3NvciIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24odCl7Zm9yKHZhciBlPTE7ZTxhcmd1bWVudHMubGVuZ3RoO2UrKyl7dmFyIG49bnVsbCE9YXJndW1lbnRzW2VdP2FyZ3VtZW50c1tlXTp7fTtlJTI/eChPYmplY3QobiksITApLmZvckVhY2goKGZ1bmN0aW9uKGUpe3UoKSh0LGUsbltlXSl9KSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXModCxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhuKSk6eChPYmplY3QobikpLmZvckVhY2goKGZ1bmN0aW9uKGUpe09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LGUsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihuLGUpKX0pKX1yZXR1cm4gdH0oe30sdGhpcy5zb3VyY2UuZ2V0QWNjZXNzb3IoKSx7fSx0aGlzLm9wdHMpfX0se2tleToidmFsdWUiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnNvdXJjZS52YWx1ZX19XSksdH0oKTt2YXIgaz1uKDk1KSxTPW4oNTApLFA9bigyMyk7ZnVuY3Rpb24gaih0LGUpe3ZhciBuPU9iamVjdC5rZXlzKHQpO2lmKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciByPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHModCk7ZSYmKHI9ci5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHQsZSkuZW51bWVyYWJsZX0pKSksbi5wdXNoLmFwcGx5KG4scil9cmV0dXJuIG59ZnVuY3Rpb24gVCh0KXtmb3IodmFyIGU9MTtlPGFyZ3VtZW50cy5sZW5ndGg7ZSsrKXt2YXIgbj1udWxsIT1hcmd1bWVudHNbZV0/YXJndW1lbnRzW2VdOnt9O2UlMj9qKE9iamVjdChuKSwhMCkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dSgpKHQsZSxuW2VdKX0pKTpPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycz9PYmplY3QuZGVmaW5lUHJvcGVydGllcyh0LE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKG4pKTpqKE9iamVjdChuKSkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsZSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG4sZSkpfSkpfXJldHVybiB0fWZ1bmN0aW9uIEUodCl7cmV0dXJuIHQuc3RyaWRlfHx0LnNpemUqdC5ieXRlc1BlckVsZW1lbnR9ZnVuY3Rpb24gQSh0LGUpe2Uub2Zmc2V0JiZQLmEucmVtb3ZlZCgic2hhZGVyQXR0cmlidXRlLm9mZnNldCIsInZlcnRleE9mZnNldCwgZWxlbWVudE9mZnNldCIpKCk7dmFyIG49RSh0KTtyZXR1cm4gVCh7fSxlLHtvZmZzZXQ6KCJ2ZXJ0ZXhPZmZzZXQiaW4gZT9lLnZlcnRleE9mZnNldDp0LnZlcnRleE9mZnNldHx8MCkqbisoZS5lbGVtZW50T2Zmc2V0fHwwKSp0LmJ5dGVzUGVyRWxlbWVudCsodC5vZmZzZXR8fDApLHN0cmlkZTpufSl9dmFyIE09ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUsbil7aSgpKHRoaXMsdCksdGhpcy5nbD1lLHRoaXMuaWQ9bi5pZCx0aGlzLnNpemU9bi5zaXplO3ZhciByPW4ubG9naWNhbFR5cGV8fG4udHlwZSxhPTUxMzA9PT1yLG89bi5kZWZhdWx0VmFsdWU7bz1OdW1iZXIuaXNGaW5pdGUobyk/W29dOm98fG5ldyBBcnJheSh0aGlzLnNpemUpLmZpbGwoMCksbi5kZWZhdWx0VmFsdWU9bzt2YXIgcz1yO2E/cz01MTI2OiFzJiZuLmlzSW5kZXhlZD9zPWUmJk9iamVjdChiLmIpKGUsXy5hLkVMRU1FTlRfSU5ERVhfVUlOVDMyKT81MTI1OjUxMjM6c3x8KHM9NTEyNiksbi5sb2dpY2FsVHlwZT1yLG4udHlwZT1zO3ZhciB1PWZ1bmN0aW9uKHQpe3N3aXRjaCh0KXtjYXNlIDUxMjY6cmV0dXJuIEZsb2F0MzJBcnJheTtjYXNlIDUxMzA6cmV0dXJuIEZsb2F0NjRBcnJheTtjYXNlIDUxMjM6Y2FzZSAzMzYzNTpjYXNlIDMyODE5OmNhc2UgMzI4MjA6cmV0dXJuIFVpbnQxNkFycmF5O2Nhc2UgNTEyNTpyZXR1cm4gVWludDMyQXJyYXk7Y2FzZSA1MTIxOnJldHVybiBVaW50OENsYW1wZWRBcnJheTtjYXNlIDUxMjA6cmV0dXJuIEludDhBcnJheTtjYXNlIDUxMjI6cmV0dXJuIEludDE2QXJyYXk7Y2FzZSA1MTI0OnJldHVybiBJbnQzMkFycmF5O2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKCJVbmtub3duIEdMIHR5cGUiKX19KHJ8fHN8fDUxMjYpO3RoaXMuc2hhZGVyQXR0cmlidXRlcz17fSx0aGlzLmRvdWJsZVByZWNpc2lvbj1hLGEmJiExPT09bi5mcDY0JiYodT1GbG9hdDMyQXJyYXkpLG4uYnl0ZXNQZXJFbGVtZW50PXUuQllURVNfUEVSX0VMRU1FTlQsdGhpcy5kZWZhdWx0VHlwZT11LHRoaXMudmFsdWU9bnVsbCx0aGlzLnNldHRpbmdzPW4sdGhpcy5zdGF0ZT17ZXh0ZXJuYWxCdWZmZXI6bnVsbCxidWZmZXJBY2Nlc3NvcjpuLGFsbG9jYXRlZFZhbHVlOm51bGwsY29uc3RhbnQ6ITF9LHRoaXMuX2J1ZmZlcj1udWxsLHRoaXMuc2V0RGF0YShuKX1yZXR1cm4gbygpKHQsW3trZXk6ImRlbGV0ZSIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLl9idWZmZXImJih0aGlzLl9idWZmZXIuZGVsZXRlKCksdGhpcy5fYnVmZmVyPW51bGwpLGsuYS5yZWxlYXNlKHRoaXMuc3RhdGUuYWxsb2NhdGVkVmFsdWUpfX0se2tleToiZ2V0U2hhZGVyQXR0cmlidXRlcyIsdmFsdWU6ZnVuY3Rpb24odCxlKXtpZih0aGlzLmRvdWJsZVByZWNpc2lvbil7dmFyIG49e30scj10aGlzLnZhbHVlIGluc3RhbmNlb2YgRmxvYXQ2NEFycmF5LGk9KGE9dGhpcy5nZXRBY2Nlc3NvcigpLHtoaWdoOm89QShhLGV8fHt9KSxsb3c6VCh7fSxvLHtvZmZzZXQ6by5vZmZzZXQrNCphLnNpemV9KX0pO3JldHVybiBuW3RdPW5ldyB3KHRoaXMsaS5oaWdoKSxuWyIiLmNvbmNhdCh0LCI2NExvdyIpXT1yP25ldyB3KHRoaXMsaS5sb3cpOm5ldyBGbG9hdDMyQXJyYXkodGhpcy5zaXplKSxufXZhciBhLG87aWYoZSl7dmFyIHM9QSh0aGlzLmdldEFjY2Vzc29yKCksZSk7cmV0dXJuIHUoKSh7fSx0LG5ldyB3KHRoaXMscykpfXJldHVybiB1KCkoe30sdCx0aGlzKX19LHtrZXk6ImdldEJ1ZmZlciIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zdGF0ZS5jb25zdGFudD9udWxsOnRoaXMuc3RhdGUuZXh0ZXJuYWxCdWZmZXJ8fHRoaXMuX2J1ZmZlcn19LHtrZXk6ImdldFZhbHVlIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnN0YXRlLmNvbnN0YW50P3RoaXMudmFsdWU6W3RoaXMuZ2V0QnVmZmVyKCksdGhpcy5nZXRBY2Nlc3NvcigpXX19LHtrZXk6ImdldEFjY2Vzc29yIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnN0YXRlLmJ1ZmZlckFjY2Vzc29yfX0se2tleToic2V0RGF0YSIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5zdGF0ZTtBcnJheUJ1ZmZlci5pc1ZpZXcodCk/dD17dmFsdWU6dH06dCBpbnN0YW5jZW9mIE8uYSYmKHQ9e2J1ZmZlcjp0fSk7dmFyIG49VCh7fSx0aGlzLnNldHRpbmdzLHt9LHQpO2lmKGUuYnVmZmVyQWNjZXNzb3I9bix0LmNvbnN0YW50KXt2YXIgcj10LnZhbHVlO2lmKHI9dGhpcy5fbm9ybWFsaXplVmFsdWUocixbXSwwKSx0aGlzLnNldHRpbmdzLm5vcm1hbGl6ZWQmJihyPXRoaXMuX25vcm1hbGl6ZUNvbnN0YW50KHIpKSwhKCFlLmNvbnN0YW50fHwhdGhpcy5fYXJlVmFsdWVzRXF1YWwocix0aGlzLnZhbHVlKSkpcmV0dXJuITE7ZS5leHRlcm5hbEJ1ZmZlcj1udWxsLGUuY29uc3RhbnQ9ITAsdGhpcy52YWx1ZT1yfWVsc2UgaWYodC5idWZmZXIpe3ZhciBpPXQuYnVmZmVyO2UuZXh0ZXJuYWxCdWZmZXI9aSxlLmNvbnN0YW50PSExLHRoaXMudmFsdWU9dC52YWx1ZTt2YXIgYT10LnZhbHVlIGluc3RhbmNlb2YgRmxvYXQ2NEFycmF5O24udHlwZT10LnR5cGV8fGkuYWNjZXNzb3IudHlwZSxuLmJ5dGVzUGVyRWxlbWVudD1pLmFjY2Vzc29yLkJZVEVTX1BFUl9FTEVNRU5UKihhPzI6MSksbi5zdHJpZGU9RShuKX1lbHNlIGlmKHQudmFsdWUpe3RoaXMuX2NoZWNrRXh0ZXJuYWxCdWZmZXIodCk7dmFyIG89dC52YWx1ZTtlLmV4dGVybmFsQnVmZmVyPW51bGwsZS5jb25zdGFudD0hMSx0aGlzLnZhbHVlPW8sbi5ieXRlc1BlckVsZW1lbnQ9by5CWVRFU19QRVJfRUxFTUVOVCxuLnN0cmlkZT1FKG4pO3ZhciBzPXRoaXMuYnVmZmVyLHU9dGhpcy5ieXRlT2Zmc2V0O3RoaXMuZG91YmxlUHJlY2lzaW9uJiZvIGluc3RhbmNlb2YgRmxvYXQ2NEFycmF5JiYobz1PYmplY3QoUy5mKShvLG4pKSxzLmJ5dGVMZW5ndGg8by5ieXRlTGVuZ3RoK3UmJnMucmVhbGxvY2F0ZSgyKihvLmJ5dGVMZW5ndGgrdSkpLHMuc2V0QWNjZXNzb3IobnVsbCkscy5zdWJEYXRhKHtkYXRhOm8sb2Zmc2V0OnV9KSxuLnR5cGU9dC50eXBlfHxzLmFjY2Vzc29yLnR5cGV9cmV0dXJuITB9fSx7a2V5OiJ1cGRhdGVTdWJCdWZmZXIiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9LGU9dGhpcy52YWx1ZSxuPXQuc3RhcnRPZmZzZXQscj12b2lkIDA9PT1uPzA6bixpPXQuZW5kT2Zmc2V0O3RoaXMuYnVmZmVyLnN1YkRhdGEoe2RhdGE6dGhpcy5kb3VibGVQcmVjaXNpb24mJmUgaW5zdGFuY2VvZiBGbG9hdDY0QXJyYXk/T2JqZWN0KFMuZikoZSx7c2l6ZTp0aGlzLnNpemUsc3RhcnRJbmRleDpyLGVuZEluZGV4Oml9KTplLnN1YmFycmF5KHIsaSksb2Zmc2V0OnIqZS5CWVRFU19QRVJfRUxFTUVOVCt0aGlzLmJ5dGVPZmZzZXR9KX19LHtrZXk6ImFsbG9jYXRlIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10Lm51bUluc3RhbmNlcyxuPXQuY29weSxyPXZvaWQgMCE9PW4mJm4saT10aGlzLnN0YXRlLGE9aS5hbGxvY2F0ZWRWYWx1ZSxvPWsuYS5hbGxvY2F0ZShhLGUrMSx7c2l6ZTp0aGlzLnNpemUsdHlwZTp0aGlzLmRlZmF1bHRUeXBlLGNvcHk6cn0pO3RoaXMudmFsdWU9bzt2YXIgcz10aGlzLmJ1ZmZlcix1PXRoaXMuYnl0ZU9mZnNldDtyZXR1cm4gcy5ieXRlTGVuZ3RoPG8uYnl0ZUxlbmd0aCt1JiYocy5yZWFsbG9jYXRlKG8uYnl0ZUxlbmd0aCt1KSxyJiZhJiZzLnN1YkRhdGEoe2RhdGE6YSBpbnN0YW5jZW9mIEZsb2F0NjRBcnJheT9PYmplY3QoUy5mKShhLHRoaXMpOmEsb2Zmc2V0OnV9KSksaS5hbGxvY2F0ZWRWYWx1ZT1vLGkuY29uc3RhbnQ9ITEsaS5leHRlcm5hbEJ1ZmZlcj1udWxsLGkuYnVmZmVyQWNjZXNzb3I9dGhpcy5zZXR0aW5ncywhMH19LHtrZXk6Il9jaGVja0V4dGVybmFsQnVmZmVyIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10LnZhbHVlO2lmKCF0LmNvbnN0YW50JiZlKXt2YXIgbj10aGlzLmRlZmF1bHRUeXBlLHI9ITE7aWYodGhpcy5kb3VibGVQcmVjaXNpb24mJihyPWUuQllURVNfUEVSX0VMRU1FTlQ8NCkscil0aHJvdyBuZXcgRXJyb3IoIkF0dHJpYnV0ZSAiLmNvbmNhdCh0aGlzLmlkLCIgZG9lcyBub3Qgc3VwcG9ydCAiKS5jb25jYXQoZS5jb25zdHJ1Y3Rvci5uYW1lKSk7ZSBpbnN0YW5jZW9mIG58fCF0aGlzLnNldHRpbmdzLm5vcm1hbGl6ZWR8fCJub3JtYWxpemVkImluIHR8fFAuYS53YXJuKCJBdHRyaWJ1dGUgIi5jb25jYXQodGhpcy5pZCwiIGlzIG5vcm1hbGl6ZWQiKSkoKX19fSx7a2V5OiJfbm9ybWFsaXplQ29uc3RhbnQiLHZhbHVlOmZ1bmN0aW9uKHQpe3N3aXRjaCh0aGlzLnNldHRpbmdzLnR5cGUpe2Nhc2UgNTEyMDpyZXR1cm4gbmV3IEZsb2F0MzJBcnJheSh0KS5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybih0KzEyOCkvMjU1KjItMX0pKTtjYXNlIDUxMjI6cmV0dXJuIG5ldyBGbG9hdDMyQXJyYXkodCkubWFwKChmdW5jdGlvbih0KXtyZXR1cm4odCszMjc2OCkvNjU1MzUqMi0xfSkpO2Nhc2UgNTEyMTpyZXR1cm4gbmV3IEZsb2F0MzJBcnJheSh0KS5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiB0LzI1NX0pKTtjYXNlIDUxMjM6cmV0dXJuIG5ldyBGbG9hdDMyQXJyYXkodCkubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gdC82NTUzNX0pKTtkZWZhdWx0OnJldHVybiB0fX19LHtrZXk6Il9ub3JtYWxpemVWYWx1ZSIsdmFsdWU6ZnVuY3Rpb24odCxlLG4pe3ZhciByPXRoaXMuc2V0dGluZ3MsaT1yLmRlZmF1bHRWYWx1ZSxhPXIuc2l6ZTtpZihOdW1iZXIuaXNGaW5pdGUodCkpcmV0dXJuIGVbbl09dCxlO2lmKCF0KXJldHVybiBlW25dPWlbMF0sZTtzd2l0Y2goYSl7Y2FzZSA0OmVbbiszXT1OdW1iZXIuaXNGaW5pdGUodFszXSk/dFszXTppWzNdO2Nhc2UgMzplW24rMl09TnVtYmVyLmlzRmluaXRlKHRbMl0pP3RbMl06aVsyXTtjYXNlIDI6ZVtuKzFdPU51bWJlci5pc0Zpbml0ZSh0WzFdKT90WzFdOmlbMV07Y2FzZSAxOmVbbiswXT1OdW1iZXIuaXNGaW5pdGUodFswXSk/dFswXTppWzBdO2JyZWFrO2RlZmF1bHQ6Zm9yKHZhciBvPWE7LS1vPj0wOyllW24rb109TnVtYmVyLmlzRmluaXRlKHRbb10pP3Rbb106aVtvXX1yZXR1cm4gZX19LHtrZXk6Il9hcmVWYWx1ZXNFcXVhbCIsdmFsdWU6ZnVuY3Rpb24odCxlKXtpZighdHx8IWUpcmV0dXJuITE7Zm9yKHZhciBuPXRoaXMuc2l6ZSxyPTA7cjxuO3IrKylpZih0W3JdIT09ZVtyXSlyZXR1cm4hMTtyZXR1cm4hMH19LHtrZXk6ImJ1ZmZlciIsZ2V0OmZ1bmN0aW9uKCl7aWYoIXRoaXMuX2J1ZmZlcil7dmFyIHQ9dGhpcy5zZXR0aW5ncyxlPXQuaXNJbmRleGVkLG49dC50eXBlO3RoaXMuX2J1ZmZlcj1uZXcgTy5hKHRoaXMuZ2wse2lkOnRoaXMuaWQsdGFyZ2V0OmU/MzQ5NjM6MzQ5NjIsYWNjZXNzb3I6e3R5cGU6bn19KX1yZXR1cm4gdGhpcy5fYnVmZmVyfX0se2tleToiYnl0ZU9mZnNldCIsZ2V0OmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5nZXRBY2Nlc3NvcigpO3JldHVybiB0LnZlcnRleE9mZnNldD90LnZlcnRleE9mZnNldCpFKHQpOjB9fV0pLHR9KCksQz1uKDI5KSxMPW4oNjQpLEk9big3NSksUj1bXSxOPVtbMCwxLzBdXTtmdW5jdGlvbiBEKHQsZSl7aWYodD09PU4pcmV0dXJuIHQ7aWYoZVswXTwwJiYoZVswXT0wKSxlWzBdPj1lWzFdKXJldHVybiB0O2Zvcih2YXIgbj1bXSxyPXQubGVuZ3RoLGk9MCxhPTA7YTxyO2ErKyl7dmFyIG89dFthXTtvWzFdPGVbMF0/KG4ucHVzaChvKSxpPWErMSk6b1swXT5lWzFdP24ucHVzaChvKTplPVtNYXRoLm1pbihvWzBdLGVbMF0pLE1hdGgubWF4KG9bMV0sZVsxXSldfXJldHVybiBuLnNwbGljZShpLDAsZSksbn12YXIgRj1uKDU3KSx6PWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUodCl7dmFyIG4scj1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06e307aSgpKHRoaXMsZSksbj1mKCkodGhpcyx2KCkoZSkuY2FsbCh0aGlzLHQscikpO3ZhciBhPXIudHJhbnNpdGlvbixvPXZvaWQgMCE9PWEmJmEscz1yLm5vQWxsb2MsdT12b2lkIDAhPT1zJiZzLGM9ci51cGRhdGUsbD12b2lkIDA9PT1jP251bGw6YyxoPXIuYWNjZXNzb3IsZD12b2lkIDA9PT1oP251bGw6aCxwPXIudHJhbnNmb3JtLGc9dm9pZCAwPT09cD9udWxsOnAseT1yLnN0YXJ0SW5kaWNlcyxtPXZvaWQgMD09PXk/bnVsbDp5O3JldHVybiBPYmplY3QuYXNzaWduKG4uc2V0dGluZ3Mse3RyYW5zaXRpb246byxub0FsbG9jOnUsdXBkYXRlOmx8fGQmJm4uX2F1dG9VcGRhdGVyLGFjY2Vzc29yOmQsdHJhbnNmb3JtOmd9KSxPYmplY3QuYXNzaWduKG4uc3RhdGUse2xhc3RFeHRlcm5hbEJ1ZmZlcjpudWxsLGJpbmFyeVZhbHVlOm51bGwsYmluYXJ5QWNjZXNzb3I6bnVsbCxuZWVkc1VwZGF0ZTohMCxuZWVkc1JlZHJhdzohMSx1cGRhdGVSYW5nZXM6TixzdGFydEluZGljZXM6bX0pLE9iamVjdC5zZWFsKG4uc2V0dGluZ3MpLE9iamVjdC5zZWFsKG4uc3RhdGUpLG4uX3ZhbGlkYXRlQXR0cmlidXRlVXBkYXRlcnMoKSxufXJldHVybiBtKCkoZSx0KSxvKCkoZSxbe2tleToibmVlZHNVcGRhdGUiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc3RhdGUubmVlZHNVcGRhdGV9fSx7a2V5OiJuZWVkc1JlZHJhdyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e30sZT10LmNsZWFyQ2hhbmdlZEZsYWdzLG49dm9pZCAwIT09ZSYmZSxyPXRoaXMuc3RhdGUubmVlZHNSZWRyYXc7cmV0dXJuIHRoaXMuc3RhdGUubmVlZHNSZWRyYXc9ciYmIW4scn19LHtrZXk6ImdldFVwZGF0ZVRyaWdnZXJzIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMuc2V0dGluZ3MuYWNjZXNzb3I7cmV0dXJuW3RoaXMuaWRdLmNvbmNhdCgiZnVuY3Rpb24iIT10eXBlb2YgdCYmdHx8W10pfX0se2tleToic3VwcG9ydHNUcmFuc2l0aW9uIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiBCb29sZWFuKHRoaXMuc2V0dGluZ3MudHJhbnNpdGlvbil9fSx7a2V5OiJnZXRUcmFuc2l0aW9uU2V0dGluZyIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5zZXR0aW5ncy5hY2Nlc3NvcixuPXRoaXMuc2V0dGluZ3MudHJhbnNpdGlvbjtpZighdGhpcy5zdXBwb3J0c1RyYW5zaXRpb24oKSlyZXR1cm4gbnVsbDt2YXIgcj1BcnJheS5pc0FycmF5KGUpP3RbZS5maW5kKChmdW5jdGlvbihlKXtyZXR1cm4gdFtlXX0pKV06dFtlXTtyZXR1cm4gT2JqZWN0KEYuZSkocixuKX19LHtrZXk6InNldE5lZWRzVXBkYXRlIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp0aGlzLmlkLGU9YXJndW1lbnRzLmxlbmd0aD4xP2FyZ3VtZW50c1sxXTp2b2lkIDA7aWYodGhpcy5zdGF0ZS5uZWVkc1VwZGF0ZT10aGlzLnN0YXRlLm5lZWRzVXBkYXRlfHx0LHRoaXMuc2V0TmVlZHNSZWRyYXcodCksZSl7dmFyIG49ZS5zdGFydFJvdyxyPXZvaWQgMD09PW4/MDpuLGk9ZS5lbmRSb3csYT12b2lkIDA9PT1pPzEvMDppO3RoaXMuc3RhdGUudXBkYXRlUmFuZ2VzPUQodGhpcy5zdGF0ZS51cGRhdGVSYW5nZXMsW3IsYV0pfWVsc2UgdGhpcy5zdGF0ZS51cGRhdGVSYW5nZXM9Tn19LHtrZXk6ImNsZWFyTmVlZHNVcGRhdGUiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5zdGF0ZS5uZWVkc1VwZGF0ZT0hMSx0aGlzLnN0YXRlLnVwZGF0ZVJhbmdlcz1SfX0se2tleToic2V0TmVlZHNSZWRyYXciLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnRoaXMuaWQ7dGhpcy5zdGF0ZS5uZWVkc1JlZHJhdz10aGlzLnN0YXRlLm5lZWRzUmVkcmF3fHx0fX0se2tleToidXBkYXRlIix2YWx1ZTpmdW5jdGlvbih0KXt0aGlzLnNldERhdGEodCl9fSx7a2V5OiJhbGxvY2F0ZSIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIG49dGhpcy5zdGF0ZSxyPXRoaXMuc2V0dGluZ3M7cmV0dXJuIXIubm9BbGxvYyYmKCEhci51cGRhdGUmJihPYmplY3QoQy5hKShOdW1iZXIuaXNGaW5pdGUodCkpLGcoKSh2KCkoZS5wcm90b3R5cGUpLCJhbGxvY2F0ZSIsdGhpcykuY2FsbCh0aGlzLHtudW1JbnN0YW5jZXM6dCxjb3B5Om4udXBkYXRlUmFuZ2VzIT09Tn0pLCEwKSl9fSx7a2V5OiJ1cGRhdGVCdWZmZXIiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBuPXQubnVtSW5zdGFuY2VzLHI9dC5kYXRhLGk9dC5wcm9wcyxhPXQuY29udGV4dDtpZighdGhpcy5uZWVkc1VwZGF0ZSgpKXJldHVybiExO3ZhciBvPXRoaXMuc3RhdGUudXBkYXRlUmFuZ2VzLHM9dGhpcy5zZXR0aW5ncyx1PXMudXBkYXRlLGM9cy5ub0FsbG9jLGg9ITA7aWYodSl7dmFyIGY9ITAsZD0hMSxwPXZvaWQgMDt0cnl7Zm9yKHZhciB5LG09b1tTeW1ib2wuaXRlcmF0b3JdKCk7IShmPSh5PW0ubmV4dCgpKS5kb25lKTtmPSEwKXt2YXIgYj1sKCkoeS52YWx1ZSwyKSxfPWJbMF0sTz1iWzFdO3UuY2FsbChhLHRoaXMse2RhdGE6cixzdGFydFJvdzpfLGVuZFJvdzpPLHByb3BzOmksbnVtSW5zdGFuY2VzOm59KX19Y2F0Y2godCl7ZD0hMCxwPXR9ZmluYWxseXt0cnl7Znx8bnVsbD09bS5yZXR1cm58fG0ucmV0dXJuKCl9ZmluYWxseXtpZihkKXRocm93IHB9fWlmKHRoaXMudmFsdWUpaWYodGhpcy5jb25zdGFudHx8dGhpcy5idWZmZXIuYnl0ZUxlbmd0aDx0aGlzLnZhbHVlLmJ5dGVMZW5ndGgrdGhpcy5ieXRlT2Zmc2V0KXRoaXMuc2V0RGF0YSh7dmFsdWU6dGhpcy52YWx1ZSxjb25zdGFudDp0aGlzLmNvbnN0YW50fSk7ZWxzZXt2YXIgeD0hMCx3PSExLGs9dm9pZCAwO3RyeXtmb3IodmFyIFMsUD1vW1N5bWJvbC5pdGVyYXRvcl0oKTshKHg9KFM9UC5uZXh0KCkpLmRvbmUpO3g9ITApe3ZhciBqPWwoKShTLnZhbHVlLDIpLFQ9alswXSxFPWpbMV0sQT1OdW1iZXIuaXNGaW5pdGUoVCk/dGhpcy5nZXRWZXJ0ZXhPZmZzZXQoVCk6MCxNPU51bWJlci5pc0Zpbml0ZShFKT90aGlzLmdldFZlcnRleE9mZnNldChFKTpjfHwhTnVtYmVyLmlzRmluaXRlKG4pP3RoaXMudmFsdWUubGVuZ3RoOm4qdGhpcy5zaXplO2coKSh2KCkoZS5wcm90b3R5cGUpLCJ1cGRhdGVTdWJCdWZmZXIiLHRoaXMpLmNhbGwodGhpcyx7c3RhcnRPZmZzZXQ6QSxlbmRPZmZzZXQ6TX0pfX1jYXRjaCh0KXt3PSEwLGs9dH1maW5hbGx5e3RyeXt4fHxudWxsPT1QLnJldHVybnx8UC5yZXR1cm4oKX1maW5hbGx5e2lmKHcpdGhyb3cga319fWVsc2U7dGhpcy5fY2hlY2tBdHRyaWJ1dGVBcnJheSgpfWVsc2UgaD0hMTtyZXR1cm4gdGhpcy5jbGVhck5lZWRzVXBkYXRlKCksdGhpcy5zZXROZWVkc1JlZHJhdygpLGh9fSx7a2V5OiJzZXRDb25zdGFudFZhbHVlIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdm9pZCAwIT09dCYmImZ1bmN0aW9uIiE9dHlwZW9mIHQmJih0aGlzLnNldERhdGEoe2NvbnN0YW50OiEwLHZhbHVlOnR9KSYmdGhpcy5zZXROZWVkc1JlZHJhdygpLHRoaXMuY2xlYXJOZWVkc1VwZGF0ZSgpLCEwKX19LHtrZXk6InNldEV4dGVybmFsQnVmZmVyIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLnN0YXRlO3JldHVybiB0Pyh0aGlzLmNsZWFyTmVlZHNVcGRhdGUoKSxlLmxhc3RFeHRlcm5hbEJ1ZmZlcj09PXR8fChlLmxhc3RFeHRlcm5hbEJ1ZmZlcj10LHRoaXMuc2V0TmVlZHNSZWRyYXcoKSx0aGlzLnNldERhdGEodCksITApKTooZS5sYXN0RXh0ZXJuYWxCdWZmZXI9bnVsbCwhMSl9fSx7a2V5OiJzZXRCaW5hcnlWYWx1ZSIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOm51bGwsbj10aGlzLnN0YXRlLHI9dGhpcy5zZXR0aW5ncztpZighdClyZXR1cm4gbi5iaW5hcnlWYWx1ZT1udWxsLG4uYmluYXJ5QWNjZXNzb3I9bnVsbCwhMTtpZihyLm5vQWxsb2MpcmV0dXJuITE7aWYobi5iaW5hcnlWYWx1ZT09PXQpcmV0dXJuIHRoaXMuY2xlYXJOZWVkc1VwZGF0ZSgpLCEwO24uYmluYXJ5VmFsdWU9dCx0aGlzLnNldE5lZWRzUmVkcmF3KCksQXJyYXlCdWZmZXIuaXNWaWV3KHQpJiYodD17dmFsdWU6dH0pO3ZhciBpPXIudHJhbnNmb3JtfHxlIT09dGhpcy5zdGFydEluZGljZXM7aWYoaSl7T2JqZWN0KEMuYSkoQXJyYXlCdWZmZXIuaXNWaWV3KHQudmFsdWUpLCJpbnZhbGlkICIuY29uY2F0KHIuYWNjZXNzb3IpKTt2YXIgYT10LnNpemUmJnQuc2l6ZSE9PXRoaXMuc2l6ZTtyZXR1cm4gbi5iaW5hcnlBY2Nlc3Nvcj1PYmplY3QoTC5iKSh0LnZhbHVlLHtzaXplOnQuc2l6ZXx8dGhpcy5zaXplLHN0cmlkZTp0LnN0cmlkZSxvZmZzZXQ6dC5vZmZzZXQsc3RhcnRJbmRpY2VzOmUsbmVzdGVkOmF9KSwhMX1yZXR1cm4gdGhpcy5jbGVhck5lZWRzVXBkYXRlKCksdGhpcy5zZXREYXRhKHQpLCEwfX0se2tleToiZ2V0VmVydGV4T2Zmc2V0Iix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLnN0YXJ0SW5kaWNlcztyZXR1cm4oZT9lW3RdOnQpKnRoaXMuc2l6ZX19LHtrZXk6ImdldFNoYWRlckF0dHJpYnV0ZXMiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5zZXR0aW5ncy5zaGFkZXJBdHRyaWJ1dGVzfHx1KCkoe30sdGhpcy5pZCxudWxsKSxuPXt9O2Zvcih2YXIgciBpbiB0KU9iamVjdC5hc3NpZ24obixnKCkodigpKGUucHJvdG90eXBlKSwiZ2V0U2hhZGVyQXR0cmlidXRlcyIsdGhpcykuY2FsbCh0aGlzLHIsdFtyXSkpO3JldHVybiBufX0se2tleToiX2F1dG9VcGRhdGVyIix2YWx1ZTpmdW5jdGlvbih0LGUpe3ZhciBuPWUuZGF0YSxyPWUuc3RhcnRSb3csaT1lLmVuZFJvdyxhPWUucHJvcHMsbz1lLm51bUluc3RhbmNlcyxzPXQuc2V0dGluZ3MsdT10LnN0YXRlLGM9dC52YWx1ZSxsPXQuc2l6ZSxoPXQuc3RhcnRJbmRpY2VzLGY9cy5hY2Nlc3NvcixkPXMudHJhbnNmb3JtLHY9dS5iaW5hcnlBY2Nlc3Nvcnx8KCJmdW5jdGlvbiI9PXR5cGVvZiBmP2Y6YVtmXSk7T2JqZWN0KEMuYSkoImZ1bmN0aW9uIj09dHlwZW9mIHYsJ2FjY2Vzc29yICInLmNvbmNhdChmLCciIGlzIG5vdCBhIGZ1bmN0aW9uJykpO3ZhciBwPXQuZ2V0VmVydGV4T2Zmc2V0KHIpLGc9T2JqZWN0KEwuYSkobixyLGkpLHk9Zy5pdGVyYWJsZSxtPWcub2JqZWN0SW5mbyxiPSEwLF89ITEsTz12b2lkIDA7dHJ5e2Zvcih2YXIgeCx3PXlbU3ltYm9sLml0ZXJhdG9yXSgpOyEoYj0oeD13Lm5leHQoKSkuZG9uZSk7Yj0hMCl7dmFyIGs9eC52YWx1ZTttLmluZGV4Kys7dmFyIFM9dihrLG0pO2lmKGQmJihTPWQuY2FsbCh0aGlzLFMpKSxoKXt2YXIgUD0oaFttLmluZGV4KzFdfHxvKS1oW20uaW5kZXhdO2lmKFMmJkFycmF5LmlzQXJyYXkoU1swXSkpe3ZhciBqPXAsVD0hMCxFPSExLEE9dm9pZCAwO3RyeXtmb3IodmFyIE0sUj1TW1N5bWJvbC5pdGVyYXRvcl0oKTshKFQ9KE09Ui5uZXh0KCkpLmRvbmUpO1Q9ITApe3ZhciBOPU0udmFsdWU7dC5fbm9ybWFsaXplVmFsdWUoTixjLGopLGorPWx9fWNhdGNoKHQpe0U9ITAsQT10fWZpbmFsbHl7dHJ5e1R8fG51bGw9PVIucmV0dXJufHxSLnJldHVybigpfWZpbmFsbHl7aWYoRSl0aHJvdyBBfX19ZWxzZSBTJiZTLmxlbmd0aD5sP2Muc2V0KFMscCk6KHQuX25vcm1hbGl6ZVZhbHVlKFMsbS50YXJnZXQsMCksT2JqZWN0KEkuYSkoe3RhcmdldDpjLHNvdXJjZTptLnRhcmdldCxzdGFydDpwLGNvdW50OlB9KSk7cCs9UCpsfWVsc2UgdC5fbm9ybWFsaXplVmFsdWUoUyxjLHApLHArPWx9fWNhdGNoKHQpe189ITAsTz10fWZpbmFsbHl7dHJ5e2J8fG51bGw9PXcucmV0dXJufHx3LnJldHVybigpfWZpbmFsbHl7aWYoXyl0aHJvdyBPfX10LmNvbnN0YW50PSExfX0se2tleToiX3ZhbGlkYXRlQXR0cmlidXRlVXBkYXRlcnMiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5zZXR0aW5ncztpZighKHQubm9BbGxvY3x8ImZ1bmN0aW9uIj09dHlwZW9mIHQudXBkYXRlKSl0aHJvdyBuZXcgRXJyb3IoIkF0dHJpYnV0ZSAiLmNvbmNhdCh0aGlzLmlkLCIgbWlzc2luZyB1cGRhdGUgb3IgYWNjZXNzb3IiKSl9fSx7a2V5OiJfY2hlY2tBdHRyaWJ1dGVBcnJheSIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnZhbHVlLGU9TWF0aC5taW4oNCx0aGlzLnNpemUpO2lmKHQmJnQubGVuZ3RoPj1lKXt2YXIgbj0hMDtzd2l0Y2goZSl7Y2FzZSA0Om49biYmTnVtYmVyLmlzRmluaXRlKHRbM10pO2Nhc2UgMzpuPW4mJk51bWJlci5pc0Zpbml0ZSh0WzJdKTtjYXNlIDI6bj1uJiZOdW1iZXIuaXNGaW5pdGUodFsxXSk7Y2FzZSAxOm49biYmTnVtYmVyLmlzRmluaXRlKHRbMF0pO2JyZWFrO2RlZmF1bHQ6bj0hMX1pZighbil0aHJvdyBuZXcgRXJyb3IoIklsbGVnYWwgYXR0cmlidXRlIGdlbmVyYXRlZCBmb3IgIi5jb25jYXQodGhpcy5pZCkpfX19LHtrZXk6InN0YXJ0SW5kaWNlcyIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc3RhdGUuc3RhcnRJbmRpY2VzfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5zdGF0ZS5zdGFydEluZGljZXM9dH19XSksZX0oTSksQj1uKDQ1KSxVPW4oMjkxKSxWPW4oODUpO2Z1bmN0aW9uIEcodCxlKXt2YXIgbj1PYmplY3Qua2V5cyh0KTtpZihPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgcj1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHQpO2UmJihyPXIuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0LGUpLmVudW1lcmFibGV9KSkpLG4ucHVzaC5hcHBseShuLHIpfXJldHVybiBufWZ1bmN0aW9uIFcodCl7Zm9yKHZhciBlPTE7ZTxhcmd1bWVudHMubGVuZ3RoO2UrKyl7dmFyIG49bnVsbCE9YXJndW1lbnRzW2VdP2FyZ3VtZW50c1tlXTp7fTtlJTI/RyhPYmplY3QobiksITApLmZvckVhY2goKGZ1bmN0aW9uKGUpe3UoKSh0LGUsbltlXSl9KSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXModCxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhuKSk6RyhPYmplY3QobikpLmZvckVhY2goKGZ1bmN0aW9uKGUpe09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LGUsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihuLGUpKX0pKX1yZXR1cm4gdH12YXIgSD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSl7dmFyIG49ZS5nbCxyPWUuYXR0cmlidXRlLGE9ZS50aW1lbGluZTtpKCkodGhpcyx0KSx0aGlzLmdsPW4sdGhpcy50eXBlPSJpbnRlcnBvbGF0aW9uIix0aGlzLnRyYW5zaXRpb249bmV3IFYuYShhKSx0aGlzLmF0dHJpYnV0ZT1yLHRoaXMuYXR0cmlidXRlSW5UcmFuc2l0aW9uPW5ldyB6KG4sci5zZXR0aW5ncyksdGhpcy5jdXJyZW50U3RhcnRJbmRpY2VzPXIuc3RhcnRJbmRpY2VzLHRoaXMuY3VycmVudExlbmd0aD0wLHRoaXMudHJhbnNmb3JtPWZ1bmN0aW9uKHQsZSl7dmFyIG49T2JqZWN0KEYuYykoZS5zaXplKTtyZXR1cm4gbmV3IFUuYSh0LHt2czoiXG4jZGVmaW5lIFNIQURFUl9OQU1FIGludGVycG9sYXRpb24tdHJhbnNpdGlvbi12ZXJ0ZXgtc2hhZGVyXG5cbnVuaWZvcm0gZmxvYXQgdGltZTtcbmF0dHJpYnV0ZSBBVFRSSUJVVEVfVFlQRSBhRnJvbTtcbmF0dHJpYnV0ZSBBVFRSSUJVVEVfVFlQRSBhVG87XG52YXJ5aW5nIEFUVFJJQlVURV9UWVBFIHZDdXJyZW50O1xuXG52b2lkIG1haW4odm9pZCkge1xuICB2Q3VycmVudCA9IG1peChhRnJvbSwgYVRvLCB0aW1lKTtcbiAgZ2xfUG9zaXRpb24gPSB2ZWM0KDAuMCk7XG59XG4iLGRlZmluZXM6e0FUVFJJQlVURV9UWVBFOm59LHZhcnlpbmdzOlsidkN1cnJlbnQiXX0pfShuLHIpO3ZhciBvPXtieXRlTGVuZ3RoOjAsdXNhZ2U6MzUwNTB9O3RoaXMuYnVmZmVycz1bbmV3IE8uYShuLG8pLG5ldyBPLmEobixvKV19cmV0dXJuIG8oKSh0LFt7a2V5OiJzdGFydCIsdmFsdWU6ZnVuY3Rpb24odCxlKXtpZih0LmR1cmF0aW9uPD0wKXRoaXMudHJhbnNpdGlvbi5jYW5jZWwoKTtlbHNle3ZhciBuPXRoaXMuZ2wscj10aGlzLmJ1ZmZlcnMsaT10aGlzLmF0dHJpYnV0ZTtPYmplY3QoRi5hKShyKTt2YXIgYT17bnVtSW5zdGFuY2VzOmUsYXR0cmlidXRlOmksZnJvbUxlbmd0aDp0aGlzLmN1cnJlbnRMZW5ndGgsZnJvbVN0YXJ0SW5kaWNlczp0aGlzLmN1cnJlbnRTdGFydEluZGljZXMsZ2V0RGF0YTp0LmVudGVyfSxvPSEwLHM9ITEsdT12b2lkIDA7dHJ5e2Zvcih2YXIgYyxsPXJbU3ltYm9sLml0ZXJhdG9yXSgpOyEobz0oYz1sLm5leHQoKSkuZG9uZSk7bz0hMCl7dmFyIGg9Yy52YWx1ZTtPYmplY3QoRi5mKShXKHtidWZmZXI6aH0sYSkpfX1jYXRjaCh0KXtzPSEwLHU9dH1maW5hbGx5e3RyeXtvfHxudWxsPT1sLnJldHVybnx8bC5yZXR1cm4oKX1maW5hbGx5e2lmKHMpdGhyb3cgdX19dGhpcy5jdXJyZW50U3RhcnRJbmRpY2VzPWkuc3RhcnRJbmRpY2VzLHRoaXMuY3VycmVudExlbmd0aD1PYmplY3QoRi5iKShpLGUpLHRoaXMuYXR0cmlidXRlSW5UcmFuc2l0aW9uLnVwZGF0ZSh7YnVmZmVyOnJbMV0sdmFsdWU6aS52YWx1ZX0pLHRoaXMudHJhbnNpdGlvbi5zdGFydCh0KSx0aGlzLnRyYW5zZm9ybS51cGRhdGUoe2VsZW1lbnRDb3VudDpNYXRoLmZsb29yKHRoaXMuY3VycmVudExlbmd0aC9pLnNpemUpLHNvdXJjZUJ1ZmZlcnM6e2FGcm9tOnJbMF0sYVRvOk9iamVjdChGLmQpKG4saSl9LGZlZWRiYWNrQnVmZmVyczp7dkN1cnJlbnQ6clsxXX19KX19fSx7a2V5OiJ1cGRhdGUiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy50cmFuc2l0aW9uLnVwZGF0ZSgpO2lmKHQpe3ZhciBlPXRoaXMudHJhbnNpdGlvbixuPWUudGltZSxyPWUuc2V0dGluZ3MsaT1yLmR1cmF0aW9uLGE9KDAsci5lYXNpbmcpKG4vaSk7dGhpcy50cmFuc2Zvcm0ucnVuKHt1bmlmb3Jtczp7dGltZTphfX0pfXJldHVybiB0fX0se2tleToiY2FuY2VsIix2YWx1ZTpmdW5jdGlvbigpe2Zvcih0aGlzLnRyYW5zaXRpb24uY2FuY2VsKCksdGhpcy50cmFuc2Zvcm0uZGVsZXRlKCk7dGhpcy5idWZmZXJzLmxlbmd0aDspdGhpcy5idWZmZXJzLnBvcCgpLmRlbGV0ZSgpfX0se2tleToiaW5Qcm9ncmVzcyIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudHJhbnNpdGlvbi5pblByb2dyZXNzfX1dKSx0fSgpO3ZhciBxPW4oMTkxKSxYPW4oMTI3KSxaPW4oODIpO2Z1bmN0aW9uIFkodCxlKXt2YXIgbj1PYmplY3Qua2V5cyh0KTtpZihPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgcj1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHQpO2UmJihyPXIuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0LGUpLmVudW1lcmFibGV9KSkpLG4ucHVzaC5hcHBseShuLHIpfXJldHVybiBufWZ1bmN0aW9uIEsodCl7Zm9yKHZhciBlPTE7ZTxhcmd1bWVudHMubGVuZ3RoO2UrKyl7dmFyIG49bnVsbCE9YXJndW1lbnRzW2VdP2FyZ3VtZW50c1tlXTp7fTtlJTI/WShPYmplY3QobiksITApLmZvckVhY2goKGZ1bmN0aW9uKGUpe3UoKSh0LGUsbltlXSl9KSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXModCxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhuKSk6WShPYmplY3QobikpLmZvckVhY2goKGZ1bmN0aW9uKGUpe09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LGUsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihuLGUpKX0pKX1yZXR1cm4gdH12YXIgUT17aW50ZXJwb2xhdGlvbjpILHNwcmluZzpmdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSl7dmFyIG49ZS5nbCxyPWUuYXR0cmlidXRlLGE9ZS50aW1lbGluZTtpKCkodGhpcyx0KSx0aGlzLmdsPW4sdGhpcy50eXBlPSJzcHJpbmciLHRoaXMudHJhbnNpdGlvbj1uZXcgVi5hKGEpLHRoaXMuYXR0cmlidXRlPXIsdGhpcy5hdHRyaWJ1dGVJblRyYW5zaXRpb249bmV3IHoobixPYmplY3QuYXNzaWduKHt9LHIuc2V0dGluZ3Mse25vcm1hbGl6ZWQ6ITF9KSksdGhpcy5jdXJyZW50U3RhcnRJbmRpY2VzPXIuc3RhcnRJbmRpY2VzLHRoaXMuY3VycmVudExlbmd0aD0wLHRoaXMudGV4dHVyZT1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IFguYSh0LHtkYXRhOm5ldyBVaW50OEFycmF5KDQpLGZvcm1hdDo2NDA4LHR5cGU6NTEyMSxib3JkZXI6MCxtaXBtYXBzOiExLGRhdGFGb3JtYXQ6NjQwOCx3aWR0aDoxLGhlaWdodDoxfSl9KG4pLHRoaXMuZnJhbWVidWZmZXI9ZnVuY3Rpb24odCxlKXtyZXR1cm4gbmV3IFouYSh0LHtpZDoic3ByaW5nLXRyYW5zaXRpb24taXMtdHJhbnNpdGlvbmluZy1mcmFtZWJ1ZmZlciIsd2lkdGg6MSxoZWlnaHQ6MSxhdHRhY2htZW50czp1KCkoe30sMzYwNjQsZSl9KX0obix0aGlzLnRleHR1cmUpLHRoaXMudHJhbnNmb3JtPWZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1PYmplY3QoRi5jKShlLnNpemUpO3JldHVybiBuZXcgVS5hKHQse2ZyYW1lYnVmZmVyOm4sdnM6IlxuI2RlZmluZSBTSEFERVJfTkFNRSBzcHJpbmctdHJhbnNpdGlvbi12ZXJ0ZXgtc2hhZGVyXG5cbiNkZWZpbmUgRVBTSUxPTiAwLjAwMDAxXG5cbnVuaWZvcm0gZmxvYXQgc3RpZmZuZXNzO1xudW5pZm9ybSBmbG9hdCBkYW1waW5nO1xuYXR0cmlidXRlIEFUVFJJQlVURV9UWVBFIGFQcmV2O1xuYXR0cmlidXRlIEFUVFJJQlVURV9UWVBFIGFDdXI7XG5hdHRyaWJ1dGUgQVRUUklCVVRFX1RZUEUgYVRvO1xudmFyeWluZyBBVFRSSUJVVEVfVFlQRSB2TmV4dDtcbnZhcnlpbmcgZmxvYXQgdklzVHJhbnNpdGlvbmluZ0ZsYWc7XG5cbkFUVFJJQlVURV9UWVBFIGdldE5leHRWYWx1ZShBVFRSSUJVVEVfVFlQRSBjdXIsIEFUVFJJQlVURV9UWVBFIHByZXYsIEFUVFJJQlVURV9UWVBFIGRlc3QpIHtcbiAgQVRUUklCVVRFX1RZUEUgdmVsb2NpdHkgPSBjdXIgLSBwcmV2O1xuICBBVFRSSUJVVEVfVFlQRSBkZWx0YSA9IGRlc3QgLSBjdXI7XG4gIEFUVFJJQlVURV9UWVBFIHNwcmluZyA9IGRlbHRhICogc3RpZmZuZXNzO1xuICBBVFRSSUJVVEVfVFlQRSBkYW1wZXIgPSB2ZWxvY2l0eSAqIC0xLjAgKiBkYW1waW5nO1xuICByZXR1cm4gc3ByaW5nICsgZGFtcGVyICsgdmVsb2NpdHkgKyBjdXI7XG59XG5cbnZvaWQgbWFpbih2b2lkKSB7XG4gIGJvb2wgaXNUcmFuc2l0aW9uaW5nID0gbGVuZ3RoKGFDdXIgLSBhUHJldikgPiBFUFNJTE9OIHx8IGxlbmd0aChhVG8gLSBhQ3VyKSA+IEVQU0lMT047XG4gIHZJc1RyYW5zaXRpb25pbmdGbGFnID0gaXNUcmFuc2l0aW9uaW5nID8gMS4wIDogMC4wO1xuXG4gIHZOZXh0ID0gZ2V0TmV4dFZhbHVlKGFDdXIsIGFQcmV2LCBhVG8pO1xuICBnbF9Qb3NpdGlvbiA9IHZlYzQoMCwgMCwgMCwgMSk7XG4gIGdsX1BvaW50U2l6ZSA9IDEwMC4wO1xufVxuIixmczoiXG4jZGVmaW5lIFNIQURFUl9OQU1FIHNwcmluZy10cmFuc2l0aW9uLWlzLXRyYW5zaXRpb25pbmctZnJhZ21lbnQtc2hhZGVyXG5cbnZhcnlpbmcgZmxvYXQgdklzVHJhbnNpdGlvbmluZ0ZsYWc7XG5cbnZvaWQgbWFpbih2b2lkKSB7XG4gIGlmICh2SXNUcmFuc2l0aW9uaW5nRmxhZyA9PSAwLjApIHtcbiAgICBkaXNjYXJkO1xuICB9XG4gIGdsX0ZyYWdDb2xvciA9IHZlYzQoMS4wKTtcbn0iLGRlZmluZXM6e0FUVFJJQlVURV9UWVBFOnJ9LHZhcnlpbmdzOlsidk5leHQiXX0pfShuLHIsdGhpcy5mcmFtZWJ1ZmZlcik7dmFyIG89e2J5dGVMZW5ndGg6MCx1c2FnZTozNTA1MH07dGhpcy5idWZmZXJzPVtuZXcgTy5hKG4sbyksbmV3IE8uYShuLG8pLG5ldyBPLmEobixvKV19cmV0dXJuIG8oKSh0LFt7a2V5OiJzdGFydCIsdmFsdWU6ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLmdsLHI9dGhpcy5idWZmZXJzLGk9dGhpcy5hdHRyaWJ1dGUsYT17bnVtSW5zdGFuY2VzOmUsYXR0cmlidXRlOmksZnJvbUxlbmd0aDp0aGlzLmN1cnJlbnRMZW5ndGgsZnJvbVN0YXJ0SW5kaWNlczp0aGlzLmN1cnJlbnRTdGFydEluZGljZXMsZ2V0RGF0YTp0LmVudGVyfSxvPSEwLHM9ITEsdT12b2lkIDA7dHJ5e2Zvcih2YXIgYyxsPXJbU3ltYm9sLml0ZXJhdG9yXSgpOyEobz0oYz1sLm5leHQoKSkuZG9uZSk7bz0hMCl7dmFyIGg9Yy52YWx1ZTtPYmplY3QoRi5mKShLKHtidWZmZXI6aH0sYSkpfX1jYXRjaCh0KXtzPSEwLHU9dH1maW5hbGx5e3RyeXtvfHxudWxsPT1sLnJldHVybnx8bC5yZXR1cm4oKX1maW5hbGx5e2lmKHMpdGhyb3cgdX19dGhpcy5jdXJyZW50U3RhcnRJbmRpY2VzPWkuc3RhcnRJbmRpY2VzLHRoaXMuY3VycmVudExlbmd0aD1PYmplY3QoRi5iKShpLGUpLHRoaXMuYXR0cmlidXRlSW5UcmFuc2l0aW9uLnVwZGF0ZSh7YnVmZmVyOnJbMV0sdmFsdWU6aS52YWx1ZX0pLHRoaXMudHJhbnNpdGlvbi5zdGFydCh0KSx0aGlzLnRyYW5zZm9ybS51cGRhdGUoe2VsZW1lbnRDb3VudDpNYXRoLmZsb29yKHRoaXMuY3VycmVudExlbmd0aC9pLnNpemUpLHNvdXJjZUJ1ZmZlcnM6e2FUbzpPYmplY3QoRi5kKShuLGkpfX0pfX0se2tleToidXBkYXRlIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMuYnVmZmVycyxlPXRoaXMudHJhbnNmb3JtLG49dGhpcy5mcmFtZWJ1ZmZlcixyPXRoaXMudHJhbnNpdGlvbjtyZXR1cm4hIXIudXBkYXRlKCkmJihlLnVwZGF0ZSh7c291cmNlQnVmZmVyczp7YVByZXY6dFswXSxhQ3VyOnRbMV19LGZlZWRiYWNrQnVmZmVyczp7dk5leHQ6dFsyXX19KSxlLnJ1bih7ZnJhbWVidWZmZXI6bixkaXNjYXJkOiExLGNsZWFyUmVuZGVyVGFyZ2V0OiEwLHVuaWZvcm1zOntzdGlmZm5lc3M6ci5zZXR0aW5ncy5zdGlmZm5lc3MsZGFtcGluZzpyLnNldHRpbmdzLmRhbXBpbmd9LHBhcmFtZXRlcnM6e2RlcHRoVGVzdDohMSxibGVuZDohMCx2aWV3cG9ydDpbMCwwLDEsMV0sYmxlbmRGdW5jOlsxLDFdLGJsZW5kRXF1YXRpb246WzMyNzc2LDMyNzc2XX19KSxPYmplY3QoRi5hKSh0KSx0aGlzLmF0dHJpYnV0ZUluVHJhbnNpdGlvbi51cGRhdGUoe2J1ZmZlcjp0WzFdLHZhbHVlOnRoaXMuYXR0cmlidXRlLnZhbHVlfSksT2JqZWN0KHEuYykobilbMF0+MHx8ci5lbmQoKSwhMCl9fSx7a2V5OiJjYW5jZWwiLHZhbHVlOmZ1bmN0aW9uKCl7Zm9yKHRoaXMudHJhbnNpdGlvbi5jYW5jZWwoKSx0aGlzLnRyYW5zZm9ybS5kZWxldGUoKTt0aGlzLmJ1ZmZlcnMubGVuZ3RoOyl0aGlzLmJ1ZmZlcnMucG9wKCkuZGVsZXRlKCk7dGhpcy50ZXh0dXJlLmRlbGV0ZSgpLHRoaXMudGV4dHVyZT1udWxsLHRoaXMuZnJhbWVidWZmZXIuZGVsZXRlKCksdGhpcy5mcmFtZWJ1ZmZlcj1udWxsfX0se2tleToiaW5Qcm9ncmVzcyIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudHJhbnNpdGlvbi5pblByb2dyZXNzfX1dKSx0fSgpfSxKPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlLG4pe3ZhciByPW4uaWQsYT1uLnRpbWVsaW5lO2koKSh0aGlzLHQpLHRoaXMuaWQ9cix0aGlzLmdsPWUsdGhpcy50aW1lbGluZT1hLHRoaXMudHJhbnNpdGlvbnM9e30sdGhpcy5uZWVkc1JlZHJhdz0hMSx0aGlzLm51bUluc3RhbmNlcz0xLFUuYS5pc1N1cHBvcnRlZChlKT90aGlzLmlzU3VwcG9ydGVkPSEwOmUmJlAuYS53YXJuKCJXZWJHTDIgbm90IHN1cHBvcnRlZCBieSB0aGlzIGJyb3dzZXIuIFRyYW5zaXRpb24gYW5pbWF0aW9uIGlzIGRpc2FibGVkLiIpKCl9cmV0dXJuIG8oKSh0LFt7a2V5OiJmaW5hbGl6ZSIsdmFsdWU6ZnVuY3Rpb24oKXtmb3IodmFyIHQgaW4gdGhpcy50cmFuc2l0aW9ucyl0aGlzLl9yZW1vdmVUcmFuc2l0aW9uKHQpfX0se2tleToidXBkYXRlIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10LmF0dHJpYnV0ZXMsbj10LnRyYW5zaXRpb25zLHI9dm9pZCAwPT09bj97fTpuLGk9dC5udW1JbnN0YW5jZXM7aWYodGhpcy5udW1JbnN0YW5jZXM9aXx8MSx0aGlzLmlzU3VwcG9ydGVkKXtmb3IodmFyIGEgaW4gZSl7dmFyIG89ZVthXSxzPW8uZ2V0VHJhbnNpdGlvblNldHRpbmcocik7cyYmdGhpcy5fdXBkYXRlQXR0cmlidXRlKGEsbyxzKX1mb3IodmFyIHUgaW4gdGhpcy50cmFuc2l0aW9ucyl7dmFyIGM9ZVt1XTtjJiZjLmdldFRyYW5zaXRpb25TZXR0aW5nKHIpfHx0aGlzLl9yZW1vdmVUcmFuc2l0aW9uKHUpfX19fSx7a2V5OiJoYXNBdHRyaWJ1dGUiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMudHJhbnNpdGlvbnNbdF07cmV0dXJuIGUmJmUuaW5Qcm9ncmVzc319LHtrZXk6ImdldEF0dHJpYnV0ZXMiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9e307Zm9yKHZhciBlIGluIHRoaXMudHJhbnNpdGlvbnMpe3ZhciBuPXRoaXMudHJhbnNpdGlvbnNbZV07bi5pblByb2dyZXNzJiYodFtlXT1uLmF0dHJpYnV0ZUluVHJhbnNpdGlvbil9cmV0dXJuIHR9fSx7a2V5OiJydW4iLHZhbHVlOmZ1bmN0aW9uKCl7aWYoIXRoaXMuaXNTdXBwb3J0ZWR8fDA9PT10aGlzLm51bUluc3RhbmNlcylyZXR1cm4hMTtmb3IodmFyIHQgaW4gdGhpcy50cmFuc2l0aW9ucyl7dGhpcy50cmFuc2l0aW9uc1t0XS51cGRhdGUoKSYmKHRoaXMubmVlZHNSZWRyYXc9ITApfXZhciBlPXRoaXMubmVlZHNSZWRyYXc7cmV0dXJuIHRoaXMubmVlZHNSZWRyYXc9ITEsZX19LHtrZXk6Il9yZW1vdmVUcmFuc2l0aW9uIix2YWx1ZTpmdW5jdGlvbih0KXt0aGlzLnRyYW5zaXRpb25zW3RdLmNhbmNlbCgpLGRlbGV0ZSB0aGlzLnRyYW5zaXRpb25zW3RdfX0se2tleToiX3VwZGF0ZUF0dHJpYnV0ZSIsdmFsdWU6ZnVuY3Rpb24odCxlLG4pe3ZhciByPXRoaXMudHJhbnNpdGlvbnNbdF0saT0hcnx8ci50eXBlIT09bi50eXBlO2lmKGkpe3ImJnRoaXMuX3JlbW92ZVRyYW5zaXRpb24odCk7dmFyIGE9UVtuLnR5cGVdO2E/dGhpcy50cmFuc2l0aW9uc1t0XT1uZXcgYSh7YXR0cmlidXRlOmUsdGltZWxpbmU6dGhpcy50aW1lbGluZSxnbDp0aGlzLmdsfSk6KFAuYS5lcnJvcigidW5zdXBwb3J0ZWQgdHJhbnNpdGlvbiB0eXBlICciLmNvbmNhdChuLnR5cGUsIiciKSkoKSxpPSExKX0oaXx8ZS5uZWVkc1JlZHJhdygpKSYmKHRoaXMubmVlZHNSZWRyYXc9ITAsdGhpcy50cmFuc2l0aW9uc1t0XS5zdGFydChuLHRoaXMubnVtSW5zdGFuY2VzKSl9fV0pLHR9KCk7bi5kKGUsImEiLChmdW5jdGlvbigpe3JldHVybiAkfSkpO3ZhciAkPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlKXt2YXIgbj1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06e30scj1uLmlkLGE9dm9pZCAwPT09cj8iYXR0cmlidXRlLW1hbmFnZXIiOnIsbz1uLnN0YXRzLHM9bi50aW1lbGluZTtpKCkodGhpcyx0KSx0aGlzLmlkPWEsdGhpcy5nbD1lLHRoaXMuYXR0cmlidXRlcz17fSx0aGlzLnVwZGF0ZVRyaWdnZXJzPXt9LHRoaXMuYWNjZXNzb3JzPXt9LHRoaXMubmVlZHNSZWRyYXc9ITAsdGhpcy51c2VyRGF0YT17fSx0aGlzLnN0YXRzPW8sdGhpcy5hdHRyaWJ1dGVUcmFuc2l0aW9uTWFuYWdlcj1uZXcgSihlLHtpZDoiIi5jb25jYXQoYSwiLXRyYW5zaXRpb25zIiksdGltZWxpbmU6c30pLE9iamVjdC5zZWFsKHRoaXMpfXJldHVybiBvKCkodCxbe2tleToiZmluYWxpemUiLHZhbHVlOmZ1bmN0aW9uKCl7Zm9yKHZhciB0IGluIHRoaXMuYXR0cmlidXRlcyl0aGlzLmF0dHJpYnV0ZXNbdF0uZGVsZXRlKCk7dGhpcy5hdHRyaWJ1dGVUcmFuc2l0aW9uTWFuYWdlci5maW5hbGl6ZSgpfX0se2tleToiZ2V0TmVlZHNSZWRyYXciLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOntjbGVhclJlZHJhd0ZsYWdzOiExfSxlPXRoaXMubmVlZHNSZWRyYXc7cmV0dXJuIHRoaXMubmVlZHNSZWRyYXc9dGhpcy5uZWVkc1JlZHJhdyYmIXQuY2xlYXJSZWRyYXdGbGFncyxlJiZ0aGlzLmlkfX0se2tleToic2V0TmVlZHNSZWRyYXciLHZhbHVlOmZ1bmN0aW9uKCl7IShhcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXSl8fGFyZ3VtZW50c1swXTtyZXR1cm4gdGhpcy5uZWVkc1JlZHJhdz0hMCx0aGlzfX0se2tleToiYWRkIix2YWx1ZTpmdW5jdGlvbih0LGUpe3RoaXMuX2FkZCh0LGUpfX0se2tleToiYWRkSW5zdGFuY2VkIix2YWx1ZTpmdW5jdGlvbih0LGUpe3RoaXMuX2FkZCh0LGUse2luc3RhbmNlZDoxfSl9fSx7a2V5OiJyZW1vdmUiLHZhbHVlOmZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0wO2U8dC5sZW5ndGg7ZSsrKXt2YXIgbj10W2VdO3ZvaWQgMCE9PXRoaXMuYXR0cmlidXRlc1tuXSYmKHRoaXMuYXR0cmlidXRlc1tuXS5kZWxldGUoKSxkZWxldGUgdGhpcy5hdHRyaWJ1dGVzW25dKX19fSx7a2V5OiJpbnZhbGlkYXRlIix2YWx1ZTpmdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMuX2ludmFsaWRhdGVUcmlnZ2VyKHQsZSk7T2JqZWN0KEIuYSkoImF0dHJpYnV0ZU1hbmFnZXIuaW52YWxpZGF0ZSIsdGhpcyx0LG4pfX0se2tleToiaW52YWxpZGF0ZUFsbCIsdmFsdWU6ZnVuY3Rpb24odCl7Zm9yKHZhciBlIGluIHRoaXMuYXR0cmlidXRlcyl0aGlzLmF0dHJpYnV0ZXNbZV0uc2V0TmVlZHNVcGRhdGUoZSx0KTtPYmplY3QoQi5hKSgiYXR0cmlidXRlTWFuYWdlci5pbnZhbGlkYXRlIix0aGlzLCJhbGwiKX19LHtrZXk6InVwZGF0ZSIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e30sZT10LmRhdGEsbj10Lm51bUluc3RhbmNlcyxyPXQuc3RhcnRJbmRpY2VzLGk9dm9pZCAwPT09cj9udWxsOnIsYT10LnRyYW5zaXRpb25zLG89dC5wcm9wcyxzPXZvaWQgMD09PW8/e306byx1PXQuYnVmZmVycyxjPXZvaWQgMD09PXU/e306dSxsPXQuY29udGV4dCxoPXZvaWQgMD09PWw/e306bCxmPSExO2Zvcih2YXIgZCBpbiBPYmplY3QoQi5hKSgiYXR0cmlidXRlTWFuYWdlci51cGRhdGVTdGFydCIsdGhpcyksdGhpcy5zdGF0cyYmdGhpcy5zdGF0cy5nZXQoIlVwZGF0ZSBBdHRyaWJ1dGVzIikudGltZVN0YXJ0KCksdGhpcy5hdHRyaWJ1dGVzKXt2YXIgdj10aGlzLmF0dHJpYnV0ZXNbZF0scD12LnNldHRpbmdzLmFjY2Vzc29yO3Yuc3RhcnRJbmRpY2VzPWksc1tkXSYmUC5hLnJlbW92ZWQoInByb3BzLiIuY29uY2F0KGQpLCJkYXRhLmF0dHJpYnV0ZXMuIi5jb25jYXQoZCkpKCksdi5zZXRFeHRlcm5hbEJ1ZmZlcihjW2RdKXx8di5zZXRCaW5hcnlWYWx1ZShjW3BdLGUuc3RhcnRJbmRpY2VzKXx8IWNbcF0mJnYuc2V0Q29uc3RhbnRWYWx1ZShzW3BdKXx8di5uZWVkc1VwZGF0ZSgpJiYoZj0hMCx0aGlzLl91cGRhdGVBdHRyaWJ1dGUoe2F0dHJpYnV0ZTp2LG51bUluc3RhbmNlczpuLGRhdGE6ZSxwcm9wczpzLGNvbnRleHQ6aH0pKSx0aGlzLm5lZWRzUmVkcmF3fD12Lm5lZWRzUmVkcmF3KCl9ZiYmT2JqZWN0KEIuYSkoImF0dHJpYnV0ZU1hbmFnZXIudXBkYXRlRW5kIix0aGlzLG4pLHRoaXMuc3RhdHMmJnRoaXMuc3RhdHMuZ2V0KCJVcGRhdGUgQXR0cmlidXRlcyIpLnRpbWVFbmQoKSx0aGlzLmF0dHJpYnV0ZVRyYW5zaXRpb25NYW5hZ2VyLnVwZGF0ZSh7YXR0cmlidXRlczp0aGlzLmF0dHJpYnV0ZXMsbnVtSW5zdGFuY2VzOm4sdHJhbnNpdGlvbnM6YX0pfX0se2tleToidXBkYXRlVHJhbnNpdGlvbiIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmF0dHJpYnV0ZVRyYW5zaXRpb25NYW5hZ2VyLnJ1bigpO3JldHVybiB0aGlzLm5lZWRzUmVkcmF3PXRoaXMubmVlZHNSZWRyYXd8fHQsdH19LHtrZXk6ImdldEF0dHJpYnV0ZXMiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYXR0cmlidXRlc319LHtrZXk6ImdldENoYW5nZWRBdHRyaWJ1dGVzIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7Y2xlYXJDaGFuZ2VkRmxhZ3M6ITF9LGU9dGhpcy5hdHRyaWJ1dGVzLG49dGhpcy5hdHRyaWJ1dGVUcmFuc2l0aW9uTWFuYWdlcixyPU9iamVjdC5hc3NpZ24oe30sbi5nZXRBdHRyaWJ1dGVzKCkpO2Zvcih2YXIgaSBpbiBlKXt2YXIgYT1lW2ldO2EubmVlZHNSZWRyYXcodCkmJiFuLmhhc0F0dHJpYnV0ZShpKSYmKHJbaV09YSl9cmV0dXJuIHJ9fSx7a2V5OiJnZXRTaGFkZXJBdHRyaWJ1dGVzIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06e307dHx8KHQ9dGhpcy5nZXRBdHRyaWJ1dGVzKCkpO3ZhciBuPXt9O2Zvcih2YXIgciBpbiB0KWVbcl18fE9iamVjdC5hc3NpZ24obix0W3JdLmdldFNoYWRlckF0dHJpYnV0ZXMoKSk7cmV0dXJuIG59fSx7a2V5OiJnZXRBY2Nlc3NvcnMiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudXBkYXRlVHJpZ2dlcnN9fSx7a2V5OiJfYWRkIix2YWx1ZTpmdW5jdGlvbih0LGUpe3ZhciBuPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTp7fTtlJiZQLmEud2FybigiQXR0cmlidXRlTWFuYWdlci5hZGQoe3VwZGF0ZXJzfSkgLSB1cGRhdGVyIG1hcCBubyBsb25nZXIgc3VwcG9ydGVkIikoKTt2YXIgcj17fTtmb3IodmFyIGkgaW4gdCl7dmFyIGE9dFtpXSxvPXRoaXMuX2NyZWF0ZUF0dHJpYnV0ZShpLGEsbik7cltpXT1vfU9iamVjdC5hc3NpZ24odGhpcy5hdHRyaWJ1dGVzLHIpLHRoaXMuX21hcFVwZGF0ZVRyaWdnZXJzVG9BdHRyaWJ1dGVzKCl9fSx7a2V5OiJfY3JlYXRlQXR0cmlidXRlIix2YWx1ZTpmdW5jdGlvbih0LGUsbil7dmFyIHI9e2lkOnQsY29uc3RhbnQ6ZS5jb25zdGFudHx8ITEsaXNJbmRleGVkOmUuaXNJbmRleGVkfHxlLmVsZW1lbnRzLHNpemU6ZS5lbGVtZW50cz8xOmUuc2l6ZSx2YWx1ZTplLnZhbHVlfHxudWxsLGRpdmlzb3I6ZS5pbnN0YW5jZWR8fG4uaW5zdGFuY2VkPzE6ZS5kaXZpc29yfTtyZXR1cm4gbmV3IHoodGhpcy5nbCxPYmplY3QuYXNzaWduKHt9LGUscikpfX0se2tleToiX21hcFVwZGF0ZVRyaWdnZXJzVG9BdHRyaWJ1dGVzIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMsZT17fSxuPWZ1bmN0aW9uKG4pe3QuYXR0cmlidXRlc1tuXS5nZXRVcGRhdGVUcmlnZ2VycygpLmZvckVhY2goKGZ1bmN0aW9uKHQpe2VbdF18fChlW3RdPVtdKSxlW3RdLnB1c2gobil9KSl9O2Zvcih2YXIgciBpbiB0aGlzLmF0dHJpYnV0ZXMpbihyKTt0aGlzLnVwZGF0ZVRyaWdnZXJzPWV9fSx7a2V5OiJfaW52YWxpZGF0ZVRyaWdnZXIiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy5hdHRyaWJ1dGVzLHI9dGhpcy51cGRhdGVUcmlnZ2Vyc1t0XTtyZXR1cm4gciYmci5mb3JFYWNoKChmdW5jdGlvbih0KXt2YXIgcj1uW3RdO3ImJnIuc2V0TmVlZHNVcGRhdGUoci5pZCxlKX0pKSxyfX0se2tleToiX3VwZGF0ZUF0dHJpYnV0ZSIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dC5hdHRyaWJ1dGUsbj10Lm51bUluc3RhbmNlcztPYmplY3QoQi5hKSgiYXR0cmlidXRlLnVwZGF0ZVN0YXJ0IixlKSxlLmFsbG9jYXRlKG4pJiZPYmplY3QoQi5hKSgiYXR0cmlidXRlLmFsbG9jYXRlIixlLG4pLGUudXBkYXRlQnVmZmVyKHQpJiYodGhpcy5uZWVkc1JlZHJhdz0hMCxPYmplY3QoQi5hKSgiYXR0cmlidXRlLnVwZGF0ZUVuZCIsZSxuKSl9fV0pLHR9KCl9LGZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigxKSxpPW4ubihyKSxhPW4oMiksbz1uLm4oYSkscz1uKDkpLHU9bi5uKHMpLGM9bigzKSxsPW4ubihjKSxoPW4oMTIpLGY9bi5uKGgpLGQ9bigxMCksdj1uLm4oZCkscD1uKDIwMiksZz1uKDI5MykseT1uKDIyMCksbT1uKDExOCksYj1uKDE3NSksXz1uKDQpLE89bi5uKF8pLHg9bigyMyksdz1uKDExNSk7ZnVuY3Rpb24gayh0LGUpe3ZhciBuPU9iamVjdC5rZXlzKHQpO2lmKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciByPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHModCk7ZSYmKHI9ci5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHQsZSkuZW51bWVyYWJsZX0pKSksbi5wdXNoLmFwcGx5KG4scil9cmV0dXJuIG59ZnVuY3Rpb24gUyh0KXtmb3IodmFyIGU9MTtlPGFyZ3VtZW50cy5sZW5ndGg7ZSsrKXt2YXIgbj1udWxsIT1hcmd1bWVudHNbZV0/YXJndW1lbnRzW2VdOnt9O2UlMj9rKE9iamVjdChuKSwhMCkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7TygpKHQsZSxuW2VdKX0pKTpPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycz9PYmplY3QuZGVmaW5lUHJvcGVydGllcyh0LE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKG4pKTprKE9iamVjdChuKSkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsZSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG4sZSkpfSkpfXJldHVybiB0fXZhciBQPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e307aSgpKHRoaXMsZSk7dmFyIG49dC5pZCxyPXZvaWQgMD09PW4/T2JqZWN0KHcuYykoImNvbHVtbi1nZW9tZXRyeSIpOm4sYT1qKHQpLG89YS5pbmRpY2VzLHM9YS5hdHRyaWJ1dGVzO3JldHVybiB1KCkodGhpcyxsKCkoZSkuY2FsbCh0aGlzLFMoe30sdCx7aWQ6cixpbmRpY2VzOm8sYXR0cmlidXRlczpzfSkpKX1yZXR1cm4gdigpKGUsdCksZX0obig3MSkuYSk7ZnVuY3Rpb24gaih0KXt2YXIgZT10LnJhZGl1cyxuPXQuaGVpZ2h0LHI9dm9pZCAwPT09bj8xOm4saT10Lm5yYWRpYWwsYT12b2lkIDA9PT1pPzEwOmksbz10LnZlcnRpY2VzO3guYS5hc3NlcnQoIW98fG8ubGVuZ3RoPj1hKTtmb3IodmFyIHM9YSsxLHU9MypzLGM9MipNYXRoLlBJL2EsbD1uZXcgVWludDE2QXJyYXkoMyphKjIpLGg9bmV3IEZsb2F0MzJBcnJheSgzKnUpLGY9bmV3IEZsb2F0MzJBcnJheSgzKnUpLGQ9MCx2PTA7djxzO3YrKylmb3IodmFyIHA9dipjLGc9byYmb1t2JWFdLHk9byYmb1sodisxKSVhXSxtPU1hdGguc2luKHApLGI9TWF0aC5jb3MocCksXz0wO188MjtfKyspaFtkKzBdPWc/Z1swXTpiKmUsaFtkKzFdPWc/Z1sxXTptKmUsaFtkKzJdPSguNS1fKSpyLGZbZCswXT1nP3lbMF0tZ1swXTpiLGZbZCsxXT1nP3lbMV0tZ1sxXTptLGQrPTM7Zm9yKHZhciBPPTA7TzxzO08rKyl7dmFyIHc9TWF0aC5mbG9vcihPLzIpKk1hdGguc2lnbihPJTItLjUpLGs9dypjLFM9byYmb1sodythKSVhXSxQPU1hdGguc2luKGspLGo9TWF0aC5jb3Moayk7aFtkKzBdPVM/U1swXTpqKmUsaFtkKzFdPVM/U1sxXTpQKmUsaFtkKzJdPXIvMixmW2QrMl09MSxkKz0zfWZvcih2YXIgVD0wLEU9MDtFPGE7RSsrKWxbVCsrXT0yKkUrMCxsW1QrK109MipFKzIsbFtUKytdPTIqRSswLGxbVCsrXT0yKkUrMSxsW1QrK109MipFKzEsbFtUKytdPTIqRSszO3JldHVybntpbmRpY2VzOmwsYXR0cmlidXRlczp7UE9TSVRJT046e3NpemU6Myx2YWx1ZTpofSxOT1JNQUw6e3NpemU6Myx2YWx1ZTpmfX19fW4uZChlLCJhIiwoZnVuY3Rpb24oKXtyZXR1cm4gQX0pKTt2YXIgVD1bMCwwLDAsMjU1XSxFPXtkaXNrUmVzb2x1dGlvbjp7dHlwZToibnVtYmVyIixtaW46NCx2YWx1ZToyMH0sdmVydGljZXM6bnVsbCxyYWRpdXM6e3R5cGU6Im51bWJlciIsbWluOjAsdmFsdWU6MWUzfSxhbmdsZTp7dHlwZToibnVtYmVyIix2YWx1ZTowfSxvZmZzZXQ6e3R5cGU6ImFycmF5Iix2YWx1ZTpbMCwwXX0sY292ZXJhZ2U6e3R5cGU6Im51bWJlciIsbWluOjAsbWF4OjEsdmFsdWU6MX0sZWxldmF0aW9uU2NhbGU6e3R5cGU6Im51bWJlciIsbWluOjAsdmFsdWU6MX0sbGluZVdpZHRoVW5pdHM6Im1ldGVycyIsbGluZVdpZHRoU2NhbGU6MSxsaW5lV2lkdGhNaW5QaXhlbHM6MCxsaW5lV2lkdGhNYXhQaXhlbHM6TnVtYmVyLk1BWF9TQUZFX0lOVEVHRVIsZXh0cnVkZWQ6ITAsd2lyZWZyYW1lOiExLGZpbGxlZDohMCxzdHJva2VkOiExLGdldFBvc2l0aW9uOnt0eXBlOiJhY2Nlc3NvciIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHQucG9zaXRpb259fSxnZXRGaWxsQ29sb3I6e3R5cGU6ImFjY2Vzc29yIix2YWx1ZTpUfSxnZXRMaW5lQ29sb3I6e3R5cGU6ImFjY2Vzc29yIix2YWx1ZTpUfSxnZXRMaW5lV2lkdGg6e3R5cGU6ImFjY2Vzc29yIix2YWx1ZToxfSxnZXRFbGV2YXRpb246e3R5cGU6ImFjY2Vzc29yIix2YWx1ZToxZTN9LG1hdGVyaWFsOiEwLGdldENvbG9yOntkZXByZWNhdGVkRm9yOlsiZ2V0RmlsbENvbG9yIiwiZ2V0TGluZUNvbG9yIl19fSxBPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXtyZXR1cm4gaSgpKHRoaXMsZSksdSgpKHRoaXMsbCgpKGUpLmFwcGx5KHRoaXMsYXJndW1lbnRzKSl9cmV0dXJuIHYoKShlLHQpLG8oKShlLFt7a2V5OiJnZXRTaGFkZXJzIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiBmKCkobCgpKGUucHJvdG90eXBlKSwiZ2V0U2hhZGVycyIsdGhpcykuY2FsbCh0aGlzLHt2czoiXG4jZGVmaW5lIFNIQURFUl9OQU1FIGNvbHVtbi1sYXllci12ZXJ0ZXgtc2hhZGVyXG5cbmF0dHJpYnV0ZSB2ZWMzIHBvc2l0aW9ucztcbmF0dHJpYnV0ZSB2ZWMzIG5vcm1hbHM7XG5cbmF0dHJpYnV0ZSB2ZWMzIGluc3RhbmNlUG9zaXRpb25zO1xuYXR0cmlidXRlIGZsb2F0IGluc3RhbmNlRWxldmF0aW9ucztcbmF0dHJpYnV0ZSB2ZWMzIGluc3RhbmNlUG9zaXRpb25zNjRMb3c7XG5hdHRyaWJ1dGUgdmVjNCBpbnN0YW5jZUZpbGxDb2xvcnM7XG5hdHRyaWJ1dGUgdmVjNCBpbnN0YW5jZUxpbmVDb2xvcnM7XG5hdHRyaWJ1dGUgZmxvYXQgaW5zdGFuY2VTdHJva2VXaWR0aHM7XG5cbmF0dHJpYnV0ZSB2ZWMzIGluc3RhbmNlUGlja2luZ0NvbG9ycztcbnVuaWZvcm0gZmxvYXQgb3BhY2l0eTtcbnVuaWZvcm0gZmxvYXQgcmFkaXVzO1xudW5pZm9ybSBmbG9hdCBhbmdsZTtcbnVuaWZvcm0gdmVjMiBvZmZzZXQ7XG51bmlmb3JtIGJvb2wgZXh0cnVkZWQ7XG51bmlmb3JtIGJvb2wgaXNTdHJva2U7XG51bmlmb3JtIGZsb2F0IGNvdmVyYWdlO1xudW5pZm9ybSBmbG9hdCBlbGV2YXRpb25TY2FsZTtcbnVuaWZvcm0gZmxvYXQgZWRnZURpc3RhbmNlO1xudW5pZm9ybSBmbG9hdCB3aWR0aFNjYWxlO1xudW5pZm9ybSBmbG9hdCB3aWR0aE1pblBpeGVscztcbnVuaWZvcm0gZmxvYXQgd2lkdGhNYXhQaXhlbHM7XG52YXJ5aW5nIHZlYzQgdkNvbG9yO1xuXG52b2lkIG1haW4odm9pZCkge1xuICBnZW9tZXRyeS53b3JsZFBvc2l0aW9uID0gaW5zdGFuY2VQb3NpdGlvbnM7XG5cbiAgdmVjNCBjb2xvciA9IGlzU3Ryb2tlID8gaW5zdGFuY2VMaW5lQ29sb3JzIDogaW5zdGFuY2VGaWxsQ29sb3JzO1xuICBtYXQyIHJvdGF0aW9uTWF0cml4ID0gbWF0Mihjb3MoYW5nbGUpLCBzaW4oYW5nbGUpLCAtc2luKGFuZ2xlKSwgY29zKGFuZ2xlKSk7XG4gIGZsb2F0IGVsZXZhdGlvbiA9IDAuMDtcbiAgZmxvYXQgc3Ryb2tlT2Zmc2V0UmF0aW8gPSAxLjA7XG5cbiAgaWYgKGV4dHJ1ZGVkKSB7XG4gICAgZWxldmF0aW9uID0gaW5zdGFuY2VFbGV2YXRpb25zICogKHBvc2l0aW9ucy56ICsgMS4wKSAvIDIuMCAqIGVsZXZhdGlvblNjYWxlO1xuICB9IGVsc2UgaWYgKGlzU3Ryb2tlKSB7XG4gICAgZmxvYXQgd2lkdGhQaXhlbHMgPSBjbGFtcChwcm9qZWN0X3NpemVfdG9fcGl4ZWwoaW5zdGFuY2VTdHJva2VXaWR0aHMgKiB3aWR0aFNjYWxlKSxcbiAgICAgIHdpZHRoTWluUGl4ZWxzLCB3aWR0aE1heFBpeGVscykgLyAyLjA7XG4gICAgc3Ryb2tlT2Zmc2V0UmF0aW8gKz0gc2lnbihwb3NpdGlvbnMueikgKiBwcm9qZWN0X3BpeGVsX3NpemUod2lkdGhQaXhlbHMpIC8gcHJvamVjdF9zaXplKGVkZ2VEaXN0YW5jZSAqIGNvdmVyYWdlICogcmFkaXVzKTtcbiAgfVxuICBmbG9hdCBzaG91bGRSZW5kZXIgPSBmbG9hdChjb2xvci5hID4gMC4wICYmIGluc3RhbmNlRWxldmF0aW9ucyA+PSAwLjApO1xuICBmbG9hdCBkb3RSYWRpdXMgPSByYWRpdXMgKiBjb3ZlcmFnZSAqIHNob3VsZFJlbmRlcjtcblxuICBnZW9tZXRyeS5ub3JtYWwgPSBwcm9qZWN0X25vcm1hbCh2ZWMzKHJvdGF0aW9uTWF0cml4ICogbm9ybWFscy54eSwgbm9ybWFscy56KSk7XG4gIGdlb21ldHJ5LnBpY2tpbmdDb2xvciA9IGluc3RhbmNlUGlja2luZ0NvbG9ycztcbiAgdmVjMyBjZW50cm9pZFBvc2l0aW9uID0gdmVjMyhpbnN0YW5jZVBvc2l0aW9ucy54eSwgaW5zdGFuY2VQb3NpdGlvbnMueiArIGVsZXZhdGlvbik7XG4gIHZlYzMgY2VudHJvaWRQb3NpdGlvbjY0TG93ID0gaW5zdGFuY2VQb3NpdGlvbnM2NExvdztcbiAgdmVjMyBwb3MgPSB2ZWMzKHByb2plY3Rfc2l6ZShyb3RhdGlvbk1hdHJpeCAqIHBvc2l0aW9ucy54eSAqIHN0cm9rZU9mZnNldFJhdGlvICsgb2Zmc2V0KSAqIGRvdFJhZGl1cywgMC4pO1xuICBERUNLR0xfRklMVEVSX1NJWkUocG9zLCBnZW9tZXRyeSk7XG5cbiAgZ2xfUG9zaXRpb24gPSBwcm9qZWN0X3Bvc2l0aW9uX3RvX2NsaXBzcGFjZShjZW50cm9pZFBvc2l0aW9uLCBjZW50cm9pZFBvc2l0aW9uNjRMb3csIHBvcywgZ2VvbWV0cnkucG9zaXRpb24pO1xuICBERUNLR0xfRklMVEVSX0dMX1BPU0lUSU9OKGdsX1Bvc2l0aW9uLCBnZW9tZXRyeSk7XG4gIGlmIChleHRydWRlZCAmJiAhaXNTdHJva2UpIHtcbiAgICB2ZWMzIGxpZ2h0Q29sb3IgPSBsaWdodGluZ19nZXRMaWdodENvbG9yKGNvbG9yLnJnYiwgcHJvamVjdF91Q2FtZXJhUG9zaXRpb24sIGdlb21ldHJ5LnBvc2l0aW9uLnh5eiwgZ2VvbWV0cnkubm9ybWFsKTtcbiAgICB2Q29sb3IgPSB2ZWM0KGxpZ2h0Q29sb3IsIGNvbG9yLmEgKiBvcGFjaXR5KTtcbiAgfSBlbHNlIHtcbiAgICB2Q29sb3IgPSB2ZWM0KGNvbG9yLnJnYiwgY29sb3IuYSAqIG9wYWNpdHkpO1xuICB9XG4gIERFQ0tHTF9GSUxURVJfQ09MT1IodkNvbG9yLCBnZW9tZXRyeSk7XG59XG4iLGZzOiIjZGVmaW5lIFNIQURFUl9OQU1FIGNvbHVtbi1sYXllci1mcmFnbWVudC1zaGFkZXJcblxucHJlY2lzaW9uIGhpZ2hwIGZsb2F0O1xuXG52YXJ5aW5nIHZlYzQgdkNvbG9yO1xuXG52b2lkIG1haW4odm9pZCkge1xuICBnbF9GcmFnQ29sb3IgPSB2Q29sb3I7XG4gIERFQ0tHTF9GSUxURVJfQ09MT1IoZ2xfRnJhZ0NvbG9yLCBnZW9tZXRyeSk7XG59XG4iLG1vZHVsZXM6W3AuYSxnLmEseS5hXX0pfX0se2tleToiaW5pdGlhbGl6ZVN0YXRlIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuZ2V0QXR0cmlidXRlTWFuYWdlcigpLmFkZEluc3RhbmNlZCh7aW5zdGFuY2VQb3NpdGlvbnM6e3NpemU6Myx0eXBlOjUxMzAsZnA2NDp0aGlzLnVzZTY0Yml0UG9zaXRpb25zKCksdHJhbnNpdGlvbjohMCxhY2Nlc3NvcjoiZ2V0UG9zaXRpb24ifSxpbnN0YW5jZUVsZXZhdGlvbnM6e3NpemU6MSx0cmFuc2l0aW9uOiEwLGFjY2Vzc29yOiJnZXRFbGV2YXRpb24ifSxpbnN0YW5jZUZpbGxDb2xvcnM6e3NpemU6dGhpcy5wcm9wcy5jb2xvckZvcm1hdC5sZW5ndGgsdHlwZTo1MTIxLG5vcm1hbGl6ZWQ6ITAsdHJhbnNpdGlvbjohMCxhY2Nlc3NvcjoiZ2V0RmlsbENvbG9yIixkZWZhdWx0VmFsdWU6VH0saW5zdGFuY2VMaW5lQ29sb3JzOntzaXplOnRoaXMucHJvcHMuY29sb3JGb3JtYXQubGVuZ3RoLHR5cGU6NTEyMSxub3JtYWxpemVkOiEwLHRyYW5zaXRpb246ITAsYWNjZXNzb3I6ImdldExpbmVDb2xvciIsZGVmYXVsdFZhbHVlOlR9LGluc3RhbmNlU3Ryb2tlV2lkdGhzOntzaXplOjEsYWNjZXNzb3I6ImdldExpbmVXaWR0aCIsdHJhbnNpdGlvbjohMH19KX19LHtrZXk6InVwZGF0ZVN0YXRlIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgbj10LnByb3BzLHI9dC5vbGRQcm9wcyxpPXQuY2hhbmdlRmxhZ3M7ZigpKGwoKShlLnByb3RvdHlwZSksInVwZGF0ZVN0YXRlIix0aGlzKS5jYWxsKHRoaXMse3Byb3BzOm4sb2xkUHJvcHM6cixjaGFuZ2VGbGFnczppfSk7dmFyIGE9aS5leHRlbnNpb25zQ2hhbmdlZDtpZihhKXt2YXIgbz10aGlzLmNvbnRleHQuZ2w7dGhpcy5zdGF0ZS5tb2RlbCYmdGhpcy5zdGF0ZS5tb2RlbC5kZWxldGUoKSx0aGlzLnNldFN0YXRlKHttb2RlbDp0aGlzLl9nZXRNb2RlbChvKX0pLHRoaXMuZ2V0QXR0cmlidXRlTWFuYWdlcigpLmludmFsaWRhdGVBbGwoKX0oYXx8bi5kaXNrUmVzb2x1dGlvbiE9PXIuZGlza1Jlc29sdXRpb258fG4udmVydGljZXMhPT1yLnZlcnRpY2VzKSYmdGhpcy5fdXBkYXRlR2VvbWV0cnkobil9fSx7a2V5OiJnZXRHZW9tZXRyeSIsdmFsdWU6ZnVuY3Rpb24odCxlKXt2YXIgbj1uZXcgUCh7cmFkaXVzOjEsaGVpZ2h0OjIsdmVydGljZXM6ZSxucmFkaWFsOnR9KSxyPTA7aWYoZSlmb3IodmFyIGk9MDtpPHQ7aSsrKXt2YXIgYT1lW2ldO3IrPU1hdGguc3FydChhWzBdKmFbMF0rYVsxXSphWzFdKS90fWVsc2Ugcj0xO3JldHVybiB0aGlzLnNldFN0YXRlKHtlZGdlRGlzdGFuY2U6TWF0aC5jb3MoTWF0aC5QSS90KSpyfSksbn19LHtrZXk6Il9nZXRNb2RlbCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBiLmEodCxPYmplY3QuYXNzaWduKHt9LHRoaXMuZ2V0U2hhZGVycygpLHtpZDp0aGlzLnByb3BzLmlkLGlzSW5zdGFuY2VkOiEwfSkpfX0se2tleToiX3VwZGF0ZUdlb21ldHJ5Iix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10LmRpc2tSZXNvbHV0aW9uLG49dC52ZXJ0aWNlcyxyPXRoaXMuZ2V0R2VvbWV0cnkoZSxuKTt0aGlzLnNldFN0YXRlKHtmaWxsVmVydGV4Q291bnQ6ci5hdHRyaWJ1dGVzLlBPU0lUSU9OLnZhbHVlLmxlbmd0aC8zLHdpcmVmcmFtZVZlcnRleENvdW50OnIuaW5kaWNlcy52YWx1ZS5sZW5ndGh9KSx0aGlzLnN0YXRlLm1vZGVsLnNldFByb3BzKHtnZW9tZXRyeTpyfSl9fSx7a2V5OiJkcmF3Iix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10LnVuaWZvcm1zLG49dGhpcy5jb250ZXh0LnZpZXdwb3J0LHI9dGhpcy5wcm9wcyxpPXIubGluZVdpZHRoVW5pdHMsYT1yLmxpbmVXaWR0aFNjYWxlLG89ci5saW5lV2lkdGhNaW5QaXhlbHMscz1yLmxpbmVXaWR0aE1heFBpeGVscyx1PXIuZWxldmF0aW9uU2NhbGUsYz1yLmV4dHJ1ZGVkLGw9ci5maWxsZWQsaD1yLnN0cm9rZWQsZj1yLndpcmVmcmFtZSxkPXIub2Zmc2V0LHY9ci5jb3ZlcmFnZSxwPXIucmFkaXVzLGc9ci5hbmdsZSx5PXRoaXMuc3RhdGUsbT15Lm1vZGVsLGI9eS5maWxsVmVydGV4Q291bnQsXz15LndpcmVmcmFtZVZlcnRleENvdW50LE89eS5lZGdlRGlzdGFuY2UseD0icGl4ZWxzIj09PWk/bi5tZXRlcnNQZXJQaXhlbDoxO20uc2V0VW5pZm9ybXMoT2JqZWN0LmFzc2lnbih7fSxlLHtyYWRpdXM6cCxhbmdsZTpnLzE4MCpNYXRoLlBJLG9mZnNldDpkLGV4dHJ1ZGVkOmMsY292ZXJhZ2U6dixlbGV2YXRpb25TY2FsZTp1LGVkZ2VEaXN0YW5jZTpPLHdpZHRoU2NhbGU6YSp4LHdpZHRoTWluUGl4ZWxzOm8sd2lkdGhNYXhQaXhlbHM6c30pKSxjJiZmJiYobS5zZXRQcm9wcyh7aXNJbmRleGVkOiEwfSksbS5zZXRWZXJ0ZXhDb3VudChfKS5zZXREcmF3TW9kZSgxKS5zZXRVbmlmb3Jtcyh7aXNTdHJva2U6ITB9KS5kcmF3KCkpLGwmJihtLnNldFByb3BzKHtpc0luZGV4ZWQ6ITF9KSxtLnNldFZlcnRleENvdW50KGIpLnNldERyYXdNb2RlKDUpLnNldFVuaWZvcm1zKHtpc1N0cm9rZTohMX0pLmRyYXcoKSksIWMmJmgmJihtLnNldFByb3BzKHtpc0luZGV4ZWQ6ITF9KSxtLnNldFZlcnRleENvdW50KDIqYi8zKS5zZXREcmF3TW9kZSg1KS5zZXRVbmlmb3Jtcyh7aXNTdHJva2U6ITB9KS5kcmF3KCkpfX1dKSxlfShtLmEpO0EubGF5ZXJOYW1lPSJDb2x1bW5MYXllciIsQS5kZWZhdWx0UHJvcHM9RX0sZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKDEpLGk9bi5uKHIpLGE9bigyKSxvPW4ubihhKSxzPW4oOSksdT1uLm4ocyksYz1uKDMpLGw9bi5uKGMpLGg9bigxMiksZj1uLm4oaCksZD1uKDEwKSx2PW4ubihkKSxwPW4oMjAyKSxnPW4oMjIwKSx5PW4oMTE4KSxtPW4oMTc1KSxiPW4oNzEpO24uZChlLCJhIiwoZnVuY3Rpb24oKXtyZXR1cm4geH0pKTt2YXIgXz1bMCwwLDAsMjU1XSxPPXtyYWRpdXNTY2FsZTp7dHlwZToibnVtYmVyIixtaW46MCx2YWx1ZToxfSxyYWRpdXNNaW5QaXhlbHM6e3R5cGU6Im51bWJlciIsbWluOjAsdmFsdWU6MH0scmFkaXVzTWF4UGl4ZWxzOnt0eXBlOiJudW1iZXIiLG1pbjowLHZhbHVlOk51bWJlci5NQVhfU0FGRV9JTlRFR0VSfSxsaW5lV2lkdGhVbml0czoibWV0ZXJzIixsaW5lV2lkdGhTY2FsZTp7dHlwZToibnVtYmVyIixtaW46MCx2YWx1ZToxfSxsaW5lV2lkdGhNaW5QaXhlbHM6e3R5cGU6Im51bWJlciIsbWluOjAsdmFsdWU6MH0sbGluZVdpZHRoTWF4UGl4ZWxzOnt0eXBlOiJudW1iZXIiLG1pbjowLHZhbHVlOk51bWJlci5NQVhfU0FGRV9JTlRFR0VSfSxzdHJva2VkOiExLGZpbGxlZDohMCxnZXRQb3NpdGlvbjp7dHlwZToiYWNjZXNzb3IiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0LnBvc2l0aW9ufX0sZ2V0UmFkaXVzOnt0eXBlOiJhY2Nlc3NvciIsdmFsdWU6MX0sZ2V0RmlsbENvbG9yOnt0eXBlOiJhY2Nlc3NvciIsdmFsdWU6X30sZ2V0TGluZUNvbG9yOnt0eXBlOiJhY2Nlc3NvciIsdmFsdWU6X30sZ2V0TGluZVdpZHRoOnt0eXBlOiJhY2Nlc3NvciIsdmFsdWU6MX0sc3Ryb2tlV2lkdGg6e2RlcHJlY2F0ZWRGb3I6ImdldExpbmVXaWR0aCJ9LG91dGxpbmU6e2RlcHJlY2F0ZWRGb3I6InN0cm9rZWQifSxnZXRDb2xvcjp7ZGVwcmVjYXRlZEZvcjpbImdldEZpbGxDb2xvciIsImdldExpbmVDb2xvciJdfX0seD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7cmV0dXJuIGkoKSh0aGlzLGUpLHUoKSh0aGlzLGwoKShlKS5hcHBseSh0aGlzLGFyZ3VtZW50cykpfXJldHVybiB2KCkoZSx0KSxvKCkoZSxbe2tleToiZ2V0U2hhZGVycyIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIGYoKShsKCkoZS5wcm90b3R5cGUpLCJnZXRTaGFkZXJzIix0aGlzKS5jYWxsKHRoaXMse3ZzOiIjZGVmaW5lIFNIQURFUl9OQU1FIHNjYXR0ZXJwbG90LWxheWVyLXZlcnRleC1zaGFkZXJcblxuYXR0cmlidXRlIHZlYzMgcG9zaXRpb25zO1xuXG5hdHRyaWJ1dGUgdmVjMyBpbnN0YW5jZVBvc2l0aW9ucztcbmF0dHJpYnV0ZSB2ZWMzIGluc3RhbmNlUG9zaXRpb25zNjRMb3c7XG5hdHRyaWJ1dGUgZmxvYXQgaW5zdGFuY2VSYWRpdXM7XG5hdHRyaWJ1dGUgZmxvYXQgaW5zdGFuY2VMaW5lV2lkdGhzO1xuYXR0cmlidXRlIHZlYzQgaW5zdGFuY2VGaWxsQ29sb3JzO1xuYXR0cmlidXRlIHZlYzQgaW5zdGFuY2VMaW5lQ29sb3JzO1xuYXR0cmlidXRlIHZlYzMgaW5zdGFuY2VQaWNraW5nQ29sb3JzO1xuXG51bmlmb3JtIGZsb2F0IG9wYWNpdHk7XG51bmlmb3JtIGZsb2F0IHJhZGl1c1NjYWxlO1xudW5pZm9ybSBmbG9hdCByYWRpdXNNaW5QaXhlbHM7XG51bmlmb3JtIGZsb2F0IHJhZGl1c01heFBpeGVscztcbnVuaWZvcm0gZmxvYXQgbGluZVdpZHRoU2NhbGU7XG51bmlmb3JtIGZsb2F0IGxpbmVXaWR0aE1pblBpeGVscztcbnVuaWZvcm0gZmxvYXQgbGluZVdpZHRoTWF4UGl4ZWxzO1xudW5pZm9ybSBmbG9hdCBzdHJva2VkO1xudW5pZm9ybSBib29sIGZpbGxlZDtcblxudmFyeWluZyB2ZWM0IHZGaWxsQ29sb3I7XG52YXJ5aW5nIHZlYzQgdkxpbmVDb2xvcjtcbnZhcnlpbmcgdmVjMiB1bml0UG9zaXRpb247XG52YXJ5aW5nIGZsb2F0IGlubmVyVW5pdFJhZGl1cztcbnZhcnlpbmcgZmxvYXQgb3V0ZXJSYWRpdXNQaXhlbHM7XG5cbnZvaWQgbWFpbih2b2lkKSB7XG4gIGdlb21ldHJ5LndvcmxkUG9zaXRpb24gPSBpbnN0YW5jZVBvc2l0aW9ucztcbiAgb3V0ZXJSYWRpdXNQaXhlbHMgPSBjbGFtcChcbiAgICBwcm9qZWN0X3NpemVfdG9fcGl4ZWwocmFkaXVzU2NhbGUgKiBpbnN0YW5jZVJhZGl1cyksXG4gICAgcmFkaXVzTWluUGl4ZWxzLCByYWRpdXNNYXhQaXhlbHNcbiAgKTtcbiAgZmxvYXQgbGluZVdpZHRoUGl4ZWxzID0gY2xhbXAoXG4gICAgcHJvamVjdF9zaXplX3RvX3BpeGVsKGxpbmVXaWR0aFNjYWxlICogaW5zdGFuY2VMaW5lV2lkdGhzKSxcbiAgICBsaW5lV2lkdGhNaW5QaXhlbHMsIGxpbmVXaWR0aE1heFBpeGVsc1xuICApO1xuICBvdXRlclJhZGl1c1BpeGVscyArPSBzdHJva2VkICogbGluZVdpZHRoUGl4ZWxzIC8gMi4wO1xuICB1bml0UG9zaXRpb24gPSBwb3NpdGlvbnMueHk7XG4gIGdlb21ldHJ5LnV2ID0gdW5pdFBvc2l0aW9uO1xuICBnZW9tZXRyeS5waWNraW5nQ29sb3IgPSBpbnN0YW5jZVBpY2tpbmdDb2xvcnM7XG5cbiAgaW5uZXJVbml0UmFkaXVzID0gMS4wIC0gc3Ryb2tlZCAqIGxpbmVXaWR0aFBpeGVscyAvIG91dGVyUmFkaXVzUGl4ZWxzO1xuICBcbiAgdmVjMyBvZmZzZXQgPSBwb3NpdGlvbnMgKiBwcm9qZWN0X3BpeGVsX3NpemUob3V0ZXJSYWRpdXNQaXhlbHMpO1xuICBERUNLR0xfRklMVEVSX1NJWkUob2Zmc2V0LCBnZW9tZXRyeSk7XG4gIGdsX1Bvc2l0aW9uID0gcHJvamVjdF9wb3NpdGlvbl90b19jbGlwc3BhY2UoaW5zdGFuY2VQb3NpdGlvbnMsIGluc3RhbmNlUG9zaXRpb25zNjRMb3csIG9mZnNldCwgZ2VvbWV0cnkucG9zaXRpb24pO1xuICBERUNLR0xfRklMVEVSX0dMX1BPU0lUSU9OKGdsX1Bvc2l0aW9uLCBnZW9tZXRyeSk7XG4gIHZGaWxsQ29sb3IgPSB2ZWM0KGluc3RhbmNlRmlsbENvbG9ycy5yZ2IsIGluc3RhbmNlRmlsbENvbG9ycy5hICogb3BhY2l0eSk7XG4gIERFQ0tHTF9GSUxURVJfQ09MT1IodkZpbGxDb2xvciwgZ2VvbWV0cnkpO1xuICB2TGluZUNvbG9yID0gdmVjNChpbnN0YW5jZUxpbmVDb2xvcnMucmdiLCBpbnN0YW5jZUxpbmVDb2xvcnMuYSAqIG9wYWNpdHkpO1xuICBERUNLR0xfRklMVEVSX0NPTE9SKHZMaW5lQ29sb3IsIGdlb21ldHJ5KTtcbn1cbiIsZnM6IiNkZWZpbmUgU0hBREVSX05BTUUgc2NhdHRlcnBsb3QtbGF5ZXItZnJhZ21lbnQtc2hhZGVyXG5cbnByZWNpc2lvbiBoaWdocCBmbG9hdDtcblxudW5pZm9ybSBib29sIGZpbGxlZDtcbnVuaWZvcm0gZmxvYXQgc3Ryb2tlZDtcblxudmFyeWluZyB2ZWM0IHZGaWxsQ29sb3I7XG52YXJ5aW5nIHZlYzQgdkxpbmVDb2xvcjtcbnZhcnlpbmcgdmVjMiB1bml0UG9zaXRpb247XG52YXJ5aW5nIGZsb2F0IGlubmVyVW5pdFJhZGl1cztcbnZhcnlpbmcgZmxvYXQgb3V0ZXJSYWRpdXNQaXhlbHM7XG5cbnZvaWQgbWFpbih2b2lkKSB7XG4gIGdlb21ldHJ5LnV2ID0gdW5pdFBvc2l0aW9uO1xuXG4gIGZsb2F0IGRpc3RUb0NlbnRlciA9IGxlbmd0aCh1bml0UG9zaXRpb24pICogb3V0ZXJSYWRpdXNQaXhlbHM7XG4gIGZsb2F0IGluQ2lyY2xlID0gc21vb3RoZWRnZShkaXN0VG9DZW50ZXIsIG91dGVyUmFkaXVzUGl4ZWxzKTtcblxuICBpZiAoaW5DaXJjbGUgPT0gMC4wKSB7XG4gICAgZGlzY2FyZDtcbiAgfVxuXG4gIGlmIChzdHJva2VkID4gMC41KSB7XG4gICAgZmxvYXQgaXNMaW5lID0gc21vb3RoZWRnZShpbm5lclVuaXRSYWRpdXMgKiBvdXRlclJhZGl1c1BpeGVscywgZGlzdFRvQ2VudGVyKTtcbiAgICBpZiAoZmlsbGVkKSB7XG4gICAgICBnbF9GcmFnQ29sb3IgPSBtaXgodkZpbGxDb2xvciwgdkxpbmVDb2xvciwgaXNMaW5lKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKGlzTGluZSA9PSAwLjApIHtcbiAgICAgICAgZGlzY2FyZDtcbiAgICAgIH1cbiAgICAgIGdsX0ZyYWdDb2xvciA9IHZlYzQodkxpbmVDb2xvci5yZ2IsIHZMaW5lQ29sb3IuYSAqIGlzTGluZSk7XG4gICAgfVxuICB9IGVsc2UgaWYgKGZpbGxlZCkge1xuICAgIGdsX0ZyYWdDb2xvciA9IHZGaWxsQ29sb3I7XG4gIH0gZWxzZSB7XG4gICAgZGlzY2FyZDtcbiAgfVxuXG4gIGdsX0ZyYWdDb2xvci5hICo9IGluQ2lyY2xlO1xuICBERUNLR0xfRklMVEVSX0NPTE9SKGdsX0ZyYWdDb2xvciwgZ2VvbWV0cnkpO1xufVxuIixtb2R1bGVzOltwLmEsZy5hXX0pfX0se2tleToiaW5pdGlhbGl6ZVN0YXRlIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuZ2V0QXR0cmlidXRlTWFuYWdlcigpLmFkZEluc3RhbmNlZCh7aW5zdGFuY2VQb3NpdGlvbnM6e3NpemU6Myx0eXBlOjUxMzAsZnA2NDp0aGlzLnVzZTY0Yml0UG9zaXRpb25zKCksdHJhbnNpdGlvbjohMCxhY2Nlc3NvcjoiZ2V0UG9zaXRpb24ifSxpbnN0YW5jZVJhZGl1czp7c2l6ZToxLHRyYW5zaXRpb246ITAsYWNjZXNzb3I6ImdldFJhZGl1cyIsZGVmYXVsdFZhbHVlOjF9LGluc3RhbmNlRmlsbENvbG9yczp7c2l6ZTp0aGlzLnByb3BzLmNvbG9yRm9ybWF0Lmxlbmd0aCx0cmFuc2l0aW9uOiEwLG5vcm1hbGl6ZWQ6ITAsdHlwZTo1MTIxLGFjY2Vzc29yOiJnZXRGaWxsQ29sb3IiLGRlZmF1bHRWYWx1ZTpbMCwwLDAsMjU1XX0saW5zdGFuY2VMaW5lQ29sb3JzOntzaXplOnRoaXMucHJvcHMuY29sb3JGb3JtYXQubGVuZ3RoLHRyYW5zaXRpb246ITAsbm9ybWFsaXplZDohMCx0eXBlOjUxMjEsYWNjZXNzb3I6ImdldExpbmVDb2xvciIsZGVmYXVsdFZhbHVlOlswLDAsMCwyNTVdfSxpbnN0YW5jZUxpbmVXaWR0aHM6e3NpemU6MSx0cmFuc2l0aW9uOiEwLGFjY2Vzc29yOiJnZXRMaW5lV2lkdGgiLGRlZmF1bHRWYWx1ZToxfX0pfX0se2tleToidXBkYXRlU3RhdGUiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBuPXQucHJvcHMscj10Lm9sZFByb3BzLGk9dC5jaGFuZ2VGbGFncztpZihmKCkobCgpKGUucHJvdG90eXBlKSwidXBkYXRlU3RhdGUiLHRoaXMpLmNhbGwodGhpcyx7cHJvcHM6bixvbGRQcm9wczpyLGNoYW5nZUZsYWdzOml9KSxpLmV4dGVuc2lvbnNDaGFuZ2VkKXt2YXIgYT10aGlzLmNvbnRleHQuZ2w7dGhpcy5zdGF0ZS5tb2RlbCYmdGhpcy5zdGF0ZS5tb2RlbC5kZWxldGUoKSx0aGlzLnNldFN0YXRlKHttb2RlbDp0aGlzLl9nZXRNb2RlbChhKX0pLHRoaXMuZ2V0QXR0cmlidXRlTWFuYWdlcigpLmludmFsaWRhdGVBbGwoKX19fSx7a2V5OiJkcmF3Iix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10LnVuaWZvcm1zLG49dGhpcy5jb250ZXh0LnZpZXdwb3J0LHI9dGhpcy5wcm9wcyxpPXIucmFkaXVzU2NhbGUsYT1yLnJhZGl1c01pblBpeGVscyxvPXIucmFkaXVzTWF4UGl4ZWxzLHM9ci5zdHJva2VkLHU9ci5maWxsZWQsYz1yLmxpbmVXaWR0aFVuaXRzLGw9ci5saW5lV2lkdGhTY2FsZSxoPXIubGluZVdpZHRoTWluUGl4ZWxzLGY9ci5saW5lV2lkdGhNYXhQaXhlbHMsZD0icGl4ZWxzIj09PWM/bi5tZXRlcnNQZXJQaXhlbDoxO3RoaXMuc3RhdGUubW9kZWwuc2V0VW5pZm9ybXMoZSkuc2V0VW5pZm9ybXMoe3N0cm9rZWQ6cz8xOjAsZmlsbGVkOnUscmFkaXVzU2NhbGU6aSxyYWRpdXNNaW5QaXhlbHM6YSxyYWRpdXNNYXhQaXhlbHM6byxsaW5lV2lkdGhTY2FsZTpsKmQsbGluZVdpZHRoTWluUGl4ZWxzOmgsbGluZVdpZHRoTWF4UGl4ZWxzOmZ9KS5kcmF3KCl9fSx7a2V5OiJfZ2V0TW9kZWwiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiBuZXcgbS5hKHQsT2JqZWN0LmFzc2lnbih0aGlzLmdldFNoYWRlcnMoKSx7aWQ6dGhpcy5wcm9wcy5pZCxnZW9tZXRyeTpuZXcgYi5hKHtkcmF3TW9kZTo2LHZlcnRleENvdW50OjQsYXR0cmlidXRlczp7cG9zaXRpb25zOntzaXplOjMsdmFsdWU6bmV3IEZsb2F0MzJBcnJheShbLTEsLTEsMCwtMSwxLDAsMSwxLDAsMSwtMSwwXSl9fX0pLGlzSW5zdGFuY2VkOiEwfSkpfX1dKSxlfSh5LmEpO3gubGF5ZXJOYW1lPSJTY2F0dGVycGxvdExheWVyIix4LmRlZmF1bHRQcm9wcz1PfSxmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oNSksaT1uLm4ociksYT1uKDEzKSxvPW4oMjAwKSxzPW4oOTYpLHU9big1OSksYz1uKDg2KSxsPW4oODcpLGg9big5MCksZj1uKDE1NSksZD1uKDEzNiksdj1uKDIwMSk7ZnVuY3Rpb24gcCh0LGUsbixyKXtpZighZC5hLmlzU3VwcG9ydGVkKCkpcmV0dXJuITE7dmFyIGk9biYmblt0LmlkXTtyZXR1cm4hISgibG9jYWwiPT09bi53b3JrZXImJmkmJmkubG9jYWxXb3JrZXJVcmx8fG4ud29ya2VyJiZpJiZpLndvcmtlclVybCkmJighdC51c2VXb3JrZXJ8fHQudXNlV29ya2VyKG4pKX1mdW5jdGlvbiBnKHQsZSxuLHIpe3ZhciBpPShufHx7fSkud29ya2VyLGE9biYmblt0LmlkXXx8e30sbz0ibG9jYWwiPT09aT9hLmxvY2FsV29ya2VyVXJsOmEud29ya2VyVXJsLHM9InVybCgiLmNvbmNhdChvLCIpIiksdT10Lm5hbWUsYz1mdW5jdGlvbigpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fSxlPXt9O3QubWF4Q29uY3VycmVuY3kmJihlLm1heENvbmN1cnJlbmN5PXQubWF4Q29uY3VycmVuY3kpO3Qub25EZWJ1ZyYmKGUub25EZWJ1Zz10Lm9uRGVidWcpO3l8fCh5PW5ldyBkLmEoe29uTWVzc2FnZTptfSkpO3JldHVybiB5LnNldFByb3BzKGUpLHl9KG4pO249SlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShuKSk7dmFyIGw9IjIuMS4xIiE9PXQudmVyc2lvbj8iKGNvcmUgdmVyc2lvbiAiLmNvbmNhdCgiMi4xLjEiLCIpIik6IiI7cmV0dXJuIGMucHJvY2VzcyhzLCIiLmNvbmNhdCh1LCItd29ya2VyQCIpLmNvbmNhdCh0LnZlcnNpb24pLmNvbmNhdChsKSx7YXJyYXlidWZmZXI6T2JqZWN0KGYuYSkoZSksb3B0aW9uczpuLHNvdXJjZToibG9hZGVycy5nbEAiLmNvbmNhdCgiMi4xLjEiKSx0eXBlOiJwYXJzZSJ9KX12YXIgeT1udWxsO2Z1bmN0aW9uIG0odCl7cmV0dXJuIGIuYXBwbHkodGhpcyxhcmd1bWVudHMpfWZ1bmN0aW9uIGIoKXtyZXR1cm4oYj1PYmplY3QoYS5hKShpLmEubWFyaygoZnVuY3Rpb24gdChlKXt2YXIgbixyLGEsbyxzO3JldHVybiBpLmEud3JhcCgoZnVuY3Rpb24odCl7Zm9yKDs7KXN3aXRjaCh0LnByZXY9dC5uZXh0KXtjYXNlIDA6bj1lLndvcmtlcixyPWUuZGF0YSxhPWUucmVzb2x2ZSxvPWUucmVqZWN0LHQudDA9ci50eXBlLHQubmV4dD0iZG9uZSI9PT10LnQwPzQ6InBhcnNlIj09PXQudDA/NjoiZXJyb3IiPT09dC50MD8xNzoxOTticmVhaztjYXNlIDQ6cmV0dXJuIGEoci5yZXN1bHQpLHQuYWJydXB0KCJicmVhayIsMTkpO2Nhc2UgNjpyZXR1cm4gdC5wcmV2PTYsdC5uZXh0PTksTyhyLmFycmF5YnVmZmVyLHIub3B0aW9ucyxyLnVybCk7Y2FzZSA5OnM9dC5zZW50LG4ucG9zdE1lc3NhZ2Uoe3R5cGU6InBhcnNlLWRvbmUiLGlkOnIuaWQscmVzdWx0OnN9LE9iamVjdCh2LmEpKHMpKSx0Lm5leHQ9MTY7YnJlYWs7Y2FzZSAxMzp0LnByZXY9MTMsdC50MT10LmNhdGNoKDYpLG4ucG9zdE1lc3NhZ2Uoe3R5cGU6InBhcnNlLWVycm9yIixpZDpyLmlkLG1lc3NhZ2U6dC50MS5tZXNzYWdlfSk7Y2FzZSAxNjpyZXR1cm4gdC5hYnJ1cHQoImJyZWFrIiwxOSk7Y2FzZSAxNzpyZXR1cm4gbyhyLm1lc3NhZ2UpLHQuYWJydXB0KCJicmVhayIsMTkpO2Nhc2UgMTk6Y2FzZSJlbmQiOnJldHVybiB0LnN0b3AoKX19KSx0LG51bGwsW1s2LDEzXV0pfSkpKSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfXZhciBfPW4oODApO2Z1bmN0aW9uIE8odCxlLG4scil7cmV0dXJuIHguYXBwbHkodGhpcyxhcmd1bWVudHMpfWZ1bmN0aW9uIHgoKXtyZXR1cm4oeD1PYmplY3QoYS5hKShpLmEubWFyaygoZnVuY3Rpb24gdChlLG4scixhKXt2YXIgbyxzLGYsZDtyZXR1cm4gaS5hLndyYXAoKGZ1bmN0aW9uKHQpe2Zvcig7Oylzd2l0Y2godC5wcmV2PXQubmV4dCl7Y2FzZSAwOmlmKCFufHxBcnJheS5pc0FycmF5KG4pfHxPYmplY3QodS5hKShuKXx8KGE9cixyPW4sbj1udWxsKSxvPSIiLCJzdHJpbmciPT10eXBlb2YgYSYmKG89YSxhPW51bGwpLHI9cnx8e30scz1PYmplY3QobC5lKShlLG8pLGY9T2JqZWN0KGguYikobixhKSxkPU9iamVjdChfLmEpKGYscyxlKSl7dC5uZXh0PTk7YnJlYWt9cmV0dXJuIHQuYWJydXB0KCJyZXR1cm4iLG51bGwpO2Nhc2UgOTpyZXR1cm4gcj1PYmplY3QoYy5hKShkLHIscyksYT1PYmplY3QoaC5hKSh7dXJsOnMscGFyc2U6Tyxsb2FkZXJzOmZ9LHIsYSksdC5uZXh0PTEzLHcoZCxlLHIsYSk7Y2FzZSAxMzpyZXR1cm4gdC5hYnJ1cHQoInJldHVybiIsdC5zZW50KTtjYXNlIDE0OmNhc2UiZW5kIjpyZXR1cm4gdC5zdG9wKCl9fSksdCl9KSkpKS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZnVuY3Rpb24gdyh0LGUsbixyKXtyZXR1cm4gay5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZnVuY3Rpb24gaygpe3JldHVybihrPU9iamVjdChhLmEpKGkuYS5tYXJrKChmdW5jdGlvbiB0KGUsbixyLGEpe3JldHVybiBpLmEud3JhcCgoZnVuY3Rpb24odCl7Zm9yKDs7KXN3aXRjaCh0LnByZXY9dC5uZXh0KXtjYXNlIDA6cmV0dXJuIE9iamVjdChvLmEpKGUpLHQubmV4dD0zLE9iamVjdChsLmEpKG4sZSk7Y2FzZSAzOmlmKG49dC5zZW50LCFlLnBhcnNlVGV4dFN5bmN8fCJzdHJpbmciIT10eXBlb2Ygbil7dC5uZXh0PTc7YnJlYWt9cmV0dXJuIHIuZGF0YVR5cGU9InRleHQiLHQuYWJydXB0KCJyZXR1cm4iLGUucGFyc2VUZXh0U3luYyhuLHIsYSxlKSk7Y2FzZSA3OmlmKCFwKGUsMCxyKSl7dC5uZXh0PTExO2JyZWFrfXJldHVybiB0Lm5leHQ9MTAsZyhlLG4scik7Y2FzZSAxMDpyZXR1cm4gdC5hYnJ1cHQoInJldHVybiIsdC5zZW50KTtjYXNlIDExOmlmKCFlLnBhcnNlKXt0Lm5leHQ9MTU7YnJlYWt9cmV0dXJuIHQubmV4dD0xNCxlLnBhcnNlKG4scixhLGUpO2Nhc2UgMTQ6cmV0dXJuIHQuYWJydXB0KCJyZXR1cm4iLHQuc2VudCk7Y2FzZSAxNTpyZXR1cm4gT2JqZWN0KHMuYSkoIWUucGFyc2VTeW5jKSx0LmFicnVwdCgicmV0dXJuIixPYmplY3Qocy5hKSghMSkpO2Nhc2UgMTc6Y2FzZSJlbmQiOnJldHVybiB0LnN0b3AoKX19KSx0KX0pKSkpLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1uLmQoZSwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIE99KSl9LGZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dmFyIHI9big1KSxpPW4ubihyKSxhPW4oMTMpLG89big2KSxzPW4oNyksdT1uKDk2KSxjPW5ldyBNYXA7ZnVuY3Rpb24gbCh0KXtyZXR1cm4idHJ5IHtcbiAgaW1wb3J0U2NyaXB0cygnIi5jb25jYXQodCwiJyk7XG59IGNhdGNoIChlcnJvcikge1xuICBjb25zb2xlLmVycm9yKGVycm9yKTtcbn0iKX12YXIgaD1uKDIwMSk7bi5kKGUsImEiLChmdW5jdGlvbigpe3JldHVybiB2fSkpO3ZhciBmPTA7ZnVuY3Rpb24gZCh0KXt2YXIgZT10LmRhdGE7KDAsdC5yZXNvbHZlKShlKX12YXIgdj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSl7dmFyIG49ZS5zb3VyY2Uscj1lLm5hbWUsaT12b2lkIDA9PT1yPyJ3ZWItd29ya2VyLSIuY29uY2F0KGYrKyk6cixhPWUub25NZXNzYWdlO09iamVjdChvLmEpKHRoaXMsdCk7dmFyIHM9ZnVuY3Rpb24odCl7aWYoYXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0mJmFyZ3VtZW50c1sxXSxPYmplY3QodS5hKSgic3RyaW5nIj09dHlwZW9mIHQsIndvcmtlciBzb3VyY2UiKSx0LnN0YXJ0c1dpdGgoInVybCgiKSYmdC5lbmRzV2l0aCgiKSIpKXt2YXIgZT10Lm1hdGNoKC9edXJsXCgoLiopXCkkLylbMV07aWYoZSYmIWUuc3RhcnRzV2l0aCgiaHR0cCIpKXJldHVybiBlO3Q9bChlKX12YXIgbj1jLmdldCh0KTtpZighbil7dmFyIHI9bmV3IEJsb2IoW3RdLHt0eXBlOiJhcHBsaWNhdGlvbi9qYXZhc2NyaXB0In0pO249VVJMLmNyZWF0ZU9iamVjdFVSTChyKSxjLnNldCh0LG4pfXJldHVybiBufShuLGkpO3RoaXMud29ya2VyPW5ldyBXb3JrZXIocyx7bmFtZTppfSksdGhpcy5uYW1lPWksdGhpcy5vbk1lc3NhZ2U9YXx8ZH12YXIgZTtyZXR1cm4gT2JqZWN0KHMuYSkodCxbe2tleToicHJvY2VzcyIsdmFsdWU6KGU9T2JqZWN0KGEuYSkoaS5hLm1hcmsoKGZ1bmN0aW9uIHQoZSl7dmFyIG49dGhpcztyZXR1cm4gaS5hLndyYXAoKGZ1bmN0aW9uKHQpe2Zvcig7Oylzd2l0Y2godC5wcmV2PXQubmV4dCl7Y2FzZSAwOnJldHVybiB0LmFicnVwdCgicmV0dXJuIixuZXcgUHJvbWlzZSgoZnVuY3Rpb24odCxyKXtuLndvcmtlci5vbm1lc3NhZ2U9ZnVuY3Rpb24oZSl7cmV0dXJuIG4ub25NZXNzYWdlKHt3b3JrZXI6bi53b3JrZXIsZGF0YTplLmRhdGEscmVzb2x2ZTp0LHJlamVjdDpyfSl9LG4ud29ya2VyLm9uZXJyb3I9ZnVuY3Rpb24odCl7dmFyIGU9IiIuY29uY2F0KG4ubmFtZSwiOiBXb3JrZXJUaHJlYWQucHJvY2VzcygpIGZhaWxlZCIpO3QubWVzc2FnZSYmKGUrPSIgIi5jb25jYXQodC5tZXNzYWdlLCIgIikuY29uY2F0KHQuZmlsZW5hbWUsIjoiKS5jb25jYXQodC5saW5lbm8sIjoiKS5jb25jYXQodC5jb2xubykpO3ZhciBpPW5ldyBFcnJvcihlKTtjb25zb2xlLmVycm9yKHQpLHIoaSl9O3ZhciBpPU9iamVjdChoLmEpKGUpO24ud29ya2VyLnBvc3RNZXNzYWdlKGUsaSl9KSkpO2Nhc2UgMTpjYXNlImVuZCI6cmV0dXJuIHQuc3RvcCgpfX0pLHQpfSkpKSxmdW5jdGlvbih0KXtyZXR1cm4gZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9KX0se2tleToiZGVzdHJveSIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLndvcmtlci50ZXJtaW5hdGUoKSx0aGlzLndvcmtlcj1udWxsfX1dKSx0fSgpfSxmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oMjMxKSxpPXtuYW1lOiJnZW9tZXRyeSIsdnM6Ilxuc3RydWN0IFZlcnRleEdlb21ldHJ5IHtcbiAgdmVjNCBwb3NpdGlvbjtcbiAgdmVjMyB3b3JsZFBvc2l0aW9uO1xuICB2ZWMzIHdvcmxkUG9zaXRpb25BbHQ7XG4gIHZlYzMgbm9ybWFsO1xuICB2ZWMyIHV2O1xuICB2ZWMzIHBpY2tpbmdDb2xvcjtcbn0gZ2VvbWV0cnk7XG4iLGZzOiJcbiNkZWZpbmUgU01PT1RIX0VER0VfUkFESVVTIDAuNVxuXG5zdHJ1Y3QgRnJhZ21lbnRHZW9tZXRyeSB7XG4gIHZlYzIgdXY7XG59IGdlb21ldHJ5O1xuXG5mbG9hdCBzbW9vdGhlZGdlKGZsb2F0IGVkZ2UsIGZsb2F0IHgpIHtcbiAgcmV0dXJuIHNtb290aHN0ZXAoZWRnZSAtIFNNT09USF9FREdFX1JBRElVUywgZWRnZSArIFNNT09USF9FREdFX1JBRElVUywgeCk7XG59XG4ifSxhPW4oMTExKTtuLmQoZSwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIHV9KSk7dmFyIG89W2ksYS5hXSxzPVsidnM6REVDS0dMX0ZJTFRFUl9TSVpFKGlub3V0IHZlYzMgc2l6ZSwgVmVydGV4R2VvbWV0cnkgZ2VvbWV0cnkpIiwidnM6REVDS0dMX0ZJTFRFUl9HTF9QT1NJVElPTihpbm91dCB2ZWM0IHBvc2l0aW9uLCBWZXJ0ZXhHZW9tZXRyeSBnZW9tZXRyeSkiLCJ2czpERUNLR0xfRklMVEVSX0NPTE9SKGlub3V0IHZlYzQgY29sb3IsIFZlcnRleEdlb21ldHJ5IGdlb21ldHJ5KSIsImZzOkRFQ0tHTF9GSUxURVJfQ09MT1IoaW5vdXQgdmVjNCBjb2xvciwgRnJhZ21lbnRHZW9tZXRyeSBnZW9tZXRyeSkiXTtmdW5jdGlvbiB1KHQpe3ZhciBlPXIuYS5nZXREZWZhdWx0UHJvZ3JhbU1hbmFnZXIodCksbj0hMCxpPSExLGE9dm9pZCAwO3RyeXtmb3IodmFyIHUsYz1vW1N5bWJvbC5pdGVyYXRvcl0oKTshKG49KHU9Yy5uZXh0KCkpLmRvbmUpO249ITApe3ZhciBsPXUudmFsdWU7ZS5hZGREZWZhdWx0TW9kdWxlKGwpfX1jYXRjaCh0KXtpPSEwLGE9dH1maW5hbGx5e3RyeXtufHxudWxsPT1jLnJldHVybnx8Yy5yZXR1cm4oKX1maW5hbGx5e2lmKGkpdGhyb3cgYX19dmFyIGg9ITAsZj0hMSxkPXZvaWQgMDt0cnl7Zm9yKHZhciB2LHA9c1tTeW1ib2wuaXRlcmF0b3JdKCk7IShoPSh2PXAubmV4dCgpKS5kb25lKTtoPSEwKXt2YXIgZz12LnZhbHVlO2UuYWRkU2hhZGVySG9vayhnKX19Y2F0Y2godCl7Zj0hMCxkPXR9ZmluYWxseXt0cnl7aHx8bnVsbD09cC5yZXR1cm58fHAucmV0dXJuKCl9ZmluYWxseXtpZihmKXRocm93IGR9fXJldHVybiBlfX0sZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKDQpLGk9bi5uKHIpLGE9bigxKSxvPW4ubihhKSxzPW4oMiksdT1uLm4ocyksYz1uKDQ1KSxsPW4oOSksaD1uLm4obCksZj1uKDMpLGQ9bi5uKGYpLHY9bigxMCkscD1uLm4odiksZz1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7cmV0dXJuIG8oKSh0aGlzLGUpLGgoKSh0aGlzLGQoKShlKS5hcHBseSh0aGlzLGFyZ3VtZW50cykpfXJldHVybiBwKCkoZSx0KSxlfShuKDEwMSkuYSkseT1uKDE3MyksbT1uKDgyKTtmdW5jdGlvbiBiKHQsZSl7dmFyIG49T2JqZWN0LmtleXModCk7aWYoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyl7dmFyIHI9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyh0KTtlJiYocj1yLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodCxlKS5lbnVtZXJhYmxlfSkpKSxuLnB1c2guYXBwbHkobixyKX1yZXR1cm4gbn1uLmQoZSwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIF99KSk7dmFyIF89ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUpe28oKSh0aGlzLHQpLHRoaXMuZ2w9ZSx0aGlzLmxheWVyRmlsdGVyPW51bGwsdGhpcy5kcmF3UGlja2luZ0NvbG9ycz0hMSx0aGlzLmRyYXdMYXllcnNQYXNzPW5ldyBnKGUpLHRoaXMucGlja0xheWVyc1Bhc3M9bmV3IHkuYShlKSx0aGlzLnJlbmRlckNvdW50PTAsdGhpcy5fbmVlZHNSZWRyYXc9IkluaXRpYWwgcmVuZGVyIix0aGlzLnJlbmRlckJ1ZmZlcnM9W10sdGhpcy5sYXN0UG9zdFByb2Nlc3NFZmZlY3Q9bnVsbCx0aGlzLl9vbkVycm9yPW51bGx9cmV0dXJuIHUoKSh0LFt7a2V5OiJzZXRQcm9wcyIsdmFsdWU6ZnVuY3Rpb24odCl7ImxheWVyRmlsdGVyImluIHQmJnRoaXMubGF5ZXJGaWx0ZXIhPT10LmxheWVyRmlsdGVyJiYodGhpcy5sYXllckZpbHRlcj10LmxheWVyRmlsdGVyLHRoaXMuX25lZWRzUmVkcmF3PSJsYXllckZpbHRlciBjaGFuZ2VkIiksImRyYXdQaWNraW5nQ29sb3JzImluIHQmJnRoaXMuZHJhd1BpY2tpbmdDb2xvcnMhPT10LmRyYXdQaWNraW5nQ29sb3JzJiYodGhpcy5kcmF3UGlja2luZ0NvbG9ycz10LmRyYXdQaWNraW5nQ29sb3JzLHRoaXMuX25lZWRzUmVkcmF3PSJkcmF3UGlja2luZ0NvbG9ycyBjaGFuZ2VkIiksIm9uRXJyb3IiaW4gdCYmKHRoaXMuX29uRXJyb3I9dC5vbkVycm9yKX19LHtrZXk6InJlbmRlckxheWVycyIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5kcmF3UGlja2luZ0NvbG9ycz90aGlzLnBpY2tMYXllcnNQYXNzOnRoaXMuZHJhd0xheWVyc1Bhc3M7dC5sYXllckZpbHRlcj10aGlzLmxheWVyRmlsdGVyLHQub25FcnJvcj10aGlzLl9vbkVycm9yLHQuZWZmZWN0cz10LmVmZmVjdHN8fFtdLHQudGFyZ2V0PXQudGFyZ2V0fHxtLmEuZ2V0RGVmYXVsdEZyYW1lYnVmZmVyKHRoaXMuZ2wpLHRoaXMuX3ByZVJlbmRlcih0LmVmZmVjdHMsdCk7dmFyIG49dGhpcy5sYXN0UG9zdFByb2Nlc3NFZmZlY3Q/dGhpcy5yZW5kZXJCdWZmZXJzWzBdOnQudGFyZ2V0LHI9ZS5yZW5kZXIoZnVuY3Rpb24odCl7Zm9yKHZhciBlPTE7ZTxhcmd1bWVudHMubGVuZ3RoO2UrKyl7dmFyIG49bnVsbCE9YXJndW1lbnRzW2VdP2FyZ3VtZW50c1tlXTp7fTtlJTI/YihPYmplY3QobiksITApLmZvckVhY2goKGZ1bmN0aW9uKGUpe2koKSh0LGUsbltlXSl9KSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXModCxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhuKSk6YihPYmplY3QobikpLmZvckVhY2goKGZ1bmN0aW9uKGUpe09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LGUsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihuLGUpKX0pKX1yZXR1cm4gdH0oe30sdCx7dGFyZ2V0Om59KSk7dGhpcy5fcG9zdFJlbmRlcih0LmVmZmVjdHMsdCksdGhpcy5yZW5kZXJDb3VudCsrLE9iamVjdChjLmEpKCJkZWNrUmVuZGVyZXIucmVuZGVyTGF5ZXJzIix0aGlzLHIsdCl9fSx7a2V5OiJuZWVkc1JlZHJhdyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e2NsZWFyUmVkcmF3RmxhZ3M6ITF9LGU9dGhpcy5fbmVlZHNSZWRyYXc7cmV0dXJuIHQuY2xlYXJSZWRyYXdGbGFncyYmKHRoaXMuX25lZWRzUmVkcmF3PSExKSxlfX0se2tleToiZmluYWxpemUiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5yZW5kZXJCdWZmZXJzLGU9ITAsbj0hMSxyPXZvaWQgMDt0cnl7Zm9yKHZhciBpLGE9dFtTeW1ib2wuaXRlcmF0b3JdKCk7IShlPShpPWEubmV4dCgpKS5kb25lKTtlPSEwKXtpLnZhbHVlLmRlbGV0ZSgpfX1jYXRjaCh0KXtuPSEwLHI9dH1maW5hbGx5e3RyeXtlfHxudWxsPT1hLnJldHVybnx8YS5yZXR1cm4oKX1maW5hbGx5e2lmKG4pdGhyb3cgcn19dC5sZW5ndGg9MH19LHtrZXk6Il9wcmVSZW5kZXIiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dmFyIG49bnVsbCxyPSEwLGk9ITEsYT12b2lkIDA7dHJ5e2Zvcih2YXIgbyxzPXRbU3ltYm9sLml0ZXJhdG9yXSgpOyEocj0obz1zLm5leHQoKSkuZG9uZSk7cj0hMCl7dmFyIHU9by52YWx1ZTt1LnByZVJlbmRlcih0aGlzLmdsLGUpLHUucG9zdFJlbmRlciYmKG49dSl9fWNhdGNoKHQpe2k9ITAsYT10fWZpbmFsbHl7dHJ5e3J8fG51bGw9PXMucmV0dXJufHxzLnJldHVybigpfWZpbmFsbHl7aWYoaSl0aHJvdyBhfX1uJiZ0aGlzLl9yZXNpemVSZW5kZXJCdWZmZXJzKCksdGhpcy5sYXN0UG9zdFByb2Nlc3NFZmZlY3Q9bn19LHtrZXk6Il9yZXNpemVSZW5kZXJCdWZmZXJzIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMucmVuZGVyQnVmZmVyczswPT09dC5sZW5ndGgmJnQucHVzaChuZXcgbS5hKHRoaXMuZ2wpLG5ldyBtLmEodGhpcy5nbCkpO3ZhciBlPSEwLG49ITEscj12b2lkIDA7dHJ5e2Zvcih2YXIgaSxhPXRbU3ltYm9sLml0ZXJhdG9yXSgpOyEoZT0oaT1hLm5leHQoKSkuZG9uZSk7ZT0hMCl7aS52YWx1ZS5yZXNpemUoKX19Y2F0Y2godCl7bj0hMCxyPXR9ZmluYWxseXt0cnl7ZXx8bnVsbD09YS5yZXR1cm58fGEucmV0dXJuKCl9ZmluYWxseXtpZihuKXRocm93IHJ9fX19LHtrZXk6Il9wb3N0UmVuZGVyIix2YWx1ZTpmdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMucmVuZGVyQnVmZmVycyxyPXtpbnB1dEJ1ZmZlcjpuWzBdLHN3YXBCdWZmZXI6blsxXSx0YXJnZXQ6bnVsbH0saT0hMCxhPSExLG89dm9pZCAwO3RyeXtmb3IodmFyIHMsdT10W1N5bWJvbC5pdGVyYXRvcl0oKTshKGk9KHM9dS5uZXh0KCkpLmRvbmUpO2k9ITApe3ZhciBjPXMudmFsdWU7aWYoYy5wb3N0UmVuZGVyKXtpZihjPT09dGhpcy5sYXN0UG9zdFByb2Nlc3NFZmZlY3Qpe3IudGFyZ2V0PWUudGFyZ2V0LGMucG9zdFJlbmRlcih0aGlzLmdsLHIpO2JyZWFrfXZhciBsPWMucG9zdFJlbmRlcih0aGlzLmdsLHIpO3IuaW5wdXRCdWZmZXI9bCxyLnN3YXBCdWZmZXI9bD09PW5bMF0/blsxXTpuWzBdfX19Y2F0Y2godCl7YT0hMCxvPXR9ZmluYWxseXt0cnl7aXx8bnVsbD09dS5yZXR1cm58fHUucmV0dXJuKCl9ZmluYWxseXtpZihhKXRocm93IG99fX19XSksdH0oKX0sZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0IjtuLmQoZSwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIGF9KSk7dmFyIHI9bigyNSksaT1uKDE2Nik7ZnVuY3Rpb24gYSgpe3JldHVybiEoIm9iamVjdCI9PT0oInVuZGVmaW5lZCI9PXR5cGVvZiBwcm9jZXNzPyJ1bmRlZmluZWQiOk9iamVjdChyLmEpKHByb2Nlc3MpKSYmIltvYmplY3QgcHJvY2Vzc10iPT09U3RyaW5nKHByb2Nlc3MpJiYhcHJvY2Vzcy5icm93c2VyKXx8T2JqZWN0KGkuYSkoKX19LGZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7bi5kKGUsImEiLChmdW5jdGlvbigpe3JldHVybiBpfSkpO3ZhciByPW4oMjUpO2Z1bmN0aW9uIGkodCl7aWYoInVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3cmJiJvYmplY3QiPT09T2JqZWN0KHIuYSkod2luZG93LnByb2Nlc3MpJiYicmVuZGVyZXIiPT09d2luZG93LnByb2Nlc3MudHlwZSlyZXR1cm4hMDtpZigidW5kZWZpbmVkIiE9dHlwZW9mIHByb2Nlc3MmJiJvYmplY3QiPT09T2JqZWN0KHIuYSkocHJvY2Vzcy52ZXJzaW9ucykmJkJvb2xlYW4ocHJvY2Vzcy52ZXJzaW9ucy5lbGVjdHJvbikpcmV0dXJuITA7dmFyIGU9Im9iamVjdCI9PT0oInVuZGVmaW5lZCI9PXR5cGVvZiBuYXZpZ2F0b3I/InVuZGVmaW5lZCI6T2JqZWN0KHIuYSkobmF2aWdhdG9yKSkmJiJzdHJpbmciPT10eXBlb2YgbmF2aWdhdG9yLnVzZXJBZ2VudCYmbmF2aWdhdG9yLnVzZXJBZ2VudCxuPXR8fGU7cmV0dXJuISEobiYmbi5pbmRleE9mKCJFbGVjdHJvbiIpPj0wKX19LGZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7bi5kKGUsImEiLChmdW5jdGlvbigpe3JldHVybiBofSkpO3ZhciByPW4oNiksaT1uKDcpLGE9bigxNyksbz1uKDE1KSxzPW4oMTgpLHU9bigxMjYpLGM9bigyNyksbD1uKDgzKSxoPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXtyZXR1cm4gT2JqZWN0KHIuYSkodGhpcyxlKSxPYmplY3QoYS5hKSh0aGlzLE9iamVjdChvLmEpKGUpLmFwcGx5KHRoaXMsYXJndW1lbnRzKSl9cmV0dXJuIE9iamVjdChzLmEpKGUsdCksT2JqZWN0KGkuYSkoZSxbe2tleToibGVuIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiBNYXRoLnNxcnQodGhpcy5sZW5ndGhTcXVhcmVkKCkpfX0se2tleToibWFnbml0dWRlIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmxlbigpfX0se2tleToibGVuZ3RoU3F1YXJlZCIsdmFsdWU6ZnVuY3Rpb24oKXtmb3IodmFyIHQ9MCxlPTA7ZTx0aGlzLkVMRU1FTlRTOysrZSl0Kz10aGlzW2VdKnRoaXNbZV07cmV0dXJuIHR9fSx7a2V5OiJtYWduaXR1ZGVTcXVhcmVkIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmxlbmd0aFNxdWFyZWQoKX19LHtrZXk6ImRpc3RhbmNlIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gTWF0aC5zcXJ0KHRoaXMuZGlzdGFuY2VTcXVhcmVkKHQpKX19LHtrZXk6ImRpc3RhbmNlU3F1YXJlZCIsdmFsdWU6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPTAsbj0wO248dGhpcy5FTEVNRU5UUzsrK24pe3ZhciByPXRoaXNbbl0tdFtuXTtlKz1yKnJ9cmV0dXJuIE9iamVjdChjLmEpKGUpfX0se2tleToiZG90Iix2YWx1ZTpmdW5jdGlvbih0KXtmb3IodmFyIGU9MCxuPTA7bjx0aGlzLkVMRU1FTlRTOysrbillKz10aGlzW25dKnRbbl07cmV0dXJuIE9iamVjdChjLmEpKGUpfX0se2tleToibm9ybWFsaXplIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMubWFnbml0dWRlKCk7aWYoMCE9PXQpZm9yKHZhciBlPTA7ZTx0aGlzLkVMRU1FTlRTOysrZSl0aGlzW2VdLz10O3JldHVybiB0aGlzLmNoZWNrKCl9fSx7a2V5OiJtdWx0aXBseSIsdmFsdWU6ZnVuY3Rpb24oKXtmb3IodmFyIHQ9YXJndW1lbnRzLmxlbmd0aCxlPW5ldyBBcnJheSh0KSxuPTA7bjx0O24rKyllW25dPWFyZ3VtZW50c1tuXTtmb3IodmFyIHI9MCxpPWU7cjxpLmxlbmd0aDtyKyspZm9yKHZhciBhPWlbcl0sbz0wO288dGhpcy5FTEVNRU5UUzsrK28pdGhpc1tvXSo9YVtvXTtyZXR1cm4gdGhpcy5jaGVjaygpfX0se2tleToiZGl2aWRlIix2YWx1ZTpmdW5jdGlvbigpe2Zvcih2YXIgdD1hcmd1bWVudHMubGVuZ3RoLGU9bmV3IEFycmF5KHQpLG49MDtuPHQ7bisrKWVbbl09YXJndW1lbnRzW25dO2Zvcih2YXIgcj0wLGk9ZTtyPGkubGVuZ3RoO3IrKylmb3IodmFyIGE9aVtyXSxvPTA7bzx0aGlzLkVMRU1FTlRTOysrbyl0aGlzW29dLz1hW29dO3JldHVybiB0aGlzLmNoZWNrKCl9fSx7a2V5OiJsZW5ndGhTcSIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5sZW5ndGhTcXVhcmVkKCl9fSx7a2V5OiJkaXN0YW5jZVRvIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5kaXN0YW5jZSh0KX19LHtrZXk6ImRpc3RhbmNlVG9TcXVhcmVkIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5kaXN0YW5jZVNxdWFyZWQodCl9fSx7a2V5OiJnZXRDb21wb25lbnQiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3QobC5hKSh0Pj0wJiZ0PHRoaXMuRUxFTUVOVFMsImluZGV4IGlzIG91dCBvZiByYW5nZSIpLE9iamVjdChjLmEpKHRoaXNbdF0pfX0se2tleToic2V0Q29tcG9uZW50Iix2YWx1ZTpmdW5jdGlvbih0LGUpe3JldHVybiBPYmplY3QobC5hKSh0Pj0wJiZ0PHRoaXMuRUxFTUVOVFMsImluZGV4IGlzIG91dCBvZiByYW5nZSIpLHRoaXNbdF09ZSx0aGlzLmNoZWNrKCl9fSx7a2V5OiJhZGRWZWN0b3JzIix2YWx1ZTpmdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLmNvcHkodCkuYWRkKGUpfX0se2tleToic3ViVmVjdG9ycyIsdmFsdWU6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5jb3B5KHQpLnN1YnRyYWN0KGUpfX0se2tleToibXVsdGlwbHlWZWN0b3JzIix2YWx1ZTpmdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLmNvcHkodCkubXVsdGlwbHkoZSl9fSx7a2V5OiJhZGRTY2FsZWRWZWN0b3IiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuYWRkKG5ldyB0aGlzLmNvbnN0cnVjdG9yKHQpLm11bHRpcGx5U2NhbGFyKGUpKX19LHtrZXk6IngiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzWzBdfSxzZXQ6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXNbMF09T2JqZWN0KGMuYSkodCl9fSx7a2V5OiJ5IixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc1sxXX0sc2V0OmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzWzFdPU9iamVjdChjLmEpKHQpfX1dKSxlfSh1LmEpfSxmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO24uZChlLCJhIiwoZnVuY3Rpb24oKXtyZXR1cm4gaH0pKTt2YXIgcj1uKDYpLGk9big3KSxhPW4oMTcpLG89bigxNSkscz1uKDE4KSx1PW4oMTI2KSxjPW4oMjcpLGw9bigyMSksaD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7cmV0dXJuIE9iamVjdChyLmEpKHRoaXMsZSksT2JqZWN0KGEuYSkodGhpcyxPYmplY3Qoby5hKShlKS5hcHBseSh0aGlzLGFyZ3VtZW50cykpfXJldHVybiBPYmplY3Qocy5hKShlLHQpLE9iamVjdChpLmEpKGUsW3trZXk6InRvU3RyaW5nIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PSJbIjtpZihsLmIucHJpbnRSb3dNYWpvcil7dCs9InJvdy1tYWpvcjoiO2Zvcih2YXIgZT0wO2U8dGhpcy5SQU5LOysrZSlmb3IodmFyIG49MDtuPHRoaXMuUkFOSzsrK24pdCs9IiAiLmNvbmNhdCh0aGlzW24qdGhpcy5SQU5LK2VdKX1lbHNle3QrPSJjb2x1bW4tbWFqb3I6Ijtmb3IodmFyIHI9MDtyPHRoaXMuRUxFTUVOVFM7KytyKXQrPSIgIi5jb25jYXQodGhpc1tyXSl9cmV0dXJuIHQrPSJdIn19LHtrZXk6ImdldEVsZW1lbnRJbmRleCIsdmFsdWU6ZnVuY3Rpb24odCxlKXtyZXR1cm4gZSp0aGlzLlJBTksrdH19LHtrZXk6ImdldEVsZW1lbnQiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXNbZSp0aGlzLlJBTksrdF19fSx7a2V5OiJzZXRFbGVtZW50Iix2YWx1ZTpmdW5jdGlvbih0LGUsbil7cmV0dXJuIHRoaXNbZSp0aGlzLlJBTksrdF09T2JqZWN0KGMuYSkobiksdGhpc319LHtrZXk6ImdldENvbHVtbiIsdmFsdWU6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTpuZXcgQXJyYXkodGhpcy5SQU5LKS5maWxsKC0wKSxuPXQqdGhpcy5SQU5LLHI9MDtyPHRoaXMuUkFOSzsrK3IpZVtyXT10aGlzW24rcl07cmV0dXJuIGV9fSx7a2V5OiJzZXRDb2x1bW4iLHZhbHVlOmZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPXQqdGhpcy5SQU5LLHI9MDtyPHRoaXMuUkFOSzsrK3IpdGhpc1tuK3JdPWVbcl07cmV0dXJuIHRoaXN9fV0pLGV9KHUuYSl9LGZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7bi5kKGUsImEiLChmdW5jdGlvbigpe3JldHVybiBzfSkpO3ZhciByPW4oMSksaT1uLm4ociksYT1uKDIpLG89bi5uKGEpLHM9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUpe3ZhciBuPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp7fTtpKCkodGhpcyx0KTt2YXIgcj1uLmlkLGE9dm9pZCAwPT09cj8icGFzcyI6cjt0aGlzLmlkPWEsdGhpcy5nbD1lLHRoaXMucHJvcHM9e30sT2JqZWN0LmFzc2lnbih0aGlzLnByb3BzLG4pfXJldHVybiBvKCkodCxbe2tleToic2V0UHJvcHMiLHZhbHVlOmZ1bmN0aW9uKHQpe09iamVjdC5hc3NpZ24odGhpcy5wcm9wcyx0KX19LHtrZXk6InJlbmRlciIsdmFsdWU6ZnVuY3Rpb24oKXt9fSx7a2V5OiJjbGVhbnVwIix2YWx1ZTpmdW5jdGlvbigpe319XSksdH0oKX0sZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0IjtuLmQoZSwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIGN9KSk7dmFyIHI9bigxKSxpPW4ubihyKSxhPW4oMiksbz1uLm4oYSkscz1uKDgpLHU9bigyOSksYz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e307aSgpKHRoaXMsdCksQXJyYXkuaXNBcnJheShlKSYmKGU9e2NvbXBhcmU6ZSxleHRyYWN0OmUscmVxdWlyZWQ6ZX0pO3ZhciBuPWUscj1uLmNvbXBhcmUsYT1uLmV4dHJhY3Qsbz1uLnJlcXVpcmVkO3RoaXMuX3Byb3BzVG9Db21wYXJlPXIsdGhpcy5fcHJvcHNUb0V4dHJhY3Q9YSx0aGlzLl9yZXF1aXJlZFByb3BzPW99cmV0dXJuIG8oKSh0LFt7a2V5OiJhcmVQcm9wc0VxdWFsIix2YWx1ZTpmdW5jdGlvbih0LGUpe3ZhciBuPSEwLHI9ITEsaT12b2lkIDA7dHJ5e2Zvcih2YXIgYSxvPSh0aGlzLl9wcm9wc1RvQ29tcGFyZXx8T2JqZWN0LmtleXMoZSkpW1N5bWJvbC5pdGVyYXRvcl0oKTshKG49KGE9by5uZXh0KCkpLmRvbmUpO249ITApe3ZhciB1PWEudmFsdWU7aWYoISh1IGluIHQmJnUgaW4gZSYmT2JqZWN0KHMuaikodFt1XSxlW3VdKSkpcmV0dXJuITF9fWNhdGNoKHQpe3I9ITAsaT10fWZpbmFsbHl7dHJ5e258fG51bGw9PW8ucmV0dXJufHxvLnJldHVybigpfWZpbmFsbHl7aWYocil0aHJvdyBpfX1yZXR1cm4hMH19LHtrZXk6ImluaXRpYWxpemVQcm9wcyIsdmFsdWU6ZnVuY3Rpb24odCxlKXt2YXIgbjtpZih0aGlzLl9wcm9wc1RvRXh0cmFjdCl7dmFyIHI9e30saT17fSxhPSEwLG89ITEscz12b2lkIDA7dHJ5e2Zvcih2YXIgdSxjPXRoaXMuX3Byb3BzVG9FeHRyYWN0W1N5bWJvbC5pdGVyYXRvcl0oKTshKGE9KHU9Yy5uZXh0KCkpLmRvbmUpO2E9ITApe3ZhciBsPXUudmFsdWU7cltsXT10W2xdLGlbbF09ZVtsXX19Y2F0Y2godCl7bz0hMCxzPXR9ZmluYWxseXt0cnl7YXx8bnVsbD09Yy5yZXR1cm58fGMucmV0dXJuKCl9ZmluYWxseXtpZihvKXRocm93IHN9fW49e3N0YXJ0OnIsZW5kOml9fWVsc2Ugbj17c3RhcnQ6dCxlbmQ6ZX07cmV0dXJuIHRoaXMuX2NoZWNrUmVxdWlyZWRQcm9wcyhuLnN0YXJ0KSx0aGlzLl9jaGVja1JlcXVpcmVkUHJvcHMobi5lbmQpLG59fSx7a2V5OiJpbnRlcnBvbGF0ZVByb3BzIix2YWx1ZTpmdW5jdGlvbih0LGUsbil7cmV0dXJuIGV9fSx7a2V5OiJnZXREdXJhdGlvbiIsdmFsdWU6ZnVuY3Rpb24odCxlKXtyZXR1cm4gZS50cmFuc2l0aW9uRHVyYXRpb259fSx7a2V5OiJfY2hlY2tSZXF1aXJlZFByb3BzIix2YWx1ZTpmdW5jdGlvbih0KXt0aGlzLl9yZXF1aXJlZFByb3BzJiZ0aGlzLl9yZXF1aXJlZFByb3BzLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciBuPXRbZV07T2JqZWN0KHUuYSkoTnVtYmVyLmlzRmluaXRlKG4pfHxBcnJheS5pc0FycmF5KG4pLCIiLmNvbmNhdChlLCIgaXMgcmVxdWlyZWQgZm9yIHRyYW5zaXRpb24iKSl9KSl9fV0pLHR9KCl9LGZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7bi5kKGUsImEiLChmdW5jdGlvbigpe3JldHVybiBsfSkpO3ZhciByPW4oNSksaT1uLm4ociksYT1uKDEzKSxvPW4oNikscz1uKDcpLHU9big5NiksYz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSxuKXtPYmplY3Qoby5hKSh0aGlzLHQpLHRoaXMuX2ZpbGVPckJsb2I9ZSx0aGlzLmJvZHlVc2VkPSExfXZhciBlLG4scjtyZXR1cm4gT2JqZWN0KHMuYSkodCxbe2tleToiYXJyYXlCdWZmZXIiLHZhbHVlOihyPU9iamVjdChhLmEpKGkuYS5tYXJrKChmdW5jdGlvbiB0KCl7dmFyIGUsbixyO3JldHVybiBpLmEud3JhcCgoZnVuY3Rpb24odCl7Zm9yKDs7KXN3aXRjaCh0LnByZXY9dC5uZXh0KXtjYXNlIDA6cmV0dXJuIGU9dGhpcy5fZ2V0RmlsZVJlYWRlcigpLG49ZS5yZWFkZXIscj1lLnByb21pc2Usbi5yZWFkQXNBcnJheUJ1ZmZlcih0aGlzLl9maWxlT3JCbG9iKSx0LmFicnVwdCgicmV0dXJuIixyKTtjYXNlIDM6Y2FzZSJlbmQiOnJldHVybiB0LnN0b3AoKX19KSx0LHRoaXMpfSkpKSxmdW5jdGlvbigpe3JldHVybiByLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0pfSx7a2V5OiJ0ZXh0Iix2YWx1ZToobj1PYmplY3QoYS5hKShpLmEubWFyaygoZnVuY3Rpb24gdCgpe3ZhciBlLG4scjtyZXR1cm4gaS5hLndyYXAoKGZ1bmN0aW9uKHQpe2Zvcig7Oylzd2l0Y2godC5wcmV2PXQubmV4dCl7Y2FzZSAwOnJldHVybiBlPXRoaXMuX2dldEZpbGVSZWFkZXIoKSxuPWUucmVhZGVyLHI9ZS5wcm9taXNlLG4ucmVhZEFzVGV4dCh0aGlzLl9maWxlT3JCbG9iKSx0LmFicnVwdCgicmV0dXJuIixyKTtjYXNlIDM6Y2FzZSJlbmQiOnJldHVybiB0LnN0b3AoKX19KSx0LHRoaXMpfSkpKSxmdW5jdGlvbigpe3JldHVybiBuLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0pfSx7a2V5OiJqc29uIix2YWx1ZTooZT1PYmplY3QoYS5hKShpLmEubWFyaygoZnVuY3Rpb24gdCgpe3ZhciBlO3JldHVybiBpLmEud3JhcCgoZnVuY3Rpb24odCl7Zm9yKDs7KXN3aXRjaCh0LnByZXY9dC5uZXh0KXtjYXNlIDA6cmV0dXJuIHQubmV4dD0yLHRoaXMudGV4dCgpO2Nhc2UgMjpyZXR1cm4gZT10LnNlbnQsdC5hYnJ1cHQoInJldHVybiIsSlNPTi5wYXJzZShlKSk7Y2FzZSA0OmNhc2UiZW5kIjpyZXR1cm4gdC5zdG9wKCl9fSksdCx0aGlzKX0pKSksZnVuY3Rpb24oKXtyZXR1cm4gZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9KX0se2tleToiX2dldEZpbGVSZWFkZXIiLHZhbHVlOmZ1bmN0aW9uKCl7T2JqZWN0KHUuYSkoIXRoaXMuYm9keVVzZWQpLHRoaXMuYm9keVVzZWQ9ITA7dmFyIHQ9bmV3IEZpbGVSZWFkZXIsZT1uZXcgUHJvbWlzZSgoZnVuY3Rpb24oZSxuKXt0cnl7dC5vbmVycm9yPWZ1bmN0aW9uKHQpe3JldHVybiBuKG5ldyBFcnJvcigiUmVhZCBlcnJvciIpKX0sdC5vbmFib3J0PWZ1bmN0aW9uKCl7cmV0dXJuIG4obmV3IEVycm9yKCJSZWFkIGFib3J0ZWQuIikpfSx0Lm9ubG9hZD1mdW5jdGlvbigpe3JldHVybiBlKHQucmVzdWx0KX19Y2F0Y2godCl7bih0KX19KSk7cmV0dXJue3JlYWRlcjp0LHByb21pc2U6ZX19fSx7a2V5OiJoZWFkZXJzIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IEhlYWRlcnMoeyJDb250ZW50LUxlbmd0aCI6dGhpcy5fZmlsZU9yQmxvYi5zaXplLCJDb250ZW50LVR5cGUiOnRoaXMuX2ZpbGVPckJsb2IudHlwZX0pfX0se2tleToib2siLGdldDpmdW5jdGlvbigpe3JldHVybiEwfX0se2tleToic3RhdHVzIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gMjAwfX0se2tleToidXJsIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZmlsZU9yQmxvYi5uYW1lfHwiIn19XSksdH0oKTtmdW5jdGlvbiBsKHQsZSl7cmV0dXJuIFByb21pc2UucmVzb2x2ZShuZXcgYyh0LGUpKX19LGZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gcih0KXt0aGlzLndyYXBwZWQ9dH1uLmQoZSwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIHJ9KSl9LGZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7bi5kKGUsImEiLChmdW5jdGlvbigpe3JldHVybiB4fSkpO3ZhciByPW4oNCksaT1uLm4ociksYT1uKDEpLG89bi5uKGEpLHM9bigyKSx1PW4ubihzKSxjPW4oOSksbD1uLm4oYyksaD1uKDMpLGY9bi5uKGgpLGQ9bigxMiksdj1uLm4oZCkscD1uKDEwKSxnPW4ubihwKSx5PW4oMTAxKSxtPW4oMTEpO2Z1bmN0aW9uIGIodCxlKXt2YXIgbj1PYmplY3Qua2V5cyh0KTtpZihPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgcj1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHQpO2UmJihyPXIuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0LGUpLmVudW1lcmFibGV9KSkpLG4ucHVzaC5hcHBseShuLHIpfXJldHVybiBufWZ1bmN0aW9uIF8odCl7Zm9yKHZhciBlPTE7ZTxhcmd1bWVudHMubGVuZ3RoO2UrKyl7dmFyIG49bnVsbCE9YXJndW1lbnRzW2VdP2FyZ3VtZW50c1tlXTp7fTtlJTI/YihPYmplY3QobiksITApLmZvckVhY2goKGZ1bmN0aW9uKGUpe2koKSh0LGUsbltlXSl9KSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXModCxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhuKSk6YihPYmplY3QobikpLmZvckVhY2goKGZ1bmN0aW9uKGUpe09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LGUsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihuLGUpKX0pKX1yZXR1cm4gdH12YXIgTz17YmxlbmRGdW5jOlsxLDAsMzI3NzEsMF0sYmxlbmRFcXVhdGlvbjozMjc3NH0seD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7cmV0dXJuIG8oKSh0aGlzLGUpLGwoKSh0aGlzLGYoKShlKS5hcHBseSh0aGlzLGFyZ3VtZW50cykpfXJldHVybiBnKCkoZSx0KSx1KCkoZSxbe2tleToicmVuZGVyIix2YWx1ZTpmdW5jdGlvbih0KXt0LnBpY2tpbmdGQk8/dGhpcy5fZHJhd1BpY2tpbmdCdWZmZXIodCk6digpKGYoKShlLnByb3RvdHlwZSksInJlbmRlciIsdGhpcykuY2FsbCh0aGlzLHQpfX0se2tleToiX2RyYXdQaWNraW5nQnVmZmVyIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgbj10aGlzLHI9dC5sYXllcnMsaT10LmxheWVyRmlsdGVyLGE9dC52aWV3cG9ydHMsbz10Lm9uVmlld3BvcnRBY3RpdmUscz10LnBpY2tpbmdGQk8sdT10LmRldmljZVJlY3QsYz11LngsbD11LnksaD11LndpZHRoLGQ9dS5oZWlnaHQscD10LnBhc3MsZz12b2lkIDA9PT1wPyJwaWNraW5nIjpwLHk9dC5yZWRyYXdSZWFzb24sYj10LnBpY2taLHg9dGhpcy5nbDtyZXR1cm4gdGhpcy5waWNrWj1iLE9iamVjdChtLmwpKHgsXyh7c2Npc3NvclRlc3Q6ITAsc2Npc3NvcjpbYyxsLGgsZF0sY2xlYXJDb2xvcjpbMCwwLDAsMF0sZGVwdGhNYXNrOiEwLGRlcHRoVGVzdDohMCxkZXB0aFJhbmdlOlswLDFdLGNvbG9yTWFzazpbITAsITAsITAsITBdfSxPLHtibGVuZDohYn0pLChmdW5jdGlvbigpe3YoKShmKCkoZS5wcm90b3R5cGUpLCJyZW5kZXIiLG4pLmNhbGwobix7dGFyZ2V0OnMsbGF5ZXJzOnIsbGF5ZXJGaWx0ZXI6aSx2aWV3cG9ydHM6YSxvblZpZXdwb3J0QWN0aXZlOm8scGFzczpnLHJlZHJhd1JlYXNvbjp5fSl9KSl9fSx7a2V5OiJzaG91bGREcmF3TGF5ZXIiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0LnByb3BzLnBpY2thYmxlfX0se2tleToiZ2V0TW9kdWxlUGFyYW1ldGVycyIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm57cGlja2luZ0FjdGl2ZToxLHBpY2tpbmdBdHRyaWJ1dGU6dGhpcy5waWNrWixsaWdodFNvdXJjZXM6e319fX0se2tleToiZ2V0TGF5ZXJQYXJhbWV0ZXJzIix2YWx1ZTpmdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMucGlja1o/e2JsZW5kOiExfTpfKHt9LE8se2JsZW5kOiEwLGJsZW5kQ29sb3I6WzAsMCwwLChlKzEpLzI1NV19KTtyZXR1cm4gT2JqZWN0LmFzc2lnbih7fSx0LnByb3BzLnBhcmFtZXRlcnMsbil9fV0pLGV9KHkuYSl9LGZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gcih0KXtmb3IodmFyIGU9dC5kYXRhLG49dC5nZXRJbmRleCxyPXQuZGF0YVJhbmdlLGk9dC5yZXBsYWNlLGE9ci5zdGFydFJvdyxvPXZvaWQgMD09PWE/MDphLHM9ci5lbmRSb3csdT12b2lkIDA9PT1zPzEvMDpzLGM9ZS5sZW5ndGgsbD1jLGg9YyxmPTA7ZjxjO2YrKyl7dmFyIGQ9bihlW2ZdKTtpZihsPmYmJmQ+PW8mJihsPWYpLGQ+PXUpe2g9ZjticmVha319Zm9yKHZhciB2PWwscD1oLWwhPT1pLmxlbmd0aCxnPXAmJmUuc2xpY2UoaCkseT0wO3k8aS5sZW5ndGg7eSsrKWVbdisrXT1pW3ldO2lmKHApe2Zvcih2YXIgbT0wO208Zy5sZW5ndGg7bSsrKWVbdisrXT1nW21dO2UubGVuZ3RoPXZ9cmV0dXJue3N0YXJ0Um93OmwsZW5kUm93OmwraS5sZW5ndGh9fW4uZChlLCJhIiwoZnVuY3Rpb24oKXtyZXR1cm4gcn0pKX0sZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKDApLGk9big2KSxhPW4oNyksbz1uKDExKSxzPW4oMjMxKSx1PW4oMTE1KSxjPW4oMjgpLGw9bigxNzcpLGg9bigyOTApLGY9big3MiksZD1uKDQ4KSx2PW4oMTcpLHA9big0NyksZz1uKDE1KSx5PW4oODgpLG09bigxOCksYj1uKDUyKSxfPW51bGw7ZnVuY3Rpb24gTyh0LGUpe3ZhciBuO3JldHVybiBuZXcgdCgobj10LkJZVEVTX1BFUl9FTEVNRU5UKmUsKCFffHxfLmJ5dGVMZW5ndGg8bikmJihfPW5ldyBBcnJheUJ1ZmZlcihuKSksXyksMCxlKX12YXIgeD1uKDcwKSx3PW4oMTY1KSxrPW4oMTY2KTtmdW5jdGlvbiBTKHQpe2lmKCF0JiYhT2JqZWN0KHcuYSkoKSlyZXR1cm4iTm9kZSI7aWYoT2JqZWN0KGsuYSkodCkpcmV0dXJuIkVsZWN0cm9uIjt2YXIgZT0idW5kZWZpbmVkIiE9dHlwZW9mIG5hdmlnYXRvcj9uYXZpZ2F0b3I6e30sbj10fHxlLnVzZXJBZ2VudHx8IiI7aWYobi5pbmRleE9mKCJFZGdlIik+LTEpcmV0dXJuIkVkZ2UiO3ZhciByPS0xIT09bi5pbmRleE9mKCJNU0lFICIpLGk9LTEhPT1uLmluZGV4T2YoIlRyaWRlbnQvIik7cmV0dXJuIHJ8fGk/IklFIjp4LmIuY2hyb21lPyJDaHJvbWUiOnguYi5zYWZhcmk/IlNhZmFyaSI6eC5iLm1veklubmVyU2NyZWVuWD8iRmlyZWZveCI6IlVua25vd24ifXZhciBQPSJlbGVtZW50cyBtdXN0IGJlIEdMLkVMRU1FTlRfQVJSQVlfQlVGRkVSIixqPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUodCl7dmFyIG4scj1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06e307T2JqZWN0KGkuYSkodGhpcyxlKTt2YXIgYT1yLmlkfHxyLnByb2dyYW0mJnIucHJvZ3JhbS5pZDtyZXR1cm4obj1PYmplY3Qodi5hKSh0aGlzLE9iamVjdChnLmEpKGUpLmNhbGwodGhpcyx0LE9iamVjdC5hc3NpZ24oe30scix7aWQ6YX0pKSkpLmJ1ZmZlcj1udWxsLG4uYnVmZmVyVmFsdWU9bnVsbCxuLmlzRGVmYXVsdEFycmF5PXIuaXNEZWZhdWx0QXJyYXl8fCExLG4uaW5pdGlhbGl6ZShyKSxPYmplY3Quc2VhbChPYmplY3QocC5hKShuKSksbn1yZXR1cm4gT2JqZWN0KG0uYSkoZSx0KSxPYmplY3QoYS5hKShlLG51bGwsW3trZXk6ImlzU3VwcG9ydGVkIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06e307cmV0dXJuIWUuY29uc3RhbnRBdHRyaWJ1dGVaZXJvfHwoT2JqZWN0KG8uZykodCl8fCJDaHJvbWUiPT09UygpKX19LHtrZXk6ImdldERlZmF1bHRBcnJheSIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHQubHVtYT10Lmx1bWF8fHt9LHQubHVtYS5kZWZhdWx0VmVydGV4QXJyYXl8fCh0Lmx1bWEuZGVmYXVsdFZlcnRleEFycmF5PW5ldyBlKHQse2hhbmRsZTpudWxsLGlzRGVmYXVsdEFycmF5OiEwfSkpLHQubHVtYS5kZWZhdWx0VmVydGV4QXJyYXl9fSx7a2V5OiJnZXRNYXhBdHRyaWJ1dGVzIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gZS5NQVhfQVRUUklCVVRFUz1lLk1BWF9BVFRSSUJVVEVTfHx0LmdldFBhcmFtZXRlcigzNDkyMSksZS5NQVhfQVRUUklCVVRFU319LHtrZXk6InNldENvbnN0YW50Iix2YWx1ZTpmdW5jdGlvbih0LG4scil7c3dpdGNoKHIuY29uc3RydWN0b3Ipe2Nhc2UgRmxvYXQzMkFycmF5OmUuX3NldENvbnN0YW50RmxvYXRBcnJheSh0LG4scik7YnJlYWs7Y2FzZSBJbnQzMkFycmF5OmUuX3NldENvbnN0YW50SW50QXJyYXkodCxuLHIpO2JyZWFrO2Nhc2UgVWludDMyQXJyYXk6ZS5fc2V0Q29uc3RhbnRVaW50QXJyYXkodCxuLHIpO2JyZWFrO2RlZmF1bHQ6T2JqZWN0KGMuYSkoITEpfX19XSksT2JqZWN0KGEuYSkoZSxbe2tleToiZGVsZXRlIix2YWx1ZTpmdW5jdGlvbigpe09iamVjdCh5LmEpKE9iamVjdChnLmEpKGUucHJvdG90eXBlKSwiZGVsZXRlIix0aGlzKS5jYWxsKHRoaXMpLHRoaXMuYnVmZmVyJiZ0aGlzLmJ1ZmZlci5kZWxldGUoKX19LHtrZXk6ImluaXRpYWxpemUiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9O3JldHVybiB0aGlzLnNldFByb3BzKHQpfX0se2tleToic2V0UHJvcHMiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzfX0se2tleToic2V0RWxlbWVudEJ1ZmZlciIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOm51bGw7YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0mJmFyZ3VtZW50c1sxXTtyZXR1cm4gT2JqZWN0KGMuYSkoIWV8fDM0OTYzPT09ZS50YXJnZXQsUCksdGhpcy5iaW5kKChmdW5jdGlvbigpe3QuZ2wuYmluZEJ1ZmZlcigzNDk2MyxlP2UuaGFuZGxlOm51bGwpfSkpLHRoaXN9fSx7a2V5OiJzZXRCdWZmZXIiLHZhbHVlOmZ1bmN0aW9uKHQsZSxuKXtpZigzNDk2Mz09PWUudGFyZ2V0KXJldHVybiB0aGlzLnNldEVsZW1lbnRCdWZmZXIoZSxuKTt2YXIgcj1uLnNpemUsaT1uLnR5cGUsYT1uLnN0cmlkZSxzPW4ub2Zmc2V0LHU9bi5ub3JtYWxpemVkLGw9bi5pbnRlZ2VyLGg9bi5kaXZpc29yLGY9dGhpcy5nbDtyZXR1cm4gdD1OdW1iZXIodCksdGhpcy5iaW5kKChmdW5jdGlvbigpe2YuYmluZEJ1ZmZlcigzNDk2MixlLmhhbmRsZSksbD8oT2JqZWN0KGMuYSkoT2JqZWN0KG8uZykoZikpLGYudmVydGV4QXR0cmliSVBvaW50ZXIodCxyLGksYSxzKSk6Zi52ZXJ0ZXhBdHRyaWJQb2ludGVyKHQscixpLHUsYSxzKSxmLmVuYWJsZVZlcnRleEF0dHJpYkFycmF5KHQpLGYudmVydGV4QXR0cmliRGl2aXNvcih0LGh8fDApfSkpLHRoaXN9fSx7a2V5OiJlbmFibGUiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBuPXRoaXMscj0hKGFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdKXx8YXJndW1lbnRzWzFdLGk9IXImJjA9PT10JiYhZS5pc1N1cHBvcnRlZCh0aGlzLmdsLHtjb25zdGFudEF0dHJpYnV0ZVplcm86ITB9KTtyZXR1cm4gaXx8KHQ9TnVtYmVyKHQpLHRoaXMuYmluZCgoZnVuY3Rpb24oKXtyZXR1cm4gcj9uLmdsLmVuYWJsZVZlcnRleEF0dHJpYkFycmF5KHQpOm4uZ2wuZGlzYWJsZVZlcnRleEF0dHJpYkFycmF5KHQpfSkpKSx0aGlzfX0se2tleToiZ2V0Q29uc3RhbnRCdWZmZXIiLHZhbHVlOmZ1bmN0aW9uKHQsZSxuKXt2YXIgcj10aGlzLl9ub3JtYWxpemVDb25zdGFudEFycmF5VmFsdWUoZSxuKSxpPXIuYnl0ZUxlbmd0aCp0LGE9ci5sZW5ndGgqdCxvPSF0aGlzLmJ1ZmZlcjtpZih0aGlzLmJ1ZmZlcj10aGlzLmJ1ZmZlcnx8bmV3IGQuYSh0aGlzLmdsLGkpLG89KG89b3x8dGhpcy5idWZmZXIucmVhbGxvY2F0ZShpKSl8fCF0aGlzLl9jb21wYXJlQ29uc3RhbnRBcnJheVZhbHVlcyhyLHRoaXMuYnVmZmVyVmFsdWUpKXt2YXIgcz1PKGUuY29uc3RydWN0b3IsYSk7IWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10LnRhcmdldCxuPXQuc291cmNlLHI9dC5zdGFydCxpPXZvaWQgMD09PXI/MDpyLGE9dC5jb3VudCxvPXZvaWQgMD09PWE/MTphLHM9bi5sZW5ndGgsdT1vKnMsYz0wLGw9aTtjPHM7YysrKWVbbCsrXT1uW2NdO2Zvcig7Yzx1OyljPHUtYz8oZS5jb3B5V2l0aGluKGkrYyxpLGkrYyksYyo9Mik6KGUuY29weVdpdGhpbihpK2MsaSxpK3UtYyksYz11KX0oe3RhcmdldDpzLHNvdXJjZTpyLHN0YXJ0OjAsY291bnQ6YX0pLHRoaXMuYnVmZmVyLnN1YkRhdGEocyksdGhpcy5idWZmZXJWYWx1ZT1lfXJldHVybiB0aGlzLmJ1ZmZlcn19LHtrZXk6Il9ub3JtYWxpemVDb25zdGFudEFycmF5VmFsdWUiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIEFycmF5LmlzQXJyYXkodCk/bmV3IEZsb2F0MzJBcnJheSh0KTp0fX0se2tleToiX2NvbXBhcmVDb25zdGFudEFycmF5VmFsdWVzIix2YWx1ZTpmdW5jdGlvbih0LGUpe2lmKCF0fHwhZXx8dC5sZW5ndGghPT1lLmxlbmd0aHx8dC5jb25zdHJ1Y3RvciE9PWUuY29uc3RydWN0b3IpcmV0dXJuITE7Zm9yKHZhciBuPTA7bjx0Lmxlbmd0aDsrK24paWYodFtuXSE9PWVbbl0pcmV0dXJuITE7cmV0dXJuITB9fSx7a2V5OiJfY3JlYXRlSGFuZGxlIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmdsLmNyZWF0ZVZlcnRleEFycmF5KCl9fSx7a2V5OiJfZGVsZXRlSGFuZGxlIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5nbC5kZWxldGVWZXJ0ZXhBcnJheSh0KSxbdGhpcy5lbGVtZW50c119fSx7a2V5OiJfYmluZEhhbmRsZSIsdmFsdWU6ZnVuY3Rpb24odCl7dGhpcy5nbC5iaW5kVmVydGV4QXJyYXkodCl9fSx7a2V5OiJfZ2V0UGFyYW1ldGVyIix2YWx1ZTpmdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMscj1lLmxvY2F0aW9uO3JldHVybiBPYmplY3QoYy5hKShOdW1iZXIuaXNGaW5pdGUocikpLHRoaXMuYmluZCgoZnVuY3Rpb24oKXtzd2l0Y2godCl7Y2FzZSAzNDM3MzpyZXR1cm4gbi5nbC5nZXRWZXJ0ZXhBdHRyaWJPZmZzZXQocix0KTtkZWZhdWx0OnJldHVybiBuLmdsLmdldFZlcnRleEF0dHJpYihyLHQpfX0pKX19LHtrZXk6Ik1BWF9BVFRSSUJVVEVTIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZS5nZXRNYXhBdHRyaWJ1dGVzKHRoaXMuZ2wpfX1dLFt7a2V5OiJfc2V0Q29uc3RhbnRGbG9hdEFycmF5Iix2YWx1ZTpmdW5jdGlvbih0LGUsbil7c3dpdGNoKG4ubGVuZ3RoKXtjYXNlIDE6dC52ZXJ0ZXhBdHRyaWIxZnYoZSxuKTticmVhaztjYXNlIDI6dC52ZXJ0ZXhBdHRyaWIyZnYoZSxuKTticmVhaztjYXNlIDM6dC52ZXJ0ZXhBdHRyaWIzZnYoZSxuKTticmVhaztjYXNlIDQ6dC52ZXJ0ZXhBdHRyaWI0ZnYoZSxuKTticmVhaztkZWZhdWx0Ok9iamVjdChjLmEpKCExKX19fSx7a2V5OiJfc2V0Q29uc3RhbnRJbnRBcnJheSIsdmFsdWU6ZnVuY3Rpb24odCxlLG4pe3N3aXRjaChPYmplY3QoYy5hKShPYmplY3Qoby5nKSh0KSksbi5sZW5ndGgpe2Nhc2UgMTp0LnZlcnRleEF0dHJpYkkxaXYoZSxuKTticmVhaztjYXNlIDI6dC52ZXJ0ZXhBdHRyaWJJMml2KGUsbik7YnJlYWs7Y2FzZSAzOnQudmVydGV4QXR0cmliSTNpdihlLG4pO2JyZWFrO2Nhc2UgNDp0LnZlcnRleEF0dHJpYkk0aXYoZSxuKTticmVhaztkZWZhdWx0Ok9iamVjdChjLmEpKCExKX19fSx7a2V5OiJfc2V0Q29uc3RhbnRVaW50QXJyYXkiLHZhbHVlOmZ1bmN0aW9uKHQsZSxuKXtzd2l0Y2goT2JqZWN0KGMuYSkoT2JqZWN0KG8uZykodCkpLG4ubGVuZ3RoKXtjYXNlIDE6dC52ZXJ0ZXhBdHRyaWJJMXVpdihlLG4pO2JyZWFrO2Nhc2UgMjp0LnZlcnRleEF0dHJpYkkydWl2KGUsbik7YnJlYWs7Y2FzZSAzOnQudmVydGV4QXR0cmliSTN1aXYoZSxuKTticmVhaztjYXNlIDQ6dC52ZXJ0ZXhBdHRyaWJJNHVpdihlLG4pO2JyZWFrO2RlZmF1bHQ6T2JqZWN0KGMuYSkoITEpfX19XSksZX0oYi5hKSxUPW4oMjc0KSxFPS9eKC4rKV9fTE9DQVRJT05fKFswLTldKykkLyxBPVsic2V0QnVmZmVycyIsInNldEdlbmVyaWMiLCJjbGVhckJpbmRpbmdzIiwic2V0TG9jYXRpb25zIiwic2V0R2VuZXJpY1ZhbHVlcyIsInNldERpdmlzb3IiLCJlbmFibGUiLCJkaXNhYmxlIl0sTT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSl7dmFyIG49YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOnt9O09iamVjdChpLmEpKHRoaXMsdCk7dmFyIHI9bi5pZHx8bi5wcm9ncmFtJiZuLnByb2dyYW0uaWQ7dGhpcy5pZD1yLHRoaXMuZ2w9ZSx0aGlzLmNvbmZpZ3VyYXRpb249bnVsbCx0aGlzLmVsZW1lbnRzPW51bGwsdGhpcy5lbGVtZW50c0FjY2Vzc29yPW51bGwsdGhpcy52YWx1ZXM9bnVsbCx0aGlzLmFjY2Vzc29ycz1udWxsLHRoaXMudW51c2VkPW51bGwsdGhpcy5kcmF3UGFyYW1zPW51bGwsdGhpcy5idWZmZXI9bnVsbCx0aGlzLmF0dHJpYnV0ZXM9e30sdGhpcy52ZXJ0ZXhBcnJheU9iamVjdD1uZXcgaihlKSxPYmplY3QoVC5hKSh0aGlzLCJWZXJ0ZXhBcnJheSIsInY2LjAiLEEpLHRoaXMuaW5pdGlhbGl6ZShuKSxPYmplY3Quc2VhbCh0aGlzKX1yZXR1cm4gT2JqZWN0KGEuYSkodCxbe2tleToiZGVsZXRlIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuYnVmZmVyJiZ0aGlzLmJ1ZmZlci5kZWxldGUoKSx0aGlzLnZlcnRleEFycmF5T2JqZWN0LmRlbGV0ZSgpfX0se2tleToiaW5pdGlhbGl6ZSIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e307cmV0dXJuIHRoaXMucmVzZXQoKSx0aGlzLmNvbmZpZ3VyYXRpb249bnVsbCx0aGlzLmJpbmRPblVzZT0hMSx0aGlzLnNldFByb3BzKHQpfX0se2tleToicmVzZXQiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50cz1udWxsLHRoaXMuZWxlbWVudHNBY2Nlc3Nvcj1udWxsO3ZhciB0PXRoaXMudmVydGV4QXJyYXlPYmplY3QuTUFYX0FUVFJJQlVURVM7cmV0dXJuIHRoaXMudmFsdWVzPW5ldyBBcnJheSh0KS5maWxsKG51bGwpLHRoaXMuYWNjZXNzb3JzPW5ldyBBcnJheSh0KS5maWxsKG51bGwpLHRoaXMudW51c2VkPXt9LHRoaXMuZHJhd1BhcmFtcz1udWxsLHRoaXN9fSx7a2V5OiJzZXRQcm9wcyIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuInByb2dyYW0iaW4gdCYmKHRoaXMuY29uZmlndXJhdGlvbj10LnByb2dyYW0mJnQucHJvZ3JhbS5jb25maWd1cmF0aW9uKSwiY29uZmlndXJhdGlvbiJpbiB0JiYodGhpcy5jb25maWd1cmF0aW9uPXQuY29uZmlndXJhdGlvbiksImF0dHJpYnV0ZXMiaW4gdCYmdGhpcy5zZXRBdHRyaWJ1dGVzKHQuYXR0cmlidXRlcyksImVsZW1lbnRzImluIHQmJnRoaXMuc2V0RWxlbWVudEJ1ZmZlcih0LmVsZW1lbnRzKSwiYmluZE9uVXNlImluIHQmJih0PXQuYmluZE9uVXNlKSx0aGlzfX0se2tleToiY2xlYXJEcmF3UGFyYW1zIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuZHJhd1BhcmFtcz1udWxsfX0se2tleToiZ2V0RHJhd1BhcmFtcyIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kcmF3UGFyYW1zPXRoaXMuZHJhd1BhcmFtc3x8dGhpcy5fdXBkYXRlRHJhd1BhcmFtcygpLHRoaXMuZHJhd1BhcmFtc319LHtrZXk6InNldEF0dHJpYnV0ZXMiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7cmV0dXJuIE9iamVjdC5hc3NpZ24odGhpcy5hdHRyaWJ1dGVzLHQpLHRoaXMudmVydGV4QXJyYXlPYmplY3QuYmluZCgoZnVuY3Rpb24oKXtmb3IodmFyIG4gaW4gdCl7dmFyIHI9dFtuXTtlLl9zZXRBdHRyaWJ1dGUobixyKX1lLmdsLmJpbmRCdWZmZXIoMzQ5NjIsbnVsbCl9KSksdGhpc319LHtrZXk6InNldEVsZW1lbnRCdWZmZXIiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOm51bGwsZT1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06e307cmV0dXJuIHRoaXMuZWxlbWVudHM9dCx0aGlzLmVsZW1lbnRzQWNjZXNzb3I9ZSx0aGlzLmNsZWFyRHJhd1BhcmFtcygpLHRoaXMudmVydGV4QXJyYXlPYmplY3Quc2V0RWxlbWVudEJ1ZmZlcih0LGUpLHRoaXN9fSx7a2V5OiJzZXRCdWZmZXIiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dmFyIG49YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOnt9O2lmKDM0OTYzPT09ZS50YXJnZXQpcmV0dXJuIHRoaXMuc2V0RWxlbWVudEJ1ZmZlcihlLG4pO3ZhciByPXRoaXMuX3Jlc29sdmVMb2NhdGlvbkFuZEFjY2Vzc29yKHQsZSxlLmFjY2Vzc29yLG4pLGk9ci5sb2NhdGlvbixhPXIuYWNjZXNzb3I7cmV0dXJuIGk+PTAmJih0aGlzLnZhbHVlc1tpXT1lLHRoaXMuYWNjZXNzb3JzW2ldPWEsdGhpcy5jbGVhckRyYXdQYXJhbXMoKSx0aGlzLnZlcnRleEFycmF5T2JqZWN0LnNldEJ1ZmZlcihpLGUsYSkpLHRoaXN9fSx7a2V5OiJzZXRDb25zdGFudCIsdmFsdWU6ZnVuY3Rpb24odCxlKXt2YXIgbj1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06e30scj10aGlzLl9yZXNvbHZlTG9jYXRpb25BbmRBY2Nlc3Nvcih0LGUsT2JqZWN0LmFzc2lnbih7c2l6ZTplLmxlbmd0aH0sbikpLGk9ci5sb2NhdGlvbixhPXIuYWNjZXNzb3I7cmV0dXJuIGk+PTAmJihlPXRoaXMudmVydGV4QXJyYXlPYmplY3QuX25vcm1hbGl6ZUNvbnN0YW50QXJyYXlWYWx1ZShlLGEpLHRoaXMudmFsdWVzW2ldPWUsdGhpcy5hY2Nlc3NvcnNbaV09YSx0aGlzLmNsZWFyRHJhd1BhcmFtcygpLHRoaXMudmVydGV4QXJyYXlPYmplY3QuZW5hYmxlKGksITEpKSx0aGlzfX0se2tleToidW5iaW5kQnVmZmVycyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3JldHVybiB0aGlzLnZlcnRleEFycmF5T2JqZWN0LmJpbmQoKGZ1bmN0aW9uKCl7dC5lbGVtZW50cyYmdC52ZXJ0ZXhBcnJheU9iamVjdC5zZXRFbGVtZW50QnVmZmVyKG51bGwpLHQuYnVmZmVyPXQuYnVmZmVyfHxuZXcgZC5hKHQuZ2wse2FjY2Vzc29yOntzaXplOjR9fSk7Zm9yKHZhciBlPTA7ZTx0LnZlcnRleEFycmF5T2JqZWN0Lk1BWF9BVFRSSUJVVEVTO2UrKyl0LnZhbHVlc1tlXWluc3RhbmNlb2YgZC5hJiYodC5nbC5kaXNhYmxlVmVydGV4QXR0cmliQXJyYXkoZSksdC5nbC5iaW5kQnVmZmVyKDM0OTYyLHQuYnVmZmVyLmhhbmRsZSksdC5nbC52ZXJ0ZXhBdHRyaWJQb2ludGVyKGUsMSw1MTI2LCExLDAsMCkpfSkpLHRoaXN9fSx7a2V5OiJiaW5kQnVmZmVycyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3JldHVybiB0aGlzLnZlcnRleEFycmF5T2JqZWN0LmJpbmQoKGZ1bmN0aW9uKCl7dC5lbGVtZW50cyYmdC5zZXRFbGVtZW50QnVmZmVyKHQuZWxlbWVudHMpO2Zvcih2YXIgZT0wO2U8dC52ZXJ0ZXhBcnJheU9iamVjdC5NQVhfQVRUUklCVVRFUztlKyspe3ZhciBuPXQudmFsdWVzW2VdO24gaW5zdGFuY2VvZiBkLmEmJnQuc2V0QnVmZmVyKGUsbil9fSkpLHRoaXN9fSx7a2V5OiJiaW5kRm9yRHJhdyIsdmFsdWU6ZnVuY3Rpb24odCxlLG4pe3ZhciByLGk9dGhpcztyZXR1cm4gdGhpcy52ZXJ0ZXhBcnJheU9iamVjdC5iaW5kKChmdW5jdGlvbigpe2kuX3NldENvbnN0YW50QXR0cmlidXRlcyh0LGUpLHI9bigpfSkpLHJ9fSx7a2V5OiJfcmVzb2x2ZUxvY2F0aW9uQW5kQWNjZXNzb3IiLHZhbHVlOmZ1bmN0aW9uKHQsZSxuLHIpe3ZhciBpPXRoaXMsYT10aGlzLl9nZXRBdHRyaWJ1dGVJbmRleCh0KSxzPWEubG9jYXRpb24sdT1hLm5hbWU7aWYoIU51bWJlci5pc0Zpbml0ZShzKXx8czwwKXJldHVybiB0aGlzLnVudXNlZFt0XT1lLG8uaC5vbmNlKDMsKGZ1bmN0aW9uKCl7cmV0dXJuInVudXNlZCB2YWx1ZSAiLmNvbmNhdCh0LCIgaW4gIikuY29uY2F0KGkuaWQpfSkpKCksdGhpczt2YXIgbD10aGlzLl9nZXRBdHRyaWJ1dGVJbmZvKHV8fHMpO2lmKCFsKXJldHVybntsb2NhdGlvbjotMSxhY2Nlc3NvcjpudWxsfTt2YXIgaD10aGlzLmFjY2Vzc29yc1tzXXx8e30sZD1mLmEucmVzb2x2ZShsLmFjY2Vzc29yLGgsbixyKSx2PWQuc2l6ZSxwPWQudHlwZTtyZXR1cm4gT2JqZWN0KGMuYSkoTnVtYmVyLmlzRmluaXRlKHYpJiZOdW1iZXIuaXNGaW5pdGUocCkpLHtsb2NhdGlvbjpzLGFjY2Vzc29yOmR9fX0se2tleToiX2dldEF0dHJpYnV0ZUluZm8iLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmNvbmZpZ3VyYXRpb24mJnRoaXMuY29uZmlndXJhdGlvbi5nZXRBdHRyaWJ1dGVJbmZvKHQpfX0se2tleToiX2dldEF0dHJpYnV0ZUluZGV4Iix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT1OdW1iZXIodCk7aWYoTnVtYmVyLmlzRmluaXRlKGUpKXJldHVybntsb2NhdGlvbjplfTt2YXIgbj1FLmV4ZWModCkscj1uP25bMV06dCxpPW4/TnVtYmVyKG5bMl0pOjA7cmV0dXJuIHRoaXMuY29uZmlndXJhdGlvbj97bG9jYXRpb246dGhpcy5jb25maWd1cmF0aW9uLmdldEF0dHJpYnV0ZUxvY2F0aW9uKHIpK2ksbmFtZTpyfTp7bG9jYXRpb246LTF9fX0se2tleToiX3NldEF0dHJpYnV0ZSIsdmFsdWU6ZnVuY3Rpb24odCxlKXtpZihlIGluc3RhbmNlb2YgZC5hKXRoaXMuc2V0QnVmZmVyKHQsZSk7ZWxzZSBpZihBcnJheS5pc0FycmF5KGUpJiZlLmxlbmd0aCYmZVswXWluc3RhbmNlb2YgZC5hKXt2YXIgbj1lWzBdLHI9ZVsxXTt0aGlzLnNldEJ1ZmZlcih0LG4scil9ZWxzZSBpZihBcnJheUJ1ZmZlci5pc1ZpZXcoZSl8fEFycmF5LmlzQXJyYXkoZSkpe3ZhciBpPWU7dGhpcy5zZXRDb25zdGFudCh0LGkpfWVsc2V7aWYoIShlLmJ1ZmZlciBpbnN0YW5jZW9mIGQuYSkpdGhyb3cgbmV3IEVycm9yKCJWZXJ0ZXhBcnJheTogYXR0cmlidXRlcyBtdXN0IGJlIEJ1ZmZlcnMgb3IgY29uc3RhbnRzIChpLmUuIHR5cGVkIGFycmF5KSIpO3ZhciBhPWU7dGhpcy5zZXRCdWZmZXIodCxhLmJ1ZmZlcixhKX19fSx7a2V5OiJfc2V0Q29uc3RhbnRBdHRyaWJ1dGVzIix2YWx1ZTpmdW5jdGlvbih0LGUpe3ZhciBuPU1hdGgubWF4KDB8dCwwfGUpLHI9dGhpcy52YWx1ZXNbMF07QXJyYXlCdWZmZXIuaXNWaWV3KHIpJiZ0aGlzLl9zZXRDb25zdGFudEF0dHJpYnV0ZVplcm8ocixuKTtmb3IodmFyIGk9MTtpPHRoaXMudmVydGV4QXJyYXlPYmplY3QuTUFYX0FUVFJJQlVURVM7aSsrKXI9dGhpcy52YWx1ZXNbaV0sQXJyYXlCdWZmZXIuaXNWaWV3KHIpJiZ0aGlzLl9zZXRDb25zdGFudEF0dHJpYnV0ZShpLHIpfX0se2tleToiX3NldENvbnN0YW50QXR0cmlidXRlWmVybyIsdmFsdWU6ZnVuY3Rpb24odCxlKXtpZihqLmlzU3VwcG9ydGVkKHRoaXMuZ2wse2NvbnN0YW50QXR0cmlidXRlWmVybzohMH0pKXRoaXMuX3NldENvbnN0YW50QXR0cmlidXRlKDAsdCk7ZWxzZXt2YXIgbj10aGlzLnZlcnRleEFycmF5T2JqZWN0LmdldENvbnN0YW50QnVmZmVyKGUsdCk7dGhpcy52ZXJ0ZXhBcnJheU9iamVjdC5zZXRCdWZmZXIoMCxuLHRoaXMuYWNjZXNzb3JzWzBdKX19fSx7a2V5OiJfc2V0Q29uc3RhbnRBdHRyaWJ1dGUiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7ai5zZXRDb25zdGFudCh0aGlzLmdsLHQsZSl9fSx7a2V5OiJfdXBkYXRlRHJhd1BhcmFtcyIsdmFsdWU6ZnVuY3Rpb24oKXtmb3IodmFyIHQ9e2lzSW5kZXhlZDohMSxpc0luc3RhbmNlZDohMSxpbmRleENvdW50OjEvMCx2ZXJ0ZXhDb3VudDoxLzAsaW5zdGFuY2VDb3VudDoxLzB9LGU9MDtlPHRoaXMudmVydGV4QXJyYXlPYmplY3QuTUFYX0FUVFJJQlVURVM7ZSsrKXRoaXMuX3VwZGF0ZURyYXdQYXJhbXNGb3JMb2NhdGlvbih0LGUpO3JldHVybiB0aGlzLmVsZW1lbnRzJiYodC5lbGVtZW50Q291bnQ9dGhpcy5lbGVtZW50cy5nZXRFbGVtZW50Q291bnQodGhpcy5lbGVtZW50cy5hY2Nlc3NvciksdC5pc0luZGV4ZWQ9ITAsdC5pbmRleFR5cGU9dGhpcy5lbGVtZW50c0FjY2Vzc29yLnR5cGV8fHRoaXMuZWxlbWVudHMuYWNjZXNzb3IudHlwZSx0LmluZGV4T2Zmc2V0PXRoaXMuZWxlbWVudHNBY2Nlc3Nvci5vZmZzZXR8fDApLHQuaW5kZXhDb3VudD09PTEvMCYmKHQuaW5kZXhDb3VudD0wKSx0LnZlcnRleENvdW50PT09MS8wJiYodC52ZXJ0ZXhDb3VudD0wKSx0Lmluc3RhbmNlQ291bnQ9PT0xLzAmJih0Lmluc3RhbmNlQ291bnQ9MCksdH19LHtrZXk6Il91cGRhdGVEcmF3UGFyYW1zRm9yTG9jYXRpb24iLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy52YWx1ZXNbZV0scj10aGlzLmFjY2Vzc29yc1tlXTtpZihuKXt2YXIgaT1yLmRpdmlzb3I+MDtpZih0LmlzSW5zdGFuY2VkPXQuaXNJbnN0YW5jZWR8fGksbiBpbnN0YW5jZW9mIGQuYSl7dmFyIGE9bjtpZihpKXt2YXIgbz1hLmdldFZlcnRleENvdW50KHIpO3QuaW5zdGFuY2VDb3VudD1NYXRoLm1pbih0Lmluc3RhbmNlQ291bnQsbyl9ZWxzZXt2YXIgcz1hLmdldFZlcnRleENvdW50KHIpO3QudmVydGV4Q291bnQ9TWF0aC5taW4odC52ZXJ0ZXhDb3VudCxzKX19fX19LHtrZXk6InNldEVsZW1lbnRzIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTpudWxsLGU9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOnt9O3JldHVybiBvLmguZGVwcmVjYXRlZCgic2V0RWxlbWVudHMiLCJzZXRFbGVtZW50QnVmZmVyIikoKSx0aGlzLnNldEVsZW1lbnRCdWZmZXIodCxlKX19XSksdH0oKSxDPW4oMjg4KSxMPW4oMTA1KSxJPW4oOTQpO2Z1bmN0aW9uIFIodCxlKXtmb3IodmFyIG49ZS5tYXhFbHRzLHI9dm9pZCAwPT09bj8xNjpuLGk9ZS5zaXplLGE9dm9pZCAwPT09aT8xOmksbz0iWyIscz0wO3M8dC5sZW5ndGgmJnM8cjsrK3Mpcz4wJiYobys9IiwiLmNvbmNhdChzJWE9PTA/IiAiOiIiKSksbys9Tih0W3NdLGUpO3ZhciB1PXQubGVuZ3RoPnI/Ii4uLiI6Il0iO3JldHVybiIiLmNvbmNhdChvKS5jb25jYXQodSl9ZnVuY3Rpb24gTih0KXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06e30sbj0xZS0xNixyPWUuaXNJbnRlZ2VyLGk9dm9pZCAwIT09ciYmcjtpZihBcnJheS5pc0FycmF5KHQpfHxBcnJheUJ1ZmZlci5pc1ZpZXcodCkpcmV0dXJuIFIodCxlKTtpZighTnVtYmVyLmlzRmluaXRlKHQpKXJldHVybiBTdHJpbmcodCk7aWYoTWF0aC5hYnModCk8bilyZXR1cm4gaT8iMCI6IjAuIjtpZihpKXJldHVybiB0LnRvRml4ZWQoMCk7aWYoTWF0aC5hYnModCk+MTAwJiZNYXRoLmFicyh0KTwxZTQpcmV0dXJuIHQudG9GaXhlZCgwKTt2YXIgYT10LnRvUHJlY2lzaW9uKDIpLG89YS5pbmRleE9mKCIuMCIpO3JldHVybiBvPT09YS5sZW5ndGgtMj9hLnNsaWNlKDAsLTEpOmF9ZnVuY3Rpb24gRCh0LGUsbixpKXt2YXIgYSxvLHM9dC5nbDtpZighZSlyZXR1cm4gbz17fSxPYmplY3Qoci5hKShvLGksIm51bGwiKSxPYmplY3Qoci5hKShvLCJGb3JtYXQgIiwiTi9BIiksbzt2YXIgdSxjLGwsaD0iTk9UIFBST1ZJREVEIixmPSJOL0EiLHY9Ik4vQSIscD0iTi9BIjtpZihuJiYoaD1uLnR5cGUsZj1uLnNpemUsdT0tMSE9PShoPVN0cmluZyhoKS5yZXBsYWNlKCJBcnJheSIsIiIpKS5pbmRleE9mKCJudCIpKSxlIGluc3RhbmNlb2YgZC5hKXt2YXIgZyx5LG09ZSxiPW0uZ2V0RGVidWdEYXRhKCksXz1iLmRhdGE7aWYoYz1iLm1vZGlmaWVkPyIqIjoiIixsPV8sdj0ocD1tLmJ5dGVMZW5ndGgpL18uQllURVNfUEVSX0VMRU1FTlQvZixuKXt2YXIgTz1uLmRpdmlzb3I+MDt5PSIiLmNvbmNhdChPPyJJICI6IlAgIiwiICIpLmNvbmNhdCh2LCIgKHgiKS5jb25jYXQoZiwiPSIpLmNvbmNhdChwLCIgYnl0ZXMgIikuY29uY2F0KE9iamVjdChMLmEpKHMsaCksIikiKX1lbHNlIHU9ITAseT0iIi5jb25jYXQocCwiIGJ5dGVzIik7cmV0dXJuIGc9e30sT2JqZWN0KHIuYSkoZyxpLCIiLmNvbmNhdChjKS5jb25jYXQoTihsLHtzaXplOmYsaXNJbnRlZ2VyOnV9KSkpLE9iamVjdChyLmEpKGcsIkZvcm1hdCAiLHkpLGd9cmV0dXJuIGw9ZSxmPWUubGVuZ3RoLHU9LTEhPT0oaD1TdHJpbmcoZS5jb25zdHJ1Y3Rvci5uYW1lKS5yZXBsYWNlKCJBcnJheSIsIiIpKS5pbmRleE9mKCJudCIpLGE9e30sT2JqZWN0KHIuYSkoYSxpLCIiLmNvbmNhdChOKGwse3NpemU6Zixpc0ludGVnZXI6dX0pLCIgKGNvbnN0YW50KSIpKSxPYmplY3Qoci5hKShhLCJGb3JtYXQgIiwiIi5jb25jYXQoZiwieCIpLmNvbmNhdChoLCIgKGNvbnN0YW50KSIpKSxhfWZ1bmN0aW9uIEYodCxlKXt2YXIgbj1lLnR5cGUscj1lLnNpemUsaT1PYmplY3QoSS5iKShuLHIpO3JldHVybiBpPyIiLmNvbmNhdCh0LCIgKCIpLmNvbmNhdChpLm5hbWUsIikiKTp0fWZ1bmN0aW9uIHooKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e30sZT10LmhlYWRlcixuPXZvaWQgMD09PWU/IlVuaWZvcm1zIjplLGk9dC5wcm9ncmFtLGE9dC51bmlmb3JtcyxvPXQudW5kZWZpbmVkT25seSxzPXZvaWQgMCE9PW8mJm87T2JqZWN0KGMuYSkoaSk7dmFyIHU9Ii4qXy4qIixsPSIuKk1hdHJpeCIsaD1pLl91bmlmb3JtU2V0dGVycyxmPXt9LGQ9T2JqZWN0LmtleXMoaCkuc29ydCgpLHY9MCxwPSEwLGc9ITEseT12b2lkIDA7dHJ5e2Zvcih2YXIgbSxiPWRbU3ltYm9sLml0ZXJhdG9yXSgpOyEocD0obT1iLm5leHQoKSkuZG9uZSk7cD0hMCl7dmFyIF89bS52YWx1ZTtfLm1hdGNoKHUpfHxfLm1hdGNoKGwpfHxCKHt0YWJsZTpmLGhlYWRlcjpuLHVuaWZvcm1zOmEsdW5pZm9ybU5hbWU6Xyx1bmRlZmluZWRPbmx5OnN9KSYmdisrfX1jYXRjaCh0KXtnPSEwLHk9dH1maW5hbGx5e3RyeXtwfHxudWxsPT1iLnJldHVybnx8Yi5yZXR1cm4oKX1maW5hbGx5e2lmKGcpdGhyb3cgeX19dmFyIE89ITAseD0hMSx3PXZvaWQgMDt0cnl7Zm9yKHZhciBrLFM9ZFtTeW1ib2wuaXRlcmF0b3JdKCk7IShPPShrPVMubmV4dCgpKS5kb25lKTtPPSEwKXt2YXIgUD1rLnZhbHVlO1AubWF0Y2gobCkmJkIoe3RhYmxlOmYsaGVhZGVyOm4sdW5pZm9ybXM6YSx1bmlmb3JtTmFtZTpQLHVuZGVmaW5lZE9ubHk6c30pJiZ2Kyt9fWNhdGNoKHQpe3g9ITAsdz10fWZpbmFsbHl7dHJ5e098fG51bGw9PVMucmV0dXJufHxTLnJldHVybigpfWZpbmFsbHl7aWYoeCl0aHJvdyB3fX12YXIgaj0hMCxUPSExLEU9dm9pZCAwO3RyeXtmb3IodmFyIEEsTT1kW1N5bWJvbC5pdGVyYXRvcl0oKTshKGo9KEE9TS5uZXh0KCkpLmRvbmUpO2o9ITApe3ZhciBDPUEudmFsdWU7ZltDXXx8Qih7dGFibGU6ZixoZWFkZXI6bix1bmlmb3JtczphLHVuaWZvcm1OYW1lOkMsdW5kZWZpbmVkT25seTpzfSkmJnYrK319Y2F0Y2godCl7VD0hMCxFPXR9ZmluYWxseXt0cnl7anx8bnVsbD09TS5yZXR1cm58fE0ucmV0dXJuKCl9ZmluYWxseXtpZihUKXRocm93IEV9fXZhciBMPTAsST17fTtpZighcylmb3IodmFyIFIgaW4gYSl7dmFyIEQ9YVtSXTtmW1JdfHwoTCsrLElbUl09T2JqZWN0KHIuYSkoe1R5cGU6Ik5PVCBVU0VEOiAiLmNvbmNhdChEKX0sbixOKEQpKSl9cmV0dXJue3RhYmxlOmYsY291bnQ6dix1bnVzZWRUYWJsZTpJLHVudXNlZENvdW50Okx9fWZ1bmN0aW9uIEIodCl7dmFyIGUsbj10LnRhYmxlLGk9dC5oZWFkZXIsYT10LnVuaWZvcm1zLG89dC51bmlmb3JtTmFtZSxzPXQudW5kZWZpbmVkT25seSx1PWFbb10sYz1mdW5jdGlvbih0KXtyZXR1cm4gbnVsbCE9dH0odSk7cmV0dXJuKCFzfHwhYykmJihuW29dPShlPXt9LE9iamVjdChyLmEpKGUsaSxjP04odSk6Ik4vQSIpLE9iamVjdChyLmEpKGUsIlVuaWZvcm0gVHlwZSIsYz91OiJOT1QgUFJPVklERUQiKSxlKSwhMCl9ZnVuY3Rpb24gVSh0KXt2YXIgZT10LmFjY2Vzc29yLG49ZS50eXBlLHI9ZS5zaXplLGk9T2JqZWN0KEkuYikobixyKTtyZXR1cm4gaT8iIi5jb25jYXQoaS5uYW1lLCIgIikuY29uY2F0KHQubmFtZSk6dC5uYW1lfXZhciBWPW4oNDQpLEc9e1BPU0lUSU9OOiJwb3NpdGlvbnMiLE5PUk1BTDoibm9ybWFscyIsQ09MT1JfMDoiY29sb3JzIixURVhDT09SRF8wOiJ0ZXhDb29yZHMiLFRFWENPT1JEXzE6InRleENvb3JkczEiLFRFWENPT1JEXzI6InRleENvb3JkczIifTtmdW5jdGlvbiBXKHQsZSl7dmFyIG49KGV8fHt9KS5hdHRyaWJ1dGVNYXAscj12b2lkIDA9PT1uP0c6bjtyZXR1cm4gciYmclt0XXx8dH1mdW5jdGlvbiBIKHQsZSl7dmFyIG47c3dpdGNoKHQpe2Nhc2UidGV4Q29vcmRzIjpjYXNlInRleENvb3JkMSI6Y2FzZSJ0ZXhDb29yZDIiOmNhc2UidGV4Q29vcmQzIjpuPSJ1dnMiO2JyZWFrO2Nhc2UidmVydGljZXMiOmNhc2UicG9zaXRpb25zIjpjYXNlIm5vcm1hbHMiOmNhc2UicGlja2luZ0NvbG9ycyI6bj0idmVjdG9ycyJ9c3dpdGNoKG4pe2Nhc2UidmVjdG9ycyI6ZS5zaXplPWUuc2l6ZXx8MzticmVhaztjYXNlInV2cyI6ZS5zaXplPWUuc2l6ZXx8Mn1PYmplY3QoYy5hKShOdW1iZXIuaXNGaW5pdGUoZS5zaXplKSwiYXR0cmlidXRlICIuY29uY2F0KHQsIiBuZWVkcyBzaXplIikpfW4uZChlLCJhIiwoZnVuY3Rpb24oKXtyZXR1cm4gWn0pKTt2YXIgcT1mdW5jdGlvbigpe30sWD17fSxaPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlKXt2YXIgbj1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06e307T2JqZWN0KGkuYSkodGhpcyx0KTt2YXIgcj1uLmlkLGE9dm9pZCAwPT09cj9PYmplY3QodS5jKSgibW9kZWwiKTpyO09iamVjdChjLmEpKE9iamVjdChvLmYpKGUpKSx0aGlzLmlkPWEsdGhpcy5nbD1lLHRoaXMuaWQ9bi5pZHx8T2JqZWN0KHUuYykoIk1vZGVsIiksdGhpcy5sYXN0TG9nVGltZT0wLHRoaXMuaW5pdGlhbGl6ZShuKX1yZXR1cm4gT2JqZWN0KGEuYSkodCxbe2tleToiaW5pdGlhbGl6ZSIsdmFsdWU6ZnVuY3Rpb24odCl7dGhpcy5wcm9wcz17fSx0aGlzLnByb2dyYW1NYW5hZ2VyPXQucHJvZ3JhbU1hbmFnZXJ8fHMuYS5nZXREZWZhdWx0UHJvZ3JhbU1hbmFnZXIodGhpcy5nbCksdGhpcy5fcHJvZ3JhbU1hbmFnZXJTdGF0ZT0tMSx0aGlzLl9tYW5hZ2VkUHJvZ3JhbT0hMTt2YXIgZT10LnByb2dyYW0sbj12b2lkIDA9PT1lP251bGw6ZSxyPXQudnMsaT10LmZzLGE9dC5tb2R1bGVzLG89dC5kZWZpbmVzLHU9dC5pbmplY3QsbD10LnZhcnlpbmdzLGg9dC5idWZmZXJNb2RlLGY9dC50cmFuc3BpbGVUb0dMU0wxMDA7dGhpcy5wcm9ncmFtUHJvcHM9e3Byb2dyYW06bix2czpyLGZzOmksbW9kdWxlczphLGRlZmluZXM6byxpbmplY3Q6dSx2YXJ5aW5nczpsLGJ1ZmZlck1vZGU6aCx0cmFuc3BpbGVUb0dMU0wxMDA6Zn0sdGhpcy5wcm9ncmFtPW51bGwsdGhpcy52ZXJ0ZXhBcnJheT1udWxsLHRoaXMuX3Byb2dyYW1EaXJ0eT0hMCx0aGlzLnVzZXJEYXRhPXt9LHRoaXMubmVlZHNSZWRyYXc9ITAsdGhpcy5fYXR0cmlidXRlcz17fSx0aGlzLmF0dHJpYnV0ZXM9e30sdGhpcy51bmlmb3Jtcz17fSx0aGlzLnBpY2thYmxlPSEwLHRoaXMuX2NoZWNrUHJvZ3JhbSgpLHRoaXMuc2V0VW5pZm9ybXMoT2JqZWN0LmFzc2lnbih7fSx0aGlzLmdldE1vZHVsZVVuaWZvcm1zKHQubW9kdWxlU2V0dGluZ3MpKSksdGhpcy5kcmF3TW9kZT12b2lkIDAhPT10LmRyYXdNb2RlP3QuZHJhd01vZGU6NCx0aGlzLnZlcnRleENvdW50PXQudmVydGV4Q291bnR8fDAsdGhpcy5nZW9tZXRyeUJ1ZmZlcnM9e30sdGhpcy5pc0luc3RhbmNlZD10LmlzSW5zdGFuY2VkfHx0Lmluc3RhbmNlZHx8dC5pbnN0YW5jZUNvdW50PjAsdGhpcy5fc2V0TW9kZWxQcm9wcyh0KSx0aGlzLmdlb21ldHJ5PXt9LE9iamVjdChjLmEpKHZvaWQgMCE9PXRoaXMuZHJhd01vZGUmJk51bWJlci5pc0Zpbml0ZSh0aGlzLnZlcnRleENvdW50KSwiTW9kZWwgbmVlZHMgZHJhd01vZGUgYW5kIHZlcnRleENvdW50Iil9fSx7a2V5OiJzZXRQcm9wcyIsdmFsdWU6ZnVuY3Rpb24odCl7dGhpcy5fc2V0TW9kZWxQcm9wcyh0KX19LHtrZXk6ImRlbGV0ZSIsdmFsdWU6ZnVuY3Rpb24oKXtmb3IodmFyIHQgaW4gdGhpcy5fYXR0cmlidXRlcyl0aGlzLl9hdHRyaWJ1dGVzW3RdIT09dGhpcy5hdHRyaWJ1dGVzW3RdJiZ0aGlzLl9hdHRyaWJ1dGVzW3RdLmRlbGV0ZSgpO3RoaXMuX21hbmFnZWRQcm9ncmFtJiZ0aGlzLnByb2dyYW1NYW5hZ2VyLnJlbGVhc2UodGhpcy5wcm9ncmFtKSx0aGlzLnZlcnRleEFycmF5LmRlbGV0ZSgpLHRoaXMuX2RlbGV0ZUdlb21ldHJ5QnVmZmVycygpfX0se2tleToiZ2V0RHJhd01vZGUiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZHJhd01vZGV9fSx7a2V5OiJnZXRWZXJ0ZXhDb3VudCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy52ZXJ0ZXhDb3VudH19LHtrZXk6ImdldEluc3RhbmNlQ291bnQiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaW5zdGFuY2VDb3VudH19LHtrZXk6ImdldEF0dHJpYnV0ZXMiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYXR0cmlidXRlc319LHtrZXk6ImdldFByb2dyYW0iLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucHJvZ3JhbX19LHtrZXk6InNldFByb2dyYW0iLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXQucHJvZ3JhbSxuPXQudnMscj10LmZzLGk9dC5tb2R1bGVzLGE9dC5kZWZpbmVzLG89dC5pbmplY3Qscz10LnZhcnlpbmdzLHU9dC5idWZmZXJNb2RlLGM9dC50cmFuc3BpbGVUb0dMU0wxMDA7dGhpcy5wcm9ncmFtUHJvcHM9e3Byb2dyYW06ZSx2czpuLGZzOnIsbW9kdWxlczppLGRlZmluZXM6YSxpbmplY3Q6byx2YXJ5aW5nczpzLGJ1ZmZlck1vZGU6dSx0cmFuc3BpbGVUb0dMU0wxMDA6Y30sdGhpcy5fcHJvZ3JhbURpcnR5PSEwfX0se2tleToiZ2V0VW5pZm9ybXMiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudW5pZm9ybXN9fSx7a2V5OiJzZXREcmF3TW9kZSIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuZHJhd01vZGU9dCx0aGlzfX0se2tleToic2V0VmVydGV4Q291bnQiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3QoYy5hKShOdW1iZXIuaXNGaW5pdGUodCkpLHRoaXMudmVydGV4Q291bnQ9dCx0aGlzfX0se2tleToic2V0SW5zdGFuY2VDb3VudCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdChjLmEpKE51bWJlci5pc0Zpbml0ZSh0KSksdGhpcy5pbnN0YW5jZUNvdW50PXQsdGhpc319LHtrZXk6InNldEdlb21ldHJ5Iix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5kcmF3TW9kZT10LmRyYXdNb2RlLHRoaXMudmVydGV4Q291bnQ9dC5nZXRWZXJ0ZXhDb3VudCgpLHRoaXMuX2RlbGV0ZUdlb21ldHJ5QnVmZmVycygpLHRoaXMuZ2VvbWV0cnlCdWZmZXJzPWZ1bmN0aW9uKHQsZSxuKXt2YXIgcj17fSxpPWUuaW5kaWNlcztmb3IodmFyIGEgaW4gZS5hdHRyaWJ1dGVzKXt2YXIgbz1lLmF0dHJpYnV0ZXNbYV0scz1XKGEsbik7aWYoImluZGljZXMiPT09YSlpPW87ZWxzZSBpZihvLmNvbnN0YW50KXJbc109by52YWx1ZTtlbHNle3ZhciB1PW8udmFsdWUsbD1PYmplY3QoVi5hKSh7fSxvKTtkZWxldGUgbC52YWx1ZSxyW3NdPVtuZXcgZC5hKHQsdSksbF0sSChhLGwpfX1pZihpKXt2YXIgaD1pLnZhbHVlfHxpO09iamVjdChjLmEpKGggaW5zdGFuY2VvZiBVaW50MTZBcnJheXx8aCBpbnN0YW5jZW9mIFVpbnQzMkFycmF5LCdhdHRyaWJ1dGUgYXJyYXkgZm9yICJpbmRpY2VzIiBtdXN0IGJlIG9mIGludGVnZXIgdHlwZScpO3ZhciBmPXtzaXplOjEsaXNJbmRleGVkOnZvaWQgMD09PWkuaXNJbmRleGVkfHxpLmlzSW5kZXhlZH07ci5pbmRpY2VzPVtuZXcgZC5hKHQse2RhdGE6aCx0YXJnZXQ6MzQ5NjN9KSxmXX1yZXR1cm4gcn0odGhpcy5nbCx0KSx0aGlzLnZlcnRleEFycmF5LnNldEF0dHJpYnV0ZXModGhpcy5nZW9tZXRyeUJ1ZmZlcnMpLHRoaXN9fSx7a2V5OiJzZXRBdHRyaWJ1dGVzIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fTtpZihPYmplY3QodS5hKSh0KSlyZXR1cm4gdGhpczt2YXIgZT17fTtmb3IodmFyIG4gaW4gdCl7dmFyIHI9dFtuXTtlW25dPXIuZ2V0VmFsdWU/ci5nZXRWYWx1ZSgpOnJ9cmV0dXJuIHRoaXMudmVydGV4QXJyYXkuc2V0QXR0cmlidXRlcyhlKSx0aGlzfX0se2tleToic2V0VW5pZm9ybXMiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9O3JldHVybiBPYmplY3QuYXNzaWduKHRoaXMudW5pZm9ybXMsdCksdGhpc319LHtrZXk6ImdldE1vZHVsZVVuaWZvcm1zIix2YWx1ZTpmdW5jdGlvbih0KXt0aGlzLl9jaGVja1Byb2dyYW0oKTt2YXIgZT10aGlzLnByb2dyYW1NYW5hZ2VyLmdldFVuaWZvcm1zKHRoaXMucHJvZ3JhbSk7cmV0dXJuIGU/ZSh0KTp7fX19LHtrZXk6InVwZGF0ZU1vZHVsZVNldHRpbmdzIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLmdldE1vZHVsZVVuaWZvcm1zKHR8fHt9KTtyZXR1cm4gdGhpcy5zZXRVbmlmb3JtcyhlKX19LHtrZXk6ImNsZWFyIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0KGwuYSkodGhpcy5wcm9ncmFtLmdsLHQpLHRoaXN9fSx7a2V5OiJkcmF3Iix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fTt0aGlzLl9jaGVja1Byb2dyYW0oKTt2YXIgZSxuPXQubW9kdWxlU2V0dGluZ3Mscj12b2lkIDA9PT1uP251bGw6bixpPXQuZnJhbWVidWZmZXIsYT10LnVuaWZvcm1zLHM9dm9pZCAwPT09YT97fTphLHU9dC5hdHRyaWJ1dGVzLGM9dm9pZCAwPT09dT97fTp1LGw9dC50cmFuc2Zvcm1GZWVkYmFjayxoPXZvaWQgMD09PWw/dGhpcy50cmFuc2Zvcm1GZWVkYmFjazpsLGY9dC5wYXJhbWV0ZXJzLGQ9dm9pZCAwPT09Zj97fTpmLHY9dC52ZXJ0ZXhBcnJheSxwPXZvaWQgMD09PXY/dGhpcy52ZXJ0ZXhBcnJheTp2O3RoaXMuc2V0QXR0cmlidXRlcyhjKSx0aGlzLnVwZGF0ZU1vZHVsZVNldHRpbmdzKHIpLHRoaXMuc2V0VW5pZm9ybXMocyksby5oLnByaW9yaXR5Pj0yJiYoZT10aGlzLl9sb2dEcmF3Q2FsbFN0YXJ0KDIpKTt2YXIgZz10aGlzLnZlcnRleEFycmF5LmdldERyYXdQYXJhbXMoKSx5PXRoaXMucHJvcHMsbT15LmlzSW5kZXhlZCxiPXZvaWQgMD09PW0/Zy5pc0luZGV4ZWQ6bSxfPXkuaW5kZXhUeXBlLE89dm9pZCAwPT09Xz9nLmluZGV4VHlwZTpfLHg9eS5pbmRleE9mZnNldCx3PXZvaWQgMD09PXg/Zy5pbmRleE9mZnNldDp4LGs9eS52ZXJ0ZXhBcnJheUluc3RhbmNlZCxTPXZvaWQgMD09PWs/Zy5pc0luc3RhbmNlZDprO1MmJiF0aGlzLmlzSW5zdGFuY2VkJiZvLmgud2FybigiRm91bmQgaW5zdGFuY2VkIGF0dHJpYnV0ZXMgb24gbm9uLWluc3RhbmNlZCBtb2RlbCIsdGhpcy5pZCkoKTt2YXIgUD10aGlzLmlzSW5zdGFuY2VkLGo9dGhpcy5pbnN0YW5jZUNvdW50LFQ9dGhpcy5wcm9wcyxFPVQub25CZWZvcmVSZW5kZXIsQT12b2lkIDA9PT1FP3E6RSxNPVQub25BZnRlclJlbmRlcixDPXZvaWQgMD09PU0/cTpNO0EoKSx0aGlzLnByb2dyYW0uc2V0VW5pZm9ybXModGhpcy51bmlmb3Jtcyk7dmFyIEw9dGhpcy5wcm9ncmFtLmRyYXcoT2JqZWN0LmFzc2lnbihYLHQse2xvZ1ByaW9yaXR5OmUsdW5pZm9ybXM6bnVsbCxmcmFtZWJ1ZmZlcjppLHBhcmFtZXRlcnM6ZCxkcmF3TW9kZTp0aGlzLmdldERyYXdNb2RlKCksdmVydGV4Q291bnQ6dGhpcy5nZXRWZXJ0ZXhDb3VudCgpLHZlcnRleEFycmF5OnAsdHJhbnNmb3JtRmVlZGJhY2s6aCxpc0luZGV4ZWQ6YixpbmRleFR5cGU6Tyxpc0luc3RhbmNlZDpQLGluc3RhbmNlQ291bnQ6aixvZmZzZXQ6Yj93OjB9KSk7cmV0dXJuIEMoKSxvLmgucHJpb3JpdHk+PTImJnRoaXMuX2xvZ0RyYXdDYWxsRW5kKGUscCxpKSxMfX0se2tleToidHJhbnNmb3JtIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fSxlPXQuZGlzY2FyZCxuPXZvaWQgMD09PWV8fGUsaT10LmZlZWRiYWNrQnVmZmVycyxhPXQudW5iaW5kTW9kZWxzLG89dm9pZCAwPT09YT9bXTphLHM9dC5wYXJhbWV0ZXJzO2kmJnRoaXMuX3NldEZlZWRiYWNrQnVmZmVycyhpKSxuJiYocz1PYmplY3QuYXNzaWduKHt9LHMsT2JqZWN0KHIuYSkoe30sMzU5NzcsbikpKSxvLmZvckVhY2goKGZ1bmN0aW9uKHQpe3JldHVybiB0LnZlcnRleEFycmF5LnVuYmluZEJ1ZmZlcnMoKX0pKTt0cnl7dGhpcy5kcmF3KE9iamVjdC5hc3NpZ24oe30sdCx7cGFyYW1ldGVyczpzfSkpfWZpbmFsbHl7by5mb3JFYWNoKChmdW5jdGlvbih0KXtyZXR1cm4gdC52ZXJ0ZXhBcnJheS5iaW5kQnVmZmVycygpfSkpfXJldHVybiB0aGlzfX0se2tleToicmVuZGVyIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fTtyZXR1cm4gby5oLndhcm4oIk1vZGVsLnJlbmRlcigpIGlzIGRlcHJlY2F0ZWQuIFVzZSBNb2RlbC5zZXRVbmlmb3JtcygpIGFuZCBNb2RlbC5kcmF3KCkiKSgpLHRoaXMuc2V0VW5pZm9ybXModCkuZHJhdygpfX0se2tleToiX3NldE1vZGVsUHJvcHMiLHZhbHVlOmZ1bmN0aW9uKHQpe09iamVjdC5hc3NpZ24odGhpcy5wcm9wcyx0KSwidW5pZm9ybXMiaW4gdCYmdGhpcy5zZXRVbmlmb3Jtcyh0LnVuaWZvcm1zKSwicGlja2FibGUiaW4gdCYmKHRoaXMucGlja2FibGU9dC5waWNrYWJsZSksImluc3RhbmNlQ291bnQiaW4gdCYmKHRoaXMuaW5zdGFuY2VDb3VudD10Lmluc3RhbmNlQ291bnQpLCJnZW9tZXRyeSJpbiB0JiZ0aGlzLnNldEdlb21ldHJ5KHQuZ2VvbWV0cnkpLCJhdHRyaWJ1dGVzImluIHQmJnRoaXMuc2V0QXR0cmlidXRlcyh0LmF0dHJpYnV0ZXMpLCJfZmVlZGJhY2tCdWZmZXJzImluIHQmJnRoaXMuX3NldEZlZWRiYWNrQnVmZmVycyh0Ll9mZWVkYmFja0J1ZmZlcnMpfX0se2tleToiX2NoZWNrUHJvZ3JhbSIsdmFsdWU6ZnVuY3Rpb24oKXthcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXSYmYXJndW1lbnRzWzBdO3ZhciB0PXRoaXMuX3Byb2dyYW1EaXJ0eXx8dGhpcy5wcm9ncmFtTWFuYWdlci5zdGF0ZUhhc2ghPT10aGlzLl9wcm9ncmFtTWFuYWdlclN0YXRlO2lmKHQpe3ZhciBlPXRoaXMucHJvZ3JhbVByb3BzLnByb2dyYW07aWYoZSl0aGlzLl9tYW5hZ2VkUHJvZ3JhbT0hMTtlbHNle3ZhciBuPXRoaXMucHJvZ3JhbVByb3BzLHI9bi52cyxpPW4uZnMsYT1uLm1vZHVsZXMsbz1uLmluamVjdCxzPW4uZGVmaW5lcyx1PW4udmFyeWluZ3MsbD1uLmJ1ZmZlck1vZGUsZj1uLnRyYW5zcGlsZVRvR0xTTDEwMDtlPXRoaXMucHJvZ3JhbU1hbmFnZXIuZ2V0KHt2czpyLGZzOmksbW9kdWxlczphLGluamVjdDpvLGRlZmluZXM6cyx2YXJ5aW5nczp1LGJ1ZmZlck1vZGU6bCx0cmFuc3BpbGVUb0dMU0wxMDA6Zn0pLHRoaXMucHJvZ3JhbSYmdGhpcy5fbWFuYWdlZFByb2dyYW0mJnRoaXMucHJvZ3JhbU1hbmFnZXIucmVsZWFzZSh0aGlzLnByb2dyYW0pLHRoaXMuX3Byb2dyYW1NYW5hZ2VyU3RhdGU9dGhpcy5wcm9ncmFtTWFuYWdlci5zdGF0ZUhhc2gsdGhpcy5fbWFuYWdlZFByb2dyYW09ITB9T2JqZWN0KGMuYSkoZSBpbnN0YW5jZW9mIGguYSwiTW9kZWwgbmVlZHMgYSBwcm9ncmFtIiksdGhpcy5fcHJvZ3JhbURpcnR5PSExLGUhPT10aGlzLnByb2dyYW0mJih0aGlzLnByb2dyYW09ZSx0aGlzLnZlcnRleEFycmF5P3RoaXMudmVydGV4QXJyYXkuc2V0UHJvcHMoe3Byb2dyYW06dGhpcy5wcm9ncmFtLGF0dHJpYnV0ZXM6dGhpcy52ZXJ0ZXhBcnJheS5hdHRyaWJ1dGVzfSk6dGhpcy52ZXJ0ZXhBcnJheT1uZXcgTSh0aGlzLmdsLHtwcm9ncmFtOnRoaXMucHJvZ3JhbX0pLHRoaXMuc2V0VW5pZm9ybXMoT2JqZWN0LmFzc2lnbih7fSx0aGlzLmdldE1vZHVsZVVuaWZvcm1zKCkpKSl9fX0se2tleToiX2RlbGV0ZUdlb21ldHJ5QnVmZmVycyIsdmFsdWU6ZnVuY3Rpb24oKXtmb3IodmFyIHQgaW4gdGhpcy5nZW9tZXRyeUJ1ZmZlcnMpe3ZhciBlPXRoaXMuZ2VvbWV0cnlCdWZmZXJzW3RdWzBdfHx0aGlzLmdlb21ldHJ5QnVmZmVyc1t0XTtlIGluc3RhbmNlb2YgZC5hJiZlLmRlbGV0ZSgpfX19LHtrZXk6Il9zZXRBbmltYXRpb25Qcm9wcyIsdmFsdWU6ZnVuY3Rpb24odCl7aWYodGhpcy5hbmltYXRlZCl7T2JqZWN0KGMuYSkodCwiTW9kZWwuZHJhdygpOiBhbmltYXRlZCB1bmlmb3JtcyBidXQgbm8gYW5pbWF0aW9uUHJvcHMiKTt2YXIgZT10aGlzLl9ldmFsdWF0ZUFuaW1hdGVVbmlmb3Jtcyh0KTtPYmplY3QuYXNzaWduKHRoaXMudW5pZm9ybXMsZSl9fX0se2tleToiX3NldEZlZWRiYWNrQnVmZmVycyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e307aWYoT2JqZWN0KHUuYSkodCkpcmV0dXJuIHRoaXM7dmFyIGU9dGhpcy5wcm9ncmFtLmdsO3JldHVybiB0aGlzLnRyYW5zZm9ybUZlZWRiYWNrPXRoaXMudHJhbnNmb3JtRmVlZGJhY2t8fG5ldyBDLmEoZSx7cHJvZ3JhbTp0aGlzLnByb2dyYW19KSx0aGlzLnRyYW5zZm9ybUZlZWRiYWNrLnNldEJ1ZmZlcnModCksdGhpc319LHtrZXk6Il9sb2dEcmF3Q2FsbFN0YXJ0Iix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10PjM/MDoxZTQ7aWYoIShEYXRlLm5vdygpLXRoaXMubGFzdExvZ1RpbWU8ZSkpcmV0dXJuIHRoaXMubGFzdExvZ1RpbWU9RGF0ZS5ub3coKSxvLmguZ3JvdXAoMiwiPj4+IERSQVdJTkcgTU9ERUwgIi5jb25jYXQodGhpcy5pZCkse2NvbGxhcHNlZDpvLmgubGV2ZWw8PTJ9KSgpLHR9fSx7a2V5OiJfbG9nRHJhd0NhbGxFbmQiLHZhbHVlOmZ1bmN0aW9uKHQsZSxuLGkpe2lmKHZvaWQgMCE9PXQpe3ZhciBhPWZ1bmN0aW9uKCl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9LGU9dC52ZXJ0ZXhBcnJheSxuPXQuaGVhZGVyLHI9dm9pZCAwPT09bj8iQXR0cmlidXRlcyI6bjtpZighZS5jb25maWd1cmF0aW9uKXJldHVybnt9O3ZhciBpPXt9O2UuZWxlbWVudHMmJihpLkVMRU1FTlRfQVJSQVlfQlVGRkVSPUQoZSxlLmVsZW1lbnRzLG51bGwscikpO3ZhciBhPWUudmFsdWVzO2Zvcih2YXIgbyBpbiBhKXt2YXIgcz1lLl9nZXRBdHRyaWJ1dGVJbmZvKG8pO2lmKHMpe3ZhciB1PSIiLmNvbmNhdChvLCI6ICIpLmNvbmNhdChzLm5hbWUpLGM9ZS5hY2Nlc3NvcnNbcy5sb2NhdGlvbl07YyYmKHU9IiIuY29uY2F0KG8sIjogIikuY29uY2F0KEYocy5uYW1lLGMpKSksaVt1XT1EKGUsYVtvXSxjLHIpfX1yZXR1cm4gaX0oe3ZlcnRleEFycmF5OmUsaGVhZGVyOiIiLmNvbmNhdCh0aGlzLmlkLCIgYXR0cmlidXRlcyIpLGF0dHJpYnV0ZXM6dGhpcy5fYXR0cmlidXRlc30pLHM9eih7aGVhZGVyOiIiLmNvbmNhdCh0aGlzLmlkLCIgdW5pZm9ybXMiKSxwcm9ncmFtOnRoaXMucHJvZ3JhbSx1bmlmb3JtczpPYmplY3QuYXNzaWduKHt9LHRoaXMucHJvZ3JhbS51bmlmb3JtcyxuKX0pLHU9cy50YWJsZSxjPXMudW51c2VkVGFibGUsbD1zLnVudXNlZENvdW50LGg9eih7aGVhZGVyOiIiLmNvbmNhdCh0aGlzLmlkLCIgdW5pZm9ybXMiKSxwcm9ncmFtOnRoaXMucHJvZ3JhbSx1bmlmb3JtczpPYmplY3QuYXNzaWduKHt9LHRoaXMucHJvZ3JhbS51bmlmb3JtcyxuKSx1bmRlZmluZWRPbmx5OiEwfSksZj1oLnRhYmxlO2guY291bnQ+MCYmby5oLmxvZygiTUlTU0lORyBVTklGT1JNUyIsT2JqZWN0LmtleXMoZikpKCksbD4wJiZvLmgubG9nKCJVTlVTRUQgVU5JRk9STVMiLE9iamVjdC5rZXlzKGMpKSgpO3ZhciBkPWZ1bmN0aW9uKHQpe3ZhciBlPXt9LG49IkFjY2Vzc29ycyBmb3IgIi5jb25jYXQodC5pZCksaT0hMCxhPSExLG89dm9pZCAwO3RyeXtmb3IodmFyIHMsdT10LmF0dHJpYnV0ZUluZm9zW1N5bWJvbC5pdGVyYXRvcl0oKTshKGk9KHM9dS5uZXh0KCkpLmRvbmUpO2k9ITApe3ZhciBjPXMudmFsdWU7aWYoYyl7dmFyIGw9VShjKTtlWyJpbiAiLmNvbmNhdChsKV09T2JqZWN0KHIuYSkoe30sbixKU09OLnN0cmluZ2lmeShjLmFjY2Vzc29yKSl9fX1jYXRjaCh0KXthPSEwLG89dH1maW5hbGx5e3RyeXtpfHxudWxsPT11LnJldHVybnx8dS5yZXR1cm4oKX1maW5hbGx5e2lmKGEpdGhyb3cgb319dmFyIGg9ITAsZj0hMSxkPXZvaWQgMDt0cnl7Zm9yKHZhciB2LHA9dC52YXJ5aW5nSW5mb3NbU3ltYm9sLml0ZXJhdG9yXSgpOyEoaD0odj1wLm5leHQoKSkuZG9uZSk7aD0hMCl7dmFyIGc9di52YWx1ZTtpZihnKXt2YXIgeT1VKGcpO2VbIm91dCAiLmNvbmNhdCh5KV09T2JqZWN0KHIuYSkoe30sbixKU09OLnN0cmluZ2lmeShnLmFjY2Vzc29yKSl9fX1jYXRjaCh0KXtmPSEwLGQ9dH1maW5hbGx5e3RyeXtofHxudWxsPT1wLnJldHVybnx8cC5yZXR1cm4oKX1maW5hbGx5e2lmKGYpdGhyb3cgZH19cmV0dXJuIGV9KHRoaXMudmVydGV4QXJyYXkuY29uZmlndXJhdGlvbik7by5oLnRhYmxlKHQsYSkoKSxvLmgudGFibGUodCx1KSgpLG8uaC50YWJsZSh0KzEsZCkoKSxpJiZpLmxvZyh7bG9nTGV2ZWw6MixtZXNzYWdlOiJSZW5kZXJlZCB0byAiLmNvbmNhdChpLmlkKX0pLG8uaC5ncm91cEVuZCgyLCI+Pj4gRFJBV0lORyBNT0RFTCAiLmNvbmNhdCh0aGlzLmlkKSkoKX19fV0pLHR9KCl9LGZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gcih0LGUpe2lmKCF0KXRocm93IG5ldyBFcnJvcihlfHwic2hhZGVydG9vbHM6IGFzc2VydGlvbiBmYWlsZWQuIil9bi5kKGUsImEiLChmdW5jdGlvbigpe3JldHVybiByfSkpfSxmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO24uZChlLCJhIiwoZnVuY3Rpb24oKXtyZXR1cm4gc30pKSxuLmQoZSwiYiIsKGZ1bmN0aW9uKCl7cmV0dXJuIHV9KSk7dmFyIHI9bigzMSksaT1uKDExKSxhPW4oNzYpLG89bigyOCk7ZnVuY3Rpb24gcyh0KXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06e30sbj1lLmZyYW1lYnVmZmVyLHI9dm9pZCAwPT09bj9udWxsOm4sYT1lLmNvbG9yLHM9dm9pZCAwPT09YT9udWxsOmEsdT1lLmRlcHRoLGM9dm9pZCAwPT09dT9udWxsOnUsbD1lLnN0ZW5jaWwsaD12b2lkIDA9PT1sP251bGw6bCxmPXt9O3ImJihmLmZyYW1lYnVmZmVyPXIpO3ZhciBkPTA7cyYmKGR8PTE2Mzg0LCEwIT09cyYmKGYuY2xlYXJDb2xvcj1zKSksYyYmKGR8PTI1NiwhMCE9PWMmJihmLmNsZWFyRGVwdGg9YykpLGgmJihkfD0xMDI0LCEwIT09YyYmKGYuY2xlYXJTdGVuY2lsPWMpKSxPYmplY3Qoby5hKSgwIT09ZCwiY2xlYXI6IGJhZCBhcmd1bWVudHMiKSxPYmplY3QoaS5sKSh0LGYsKGZ1bmN0aW9uKCl7dC5jbGVhcihkKX0pKX1mdW5jdGlvbiB1KHQpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp7fSxuPWUuZnJhbWVidWZmZXIscz12b2lkIDA9PT1uP251bGw6bix1PWUuYnVmZmVyLGM9dm9pZCAwPT09dT82MTQ0OnUsbD1lLmRyYXdCdWZmZXIsaD12b2lkIDA9PT1sPzA6bCxmPWUudmFsdWUsZD12b2lkIDA9PT1mP1swLDAsMCwwXTpmO09iamVjdChhLmEpKHQpLE9iamVjdChpLmwpKHQse2ZyYW1lYnVmZmVyOnN9LChmdW5jdGlvbigpe3N3aXRjaChjKXtjYXNlIDYxNDQ6c3dpdGNoKGQuY29uc3RydWN0b3Ipe2Nhc2UgSW50MzJBcnJheTp0LmNsZWFyQnVmZmVyaXYoYyxoLGQpO2JyZWFrO2Nhc2UgVWludDMyQXJyYXk6dC5jbGVhckJ1ZmZlcnVpdihjLGgsZCk7YnJlYWs7Y2FzZSBGbG9hdDMyQXJyYXk6ZGVmYXVsdDp0LmNsZWFyQnVmZmVyZnYoYyxoLGQpfWJyZWFrO2Nhc2UgNjE0NTp0LmNsZWFyQnVmZmVyZnYoNjE0NSwwLFtkXSk7YnJlYWs7Y2FzZSA2MTQ2OnQuY2xlYXJCdWZmZXJpdig2MTQ2LDAsW2RdKTticmVhaztjYXNlIDM0MDQxOnZhciBlPU9iamVjdChyLmEpKGQsMiksbj1lWzBdLGk9ZVsxXTt0LmNsZWFyQnVmZmVyZmkoMzQwNDEsMCxuLGkpO2JyZWFrO2RlZmF1bHQ6T2JqZWN0KG8uYSkoITEsImNsZWFyOiBiYWQgYXJndW1lbnRzIil9fSkpfX0sZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcixpPW4oMCksYT1uKDkxKSxvPW4oMTc2KTtuLmQoZSwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIHV9KSksbi5kKGUsImMiLChmdW5jdGlvbigpe3JldHVybiBmfSkpLG4uZChlLCJiIiwoZnVuY3Rpb24oKXtyZXR1cm4gZH0pKTt2YXIgcz0ocj17fSxPYmplY3QoaS5hKShyLGEuYiwiI2lmZGVmIE1PRFVMRV9MT0dERVBUSFxuICBsb2dkZXB0aF9hZGp1c3RQb3NpdGlvbihnbF9Qb3NpdGlvbik7XG4jZW5kaWZcbiIpLE9iamVjdChpLmEpKHIsYS5hLCIjaWZkZWYgTU9EVUxFX01BVEVSSUFMXG4gIGdsX0ZyYWdDb2xvciA9IG1hdGVyaWFsX2ZpbHRlckNvbG9yKGdsX0ZyYWdDb2xvcik7XG4jZW5kaWZcblxuI2lmZGVmIE1PRFVMRV9MSUdIVElOR1xuICBnbF9GcmFnQ29sb3IgPSBsaWdodGluZ19maWx0ZXJDb2xvcihnbF9GcmFnQ29sb3IpO1xuI2VuZGlmXG5cbiNpZmRlZiBNT0RVTEVfRk9HXG4gIGdsX0ZyYWdDb2xvciA9IGZvZ19maWx0ZXJDb2xvcihnbF9GcmFnQ29sb3IpO1xuI2VuZGlmXG5cbiNpZmRlZiBNT0RVTEVfUElDS0lOR1xuICBnbF9GcmFnQ29sb3IgPSBwaWNraW5nX2ZpbHRlckhpZ2hsaWdodENvbG9yKGdsX0ZyYWdDb2xvcik7XG4gIGdsX0ZyYWdDb2xvciA9IHBpY2tpbmdfZmlsdGVyUGlja2luZ0NvbG9yKGdsX0ZyYWdDb2xvcik7XG4jZW5kaWZcblxuI2lmZGVmIE1PRFVMRV9MT0dERVBUSFxuICBsb2dkZXB0aF9zZXRGcmFnRGVwdGgoKTtcbiNlbmRpZlxuIiksciksdT0iX19MVU1BX0lOSkVDVF9ERUNMQVJBVElPTlNfXyIsYz0vdm9pZFxzK21haW5ccypcKFteKV0qXClccypce1xuPy8sbD0vfVxuP1tee31dKiQvLGg9W107ZnVuY3Rpb24gZih0LGUsbixyKXt2YXIgaT1lPT09YS5iLG89ZnVuY3Rpb24oZSl7dmFyIHI9bltlXTtyLnNvcnQoKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQub3JkZXItZS5vcmRlcn0pKSxoLmxlbmd0aD1yLmxlbmd0aDtmb3IodmFyIGE9MCxvPXIubGVuZ3RoO2E8bzsrK2EpaFthXT1yW2FdLmluamVjdGlvbjt2YXIgcz0iIi5jb25jYXQoaC5qb2luKCJcbiIpLCJcbiIpO3N3aXRjaChlKXtjYXNlInZzOiNkZWNsIjppJiYodD10LnJlcGxhY2UodSxzKSk7YnJlYWs7Y2FzZSJ2czojbWFpbi1zdGFydCI6aSYmKHQ9dC5yZXBsYWNlKGMsKGZ1bmN0aW9uKHQpe3JldHVybiB0K3N9KSkpO2JyZWFrO2Nhc2UidnM6I21haW4tZW5kIjppJiYodD10LnJlcGxhY2UobCwoZnVuY3Rpb24odCl7cmV0dXJuIHMrdH0pKSk7YnJlYWs7Y2FzZSJmczojZGVjbCI6aXx8KHQ9dC5yZXBsYWNlKHUscykpO2JyZWFrO2Nhc2UiZnM6I21haW4tc3RhcnQiOml8fCh0PXQucmVwbGFjZShjLChmdW5jdGlvbih0KXtyZXR1cm4gdCtzfSkpKTticmVhaztjYXNlImZzOiNtYWluLWVuZCI6aXx8KHQ9dC5yZXBsYWNlKGwsKGZ1bmN0aW9uKHQpe3JldHVybiBzK3R9KSkpO2JyZWFrO2RlZmF1bHQ6dD10LnJlcGxhY2UoZSwoZnVuY3Rpb24odCl7cmV0dXJuIHQrc30pKX19O2Zvcih2YXIgZiBpbiBuKW8oZik7cmV0dXJuIHQ9dC5yZXBsYWNlKHUsIiIpLHImJih0PXQucmVwbGFjZSgvXH1ccyokLywoZnVuY3Rpb24odCl7cmV0dXJuIHQrc1tlXX0pKSksdH1mdW5jdGlvbiBkKHQpe3ZhciBlPXt9O3JldHVybiBPYmplY3Qoby5hKShBcnJheS5pc0FycmF5KHQpJiZ0Lmxlbmd0aD4xKSx0LmZvckVhY2goKGZ1bmN0aW9uKHQpe2Zvcih2YXIgbiBpbiB0KWVbbl09ZVtuXT8iIi5jb25jYXQoZVtuXSwiXG4iKS5jb25jYXQodFtuXSk6dFtuXX0pKSxlfX0sLCxmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oMTMzKTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZS5kZWZhdWx0PWZ1bmN0aW9uKHQpe2lmKCJ1bmRlZmluZWQiIT10eXBlb2Ygd2luZG93JiYib2JqZWN0Ij09PSgwLGkuZGVmYXVsdCkod2luZG93LnByb2Nlc3MpJiYicmVuZGVyZXIiPT09d2luZG93LnByb2Nlc3MudHlwZSlyZXR1cm4hMDtpZigidW5kZWZpbmVkIiE9dHlwZW9mIHByb2Nlc3MmJiJvYmplY3QiPT09KDAsaS5kZWZhdWx0KShwcm9jZXNzLnZlcnNpb25zKSYmQm9vbGVhbihwcm9jZXNzLnZlcnNpb25zLmVsZWN0cm9uKSlyZXR1cm4hMDt2YXIgZT0ib2JqZWN0Ij09PSgidW5kZWZpbmVkIj09dHlwZW9mIG5hdmlnYXRvcj8idW5kZWZpbmVkIjooMCxpLmRlZmF1bHQpKG5hdmlnYXRvcikpJiYic3RyaW5nIj09dHlwZW9mIG5hdmlnYXRvci51c2VyQWdlbnQmJm5hdmlnYXRvci51c2VyQWdlbnQsbj10fHxlO2lmKG4mJm4uaW5kZXhPZigiRWxlY3Ryb24iKT49MClyZXR1cm4hMDtyZXR1cm4hMX07dmFyIGk9cihuKDQxKSl9LGZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gcih0KXtpZighdHx8IXQuUE9TSVRJT04pcmV0dXJuIG51bGw7dmFyIGU9MS8wLG49MS8wLHI9MS8wLGk9LTEvMCxhPS0xLzAsbz0tMS8wLHM9dC5QT1NJVElPTi52YWx1ZSx1PXMmJnMubGVuZ3RoO2lmKCF1KXJldHVybiBudWxsO2Zvcih2YXIgYz0wO2M8dTtjKz0zKXt2YXIgbD1zW2NdLGg9c1tjKzFdLGY9c1tjKzJdO2U9bDxlP2w6ZSxuPWg8bj9oOm4scj1mPHI/ZjpyLGk9bD5pP2w6aSxhPWg+YT9oOmEsbz1mPm8/ZjpvfXJldHVybltbZSxuLHJdLFtpLGEsb11dfW4uZChlLCJhIiwoZnVuY3Rpb24oKXtyZXR1cm4gcn0pKX0sZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0IjtuLnIoZSk7dmFyIHI9bigyMTcpO24uZChlLCJTaW1wbGVNZXNoTGF5ZXIiLChmdW5jdGlvbigpe3JldHVybiByLmF9KSk7dmFyIGk9bigyMTMpO24uZChlLCJTY2VuZWdyYXBoTGF5ZXIiLChmdW5jdGlvbigpe3JldHVybiBpLmF9KSl9LGZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe2lmKHZvaWQgMD09PXQpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWQiKTtyZXR1cm4gdH19LGZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7bi5kKGUsImEiLChmdW5jdGlvbigpe3JldHVybiBtfSkpO3ZhciByPW4oMSksaT1uLm4ociksYT1uKDIpLG89bi5uKGEpLHM9big5KSx1PW4ubihzKSxjPW4oMyksbD1uLm4oYyksaD1uKDEyKSxmPW4ubihoKSxkPW4oMTApLHY9bi5uKGQpLHA9bigxMTgpLGc9big0NSkseT1uKDc1KSxtPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXtyZXR1cm4gaSgpKHRoaXMsZSksdSgpKHRoaXMsbCgpKGUpLmFwcGx5KHRoaXMsYXJndW1lbnRzKSl9cmV0dXJuIHYoKShlLHQpLG8oKShlLFt7a2V5OiJnZXRTdWJMYXllcnMiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaW50ZXJuYWxTdGF0ZSYmdGhpcy5pbnRlcm5hbFN0YXRlLnN1YkxheWVyc3x8W119fSx7a2V5OiJpbml0aWFsaXplU3RhdGUiLHZhbHVlOmZ1bmN0aW9uKCl7fX0se2tleToic2V0U3RhdGUiLHZhbHVlOmZ1bmN0aW9uKHQpe2YoKShsKCkoZS5wcm90b3R5cGUpLCJzZXRTdGF0ZSIsdGhpcykuY2FsbCh0aGlzLHQpLHRoaXMuc2V0TmVlZHNVcGRhdGUoKX19LHtrZXk6ImdldFBpY2tpbmdJbmZvIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10LmluZm8sbj1lLm9iamVjdDtyZXR1cm4gbiYmbi5fX3NvdXJjZSYmbi5fX3NvdXJjZS5wYXJlbnQmJm4uX19zb3VyY2UucGFyZW50LmlkPT09dGhpcy5pZD9PYmplY3QuYXNzaWduKGUse29iamVjdDpuLl9fc291cmNlLm9iamVjdCxpbmRleDpuLl9fc291cmNlLmluZGV4fSk6ZX19LHtrZXk6InJlbmRlckxheWVycyIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbH19LHtrZXk6InNob3VsZFJlbmRlclN1YkxheWVyIix2YWx1ZTpmdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMucHJvcHMuX3N1YkxheWVyUHJvcHM7cmV0dXJuIGUmJmUubGVuZ3RofHxuJiZuW3RdfX0se2tleToiZ2V0U3ViTGF5ZXJDbGFzcyIsdmFsdWU6ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLnByb3BzLl9zdWJMYXllclByb3BzO3JldHVybiBuJiZuW3RdJiZuW3RdLnR5cGV8fGV9fSx7a2V5OiJnZXRTdWJMYXllclJvdyIsdmFsdWU6ZnVuY3Rpb24odCxlLG4pe3JldHVybiB0Ll9fc291cmNlPXtwYXJlbnQ6dGhpcyxvYmplY3Q6ZSxpbmRleDpufSx0fX0se2tleToiZ2V0U3ViTGF5ZXJBY2Nlc3NvciIsdmFsdWU6ZnVuY3Rpb24odCl7aWYoImZ1bmN0aW9uIj09dHlwZW9mIHQpe3ZhciBlPXtkYXRhOnRoaXMucHJvcHMuZGF0YSx0YXJnZXQ6W119O3JldHVybiBmdW5jdGlvbihuLHIpe3JldHVybiBuLl9fc291cmNlPyhlLmluZGV4PW4uX19zb3VyY2UuaW5kZXgsdChuLl9fc291cmNlLm9iamVjdCxlKSk6dChuLHIpfX1yZXR1cm4gdH19LHtrZXk6ImdldFN1YkxheWVyUHJvcHMiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9LGU9dGhpcy5wcm9wcyxuPWUub3BhY2l0eSxyPWUucGlja2FibGUsaT1lLnZpc2libGUsYT1lLnBhcmFtZXRlcnMsbz1lLmdldFBvbHlnb25PZmZzZXQscz1lLmhpZ2hsaWdodGVkT2JqZWN0SW5kZXgsdT1lLmF1dG9IaWdobGlnaHQsYz1lLmhpZ2hsaWdodENvbG9yLGw9ZS5jb29yZGluYXRlU3lzdGVtLGg9ZS5jb29yZGluYXRlT3JpZ2luLGY9ZS53cmFwTG9uZ2l0dWRlLGQ9ZS5wb3NpdGlvbkZvcm1hdCx2PWUubW9kZWxNYXRyaXgscD1lLmV4dGVuc2lvbnMsZz1lLl9zdWJMYXllclByb3BzLHk9e29wYWNpdHk6bixwaWNrYWJsZTpyLHZpc2libGU6aSxwYXJhbWV0ZXJzOmEsZ2V0UG9seWdvbk9mZnNldDpvLGhpZ2hsaWdodGVkT2JqZWN0SW5kZXg6cyxhdXRvSGlnaGxpZ2h0OnUsaGlnaGxpZ2h0Q29sb3I6Yyxjb29yZGluYXRlU3lzdGVtOmwsY29vcmRpbmF0ZU9yaWdpbjpoLHdyYXBMb25naXR1ZGU6Zixwb3NpdGlvbkZvcm1hdDpkLG1vZGVsTWF0cml4OnYsZXh0ZW5zaW9uczpwfSxtPWcmJmdbdC5pZF0sYj1tJiZtLnVwZGF0ZVRyaWdnZXJzLF89dC5pZHx8InN1YmxheWVyIjtpZihtKXt2YXIgTz10aGlzLmNvbnN0cnVjdG9yLl9wcm9wVHlwZXM7Zm9yKHZhciB4IGluIG0pe3ZhciB3PU9beF07dyYmImFjY2Vzc29yIj09PXcudHlwZSYmKG1beF09dGhpcy5nZXRTdWJMYXllckFjY2Vzc29yKG1beF0pKX19T2JqZWN0LmFzc2lnbih5LHQsbSx7aWQ6IiIuY29uY2F0KHRoaXMucHJvcHMuaWQsIi0iKS5jb25jYXQoXyksdXBkYXRlVHJpZ2dlcnM6T2JqZWN0LmFzc2lnbih7YWxsOnRoaXMucHJvcHMudXBkYXRlVHJpZ2dlcnMuYWxsfSx0LnVwZGF0ZVRyaWdnZXJzLGIpfSk7dmFyIGs9ITAsUz0hMSxQPXZvaWQgMDt0cnl7Zm9yKHZhciBqLFQ9cFtTeW1ib2wuaXRlcmF0b3JdKCk7IShrPShqPVQubmV4dCgpKS5kb25lKTtrPSEwKXt2YXIgRT1qLnZhbHVlLEE9RS5nZXRTdWJMYXllclByb3BzLmNhbGwodGhpcyxFKTtBJiZPYmplY3QuYXNzaWduKHksQSx7dXBkYXRlVHJpZ2dlcnM6T2JqZWN0LmFzc2lnbih5LnVwZGF0ZVRyaWdnZXJzLEEudXBkYXRlVHJpZ2dlcnMpfSl9fWNhdGNoKHQpe1M9ITAsUD10fWZpbmFsbHl7dHJ5e2t8fG51bGw9PVQucmV0dXJufHxULnJldHVybigpfWZpbmFsbHl7aWYoUyl0aHJvdyBQfX1yZXR1cm4geX19LHtrZXk6Il9nZXRBdHRyaWJ1dGVNYW5hZ2VyIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiBudWxsfX0se2tleToiX3JlbmRlckxheWVycyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmludGVybmFsU3RhdGUuc3ViTGF5ZXJzLGU9IXR8fHRoaXMubmVlZHNVcGRhdGUoKTtlJiYodD10aGlzLnJlbmRlckxheWVycygpLHQ9T2JqZWN0KHkuYikodCxCb29sZWFuKSx0aGlzLmludGVybmFsU3RhdGUuc3ViTGF5ZXJzPXQpLE9iamVjdChnLmEpKCJjb21wb3NpdGVMYXllci5yZW5kZXJMYXllcnMiLHRoaXMsZSx0KTt2YXIgbj0hMCxyPSExLGk9dm9pZCAwO3RyeXtmb3IodmFyIGEsbz10W1N5bWJvbC5pdGVyYXRvcl0oKTshKG49KGE9by5uZXh0KCkpLmRvbmUpO249ITApe2EudmFsdWUucGFyZW50PXRoaXN9fWNhdGNoKHQpe3I9ITAsaT10fWZpbmFsbHl7dHJ5e258fG51bGw9PW8ucmV0dXJufHxvLnJldHVybigpfWZpbmFsbHl7aWYocil0aHJvdyBpfX19fSx7a2V5OiJpc0NvbXBvc2l0ZSIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuITB9fSx7a2V5OiJpc0xvYWRlZCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGYoKShsKCkoZS5wcm90b3R5cGUpLCJpc0xvYWRlZCIsdGhpcykmJnRoaXMuZ2V0U3ViTGF5ZXJzKCkuZXZlcnkoKGZ1bmN0aW9uKHQpe3JldHVybiB0LmlzTG9hZGVkfSkpfX1dKSxlfShwLmEpO20ubGF5ZXJOYW1lPSJDb21wb3NpdGVMYXllciJ9LGZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigxMTcpLGk9bigyODkpLGE9bigzNSksbz1uKDIzKSxzPW4oNDUpO3ZhciB1PXtuYW1lOiJKU09OIixleHRlbnNpb25zOlsianNvbiIsImdlb2pzb24iXSx0ZXN0VGV4dDpmdW5jdGlvbih0KXt2YXIgZT10WzBdLG49dFt0Lmxlbmd0aC0xXTtyZXR1cm4ieyI9PT1lJiYifSI9PT1ufHwiWyI9PT1lJiYiXSI9PT1ufSxwYXJzZVRleHRTeW5jOkpTT04ucGFyc2V9LGM9YS5nbG9iYWwuZGVjayYmYS5nbG9iYWwuZGVjay5WRVJTSU9OO2lmKGMmJiI4LjEuNiIhPT1jKXRocm93IG5ldyBFcnJvcigiZGVjay5nbCAtIG11bHRpcGxlIHZlcnNpb25zIGRldGVjdGVkOiAiLmNvbmNhdChjLCIgdnMgIikuY29uY2F0KCI4LjEuNiIpKTtjfHwoYS5nbG9iYWwuZGVjaz1PYmplY3QuYXNzaWduKGEuZ2xvYmFsLmRlY2t8fHt9LHtWRVJTSU9OOiI4LjEuNiIsdmVyc2lvbjoiOC4xLjYiLGxvZzpvLmEsX3JlZ2lzdGVyTG9nZ2VyczpzLmJ9KSxPYmplY3Qoci5jKShbdSxpLmFdKSk7ZS5hPWEuZ2xvYmFsLmRlY2t9LGZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7bi5kKGUsImEiLChmdW5jdGlvbigpe3JldHVybiBzfSkpO3ZhciByLGk9bigwKSxhPW4oODIpLG89bigxMjcpLHM9e1dFQkdMMjoiV0VCR0wyIixWRVJURVhfQVJSQVlfT0JKRUNUOiJWRVJURVhfQVJSQVlfT0JKRUNUIixUSU1FUl9RVUVSWToiVElNRVJfUVVFUlkiLElOU1RBTkNFRF9SRU5ERVJJTkc6IklOU1RBTkNFRF9SRU5ERVJJTkciLE1VTFRJUExFX1JFTkRFUl9UQVJHRVRTOiJNVUxUSVBMRV9SRU5ERVJfVEFSR0VUUyIsRUxFTUVOVF9JTkRFWF9VSU5UMzI6IkVMRU1FTlRfSU5ERVhfVUlOVDMyIixCTEVORF9FUVVBVElPTl9NSU5NQVg6IkJMRU5EX0VRVUFUSU9OX01JTk1BWCIsRkxPQVRfQkxFTkQ6IkZMT0FUX0JMRU5EIixDT0xPUl9FTkNPRElOR19TUkdCOiJDT0xPUl9FTkNPRElOR19TUkdCIixURVhUVVJFX0RFUFRIOiJURVhUVVJFX0RFUFRIIixURVhUVVJFX0ZMT0FUOiJURVhUVVJFX0ZMT0FUIixURVhUVVJFX0hBTEZfRkxPQVQ6IlRFWFRVUkVfSEFMRl9GTE9BVCIsVEVYVFVSRV9GSUxURVJfTElORUFSX0ZMT0FUOiJURVhUVVJFX0ZJTFRFUl9MSU5FQVJfRkxPQVQiLFRFWFRVUkVfRklMVEVSX0xJTkVBUl9IQUxGX0ZMT0FUOiJURVhUVVJFX0ZJTFRFUl9MSU5FQVJfSEFMRl9GTE9BVCIsVEVYVFVSRV9GSUxURVJfQU5JU09UUk9QSUM6IlRFWFRVUkVfRklMVEVSX0FOSVNPVFJPUElDIixDT0xPUl9BVFRBQ0hNRU5UX1JHQkEzMkY6IkNPTE9SX0FUVEFDSE1FTlRfUkdCQTMyRiIsQ09MT1JfQVRUQUNITUVOVF9GTE9BVDoiQ09MT1JfQVRUQUNITUVOVF9GTE9BVCIsQ09MT1JfQVRUQUNITUVOVF9IQUxGX0ZMT0FUOiJDT0xPUl9BVFRBQ0hNRU5UX0hBTEZfRkxPQVQiLEdMU0xfRlJBR19EQVRBOiJHTFNMX0ZSQUdfREFUQSIsR0xTTF9GUkFHX0RFUFRIOiJHTFNMX0ZSQUdfREVQVEgiLEdMU0xfREVSSVZBVElWRVM6IkdMU0xfREVSSVZBVElWRVMiLEdMU0xfVEVYVFVSRV9MT0Q6IkdMU0xfVEVYVFVSRV9MT0QifTtlLmI9KHI9e30sT2JqZWN0KGkuYSkocixzLldFQkdMMixbITEsITBdKSxPYmplY3QoaS5hKShyLHMuVkVSVEVYX0FSUkFZX09CSkVDVCxbIk9FU192ZXJ0ZXhfYXJyYXlfb2JqZWN0IiwhMF0pLE9iamVjdChpLmEpKHIscy5USU1FUl9RVUVSWSxbIkVYVF9kaXNqb2ludF90aW1lcl9xdWVyeSIsIkVYVF9kaXNqb2ludF90aW1lcl9xdWVyeV93ZWJnbDIiXSksT2JqZWN0KGkuYSkocixzLklOU1RBTkNFRF9SRU5ERVJJTkcsWyJBTkdMRV9pbnN0YW5jZWRfYXJyYXlzIiwhMF0pLE9iamVjdChpLmEpKHIscy5NVUxUSVBMRV9SRU5ERVJfVEFSR0VUUyxbIldFQkdMX2RyYXdfYnVmZmVycyIsITBdKSxPYmplY3QoaS5hKShyLHMuRUxFTUVOVF9JTkRFWF9VSU5UMzIsWyJPRVNfZWxlbWVudF9pbmRleF91aW50IiwhMF0pLE9iamVjdChpLmEpKHIscy5CTEVORF9FUVVBVElPTl9NSU5NQVgsWyJFWFRfYmxlbmRfbWlubWF4IiwhMF0pLE9iamVjdChpLmEpKHIscy5GTE9BVF9CTEVORCxbIkVYVF9mbG9hdF9ibGVuZCJdKSxPYmplY3QoaS5hKShyLHMuQ09MT1JfRU5DT0RJTkdfU1JHQixbIkVYVF9zUkdCIiwhMF0pLE9iamVjdChpLmEpKHIscy5URVhUVVJFX0RFUFRILFsiV0VCR0xfZGVwdGhfdGV4dHVyZSIsITBdKSxPYmplY3QoaS5hKShyLHMuVEVYVFVSRV9GTE9BVCxbIk9FU190ZXh0dXJlX2Zsb2F0IiwhMF0pLE9iamVjdChpLmEpKHIscy5URVhUVVJFX0hBTEZfRkxPQVQsWyJPRVNfdGV4dHVyZV9oYWxmX2Zsb2F0IiwhMF0pLE9iamVjdChpLmEpKHIscy5URVhUVVJFX0ZJTFRFUl9MSU5FQVJfRkxPQVQsWyJPRVNfdGV4dHVyZV9mbG9hdF9saW5lYXIiXSksT2JqZWN0KGkuYSkocixzLlRFWFRVUkVfRklMVEVSX0xJTkVBUl9IQUxGX0ZMT0FULFsiT0VTX3RleHR1cmVfaGFsZl9mbG9hdF9saW5lYXIiXSksT2JqZWN0KGkuYSkocixzLlRFWFRVUkVfRklMVEVSX0FOSVNPVFJPUElDLFsiRVhUX3RleHR1cmVfZmlsdGVyX2FuaXNvdHJvcGljIl0pLE9iamVjdChpLmEpKHIscy5DT0xPUl9BVFRBQ0hNRU5UX1JHQkEzMkYsW2Z1bmN0aW9uKHQpe3ZhciBlPW5ldyBvLmEodCx7Zm9ybWF0OjY0MDgsdHlwZTo1MTI2LGRhdGFGb3JtYXQ6NjQwOH0pLG49bmV3IGEuYSh0LHtpZDoidGVzdC1mcmFtZWJ1ZmZlciIsY2hlY2s6ITEsYXR0YWNobWVudHM6T2JqZWN0KGkuYSkoe30sMzYwNjQsZSl9KSxyPW4uZ2V0U3RhdHVzKCk7cmV0dXJuIGUuZGVsZXRlKCksbi5kZWxldGUoKSwzNjA1Mz09PXJ9LCJFWFRfY29sb3JfYnVmZmVyX2Zsb2F0Il0pLE9iamVjdChpLmEpKHIscy5DT0xPUl9BVFRBQ0hNRU5UX0ZMT0FULFshMSwiRVhUX2NvbG9yX2J1ZmZlcl9mbG9hdCJdKSxPYmplY3QoaS5hKShyLHMuQ09MT1JfQVRUQUNITUVOVF9IQUxGX0ZMT0FULFsiRVhUX2NvbG9yX2J1ZmZlcl9oYWxmX2Zsb2F0Il0pLE9iamVjdChpLmEpKHIscy5HTFNMX0ZSQUdfREFUQSxbIldFQkdMX2RyYXdfYnVmZmVycyIsITBdKSxPYmplY3QoaS5hKShyLHMuR0xTTF9GUkFHX0RFUFRILFsiRVhUX2ZyYWdfZGVwdGgiLCEwXSksT2JqZWN0KGkuYSkocixzLkdMU0xfREVSSVZBVElWRVMsWyJPRVNfc3RhbmRhcmRfZGVyaXZhdGl2ZXMiLCEwXSksT2JqZWN0KGkuYSkocixzLkdMU0xfVEVYVFVSRV9MT0QsWyJFWFRfc2hhZGVyX3RleHR1cmVfbG9kIiwhMF0pLHIpfSxmdW5jdGlvbih0LGUpe30sZnVuY3Rpb24odCxlKXt9LGZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dmFyIHI9big2KSxpPW4oNyksYT1uKDE3Niksbz1uKDI1KSxzPXtudW1iZXI6e3ZhbGlkYXRlOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIE51bWJlci5pc0Zpbml0ZSh0KSYmKCEoIm1heCJpbiBlKXx8dDw9ZS5tYXgpJiYoISgibWluImluIGUpfHx0Pj1lLm1pbil9fSxhcnJheTp7dmFsaWRhdGU6ZnVuY3Rpb24odCxlKXtyZXR1cm4gQXJyYXkuaXNBcnJheSh0KXx8QXJyYXlCdWZmZXIuaXNWaWV3KHQpfX19O2Z1bmN0aW9uIHUodCl7dmFyIGU9Yyh0KTtyZXR1cm4ib2JqZWN0Ij09PWU/dD8idHlwZSJpbiB0P09iamVjdC5hc3NpZ24oe30sdCxzW3QudHlwZV0pOiJ2YWx1ZSJpbiB0PyhlPWModC52YWx1ZSksT2JqZWN0LmFzc2lnbih7dHlwZTplfSx0LHNbZV0pKTp7dHlwZToib2JqZWN0Iix2YWx1ZTp0fTp7dHlwZToib2JqZWN0Iix2YWx1ZTpudWxsfTpPYmplY3QuYXNzaWduKHt0eXBlOmUsdmFsdWU6dH0sc1tlXSl9ZnVuY3Rpb24gYyh0KXtyZXR1cm4gQXJyYXkuaXNBcnJheSh0KXx8QXJyYXlCdWZmZXIuaXNWaWV3KHQpPyJhcnJheSI6T2JqZWN0KG8uYSkodCl9bi5kKGUsImEiLChmdW5jdGlvbigpe3JldHVybiBsfSkpLG4uZChlLCJiIiwoZnVuY3Rpb24oKXtyZXR1cm4gaH0pKTt2YXIgbD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSl7dmFyIG49ZS5uYW1lLGk9ZS52cyxvPWUuZnMscz1lLmRlcGVuZGVuY2llcyxjPXZvaWQgMD09PXM/W106cyxsPWUudW5pZm9ybXMsaD1lLmdldFVuaWZvcm1zLGY9ZS5kZXByZWNhdGlvbnMsZD12b2lkIDA9PT1mP1tdOmYsdj1lLmRlZmluZXMscD12b2lkIDA9PT12P3t9OnYsZz1lLmluamVjdCx5PXZvaWQgMD09PWc/e306ZyxtPWUudmVydGV4U2hhZGVyLGI9ZS5mcmFnbWVudFNoYWRlcjtPYmplY3Qoci5hKSh0aGlzLHQpLE9iamVjdChhLmEpKCJzdHJpbmciPT10eXBlb2YgbiksdGhpcy5uYW1lPW4sdGhpcy52cz1pfHxtLHRoaXMuZnM9b3x8Yix0aGlzLmdldE1vZHVsZVVuaWZvcm1zPWgsdGhpcy5kZXBlbmRlbmNpZXM9Yyx0aGlzLmRlcHJlY2F0aW9ucz10aGlzLl9wYXJzZURlcHJlY2F0aW9uRGVmaW5pdGlvbnMoZCksdGhpcy5kZWZpbmVzPXAsdGhpcy5pbmplY3Rpb25zPWZ1bmN0aW9uKHQpe3ZhciBlPXt2czp7fSxmczp7fX07Zm9yKHZhciBuIGluIHQpe3ZhciByPXRbbl0saT1uLnNsaWNlKDAsMik7InN0cmluZyI9PXR5cGVvZiByJiYocj17aW5qZWN0aW9uOnJ9KSxlW2ldW25dPXJ9cmV0dXJuIGV9KHkpLGwmJih0aGlzLnVuaWZvcm1zPWZ1bmN0aW9uKHQpe3ZhciBlPXt9O2Zvcih2YXIgbiBpbiB0KXt2YXIgcj11KHRbbl0pO2Vbbl09cn1yZXR1cm4gZX0obCkpfXJldHVybiBPYmplY3QoaS5hKSh0LFt7a2V5OiJnZXRNb2R1bGVTb3VyY2UiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlO3N3aXRjaCh0KXtjYXNlInZzIjplPXRoaXMudnN8fCIiO2JyZWFrO2Nhc2UiZnMiOmU9dGhpcy5mc3x8IiI7YnJlYWs7ZGVmYXVsdDpPYmplY3QoYS5hKSghMSl9cmV0dXJuIiNkZWZpbmUgTU9EVUxFXyIuY29uY2F0KHRoaXMubmFtZS50b1VwcGVyQ2FzZSgpLnJlcGxhY2UoL1teMC05YS16XS9naSwiXyIpLCJcbiIpLmNvbmNhdChlLCIvLyBFTkQgTU9EVUxFXyIpLmNvbmNhdCh0aGlzLm5hbWUsIlxuXG4iKX19LHtrZXk6ImdldFVuaWZvcm1zIix2YWx1ZTpmdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLmdldE1vZHVsZVVuaWZvcm1zP3RoaXMuZ2V0TW9kdWxlVW5pZm9ybXModCxlKTp0aGlzLnVuaWZvcm1zP3RoaXMuX2RlZmF1bHRHZXRVbmlmb3Jtcyh0KTp7fX19LHtrZXk6ImdldERlZmluZXMiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZGVmaW5lc319LHtrZXk6ImNoZWNrRGVwcmVjYXRpb25zIix2YWx1ZTpmdW5jdGlvbih0LGUpe3RoaXMuZGVwcmVjYXRpb25zLmZvckVhY2goKGZ1bmN0aW9uKG4pe24ucmVnZXgudGVzdCh0KSYmKG4uZGVwcmVjYXRlZD9lLmRlcHJlY2F0ZWQobi5vbGQsbi5uZXcpKCk6ZS5yZW1vdmVkKG4ub2xkLG4ubmV3KSgpKX0pKX19LHtrZXk6Il9wYXJzZURlcHJlY2F0aW9uRGVmaW5pdGlvbnMiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0LmZvckVhY2goKGZ1bmN0aW9uKHQpe3N3aXRjaCh0LnR5cGUpe2Nhc2UiZnVuY3Rpb24iOnQucmVnZXg9bmV3IFJlZ0V4cCgiXFxiIi5jb25jYXQodC5vbGQsIlxcKCIpKTticmVhaztkZWZhdWx0OnQucmVnZXg9bmV3IFJlZ0V4cCgiIi5jb25jYXQodC50eXBlLCIgIikuY29uY2F0KHQub2xkLCI7IikpfX0pKSx0fX0se2tleToiX2RlZmF1bHRHZXRVbmlmb3JtcyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e30sZT17fSxuPXRoaXMudW5pZm9ybXM7Zm9yKHZhciByIGluIG4pe3ZhciBpPW5bcl07ciBpbiB0JiYhaS5wcml2YXRlPyhpLnZhbGlkYXRlJiZPYmplY3QoYS5hKShpLnZhbGlkYXRlKHRbcl0saSksIiIuY29uY2F0KHRoaXMubmFtZSwiOiBpbnZhbGlkICIpLmNvbmNhdChyKSksZVtyXT10W3JdKTplW3JdPWkudmFsdWV9cmV0dXJuIGV9fV0pLHR9KCk7ZnVuY3Rpb24gaCh0KXtpZighdC5ub3JtYWxpemVkJiYodC5ub3JtYWxpemVkPSEwLHQudW5pZm9ybXMmJiF0LmdldFVuaWZvcm1zKSl7dmFyIGU9bmV3IGwodCk7dC5nZXRVbmlmb3Jtcz1lLmdldFVuaWZvcm1zLmJpbmQoZSl9cmV0dXJuIHR9fSxmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oNDgpLGk9big4MiksYT1uKDY2KSxvPW4oMTEpLHM9big3NiksdT1uKDk5KSxjPW4oMjgpO2Z1bmN0aW9uIGwodCl7c3dpdGNoKHQpe2Nhc2UgNjQwNjpjYXNlIDMzMzI2OmNhc2UgNjQwMzpyZXR1cm4gMTtjYXNlIDMzMzI4OmNhc2UgMzMzMTk6cmV0dXJuIDI7Y2FzZSA2NDA3OmNhc2UgMzQ4Mzc6cmV0dXJuIDM7Y2FzZSA2NDA4OmNhc2UgMzQ4MzY6cmV0dXJuIDQ7ZGVmYXVsdDpyZXR1cm4gT2JqZWN0KGMuYSkoITEpLDB9fXZhciBoPW4oMjIxKTtmdW5jdGlvbiBmKHQpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp7fSxuPWUuc291cmNlWCxyPXZvaWQgMD09PW4/MDpuLGk9ZS5zb3VyY2VZLGE9dm9pZCAwPT09aT8wOmksbz1lLnNvdXJjZUZvcm1hdCxzPXZvaWQgMD09PW8/NjQwODpvLGw9ZS5zb3VyY2VBdHRhY2htZW50LGg9dm9pZCAwPT09bD8zNjA2NDpsLGY9ZS50YXJnZXQsZD12b2lkIDA9PT1mP251bGw6Zix2PWUuc291cmNlV2lkdGgscD1lLnNvdXJjZUhlaWdodCxtPWUuc291cmNlVHlwZSxiPWcodCksXz1iLmZyYW1lYnVmZmVyLE89Yi5kZWxldGVGcmFtZWJ1ZmZlcjtPYmplY3QoYy5hKShfKTt2YXIgeD1fLmdsLHc9Xy5oYW5kbGUsaz1fLmF0dGFjaG1lbnRzO3Y9dnx8Xy53aWR0aCxwPXB8fF8uaGVpZ2h0LDM2MDY0PT09aCYmbnVsbD09PXcmJihoPTEwMjgpLE9iamVjdChjLmEpKGtbaF0pLGQ9eShkLG09bXx8a1toXS50eXBlLHMsdixwKSxtPW18fE9iamVjdCh1LmIpKGQpO3ZhciBTPXguYmluZEZyYW1lYnVmZmVyKDM2MTYwLHcpO3JldHVybiB4LnJlYWRQaXhlbHMocixhLHYscCxzLG0sZCkseC5iaW5kRnJhbWVidWZmZXIoMzYxNjAsU3x8bnVsbCksTyYmXy5kZWxldGUoKSxkfWZ1bmN0aW9uIGQodCxlKXt2YXIgbj1lLnNvdXJjZVgsaT12b2lkIDA9PT1uPzA6bixhPWUuc291cmNlWSx1PXZvaWQgMD09PWE/MDphLGg9ZS5zb3VyY2VGb3JtYXQsZj12b2lkIDA9PT1oPzY0MDg6aCxkPWUudGFyZ2V0LHY9dm9pZCAwPT09ZD9udWxsOmQscD1lLnRhcmdldEJ5dGVPZmZzZXQseT12b2lkIDA9PT1wPzA6cCxtPWUuc291cmNlV2lkdGgsYj1lLnNvdXJjZUhlaWdodCxfPWUuc291cmNlVHlwZSxPPWcodCkseD1PLmZyYW1lYnVmZmVyLHc9Ty5kZWxldGVGcmFtZWJ1ZmZlcjtPYmplY3QoYy5hKSh4KTt2YXIgaz14LmdsO2lmKG09bXx8eC53aWR0aCxiPWJ8fHguaGVpZ2h0LE9iamVjdChzLmEpKGspLF89X3x8KHY/di50eXBlOjUxMjEpLCF2KXt2YXIgUz1sKGYpLFA9ZnVuY3Rpb24odCl7c3dpdGNoKHQpe2Nhc2UgNTEyMTpyZXR1cm4gMTtjYXNlIDMzNjM1OmNhc2UgMzI4MTk6Y2FzZSAzMjgyMDpyZXR1cm4gMjtjYXNlIDUxMjY6cmV0dXJuIDQ7ZGVmYXVsdDpyZXR1cm4gT2JqZWN0KGMuYSkoITEpLDB9fShfKSxqPXkrbSpiKlMqUDt2PW5ldyByLmEoayx7Ynl0ZUxlbmd0aDpqLGFjY2Vzc29yOnt0eXBlOl8sc2l6ZTpTfX0pfXJldHVybiB2LmJpbmQoe3RhcmdldDozNTA1MX0pLE9iamVjdChvLmwpKGsse2ZyYW1lYnVmZmVyOnh9LChmdW5jdGlvbigpe2sucmVhZFBpeGVscyhpLHUsbSxiLGYsXyx5KX0pKSx2LnVuYmluZCh7dGFyZ2V0OjM1MDUxfSksdyYmeC5kZWxldGUoKSx2fWZ1bmN0aW9uIHYodCl7Zm9yKHZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp7fSxuPWUuc291cmNlQXR0YWNobWVudCxyPXZvaWQgMD09PW4/MzYwNjQ6bixpPWUudGFyZ2V0TWF4SGVpZ2h0LGE9dm9pZCAwPT09aT9OdW1iZXIuTUFYX1NBRkVfSU5URUdFUjppLG89Zih0LHtzb3VyY2VBdHRhY2htZW50OnJ9KSxzPXQud2lkdGgsYz10LmhlaWdodDtjPmE7KXt2YXIgbD1PYmplY3QodS5kKSh7ZGF0YTpvLHdpZHRoOnMsaGVpZ2h0OmN9KTtvPWwuZGF0YSxzPWwud2lkdGgsYz1sLmhlaWdodH1PYmplY3QodS5hKSh7ZGF0YTpvLHdpZHRoOnMsaGVpZ2h0OmN9KTt2YXIgaD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJjYW52YXMiKTtoLndpZHRoPXMsaC5oZWlnaHQ9Yzt2YXIgZD1oLmdldENvbnRleHQoIjJkIiksdj1kLmNyZWF0ZUltYWdlRGF0YShzLGMpO3JldHVybiB2LmRhdGEuc2V0KG8pLGQucHV0SW1hZ2VEYXRhKHYsMCwwKSxoLnRvRGF0YVVSTCgpfWZ1bmN0aW9uIHAodCxlKXt2YXIgbj1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06e30scj1uLnNvdXJjZVgsaT12b2lkIDA9PT1yPzA6cixvPW4uc291cmNlWSxzPXZvaWQgMD09PW8/MDpvLHU9bi50YXJnZXRYLGw9bi50YXJnZXRZLGg9bi50YXJnZXRaLGY9bi50YXJnZXRNaXBtYXBsZXZlbCxkPXZvaWQgMD09PWY/MDpmLHY9bi50YXJnZXRJbnRlcm5hbEZvcm1hdCxwPXZvaWQgMD09PXY/NjQwODp2LHk9bi53aWR0aCxtPW4uaGVpZ2h0LGI9Zyh0KSxfPWIuZnJhbWVidWZmZXIsTz1iLmRlbGV0ZUZyYW1lYnVmZmVyO09iamVjdChjLmEpKF8pO3ZhciB4PV8uZ2wsdz1fLmhhbmRsZSxrPXZvaWQgMCE9PXV8fHZvaWQgMCE9PWx8fHZvaWQgMCE9PWg7dT11fHwwLGw9bHx8MCxoPWh8fDA7dmFyIFM9eC5iaW5kRnJhbWVidWZmZXIoMzYxNjAsdyk7T2JqZWN0KGMuYSkoZSk7dmFyIFA9bnVsbDtpZihlIGluc3RhbmNlb2YgYS5hJiYoUD1lLHk9TnVtYmVyLmlzRmluaXRlKHkpP3k6UC53aWR0aCxtPU51bWJlci5pc0Zpbml0ZShtKT9tOlAuaGVpZ2h0LFAuYmluZCgwKSxlPVAudGFyZ2V0KSxrKXN3aXRjaChlKXtjYXNlIDM1NTM6Y2FzZSAzNDA2Nzp4LmNvcHlUZXhTdWJJbWFnZTJEKGUsZCx1LGwsaSxzLHksbSk7YnJlYWs7Y2FzZSAzNTg2NjpjYXNlIDMyODc5OnguY29weVRleFN1YkltYWdlM0QoZSxkLHUsbCxoLGkscyx5LG0pfWVsc2UgeC5jb3B5VGV4SW1hZ2UyRChlLGQscCxpLHMseSxtLDApO3JldHVybiBQJiZQLnVuYmluZCgpLHguYmluZEZyYW1lYnVmZmVyKDM2MTYwLFN8fG51bGwpLE8mJl8uZGVsZXRlKCksUH1mdW5jdGlvbiBnKHQpe3JldHVybiB0IGluc3RhbmNlb2YgaS5hP3tmcmFtZWJ1ZmZlcjp0LGRlbGV0ZUZyYW1lYnVmZmVyOiExfTp7ZnJhbWVidWZmZXI6T2JqZWN0KGguYikodCksZGVsZXRlRnJhbWVidWZmZXI6ITB9fWZ1bmN0aW9uIHkodCxlLG4scixpKXtyZXR1cm4gdHx8KGU9ZXx8NTEyMSxuZXcoT2JqZWN0KHUuYykoZSx7Y2xhbXBlZDohMX0pKShyKmkqbChuKSkpfW4uZChlLCJjIiwoZnVuY3Rpb24oKXtyZXR1cm4gZn0pKSxuLmQoZSwiZCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGR9KSksbi5kKGUsImEiLChmdW5jdGlvbigpe3JldHVybiB2fSkpLG4uZChlLCJiIiwoZnVuY3Rpb24oKXtyZXR1cm4gcH0pKX0sZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0IjtuLmQoZSwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIGl9KSk7dmFyIHI9bigxMSk7ZnVuY3Rpb24gaSh0LGUsbil7dmFyIGk9bi5yZW1vdmVkUHJvcHMsYT12b2lkIDA9PT1pP3t9Omksbz1uLmRlcHJlY2F0ZWRQcm9wcyxzPXZvaWQgMD09PW8/e306byx1PW4ucmVwbGFjZWRQcm9wcyxjPXZvaWQgMD09PXU/e306dTtmb3IodmFyIGwgaW4gYSlpZihsIGluIGUpe3ZhciBoPWFbbF0/IiIuY29uY2F0KHQsIi4iKS5jb25jYXQoYVtsXSk6Ik4vQSI7ci5oLnJlbW92ZWQoIiIuY29uY2F0KHQsIi4iKS5jb25jYXQobCksaCkoKX1mb3IodmFyIGYgaW4gcylpZihmIGluIGUpe3ZhciBkPXNbZl07ci5oLmRlcHJlY2F0ZWQoIiIuY29uY2F0KHQsIi4iKS5jb25jYXQoZiksIiIuY29uY2F0KHQsIi4iKS5jb25jYXQoZCkpKCl9dmFyIHY9bnVsbDtmb3IodmFyIHAgaW4gYylpZihwIGluIGUpe3ZhciBnPWNbcF07ci5oLmRlcHJlY2F0ZWQoIiIuY29uY2F0KHQsIi4iKS5jb25jYXQocCksIiIuY29uY2F0KHQsIi4iKS5jb25jYXQoZykpKCksKHY9dnx8T2JqZWN0LmFzc2lnbih7fSxlKSlbZ109ZVtwXSxkZWxldGUgdltwXX1yZXR1cm4gdnx8ZX19LCwsLGZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigxMzMpO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxlLmNvbnNvbGU9ZS5wcm9jZXNzPWUuZG9jdW1lbnQ9ZS5nbG9iYWw9ZS53aW5kb3c9ZS5zZWxmPXZvaWQgMDt2YXIgaT1yKG4oNDEpKSxhPXtzZWxmOiJ1bmRlZmluZWQiIT10eXBlb2Ygc2VsZiYmc2VsZix3aW5kb3c6InVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3cmJndpbmRvdyxnbG9iYWw6InVuZGVmaW5lZCIhPXR5cGVvZiBnbG9iYWwmJmdsb2JhbCxkb2N1bWVudDoidW5kZWZpbmVkIiE9dHlwZW9mIGRvY3VtZW50JiZkb2N1bWVudCxwcm9jZXNzOiJvYmplY3QiPT09KCJ1bmRlZmluZWQiPT10eXBlb2YgcHJvY2Vzcz8idW5kZWZpbmVkIjooMCxpLmRlZmF1bHQpKHByb2Nlc3MpKSYmcHJvY2Vzc30sbz1hLnNlbGZ8fGEud2luZG93fHxhLmdsb2JhbDtlLnNlbGY9bzt2YXIgcz1hLndpbmRvd3x8YS5zZWxmfHxhLmdsb2JhbDtlLndpbmRvdz1zO3ZhciB1PWEuZ2xvYmFsfHxhLnNlbGZ8fGEud2luZG93O2UuZ2xvYmFsPXU7dmFyIGM9YS5kb2N1bWVudHx8e307ZS5kb2N1bWVudD1jO3ZhciBsPWEucHJvY2Vzc3x8e307ZS5wcm9jZXNzPWw7dmFyIGg9Y29uc29sZTtlLmNvbnNvbGU9aH0sZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKDEzMyk7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGUuZGVmYXVsdD1vLGUuaXNCcm93c2VyTWFpblRocmVhZD1mdW5jdGlvbigpe3JldHVybiBvKCkmJiJ1bmRlZmluZWQiIT10eXBlb2YgZG9jdW1lbnR9O3ZhciBpPXIobig0MSkpLGE9cihuKDE4MSkpO2Z1bmN0aW9uIG8oKXtyZXR1cm4hKCJvYmplY3QiPT09KCJ1bmRlZmluZWQiPT10eXBlb2YgcHJvY2Vzcz8idW5kZWZpbmVkIjooMCxpLmRlZmF1bHQpKHByb2Nlc3MpKSYmIltvYmplY3QgcHJvY2Vzc10iPT09U3RyaW5nKHByb2Nlc3MpJiYhcHJvY2Vzcy5icm93c2VyKXx8KDAsYS5kZWZhdWx0KSgpfX0sZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0IjtuLmQoZSwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIF99KSk7dmFyIHI9bigzMSksaT1uKDYpLGE9bigxNyksbz1uKDE1KSxzPW4oNyksdT1uKDE4KSxjPW4oMjcpLGw9bigxNjgpLGg9big4OSksZj1uKDM5KSxkPW4oNjcpLHY9bigzNikscD1uKDQ5KSxnPU9iamVjdC5mcmVlemUoWzEsMCwwLDAsMCwxLDAsMCwwLDAsMSwwLDAsMCwwLDFdKSx5PU9iamVjdC5mcmVlemUoWzAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDBdKSxtPU9iamVjdC5mcmVlemUoe0NPTDBST1cwOjAsQ09MMFJPVzE6MSxDT0wwUk9XMjoyLENPTDBST1czOjMsQ09MMVJPVzA6NCxDT0wxUk9XMTo1LENPTDFST1cyOjYsQ09MMVJPVzM6NyxDT0wyUk9XMDo4LENPTDJST1cxOjksQ09MMlJPVzI6MTAsQ09MMlJPVzM6MTEsQ09MM1JPVzA6MTIsQ09MM1JPVzE6MTMsQ09MM1JPVzI6MTQsQ09MM1JPVzM6MTV9KSxiPXt9LF89ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSh0KXt2YXIgbjtyZXR1cm4gT2JqZWN0KGkuYSkodGhpcyxlKSxuPU9iamVjdChhLmEpKHRoaXMsT2JqZWN0KG8uYSkoZSkuY2FsbCh0aGlzLC0wLC0wLC0wLC0wLC0wLC0wLC0wLC0wLC0wLC0wLC0wLC0wLC0wLC0wLC0wLC0wKSksMT09PWFyZ3VtZW50cy5sZW5ndGgmJkFycmF5LmlzQXJyYXkodCk/bi5jb3B5KHQpOm4uaWRlbnRpdHkoKSxufXJldHVybiBPYmplY3QodS5hKShlLHQpLE9iamVjdChzLmEpKGUsW3trZXk6IklORElDRVMiLGdldDpmdW5jdGlvbigpe3JldHVybiBtfX0se2tleToiRUxFTUVOVFMiLGdldDpmdW5jdGlvbigpe3JldHVybiAxNn19LHtrZXk6IlJBTksiLGdldDpmdW5jdGlvbigpe3JldHVybiA0fX1dLFt7a2V5OiJJREVOVElUWSIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGIuSURFTlRJVFk9Yi5JREVOVElUWXx8T2JqZWN0LmZyZWV6ZShuZXcgZShnKSksYi5JREVOVElUWX19LHtrZXk6IlpFUk8iLGdldDpmdW5jdGlvbigpe3JldHVybiBiLlpFUk89Yi5aRVJPfHxPYmplY3QuZnJlZXplKG5ldyBlKHkpKSxiLlpFUk99fV0pLE9iamVjdChzLmEpKGUsW3trZXk6ImNvcHkiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzWzBdPXRbMF0sdGhpc1sxXT10WzFdLHRoaXNbMl09dFsyXSx0aGlzWzNdPXRbM10sdGhpc1s0XT10WzRdLHRoaXNbNV09dFs1XSx0aGlzWzZdPXRbNl0sdGhpc1s3XT10WzddLHRoaXNbOF09dFs4XSx0aGlzWzldPXRbOV0sdGhpc1sxMF09dFsxMF0sdGhpc1sxMV09dFsxMV0sdGhpc1sxMl09dFsxMl0sdGhpc1sxM109dFsxM10sdGhpc1sxNF09dFsxNF0sdGhpc1sxNV09dFsxNV0sdGhpcy5jaGVjaygpfX0se2tleToic2V0Iix2YWx1ZTpmdW5jdGlvbih0LGUsbixyLGksYSxvLHMsdSxjLGwsaCxmLGQsdixwKXtyZXR1cm4gdGhpc1swXT10LHRoaXNbMV09ZSx0aGlzWzJdPW4sdGhpc1szXT1yLHRoaXNbNF09aSx0aGlzWzVdPWEsdGhpc1s2XT1vLHRoaXNbN109cyx0aGlzWzhdPXUsdGhpc1s5XT1jLHRoaXNbMTBdPWwsdGhpc1sxMV09aCx0aGlzWzEyXT1mLHRoaXNbMTNdPWQsdGhpc1sxNF09dix0aGlzWzE1XT1wLHRoaXMuY2hlY2soKX19LHtrZXk6InNldFJvd01ham9yIix2YWx1ZTpmdW5jdGlvbih0LGUsbixyLGksYSxvLHMsdSxjLGwsaCxmLGQsdixwKXtyZXR1cm4gdGhpc1swXT10LHRoaXNbMV09aSx0aGlzWzJdPXUsdGhpc1szXT1mLHRoaXNbNF09ZSx0aGlzWzVdPWEsdGhpc1s2XT1jLHRoaXNbN109ZCx0aGlzWzhdPW4sdGhpc1s5XT1vLHRoaXNbMTBdPWwsdGhpc1sxMV09dix0aGlzWzEyXT1yLHRoaXNbMTNdPXMsdGhpc1sxNF09aCx0aGlzWzE1XT1wLHRoaXMuY2hlY2soKX19LHtrZXk6InRvUm93TWFqb3IiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0WzBdPXRoaXNbMF0sdFsxXT10aGlzWzRdLHRbMl09dGhpc1s4XSx0WzNdPXRoaXNbMTJdLHRbNF09dGhpc1sxXSx0WzVdPXRoaXNbNV0sdFs2XT10aGlzWzldLHRbN109dGhpc1sxM10sdFs4XT10aGlzWzJdLHRbOV09dGhpc1s2XSx0WzEwXT10aGlzWzEwXSx0WzExXT10aGlzWzE0XSx0WzEyXT10aGlzWzNdLHRbMTNdPXRoaXNbN10sdFsxNF09dGhpc1sxMV0sdFsxNV09dGhpc1sxNV0sdH19LHtrZXk6ImlkZW50aXR5Iix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmNvcHkoZyl9fSx7a2V5OiJmcm9tUXVhdGVybmlvbiIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIGYuYih0aGlzLHQpLHRoaXMuY2hlY2soKX19LHtrZXk6ImZydXN0dW0iLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBuPXQubGVmdCxyPXQucmlnaHQsaT10LmJvdHRvbSxhPXQudG9wLG89dC5uZWFyLHM9dC5mYXI7cmV0dXJuIHM9PT0xLzA/ZS5fY29tcHV0ZUluZmluaXRlUGVyc3BlY3RpdmVPZmZDZW50ZXIodGhpcyxuLHIsaSxhLG8pOmYuYyh0aGlzLG4scixpLGEsbyxzKSx0aGlzLmNoZWNrKCl9fSx7a2V5OiJsb29rQXQiLHZhbHVlOmZ1bmN0aW9uKHQsZSxuKXtpZigxPT09YXJndW1lbnRzLmxlbmd0aCl7dmFyIHI9dDt0PXIuZXllLGU9ci5jZW50ZXIsbj1yLnVwfXJldHVybiBlPWV8fFswLDAsMF0sbj1ufHxbMCwxLDBdLGYuZSh0aGlzLHQsZSxuKSx0aGlzLmNoZWNrKCl9fSx7a2V5OiJvcnRobyIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dC5sZWZ0LG49dC5yaWdodCxyPXQuYm90dG9tLGk9dC50b3AsYT10Lm5lYXIsbz12b2lkIDA9PT1hPy4xOmEscz10LmZhcix1PXZvaWQgMD09PXM/NTAwOnM7cmV0dXJuIGYuZyh0aGlzLGUsbixyLGksbyx1KSx0aGlzLmNoZWNrKCl9fSx7a2V5OiJvcnRob2dyYXBoaWMiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBuPXQuZm92eSxyPXZvaWQgMD09PW4/NDUqTWF0aC5QSS8xODA6bixpPXQuYXNwZWN0LGE9dm9pZCAwPT09aT8xOmksbz10LmZvY2FsRGlzdGFuY2Uscz12b2lkIDA9PT1vPzE6byx1PXQubmVhcixjPXZvaWQgMD09PXU/LjE6dSxsPXQuZmFyLGg9dm9pZCAwPT09bD81MDA6bDtpZihyPjIqTWF0aC5QSSl0aHJvdyBFcnJvcigicmFkaWFucyIpO3ZhciBmPXIvMixkPXMqTWF0aC50YW4oZiksdj1kKmE7cmV0dXJuKG5ldyBlKS5vcnRobyh7bGVmdDotdixyaWdodDp2LGJvdHRvbTotZCx0b3A6ZCxuZWFyOmMsZmFyOmh9KX19LHtrZXk6InBlcnNwZWN0aXZlIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fSxlPXQuZm92eSxuPXQuZm92LHI9dm9pZCAwPT09bj80NSpNYXRoLlBJLzE4MDpuLGk9dC5hc3BlY3QsYT12b2lkIDA9PT1pPzE6aSxvPXQubmVhcixzPXZvaWQgMD09PW8/LjE6byx1PXQuZmFyLGM9dm9pZCAwPT09dT81MDA6dTtpZigoZT1lfHxyKT4yKk1hdGguUEkpdGhyb3cgRXJyb3IoInJhZGlhbnMiKTtyZXR1cm4gZi5oKHRoaXMsZSxhLHMsYyksdGhpcy5jaGVjaygpfX0se2tleToiZGV0ZXJtaW5hbnQiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIGYuYSh0aGlzKX19LHtrZXk6ImdldFNjYWxlIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTpbLTAsLTAsLTBdO3JldHVybiB0WzBdPU1hdGguc3FydCh0aGlzWzBdKnRoaXNbMF0rdGhpc1sxXSp0aGlzWzFdK3RoaXNbMl0qdGhpc1syXSksdFsxXT1NYXRoLnNxcnQodGhpc1s0XSp0aGlzWzRdK3RoaXNbNV0qdGhpc1s1XSt0aGlzWzZdKnRoaXNbNl0pLHRbMl09TWF0aC5zcXJ0KHRoaXNbOF0qdGhpc1s4XSt0aGlzWzldKnRoaXNbOV0rdGhpc1sxMF0qdGhpc1sxMF0pLHR9fSx7a2V5OiJnZXRUcmFuc2xhdGlvbiIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06Wy0wLC0wLC0wXTtyZXR1cm4gdFswXT10aGlzWzEyXSx0WzFdPXRoaXNbMTNdLHRbMl09dGhpc1sxNF0sdH19LHtrZXk6ImdldFJvdGF0aW9uIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTpbLTAsLTAsLTAsLTAsLTAsLTAsLTAsLTAsLTAsLTAsLTAsLTAsLTAsLTAsLTAsLTBdLGU9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOm51bGwsbj10aGlzLmdldFNjYWxlKGV8fFstMCwtMCwtMF0pLHI9MS9uWzBdLGk9MS9uWzFdLGE9MS9uWzJdO3JldHVybiB0WzBdPXRoaXNbMF0qcix0WzFdPXRoaXNbMV0qaSx0WzJdPXRoaXNbMl0qYSx0WzNdPTAsdFs0XT10aGlzWzRdKnIsdFs1XT10aGlzWzVdKmksdFs2XT10aGlzWzZdKmEsdFs3XT0wLHRbOF09dGhpc1s4XSpyLHRbOV09dGhpc1s5XSppLHRbMTBdPXRoaXNbMTBdKmEsdFsxMV09MCx0WzEyXT0wLHRbMTNdPTAsdFsxNF09MCx0WzE1XT0xLHR9fSx7a2V5OiJnZXRSb3RhdGlvbk1hdHJpeDMiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOlstMCwtMCwtMCwtMCwtMCwtMCwtMCwtMCwtMF0sZT1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06bnVsbCxuPXRoaXMuZ2V0U2NhbGUoZXx8Wy0wLC0wLC0wXSkscj0xL25bMF0saT0xL25bMV0sYT0xL25bMl07cmV0dXJuIHRbMF09dGhpc1swXSpyLHRbMV09dGhpc1sxXSppLHRbMl09dGhpc1syXSphLHRbM109dGhpc1s0XSpyLHRbNF09dGhpc1s1XSppLHRbNV09dGhpc1s2XSphLHRbNl09dGhpc1s4XSpyLHRbN109dGhpc1s5XSppLHRbOF09dGhpc1sxMF0qYSx0fX0se2tleToidHJhbnNwb3NlIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiBmLm8odGhpcyx0aGlzKSx0aGlzLmNoZWNrKCl9fSx7a2V5OiJpbnZlcnQiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIGYuZCh0aGlzLHRoaXMpLHRoaXMuY2hlY2soKX19LHtrZXk6Im11bHRpcGx5TGVmdCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIGYuZih0aGlzLHQsdGhpcyksdGhpcy5jaGVjaygpfX0se2tleToibXVsdGlwbHlSaWdodCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIGYuZih0aGlzLHRoaXMsdCksdGhpcy5jaGVjaygpfX0se2tleToicm90YXRlWCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIGYuaih0aGlzLHRoaXMsdCksdGhpcy5jaGVjaygpfX0se2tleToicm90YXRlWSIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIGYuayh0aGlzLHRoaXMsdCksdGhpcy5jaGVjaygpfX0se2tleToicm90YXRlWiIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIGYubCh0aGlzLHRoaXMsdCksdGhpcy5jaGVjaygpfX0se2tleToicm90YXRlWFlaIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT1PYmplY3Qoci5hKSh0LDMpLG49ZVswXSxpPWVbMV0sYT1lWzJdO3JldHVybiB0aGlzLnJvdGF0ZVgobikucm90YXRlWShpKS5yb3RhdGVaKGEpfX0se2tleToicm90YXRlQXhpcyIsdmFsdWU6ZnVuY3Rpb24odCxlKXtyZXR1cm4gZi5pKHRoaXMsdGhpcyx0LGUpLHRoaXMuY2hlY2soKX19LHtrZXk6InNjYWxlIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gQXJyYXkuaXNBcnJheSh0KT9mLm0odGhpcyx0aGlzLHQpOmYubSh0aGlzLHRoaXMsW3QsdCx0XSksdGhpcy5jaGVjaygpfX0se2tleToidHJhbnNsYXRlIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gZi5uKHRoaXMsdGhpcyx0KSx0aGlzLmNoZWNrKCl9fSx7a2V5OiJ0cmFuc2Zvcm0iLHZhbHVlOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIDQ9PT10Lmxlbmd0aD8oZT1wLm4oZXx8Wy0wLC0wLC0wLC0wXSx0LHRoaXMpLE9iamVjdChjLmIpKGUsNCksZSk6dGhpcy50cmFuc2Zvcm1Bc1BvaW50KHQsZSl9fSx7a2V5OiJ0cmFuc2Zvcm1Bc1BvaW50Iix2YWx1ZTpmdW5jdGlvbih0LGUpe3N3aXRjaCh0Lmxlbmd0aCl7Y2FzZSAyOmU9ZC5mKGV8fFstMCwtMF0sdCx0aGlzKTticmVhaztjYXNlIDM6ZT12Lm4oZXx8Wy0wLC0wLC0wXSx0LHRoaXMpO2JyZWFrO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKCJJbGxlZ2FsIHZlY3RvciIpfXJldHVybiBPYmplY3QoYy5iKShlLHQubGVuZ3RoKSxlfX0se2tleToidHJhbnNmb3JtQXNWZWN0b3IiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7c3dpdGNoKHQubGVuZ3RoKXtjYXNlIDI6ZT1PYmplY3QoaC5hKShlfHxbLTAsLTBdLHQsdGhpcyk7YnJlYWs7Y2FzZSAzOmU9T2JqZWN0KGguYykoZXx8Wy0wLC0wLC0wXSx0LHRoaXMpO2JyZWFrO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKCJJbGxlZ2FsIHZlY3RvciIpfXJldHVybiBPYmplY3QoYy5iKShlLHQubGVuZ3RoKSxlfX0se2tleToibWFrZVJvdGF0aW9uWCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuaWRlbnRpdHkoKS5yb3RhdGVYKHQpfX0se2tleToibWFrZVRyYW5zbGF0aW9uIix2YWx1ZTpmdW5jdGlvbih0LGUsbil7cmV0dXJuIHRoaXMuaWRlbnRpdHkoKS50cmFuc2xhdGUoW3QsZSxuXSl9fSx7a2V5OiJ0cmFuc2Zvcm1Qb2ludCIsdmFsdWU6ZnVuY3Rpb24odCxlKXtyZXR1cm4gT2JqZWN0KGMuYykoIk1hdHJpeDQudHJhbnNmb3JtUG9pbnQiLCIzLjAiKSx0aGlzLnRyYW5zZm9ybUFzUG9pbnQodCxlKX19LHtrZXk6InRyYW5zZm9ybVZlY3RvciIsdmFsdWU6ZnVuY3Rpb24odCxlKXtyZXR1cm4gT2JqZWN0KGMuYykoIk1hdHJpeDQudHJhbnNmb3JtVmVjdG9yIiwiMy4wIiksdGhpcy50cmFuc2Zvcm1Bc1BvaW50KHQsZSl9fSx7a2V5OiJ0cmFuc2Zvcm1EaXJlY3Rpb24iLHZhbHVlOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIE9iamVjdChjLmMpKCJNYXRyaXg0LnRyYW5zZm9ybURpcmVjdGlvbiIsIjMuMCIpLHRoaXMudHJhbnNmb3JtQXNWZWN0b3IodCxlKX19XSxbe2tleToiX2NvbXB1dGVJbmZpbml0ZVBlcnNwZWN0aXZlT2ZmQ2VudGVyIix2YWx1ZTpmdW5jdGlvbih0LGUsbixyLGksYSl7dmFyIG89MiphLyhuLWUpLHM9MiphLyhpLXIpLHU9KG4rZSkvKG4tZSksYz0oaStyKS8oaS1yKSxsPS0yKmE7cmV0dXJuIHRbMF09byx0WzFdPTAsdFsyXT0wLHRbM109MCx0WzRdPTAsdFs1XT1zLHRbNl09MCx0WzddPTAsdFs4XT11LHRbOV09Yyx0WzEwXT0tMSx0WzExXT0tMSx0WzEyXT0wLHRbMTNdPTAsdFsxNF09bCx0WzE1XT0wLHR9fV0pLGV9KGwuYSl9LGZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7bi5kKGUsImEiLChmdW5jdGlvbigpe3JldHVybiBsfSkpO3ZhciByPW4oNSksaT1uLm4ociksYT1uKDEzKSxvPW4oMzgpLHM9big5MyksdT1uKDU5KSxjPW4oMTYxKTtmdW5jdGlvbiBsKHQsZSxuKXtyZXR1cm4gaC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZnVuY3Rpb24gaCgpe3JldHVybihoPU9iamVjdChhLmEpKGkuYS5tYXJrKChmdW5jdGlvbiB0KGUsbixyKXt2YXIgYTtyZXR1cm4gaS5hLndyYXAoKGZ1bmN0aW9uKHQpe2Zvcig7Oylzd2l0Y2godC5wcmV2PXQubmV4dCl7Y2FzZSAwOmlmKEFycmF5LmlzQXJyYXkobil8fE9iamVjdCh1LmEpKG4pfHwocj1uLG49bnVsbCksYT1lLCJzdHJpbmciIT10eXBlb2YgZSl7dC5uZXh0PTg7YnJlYWt9cmV0dXJuIHQubmV4dD01LE9iamVjdChzLmEpKGUscik7Y2FzZSA1OmE9dC5zZW50LHQubmV4dD05O2JyZWFrO2Nhc2UgODplPW51bGw7Y2FzZSA5OmlmKCFPYmplY3Qoby5kKShlKSl7dC5uZXh0PTE0O2JyZWFrfXJldHVybiB0Lm5leHQ9MTIsT2JqZWN0KHMuYSkoZSxyKTtjYXNlIDEyOmE9dC5zZW50LGU9bnVsbDtjYXNlIDE0OnJldHVybiB0Lm5leHQ9MTYsT2JqZWN0KGMuYSkoYSxuLHIsZSk7Y2FzZSAxNjpyZXR1cm4gdC5hYnJ1cHQoInJldHVybiIsdC5zZW50KTtjYXNlIDE3OmNhc2UiZW5kIjpyZXR1cm4gdC5zdG9wKCl9fSksdCl9KSkpKS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fSxmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO24uZChlLCJhIiwoZnVuY3Rpb24oKXtyZXR1cm4gaX0pKTt2YXIgcj1uKDk2KTtmdW5jdGlvbiBpKHQpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXToiMi4xLjEiO09iamVjdChyLmEpKHQsIm5vIGxvYWRlciBwcm92aWRlZCIpO3ZhciBuPXQudmVyc2lvbjtlJiZuJiYoZT1hKGUpLG49YShuKSl9ZnVuY3Rpb24gYSh0KXt2YXIgZT10LnNwbGl0KCIuIikubWFwKE51bWJlcik7cmV0dXJue21ham9yOmVbMF0sbWlub3I6ZVsxXX19fSxmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO24uZChlLCJhIiwoZnVuY3Rpb24oKXtyZXR1cm4gaX0pKTt2YXIgcj1uKDI1KTtmdW5jdGlvbiBpKHQpe3ZhciBlPSEoYXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0pfHxhcmd1bWVudHNbMV0sbj1hcmd1bWVudHMubGVuZ3RoPjI/YXJndW1lbnRzWzJdOnZvaWQgMCxvPW58fG5ldyBTZXQ7aWYodCl7aWYoYSh0KSlvLmFkZCh0KTtlbHNlIGlmKGEodC5idWZmZXIpKW8uYWRkKHQuYnVmZmVyKTtlbHNlIGlmKGUmJiJvYmplY3QiPT09T2JqZWN0KHIuYSkodCkpZm9yKHZhciBzIGluIHQpaSh0W3NdLGUsbyl9ZWxzZTtyZXR1cm4gdm9pZCAwPT09bj9BcnJheS5mcm9tKG8pOm51bGx9ZnVuY3Rpb24gYSh0KXtyZXR1cm4hIXQmJih0IGluc3RhbmNlb2YgQXJyYXlCdWZmZXJ8fCgidW5kZWZpbmVkIiE9dHlwZW9mIE1lc3NhZ2VQb3J0JiZ0IGluc3RhbmNlb2YgTWVzc2FnZVBvcnR8fCgidW5kZWZpbmVkIiE9dHlwZW9mIEltYWdlQml0bWFwJiZ0IGluc3RhbmNlb2YgSW1hZ2VCaXRtYXB8fCJ1bmRlZmluZWQiIT10eXBlb2YgT2Zmc2NyZWVuQ2FudmFzJiZ0IGluc3RhbmNlb2YgT2Zmc2NyZWVuQ2FudmFzKSkpfX0sZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKDExMSk7ZS5hPXtuYW1lOiJwcm9qZWN0MzIiLGRlcGVuZGVuY2llczpbci5hXSx2czoiXG52ZWM0IHByb2plY3RfcG9zaXRpb25fdG9fY2xpcHNwYWNlKFxuICB2ZWMzIHBvc2l0aW9uLCB2ZWMzIHBvc2l0aW9uNjRMb3csIHZlYzMgb2Zmc2V0LCBvdXQgdmVjNCBjb21tb25Qb3NpdGlvblxuKSB7XG4gIHZlYzMgcHJvamVjdGVkUG9zaXRpb24gPSBwcm9qZWN0X3Bvc2l0aW9uKHBvc2l0aW9uLCBwb3NpdGlvbjY0TG93KTtcbiAgY29tbW9uUG9zaXRpb24gPSB2ZWM0KHByb2plY3RlZFBvc2l0aW9uICsgb2Zmc2V0LCAxLjApO1xuICByZXR1cm4gcHJvamVjdF9jb21tb25fcG9zaXRpb25fdG9fY2xpcHNwYWNlKGNvbW1vblBvc2l0aW9uKTtcbn1cblxudmVjNCBwcm9qZWN0X3Bvc2l0aW9uX3RvX2NsaXBzcGFjZShcbiAgdmVjMyBwb3NpdGlvbiwgdmVjMyBwb3NpdGlvbjY0TG93LCB2ZWMzIG9mZnNldFxuKSB7XG4gIHZlYzQgY29tbW9uUG9zaXRpb247XG4gIHJldHVybiBwcm9qZWN0X3Bvc2l0aW9uX3RvX2NsaXBzcGFjZShwb3NpdGlvbiwgcG9zaXRpb242NExvdywgb2Zmc2V0LCBjb21tb25Qb3NpdGlvbik7XG59XG4ifX0sZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0IjtuLmQoZSwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIHV9KSk7dmFyIHI9bigxKSxpPW4ubihyKSxhPW4oMiksbz1uLm4oYSkscz1uKDg0KSx1PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fTtpKCkodGhpcyx0KSx0aGlzLm9wdHM9ZX1yZXR1cm4gbygpKHQsW3trZXk6ImVxdWFscyIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXM9PT10fHx0aGlzLmNvbnN0cnVjdG9yPT09dC5jb25zdHJ1Y3RvciYmT2JqZWN0KHMuYSkodGhpcy5vcHRzLHQub3B0cyl9fSx7a2V5OiJnZXRTaGFkZXJzIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gbnVsbH19LHtrZXk6ImdldFN1YkxheWVyUHJvcHMiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXQuY29uc3RydWN0b3IuZGVmYXVsdFByb3BzLG49dm9pZCAwPT09ZT97fTplLHI9e3VwZGF0ZVRyaWdnZXJzOnt9fTtmb3IodmFyIGkgaW4gbilpZihpIGluIHRoaXMucHJvcHMpe3ZhciBhPW5baV0sbz10aGlzLnByb3BzW2ldO3JbaV09byxhJiYiYWNjZXNzb3IiPT09YS50eXBlJiYoci51cGRhdGVUcmlnZ2Vyc1tpXT10aGlzLnByb3BzLnVwZGF0ZVRyaWdnZXJzW2ldLCJmdW5jdGlvbiI9PXR5cGVvZiBvJiYocltpXT10aGlzLmdldFN1YkxheWVyQWNjZXNzb3IobywhMCkpKX1yZXR1cm4gcn19LHtrZXk6ImluaXRpYWxpemVTdGF0ZSIsdmFsdWU6ZnVuY3Rpb24odCxlKXt9fSx7a2V5OiJ1cGRhdGVTdGF0ZSIsdmFsdWU6ZnVuY3Rpb24odCxlKXt9fSx7a2V5OiJkcmF3Iix2YWx1ZTpmdW5jdGlvbih0LGUpe319LHtrZXk6ImZpbmFsaXplU3RhdGUiLHZhbHVlOmZ1bmN0aW9uKHQpe319XSksdH0oKX0sZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0IjtuLmQoZSwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIGh9KSk7dmFyIHI9bigxKSxpPW4ubihyKSxhPW4oMiksbz1uLm4oYSkscz1uKDY0KSx1PW4oOTUpLGM9bigyOSksbD1uKDQ4KSxoPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fTtpKCkodGhpcyx0KTt2YXIgbj1lLmF0dHJpYnV0ZXMscj12b2lkIDA9PT1uP3t9Om47dGhpcy50eXBlZEFycmF5TWFuYWdlcj11LmEsdGhpcy5pbmRleFN0YXJ0cz1udWxsLHRoaXMudmVydGV4U3RhcnRzPW51bGwsdGhpcy52ZXJ0ZXhDb3VudD0wLHRoaXMuaW5zdGFuY2VDb3VudD0wLHRoaXMuYXR0cmlidXRlcz17fSx0aGlzLl9hdHRyaWJ1dGVEZWZzPXIsdGhpcy5vcHRzPWUsdGhpcy51cGRhdGVHZW9tZXRyeShlKSxPYmplY3Quc2VhbCh0aGlzKX1yZXR1cm4gbygpKHQsW3trZXk6InVwZGF0ZUdlb21ldHJ5Iix2YWx1ZTpmdW5jdGlvbih0KXtPYmplY3QuYXNzaWduKHRoaXMub3B0cyx0KTt2YXIgZT10aGlzLm9wdHMsbj1lLmRhdGEscj1lLmJ1ZmZlcnMsaT12b2lkIDA9PT1yP3t9OnIsYT1lLmdldEdlb21ldHJ5LG89ZS5nZW9tZXRyeUJ1ZmZlcixzPWUucG9zaXRpb25Gb3JtYXQsdT1lLmRhdGFDaGFuZ2VkLGw9ZS5ub3JtYWxpemUsaD12b2lkIDA9PT1sfHxsO2lmKHRoaXMuZGF0YT1uLHRoaXMuZ2V0R2VvbWV0cnk9YSx0aGlzLnBvc2l0aW9uU2l6ZT1vJiZvLnNpemV8fCgiWFkiPT09cz8yOjMpLHRoaXMuYnVmZmVycz1pLHRoaXMubm9ybWFsaXplPWgsbyYmKE9iamVjdChjLmEpKG4uc3RhcnRJbmRpY2VzLCJiaW5hcnkgZGF0YSBtaXNzaW5nIHN0YXJ0SW5kaWNlcyIpLHRoaXMuZ2V0R2VvbWV0cnk9dGhpcy5nZXRHZW9tZXRyeUZyb21CdWZmZXIobyksaHx8KGkucG9zaXRpb25zPW8pKSx0aGlzLmdlb21ldHJ5QnVmZmVyPWkucG9zaXRpb25zLEFycmF5LmlzQXJyYXkodSkpe3ZhciBmPSEwLGQ9ITEsdj12b2lkIDA7dHJ5e2Zvcih2YXIgcCxnPXVbU3ltYm9sLml0ZXJhdG9yXSgpOyEoZj0ocD1nLm5leHQoKSkuZG9uZSk7Zj0hMCl7dmFyIHk9cC52YWx1ZTt0aGlzLl9yZWJ1aWxkR2VvbWV0cnkoeSl9fWNhdGNoKHQpe2Q9ITAsdj10fWZpbmFsbHl7dHJ5e2Z8fG51bGw9PWcucmV0dXJufHxnLnJldHVybigpfWZpbmFsbHl7aWYoZCl0aHJvdyB2fX19ZWxzZSB0aGlzLl9yZWJ1aWxkR2VvbWV0cnkoKX19LHtrZXk6InVwZGF0ZVBhcnRpYWxHZW9tZXRyeSIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dC5zdGFydFJvdyxuPXQuZW5kUm93O3RoaXMuX3JlYnVpbGRHZW9tZXRyeSh7c3RhcnRSb3c6ZSxlbmRSb3c6bn0pfX0se2tleToidXBkYXRlR2VvbWV0cnlBdHRyaWJ1dGVzIix2YWx1ZTpmdW5jdGlvbih0LGUsbil7dGhyb3cgbmV3IEVycm9yKCJOb3QgaW1wbGVtZW50ZWQiKX19LHtrZXk6ImdldEdlb21ldHJ5U2l6ZSIsdmFsdWU6ZnVuY3Rpb24odCl7dGhyb3cgbmV3IEVycm9yKCJOb3QgaW1wbGVtZW50ZWQiKX19LHtrZXk6ImdldEdlb21ldHJ5RnJvbUJ1ZmZlciIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dC52YWx1ZXx8dDtyZXR1cm4gT2JqZWN0KGMuYSkoQXJyYXlCdWZmZXIuaXNWaWV3KGUpLCJjYW5ub3QgcmVhZCBnZW9tZXRyaWVzIiksT2JqZWN0KHMuYikoZSx7c2l6ZTp0aGlzLnBvc2l0aW9uU2l6ZSxvZmZzZXQ6dC5vZmZzZXQsc3RyaWRlOnQuc3RyaWRlLHN0YXJ0SW5kaWNlczp0aGlzLmRhdGEuc3RhcnRJbmRpY2VzfSl9fSx7a2V5OiJfYWxsb2NhdGUiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy5hdHRyaWJ1dGVzLHI9dGhpcy5idWZmZXJzLGk9dGhpcy5fYXR0cmlidXRlRGVmcyxhPXRoaXMudHlwZWRBcnJheU1hbmFnZXI7Zm9yKHZhciBvIGluIGkpaWYobyBpbiByKWEucmVsZWFzZShuW29dKSxuW29dPW51bGw7ZWxzZXt2YXIgcz1pW29dO3MuY29weT1lLG5bb109YS5hbGxvY2F0ZShuW29dLHQscyl9fX0se2tleToiX2ZvckVhY2hHZW9tZXRyeSIsdmFsdWU6ZnVuY3Rpb24odCxlLG4pe3ZhciByPXRoaXMuZGF0YSxpPXRoaXMuZ2V0R2VvbWV0cnksYT1PYmplY3Qocy5hKShyLGUsbiksbz1hLml0ZXJhYmxlLHU9YS5vYmplY3RJbmZvLGM9ITAsbD0hMSxoPXZvaWQgMDt0cnl7Zm9yKHZhciBmLGQ9b1tTeW1ib2wuaXRlcmF0b3JdKCk7IShjPShmPWQubmV4dCgpKS5kb25lKTtjPSEwKXt2YXIgdj1mLnZhbHVlO3UuaW5kZXgrKyx0KGkodix1KSx1LmluZGV4KX19Y2F0Y2godCl7bD0hMCxoPXR9ZmluYWxseXt0cnl7Y3x8bnVsbD09ZC5yZXR1cm58fGQucmV0dXJuKCl9ZmluYWxseXtpZihsKXRocm93IGh9fX19LHtrZXk6Il9yZWJ1aWxkR2VvbWV0cnkiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7aWYodGhpcy5kYXRhJiZ0aGlzLmdldEdlb21ldHJ5KXt2YXIgbj10aGlzLmluZGV4U3RhcnRzLHI9dGhpcy52ZXJ0ZXhTdGFydHMsaT10aGlzLmluc3RhbmNlQ291bnQsYT10aGlzLmRhdGEsbz10aGlzLmdlb21ldHJ5QnVmZmVyLHM9dHx8e30sdT1zLnN0YXJ0Um93LGM9dm9pZCAwPT09dT8wOnUsaD1zLmVuZFJvdyxmPXZvaWQgMD09PWg/MS8wOmg7aWYodHx8KG49WzBdLHI9WzBdKSx0aGlzLm5vcm1hbGl6ZXx8IW8pdGhpcy5fZm9yRWFjaEdlb21ldHJ5KChmdW5jdGlvbih0LG4pe3JbbisxXT1yW25dK2UuZ2V0R2VvbWV0cnlTaXplKHQpfSksYyxmKSxpPXJbci5sZW5ndGgtMV07ZWxzZSBpZihvLmJ1ZmZlciBpbnN0YW5jZW9mIGwuYSl7dmFyIGQ9by5zdHJpZGV8fDQqdGhpcy5wb3NpdGlvblNpemU7cj1hLnN0YXJ0SW5kaWNlcyxpPXJbYS5sZW5ndGhdfHxvLmJ1ZmZlci5ieXRlTGVuZ3RoL2R9ZWxzZXt2YXIgdj1vLnZhbHVlfHxvLHA9by5zdHJpZGUvdi5CWVRFU19QRVJfRUxFTUVOVHx8dGhpcy5wb3NpdGlvblNpemU7cj1hLnN0YXJ0SW5kaWNlcyxpPXJbYS5sZW5ndGhdfHx2Lmxlbmd0aC9wfXRoaXMuX2FsbG9jYXRlKGksQm9vbGVhbih0KSksdGhpcy5pbmRleFN0YXJ0cz1uLHRoaXMudmVydGV4U3RhcnRzPXIsdGhpcy5pbnN0YW5jZUNvdW50PWk7dmFyIGc9e307dGhpcy5fZm9yRWFjaEdlb21ldHJ5KChmdW5jdGlvbih0LGEpe2cudmVydGV4U3RhcnQ9clthXSxnLmluZGV4U3RhcnQ9blthXTt2YXIgbz1hPHIubGVuZ3RoLTE/clthKzFdOmk7Zy5nZW9tZXRyeVNpemU9by1yW2FdLGcuZ2VvbWV0cnlJbmRleD1hLGUudXBkYXRlR2VvbWV0cnlBdHRyaWJ1dGVzKHQsZyl9KSxjLGYpLHRoaXMudmVydGV4Q291bnQ9bltuLmxlbmd0aC0xXX19fV0pLHR9KCl9LGZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7bi5kKGUsImEiLChmdW5jdGlvbigpe3JldHVybiB2fSkpO3ZhciByPW4oMSksaT1uLm4ociksYT1uKDIpLG89bi5uKGEpLHM9big5KSx1PW4ubihzKSxjPW4oMyksbD1uLm4oYyksaD1uKDEwKSxmPW4ubihoKSxkPW4oMjc3KSx2PWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXtyZXR1cm4gaSgpKHRoaXMsZSksdSgpKHRoaXMsbCgpKGUpLmFwcGx5KHRoaXMsYXJndW1lbnRzKSl9cmV0dXJuIGYoKShlLHQpLG8oKShlLFt7a2V5OiJnZXRHZW9tZXRyeSIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBkLmF9fSx7a2V5OiJkcmF3Iix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10LnVuaWZvcm1zLG49dGhpcy5wcm9wcyxyPW4uZWxldmF0aW9uU2NhbGUsaT1uLmV4dHJ1ZGVkLGE9bi5vZmZzZXQsbz1uLmNvdmVyYWdlLHM9bi5jZWxsU2l6ZSx1PW4uYW5nbGU7dGhpcy5zdGF0ZS5tb2RlbC5zZXRVbmlmb3JtcyhPYmplY3QuYXNzaWduKHt9LGUse3JhZGl1czpzLzIsYW5nbGU6dSxvZmZzZXQ6YSxleHRydWRlZDppLGNvdmVyYWdlOm8sZWxldmF0aW9uU2NhbGU6cixlZGdlRGlzdGFuY2U6MSxpc1dpcmVmcmFtZTohMX0pKS5kcmF3KCl9fV0pLGV9KG4oMTU5KS5hKTt2LmxheWVyTmFtZT0iR3JpZENlbGxMYXllciIsdi5kZWZhdWx0UHJvcHM9e2NlbGxTaXplOnt0eXBlOiJudW1iZXIiLG1pbjowLHZhbHVlOjFlM30sb2Zmc2V0Ont0eXBlOiJhcnJheSIsbWluOjAsdmFsdWU6WzEsMV19fX0sZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0IjtuLmQoZSwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIE99KSk7dmFyIHI9bigxKSxpPW4ubihyKSxhPW4oMiksbz1uLm4oYSkscz1uKDkpLHU9bi5uKHMpLGM9bigzKSxsPW4ubihjKSxoPW4oMTApLGY9bi5uKGgpLGQ9bigyMyksdj1uKDY0KSxwPW4oMTg1KSxnPW4oMTE5KSx5PW4oMTEwKSxtPW4oMTI4KSxiPW4oMTc0KSxfPXtzdHJva2VkOiEwLGZpbGxlZDohMCxleHRydWRlZDohMSxlbGV2YXRpb25TY2FsZToxLHdpcmVmcmFtZTohMSxfbm9ybWFsaXplOiEwLGxpbmVXaWR0aFVuaXRzOiJtZXRlcnMiLGxpbmVXaWR0aFNjYWxlOjEsbGluZVdpZHRoTWluUGl4ZWxzOjAsbGluZVdpZHRoTWF4UGl4ZWxzOk51bWJlci5NQVhfU0FGRV9JTlRFR0VSLGxpbmVKb2ludFJvdW5kZWQ6ITEsbGluZU1pdGVyTGltaXQ6NCxnZXRQb2x5Z29uOnt0eXBlOiJhY2Nlc3NvciIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHQucG9seWdvbn19LGdldEZpbGxDb2xvcjp7dHlwZToiYWNjZXNzb3IiLHZhbHVlOlswLDAsMCwyNTVdfSxnZXRMaW5lQ29sb3I6e3R5cGU6ImFjY2Vzc29yIix2YWx1ZTpbMCwwLDAsMjU1XX0sZ2V0TGluZVdpZHRoOnt0eXBlOiJhY2Nlc3NvciIsdmFsdWU6MX0sZ2V0RWxldmF0aW9uOnt0eXBlOiJhY2Nlc3NvciIsdmFsdWU6MWUzfSxtYXRlcmlhbDohMH0sTz1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7cmV0dXJuIGkoKSh0aGlzLGUpLHUoKSh0aGlzLGwoKShlKS5hcHBseSh0aGlzLGFyZ3VtZW50cykpfXJldHVybiBmKCkoZSx0KSxvKCkoZSxbe2tleToiaW5pdGlhbGl6ZVN0YXRlIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuc3RhdGU9e3BhdGhzOltdfSx0aGlzLnByb3BzLmdldExpbmVEYXNoQXJyYXkmJmQuYS5yZW1vdmVkKCJnZXRMaW5lRGFzaEFycmF5IiwiUGF0aFN0eWxlRXh0ZW5zaW9uIikoKX19LHtrZXk6InVwZGF0ZVN0YXRlIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLG49KHQub2xkUHJvcHMsdC5wcm9wcyx0LmNoYW5nZUZsYWdzKSxyPW4uZGF0YUNoYW5nZWR8fG4udXBkYXRlVHJpZ2dlcnNDaGFuZ2VkJiYobi51cGRhdGVUcmlnZ2Vyc0NoYW5nZWQuYWxsfHxuLnVwZGF0ZVRyaWdnZXJzQ2hhbmdlZC5nZXRQb2x5Z29uKTtpZihyJiZBcnJheS5pc0FycmF5KG4uZGF0YUNoYW5nZWQpKXt2YXIgaT10aGlzLnN0YXRlLnBhdGhzLnNsaWNlKCksYT1uLmRhdGFDaGFuZ2VkLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdChiLmEpKHtkYXRhOmksZ2V0SW5kZXg6ZnVuY3Rpb24odCl7cmV0dXJuIHQuX19zb3VyY2UuaW5kZXh9LGRhdGFSYW5nZTp0LHJlcGxhY2U6ZS5fZ2V0UGF0aHModCl9KX0pKTt0aGlzLnNldFN0YXRlKHtwYXRoczppLHBhdGhzRGlmZjphfSl9ZWxzZSByJiZ0aGlzLnNldFN0YXRlKHtwYXRoczp0aGlzLl9nZXRQYXRocygpLHBhdGhzRGlmZjpudWxsfSl9fSx7a2V5OiJfZ2V0UGF0aHMiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9LGU9dGhpcy5wcm9wcyxuPWUuZGF0YSxyPWUuZ2V0UG9seWdvbixpPWUucG9zaXRpb25Gb3JtYXQsYT1lLl9ub3JtYWxpemUsbz1bXSxzPSJYWSI9PT1pPzI6Myx1PXQuc3RhcnRSb3csYz10LmVuZFJvdyxsPU9iamVjdCh2LmEpKG4sdSxjKSxoPWwuaXRlcmFibGUsZj1sLm9iamVjdEluZm8sZD0hMCxwPSExLGc9dm9pZCAwO3RyeXtmb3IodmFyIHksYj1oW1N5bWJvbC5pdGVyYXRvcl0oKTshKGQ9KHk9Yi5uZXh0KCkpLmRvbmUpO2Q9ITApe3ZhciBfPXkudmFsdWU7Zi5pbmRleCsrO3ZhciBPPXIoXyxmKTthJiYoTz1tLmMoTyxzKSk7dmFyIHg9Tyx3PXguaG9sZUluZGljZXMsaz1PLnBvc2l0aW9uc3x8TztpZih3KWZvcih2YXIgUz0wO1M8PXcubGVuZ3RoO1MrKyl7dmFyIFA9ay5zdWJhcnJheSh3W1MtMV18fDAsd1tTXXx8ay5sZW5ndGgpO28ucHVzaCh0aGlzLmdldFN1YkxheWVyUm93KHtwYXRoOlB9LF8sZi5pbmRleCkpfWVsc2Ugby5wdXNoKHRoaXMuZ2V0U3ViTGF5ZXJSb3coe3BhdGg6a30sXyxmLmluZGV4KSl9fWNhdGNoKHQpe3A9ITAsZz10fWZpbmFsbHl7dHJ5e2R8fG51bGw9PWIucmV0dXJufHxiLnJldHVybigpfWZpbmFsbHl7aWYocCl0aHJvdyBnfX1yZXR1cm4gb319LHtrZXk6InJlbmRlckxheWVycyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnByb3BzLGU9dC5kYXRhLG49dC5fZGF0YURpZmYscj10LnN0cm9rZWQsaT10LmZpbGxlZCxhPXQuZXh0cnVkZWQsbz10LndpcmVmcmFtZSxzPXQuX25vcm1hbGl6ZSx1PXQuZWxldmF0aW9uU2NhbGUsYz10LnRyYW5zaXRpb25zLGw9dC5wb3NpdGlvbkZvcm1hdCxoPXRoaXMucHJvcHMsZj1oLmxpbmVXaWR0aFVuaXRzLGQ9aC5saW5lV2lkdGhTY2FsZSx2PWgubGluZVdpZHRoTWluUGl4ZWxzLHA9aC5saW5lV2lkdGhNYXhQaXhlbHMsbT1oLmxpbmVKb2ludFJvdW5kZWQsYj1oLmxpbmVNaXRlckxpbWl0LF89aC5saW5lRGFzaEp1c3RpZmllZCxPPXRoaXMucHJvcHMseD1PLmdldEZpbGxDb2xvcix3PU8uZ2V0TGluZUNvbG9yLGs9Ty5nZXRMaW5lV2lkdGgsUz1PLmdldExpbmVEYXNoQXJyYXksUD1PLmdldEVsZXZhdGlvbixqPU8uZ2V0UG9seWdvbixUPU8udXBkYXRlVHJpZ2dlcnMsRT1PLm1hdGVyaWFsLEE9dGhpcy5zdGF0ZSxNPUEucGF0aHMsQz1BLnBhdGhzRGlmZixMPXRoaXMuZ2V0U3ViTGF5ZXJDbGFzcygiZmlsbCIsZy5hKSxJPXRoaXMuZ2V0U3ViTGF5ZXJDbGFzcygic3Ryb2tlIix5LmEpLFI9dGhpcy5zaG91bGRSZW5kZXJTdWJMYXllcigiZmlsbCIsTSkmJm5ldyBMKHtfZGF0YURpZmY6bixleHRydWRlZDphLGVsZXZhdGlvblNjYWxlOnUsZmlsbGVkOmksd2lyZWZyYW1lOm8sX25vcm1hbGl6ZTpzLGdldEVsZXZhdGlvbjpQLGdldEZpbGxDb2xvcjp4LGdldExpbmVDb2xvcjp3LG1hdGVyaWFsOkUsdHJhbnNpdGlvbnM6Y30sdGhpcy5nZXRTdWJMYXllclByb3BzKHtpZDoiZmlsbCIsdXBkYXRlVHJpZ2dlcnM6e2dldFBvbHlnb246VC5nZXRQb2x5Z29uLGdldEVsZXZhdGlvbjpULmdldEVsZXZhdGlvbixnZXRGaWxsQ29sb3I6VC5nZXRGaWxsQ29sb3IsZ2V0TGluZUNvbG9yOlQuZ2V0TGluZUNvbG9yfX0pLHtkYXRhOmUscG9zaXRpb25Gb3JtYXQ6bCxnZXRQb2x5Z29uOmp9KTtyZXR1cm5bIWEmJlIsIWEmJnImJnRoaXMuc2hvdWxkUmVuZGVyU3ViTGF5ZXIoInN0cm9rZSIsTSkmJm5ldyBJKHtfZGF0YURpZmY6QyYmZnVuY3Rpb24oKXtyZXR1cm4gQ30sd2lkdGhVbml0czpmLHdpZHRoU2NhbGU6ZCx3aWR0aE1pblBpeGVsczp2LHdpZHRoTWF4UGl4ZWxzOnAscm91bmRlZDptLG1pdGVyTGltaXQ6YixkYXNoSnVzdGlmaWVkOl8sX3BhdGhUeXBlOiJsb29wIix0cmFuc2l0aW9uczpjJiZ7Z2V0V2lkdGg6Yy5nZXRMaW5lV2lkdGgsZ2V0Q29sb3I6Yy5nZXRMaW5lQ29sb3IsZ2V0UGF0aDpjLmdldFBvbHlnb259LGdldENvbG9yOnRoaXMuZ2V0U3ViTGF5ZXJBY2Nlc3Nvcih3KSxnZXRXaWR0aDp0aGlzLmdldFN1YkxheWVyQWNjZXNzb3IoayksZ2V0RGFzaEFycmF5OnRoaXMuZ2V0U3ViTGF5ZXJBY2Nlc3NvcihTKX0sdGhpcy5nZXRTdWJMYXllclByb3BzKHtpZDoic3Ryb2tlIix1cGRhdGVUcmlnZ2Vyczp7Z2V0V2lkdGg6VC5nZXRMaW5lV2lkdGgsZ2V0Q29sb3I6VC5nZXRMaW5lQ29sb3IsZ2V0RGFzaEFycmF5OlQuZ2V0TGluZURhc2hBcnJheX19KSx7ZGF0YTpNLHBvc2l0aW9uRm9ybWF0OmwsZ2V0UGF0aDpmdW5jdGlvbih0KXtyZXR1cm4gdC5wYXRofX0pLGEmJlJdfX1dKSxlfShwLmEpO08ubGF5ZXJOYW1lPSJQb2x5Z29uTGF5ZXIiLE8uZGVmYXVsdFByb3BzPV99LGZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7bi5kKGUsImEiLChmdW5jdGlvbigpe3JldHVybiBpfSkpO3ZhciByPW4oMTM1KTtmdW5jdGlvbiBpKHQpe3RyeXtyZXR1cm4gSlNPTi5wYXJzZSh0KX1jYXRjaChlKXt0aHJvdyBuZXcgRXJyb3IoJ0ZhaWxlZCB0byBwYXJzZSBKU09OIGZyb20gZGF0YSBzdGFydGluZyB3aXRoICInLmNvbmNhdChPYmplY3Qoci5hKSh0KSwnIicpKX19fSxmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO24uZChlLCJhIiwoZnVuY3Rpb24oKXtyZXR1cm4gbX0pKTt2YXIgcj1uKDYpLGk9bigxNyksYT1uKDE1KSxvPW4oNykscz1uKDE4KSx1PW4oMTY4KSxjPW4oMjcpLGw9big4OSksaD1uKDY4KSxmPW4oNjcpLGQ9bigzNiksdj1PYmplY3QuZnJlZXplKFsxLDAsMCwwLDEsMCwwLDAsMV0pLHA9T2JqZWN0LmZyZWV6ZShbMCwwLDAsMCwwLDAsMCwwLDBdKSxnPU9iamVjdC5mcmVlemUoe0NPTDBST1cwOjAsQ09MMFJPVzE6MSxDT0wwUk9XMjoyLENPTDFST1cwOjMsQ09MMVJPVzE6NCxDT0wxUk9XMjo1LENPTDJST1cwOjYsQ09MMlJPVzE6NyxDT0wyUk9XMjo4fSkseT17fSxtPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUodCl7dmFyIG47cmV0dXJuIE9iamVjdChyLmEpKHRoaXMsZSksbj1PYmplY3QoaS5hKSh0aGlzLE9iamVjdChhLmEpKGUpLmNhbGwodGhpcywtMCwtMCwtMCwtMCwtMCwtMCwtMCwtMCwtMCkpLDE9PT1hcmd1bWVudHMubGVuZ3RoJiZBcnJheS5pc0FycmF5KHQpP24uY29weSh0KTpuLmlkZW50aXR5KCksbn1yZXR1cm4gT2JqZWN0KHMuYSkoZSx0KSxPYmplY3Qoby5hKShlLFt7a2V5OiJFTEVNRU5UUyIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIDl9fSx7a2V5OiJSQU5LIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gM319LHtrZXk6IklORElDRVMiLGdldDpmdW5jdGlvbigpe3JldHVybiBnfX1dLFt7a2V5OiJJREVOVElUWSIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHkuSURFTlRJVFk9eS5JREVOVElUWXx8T2JqZWN0LmZyZWV6ZShuZXcgZSh2KSkseS5JREVOVElUWX19LHtrZXk6IlpFUk8iLGdldDpmdW5jdGlvbigpe3JldHVybiB5LlpFUk89eS5aRVJPfHxPYmplY3QuZnJlZXplKG5ldyBlKHApKSx5LlpFUk99fV0pLE9iamVjdChvLmEpKGUsW3trZXk6ImNvcHkiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzWzBdPXRbMF0sdGhpc1sxXT10WzFdLHRoaXNbMl09dFsyXSx0aGlzWzNdPXRbM10sdGhpc1s0XT10WzRdLHRoaXNbNV09dFs1XSx0aGlzWzZdPXRbNl0sdGhpc1s3XT10WzddLHRoaXNbOF09dFs4XSx0aGlzLmNoZWNrKCl9fSx7a2V5OiJzZXQiLHZhbHVlOmZ1bmN0aW9uKHQsZSxuLHIsaSxhLG8scyx1KXtyZXR1cm4gdGhpc1swXT10LHRoaXNbMV09ZSx0aGlzWzJdPW4sdGhpc1szXT1yLHRoaXNbNF09aSx0aGlzWzVdPWEsdGhpc1s2XT1vLHRoaXNbN109cyx0aGlzWzhdPXUsdGhpcy5jaGVjaygpfX0se2tleToic2V0Um93TWFqb3IiLHZhbHVlOmZ1bmN0aW9uKHQsZSxuLHIsaSxhLG8scyx1KXtyZXR1cm4gdGhpc1swXT10LHRoaXNbMV09cix0aGlzWzJdPW8sdGhpc1szXT1lLHRoaXNbNF09aSx0aGlzWzVdPXMsdGhpc1s2XT1uLHRoaXNbN109YSx0aGlzWzhdPXUsdGhpcy5jaGVjaygpfX0se2tleToiZGV0ZXJtaW5hbnQiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIGguYih0aGlzKX19LHtrZXk6ImlkZW50aXR5Iix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmNvcHkodil9fSx7a2V5OiJmcm9tUXVhdGVybmlvbiIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIGguYyh0aGlzLHQpLHRoaXMuY2hlY2soKX19LHtrZXk6InRyYW5zcG9zZSIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gaC5pKHRoaXMsdGhpcyksdGhpcy5jaGVjaygpfX0se2tleToiaW52ZXJ0Iix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiBoLmQodGhpcyx0aGlzKSx0aGlzLmNoZWNrKCl9fSx7a2V5OiJtdWx0aXBseUxlZnQiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiBoLmUodGhpcyx0LHRoaXMpLHRoaXMuY2hlY2soKX19LHtrZXk6Im11bHRpcGx5UmlnaHQiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiBoLmUodGhpcyx0aGlzLHQpLHRoaXMuY2hlY2soKX19LHtrZXk6InJvdGF0ZSIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIGguZih0aGlzLHRoaXMsdCksdGhpcy5jaGVjaygpfX0se2tleToic2NhbGUiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiBBcnJheS5pc0FycmF5KHQpP2guZyh0aGlzLHRoaXMsdCk6aC5nKHRoaXMsdGhpcyxbdCx0LHRdKSx0aGlzLmNoZWNrKCl9fSx7a2V5OiJ0cmFuc2xhdGUiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiBoLmgodGhpcyx0aGlzLHQpLHRoaXMuY2hlY2soKX19LHtrZXk6InRyYW5zZm9ybSIsdmFsdWU6ZnVuY3Rpb24odCxlKXtzd2l0Y2godC5sZW5ndGgpe2Nhc2UgMjplPWYuZShlfHxbLTAsLTBdLHQsdGhpcyk7YnJlYWs7Y2FzZSAzOmU9ZC5tKGV8fFstMCwtMCwtMF0sdCx0aGlzKTticmVhaztjYXNlIDQ6ZT1PYmplY3QobC5kKShlfHxbLTAsLTAsLTAsLTBdLHQsdGhpcyk7YnJlYWs7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoIklsbGVnYWwgdmVjdG9yIil9cmV0dXJuIE9iamVjdChjLmIpKGUsdC5sZW5ndGgpLGV9fSx7a2V5OiJ0cmFuc2Zvcm1WZWN0b3IiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIE9iamVjdChjLmMpKCJNYXRyaXgzLnRyYW5zZm9ybVZlY3RvciIpLHRoaXMudHJhbnNmb3JtKHQsZSl9fSx7a2V5OiJ0cmFuc2Zvcm1WZWN0b3IyIix2YWx1ZTpmdW5jdGlvbih0LGUpe3JldHVybiBPYmplY3QoYy5jKSgiTWF0cml4My50cmFuc2Zvcm1WZWN0b3IiKSx0aGlzLnRyYW5zZm9ybSh0LGUpfX0se2tleToidHJhbnNmb3JtVmVjdG9yMyIsdmFsdWU6ZnVuY3Rpb24odCxlKXtyZXR1cm4gT2JqZWN0KGMuYykoIk1hdHJpeDMudHJhbnNmb3JtVmVjdG9yIiksdGhpcy50cmFuc2Zvcm0odCxlKX19XSksZX0odS5hKX0sZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0IjtuLmQoZSwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIGx9KSk7dmFyIHI9bigwKSxpPW4oNiksYT1uKDcpLG89bigxMzEpO2Z1bmN0aW9uIHModCxlKXt2YXIgbj1PYmplY3Qua2V5cyh0KTtpZihPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgcj1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHQpO2UmJihyPXIuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0LGUpLmVudW1lcmFibGV9KSkpLG4ucHVzaC5hcHBseShuLHIpfXJldHVybiBufWZ1bmN0aW9uIHUodCl7Zm9yKHZhciBlPTE7ZTxhcmd1bWVudHMubGVuZ3RoO2UrKyl7dmFyIG49bnVsbCE9YXJndW1lbnRzW2VdP2FyZ3VtZW50c1tlXTp7fTtlJTI/cyhPYmplY3QobiksITApLmZvckVhY2goKGZ1bmN0aW9uKGUpe09iamVjdChyLmEpKHQsZSxuW2VdKX0pKTpPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycz9PYmplY3QuZGVmaW5lUHJvcGVydGllcyh0LE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKG4pKTpzKE9iamVjdChuKSkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsZSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG4sZSkpfSkpfXJldHVybiB0fXZhciBjPXtpZDoicmVxdWVzdC1zY2hlZHVsZXIiLHRocm90dGxlUmVxdWVzdHM6ITAsbWF4UmVxdWVzdHM6Nn0sbD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e307T2JqZWN0KGkuYSkodGhpcyx0KSx0aGlzLnByb3BzPXUoe30sYyx7fSxlKSx0aGlzLnJlcXVlc3RRdWV1ZT1bXSx0aGlzLmFjdGl2ZVJlcXVlc3RDb3VudD0wLHRoaXMucmVxdWVzdE1hcD17fSx0aGlzLnN0YXRzPW5ldyBvLmEoe2lkOmUuaWR9KSx0aGlzLnN0YXRzLmdldCgiUXVldWVkIFJlcXVlc3RzIiksdGhpcy5zdGF0cy5nZXQoIkFjdGl2ZSBSZXF1ZXN0cyIpLHRoaXMuc3RhdHMuZ2V0KCJDYW5jZWxsZWQgUmVxdWVzdHMiKSx0aGlzLnN0YXRzLmdldCgiUXVldWVkIFJlcXVlc3RzIEV2ZXIiKSx0aGlzLnN0YXRzLmdldCgiQWN0aXZlIFJlcXVlc3RzIEV2ZXIiKSx0aGlzLl9kZWZlcnJlZFVwZGF0ZT1udWxsfXJldHVybiBPYmplY3QoYS5hKSh0LFt7a2V5OiJzY2hlZHVsZVJlcXVlc3QiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTpmdW5jdGlvbigpe3JldHVybiAwfTtpZighdGhpcy5wcm9wcy50aHJvdHRsZVJlcXVlc3RzKXJldHVybiBQcm9taXNlLnJlc29sdmUodCk7aWYodGhpcy5yZXF1ZXN0TWFwW3QuaWRdKXJldHVybiB0aGlzLnJlcXVlc3RNYXBbdC5pZF07dmFyIG49bnVsbCxyPW5ldyBQcm9taXNlKChmdW5jdGlvbihyLGkpe3JldHVybiBuPXtoYW5kbGU6dCxjYWxsYmFjazplLHJlc29sdmU6cixyZWplY3Q6aX19KSk7cmV0dXJuIHRoaXMucmVxdWVzdFF1ZXVlLnB1c2godSh7cHJvbWlzZTpyfSxuKSksdGhpcy5yZXF1ZXN0TWFwW3QuaWRdPXIsdGhpcy5faXNzdWVOZXdSZXF1ZXN0cygpLHJ9fSx7a2V5OiJzdGFydFJlcXVlc3QiLHZhbHVlOmZ1bmN0aW9uKHQpe3RoaXMuYWN0aXZlUmVxdWVzdENvdW50Kyt9fSx7a2V5OiJlbmRSZXF1ZXN0Iix2YWx1ZTpmdW5jdGlvbih0KXt0aGlzLnJlcXVlc3RNYXBbdC5pZF0mJmRlbGV0ZSB0aGlzLnJlcXVlc3RNYXBbdC5pZF0sdGhpcy5hY3RpdmVSZXF1ZXN0Q291bnQtLSx0aGlzLl9pc3N1ZU5ld1JlcXVlc3RzKCl9fSx7a2V5OiJ0cmFja1JlcXVlc3RQcm9taXNlIix2YWx1ZTpmdW5jdGlvbih0LGUpe3ZhciBuPXRoaXM7dGhpcy5zdGFydFJlcXVlc3QodCksZS50aGVuKChmdW5jdGlvbigpe3JldHVybiBuLmVuZFJlcXVlc3QodCl9KSkuY2F0Y2goKGZ1bmN0aW9uKCl7cmV0dXJuIG4uZW5kUmVxdWVzdCh0KX0pKX19LHtrZXk6Il9pc3N1ZU5ld1JlcXVlc3RzIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXM7dGhpcy5fZGVmZXJyZWRVcGRhdGV8fCh0aGlzLl9kZWZlcnJlZFVwZGF0ZT1zZXRUaW1lb3V0KChmdW5jdGlvbigpe3JldHVybiB0Ll9pc3N1ZU5ld1JlcXVlc3RzQXN5bmMoKX0pLDApKX19LHtrZXk6Il9pc3N1ZU5ld1JlcXVlc3RzQXN5bmMiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5fZGVmZXJyZWRVcGRhdGU9bnVsbDt2YXIgdD1NYXRoLm1heCh0aGlzLnByb3BzLm1heFJlcXVlc3RzLXRoaXMuYWN0aXZlUmVxdWVzdENvdW50LDApO2lmKDAhPT10KXt0aGlzLl91cGRhdGVBbGxSZXF1ZXN0cygpO2Zvcih2YXIgZT0wO2U8dDsrK2Upe2lmKHRoaXMucmVxdWVzdFF1ZXVlLmxlbmd0aD4wKXRoaXMucmVxdWVzdFF1ZXVlLnNoaWZ0KCkucmVzb2x2ZSghMCl9fX19LHtrZXk6Il91cGRhdGVBbGxSZXF1ZXN0cyIsdmFsdWU6ZnVuY3Rpb24oKXtmb3IodmFyIHQ9dGhpcy5yZXF1ZXN0UXVldWUsZT0wO2U8dC5sZW5ndGg7KytlKXt2YXIgbj10W2VdO3RoaXMuX3VwZGF0ZVJlcXVlc3Qobil8fCh0LnNwbGljZShlLDEpLGRlbGV0ZSB0aGlzLnJlcXVlc3RNYXBbbi5oYW5kbGUuaWRdLGUtLSl9dC5zb3J0KChmdW5jdGlvbih0LGUpe3JldHVybiB0LnByaW9yaXR5LWUucHJpb3JpdHl9KSl9fSx7a2V5OiJfdXBkYXRlUmVxdWVzdCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHQucHJpb3JpdHk9dC5jYWxsYmFjayh0LmhhbmRsZSksISh0LnByaW9yaXR5PDApfHwodC5yZXNvbHZlKCExKSwhMSl9fV0pLHR9KCl9LGZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigyMTEpO2Z1bmN0aW9uIGkodCxlKXt0aGlzLnZlcnNpb249MSx0aGlzLm5hbWU9bnVsbCx0aGlzLmV4dGVudD00MDk2LHRoaXMubGVuZ3RoPTAsdGhpcy5fcGJmPXQsdGhpcy5fa2V5cz1bXSx0aGlzLl92YWx1ZXM9W10sdGhpcy5fZmVhdHVyZXM9W10sdC5yZWFkRmllbGRzKGEsdGhpcyxlKSx0aGlzLmxlbmd0aD10aGlzLl9mZWF0dXJlcy5sZW5ndGh9ZnVuY3Rpb24gYSh0LGUsbil7MTU9PT10P2UudmVyc2lvbj1uLnJlYWRWYXJpbnQoKToxPT09dD9lLm5hbWU9bi5yZWFkU3RyaW5nKCk6NT09PXQ/ZS5leHRlbnQ9bi5yZWFkVmFyaW50KCk6Mj09PXQ/ZS5fZmVhdHVyZXMucHVzaChuLnBvcyk6Mz09PXQ/ZS5fa2V5cy5wdXNoKG4ucmVhZFN0cmluZygpKTo0PT09dCYmZS5fdmFsdWVzLnB1c2goZnVuY3Rpb24odCl7dmFyIGU9bnVsbCxuPXQucmVhZFZhcmludCgpK3QucG9zO2Zvcig7dC5wb3M8bjspe3ZhciByPXQucmVhZFZhcmludCgpPj4zO2U9MT09PXI/dC5yZWFkU3RyaW5nKCk6Mj09PXI/dC5yZWFkRmxvYXQoKTozPT09cj90LnJlYWREb3VibGUoKTo0PT09cj90LnJlYWRWYXJpbnQ2NCgpOjU9PT1yP3QucmVhZFZhcmludCgpOjY9PT1yP3QucmVhZFNWYXJpbnQoKTo3PT09cj90LnJlYWRCb29sZWFuKCk6bnVsbH1yZXR1cm4gZX0obikpfXQuZXhwb3J0cz1pLGkucHJvdG90eXBlLmZlYXR1cmU9ZnVuY3Rpb24odCl7aWYodDwwfHx0Pj10aGlzLl9mZWF0dXJlcy5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKCJmZWF0dXJlIGluZGV4IG91dCBvZiBib3VuZHMiKTt0aGlzLl9wYmYucG9zPXRoaXMuX2ZlYXR1cmVzW3RdO3ZhciBlPXRoaXMuX3BiZi5yZWFkVmFyaW50KCkrdGhpcy5fcGJmLnBvcztyZXR1cm4gbmV3IHIodGhpcy5fcGJmLGUsdGhpcy5leHRlbnQsdGhpcy5fa2V5cyx0aGlzLl92YWx1ZXMpfX0sZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKDI2NSk7ZnVuY3Rpb24gaSh0LGUsbixyLGkpe3RoaXMucHJvcGVydGllcz17fSx0aGlzLmV4dGVudD1uLHRoaXMudHlwZT0wLHRoaXMuX3BiZj10LHRoaXMuX2dlb21ldHJ5PS0xLHRoaXMuX2tleXM9cix0aGlzLl92YWx1ZXM9aSx0LnJlYWRGaWVsZHMoYSx0aGlzLGUpfWZ1bmN0aW9uIGEodCxlLG4pezE9PXQ/ZS5pZD1uLnJlYWRWYXJpbnQoKToyPT10P2Z1bmN0aW9uKHQsZSl7dmFyIG49dC5yZWFkVmFyaW50KCkrdC5wb3M7Zm9yKDt0LnBvczxuOyl7dmFyIHI9ZS5fa2V5c1t0LnJlYWRWYXJpbnQoKV0saT1lLl92YWx1ZXNbdC5yZWFkVmFyaW50KCldO2UucHJvcGVydGllc1tyXT1pfX0obixlKTozPT10P2UudHlwZT1uLnJlYWRWYXJpbnQoKTo0PT10JiYoZS5fZ2VvbWV0cnk9bi5wb3MpfWZ1bmN0aW9uIG8odCl7Zm9yKHZhciBlLG4scj0wLGk9MCxhPXQubGVuZ3RoLG89YS0xO2k8YTtvPWkrKyllPXRbaV0scis9KChuPXRbb10pLngtZS54KSooZS55K24ueSk7cmV0dXJuIHJ9dC5leHBvcnRzPWksaS50eXBlcz1bIlVua25vd24iLCJQb2ludCIsIkxpbmVTdHJpbmciLCJQb2x5Z29uIl0saS5wcm90b3R5cGUubG9hZEdlb21ldHJ5PWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fcGJmO3QucG9zPXRoaXMuX2dlb21ldHJ5O2Zvcih2YXIgZSxuPXQucmVhZFZhcmludCgpK3QucG9zLGk9MSxhPTAsbz0wLHM9MCx1PVtdO3QucG9zPG47KXtpZihhPD0wKXt2YXIgYz10LnJlYWRWYXJpbnQoKTtpPTcmYyxhPWM+PjN9aWYoYS0tLDE9PT1pfHwyPT09aSlvKz10LnJlYWRTVmFyaW50KCkscys9dC5yZWFkU1ZhcmludCgpLDE9PT1pJiYoZSYmdS5wdXNoKGUpLGU9W10pLGUucHVzaChuZXcgcihvLHMpKTtlbHNle2lmKDchPT1pKXRocm93IG5ldyBFcnJvcigidW5rbm93biBjb21tYW5kICIraSk7ZSYmZS5wdXNoKGVbMF0uY2xvbmUoKSl9fXJldHVybiBlJiZ1LnB1c2goZSksdX0saS5wcm90b3R5cGUuYmJveD1mdW5jdGlvbigpe3ZhciB0PXRoaXMuX3BiZjt0LnBvcz10aGlzLl9nZW9tZXRyeTtmb3IodmFyIGU9dC5yZWFkVmFyaW50KCkrdC5wb3Msbj0xLHI9MCxpPTAsYT0wLG89MS8wLHM9LTEvMCx1PTEvMCxjPS0xLzA7dC5wb3M8ZTspe2lmKHI8PTApe3ZhciBsPXQucmVhZFZhcmludCgpO249NyZsLHI9bD4+M31pZihyLS0sMT09PW58fDI9PT1uKShpKz10LnJlYWRTVmFyaW50KCkpPG8mJihvPWkpLGk+cyYmKHM9aSksKGErPXQucmVhZFNWYXJpbnQoKSk8dSYmKHU9YSksYT5jJiYoYz1hKTtlbHNlIGlmKDchPT1uKXRocm93IG5ldyBFcnJvcigidW5rbm93biBjb21tYW5kICIrbil9cmV0dXJuW28sdSxzLGNdfSxpLnByb3RvdHlwZS50b0dlb0pTT049ZnVuY3Rpb24odCxlLG4pe3ZhciByLGEscz10aGlzLmV4dGVudCpNYXRoLnBvdygyLG4pLHU9dGhpcy5leHRlbnQqdCxjPXRoaXMuZXh0ZW50KmUsbD10aGlzLmxvYWRHZW9tZXRyeSgpLGg9aS50eXBlc1t0aGlzLnR5cGVdO2Z1bmN0aW9uIGYodCl7Zm9yKHZhciBlPTA7ZTx0Lmxlbmd0aDtlKyspe3ZhciBuPXRbZV0scj0xODAtMzYwKihuLnkrYykvczt0W2VdPVszNjAqKG4ueCt1KS9zLTE4MCwzNjAvTWF0aC5QSSpNYXRoLmF0YW4oTWF0aC5leHAocipNYXRoLlBJLzE4MCkpLTkwXX19c3dpdGNoKHRoaXMudHlwZSl7Y2FzZSAxOnZhciBkPVtdO2ZvcihyPTA7cjxsLmxlbmd0aDtyKyspZFtyXT1sW3JdWzBdO2YobD1kKTticmVhaztjYXNlIDI6Zm9yKHI9MDtyPGwubGVuZ3RoO3IrKylmKGxbcl0pO2JyZWFrO2Nhc2UgMzpmb3IobD1mdW5jdGlvbih0KXt2YXIgZT10Lmxlbmd0aDtpZihlPD0xKXJldHVyblt0XTtmb3IodmFyIG4scixpPVtdLGE9MDthPGU7YSsrKXt2YXIgcz1vKHRbYV0pOzAhPT1zJiYodm9pZCAwPT09ciYmKHI9czwwKSxyPT09czwwPyhuJiZpLnB1c2gobiksbj1bdFthXV0pOm4ucHVzaCh0W2FdKSl9biYmaS5wdXNoKG4pO3JldHVybiBpfShsKSxyPTA7cjxsLmxlbmd0aDtyKyspZm9yKGE9MDthPGxbcl0ubGVuZ3RoO2ErKylmKGxbcl1bYV0pfTE9PT1sLmxlbmd0aD9sPWxbMF06aD0iTXVsdGkiK2g7dmFyIHY9e3R5cGU6IkZlYXR1cmUiLGdlb21ldHJ5Ont0eXBlOmgsY29vcmRpbmF0ZXM6bH0scHJvcGVydGllczp0aGlzLnByb3BlcnRpZXN9O3JldHVybiJpZCJpbiB0aGlzJiYodi5pZD10aGlzLmlkKSx2fX0sZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKDQpLGk9bi5uKHIpLGE9bigxKSxvPW4ubihhKSxzPW4oMiksdT1uLm4ocyksYz1uKDE1MyksbD1uKDI5KSxoPW4oODQpLGY9bigyMyksZD1uKDc1KSx2PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fTtvKCkodGhpcyx0KSx0aGlzLnZpZXdzPVtdLHRoaXMud2lkdGg9MTAwLHRoaXMuaGVpZ2h0PTEwMCx0aGlzLnZpZXdTdGF0ZT17fSx0aGlzLmNvbnRyb2xsZXJzPXt9LHRoaXMudGltZWxpbmU9ZS50aW1lbGluZSx0aGlzLl92aWV3cG9ydHM9W10sdGhpcy5fdmlld3BvcnRNYXA9e30sdGhpcy5faXNVcGRhdGluZz0hMSx0aGlzLl9uZWVkc1JlZHJhdz0iSW5pdGlhbCByZW5kZXIiLHRoaXMuX25lZWRzVXBkYXRlPSEwLHRoaXMuX2V2ZW50TWFuYWdlcj1lLmV2ZW50TWFuYWdlcix0aGlzLl9ldmVudENhbGxiYWNrcz17b25WaWV3U3RhdGVDaGFuZ2U6ZS5vblZpZXdTdGF0ZUNoYW5nZSxvbkludGVyYWN0aXZlU3RhdGVDaGFuZ2U6ZS5vbkludGVyYWN0aXZlU3RhdGVDaGFuZ2V9LE9iamVjdC5zZWFsKHRoaXMpLHRoaXMuc2V0UHJvcHMoZSl9cmV0dXJuIHUoKSh0LFt7a2V5OiJmaW5hbGl6ZSIsdmFsdWU6ZnVuY3Rpb24oKXtmb3IodmFyIHQgaW4gdGhpcy5jb250cm9sbGVycyl0aGlzLmNvbnRyb2xsZXJzW3RdJiZ0aGlzLmNvbnRyb2xsZXJzW3RdLmZpbmFsaXplKCk7dGhpcy5jb250cm9sbGVycz17fX19LHtrZXk6Im5lZWRzUmVkcmF3Iix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7Y2xlYXJSZWRyYXdGbGFnczohMX0sZT10aGlzLl9uZWVkc1JlZHJhdztyZXR1cm4gdC5jbGVhclJlZHJhd0ZsYWdzJiYodGhpcy5fbmVlZHNSZWRyYXc9ITEpLGV9fSx7a2V5OiJzZXROZWVkc1VwZGF0ZSIsdmFsdWU6ZnVuY3Rpb24odCl7dGhpcy5fbmVlZHNVcGRhdGU9dGhpcy5fbmVlZHNVcGRhdGV8fHQsdGhpcy5fbmVlZHNSZWRyYXc9dGhpcy5fbmVlZHNSZWRyYXd8fHR9fSx7a2V5OiJ1cGRhdGVWaWV3U3RhdGVzIix2YWx1ZTpmdW5jdGlvbigpe2Zvcih2YXIgdCBpbiB0aGlzLmNvbnRyb2xsZXJzKXt2YXIgZT10aGlzLmNvbnRyb2xsZXJzW3RdO2UmJmUudXBkYXRlVHJhbnNpdGlvbigpfX19LHtrZXk6ImdldFZpZXdwb3J0cyIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHQ/dGhpcy5fdmlld3BvcnRzLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIGUuY29udGFpbnNQaXhlbCh0KX0pKTp0aGlzLl92aWV3cG9ydHN9fSx7a2V5OiJnZXRWaWV3cyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD17fTtyZXR1cm4gdGhpcy52aWV3cy5mb3JFYWNoKChmdW5jdGlvbihlKXt0W2UuaWRdPWV9KSksdH19LHtrZXk6ImdldFZpZXciLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiJzdHJpbmciPT10eXBlb2YgdD90aGlzLnZpZXdzLmZpbmQoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmlkPT09dH0pKTp0fX0se2tleToiZ2V0Vmlld1N0YXRlIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLmdldFZpZXcodCksbj1lJiZ0aGlzLnZpZXdTdGF0ZVtlLmdldFZpZXdTdGF0ZUlkKCldfHx0aGlzLnZpZXdTdGF0ZTtyZXR1cm4gZT9lLmZpbHRlclZpZXdTdGF0ZShuKTpufX0se2tleToiZ2V0Vmlld3BvcnQiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl92aWV3cG9ydE1hcFt0XX19LHtrZXk6InVucHJvamVjdCIsdmFsdWU6ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49dGhpcy5nZXRWaWV3cG9ydHMoKSxyPXt4OnRbMF0seTp0WzFdfSxpPW4ubGVuZ3RoLTE7aT49MDstLWkpe3ZhciBhPW5baV07aWYoYS5jb250YWluc1BpeGVsKHIpKXt2YXIgbz10LnNsaWNlKCk7cmV0dXJuIG9bMF0tPWEueCxvWzFdLT1hLnksYS51bnByb2plY3QobyxlKX19cmV0dXJuIG51bGx9fSx7a2V5OiJzZXRQcm9wcyIsdmFsdWU6ZnVuY3Rpb24odCl7InZpZXdzImluIHQmJnRoaXMuX3NldFZpZXdzKHQudmlld3MpLCJ2aWV3U3RhdGUiaW4gdCYmdGhpcy5fc2V0Vmlld1N0YXRlKHQudmlld1N0YXRlKSwoIndpZHRoImluIHR8fCJoZWlnaHQiaW4gdCkmJnRoaXMuX3NldFNpemUodC53aWR0aCx0LmhlaWdodCksdGhpcy5faXNVcGRhdGluZ3x8dGhpcy5fdXBkYXRlKCl9fSx7a2V5OiJfdXBkYXRlIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuX2lzVXBkYXRpbmc9ITAsdGhpcy5fbmVlZHNVcGRhdGUmJih0aGlzLl9uZWVkc1VwZGF0ZT0hMSx0aGlzLl9yZWJ1aWxkVmlld3BvcnRzKCkpLHRoaXMuX25lZWRzVXBkYXRlJiYodGhpcy5fbmVlZHNVcGRhdGU9ITEsdGhpcy5fcmVidWlsZFZpZXdwb3J0cygpKSx0aGlzLl9pc1VwZGF0aW5nPSExfX0se2tleToiX3NldFNpemUiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7T2JqZWN0KGwuYSkoTnVtYmVyLmlzRmluaXRlKHQpJiZOdW1iZXIuaXNGaW5pdGUoZSkpLHQ9PT10aGlzLndpZHRoJiZlPT09dGhpcy5oZWlnaHR8fCh0aGlzLndpZHRoPXQsdGhpcy5oZWlnaHQ9ZSx0aGlzLnNldE5lZWRzVXBkYXRlKCJTaXplIGNoYW5nZWQiKSl9fSx7a2V5OiJfc2V0Vmlld3MiLHZhbHVlOmZ1bmN0aW9uKHQpe3Q9T2JqZWN0KGQuYikodCxCb29sZWFuKSx0aGlzLl9kaWZmVmlld3ModCx0aGlzLnZpZXdzKSYmdGhpcy5zZXROZWVkc1VwZGF0ZSgidmlld3MgY2hhbmdlZCIpLHRoaXMudmlld3M9dH19LHtrZXk6Il9zZXRWaWV3U3RhdGUiLHZhbHVlOmZ1bmN0aW9uKHQpe3Q/KCFPYmplY3QoaC5hKSh0LHRoaXMudmlld1N0YXRlKSYmdGhpcy5zZXROZWVkc1VwZGF0ZSgidmlld1N0YXRlIGNoYW5nZWQiKSx0aGlzLnZpZXdTdGF0ZT10KTpmLmEud2FybigibWlzc2luZyBgdmlld1N0YXRlYCBvciBgaW5pdGlhbFZpZXdTdGF0ZWAiKSgpfX0se2tleToiX29uVmlld1N0YXRlQ2hhbmdlIix2YWx1ZTpmdW5jdGlvbih0LGUpe2Uudmlld0lkPXQsdGhpcy5fZXZlbnRDYWxsYmFja3Mub25WaWV3U3RhdGVDaGFuZ2UoZSl9fSx7a2V5OiJfY3JlYXRlQ29udHJvbGxlciIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIG5ldygwLHQudHlwZSkoT2JqZWN0LmFzc2lnbih7dGltZWxpbmU6dGhpcy50aW1lbGluZSxldmVudE1hbmFnZXI6dGhpcy5fZXZlbnRNYW5hZ2VyLG9uVmlld1N0YXRlQ2hhbmdlOnRoaXMuX29uVmlld1N0YXRlQ2hhbmdlLmJpbmQodGhpcyx0LmlkKSxvblN0YXRlQ2hhbmdlOnRoaXMuX2V2ZW50Q2FsbGJhY2tzLm9uSW50ZXJhY3RpdmVTdGF0ZUNoYW5nZX0sdCkpfX0se2tleToiX3VwZGF0ZUNvbnRyb2xsZXIiLHZhbHVlOmZ1bmN0aW9uKHQsZSxuLHIpe2lmKHQuY29udHJvbGxlcil7dmFyIGk9T2JqZWN0LmFzc2lnbih7fSx0LmNvbnRyb2xsZXIsZSx7aWQ6dC5pZCx4Om4ueCx5Om4ueSx3aWR0aDpuLndpZHRoLGhlaWdodDpuLmhlaWdodH0pO3JldHVybiByP3Iuc2V0UHJvcHMoaSk6cj10aGlzLl9jcmVhdGVDb250cm9sbGVyKGkpLHJ9cmV0dXJuIG51bGx9fSx7a2V5OiJfcmVidWlsZFZpZXdwb3J0cyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLndpZHRoLGU9dGhpcy5oZWlnaHQsbj10aGlzLnZpZXdzLHI9dGhpcy5jb250cm9sbGVyczt0aGlzLl92aWV3cG9ydHM9W10sdGhpcy5jb250cm9sbGVycz17fTtmb3IodmFyIGk9bi5sZW5ndGg7aS0tOyl7dmFyIGE9bltpXSxvPXRoaXMuZ2V0Vmlld1N0YXRlKGEpLHM9YS5tYWtlVmlld3BvcnQoe3dpZHRoOnQsaGVpZ2h0OmUsdmlld1N0YXRlOm99KTt0aGlzLmNvbnRyb2xsZXJzW2EuaWRdPXRoaXMuX3VwZGF0ZUNvbnRyb2xsZXIoYSxvLHMsclthLmlkXSksdGhpcy5fdmlld3BvcnRzLnVuc2hpZnQocyl9Zm9yKHZhciB1IGluIHIpclt1XSYmIXRoaXMuY29udHJvbGxlcnNbdV0mJnJbdV0uZmluYWxpemUoKTt0aGlzLl9idWlsZFZpZXdwb3J0TWFwKCl9fSx7a2V5OiJfYnVpbGRWaWV3cG9ydE1hcCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3RoaXMuX3ZpZXdwb3J0TWFwPXt9LHRoaXMuX3ZpZXdwb3J0cy5mb3JFYWNoKChmdW5jdGlvbihlKXtlLmlkJiYodC5fdmlld3BvcnRNYXBbZS5pZF09dC5fdmlld3BvcnRNYXBbZS5pZF18fGUpfSkpfX0se2tleToiX2RpZmZWaWV3cyIsdmFsdWU6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5sZW5ndGghPT1lLmxlbmd0aHx8dC5zb21lKChmdW5jdGlvbihuLHIpe3JldHVybiF0W3JdLmVxdWFscyhlW3JdKX0pKX19XSksdH0oKSxwPW4oMTUwKSxnPW4oMTM4KSx5PW5ldyBnLmEsbT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXtvKCkodGhpcyx0KSx0aGlzLmVmZmVjdHM9W10sdGhpcy5faW50ZXJuYWxFZmZlY3RzPVtdLHRoaXMuX25lZWRzUmVkcmF3PSJJbml0aWFsIHJlbmRlciIsdGhpcy5zZXRFZmZlY3RzKCl9cmV0dXJuIHUoKSh0LFt7a2V5OiJzZXRQcm9wcyIsdmFsdWU6ZnVuY3Rpb24odCl7ImVmZmVjdHMiaW4gdCYmKHQuZWZmZWN0cy5sZW5ndGg9PT10aGlzLmVmZmVjdHMubGVuZ3RoJiZPYmplY3QoaC5hKSh0LmVmZmVjdHMsdGhpcy5lZmZlY3RzKXx8KHRoaXMuc2V0RWZmZWN0cyh0LmVmZmVjdHMpLHRoaXMuX25lZWRzUmVkcmF3PSJlZmZlY3RzIGNoYW5nZWQiKSl9fSx7a2V5OiJuZWVkc1JlZHJhdyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e2NsZWFyUmVkcmF3RmxhZ3M6ITF9LGU9dGhpcy5fbmVlZHNSZWRyYXc7cmV0dXJuIHQuY2xlYXJSZWRyYXdGbGFncyYmKHRoaXMuX25lZWRzUmVkcmF3PSExKSxlfX0se2tleToiZ2V0RWZmZWN0cyIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faW50ZXJuYWxFZmZlY3RzfX0se2tleToiZmluYWxpemUiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5jbGVhbnVwKCl9fSx7a2V5OiJzZXRFZmZlY3RzIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTpbXTt0aGlzLmNsZWFudXAoKSx0aGlzLmVmZmVjdHM9dCx0aGlzLl9jcmVhdGVJbnRlcm5hbEVmZmVjdHMoKX19LHtrZXk6ImNsZWFudXAiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9ITAsZT0hMSxuPXZvaWQgMDt0cnl7Zm9yKHZhciByLGk9dGhpcy5lZmZlY3RzW1N5bWJvbC5pdGVyYXRvcl0oKTshKHQ9KHI9aS5uZXh0KCkpLmRvbmUpO3Q9ITApe3IudmFsdWUuY2xlYW51cCgpfX1jYXRjaCh0KXtlPSEwLG49dH1maW5hbGx5e3RyeXt0fHxudWxsPT1pLnJldHVybnx8aS5yZXR1cm4oKX1maW5hbGx5e2lmKGUpdGhyb3cgbn19dmFyIGE9ITAsbz0hMSxzPXZvaWQgMDt0cnl7Zm9yKHZhciB1LGM9dGhpcy5faW50ZXJuYWxFZmZlY3RzW1N5bWJvbC5pdGVyYXRvcl0oKTshKGE9KHU9Yy5uZXh0KCkpLmRvbmUpO2E9ITApe3UudmFsdWUuY2xlYW51cCgpfX1jYXRjaCh0KXtvPSEwLHM9dH1maW5hbGx5e3RyeXthfHxudWxsPT1jLnJldHVybnx8Yy5yZXR1cm4oKX1maW5hbGx5e2lmKG8pdGhyb3cgc319dGhpcy5lZmZlY3RzLmxlbmd0aD0wLHRoaXMuX2ludGVybmFsRWZmZWN0cy5sZW5ndGg9MH19LHtrZXk6Il9jcmVhdGVJbnRlcm5hbEVmZmVjdHMiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5faW50ZXJuYWxFZmZlY3RzPXRoaXMuZWZmZWN0cy5zbGljZSgpLHRoaXMuZWZmZWN0cy5zb21lKChmdW5jdGlvbih0KXtyZXR1cm4gdCBpbnN0YW5jZW9mIGcuYX0pKXx8dGhpcy5faW50ZXJuYWxFZmZlY3RzLnB1c2goeSl9fV0pLHR9KCksYj1uKDEwMiksXz1uKDE2NCksTz1uKDgyKSx4PW4oMTI3KSx3PW4oMTEpLGs9bigxOTEpLFM9bigxNzMpLFA9e3BpY2tlZENvbG9yOm51bGwscGlja2VkTGF5ZXI6bnVsbCxwaWNrZWRPYmplY3RJbmRleDotMX07ZnVuY3Rpb24gaih0KXt2YXIgZT10LnBpY2tlZENvbG9ycyxuPXQubGF5ZXJzLHI9dC5kZXZpY2VYLGk9dC5kZXZpY2VZLGE9dC5kZXZpY2VSYWRpdXMsbz10LmRldmljZVJlY3Q7aWYoZSl7Zm9yKHZhciBzPW8ueCx1PW8ueSxjPW8ud2lkdGgsbD1vLmhlaWdodCxoPWEqYSxkPS0xLHY9MCxwPTA7cDxsO3ArKyl7dmFyIGc9cCt1LWkseT1nKmc7aWYoeT5oKXYrPTQqYztlbHNlIGZvcih2YXIgbT0wO208YzttKyspe2lmKGVbdiszXS0xPj0wKXt2YXIgYj1tK3MtcixfPWIqYit5O188PWgmJihoPV8sZD12KX12Kz00fX1pZihkPj0wKXt2YXIgTz1lW2QrM10tMSx4PWUuc2xpY2UoZCxkKzQpLHc9bltPXTtpZih3KXt2YXIgaz13LmRlY29kZVBpY2tpbmdDb2xvcih4KSxTPU1hdGguZmxvb3IoZC80L2MpO3JldHVybntwaWNrZWRDb2xvcjp4LHBpY2tlZExheWVyOncscGlja2VkT2JqZWN0SW5kZXg6ayxwaWNrZWRYOnMrKGQvNC1TKmMpLHBpY2tlZFk6dStTfX1mLmEuZXJyb3IoIlBpY2tlZCBub24tZXhpc3RlbnQgbGF5ZXIuIElzIHBpY2tpbmcgYnVmZmVyIGNvcnJ1cHQ/IikoKX19cmV0dXJuIFB9ZnVuY3Rpb24gVCh0KXt2YXIgZT10LnBpY2tJbmZvLG49dC5sYXN0UGlja2VkSW5mbyxyPXQubW9kZSxpPXQubGF5ZXJzLGE9dC52aWV3cG9ydHMsbz10Lngscz10LnksdT10LnosYz10LnBpeGVsUmF0aW8sbD1lLnBpY2tlZENvbG9yLGg9ZS5waWNrZWRMYXllcixmPWUucGlja2VkT2JqZWN0SW5kZXgsZD1oP1toXTpbXTtpZigiaG92ZXIiPT09cil7dmFyIHY9bi5pbmRleCxwPW4ubGF5ZXJJZCxnPWgmJmgucHJvcHMuaWQ7aWYoZyE9PXB8fGYhPT12KXtpZihnIT09cCl7dmFyIHk9aS5maW5kKChmdW5jdGlvbih0KXtyZXR1cm4gdC5wcm9wcy5pZD09PXB9KSk7eSYmZC51bnNoaWZ0KHkpfW4ubGF5ZXJJZD1nLG4uaW5kZXg9ZixuLmluZm89bnVsbH19dmFyIG09e3ZpZXdwb3J0czphfS52aWV3cG9ydHNbMF0sYj1tJiZtLnVucHJvamVjdChbbyxzXSx7dGFyZ2V0Wjp1fSksXz17Y29sb3I6bnVsbCxsYXllcjpudWxsLGluZGV4Oi0xLHBpY2tlZDohMSx4Om8seTpzLHBpeGVsOltvLHNdLGNvb3JkaW5hdGU6YixsbmdMYXQ6YixkZXZpY2VQaXhlbDpbZS5waWNrZWRYLGUucGlja2VkWV0scGl4ZWxSYXRpbzpjfSxPPW5ldyBNYXA7cmV0dXJuIE8uc2V0KG51bGwsXyksZC5mb3JFYWNoKChmdW5jdGlvbih0KXt2YXIgZT1PYmplY3QuYXNzaWduKHt9LF8pO2lmKHQ9PT1oJiYoZS5jb2xvcj1sLGUuaW5kZXg9ZixlLnBpY2tlZD0hMCksZT1FKHtsYXllcjp0LGluZm86ZSxtb2RlOnJ9KSx0PT09aCYmImhvdmVyIj09PXImJihuLmluZm89ZSksZSYmTy5zZXQoZS5sYXllci5pZCxlKSwiaG92ZXIiPT09ciYmdC5wcm9wcy5hdXRvSGlnaGxpZ2h0KXt2YXIgaT17cGlja2luZ1NlbGVjdGVkQ29sb3I6aD09PXQ/bDpudWxsfSxhPXQucHJvcHMuaGlnaGxpZ2h0Q29sb3I7aD09PXQmJiJmdW5jdGlvbiI9PXR5cGVvZiBhJiYoaS5waWNraW5nSGlnaGxpZ2h0Q29sb3I9YShlKSksdC5zZXRNb2R1bGVQYXJhbWV0ZXJzKGkpLHQuc2V0TmVlZHNSZWRyYXcoKX19KSksT31mdW5jdGlvbiBFKHQpe2Zvcih2YXIgZT10LmxheWVyLG49dC5pbmZvLHI9dC5tb2RlO2UmJm47KXt2YXIgaT1uLmxheWVyfHxlO24ubGF5ZXI9ZSxuPWUuZ2V0UGlja2luZ0luZm8oe2luZm86bixtb2RlOnIsc291cmNlTGF5ZXI6aX0pLGU9ZS5wYXJlbnR9cmV0dXJuIG59dmFyIEE9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUpe28oKSh0aGlzLHQpLHRoaXMuZ2w9ZSx0aGlzLnBpY2tpbmdGQk89bnVsbCx0aGlzLnBpY2tMYXllcnNQYXNzPW5ldyBTLmEoZSksdGhpcy5sYXllckZpbHRlcj1udWxsLHRoaXMubGFzdFBpY2tlZEluZm89e2luZGV4Oi0xLGxheWVySWQ6bnVsbCxpbmZvOm51bGx9LHRoaXMuX29uRXJyb3I9bnVsbH1yZXR1cm4gdSgpKHQsW3trZXk6InNldFByb3BzIix2YWx1ZTpmdW5jdGlvbih0KXsibGF5ZXJGaWx0ZXIiaW4gdCYmKHRoaXMubGF5ZXJGaWx0ZXI9dC5sYXllckZpbHRlciksIm9uRXJyb3IiaW4gdCYmKHRoaXMuX29uRXJyb3I9dC5vbkVycm9yKX19LHtrZXk6ImZpbmFsaXplIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMucGlja2luZ0ZCTyYmdGhpcy5waWNraW5nRkJPLmRlbGV0ZSgpLHRoaXMuZGVwdGhGQk8mJih0aGlzLmRlcHRoRkJPLmNvbG9yLmRlbGV0ZSgpLHRoaXMuZGVwdGhGQk8uZGVsZXRlKCkpfX0se2tleToicGlja09iamVjdCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX3BpY2tDbG9zZXN0T2JqZWN0KHQpfX0se2tleToicGlja09iamVjdHMiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9waWNrVmlzaWJsZU9iamVjdHModCl9fSx7a2V5OiJnZXRMYXN0UGlja2VkT2JqZWN0Iix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10Lngsbj10Lnkscj10LmxheWVycyxpPXQudmlld3BvcnRzLGE9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOnRoaXMubGFzdFBpY2tlZEluZm8uaW5mbyxvPWEmJmEubGF5ZXImJmEubGF5ZXIuaWQscz1vP3IuZmluZCgoZnVuY3Rpb24odCl7cmV0dXJuIHQuaWQ9PT1vfSkpOm51bGwsdT1pWzBdJiZpWzBdLnVucHJvamVjdChbZSxuXSksYz17eDplLHk6bixjb29yZGluYXRlOnUsbG5nTGF0OnUsbGF5ZXI6c307cmV0dXJuIHM/T2JqZWN0LmFzc2lnbih7fSxhLGMpOk9iamVjdC5hc3NpZ24oYyx7Y29sb3I6bnVsbCxvYmplY3Q6bnVsbCxpbmRleDotMX0pfX0se2tleToiX3Jlc2l6ZUJ1ZmZlciIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmdsO3JldHVybiB0aGlzLnBpY2tpbmdGQk98fCh0aGlzLnBpY2tpbmdGQk89bmV3IE8uYSh0KSxPLmEuaXNTdXBwb3J0ZWQodCx7Y29sb3JCdWZmZXJGbG9hdDohMH0pJiYodGhpcy5kZXB0aEZCTz1uZXcgTy5hKHQpLHRoaXMuZGVwdGhGQk8uYXR0YWNoKGkoKSh7fSwzNjA2NCxuZXcgeC5hKHQse2Zvcm1hdDpPYmplY3Qody5nKSh0KT8zNDgzNjo2NDA4LHR5cGU6NTEyNn0pKSkpKSx0aGlzLnBpY2tpbmdGQk8ucmVzaXplKHt3aWR0aDp0LmNhbnZhcy53aWR0aCxoZWlnaHQ6dC5jYW52YXMuaGVpZ2h0fSksdGhpcy5kZXB0aEZCTyYmdGhpcy5kZXB0aEZCTy5yZXNpemUoe3dpZHRoOnQuY2FudmFzLndpZHRoLGhlaWdodDp0LmNhbnZhcy5oZWlnaHR9KSx0aGlzLnBpY2tpbmdGQk99fSx7a2V5OiJfZ2V0UGlja2FibGUiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXQuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gdC5pc1BpY2thYmxlKCkmJiF0LmlzQ29tcG9zaXRlfSkpO3JldHVybiBlLmxlbmd0aD4yNTU/KGYuYS53YXJuKCJUb28gbWFueSBwaWNrYWJsZSBsYXllcnMsIG9ubHkgcGlja2luZyB0aGUgZmlyc3QgMjU1IikoKSxlLnNsaWNlKDAsMjU1KSk6ZX19LHtrZXk6Il9waWNrQ2xvc2VzdE9iamVjdCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dC5sYXllcnMsbj10LnZpZXdwb3J0cyxyPXQueCxpPXQueSxhPXQucmFkaXVzLG89dm9pZCAwPT09YT8wOmEscz10LmRlcHRoLHU9dm9pZCAwPT09cz8xOnMsYz10Lm1vZGUsbD12b2lkIDA9PT1jPyJxdWVyeSI6YyxoPXQudW5wcm9qZWN0M0QsZj10Lm9uVmlld3BvcnRBY3RpdmU7ZT10aGlzLl9nZXRQaWNrYWJsZShlKSx0aGlzLl9yZXNpemVCdWZmZXIoKTtmb3IodmFyIGQsdj1PYmplY3Qody5jKSh0aGlzLmdsKSxwPU9iamVjdCh3LmIpKHRoaXMuZ2wsW3IsaV0sITApLGc9W3AueCtNYXRoLmZsb29yKHAud2lkdGgvMikscC55K01hdGguZmxvb3IocC5oZWlnaHQvMildLHk9TWF0aC5yb3VuZChvKnYpLG09dGhpcy5waWNraW5nRkJPLGI9bS53aWR0aCxfPW0uaGVpZ2h0LE89dGhpcy5fZ2V0UGlja2luZ1JlY3Qoe2RldmljZVg6Z1swXSxkZXZpY2VZOmdbMV0sZGV2aWNlUmFkaXVzOnksZGV2aWNlV2lkdGg6YixkZXZpY2VIZWlnaHQ6X30pLHg9W10saz17fSxTPTA7Uzx1O1MrKyl7dmFyIFA9aih7cGlja2VkQ29sb3JzOk8mJnRoaXMuX2RyYXdBbmRTYW1wbGUoe2xheWVyczplLHZpZXdwb3J0czpuLG9uVmlld3BvcnRBY3RpdmU6ZixkZXZpY2VSZWN0Ok8scGFzczoicGlja2luZzoiLmNvbmNhdChsKSxyZWRyYXdSZWFzb246bH0pLGxheWVyczplLGRldmljZVg6Z1swXSxkZXZpY2VZOmdbMV0sZGV2aWNlUmFkaXVzOnksZGV2aWNlUmVjdDpPfSksRT12b2lkIDA7aWYoUC5waWNrZWRMYXllciYmaCYmdGhpcy5kZXB0aEZCTylFPXRoaXMuX2RyYXdBbmRTYW1wbGUoe2xheWVyczpbUC5waWNrZWRMYXllcl0sdmlld3BvcnRzOm4sb25WaWV3cG9ydEFjdGl2ZTpmLGRldmljZVJlY3Q6e3g6UC5waWNrZWRYLHk6UC5waWNrZWRZLHdpZHRoOjEsaGVpZ2h0OjF9LHBhc3M6InBpY2tpbmc6Ii5jb25jYXQobCkscmVkcmF3UmVhc29uOiJwaWNrLXoiLHBpY2taOiEwfSlbMF0qblswXS5kaXN0YW5jZVNjYWxlcy5tZXRlcnNQZXJVbml0WzJdK25bMF0ucG9zaXRpb25bMl07aWYoUC5waWNrZWRDb2xvciYmUysxPHUpe3ZhciBBPVAucGlja2VkQ29sb3JbM10tMTtrW0FdPSEwLGVbQV0uY2xlYXJQaWNraW5nQ29sb3IoUC5waWNrZWRDb2xvcil9ZD1UKHtwaWNrSW5mbzpQLGxhc3RQaWNrZWRJbmZvOnRoaXMubGFzdFBpY2tlZEluZm8sbW9kZTpsLGxheWVyczplLHZpZXdwb3J0czpuLHg6cix5OmksejpFLHBpeGVsUmF0aW86dn0pO3ZhciBNPSEwLEM9ITEsTD12b2lkIDA7dHJ5e2Zvcih2YXIgSSxSPWQudmFsdWVzKClbU3ltYm9sLml0ZXJhdG9yXSgpOyEoTT0oST1SLm5leHQoKSkuZG9uZSk7TT0hMCl7dmFyIE49SS52YWx1ZTtOLmxheWVyJiZ4LnB1c2goTil9fWNhdGNoKHQpe0M9ITAsTD10fWZpbmFsbHl7dHJ5e018fG51bGw9PVIucmV0dXJufHxSLnJldHVybigpfWZpbmFsbHl7aWYoQyl0aHJvdyBMfX1pZighUC5waWNrZWRDb2xvcilicmVha31mb3IodmFyIEQgaW4gayllW0RdLnJlc3RvcmVQaWNraW5nQ29sb3JzKCk7cmV0dXJue3Jlc3VsdDp4LGVtcHR5SW5mbzpkJiZkLmdldChudWxsKX19fSx7a2V5OiJfcGlja1Zpc2libGVPYmplY3RzIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10LmxheWVycyxuPXQudmlld3BvcnRzLHI9dC54LGk9dC55LGE9dC53aWR0aCxvPXZvaWQgMD09PWE/MTphLHM9dC5oZWlnaHQsdT12b2lkIDA9PT1zPzE6cyxjPXQubW9kZSxsPXZvaWQgMD09PWM/InF1ZXJ5IjpjLGg9dC5vblZpZXdwb3J0QWN0aXZlO2U9dGhpcy5fZ2V0UGlja2FibGUoZSksdGhpcy5fcmVzaXplQnVmZmVyKCk7dmFyIGQ9T2JqZWN0KHcuYykodGhpcy5nbCksdj1PYmplY3Qody5iKSh0aGlzLmdsLFtyLGldLCEwKSxwPXYueCxnPXYueSt2LmhlaWdodCx5PU9iamVjdCh3LmIpKHRoaXMuZ2wsW3IrbyxpK3VdLCEwKSxtPXkueCt5LndpZHRoLGI9eS55LF89e3g6cCx5OmIsd2lkdGg6bS1wLGhlaWdodDpnLWJ9LE89ZnVuY3Rpb24odCl7dmFyIGU9dC5waWNrZWRDb2xvcnMsbj10LmxheWVycyxyPW5ldyBNYXA7aWYoZSlmb3IodmFyIGk9MDtpPGUubGVuZ3RoO2krPTQpe3ZhciBhPWVbaSszXS0xO2lmKGE+PTApe3ZhciBvPWUuc2xpY2UoaSxpKzQpLHM9by5qb2luKCIsIik7aWYoIXIuaGFzKHMpKXt2YXIgdT1uW2FdO3U/ci5zZXQocyx7cGlja2VkQ29sb3I6byxwaWNrZWRMYXllcjp1LHBpY2tlZE9iamVjdEluZGV4OnUuZGVjb2RlUGlja2luZ0NvbG9yKG8pfSk6Zi5hLmVycm9yKCJQaWNrZWQgbm9uLWV4aXN0ZW50IGxheWVyLiBJcyBwaWNraW5nIGJ1ZmZlciBjb3JydXB0PyIpKCl9fX1yZXR1cm4gQXJyYXkuZnJvbShyLnZhbHVlcygpKX0oe3BpY2tlZENvbG9yczp0aGlzLl9kcmF3QW5kU2FtcGxlKHtsYXllcnM6ZSx2aWV3cG9ydHM6bixvblZpZXdwb3J0QWN0aXZlOmgsZGV2aWNlUmVjdDpfLHBhc3M6InBpY2tpbmc6Ii5jb25jYXQobCkscmVkcmF3UmVhc29uOmx9KSxsYXllcnM6ZX0pLHg9bmV3IE1hcDtyZXR1cm4gTy5mb3JFYWNoKChmdW5jdGlvbih0KXt2YXIgZT17Y29sb3I6dC5waWNrZWRDb2xvcixsYXllcjpudWxsLGluZGV4OnQucGlja2VkT2JqZWN0SW5kZXgscGlja2VkOiEwLHg6cix5Omksd2lkdGg6byxoZWlnaHQ6dSxwaXhlbFJhdGlvOmR9O2U9RSh7bGF5ZXI6dC5waWNrZWRMYXllcixpbmZvOmUsbW9kZTpsfSkseC5oYXMoZS5vYmplY3QpfHx4LnNldChlLm9iamVjdCxlKX0pKSxBcnJheS5mcm9tKHgudmFsdWVzKCkpfX0se2tleToiX2RyYXdBbmRTYW1wbGUiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXQubGF5ZXJzLG49dC52aWV3cG9ydHMscj10Lm9uVmlld3BvcnRBY3RpdmUsaT10LmRldmljZVJlY3QsYT10LnBhc3Msbz10LnJlZHJhd1JlYXNvbixzPXQucGlja1o7aWYoT2JqZWN0KGwuYSkoaS53aWR0aD4wJiZpLmhlaWdodD4wKSxlLmxlbmd0aDwxKXJldHVybiBudWxsO3ZhciB1PXM/dGhpcy5kZXB0aEZCTzp0aGlzLnBpY2tpbmdGQk87dGhpcy5waWNrTGF5ZXJzUGFzcy5yZW5kZXIoe2xheWVyczplLGxheWVyRmlsdGVyOnRoaXMubGF5ZXJGaWx0ZXIsb25FcnJvcjp0aGlzLl9vbkVycm9yLHZpZXdwb3J0czpuLG9uVmlld3BvcnRBY3RpdmU6cixwaWNraW5nRkJPOnUsZGV2aWNlUmVjdDppLHBhc3M6YSxyZWRyYXdSZWFzb246byxwaWNrWjpzfSk7dmFyIGM9aS54LGg9aS55LGY9aS53aWR0aCxkPWkuaGVpZ2h0LHY9bmV3KHM/RmxvYXQzMkFycmF5OlVpbnQ4QXJyYXkpKGYqZCo0KTtyZXR1cm4gT2JqZWN0KGsuYykodSx7c291cmNlWDpjLHNvdXJjZVk6aCxzb3VyY2VXaWR0aDpmLHNvdXJjZUhlaWdodDpkLHRhcmdldDp2fSksdn19LHtrZXk6Il9nZXRQaWNraW5nUmVjdCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dC5kZXZpY2VYLG49dC5kZXZpY2VZLHI9dC5kZXZpY2VSYWRpdXMsaT10LmRldmljZVdpZHRoLGE9dC5kZXZpY2VIZWlnaHQsbz1NYXRoLm1heCgwLGUtcikscz1NYXRoLm1heCgwLG4tciksdT1NYXRoLm1pbihpLGUrcisxKS1vLGM9TWF0aC5taW4oYSxuK3IrMSktcztyZXR1cm4gdTw9MHx8Yzw9MD9udWxsOnt4Om8seTpzLHdpZHRoOnUsaGVpZ2h0OmN9fX1dKSx0fSgpLE09e3pJbmRleDoxLHBvc2l0aW9uOiJhYnNvbHV0ZSIscG9pbnRlckV2ZW50czoibm9uZSIsY29sb3I6IiNhMGE3YjQiLGJhY2tncm91bmRDb2xvcjoiIzI5MzIzYyIscGFkZGluZzoiMTBweCIsdG9wOjAsbGVmdDowLGRpc3BsYXk6Im5vbmUifSxDPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlKXtvKCkodGhpcyx0KTt2YXIgbj1lLnBhcmVudEVsZW1lbnQ7biYmKHRoaXMuZWw9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2IiksdGhpcy5lbC5jbGFzc05hbWU9ImRlY2stdG9vbHRpcCIsT2JqZWN0LmFzc2lnbih0aGlzLmVsLnN0eWxlLE0pLG4uYXBwZW5kQ2hpbGQodGhpcy5lbCkpfXJldHVybiB1KCkodCxbe2tleToic2V0VG9vbHRpcCIsdmFsdWU6ZnVuY3Rpb24odCxlLG4pe3ZhciByPXRoaXMuZWw7aWYoInN0cmluZyI9PXR5cGVvZiB0KXIuaW5uZXJUZXh0PXQ7ZWxzZXtpZighdClyZXR1cm4gdm9pZChyLnN0eWxlLmRpc3BsYXk9Im5vbmUiKTsidGV4dCJpbiB0JiYoci5pbm5lclRleHQ9dC50ZXh0KSwiaHRtbCJpbiB0JiYoci5pbm5lckhUTUw9dC5odG1sKSwiY2xhc3NOYW1lImluIHQmJihyLmNsYXNzTmFtZT10LmNsYXNzTmFtZSksT2JqZWN0LmFzc2lnbihyLnN0eWxlLHQuc3R5bGUpfXIuc3R5bGUuZGlzcGxheT0iYmxvY2siLHIuc3R5bGUudHJhbnNmb3JtPSJ0cmFuc2xhdGUoIi5jb25jYXQoZSwicHgsICIpLmNvbmNhdChuLCJweCkiKX19LHtrZXk6InJlbW92ZSIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLmVsJiZ0aGlzLmVsLnJlbW92ZSgpfX1dKSx0fSgpLEw9bigxODYpLEk9bigzNSksUj1uKDI1KSxOPW4oNSksRD1uLm4oTiksRj1uKDEzKSx6PW4oNiksQj1uKDcpLFU9bigxNDQpLFY9bigyOCksRz1uKDE3KSxXPW4oMTUpLEg9big0NykscT1uKDE4KSxYPW4oNTIpLFo9bigyNzUpLFk9bigxODcpLEs9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSh0KXt2YXIgbixyPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp7fTtyZXR1cm4gT2JqZWN0KHouYSkodGhpcyxlKSwobj1PYmplY3QoRy5hKSh0aGlzLE9iamVjdChXLmEpKGUpLmNhbGwodGhpcyx0LHIpKSkudGFyZ2V0PW51bGwsbi5fcXVlcnlQZW5kaW5nPSExLG4uX3BvbGxpbmdQcm9taXNlPW51bGwsT2JqZWN0LnNlYWwoT2JqZWN0KEguYSkobikpLG59cmV0dXJuIE9iamVjdChxLmEpKGUsdCksT2JqZWN0KEIuYSkoZSxudWxsLFt7a2V5OiJpc1N1cHBvcnRlZCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOltdLG49T2JqZWN0KHcuZykodCkscj1PYmplY3QoWi5jKSh0LFkuYS5USU1FUl9RVUVSWSksaT1ufHxyLGE9ITAsbz0hMSxzPXZvaWQgMDt0cnl7Zm9yKHZhciB1LGM9ZVtTeW1ib2wuaXRlcmF0b3JdKCk7IShhPSh1PWMubmV4dCgpKS5kb25lKTthPSEwKXt2YXIgbD11LnZhbHVlO3N3aXRjaChsKXtjYXNlInF1ZXJpZXMiOmk9aSYmbjticmVhaztjYXNlInRpbWVycyI6aT1pJiZyO2JyZWFrO2RlZmF1bHQ6T2JqZWN0KFYuYSkoITEpfX19Y2F0Y2godCl7bz0hMCxzPXR9ZmluYWxseXt0cnl7YXx8bnVsbD09Yy5yZXR1cm58fGMucmV0dXJuKCl9ZmluYWxseXtpZihvKXRocm93IHN9fXJldHVybiBpfX1dKSxPYmplY3QoQi5hKShlLFt7a2V5OiJiZWdpblRpbWVFbGFwc2VkUXVlcnkiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYmVnaW4oMzUwMDcpfX0se2tleToiYmVnaW5PY2NsdXNpb25RdWVyeSIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e30sZT10LmNvbnNlcnZhdGl2ZSxuPXZvaWQgMCE9PWUmJmU7cmV0dXJuIHRoaXMuYmVnaW4obj8zNjIwMjozNTg4Nyl9fSx7a2V5OiJiZWdpblRyYW5zZm9ybUZlZWRiYWNrUXVlcnkiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYmVnaW4oMzU5NzYpfX0se2tleToiYmVnaW4iLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9xdWVyeVBlbmRpbmc/dGhpczoodGhpcy50YXJnZXQ9dCx0aGlzLmdsLmJlZ2luUXVlcnkodGhpcy50YXJnZXQsdGhpcy5oYW5kbGUpLHRoaXMpfX0se2tleToiZW5kIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9xdWVyeVBlbmRpbmc/dGhpczoodGhpcy50YXJnZXQmJih0aGlzLmdsLmVuZFF1ZXJ5KHRoaXMudGFyZ2V0KSx0aGlzLnRhcmdldD1udWxsLHRoaXMuX3F1ZXJ5UGVuZGluZz0hMCksdGhpcyl9fSx7a2V5OiJpc1Jlc3VsdEF2YWlsYWJsZSIsdmFsdWU6ZnVuY3Rpb24oKXtpZighdGhpcy5fcXVlcnlQZW5kaW5nKXJldHVybiExO3ZhciB0PXRoaXMuZ2wuZ2V0UXVlcnlQYXJhbWV0ZXIodGhpcy5oYW5kbGUsMzQ5MTkpO3JldHVybiB0JiYodGhpcy5fcXVlcnlQZW5kaW5nPSExKSx0fX0se2tleToiaXNUaW1lckRpc2pvaW50Iix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmdsLmdldFBhcmFtZXRlcigzNjc5NSl9fSx7a2V5OiJnZXRSZXN1bHQiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2wuZ2V0UXVlcnlQYXJhbWV0ZXIodGhpcy5oYW5kbGUsMzQ5MTgpfX0se2tleToiZ2V0VGltZXJNaWxsaXNlY29uZHMiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0UmVzdWx0KCkvMWU2fX0se2tleToiY3JlYXRlUG9sbCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOk51bWJlci5QT1NJVElWRV9JTkZJTklUWTtpZih0aGlzLl9wb2xsaW5nUHJvbWlzZSlyZXR1cm4gdGhpcy5fcG9sbGluZ1Byb21pc2U7dmFyIG49MDtyZXR1cm4gdGhpcy5fcG9sbGluZ1Byb21pc2U9bmV3IFByb21pc2UoKGZ1bmN0aW9uKHIsaSl7cmVxdWVzdEFuaW1hdGlvbkZyYW1lKChmdW5jdGlvbiBhKCl7dC5pc1Jlc3VsdEF2YWlsYWJsZSgpPyhyKHQuZ2V0UmVzdWx0KCkpLHQuX3BvbGxpbmdQcm9taXNlPW51bGwpOm4rKz5lPyhpKCJUaW1lZCBvdXQiKSx0Ll9wb2xsaW5nUHJvbWlzZT1udWxsKTpyZXF1ZXN0QW5pbWF0aW9uRnJhbWUoYSl9KSl9KSksdGhpcy5fcG9sbGluZ1Byb21pc2V9fSx7a2V5OiJfY3JlYXRlSGFuZGxlIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiBlLmlzU3VwcG9ydGVkKHRoaXMuZ2wpP3RoaXMuZ2wuY3JlYXRlUXVlcnkoKTpudWxsfX0se2tleToiX2RlbGV0ZUhhbmRsZSIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLmdsLmRlbGV0ZVF1ZXJ5KHRoaXMuaGFuZGxlKX19XSksZX0oWC5hKTtmdW5jdGlvbiBRKHQpe3JldHVybiJ1bmRlZmluZWQiIT10eXBlb2Ygd2luZG93JiZ3aW5kb3cuY2FuY2VsQW5pbWF0aW9uRnJhbWU/d2luZG93LmNhbmNlbEFuaW1hdGlvbkZyYW1lKHQpOmNsZWFyVGltZW91dCh0KX12YXIgSiwkLHR0PU9iamVjdChJLmlzQnJvd3NlcikoKSYmInVuZGVmaW5lZCIhPXR5cGVvZiBkb2N1bWVudCxldD0wLG50PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fTtPYmplY3Qoei5hKSh0aGlzLHQpO3ZhciBuPWUub25DcmVhdGVDb250ZXh0LHI9dm9pZCAwPT09bj9mdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0KHcuYSkodCl9Om4saT1lLm9uQWRkSFRNTCxhPXZvaWQgMD09PWk/bnVsbDppLG89ZS5vbkluaXRpYWxpemUscz12b2lkIDA9PT1vP2Z1bmN0aW9uKCl7fTpvLHU9ZS5vblJlbmRlcixjPXZvaWQgMD09PXU/ZnVuY3Rpb24oKXt9OnUsbD1lLm9uRmluYWxpemUsaD12b2lkIDA9PT1sP2Z1bmN0aW9uKCl7fTpsLGY9ZS5vbkVycm9yLGQ9ZS5nbCx2PXZvaWQgMD09PWQ/bnVsbDpkLHA9ZS5nbE9wdGlvbnMsZz12b2lkIDA9PT1wP3t9OnAseT1lLmRlYnVnLG09dm9pZCAwIT09eSYmeSxiPWUuY3JlYXRlRnJhbWVidWZmZXIsXz12b2lkIDAhPT1iJiZiLE89ZS5hdXRvUmVzaXplVmlld3BvcnQseD12b2lkIDA9PT1PfHxPLGs9ZS5hdXRvUmVzaXplRHJhd2luZ0J1ZmZlcixTPXZvaWQgMD09PWt8fGssUD1lLnN0YXRzLGo9dm9pZCAwPT09UD9VLmEuZ2V0KCJhbmltYXRpb24tbG9vcC0iLmNvbmNhdChldCsrKSk6UCxUPWUudXNlRGV2aWNlUGl4ZWxzLEU9dm9pZCAwPT09VHx8VDsidXNlRGV2aWNlUGl4ZWxSYXRpbyJpbiBlJiYody5oLmRlcHJlY2F0ZWQoInVzZURldmljZVBpeGVsUmF0aW8iLCJ1c2VEZXZpY2VQaXhlbHMiKSgpLEU9ZS51c2VEZXZpY2VQaXhlbFJhdGlvKSx0aGlzLnByb3BzPXtvbkNyZWF0ZUNvbnRleHQ6cixvbkFkZEhUTUw6YSxvbkluaXRpYWxpemU6cyxvblJlbmRlcjpjLG9uRmluYWxpemU6aCxvbkVycm9yOmYsZ2w6dixnbE9wdGlvbnM6ZyxkZWJ1ZzptLGNyZWF0ZUZyYW1lYnVmZmVyOl99LHRoaXMuZ2w9dix0aGlzLm5lZWRzUmVkcmF3PW51bGwsdGhpcy50aW1lbGluZT1udWxsLHRoaXMuc3RhdHM9aix0aGlzLmNwdVRpbWU9dGhpcy5zdGF0cy5nZXQoIkNQVSBUaW1lIiksdGhpcy5ncHVUaW1lPXRoaXMuc3RhdHMuZ2V0KCJHUFUgVGltZSIpLHRoaXMuZnJhbWVSYXRlPXRoaXMuc3RhdHMuZ2V0KCJGcmFtZSBSYXRlIiksdGhpcy5faW5pdGlhbGl6ZWQ9ITEsdGhpcy5fcnVubmluZz0hMSx0aGlzLl9hbmltYXRpb25GcmFtZUlkPW51bGwsdGhpcy5fbmV4dEZyYW1lUHJvbWlzZT1udWxsLHRoaXMuX3Jlc29sdmVOZXh0RnJhbWU9bnVsbCx0aGlzLl9jcHVTdGFydFRpbWU9MCx0aGlzLnNldFByb3BzKHthdXRvUmVzaXplVmlld3BvcnQ6eCxhdXRvUmVzaXplRHJhd2luZ0J1ZmZlcjpTLHVzZURldmljZVBpeGVsczpFfSksdGhpcy5zdGFydD10aGlzLnN0YXJ0LmJpbmQodGhpcyksdGhpcy5zdG9wPXRoaXMuc3RvcC5iaW5kKHRoaXMpLHRoaXMuX3BhZ2VMb2FkUHJvbWlzZT1udWxsLHRoaXMuX29uTW91c2Vtb3ZlPXRoaXMuX29uTW91c2Vtb3ZlLmJpbmQodGhpcyksdGhpcy5fb25Nb3VzZWxlYXZlPXRoaXMuX29uTW91c2VsZWF2ZS5iaW5kKHRoaXMpfXZhciBlO3JldHVybiBPYmplY3QoQi5hKSh0LFt7a2V5OiJkZWxldGUiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5zdG9wKCksdGhpcy5fc2V0RGlzcGxheShudWxsKX19LHtrZXk6InNldE5lZWRzUmVkcmF3Iix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0KFYuYSkoInN0cmluZyI9PXR5cGVvZiB0KSx0aGlzLm5lZWRzUmVkcmF3PXRoaXMubmVlZHNSZWRyYXd8fHQsdGhpc319LHtrZXk6InNldFByb3BzIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4iYXV0b1Jlc2l6ZVZpZXdwb3J0ImluIHQmJih0aGlzLmF1dG9SZXNpemVWaWV3cG9ydD10LmF1dG9SZXNpemVWaWV3cG9ydCksImF1dG9SZXNpemVEcmF3aW5nQnVmZmVyImluIHQmJih0aGlzLmF1dG9SZXNpemVEcmF3aW5nQnVmZmVyPXQuYXV0b1Jlc2l6ZURyYXdpbmdCdWZmZXIpLCJ1c2VEZXZpY2VQaXhlbHMiaW4gdCYmKHRoaXMudXNlRGV2aWNlUGl4ZWxzPXQudXNlRGV2aWNlUGl4ZWxzKSx0aGlzfX0se2tleToic3RhcnQiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcyxlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fTtpZih0aGlzLl9ydW5uaW5nKXJldHVybiB0aGlzO3RoaXMuX3J1bm5pbmc9ITA7dmFyIG49dGhpcy5fZ2V0UGFnZUxvYWRQcm9taXNlKCkudGhlbigoZnVuY3Rpb24oKXtyZXR1cm4hdC5fcnVubmluZ3x8dC5faW5pdGlhbGl6ZWQ/bnVsbDoodC5fY3JlYXRlV2ViR0xDb250ZXh0KGUpLHQuX2NyZWF0ZUZyYW1lYnVmZmVyKCksdC5fc3RhcnRFdmVudEhhbmRsaW5nKCksdC5faW5pdGlhbGl6ZUNhbGxiYWNrRGF0YSgpLHQuX3VwZGF0ZUNhbGxiYWNrRGF0YSgpLHQuX3Jlc2l6ZUNhbnZhc0RyYXdpbmdCdWZmZXIoKSx0Ll9yZXNpemVWaWV3cG9ydCgpLHQuX2dwdVRpbWVRdWVyeT1LLmlzU3VwcG9ydGVkKHQuZ2wsWyJ0aW1lcnMiXSk/bmV3IEsodC5nbCk6bnVsbCx0Ll9pbml0aWFsaXplZD0hMCx0Lm9uSW5pdGlhbGl6ZSh0LmFuaW1hdGlvblByb3BzKSl9KSkudGhlbigoZnVuY3Rpb24oZSl7dC5fcnVubmluZyYmKHQuX2FkZENhbGxiYWNrRGF0YShlfHx7fSksITEhPT1lJiZ0Ll9zdGFydExvb3AoKSl9KSk7cmV0dXJuIHRoaXMucHJvcHMub25FcnJvciYmbi5jYXRjaCh0aGlzLnByb3BzLm9uRXJyb3IpLHRoaXN9fSx7a2V5OiJyZWRyYXciLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2JlZ2luVGltZXJzKCksdGhpcy5fc2V0dXBGcmFtZSgpLHRoaXMuX3VwZGF0ZUNhbGxiYWNrRGF0YSgpLHRoaXMuX3JlbmRlckZyYW1lKHRoaXMuYW5pbWF0aW9uUHJvcHMpLHRoaXMuX2NsZWFyTmVlZHNSZWRyYXcoKSx0aGlzLm9mZlNjcmVlbiYmdGhpcy5nbC5jb21taXQmJnRoaXMuZ2wuY29tbWl0KCksdGhpcy5fcmVzb2x2ZU5leHRGcmFtZSYmKHRoaXMuX3Jlc29sdmVOZXh0RnJhbWUodGhpcyksdGhpcy5fbmV4dEZyYW1lUHJvbWlzZT1udWxsLHRoaXMuX3Jlc29sdmVOZXh0RnJhbWU9bnVsbCksdGhpcy5fZW5kVGltZXJzKCksdGhpc319LHtrZXk6InN0b3AiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3J1bm5pbmcmJih0aGlzLl9maW5hbGl6ZUNhbGxiYWNrRGF0YSgpLFEodGhpcy5fYW5pbWF0aW9uRnJhbWVJZCksdGhpcy5fbmV4dEZyYW1lUHJvbWlzZT1udWxsLHRoaXMuX3Jlc29sdmVOZXh0RnJhbWU9bnVsbCx0aGlzLl9hbmltYXRpb25GcmFtZUlkPW51bGwsdGhpcy5fcnVubmluZz0hMSksdGhpc319LHtrZXk6ImF0dGFjaFRpbWVsaW5lIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy50aW1lbGluZT10LHRoaXMudGltZWxpbmV9fSx7a2V5OiJkZXRhY2hUaW1lbGluZSIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLnRpbWVsaW5lPW51bGx9fSx7a2V5OiJ3YWl0Rm9yUmVuZGVyIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXM7cmV0dXJuIHRoaXMuc2V0TmVlZHNSZWRyYXcoIndhaXRGb3JSZW5kZXIiKSx0aGlzLl9uZXh0RnJhbWVQcm9taXNlfHwodGhpcy5fbmV4dEZyYW1lUHJvbWlzZT1uZXcgUHJvbWlzZSgoZnVuY3Rpb24oZSl7dC5fcmVzb2x2ZU5leHRGcmFtZT1lfSkpKSx0aGlzLl9uZXh0RnJhbWVQcm9taXNlfX0se2tleToidG9EYXRhVVJMIix2YWx1ZTooZT1PYmplY3QoRi5hKShELmEubWFyaygoZnVuY3Rpb24gdCgpe3JldHVybiBELmEud3JhcCgoZnVuY3Rpb24odCl7Zm9yKDs7KXN3aXRjaCh0LnByZXY9dC5uZXh0KXtjYXNlIDA6cmV0dXJuIHRoaXMuc2V0TmVlZHNSZWRyYXcoInRvRGF0YVVSTCIpLHQubmV4dD0zLHRoaXMud2FpdEZvclJlbmRlcigpO2Nhc2UgMzpyZXR1cm4gdC5hYnJ1cHQoInJldHVybiIsdGhpcy5nbC5jYW52YXMudG9EYXRhVVJMKCkpO2Nhc2UgNDpjYXNlImVuZCI6cmV0dXJuIHQuc3RvcCgpfX0pLHQsdGhpcyl9KSkpLGZ1bmN0aW9uKCl7cmV0dXJuIGUuYXBwbHkodGhpcyxhcmd1bWVudHMpfSl9LHtrZXk6Im9uQ3JlYXRlQ29udGV4dCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdDtyZXR1cm4odD10aGlzLnByb3BzKS5vbkNyZWF0ZUNvbnRleHQuYXBwbHkodCxhcmd1bWVudHMpfX0se2tleToib25Jbml0aWFsaXplIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0O3JldHVybih0PXRoaXMucHJvcHMpLm9uSW5pdGlhbGl6ZS5hcHBseSh0LGFyZ3VtZW50cyl9fSx7a2V5OiJvblJlbmRlciIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdDtyZXR1cm4odD10aGlzLnByb3BzKS5vblJlbmRlci5hcHBseSh0LGFyZ3VtZW50cyl9fSx7a2V5OiJvbkZpbmFsaXplIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0O3JldHVybih0PXRoaXMucHJvcHMpLm9uRmluYWxpemUuYXBwbHkodCxhcmd1bWVudHMpfX0se2tleToiZ2V0SFRNTENvbnRyb2xWYWx1ZSIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOjEsbj1kb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0KTtyZXR1cm4gbj9OdW1iZXIobi52YWx1ZSk6ZX19LHtrZXk6InNldFZpZXdQYXJhbWV0ZXJzIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB3LmgucmVtb3ZlZCgiQW5pbWF0aW9uTG9vcC5zZXRWaWV3UGFyYW1ldGVycyIsIkFuaW1hdGlvbkxvb3Auc2V0UHJvcHMiKSgpLHRoaXN9fSx7a2V5OiJfc3RhcnRMb29wIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXM7USh0aGlzLl9hbmltYXRpb25GcmFtZUlkKSx0aGlzLl9hbmltYXRpb25GcmFtZUlkPXRoaXMuX3JlcXVlc3RBbmltYXRpb25GcmFtZSgoZnVuY3Rpb24gZSgpe3QuX3J1bm5pbmcmJih0LnJlZHJhdygpLHQuX2FuaW1hdGlvbkZyYW1lSWQ9dC5fcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGUpKX0pKX19LHtrZXk6Il9nZXRQYWdlTG9hZFByb21pc2UiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3BhZ2VMb2FkUHJvbWlzZXx8KHRoaXMuX3BhZ2VMb2FkUHJvbWlzZT10dD9uZXcgUHJvbWlzZSgoZnVuY3Rpb24odCxlKXt0dCYmImNvbXBsZXRlIj09PWRvY3VtZW50LnJlYWR5U3RhdGU/dChkb2N1bWVudCk6d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoImxvYWQiLChmdW5jdGlvbigpe3QoZG9jdW1lbnQpfSkpfSkpOlByb21pc2UucmVzb2x2ZSh7fSkpLHRoaXMuX3BhZ2VMb2FkUHJvbWlzZX19LHtrZXk6Il9zZXREaXNwbGF5Iix2YWx1ZTpmdW5jdGlvbih0KXt0aGlzLmRpc3BsYXkmJih0aGlzLmRpc3BsYXkuZGVsZXRlKCksdGhpcy5kaXNwbGF5LmFuaW1hdGlvbkxvb3A9bnVsbCksdCYmKHQuYW5pbWF0aW9uTG9vcD10aGlzKSx0aGlzLmRpc3BsYXk9dH19LHtrZXk6Il9yZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlO3RoaXMuZGlzcGxheSYmdGhpcy5kaXNwbGF5LnJlcXVlc3RBbmltYXRpb25GcmFtZSh0KXx8KGU9dCwidW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdyYmd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZT93aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKGUpOnNldFRpbWVvdXQoZSwxZTMvNjApKX19LHtrZXk6Il9yZW5kZXJGcmFtZSIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdDt0aGlzLmRpc3BsYXk/KHQ9dGhpcy5kaXNwbGF5KS5fcmVuZGVyRnJhbWUuYXBwbHkodCxhcmd1bWVudHMpOnRoaXMub25SZW5kZXIuYXBwbHkodGhpcyxhcmd1bWVudHMpfX0se2tleToiX2NsZWFyTmVlZHNSZWRyYXciLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5uZWVkc1JlZHJhdz1udWxsfX0se2tleToiX3NldHVwRnJhbWUiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5fb25TZXR1cEZyYW1lP3RoaXMuX29uU2V0dXBGcmFtZSh0aGlzLmFuaW1hdGlvblByb3BzKToodGhpcy5fcmVzaXplQ2FudmFzRHJhd2luZ0J1ZmZlcigpLHRoaXMuX3Jlc2l6ZVZpZXdwb3J0KCksdGhpcy5fcmVzaXplRnJhbWVidWZmZXIoKSl9fSx7a2V5OiJfaW5pdGlhbGl6ZUNhbGxiYWNrRGF0YSIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLmFuaW1hdGlvblByb3BzPXtnbDp0aGlzLmdsLHN0b3A6dGhpcy5zdG9wLGNhbnZhczp0aGlzLmdsLmNhbnZhcyxmcmFtZWJ1ZmZlcjp0aGlzLmZyYW1lYnVmZmVyLHVzZURldmljZVBpeGVsczp0aGlzLnVzZURldmljZVBpeGVscyxuZWVkc1JlZHJhdzpudWxsLHN0YXJ0VGltZTpEYXRlLm5vdygpLGVuZ2luZVRpbWU6MCx0aWNrOjAsdG9jazowLHRpbWU6MCxfdGltZWxpbmU6dGhpcy50aW1lbGluZSxfbG9vcDp0aGlzLF9hbmltYXRpb25Mb29wOnRoaXMsX21vdXNlUG9zaXRpb246bnVsbH19fSx7a2V5OiJfdXBkYXRlQ2FsbGJhY2tEYXRhIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMuX2dldFNpemVBbmRBc3BlY3QoKSxlPXQud2lkdGgsbj10LmhlaWdodCxyPXQuYXNwZWN0O2U9PT10aGlzLmFuaW1hdGlvblByb3BzLndpZHRoJiZuPT09dGhpcy5hbmltYXRpb25Qcm9wcy5oZWlnaHR8fHRoaXMuc2V0TmVlZHNSZWRyYXcoImRyYXdpbmcgYnVmZmVyIHJlc2l6ZWQiKSxyIT09dGhpcy5hbmltYXRpb25Qcm9wcy5hc3BlY3QmJnRoaXMuc2V0TmVlZHNSZWRyYXcoImRyYXdpbmcgYnVmZmVyIGFzcGVjdCBjaGFuZ2VkIiksdGhpcy5hbmltYXRpb25Qcm9wcy53aWR0aD1lLHRoaXMuYW5pbWF0aW9uUHJvcHMuaGVpZ2h0PW4sdGhpcy5hbmltYXRpb25Qcm9wcy5hc3BlY3Q9cix0aGlzLmFuaW1hdGlvblByb3BzLm5lZWRzUmVkcmF3PXRoaXMubmVlZHNSZWRyYXcsdGhpcy5hbmltYXRpb25Qcm9wcy5lbmdpbmVUaW1lPURhdGUubm93KCktdGhpcy5hbmltYXRpb25Qcm9wcy5zdGFydFRpbWUsdGhpcy50aW1lbGluZSYmdGhpcy50aW1lbGluZS51cGRhdGUodGhpcy5hbmltYXRpb25Qcm9wcy5lbmdpbmVUaW1lKSx0aGlzLmFuaW1hdGlvblByb3BzLnRpY2s9TWF0aC5mbG9vcih0aGlzLmFuaW1hdGlvblByb3BzLnRpbWUvMWUzKjYwKSx0aGlzLmFuaW1hdGlvblByb3BzLnRvY2srKyx0aGlzLmFuaW1hdGlvblByb3BzLnRpbWU9dGhpcy50aW1lbGluZT90aGlzLnRpbWVsaW5lLmdldFRpbWUoKTp0aGlzLmFuaW1hdGlvblByb3BzLmVuZ2luZVRpbWUsdGhpcy5hbmltYXRpb25Qcm9wcy5fb2ZmU2NyZWVuPXRoaXMub2ZmU2NyZWVufX0se2tleToiX2ZpbmFsaXplQ2FsbGJhY2tEYXRhIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMub25GaW5hbGl6ZSh0aGlzLmFuaW1hdGlvblByb3BzKX19LHtrZXk6Il9hZGRDYWxsYmFja0RhdGEiLHZhbHVlOmZ1bmN0aW9uKHQpeyJvYmplY3QiPT09T2JqZWN0KFIuYSkodCkmJm51bGwhPT10JiYodGhpcy5hbmltYXRpb25Qcm9wcz1PYmplY3QuYXNzaWduKHt9LHRoaXMuYW5pbWF0aW9uUHJvcHMsdCkpfX0se2tleToiX2NyZWF0ZVdlYkdMQ29udGV4dCIsdmFsdWU6ZnVuY3Rpb24odCl7aWYodGhpcy5vZmZTY3JlZW49dC5jYW52YXMmJiJ1bmRlZmluZWQiIT10eXBlb2YgT2Zmc2NyZWVuQ2FudmFzJiZ0LmNhbnZhcyBpbnN0YW5jZW9mIE9mZnNjcmVlbkNhbnZhcyx0PU9iamVjdC5hc3NpZ24oe30sdCx0aGlzLnByb3BzLmdsT3B0aW9ucyksdGhpcy5nbD10aGlzLnByb3BzLmdsP09iamVjdCh3LmUpKHRoaXMucHJvcHMuZ2wsdCk6dGhpcy5vbkNyZWF0ZUNvbnRleHQodCksIU9iamVjdCh3LmYpKHRoaXMuZ2wpKXRocm93IG5ldyBFcnJvcigiQW5pbWF0aW9uTG9vcC5vbkNyZWF0ZUNvbnRleHQgLSBpbGxlZ2FsIGNvbnRleHQgcmV0dXJuZWQiKTtPYmplY3Qody5pKSh0aGlzLmdsKSx0aGlzLl9jcmVhdGVJbmZvRGl2KCl9fSx7a2V5OiJfY3JlYXRlSW5mb0RpdiIsdmFsdWU6ZnVuY3Rpb24oKXtpZih0aGlzLmdsLmNhbnZhcyYmdGhpcy5wcm9wcy5vbkFkZEhUTUwpe3ZhciB0PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpO2RvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodCksdC5zdHlsZS5wb3NpdGlvbj0icmVsYXRpdmUiO3ZhciBlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpO2Uuc3R5bGUucG9zaXRpb249ImFic29sdXRlIixlLnN0eWxlLmxlZnQ9IjEwcHgiLGUuc3R5bGUuYm90dG9tPSIxMHB4IixlLnN0eWxlLndpZHRoPSIzMDBweCIsZS5zdHlsZS5iYWNrZ3JvdW5kPSJ3aGl0ZSIsdC5hcHBlbmRDaGlsZCh0aGlzLmdsLmNhbnZhcyksdC5hcHBlbmRDaGlsZChlKTt2YXIgbj10aGlzLnByb3BzLm9uQWRkSFRNTChlKTtuJiYoZS5pbm5lckhUTUw9bil9fX0se2tleToiX2dldFNpemVBbmRBc3BlY3QiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5nbC5kcmF3aW5nQnVmZmVyV2lkdGgsZT10aGlzLmdsLmRyYXdpbmdCdWZmZXJIZWlnaHQsbj0xLHI9dGhpcy5nbC5jYW52YXM7cmV0dXJuIHImJnIuY2xpZW50SGVpZ2h0P249ci5jbGllbnRXaWR0aC9yLmNsaWVudEhlaWdodDp0PjAmJmU+MCYmKG49dC9lKSx7d2lkdGg6dCxoZWlnaHQ6ZSxhc3BlY3Q6bn19fSx7a2V5OiJfcmVzaXplVmlld3BvcnQiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5hdXRvUmVzaXplVmlld3BvcnQmJnRoaXMuZ2wudmlld3BvcnQoMCwwLHRoaXMuZ2wuZHJhd2luZ0J1ZmZlcldpZHRoLHRoaXMuZ2wuZHJhd2luZ0J1ZmZlckhlaWdodCl9fSx7a2V5OiJfcmVzaXplQ2FudmFzRHJhd2luZ0J1ZmZlciIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLmF1dG9SZXNpemVEcmF3aW5nQnVmZmVyJiZPYmplY3Qody5qKSh0aGlzLmdsLHt1c2VEZXZpY2VQaXhlbHM6dGhpcy51c2VEZXZpY2VQaXhlbHN9KX19LHtrZXk6Il9jcmVhdGVGcmFtZWJ1ZmZlciIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLnByb3BzLmNyZWF0ZUZyYW1lYnVmZmVyJiYodGhpcy5mcmFtZWJ1ZmZlcj1uZXcgTy5hKHRoaXMuZ2wpKX19LHtrZXk6Il9yZXNpemVGcmFtZWJ1ZmZlciIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLmZyYW1lYnVmZmVyJiZ0aGlzLmZyYW1lYnVmZmVyLnJlc2l6ZSh7d2lkdGg6dGhpcy5nbC5kcmF3aW5nQnVmZmVyV2lkdGgsaGVpZ2h0OnRoaXMuZ2wuZHJhd2luZ0J1ZmZlckhlaWdodH0pfX0se2tleToiX2JlZ2luVGltZXJzIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuZnJhbWVSYXRlLnRpbWVFbmQoKSx0aGlzLmZyYW1lUmF0ZS50aW1lU3RhcnQoKSx0aGlzLl9ncHVUaW1lUXVlcnkmJnRoaXMuX2dwdVRpbWVRdWVyeS5pc1Jlc3VsdEF2YWlsYWJsZSgpJiYhdGhpcy5fZ3B1VGltZVF1ZXJ5LmlzVGltZXJEaXNqb2ludCgpJiZ0aGlzLnN0YXRzLmdldCgiR1BVIFRpbWUiKS5hZGRUaW1lKHRoaXMuX2dwdVRpbWVRdWVyeS5nZXRUaW1lck1pbGxpc2Vjb25kcygpKSx0aGlzLl9ncHVUaW1lUXVlcnkmJnRoaXMuX2dwdVRpbWVRdWVyeS5iZWdpblRpbWVFbGFwc2VkUXVlcnkoKSx0aGlzLmNwdVRpbWUudGltZVN0YXJ0KCl9fSx7a2V5OiJfZW5kVGltZXJzIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuY3B1VGltZS50aW1lRW5kKCksdGhpcy5fZ3B1VGltZVF1ZXJ5JiZ0aGlzLl9ncHVUaW1lUXVlcnkuZW5kKCl9fSx7a2V5OiJfc3RhcnRFdmVudEhhbmRsaW5nIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMuZ2wuY2FudmFzO3QmJih0LmFkZEV2ZW50TGlzdGVuZXIoIm1vdXNlbW92ZSIsdGhpcy5fb25Nb3VzZW1vdmUpLHQuYWRkRXZlbnRMaXN0ZW5lcigibW91c2VsZWF2ZSIsdGhpcy5fb25Nb3VzZWxlYXZlKSl9fSx7a2V5OiJfb25Nb3VzZW1vdmUiLHZhbHVlOmZ1bmN0aW9uKHQpe3RoaXMuYW5pbWF0aW9uUHJvcHMuX21vdXNlUG9zaXRpb249W3Qub2Zmc2V0WCx0Lm9mZnNldFldfX0se2tleToiX29uTW91c2VsZWF2ZSIsdmFsdWU6ZnVuY3Rpb24odCl7dGhpcy5hbmltYXRpb25Qcm9wcy5fbW91c2VQb3NpdGlvbj1udWxsfX1dKSx0fSgpLHJ0PW4oMjc2KSxpdD1uKDEzMSksYXQ9bigzMSksb3Q9bigxNDUpLHN0PW4ubihvdCksdXQ9e21vdXNlZG93bjoxLG1vdXNlbW92ZToyLG1vdXNldXA6NH07Sj1zdC5hLlBvaW50ZXJFdmVudElucHV0LCQ9Si5wcm90b3R5cGUuaGFuZGxlcixKLnByb3RvdHlwZS5oYW5kbGVyPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuc3RvcmU7dC5idXR0b24+MCYmKGZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPTA7bjx0Lmxlbmd0aDtuKyspaWYoZSh0W25dKSlyZXR1cm4hMDtyZXR1cm4hMX0oZSwoZnVuY3Rpb24oZSl7cmV0dXJuIGUucG9pbnRlcklkPT09dC5wb2ludGVySWR9KSl8fGUucHVzaCh0KSksJC5jYWxsKHRoaXMsdCl9LHN0LmEuTW91c2VJbnB1dC5wcm90b3R5cGUuaGFuZGxlcj1mdW5jdGlvbih0KXt2YXIgZT11dFt0LnR5cGVdOzEmZSYmdC5idXR0b24+PTAmJih0aGlzLnByZXNzZWQ9ITApLDImZSYmMD09PXQud2hpY2gmJihlPTQpLHRoaXMucHJlc3NlZCYmKDQmZSYmKHRoaXMucHJlc3NlZD0hMSksdGhpcy5jYWxsYmFjayh0aGlzLm1hbmFnZXIsZSx7cG9pbnRlcnM6W3RdLGNoYW5nZWRQb2ludGVyczpbdF0scG9pbnRlclR5cGU6Im1vdXNlIixzcmNFdmVudDp0fSkpfTt2YXIgY3Q9c3QuYS5NYW5hZ2VyLGx0PXN0LmEsaHQ9bHQ/W1tsdC5Sb3RhdGUse2VuYWJsZTohMX1dLFtsdC5QaW5jaCx7ZW5hYmxlOiExfV0sW2x0LlN3aXBlLHtlbmFibGU6ITF9XSxbbHQuUGFuLHt0aHJlc2hvbGQ6MCxlbmFibGU6ITF9XSxbbHQuUHJlc3Mse2VuYWJsZTohMX1dLFtsdC5UYXAse2V2ZW50OiJkb3VibGV0YXAiLHRhcHM6MixlbmFibGU6ITF9XSxbbHQuVGFwLHtldmVudDoiYW55dGFwIixlbmFibGU6ITF9XSxbbHQuVGFwLHtlbmFibGU6ITF9XV06bnVsbCxmdD17cm90YXRlOlsicGluY2giXSxwYW46WyJwcmVzcyIsImRvdWJsZXRhcCIsImFueXRhcCIsInRhcCJdLGRvdWJsZXRhcDpbImFueXRhcCJdLGFueXRhcDpbInRhcCJdfSxkdD17ZG91YmxldGFwOlsidGFwIl19LHZ0PXtwb2ludGVyZG93bjoicG9pbnRlcmRvd24iLHBvaW50ZXJtb3ZlOiJwb2ludGVybW92ZSIscG9pbnRlcnVwOiJwb2ludGVydXAiLHRvdWNoc3RhcnQ6InBvaW50ZXJkb3duIix0b3VjaG1vdmU6InBvaW50ZXJtb3ZlIix0b3VjaGVuZDoicG9pbnRlcnVwIixtb3VzZWRvd246InBvaW50ZXJkb3duIixtb3VzZW1vdmU6InBvaW50ZXJtb3ZlIixtb3VzZXVwOiJwb2ludGVydXAifSxwdD1bImtleWRvd24iLCJrZXl1cCJdLGd0PVsibW91c2Vkb3duIiwibW91c2Vtb3ZlIiwibW91c2V1cCIsIm1vdXNlb3ZlciIsIm1vdXNlb3V0IiwibW91c2VsZWF2ZSJdLHl0PVsid2hlZWwiLCJtb3VzZXdoZWVsIiwiRE9NTW91c2VTY3JvbGwiXSxtdD17dGFwOiJ0YXAiLGFueXRhcDoiYW55dGFwIixkb3VibGV0YXA6ImRvdWJsZXRhcCIscHJlc3M6InByZXNzIixwaW5jaDoicGluY2giLHBpbmNoaW46InBpbmNoIixwaW5jaG91dDoicGluY2giLHBpbmNoc3RhcnQ6InBpbmNoIixwaW5jaG1vdmU6InBpbmNoIixwaW5jaGVuZDoicGluY2giLHBpbmNoY2FuY2VsOiJwaW5jaCIscm90YXRlOiJyb3RhdGUiLHJvdGF0ZXN0YXJ0OiJyb3RhdGUiLHJvdGF0ZW1vdmU6InJvdGF0ZSIscm90YXRlZW5kOiJyb3RhdGUiLHJvdGF0ZWNhbmNlbDoicm90YXRlIixwYW46InBhbiIscGFuc3RhcnQ6InBhbiIscGFubW92ZToicGFuIixwYW51cDoicGFuIixwYW5kb3duOiJwYW4iLHBhbmxlZnQ6InBhbiIscGFucmlnaHQ6InBhbiIscGFuZW5kOiJwYW4iLHBhbmNhbmNlbDoicGFuIixzd2lwZToic3dpcGUiLHN3aXBlbGVmdDoic3dpcGUiLHN3aXBlcmlnaHQ6InN3aXBlIixzd2lwZXVwOiJzd2lwZSIsc3dpcGVkb3duOiJzd2lwZSJ9LGJ0PXtjbGljazoidGFwIixhbnljbGljazoiYW55dGFwIixkYmxjbGljazoiZG91YmxldGFwIixtb3VzZWRvd246InBvaW50ZXJkb3duIixtb3VzZW1vdmU6InBvaW50ZXJtb3ZlIixtb3VzZXVwOiJwb2ludGVydXAiLG1vdXNlb3ZlcjoicG9pbnRlcm92ZXIiLG1vdXNlb3V0OiJwb2ludGVyb3V0Iixtb3VzZWxlYXZlOiJwb2ludGVybGVhdmUifSxfdD0idW5kZWZpbmVkIiE9dHlwZW9mIG5hdmlnYXRvciYmbmF2aWdhdG9yLnVzZXJBZ2VudD9uYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCk6IiIsT3Q9InVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3c/d2luZG93Omdsb2JhbCx4dD0oInVuZGVmaW5lZCIhPXR5cGVvZiBnbG9iYWw/Z2xvYmFsOndpbmRvdywidW5kZWZpbmVkIiE9dHlwZW9mIGRvY3VtZW50JiZkb2N1bWVudCwhMSk7dHJ5e3ZhciB3dD17Z2V0IHBhc3NpdmUoKXtyZXR1cm4geHQ9ITAsITB9fTtPdC5hZGRFdmVudExpc3RlbmVyKCJ0ZXN0Iix3dCx3dCksT3QucmVtb3ZlRXZlbnRMaXN0ZW5lcigidGVzdCIsd3Qsd3QpfWNhdGNoKHQpe312YXIga3Q9LTEhPT1fdC5pbmRleE9mKCJmaXJlZm94IiksU3Q9eXQsUHQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUsbil7dmFyIHI9dGhpcyxpPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTp7fTtPYmplY3Qoei5hKSh0aGlzLHQpLHRoaXMuZWxlbWVudD1lLHRoaXMuY2FsbGJhY2s9bix0aGlzLm9wdGlvbnM9T2JqZWN0LmFzc2lnbih7ZW5hYmxlOiEwfSxpKSx0aGlzLmV2ZW50cz1TdC5jb25jYXQoaS5ldmVudHN8fFtdKSx0aGlzLmhhbmRsZUV2ZW50PXRoaXMuaGFuZGxlRXZlbnQuYmluZCh0aGlzKSx0aGlzLmV2ZW50cy5mb3JFYWNoKChmdW5jdGlvbih0KXtyZXR1cm4gZS5hZGRFdmVudExpc3RlbmVyKHQsci5oYW5kbGVFdmVudCwhIXh0JiZ7cGFzc2l2ZTohMX0pfSkpfXJldHVybiBPYmplY3QoQi5hKSh0LFt7a2V5OiJkZXN0cm95Iix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXM7dGhpcy5ldmVudHMuZm9yRWFjaCgoZnVuY3Rpb24oZSl7cmV0dXJuIHQuZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKGUsdC5oYW5kbGVFdmVudCl9KSl9fSx7a2V5OiJlbmFibGVFdmVudFR5cGUiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7IndoZWVsIj09PXQmJih0aGlzLm9wdGlvbnMuZW5hYmxlPWUpfX0se2tleToiaGFuZGxlRXZlbnQiLHZhbHVlOmZ1bmN0aW9uKHQpe2lmKHRoaXMub3B0aW9ucy5lbmFibGUpe3ZhciBlPXQuZGVsdGFZO090LldoZWVsRXZlbnQmJihrdCYmdC5kZWx0YU1vZGU9PT1PdC5XaGVlbEV2ZW50LkRPTV9ERUxUQV9QSVhFTCYmKGUvPU90LmRldmljZVBpeGVsUmF0aW8pLHQuZGVsdGFNb2RlPT09T3QuV2hlZWxFdmVudC5ET01fREVMVEFfTElORSYmKGUqPTQwKSk7dmFyIG49e3g6dC5jbGllbnRYLHk6dC5jbGllbnRZfTswIT09ZSYmZSU0LjAwMDI0NDE0MDYyNT09MCYmKGU9TWF0aC5mbG9vcihlLzQuMDAwMjQ0MTQwNjI1KSksdC5zaGlmdEtleSYmZSYmKGUqPS4yNSksdGhpcy5fb25XaGVlbCh0LC1lLG4pfX19LHtrZXk6Il9vbldoZWVsIix2YWx1ZTpmdW5jdGlvbih0LGUsbil7dGhpcy5jYWxsYmFjayh7dHlwZToid2hlZWwiLGNlbnRlcjpuLGRlbHRhOmUsc3JjRXZlbnQ6dCxwb2ludGVyVHlwZToibW91c2UiLHRhcmdldDp0LnRhcmdldH0pfX1dKSx0fSgpLGp0PWd0LFR0PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlLG4pe3ZhciByPXRoaXMsaT1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06e307T2JqZWN0KHouYSkodGhpcyx0KSx0aGlzLmVsZW1lbnQ9ZSx0aGlzLmNhbGxiYWNrPW4sdGhpcy5wcmVzc2VkPSExLHRoaXMub3B0aW9ucz1PYmplY3QuYXNzaWduKHtlbmFibGU6ITB9LGkpLHRoaXMuZW5hYmxlTW92ZUV2ZW50PXRoaXMub3B0aW9ucy5lbmFibGUsdGhpcy5lbmFibGVMZWF2ZUV2ZW50PXRoaXMub3B0aW9ucy5lbmFibGUsdGhpcy5lbmFibGVPdXRFdmVudD10aGlzLm9wdGlvbnMuZW5hYmxlLHRoaXMuZW5hYmxlT3ZlckV2ZW50PXRoaXMub3B0aW9ucy5lbmFibGUsdGhpcy5ldmVudHM9anQuY29uY2F0KGkuZXZlbnRzfHxbXSksdGhpcy5oYW5kbGVFdmVudD10aGlzLmhhbmRsZUV2ZW50LmJpbmQodGhpcyksdGhpcy5ldmVudHMuZm9yRWFjaCgoZnVuY3Rpb24odCl7cmV0dXJuIGUuYWRkRXZlbnRMaXN0ZW5lcih0LHIuaGFuZGxlRXZlbnQpfSkpfXJldHVybiBPYmplY3QoQi5hKSh0LFt7a2V5OiJkZXN0cm95Iix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXM7dGhpcy5ldmVudHMuZm9yRWFjaCgoZnVuY3Rpb24oZSl7cmV0dXJuIHQuZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKGUsdC5oYW5kbGVFdmVudCl9KSl9fSx7a2V5OiJlbmFibGVFdmVudFR5cGUiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7InBvaW50ZXJtb3ZlIj09PXQmJih0aGlzLmVuYWJsZU1vdmVFdmVudD1lKSwicG9pbnRlcm92ZXIiPT09dCYmKHRoaXMuZW5hYmxlT3ZlckV2ZW50PWUpLCJwb2ludGVyb3V0Ij09PXQmJih0aGlzLmVuYWJsZU91dEV2ZW50PWUpLCJwb2ludGVybGVhdmUiPT09dCYmKHRoaXMuZW5hYmxlTGVhdmVFdmVudD1lKX19LHtrZXk6ImhhbmRsZUV2ZW50Iix2YWx1ZTpmdW5jdGlvbih0KXt0aGlzLmhhbmRsZU92ZXJFdmVudCh0KSx0aGlzLmhhbmRsZU91dEV2ZW50KHQpLHRoaXMuaGFuZGxlTGVhdmVFdmVudCh0KSx0aGlzLmhhbmRsZU1vdmVFdmVudCh0KX19LHtrZXk6ImhhbmRsZU92ZXJFdmVudCIsdmFsdWU6ZnVuY3Rpb24odCl7dGhpcy5lbmFibGVPdmVyRXZlbnQmJiJtb3VzZW92ZXIiPT09dC50eXBlJiZ0aGlzLmNhbGxiYWNrKHt0eXBlOiJwb2ludGVyb3ZlciIsc3JjRXZlbnQ6dCxwb2ludGVyVHlwZToibW91c2UiLHRhcmdldDp0LnRhcmdldH0pfX0se2tleToiaGFuZGxlT3V0RXZlbnQiLHZhbHVlOmZ1bmN0aW9uKHQpe3RoaXMuZW5hYmxlT3V0RXZlbnQmJiJtb3VzZW91dCI9PT10LnR5cGUmJnRoaXMuY2FsbGJhY2soe3R5cGU6InBvaW50ZXJvdXQiLHNyY0V2ZW50OnQscG9pbnRlclR5cGU6Im1vdXNlIix0YXJnZXQ6dC50YXJnZXR9KX19LHtrZXk6ImhhbmRsZUxlYXZlRXZlbnQiLHZhbHVlOmZ1bmN0aW9uKHQpe3RoaXMuZW5hYmxlTGVhdmVFdmVudCYmIm1vdXNlbGVhdmUiPT09dC50eXBlJiZ0aGlzLmNhbGxiYWNrKHt0eXBlOiJwb2ludGVybGVhdmUiLHNyY0V2ZW50OnQscG9pbnRlclR5cGU6Im1vdXNlIix0YXJnZXQ6dC50YXJnZXR9KX19LHtrZXk6ImhhbmRsZU1vdmVFdmVudCIsdmFsdWU6ZnVuY3Rpb24odCl7aWYodGhpcy5lbmFibGVNb3ZlRXZlbnQpc3dpdGNoKHQudHlwZSl7Y2FzZSJtb3VzZWRvd24iOnQuYnV0dG9uPj0wJiYodGhpcy5wcmVzc2VkPSEwKTticmVhaztjYXNlIm1vdXNlbW92ZSI6MD09PXQud2hpY2gmJih0aGlzLnByZXNzZWQ9ITEpLHRoaXMucHJlc3NlZHx8dGhpcy5jYWxsYmFjayh7dHlwZToicG9pbnRlcm1vdmUiLHNyY0V2ZW50OnQscG9pbnRlclR5cGU6Im1vdXNlIix0YXJnZXQ6dC50YXJnZXR9KTticmVhaztjYXNlIm1vdXNldXAiOnRoaXMucHJlc3NlZD0hMX19fV0pLHR9KCksRXQ9cHQsQXQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUsbil7dmFyIHI9dGhpcyxpPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTp7fTtPYmplY3Qoei5hKSh0aGlzLHQpLHRoaXMuZWxlbWVudD1lLHRoaXMuY2FsbGJhY2s9bix0aGlzLm9wdGlvbnM9T2JqZWN0LmFzc2lnbih7ZW5hYmxlOiEwfSxpKSx0aGlzLmVuYWJsZURvd25FdmVudD10aGlzLm9wdGlvbnMuZW5hYmxlLHRoaXMuZW5hYmxlVXBFdmVudD10aGlzLm9wdGlvbnMuZW5hYmxlLHRoaXMuZXZlbnRzPUV0LmNvbmNhdChpLmV2ZW50c3x8W10pLHRoaXMuaGFuZGxlRXZlbnQ9dGhpcy5oYW5kbGVFdmVudC5iaW5kKHRoaXMpLGUudGFiSW5kZXg9MSxlLnN0eWxlLm91dGxpbmU9Im5vbmUiLHRoaXMuZXZlbnRzLmZvckVhY2goKGZ1bmN0aW9uKHQpe3JldHVybiBlLmFkZEV2ZW50TGlzdGVuZXIodCxyLmhhbmRsZUV2ZW50KX0pKX1yZXR1cm4gT2JqZWN0KEIuYSkodCxbe2tleToiZGVzdHJveSIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3RoaXMuZXZlbnRzLmZvckVhY2goKGZ1bmN0aW9uKGUpe3JldHVybiB0LmVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihlLHQuaGFuZGxlRXZlbnQpfSkpfX0se2tleToiZW5hYmxlRXZlbnRUeXBlIix2YWx1ZTpmdW5jdGlvbih0LGUpeyJrZXlkb3duIj09PXQmJih0aGlzLmVuYWJsZURvd25FdmVudD1lKSwia2V5dXAiPT09dCYmKHRoaXMuZW5hYmxlVXBFdmVudD1lKX19LHtrZXk6ImhhbmRsZUV2ZW50Iix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10LnRhcmdldHx8dC5zcmNFbGVtZW50OyJJTlBVVCI9PT1lLnRhZ05hbWUmJiJ0ZXh0Ij09PWUudHlwZXx8IlRFWFRBUkVBIj09PWUudGFnTmFtZXx8KHRoaXMuZW5hYmxlRG93bkV2ZW50JiYia2V5ZG93biI9PT10LnR5cGUmJnRoaXMuY2FsbGJhY2soe3R5cGU6ImtleWRvd24iLHNyY0V2ZW50OnQsa2V5OnQua2V5LHRhcmdldDp0LnRhcmdldH0pLHRoaXMuZW5hYmxlVXBFdmVudCYmImtleXVwIj09PXQudHlwZSYmdGhpcy5jYWxsYmFjayh7dHlwZToia2V5dXAiLHNyY0V2ZW50OnQsa2V5OnQua2V5LHRhcmdldDp0LnRhcmdldH0pKX19XSksdH0oKSxNdD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSxuKXt2YXIgcj1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06e307T2JqZWN0KHouYSkodGhpcyx0KSx0aGlzLmVsZW1lbnQ9ZSx0aGlzLmNhbGxiYWNrPW4sdGhpcy5vcHRpb25zPU9iamVjdC5hc3NpZ24oe2VuYWJsZTohMH0sciksdGhpcy5oYW5kbGVFdmVudD10aGlzLmhhbmRsZUV2ZW50LmJpbmQodGhpcyksZS5hZGRFdmVudExpc3RlbmVyKCJjb250ZXh0bWVudSIsdGhpcy5oYW5kbGVFdmVudCl9cmV0dXJuIE9iamVjdChCLmEpKHQsW3trZXk6ImRlc3Ryb3kiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoImNvbnRleHRtZW51Iix0aGlzLmhhbmRsZUV2ZW50KX19LHtrZXk6ImVuYWJsZUV2ZW50VHlwZSIsdmFsdWU6ZnVuY3Rpb24odCxlKXsiY29udGV4dG1lbnUiPT09dCYmKHRoaXMub3B0aW9ucy5lbmFibGU9ZSl9fSx7a2V5OiJoYW5kbGVFdmVudCIsdmFsdWU6ZnVuY3Rpb24odCl7dGhpcy5vcHRpb25zLmVuYWJsZSYmdGhpcy5jYWxsYmFjayh7dHlwZToiY29udGV4dG1lbnUiLGNlbnRlcjp7eDp0LmNsaWVudFgseTp0LmNsaWVudFl9LHNyY0V2ZW50OnQscG9pbnRlclR5cGU6Im1vdXNlIix0YXJnZXQ6dC50YXJnZXR9KX19XSksdH0oKSxDdD17cG9pbnRlcmRvd246MSxwb2ludGVybW92ZToyLHBvaW50ZXJ1cDo0LG1vdXNlZG93bjoxLG1vdXNlbW92ZToyLG1vdXNldXA6NH07dmFyIEx0PXtzcmNFbGVtZW50OiJyb290Iixwcmlvcml0eTowfSxJdD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSl7T2JqZWN0KHouYSkodGhpcyx0KSx0aGlzLmV2ZW50TWFuYWdlcj1lLHRoaXMuaGFuZGxlcnM9W10sdGhpcy5oYW5kbGVyc0J5RWxlbWVudD1uZXcgTWFwLHRoaXMuaGFuZGxlRXZlbnQ9dGhpcy5oYW5kbGVFdmVudC5iaW5kKHRoaXMpfXJldHVybiBPYmplY3QoQi5hKSh0LFt7a2V5OiJpc0VtcHR5Iix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiAwPT09dGhpcy5oYW5kbGVycy5sZW5ndGh9fSx7a2V5OiJhZGQiLHZhbHVlOmZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1hcmd1bWVudHMubGVuZ3RoPjMmJnZvaWQgMCE9PWFyZ3VtZW50c1szXSYmYXJndW1lbnRzWzNdLGk9dGhpcy5oYW5kbGVycyxhPXRoaXMuaGFuZGxlcnNCeUVsZW1lbnQ7biYmKCJvYmplY3QiIT09T2JqZWN0KFIuYSkobil8fG4uYWRkRXZlbnRMaXN0ZW5lcikmJihuPXtzcmNFbGVtZW50Om59KSxuPW4/T2JqZWN0LmFzc2lnbih7fSxMdCxuKTpMdDt2YXIgbz1hLmdldChuLnNyY0VsZW1lbnQpO298fChvPVtdLGEuc2V0KG4uc3JjRWxlbWVudCxvKSk7dmFyIHM9e3R5cGU6dCxoYW5kbGVyOmUsc3JjRWxlbWVudDpuLnNyY0VsZW1lbnQscHJpb3JpdHk6bi5wcmlvcml0eSxvbmNlOnJ9O2kucHVzaChzKTtmb3IodmFyIHU9by5sZW5ndGgtMTt1Pj0wJiYhKG9bdV0ucHJpb3JpdHk+PXMucHJpb3JpdHkpOyl1LS07by5zcGxpY2UodSsxLDAscyl9fSx7a2V5OiJyZW1vdmUiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPXRoaXMuaGFuZGxlcnMscj10aGlzLmhhbmRsZXJzQnlFbGVtZW50LGk9bi5sZW5ndGgtMTtpPj0wO2ktLSl7dmFyIGE9bltpXTtpZihhLnR5cGU9PT10JiZhLmhhbmRsZXI9PT1lKXtuLnNwbGljZShpLDEpO3ZhciBvPXIuZ2V0KGEuc3JjRWxlbWVudCk7by5zcGxpY2Uoby5pbmRleE9mKGEpLDEpLDA9PT1vLmxlbmd0aCYmci5kZWxldGUoYS5zcmNFbGVtZW50KX19fX0se2tleToiaGFuZGxlRXZlbnQiLHZhbHVlOmZ1bmN0aW9uKHQpe2lmKCF0aGlzLmlzRW1wdHkoKSl7Zm9yKHZhciBlPXRoaXMuX25vcm1hbGl6ZUV2ZW50KHQpLG49dC5zcmNFdmVudC50YXJnZXQ7biYmbiE9PWUucm9vdEVsZW1lbnQ7KXtpZih0aGlzLl9lbWl0KGUsbiksZS5oYW5kbGVkKXJldHVybjtuPW4ucGFyZW50Tm9kZX10aGlzLl9lbWl0KGUsInJvb3QiKX19fSx7a2V5OiJfZW1pdCIsdmFsdWU6ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLmhhbmRsZXJzQnlFbGVtZW50LmdldChlKTtpZihuKXtmb3IodmFyIHI9ITEsaT1mdW5jdGlvbigpe3QuaGFuZGxlZD0hMH0sYT1mdW5jdGlvbigpe3QuaGFuZGxlZD0hMCxyPSEwfSxvPVtdLHM9MDtzPG4ubGVuZ3RoO3MrKyl7dmFyIHU9bltzXSxjPXUudHlwZSxsPXUuaGFuZGxlcixoPXUub25jZTtpZihsKE9iamVjdC5hc3NpZ24oe30sdCx7dHlwZTpjLHN0b3BQcm9wYWdhdGlvbjppLHN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbjphfSkpLGgmJm8ucHVzaChuW3NdKSxyKWJyZWFrfWZvcih2YXIgZj0wO2Y8by5sZW5ndGg7ZisrKXt2YXIgZD1vW2ZdO2M9ZC50eXBlLGw9ZC5oYW5kbGVyO3RoaXMucmVtb3ZlKGMsbCl9fX19LHtrZXk6Il9ub3JtYWxpemVFdmVudCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5ldmVudE1hbmFnZXIuZWxlbWVudDtyZXR1cm4gT2JqZWN0LmFzc2lnbih7fSx0LGZ1bmN0aW9uKHQpe3ZhciBlPUN0W3Quc3JjRXZlbnQudHlwZV07aWYoIWUpcmV0dXJuIG51bGw7dmFyIG49dC5zcmNFdmVudCxyPW4uYnV0dG9ucyxpPW4uYnV0dG9uLGE9bi53aGljaCxvPSExLHM9ITEsdT0hMTtyZXR1cm4gND09PWV8fDI9PT1lJiYhTnVtYmVyLmlzRmluaXRlKHIpPyhvPTE9PT1hLHM9Mj09PWEsdT0zPT09YSk6Mj09PWU/KG89Qm9vbGVhbigxJnIpLHM9Qm9vbGVhbig0JnIpLHU9Qm9vbGVhbigyJnIpKToxPT09ZSYmKG89MD09PWkscz0xPT09aSx1PTI9PT1pKSx7bGVmdEJ1dHRvbjpvLG1pZGRsZUJ1dHRvbjpzLHJpZ2h0QnV0dG9uOnV9fSh0KSxmdW5jdGlvbih0LGUpe3ZhciBuPXQuc3JjRXZlbnQ7aWYoIXQuY2VudGVyJiYhTnVtYmVyLmlzRmluaXRlKG4uY2xpZW50WCkpcmV0dXJuIG51bGw7dmFyIHI9dC5jZW50ZXJ8fHt4Om4uY2xpZW50WCx5Om4uY2xpZW50WX0saT1lLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLGE9aS53aWR0aC9lLm9mZnNldFdpZHRoLG89aS5oZWlnaHQvZS5vZmZzZXRIZWlnaHQ7cmV0dXJue2NlbnRlcjpyLG9mZnNldENlbnRlcjp7eDooci54LWkubGVmdC1lLmNsaWVudExlZnQpL2EseTooci55LWkudG9wLWUuY2xpZW50VG9wKS9vfX19KHQsZSkse2hhbmRsZWQ6ITEscm9vdEVsZW1lbnQ6ZX0pfX1dKSx0fSgpLFJ0PXtldmVudHM6bnVsbCxyZWNvZ25pemVyczpudWxsLHJlY29nbml6ZXJPcHRpb25zOnt9LE1hbmFnZXI6Y3QsdG91Y2hBY3Rpb246Im5vbmUifSxOdD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06bnVsbCxuPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp7fTtPYmplY3Qoei5hKSh0aGlzLHQpLHRoaXMub3B0aW9ucz1PYmplY3QuYXNzaWduKHt9LFJ0LG4pLHRoaXMuZXZlbnRzPW5ldyBNYXAsdGhpcy5fb25CYXNpY0lucHV0PXRoaXMuX29uQmFzaWNJbnB1dC5iaW5kKHRoaXMpLHRoaXMuX29uT3RoZXJFdmVudD10aGlzLl9vbk90aGVyRXZlbnQuYmluZCh0aGlzKSx0aGlzLnNldEVsZW1lbnQoZSk7dmFyIHI9bi5ldmVudHM7ciYmdGhpcy5vbihyKX1yZXR1cm4gT2JqZWN0KEIuYSkodCxbe2tleToic2V0RWxlbWVudCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcztpZih0aGlzLmVsZW1lbnQmJnRoaXMuZGVzdHJveSgpLHRoaXMuZWxlbWVudD10LHQpe3ZhciBuPXRoaXMub3B0aW9ucyxyPW4uTWFuYWdlcjtmb3IodmFyIGkgaW4gdGhpcy5tYW5hZ2VyPW5ldyByKHQse3RvdWNoQWN0aW9uOm4udG91Y2hBY3Rpb24scmVjb2duaXplcnM6bi5yZWNvZ25pemVyc3x8aHR9KS5vbigiaGFtbWVyLmlucHV0Iix0aGlzLl9vbkJhc2ljSW5wdXQpLG4ucmVjb2duaXplcnN8fE9iamVjdC5rZXlzKGZ0KS5mb3JFYWNoKChmdW5jdGlvbih0KXt2YXIgbj1lLm1hbmFnZXIuZ2V0KHQpO24mJmZ0W3RdLmZvckVhY2goKGZ1bmN0aW9uKHQpe24ucmVjb2duaXplV2l0aCh0KX0pKX0pKSxuLnJlY29nbml6ZXJPcHRpb25zKXt2YXIgYT10aGlzLm1hbmFnZXIuZ2V0KGkpO2lmKGEpe3ZhciBvPW4ucmVjb2duaXplck9wdGlvbnNbaV07ZGVsZXRlIG8uZW5hYmxlLGEuc2V0KG8pfX10aGlzLndoZWVsSW5wdXQ9bmV3IFB0KHQsdGhpcy5fb25PdGhlckV2ZW50LHtlbmFibGU6ITF9KSx0aGlzLm1vdmVJbnB1dD1uZXcgVHQodCx0aGlzLl9vbk90aGVyRXZlbnQse2VuYWJsZTohMX0pLHRoaXMua2V5SW5wdXQ9bmV3IEF0KHQsdGhpcy5fb25PdGhlckV2ZW50LHtlbmFibGU6ITF9KSx0aGlzLmNvbnRleHRtZW51SW5wdXQ9bmV3IE10KHQsdGhpcy5fb25PdGhlckV2ZW50LHtlbmFibGU6ITF9KTt2YXIgcz0hMCx1PSExLGM9dm9pZCAwO3RyeXtmb3IodmFyIGwsaD10aGlzLmV2ZW50c1tTeW1ib2wuaXRlcmF0b3JdKCk7IShzPShsPWgubmV4dCgpKS5kb25lKTtzPSEwKXt2YXIgZj1PYmplY3QoYXQuYSkobC52YWx1ZSwyKSxkPWZbMF0sdj1mWzFdO3YuaXNFbXB0eSgpfHwodGhpcy5fdG9nZ2xlUmVjb2duaXplcih2LnJlY29nbml6ZXJOYW1lLCEwKSx0aGlzLm1hbmFnZXIub24oZCx2LmhhbmRsZUV2ZW50KSl9fWNhdGNoKHQpe3U9ITAsYz10fWZpbmFsbHl7dHJ5e3N8fG51bGw9PWgucmV0dXJufHxoLnJldHVybigpfWZpbmFsbHl7aWYodSl0aHJvdyBjfX19fX0se2tleToiZGVzdHJveSIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLmVsZW1lbnQmJih0aGlzLndoZWVsSW5wdXQuZGVzdHJveSgpLHRoaXMubW92ZUlucHV0LmRlc3Ryb3koKSx0aGlzLmtleUlucHV0LmRlc3Ryb3koKSx0aGlzLmNvbnRleHRtZW51SW5wdXQuZGVzdHJveSgpLHRoaXMubWFuYWdlci5kZXN0cm95KCksdGhpcy53aGVlbElucHV0PW51bGwsdGhpcy5tb3ZlSW5wdXQ9bnVsbCx0aGlzLmtleUlucHV0PW51bGwsdGhpcy5jb250ZXh0bWVudUlucHV0PW51bGwsdGhpcy5tYW5hZ2VyPW51bGwsdGhpcy5lbGVtZW50PW51bGwpfX0se2tleToib24iLHZhbHVlOmZ1bmN0aW9uKHQsZSxuKXt0aGlzLl9hZGRFdmVudEhhbmRsZXIodCxlLG4sITEpfX0se2tleToib25jZSIsdmFsdWU6ZnVuY3Rpb24odCxlLG4pe3RoaXMuX2FkZEV2ZW50SGFuZGxlcih0LGUsbiwhMCl9fSx7a2V5OiJvZmYiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dGhpcy5fcmVtb3ZlRXZlbnRIYW5kbGVyKHQsZSl9fSx7a2V5OiJfdG9nZ2xlUmVjb2duaXplciIsdmFsdWU6ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLm1hbmFnZXI7aWYobil7dmFyIHI9bi5nZXQodCk7aWYociYmci5vcHRpb25zLmVuYWJsZSE9PWUpe3Iuc2V0KHtlbmFibGU6ZX0pO3ZhciBpPWR0W3RdO2kmJiF0aGlzLm9wdGlvbnMucmVjb2duaXplcnMmJmkuZm9yRWFjaCgoZnVuY3Rpb24oaSl7dmFyIGE9bi5nZXQoaSk7ZT8oYS5yZXF1aXJlRmFpbHVyZSh0KSxyLmRyb3BSZXF1aXJlRmFpbHVyZShpKSk6YS5kcm9wUmVxdWlyZUZhaWx1cmUodCl9KSl9dGhpcy53aGVlbElucHV0LmVuYWJsZUV2ZW50VHlwZSh0LGUpLHRoaXMubW92ZUlucHV0LmVuYWJsZUV2ZW50VHlwZSh0LGUpLHRoaXMua2V5SW5wdXQuZW5hYmxlRXZlbnRUeXBlKHQsZSksdGhpcy5jb250ZXh0bWVudUlucHV0LmVuYWJsZUV2ZW50VHlwZSh0LGUpfX19LHtrZXk6Il9hZGRFdmVudEhhbmRsZXIiLHZhbHVlOmZ1bmN0aW9uKHQsZSxuLHIpe2lmKCJzdHJpbmciPT10eXBlb2YgdCl7dmFyIGk9dGhpcy5tYW5hZ2VyLGE9dGhpcy5ldmVudHMsbz1idFt0XXx8dCxzPWEuZ2V0KG8pO3N8fChzPW5ldyBJdCh0aGlzKSxhLnNldChvLHMpLHMucmVjb2duaXplck5hbWU9bXRbb118fG8saSYmaS5vbihvLHMuaGFuZGxlRXZlbnQpKSx0aGlzLl90b2dnbGVSZWNvZ25pemVyKHMucmVjb2duaXplck5hbWUsITApLHMuYWRkKHQsZSxuLHIpfWVsc2UgZm9yKHZhciB1IGluIG49ZSx0KXRoaXMuX2FkZEV2ZW50SGFuZGxlcih1LHRbdV0sbixyKX19LHtrZXk6Il9yZW1vdmVFdmVudEhhbmRsZXIiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7aWYoInN0cmluZyI9PXR5cGVvZiB0KXt2YXIgbj10aGlzLmV2ZW50cyxyPWJ0W3RdfHx0LGk9bi5nZXQocik7aWYoaSYmKGkucmVtb3ZlKHQsZSksaS5pc0VtcHR5KCkpKXt2YXIgYT1pLnJlY29nbml6ZXJOYW1lLG89ITEscz0hMCx1PSExLGM9dm9pZCAwO3RyeXtmb3IodmFyIGwsaD1uLnZhbHVlcygpW1N5bWJvbC5pdGVyYXRvcl0oKTshKHM9KGw9aC5uZXh0KCkpLmRvbmUpO3M9ITApe3ZhciBmPWwudmFsdWU7aWYoZi5yZWNvZ25pemVyTmFtZT09PWEmJiFmLmlzRW1wdHkoKSl7bz0hMDticmVha319fWNhdGNoKHQpe3U9ITAsYz10fWZpbmFsbHl7dHJ5e3N8fG51bGw9PWgucmV0dXJufHxoLnJldHVybigpfWZpbmFsbHl7aWYodSl0aHJvdyBjfX1vfHx0aGlzLl90b2dnbGVSZWNvZ25pemVyKGEsITEpfX1lbHNlIGZvcih2YXIgZCBpbiB0KXRoaXMuX3JlbW92ZUV2ZW50SGFuZGxlcihkLHRbZF0pfX0se2tleToiX29uQmFzaWNJbnB1dCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dC5zcmNFdmVudCxuPXZ0W2UudHlwZV07biYmdGhpcy5tYW5hZ2VyLmVtaXQobix0KX19LHtrZXk6Il9vbk90aGVyRXZlbnQiLHZhbHVlOmZ1bmN0aW9uKHQpe3RoaXMubWFuYWdlci5lbWl0KHQudHlwZSx0KX19XSksdH0oKSxEdD1uKDIyKTtmdW5jdGlvbiBGdCh0LGUpe3ZhciBuPU9iamVjdC5rZXlzKHQpO2lmKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciByPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHModCk7ZSYmKHI9ci5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHQsZSkuZW51bWVyYWJsZX0pKSksbi5wdXNoLmFwcGx5KG4scil9cmV0dXJuIG59ZnVuY3Rpb24genQoKXt9bi5kKGUsImEiLChmdW5jdGlvbigpe3JldHVybiBVdH0pKTt2YXIgQnQ9e2lkOiJkZWNrZ2wtb3ZlcmxheSIsd2lkdGg6IjEwMCUiLGhlaWdodDoiMTAwJSIscGlja2luZ1JhZGl1czowLGxheWVyRmlsdGVyOm51bGwsZ2xPcHRpb25zOnt9LGdsOm51bGwsbGF5ZXJzOltdLGVmZmVjdHM6W10sdmlld3M6bnVsbCxjb250cm9sbGVyOm51bGwsdXNlRGV2aWNlUGl4ZWxzOiEwLHRvdWNoQWN0aW9uOiJub25lIixfZnJhbWVidWZmZXI6bnVsbCxfYW5pbWF0ZTohMSxvbldlYkdMSW5pdGlhbGl6ZWQ6enQsb25SZXNpemU6enQsb25WaWV3U3RhdGVDaGFuZ2U6enQsb25CZWZvcmVSZW5kZXI6enQsb25BZnRlclJlbmRlcjp6dCxvbkxvYWQ6enQsb25FcnJvcjpudWxsLF9vbk1ldHJpY3M6bnVsbCxnZXRDdXJzb3I6ZnVuY3Rpb24odCl7cmV0dXJuIHQuaXNEcmFnZ2luZz8iZ3JhYmJpbmciOiJncmFiIn0sZGVidWc6ITEsZHJhd1BpY2tpbmdDb2xvcnM6ITF9LFV0PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlKXtvKCkodGhpcyx0KSxlPU9iamVjdC5hc3NpZ24oe30sQnQsZSksdGhpcy5wcm9wcz17fSx0aGlzLndpZHRoPTAsdGhpcy5oZWlnaHQ9MCx0aGlzLnZpZXdNYW5hZ2VyPW51bGwsdGhpcy5sYXllck1hbmFnZXI9bnVsbCx0aGlzLmVmZmVjdE1hbmFnZXI9bnVsbCx0aGlzLmRlY2tSZW5kZXJlcj1udWxsLHRoaXMuZGVja1BpY2tlcj1udWxsLHRoaXMuX25lZWRzUmVkcmF3PSEwLHRoaXMuX3BpY2tSZXF1ZXN0PXt9LHRoaXMuX2xhc3RQb2ludGVyRG93bkluZm89bnVsbCx0aGlzLnZpZXdTdGF0ZT1udWxsLHRoaXMuaW50ZXJhY3RpdmVTdGF0ZT17aXNEcmFnZ2luZzohMX0sdGhpcy5fb25FdmVudD10aGlzLl9vbkV2ZW50LmJpbmQodGhpcyksdGhpcy5fb25Qb2ludGVyRG93bj10aGlzLl9vblBvaW50ZXJEb3duLmJpbmQodGhpcyksdGhpcy5fb25Qb2ludGVyTW92ZT10aGlzLl9vblBvaW50ZXJNb3ZlLmJpbmQodGhpcyksdGhpcy5fcGlja0FuZENhbGxiYWNrPXRoaXMuX3BpY2tBbmRDYWxsYmFjay5iaW5kKHRoaXMpLHRoaXMuX29uUmVuZGVyZXJJbml0aWFsaXplZD10aGlzLl9vblJlbmRlcmVySW5pdGlhbGl6ZWQuYmluZCh0aGlzKSx0aGlzLl9vblJlbmRlckZyYW1lPXRoaXMuX29uUmVuZGVyRnJhbWUuYmluZCh0aGlzKSx0aGlzLl9vblZpZXdTdGF0ZUNoYW5nZT10aGlzLl9vblZpZXdTdGF0ZUNoYW5nZS5iaW5kKHRoaXMpLHRoaXMuX29uSW50ZXJhY3RpdmVTdGF0ZUNoYW5nZT10aGlzLl9vbkludGVyYWN0aXZlU3RhdGVDaGFuZ2UuYmluZCh0aGlzKSxlLnZpZXdTdGF0ZSYmZS5pbml0aWFsVmlld1N0YXRlJiZmLmEud2FybigiVmlldyBzdGF0ZSB0cmFja2luZyBpcyBkaXNhYmxlZC4gVXNlIGVpdGhlciBgaW5pdGlhbFZpZXdTdGF0ZWAgZm9yIGF1dG8gdXBkYXRlIG9yIGB2aWV3U3RhdGVgIGZvciBtYW51YWwgdXBkYXRlLiIpKCksIklFIj09PU9iamVjdChJLmdldEJyb3dzZXIpKCkmJmYuYS53YXJuKCJJRSAxMSBzdXBwb3J0IHdpbGwgYmUgZGVwcmVjYXRlZCBpbiB2OC4wIikoKSxlLmdsfHwidW5kZWZpbmVkIiE9dHlwZW9mIGRvY3VtZW50JiYodGhpcy5jYW52YXM9dGhpcy5fY3JlYXRlQ2FudmFzKGUpKSx0aGlzLmFuaW1hdGlvbkxvb3A9dGhpcy5fY3JlYXRlQW5pbWF0aW9uTG9vcChlKSx0aGlzLnN0YXRzPW5ldyBpdC5hKHtpZDoiZGVjay5nbCJ9KSx0aGlzLm1ldHJpY3M9e2ZwczowLHNldFByb3BzVGltZTowLHVwZGF0ZUF0dHJpYnV0ZXNUaW1lOjAsZnJhbWVzUmVkcmF3bjowLHBpY2tUaW1lOjAscGlja0NvdW50OjAsZ3B1VGltZTowLGdwdVRpbWVQZXJGcmFtZTowLGNwdVRpbWU6MCxjcHVUaW1lUGVyRnJhbWU6MCxidWZmZXJNZW1vcnk6MCx0ZXh0dXJlTWVtb3J5OjAscmVuZGVyYnVmZmVyTWVtb3J5OjAsZ3B1TWVtb3J5OjB9LHRoaXMuX21ldHJpY3NDb3VudGVyPTAsdGhpcy5zZXRQcm9wcyhlKSx0aGlzLmFuaW1hdGlvbkxvb3Auc3RhcnQoKX1yZXR1cm4gdSgpKHQsW3trZXk6ImZpbmFsaXplIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuYW5pbWF0aW9uTG9vcC5zdG9wKCksdGhpcy5hbmltYXRpb25Mb29wPW51bGwsdGhpcy5fbGFzdFBvaW50ZXJEb3duSW5mbz1udWxsLHRoaXMubGF5ZXJNYW5hZ2VyJiYodGhpcy5sYXllck1hbmFnZXIuZmluYWxpemUoKSx0aGlzLmxheWVyTWFuYWdlcj1udWxsLHRoaXMudmlld01hbmFnZXIuZmluYWxpemUoKSx0aGlzLnZpZXdNYW5hZ2VyPW51bGwsdGhpcy5lZmZlY3RNYW5hZ2VyLmZpbmFsaXplKCksdGhpcy5lZmZlY3RNYW5hZ2VyPW51bGwsdGhpcy5kZWNrUmVuZGVyZXIuZmluYWxpemUoKSx0aGlzLmRlY2tSZW5kZXJlcj1udWxsLHRoaXMuZGVja1BpY2tlci5maW5hbGl6ZSgpLHRoaXMuZGVja1BpY2tlcj1udWxsLHRoaXMuZXZlbnRNYW5hZ2VyLmRlc3Ryb3koKSx0aGlzLmV2ZW50TWFuYWdlcj1udWxsLHRoaXMudG9vbHRpcC5yZW1vdmUoKSx0aGlzLnRvb2x0aXA9bnVsbCksdGhpcy5wcm9wcy5jYW52YXN8fHRoaXMucHJvcHMuZ2x8fCF0aGlzLmNhbnZhc3x8KHRoaXMuY2FudmFzLnBhcmVudEVsZW1lbnQucmVtb3ZlQ2hpbGQodGhpcy5jYW52YXMpLHRoaXMuY2FudmFzPW51bGwpfX0se2tleToic2V0UHJvcHMiLHZhbHVlOmZ1bmN0aW9uKHQpe3RoaXMuc3RhdHMuZ2V0KCJzZXRQcm9wcyBUaW1lIikudGltZVN0YXJ0KCksIm9uTGF5ZXJIb3ZlciJpbiB0JiZmLmEucmVtb3ZlZCgib25MYXllckhvdmVyIiwib25Ib3ZlciIpKCksIm9uTGF5ZXJDbGljayJpbiB0JiZmLmEucmVtb3ZlZCgib25MYXllckNsaWNrIiwib25DbGljayIpKCksdC5pbml0aWFsVmlld1N0YXRlJiYhT2JqZWN0KGguYSkodGhpcy5wcm9wcy5pbml0aWFsVmlld1N0YXRlLHQuaW5pdGlhbFZpZXdTdGF0ZSkmJih0aGlzLnZpZXdTdGF0ZT10LmluaXRpYWxWaWV3U3RhdGUpLE9iamVjdC5hc3NpZ24odGhpcy5wcm9wcyx0KSx0aGlzLl9zZXRDYW52YXNTaXplKHRoaXMucHJvcHMpO3ZhciBlPU9iamVjdC5jcmVhdGUodGhpcy5wcm9wcyk7T2JqZWN0LmFzc2lnbihlLHt2aWV3czp0aGlzLl9nZXRWaWV3cygpLHdpZHRoOnRoaXMud2lkdGgsaGVpZ2h0OnRoaXMuaGVpZ2h0LHZpZXdTdGF0ZTp0aGlzLl9nZXRWaWV3U3RhdGUoKX0pLHRoaXMuYW5pbWF0aW9uTG9vcC5zZXRQcm9wcyhlKSx0aGlzLmxheWVyTWFuYWdlciYmKHRoaXMudmlld01hbmFnZXIuc2V0UHJvcHMoZSksdGhpcy5sYXllck1hbmFnZXIuc2V0UHJvcHMoZSksdGhpcy5lZmZlY3RNYW5hZ2VyLnNldFByb3BzKGUpLHRoaXMuZGVja1JlbmRlcmVyLnNldFByb3BzKGUpLHRoaXMuZGVja1BpY2tlci5zZXRQcm9wcyhlKSksdGhpcy5zdGF0cy5nZXQoInNldFByb3BzIFRpbWUiKS50aW1lRW5kKCl9fSx7a2V5OiJuZWVkc1JlZHJhdyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e2NsZWFyUmVkcmF3RmxhZ3M6ITF9O2lmKHRoaXMucHJvcHMuX2FuaW1hdGUpcmV0dXJuIkRlY2suX2FuaW1hdGUiO3ZhciBlPXRoaXMuX25lZWRzUmVkcmF3O3QuY2xlYXJSZWRyYXdGbGFncyYmKHRoaXMuX25lZWRzUmVkcmF3PSExKTt2YXIgbj10aGlzLnZpZXdNYW5hZ2VyLm5lZWRzUmVkcmF3KHQpLHI9dGhpcy5sYXllck1hbmFnZXIubmVlZHNSZWRyYXcodCksaT10aGlzLmVmZmVjdE1hbmFnZXIubmVlZHNSZWRyYXcodCksYT10aGlzLmRlY2tSZW5kZXJlci5uZWVkc1JlZHJhdyh0KTtyZXR1cm4gZT1lfHxufHxyfHxpfHxhfX0se2tleToicmVkcmF3Iix2YWx1ZTpmdW5jdGlvbih0KXtpZih0aGlzLmxheWVyTWFuYWdlcil7dmFyIGU9dHx8dGhpcy5uZWVkc1JlZHJhdyh7Y2xlYXJSZWRyYXdGbGFnczohMH0pO2UmJih0aGlzLnN0YXRzLmdldCgiUmVkcmF3IENvdW50IikuaW5jcmVtZW50Q291bnQoKSx0aGlzLnByb3BzLl9jdXN0b21SZW5kZXI/dGhpcy5wcm9wcy5fY3VzdG9tUmVuZGVyKGUpOnRoaXMuX2RyYXdMYXllcnMoZSkpfX19LHtrZXk6ImdldFZpZXdzIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnZpZXdNYW5hZ2VyLnZpZXdzfX0se2tleToiZ2V0Vmlld3BvcnRzIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy52aWV3TWFuYWdlci5nZXRWaWV3cG9ydHModCl9fSx7a2V5OiJwaWNrT2JqZWN0Iix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLl9waWNrKCJwaWNrT2JqZWN0IiwicGlja09iamVjdCBUaW1lIix0KS5yZXN1bHQ7cmV0dXJuIGUubGVuZ3RoP2VbMF06bnVsbH19LHtrZXk6InBpY2tNdWx0aXBsZU9iamVjdHMiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0LmRlcHRoPXQuZGVwdGh8fDEwLHRoaXMuX3BpY2soInBpY2tPYmplY3QiLCJwaWNrTXVsdGlwbGVPYmplY3RzIFRpbWUiLHQpLnJlc3VsdH19LHtrZXk6InBpY2tPYmplY3RzIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fcGljaygicGlja09iamVjdHMiLCJwaWNrT2JqZWN0cyBUaW1lIix0KX19LHtrZXk6Il9waWNrIix2YWx1ZTpmdW5jdGlvbih0LGUsbil7dmFyIHI9dGhpcy5zdGF0cztyLmdldCgiUGljayBDb3VudCIpLmluY3JlbWVudENvdW50KCksci5nZXQoZSkudGltZVN0YXJ0KCk7dmFyIGk9dGhpcy5kZWNrUGlja2VyW3RdKE9iamVjdC5hc3NpZ24oe2xheWVyczp0aGlzLmxheWVyTWFuYWdlci5nZXRMYXllcnMobiksdmlld3BvcnRzOnRoaXMuZ2V0Vmlld3BvcnRzKG4pLG9uVmlld3BvcnRBY3RpdmU6dGhpcy5sYXllck1hbmFnZXIuYWN0aXZhdGVWaWV3cG9ydH0sbikpO3JldHVybiByLmdldChlKS50aW1lRW5kKCksaX19LHtrZXk6Il9jcmVhdGVDYW52YXMiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXQuY2FudmFzOygic3RyaW5nIj09dHlwZW9mIGUmJihlPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGUpLE9iamVjdChsLmEpKGUpKSxlKXx8KGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiY2FudmFzIiksKHQucGFyZW50fHxkb2N1bWVudC5ib2R5KS5hcHBlbmRDaGlsZChlKSk7dmFyIG49dC5pZCxyPXQuc3R5bGU7cmV0dXJuIGUuaWQ9bixPYmplY3QuYXNzaWduKGUuc3R5bGUsciksZX19LHtrZXk6Il9zZXRDYW52YXNTaXplIix2YWx1ZTpmdW5jdGlvbih0KXtpZih0aGlzLmNhbnZhcyl7dmFyIGU9dC53aWR0aCxuPXQuaGVpZ2h0OyhlfHwwPT09ZSkmJihlPU51bWJlci5pc0Zpbml0ZShlKT8iIi5jb25jYXQoZSwicHgiKTplLHRoaXMuY2FudmFzLnN0eWxlLndpZHRoPWUpLChufHwwPT09bikmJihuPU51bWJlci5pc0Zpbml0ZShuKT8iIi5jb25jYXQobiwicHgiKTpuLHRoaXMuY2FudmFzLnN0eWxlLnBvc2l0aW9uPSJhYnNvbHV0ZSIsdGhpcy5jYW52YXMuc3R5bGUuaGVpZ2h0PW4pfX19LHtrZXk6Il91cGRhdGVDYW52YXNTaXplIix2YWx1ZTpmdW5jdGlvbigpe2lmKHRoaXMuX2NoZWNrRm9yQ2FudmFzU2l6ZUNoYW5nZSgpKXt2YXIgdD10aGlzLndpZHRoLGU9dGhpcy5oZWlnaHQ7dGhpcy52aWV3TWFuYWdlci5zZXRQcm9wcyh7d2lkdGg6dCxoZWlnaHQ6ZX0pLHRoaXMucHJvcHMub25SZXNpemUoe3dpZHRoOnRoaXMud2lkdGgsaGVpZ2h0OnRoaXMuaGVpZ2h0fSl9fX0se2tleToiX2NoZWNrRm9yQ2FudmFzU2l6ZUNoYW5nZSIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmNhbnZhcztpZighdClyZXR1cm4hMTt2YXIgZT10LmNsaWVudFdpZHRofHx0LndpZHRoLG49dC5jbGllbnRIZWlnaHR8fHQuaGVpZ2h0O3JldHVybihlIT09dGhpcy53aWR0aHx8biE9PXRoaXMuaGVpZ2h0KSYmKHRoaXMud2lkdGg9ZSx0aGlzLmhlaWdodD1uLCEwKX19LHtrZXk6Il9jcmVhdGVBbmltYXRpb25Mb29wIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLG49dC53aWR0aCxyPXQuaGVpZ2h0LGk9dC5nbCxhPXQuZ2xPcHRpb25zLG89dC5kZWJ1ZyxzPXQudXNlRGV2aWNlUGl4ZWxzLHU9dC5hdXRvUmVzaXplRHJhd2luZ0J1ZmZlcjtyZXR1cm4gbmV3IG50KHt3aWR0aDpuLGhlaWdodDpyLHVzZURldmljZVBpeGVsczpzLGF1dG9SZXNpemVEcmF3aW5nQnVmZmVyOnUsYXV0b1Jlc2l6ZVZpZXdwb3J0OiExLGdsOmksb25DcmVhdGVDb250ZXh0OmZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3Qody5hKShPYmplY3QuYXNzaWduKHt9LGEsdCx7Y2FudmFzOmUuY2FudmFzLGRlYnVnOm99KSl9LG9uSW5pdGlhbGl6ZTp0aGlzLl9vblJlbmRlcmVySW5pdGlhbGl6ZWQsb25SZW5kZXI6dGhpcy5fb25SZW5kZXJGcmFtZSxvbkJlZm9yZVJlbmRlcjp0Lm9uQmVmb3JlUmVuZGVyLG9uQWZ0ZXJSZW5kZXI6dC5vbkFmdGVyUmVuZGVyfSl9fSx7a2V5OiJfZ2V0Vmlld1N0YXRlIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnByb3BzLnZpZXdTdGF0ZXx8dGhpcy52aWV3U3RhdGV9fSx7a2V5OiJfZ2V0Vmlld3MiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5wcm9wcy52aWV3c3x8W25ldyBwLmEoe2lkOiJkZWZhdWx0LXZpZXcifSldO3JldHVybih0PUFycmF5LmlzQXJyYXkodCk/dDpbdF0pLmxlbmd0aCYmdGhpcy5wcm9wcy5jb250cm9sbGVyJiYodFswXS5wcm9wcy5jb250cm9sbGVyPXRoaXMucHJvcHMuY29udHJvbGxlciksdH19LHtrZXk6Il9vblBvaW50ZXJNb3ZlIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLl9waWNrUmVxdWVzdDtpZigicG9pbnRlcmxlYXZlIj09PXQudHlwZSllLng9LTEsZS55PS0xLGUucmFkaXVzPTA7ZWxzZXtpZih0LmxlZnRCdXR0b258fHQucmlnaHRCdXR0b24pcmV0dXJuO3ZhciBuPXQub2Zmc2V0Q2VudGVyO2lmKCFuKXJldHVybjtlLng9bi54LGUueT1uLnksZS5yYWRpdXM9dGhpcy5wcm9wcy5waWNraW5nUmFkaXVzfXRoaXMubGF5ZXJNYW5hZ2VyJiYodGhpcy5sYXllck1hbmFnZXIuY29udGV4dC5tb3VzZVBvc2l0aW9uPXt4OmUueCx5OmUueX0pLGUuZXZlbnQ9dCxlLm1vZGU9ImhvdmVyIn19LHtrZXk6Il9waWNrQW5kQ2FsbGJhY2siLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fcGlja1JlcXVlc3Q7aWYodC5ldmVudCl7dmFyIGU9dGhpcy5fcGljaygicGlja09iamVjdCIsInBpY2tPYmplY3QgVGltZSIsdCksbj1lLnJlc3VsdCxyPWUuZW1wdHlJbmZvLGk9blswXXx8cjtpZih0aGlzLnByb3BzLmdldFRvb2x0aXApe3ZhciBhPXRoaXMucHJvcHMuZ2V0VG9vbHRpcChpKTt0aGlzLnRvb2x0aXAuc2V0VG9vbHRpcChhLGkueCxpLnkpfXZhciBvPSExO2kubGF5ZXImJihvPWkubGF5ZXIub25Ib3ZlcihpLHQuZXZlbnQpKSwhbyYmdGhpcy5wcm9wcy5vbkhvdmVyJiZ0aGlzLnByb3BzLm9uSG92ZXIoaSx0LmV2ZW50KSx0LmV2ZW50PW51bGx9fX0se2tleToiX3VwZGF0ZUN1cnNvciIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnByb3BzLnBhcmVudHx8dGhpcy5jYW52YXM7dCYmKHQuc3R5bGUuY3Vyc29yPXRoaXMucHJvcHMuZ2V0Q3Vyc29yKHRoaXMuaW50ZXJhY3RpdmVTdGF0ZSkpfX0se2tleToiX3NldEdMQ29udGV4dCIsdmFsdWU6ZnVuY3Rpb24odCl7aWYoIXRoaXMubGF5ZXJNYW5hZ2VyKXt0aGlzLmNhbnZhc3x8KHRoaXMuY2FudmFzPXQuY2FudmFzLE9iamVjdCh3LmUpKHQse2VuYWJsZTohMCxjb3B5U3RhdGU6ITB9KSksdGhpcy50b29sdGlwPW5ldyBDKHRoaXMuY2FudmFzKSxPYmplY3Qody5rKSh0LHtibGVuZDohMCxibGVuZEZ1bmM6Wzc3MCw3NzEsMSw3NzFdLHBvbHlnb25PZmZzZXRGaWxsOiEwLGRlcHRoVGVzdDohMCxkZXB0aEZ1bmM6NTE1fSksdGhpcy5wcm9wcy5vbldlYkdMSW5pdGlhbGl6ZWQodCk7dmFyIGU9bmV3IHJ0LmE7Zm9yKHZhciBuIGluIGUucGxheSgpLHRoaXMuYW5pbWF0aW9uTG9vcC5hdHRhY2hUaW1lbGluZShlKSx0aGlzLmV2ZW50TWFuYWdlcj1uZXcgTnQodGhpcy5wcm9wcy5wYXJlbnR8fHQuY2FudmFzLHt0b3VjaEFjdGlvbjp0aGlzLnByb3BzLnRvdWNoQWN0aW9uLGV2ZW50czp7cG9pbnRlcmRvd246dGhpcy5fb25Qb2ludGVyRG93bixwb2ludGVybW92ZTp0aGlzLl9vblBvaW50ZXJNb3ZlLHBvaW50ZXJsZWF2ZTp0aGlzLl9vblBvaW50ZXJNb3ZlfX0pLER0LmIpdGhpcy5ldmVudE1hbmFnZXIub24obix0aGlzLl9vbkV2ZW50KTt0aGlzLnZpZXdNYW5hZ2VyPW5ldyB2KHt0aW1lbGluZTplLGV2ZW50TWFuYWdlcjp0aGlzLmV2ZW50TWFuYWdlcixvblZpZXdTdGF0ZUNoYW5nZTp0aGlzLl9vblZpZXdTdGF0ZUNoYW5nZSxvbkludGVyYWN0aXZlU3RhdGVDaGFuZ2U6dGhpcy5fb25JbnRlcmFjdGl2ZVN0YXRlQ2hhbmdlLHZpZXdzOnRoaXMuX2dldFZpZXdzKCksdmlld1N0YXRlOnRoaXMuX2dldFZpZXdTdGF0ZSgpLHdpZHRoOnRoaXMud2lkdGgsaGVpZ2h0OnRoaXMuaGVpZ2h0fSk7dmFyIHI9dGhpcy52aWV3TWFuYWdlci5nZXRWaWV3cG9ydHMoKVswXTt0aGlzLmxheWVyTWFuYWdlcj1uZXcgYy5hKHQse2RlY2s6dGhpcyxzdGF0czp0aGlzLnN0YXRzLHZpZXdwb3J0OnIsdGltZWxpbmU6ZX0pLHRoaXMuZWZmZWN0TWFuYWdlcj1uZXcgbSx0aGlzLmRlY2tSZW5kZXJlcj1uZXcgXy5hKHQpLHRoaXMuZGVja1BpY2tlcj1uZXcgQSh0KSx0aGlzLnNldFByb3BzKHRoaXMucHJvcHMpLHRoaXMuX3VwZGF0ZUNhbnZhc1NpemUoKSx0aGlzLnByb3BzLm9uTG9hZCgpfX19LHtrZXk6Il9kcmF3TGF5ZXJzIix2YWx1ZTpmdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMubGF5ZXJNYW5hZ2VyLmNvbnRleHQuZ2w7T2JqZWN0KHcuaykobix0aGlzLnByb3BzLnBhcmFtZXRlcnMpLHRoaXMucHJvcHMub25CZWZvcmVSZW5kZXIoe2dsOm59KSx0aGlzLmRlY2tSZW5kZXJlci5yZW5kZXJMYXllcnMoT2JqZWN0LmFzc2lnbih7dGFyZ2V0OnRoaXMucHJvcHMuX2ZyYW1lYnVmZmVyLGxheWVyczp0aGlzLmxheWVyTWFuYWdlci5nZXRMYXllcnMoKSx2aWV3cG9ydHM6dGhpcy52aWV3TWFuYWdlci5nZXRWaWV3cG9ydHMoKSxvblZpZXdwb3J0QWN0aXZlOnRoaXMubGF5ZXJNYW5hZ2VyLmFjdGl2YXRlVmlld3BvcnQsdmlld3M6dGhpcy52aWV3TWFuYWdlci5nZXRWaWV3cygpLHBhc3M6InNjcmVlbiIscmVkcmF3UmVhc29uOnQsZWZmZWN0czp0aGlzLmVmZmVjdE1hbmFnZXIuZ2V0RWZmZWN0cygpfSxlKSksdGhpcy5wcm9wcy5vbkFmdGVyUmVuZGVyKHtnbDpufSl9fSx7a2V5OiJfb25SZW5kZXJlckluaXRpYWxpemVkIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10LmdsO3RoaXMuX3NldEdMQ29udGV4dChlKX19LHtrZXk6Il9vblJlbmRlckZyYW1lIix2YWx1ZTpmdW5jdGlvbih0KXt0aGlzLl9nZXRGcmFtZVN0YXRzKCksdGhpcy5fbWV0cmljc0NvdW50ZXIrKyU2MD09MCYmKHRoaXMuX2dldE1ldHJpY3MoKSx0aGlzLnN0YXRzLnJlc2V0KCksZi5hLnRhYmxlKDQsdGhpcy5tZXRyaWNzKSgpLHRoaXMucHJvcHMuX29uTWV0cmljcyYmdGhpcy5wcm9wcy5fb25NZXRyaWNzKHRoaXMubWV0cmljcykpLHRoaXMuX3VwZGF0ZUNhbnZhc1NpemUoKSx0aGlzLl91cGRhdGVDdXJzb3IoKSx0aGlzLmxheWVyTWFuYWdlci51cGRhdGVMYXllcnMoKSx0aGlzLl9waWNrQW5kQ2FsbGJhY2soKSx0aGlzLnJlZHJhdyghMSksdGhpcy52aWV3TWFuYWdlciYmdGhpcy52aWV3TWFuYWdlci51cGRhdGVWaWV3U3RhdGVzKCl9fSx7a2V5OiJfb25WaWV3U3RhdGVDaGFuZ2UiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMucHJvcHMub25WaWV3U3RhdGVDaGFuZ2UodCl8fHQudmlld1N0YXRlO3RoaXMudmlld1N0YXRlJiYodGhpcy52aWV3U3RhdGU9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPTE7ZTxhcmd1bWVudHMubGVuZ3RoO2UrKyl7dmFyIG49bnVsbCE9YXJndW1lbnRzW2VdP2FyZ3VtZW50c1tlXTp7fTtlJTI/RnQoT2JqZWN0KG4pLCEwKS5mb3JFYWNoKChmdW5jdGlvbihlKXtpKCkodCxlLG5bZV0pfSkpOk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzP09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHQsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMobikpOkZ0KE9iamVjdChuKSkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsZSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG4sZSkpfSkpfXJldHVybiB0fSh7fSx0aGlzLnZpZXdTdGF0ZSxpKCkoe30sdC52aWV3SWQsZSkpLHRoaXMucHJvcHMudmlld1N0YXRlfHx0aGlzLnZpZXdNYW5hZ2VyLnNldFByb3BzKHt2aWV3U3RhdGU6dGhpcy52aWV3U3RhdGV9KSl9fSx7a2V5OiJfb25JbnRlcmFjdGl2ZVN0YXRlQ2hhbmdlIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10LmlzRHJhZ2dpbmcsbj12b2lkIDAhPT1lJiZlO24hPT10aGlzLmludGVyYWN0aXZlU3RhdGUuaXNEcmFnZ2luZyYmKHRoaXMuaW50ZXJhY3RpdmVTdGF0ZS5pc0RyYWdnaW5nPW4pfX0se2tleToiX29uRXZlbnQiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPUR0LmJbdC50eXBlXSxuPXQub2Zmc2V0Q2VudGVyO2lmKGUmJm4pe3ZhciByPXRoaXMubGF5ZXJNYW5hZ2VyLmdldExheWVycygpLGk9dGhpcy5kZWNrUGlja2VyLmdldExhc3RQaWNrZWRPYmplY3Qoe3g6bi54LHk6bi55LGxheWVyczpyLHZpZXdwb3J0czp0aGlzLmdldFZpZXdwb3J0cyhuKX0sdGhpcy5fbGFzdFBvaW50ZXJEb3duSW5mbyksYT1pLmxheWVyLG89YSYmKGFbZS5oYW5kbGVyXXx8YS5wcm9wc1tlLmhhbmRsZXJdKSxzPXRoaXMucHJvcHNbZS5oYW5kbGVyXSx1PSExO28mJih1PW8uY2FsbChhLGksdCkpLCF1JiZzJiZzKGksdCl9fX0se2tleToiX29uUG9pbnRlckRvd24iLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXQub2Zmc2V0Q2VudGVyO3RoaXMuX2xhc3RQb2ludGVyRG93bkluZm89dGhpcy5waWNrT2JqZWN0KHt4OmUueCx5OmUueSxyYWRpdXM6dGhpcy5wcm9wcy5waWNraW5nUmFkaXVzfSl9fSx7a2V5OiJfZ2V0RnJhbWVTdGF0cyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnN0YXRzO3QuZ2V0KCJmcmFtZVJhdGUiKS50aW1lRW5kKCksdC5nZXQoImZyYW1lUmF0ZSIpLnRpbWVTdGFydCgpO3ZhciBlPXRoaXMuYW5pbWF0aW9uTG9vcC5zdGF0czt0LmdldCgiR1BVIFRpbWUiKS5hZGRUaW1lKGUuZ2V0KCJHUFUgVGltZSIpLmxhc3RUaW1pbmcpLHQuZ2V0KCJDUFUgVGltZSIpLmFkZFRpbWUoZS5nZXQoIkNQVSBUaW1lIikubGFzdFRpbWluZyl9fSx7a2V5OiJfZ2V0TWV0cmljcyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLm1ldHJpY3MsZT10aGlzLnN0YXRzO3QuZnBzPWUuZ2V0KCJmcmFtZVJhdGUiKS5nZXRIeigpLHQuc2V0UHJvcHNUaW1lPWUuZ2V0KCJzZXRQcm9wcyBUaW1lIikudGltZSx0LnVwZGF0ZUF0dHJpYnV0ZXNUaW1lPWUuZ2V0KCJVcGRhdGUgQXR0cmlidXRlcyIpLnRpbWUsdC5mcmFtZXNSZWRyYXduPWUuZ2V0KCJSZWRyYXcgQ291bnQiKS5jb3VudCx0LnBpY2tUaW1lPWUuZ2V0KCJwaWNrT2JqZWN0IFRpbWUiKS50aW1lK2UuZ2V0KCJwaWNrTXVsdGlwbGVPYmplY3RzIFRpbWUiKS50aW1lK2UuZ2V0KCJwaWNrT2JqZWN0cyBUaW1lIikudGltZSx0LnBpY2tDb3VudD1lLmdldCgiUGljayBDb3VudCIpLmNvdW50LHQuZ3B1VGltZT1lLmdldCgiR1BVIFRpbWUiKS50aW1lLHQuY3B1VGltZT1lLmdldCgiQ1BVIFRpbWUiKS50aW1lLHQuZ3B1VGltZVBlckZyYW1lPWUuZ2V0KCJHUFUgVGltZSIpLmdldEF2ZXJhZ2VUaW1lKCksdC5jcHVUaW1lUGVyRnJhbWU9ZS5nZXQoIkNQVSBUaW1lIikuZ2V0QXZlcmFnZVRpbWUoKTt2YXIgbj1VLmEuZ2V0KCJNZW1vcnkgVXNhZ2UiKTt0LmJ1ZmZlck1lbW9yeT1uLmdldCgiQnVmZmVyIE1lbW9yeSIpLmNvdW50LHQudGV4dHVyZU1lbW9yeT1uLmdldCgiVGV4dHVyZSBNZW1vcnkiKS5jb3VudCx0LnJlbmRlcmJ1ZmZlck1lbW9yeT1uLmdldCgiUmVuZGVyYnVmZmVyIE1lbW9yeSIpLmNvdW50LHQuZ3B1TWVtb3J5PW4uZ2V0KCJHUFUgTWVtb3J5IikuY291bnR9fV0pLHR9KCk7VXQuZ2V0UHJvcFR5cGVzPWZ1bmN0aW9uKHQpe3JldHVybntpZDp0LnN0cmluZyx3aWR0aDp0Lm9uZU9mVHlwZShbdC5udW1iZXIsdC5zdHJpbmddKSxoZWlnaHQ6dC5vbmVPZlR5cGUoW3QubnVtYmVyLHQuc3RyaW5nXSksbGF5ZXJzOnQub25lT2ZUeXBlKFt0Lm9iamVjdCx0LmFycmF5XSksbGF5ZXJGaWx0ZXI6dC5mdW5jLHZpZXdzOnQub25lT2ZUeXBlKFt0Lm9iamVjdCx0LmFycmF5XSksdmlld1N0YXRlOnQub2JqZWN0LGVmZmVjdHM6dC5hcnJheU9mKHQuaW5zdGFuY2VPZihiLmEpKSxjb250cm9sbGVyOnQub25lT2ZUeXBlKFt0LmZ1bmMsdC5ib29sLHQub2JqZWN0XSksZ2w6dC5vYmplY3QsZ2xPcHRpb25zOnQub2JqZWN0LHBhcmFtZXRlcnM6dC5vYmplY3QscGlja2luZ1JhZGl1czp0Lm51bWJlcix1c2VEZXZpY2VQaXhlbHM6dC5vbmVPZlR5cGUoW3QuYm9vbCx0Lm51bWJlcl0pLHRvdWNoQWN0aW9uOnQuc3RyaW5nLG9uV2ViR0xJbml0aWFsaXplZDp0LmZ1bmMsb25SZXNpemU6dC5mdW5jLG9uVmlld1N0YXRlQ2hhbmdlOnQuZnVuYyxvbkJlZm9yZVJlbmRlcjp0LmZ1bmMsb25BZnRlclJlbmRlcjp0LmZ1bmMsb25Mb2FkOnQuZnVuYyxvbkVycm9yOnQuZnVuYyxkZWJ1Zzp0LmJvb2wsZHJhd1BpY2tpbmdDb2xvcnM6dC5ib29sLF9mcmFtZWJ1ZmZlcjp0Lm9iamVjdCxfYW5pbWF0ZTp0LmJvb2x9fSxVdC5kZWZhdWx0UHJvcHM9QnQsVXQuVkVSU0lPTj1MLmEuVkVSU0lPTn0sZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKDEpLGk9bi5uKHIpLGE9bigyKSxvPW4ubihhKSxzPW4oOSksdT1uLm4ocyksYz1uKDMpLGw9bi5uKGMpLGg9bigxMiksZj1uLm4oaCksZD1uKDEwKSx2PW4ubihkKSxwPW4oNDEpLGc9bi5uKHApLHk9bigyMyksbT1uKDIwMiksYj1uKDIyMCksXz1uKDExOCksTz1uKDExKSx4PXtuYW1lOiJwYnIiLHZzOiJ1bmlmb3JtIG1hdDQgdV9NVlBNYXRyaXg7XG51bmlmb3JtIG1hdDQgdV9Nb2RlbE1hdHJpeDtcbnVuaWZvcm0gbWF0NCB1X05vcm1hbE1hdHJpeDtcblxudmFyeWluZyB2ZWMzIHBicl92UG9zaXRpb247XG52YXJ5aW5nIHZlYzIgcGJyX3ZVVjtcblxuI2lmZGVmIEhBU19OT1JNQUxTXG4jIGlmZGVmIEhBU19UQU5HRU5UU1xudmFyeWluZyBtYXQzIHBicl92VEJOO1xuIyBlbHNlXG52YXJ5aW5nIHZlYzMgcGJyX3ZOb3JtYWw7XG4jIGVuZGlmXG4jZW5kaWZcblxudm9pZCBwYnJfc2V0UG9zaXRpb25Ob3JtYWxUYW5nZW50VVYodmVjNCBwb3NpdGlvbiwgdmVjNCBub3JtYWwsIHZlYzQgdGFuZ2VudCwgdmVjMiB1dilcbntcbiAgdmVjNCBwb3MgPSB1X01vZGVsTWF0cml4ICogcG9zaXRpb247XG4gIHBicl92UG9zaXRpb24gPSB2ZWMzKHBvcy54eXopIC8gcG9zLnc7XG5cbiNpZmRlZiBIQVNfTk9STUFMU1xuI2lmZGVmIEhBU19UQU5HRU5UU1xuICB2ZWMzIG5vcm1hbFcgPSBub3JtYWxpemUodmVjMyh1X05vcm1hbE1hdHJpeCAqIHZlYzQobm9ybWFsLnh5eiwgMC4wKSkpO1xuICB2ZWMzIHRhbmdlbnRXID0gbm9ybWFsaXplKHZlYzModV9Nb2RlbE1hdHJpeCAqIHZlYzQodGFuZ2VudC54eXosIDAuMCkpKTtcbiAgdmVjMyBiaXRhbmdlbnRXID0gY3Jvc3Mobm9ybWFsVywgdGFuZ2VudFcpICogdGFuZ2VudC53O1xuICBwYnJfdlRCTiA9IG1hdDModGFuZ2VudFcsIGJpdGFuZ2VudFcsIG5vcm1hbFcpO1xuI2Vsc2VcbiAgcGJyX3ZOb3JtYWwgPSBub3JtYWxpemUodmVjMyh1X01vZGVsTWF0cml4ICogdmVjNChub3JtYWwueHl6LCAwLjApKSk7XG4jZW5kaWZcbiNlbmRpZlxuXG4jaWZkZWYgSEFTX1VWXG4gIHBicl92VVYgPSB1djtcbiNlbHNlXG4gIHBicl92VVYgPSB2ZWMyKDAuLDAuKTtcbiNlbmRpZlxufVxuIixmczoiI2lmIChfX1ZFUlNJT05fXyA8IDMwMClcbiNleHRlbnNpb24gR0xfRVhUX3NoYWRlcl90ZXh0dXJlX2xvZDogZW5hYmxlXG4jZXh0ZW5zaW9uIEdMX09FU19zdGFuZGFyZF9kZXJpdmF0aXZlcyA6IGVuYWJsZVxuI2VuZGlmXG5cblxuI2lmIChfX1ZFUlNJT05fXyA8IDMwMClcbiAgI2RlZmluZSBTTUFSVF9GT1IoSU5JVCwgV0VCR0wxQ09ORCwgV0VCR0wyQ09ORCwgSU5DUikgZm9yIChJTklUOyBXRUJHTDFDT05EOyBJTkNSKVxuI2Vsc2VcbiAgI2RlZmluZSBTTUFSVF9GT1IoSU5JVCwgV0VCR0wxQ09ORCwgV0VCR0wyQ09ORCwgSU5DUikgZm9yIChJTklUOyBXRUJHTDJDT05EOyBJTkNSKVxuI2VuZGlmXG5cbnByZWNpc2lvbiBoaWdocCBmbG9hdDtcblxuI2lmZGVmIFVTRV9JQkxcbnVuaWZvcm0gc2FtcGxlckN1YmUgdV9EaWZmdXNlRW52U2FtcGxlcjtcbnVuaWZvcm0gc2FtcGxlckN1YmUgdV9TcGVjdWxhckVudlNhbXBsZXI7XG51bmlmb3JtIHNhbXBsZXIyRCB1X2JyZGZMVVQ7XG51bmlmb3JtIHZlYzIgdV9TY2FsZUlCTEFtYmllbnQ7XG4jZW5kaWZcblxuI2lmZGVmIEhBU19CQVNFQ09MT1JNQVBcbnVuaWZvcm0gc2FtcGxlcjJEIHVfQmFzZUNvbG9yU2FtcGxlcjtcbiNlbmRpZlxuI2lmZGVmIEhBU19OT1JNQUxNQVBcbnVuaWZvcm0gc2FtcGxlcjJEIHVfTm9ybWFsU2FtcGxlcjtcbnVuaWZvcm0gZmxvYXQgdV9Ob3JtYWxTY2FsZTtcbiNlbmRpZlxuI2lmZGVmIEhBU19FTUlTU0lWRU1BUFxudW5pZm9ybSBzYW1wbGVyMkQgdV9FbWlzc2l2ZVNhbXBsZXI7XG51bmlmb3JtIHZlYzMgdV9FbWlzc2l2ZUZhY3RvcjtcbiNlbmRpZlxuI2lmZGVmIEhBU19NRVRBTFJPVUdITkVTU01BUFxudW5pZm9ybSBzYW1wbGVyMkQgdV9NZXRhbGxpY1JvdWdobmVzc1NhbXBsZXI7XG4jZW5kaWZcbiNpZmRlZiBIQVNfT0NDTFVTSU9OTUFQXG51bmlmb3JtIHNhbXBsZXIyRCB1X09jY2x1c2lvblNhbXBsZXI7XG51bmlmb3JtIGZsb2F0IHVfT2NjbHVzaW9uU3RyZW5ndGg7XG4jZW5kaWZcblxuI2lmZGVmIEFMUEhBX0NVVE9GRlxudW5pZm9ybSBmbG9hdCB1X0FscGhhQ3V0b2ZmO1xuI2VuZGlmXG5cbnVuaWZvcm0gdmVjMiB1X01ldGFsbGljUm91Z2huZXNzVmFsdWVzO1xudW5pZm9ybSB2ZWM0IHVfQmFzZUNvbG9yRmFjdG9yO1xuXG51bmlmb3JtIHZlYzMgdV9DYW1lcmE7XG4jaWZkZWYgUEJSX0RFQlVHXG51bmlmb3JtIHZlYzQgdV9TY2FsZURpZmZCYXNlTVI7XG51bmlmb3JtIHZlYzQgdV9TY2FsZUZHRFNwZWM7XG4jZW5kaWZcblxudmFyeWluZyB2ZWMzIHBicl92UG9zaXRpb247XG5cbnZhcnlpbmcgdmVjMiBwYnJfdlVWO1xuXG4jaWZkZWYgSEFTX05PUk1BTFNcbiNpZmRlZiBIQVNfVEFOR0VOVFNcbnZhcnlpbmcgbWF0MyBwYnJfdlRCTjtcbiNlbHNlXG52YXJ5aW5nIHZlYzMgcGJyX3ZOb3JtYWw7XG4jZW5kaWZcbiNlbmRpZlxuXG5cbnN0cnVjdCBQQlJJbmZvXG57XG4gIGZsb2F0IE5kb3RMO1xuICBmbG9hdCBOZG90VjtcbiAgZmxvYXQgTmRvdEg7XG4gIGZsb2F0IExkb3RIO1xuICBmbG9hdCBWZG90SDtcbiAgZmxvYXQgcGVyY2VwdHVhbFJvdWdobmVzcztcbiAgZmxvYXQgbWV0YWxuZXNzO1xuICB2ZWMzIHJlZmxlY3RhbmNlMDtcbiAgdmVjMyByZWZsZWN0YW5jZTkwO1xuICBmbG9hdCBhbHBoYVJvdWdobmVzcztcbiAgdmVjMyBkaWZmdXNlQ29sb3I7XG4gIHZlYzMgc3BlY3VsYXJDb2xvcjtcbiAgdmVjMyBuO1xuICB2ZWMzIHY7XG59O1xuXG5jb25zdCBmbG9hdCBNX1BJID0gMy4xNDE1OTI2NTM1ODk3OTM7XG5jb25zdCBmbG9hdCBjX01pblJvdWdobmVzcyA9IDAuMDQ7XG5cbnZlYzQgU1JHQnRvTElORUFSKHZlYzQgc3JnYkluKVxue1xuI2lmZGVmIE1BTlVBTF9TUkdCXG4jaWZkZWYgU1JHQl9GQVNUX0FQUFJPWElNQVRJT05cbiAgdmVjMyBsaW5PdXQgPSBwb3coc3JnYkluLnh5eix2ZWMzKDIuMikpO1xuI2Vsc2VcbiAgdmVjMyBiTGVzcyA9IHN0ZXAodmVjMygwLjA0MDQ1KSxzcmdiSW4ueHl6KTtcbiAgdmVjMyBsaW5PdXQgPSBtaXgoIHNyZ2JJbi54eXovdmVjMygxMi45MiksIHBvdygoc3JnYkluLnh5eit2ZWMzKDAuMDU1KSkvdmVjMygxLjA1NSksdmVjMygyLjQpKSwgYkxlc3MgKTtcbiNlbmRpZlxuICByZXR1cm4gdmVjNChsaW5PdXQsc3JnYkluLncpOztcbiNlbHNlXG4gIHJldHVybiBzcmdiSW47XG4jZW5kaWZcbn1cblxudmVjMyBnZXROb3JtYWwoKVxue1xuI2lmbmRlZiBIQVNfVEFOR0VOVFNcbiAgdmVjMyBwb3NfZHggPSBkRmR4KHBicl92UG9zaXRpb24pO1xuICB2ZWMzIHBvc19keSA9IGRGZHkocGJyX3ZQb3NpdGlvbik7XG4gIHZlYzMgdGV4X2R4ID0gZEZkeCh2ZWMzKHBicl92VVYsIDAuMCkpO1xuICB2ZWMzIHRleF9keSA9IGRGZHkodmVjMyhwYnJfdlVWLCAwLjApKTtcbiAgdmVjMyB0ID0gKHRleF9keS50ICogcG9zX2R4IC0gdGV4X2R4LnQgKiBwb3NfZHkpIC8gKHRleF9keC5zICogdGV4X2R5LnQgLSB0ZXhfZHkucyAqIHRleF9keC50KTtcblxuI2lmZGVmIEhBU19OT1JNQUxTXG4gIHZlYzMgbmcgPSBub3JtYWxpemUocGJyX3ZOb3JtYWwpO1xuI2Vsc2VcbiAgdmVjMyBuZyA9IGNyb3NzKHBvc19keCwgcG9zX2R5KTtcbiNlbmRpZlxuXG4gIHQgPSBub3JtYWxpemUodCAtIG5nICogZG90KG5nLCB0KSk7XG4gIHZlYzMgYiA9IG5vcm1hbGl6ZShjcm9zcyhuZywgdCkpO1xuICBtYXQzIHRibiA9IG1hdDModCwgYiwgbmcpO1xuI2Vsc2VcbiAgbWF0MyB0Ym4gPSBwYnJfdlRCTjtcbiNlbmRpZlxuXG4jaWZkZWYgSEFTX05PUk1BTE1BUFxuICB2ZWMzIG4gPSB0ZXh0dXJlMkQodV9Ob3JtYWxTYW1wbGVyLCBwYnJfdlVWKS5yZ2I7XG4gIG4gPSBub3JtYWxpemUodGJuICogKCgyLjAgKiBuIC0gMS4wKSAqIHZlYzModV9Ob3JtYWxTY2FsZSwgdV9Ob3JtYWxTY2FsZSwgMS4wKSkpO1xuI2Vsc2VcbiAgdmVjMyBuID0gbm9ybWFsaXplKHRiblsyXS54eXopO1xuI2VuZGlmXG5cbiAgcmV0dXJuIG47XG59XG5cblxuI2lmZGVmIFVTRV9JQkxcbnZlYzMgZ2V0SUJMQ29udHJpYnV0aW9uKFBCUkluZm8gcGJySW5wdXRzLCB2ZWMzIG4sIHZlYzMgcmVmbGVjdGlvbilcbntcbiAgZmxvYXQgbWlwQ291bnQgPSA5LjA7XG4gIGZsb2F0IGxvZCA9IChwYnJJbnB1dHMucGVyY2VwdHVhbFJvdWdobmVzcyAqIG1pcENvdW50KTtcbiAgdmVjMyBicmRmID0gU1JHQnRvTElORUFSKHRleHR1cmUyRCh1X2JyZGZMVVQsXG4gICAgdmVjMihwYnJJbnB1dHMuTmRvdFYsIDEuMCAtIHBicklucHV0cy5wZXJjZXB0dWFsUm91Z2huZXNzKSkpLnJnYjtcbiAgdmVjMyBkaWZmdXNlTGlnaHQgPSBTUkdCdG9MSU5FQVIodGV4dHVyZUN1YmUodV9EaWZmdXNlRW52U2FtcGxlciwgbikpLnJnYjtcblxuI2lmZGVmIFVTRV9URVhfTE9EXG4gIHZlYzMgc3BlY3VsYXJMaWdodCA9IFNSR0J0b0xJTkVBUih0ZXh0dXJlQ3ViZUxvZEVYVCh1X1NwZWN1bGFyRW52U2FtcGxlciwgcmVmbGVjdGlvbiwgbG9kKSkucmdiO1xuI2Vsc2VcbiAgdmVjMyBzcGVjdWxhckxpZ2h0ID0gU1JHQnRvTElORUFSKHRleHR1cmVDdWJlKHVfU3BlY3VsYXJFbnZTYW1wbGVyLCByZWZsZWN0aW9uKSkucmdiO1xuI2VuZGlmXG5cbiAgdmVjMyBkaWZmdXNlID0gZGlmZnVzZUxpZ2h0ICogcGJySW5wdXRzLmRpZmZ1c2VDb2xvcjtcbiAgdmVjMyBzcGVjdWxhciA9IHNwZWN1bGFyTGlnaHQgKiAocGJySW5wdXRzLnNwZWN1bGFyQ29sb3IgKiBicmRmLnggKyBicmRmLnkpO1xuICBkaWZmdXNlICo9IHVfU2NhbGVJQkxBbWJpZW50Lng7XG4gIHNwZWN1bGFyICo9IHVfU2NhbGVJQkxBbWJpZW50Lnk7XG5cbiAgcmV0dXJuIGRpZmZ1c2UgKyBzcGVjdWxhcjtcbn1cbiNlbmRpZlxuXG5cbnZlYzMgZGlmZnVzZShQQlJJbmZvIHBicklucHV0cylcbntcbiAgcmV0dXJuIHBicklucHV0cy5kaWZmdXNlQ29sb3IgLyBNX1BJO1xufVxuXG52ZWMzIHNwZWN1bGFyUmVmbGVjdGlvbihQQlJJbmZvIHBicklucHV0cylcbntcbiAgcmV0dXJuIHBicklucHV0cy5yZWZsZWN0YW5jZTAgK1xuICAgIChwYnJJbnB1dHMucmVmbGVjdGFuY2U5MCAtIHBicklucHV0cy5yZWZsZWN0YW5jZTApICpcbiAgICBwb3coY2xhbXAoMS4wIC0gcGJySW5wdXRzLlZkb3RILCAwLjAsIDEuMCksIDUuMCk7XG59XG5cblxuXG5mbG9hdCBnZW9tZXRyaWNPY2NsdXNpb24oUEJSSW5mbyBwYnJJbnB1dHMpXG57XG4gIGZsb2F0IE5kb3RMID0gcGJySW5wdXRzLk5kb3RMO1xuICBmbG9hdCBOZG90ViA9IHBicklucHV0cy5OZG90VjtcbiAgZmxvYXQgciA9IHBicklucHV0cy5hbHBoYVJvdWdobmVzcztcblxuICBmbG9hdCBhdHRlbnVhdGlvbkwgPSAyLjAgKiBOZG90TCAvIChOZG90TCArIHNxcnQociAqIHIgKyAoMS4wIC0gciAqIHIpICogKE5kb3RMICogTmRvdEwpKSk7XG4gIGZsb2F0IGF0dGVudWF0aW9uViA9IDIuMCAqIE5kb3RWIC8gKE5kb3RWICsgc3FydChyICogciArICgxLjAgLSByICogcikgKiAoTmRvdFYgKiBOZG90VikpKTtcbiAgcmV0dXJuIGF0dGVudWF0aW9uTCAqIGF0dGVudWF0aW9uVjtcbn1cblxuXG5cblxuXG5mbG9hdCBtaWNyb2ZhY2V0RGlzdHJpYnV0aW9uKFBCUkluZm8gcGJySW5wdXRzKVxue1xuICBmbG9hdCByb3VnaG5lc3NTcSA9IHBicklucHV0cy5hbHBoYVJvdWdobmVzcyAqIHBicklucHV0cy5hbHBoYVJvdWdobmVzcztcbiAgZmxvYXQgZiA9IChwYnJJbnB1dHMuTmRvdEggKiByb3VnaG5lc3NTcSAtIHBicklucHV0cy5OZG90SCkgKiBwYnJJbnB1dHMuTmRvdEggKyAxLjA7XG4gIHJldHVybiByb3VnaG5lc3NTcSAvIChNX1BJICogZiAqIGYpO1xufVxuXG52b2lkIFBCUkluZm9fc2V0QW1iaWVudExpZ2h0KGlub3V0IFBCUkluZm8gcGJySW5wdXRzKSB7XG4gIHBicklucHV0cy5OZG90TCA9IDEuMDtcbiAgcGJySW5wdXRzLk5kb3RIID0gMC4wO1xuICBwYnJJbnB1dHMuTGRvdEggPSAwLjA7XG4gIHBicklucHV0cy5WZG90SCA9IDEuMDtcbn1cblxudm9pZCBQQlJJbmZvX3NldERpcmVjdGlvbmFsTGlnaHQoaW5vdXQgUEJSSW5mbyBwYnJJbnB1dHMsIHZlYzMgbGlnaHREaXJlY3Rpb24pIHtcbiAgdmVjMyBuID0gcGJySW5wdXRzLm47XG4gIHZlYzMgdiA9IHBicklucHV0cy52O1xuICB2ZWMzIGwgPSBub3JtYWxpemUobGlnaHREaXJlY3Rpb24pO1xuICB2ZWMzIGggPSBub3JtYWxpemUobCt2KTtcblxuICBwYnJJbnB1dHMuTmRvdEwgPSBjbGFtcChkb3QobiwgbCksIDAuMDAxLCAxLjApO1xuICBwYnJJbnB1dHMuTmRvdEggPSBjbGFtcChkb3QobiwgaCksIDAuMCwgMS4wKTtcbiAgcGJySW5wdXRzLkxkb3RIID0gY2xhbXAoZG90KGwsIGgpLCAwLjAsIDEuMCk7XG4gIHBicklucHV0cy5WZG90SCA9IGNsYW1wKGRvdCh2LCBoKSwgMC4wLCAxLjApO1xufVxuXG52b2lkIFBCUkluZm9fc2V0UG9pbnRMaWdodChpbm91dCBQQlJJbmZvIHBicklucHV0cywgUG9pbnRMaWdodCBwb2ludExpZ2h0KSB7XG4gIHZlYzMgbGlnaHRfZGlyZWN0aW9uID0gbm9ybWFsaXplKHBvaW50TGlnaHQucG9zaXRpb24gLSBwYnJfdlBvc2l0aW9uKTtcbiAgUEJSSW5mb19zZXREaXJlY3Rpb25hbExpZ2h0KHBicklucHV0cywgbGlnaHRfZGlyZWN0aW9uKTtcbn1cblxudmVjMyBjYWxjdWxhdGVGaW5hbENvbG9yKFBCUkluZm8gcGJySW5wdXRzLCB2ZWMzIGxpZ2h0Q29sb3IpIHtcbiAgdmVjMyBGID0gc3BlY3VsYXJSZWZsZWN0aW9uKHBicklucHV0cyk7XG4gIGZsb2F0IEcgPSBnZW9tZXRyaWNPY2NsdXNpb24ocGJySW5wdXRzKTtcbiAgZmxvYXQgRCA9IG1pY3JvZmFjZXREaXN0cmlidXRpb24ocGJySW5wdXRzKTtcbiAgdmVjMyBkaWZmdXNlQ29udHJpYiA9ICgxLjAgLSBGKSAqIGRpZmZ1c2UocGJySW5wdXRzKTtcbiAgdmVjMyBzcGVjQ29udHJpYiA9IEYgKiBHICogRCAvICg0LjAgKiBwYnJJbnB1dHMuTmRvdEwgKiBwYnJJbnB1dHMuTmRvdFYpO1xuICByZXR1cm4gcGJySW5wdXRzLk5kb3RMICogbGlnaHRDb2xvciAqIChkaWZmdXNlQ29udHJpYiArIHNwZWNDb250cmliKTtcbn1cblxudmVjNCBwYnJfZmlsdGVyQ29sb3IodmVjNCBjb2xvclVudXNlZClcbntcblxuXG4gIGZsb2F0IHBlcmNlcHR1YWxSb3VnaG5lc3MgPSB1X01ldGFsbGljUm91Z2huZXNzVmFsdWVzLnk7XG4gIGZsb2F0IG1ldGFsbGljID0gdV9NZXRhbGxpY1JvdWdobmVzc1ZhbHVlcy54O1xuI2lmZGVmIEhBU19NRVRBTFJPVUdITkVTU01BUFxuXG4gIHZlYzQgbXJTYW1wbGUgPSB0ZXh0dXJlMkQodV9NZXRhbGxpY1JvdWdobmVzc1NhbXBsZXIsIHBicl92VVYpO1xuICBwZXJjZXB0dWFsUm91Z2huZXNzID0gbXJTYW1wbGUuZyAqIHBlcmNlcHR1YWxSb3VnaG5lc3M7XG4gIG1ldGFsbGljID0gbXJTYW1wbGUuYiAqIG1ldGFsbGljO1xuI2VuZGlmXG4gIHBlcmNlcHR1YWxSb3VnaG5lc3MgPSBjbGFtcChwZXJjZXB0dWFsUm91Z2huZXNzLCBjX01pblJvdWdobmVzcywgMS4wKTtcbiAgbWV0YWxsaWMgPSBjbGFtcChtZXRhbGxpYywgMC4wLCAxLjApO1xuXG4gIGZsb2F0IGFscGhhUm91Z2huZXNzID0gcGVyY2VwdHVhbFJvdWdobmVzcyAqIHBlcmNlcHR1YWxSb3VnaG5lc3M7XG4jaWZkZWYgSEFTX0JBU0VDT0xPUk1BUFxuICB2ZWM0IGJhc2VDb2xvciA9IFNSR0J0b0xJTkVBUih0ZXh0dXJlMkQodV9CYXNlQ29sb3JTYW1wbGVyLCBwYnJfdlVWKSkgKiB1X0Jhc2VDb2xvckZhY3RvcjtcbiNlbHNlXG4gIHZlYzQgYmFzZUNvbG9yID0gdV9CYXNlQ29sb3JGYWN0b3I7XG4jZW5kaWZcblxuI2lmZGVmIEFMUEhBX0NVVE9GRlxuICBpZiAoYmFzZUNvbG9yLmEgPCB1X0FscGhhQ3V0b2ZmKSB7XG4gICAgZGlzY2FyZDtcbiAgfVxuI2VuZGlmXG5cbiAgdmVjMyBmMCA9IHZlYzMoMC4wNCk7XG4gIHZlYzMgZGlmZnVzZUNvbG9yID0gYmFzZUNvbG9yLnJnYiAqICh2ZWMzKDEuMCkgLSBmMCk7XG4gIGRpZmZ1c2VDb2xvciAqPSAxLjAgLSBtZXRhbGxpYztcbiAgdmVjMyBzcGVjdWxhckNvbG9yID0gbWl4KGYwLCBiYXNlQ29sb3IucmdiLCBtZXRhbGxpYyk7XG4gIGZsb2F0IHJlZmxlY3RhbmNlID0gbWF4KG1heChzcGVjdWxhckNvbG9yLnIsIHNwZWN1bGFyQ29sb3IuZyksIHNwZWN1bGFyQ29sb3IuYik7XG5cblxuXG4gIGZsb2F0IHJlZmxlY3RhbmNlOTAgPSBjbGFtcChyZWZsZWN0YW5jZSAqIDI1LjAsIDAuMCwgMS4wKTtcbiAgdmVjMyBzcGVjdWxhckVudmlyb25tZW50UjAgPSBzcGVjdWxhckNvbG9yLnJnYjtcbiAgdmVjMyBzcGVjdWxhckVudmlyb25tZW50UjkwID0gdmVjMygxLjAsIDEuMCwgMS4wKSAqIHJlZmxlY3RhbmNlOTA7XG5cbiAgdmVjMyBuID0gZ2V0Tm9ybWFsKCk7XG4gIHZlYzMgdiA9IG5vcm1hbGl6ZSh1X0NhbWVyYSAtIHBicl92UG9zaXRpb24pO1xuXG4gIGZsb2F0IE5kb3RWID0gY2xhbXAoYWJzKGRvdChuLCB2KSksIDAuMDAxLCAxLjApO1xuICB2ZWMzIHJlZmxlY3Rpb24gPSAtbm9ybWFsaXplKHJlZmxlY3QodiwgbikpO1xuXG4gIFBCUkluZm8gcGJySW5wdXRzID0gUEJSSW5mbyhcbiAgICAwLjAsXG4gICAgTmRvdFYsXG4gICAgMC4wLFxuICAgIDAuMCxcbiAgICAwLjAsXG4gICAgcGVyY2VwdHVhbFJvdWdobmVzcyxcbiAgICBtZXRhbGxpYyxcbiAgICBzcGVjdWxhckVudmlyb25tZW50UjAsXG4gICAgc3BlY3VsYXJFbnZpcm9ubWVudFI5MCxcbiAgICBhbHBoYVJvdWdobmVzcyxcbiAgICBkaWZmdXNlQ29sb3IsXG4gICAgc3BlY3VsYXJDb2xvcixcbiAgICBuLFxuICAgIHZcbiAgKTtcblxuICB2ZWMzIGNvbG9yID0gdmVjMygwLCAwLCAwKTtcblxuI2lmZGVmIFVTRV9MSUdIVFNcbiAgUEJSSW5mb19zZXRBbWJpZW50TGlnaHQocGJySW5wdXRzKTtcbiAgY29sb3IgKz0gY2FsY3VsYXRlRmluYWxDb2xvcihwYnJJbnB1dHMsIGxpZ2h0aW5nX3VBbWJpZW50TGlnaHQuY29sb3IpO1xuICBTTUFSVF9GT1IoaW50IGkgPSAwLCBpIDwgTUFYX0xJR0hUUywgaSA8IGxpZ2h0aW5nX3VEaXJlY3Rpb25hbExpZ2h0Q291bnQsIGkrKykge1xuICAgIGlmIChpIDwgbGlnaHRpbmdfdURpcmVjdGlvbmFsTGlnaHRDb3VudCkge1xuICAgICAgUEJSSW5mb19zZXREaXJlY3Rpb25hbExpZ2h0KHBicklucHV0cywgbGlnaHRpbmdfdURpcmVjdGlvbmFsTGlnaHRbaV0uZGlyZWN0aW9uKTtcbiAgICAgIGNvbG9yICs9IGNhbGN1bGF0ZUZpbmFsQ29sb3IocGJySW5wdXRzLCBsaWdodGluZ191RGlyZWN0aW9uYWxMaWdodFtpXS5jb2xvcik7XG4gICAgfVxuICB9XG4gIFNNQVJUX0ZPUihpbnQgaSA9IDAsIGkgPCBNQVhfTElHSFRTLCBpIDwgbGlnaHRpbmdfdVBvaW50TGlnaHRDb3VudCwgaSsrKSB7XG4gICAgaWYgKGkgPCBsaWdodGluZ191UG9pbnRMaWdodENvdW50KSB7XG4gICAgICBQQlJJbmZvX3NldFBvaW50TGlnaHQocGJySW5wdXRzLCBsaWdodGluZ191UG9pbnRMaWdodFtpXSk7XG4gICAgICBmbG9hdCBhdHRlbnVhdGlvbiA9IGdldFBvaW50TGlnaHRBdHRlbnVhdGlvbihsaWdodGluZ191UG9pbnRMaWdodFtpXSwgZGlzdGFuY2UobGlnaHRpbmdfdVBvaW50TGlnaHRbaV0ucG9zaXRpb24sIHBicl92UG9zaXRpb24pKTtcbiAgICAgIGNvbG9yICs9IGNhbGN1bGF0ZUZpbmFsQ29sb3IocGJySW5wdXRzLCBsaWdodGluZ191UG9pbnRMaWdodFtpXS5jb2xvciAvIGF0dGVudWF0aW9uKTtcbiAgICB9XG4gIH1cbiNlbmRpZlxuI2lmZGVmIFVTRV9JQkxcbiAgY29sb3IgKz0gZ2V0SUJMQ29udHJpYnV0aW9uKHBicklucHV0cywgbiwgcmVmbGVjdGlvbik7XG4jZW5kaWZcbiNpZmRlZiBIQVNfT0NDTFVTSU9OTUFQXG4gIGZsb2F0IGFvID0gdGV4dHVyZTJEKHVfT2NjbHVzaW9uU2FtcGxlciwgcGJyX3ZVVikucjtcbiAgY29sb3IgPSBtaXgoY29sb3IsIGNvbG9yICogYW8sIHVfT2NjbHVzaW9uU3RyZW5ndGgpO1xuI2VuZGlmXG5cbiNpZmRlZiBIQVNfRU1JU1NJVkVNQVBcbiAgdmVjMyBlbWlzc2l2ZSA9IFNSR0J0b0xJTkVBUih0ZXh0dXJlMkQodV9FbWlzc2l2ZVNhbXBsZXIsIHBicl92VVYpKS5yZ2IgKiB1X0VtaXNzaXZlRmFjdG9yO1xuICBjb2xvciArPSBlbWlzc2l2ZTtcbiNlbmRpZlxuXG4jaWZkZWYgUEJSX0RFQlVHXG5cblxuXG5cblxuICBjb2xvciA9IG1peChjb2xvciwgYmFzZUNvbG9yLnJnYiwgdV9TY2FsZURpZmZCYXNlTVIueSk7XG4gIGNvbG9yID0gbWl4KGNvbG9yLCB2ZWMzKG1ldGFsbGljKSwgdV9TY2FsZURpZmZCYXNlTVIueik7XG4gIGNvbG9yID0gbWl4KGNvbG9yLCB2ZWMzKHBlcmNlcHR1YWxSb3VnaG5lc3MpLCB1X1NjYWxlRGlmZkJhc2VNUi53KTtcbiNlbmRpZlxuXG4gIHJldHVybiB2ZWM0KHBvdyhjb2xvcix2ZWMzKDEuMC8yLjIpKSwgYmFzZUNvbG9yLmEpO1xufVxuIixkZWZpbmVzOntMSUdIVElOR19GUkFHTUVOVDoxfSxkZXBlbmRlbmNpZXM6W24oMTQzKS5hXX0sdz1uKDYpLGs9big3KSxTPW4oOCksUD1uKDExNSksaj1uKDI4KSxUPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fTtPYmplY3Qody5hKSh0aGlzLHQpO3ZhciBuPWUuaWQ7dGhpcy5pZD1ufHxPYmplY3QoUC5jKSh0aGlzLmNvbnN0cnVjdG9yLm5hbWUpLHRoaXMuZGlzcGxheT0hMCx0aGlzLnBvc2l0aW9uPW5ldyBTLmQsdGhpcy5yb3RhdGlvbj1uZXcgUy5kLHRoaXMuc2NhbGU9bmV3IFMuZCgxLDEsMSksdGhpcy5tYXRyaXg9bmV3IFMuYSx0aGlzLnVzZXJEYXRhPXt9LHRoaXMucHJvcHM9e30sdGhpcy5fc2V0U2NlbmVncmFwaE5vZGVQcm9wcyhlKX1yZXR1cm4gT2JqZWN0KGsuYSkodCxbe2tleToiZGVsZXRlIix2YWx1ZTpmdW5jdGlvbigpe319LHtrZXk6InNldFByb3BzIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fc2V0U2NlbmVncmFwaE5vZGVQcm9wcyh0KSx0aGlzfX0se2tleToidG9TdHJpbmciLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuInt0eXBlOiBTY2VuZWdyYXBoTm9kZSwgaWQ6ICIuY29uY2F0KHRoaXMuaWQsIil9Iil9fSx7a2V5OiJzZXRQb3NpdGlvbiIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdChqLmEpKDM9PT10Lmxlbmd0aCwic2V0UG9zaXRpb24gcmVxdWlyZXMgdmVjdG9yIGFyZ3VtZW50IiksdGhpcy5wb3NpdGlvbj10LHRoaXN9fSx7a2V5OiJzZXRSb3RhdGlvbiIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdChqLmEpKDM9PT10Lmxlbmd0aCwic2V0Um90YXRpb24gcmVxdWlyZXMgdmVjdG9yIGFyZ3VtZW50IiksdGhpcy5yb3RhdGlvbj10LHRoaXN9fSx7a2V5OiJzZXRTY2FsZSIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdChqLmEpKDM9PT10Lmxlbmd0aCwic2V0U2NhbGUgcmVxdWlyZXMgdmVjdG9yIGFyZ3VtZW50IiksdGhpcy5zY2FsZT10LHRoaXN9fSx7a2V5OiJzZXRNYXRyaXgiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPSEoYXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0pfHxhcmd1bWVudHNbMV07ZT90aGlzLm1hdHJpeC5jb3B5KHQpOnRoaXMubWF0cml4PXR9fSx7a2V5OiJzZXRNYXRyaXhDb21wb25lbnRzIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10LnBvc2l0aW9uLG49dC5yb3RhdGlvbixyPXQuc2NhbGUsaT10LnVwZGF0ZSxhPXZvaWQgMD09PWl8fGk7cmV0dXJuIGUmJnRoaXMuc2V0UG9zaXRpb24oZSksbiYmdGhpcy5zZXRSb3RhdGlvbihuKSxyJiZ0aGlzLnNldFNjYWxlKHIpLGEmJnRoaXMudXBkYXRlTWF0cml4KCksdGhpc319LHtrZXk6InVwZGF0ZU1hdHJpeCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnBvc2l0aW9uLGU9dGhpcy5yb3RhdGlvbixuPXRoaXMuc2NhbGU7cmV0dXJuIHRoaXMubWF0cml4LmlkZW50aXR5KCksdGhpcy5tYXRyaXgudHJhbnNsYXRlKHQpLHRoaXMubWF0cml4LnJvdGF0ZVhZWihlKSx0aGlzLm1hdHJpeC5zY2FsZShuKSx0aGlzfX0se2tleToidXBkYXRlIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fSxlPXQucG9zaXRpb24sbj10LnJvdGF0aW9uLHI9dC5zY2FsZTtyZXR1cm4gZSYmdGhpcy5zZXRQb3NpdGlvbihlKSxuJiZ0aGlzLnNldFJvdGF0aW9uKG4pLHImJnRoaXMuc2V0U2NhbGUociksdGhpcy51cGRhdGVNYXRyaXgoKSx0aGlzfX0se2tleToiZ2V0Q29vcmRpbmF0ZVVuaWZvcm1zIix2YWx1ZTpmdW5jdGlvbih0LGUpe09iamVjdChqLmEpKHQpLGU9ZXx8dGhpcy5tYXRyaXg7dmFyIG49bmV3IFMuYSh0KS5tdWx0aXBseVJpZ2h0KGUpLHI9bi5pbnZlcnQoKSxpPXIudHJhbnNwb3NlKCk7cmV0dXJue3ZpZXdNYXRyaXg6dCxtb2RlbE1hdHJpeDplLG9iamVjdE1hdHJpeDplLHdvcmxkTWF0cml4Om4sd29ybGRJbnZlcnNlTWF0cml4OnIsd29ybGRJbnZlcnNlVHJhbnNwb3NlTWF0cml4Oml9fX0se2tleToiX3NldFNjZW5lZ3JhcGhOb2RlUHJvcHMiLHZhbHVlOmZ1bmN0aW9uKHQpeyJkaXNwbGF5ImluIHQmJih0aGlzLmRpc3BsYXk9dC5kaXNwbGF5KSwicG9zaXRpb24iaW4gdCYmdGhpcy5zZXRQb3NpdGlvbih0LnBvc2l0aW9uKSwicm90YXRpb24iaW4gdCYmdGhpcy5zZXRSb3RhdGlvbih0LnJvdGF0aW9uKSwic2NhbGUiaW4gdCYmdGhpcy5zZXRTY2FsZSh0LnNjYWxlKSwibWF0cml4ImluIHQmJnRoaXMuc2V0TWF0cml4KHQubWF0cml4KSxPYmplY3QuYXNzaWduKHRoaXMucHJvcHMsdCl9fV0pLHR9KCksRT1uKDQ4KSxBPW4oNzIpLE09bigyNiksQz1uKDE3KSxMPW4oMTUpLEk9big4OCksUj1uKDE4KSxOPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgdCxuPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fTtPYmplY3Qody5hKSh0aGlzLGUpO3ZhciByPW49QXJyYXkuaXNBcnJheShuKT97Y2hpbGRyZW46bn06bixpPXIuY2hpbGRyZW4sYT12b2lkIDA9PT1pP1tdOmk7cmV0dXJuIE8uaC5hc3NlcnQoYS5ldmVyeSgoZnVuY3Rpb24odCl7cmV0dXJuIHQgaW5zdGFuY2VvZiBUfSkpLCJldmVyeSBjaGlsZCBtdXN0IGFuIGluc3RhbmNlIG9mIFNjZW5lZ3JhcGhOb2RlIiksKHQ9T2JqZWN0KEMuYSkodGhpcyxPYmplY3QoTC5hKShlKS5jYWxsKHRoaXMsbikpKS5jaGlsZHJlbj1hLHR9cmV0dXJuIE9iamVjdChSLmEpKGUsdCksT2JqZWN0KGsuYSkoZSxbe2tleToiYWRkIix2YWx1ZTpmdW5jdGlvbigpe2Zvcih2YXIgdD1hcmd1bWVudHMubGVuZ3RoLGU9bmV3IEFycmF5KHQpLG49MDtuPHQ7bisrKWVbbl09YXJndW1lbnRzW25dO2Zvcih2YXIgcj0wLGk9ZTtyPGkubGVuZ3RoO3IrKyl7dmFyIGE9aVtyXTtBcnJheS5pc0FycmF5KGEpP3RoaXMuYWRkLmFwcGx5KHRoaXMsT2JqZWN0KE0uYSkoYSkpOnRoaXMuY2hpbGRyZW4ucHVzaChhKX1yZXR1cm4gdGhpc319LHtrZXk6InJlbW92ZSIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5jaGlsZHJlbixuPWUuaW5kZXhPZih0KTtyZXR1cm4gbj4tMSYmZS5zcGxpY2UobiwxKSx0aGlzfX0se2tleToicmVtb3ZlQWxsIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmNoaWxkcmVuPVtdLHRoaXN9fSx7a2V5OiJkZWxldGUiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5jaGlsZHJlbi5mb3JFYWNoKChmdW5jdGlvbih0KXtyZXR1cm4gdC5kZWxldGUoKX0pKSx0aGlzLnJlbW92ZUFsbCgpLE9iamVjdChJLmEpKE9iamVjdChMLmEpKGUucHJvdG90eXBlKSwiZGVsZXRlIix0aGlzKS5jYWxsKHRoaXMpfX0se2tleToidHJhdmVyc2UiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBuPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp7fSxyPW4ud29ybGRNYXRyaXgsaT12b2lkIDA9PT1yP25ldyBTLmE6cixhPW5ldyBTLmEoaSkubXVsdGlwbHlSaWdodCh0aGlzLm1hdHJpeCksbz0hMCxzPSExLHU9dm9pZCAwO3RyeXtmb3IodmFyIGMsbD10aGlzLmNoaWxkcmVuW1N5bWJvbC5pdGVyYXRvcl0oKTshKG89KGM9bC5uZXh0KCkpLmRvbmUpO289ITApe3ZhciBoPWMudmFsdWU7aCBpbnN0YW5jZW9mIGU/aC50cmF2ZXJzZSh0LHt3b3JsZE1hdHJpeDphfSk6dChoLHt3b3JsZE1hdHJpeDphfSl9fWNhdGNoKHQpe3M9ITAsdT10fWZpbmFsbHl7dHJ5e298fG51bGw9PWwucmV0dXJufHxsLnJldHVybigpfWZpbmFsbHl7aWYocyl0aHJvdyB1fX19fV0pLGV9KFQpLEQ9e1NDQUxBUjoxLFZFQzI6MixWRUMzOjMsVkVDNDo0LE1BVDI6NCxNQVQzOjksTUFUNDoxNn0sRj17NTEyMDpJbnQ4QXJyYXksNTEyMTpVaW50OEFycmF5LDUxMjI6SW50MTZBcnJheSw1MTIzOlVpbnQxNkFycmF5LDUxMjU6VWludDMyQXJyYXksNTEyNjpGbG9hdDMyQXJyYXl9O2Z1bmN0aW9uIHoodCl7aWYoIXQuX2FuaW1hdGlvbil7dmFyIGU9Rlt0LmNvbXBvbmVudFR5cGVdLG49RFt0LnR5cGVdLHI9bip0LmNvdW50LGk9dC5idWZmZXJWaWV3LmRhdGEsYT1uZXcgZShpLmJ1ZmZlcixpLmJ5dGVPZmZzZXQrKHQuYnl0ZU9mZnNldHx8MCkscik7aWYoMT09PW4pdC5fYW5pbWF0aW9uPUFycmF5LmZyb20oYSk7ZWxzZXtmb3IodmFyIG89W10scz0wO3M8YS5sZW5ndGg7cys9bilvLnB1c2goQXJyYXkuZnJvbShhLnNsaWNlKHMscytuKSkpO3QuX2FuaW1hdGlvbj1vfX1yZXR1cm4gdC5fYW5pbWF0aW9ufXZhciBCPW5ldyBTLmE7dmFyIFU9bmV3IFMuYjtmdW5jdGlvbiBWKHQsZSxuLHIpe3ZhciBpPWUuaW5wdXQsYT1lLmludGVycG9sYXRpb24sbz1lLm91dHB1dCxzPXQlaVtpLmxlbmd0aC0xXSx1PWkuZmluZEluZGV4KChmdW5jdGlvbih0KXtyZXR1cm4gdD49c30pKSxjPU1hdGgubWF4KDAsdS0xKTtpZighQXJyYXkuaXNBcnJheShuW3JdKSlzd2l0Y2gocil7Y2FzZSJ0cmFuc2xhdGlvbiI6bltyXT1bMCwwLDBdO2JyZWFrO2Nhc2Uicm90YXRpb24iOm5bcl09WzAsMCwwLDFdO2JyZWFrO2Nhc2Uic2NhbGUiOm5bcl09WzEsMSwxXTticmVhaztkZWZhdWx0Ok8uaC53YXJuKCJCYWQgYW5pbWF0aW9uIHBhdGggIi5jb25jYXQocikpKCl9T2JqZWN0KGouYSkobltyXS5sZW5ndGg9PT1vW2NdLmxlbmd0aCk7dmFyIGw9aVtjXSxoPWlbdV07c3dpdGNoKGEpe2Nhc2UiU1RFUCI6IWZ1bmN0aW9uKHQsZSxuKXtmb3IodmFyIHI9MDtyPG4ubGVuZ3RoO3IrKyl0W2VdW3JdPW5bcl19KG4scixvW2NdKTticmVhaztjYXNlIkxJTkVBUiI6aWYoaD5sKXt2YXIgZj0ocy1sKS8oaC1sKTshZnVuY3Rpb24odCxlLG4scixpKXtpZigicm90YXRpb24iPT09ZSl7VS5zbGVycCh7c3RhcnQ6bix0YXJnZXQ6cixyYXRpbzppfSk7Zm9yKHZhciBhPTA7YTxVLmxlbmd0aDthKyspdFtlXVthXT1VW2FdfWVsc2UgZm9yKHZhciBvPTA7bzxuLmxlbmd0aDtvKyspdFtlXVtvXT1pKnJbb10rKDEtaSkqbltvXX0obixyLG9bY10sb1t1XSxmKX1icmVhaztjYXNlIkNVQklDU1BMSU5FIjppZihoPmwpe3ZhciBkPShzLWwpLyhoLWwpLHY9aC1sOyFmdW5jdGlvbih0LGUsbil7Zm9yKHZhciByPW4ucDAsaT1uLm91dFRhbmdlbnQwLGE9bi5pblRhbmdlbnQxLG89bi5wMSxzPW4udERpZmYsdT1uLnJhdGlvLGM9MDtjPHRbZV0ubGVuZ3RoO2MrKyl7dmFyIGw9aVtjXSpzLGg9YVtjXSpzO3RbZV1bY109KDIqTWF0aC5wb3codSwzKS0zKk1hdGgucG93KHUsMikrMSkqcltjXSsoTWF0aC5wb3codSwzKS0yKk1hdGgucG93KHUsMikrdSkqbCsoLTIqTWF0aC5wb3codSwzKSszKk1hdGgucG93KHUsMikpKm9bY10rKE1hdGgucG93KHUsMyktTWF0aC5wb3codSwyKSkqaH19KG4scix7cDA6b1szKmMrMV0sb3V0VGFuZ2VudDA6b1szKmMrMl0saW5UYW5nZW50MTpvWzMqdSswXSxwMTpvWzMqdSsxXSx0RGlmZjp2LHJhdGlvOmR9KX1icmVhaztkZWZhdWx0Ok8uaC53YXJuKCJJbnRlcnBvbGF0aW9uICIuY29uY2F0KGEsIiBub3Qgc3VwcG9ydGVkIikpKCl9fXZhciBHPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlKXtPYmplY3Qody5hKSh0aGlzLHQpLHRoaXMuc3RhcnRUaW1lPTAsdGhpcy5wbGF5aW5nPSEwLHRoaXMuc3BlZWQ9MSxPYmplY3QuYXNzaWduKHRoaXMsZSl9cmV0dXJuIE9iamVjdChrLmEpKHQsW3trZXk6ImFuaW1hdGUiLHZhbHVlOmZ1bmN0aW9uKHQpe2lmKHRoaXMucGxheWluZyl7dmFyIGU9KHQvMWUzLXRoaXMuc3RhcnRUaW1lKSp0aGlzLnNwZWVkO3RoaXMuY2hhbm5lbHMuZm9yRWFjaCgoZnVuY3Rpb24odCl7dmFyIG49dC5zYW1wbGVyLHI9dC50YXJnZXQsaT10LnBhdGg7VihlLG4scixpKSxmdW5jdGlvbih0LGUpe2lmKGUubWF0cml4LmlkZW50aXR5KCksdC50cmFuc2xhdGlvbiYmZS5tYXRyaXgudHJhbnNsYXRlKHQudHJhbnNsYXRpb24pLHQucm90YXRpb24pe3ZhciBuPUIuZnJvbVF1YXRlcm5pb24odC5yb3RhdGlvbik7ZS5tYXRyaXgubXVsdGlwbHlSaWdodChuKX10LnNjYWxlJiZlLm1hdHJpeC5zY2FsZSh0LnNjYWxlKX0ocixyLl9ub2RlKX0pKX19fV0pLHR9KCksVz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSl7T2JqZWN0KHcuYSkodGhpcyx0KSx0aGlzLmFuaW1hdGlvbnM9ZS5hbmltYXRpb25zLm1hcCgoZnVuY3Rpb24odCxuKXt2YXIgcj10Lm5hbWV8fCJBbmltYXRpb24tIi5jb25jYXQobiksaT10LnNhbXBsZXJzLm1hcCgoZnVuY3Rpb24odCl7dmFyIG49dC5pbnB1dCxyPXQuaW50ZXJwb2xhdGlvbixpPXZvaWQgMD09PXI/IkxJTkVBUiI6cixhPXQub3V0cHV0O3JldHVybntpbnB1dDp6KGUuYWNjZXNzb3JzW25dKSxpbnRlcnBvbGF0aW9uOmksb3V0cHV0OnooZS5hY2Nlc3NvcnNbYV0pfX0pKSxhPXQuY2hhbm5lbHMubWFwKChmdW5jdGlvbih0KXt2YXIgbj10LnNhbXBsZXIscj10LnRhcmdldDtyZXR1cm57c2FtcGxlcjppW25dLHRhcmdldDplLm5vZGVzW3Iubm9kZV0scGF0aDpyLnBhdGh9fSkpO3JldHVybiBuZXcgRyh7bmFtZTpyLGNoYW5uZWxzOmF9KX0pKX1yZXR1cm4gT2JqZWN0KGsuYSkodCxbe2tleToiYW5pbWF0ZSIsdmFsdWU6ZnVuY3Rpb24odCl7dGhpcy5zZXRUaW1lKHQpfX0se2tleToic2V0VGltZSIsdmFsdWU6ZnVuY3Rpb24odCl7dGhpcy5hbmltYXRpb25zLmZvckVhY2goKGZ1bmN0aW9uKGUpe3JldHVybiBlLmFuaW1hdGUodCl9KSl9fSx7a2V5OiJnZXRBbmltYXRpb25zIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmFuaW1hdGlvbnN9fV0pLHR9KCksSD1uKDE3NSkscT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKHQpe3ZhciBuLHI9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOnt9O3JldHVybiBPYmplY3Qody5hKSh0aGlzLGUpLChuPU9iamVjdChDLmEpKHRoaXMsT2JqZWN0KEwuYSkoZSkuY2FsbCh0aGlzLHIpKSkub25CZWZvcmVSZW5kZXI9bnVsbCxuLkFmdGVyUmVuZGVyPW51bGwsdCBpbnN0YW5jZW9mIEguYT8obi5tb2RlbD10LG4uX3NldE1vZGVsTm9kZVByb3BzKHIpKTpuLm1vZGVsPW5ldyBILmEodCxyKSxuLm1hbmFnZWRSZXNvdXJjZXM9ci5tYW5hZ2VkUmVzb3VyY2VzfHxbXSxufXJldHVybiBPYmplY3QoUi5hKShlLHQpLE9iamVjdChrLmEpKGUsW3trZXk6InNldFByb3BzIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0KEkuYSkoT2JqZWN0KEwuYSkoZS5wcm90b3R5cGUpLCJzZXRQcm9wcyIsdGhpcykuY2FsbCh0aGlzLHQpLHRoaXMuX3NldE1vZGVsTm9kZVByb3BzKHQpLHRoaXN9fSx7a2V5OiJkZWxldGUiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5tb2RlbCYmKHRoaXMubW9kZWwuZGVsZXRlKCksdGhpcy5tb2RlbD1udWxsKSx0aGlzLm1hbmFnZWRSZXNvdXJjZXMuZm9yRWFjaCgoZnVuY3Rpb24odCl7cmV0dXJuIHQuZGVsZXRlKCl9KSksdGhpcy5tYW5hZ2VkUmVzb3VyY2VzPVtdfX0se2tleToiZHJhdyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdDtyZXR1cm4odD10aGlzLm1vZGVsKS5kcmF3LmFwcGx5KHQsYXJndW1lbnRzKX19LHtrZXk6InNldFVuaWZvcm1zIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0O3JldHVybih0PXRoaXMubW9kZWwpLnNldFVuaWZvcm1zLmFwcGx5KHQsYXJndW1lbnRzKSx0aGlzfX0se2tleToic2V0QXR0cmlidXRlcyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdDtyZXR1cm4odD10aGlzLm1vZGVsKS5zZXRBdHRyaWJ1dGVzLmFwcGx5KHQsYXJndW1lbnRzKSx0aGlzfX0se2tleToidXBkYXRlTW9kdWxlU2V0dGluZ3MiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ7cmV0dXJuKHQ9dGhpcy5tb2RlbCkudXBkYXRlTW9kdWxlU2V0dGluZ3MuYXBwbHkodCxhcmd1bWVudHMpLHRoaXN9fSx7a2V5OiJfc2V0TW9kZWxOb2RlUHJvcHMiLHZhbHVlOmZ1bmN0aW9uKHQpe3RoaXMubW9kZWwuc2V0UHJvcHModCl9fV0pLGV9KFQpLFg9bigwKSxaPW4oMjc1KSxZPW4oMTg3KSxLPW4oMTI3KSxRPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlLG4pe3ZhciByPW4uYXR0cmlidXRlcyxpPW4ubWF0ZXJpYWwsYT1uLnBickRlYnVnLG89bi5pbWFnZUJhc2VkTGlnaHRpbmdFbnZpcm9ubWVudCxzPW4ubGlnaHRzLHU9bi51c2VUYW5nZW50cztPYmplY3Qody5hKSh0aGlzLHQpLHRoaXMuZ2w9ZSx0aGlzLmRlZmluZXM9e01BTlVBTF9TUkdCOjEsU1JHQl9GQVNUX0FQUFJPWElNQVRJT046MX0sT2JqZWN0KFouYikoZSxZLmEuR0xTTF9URVhUVVJFX0xPRCkmJih0aGlzLmRlZmluZXMuVVNFX1RFWF9MT0Q9MSksdGhpcy51bmlmb3Jtcz17dV9DYW1lcmE6WzAsMCwwXSx1X01ldGFsbGljUm91Z2huZXNzVmFsdWVzOlsxLDFdfSx0aGlzLnBhcmFtZXRlcnM9e30sdGhpcy5nZW5lcmF0ZWRUZXh0dXJlcz1bXSxvJiYodGhpcy51bmlmb3Jtcy51X0RpZmZ1c2VFbnZTYW1wbGVyPW8uZ2V0RGlmZnVzZUVudlNhbXBsZXIoKSx0aGlzLnVuaWZvcm1zLnVfU3BlY3VsYXJFbnZTYW1wbGVyPW8uZ2V0U3BlY3VsYXJFbnZTYW1wbGVyKCksdGhpcy51bmlmb3Jtcy51X2JyZGZMVVQ9by5nZXRCcmRmVGV4dHVyZSgpLHRoaXMudW5pZm9ybXMudV9TY2FsZUlCTEFtYmllbnQ9WzEsMV0pLGEmJih0aGlzLnVuaWZvcm1zLnVfU2NhbGVEaWZmQmFzZU1SPVswLDAsMCwwXSx0aGlzLnVuaWZvcm1zLnVfU2NhbGVGR0RTcGVjPVswLDAsMCwwXSksdGhpcy5kZWZpbmVJZlByZXNlbnQoci5OT1JNQUwsIkhBU19OT1JNQUxTIiksdGhpcy5kZWZpbmVJZlByZXNlbnQoci5UQU5HRU5UJiZ1LCJIQVNfVEFOR0VOVFMiKSx0aGlzLmRlZmluZUlmUHJlc2VudChyLlRFWENPT1JEXzAsIkhBU19VViIpLHRoaXMuZGVmaW5lSWZQcmVzZW50KG8sIlVTRV9JQkwiKSx0aGlzLmRlZmluZUlmUHJlc2VudChzLCJVU0VfTElHSFRTIiksdGhpcy5kZWZpbmVJZlByZXNlbnQoYSwiUEJSX0RFQlVHIiksaSYmdGhpcy5wYXJzZU1hdGVyaWFsKGkpfXJldHVybiBPYmplY3Qoay5hKSh0LFt7a2V5OiJkZWZpbmVJZlByZXNlbnQiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dCYmKHRoaXMuZGVmaW5lc1tlXT0xKX19LHtrZXk6InBhcnNlVGV4dHVyZSIsdmFsdWU6ZnVuY3Rpb24odCxlKXt2YXIgbj1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06bnVsbCxyPXQudGV4dHVyZSYmdC50ZXh0dXJlLnNhbXBsZXImJnQudGV4dHVyZS5zYW1wbGVyLnBhcmFtZXRlcnN8fHt9LGk9bmV3IEsuYSh0aGlzLmdsLHtpZDp0Lm5hbWV8fHQuaWQscGFyYW1ldGVyczpyLHBpeGVsU3RvcmU6T2JqZWN0KFguYSkoe30sdGhpcy5nbC5VTlBBQ0tfRkxJUF9ZX1dFQkdMLCExKSxkYXRhOnQudGV4dHVyZS5zb3VyY2UuaW1hZ2V9KTt0aGlzLnVuaWZvcm1zW2VdPWksdGhpcy5kZWZpbmVJZlByZXNlbnQobixuKSx0aGlzLmdlbmVyYXRlZFRleHR1cmVzLnB1c2goaSl9fSx7a2V5OiJwYXJzZVBick1ldGFsbGljUm91Z2huZXNzIix2YWx1ZTpmdW5jdGlvbih0KXt0LmJhc2VDb2xvclRleHR1cmUmJnRoaXMucGFyc2VUZXh0dXJlKHQuYmFzZUNvbG9yVGV4dHVyZSwidV9CYXNlQ29sb3JTYW1wbGVyIiwiSEFTX0JBU0VDT0xPUk1BUCIpLHRoaXMudW5pZm9ybXMudV9CYXNlQ29sb3JGYWN0b3I9dC5iYXNlQ29sb3JGYWN0b3J8fFsxLDEsMSwxXSx0Lm1ldGFsbGljUm91Z2huZXNzVGV4dHVyZSYmdGhpcy5wYXJzZVRleHR1cmUodC5tZXRhbGxpY1JvdWdobmVzc1RleHR1cmUsInVfTWV0YWxsaWNSb3VnaG5lc3NTYW1wbGVyIiwiSEFTX01FVEFMUk9VR0hORVNTTUFQIik7dmFyIGU9dC5tZXRhbGxpY0ZhY3RvcixuPXZvaWQgMD09PWU/MTplLHI9dC5yb3VnaG5lc3NGYWN0b3IsaT12b2lkIDA9PT1yPzE6cjt0aGlzLnVuaWZvcm1zLnVfTWV0YWxsaWNSb3VnaG5lc3NWYWx1ZXM9W24saV19fSx7a2V5OiJwYXJzZU1hdGVyaWFsIix2YWx1ZTpmdW5jdGlvbih0KXtpZih0LnBick1ldGFsbGljUm91Z2huZXNzJiZ0aGlzLnBhcnNlUGJyTWV0YWxsaWNSb3VnaG5lc3ModC5wYnJNZXRhbGxpY1JvdWdobmVzcyksdC5ub3JtYWxUZXh0dXJlKXt0aGlzLnBhcnNlVGV4dHVyZSh0Lm5vcm1hbFRleHR1cmUsInVfTm9ybWFsU2FtcGxlciIsIkhBU19OT1JNQUxNQVAiKTt2YXIgZT10Lm5vcm1hbFRleHR1cmUuc2NhbGUsbj12b2lkIDA9PT1lPzE6ZTt0aGlzLnVuaWZvcm1zLnVfTm9ybWFsU2NhbGU9bn1pZih0Lm9jY2x1c2lvblRleHR1cmUpe3RoaXMucGFyc2VUZXh0dXJlKHQub2NjbHVzaW9uVGV4dHVyZSwidV9PY2NsdXNpb25TYW1wbGVyIiwiSEFTX09DQ0xVU0lPTk1BUCIpO3ZhciByPXQub2NjbHVzaW9uVGV4dHVyZS5zdHJlbmd0aCxpPXZvaWQgMD09PXI/MTpyO3RoaXMudW5pZm9ybXMudV9PY2NsdXNpb25TdHJlbmd0aD1pfWlmKHQuZW1pc3NpdmVUZXh0dXJlJiYodGhpcy5wYXJzZVRleHR1cmUodC5lbWlzc2l2ZVRleHR1cmUsInVfRW1pc3NpdmVTYW1wbGVyIiwiSEFTX0VNSVNTSVZFTUFQIiksdGhpcy51bmlmb3Jtcy51X0VtaXNzaXZlRmFjdG9yPXQuZW1pc3NpdmVGYWN0b3J8fFswLDAsMF0pLCJNQVNLIj09PXQuYWxwaGFNb2RlKXt2YXIgYT10LmFscGhhQ3V0b2ZmLG89dm9pZCAwPT09YT8uNTphO3RoaXMuZGVmaW5lcy5BTFBIQV9DVVRPRkY9MSx0aGlzLnVuaWZvcm1zLnVfQWxwaGFDdXRvZmY9b31lbHNlIkJMRU5EIj09PXQuYWxwaGFNb2RlJiYoTy5oLndhcm4oIkJMRU5EIGFscGhhTW9kZSBtaWdodCBub3Qgd29yayB3ZWxsIGJlY2F1c2UgaXQgcmVxdWlyZXMgbWVzaCBzb3J0aW5nIikoKSxPYmplY3QuYXNzaWduKHRoaXMucGFyYW1ldGVycyx7YmxlbmQ6ITAsYmxlbmRFcXVhdGlvbjp0aGlzLmdsLkZVTkNfQURELGJsZW5kRnVuYzpbdGhpcy5nbC5TUkNfQUxQSEEsdGhpcy5nbC5PTkVfTUlOVVNfU1JDX0FMUEhBLHRoaXMuZ2wuT05FLHRoaXMuZ2wuT05FX01JTlVTX1NSQ19BTFBIQV19KSl9fV0pLHR9KCk7ZnVuY3Rpb24gSih0LGUpe3JldHVybiBPYmplY3QoTy5nKSh0KT8iI3ZlcnNpb24gMzAwIGVzXG4iLmNvbmNhdChlKTplfXZhciAkPXtTQ0FMQVI6MSxWRUMyOjIsVkVDMzozLFZFQzQ6NCxNQVQyOjQsTUFUMzo5LE1BVDQ6MTZ9LHR0PXttb2RlbE9wdGlvbnM6e30scGJyRGVidWc6ITEsaW1hZ2VCYXNlZExpZ2h0aW5nRW52aXJvbm1lbnQ6bnVsbCxsaWdodHM6ITAsdXNlVGFuZ2VudHM6ITF9LGV0PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlKXt2YXIgbj1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06e307T2JqZWN0KHcuYSkodGhpcyx0KSx0aGlzLmdsPWUsdGhpcy5vcHRpb25zPU9iamVjdC5hc3NpZ24oe30sdHQsbil9cmV0dXJuIE9iamVjdChrLmEpKHQsW3trZXk6Imluc3RhbnRpYXRlIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzO3JldHVybiB0aGlzLmdsdGY9dCwodC5zY2VuZXN8fFtdKS5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiBlLmNyZWF0ZVNjZW5lKHQpfSkpfX0se2tleToiY3JlYXRlQW5pbWF0b3IiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIEFycmF5LmlzQXJyYXkodGhpcy5nbHRmLmFuaW1hdGlvbnMpP25ldyBXKHRoaXMuZ2x0Zik6bnVsbH19LHtrZXk6ImNyZWF0ZVNjZW5lIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLG49KHQubm9kZXN8fFtdKS5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiBlLmNyZWF0ZU5vZGUodCl9KSk7cmV0dXJuIG5ldyBOKHtpZDp0Lm5hbWV8fHQuaWQsY2hpbGRyZW46bn0pfX0se2tleToiY3JlYXRlTm9kZSIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcztpZighdC5fbm9kZSl7dmFyIG49KHQuY2hpbGRyZW58fFtdKS5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiBlLmNyZWF0ZU5vZGUodCl9KSk7dC5tZXNoJiZuLnB1c2godGhpcy5jcmVhdGVNZXNoKHQubWVzaCkpO3ZhciByPW5ldyBOKHtpZDp0Lm5hbWV8fHQuaWQsY2hpbGRyZW46bn0pO2lmKHQubWF0cml4KXIuc2V0TWF0cml4KHQubWF0cml4KTtlbHNle2lmKHIubWF0cml4LmlkZW50aXR5KCksdC50cmFuc2xhdGlvbiYmci5tYXRyaXgudHJhbnNsYXRlKHQudHJhbnNsYXRpb24pLHQucm90YXRpb24pe3ZhciBpPShuZXcgUy5hKS5mcm9tUXVhdGVybmlvbih0LnJvdGF0aW9uKTtyLm1hdHJpeC5tdWx0aXBseVJpZ2h0KGkpfXQuc2NhbGUmJnIubWF0cml4LnNjYWxlKHQuc2NhbGUpfXQuX25vZGU9cn1yZXR1cm4gdC5fbm9kZX19LHtrZXk6ImNyZWF0ZU1lc2giLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7aWYoIXQuX21lc2gpe3ZhciBuPSh0LnByaW1pdGl2ZXN8fFtdKS5tYXAoKGZ1bmN0aW9uKG4scil7cmV0dXJuIGUuY3JlYXRlUHJpbWl0aXZlKG4scix0KX0pKSxyPW5ldyBOKHtpZDp0Lm5hbWV8fHQuaWQsY2hpbGRyZW46bn0pO3QuX21lc2g9cn1yZXR1cm4gdC5fbWVzaH19LHtrZXk6ImdldFZlcnRleENvdW50Iix2YWx1ZTpmdW5jdGlvbih0KXtPLmgud2FybigiZ2V0VmVydGV4Q291bnQoKSBub3QgZm91bmQiKSgpfX0se2tleToiY3JlYXRlUHJpbWl0aXZlIix2YWx1ZTpmdW5jdGlvbih0LGUsbil7cmV0dXJuIGZ1bmN0aW9uKHQsZSl7dmFyIG49ZS5pZCxyPWUuZHJhd01vZGUsaT1lLnZlcnRleENvdW50LGE9ZS5hdHRyaWJ1dGVzLG89ZS5tb2RlbE9wdGlvbnMscz1uZXcgUSh0LGUpO08uaC5pbmZvKDQsImNyZWF0ZUdMVEZNb2RlbCBkZWZpbmVzOiAiLHMuZGVmaW5lcykoKTt2YXIgdT1bXTt1LnB1c2guYXBwbHkodSxPYmplY3QoTS5hKShzLmdlbmVyYXRlZFRleHR1cmVzKSksdS5wdXNoLmFwcGx5KHUsT2JqZWN0KE0uYSkoT2JqZWN0LnZhbHVlcyhhKS5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiB0LmJ1ZmZlcn0pKSkpO3ZhciBjPW5ldyBxKHQsT2JqZWN0LmFzc2lnbih7aWQ6bixkcmF3TW9kZTpyLHZlcnRleENvdW50OmksbW9kdWxlczpbeF0sZGVmaW5lczpzLmRlZmluZXMscGFyYW1ldGVyczpzLnBhcmFtZXRlcnMsdnM6Sih0LCJcbiNpZiAoX19WRVJTSU9OX18gPCAzMDApXG4gICNkZWZpbmUgX2F0dHIgYXR0cmlidXRlXG4jZWxzZVxuICAjZGVmaW5lIF9hdHRyIGluXG4jZW5kaWZcblxuICBfYXR0ciB2ZWM0IFBPU0lUSU9OO1xuXG4gICNpZmRlZiBIQVNfTk9STUFMU1xuICAgIF9hdHRyIHZlYzQgTk9STUFMO1xuICAjZW5kaWZcblxuICAjaWZkZWYgSEFTX1RBTkdFTlRTXG4gICAgX2F0dHIgdmVjNCBUQU5HRU5UO1xuICAjZW5kaWZcblxuICAjaWZkZWYgSEFTX1VWXG4gICAgX2F0dHIgdmVjMiBURVhDT09SRF8wO1xuICAjZW5kaWZcblxuICB2b2lkIG1haW4odm9pZCkge1xuICAgIHZlYzQgX05PUk1BTCA9IHZlYzQoMC4pO1xuICAgIHZlYzQgX1RBTkdFTlQgPSB2ZWM0KDAuKTtcbiAgICB2ZWMyIF9URVhDT09SRF8wID0gdmVjMigwLik7XG5cbiAgICAjaWZkZWYgSEFTX05PUk1BTFNcbiAgICAgIF9OT1JNQUwgPSBOT1JNQUw7XG4gICAgI2VuZGlmXG5cbiAgICAjaWZkZWYgSEFTX1RBTkdFTlRTXG4gICAgICBfVEFOR0VOVCA9IFRBTkdFTlQ7XG4gICAgI2VuZGlmXG5cbiAgICAjaWZkZWYgSEFTX1VWXG4gICAgICBfVEVYQ09PUkRfMCA9IFRFWENPT1JEXzA7XG4gICAgI2VuZGlmXG5cbiAgICBwYnJfc2V0UG9zaXRpb25Ob3JtYWxUYW5nZW50VVYoUE9TSVRJT04sIF9OT1JNQUwsIF9UQU5HRU5ULCBfVEVYQ09PUkRfMCk7XG4gICAgZ2xfUG9zaXRpb24gPSB1X01WUE1hdHJpeCAqIFBPU0lUSU9OO1xuICB9XG4iKSxmczpKKHQsIlxuI2lmIChfX1ZFUlNJT05fXyA8IDMwMClcbiAgI2RlZmluZSBmcmFnbWVudENvbG9yIGdsX0ZyYWdDb2xvclxuI2Vsc2VcbiAgb3V0IHZlYzQgZnJhZ21lbnRDb2xvcjtcbiNlbmRpZlxuXG4gIHZvaWQgbWFpbih2b2lkKSB7XG4gICAgZnJhZ21lbnRDb2xvciA9IHBicl9maWx0ZXJDb2xvcih2ZWM0KDApKTtcbiAgfVxuIiksbWFuYWdlZFJlc291cmNlczp1fSxvKSk7cmV0dXJuIGMuc2V0UHJvcHMoe2F0dHJpYnV0ZXM6YX0pLGMuc2V0VW5pZm9ybXMocy51bmlmb3JtcyksY30odGhpcy5nbCxPYmplY3QuYXNzaWduKHtpZDp0Lm5hbWV8fCIiLmNvbmNhdChuLm5hbWV8fG4uaWQsIi1wcmltaXRpdmUtIikuY29uY2F0KGUpLGRyYXdNb2RlOnQubW9kZXx8NCx2ZXJ0ZXhDb3VudDp0LmluZGljZXM/dC5pbmRpY2VzLmNvdW50OnRoaXMuZ2V0VmVydGV4Q291bnQodC5hdHRyaWJ1dGVzKSxhdHRyaWJ1dGVzOnRoaXMuY3JlYXRlQXR0cmlidXRlcyh0LmF0dHJpYnV0ZXMsdC5pbmRpY2VzKSxtYXRlcmlhbDp0Lm1hdGVyaWFsfSx0aGlzLm9wdGlvbnMpKX19LHtrZXk6ImNyZWF0ZUF0dHJpYnV0ZXMiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcyxyPXt9O3JldHVybiBPYmplY3Qua2V5cyh0KS5mb3JFYWNoKChmdW5jdGlvbihlKXtyW2VdPW4uY3JlYXRlQWNjZXNzb3IodFtlXSxuLmNyZWF0ZUJ1ZmZlcih0W2VdLG4uZ2wuQVJSQVlfQlVGRkVSKSl9KSksZSYmKHIuaW5kaWNlcz10aGlzLmNyZWF0ZUFjY2Vzc29yKGUsdGhpcy5jcmVhdGVCdWZmZXIoZSx0aGlzLmdsLkVMRU1FTlRfQVJSQVlfQlVGRkVSKSkpLE8uaC5pbmZvKDQsImdsVEYgQXR0cmlidXRlcyIse2F0dHJpYnV0ZXM6dCxpbmRpY2VzOmUsZ2VuZXJhdGVkOnJ9KSgpLHJ9fSx7a2V5OiJjcmVhdGVCdWZmZXIiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dC5idWZmZXJWaWV3fHwodC5idWZmZXJWaWV3PXt9KTt2YXIgbj10LmJ1ZmZlclZpZXc7cmV0dXJuIG4ubHVtYUJ1ZmZlcnN8fChuLmx1bWFCdWZmZXJzPXt9KSxuLmx1bWFCdWZmZXJzW2VdfHwobi5sdW1hQnVmZmVyc1tlXT1uZXcgRS5hKHRoaXMuZ2wse2lkOiJmcm9tLSIuY29uY2F0KG4uaWQpLGRhdGE6bi5kYXRhfHx0LnZhbHVlLHRhcmdldDplfSkpLG4ubHVtYUJ1ZmZlcnNbZV19fSx7a2V5OiJjcmVhdGVBY2Nlc3NvciIsdmFsdWU6ZnVuY3Rpb24odCxlKXtyZXR1cm4gbmV3IEEuYSh7YnVmZmVyOmUsb2Zmc2V0OnQuYnl0ZU9mZnNldHx8MCxzdHJpZGU6dC5idWZmZXJWaWV3LmJ5dGVTdHJpZGV8fDAsdHlwZTp0LmNvbXBvbmVudFR5cGUsc2l6ZTokW3QudHlwZV19KX19LHtrZXk6ImNyZWF0ZVNhbXBsZXIiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0fX0se2tleToibmVlZHNQT1QiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuITF9fV0pLHR9KCk7dmFyIG50PW4oNSkscnQ9bi5uKG50KSxpdD1uKDExMiksYXQ9bi5uKGl0KTtmdW5jdGlvbiBvdCgpe3JldHVybihvdD1hdCgpKHJ0LmEubWFyaygoZnVuY3Rpb24gdChlKXt2YXIgbjtyZXR1cm4gcnQuYS53cmFwKChmdW5jdGlvbih0KXtmb3IoOzspc3dpdGNoKHQucHJldj10Lm5leHQpe2Nhc2UgMDpyZXR1cm4gbj1bXSxlLnNjZW5lcy5mb3JFYWNoKChmdW5jdGlvbih0KXt0LnRyYXZlcnNlKChmdW5jdGlvbih0KXtPYmplY3QudmFsdWVzKHQubW9kZWwuZ2V0VW5pZm9ybXMoKSkuZm9yRWFjaCgoZnVuY3Rpb24odCl7ITE9PT10LmxvYWRlZCYmbi5wdXNoKHQpfSkpfSkpfSkpLHQubmV4dD00LHN0KChmdW5jdGlvbigpe3JldHVybiBuLnNvbWUoKGZ1bmN0aW9uKHQpe3JldHVybiF0LmxvYWRlZH0pKX0pKTtjYXNlIDQ6cmV0dXJuIHQuYWJydXB0KCJyZXR1cm4iLHQuc2VudCk7Y2FzZSA1OmNhc2UiZW5kIjpyZXR1cm4gdC5zdG9wKCl9fSksdCl9KSkpKS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZnVuY3Rpb24gc3QodCl7cmV0dXJuIHV0LmFwcGx5KHRoaXMsYXJndW1lbnRzKX1mdW5jdGlvbiB1dCgpe3JldHVybih1dD1hdCgpKHJ0LmEubWFyaygoZnVuY3Rpb24gdChlKXtyZXR1cm4gcnQuYS53cmFwKChmdW5jdGlvbih0KXtmb3IoOzspc3dpdGNoKHQucHJldj10Lm5leHQpe2Nhc2UgMDppZighZSgpKXt0Lm5leHQ9NTticmVha31yZXR1cm4gdC5uZXh0PTMsbmV3IFByb21pc2UoKGZ1bmN0aW9uKHQpe3JldHVybiByZXF1ZXN0QW5pbWF0aW9uRnJhbWUodCl9KSk7Y2FzZSAzOnQubmV4dD0wO2JyZWFrO2Nhc2UgNTpjYXNlImVuZCI6cmV0dXJuIHQuc3RvcCgpfX0pLHQpfSkpKSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfXZhciBjdD1uKDEzMCk7bi5kKGUsImEiLChmdW5jdGlvbigpe3JldHVybiBmdH0pKTt2YXIgbHQ9WzI1NSwyNTUsMjU1LDI1NV0saHQ9e3NjZW5lZ3JhcGg6e3R5cGU6Im9iamVjdCIsdmFsdWU6bnVsbCxhc3luYzohMH0sZ2V0U2NlbmU6ZnVuY3Rpb24odCl7cmV0dXJuIHQmJnQuc2NlbmVzPyJvYmplY3QiPT09ZygpKHQuc2NlbmUpP3Quc2NlbmU6dC5zY2VuZXNbdC5zY2VuZXx8MF06dH0sZ2V0QW5pbWF0b3I6ZnVuY3Rpb24odCl7cmV0dXJuIHQmJnQuYW5pbWF0b3J9LF9hbmltYXRpb25zOm51bGwsc2l6ZVNjYWxlOnt0eXBlOiJudW1iZXIiLHZhbHVlOjEsbWluOjB9LHNpemVNaW5QaXhlbHM6e3R5cGU6Im51bWJlciIsbWluOjAsdmFsdWU6MH0sc2l6ZU1heFBpeGVsczp7dHlwZToibnVtYmVyIixtaW46MCx2YWx1ZTpOdW1iZXIuTUFYX1NBRkVfSU5URUdFUn0sZ2V0UG9zaXRpb246e3R5cGU6ImFjY2Vzc29yIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdC5wb3NpdGlvbn19LGdldENvbG9yOnt0eXBlOiJhY2Nlc3NvciIsdmFsdWU6bHR9LF9saWdodGluZzoiZmxhdCIsX2ltYWdlQmFzZWRMaWdodGluZ0Vudmlyb25tZW50Om51bGwsZ2V0T3JpZW50YXRpb246e3R5cGU6ImFjY2Vzc29yIix2YWx1ZTpbMCwwLDBdfSxnZXRTY2FsZTp7dHlwZToiYWNjZXNzb3IiLHZhbHVlOlsxLDEsMV19LGdldFRyYW5zbGF0aW9uOnt0eXBlOiJhY2Nlc3NvciIsdmFsdWU6WzAsMCwwXX0sZ2V0VHJhbnNmb3JtTWF0cml4Ont0eXBlOiJhY2Nlc3NvciIsdmFsdWU6W119fSxmdD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7cmV0dXJuIGkoKSh0aGlzLGUpLHUoKSh0aGlzLGwoKShlKS5hcHBseSh0aGlzLGFyZ3VtZW50cykpfXJldHVybiB2KCkoZSx0KSxvKCkoZSxbe2tleToiaW5pdGlhbGl6ZVN0YXRlIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuZ2V0QXR0cmlidXRlTWFuYWdlcigpLmFkZEluc3RhbmNlZCh7aW5zdGFuY2VQb3NpdGlvbnM6e3NpemU6Myx0eXBlOjUxMzAsZnA2NDp0aGlzLnVzZTY0Yml0UG9zaXRpb25zKCksYWNjZXNzb3I6ImdldFBvc2l0aW9uIix0cmFuc2l0aW9uOiEwfSxpbnN0YW5jZUNvbG9yczp7dHlwZTo1MTIxLHNpemU6dGhpcy5wcm9wcy5jb2xvckZvcm1hdC5sZW5ndGgsYWNjZXNzb3I6ImdldENvbG9yIixub3JtYWxpemVkOiEwLGRlZmF1bHRWYWx1ZTpsdCx0cmFuc2l0aW9uOiEwfSxpbnN0YW5jZU1vZGVsTWF0cml4OmN0LmF9KX19LHtrZXk6InVwZGF0ZVN0YXRlIix2YWx1ZTpmdW5jdGlvbih0KXtmKCkobCgpKGUucHJvdG90eXBlKSwidXBkYXRlU3RhdGUiLHRoaXMpLmNhbGwodGhpcyx0KTt2YXIgbj10LnByb3BzLHI9dC5vbGRQcm9wcztuLnNjZW5lZ3JhcGghPT1yLnNjZW5lZ3JhcGg/dGhpcy5fdXBkYXRlU2NlbmVncmFwaChuKTpuLl9hbmltYXRpb25zIT09ci5fYW5pbWF0aW9ucyYmdGhpcy5fYXBwbHlBbmltYXRpb25zUHJvcCh0aGlzLnN0YXRlLnNjZW5lZ3JhcGgsdGhpcy5zdGF0ZS5hbmltYXRvcixuLl9hbmltYXRpb25zKX19LHtrZXk6ImZpbmFsaXplU3RhdGUiLHZhbHVlOmZ1bmN0aW9uKCl7ZigpKGwoKShlLnByb3RvdHlwZSksImZpbmFsaXplU3RhdGUiLHRoaXMpLmNhbGwodGhpcyksdGhpcy5fZGVsZXRlU2NlbmVncmFwaCgpfX0se2tleToiX3VwZGF0ZVNjZW5lZ3JhcGgiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlLG49dGhpcyxyPXRoaXMuY29udGV4dC5nbDtpZih0LnNjZW5lZ3JhcGggaW5zdGFuY2VvZiBUKWU9e3NjZW5lczpbdC5zY2VuZWdyYXBoXX07ZWxzZSBpZih0LnNjZW5lZ3JhcGgmJiF0LnNjZW5lZ3JhcGguZ2x0Zil7dmFyIGk9dC5zY2VuZWdyYXBoLGE9ZnVuY3Rpb24odCxlLG4pe3ZhciByPW5ldyBldCh0LG4pO3JldHVybntzY2VuZXM6ci5pbnN0YW50aWF0ZShlKSxhbmltYXRvcjpyLmNyZWF0ZUFuaW1hdG9yKCl9fShyLGksdGhpcy5nZXRMb2FkT3B0aW9ucygpKTtlPU9iamVjdC5hc3NpZ24oe2dsdGY6aX0sYSksZnVuY3Rpb24odCl7cmV0dXJuIG90LmFwcGx5KHRoaXMsYXJndW1lbnRzKX0oYSkudGhlbigoZnVuY3Rpb24oKXtyZXR1cm4gbi5zZXROZWVkc1JlZHJhdygpfSkpfWVsc2UgeS5hLmRlcHJlY2F0ZWQoIlNjZW5lZ3JhcGhMYXllci5wcm9wcy5zY2VuZWdyYXBoIiwiVXNlIEdMVEZMb2FkZXIgaW5zdGVhZCBvZiBHTFRGU2NlbmVncmFwaExvYWRlciIpKCksZT10LnNjZW5lZ3JhcGg7dmFyIG89e2xheWVyOnRoaXMsZ2w6cn0scz10LmdldFNjZW5lKGUsbyksdT10LmdldEFuaW1hdG9yKGUsbyk7cyBpbnN0YW5jZW9mIFQ/KHRoaXMuX2RlbGV0ZVNjZW5lZ3JhcGgoKSx0aGlzLl9hcHBseUFsbEF0dHJpYnV0ZXMocyksdGhpcy5fYXBwbHlBbmltYXRpb25zUHJvcChzLHUsdC5fYW5pbWF0aW9ucyksdGhpcy5zZXRTdGF0ZSh7c2NlbmVncmFwaDpzLGFuaW1hdG9yOnV9KSk6bnVsbCE9PXMmJnkuYS53YXJuKCJpbnZhbGlkIHNjZW5lZ3JhcGg6IixzKSgpfX0se2tleToiX2FwcGx5QWxsQXR0cmlidXRlcyIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcztpZih0aGlzLnN0YXRlLmF0dHJpYnV0ZXNBdmFpbGFibGUpe3ZhciBuPXRoaXMuZ2V0QXR0cmlidXRlTWFuYWdlcigpLmdldEF0dHJpYnV0ZXMoKTt0LnRyYXZlcnNlKChmdW5jdGlvbih0KXtlLl9zZXRNb2RlbEF0dHJpYnV0ZXModC5tb2RlbCxuKX0pKX19fSx7a2V5OiJfYXBwbHlBbmltYXRpb25zUHJvcCIsdmFsdWU6ZnVuY3Rpb24odCxlLG4pe2lmKHQmJmUmJm4pe3ZhciByPWUuZ2V0QW5pbWF0aW9ucygpO09iamVjdC5rZXlzKG4pLnNvcnQoKS5mb3JFYWNoKChmdW5jdGlvbih0KXt2YXIgZT1uW3RdO2lmKCIqIj09PXQpci5mb3JFYWNoKChmdW5jdGlvbih0KXtPYmplY3QuYXNzaWduKHQsZSl9KSk7ZWxzZSBpZihOdW1iZXIuaXNGaW5pdGUoTnVtYmVyKHQpKSl7dmFyIGk9TnVtYmVyKHQpO2k+PTAmJmk8ci5sZW5ndGg/T2JqZWN0LmFzc2lnbihyW2ldLGUpOnkuYS53YXJuKCJhbmltYXRpb24gIi5jb25jYXQodCwiIG5vdCBmb3VuZCIpKSgpfWVsc2V7dmFyIGE9ci5maW5kKChmdW5jdGlvbihlKXtyZXR1cm4gZS5uYW1lPT09dH0pKTthP09iamVjdC5hc3NpZ24oYSxlKTp5LmEud2FybigiYW5pbWF0aW9uICIuY29uY2F0KHQsIiBub3QgZm91bmQiKSkoKX19KSl9fX0se2tleToiX2RlbGV0ZVNjZW5lZ3JhcGgiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5zdGF0ZS5zY2VuZWdyYXBoO3QgaW5zdGFuY2VvZiBUJiZ0LmRlbGV0ZSgpfX0se2tleToiZ2V0TG9hZE9wdGlvbnMiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9W20uYSxiLmFdLGU9dGhpcy5wcm9wcyxuPWUuX2xpZ2h0aW5nLHI9ZS5faW1hZ2VCYXNlZExpZ2h0aW5nRW52aXJvbm1lbnQ7InBiciI9PT1uJiZ0LnB1c2goeCk7dmFyIGk9bnVsbDtyZXR1cm4gciYmKGk9ImZ1bmN0aW9uIj09dHlwZW9mIHI/cih7Z2w6dGhpcy5jb250ZXh0LmdsLGxheWVyOnRoaXN9KTpyKSx7Z2w6dGhpcy5jb250ZXh0LmdsLHdhaXRGb3JGdWxsTG9hZDohMCxpbWFnZUJhc2VkTGlnaHRpbmdFbnZpcm9ubWVudDppLG1vZGVsT3B0aW9uczp7dnM6IiN2ZXJzaW9uIDMwMCBlc1xuaW4gdmVjMyBpbnN0YW5jZVBvc2l0aW9ucztcbmluIHZlYzMgaW5zdGFuY2VQb3NpdGlvbnM2NExvdztcbmluIHZlYzQgaW5zdGFuY2VDb2xvcnM7XG5pbiB2ZWMzIGluc3RhbmNlUGlja2luZ0NvbG9ycztcbmluIG1hdDMgaW5zdGFuY2VNb2RlbE1hdHJpeDtcbmluIHZlYzMgaW5zdGFuY2VUcmFuc2xhdGlvbjtcbnVuaWZvcm0gZmxvYXQgc2l6ZVNjYWxlO1xudW5pZm9ybSBmbG9hdCBzaXplTWluUGl4ZWxzO1xudW5pZm9ybSBmbG9hdCBzaXplTWF4UGl4ZWxzO1xudW5pZm9ybSBtYXQ0IHNjZW5lTW9kZWxNYXRyaXg7XG51bmlmb3JtIGJvb2wgY29tcG9zZU1vZGVsTWF0cml4O1xuaW4gdmVjNCBQT1NJVElPTjtcblxuI2lmZGVmIEhBU19VVlxuICBpbiB2ZWMyIFRFWENPT1JEXzA7XG4jZW5kaWZcblxuI2lmZGVmIE1PRFVMRV9QQlJcbiAgI2lmZGVmIEhBU19OT1JNQUxTXG4gICAgaW4gdmVjNCBOT1JNQUw7XG4gICNlbmRpZlxuI2VuZGlmXG5vdXQgdmVjNCB2Q29sb3I7XG4jaWZuZGVmIE1PRFVMRV9QQlJcbiAgI2lmZGVmIEhBU19VVlxuICAgIG91dCB2ZWMyIHZURVhDT09SRF8wO1xuICAjZW5kaWZcbiNlbmRpZlxudm9pZCBtYWluKHZvaWQpIHtcbiAgI2lmIGRlZmluZWQoSEFTX1VWKSAmJiAhZGVmaW5lZChNT0RVTEVfUEJSKVxuICAgIHZURVhDT09SRF8wID0gVEVYQ09PUkRfMDtcbiAgICBnZW9tZXRyeS51diA9IHZURVhDT09SRF8wO1xuICAjZW5kaWZcblxuICBnZW9tZXRyeS53b3JsZFBvc2l0aW9uID0gaW5zdGFuY2VQb3NpdGlvbnM7XG4gIGdlb21ldHJ5LnBpY2tpbmdDb2xvciA9IGluc3RhbmNlUGlja2luZ0NvbG9ycztcblxuICAjaWZkZWYgTU9EVUxFX1BCUlxuICAgICNpZmRlZiBIQVNfTk9STUFMU1xuICAgICAgcGJyX3ZOb3JtYWwgPSBwcm9qZWN0X25vcm1hbChpbnN0YW5jZU1vZGVsTWF0cml4ICogKHNjZW5lTW9kZWxNYXRyaXggKiB2ZWM0KE5PUk1BTC54eXosIDAuMCkpLnh5eik7XG4gICAgICBnZW9tZXRyeS5ub3JtYWwgPSBwYnJfdk5vcm1hbDtcbiAgICAjZW5kaWZcblxuICAgICNpZmRlZiBIQVNfVVZcbiAgICAgIHBicl92VVYgPSBURVhDT09SRF8wO1xuICAgICNlbHNlXG4gICAgICBwYnJfdlVWID0gdmVjMigwLiwgMC4pO1xuICAgICNlbmRpZlxuICAgIGdlb21ldHJ5LnV2ID0gcGJyX3ZVVjtcbiAgI2VuZGlmXG5cbiAgZmxvYXQgb3JpZ2luYWxTaXplID0gcHJvamVjdF9zaXplX3RvX3BpeGVsKHNpemVTY2FsZSk7XG4gIGZsb2F0IGNsYW1wZWRTaXplID0gY2xhbXAob3JpZ2luYWxTaXplLCBzaXplTWluUGl4ZWxzLCBzaXplTWF4UGl4ZWxzKTtcblxuICB2ZWMzIHBvcyA9IChpbnN0YW5jZU1vZGVsTWF0cml4ICogKHNjZW5lTW9kZWxNYXRyaXggKiBQT1NJVElPTikueHl6KSAqIHNpemVTY2FsZSAqIChjbGFtcGVkU2l6ZSAvIG9yaWdpbmFsU2l6ZSkgKyBpbnN0YW5jZVRyYW5zbGF0aW9uO1xuICBpZihjb21wb3NlTW9kZWxNYXRyaXgpIHtcbiAgICBERUNLR0xfRklMVEVSX1NJWkUocG9zLCBnZW9tZXRyeSk7XG4gICAgZ2xfUG9zaXRpb24gPSBwcm9qZWN0X3Bvc2l0aW9uX3RvX2NsaXBzcGFjZShwb3MgKyBpbnN0YW5jZVBvc2l0aW9ucywgaW5zdGFuY2VQb3NpdGlvbnM2NExvdywgdmVjMygwLjApLCBnZW9tZXRyeS5wb3NpdGlvbik7XG4gIH1cbiAgZWxzZSB7XG4gICAgcG9zID0gcHJvamVjdF9zaXplKHBvcyk7XG4gICAgREVDS0dMX0ZJTFRFUl9TSVpFKHBvcywgZ2VvbWV0cnkpO1xuICAgIGdsX1Bvc2l0aW9uID0gcHJvamVjdF9wb3NpdGlvbl90b19jbGlwc3BhY2UoaW5zdGFuY2VQb3NpdGlvbnMsIGluc3RhbmNlUG9zaXRpb25zNjRMb3csIHBvcywgZ2VvbWV0cnkucG9zaXRpb24pO1xuICB9XG4gIERFQ0tHTF9GSUxURVJfR0xfUE9TSVRJT04oZ2xfUG9zaXRpb24sIGdlb21ldHJ5KTtcblxuICAjaWZkZWYgTU9EVUxFX1BCUlxuICAgIHBicl92UG9zaXRpb24gPSBnZW9tZXRyeS5wb3NpdGlvbi54eXo7XG4gICNlbmRpZlxuXG4gIHZDb2xvciA9IGluc3RhbmNlQ29sb3JzO1xuICBERUNLR0xfRklMVEVSX0NPTE9SKHZDb2xvciwgZ2VvbWV0cnkpO1xufVxuIixmczoiI3ZlcnNpb24gMzAwIGVzXG51bmlmb3JtIGZsb2F0IG9wYWNpdHk7XG5pbiB2ZWM0IHZDb2xvcjtcblxub3V0IHZlYzQgZnJhZ21lbnRDb2xvcjtcbiNpZm5kZWYgTU9EVUxFX1BCUlxuICAjaWYgZGVmaW5lZChIQVNfVVYpICYmIGRlZmluZWQoSEFTX0JBU0VDT0xPUk1BUClcbiAgICBpbiB2ZWMyIHZURVhDT09SRF8wO1xuICAgIHVuaWZvcm0gc2FtcGxlcjJEIHVfQmFzZUNvbG9yU2FtcGxlcjtcbiAgI2VuZGlmXG4jZW5kaWZcblxudm9pZCBtYWluKHZvaWQpIHtcbiAgI2lmZGVmIE1PRFVMRV9QQlJcbiAgICBmcmFnbWVudENvbG9yID0gdkNvbG9yICogcGJyX2ZpbHRlckNvbG9yKHZlYzQoMCkpO1xuICAgIGdlb21ldHJ5LnV2ID0gcGJyX3ZVVjtcbiAgI2Vsc2VcbiAgICAjaWYgZGVmaW5lZChIQVNfVVYpICYmIGRlZmluZWQoSEFTX0JBU0VDT0xPUk1BUClcbiAgICAgIGZyYWdtZW50Q29sb3IgPSB2Q29sb3IgKiB0ZXh0dXJlMkQodV9CYXNlQ29sb3JTYW1wbGVyLCB2VEVYQ09PUkRfMCk7XG4gICAgICBnZW9tZXRyeS51diA9IHZURVhDT09SRF8wO1xuICAgICNlbHNlXG4gICAgICBmcmFnbWVudENvbG9yID0gdkNvbG9yO1xuICAgICNlbmRpZlxuICAjZW5kaWZcblxuICBmcmFnbWVudENvbG9yLmEgKj0gb3BhY2l0eTtcbiAgREVDS0dMX0ZJTFRFUl9DT0xPUihmcmFnbWVudENvbG9yLCBnZW9tZXRyeSk7XG59XG4iLG1vZHVsZXM6dCxpc0luc3RhbmNlZDohMCx0cmFuc3BpbGVUb0dMU0wxMDA6IU9iamVjdChPLmcpKHRoaXMuY29udGV4dC5nbCl9LHVzZVRhbmdlbnRzOiExfX19LHtrZXk6InVwZGF0ZUF0dHJpYnV0ZXMiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7dGhpcy5zZXRTdGF0ZSh7YXR0cmlidXRlc0F2YWlsYWJsZTohMH0pLHRoaXMuc3RhdGUuc2NlbmVncmFwaCYmdGhpcy5zdGF0ZS5zY2VuZWdyYXBoLnRyYXZlcnNlKChmdW5jdGlvbihuKXtlLl9zZXRNb2RlbEF0dHJpYnV0ZXMobi5tb2RlbCx0KX0pKX19LHtrZXk6ImRyYXciLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXQubW9kdWxlUGFyYW1ldGVycyxuPXZvaWQgMD09PWU/bnVsbDplLHI9dC5wYXJhbWV0ZXJzLGk9dm9pZCAwPT09cj97fTpyLGE9dC5jb250ZXh0O2lmKHRoaXMuc3RhdGUuc2NlbmVncmFwaCl7dGhpcy5wcm9wcy5fYW5pbWF0aW9ucyYmdGhpcy5zdGF0ZS5hbmltYXRvciYmdGhpcy5zdGF0ZS5hbmltYXRvci5hbmltYXRlKGEuYW5pbWF0aW9uUHJvcHMudGltZSk7dmFyIG89dGhpcy5jb250ZXh0LnZpZXdwb3J0LHM9dGhpcy5wcm9wcyx1PXMuc2l6ZVNjYWxlLGM9cy5zaXplTWluUGl4ZWxzLGw9cy5zaXplTWF4UGl4ZWxzLGg9cy5vcGFjaXR5LGY9cy5jb29yZGluYXRlU3lzdGVtLGQ9dGhpcy5nZXROdW1JbnN0YW5jZXMoKTt0aGlzLnN0YXRlLnNjZW5lZ3JhcGgudHJhdmVyc2UoKGZ1bmN0aW9uKHQsZSl7dmFyIHI9ZS53b3JsZE1hdHJpeDt0Lm1vZGVsLnNldEluc3RhbmNlQ291bnQoZCksdC51cGRhdGVNb2R1bGVTZXR0aW5ncyhuKSx0LmRyYXcoe3BhcmFtZXRlcnM6aSx1bmlmb3Jtczp7c2l6ZVNjYWxlOnUsb3BhY2l0eTpoLHNpemVNaW5QaXhlbHM6YyxzaXplTWF4UGl4ZWxzOmwsY29tcG9zZU1vZGVsTWF0cml4Ok9iamVjdChjdC5iKShvLGYpLHNjZW5lTW9kZWxNYXRyaXg6cix1X0NhbWVyYTp0Lm1vZGVsLmdldFVuaWZvcm1zKCkucHJvamVjdF91Q2FtZXJhUG9zaXRpb259fSl9KSl9fX1dKSxlfShfLmEpO2Z0LmxheWVyTmFtZT0iU2NlbmVncmFwaExheWVyIixmdC5kZWZhdWx0UHJvcHM9aHR9LGZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigxKSxpPW4ubihyKSxhPW4oMiksbz1uLm4oYSkscz1uKDkpLHU9bi5uKHMpLGM9bigzKSxsPW4ubihjKSxoPW4oMTIpLGY9bi5uKGgpLGQ9bigxMCksdj1uLm4oZCkscD1uKDIyMCksZz1uKDExOCkseT1uKDE3NSksbT1uKDcxKTtuLmQoZSwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIE99KSk7dmFyIGI9WzAsMCwwLDI1NV0sXz17Z2V0U291cmNlUG9zaXRpb246e3R5cGU6ImFjY2Vzc29yIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdC5zb3VyY2VQb3NpdGlvbn19LGdldFRhcmdldFBvc2l0aW9uOnt0eXBlOiJhY2Nlc3NvciIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHQudGFyZ2V0UG9zaXRpb259fSxnZXRTb3VyY2VDb2xvcjp7dHlwZToiYWNjZXNzb3IiLHZhbHVlOmJ9LGdldFRhcmdldENvbG9yOnt0eXBlOiJhY2Nlc3NvciIsdmFsdWU6Yn0sZ2V0V2lkdGg6e3R5cGU6ImFjY2Vzc29yIix2YWx1ZToxfSxnZXRIZWlnaHQ6e3R5cGU6ImFjY2Vzc29yIix2YWx1ZToxfSxnZXRUaWx0Ont0eXBlOiJhY2Nlc3NvciIsdmFsdWU6MH0sd2lkdGhVbml0czoicGl4ZWxzIix3aWR0aFNjYWxlOnt0eXBlOiJudW1iZXIiLHZhbHVlOjEsbWluOjB9LHdpZHRoTWluUGl4ZWxzOnt0eXBlOiJudW1iZXIiLHZhbHVlOjAsbWluOjB9LHdpZHRoTWF4UGl4ZWxzOnt0eXBlOiJudW1iZXIiLHZhbHVlOk51bWJlci5NQVhfU0FGRV9JTlRFR0VSLG1pbjowfX0sTz1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7cmV0dXJuIGkoKSh0aGlzLGUpLHUoKSh0aGlzLGwoKShlKS5hcHBseSh0aGlzLGFyZ3VtZW50cykpfXJldHVybiB2KCkoZSx0KSxvKCkoZSxbe2tleToiZ2V0U2hhZGVycyIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gZigpKGwoKShlLnByb3RvdHlwZSksImdldFNoYWRlcnMiLHRoaXMpLmNhbGwodGhpcyx7dnM6IiNkZWZpbmUgU0hBREVSX05BTUUgYXJjLWxheWVyLXZlcnRleC1zaGFkZXJcblxuYXR0cmlidXRlIHZlYzMgcG9zaXRpb25zO1xuYXR0cmlidXRlIHZlYzQgaW5zdGFuY2VTb3VyY2VDb2xvcnM7XG5hdHRyaWJ1dGUgdmVjNCBpbnN0YW5jZVRhcmdldENvbG9ycztcbmF0dHJpYnV0ZSB2ZWMzIGluc3RhbmNlU291cmNlUG9zaXRpb25zO1xuYXR0cmlidXRlIHZlYzMgaW5zdGFuY2VTb3VyY2VQb3NpdGlvbnM2NExvdztcbmF0dHJpYnV0ZSB2ZWMzIGluc3RhbmNlVGFyZ2V0UG9zaXRpb25zO1xuYXR0cmlidXRlIHZlYzMgaW5zdGFuY2VUYXJnZXRQb3NpdGlvbnM2NExvdztcbmF0dHJpYnV0ZSB2ZWMzIGluc3RhbmNlUGlja2luZ0NvbG9ycztcbmF0dHJpYnV0ZSBmbG9hdCBpbnN0YW5jZVdpZHRocztcbmF0dHJpYnV0ZSBmbG9hdCBpbnN0YW5jZUhlaWdodHM7XG5hdHRyaWJ1dGUgZmxvYXQgaW5zdGFuY2VUaWx0cztcblxudW5pZm9ybSBmbG9hdCBudW1TZWdtZW50cztcbnVuaWZvcm0gZmxvYXQgb3BhY2l0eTtcbnVuaWZvcm0gZmxvYXQgd2lkdGhTY2FsZTtcbnVuaWZvcm0gZmxvYXQgd2lkdGhNaW5QaXhlbHM7XG51bmlmb3JtIGZsb2F0IHdpZHRoTWF4UGl4ZWxzO1xuXG52YXJ5aW5nIHZlYzQgdkNvbG9yO1xudmFyeWluZyB2ZWMyIHV2O1xuXG5mbG9hdCBwYXJhYm9sb2lkKHZlYzMgc291cmNlLCB2ZWMzIHRhcmdldCwgZmxvYXQgcmF0aW8pIHtcblxuICB2ZWMzIGRlbHRhID0gdGFyZ2V0IC0gc291cmNlO1xuICBmbG9hdCBkaCA9IGxlbmd0aChkZWx0YS54eSkgKiBpbnN0YW5jZUhlaWdodHM7XG4gIGZsb2F0IHVuaXRaID0gZGVsdGEueiAvIGRoO1xuICBmbG9hdCBwMiA9IHVuaXRaICogdW5pdFogKyAxLjA7XG4gIGZsb2F0IGRpciA9IHN0ZXAoZGVsdGEueiwgMC4wKTtcbiAgZmxvYXQgejAgPSBtaXgoc291cmNlLnosIHRhcmdldC56LCBkaXIpO1xuICBmbG9hdCByID0gbWl4KHJhdGlvLCAxLjAgLSByYXRpbywgZGlyKTtcbiAgcmV0dXJuIHNxcnQociAqIChwMiAtIHIpKSAqIGRoICsgejA7XG59XG52ZWMyIGdldEV4dHJ1c2lvbk9mZnNldCh2ZWMyIGxpbmVfY2xpcHNwYWNlLCBmbG9hdCBvZmZzZXRfZGlyZWN0aW9uLCBmbG9hdCB3aWR0aCkge1xuICB2ZWMyIGRpcl9zY3JlZW5zcGFjZSA9IG5vcm1hbGl6ZShsaW5lX2NsaXBzcGFjZSAqIHByb2plY3RfdVZpZXdwb3J0U2l6ZSk7XG4gIGRpcl9zY3JlZW5zcGFjZSA9IHZlYzIoLWRpcl9zY3JlZW5zcGFjZS55LCBkaXJfc2NyZWVuc3BhY2UueCk7XG5cbiAgcmV0dXJuIGRpcl9zY3JlZW5zcGFjZSAqIG9mZnNldF9kaXJlY3Rpb24gKiB3aWR0aCAvIDIuMDtcbn1cblxuZmxvYXQgZ2V0U2VnbWVudFJhdGlvKGZsb2F0IGluZGV4KSB7XG4gIHJldHVybiBzbW9vdGhzdGVwKDAuMCwgMS4wLCBpbmRleCAvIChudW1TZWdtZW50cyAtIDEuMCkpO1xufVxuXG52ZWMzIGdldFBvcyh2ZWMzIHNvdXJjZSwgdmVjMyB0YXJnZXQsIGZsb2F0IHNlZ21lbnRSYXRpbykge1xuICBmbG9hdCB6ID0gcGFyYWJvbG9pZChzb3VyY2UsIHRhcmdldCwgc2VnbWVudFJhdGlvKTtcblxuICBmbG9hdCB0aWx0QW5nbGUgPSByYWRpYW5zKGluc3RhbmNlVGlsdHMpO1xuICB2ZWMyIHRpbHREaXJlY3Rpb24gPSBub3JtYWxpemUodGFyZ2V0Lnh5IC0gc291cmNlLnh5KTtcbiAgdmVjMiB0aWx0ID0gdmVjMigtdGlsdERpcmVjdGlvbi55LCB0aWx0RGlyZWN0aW9uLngpICogeiAqIHNpbih0aWx0QW5nbGUpO1xuXG4gIHJldHVybiB2ZWMzKFxuICAgIG1peChzb3VyY2UueHksIHRhcmdldC54eSwgc2VnbWVudFJhdGlvKSArIHRpbHQsXG4gICAgeiAqIGNvcyh0aWx0QW5nbGUpXG4gICk7XG59XG5cbnZvaWQgbWFpbih2b2lkKSB7XG4gIGdlb21ldHJ5LndvcmxkUG9zaXRpb24gPSBpbnN0YW5jZVNvdXJjZVBvc2l0aW9ucztcbiAgZ2VvbWV0cnkud29ybGRQb3NpdGlvbkFsdCA9IGluc3RhbmNlVGFyZ2V0UG9zaXRpb25zO1xuXG4gIHZlYzMgc291cmNlID0gcHJvamVjdF9wb3NpdGlvbihpbnN0YW5jZVNvdXJjZVBvc2l0aW9ucywgaW5zdGFuY2VTb3VyY2VQb3NpdGlvbnM2NExvdyk7XG4gIHZlYzMgdGFyZ2V0ID0gcHJvamVjdF9wb3NpdGlvbihpbnN0YW5jZVRhcmdldFBvc2l0aW9ucywgaW5zdGFuY2VUYXJnZXRQb3NpdGlvbnM2NExvdyk7XG5cbiAgZmxvYXQgc2VnbWVudEluZGV4ID0gcG9zaXRpb25zLng7XG4gIGZsb2F0IHNlZ21lbnRSYXRpbyA9IGdldFNlZ21lbnRSYXRpbyhzZWdtZW50SW5kZXgpO1xuICBmbG9hdCBpbmRleERpciA9IG1peCgtMS4wLCAxLjAsIHN0ZXAoc2VnbWVudEluZGV4LCAwLjApKTtcbiAgZmxvYXQgbmV4dFNlZ21lbnRSYXRpbyA9IGdldFNlZ21lbnRSYXRpbyhzZWdtZW50SW5kZXggKyBpbmRleERpcik7XG5cbiAgdmVjMyBjdXJyUG9zID0gZ2V0UG9zKHNvdXJjZSwgdGFyZ2V0LCBzZWdtZW50UmF0aW8pO1xuICB2ZWMzIG5leHRQb3MgPSBnZXRQb3Moc291cmNlLCB0YXJnZXQsIG5leHRTZWdtZW50UmF0aW8pO1xuICB2ZWM0IGN1cnIgPSBwcm9qZWN0X2NvbW1vbl9wb3NpdGlvbl90b19jbGlwc3BhY2UodmVjNChjdXJyUG9zLCAxLjApKTtcbiAgdmVjNCBuZXh0ID0gcHJvamVjdF9jb21tb25fcG9zaXRpb25fdG9fY2xpcHNwYWNlKHZlYzQobmV4dFBvcywgMS4wKSk7XG4gIGdlb21ldHJ5LnBvc2l0aW9uID0gdmVjNChjdXJyUG9zLCAxLjApO1xuICB1diA9IHZlYzIoc2VnbWVudFJhdGlvLCBwb3NpdGlvbnMueSk7XG4gIGdlb21ldHJ5LnV2ID0gdXY7XG4gIGdlb21ldHJ5LnBpY2tpbmdDb2xvciA9IGluc3RhbmNlUGlja2luZ0NvbG9ycztcbiAgZmxvYXQgd2lkdGhQaXhlbHMgPSBjbGFtcChcbiAgICBwcm9qZWN0X3NpemVfdG9fcGl4ZWwoaW5zdGFuY2VXaWR0aHMgKiB3aWR0aFNjYWxlKSxcbiAgICB3aWR0aE1pblBpeGVscywgd2lkdGhNYXhQaXhlbHNcbiAgKTtcbiAgdmVjMyBvZmZzZXQgPSB2ZWMzKFxuICAgIGdldEV4dHJ1c2lvbk9mZnNldCgobmV4dC54eSAtIGN1cnIueHkpICogaW5kZXhEaXIsIHBvc2l0aW9ucy55LCB3aWR0aFBpeGVscyksXG4gICAgMC4wKTtcbiAgREVDS0dMX0ZJTFRFUl9TSVpFKG9mZnNldCwgZ2VvbWV0cnkpO1xuICBnbF9Qb3NpdGlvbiA9IGN1cnIgKyB2ZWM0KHByb2plY3RfcGl4ZWxfc2l6ZV90b19jbGlwc3BhY2Uob2Zmc2V0Lnh5KSwgMC4wLCAwLjApO1xuICBERUNLR0xfRklMVEVSX0dMX1BPU0lUSU9OKGdsX1Bvc2l0aW9uLCBnZW9tZXRyeSk7XG5cbiAgdmVjNCBjb2xvciA9IG1peChpbnN0YW5jZVNvdXJjZUNvbG9ycywgaW5zdGFuY2VUYXJnZXRDb2xvcnMsIHNlZ21lbnRSYXRpbyk7XG4gIHZDb2xvciA9IHZlYzQoY29sb3IucmdiLCBjb2xvci5hICogb3BhY2l0eSk7XG4gIERFQ0tHTF9GSUxURVJfQ09MT1IodkNvbG9yLCBnZW9tZXRyeSk7XG59XG4iLGZzOiIjZGVmaW5lIFNIQURFUl9OQU1FIGFyYy1sYXllci1mcmFnbWVudC1zaGFkZXJcblxucHJlY2lzaW9uIGhpZ2hwIGZsb2F0O1xuXG52YXJ5aW5nIHZlYzQgdkNvbG9yO1xudmFyeWluZyB2ZWMyIHV2O1xuXG52b2lkIG1haW4odm9pZCkge1xuICBnbF9GcmFnQ29sb3IgPSB2Q29sb3I7XG4gIGdlb21ldHJ5LnV2ID0gdXY7XG5cbiAgREVDS0dMX0ZJTFRFUl9DT0xPUihnbF9GcmFnQ29sb3IsIGdlb21ldHJ5KTtcbn1cbiIsbW9kdWxlczpbcC5hXX0pfX0se2tleToiaW5pdGlhbGl6ZVN0YXRlIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuZ2V0QXR0cmlidXRlTWFuYWdlcigpLmFkZEluc3RhbmNlZCh7aW5zdGFuY2VTb3VyY2VQb3NpdGlvbnM6e3NpemU6Myx0eXBlOjUxMzAsZnA2NDp0aGlzLnVzZTY0Yml0UG9zaXRpb25zKCksdHJhbnNpdGlvbjohMCxhY2Nlc3NvcjoiZ2V0U291cmNlUG9zaXRpb24ifSxpbnN0YW5jZVRhcmdldFBvc2l0aW9uczp7c2l6ZTozLHR5cGU6NTEzMCxmcDY0OnRoaXMudXNlNjRiaXRQb3NpdGlvbnMoKSx0cmFuc2l0aW9uOiEwLGFjY2Vzc29yOiJnZXRUYXJnZXRQb3NpdGlvbiJ9LGluc3RhbmNlU291cmNlQ29sb3JzOntzaXplOnRoaXMucHJvcHMuY29sb3JGb3JtYXQubGVuZ3RoLHR5cGU6NTEyMSxub3JtYWxpemVkOiEwLHRyYW5zaXRpb246ITAsYWNjZXNzb3I6ImdldFNvdXJjZUNvbG9yIixkZWZhdWx0VmFsdWU6Yn0saW5zdGFuY2VUYXJnZXRDb2xvcnM6e3NpemU6dGhpcy5wcm9wcy5jb2xvckZvcm1hdC5sZW5ndGgsdHlwZTo1MTIxLG5vcm1hbGl6ZWQ6ITAsdHJhbnNpdGlvbjohMCxhY2Nlc3NvcjoiZ2V0VGFyZ2V0Q29sb3IiLGRlZmF1bHRWYWx1ZTpifSxpbnN0YW5jZVdpZHRoczp7c2l6ZToxLHRyYW5zaXRpb246ITAsYWNjZXNzb3I6ImdldFdpZHRoIixkZWZhdWx0VmFsdWU6MX0saW5zdGFuY2VIZWlnaHRzOntzaXplOjEsdHJhbnNpdGlvbjohMCxhY2Nlc3NvcjoiZ2V0SGVpZ2h0IixkZWZhdWx0VmFsdWU6MX0saW5zdGFuY2VUaWx0czp7c2l6ZToxLHRyYW5zaXRpb246ITAsYWNjZXNzb3I6ImdldFRpbHQiLGRlZmF1bHRWYWx1ZTowfX0pfX0se2tleToidXBkYXRlU3RhdGUiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBuPXQucHJvcHMscj10Lm9sZFByb3BzLGk9dC5jaGFuZ2VGbGFncztpZihmKCkobCgpKGUucHJvdG90eXBlKSwidXBkYXRlU3RhdGUiLHRoaXMpLmNhbGwodGhpcyx7cHJvcHM6bixvbGRQcm9wczpyLGNoYW5nZUZsYWdzOml9KSxpLmV4dGVuc2lvbnNDaGFuZ2VkKXt2YXIgYT10aGlzLmNvbnRleHQuZ2w7dGhpcy5zdGF0ZS5tb2RlbCYmdGhpcy5zdGF0ZS5tb2RlbC5kZWxldGUoKSx0aGlzLnNldFN0YXRlKHttb2RlbDp0aGlzLl9nZXRNb2RlbChhKX0pLHRoaXMuZ2V0QXR0cmlidXRlTWFuYWdlcigpLmludmFsaWRhdGVBbGwoKX19fSx7a2V5OiJkcmF3Iix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10LnVuaWZvcm1zLG49dGhpcy5jb250ZXh0LnZpZXdwb3J0LHI9dGhpcy5wcm9wcyxpPXIud2lkdGhVbml0cyxhPXIud2lkdGhTY2FsZSxvPXIud2lkdGhNaW5QaXhlbHMscz1yLndpZHRoTWF4UGl4ZWxzLHU9InBpeGVscyI9PT1pP24ubWV0ZXJzUGVyUGl4ZWw6MTt0aGlzLnN0YXRlLm1vZGVsLnNldFVuaWZvcm1zKE9iamVjdC5hc3NpZ24oe30sZSx7d2lkdGhTY2FsZTphKnUsd2lkdGhNaW5QaXhlbHM6byx3aWR0aE1heFBpeGVsczpzfSkpLmRyYXcoKX19LHtrZXk6Il9nZXRNb2RlbCIsdmFsdWU6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPVtdLG49MDtuPDUwO24rKyllPWUuY29uY2F0KFtuLC0xLDAsbiwxLDBdKTt2YXIgcj1uZXcgeS5hKHQsT2JqZWN0LmFzc2lnbih7fSx0aGlzLmdldFNoYWRlcnMoKSx7aWQ6dGhpcy5wcm9wcy5pZCxnZW9tZXRyeTpuZXcgbS5hKHtkcmF3TW9kZTo1LGF0dHJpYnV0ZXM6e3Bvc2l0aW9uczpuZXcgRmxvYXQzMkFycmF5KGUpfX0pLGlzSW5zdGFuY2VkOiEwfSkpO3JldHVybiByLnNldFVuaWZvcm1zKHtudW1TZWdtZW50czo1MH0pLHJ9fV0pLGV9KGcuYSk7Ty5sYXllck5hbWU9IkFyY0xheWVyIixPLmRlZmF1bHRQcm9wcz1ffSxmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oMSksaT1uLm4ociksYT1uKDIpLG89bi5uKGEpLHM9big5KSx1PW4ubihzKSxjPW4oMyksbD1uLm4oYyksaD1uKDEyKSxmPW4ubihoKSxkPW4oMTApLHY9bi5uKGQpLHA9bigyMDIpLGc9bigyMjApLHk9bigxMTgpLG09bigxNzUpLGI9big3MSk7bi5kKGUsImEiLChmdW5jdGlvbigpe3JldHVybiBPfSkpO3ZhciBfPXtnZXRTb3VyY2VQb3NpdGlvbjp7dHlwZToiYWNjZXNzb3IiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0LnNvdXJjZVBvc2l0aW9ufX0sZ2V0VGFyZ2V0UG9zaXRpb246e3R5cGU6ImFjY2Vzc29yIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdC50YXJnZXRQb3NpdGlvbn19LGdldENvbG9yOnt0eXBlOiJhY2Nlc3NvciIsdmFsdWU6WzAsMCwwLDI1NV19LGdldFdpZHRoOnt0eXBlOiJhY2Nlc3NvciIsdmFsdWU6MX0sd2lkdGhVbml0czoicGl4ZWxzIix3aWR0aFNjYWxlOnt0eXBlOiJudW1iZXIiLHZhbHVlOjEsbWluOjB9LHdpZHRoTWluUGl4ZWxzOnt0eXBlOiJudW1iZXIiLHZhbHVlOjAsbWluOjB9LHdpZHRoTWF4UGl4ZWxzOnt0eXBlOiJudW1iZXIiLHZhbHVlOk51bWJlci5NQVhfU0FGRV9JTlRFR0VSLG1pbjowfX0sTz1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7cmV0dXJuIGkoKSh0aGlzLGUpLHUoKSh0aGlzLGwoKShlKS5hcHBseSh0aGlzLGFyZ3VtZW50cykpfXJldHVybiB2KCkoZSx0KSxvKCkoZSxbe2tleToiZ2V0U2hhZGVycyIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gZigpKGwoKShlLnByb3RvdHlwZSksImdldFNoYWRlcnMiLHRoaXMpLmNhbGwodGhpcyx7dnM6IiNkZWZpbmUgU0hBREVSX05BTUUgbGluZS1sYXllci12ZXJ0ZXgtc2hhZGVyXG5cbmF0dHJpYnV0ZSB2ZWMzIHBvc2l0aW9ucztcbmF0dHJpYnV0ZSB2ZWMzIGluc3RhbmNlU291cmNlUG9zaXRpb25zO1xuYXR0cmlidXRlIHZlYzMgaW5zdGFuY2VUYXJnZXRQb3NpdGlvbnM7XG5hdHRyaWJ1dGUgdmVjMyBpbnN0YW5jZVNvdXJjZVBvc2l0aW9uczY0TG93O1xuYXR0cmlidXRlIHZlYzMgaW5zdGFuY2VUYXJnZXRQb3NpdGlvbnM2NExvdztcbmF0dHJpYnV0ZSB2ZWM0IGluc3RhbmNlQ29sb3JzO1xuYXR0cmlidXRlIHZlYzMgaW5zdGFuY2VQaWNraW5nQ29sb3JzO1xuYXR0cmlidXRlIGZsb2F0IGluc3RhbmNlV2lkdGhzO1xuXG51bmlmb3JtIGZsb2F0IG9wYWNpdHk7XG51bmlmb3JtIGZsb2F0IHdpZHRoU2NhbGU7XG51bmlmb3JtIGZsb2F0IHdpZHRoTWluUGl4ZWxzO1xudW5pZm9ybSBmbG9hdCB3aWR0aE1heFBpeGVscztcblxudmFyeWluZyB2ZWM0IHZDb2xvcjtcbnZhcnlpbmcgdmVjMiB1djtcbnZlYzIgZ2V0RXh0cnVzaW9uT2Zmc2V0KHZlYzIgbGluZV9jbGlwc3BhY2UsIGZsb2F0IG9mZnNldF9kaXJlY3Rpb24sIGZsb2F0IHdpZHRoKSB7XG4gIHZlYzIgZGlyX3NjcmVlbnNwYWNlID0gbm9ybWFsaXplKGxpbmVfY2xpcHNwYWNlICogcHJvamVjdF91Vmlld3BvcnRTaXplKTtcbiAgZGlyX3NjcmVlbnNwYWNlID0gdmVjMigtZGlyX3NjcmVlbnNwYWNlLnksIGRpcl9zY3JlZW5zcGFjZS54KTtcblxuICByZXR1cm4gZGlyX3NjcmVlbnNwYWNlICogb2Zmc2V0X2RpcmVjdGlvbiAqIHdpZHRoIC8gMi4wO1xufVxuXG52b2lkIG1haW4odm9pZCkge1xuICBnZW9tZXRyeS53b3JsZFBvc2l0aW9uID0gaW5zdGFuY2VTb3VyY2VQb3NpdGlvbnM7XG4gIGdlb21ldHJ5LndvcmxkUG9zaXRpb25BbHQgPSBpbnN0YW5jZVRhcmdldFBvc2l0aW9ucztcbiAgdmVjNCBzb3VyY2VfY29tbW9uc3BhY2U7XG4gIHZlYzQgdGFyZ2V0X2NvbW1vbnNwYWNlO1xuICB2ZWM0IHNvdXJjZSA9IHByb2plY3RfcG9zaXRpb25fdG9fY2xpcHNwYWNlKGluc3RhbmNlU291cmNlUG9zaXRpb25zLCBpbnN0YW5jZVNvdXJjZVBvc2l0aW9uczY0TG93LCB2ZWMzKDAuKSwgc291cmNlX2NvbW1vbnNwYWNlKTtcbiAgdmVjNCB0YXJnZXQgPSBwcm9qZWN0X3Bvc2l0aW9uX3RvX2NsaXBzcGFjZShpbnN0YW5jZVRhcmdldFBvc2l0aW9ucywgaW5zdGFuY2VUYXJnZXRQb3NpdGlvbnM2NExvdywgdmVjMygwLiksIHRhcmdldF9jb21tb25zcGFjZSk7XG4gIGZsb2F0IHdpZHRoUGl4ZWxzID0gY2xhbXAoXG4gICAgcHJvamVjdF9zaXplX3RvX3BpeGVsKGluc3RhbmNlV2lkdGhzICogd2lkdGhTY2FsZSksXG4gICAgd2lkdGhNaW5QaXhlbHMsIHdpZHRoTWF4UGl4ZWxzXG4gICk7XG4gIGZsb2F0IHNlZ21lbnRJbmRleCA9IHBvc2l0aW9ucy54O1xuICB2ZWM0IHAgPSBtaXgoc291cmNlLCB0YXJnZXQsIHNlZ21lbnRJbmRleCk7XG4gIGdlb21ldHJ5LnBvc2l0aW9uID0gbWl4KHNvdXJjZV9jb21tb25zcGFjZSwgdGFyZ2V0X2NvbW1vbnNwYWNlLCBzZWdtZW50SW5kZXgpO1xuICB1diA9IHBvc2l0aW9ucy54eTtcbiAgZ2VvbWV0cnkudXYgPSB1djtcbiAgZ2VvbWV0cnkucGlja2luZ0NvbG9yID0gaW5zdGFuY2VQaWNraW5nQ29sb3JzO1xuICB2ZWMzIG9mZnNldCA9IHZlYzMoXG4gICAgZ2V0RXh0cnVzaW9uT2Zmc2V0KHRhcmdldC54eSAtIHNvdXJjZS54eSwgcG9zaXRpb25zLnksIHdpZHRoUGl4ZWxzKSxcbiAgICAwLjApO1xuICBERUNLR0xfRklMVEVSX1NJWkUob2Zmc2V0LCBnZW9tZXRyeSk7XG4gIGdsX1Bvc2l0aW9uID0gcCArIHZlYzQocHJvamVjdF9waXhlbF9zaXplX3RvX2NsaXBzcGFjZShvZmZzZXQueHkpLCAwLjAsIDAuMCk7XG4gIERFQ0tHTF9GSUxURVJfR0xfUE9TSVRJT04oZ2xfUG9zaXRpb24sIGdlb21ldHJ5KTtcbiAgdkNvbG9yID0gdmVjNChpbnN0YW5jZUNvbG9ycy5yZ2IsIGluc3RhbmNlQ29sb3JzLmEgKiBvcGFjaXR5KTtcbiAgREVDS0dMX0ZJTFRFUl9DT0xPUih2Q29sb3IsIGdlb21ldHJ5KTtcbn1cbiIsZnM6IiNkZWZpbmUgU0hBREVSX05BTUUgbGluZS1sYXllci1mcmFnbWVudC1zaGFkZXJcblxucHJlY2lzaW9uIGhpZ2hwIGZsb2F0O1xuXG52YXJ5aW5nIHZlYzQgdkNvbG9yO1xudmFyeWluZyB2ZWMyIHV2O1xuXG52b2lkIG1haW4odm9pZCkge1xuICBnZW9tZXRyeS51diA9IHV2O1xuXG4gIGdsX0ZyYWdDb2xvciA9IHZDb2xvcjtcblxuICBERUNLR0xfRklMVEVSX0NPTE9SKGdsX0ZyYWdDb2xvciwgZ2VvbWV0cnkpO1xufVxuIixtb2R1bGVzOltwLmEsZy5hXX0pfX0se2tleToiaW5pdGlhbGl6ZVN0YXRlIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuZ2V0QXR0cmlidXRlTWFuYWdlcigpLmFkZEluc3RhbmNlZCh7aW5zdGFuY2VTb3VyY2VQb3NpdGlvbnM6e3NpemU6Myx0eXBlOjUxMzAsZnA2NDp0aGlzLnVzZTY0Yml0UG9zaXRpb25zKCksdHJhbnNpdGlvbjohMCxhY2Nlc3NvcjoiZ2V0U291cmNlUG9zaXRpb24ifSxpbnN0YW5jZVRhcmdldFBvc2l0aW9uczp7c2l6ZTozLHR5cGU6NTEzMCxmcDY0OnRoaXMudXNlNjRiaXRQb3NpdGlvbnMoKSx0cmFuc2l0aW9uOiEwLGFjY2Vzc29yOiJnZXRUYXJnZXRQb3NpdGlvbiJ9LGluc3RhbmNlQ29sb3JzOntzaXplOnRoaXMucHJvcHMuY29sb3JGb3JtYXQubGVuZ3RoLHR5cGU6NTEyMSxub3JtYWxpemVkOiEwLHRyYW5zaXRpb246ITAsYWNjZXNzb3I6ImdldENvbG9yIixkZWZhdWx0VmFsdWU6WzAsMCwwLDI1NV19LGluc3RhbmNlV2lkdGhzOntzaXplOjEsdHJhbnNpdGlvbjohMCxhY2Nlc3NvcjoiZ2V0V2lkdGgiLGRlZmF1bHRWYWx1ZToxfX0pfX0se2tleToidXBkYXRlU3RhdGUiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBuPXQucHJvcHMscj10Lm9sZFByb3BzLGk9dC5jaGFuZ2VGbGFncztpZihmKCkobCgpKGUucHJvdG90eXBlKSwidXBkYXRlU3RhdGUiLHRoaXMpLmNhbGwodGhpcyx7cHJvcHM6bixvbGRQcm9wczpyLGNoYW5nZUZsYWdzOml9KSxpLmV4dGVuc2lvbnNDaGFuZ2VkKXt2YXIgYT10aGlzLmNvbnRleHQuZ2w7dGhpcy5zdGF0ZS5tb2RlbCYmdGhpcy5zdGF0ZS5tb2RlbC5kZWxldGUoKSx0aGlzLnNldFN0YXRlKHttb2RlbDp0aGlzLl9nZXRNb2RlbChhKX0pLHRoaXMuZ2V0QXR0cmlidXRlTWFuYWdlcigpLmludmFsaWRhdGVBbGwoKX19fSx7a2V5OiJkcmF3Iix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10LnVuaWZvcm1zLG49dGhpcy5jb250ZXh0LnZpZXdwb3J0LHI9dGhpcy5wcm9wcyxpPXIud2lkdGhVbml0cyxhPXIud2lkdGhTY2FsZSxvPXIud2lkdGhNaW5QaXhlbHMscz1yLndpZHRoTWF4UGl4ZWxzLHU9InBpeGVscyI9PT1pP24ubWV0ZXJzUGVyUGl4ZWw6MTt0aGlzLnN0YXRlLm1vZGVsLnNldFVuaWZvcm1zKE9iamVjdC5hc3NpZ24oe30sZSx7d2lkdGhTY2FsZTphKnUsd2lkdGhNaW5QaXhlbHM6byx3aWR0aE1heFBpeGVsczpzfSkpLmRyYXcoKX19LHtrZXk6Il9nZXRNb2RlbCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBtLmEodCxPYmplY3QuYXNzaWduKHt9LHRoaXMuZ2V0U2hhZGVycygpLHtpZDp0aGlzLnByb3BzLmlkLGdlb21ldHJ5Om5ldyBiLmEoe2RyYXdNb2RlOjUsYXR0cmlidXRlczp7cG9zaXRpb25zOm5ldyBGbG9hdDMyQXJyYXkoWzAsLTEsMCwwLDEsMCwxLC0xLDAsMSwxLDBdKX19KSxpc0luc3RhbmNlZDohMH0pKX19XSksZX0oeS5hKTtPLmxheWVyTmFtZT0iTGluZUxheWVyIixPLmRlZmF1bHRQcm9wcz1ffSxmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oMSksaT1uLm4ociksYT1uKDIpLG89bi5uKGEpLHM9big5KSx1PW4ubihzKSxjPW4oMyksbD1uLm4oYyksaD1uKDEyKSxmPW4ubihoKSxkPW4oMTApLHY9bi5uKGQpLHA9bigyMDIpLGc9bigyOTMpLHk9bigyMjApLG09bigxMTgpLGI9bigxNzUpLF89big3MSk7bi5kKGUsImEiLChmdW5jdGlvbigpe3JldHVybiBrfSkpO3ZhciBPPVswLDAsMCwyNTVdLHg9WzAsMCwxXSx3PXtzaXplVW5pdHM6InBpeGVscyIscG9pbnRTaXplOnt0eXBlOiJudW1iZXIiLG1pbjowLHZhbHVlOjEwfSxnZXRQb3NpdGlvbjp7dHlwZToiYWNjZXNzb3IiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0LnBvc2l0aW9ufX0sZ2V0Tm9ybWFsOnt0eXBlOiJhY2Nlc3NvciIsdmFsdWU6eH0sZ2V0Q29sb3I6e3R5cGU6ImFjY2Vzc29yIix2YWx1ZTpPfSxtYXRlcmlhbDohMCxyYWRpdXNQaXhlbHM6e2RlcHJlY2F0ZWRGb3I6InBvaW50U2l6ZSJ9fTt2YXIgaz1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7cmV0dXJuIGkoKSh0aGlzLGUpLHUoKSh0aGlzLGwoKShlKS5hcHBseSh0aGlzLGFyZ3VtZW50cykpfXJldHVybiB2KCkoZSx0KSxvKCkoZSxbe2tleToiZ2V0U2hhZGVycyIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIGYoKShsKCkoZS5wcm90b3R5cGUpLCJnZXRTaGFkZXJzIix0aGlzKS5jYWxsKHRoaXMse3ZzOiIjZGVmaW5lIFNIQURFUl9OQU1FIHBvaW50LWNsb3VkLWxheWVyLXZlcnRleC1zaGFkZXJcblxuYXR0cmlidXRlIHZlYzMgcG9zaXRpb25zO1xuYXR0cmlidXRlIHZlYzMgaW5zdGFuY2VOb3JtYWxzO1xuYXR0cmlidXRlIHZlYzQgaW5zdGFuY2VDb2xvcnM7XG5hdHRyaWJ1dGUgdmVjMyBpbnN0YW5jZVBvc2l0aW9ucztcbmF0dHJpYnV0ZSB2ZWMzIGluc3RhbmNlUG9zaXRpb25zNjRMb3c7XG5hdHRyaWJ1dGUgdmVjMyBpbnN0YW5jZVBpY2tpbmdDb2xvcnM7XG5cbnVuaWZvcm0gZmxvYXQgb3BhY2l0eTtcbnVuaWZvcm0gZmxvYXQgcmFkaXVzUGl4ZWxzO1xuXG52YXJ5aW5nIHZlYzQgdkNvbG9yO1xudmFyeWluZyB2ZWMyIHVuaXRQb3NpdGlvbjtcblxudm9pZCBtYWluKHZvaWQpIHtcbiAgZ2VvbWV0cnkud29ybGRQb3NpdGlvbiA9IGluc3RhbmNlUG9zaXRpb25zO1xuICBnZW9tZXRyeS5ub3JtYWwgPSBwcm9qZWN0X25vcm1hbChpbnN0YW5jZU5vcm1hbHMpO1xuICB1bml0UG9zaXRpb24gPSBwb3NpdGlvbnMueHk7XG4gIGdlb21ldHJ5LnV2ID0gdW5pdFBvc2l0aW9uO1xuICBnZW9tZXRyeS5waWNraW5nQ29sb3IgPSBpbnN0YW5jZVBpY2tpbmdDb2xvcnM7XG4gIHZlYzMgb2Zmc2V0ID0gdmVjMyhwb3NpdGlvbnMueHkgKiByYWRpdXNQaXhlbHMsIDAuMCk7XG4gIERFQ0tHTF9GSUxURVJfU0laRShvZmZzZXQsIGdlb21ldHJ5KTtcblxuICBnbF9Qb3NpdGlvbiA9IHByb2plY3RfcG9zaXRpb25fdG9fY2xpcHNwYWNlKGluc3RhbmNlUG9zaXRpb25zLCBpbnN0YW5jZVBvc2l0aW9uczY0TG93LCB2ZWMzKDAuKSwgZ2VvbWV0cnkucG9zaXRpb24pO1xuICBnbF9Qb3NpdGlvbi54eSArPSBwcm9qZWN0X3BpeGVsX3NpemVfdG9fY2xpcHNwYWNlKG9mZnNldC54eSk7XG4gIERFQ0tHTF9GSUxURVJfR0xfUE9TSVRJT04oZ2xfUG9zaXRpb24sIGdlb21ldHJ5KTtcbiAgdmVjMyBsaWdodENvbG9yID0gbGlnaHRpbmdfZ2V0TGlnaHRDb2xvcihpbnN0YW5jZUNvbG9ycy5yZ2IsIHByb2plY3RfdUNhbWVyYVBvc2l0aW9uLCBnZW9tZXRyeS5wb3NpdGlvbi54eXosIGdlb21ldHJ5Lm5vcm1hbCk7XG4gIHZDb2xvciA9IHZlYzQobGlnaHRDb2xvciwgaW5zdGFuY2VDb2xvcnMuYSAqIG9wYWNpdHkpO1xuICBERUNLR0xfRklMVEVSX0NPTE9SKHZDb2xvciwgZ2VvbWV0cnkpO1xufVxuIixmczoiI2RlZmluZSBTSEFERVJfTkFNRSBwb2ludC1jbG91ZC1sYXllci1mcmFnbWVudC1zaGFkZXJcblxucHJlY2lzaW9uIGhpZ2hwIGZsb2F0O1xuXG52YXJ5aW5nIHZlYzQgdkNvbG9yO1xudmFyeWluZyB2ZWMyIHVuaXRQb3NpdGlvbjtcblxudm9pZCBtYWluKHZvaWQpIHtcbiAgZ2VvbWV0cnkudXYgPSB1bml0UG9zaXRpb247XG5cbiAgZmxvYXQgZGlzdFRvQ2VudGVyID0gbGVuZ3RoKHVuaXRQb3NpdGlvbik7XG5cbiAgaWYgKGRpc3RUb0NlbnRlciA+IDEuMCkge1xuICAgIGRpc2NhcmQ7XG4gIH1cblxuICBnbF9GcmFnQ29sb3IgPSB2Q29sb3I7XG4gIERFQ0tHTF9GSUxURVJfQ09MT1IoZ2xfRnJhZ0NvbG9yLCBnZW9tZXRyeSk7XG59XG4iLG1vZHVsZXM6W3AuYSxnLmEseS5hXX0pfX0se2tleToiaW5pdGlhbGl6ZVN0YXRlIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuZ2V0QXR0cmlidXRlTWFuYWdlcigpLmFkZEluc3RhbmNlZCh7aW5zdGFuY2VQb3NpdGlvbnM6e3NpemU6Myx0eXBlOjUxMzAsZnA2NDp0aGlzLnVzZTY0Yml0UG9zaXRpb25zKCksdHJhbnNpdGlvbjohMCxhY2Nlc3NvcjoiZ2V0UG9zaXRpb24ifSxpbnN0YW5jZU5vcm1hbHM6e3NpemU6Myx0cmFuc2l0aW9uOiEwLGFjY2Vzc29yOiJnZXROb3JtYWwiLGRlZmF1bHRWYWx1ZTp4fSxpbnN0YW5jZUNvbG9yczp7c2l6ZTp0aGlzLnByb3BzLmNvbG9yRm9ybWF0Lmxlbmd0aCx0eXBlOjUxMjEsbm9ybWFsaXplZDohMCx0cmFuc2l0aW9uOiEwLGFjY2Vzc29yOiJnZXRDb2xvciIsZGVmYXVsdFZhbHVlOk99fSl9fSx7a2V5OiJ1cGRhdGVTdGF0ZSIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIG4scixpLGE9dC5wcm9wcyxvPXQub2xkUHJvcHMscz10LmNoYW5nZUZsYWdzO2lmKGYoKShsKCkoZS5wcm90b3R5cGUpLCJ1cGRhdGVTdGF0ZSIsdGhpcykuY2FsbCh0aGlzLHtwcm9wczphLG9sZFByb3BzOm8sY2hhbmdlRmxhZ3M6c30pLHMuZXh0ZW5zaW9uc0NoYW5nZWQpe3ZhciB1PXRoaXMuY29udGV4dC5nbDt0aGlzLnN0YXRlLm1vZGVsJiZ0aGlzLnN0YXRlLm1vZGVsLmRlbGV0ZSgpLHRoaXMuc2V0U3RhdGUoe21vZGVsOnRoaXMuX2dldE1vZGVsKHUpfSksdGhpcy5nZXRBdHRyaWJ1dGVNYW5hZ2VyKCkuaW52YWxpZGF0ZUFsbCgpfXMuZGF0YUNoYW5nZWQmJihuPWEuZGF0YSxyPW4uaGVhZGVyLGk9bi5hdHRyaWJ1dGVzLHImJmkmJihuLmxlbmd0aD1yLnZlcnRleENvdW50LGkuUE9TSVRJT04mJihpLmluc3RhbmNlUG9zaXRpb25zPWkuUE9TSVRJT04pLGkuTk9STUFMJiYoaS5pbnN0YW5jZU5vcm1hbHM9aS5OT1JNQUwpLGkuQ09MT1JfMCYmKGkuaW5zdGFuY2VDb2xvcnM9aS5DT0xPUl8wKSkpfX0se2tleToiZHJhdyIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dC51bmlmb3JtcyxuPXRoaXMuY29udGV4dC52aWV3cG9ydCxyPXRoaXMucHJvcHMsaT1yLnBvaW50U2l6ZSxhPSJtZXRlcnMiPT09ci5zaXplVW5pdHM/MS9uLm1ldGVyc1BlclBpeGVsOjE7dGhpcy5zdGF0ZS5tb2RlbC5zZXRVbmlmb3JtcyhPYmplY3QuYXNzaWduKHt9LGUse3JhZGl1c1BpeGVsczppKmF9KSkuZHJhdygpfX0se2tleToiX2dldE1vZGVsIix2YWx1ZTpmdW5jdGlvbih0KXtmb3IodmFyIGU9W10sbj0wO248MztuKyspe3ZhciByPW4vMypNYXRoLlBJKjI7ZS5wdXNoKDIqTWF0aC5jb3MociksMipNYXRoLnNpbihyKSwwKX1yZXR1cm4gbmV3IGIuYSh0LE9iamVjdC5hc3NpZ24oe30sdGhpcy5nZXRTaGFkZXJzKCkse2lkOnRoaXMucHJvcHMuaWQsZ2VvbWV0cnk6bmV3IF8uYSh7ZHJhd01vZGU6NCxhdHRyaWJ1dGVzOntwb3NpdGlvbnM6bmV3IEZsb2F0MzJBcnJheShlKX19KSxpc0luc3RhbmNlZDohMH0pKX19XSksZX0obS5hKTtrLmxheWVyTmFtZT0iUG9pbnRDbG91ZExheWVyIixrLmRlZmF1bHRQcm9wcz13fSxmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oMSksaT1uLm4ociksYT1uKDIpLG89bi5uKGEpLHM9big5KSx1PW4ubihzKSxjPW4oMyksbD1uLm4oYyksaD1uKDEyKSxmPW4ubihoKSxkPW4oMTApLHY9bi5uKGQpLHA9bigyMyksZz1uKDIwMikseT1uKDI5MyksbT1uKDIyMCksYj1uKDExOCksXz1uKDEyNyksTz1uKDcxKSx4PW4oMTEpLHc9bigxNzUpLGs9bigyNzUpLFM9bigxODcpLFA9bigxMzApO2Z1bmN0aW9uIGoodCl7cC5hLmFzc2VydCh0LnBvc2l0aW9uc3x8dC5QT1NJVElPTiwnU2ltcGxlTWVzaExheWVyIHJlcXVpcmVzICJwb3N0aW9ucyIgb3IgIlBPU0lUSU9OIiBhdHRyaWJ1dGUgaW4gbWVzaCBwcm9wZXJ0eS4nKX1mdW5jdGlvbiBUKHQpe2lmKHQuYXR0cmlidXRlcylyZXR1cm4gaih0LmF0dHJpYnV0ZXMpLHQgaW5zdGFuY2VvZiBPLmE/dDpuZXcgTy5hKHQpO2lmKHQucG9zaXRpb25zfHx0LlBPU0lUSU9OKXJldHVybiBqKHQpLG5ldyBPLmEoe2F0dHJpYnV0ZXM6dH0pO3Rocm93IEVycm9yKCJJbnZhbGlkIG1lc2giKX1uLmQoZSwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIEF9KSk7dmFyIEU9e21lc2g6e3ZhbHVlOm51bGwsdHlwZToib2JqZWN0Iixhc3luYzohMH0sdGV4dHVyZTp7dHlwZToib2JqZWN0Iix2YWx1ZTpudWxsLGFzeW5jOiEwfSxzaXplU2NhbGU6e3R5cGU6Im51bWJlciIsdmFsdWU6MSxtaW46MH0scGFyYW1ldGVyczp7ZGVwdGhUZXN0OiEwLGRlcHRoRnVuYzo1MTV9LF9pbnN0YW5jZWQ6ITAsd2lyZWZyYW1lOiExLG1hdGVyaWFsOiEwLGdldFBvc2l0aW9uOnt0eXBlOiJhY2Nlc3NvciIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHQucG9zaXRpb259fSxnZXRDb2xvcjp7dHlwZToiYWNjZXNzb3IiLHZhbHVlOlswLDAsMCwyNTVdfSxnZXRPcmllbnRhdGlvbjp7dHlwZToiYWNjZXNzb3IiLHZhbHVlOlswLDAsMF19LGdldFNjYWxlOnt0eXBlOiJhY2Nlc3NvciIsdmFsdWU6WzEsMSwxXX0sZ2V0VHJhbnNsYXRpb246e3R5cGU6ImFjY2Vzc29yIix2YWx1ZTpbMCwwLDBdfSxnZXRUcmFuc2Zvcm1NYXRyaXg6e3R5cGU6ImFjY2Vzc29yIix2YWx1ZTpbXX19LEE9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3JldHVybiBpKCkodGhpcyxlKSx1KCkodGhpcyxsKCkoZSkuYXBwbHkodGhpcyxhcmd1bWVudHMpKX1yZXR1cm4gdigpKGUsdCksbygpKGUsW3trZXk6ImdldFNoYWRlcnMiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9IU9iamVjdCh4LmcpKHRoaXMuY29udGV4dC5nbCksbj17fTtyZXR1cm4gT2JqZWN0KGsuYikodGhpcy5jb250ZXh0LmdsLFMuYS5HTFNMX0RFUklWQVRJVkVTKSYmKG4uREVSSVZBVElWRVNfQVZBSUxBQkxFPTEpLGYoKShsKCkoZS5wcm90b3R5cGUpLCJnZXRTaGFkZXJzIix0aGlzKS5jYWxsKHRoaXMse3ZzOiIjdmVyc2lvbiAzMDAgZXNcbiNkZWZpbmUgU0hBREVSX05BTUUgc2ltcGxlLW1lc2gtbGF5ZXItdnNcbnVuaWZvcm0gZmxvYXQgc2l6ZVNjYWxlO1xudW5pZm9ybSBib29sIGNvbXBvc2VNb2RlbE1hdHJpeDtcbmluIHZlYzMgcG9zaXRpb25zO1xuaW4gdmVjMyBub3JtYWxzO1xuaW4gdmVjMiB0ZXhDb29yZHM7XG5pbiB2ZWMzIGluc3RhbmNlUG9zaXRpb25zO1xuaW4gdmVjMyBpbnN0YW5jZVBvc2l0aW9uczY0TG93O1xuaW4gdmVjNCBpbnN0YW5jZUNvbG9ycztcbmluIHZlYzMgaW5zdGFuY2VQaWNraW5nQ29sb3JzO1xuaW4gbWF0MyBpbnN0YW5jZU1vZGVsTWF0cml4O1xuaW4gdmVjMyBpbnN0YW5jZVRyYW5zbGF0aW9uO1xub3V0IHZlYzIgdlRleENvb3JkO1xub3V0IHZlYzMgY2FtZXJhUG9zaXRpb247XG5vdXQgdmVjMyBub3JtYWxzX2NvbW1vbnNwYWNlO1xub3V0IHZlYzQgcG9zaXRpb25fY29tbW9uc3BhY2U7XG5vdXQgdmVjNCB2Q29sb3I7XG5cbnZvaWQgbWFpbih2b2lkKSB7XG4gIGdlb21ldHJ5LndvcmxkUG9zaXRpb24gPSBpbnN0YW5jZVBvc2l0aW9ucztcbiAgZ2VvbWV0cnkudXYgPSB0ZXhDb29yZHM7XG4gIGdlb21ldHJ5LnBpY2tpbmdDb2xvciA9IGluc3RhbmNlUGlja2luZ0NvbG9ycztcblxuICB2VGV4Q29vcmQgPSB0ZXhDb29yZHM7XG4gIGNhbWVyYVBvc2l0aW9uID0gcHJvamVjdF91Q2FtZXJhUG9zaXRpb247XG4gIG5vcm1hbHNfY29tbW9uc3BhY2UgPSBwcm9qZWN0X25vcm1hbChpbnN0YW5jZU1vZGVsTWF0cml4ICogbm9ybWFscyk7XG4gIHZDb2xvciA9IGluc3RhbmNlQ29sb3JzO1xuICBnZW9tZXRyeS5ub3JtYWwgPSBub3JtYWxzX2NvbW1vbnNwYWNlO1xuXG4gIHZlYzMgcG9zID0gKGluc3RhbmNlTW9kZWxNYXRyaXggKiBwb3NpdGlvbnMpICogc2l6ZVNjYWxlICsgaW5zdGFuY2VUcmFuc2xhdGlvbjtcblxuICBpZiAoY29tcG9zZU1vZGVsTWF0cml4KSB7XG4gICAgREVDS0dMX0ZJTFRFUl9TSVpFKHBvcywgZ2VvbWV0cnkpO1xuICAgIGdsX1Bvc2l0aW9uID0gcHJvamVjdF9wb3NpdGlvbl90b19jbGlwc3BhY2UocG9zICsgaW5zdGFuY2VQb3NpdGlvbnMsIGluc3RhbmNlUG9zaXRpb25zNjRMb3csIHZlYzMoMC4wKSwgcG9zaXRpb25fY29tbW9uc3BhY2UpO1xuICB9XG4gIGVsc2Uge1xuICAgIHBvcyA9IHByb2plY3Rfc2l6ZShwb3MpO1xuICAgIERFQ0tHTF9GSUxURVJfU0laRShwb3MsIGdlb21ldHJ5KTtcbiAgICBnbF9Qb3NpdGlvbiA9IHByb2plY3RfcG9zaXRpb25fdG9fY2xpcHNwYWNlKGluc3RhbmNlUG9zaXRpb25zLCBpbnN0YW5jZVBvc2l0aW9uczY0TG93LCBwb3MsIHBvc2l0aW9uX2NvbW1vbnNwYWNlKTtcbiAgfVxuXG4gIGdlb21ldHJ5LnBvc2l0aW9uID0gcG9zaXRpb25fY29tbW9uc3BhY2U7XG4gIERFQ0tHTF9GSUxURVJfR0xfUE9TSVRJT04oZ2xfUG9zaXRpb24sIGdlb21ldHJ5KTtcblxuICBERUNLR0xfRklMVEVSX0NPTE9SKHZDb2xvciwgZ2VvbWV0cnkpO1xufVxuIixmczoiI3ZlcnNpb24gMzAwIGVzXG4jZGVmaW5lIFNIQURFUl9OQU1FIHNpbXBsZS1tZXNoLWxheWVyLWZzXG5cbnByZWNpc2lvbiBoaWdocCBmbG9hdDtcblxudW5pZm9ybSBib29sIGhhc1RleHR1cmU7XG51bmlmb3JtIHNhbXBsZXIyRCBzYW1wbGVyO1xudW5pZm9ybSBib29sIGZsYXRTaGFkaW5nO1xudW5pZm9ybSBmbG9hdCBvcGFjaXR5O1xuXG5pbiB2ZWMyIHZUZXhDb29yZDtcbmluIHZlYzMgY2FtZXJhUG9zaXRpb247XG5pbiB2ZWMzIG5vcm1hbHNfY29tbW9uc3BhY2U7XG5pbiB2ZWM0IHBvc2l0aW9uX2NvbW1vbnNwYWNlO1xuaW4gdmVjNCB2Q29sb3I7XG5cbm91dCB2ZWM0IGZyYWdDb2xvcjtcblxudm9pZCBtYWluKHZvaWQpIHtcbiAgZ2VvbWV0cnkudXYgPSB2VGV4Q29vcmQ7XG5cbiAgdmVjMyBub3JtYWw7XG4gIGlmIChmbGF0U2hhZGluZykge1xuI2lmZGVmIERFUklWQVRJVkVTX0FWQUlMQUJMRVxuICAgIG5vcm1hbCA9IG5vcm1hbGl6ZShjcm9zcyhkRmR4KHBvc2l0aW9uX2NvbW1vbnNwYWNlLnh5eiksIGRGZHkocG9zaXRpb25fY29tbW9uc3BhY2UueHl6KSkpO1xuI2Vsc2VcbiAgICBub3JtYWwgPSB2ZWMzKDAuMCwgMC4wLCAxLjApO1xuI2VuZGlmXG4gIH0gZWxzZSB7XG4gICAgbm9ybWFsID0gbm9ybWFsc19jb21tb25zcGFjZTtcbiAgfVxuXG4gIHZlYzQgY29sb3IgPSBoYXNUZXh0dXJlID8gdGV4dHVyZShzYW1wbGVyLCB2VGV4Q29vcmQpIDogdkNvbG9yO1xuICB2ZWMzIGxpZ2h0Q29sb3IgPSBsaWdodGluZ19nZXRMaWdodENvbG9yKGNvbG9yLnJnYiwgY2FtZXJhUG9zaXRpb24sIHBvc2l0aW9uX2NvbW1vbnNwYWNlLnh5eiwgbm9ybWFsKTtcbiAgZnJhZ0NvbG9yID0gdmVjNChsaWdodENvbG9yLCBjb2xvci5hICogb3BhY2l0eSk7XG5cbiAgREVDS0dMX0ZJTFRFUl9DT0xPUihmcmFnQ29sb3IsIGdlb21ldHJ5KTtcbn1cbiIsbW9kdWxlczpbZy5hLHkuYixtLmFdLHRyYW5zcGlsZVRvR0xTTDEwMDp0LGRlZmluZXM6bn0pfX0se2tleToiaW5pdGlhbGl6ZVN0YXRlIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuZ2V0QXR0cmlidXRlTWFuYWdlcigpLmFkZEluc3RhbmNlZCh7aW5zdGFuY2VQb3NpdGlvbnM6e3RyYW5zaXRpb246ITAsdHlwZTo1MTMwLGZwNjQ6dGhpcy51c2U2NGJpdFBvc2l0aW9ucygpLHNpemU6MyxhY2Nlc3NvcjoiZ2V0UG9zaXRpb24ifSxpbnN0YW5jZUNvbG9yczp7dHlwZTo1MTIxLHRyYW5zaXRpb246ITAsc2l6ZTp0aGlzLnByb3BzLmNvbG9yRm9ybWF0Lmxlbmd0aCxub3JtYWxpemVkOiEwLGFjY2Vzc29yOiJnZXRDb2xvciIsZGVmYXVsdFZhbHVlOlswLDAsMCwyNTVdfSxpbnN0YW5jZU1vZGVsTWF0cml4OlAuYX0pLHRoaXMuc2V0U3RhdGUoe2VtcHR5VGV4dHVyZTpuZXcgXy5hKHRoaXMuY29udGV4dC5nbCx7ZGF0YTpuZXcgVWludDhBcnJheSg0KSx3aWR0aDoxLGhlaWdodDoxfSl9KX19LHtrZXk6InVwZGF0ZVN0YXRlIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgbj10LnByb3BzLHI9dC5vbGRQcm9wcyxpPXQuY2hhbmdlRmxhZ3M7aWYoZigpKGwoKShlLnByb3RvdHlwZSksInVwZGF0ZVN0YXRlIix0aGlzKS5jYWxsKHRoaXMse3Byb3BzOm4sb2xkUHJvcHM6cixjaGFuZ2VGbGFnczppfSksbi5tZXNoIT09ci5tZXNofHxpLmV4dGVuc2lvbnNDaGFuZ2VkKXtpZih0aGlzLnN0YXRlLm1vZGVsJiZ0aGlzLnN0YXRlLm1vZGVsLmRlbGV0ZSgpLG4ubWVzaCl7dGhpcy5zZXRTdGF0ZSh7bW9kZWw6dGhpcy5nZXRNb2RlbChuLm1lc2gpfSk7dmFyIGE9bi5tZXNoLmF0dHJpYnV0ZXN8fG4ubWVzaDt0aGlzLnNldFN0YXRlKHtoYXNOb3JtYWxzOkJvb2xlYW4oYS5OT1JNQUx8fGEubm9ybWFscyl9KX10aGlzLmdldEF0dHJpYnV0ZU1hbmFnZXIoKS5pbnZhbGlkYXRlQWxsKCl9bi50ZXh0dXJlIT09ci50ZXh0dXJlJiZ0aGlzLnNldFRleHR1cmUobi50ZXh0dXJlKSx0aGlzLnN0YXRlLm1vZGVsJiZ0aGlzLnN0YXRlLm1vZGVsLnNldERyYXdNb2RlKHRoaXMucHJvcHMud2lyZWZyYW1lPzM6NCl9fSx7a2V5OiJmaW5hbGl6ZVN0YXRlIix2YWx1ZTpmdW5jdGlvbigpe2YoKShsKCkoZS5wcm90b3R5cGUpLCJmaW5hbGl6ZVN0YXRlIix0aGlzKS5jYWxsKHRoaXMpLHRoaXMuc3RhdGUuZW1wdHlUZXh0dXJlLmRlbGV0ZSgpLHRoaXMuc3RhdGUudGV4dHVyZSYmdGhpcy5zdGF0ZS50ZXh0dXJlLmRlbGV0ZSgpfX0se2tleToiZHJhdyIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dC51bmlmb3JtcztpZih0aGlzLnN0YXRlLm1vZGVsKXt2YXIgbj10aGlzLmNvbnRleHQudmlld3BvcnQscj10aGlzLnByb3BzLGk9ci5zaXplU2NhbGUsYT1yLmNvb3JkaW5hdGVTeXN0ZW0sbz1yLl9pbnN0YW5jZWQ7dGhpcy5zdGF0ZS5tb2RlbC5kcmF3KHt1bmlmb3JtczpPYmplY3QuYXNzaWduKHt9LGUse3NpemVTY2FsZTppLGNvbXBvc2VNb2RlbE1hdHJpeDohb3x8T2JqZWN0KFAuYikobixhKSxmbGF0U2hhZGluZzohdGhpcy5zdGF0ZS5oYXNOb3JtYWxzfSl9KX19fSx7a2V5OiJnZXRNb2RlbCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9bmV3IHcuYSh0aGlzLmNvbnRleHQuZ2wsT2JqZWN0LmFzc2lnbih7fSx0aGlzLmdldFNoYWRlcnMoKSx7aWQ6dGhpcy5wcm9wcy5pZCxnZW9tZXRyeTpUKHQpLGlzSW5zdGFuY2VkOiEwfSkpLG49dGhpcy5zdGF0ZSxyPW4udGV4dHVyZSxpPW4uZW1wdHlUZXh0dXJlO3JldHVybiBlLnNldFVuaWZvcm1zKHtzYW1wbGVyOnJ8fGksaGFzVGV4dHVyZTpCb29sZWFuKHIpfSksZX19LHtrZXk6InNldFRleHR1cmUiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuY29udGV4dC5nbCxuPXRoaXMuc3RhdGUscj1uLmVtcHR5VGV4dHVyZSxpPW4ubW9kZWw7dGhpcy5zdGF0ZS50ZXh0dXJlJiZ0aGlzLnN0YXRlLnRleHR1cmUuZGVsZXRlKCk7dmFyIGE9dD9mdW5jdGlvbih0LGUsbil7cmV0dXJuIGUgaW5zdGFuY2VvZiBfLmE/ZTpuZXcgXy5hKHQsT2JqZWN0LmFzc2lnbih7ZGF0YTplfSxuKSl9KGUsdCk6bnVsbDt0aGlzLnNldFN0YXRlKHt0ZXh0dXJlOmF9KSxpJiZpLnNldFVuaWZvcm1zKHtzYW1wbGVyOmF8fHIsaGFzVGV4dHVyZTpCb29sZWFuKGEpfSl9fV0pLGV9KGIuYSk7QS5sYXllck5hbWU9IlNpbXBsZU1lc2hMYXllciIsQS5kZWZhdWx0UHJvcHM9RX0sZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKDEpLGk9bi5uKHIpLGE9bigyKSxvPW4ubihhKSxzPW4oOSksdT1uLm4ocyksYz1uKDMpLGw9bi5uKGMpLGg9bigxMCksZj1uLm4oaCksZD1uKDIzKSx2PW4oMTg1KSxwPW4oMTYwKSxnPW4oMTEwKSx5PW4oMTE5KSxtPW4oMTc0KTtmdW5jdGlvbiBiKHQsZSl7Zm9yKHZhciBuPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTp7fSxyPXtwb2ludEZlYXR1cmVzOltdLGxpbmVGZWF0dXJlczpbXSxwb2x5Z29uRmVhdHVyZXM6W10scG9seWdvbk91dGxpbmVGZWF0dXJlczpbXX0saT1uLnN0YXJ0Um93LGE9dm9pZCAwPT09aT8wOmksbz1uLmVuZFJvdyxzPXZvaWQgMD09PW8/dC5sZW5ndGg6byx1PWE7dTxzO3UrKyl7dmFyIGM9dFt1XTtkLmEuYXNzZXJ0KGMmJmMuZ2VvbWV0cnksIkdlb0pTT04gZG9lcyBub3QgaGF2ZSBnZW9tZXRyeSIpO3ZhciBsPWMuZ2VvbWV0cnk7aWYoIkdlb21ldHJ5Q29sbGVjdGlvbiI9PT1sLnR5cGUpe2QuYS5hc3NlcnQoQXJyYXkuaXNBcnJheShsLmdlb21ldHJpZXMpLCJHZW9KU09OIGRvZXMgbm90IGhhdmUgZ2VvbWV0cmllcyBhcnJheSIpO2Zvcih2YXIgaD1sLmdlb21ldHJpZXMsZj0wO2Y8aC5sZW5ndGg7ZisrKXt2YXIgdj1oW2ZdO18odixyLGUsYyx1KX19ZWxzZSBfKGwscixlLGMsdSl9cmV0dXJuIHJ9ZnVuY3Rpb24gXyh0LGUsbixyLGkpe3ZhciBhPXQudHlwZSxvPXQuY29vcmRpbmF0ZXMscz1lLnBvaW50RmVhdHVyZXMsdT1lLmxpbmVGZWF0dXJlcyxjPWUucG9seWdvbkZlYXR1cmVzLGw9ZS5wb2x5Z29uT3V0bGluZUZlYXR1cmVzO2lmKGZ1bmN0aW9uKHQsZSl7dmFyIG49T1t0XTtkLmEuYXNzZXJ0KG4sIlVua25vd24gR2VvSlNPTiB0eXBlICIuY29uY2F0KHQpKTtmb3IoO2UmJi0tbj4wOyllPWVbMF07cmV0dXJuIGUmJk51bWJlci5pc0Zpbml0ZShlWzBdKX0oYSxvKSlzd2l0Y2goYSl7Y2FzZSJQb2ludCI6cy5wdXNoKG4oe2dlb21ldHJ5OnR9LHIsaSkpO2JyZWFrO2Nhc2UiTXVsdGlQb2ludCI6by5mb3JFYWNoKChmdW5jdGlvbih0KXtzLnB1c2gobih7Z2VvbWV0cnk6e3R5cGU6IlBvaW50Iixjb29yZGluYXRlczp0fX0scixpKSl9KSk7YnJlYWs7Y2FzZSJMaW5lU3RyaW5nIjp1LnB1c2gobih7Z2VvbWV0cnk6dH0scixpKSk7YnJlYWs7Y2FzZSJNdWx0aUxpbmVTdHJpbmciOm8uZm9yRWFjaCgoZnVuY3Rpb24odCl7dS5wdXNoKG4oe2dlb21ldHJ5Ont0eXBlOiJMaW5lU3RyaW5nIixjb29yZGluYXRlczp0fX0scixpKSl9KSk7YnJlYWs7Y2FzZSJQb2x5Z29uIjpjLnB1c2gobih7Z2VvbWV0cnk6dH0scixpKSksby5mb3JFYWNoKChmdW5jdGlvbih0KXtsLnB1c2gobih7Z2VvbWV0cnk6e3R5cGU6IkxpbmVTdHJpbmciLGNvb3JkaW5hdGVzOnR9fSxyLGkpKX0pKTticmVhaztjYXNlIk11bHRpUG9seWdvbiI6by5mb3JFYWNoKChmdW5jdGlvbih0KXtjLnB1c2gobih7Z2VvbWV0cnk6e3R5cGU6IlBvbHlnb24iLGNvb3JkaW5hdGVzOnR9fSxyLGkpKSx0LmZvckVhY2goKGZ1bmN0aW9uKHQpe2wucHVzaChuKHtnZW9tZXRyeTp7dHlwZToiTGluZVN0cmluZyIsY29vcmRpbmF0ZXM6dH19LHIsaSkpfSkpfSkpfWVsc2UgZC5hLndhcm4oIiIuY29uY2F0KGEsIiBjb29yZGluYXRlcyBhcmUgbWFsZm9ybWVkIikpKCl9dmFyIE89e1BvaW50OjEsTXVsdGlQb2ludDoyLExpbmVTdHJpbmc6MixNdWx0aUxpbmVTdHJpbmc6MyxQb2x5Z29uOjMsTXVsdGlQb2x5Z29uOjR9O24uZChlLCJhIiwoZnVuY3Rpb24oKXtyZXR1cm4ga30pKTt2YXIgeD17c3Ryb2tlZDohMCxmaWxsZWQ6ITAsZXh0cnVkZWQ6ITEsd2lyZWZyYW1lOiExLGxpbmVXaWR0aFVuaXRzOiJtZXRlcnMiLGxpbmVXaWR0aFNjYWxlOjEsbGluZVdpZHRoTWluUGl4ZWxzOjAsbGluZVdpZHRoTWF4UGl4ZWxzOk51bWJlci5NQVhfU0FGRV9JTlRFR0VSLGxpbmVKb2ludFJvdW5kZWQ6ITEsbGluZU1pdGVyTGltaXQ6NCxlbGV2YXRpb25TY2FsZToxLHBvaW50UmFkaXVzU2NhbGU6MSxwb2ludFJhZGl1c01pblBpeGVsczowLHBvaW50UmFkaXVzTWF4UGl4ZWxzOk51bWJlci5NQVhfU0FGRV9JTlRFR0VSLGdldExpbmVDb2xvcjp7dHlwZToiYWNjZXNzb3IiLHZhbHVlOlswLDAsMCwyNTVdfSxnZXRGaWxsQ29sb3I6e3R5cGU6ImFjY2Vzc29yIix2YWx1ZTpbMCwwLDAsMjU1XX0sZ2V0UmFkaXVzOnt0eXBlOiJhY2Nlc3NvciIsdmFsdWU6MX0sZ2V0TGluZVdpZHRoOnt0eXBlOiJhY2Nlc3NvciIsdmFsdWU6MX0sZ2V0RWxldmF0aW9uOnt0eXBlOiJhY2Nlc3NvciIsdmFsdWU6MWUzfSxtYXRlcmlhbDohMH07ZnVuY3Rpb24gdyh0KXtyZXR1cm4gdC5nZW9tZXRyeS5jb29yZGluYXRlc312YXIgaz1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7cmV0dXJuIGkoKSh0aGlzLGUpLHUoKSh0aGlzLGwoKShlKS5hcHBseSh0aGlzLGFyZ3VtZW50cykpfXJldHVybiBmKCkoZSx0KSxvKCkoZSxbe2tleToiaW5pdGlhbGl6ZVN0YXRlIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuc3RhdGU9e2ZlYXR1cmVzOnt9fSx0aGlzLnByb3BzLmdldExpbmVEYXNoQXJyYXkmJmQuYS5yZW1vdmVkKCJnZXRMaW5lRGFzaEFycmF5IiwiUGF0aFN0eWxlRXh0ZW5zaW9uIikoKX19LHtrZXk6InVwZGF0ZVN0YXRlIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10LnByb3BzLG49dC5jaGFuZ2VGbGFncztpZihuLmRhdGFDaGFuZ2VkKXt2YXIgcj1mdW5jdGlvbih0KXtpZihBcnJheS5pc0FycmF5KHQpKXJldHVybiB0O3N3aXRjaChkLmEuYXNzZXJ0KHQudHlwZSwiR2VvSlNPTiBkb2VzIG5vdCBoYXZlIHR5cGUiKSx0LnR5cGUpe2Nhc2UiRmVhdHVyZSI6cmV0dXJuW3RdO2Nhc2UiRmVhdHVyZUNvbGxlY3Rpb24iOnJldHVybiBkLmEuYXNzZXJ0KEFycmF5LmlzQXJyYXkodC5mZWF0dXJlcyksIkdlb0pTT04gZG9lcyBub3QgaGF2ZSBmZWF0dXJlcyBhcnJheSIpLHQuZmVhdHVyZXM7ZGVmYXVsdDpyZXR1cm5be2dlb21ldHJ5OnR9XX19KGUuZGF0YSksaT10aGlzLmdldFN1YkxheWVyUm93LmJpbmQodGhpcyk7aWYoQXJyYXkuaXNBcnJheShuLmRhdGFDaGFuZ2VkKSl7dmFyIGE9dGhpcy5zdGF0ZS5mZWF0dXJlcyxvPXt9LHM9e307Zm9yKHZhciB1IGluIGEpb1t1XT1hW3VdLnNsaWNlKCksc1t1XT1bXTt2YXIgYz0hMCxsPSExLGg9dm9pZCAwO3RyeXtmb3IodmFyIGYsdj1uLmRhdGFDaGFuZ2VkW1N5bWJvbC5pdGVyYXRvcl0oKTshKGM9KGY9di5uZXh0KCkpLmRvbmUpO2M9ITApe3ZhciBwPWYudmFsdWUsZz1iKHIsaSxwKTtmb3IodmFyIHkgaW4gYSlzW3ldLnB1c2goT2JqZWN0KG0uYSkoe2RhdGE6b1t5XSxnZXRJbmRleDpmdW5jdGlvbih0KXtyZXR1cm4gdC5fX3NvdXJjZS5pbmRleH0sZGF0YVJhbmdlOnAscmVwbGFjZTpnW3ldfSkpfX1jYXRjaCh0KXtsPSEwLGg9dH1maW5hbGx5e3RyeXtjfHxudWxsPT12LnJldHVybnx8di5yZXR1cm4oKX1maW5hbGx5e2lmKGwpdGhyb3cgaH19dGhpcy5zZXRTdGF0ZSh7ZmVhdHVyZXM6byxmZWF0dXJlc0RpZmY6c30pfWVsc2UgdGhpcy5zZXRTdGF0ZSh7ZmVhdHVyZXM6YihyLGkpLGZlYXR1cmVzRGlmZjp7fX0pfX19LHtrZXk6InJlbmRlckxheWVycyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnN0YXRlLGU9dC5mZWF0dXJlcyxuPXQuZmVhdHVyZXNEaWZmLHI9ZS5wb2ludEZlYXR1cmVzLGk9ZS5saW5lRmVhdHVyZXMsYT1lLnBvbHlnb25GZWF0dXJlcyxvPWUucG9seWdvbk91dGxpbmVGZWF0dXJlcyxzPXRoaXMucHJvcHMsdT1zLnN0cm9rZWQsYz1zLmZpbGxlZCxsPXMuZXh0cnVkZWQsaD1zLndpcmVmcmFtZSxmPXMubWF0ZXJpYWwsZD1zLnRyYW5zaXRpb25zLHY9dGhpcy5wcm9wcyxtPXYubGluZVdpZHRoVW5pdHMsYj12LmxpbmVXaWR0aFNjYWxlLF89di5saW5lV2lkdGhNaW5QaXhlbHMsTz12LmxpbmVXaWR0aE1heFBpeGVscyx4PXYubGluZUpvaW50Um91bmRlZCxrPXYubGluZU1pdGVyTGltaXQsUz12LnBvaW50UmFkaXVzU2NhbGUsUD12LnBvaW50UmFkaXVzTWluUGl4ZWxzLGo9di5wb2ludFJhZGl1c01heFBpeGVscyxUPXYuZWxldmF0aW9uU2NhbGUsRT12LmxpbmVEYXNoSnVzdGlmaWVkLEE9dGhpcy5wcm9wcyxNPUEuZ2V0TGluZUNvbG9yLEM9QS5nZXRGaWxsQ29sb3IsTD1BLmdldFJhZGl1cyxJPUEuZ2V0TGluZVdpZHRoLFI9QS5nZXRMaW5lRGFzaEFycmF5LE49QS5nZXRFbGV2YXRpb24sRD1BLnVwZGF0ZVRyaWdnZXJzLEY9dGhpcy5nZXRTdWJMYXllckNsYXNzKCJwb2x5Z29ucy1maWxsIix5LmEpLHo9dGhpcy5nZXRTdWJMYXllckNsYXNzKCJwb2x5Z29ucy1zdHJva2UiLGcuYSksQj10aGlzLmdldFN1YkxheWVyQ2xhc3MoImxpbmUtc3RyaW5ncyIsZy5hKSxVPXRoaXMuZ2V0U3ViTGF5ZXJDbGFzcygicG9pbnRzIixwLmEpLFY9dGhpcy5zaG91bGRSZW5kZXJTdWJMYXllcigicG9seWdvbnMtZmlsbCIsYSkmJm5ldyBGKHtfZGF0YURpZmY6bi5wb2x5Z29uRmVhdHVyZXMmJmZ1bmN0aW9uKCl7cmV0dXJuIG4ucG9seWdvbkZlYXR1cmVzfSxleHRydWRlZDpsLGVsZXZhdGlvblNjYWxlOlQsZmlsbGVkOmMsd2lyZWZyYW1lOmgsbWF0ZXJpYWw6ZixnZXRFbGV2YXRpb246dGhpcy5nZXRTdWJMYXllckFjY2Vzc29yKE4pLGdldEZpbGxDb2xvcjp0aGlzLmdldFN1YkxheWVyQWNjZXNzb3IoQyksZ2V0TGluZUNvbG9yOnRoaXMuZ2V0U3ViTGF5ZXJBY2Nlc3NvcihNKSx0cmFuc2l0aW9uczpkJiZ7Z2V0UG9seWdvbjpkLmdlb21ldHJ5LGdldEVsZXZhdGlvbjpkLmdldEVsZXZhdGlvbixnZXRGaWxsQ29sb3I6ZC5nZXRGaWxsQ29sb3IsZ2V0TGluZUNvbG9yOmQuZ2V0TGluZUNvbG9yfX0sdGhpcy5nZXRTdWJMYXllclByb3BzKHtpZDoicG9seWdvbnMtZmlsbCIsdXBkYXRlVHJpZ2dlcnM6e2dldEVsZXZhdGlvbjpELmdldEVsZXZhdGlvbixnZXRGaWxsQ29sb3I6RC5nZXRGaWxsQ29sb3IsZ2V0TGluZUNvbG9yOkQuZ2V0TGluZUNvbG9yfX0pLHtkYXRhOmEsZ2V0UG9seWdvbjp3fSk7cmV0dXJuWyFsJiZWLCFsJiZ1JiZ0aGlzLnNob3VsZFJlbmRlclN1YkxheWVyKCJwb2x5Z29ucy1zdHJva2UiLG8pJiZuZXcgeih7X2RhdGFEaWZmOm4ucG9seWdvbk91dGxpbmVGZWF0dXJlcyYmZnVuY3Rpb24oKXtyZXR1cm4gbi5wb2x5Z29uT3V0bGluZUZlYXR1cmVzfSx3aWR0aFVuaXRzOm0sd2lkdGhTY2FsZTpiLHdpZHRoTWluUGl4ZWxzOl8sd2lkdGhNYXhQaXhlbHM6Tyxyb3VuZGVkOngsbWl0ZXJMaW1pdDprLGRhc2hKdXN0aWZpZWQ6RSxnZXRDb2xvcjp0aGlzLmdldFN1YkxheWVyQWNjZXNzb3IoTSksZ2V0V2lkdGg6dGhpcy5nZXRTdWJMYXllckFjY2Vzc29yKEkpLGdldERhc2hBcnJheTp0aGlzLmdldFN1YkxheWVyQWNjZXNzb3IoUiksdHJhbnNpdGlvbnM6ZCYme2dldFBhdGg6ZC5nZW9tZXRyeSxnZXRDb2xvcjpkLmdldExpbmVDb2xvcixnZXRXaWR0aDpkLmdldExpbmVXaWR0aH19LHRoaXMuZ2V0U3ViTGF5ZXJQcm9wcyh7aWQ6InBvbHlnb25zLXN0cm9rZSIsdXBkYXRlVHJpZ2dlcnM6e2dldENvbG9yOkQuZ2V0TGluZUNvbG9yLGdldFdpZHRoOkQuZ2V0TGluZVdpZHRoLGdldERhc2hBcnJheTpELmdldExpbmVEYXNoQXJyYXl9fSkse2RhdGE6byxnZXRQYXRoOnd9KSx0aGlzLnNob3VsZFJlbmRlclN1YkxheWVyKCJsaW5lc3RyaW5ncyIsaSkmJm5ldyBCKHtfZGF0YURpZmY6bi5saW5lRmVhdHVyZXMmJmZ1bmN0aW9uKCl7cmV0dXJuIG4ubGluZUZlYXR1cmVzfSx3aWR0aFVuaXRzOm0sd2lkdGhTY2FsZTpiLHdpZHRoTWluUGl4ZWxzOl8sd2lkdGhNYXhQaXhlbHM6Tyxyb3VuZGVkOngsbWl0ZXJMaW1pdDprLGRhc2hKdXN0aWZpZWQ6RSxnZXRDb2xvcjp0aGlzLmdldFN1YkxheWVyQWNjZXNzb3IoTSksZ2V0V2lkdGg6dGhpcy5nZXRTdWJMYXllckFjY2Vzc29yKEkpLGdldERhc2hBcnJheTp0aGlzLmdldFN1YkxheWVyQWNjZXNzb3IoUiksdHJhbnNpdGlvbnM6ZCYme2dldFBhdGg6ZC5nZW9tZXRyeSxnZXRDb2xvcjpkLmdldExpbmVDb2xvcixnZXRXaWR0aDpkLmdldExpbmVXaWR0aH19LHRoaXMuZ2V0U3ViTGF5ZXJQcm9wcyh7aWQ6ImxpbmUtc3RyaW5ncyIsdXBkYXRlVHJpZ2dlcnM6e2dldENvbG9yOkQuZ2V0TGluZUNvbG9yLGdldFdpZHRoOkQuZ2V0TGluZVdpZHRoLGdldERhc2hBcnJheTpELmdldExpbmVEYXNoQXJyYXl9fSkse2RhdGE6aSxnZXRQYXRoOnd9KSx0aGlzLnNob3VsZFJlbmRlclN1YkxheWVyKCJwb2ludHMiLHIpJiZuZXcgVSh7X2RhdGFEaWZmOm4ucG9pbnRGZWF0dXJlcyYmZnVuY3Rpb24oKXtyZXR1cm4gbi5wb2ludEZlYXR1cmVzfSxzdHJva2VkOnUsZmlsbGVkOmMscmFkaXVzU2NhbGU6UyxyYWRpdXNNaW5QaXhlbHM6UCxyYWRpdXNNYXhQaXhlbHM6aixsaW5lV2lkdGhVbml0czptLGxpbmVXaWR0aFNjYWxlOmIsbGluZVdpZHRoTWluUGl4ZWxzOl8sbGluZVdpZHRoTWF4UGl4ZWxzOk8sZ2V0RmlsbENvbG9yOnRoaXMuZ2V0U3ViTGF5ZXJBY2Nlc3NvcihDKSxnZXRMaW5lQ29sb3I6dGhpcy5nZXRTdWJMYXllckFjY2Vzc29yKE0pLGdldFJhZGl1czp0aGlzLmdldFN1YkxheWVyQWNjZXNzb3IoTCksZ2V0TGluZVdpZHRoOnRoaXMuZ2V0U3ViTGF5ZXJBY2Nlc3NvcihJKSx0cmFuc2l0aW9uczpkJiZ7Z2V0UG9zaXRpb246ZC5nZW9tZXRyeSxnZXRGaWxsQ29sb3I6ZC5nZXRGaWxsQ29sb3IsZ2V0TGluZUNvbG9yOmQuZ2V0TGluZUNvbG9yLGdldFJhZGl1czpkLmdldFJhZGl1cyxnZXRMaW5lV2lkdGg6ZC5nZXRMaW5lV2lkdGh9fSx0aGlzLmdldFN1YkxheWVyUHJvcHMoe2lkOiJwb2ludHMiLHVwZGF0ZVRyaWdnZXJzOntnZXRGaWxsQ29sb3I6RC5nZXRGaWxsQ29sb3IsZ2V0TGluZUNvbG9yOkQuZ2V0TGluZUNvbG9yLGdldFJhZGl1czpELmdldFJhZGl1cyxnZXRMaW5lV2lkdGg6RC5nZXRMaW5lV2lkdGh9fSkse2RhdGE6cixnZXRQb3NpdGlvbjp3LGhpZ2hsaWdodGVkT2JqZWN0SW5kZXg6dGhpcy5fZ2V0SGlnaGxpZ2h0ZWRJbmRleChyKX0pLGwmJlZdfX0se2tleToiX2dldEhpZ2hsaWdodGVkSW5kZXgiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMucHJvcHMuaGlnaGxpZ2h0ZWRPYmplY3RJbmRleDtyZXR1cm4gTnVtYmVyLmlzRmluaXRlKGUpP3QuZmluZEluZGV4KChmdW5jdGlvbih0KXtyZXR1cm4gdC5fX3NvdXJjZS5pbmRleD09PWV9KSk6bnVsbH19XSksZX0odi5hKTtrLmxheWVyTmFtZT0iR2VvSnNvbkxheWVyIixrLmRlZmF1bHRQcm9wcz14fSxmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oNiksaT1uKDcpLGE9bigxNyksbz1uKDE1KSxzPW4oMTgpLHU9bigxMjYpLGM9bigyNyksbD1uKDgzKSxoPW4oMTQpLGY9big2OCksZD1uKDM2KSx2PW4oNDkpO2Z1bmN0aW9uIHAoKXt2YXIgdD1uZXcgaC5hKDQpO3JldHVybiBoLmEhPUZsb2F0MzJBcnJheSYmKHRbMF09MCx0WzFdPTAsdFsyXT0wKSx0WzNdPTEsdH1mdW5jdGlvbiBnKHQsZSxuKXtuKj0uNTt2YXIgcj1NYXRoLnNpbihuKTtyZXR1cm4gdFswXT1yKmVbMF0sdFsxXT1yKmVbMV0sdFsyXT1yKmVbMl0sdFszXT1NYXRoLmNvcyhuKSx0fWZ1bmN0aW9uIHkodCxlLG4pe3ZhciByPWVbMF0saT1lWzFdLGE9ZVsyXSxvPWVbM10scz1uWzBdLHU9blsxXSxjPW5bMl0sbD1uWzNdO3JldHVybiB0WzBdPXIqbCtvKnMraSpjLWEqdSx0WzFdPWkqbCtvKnUrYSpzLXIqYyx0WzJdPWEqbCtvKmMrcip1LWkqcyx0WzNdPW8qbC1yKnMtaSp1LWEqYyx0fWZ1bmN0aW9uIG0odCxlLG4scil7dmFyIGksYSxvLHMsdSxjPWVbMF0sbD1lWzFdLGY9ZVsyXSxkPWVbM10sdj1uWzBdLHA9blsxXSxnPW5bMl0seT1uWzNdO3JldHVybihhPWMqditsKnArZipnK2QqeSk8MCYmKGE9LWEsdj0tdixwPS1wLGc9LWcseT0teSksMS1hPmguYj8oaT1NYXRoLmFjb3MoYSksbz1NYXRoLnNpbihpKSxzPU1hdGguc2luKCgxLXIpKmkpL28sdT1NYXRoLnNpbihyKmkpL28pOihzPTEtcix1PXIpLHRbMF09cypjK3Uqdix0WzFdPXMqbCt1KnAsdFsyXT1zKmYrdSpnLHRbM109cypkK3UqeSx0fWZ1bmN0aW9uIGIodCxlKXt2YXIgbixyPWVbMF0rZVs0XStlWzhdO2lmKHI+MCluPU1hdGguc3FydChyKzEpLHRbM109LjUqbixuPS41L24sdFswXT0oZVs1XS1lWzddKSpuLHRbMV09KGVbNl0tZVsyXSkqbix0WzJdPShlWzFdLWVbM10pKm47ZWxzZXt2YXIgaT0wO2VbNF0+ZVswXSYmKGk9MSksZVs4XT5lWzMqaStpXSYmKGk9Mik7dmFyIGE9KGkrMSklMyxvPShpKzIpJTM7bj1NYXRoLnNxcnQoZVszKmkraV0tZVszKmErYV0tZVszKm8rb10rMSksdFtpXT0uNSpuLG49LjUvbix0WzNdPShlWzMqYStvXS1lWzMqbythXSkqbix0W2FdPShlWzMqYStpXStlWzMqaSthXSkqbix0W29dPShlWzMqbytpXStlWzMqaStvXSkqbn1yZXR1cm4gdH12LmIsdi5nLHYuYyx2Lmw7dmFyIF8sTyx4LHcsayxTLFA9di5hLGo9di5rLFQ9di5kLEU9di5pLEE9di5oLE09di5tLEM9di5qLEw9KHYuZix2LmUsXz1kLmIoKSxPPWQuZSgxLDAsMCkseD1kLmUoMCwxLDApLGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1kLmQoZSxuKTtyZXR1cm4gcjwtLjk5OTk5OT8oZC5jKF8sTyxlKSxkLmYoXyk8MWUtNiYmZC5jKF8seCxlKSxkLmgoXyxfKSxnKHQsXyxNYXRoLlBJKSx0KTpyPi45OTk5OTk/KHRbMF09MCx0WzFdPTAsdFsyXT0wLHRbM109MSx0KTooZC5jKF8sZSxuKSx0WzBdPV9bMF0sdFsxXT1fWzFdLHRbMl09X1syXSx0WzNdPTErcixDKHQsdCkpfSk7dz1wKCksaz1wKCksUz1mLmEoKTtuLmQoZSwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIFJ9KSk7dmFyIEk9WzAsMCwwLDFdLFI9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3ZhciB0LG49YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOjAsaT1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06MCxzPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTowLHU9YXJndW1lbnRzLmxlbmd0aD4zJiZ2b2lkIDAhPT1hcmd1bWVudHNbM10/YXJndW1lbnRzWzNdOjE7cmV0dXJuIE9iamVjdChyLmEpKHRoaXMsZSksdD1PYmplY3QoYS5hKSh0aGlzLE9iamVjdChvLmEpKGUpLmNhbGwodGhpcywtMCwtMCwtMCwtMCkpLEFycmF5LmlzQXJyYXkobikmJjE9PT1hcmd1bWVudHMubGVuZ3RoP3QuY29weShuKTp0LnNldChuLGkscyx1KSx0fXJldHVybiBPYmplY3Qocy5hKShlLHQpLE9iamVjdChpLmEpKGUsW3trZXk6ImNvcHkiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzWzBdPXRbMF0sdGhpc1sxXT10WzFdLHRoaXNbMl09dFsyXSx0aGlzWzNdPXRbM10sdGhpcy5jaGVjaygpfX0se2tleToic2V0Iix2YWx1ZTpmdW5jdGlvbih0LGUsbixyKXtyZXR1cm4gdGhpc1swXT10LHRoaXNbMV09ZSx0aGlzWzJdPW4sdGhpc1szXT1yLHRoaXMuY2hlY2soKX19LHtrZXk6ImZyb21NYXRyaXgzIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gYih0aGlzLHQpLHRoaXMuY2hlY2soKX19LHtrZXk6ImlkZW50aXR5Iix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0O3JldHVybih0PXRoaXMpWzBdPTAsdFsxXT0wLHRbMl09MCx0WzNdPTEsdGhpcy5jaGVjaygpfX0se2tleToiZnJvbUF4aXNSb3RhdGlvbiIsdmFsdWU6ZnVuY3Rpb24odCxlKXtyZXR1cm4gZyh0aGlzLHQsZSksdGhpcy5jaGVjaygpfX0se2tleToic2V0QXhpc0FuZ2xlIix2YWx1ZTpmdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLmZyb21BeGlzUm90YXRpb24odCxlKX19LHtrZXk6ImxlbiIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gQSh0aGlzKX19LHtrZXk6Imxlbmd0aFNxdWFyZWQiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiBNKHRoaXMpfX0se2tleToiZG90Iix2YWx1ZTpmdW5jdGlvbih0LGUpe2lmKHZvaWQgMCE9PWUpdGhyb3cgbmV3IEVycm9yKCJRdWF0ZXJuaW9uLmRvdCBvbmx5IHRha2VzIG9uZSBhcmd1bWVudCIpO3JldHVybiBUKHRoaXMsdCl9fSx7a2V5OiJyb3RhdGlvblRvIix2YWx1ZTpmdW5jdGlvbih0LGUpe3JldHVybiBMKHRoaXMsdCxlKSx0aGlzLmNoZWNrKCl9fSx7a2V5OiJhZGQiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7aWYodm9pZCAwIT09ZSl0aHJvdyBuZXcgRXJyb3IoIlF1YXRlcm5pb24uYWRkIG9ubHkgdGFrZXMgb25lIGFyZ3VtZW50Iik7cmV0dXJuIFAodGhpcyx0aGlzLHQpLHRoaXMuY2hlY2soKX19LHtrZXk6ImNhbGN1bGF0ZVciLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQsZSxuLHIsaTtyZXR1cm4gdD10aGlzLG49KGU9dGhpcylbMF0scj1lWzFdLGk9ZVsyXSx0WzBdPW4sdFsxXT1yLHRbMl09aSx0WzNdPU1hdGguc3FydChNYXRoLmFicygxLW4qbi1yKnItaSppKSksdGhpcy5jaGVjaygpfX0se2tleToiY29uanVnYXRlIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0LGU7cmV0dXJuIGU9dGhpcywodD10aGlzKVswXT0tZVswXSx0WzFdPS1lWzFdLHRbMl09LWVbMl0sdFszXT1lWzNdLHRoaXMuY2hlY2soKX19LHtrZXk6ImludmVydCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdCxlLG4scixpLGEsbyxzO3JldHVybiB0PXRoaXMsbj0oZT10aGlzKVswXSxyPWVbMV0saT1lWzJdLGE9ZVszXSxzPShvPW4qbityKnIraSppK2EqYSk/MS9vOjAsdFswXT0tbipzLHRbMV09LXIqcyx0WzJdPS1pKnMsdFszXT1hKnMsdGhpcy5jaGVjaygpfX0se2tleToibGVycCIsdmFsdWU6ZnVuY3Rpb24odCxlLG4pe3JldHVybiBFKHRoaXMsdCxlLG4pLHRoaXMuY2hlY2soKX19LHtrZXk6Im11bHRpcGx5UmlnaHQiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIE9iamVjdChsLmEpKCFlKSx5KHRoaXMsdGhpcyx0KSx0aGlzLmNoZWNrKCl9fSx7a2V5OiJtdWx0aXBseUxlZnQiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIE9iamVjdChsLmEpKCFlKSx5KHRoaXMsdCx0aGlzKSx0aGlzLmNoZWNrKCl9fSx7a2V5OiJub3JtYWxpemUiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5sZW4oKSxlPXQ+MD8xL3Q6MDtyZXR1cm4gdGhpc1swXT10aGlzWzBdKmUsdGhpc1sxXT10aGlzWzFdKmUsdGhpc1syXT10aGlzWzJdKmUsdGhpc1szXT10aGlzWzNdKmUsMD09PXQmJih0aGlzWzNdPTEpLHRoaXMuY2hlY2soKX19LHtrZXk6InJvdGF0ZVgiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbih0LGUsbil7bio9LjU7dmFyIHI9ZVswXSxpPWVbMV0sYT1lWzJdLG89ZVszXSxzPU1hdGguc2luKG4pLHU9TWF0aC5jb3Mobik7dFswXT1yKnUrbypzLHRbMV09aSp1K2Eqcyx0WzJdPWEqdS1pKnMsdFszXT1vKnUtcipzfSh0aGlzLHRoaXMsdCksdGhpcy5jaGVjaygpfX0se2tleToicm90YXRlWSIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKHQsZSxuKXtuKj0uNTt2YXIgcj1lWzBdLGk9ZVsxXSxhPWVbMl0sbz1lWzNdLHM9TWF0aC5zaW4obiksdT1NYXRoLmNvcyhuKTt0WzBdPXIqdS1hKnMsdFsxXT1pKnUrbypzLHRbMl09YSp1K3Iqcyx0WzNdPW8qdS1pKnN9KHRoaXMsdGhpcyx0KSx0aGlzLmNoZWNrKCl9fSx7a2V5OiJyb3RhdGVaIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24odCxlLG4pe24qPS41O3ZhciByPWVbMF0saT1lWzFdLGE9ZVsyXSxvPWVbM10scz1NYXRoLnNpbihuKSx1PU1hdGguY29zKG4pO3RbMF09cip1K2kqcyx0WzFdPWkqdS1yKnMsdFsyXT1hKnUrbypzLHRbM109byp1LWEqc30odGhpcyx0aGlzLHQpLHRoaXMuY2hlY2soKX19LHtrZXk6InNjYWxlIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gaih0aGlzLHRoaXMsdCksdGhpcy5jaGVjaygpfX0se2tleToic2xlcnAiLHZhbHVlOmZ1bmN0aW9uKHQsZSxuKXtzd2l0Y2goYXJndW1lbnRzLmxlbmd0aCl7Y2FzZSAxOnZhciByPWFyZ3VtZW50c1swXSxpPXIuc3RhcnQ7dD12b2lkIDA9PT1pP0k6aSxlPXIudGFyZ2V0LG49ci5yYXRpbzticmVhaztjYXNlIDI6dmFyIGE9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKTtlPWFbMF0sbj1hWzFdLHQ9dGhpc31yZXR1cm4gbSh0aGlzLHQsZSxuKSx0aGlzLmNoZWNrKCl9fSx7a2V5OiJ0cmFuc2Zvcm1WZWN0b3I0Iix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06dDtyZXR1cm4gdi5vKGUsdCx0aGlzKSxPYmplY3QoYy5iKShlLDQpfX0se2tleToibGVuZ3RoU3EiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubGVuZ3RoU3F1YXJlZCgpfX0se2tleToic2V0RnJvbUF4aXNBbmdsZSIsdmFsdWU6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5zZXRBeGlzQW5nbGUodCxlKX19LHtrZXk6InByZW11bHRpcGx5Iix2YWx1ZTpmdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLm11bHRpcGx5TGVmdCh0LGUpfX0se2tleToibXVsdGlwbHkiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMubXVsdGlwbHlSaWdodCh0LGUpfX0se2tleToiRUxFTUVOVFMiLGdldDpmdW5jdGlvbigpe3JldHVybiA0fX0se2tleToieCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXNbMF19LHNldDpmdW5jdGlvbih0KXtyZXR1cm4gdGhpc1swXT1PYmplY3QoYy5hKSh0KX19LHtrZXk6InkiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzWzFdfSxzZXQ6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXNbMV09T2JqZWN0KGMuYSkodCl9fSx7a2V5OiJ6IixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc1syXX0sc2V0OmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzWzJdPU9iamVjdChjLmEpKHQpfX0se2tleToidyIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXNbM119LHNldDpmdW5jdGlvbih0KXtyZXR1cm4gdGhpc1szXT1PYmplY3QoYy5hKSh0KX19XSksZX0odS5hKX0sZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj17cGlja2luZ1NlbGVjdGVkQ29sb3I6bnVsbCxwaWNraW5nSGlnaGxpZ2h0Q29sb3I6bmV3IFVpbnQ4QXJyYXkoWzAsMjU1LDI1NSwyNTVdKSxwaWNraW5nQWN0aXZlOiExLHBpY2tpbmdBdHRyaWJ1dGU6ITF9O3ZhciBpPXtuYW1lOiJwaWNraW5nIix2czoidW5pZm9ybSBib29sIHBpY2tpbmdfdUFjdGl2ZTtcbnVuaWZvcm0gYm9vbCBwaWNraW5nX3VBdHRyaWJ1dGU7XG51bmlmb3JtIHZlYzMgcGlja2luZ191U2VsZWN0ZWRDb2xvcjtcbnVuaWZvcm0gYm9vbCBwaWNraW5nX3VTZWxlY3RlZENvbG9yVmFsaWQ7XG5cbm91dCB2ZWM0IHBpY2tpbmdfdlJHQmNvbG9yX0F2YWxpZDtcblxuY29uc3QgZmxvYXQgQ09MT1JfU0NBTEUgPSAxLiAvIDI1NS47XG5cbmJvb2wgcGlja2luZ19pc0NvbG9yVmFsaWQodmVjMyBjb2xvcikge1xuICByZXR1cm4gZG90KGNvbG9yLCB2ZWMzKDEuMCkpID4gMC4wMDE7XG59XG5cbmJvb2wgaXNWZXJ0ZXhQaWNrZWQodmVjMyB2ZXJ0ZXhDb2xvcikge1xuICByZXR1cm5cbiAgICBwaWNraW5nX3VTZWxlY3RlZENvbG9yVmFsaWQgJiZcbiAgICAhcGlja2luZ19pc0NvbG9yVmFsaWQoYWJzKHZlcnRleENvbG9yIC0gcGlja2luZ191U2VsZWN0ZWRDb2xvcikpO1xufVxuXG52b2lkIHBpY2tpbmdfc2V0UGlja2luZ0NvbG9yKHZlYzMgcGlja2luZ0NvbG9yKSB7XG4gIGlmIChwaWNraW5nX3VBY3RpdmUpIHtcbiAgICBwaWNraW5nX3ZSR0Jjb2xvcl9BdmFsaWQuYSA9IGZsb2F0KHBpY2tpbmdfaXNDb2xvclZhbGlkKHBpY2tpbmdDb2xvcikpO1xuXG4gICAgaWYgKCFwaWNraW5nX3VBdHRyaWJ1dGUpIHtcbiAgICAgIHBpY2tpbmdfdlJHQmNvbG9yX0F2YWxpZC5yZ2IgPSBwaWNraW5nQ29sb3IgKiBDT0xPUl9TQ0FMRTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgcGlja2luZ192UkdCY29sb3JfQXZhbGlkLmEgPSBmbG9hdChpc1ZlcnRleFBpY2tlZChwaWNraW5nQ29sb3IpKTtcbiAgfVxufVxuXG52b2lkIHBpY2tpbmdfc2V0UGlja2luZ0F0dHJpYnV0ZShmbG9hdCB2YWx1ZSkge1xuICBpZiAocGlja2luZ191QXR0cmlidXRlKSB7XG4gICAgcGlja2luZ192UkdCY29sb3JfQXZhbGlkLnIgPSB2YWx1ZTtcbiAgfVxufVxudm9pZCBwaWNraW5nX3NldFBpY2tpbmdBdHRyaWJ1dGUodmVjMiB2YWx1ZSkge1xuICBpZiAocGlja2luZ191QXR0cmlidXRlKSB7XG4gICAgcGlja2luZ192UkdCY29sb3JfQXZhbGlkLnJnID0gdmFsdWU7XG4gIH1cbn1cbnZvaWQgcGlja2luZ19zZXRQaWNraW5nQXR0cmlidXRlKHZlYzMgdmFsdWUpIHtcbiAgaWYgKHBpY2tpbmdfdUF0dHJpYnV0ZSkge1xuICAgIHBpY2tpbmdfdlJHQmNvbG9yX0F2YWxpZC5yZ2IgPSB2YWx1ZTtcbiAgfVxufVxuIixmczoidW5pZm9ybSBib29sIHBpY2tpbmdfdUFjdGl2ZTtcbnVuaWZvcm0gdmVjMyBwaWNraW5nX3VTZWxlY3RlZENvbG9yO1xudW5pZm9ybSB2ZWM0IHBpY2tpbmdfdUhpZ2hsaWdodENvbG9yO1xuXG5pbiB2ZWM0IHBpY2tpbmdfdlJHQmNvbG9yX0F2YWxpZDtcbnZlYzQgcGlja2luZ19maWx0ZXJIaWdobGlnaHRDb2xvcih2ZWM0IGNvbG9yKSB7XG4gIGlmIChwaWNraW5nX3VBY3RpdmUpIHtcbiAgICByZXR1cm4gY29sb3I7XG4gIH1cbiAgYm9vbCBzZWxlY3RlZCA9IGJvb2wocGlja2luZ192UkdCY29sb3JfQXZhbGlkLmEpO1xuXG4gIGlmIChzZWxlY3RlZCkge1xuICAgIGZsb2F0IGhpZ2hMaWdodEFscGhhID0gcGlja2luZ191SGlnaGxpZ2h0Q29sb3IuYTtcbiAgICBmbG9hdCBibGVuZGVkQWxwaGEgPSBoaWdoTGlnaHRBbHBoYSArIGNvbG9yLmEgKiAoMS4wIC0gaGlnaExpZ2h0QWxwaGEpO1xuICAgIGZsb2F0IGhpZ2hMaWdodFJhdGlvID0gaGlnaExpZ2h0QWxwaGEgLyBibGVuZGVkQWxwaGE7XG5cbiAgICB2ZWMzIGJsZW5kZWRSR0IgPSBtaXgoY29sb3IucmdiLCBwaWNraW5nX3VIaWdobGlnaHRDb2xvci5yZ2IsIGhpZ2hMaWdodFJhdGlvKTtcbiAgICByZXR1cm4gdmVjNChibGVuZGVkUkdCLCBibGVuZGVkQWxwaGEpO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBjb2xvcjtcbiAgfVxufVxudmVjNCBwaWNraW5nX2ZpbHRlclBpY2tpbmdDb2xvcih2ZWM0IGNvbG9yKSB7XG4gIGlmIChwaWNraW5nX3VBY3RpdmUpIHtcbiAgICBpZiAocGlja2luZ192UkdCY29sb3JfQXZhbGlkLmEgPT0gMC4wKSB7XG4gICAgICBkaXNjYXJkO1xuICAgIH1cbiAgICByZXR1cm4gcGlja2luZ192UkdCY29sb3JfQXZhbGlkO1xuICB9XG4gIHJldHVybiBjb2xvcjtcbn1cbnZlYzQgcGlja2luZ19maWx0ZXJDb2xvcih2ZWM0IGNvbG9yKSB7XG4gIHZlYzQgaGlnaGlnaHRDb2xvciA9IHBpY2tpbmdfZmlsdGVySGlnaGxpZ2h0Q29sb3IoY29sb3IpO1xuICByZXR1cm4gcGlja2luZ19maWx0ZXJQaWNraW5nQ29sb3IoaGlnaGlnaHRDb2xvcik7XG59XG5cbiIsZ2V0VW5pZm9ybXM6ZnVuY3Rpb24oKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06cixlPXt9O2lmKHZvaWQgMCE9PXQucGlja2luZ1NlbGVjdGVkQ29sb3IpaWYodC5waWNraW5nU2VsZWN0ZWRDb2xvcil7dmFyIG49dC5waWNraW5nU2VsZWN0ZWRDb2xvci5zbGljZSgwLDMpO2UucGlja2luZ191U2VsZWN0ZWRDb2xvclZhbGlkPTEsZS5waWNraW5nX3VTZWxlY3RlZENvbG9yPW59ZWxzZSBlLnBpY2tpbmdfdVNlbGVjdGVkQ29sb3JWYWxpZD0wO2lmKHQucGlja2luZ0hpZ2hsaWdodENvbG9yKXt2YXIgaT1BcnJheS5mcm9tKHQucGlja2luZ0hpZ2hsaWdodENvbG9yLChmdW5jdGlvbih0KXtyZXR1cm4gdC8yNTV9KSk7TnVtYmVyLmlzRmluaXRlKGlbM10pfHwoaVszXT0xKSxlLnBpY2tpbmdfdUhpZ2hsaWdodENvbG9yPWl9cmV0dXJuIHZvaWQgMCE9PXQucGlja2luZ0FjdGl2ZSYmKGUucGlja2luZ191QWN0aXZlPUJvb2xlYW4odC5waWNraW5nQWN0aXZlKSxlLnBpY2tpbmdfdUF0dHJpYnV0ZT1Cb29sZWFuKHQucGlja2luZ0F0dHJpYnV0ZSkpLGV9fTtlLmE9T2JqZWN0LmFzc2lnbih7aW5qZWN0OnsidnM6REVDS0dMX0ZJTFRFUl9DT0xPUiI6IlxuICAgIHBpY2tpbmdfc2V0UGlja2luZ0NvbG9yKGdlb21ldHJ5LnBpY2tpbmdDb2xvcik7XG4gICAgLy8gZm9yIHBpY2tpbmcgZGVwdGggdmFsdWVzXG4gICAgcGlja2luZ19zZXRQaWNraW5nQXR0cmlidXRlKGdlb21ldHJ5LnBvc2l0aW9uLnopO1xuICAgICIsImZzOkRFQ0tHTF9GSUxURVJfQ09MT1IiOntvcmRlcjo5OSxpbmplY3Rpb246IlxuICAgIC8vIHVzZSBoaWdobGlnaHQgY29sb3IgaWYgdGhpcyBmcmFnbWVudCBiZWxvbmdzIHRvIHRoZSBzZWxlY3RlZCBvYmplY3QuXG4gICAgY29sb3IgPSBwaWNraW5nX2ZpbHRlckhpZ2hsaWdodENvbG9yKGNvbG9yKTtcblxuICAgIC8vIHVzZSBwaWNraW5nIGNvbG9yIGlmIHJlbmRlcmluZyB0byBwaWNraW5nIEZCTy5cbiAgICBjb2xvciA9IHBpY2tpbmdfZmlsdGVyUGlja2luZ0NvbG9yKGNvbG9yKTtcbiAgICAgICJ9fX0saSl9LGZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7bi5kKGUsImEiLChmdW5jdGlvbigpe3JldHVybiBjfSkpLG4uZChlLCJiIiwoZnVuY3Rpb24oKXtyZXR1cm4gbH0pKTt2YXIgcj1uKDApLGk9bigxMjcpLGE9bigyMjIpLG89bigyMjMpLHM9big4MiksdT1uKDI4KTtmdW5jdGlvbiBjKHQsZSl7T2JqZWN0KHUuYSkodCBpbnN0YW5jZW9mIGkuYXx8dCBpbnN0YW5jZW9mIGEuYXx8dCBpbnN0YW5jZW9mIG8uYSk7dmFyIG49dC5jb25zdHJ1Y3RvcixyPXQuZ2wscz10LndpZHRoLGM9dC5oZWlnaHQsbD10LmZvcm1hdCxoPXQudHlwZSxmPXQuZGF0YUZvcm1hdCxkPXQuYm9yZGVyLHY9dC5taXBtYXBzO3JldHVybiBuZXcgbihyLE9iamVjdC5hc3NpZ24oe3dpZHRoOnMsaGVpZ2h0OmMsZm9ybWF0OmwsdHlwZTpoLGRhdGFGb3JtYXQ6Zixib3JkZXI6ZCxtaXBtYXBzOnZ9LGUpKX1mdW5jdGlvbiBsKHQsZSl7dmFyIG49dC5nbCxpPXQud2lkdGgsYT10LmhlaWdodCxvPXQuaWQ7cmV0dXJuIG5ldyBzLmEobixPYmplY3QuYXNzaWduKHt9LGUse2lkOiJmcmFtZWJ1ZmZlci1mb3ItIi5jb25jYXQobyksd2lkdGg6aSxoZWlnaHQ6YSxhdHRhY2htZW50czpPYmplY3Qoci5hKSh7fSwzNjA2NCx0KX0pKX19LGZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7bi5kKGUsImEiLChmdW5jdGlvbigpe3JldHVybiBnfSkpO3ZhciByPW4oNSksaT1uLm4ociksYT1uKDEzKSxvPW4oNikscz1uKDcpLHU9bigxNyksYz1uKDE1KSxsPW4oNDcpLGg9bigxOCksZj1uKDExKSxkPW4oNjYpLHY9big3NikscD1bMzQwNjksMzQwNzAsMzQwNzEsMzQwNzIsMzQwNzMsMzQwNzRdLGc9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSh0KXt2YXIgbixyPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp7fTtyZXR1cm4gT2JqZWN0KG8uYSkodGhpcyxlKSxPYmplY3Qodi5iKSh0KSwobj1PYmplY3QodS5hKSh0aGlzLE9iamVjdChjLmEpKGUpLmNhbGwodGhpcyx0LE9iamVjdC5hc3NpZ24oe30scix7dGFyZ2V0OjM0MDY3fSkpKSkuaW5pdGlhbGl6ZShyKSxPYmplY3Quc2VhbChPYmplY3QobC5hKShuKSksbn12YXIgbjtyZXR1cm4gT2JqZWN0KGguYSkoZSx0KSxPYmplY3Qocy5hKShlLFt7a2V5OiJpbml0aWFsaXplIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMsZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e30sbj1lLm1pcG1hcHMscj12b2lkIDA9PT1ufHxuLGk9ZS5wYXJhbWV0ZXJzLGE9dm9pZCAwPT09aT97fTppO3RoaXMub3B0cz1lLHRoaXMuc2V0Q3ViZU1hcEltYWdlRGF0YShlKS50aGVuKChmdW5jdGlvbigpe3QubG9hZGVkPSEwLHImJnQuZ2VuZXJhdGVNaXBtYXAoZSksdC5zZXRQYXJhbWV0ZXJzKGEpfSkpfX0se2tleToic3ViSW1hZ2UiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXQuZmFjZSxuPXQuZGF0YSxyPXQueCxpPXZvaWQgMD09PXI/MDpyLGE9dC55LG89dm9pZCAwPT09YT8wOmEscz10Lm1pcG1hcExldmVsLHU9dm9pZCAwPT09cz8wOnM7cmV0dXJuIHRoaXMuX3N1YkltYWdlKHt0YXJnZXQ6ZSxkYXRhOm4seDppLHk6byxtaXBtYXBMZXZlbDp1fSl9fSx7a2V5OiJzZXRDdWJlTWFwSW1hZ2VEYXRhIix2YWx1ZToobj1PYmplY3QoYS5hKShpLmEubWFyaygoZnVuY3Rpb24gdChlKXt2YXIgbixyLGEsbyxzLHUsYyxsLGgsZCx2LGcseSxtPXRoaXM7cmV0dXJuIGkuYS53cmFwKChmdW5jdGlvbih0KXtmb3IoOzspc3dpdGNoKHQucHJldj10Lm5leHQpe2Nhc2UgMDpyZXR1cm4gbj1lLndpZHRoLHI9ZS5oZWlnaHQsYT1lLnBpeGVscyxvPWUuZGF0YSxzPWUuYm9yZGVyLHU9dm9pZCAwPT09cz8wOnMsYz1lLmZvcm1hdCxsPXZvaWQgMD09PWM/NjQwODpjLGg9ZS50eXBlLGQ9dm9pZCAwPT09aD81MTIxOmgsdj10aGlzLmdsLGc9YXx8byx0Lm5leHQ9NSxQcm9taXNlLmFsbChwLm1hcCgoZnVuY3Rpb24odCl7dmFyIGU9Z1t0XTtyZXR1cm4gUHJvbWlzZS5hbGwoQXJyYXkuaXNBcnJheShlKT9lOltlXSl9KSkpO2Nhc2UgNTp5PXQuc2VudCx0aGlzLmJpbmQoKSxwLmZvckVhY2goKGZ1bmN0aW9uKHQsZSl7eVtlXS5sZW5ndGg+MSYmITEhPT1tLm9wdHMubWlwbWFwcyYmZi5oLndhcm4oIiIuY29uY2F0KG0uaWQsIiBoYXMgbWlwbWFwIGFuZCBtdWx0aXBsZSBMT0RzLiIpKSgpLHlbZV0uZm9yRWFjaCgoZnVuY3Rpb24oZSxpKXtuJiZyP3YudGV4SW1hZ2UyRCh0LGksbCxuLHIsdSxsLGQsZSk6di50ZXhJbWFnZTJEKHQsaSxsLGwsZCxlKX0pKX0pKSx0aGlzLnVuYmluZCgpO2Nhc2UgOTpjYXNlImVuZCI6cmV0dXJuIHQuc3RvcCgpfX0pLHQsdGhpcyl9KSkpLGZ1bmN0aW9uKHQpe3JldHVybiBuLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0pfSx7a2V5OiJzZXRJbWFnZURhdGFGb3JGYWNlIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLG49dC5mYWNlLHI9dC53aWR0aCxpPXQuaGVpZ2h0LGE9dC5waXhlbHMsbz10LmRhdGEscz10LmJvcmRlcix1PXZvaWQgMD09PXM/MDpzLGM9dC5mb3JtYXQsbD12b2lkIDA9PT1jPzY0MDg6YyxoPXQudHlwZSxmPXZvaWQgMD09PWg/NTEyMTpoLGQ9dGhpcy5nbCx2PWF8fG87cmV0dXJuIHRoaXMuYmluZCgpLHYgaW5zdGFuY2VvZiBQcm9taXNlP3YudGhlbigoZnVuY3Rpb24ocil7cmV0dXJuIGUuc2V0SW1hZ2VEYXRhRm9yRmFjZShPYmplY3QuYXNzaWduKHt9LHQse2ZhY2U6bixkYXRhOnIscGl4ZWxzOnJ9KSl9KSk6dGhpcy53aWR0aHx8dGhpcy5oZWlnaHQ/ZC50ZXhJbWFnZTJEKG4sMCxsLHIsaSx1LGwsZix2KTpkLnRleEltYWdlMkQobiwwLGwsbCxmLHYpLHRoaXN9fV0pLGV9KGQuYSk7Zy5GQUNFUz1wfSxmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO24uZChlLCJhIiwoZnVuY3Rpb24oKXtyZXR1cm4gdn0pKTt2YXIgcj1uKDYpLGk9bigxNyksYT1uKDE1KSxvPW4oNDcpLHM9big3KSx1PW4oMTgpLGM9bigxMSksbD1uKDc2KSxoPW4oNjYpLGY9big5NyksZD1uKDQ4KSx2PWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUodCl7dmFyIG4scz1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06e307cmV0dXJuIE9iamVjdChyLmEpKHRoaXMsZSksT2JqZWN0KGwuYSkodCkscz1PYmplY3QuYXNzaWduKHtkZXB0aDoxfSxzLHt0YXJnZXQ6MzI4NzksdW5wYWNrRmxpcFk6ITF9KSwobj1PYmplY3QoaS5hKSh0aGlzLE9iamVjdChhLmEpKGUpLmNhbGwodGhpcyx0LHMpKSkuaW5pdGlhbGl6ZShzKSxPYmplY3Quc2VhbChPYmplY3Qoby5hKShuKSksbn1yZXR1cm4gT2JqZWN0KHUuYSkoZSx0KSxPYmplY3Qocy5hKShlLG51bGwsW3trZXk6ImlzU3VwcG9ydGVkIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0KGMuZykodCl9fV0pLE9iamVjdChzLmEpKGUsW3trZXk6InNldEltYWdlRGF0YSIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcyxuPXQubGV2ZWwscj12b2lkIDA9PT1uPzA6bixpPXQuZGF0YUZvcm1hdCxhPXZvaWQgMD09PWk/NjQwODppLG89dC53aWR0aCxzPXQuaGVpZ2h0LHU9dC5kZXB0aCxsPXZvaWQgMD09PXU/MTp1LGg9dC5ib3JkZXIsdj12b2lkIDA9PT1oPzA6aCxwPXQuZm9ybWF0LGc9dC50eXBlLHk9dm9pZCAwPT09Zz81MTIxOmcsbT10Lm9mZnNldCxiPXZvaWQgMD09PW0/MDptLF89dC5kYXRhLE89dC5wYXJhbWV0ZXJzLHg9dm9pZCAwPT09Tz97fTpPO2lmKHRoaXMuX3RyYWNrRGVhbGxvY2F0ZWRNZW1vcnkoIlRleHR1cmUiKSx0aGlzLmdsLmJpbmRUZXh0dXJlKHRoaXMudGFyZ2V0LHRoaXMuaGFuZGxlKSxPYmplY3QoYy5sKSh0aGlzLmdsLHgsKGZ1bmN0aW9uKCl7QXJyYXlCdWZmZXIuaXNWaWV3KF8pJiZlLmdsLnRleEltYWdlM0QoZS50YXJnZXQscixhLG8scyxsLHYscCx5LF8pLF8gaW5zdGFuY2VvZiBkLmEmJihlLmdsLmJpbmRCdWZmZXIoMzUwNTIsXy5oYW5kbGUpLGUuZ2wudGV4SW1hZ2UzRChlLnRhcmdldCxyLGEsbyxzLGwsdixwLHksYikpfSkpLF8mJl8uYnl0ZUxlbmd0aCl0aGlzLl90cmFja0FsbG9jYXRlZE1lbW9yeShfLmJ5dGVMZW5ndGgsIlRleHR1cmUiKTtlbHNle3ZhciB3PWYuYVt0aGlzLmRhdGFGb3JtYXRdfHw0LGs9Zi5jW3RoaXMudHlwZV18fDE7dGhpcy5fdHJhY2tBbGxvY2F0ZWRNZW1vcnkodGhpcy53aWR0aCp0aGlzLmhlaWdodCp0aGlzLmRlcHRoKncqaywiVGV4dHVyZSIpfXJldHVybiB0aGlzLmxvYWRlZD0hMCx0aGlzfX1dKSxlfShoLmEpfSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigyNjEpO3QuZXhwb3J0cz1mdW5jdGlvbih0LGUpe2lmKG51bGw9PXQpcmV0dXJue307dmFyIG4saSxhPXIodCxlKTtpZihPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgbz1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHQpO2ZvcihpPTA7aTxvLmxlbmd0aDtpKyspbj1vW2ldLGUuaW5kZXhPZihuKT49MHx8T2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKHQsbikmJihhW25dPXRbbl0pfXJldHVybiBhfX0sZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7dmFyIGU7aWYoInVuZGVmaW5lZCIhPXR5cGVvZiBTeW1ib2wpe2lmKFN5bWJvbC5hc3luY0l0ZXJhdG9yJiZudWxsIT0oZT10W1N5bWJvbC5hc3luY0l0ZXJhdG9yXSkpcmV0dXJuIGUuY2FsbCh0KTtpZihTeW1ib2wuaXRlcmF0b3ImJm51bGwhPShlPXRbU3ltYm9sLml0ZXJhdG9yXSkpcmV0dXJuIGUuY2FsbCh0KX10aHJvdyBuZXcgVHlwZUVycm9yKCJPYmplY3QgaXMgbm90IGFzeW5jIGl0ZXJhYmxlIil9fSxmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO24uZChlLCJhIiwoZnVuY3Rpb24oKXtyZXR1cm4gYX0pKTt2YXIgcj1uKDMxKSxpPW4oOTgpOyJJbnZhbGlkIE1JTUUgdHlwZS4gU3VwcG9ydGVkIE1JTUUgdHlwZXMgYXJlOiAiLmNvbmNhdChBcnJheS5mcm9tKGkuZS5rZXlzKCkpLmpvaW4oIiwgIikpO2Z1bmN0aW9uIGEodCl7dmFyIGU9byh0KSxuPSEwLGE9ITEscz12b2lkIDA7dHJ5e2Zvcih2YXIgdSxjPWkuZS5lbnRyaWVzKClbU3ltYm9sLml0ZXJhdG9yXSgpOyEobj0odT1jLm5leHQoKSkuZG9uZSk7bj0hMCl7dmFyIGw9T2JqZWN0KHIuYSkodS52YWx1ZSwyKSxoPWxbMF07aWYoKDAsbFsxXS50ZXN0KShlKSlyZXR1cm4gaH19Y2F0Y2godCl7YT0hMCxzPXR9ZmluYWxseXt0cnl7bnx8bnVsbD09Yy5yZXR1cm58fGMucmV0dXJuKCl9ZmluYWxseXtpZihhKXRocm93IHN9fXJldHVybiBudWxsfWZ1bmN0aW9uIG8odCl7aWYoKHQ9dC5idWZmZXJ8fHQpaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcilyZXR1cm4gbmV3IERhdGFWaWV3KHQpO2lmKEFycmF5QnVmZmVyLmlzVmlldyh0KSlyZXR1cm4gbmV3IERhdGFWaWV3KHQuYnVmZmVyKTt0aHJvdyBuZXcgRXJyb3IoInRvRGF0YVZpZXciKX19LGZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gcih0LGUsbil7bj1ufHwyO3ZhciByLHMsdSxjLGwsZCx2LGc9ZSYmZS5sZW5ndGgseT1nP2VbMF0qbjp0Lmxlbmd0aCxtPWkodCwwLHksbiwhMCksYj1bXTtpZighbXx8bS5uZXh0PT09bS5wcmV2KXJldHVybiBiO2lmKGcmJihtPWZ1bmN0aW9uKHQsZSxuLHIpe3ZhciBvLHMsdSxjLGwsZD1bXTtmb3Iobz0wLHM9ZS5sZW5ndGg7bzxzO28rKyl1PWVbb10qcixjPW88cy0xP2VbbysxXSpyOnQubGVuZ3RoLChsPWkodCx1LGMsciwhMSkpPT09bC5uZXh0JiYobC5zdGVpbmVyPSEwKSxkLnB1c2gocChsKSk7Zm9yKGQuc29ydChoKSxvPTA7bzxkLmxlbmd0aDtvKyspZihkW29dLG4pLG49YShuLG4ubmV4dCk7cmV0dXJuIG59KHQsZSxtLG4pKSx0Lmxlbmd0aD44MCpuKXtyPXU9dFswXSxzPWM9dFsxXTtmb3IodmFyIF89bjtfPHk7Xys9bikobD10W19dKTxyJiYocj1sKSwoZD10W18rMV0pPHMmJihzPWQpLGw+dSYmKHU9bCksZD5jJiYoYz1kKTt2PTAhPT0odj1NYXRoLm1heCh1LXIsYy1zKSk/MS92OjB9cmV0dXJuIG8obSxiLG4scixzLHYpLGJ9ZnVuY3Rpb24gaSh0LGUsbixyLGkpe3ZhciBhLG87aWYoaT09PVQodCxlLG4scik+MClmb3IoYT1lO2E8bjthKz1yKW89UyhhLHRbYV0sdFthKzFdLG8pO2Vsc2UgZm9yKGE9bi1yO2E+PWU7YS09cilvPVMoYSx0W2FdLHRbYSsxXSxvKTtyZXR1cm4gbyYmYihvLG8ubmV4dCkmJihQKG8pLG89by5uZXh0KSxvfWZ1bmN0aW9uIGEodCxlKXtpZighdClyZXR1cm4gdDtlfHwoZT10KTt2YXIgbixyPXQ7ZG97aWYobj0hMSxyLnN0ZWluZXJ8fCFiKHIsci5uZXh0KSYmMCE9PW0oci5wcmV2LHIsci5uZXh0KSlyPXIubmV4dDtlbHNle2lmKFAociksKHI9ZT1yLnByZXYpPT09ci5uZXh0KWJyZWFrO249ITB9fXdoaWxlKG58fHIhPT1lKTtyZXR1cm4gZX1mdW5jdGlvbiBvKHQsZSxuLHIsaSxoLGYpe2lmKHQpeyFmJiZoJiZmdW5jdGlvbih0LGUsbixyKXt2YXIgaT10O2Rve251bGw9PT1pLnomJihpLno9dihpLngsaS55LGUsbixyKSksaS5wcmV2Wj1pLnByZXYsaS5uZXh0Wj1pLm5leHQsaT1pLm5leHR9d2hpbGUoaSE9PXQpO2kucHJldloubmV4dFo9bnVsbCxpLnByZXZaPW51bGwsZnVuY3Rpb24odCl7dmFyIGUsbixyLGksYSxvLHMsdSxjPTE7ZG97Zm9yKG49dCx0PW51bGwsYT1udWxsLG89MDtuOyl7Zm9yKG8rKyxyPW4scz0wLGU9MDtlPGMmJihzKysscj1yLm5leHRaKTtlKyspO2Zvcih1PWM7cz4wfHx1PjAmJnI7KTAhPT1zJiYoMD09PXV8fCFyfHxuLno8PXIueik/KGk9bixuPW4ubmV4dFoscy0tKTooaT1yLHI9ci5uZXh0Wix1LS0pLGE/YS5uZXh0Wj1pOnQ9aSxpLnByZXZaPWEsYT1pO249cn1hLm5leHRaPW51bGwsYyo9Mn13aGlsZShvPjEpfShpKX0odCxyLGksaCk7Zm9yKHZhciBkLHAsZz10O3QucHJldiE9PXQubmV4dDspaWYoZD10LnByZXYscD10Lm5leHQsaD91KHQscixpLGgpOnModCkpZS5wdXNoKGQuaS9uKSxlLnB1c2godC5pL24pLGUucHVzaChwLmkvbiksUCh0KSx0PXAubmV4dCxnPXAubmV4dDtlbHNlIGlmKCh0PXApPT09Zyl7Zj8xPT09Zj9vKHQ9YyhhKHQpLGUsbiksZSxuLHIsaSxoLDIpOjI9PT1mJiZsKHQsZSxuLHIsaSxoKTpvKGEodCksZSxuLHIsaSxoLDEpO2JyZWFrfX19ZnVuY3Rpb24gcyh0KXt2YXIgZT10LnByZXYsbj10LHI9dC5uZXh0O2lmKG0oZSxuLHIpPj0wKXJldHVybiExO2Zvcih2YXIgaT10Lm5leHQubmV4dDtpIT09dC5wcmV2Oyl7aWYoZyhlLngsZS55LG4ueCxuLnksci54LHIueSxpLngsaS55KSYmbShpLnByZXYsaSxpLm5leHQpPj0wKXJldHVybiExO2k9aS5uZXh0fXJldHVybiEwfWZ1bmN0aW9uIHUodCxlLG4scil7dmFyIGk9dC5wcmV2LGE9dCxvPXQubmV4dDtpZihtKGksYSxvKT49MClyZXR1cm4hMTtmb3IodmFyIHM9aS54PGEueD9pLng8by54P2kueDpvLng6YS54PG8ueD9hLng6by54LHU9aS55PGEueT9pLnk8by55P2kueTpvLnk6YS55PG8ueT9hLnk6by55LGM9aS54PmEueD9pLng+by54P2kueDpvLng6YS54Pm8ueD9hLng6by54LGw9aS55PmEueT9pLnk+by55P2kueTpvLnk6YS55Pm8ueT9hLnk6by55LGg9dihzLHUsZSxuLHIpLGY9dihjLGwsZSxuLHIpLGQ9dC5wcmV2WixwPXQubmV4dFo7ZCYmZC56Pj1oJiZwJiZwLno8PWY7KXtpZihkIT09dC5wcmV2JiZkIT09dC5uZXh0JiZnKGkueCxpLnksYS54LGEueSxvLngsby55LGQueCxkLnkpJiZtKGQucHJldixkLGQubmV4dCk+PTApcmV0dXJuITE7aWYoZD1kLnByZXZaLHAhPT10LnByZXYmJnAhPT10Lm5leHQmJmcoaS54LGkueSxhLngsYS55LG8ueCxvLnkscC54LHAueSkmJm0ocC5wcmV2LHAscC5uZXh0KT49MClyZXR1cm4hMTtwPXAubmV4dFp9Zm9yKDtkJiZkLno+PWg7KXtpZihkIT09dC5wcmV2JiZkIT09dC5uZXh0JiZnKGkueCxpLnksYS54LGEueSxvLngsby55LGQueCxkLnkpJiZtKGQucHJldixkLGQubmV4dCk+PTApcmV0dXJuITE7ZD1kLnByZXZafWZvcig7cCYmcC56PD1mOyl7aWYocCE9PXQucHJldiYmcCE9PXQubmV4dCYmZyhpLngsaS55LGEueCxhLnksby54LG8ueSxwLngscC55KSYmbShwLnByZXYscCxwLm5leHQpPj0wKXJldHVybiExO3A9cC5uZXh0Wn1yZXR1cm4hMH1mdW5jdGlvbiBjKHQsZSxuKXt2YXIgcj10O2Rve3ZhciBpPXIucHJldixvPXIubmV4dC5uZXh0OyFiKGksbykmJl8oaSxyLHIubmV4dCxvKSYmdyhpLG8pJiZ3KG8saSkmJihlLnB1c2goaS5pL24pLGUucHVzaChyLmkvbiksZS5wdXNoKG8uaS9uKSxQKHIpLFAoci5uZXh0KSxyPXQ9bykscj1yLm5leHR9d2hpbGUociE9PXQpO3JldHVybiBhKHIpfWZ1bmN0aW9uIGwodCxlLG4scixpLHMpe3ZhciB1PXQ7ZG97Zm9yKHZhciBjPXUubmV4dC5uZXh0O2MhPT11LnByZXY7KXtpZih1LmkhPT1jLmkmJnkodSxjKSl7dmFyIGw9ayh1LGMpO3JldHVybiB1PWEodSx1Lm5leHQpLGw9YShsLGwubmV4dCksbyh1LGUsbixyLGkscyksdm9pZCBvKGwsZSxuLHIsaSxzKX1jPWMubmV4dH11PXUubmV4dH13aGlsZSh1IT09dCl9ZnVuY3Rpb24gaCh0LGUpe3JldHVybiB0LngtZS54fWZ1bmN0aW9uIGYodCxlKXtpZihlPWZ1bmN0aW9uKHQsZSl7dmFyIG4scj1lLGk9dC54LGE9dC55LG89LTEvMDtkb3tpZihhPD1yLnkmJmE+PXIubmV4dC55JiZyLm5leHQueSE9PXIueSl7dmFyIHM9ci54KyhhLXIueSkqKHIubmV4dC54LXIueCkvKHIubmV4dC55LXIueSk7aWYoczw9aSYmcz5vKXtpZihvPXMscz09PWkpe2lmKGE9PT1yLnkpcmV0dXJuIHI7aWYoYT09PXIubmV4dC55KXJldHVybiByLm5leHR9bj1yLng8ci5uZXh0Lng/cjpyLm5leHR9fXI9ci5uZXh0fXdoaWxlKHIhPT1lKTtpZighbilyZXR1cm4gbnVsbDtpZihpPT09bylyZXR1cm4gbjt2YXIgdSxjPW4sbD1uLngsaD1uLnksZj0xLzA7cj1uO2Rve2k+PXIueCYmci54Pj1sJiZpIT09ci54JiZnKGE8aD9pOm8sYSxsLGgsYTxoP286aSxhLHIueCxyLnkpJiYodT1NYXRoLmFicyhhLXIueSkvKGktci54KSx3KHIsdCkmJih1PGZ8fHU9PT1mJiYoci54Pm4ueHx8ci54PT09bi54JiZkKG4scikpKSYmKG49cixmPXUpKSxyPXIubmV4dH13aGlsZShyIT09Yyk7cmV0dXJuIG59KHQsZSkpe3ZhciBuPWsoZSx0KTthKG4sbi5uZXh0KX19ZnVuY3Rpb24gZCh0LGUpe3JldHVybiBtKHQucHJldix0LGUucHJldik8MCYmbShlLm5leHQsdCx0Lm5leHQpPDB9ZnVuY3Rpb24gdih0LGUsbixyLGkpe3JldHVybih0PTE0MzE2NTU3NjUmKCh0PTg1ODk5MzQ1OSYoKHQ9MjUyNjQ1MTM1JigodD0xNjcxMTkzNSYoKHQ9MzI3NjcqKHQtbikqaSl8dDw8OCkpfHQ8PDQpKXx0PDwyKSl8dDw8MSkpfChlPTE0MzE2NTU3NjUmKChlPTg1ODk5MzQ1OSYoKGU9MjUyNjQ1MTM1JigoZT0xNjcxMTkzNSYoKGU9MzI3NjcqKGUtcikqaSl8ZTw8OCkpfGU8PDQpKXxlPDwyKSl8ZTw8MSkpPDwxfWZ1bmN0aW9uIHAodCl7dmFyIGU9dCxuPXQ7ZG97KGUueDxuLnh8fGUueD09PW4ueCYmZS55PG4ueSkmJihuPWUpLGU9ZS5uZXh0fXdoaWxlKGUhPT10KTtyZXR1cm4gbn1mdW5jdGlvbiBnKHQsZSxuLHIsaSxhLG8scyl7cmV0dXJuKGktbykqKGUtcyktKHQtbykqKGEtcyk+PTAmJih0LW8pKihyLXMpLShuLW8pKihlLXMpPj0wJiYobi1vKSooYS1zKS0oaS1vKSooci1zKT49MH1mdW5jdGlvbiB5KHQsZSl7cmV0dXJuIHQubmV4dC5pIT09ZS5pJiZ0LnByZXYuaSE9PWUuaSYmIWZ1bmN0aW9uKHQsZSl7dmFyIG49dDtkb3tpZihuLmkhPT10LmkmJm4ubmV4dC5pIT09dC5pJiZuLmkhPT1lLmkmJm4ubmV4dC5pIT09ZS5pJiZfKG4sbi5uZXh0LHQsZSkpcmV0dXJuITA7bj1uLm5leHR9d2hpbGUobiE9PXQpO3JldHVybiExfSh0LGUpJiYodyh0LGUpJiZ3KGUsdCkmJmZ1bmN0aW9uKHQsZSl7dmFyIG49dCxyPSExLGk9KHQueCtlLngpLzIsYT0odC55K2UueSkvMjtkb3tuLnk+YSE9bi5uZXh0Lnk+YSYmbi5uZXh0LnkhPT1uLnkmJmk8KG4ubmV4dC54LW4ueCkqKGEtbi55KS8obi5uZXh0Lnktbi55KStuLngmJihyPSFyKSxuPW4ubmV4dH13aGlsZShuIT09dCk7cmV0dXJuIHJ9KHQsZSkmJihtKHQucHJldix0LGUucHJldil8fG0odCxlLnByZXYsZSkpfHxiKHQsZSkmJm0odC5wcmV2LHQsdC5uZXh0KT4wJiZtKGUucHJldixlLGUubmV4dCk+MCl9ZnVuY3Rpb24gbSh0LGUsbil7cmV0dXJuKGUueS10LnkpKihuLngtZS54KS0oZS54LXQueCkqKG4ueS1lLnkpfWZ1bmN0aW9uIGIodCxlKXtyZXR1cm4gdC54PT09ZS54JiZ0Lnk9PT1lLnl9ZnVuY3Rpb24gXyh0LGUsbixyKXt2YXIgaT14KG0odCxlLG4pKSxhPXgobSh0LGUscikpLG89eChtKG4scix0KSkscz14KG0obixyLGUpKTtyZXR1cm4gaSE9PWEmJm8hPT1zfHwoISgwIT09aXx8IU8odCxuLGUpKXx8KCEoMCE9PWF8fCFPKHQscixlKSl8fCghKDAhPT1vfHwhTyhuLHQscikpfHwhKDAhPT1zfHwhTyhuLGUscikpKSkpfWZ1bmN0aW9uIE8odCxlLG4pe3JldHVybiBlLng8PU1hdGgubWF4KHQueCxuLngpJiZlLng+PU1hdGgubWluKHQueCxuLngpJiZlLnk8PU1hdGgubWF4KHQueSxuLnkpJiZlLnk+PU1hdGgubWluKHQueSxuLnkpfWZ1bmN0aW9uIHgodCl7cmV0dXJuIHQ+MD8xOnQ8MD8tMTowfWZ1bmN0aW9uIHcodCxlKXtyZXR1cm4gbSh0LnByZXYsdCx0Lm5leHQpPDA/bSh0LGUsdC5uZXh0KT49MCYmbSh0LHQucHJldixlKT49MDptKHQsZSx0LnByZXYpPDB8fG0odCx0Lm5leHQsZSk8MH1mdW5jdGlvbiBrKHQsZSl7dmFyIG49bmV3IGoodC5pLHQueCx0LnkpLHI9bmV3IGooZS5pLGUueCxlLnkpLGk9dC5uZXh0LGE9ZS5wcmV2O3JldHVybiB0Lm5leHQ9ZSxlLnByZXY9dCxuLm5leHQ9aSxpLnByZXY9bixyLm5leHQ9bixuLnByZXY9cixhLm5leHQ9cixyLnByZXY9YSxyfWZ1bmN0aW9uIFModCxlLG4scil7dmFyIGk9bmV3IGoodCxlLG4pO3JldHVybiByPyhpLm5leHQ9ci5uZXh0LGkucHJldj1yLHIubmV4dC5wcmV2PWksci5uZXh0PWkpOihpLnByZXY9aSxpLm5leHQ9aSksaX1mdW5jdGlvbiBQKHQpe3QubmV4dC5wcmV2PXQucHJldix0LnByZXYubmV4dD10Lm5leHQsdC5wcmV2WiYmKHQucHJldloubmV4dFo9dC5uZXh0WiksdC5uZXh0WiYmKHQubmV4dFoucHJldlo9dC5wcmV2Wil9ZnVuY3Rpb24gaih0LGUsbil7dGhpcy5pPXQsdGhpcy54PWUsdGhpcy55PW4sdGhpcy5wcmV2PW51bGwsdGhpcy5uZXh0PW51bGwsdGhpcy56PW51bGwsdGhpcy5wcmV2Wj1udWxsLHRoaXMubmV4dFo9bnVsbCx0aGlzLnN0ZWluZXI9ITF9ZnVuY3Rpb24gVCh0LGUsbixyKXtmb3IodmFyIGk9MCxhPWUsbz1uLXI7YTxuO2ErPXIpaSs9KHRbb10tdFthXSkqKHRbYSsxXSt0W28rMV0pLG89YTtyZXR1cm4gaX10LmV4cG9ydHM9cix0LmV4cG9ydHMuZGVmYXVsdD1yLHIuZGV2aWF0aW9uPWZ1bmN0aW9uKHQsZSxuLHIpe3ZhciBpPWUmJmUubGVuZ3RoLGE9aT9lWzBdKm46dC5sZW5ndGgsbz1NYXRoLmFicyhUKHQsMCxhLG4pKTtpZihpKWZvcih2YXIgcz0wLHU9ZS5sZW5ndGg7czx1O3MrKyl7dmFyIGM9ZVtzXSpuLGw9czx1LTE/ZVtzKzFdKm46dC5sZW5ndGg7by09TWF0aC5hYnMoVCh0LGMsbCxuKSl9dmFyIGg9MDtmb3Iocz0wO3M8ci5sZW5ndGg7cys9Myl7dmFyIGY9cltzXSpuLGQ9cltzKzFdKm4sdj1yW3MrMl0qbjtoKz1NYXRoLmFicygodFtmXS10W3ZdKSoodFtkKzFdLXRbZisxXSktKHRbZl0tdFtkXSkqKHRbdisxXS10W2YrMV0pKX1yZXR1cm4gMD09PW8mJjA9PT1oPzA6TWF0aC5hYnMoKGgtbykvbyl9LHIuZmxhdHRlbj1mdW5jdGlvbih0KXtmb3IodmFyIGU9dFswXVswXS5sZW5ndGgsbj17dmVydGljZXM6W10saG9sZXM6W10sZGltZW5zaW9uczplfSxyPTAsaT0wO2k8dC5sZW5ndGg7aSsrKXtmb3IodmFyIGE9MDthPHRbaV0ubGVuZ3RoO2ErKylmb3IodmFyIG89MDtvPGU7bysrKW4udmVydGljZXMucHVzaCh0W2ldW2FdW29dKTtpPjAmJihyKz10W2ktMV0ubGVuZ3RoLG4uaG9sZXMucHVzaChyKSl9cmV0dXJuIG59fSxmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO3QuZXhwb3J0cz1yLHQuZXhwb3J0cy5kZWZhdWx0PXI7ZnVuY3Rpb24gcih0LGUsbixyLGksYSl7dGhpcy5mb250U2l6ZT10fHwyNCx0aGlzLmJ1ZmZlcj12b2lkIDA9PT1lPzM6ZSx0aGlzLmN1dG9mZj1yfHwuMjUsdGhpcy5mb250RmFtaWx5PWl8fCJzYW5zLXNlcmlmIix0aGlzLmZvbnRXZWlnaHQ9YXx8Im5vcm1hbCIsdGhpcy5yYWRpdXM9bnx8ODt2YXIgbz10aGlzLnNpemU9dGhpcy5mb250U2l6ZSsyKnRoaXMuYnVmZmVyO3RoaXMuY2FudmFzPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImNhbnZhcyIpLHRoaXMuY2FudmFzLndpZHRoPXRoaXMuY2FudmFzLmhlaWdodD1vLHRoaXMuY3R4PXRoaXMuY2FudmFzLmdldENvbnRleHQoIjJkIiksdGhpcy5jdHguZm9udD10aGlzLmZvbnRXZWlnaHQrIiAiK3RoaXMuZm9udFNpemUrInB4ICIrdGhpcy5mb250RmFtaWx5LHRoaXMuY3R4LnRleHRCYXNlbGluZT0ibWlkZGxlIix0aGlzLmN0eC5maWxsU3R5bGU9ImJsYWNrIix0aGlzLmdyaWRPdXRlcj1uZXcgRmxvYXQ2NEFycmF5KG8qbyksdGhpcy5ncmlkSW5uZXI9bmV3IEZsb2F0NjRBcnJheShvKm8pLHRoaXMuZj1uZXcgRmxvYXQ2NEFycmF5KG8pLHRoaXMuZD1uZXcgRmxvYXQ2NEFycmF5KG8pLHRoaXMuej1uZXcgRmxvYXQ2NEFycmF5KG8rMSksdGhpcy52PW5ldyBJbnQxNkFycmF5KG8pLHRoaXMubWlkZGxlPU1hdGgucm91bmQoby8yKihuYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoIkdlY2tvLyIpPj0wPzEuMjoxKSl9ZnVuY3Rpb24gaSh0LGUsbixyLGksbyxzKXtmb3IodmFyIHU9MDt1PGU7dSsrKXtmb3IodmFyIGM9MDtjPG47YysrKXJbY109dFtjKmUrdV07Zm9yKGEocixpLG8scyxuKSxjPTA7YzxuO2MrKyl0W2MqZSt1XT1pW2NdfWZvcihjPTA7YzxuO2MrKyl7Zm9yKHU9MDt1PGU7dSsrKXJbdV09dFtjKmUrdV07Zm9yKGEocixpLG8scyxlKSx1PTA7dTxlO3UrKyl0W2MqZSt1XT1NYXRoLnNxcnQoaVt1XSl9fWZ1bmN0aW9uIGEodCxlLG4scixpKXtuWzBdPTAsclswXT0tMWUyMCxyWzFdPTFlMjA7Zm9yKHZhciBhPTEsbz0wO2E8aTthKyspe2Zvcih2YXIgcz0odFthXSthKmEtKHRbbltvXV0rbltvXSpuW29dKSkvKDIqYS0yKm5bb10pO3M8PXJbb107KW8tLSxzPSh0W2FdK2EqYS0odFtuW29dXStuW29dKm5bb10pKS8oMiphLTIqbltvXSk7blsrK29dPWEscltvXT1zLHJbbysxXT0xZTIwfWZvcihhPTAsbz0wO2E8aTthKyspe2Zvcig7cltvKzFdPGE7KW8rKztlW2FdPShhLW5bb10pKihhLW5bb10pK3RbbltvXV19fXIucHJvdG90eXBlLmRyYXc9ZnVuY3Rpb24odCl7dGhpcy5jdHguY2xlYXJSZWN0KDAsMCx0aGlzLnNpemUsdGhpcy5zaXplKSx0aGlzLmN0eC5maWxsVGV4dCh0LHRoaXMuYnVmZmVyLHRoaXMubWlkZGxlKTtmb3IodmFyIGU9dGhpcy5jdHguZ2V0SW1hZ2VEYXRhKDAsMCx0aGlzLnNpemUsdGhpcy5zaXplKSxuPW5ldyBVaW50OENsYW1wZWRBcnJheSh0aGlzLnNpemUqdGhpcy5zaXplKSxyPTA7cjx0aGlzLnNpemUqdGhpcy5zaXplO3IrKyl7dmFyIGE9ZS5kYXRhWzQqciszXS8yNTU7dGhpcy5ncmlkT3V0ZXJbcl09MT09PWE/MDowPT09YT8xZTIwOk1hdGgucG93KE1hdGgubWF4KDAsLjUtYSksMiksdGhpcy5ncmlkSW5uZXJbcl09MT09PWE/MWUyMDowPT09YT8wOk1hdGgucG93KE1hdGgubWF4KDAsYS0uNSksMil9Zm9yKGkodGhpcy5ncmlkT3V0ZXIsdGhpcy5zaXplLHRoaXMuc2l6ZSx0aGlzLmYsdGhpcy5kLHRoaXMudix0aGlzLnopLGkodGhpcy5ncmlkSW5uZXIsdGhpcy5zaXplLHRoaXMuc2l6ZSx0aGlzLmYsdGhpcy5kLHRoaXMudix0aGlzLnopLHI9MDtyPHRoaXMuc2l6ZSp0aGlzLnNpemU7cisrKXt2YXIgbz10aGlzLmdyaWRPdXRlcltyXS10aGlzLmdyaWRJbm5lcltyXTtuW3JdPU1hdGgubWF4KDAsTWF0aC5taW4oMjU1LE1hdGgucm91bmQoMjU1LTI1NSooby90aGlzLnJhZGl1cyt0aGlzLmN1dG9mZikpKSl9cmV0dXJuIG59fSxmdW5jdGlvbih0LGUsbil7dC5leHBvcnRzLlZlY3RvclRpbGU9bigyNjQpLHQuZXhwb3J0cy5WZWN0b3JUaWxlRmVhdHVyZT1uKDIxMSksdC5leHBvcnRzLlZlY3RvclRpbGVMYXllcj1uKDIxMCl9LGZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dC5leHBvcnRzPWk7dmFyIHI9bigyNjYpO2Z1bmN0aW9uIGkodCl7dGhpcy5idWY9QXJyYXlCdWZmZXIuaXNWaWV3JiZBcnJheUJ1ZmZlci5pc1ZpZXcodCk/dDpuZXcgVWludDhBcnJheSh0fHwwKSx0aGlzLnBvcz0wLHRoaXMudHlwZT0wLHRoaXMubGVuZ3RoPXRoaXMuYnVmLmxlbmd0aH1pLlZhcmludD0wLGkuRml4ZWQ2ND0xLGkuQnl0ZXM9MixpLkZpeGVkMzI9NTt2YXIgYT0idW5kZWZpbmVkIj09dHlwZW9mIFRleHREZWNvZGVyP251bGw6bmV3IFRleHREZWNvZGVyKCJ1dGY4Iik7ZnVuY3Rpb24gbyh0KXtyZXR1cm4gdC50eXBlPT09aS5CeXRlcz90LnJlYWRWYXJpbnQoKSt0LnBvczp0LnBvcysxfWZ1bmN0aW9uIHModCxlLG4pe3JldHVybiBuPzQyOTQ5NjcyOTYqZSsodD4+PjApOjQyOTQ5NjcyOTYqKGU+Pj4wKSsodD4+PjApfWZ1bmN0aW9uIHUodCxlLG4pe3ZhciByPWU8PTE2MzgzPzE6ZTw9MjA5NzE1MT8yOmU8PTI2ODQzNTQ1NT8zOk1hdGguZmxvb3IoTWF0aC5sb2coZSkvKDcqTWF0aC5MTjIpKTtuLnJlYWxsb2Mocik7Zm9yKHZhciBpPW4ucG9zLTE7aT49dDtpLS0pbi5idWZbaStyXT1uLmJ1ZltpXX1mdW5jdGlvbiBjKHQsZSl7Zm9yKHZhciBuPTA7bjx0Lmxlbmd0aDtuKyspZS53cml0ZVZhcmludCh0W25dKX1mdW5jdGlvbiBsKHQsZSl7Zm9yKHZhciBuPTA7bjx0Lmxlbmd0aDtuKyspZS53cml0ZVNWYXJpbnQodFtuXSl9ZnVuY3Rpb24gaCh0LGUpe2Zvcih2YXIgbj0wO248dC5sZW5ndGg7bisrKWUud3JpdGVGbG9hdCh0W25dKX1mdW5jdGlvbiBmKHQsZSl7Zm9yKHZhciBuPTA7bjx0Lmxlbmd0aDtuKyspZS53cml0ZURvdWJsZSh0W25dKX1mdW5jdGlvbiBkKHQsZSl7Zm9yKHZhciBuPTA7bjx0Lmxlbmd0aDtuKyspZS53cml0ZUJvb2xlYW4odFtuXSl9ZnVuY3Rpb24gdih0LGUpe2Zvcih2YXIgbj0wO248dC5sZW5ndGg7bisrKWUud3JpdGVGaXhlZDMyKHRbbl0pfWZ1bmN0aW9uIHAodCxlKXtmb3IodmFyIG49MDtuPHQubGVuZ3RoO24rKyllLndyaXRlU0ZpeGVkMzIodFtuXSl9ZnVuY3Rpb24gZyh0LGUpe2Zvcih2YXIgbj0wO248dC5sZW5ndGg7bisrKWUud3JpdGVGaXhlZDY0KHRbbl0pfWZ1bmN0aW9uIHkodCxlKXtmb3IodmFyIG49MDtuPHQubGVuZ3RoO24rKyllLndyaXRlU0ZpeGVkNjQodFtuXSl9ZnVuY3Rpb24gbSh0LGUpe3JldHVybih0W2VdfHRbZSsxXTw8OHx0W2UrMl08PDE2KSsxNjc3NzIxNip0W2UrM119ZnVuY3Rpb24gYih0LGUsbil7dFtuXT1lLHRbbisxXT1lPj4+OCx0W24rMl09ZT4+PjE2LHRbbiszXT1lPj4+MjR9ZnVuY3Rpb24gXyh0LGUpe3JldHVybih0W2VdfHRbZSsxXTw8OHx0W2UrMl08PDE2KSsodFtlKzNdPDwyNCl9aS5wcm90b3R5cGU9e2Rlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLmJ1Zj1udWxsfSxyZWFkRmllbGRzOmZ1bmN0aW9uKHQsZSxuKXtmb3Iobj1ufHx0aGlzLmxlbmd0aDt0aGlzLnBvczxuOyl7dmFyIHI9dGhpcy5yZWFkVmFyaW50KCksaT1yPj4zLGE9dGhpcy5wb3M7dGhpcy50eXBlPTcmcix0KGksZSx0aGlzKSx0aGlzLnBvcz09PWEmJnRoaXMuc2tpcChyKX1yZXR1cm4gZX0scmVhZE1lc3NhZ2U6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5yZWFkRmllbGRzKHQsZSx0aGlzLnJlYWRWYXJpbnQoKSt0aGlzLnBvcyl9LHJlYWRGaXhlZDMyOmZ1bmN0aW9uKCl7dmFyIHQ9bSh0aGlzLmJ1Zix0aGlzLnBvcyk7cmV0dXJuIHRoaXMucG9zKz00LHR9LHJlYWRTRml4ZWQzMjpmdW5jdGlvbigpe3ZhciB0PV8odGhpcy5idWYsdGhpcy5wb3MpO3JldHVybiB0aGlzLnBvcys9NCx0fSxyZWFkRml4ZWQ2NDpmdW5jdGlvbigpe3ZhciB0PW0odGhpcy5idWYsdGhpcy5wb3MpKzQyOTQ5NjcyOTYqbSh0aGlzLmJ1Zix0aGlzLnBvcys0KTtyZXR1cm4gdGhpcy5wb3MrPTgsdH0scmVhZFNGaXhlZDY0OmZ1bmN0aW9uKCl7dmFyIHQ9bSh0aGlzLmJ1Zix0aGlzLnBvcykrNDI5NDk2NzI5NipfKHRoaXMuYnVmLHRoaXMucG9zKzQpO3JldHVybiB0aGlzLnBvcys9OCx0fSxyZWFkRmxvYXQ6ZnVuY3Rpb24oKXt2YXIgdD1yLnJlYWQodGhpcy5idWYsdGhpcy5wb3MsITAsMjMsNCk7cmV0dXJuIHRoaXMucG9zKz00LHR9LHJlYWREb3VibGU6ZnVuY3Rpb24oKXt2YXIgdD1yLnJlYWQodGhpcy5idWYsdGhpcy5wb3MsITAsNTIsOCk7cmV0dXJuIHRoaXMucG9zKz04LHR9LHJlYWRWYXJpbnQ6ZnVuY3Rpb24odCl7dmFyIGUsbixyPXRoaXMuYnVmO3JldHVybiBlPTEyNyYobj1yW3RoaXMucG9zKytdKSxuPDEyOD9lOihlfD0oMTI3JihuPXJbdGhpcy5wb3MrK10pKTw8NyxuPDEyOD9lOihlfD0oMTI3JihuPXJbdGhpcy5wb3MrK10pKTw8MTQsbjwxMjg/ZTooZXw9KDEyNyYobj1yW3RoaXMucG9zKytdKSk8PDIxLG48MTI4P2U6ZnVuY3Rpb24odCxlLG4pe3ZhciByLGksYT1uLmJ1ZjtpZihpPWFbbi5wb3MrK10scj0oMTEyJmkpPj40LGk8MTI4KXJldHVybiBzKHQscixlKTtpZihpPWFbbi5wb3MrK10scnw9KDEyNyZpKTw8MyxpPDEyOClyZXR1cm4gcyh0LHIsZSk7aWYoaT1hW24ucG9zKytdLHJ8PSgxMjcmaSk8PDEwLGk8MTI4KXJldHVybiBzKHQscixlKTtpZihpPWFbbi5wb3MrK10scnw9KDEyNyZpKTw8MTcsaTwxMjgpcmV0dXJuIHModCxyLGUpO2lmKGk9YVtuLnBvcysrXSxyfD0oMTI3JmkpPDwyNCxpPDEyOClyZXR1cm4gcyh0LHIsZSk7aWYoaT1hW24ucG9zKytdLHJ8PSgxJmkpPDwzMSxpPDEyOClyZXR1cm4gcyh0LHIsZSk7dGhyb3cgbmV3IEVycm9yKCJFeHBlY3RlZCB2YXJpbnQgbm90IG1vcmUgdGhhbiAxMCBieXRlcyIpfShlfD0oMTUmKG49clt0aGlzLnBvc10pKTw8MjgsdCx0aGlzKSkpKX0scmVhZFZhcmludDY0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucmVhZFZhcmludCghMCl9LHJlYWRTVmFyaW50OmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5yZWFkVmFyaW50KCk7cmV0dXJuIHQlMj09MT8odCsxKS8tMjp0LzJ9LHJlYWRCb29sZWFuOmZ1bmN0aW9uKCl7cmV0dXJuIEJvb2xlYW4odGhpcy5yZWFkVmFyaW50KCkpfSxyZWFkU3RyaW5nOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5yZWFkVmFyaW50KCkrdGhpcy5wb3MsZT10aGlzLnBvcztyZXR1cm4gdGhpcy5wb3M9dCx0LWU+PTEyJiZhP2Z1bmN0aW9uKHQsZSxuKXtyZXR1cm4gYS5kZWNvZGUodC5zdWJhcnJheShlLG4pKX0odGhpcy5idWYsZSx0KTpmdW5jdGlvbih0LGUsbil7dmFyIHI9IiIsaT1lO2Zvcig7aTxuOyl7dmFyIGEsbyxzLHU9dFtpXSxjPW51bGwsbD11PjIzOT80OnU+MjIzPzM6dT4xOTE/MjoxO2lmKGkrbD5uKWJyZWFrOzE9PT1sP3U8MTI4JiYoYz11KToyPT09bD8xMjg9PSgxOTImKGE9dFtpKzFdKSkmJihjPSgzMSZ1KTw8Nnw2MyZhKTw9MTI3JiYoYz1udWxsKTozPT09bD8oYT10W2krMV0sbz10W2krMl0sMTI4PT0oMTkyJmEpJiYxMjg9PSgxOTImbykmJigoYz0oMTUmdSk8PDEyfCg2MyZhKTw8Nnw2MyZvKTw9MjA0N3x8Yz49NTUyOTYmJmM8PTU3MzQzKSYmKGM9bnVsbCkpOjQ9PT1sJiYoYT10W2krMV0sbz10W2krMl0scz10W2krM10sMTI4PT0oMTkyJmEpJiYxMjg9PSgxOTImbykmJjEyOD09KDE5MiZzKSYmKChjPSgxNSZ1KTw8MTh8KDYzJmEpPDwxMnwoNjMmbyk8PDZ8NjMmcyk8PTY1NTM1fHxjPj0xMTE0MTEyKSYmKGM9bnVsbCkpLG51bGw9PT1jPyhjPTY1NTMzLGw9MSk6Yz42NTUzNSYmKGMtPTY1NTM2LHIrPVN0cmluZy5mcm9tQ2hhckNvZGUoYz4+PjEwJjEwMjN8NTUyOTYpLGM9NTYzMjB8MTAyMyZjKSxyKz1TdHJpbmcuZnJvbUNoYXJDb2RlKGMpLGkrPWx9cmV0dXJuIHJ9KHRoaXMuYnVmLGUsdCl9LHJlYWRCeXRlczpmdW5jdGlvbigpe3ZhciB0PXRoaXMucmVhZFZhcmludCgpK3RoaXMucG9zLGU9dGhpcy5idWYuc3ViYXJyYXkodGhpcy5wb3MsdCk7cmV0dXJuIHRoaXMucG9zPXQsZX0scmVhZFBhY2tlZFZhcmludDpmdW5jdGlvbih0LGUpe2lmKHRoaXMudHlwZSE9PWkuQnl0ZXMpcmV0dXJuIHQucHVzaCh0aGlzLnJlYWRWYXJpbnQoZSkpO3ZhciBuPW8odGhpcyk7Zm9yKHQ9dHx8W107dGhpcy5wb3M8bjspdC5wdXNoKHRoaXMucmVhZFZhcmludChlKSk7cmV0dXJuIHR9LHJlYWRQYWNrZWRTVmFyaW50OmZ1bmN0aW9uKHQpe2lmKHRoaXMudHlwZSE9PWkuQnl0ZXMpcmV0dXJuIHQucHVzaCh0aGlzLnJlYWRTVmFyaW50KCkpO3ZhciBlPW8odGhpcyk7Zm9yKHQ9dHx8W107dGhpcy5wb3M8ZTspdC5wdXNoKHRoaXMucmVhZFNWYXJpbnQoKSk7cmV0dXJuIHR9LHJlYWRQYWNrZWRCb29sZWFuOmZ1bmN0aW9uKHQpe2lmKHRoaXMudHlwZSE9PWkuQnl0ZXMpcmV0dXJuIHQucHVzaCh0aGlzLnJlYWRCb29sZWFuKCkpO3ZhciBlPW8odGhpcyk7Zm9yKHQ9dHx8W107dGhpcy5wb3M8ZTspdC5wdXNoKHRoaXMucmVhZEJvb2xlYW4oKSk7cmV0dXJuIHR9LHJlYWRQYWNrZWRGbG9hdDpmdW5jdGlvbih0KXtpZih0aGlzLnR5cGUhPT1pLkJ5dGVzKXJldHVybiB0LnB1c2godGhpcy5yZWFkRmxvYXQoKSk7dmFyIGU9byh0aGlzKTtmb3IodD10fHxbXTt0aGlzLnBvczxlOyl0LnB1c2godGhpcy5yZWFkRmxvYXQoKSk7cmV0dXJuIHR9LHJlYWRQYWNrZWREb3VibGU6ZnVuY3Rpb24odCl7aWYodGhpcy50eXBlIT09aS5CeXRlcylyZXR1cm4gdC5wdXNoKHRoaXMucmVhZERvdWJsZSgpKTt2YXIgZT1vKHRoaXMpO2Zvcih0PXR8fFtdO3RoaXMucG9zPGU7KXQucHVzaCh0aGlzLnJlYWREb3VibGUoKSk7cmV0dXJuIHR9LHJlYWRQYWNrZWRGaXhlZDMyOmZ1bmN0aW9uKHQpe2lmKHRoaXMudHlwZSE9PWkuQnl0ZXMpcmV0dXJuIHQucHVzaCh0aGlzLnJlYWRGaXhlZDMyKCkpO3ZhciBlPW8odGhpcyk7Zm9yKHQ9dHx8W107dGhpcy5wb3M8ZTspdC5wdXNoKHRoaXMucmVhZEZpeGVkMzIoKSk7cmV0dXJuIHR9LHJlYWRQYWNrZWRTRml4ZWQzMjpmdW5jdGlvbih0KXtpZih0aGlzLnR5cGUhPT1pLkJ5dGVzKXJldHVybiB0LnB1c2godGhpcy5yZWFkU0ZpeGVkMzIoKSk7dmFyIGU9byh0aGlzKTtmb3IodD10fHxbXTt0aGlzLnBvczxlOyl0LnB1c2godGhpcy5yZWFkU0ZpeGVkMzIoKSk7cmV0dXJuIHR9LHJlYWRQYWNrZWRGaXhlZDY0OmZ1bmN0aW9uKHQpe2lmKHRoaXMudHlwZSE9PWkuQnl0ZXMpcmV0dXJuIHQucHVzaCh0aGlzLnJlYWRGaXhlZDY0KCkpO3ZhciBlPW8odGhpcyk7Zm9yKHQ9dHx8W107dGhpcy5wb3M8ZTspdC5wdXNoKHRoaXMucmVhZEZpeGVkNjQoKSk7cmV0dXJuIHR9LHJlYWRQYWNrZWRTRml4ZWQ2NDpmdW5jdGlvbih0KXtpZih0aGlzLnR5cGUhPT1pLkJ5dGVzKXJldHVybiB0LnB1c2godGhpcy5yZWFkU0ZpeGVkNjQoKSk7dmFyIGU9byh0aGlzKTtmb3IodD10fHxbXTt0aGlzLnBvczxlOyl0LnB1c2godGhpcy5yZWFkU0ZpeGVkNjQoKSk7cmV0dXJuIHR9LHNraXA6ZnVuY3Rpb24odCl7dmFyIGU9NyZ0O2lmKGU9PT1pLlZhcmludClmb3IoO3RoaXMuYnVmW3RoaXMucG9zKytdPjEyNzspO2Vsc2UgaWYoZT09PWkuQnl0ZXMpdGhpcy5wb3M9dGhpcy5yZWFkVmFyaW50KCkrdGhpcy5wb3M7ZWxzZSBpZihlPT09aS5GaXhlZDMyKXRoaXMucG9zKz00O2Vsc2V7aWYoZSE9PWkuRml4ZWQ2NCl0aHJvdyBuZXcgRXJyb3IoIlVuaW1wbGVtZW50ZWQgdHlwZTogIitlKTt0aGlzLnBvcys9OH19LHdyaXRlVGFnOmZ1bmN0aW9uKHQsZSl7dGhpcy53cml0ZVZhcmludCh0PDwzfGUpfSxyZWFsbG9jOmZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10aGlzLmxlbmd0aHx8MTY7ZTx0aGlzLnBvcyt0OyllKj0yO2lmKGUhPT10aGlzLmxlbmd0aCl7dmFyIG49bmV3IFVpbnQ4QXJyYXkoZSk7bi5zZXQodGhpcy5idWYpLHRoaXMuYnVmPW4sdGhpcy5sZW5ndGg9ZX19LGZpbmlzaDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmxlbmd0aD10aGlzLnBvcyx0aGlzLnBvcz0wLHRoaXMuYnVmLnN1YmFycmF5KDAsdGhpcy5sZW5ndGgpfSx3cml0ZUZpeGVkMzI6ZnVuY3Rpb24odCl7dGhpcy5yZWFsbG9jKDQpLGIodGhpcy5idWYsdCx0aGlzLnBvcyksdGhpcy5wb3MrPTR9LHdyaXRlU0ZpeGVkMzI6ZnVuY3Rpb24odCl7dGhpcy5yZWFsbG9jKDQpLGIodGhpcy5idWYsdCx0aGlzLnBvcyksdGhpcy5wb3MrPTR9LHdyaXRlRml4ZWQ2NDpmdW5jdGlvbih0KXt0aGlzLnJlYWxsb2MoOCksYih0aGlzLmJ1ZiwtMSZ0LHRoaXMucG9zKSxiKHRoaXMuYnVmLE1hdGguZmxvb3IodCooMS80Mjk0OTY3Mjk2KSksdGhpcy5wb3MrNCksdGhpcy5wb3MrPTh9LHdyaXRlU0ZpeGVkNjQ6ZnVuY3Rpb24odCl7dGhpcy5yZWFsbG9jKDgpLGIodGhpcy5idWYsLTEmdCx0aGlzLnBvcyksYih0aGlzLmJ1ZixNYXRoLmZsb29yKHQqKDEvNDI5NDk2NzI5NikpLHRoaXMucG9zKzQpLHRoaXMucG9zKz04fSx3cml0ZVZhcmludDpmdW5jdGlvbih0KXsodD0rdHx8MCk+MjY4NDM1NDU1fHx0PDA/ZnVuY3Rpb24odCxlKXt2YXIgbixyO3Q+PTA/KG49dCU0Mjk0OTY3Mjk2fDAscj10LzQyOTQ5NjcyOTZ8MCk6KHI9figtdC80Mjk0OTY3Mjk2KSw0Mjk0OTY3Mjk1XihuPX4oLXQlNDI5NDk2NzI5NikpP249bisxfDA6KG49MCxyPXIrMXwwKSk7aWYodD49MHgxMDAwMDAwMDAwMDAwMDAwMHx8dDwtMHgxMDAwMDAwMDAwMDAwMDAwMCl0aHJvdyBuZXcgRXJyb3IoIkdpdmVuIHZhcmludCBkb2Vzbid0IGZpdCBpbnRvIDEwIGJ5dGVzIik7ZS5yZWFsbG9jKDEwKSxmdW5jdGlvbih0LGUsbil7bi5idWZbbi5wb3MrK109MTI3JnR8MTI4LHQ+Pj49NyxuLmJ1ZltuLnBvcysrXT0xMjcmdHwxMjgsdD4+Pj03LG4uYnVmW24ucG9zKytdPTEyNyZ0fDEyOCx0Pj4+PTcsbi5idWZbbi5wb3MrK109MTI3JnR8MTI4LHQ+Pj49NyxuLmJ1ZltuLnBvc109MTI3JnR9KG4sMCxlKSxmdW5jdGlvbih0LGUpe3ZhciBuPSg3JnQpPDw0O2lmKGUuYnVmW2UucG9zKytdfD1ufCgodD4+Pj0zKT8xMjg6MCksIXQpcmV0dXJuO2lmKGUuYnVmW2UucG9zKytdPTEyNyZ0fCgodD4+Pj03KT8xMjg6MCksIXQpcmV0dXJuO2lmKGUuYnVmW2UucG9zKytdPTEyNyZ0fCgodD4+Pj03KT8xMjg6MCksIXQpcmV0dXJuO2lmKGUuYnVmW2UucG9zKytdPTEyNyZ0fCgodD4+Pj03KT8xMjg6MCksIXQpcmV0dXJuO2lmKGUuYnVmW2UucG9zKytdPTEyNyZ0fCgodD4+Pj03KT8xMjg6MCksIXQpcmV0dXJuO2UuYnVmW2UucG9zKytdPTEyNyZ0fShyLGUpfSh0LHRoaXMpOih0aGlzLnJlYWxsb2MoNCksdGhpcy5idWZbdGhpcy5wb3MrK109MTI3JnR8KHQ+MTI3PzEyODowKSx0PD0xMjd8fCh0aGlzLmJ1Zlt0aGlzLnBvcysrXT0xMjcmKHQ+Pj49Nyl8KHQ+MTI3PzEyODowKSx0PD0xMjd8fCh0aGlzLmJ1Zlt0aGlzLnBvcysrXT0xMjcmKHQ+Pj49Nyl8KHQ+MTI3PzEyODowKSx0PD0xMjd8fCh0aGlzLmJ1Zlt0aGlzLnBvcysrXT10Pj4+NyYxMjcpKSkpfSx3cml0ZVNWYXJpbnQ6ZnVuY3Rpb24odCl7dGhpcy53cml0ZVZhcmludCh0PDA/MiotdC0xOjIqdCl9LHdyaXRlQm9vbGVhbjpmdW5jdGlvbih0KXt0aGlzLndyaXRlVmFyaW50KEJvb2xlYW4odCkpfSx3cml0ZVN0cmluZzpmdW5jdGlvbih0KXt0PVN0cmluZyh0KSx0aGlzLnJlYWxsb2MoNCp0Lmxlbmd0aCksdGhpcy5wb3MrKzt2YXIgZT10aGlzLnBvczt0aGlzLnBvcz1mdW5jdGlvbih0LGUsbil7Zm9yKHZhciByLGksYT0wO2E8ZS5sZW5ndGg7YSsrKXtpZigocj1lLmNoYXJDb2RlQXQoYSkpPjU1Mjk1JiZyPDU3MzQ0KXtpZighaSl7cj41NjMxOXx8YSsxPT09ZS5sZW5ndGg/KHRbbisrXT0yMzksdFtuKytdPTE5MSx0W24rK109MTg5KTppPXI7Y29udGludWV9aWYocjw1NjMyMCl7dFtuKytdPTIzOSx0W24rK109MTkxLHRbbisrXT0xODksaT1yO2NvbnRpbnVlfXI9aS01NTI5Njw8MTB8ci01NjMyMHw2NTUzNixpPW51bGx9ZWxzZSBpJiYodFtuKytdPTIzOSx0W24rK109MTkxLHRbbisrXT0xODksaT1udWxsKTtyPDEyOD90W24rK109cjoocjwyMDQ4P3RbbisrXT1yPj42fDE5Mjoocjw2NTUzNj90W24rK109cj4+MTJ8MjI0Oih0W24rK109cj4+MTh8MjQwLHRbbisrXT1yPj4xMiY2M3wxMjgpLHRbbisrXT1yPj42JjYzfDEyOCksdFtuKytdPTYzJnJ8MTI4KX1yZXR1cm4gbn0odGhpcy5idWYsdCx0aGlzLnBvcyk7dmFyIG49dGhpcy5wb3MtZTtuPj0xMjgmJnUoZSxuLHRoaXMpLHRoaXMucG9zPWUtMSx0aGlzLndyaXRlVmFyaW50KG4pLHRoaXMucG9zKz1ufSx3cml0ZUZsb2F0OmZ1bmN0aW9uKHQpe3RoaXMucmVhbGxvYyg0KSxyLndyaXRlKHRoaXMuYnVmLHQsdGhpcy5wb3MsITAsMjMsNCksdGhpcy5wb3MrPTR9LHdyaXRlRG91YmxlOmZ1bmN0aW9uKHQpe3RoaXMucmVhbGxvYyg4KSxyLndyaXRlKHRoaXMuYnVmLHQsdGhpcy5wb3MsITAsNTIsOCksdGhpcy5wb3MrPTh9LHdyaXRlQnl0ZXM6ZnVuY3Rpb24odCl7dmFyIGU9dC5sZW5ndGg7dGhpcy53cml0ZVZhcmludChlKSx0aGlzLnJlYWxsb2MoZSk7Zm9yKHZhciBuPTA7bjxlO24rKyl0aGlzLmJ1Zlt0aGlzLnBvcysrXT10W25dfSx3cml0ZVJhd01lc3NhZ2U6ZnVuY3Rpb24odCxlKXt0aGlzLnBvcysrO3ZhciBuPXRoaXMucG9zO3QoZSx0aGlzKTt2YXIgcj10aGlzLnBvcy1uO3I+PTEyOCYmdShuLHIsdGhpcyksdGhpcy5wb3M9bi0xLHRoaXMud3JpdGVWYXJpbnQociksdGhpcy5wb3MrPXJ9LHdyaXRlTWVzc2FnZTpmdW5jdGlvbih0LGUsbil7dGhpcy53cml0ZVRhZyh0LGkuQnl0ZXMpLHRoaXMud3JpdGVSYXdNZXNzYWdlKGUsbil9LHdyaXRlUGFja2VkVmFyaW50OmZ1bmN0aW9uKHQsZSl7ZS5sZW5ndGgmJnRoaXMud3JpdGVNZXNzYWdlKHQsYyxlKX0sd3JpdGVQYWNrZWRTVmFyaW50OmZ1bmN0aW9uKHQsZSl7ZS5sZW5ndGgmJnRoaXMud3JpdGVNZXNzYWdlKHQsbCxlKX0sd3JpdGVQYWNrZWRCb29sZWFuOmZ1bmN0aW9uKHQsZSl7ZS5sZW5ndGgmJnRoaXMud3JpdGVNZXNzYWdlKHQsZCxlKX0sd3JpdGVQYWNrZWRGbG9hdDpmdW5jdGlvbih0LGUpe2UubGVuZ3RoJiZ0aGlzLndyaXRlTWVzc2FnZSh0LGgsZSl9LHdyaXRlUGFja2VkRG91YmxlOmZ1bmN0aW9uKHQsZSl7ZS5sZW5ndGgmJnRoaXMud3JpdGVNZXNzYWdlKHQsZixlKX0sd3JpdGVQYWNrZWRGaXhlZDMyOmZ1bmN0aW9uKHQsZSl7ZS5sZW5ndGgmJnRoaXMud3JpdGVNZXNzYWdlKHQsdixlKX0sd3JpdGVQYWNrZWRTRml4ZWQzMjpmdW5jdGlvbih0LGUpe2UubGVuZ3RoJiZ0aGlzLndyaXRlTWVzc2FnZSh0LHAsZSl9LHdyaXRlUGFja2VkRml4ZWQ2NDpmdW5jdGlvbih0LGUpe2UubGVuZ3RoJiZ0aGlzLndyaXRlTWVzc2FnZSh0LGcsZSl9LHdyaXRlUGFja2VkU0ZpeGVkNjQ6ZnVuY3Rpb24odCxlKXtlLmxlbmd0aCYmdGhpcy53cml0ZU1lc3NhZ2UodCx5LGUpfSx3cml0ZUJ5dGVzRmllbGQ6ZnVuY3Rpb24odCxlKXt0aGlzLndyaXRlVGFnKHQsaS5CeXRlcyksdGhpcy53cml0ZUJ5dGVzKGUpfSx3cml0ZUZpeGVkMzJGaWVsZDpmdW5jdGlvbih0LGUpe3RoaXMud3JpdGVUYWcodCxpLkZpeGVkMzIpLHRoaXMud3JpdGVGaXhlZDMyKGUpfSx3cml0ZVNGaXhlZDMyRmllbGQ6ZnVuY3Rpb24odCxlKXt0aGlzLndyaXRlVGFnKHQsaS5GaXhlZDMyKSx0aGlzLndyaXRlU0ZpeGVkMzIoZSl9LHdyaXRlRml4ZWQ2NEZpZWxkOmZ1bmN0aW9uKHQsZSl7dGhpcy53cml0ZVRhZyh0LGkuRml4ZWQ2NCksdGhpcy53cml0ZUZpeGVkNjQoZSl9LHdyaXRlU0ZpeGVkNjRGaWVsZDpmdW5jdGlvbih0LGUpe3RoaXMud3JpdGVUYWcodCxpLkZpeGVkNjQpLHRoaXMud3JpdGVTRml4ZWQ2NChlKX0sd3JpdGVWYXJpbnRGaWVsZDpmdW5jdGlvbih0LGUpe3RoaXMud3JpdGVUYWcodCxpLlZhcmludCksdGhpcy53cml0ZVZhcmludChlKX0sd3JpdGVTVmFyaW50RmllbGQ6ZnVuY3Rpb24odCxlKXt0aGlzLndyaXRlVGFnKHQsaS5WYXJpbnQpLHRoaXMud3JpdGVTVmFyaW50KGUpfSx3cml0ZVN0cmluZ0ZpZWxkOmZ1bmN0aW9uKHQsZSl7dGhpcy53cml0ZVRhZyh0LGkuQnl0ZXMpLHRoaXMud3JpdGVTdHJpbmcoZSl9LHdyaXRlRmxvYXRGaWVsZDpmdW5jdGlvbih0LGUpe3RoaXMud3JpdGVUYWcodCxpLkZpeGVkMzIpLHRoaXMud3JpdGVGbG9hdChlKX0sd3JpdGVEb3VibGVGaWVsZDpmdW5jdGlvbih0LGUpe3RoaXMud3JpdGVUYWcodCxpLkZpeGVkNjQpLHRoaXMud3JpdGVEb3VibGUoZSl9LHdyaXRlQm9vbGVhbkZpZWxkOmZ1bmN0aW9uKHQsZSl7dGhpcy53cml0ZVZhcmludEZpZWxkKHQsQm9vbGVhbihlKSl9fX0sZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKDYpLGk9big3KSxhPW4oMzEpLG89bigwKSxzPW4oOTEpLHU9bigxOTApLGM9bigxNzYpO2Z1bmN0aW9uIGwodCl7cmV0dXJuIGgoZnVuY3Rpb24gdChlLG4pe3JldHVybiBlLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiB1LmE/ZTooT2JqZWN0KGMuYSkoInN0cmluZyIhPXR5cGVvZiBlLCJTaGFkZXIgbW9kdWxlIHVzZSBieSBuYW1lIGlzIGRlcHJlY2F0ZWQuIEltcG9ydCBzaGFkZXIgbW9kdWxlICciLmNvbmNhdChlLCInIGFuZCB1c2UgaXQgZGlyZWN0bHkuIikpLE9iamVjdChjLmEpKGUubmFtZSwic2hhZGVyIG1vZHVsZSBoYXMgbm8gbmFtZSIpLChlPW5ldyB1LmEoZSkpLmRlcGVuZGVuY2llcz10KGUuZGVwZW5kZW5jaWVzKSxlKX0pKX0odCkpfWZ1bmN0aW9uIGgodCl7dmFyIGU9e30sbj17fTtyZXR1cm4gZih7bW9kdWxlczp0LGxldmVsOjAsbW9kdWxlTWFwOmUsbW9kdWxlRGVwdGg6bn0pLE9iamVjdC5rZXlzKG4pLnNvcnQoKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIG5bZV0tblt0XX0pKS5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiBlW3RdfSkpfWZ1bmN0aW9uIGYodCl7dmFyIGU9dC5tb2R1bGVzLG49dC5sZXZlbCxyPXQubW9kdWxlTWFwLGk9dC5tb2R1bGVEZXB0aDtpZihuPj01KXRocm93IG5ldyBFcnJvcigiUG9zc2libGUgbG9vcCBpbiBzaGFkZXIgZGVwZW5kZW5jeSBncmFwaCIpO3ZhciBhPSEwLG89ITEscz12b2lkIDA7dHJ5e2Zvcih2YXIgdSxjPWVbU3ltYm9sLml0ZXJhdG9yXSgpOyEoYT0odT1jLm5leHQoKSkuZG9uZSk7YT0hMCl7dmFyIGw9dS52YWx1ZTtyW2wubmFtZV09bCwodm9pZCAwPT09aVtsLm5hbWVdfHxpW2wubmFtZV08bikmJihpW2wubmFtZV09bil9fWNhdGNoKHQpe289ITAscz10fWZpbmFsbHl7dHJ5e2F8fG51bGw9PWMucmV0dXJufHxjLnJldHVybigpfWZpbmFsbHl7aWYobyl0aHJvdyBzfX12YXIgaD0hMCxkPSExLHY9dm9pZCAwO3RyeXtmb3IodmFyIHAsZz1lW1N5bWJvbC5pdGVyYXRvcl0oKTshKGg9KHA9Zy5uZXh0KCkpLmRvbmUpO2g9ITApe3ZhciB5PXAudmFsdWU7eS5kZXBlbmRlbmNpZXMmJmYoe21vZHVsZXM6eS5kZXBlbmRlbmNpZXMsbGV2ZWw6bisxLG1vZHVsZU1hcDpyLG1vZHVsZURlcHRoOml9KX19Y2F0Y2godCl7ZD0hMCx2PXR9ZmluYWxseXt0cnl7aHx8bnVsbD09Zy5yZXR1cm58fGcucmV0dXJuKCl9ZmluYWxseXtpZihkKXRocm93IHZ9fX1mdW5jdGlvbiBkKCl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9LGU9InVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3cmJndpbmRvdy5uYXZpZ2F0b3J8fHt9LG49dC51c2VyQWdlbnR8fGUudXNlckFnZW50fHwiIixyPS0xIT09bi5pbmRleE9mKCJNU0lFICIpLGk9LTEhPT1uLmluZGV4T2YoIlRyaWRlbnQvIik7cmV0dXJuIHJ8fGl9dmFyIHY9e0dMU0xfRlJBR19EQVRBOlsiV0VCR0xfZHJhd19idWZmZXJzIiwhMF0sR0xTTF9GUkFHX0RFUFRIOlsiRVhUX2ZyYWdfZGVwdGgiLCEwXSxHTFNMX0RFUklWQVRJVkVTOlsiT0VTX3N0YW5kYXJkX2Rlcml2YXRpdmVzIiwhMF0sR0xTTF9URVhUVVJFX0xPRDpbIkVYVF9zaGFkZXJfdGV4dHVyZV9sb2QiLCEwXX0scD17fTtPYmplY3Qua2V5cyh2KS5mb3JFYWNoKChmdW5jdGlvbih0KXtwW3RdPXR9KSk7dmFyIGc9e307ZnVuY3Rpb24geSh0LGUpe3ZhciBuPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTp7fSxyPXZbZV07aWYoT2JqZWN0KGMuYSkocixlKSwhZChuKSlyZXR1cm4hMDtpZihlIGluIGcpcmV0dXJuIGdbZV07dmFyIGk9clswXSxhPW4uYmVoYXZpb3J8fCJlbmFibGUiLG89IiNleHRlbnNpb24gR0xfIi5jb25jYXQoaSwiIDogIikuY29uY2F0KGEsIlxudm9pZCBtYWluKHZvaWQpIHt9Iikscz10LmNyZWF0ZVNoYWRlcigzNTYzMyk7dC5zaGFkZXJTb3VyY2UocyxvKSx0LmNvbXBpbGVTaGFkZXIocyk7dmFyIHU9dC5nZXRTaGFkZXJQYXJhbWV0ZXIocywzNTcxMyk7cmV0dXJuIHQuZGVsZXRlU2hhZGVyKHMpLGdbZV09dSx1fWZ1bmN0aW9uIG0odCxlKXt2YXIgbj12W2VdO09iamVjdChjLmEpKG4sZSk7dmFyIHI9ZnVuY3Rpb24odCl7cmV0dXJuIEJvb2xlYW4odCYmMj09PXQuX3ZlcnNpb24pfSh0KSYmblsxXXx8blswXSxpPSJzdHJpbmciPT10eXBlb2Ygcj9Cb29sZWFuKHQuZ2V0RXh0ZW5zaW9uKHIpKTpyO3JldHVybiBPYmplY3QoYy5hKSghMT09PWl8fCEwPT09aSksaX1mdW5jdGlvbiBiKHQsZSl7cmV0dXJuKGU9QXJyYXkuaXNBcnJheShlKT9lOltlXSkuZXZlcnkoKGZ1bmN0aW9uKGUpe3JldHVybiBtKHQsZSl9KSl9dmFyIF89bigxNzgpO2Z1bmN0aW9uIE8odCxlLG4pe3N3aXRjaChlKXtjYXNlIDMwMDpyZXR1cm4gbj9mdW5jdGlvbih0KXtyZXR1cm4gdC5yZXBsYWNlKC9eKCN2ZXJzaW9uWyBcdF0rKDEwMHwzMDBbIFx0XStlcykpP1sgXHRdKlxuLywiI3ZlcnNpb24gMzAwIGVzXG4iKS5yZXBsYWNlKC9eWyBcdF0qYXR0cmlidXRlWyBcdF0rKC4rOykvZ20sImluICQxIikucmVwbGFjZSgvXlsgXHRdKnZhcnlpbmdbIFx0XSsoLis7KS9nbSwib3V0ICQxIikucmVwbGFjZSgvXGJ0ZXh0dXJlMkRcKC9nLCJ0ZXh0dXJlKCIpLnJlcGxhY2UoL1xidGV4dHVyZUN1YmVcKCsvZywidGV4dHVyZSgiKS5yZXBsYWNlKC9cYnRleHR1cmUyRExvZEVYVFwoL2csInRleHR1cmVMb2QoIikucmVwbGFjZSgvXGJ0ZXh0dXJlQ3ViZUxvZEVYVFwoL2csInRleHR1cmVMb2QoIil9KHQpOmZ1bmN0aW9uKHQpe3JldHVybiB0LnJlcGxhY2UoL14oI3ZlcnNpb25bIFx0XSsoMTAwfDMwMFsgXHRdK2VzKSk/WyBcdF0qXG4vLCIjdmVyc2lvbiAzMDAgZXNcbiIpLnJlcGxhY2UoL15bIFx0XSp2YXJ5aW5nWyBcdF0rKC4rOykvZ20sImluICQxIikucmVwbGFjZSgvXGJ0ZXh0dXJlMkRcKC9nLCJ0ZXh0dXJlKCIpLnJlcGxhY2UoL1xidGV4dHVyZUN1YmVcKC9nLCJ0ZXh0dXJlKCIpLnJlcGxhY2UoL1xidGV4dHVyZTJETG9kRVhUXCgvZywidGV4dHVyZUxvZCgiKS5yZXBsYWNlKC9cYnRleHR1cmVDdWJlTG9kRVhUXCgvZywidGV4dHVyZUxvZCgiKX0odCk7Y2FzZSAxMDA6cmV0dXJuIG4/ZnVuY3Rpb24odCl7cmV0dXJuIHQucmVwbGFjZSgvXiN2ZXJzaW9uWyBcdF0rMzAwWyBcdF0rZXMvLCIjdmVyc2lvbiAxMDAiKS5yZXBsYWNlKC9eWyBcdF0qaW5bIFx0XSsoLis7KS9nbSwiYXR0cmlidXRlICQxIikucmVwbGFjZSgvXlsgXHRdKm91dFsgXHRdKyguKzspL2dtLCJ2YXJ5aW5nICQxIikucmVwbGFjZSgvXGJ0ZXh0dXJlXCgvZywidGV4dHVyZTJEKCIpLnJlcGxhY2UoL1xidGV4dHVyZUxvZFwoL2csInRleHR1cmUyRExvZEVYVCgiKX0odCk6ZnVuY3Rpb24odCl7dmFyIGU9KHQ9dC5yZXBsYWNlKC9eI3ZlcnNpb25bIFx0XSszMDBbIFx0XStlcy8sIiN2ZXJzaW9uIDEwMCIpLnJlcGxhY2UoL15bIFx0XSppblsgXHRdKy9nbSwidmFyeWluZyAiKS5yZXBsYWNlKC9cYnRleHR1cmVcKC9nLCJ0ZXh0dXJlMkQoIikucmVwbGFjZSgvXGJ0ZXh0dXJlTG9kXCgvZywidGV4dHVyZTJETG9kRVhUKCIpKS5tYXRjaCh3KTtpZihlKXt2YXIgbj1lWzFdO3Q9dC5yZXBsYWNlKHcsIiIpLnJlcGxhY2UobmV3IFJlZ0V4cCgiXFxiIi5jb25jYXQobiwiXFxiIiksImciKSwiZ2xfRnJhZ0NvbG9yIil9cmV0dXJuIHR9KHQpO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKCJ1bmtub3duIEdMU0wgdmVyc2lvbiAiLmNvbmNhdChlKSl9fXZhciB4LHc9L15bIFx0XSpvdXRbIFx0XSt2ZWM0WyBcdF0rKFx3KylbIFx0XSo7XHMrL207dmFyIGs9IlxuXG4iLmNvbmNhdChfLmEsIlxuXG4iKSxTPSh4PXt9LE9iamVjdChvLmEpKHgscy5iLCJ2ZXJ0ZXgiKSxPYmplY3Qoby5hKSh4LHMuYSwiZnJhZ21lbnQiKSx4KTtmdW5jdGlvbiBQKHQsZSl7dmFyIG49ZS52cyxyPWUuZnMsaT1sKGUubW9kdWxlc3x8W10pO3JldHVybntnbDp0LHZzOmoodCxPYmplY3QuYXNzaWduKHt9LGUse3NvdXJjZTpuLHR5cGU6cy5iLG1vZHVsZXM6aX0pKSxmczpqKHQsT2JqZWN0LmFzc2lnbih7fSxlLHtzb3VyY2U6cix0eXBlOnMuYSxtb2R1bGVzOml9KSksZ2V0VW5pZm9ybXM6VChpKX19ZnVuY3Rpb24gaih0LGUpe3ZhciBuPWUuaWQscj1lLnNvdXJjZSxpPWUudHlwZSxvPWUubW9kdWxlcyx1PWUuZGVmaW5lcyxsPXZvaWQgMD09PXU/e306dSxoPWUuaG9va0Z1bmN0aW9ucyxmPXZvaWQgMD09PWg/W106aCxkPWUuaW5qZWN0LHY9dm9pZCAwPT09ZD97fTpkLGc9ZS50cmFuc3BpbGVUb0dMU0wxMDAsbT12b2lkIDAhPT1nJiZnLHg9ZS5wcm9sb2d1ZSx3PXZvaWQgMD09PXh8fHgsUD1lLmxvZztPYmplY3QoYy5hKSgic3RyaW5nIj09dHlwZW9mIHIsInNoYWRlciBzb3VyY2UgbXVzdCBiZSBhIHN0cmluZyIpO3ZhciBqPWk9PT1zLmIsVD1yLnNwbGl0KCJcbiIpLEU9MTAwLEE9IiIsTT1yOzA9PT1UWzBdLmluZGV4T2YoIiN2ZXJzaW9uICIpPyhFPTMwMCxBPVRbMF0sTT1ULnNsaWNlKDEpLmpvaW4oIlxuIikpOkE9IiN2ZXJzaW9uICIuY29uY2F0KEUpO3ZhciBDPXt9O28uZm9yRWFjaCgoZnVuY3Rpb24odCl7T2JqZWN0LmFzc2lnbihDLHQuZ2V0RGVmaW5lcygpKX0pKSxPYmplY3QuYXNzaWduKEMsbCk7dmFyIEw9dz8iIi5jb25jYXQoQSwiXG4iKS5jb25jYXQoZnVuY3Rpb24odCl7dmFyIGU9dC5pZCxuPXQuc291cmNlLHI9dC50eXBlO3JldHVybiBlJiYic3RyaW5nIj09dHlwZW9mIGUmJi0xPT09bi5pbmRleE9mKCJTSEFERVJfTkFNRSIpPyJcbiNkZWZpbmUgU0hBREVSX05BTUUgIi5jb25jYXQoZSwiXyIpLmNvbmNhdChTW3JdLCJcblxuIik6IiJ9KHtpZDpuLHNvdXJjZTpyLHR5cGU6aX0pLCJcbiIpLmNvbmNhdChmdW5jdGlvbih0KXt2YXIgZT10LnR5cGU7cmV0dXJuIlxuI2RlZmluZSBTSEFERVJfVFlQRV8iLmNvbmNhdChTW2VdLnRvVXBwZXJDYXNlKCksIlxuIil9KHt0eXBlOml9KSwiXG4iKS5jb25jYXQoZnVuY3Rpb24odCl7c3dpdGNoKGZ1bmN0aW9uKHQpe3ZhciBlPXQuZ2V0RXh0ZW5zaW9uKCJXRUJHTF9kZWJ1Z19yZW5kZXJlcl9pbmZvIiksbj10LmdldFBhcmFtZXRlcihlJiZlLlVOTUFTS0VEX1ZFTkRPUl9XRUJHTHx8NzkzNikscj10LmdldFBhcmFtZXRlcihlJiZlLlVOTUFTS0VEX1JFTkRFUkVSX1dFQkdMfHw3OTM3KTtyZXR1cm57Z3B1VmVuZG9yOmZ1bmN0aW9uKHQsZSl7aWYodC5tYXRjaCgvTlZJRElBL2kpfHxlLm1hdGNoKC9OVklESUEvaSkpcmV0dXJuIk5WSURJQSI7aWYodC5tYXRjaCgvSU5URUwvaSl8fGUubWF0Y2goL0lOVEVML2kpKXJldHVybiJJTlRFTCI7aWYodC5tYXRjaCgvQU1EL2kpfHxlLm1hdGNoKC9BTUQvaSl8fHQubWF0Y2goL0FUSS9pKXx8ZS5tYXRjaCgvQVRJL2kpKXJldHVybiJBTUQiO3JldHVybiJVTktOT1dOIEdQVSJ9KG4sciksdmVuZG9yOm4scmVuZGVyZXI6cix2ZXJzaW9uOnQuZ2V0UGFyYW1ldGVyKDc5MzgpLHNoYWRpbmdMYW5ndWFnZVZlcnNpb246dC5nZXRQYXJhbWV0ZXIoMzU3MjQpfX0odCkuZ3B1VmVuZG9yLnRvTG93ZXJDYXNlKCkpe2Nhc2UibnZpZGlhIjpyZXR1cm4iI2RlZmluZSBOVklESUFfR1BVXG4vLyBOdmlkaWEgb3B0aW1pemVzIGF3YXkgdGhlIGNhbGN1bGF0aW9uIG5lY2Vzc2FyeSBmb3IgZW11bGF0ZWQgZnA2NFxuI2RlZmluZSBMVU1BX0ZQNjRfQ09ERV9FTElNSU5BVElPTl9XT1JLQVJPVU5EIDFcbiI7Y2FzZSJpbnRlbCI6cmV0dXJuIiNkZWZpbmUgSU5URUxfR1BVXG4vLyBJbnRlbCBvcHRpbWl6ZXMgYXdheSB0aGUgY2FsY3VsYXRpb24gbmVjZXNzYXJ5IGZvciBlbXVsYXRlZCBmcDY0XG4jZGVmaW5lIExVTUFfRlA2NF9DT0RFX0VMSU1JTkFUSU9OX1dPUktBUk9VTkQgMVxuLy8gSW50ZWwncyBidWlsdC1pbiAndGFuJyBmdW5jdGlvbiBkb2Vzbid0IGhhdmUgYWNjZXB0YWJsZSBwcmVjaXNpb25cbiNkZWZpbmUgTFVNQV9GUDMyX1RBTl9QUkVDSVNJT05fV09SS0FST1VORCAxXG4vLyBJbnRlbCBHUFUgZG9lc24ndCBoYXZlIGZ1bGwgMzIgYml0cyBwcmVjaXNpb24gaW4gc2FtZSBjYXNlcywgY2F1c2VzIG92ZXJmbG93XG4jZGVmaW5lIExVTUFfRlA2NF9ISUdIX0JJVFNfT1ZFUkZMT1dfV09SS0FST1VORCAxXG4iO2Nhc2UiYW1kIjpyZXR1cm4iI2RlZmluZSBBTURfR1BVXG4iO2RlZmF1bHQ6cmV0dXJuIiNkZWZpbmUgREVGQVVMVF9HUFVcbi8vIFByZXZlbnQgZHJpdmVyIGZyb20gb3B0aW1pemluZyBhd2F5IHRoZSBjYWxjdWxhdGlvbiBuZWNlc3NhcnkgZm9yIGVtdWxhdGVkIGZwNjRcbiNkZWZpbmUgTFVNQV9GUDY0X0NPREVfRUxJTUlOQVRJT05fV09SS0FST1VORCAxXG4vLyBJbnRlbCdzIGJ1aWx0LWluICd0YW4nIGZ1bmN0aW9uIGRvZXNuJ3QgaGF2ZSBhY2NlcHRhYmxlIHByZWNpc2lvblxuI2RlZmluZSBMVU1BX0ZQMzJfVEFOX1BSRUNJU0lPTl9XT1JLQVJPVU5EIDFcbi8vIEludGVsIEdQVSBkb2Vzbid0IGhhdmUgZnVsbCAzMiBiaXRzIHByZWNpc2lvbiBpbiBzYW1lIGNhc2VzLCBjYXVzZXMgb3ZlcmZsb3dcbiNkZWZpbmUgTFVNQV9GUDY0X0hJR0hfQklUU19PVkVSRkxPV19XT1JLQVJPVU5EIDFcbiJ9fSh0KSwiXG4iKS5jb25jYXQoZnVuY3Rpb24odCxlLG4pe3ZhciByPSIjaWYgKF9fVkVSU0lPTl9fID4gMTIwKVxuXG4jIGRlZmluZSBGUkFHX0RFUFRIXG4jIGRlZmluZSBERVJJVkFUSVZFU1xuIyBkZWZpbmUgRFJBV19CVUZGRVJTXG4jIGRlZmluZSBURVhUVVJFX0xPRFxuXG4jZW5kaWYgLy8gX19WRVJTSU9OXG4iO3JldHVybiBiKHQscC5HTFNMX0ZSQUdfREVQVEgpJiYocis9Ii8vIEZSQUdfREVQVEggPT4gZ2xfRnJhZ0RlcHRoIGlzIGF2YWlsYWJsZVxuI2lmZGVmIEdMX0VYVF9mcmFnX2RlcHRoXG4jZXh0ZW5zaW9uIEdMX0VYVF9mcmFnX2RlcHRoIDogZW5hYmxlXG4jIGRlZmluZSBGUkFHX0RFUFRIXG4jIGRlZmluZSBnbF9GcmFnRGVwdGggZ2xfRnJhZ0RlcHRoRVhUXG4jZW5kaWZcbiIpLGIodCxwLkdMU0xfREVSSVZBVElWRVMpJiZ5KHQscC5HTFNMX0RFUklWQVRJVkVTKSYmKHIrPSIvLyBERVJJVkFUSVZFUyA9PiBkeGRGLCBkeGRZIGFuZCBmd2lkdGggYXJlIGF2YWlsYWJsZVxuI2lmZGVmIEdMX09FU19zdGFuZGFyZF9kZXJpdmF0aXZlc1xuI2V4dGVuc2lvbiBHTF9PRVNfc3RhbmRhcmRfZGVyaXZhdGl2ZXMgOiBlbmFibGVcbiMgZGVmaW5lIERFUklWQVRJVkVTXG4jZW5kaWZcbiIpLGIodCxwLkdMU0xfRlJBR19EQVRBKSYmeSh0LHAuR0xTTF9GUkFHX0RBVEEse2JlaGF2aW9yOiJyZXF1aXJlIn0pJiYocis9Ii8vIERSQVdfQlVGRkVSUyA9PiBnbF9GcmFnRGF0YVtdIGlzIGF2YWlsYWJsZVxuI2lmZGVmIEdMX0VYVF9kcmF3X2J1ZmZlcnNcbiNleHRlbnNpb24gR0xfRVhUX2RyYXdfYnVmZmVycyA6IHJlcXVpcmVcbiNkZWZpbmUgRFJBV19CVUZGRVJTXG4jZW5kaWZcbiIpLGIodCxwLkdMU0xfVEVYVFVSRV9MT0QpJiYocis9Ii8vIFRFWFRVUkVfTE9EID0+IHRleHR1cmUyRExvZCBldGMgYXJlIGF2YWlsYWJsZVxuI2lmZGVmIEdMX0VYVF9zaGFkZXJfdGV4dHVyZV9sb2RcbiNleHRlbnNpb24gR0xfRVhUX3NoYWRlcl90ZXh0dXJlX2xvZCA6IGVuYWJsZVxuIyBkZWZpbmUgVEVYVFVSRV9MT0RcbiNkZWZpbmUgdGV4dHVyZTJETG9kIHRleHR1cmUyRExvZEVYVFxuI2RlZmluZSB0ZXh0dXJlMkRQcm9qTG9kIHRleHR1cmUyRFByb2pMb2RFWFRcbiNkZWZpbmUgdGV4dHVyZTJEUHJvakxvZCB0ZXh0dXJlMkRQcm9qTG9kRVhUXG4jZGVmaW5lIHRleHR1cmVDdWJlTG9kIHRleHR1cmVDdWJlTG9kRVhUXG4jZGVmaW5lIHRleHR1cmUyREdyYWQgdGV4dHVyZTJER3JhZEVYVFxuI2RlZmluZSB0ZXh0dXJlMkRQcm9qR3JhZCB0ZXh0dXJlMkRQcm9qR3JhZEVYVFxuI2RlZmluZSB0ZXh0dXJlMkRQcm9qR3JhZCB0ZXh0dXJlMkRQcm9qR3JhZEVYVFxuI2RlZmluZSB0ZXh0dXJlQ3ViZUdyYWQgdGV4dHVyZUN1YmVHcmFkRVhUXG4jZW5kaWZcbiIpLHJ9KHQpLCJcbiIpLmNvbmNhdChmdW5jdGlvbigpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fSxlPTAsbj0iIjtmb3IodmFyIHIgaW4gdCl7MD09PWUmJihuKz0iXG4vLyBBUFBMSUNBVElPTiBERUZJTkVTXG4iKSxlKys7dmFyIGk9dFtyXTsoaXx8TnVtYmVyLmlzRmluaXRlKGkpKSYmKG4rPSIjZGVmaW5lICIuY29uY2F0KHIudG9VcHBlckNhc2UoKSwiICIpLmNvbmNhdCh0W3JdLCJcbiIpKX0wPT09ZSYmKG4rPSJcbiIpO3JldHVybiBufShDKSwiXG4iKS5jb25jYXQoaj8iIjoicHJlY2lzaW9uIGhpZ2hwIGZsb2F0O1xuXG4iLCJcbiIpOiIiLmNvbmNhdChBLCJcbiIpO2Y9ZnVuY3Rpb24odCl7dmFyIGU9e3ZzOnt9LGZzOnt9fTtyZXR1cm4gdC5mb3JFYWNoKChmdW5jdGlvbih0KXt2YXIgbjsic3RyaW5nIiE9dHlwZW9mIHQ/dD0obj10KS5ob29rOm49e307dmFyIHI9KHQ9dC50cmltKCkpLnNwbGl0KCI6IiksaT1PYmplY3QoYS5hKShyLDIpLG89aVswXSxzPWlbMV0sdT10LnJlcGxhY2UoL1woLisvLCIiKTtlW29dW3VdPU9iamVjdC5hc3NpZ24obix7c2lnbmF0dXJlOnN9KX0pKSxlfShmKTt2YXIgST17fSxSPXt9LE49e307Zm9yKHZhciBEIGluIHYpe3ZhciBGPSJzdHJpbmciPT10eXBlb2YgdltEXT97aW5qZWN0aW9uOnZbRF0sb3JkZXI6MH06dltEXSx6PUQubWF0Y2goL14odnxmKXM6KCMpPyhbXHctXSspJC8pO2lmKHope3ZhciBCPXpbMl0sVT16WzNdO0I/ImRlY2wiPT09VT9SW0RdPVtGXTpOW0RdPVtGXTpJW0RdPVtGXX1lbHNlIE5bRF09W0ZdfXZhciBWPSEwLEc9ITEsVz12b2lkIDA7dHJ5e2Zvcih2YXIgSCxxPW9bU3ltYm9sLml0ZXJhdG9yXSgpOyEoVj0oSD1xLm5leHQoKSkuZG9uZSk7Vj0hMCl7dmFyIFg9SC52YWx1ZTtQJiZYLmNoZWNrRGVwcmVjYXRpb25zKE0sUCksTCs9WC5nZXRNb2R1bGVTb3VyY2UoaSxFKTt2YXIgWj1YLmluamVjdGlvbnNbaV07Zm9yKHZhciBZIGluIFope3ZhciBLPVkubWF0Y2goL14odnxmKXM6IyhbXHctXSspJC8pO2lmKEspe3ZhciBRPSJkZWNsIj09PUtbMl0/UjpOO1FbWV09UVtZXXx8W10sUVtZXS5wdXNoKFpbWV0pfWVsc2UgSVtZXT1JW1ldfHxbXSxJW1ldLnB1c2goWltZXSl9fX1jYXRjaCh0KXtHPSEwLFc9dH1maW5hbGx5e3RyeXtWfHxudWxsPT1xLnJldHVybnx8cS5yZXR1cm4oKX1maW5hbGx5e2lmKEcpdGhyb3cgV319cmV0dXJuIEwrPWssTD1PYmplY3QoXy5jKShMLGksUiksTCs9ZnVuY3Rpb24odCxlKXt2YXIgbj0iIjtmb3IodmFyIHIgaW4gdCl7dmFyIGk9dFtyXTtpZihuKz0idm9pZCAiLmNvbmNhdChpLnNpZ25hdHVyZSwiIHtcbiIpLGkuaGVhZGVyJiYobis9IiAgIi5jb25jYXQoaS5oZWFkZXIpKSxlW3JdKXt2YXIgYT1lW3JdO2Euc29ydCgoZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5vcmRlci1lLm9yZGVyfSkpO3ZhciBvPSEwLHM9ITEsdT12b2lkIDA7dHJ5e2Zvcih2YXIgYyxsPWFbU3ltYm9sLml0ZXJhdG9yXSgpOyEobz0oYz1sLm5leHQoKSkuZG9uZSk7bz0hMCl7dmFyIGg9Yy52YWx1ZTtuKz0iICAiLmNvbmNhdChoLmluamVjdGlvbiwiXG4iKX19Y2F0Y2godCl7cz0hMCx1PXR9ZmluYWxseXt0cnl7b3x8bnVsbD09bC5yZXR1cm58fGwucmV0dXJuKCl9ZmluYWxseXtpZihzKXRocm93IHV9fX1pLmZvb3RlciYmKG4rPSIgICIuY29uY2F0KGkuZm9vdGVyKSksbis9In1cbiJ9cmV0dXJuIG59KGZbaV0sSSksTCs9TSxMPU8oTD1PYmplY3QoXy5jKShMLGksTiksbT8xMDA6RSxqKX1mdW5jdGlvbiBUKHQpe3JldHVybiBmdW5jdGlvbihlKXt2YXIgbj17fSxyPSEwLGk9ITEsYT12b2lkIDA7dHJ5e2Zvcih2YXIgbyxzPXRbU3ltYm9sLml0ZXJhdG9yXSgpOyEocj0obz1zLm5leHQoKSkuZG9uZSk7cj0hMCl7dmFyIHU9by52YWx1ZS5nZXRVbmlmb3JtcyhlLG4pO09iamVjdC5hc3NpZ24obix1KX19Y2F0Y2godCl7aT0hMCxhPXR9ZmluYWxseXt0cnl7cnx8bnVsbD09cy5yZXR1cm58fHMucmV0dXJuKCl9ZmluYWxseXtpZihpKXRocm93IGF9fXJldHVybiBufX12YXIgRT1uKDI5MCk7bi5kKGUsImEiLChmdW5jdGlvbigpe3JldHVybiBBfSkpO3ZhciBBPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlKXtPYmplY3Qoci5hKSh0aGlzLHQpLHRoaXMuZ2w9ZSx0aGlzLl9wcm9ncmFtQ2FjaGU9e30sdGhpcy5fZ2V0VW5pZm9ybXM9e30sdGhpcy5fcmVnaXN0ZXJlZE1vZHVsZXM9e30sdGhpcy5faG9va0Z1bmN0aW9ucz1bXSx0aGlzLl9kZWZhdWx0TW9kdWxlcz1bXSx0aGlzLl9oYXNoZXM9e30sdGhpcy5faGFzaENvdW50ZXI9MCx0aGlzLnN0YXRlSGFzaD0wLHRoaXMuX3VzZUNvdW50cz17fX1yZXR1cm4gT2JqZWN0KGkuYSkodCxudWxsLFt7a2V5OiJnZXREZWZhdWx0UHJvZ3JhbU1hbmFnZXIiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBlLmx1bWE9ZS5sdW1hfHx7fSxlLmx1bWEuZGVmYXVsdFByb2dyYW1NYW5hZ2VyPWUubHVtYS5kZWZhdWx0UHJvZ3JhbU1hbmFnZXJ8fG5ldyB0KGUpLGUubHVtYS5kZWZhdWx0UHJvZ3JhbU1hbmFnZXJ9fV0pLE9iamVjdChpLmEpKHQsW3trZXk6ImFkZERlZmF1bHRNb2R1bGUiLHZhbHVlOmZ1bmN0aW9uKHQpe3RoaXMuX2RlZmF1bHRNb2R1bGVzLmZpbmQoKGZ1bmN0aW9uKGUpe3JldHVybiBlLm5hbWU9PT10Lm5hbWV9KSl8fHRoaXMuX2RlZmF1bHRNb2R1bGVzLnB1c2godCksdGhpcy5zdGF0ZUhhc2grK319LHtrZXk6InJlbW92ZURlZmF1bHRNb2R1bGUiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPSJzdHJpbmciPT10eXBlb2YgdD90OnQubmFtZTt0aGlzLl9kZWZhdWx0TW9kdWxlcz10aGlzLl9kZWZhdWx0TW9kdWxlcy5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiB0Lm5hbWUhPT1lfSkpLHRoaXMuc3RhdGVIYXNoKyt9fSx7a2V5OiJhZGRTaGFkZXJIb29rIix2YWx1ZTpmdW5jdGlvbih0LGUpe2UmJih0PU9iamVjdC5hc3NpZ24oZSx7aG9vazp0fSkpLHRoaXMuX2hvb2tGdW5jdGlvbnMucHVzaCh0KSx0aGlzLnN0YXRlSGFzaCsrfX0se2tleToiZ2V0Iix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMsZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e30sbj1lLnZzLHI9dm9pZCAwPT09bj8iIjpuLGk9ZS5mcyxhPXZvaWQgMD09PWk/IiI6aSxvPWUuZGVmaW5lcyxzPXZvaWQgMD09PW8/e306byx1PWUuaW5qZWN0LGM9dm9pZCAwPT09dT97fTp1LGw9ZS52YXJ5aW5ncyxoPXZvaWQgMD09PWw/W106bCxmPWUuYnVmZmVyTW9kZSxkPXZvaWQgMD09PWY/MzU5ODE6Zix2PWUudHJhbnNwaWxlVG9HTFNMMTAwLHA9dm9pZCAwIT09diYmdixnPXRoaXMuX2dldE1vZHVsZUxpc3QoZS5tb2R1bGVzKSx5PXRoaXMuX2dldEhhc2gociksbT10aGlzLl9nZXRIYXNoKGEpLGI9Zy5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiB0Ll9nZXRIYXNoKGUubmFtZSl9KSkuc29ydCgpLF89aC5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiB0Ll9nZXRIYXNoKGUpfSkpLE89T2JqZWN0LmtleXMocykuc29ydCgpLHg9T2JqZWN0LmtleXMoYykuc29ydCgpLHc9W10saz1bXSxTPSEwLGo9ITEsVD12b2lkIDA7dHJ5e2Zvcih2YXIgQSxNPU9bU3ltYm9sLml0ZXJhdG9yXSgpOyEoUz0oQT1NLm5leHQoKSkuZG9uZSk7Uz0hMCl7dmFyIEM9QS52YWx1ZTt3LnB1c2godGhpcy5fZ2V0SGFzaChDKSksdy5wdXNoKHRoaXMuX2dldEhhc2goc1tDXSkpfX1jYXRjaCh0KXtqPSEwLFQ9dH1maW5hbGx5e3RyeXtTfHxudWxsPT1NLnJldHVybnx8TS5yZXR1cm4oKX1maW5hbGx5e2lmKGopdGhyb3cgVH19dmFyIEw9ITAsST0hMSxSPXZvaWQgMDt0cnl7Zm9yKHZhciBOLEQ9eFtTeW1ib2wuaXRlcmF0b3JdKCk7IShMPShOPUQubmV4dCgpKS5kb25lKTtMPSEwKXt2YXIgRj1OLnZhbHVlO2sucHVzaCh0aGlzLl9nZXRIYXNoKEYpKSxrLnB1c2godGhpcy5fZ2V0SGFzaChjW0ZdKSl9fWNhdGNoKHQpe0k9ITAsUj10fWZpbmFsbHl7dHJ5e0x8fG51bGw9PUQucmV0dXJufHxELnJldHVybigpfWZpbmFsbHl7aWYoSSl0aHJvdyBSfX12YXIgej0iIi5jb25jYXQoeSwiLyIpLmNvbmNhdChtLCJEIikuY29uY2F0KHcuam9pbigiLyIpLCJNIikuY29uY2F0KGIuam9pbigiLyIpLCJJIikuY29uY2F0KGsuam9pbigiLyIpLCJWIikuY29uY2F0KF8uam9pbigiLyIpLCJIIikuY29uY2F0KHRoaXMuc3RhdGVIYXNoLCJCIikuY29uY2F0KGQpLmNvbmNhdChwPyJUIjoiIik7aWYoIXRoaXMuX3Byb2dyYW1DYWNoZVt6XSl7dmFyIEI9UCh0aGlzLmdsLHt2czpyLGZzOmEsbW9kdWxlczpnLGluamVjdDpjLGRlZmluZXM6cyxob29rRnVuY3Rpb25zOnRoaXMuX2hvb2tGdW5jdGlvbnMsdHJhbnNwaWxlVG9HTFNMMTAwOnB9KTt0aGlzLl9wcm9ncmFtQ2FjaGVbel09bmV3IEUuYSh0aGlzLmdsLHtoYXNoOnosdnM6Qi52cyxmczpCLmZzLHZhcnlpbmdzOmgsYnVmZmVyTW9kZTpkfSksdGhpcy5fZ2V0VW5pZm9ybXNbel09Qi5nZXRVbmlmb3Jtc3x8ZnVuY3Rpb24odCl7fSx0aGlzLl91c2VDb3VudHNbel09MH1yZXR1cm4gdGhpcy5fdXNlQ291bnRzW3pdKyssdGhpcy5fcHJvZ3JhbUNhY2hlW3pdfX0se2tleToiZ2V0VW5pZm9ybXMiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9nZXRVbmlmb3Jtc1t0Lmhhc2hdfHxudWxsfX0se2tleToicmVsZWFzZSIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dC5oYXNoO3RoaXMuX3VzZUNvdW50c1tlXS0tLDA9PT10aGlzLl91c2VDb3VudHNbZV0mJih0aGlzLl9wcm9ncmFtQ2FjaGVbZV0uZGVsZXRlKCksZGVsZXRlIHRoaXMuX3Byb2dyYW1DYWNoZVtlXSxkZWxldGUgdGhpcy5fZ2V0VW5pZm9ybXNbZV0sZGVsZXRlIHRoaXMuX3VzZUNvdW50c1tlXSl9fSx7a2V5OiJfZ2V0SGFzaCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHZvaWQgMD09PXRoaXMuX2hhc2hlc1t0XSYmKHRoaXMuX2hhc2hlc1t0XT10aGlzLl9oYXNoQ291bnRlcisrKSx0aGlzLl9oYXNoZXNbdF19fSx7a2V5OiJfZ2V0TW9kdWxlTGlzdCIsdmFsdWU6ZnVuY3Rpb24oKXtmb3IodmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOltdLGU9bmV3IEFycmF5KHRoaXMuX2RlZmF1bHRNb2R1bGVzLmxlbmd0aCt0Lmxlbmd0aCksbj17fSxyPTAsaT0wLGE9dGhpcy5fZGVmYXVsdE1vZHVsZXMubGVuZ3RoO2k8YTsrK2kpe3ZhciBvPXRoaXMuX2RlZmF1bHRNb2R1bGVzW2ldLHM9by5uYW1lO2VbcisrXT1vLG5bc109ITB9Zm9yKHZhciB1PTAsYz10Lmxlbmd0aDt1PGM7Kyt1KXt2YXIgbD10W3VdLGg9bC5uYW1lO25baF18fChlW3IrK109bCxuW2hdPSEwKX1yZXR1cm4gZS5sZW5ndGg9cixlfX1dKSx0fSgpfSwsLCwsLCwsZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMjQ3KTtPYmplY3QuYXNzaWduKHIsbig3MyksbigyNjgpLG4oMjY5KSxuKDI2NyksbigyNzEpLG4oMTgzKSxuKDI3MikpLHQuZXhwb3J0cz1yfSwsLCwsLCwsZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMjcwKSxpPW4oMjApLGE9bigyNzMpLmRlZmF1bHQsbz1uKDkyKSxzPW8ucmVnaXN0ZXJMb2FkZXJzLHU9by5sb2FkLGM9by5wYXJzZSxsPW8uZmV0Y2hGaWxlLGg9InVuZGVmaW5lZCI9PXR5cGVvZiB3aW5kb3c/Z2xvYmFsOndpbmRvdztoLmRlY2s9aC5kZWNrfHx7fSxoLmx1bWE9aC5sdW1hfHx7fSxoLmxvYWRlcnM9aC5sb2FkZXJzfHx7fSxPYmplY3QuYXNzaWduKGguZGVjayxpLHtEZWNrR0w6YX0pLE9iamVjdC5hc3NpZ24oaC5sdW1hLHIpLE9iamVjdC5hc3NpZ24oaC5sb2FkZXJzLHtyZWdpc3RlckxvYWRlcnM6cyxsb2FkOnUscGFyc2U6YyxmZXRjaEZpbGU6bH0pLHQuZXhwb3J0cz1oLmRlY2t9LGZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigxMzMpLGk9bigyNDkpO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwic2VsZiIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGEuc2VsZn19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwid2luZG93Iix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gYS53aW5kb3d9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsImdsb2JhbCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGEuZ2xvYmFsfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJkb2N1bWVudCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGEuZG9jdW1lbnR9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsInByb2Nlc3MiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBhLnByb2Nlc3N9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsImNvbnNvbGUiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBhLmNvbnNvbGV9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsImlzQnJvd3NlciIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG8uZGVmYXVsdH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiaXNCcm93c2VyTWFpblRocmVhZCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG8uaXNCcm93c2VyTWFpblRocmVhZH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiZ2V0QnJvd3NlciIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHMuZGVmYXVsdH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiaXNNb2JpbGUiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBzLmlzTW9iaWxlfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJpc0VsZWN0cm9uIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdS5kZWZhdWx0fX0pO3ZhciBhPW4oMTk2KSxvPWkobigxOTcpKSxzPWkobigyNTApKSx1PXIobigxODEpKX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oNDEpO2Z1bmN0aW9uIGkoKXtpZigiZnVuY3Rpb24iIT10eXBlb2YgV2Vha01hcClyZXR1cm4gbnVsbDt2YXIgdD1uZXcgV2Vha01hcDtyZXR1cm4gaT1mdW5jdGlvbigpe3JldHVybiB0fSx0fXQuZXhwb3J0cz1mdW5jdGlvbih0KXtpZih0JiZ0Ll9fZXNNb2R1bGUpcmV0dXJuIHQ7aWYobnVsbD09PXR8fCJvYmplY3QiIT09cih0KSYmImZ1bmN0aW9uIiE9dHlwZW9mIHQpcmV0dXJue2RlZmF1bHQ6dH07dmFyIGU9aSgpO2lmKGUmJmUuaGFzKHQpKXJldHVybiBlLmdldCh0KTt2YXIgbj17fSxhPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSYmT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcjtmb3IodmFyIG8gaW4gdClpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxvKSl7dmFyIHM9YT9PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHQsbyk6bnVsbDtzJiYocy5nZXR8fHMuc2V0KT9PYmplY3QuZGVmaW5lUHJvcGVydHkobixvLHMpOm5bb109dFtvXX1yZXR1cm4gbi5kZWZhdWx0PXQsZSYmZS5zZXQodCxuKSxufX0sZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKDEzMyk7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGUuaXNNb2JpbGU9ZnVuY3Rpb24oKXtyZXR1cm4gdm9pZCAwIT09aS53aW5kb3cub3JpZW50YXRpb259LGUuZGVmYXVsdD1mdW5jdGlvbih0KXtpZighdCYmISgwLGEuZGVmYXVsdCkoKSlyZXR1cm4iTm9kZSI7aWYoKDAsby5kZWZhdWx0KSh0KSlyZXR1cm4iRWxlY3Ryb24iO3ZhciBlPSJ1bmRlZmluZWQiIT10eXBlb2YgbmF2aWdhdG9yP25hdmlnYXRvcjp7fSxuPXR8fGUudXNlckFnZW50fHwiIjtpZihuLmluZGV4T2YoIkVkZ2UiKT4tMSlyZXR1cm4iRWRnZSI7dmFyIHI9LTEhPT1uLmluZGV4T2YoIk1TSUUgIikscz0tMSE9PW4uaW5kZXhPZigiVHJpZGVudC8iKTtpZihyfHxzKXJldHVybiJJRSI7aWYoaS53aW5kb3cuY2hyb21lKXJldHVybiJDaHJvbWUiO2lmKGkud2luZG93LnNhZmFyaSlyZXR1cm4iU2FmYXJpIjtpZihpLndpbmRvdy5tb3pJbm5lclNjcmVlblgpcmV0dXJuIkZpcmVmb3giO3JldHVybiJVbmtub3duIn07dmFyIGk9bigxOTYpLGE9cihuKDE5NykpLG89cihuKDE4MSkpfSxmdW5jdGlvbih0LGUpe30sZnVuY3Rpb24odCxlLG4pe3ZhciByPWZ1bmN0aW9uKHQpeyJ1c2Ugc3RyaWN0Ijt2YXIgZT1PYmplY3QucHJvdG90eXBlLG49ZS5oYXNPd25Qcm9wZXJ0eSxyPSJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2w/U3ltYm9sOnt9LGk9ci5pdGVyYXRvcnx8IkBAaXRlcmF0b3IiLGE9ci5hc3luY0l0ZXJhdG9yfHwiQEBhc3luY0l0ZXJhdG9yIixvPXIudG9TdHJpbmdUYWd8fCJAQHRvU3RyaW5nVGFnIjtmdW5jdGlvbiBzKHQsZSxuLHIpe3ZhciBpPWUmJmUucHJvdG90eXBlIGluc3RhbmNlb2YgbD9lOmwsYT1PYmplY3QuY3JlYXRlKGkucHJvdG90eXBlKSxvPW5ldyB4KHJ8fFtdKTtyZXR1cm4gYS5faW52b2tlPWZ1bmN0aW9uKHQsZSxuKXt2YXIgcj0ic3VzcGVuZGVkU3RhcnQiO3JldHVybiBmdW5jdGlvbihpLGEpe2lmKCJleGVjdXRpbmciPT09cil0aHJvdyBuZXcgRXJyb3IoIkdlbmVyYXRvciBpcyBhbHJlYWR5IHJ1bm5pbmciKTtpZigiY29tcGxldGVkIj09PXIpe2lmKCJ0aHJvdyI9PT1pKXRocm93IGE7cmV0dXJuIGsoKX1mb3Iobi5tZXRob2Q9aSxuLmFyZz1hOzspe3ZhciBvPW4uZGVsZWdhdGU7aWYobyl7dmFyIHM9YihvLG4pO2lmKHMpe2lmKHM9PT1jKWNvbnRpbnVlO3JldHVybiBzfX1pZigibmV4dCI9PT1uLm1ldGhvZCluLnNlbnQ9bi5fc2VudD1uLmFyZztlbHNlIGlmKCJ0aHJvdyI9PT1uLm1ldGhvZCl7aWYoInN1c3BlbmRlZFN0YXJ0Ij09PXIpdGhyb3cgcj0iY29tcGxldGVkIixuLmFyZztuLmRpc3BhdGNoRXhjZXB0aW9uKG4uYXJnKX1lbHNlInJldHVybiI9PT1uLm1ldGhvZCYmbi5hYnJ1cHQoInJldHVybiIsbi5hcmcpO3I9ImV4ZWN1dGluZyI7dmFyIGw9dSh0LGUsbik7aWYoIm5vcm1hbCI9PT1sLnR5cGUpe2lmKHI9bi5kb25lPyJjb21wbGV0ZWQiOiJzdXNwZW5kZWRZaWVsZCIsbC5hcmc9PT1jKWNvbnRpbnVlO3JldHVybnt2YWx1ZTpsLmFyZyxkb25lOm4uZG9uZX19InRocm93Ij09PWwudHlwZSYmKHI9ImNvbXBsZXRlZCIsbi5tZXRob2Q9InRocm93IixuLmFyZz1sLmFyZyl9fX0odCxuLG8pLGF9ZnVuY3Rpb24gdSh0LGUsbil7dHJ5e3JldHVybnt0eXBlOiJub3JtYWwiLGFyZzp0LmNhbGwoZSxuKX19Y2F0Y2godCl7cmV0dXJue3R5cGU6InRocm93Iixhcmc6dH19fXQud3JhcD1zO3ZhciBjPXt9O2Z1bmN0aW9uIGwoKXt9ZnVuY3Rpb24gaCgpe31mdW5jdGlvbiBmKCl7fXZhciBkPXt9O2RbaV09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc307dmFyIHY9T2JqZWN0LmdldFByb3RvdHlwZU9mLHA9diYmdih2KHcoW10pKSk7cCYmcCE9PWUmJm4uY2FsbChwLGkpJiYoZD1wKTt2YXIgZz1mLnByb3RvdHlwZT1sLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGQpO2Z1bmN0aW9uIHkodCl7WyJuZXh0IiwidGhyb3ciLCJyZXR1cm4iXS5mb3JFYWNoKChmdW5jdGlvbihlKXt0W2VdPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9pbnZva2UoZSx0KX19KSl9ZnVuY3Rpb24gbSh0KXt2YXIgZTt0aGlzLl9pbnZva2U9ZnVuY3Rpb24ocixpKXtmdW5jdGlvbiBhKCl7cmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbihlLGEpeyFmdW5jdGlvbiBlKHIsaSxhLG8pe3ZhciBzPXUodFtyXSx0LGkpO2lmKCJ0aHJvdyIhPT1zLnR5cGUpe3ZhciBjPXMuYXJnLGw9Yy52YWx1ZTtyZXR1cm4gbCYmIm9iamVjdCI9PXR5cGVvZiBsJiZuLmNhbGwobCwiX19hd2FpdCIpP1Byb21pc2UucmVzb2x2ZShsLl9fYXdhaXQpLnRoZW4oKGZ1bmN0aW9uKHQpe2UoIm5leHQiLHQsYSxvKX0pLChmdW5jdGlvbih0KXtlKCJ0aHJvdyIsdCxhLG8pfSkpOlByb21pc2UucmVzb2x2ZShsKS50aGVuKChmdW5jdGlvbih0KXtjLnZhbHVlPXQsYShjKX0pLChmdW5jdGlvbih0KXtyZXR1cm4gZSgidGhyb3ciLHQsYSxvKX0pKX1vKHMuYXJnKX0ocixpLGUsYSl9KSl9cmV0dXJuIGU9ZT9lLnRoZW4oYSxhKTphKCl9fWZ1bmN0aW9uIGIodCxlKXt2YXIgbj10Lml0ZXJhdG9yW2UubWV0aG9kXTtpZih2b2lkIDA9PT1uKXtpZihlLmRlbGVnYXRlPW51bGwsInRocm93Ij09PWUubWV0aG9kKXtpZih0Lml0ZXJhdG9yLnJldHVybiYmKGUubWV0aG9kPSJyZXR1cm4iLGUuYXJnPXZvaWQgMCxiKHQsZSksInRocm93Ij09PWUubWV0aG9kKSlyZXR1cm4gYztlLm1ldGhvZD0idGhyb3ciLGUuYXJnPW5ldyBUeXBlRXJyb3IoIlRoZSBpdGVyYXRvciBkb2VzIG5vdCBwcm92aWRlIGEgJ3Rocm93JyBtZXRob2QiKX1yZXR1cm4gY312YXIgcj11KG4sdC5pdGVyYXRvcixlLmFyZyk7aWYoInRocm93Ij09PXIudHlwZSlyZXR1cm4gZS5tZXRob2Q9InRocm93IixlLmFyZz1yLmFyZyxlLmRlbGVnYXRlPW51bGwsYzt2YXIgaT1yLmFyZztyZXR1cm4gaT9pLmRvbmU/KGVbdC5yZXN1bHROYW1lXT1pLnZhbHVlLGUubmV4dD10Lm5leHRMb2MsInJldHVybiIhPT1lLm1ldGhvZCYmKGUubWV0aG9kPSJuZXh0IixlLmFyZz12b2lkIDApLGUuZGVsZWdhdGU9bnVsbCxjKTppOihlLm1ldGhvZD0idGhyb3ciLGUuYXJnPW5ldyBUeXBlRXJyb3IoIml0ZXJhdG9yIHJlc3VsdCBpcyBub3QgYW4gb2JqZWN0IiksZS5kZWxlZ2F0ZT1udWxsLGMpfWZ1bmN0aW9uIF8odCl7dmFyIGU9e3RyeUxvYzp0WzBdfTsxIGluIHQmJihlLmNhdGNoTG9jPXRbMV0pLDIgaW4gdCYmKGUuZmluYWxseUxvYz10WzJdLGUuYWZ0ZXJMb2M9dFszXSksdGhpcy50cnlFbnRyaWVzLnB1c2goZSl9ZnVuY3Rpb24gTyh0KXt2YXIgZT10LmNvbXBsZXRpb258fHt9O2UudHlwZT0ibm9ybWFsIixkZWxldGUgZS5hcmcsdC5jb21wbGV0aW9uPWV9ZnVuY3Rpb24geCh0KXt0aGlzLnRyeUVudHJpZXM9W3t0cnlMb2M6InJvb3QifV0sdC5mb3JFYWNoKF8sdGhpcyksdGhpcy5yZXNldCghMCl9ZnVuY3Rpb24gdyh0KXtpZih0KXt2YXIgZT10W2ldO2lmKGUpcmV0dXJuIGUuY2FsbCh0KTtpZigiZnVuY3Rpb24iPT10eXBlb2YgdC5uZXh0KXJldHVybiB0O2lmKCFpc05hTih0Lmxlbmd0aCkpe3ZhciByPS0xLGE9ZnVuY3Rpb24gZSgpe2Zvcig7KytyPHQubGVuZ3RoOylpZihuLmNhbGwodCxyKSlyZXR1cm4gZS52YWx1ZT10W3JdLGUuZG9uZT0hMSxlO3JldHVybiBlLnZhbHVlPXZvaWQgMCxlLmRvbmU9ITAsZX07cmV0dXJuIGEubmV4dD1hfX1yZXR1cm57bmV4dDprfX1mdW5jdGlvbiBrKCl7cmV0dXJue3ZhbHVlOnZvaWQgMCxkb25lOiEwfX1yZXR1cm4gaC5wcm90b3R5cGU9Zy5jb25zdHJ1Y3Rvcj1mLGYuY29uc3RydWN0b3I9aCxmW29dPWguZGlzcGxheU5hbWU9IkdlbmVyYXRvckZ1bmN0aW9uIix0LmlzR2VuZXJhdG9yRnVuY3Rpb249ZnVuY3Rpb24odCl7dmFyIGU9ImZ1bmN0aW9uIj09dHlwZW9mIHQmJnQuY29uc3RydWN0b3I7cmV0dXJuISFlJiYoZT09PWh8fCJHZW5lcmF0b3JGdW5jdGlvbiI9PT0oZS5kaXNwbGF5TmFtZXx8ZS5uYW1lKSl9LHQubWFyaz1mdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZih0LGYpOih0Ll9fcHJvdG9fXz1mLG8gaW4gdHx8KHRbb109IkdlbmVyYXRvckZ1bmN0aW9uIikpLHQucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZyksdH0sdC5hd3JhcD1mdW5jdGlvbih0KXtyZXR1cm57X19hd2FpdDp0fX0seShtLnByb3RvdHlwZSksbS5wcm90b3R5cGVbYV09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30sdC5Bc3luY0l0ZXJhdG9yPW0sdC5hc3luYz1mdW5jdGlvbihlLG4scixpKXt2YXIgYT1uZXcgbShzKGUsbixyLGkpKTtyZXR1cm4gdC5pc0dlbmVyYXRvckZ1bmN0aW9uKG4pP2E6YS5uZXh0KCkudGhlbigoZnVuY3Rpb24odCl7cmV0dXJuIHQuZG9uZT90LnZhbHVlOmEubmV4dCgpfSkpfSx5KGcpLGdbb109IkdlbmVyYXRvciIsZ1tpXT1mdW5jdGlvbigpe3JldHVybiB0aGlzfSxnLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIltvYmplY3QgR2VuZXJhdG9yXSJ9LHQua2V5cz1mdW5jdGlvbih0KXt2YXIgZT1bXTtmb3IodmFyIG4gaW4gdCllLnB1c2gobik7cmV0dXJuIGUucmV2ZXJzZSgpLGZ1bmN0aW9uIG4oKXtmb3IoO2UubGVuZ3RoOyl7dmFyIHI9ZS5wb3AoKTtpZihyIGluIHQpcmV0dXJuIG4udmFsdWU9cixuLmRvbmU9ITEsbn1yZXR1cm4gbi5kb25lPSEwLG59fSx0LnZhbHVlcz13LHgucHJvdG90eXBlPXtjb25zdHJ1Y3Rvcjp4LHJlc2V0OmZ1bmN0aW9uKHQpe2lmKHRoaXMucHJldj0wLHRoaXMubmV4dD0wLHRoaXMuc2VudD10aGlzLl9zZW50PXZvaWQgMCx0aGlzLmRvbmU9ITEsdGhpcy5kZWxlZ2F0ZT1udWxsLHRoaXMubWV0aG9kPSJuZXh0Iix0aGlzLmFyZz12b2lkIDAsdGhpcy50cnlFbnRyaWVzLmZvckVhY2goTyksIXQpZm9yKHZhciBlIGluIHRoaXMpInQiPT09ZS5jaGFyQXQoMCkmJm4uY2FsbCh0aGlzLGUpJiYhaXNOYU4oK2Uuc2xpY2UoMSkpJiYodGhpc1tlXT12b2lkIDApfSxzdG9wOmZ1bmN0aW9uKCl7dGhpcy5kb25lPSEwO3ZhciB0PXRoaXMudHJ5RW50cmllc1swXS5jb21wbGV0aW9uO2lmKCJ0aHJvdyI9PT10LnR5cGUpdGhyb3cgdC5hcmc7cmV0dXJuIHRoaXMucnZhbH0sZGlzcGF0Y2hFeGNlcHRpb246ZnVuY3Rpb24odCl7aWYodGhpcy5kb25lKXRocm93IHQ7dmFyIGU9dGhpcztmdW5jdGlvbiByKG4scil7cmV0dXJuIG8udHlwZT0idGhyb3ciLG8uYXJnPXQsZS5uZXh0PW4sciYmKGUubWV0aG9kPSJuZXh0IixlLmFyZz12b2lkIDApLCEhcn1mb3IodmFyIGk9dGhpcy50cnlFbnRyaWVzLmxlbmd0aC0xO2k+PTA7LS1pKXt2YXIgYT10aGlzLnRyeUVudHJpZXNbaV0sbz1hLmNvbXBsZXRpb247aWYoInJvb3QiPT09YS50cnlMb2MpcmV0dXJuIHIoImVuZCIpO2lmKGEudHJ5TG9jPD10aGlzLnByZXYpe3ZhciBzPW4uY2FsbChhLCJjYXRjaExvYyIpLHU9bi5jYWxsKGEsImZpbmFsbHlMb2MiKTtpZihzJiZ1KXtpZih0aGlzLnByZXY8YS5jYXRjaExvYylyZXR1cm4gcihhLmNhdGNoTG9jLCEwKTtpZih0aGlzLnByZXY8YS5maW5hbGx5TG9jKXJldHVybiByKGEuZmluYWxseUxvYyl9ZWxzZSBpZihzKXtpZih0aGlzLnByZXY8YS5jYXRjaExvYylyZXR1cm4gcihhLmNhdGNoTG9jLCEwKX1lbHNle2lmKCF1KXRocm93IG5ldyBFcnJvcigidHJ5IHN0YXRlbWVudCB3aXRob3V0IGNhdGNoIG9yIGZpbmFsbHkiKTtpZih0aGlzLnByZXY8YS5maW5hbGx5TG9jKXJldHVybiByKGEuZmluYWxseUxvYyl9fX19LGFicnVwdDpmdW5jdGlvbih0LGUpe2Zvcih2YXIgcj10aGlzLnRyeUVudHJpZXMubGVuZ3RoLTE7cj49MDstLXIpe3ZhciBpPXRoaXMudHJ5RW50cmllc1tyXTtpZihpLnRyeUxvYzw9dGhpcy5wcmV2JiZuLmNhbGwoaSwiZmluYWxseUxvYyIpJiZ0aGlzLnByZXY8aS5maW5hbGx5TG9jKXt2YXIgYT1pO2JyZWFrfX1hJiYoImJyZWFrIj09PXR8fCJjb250aW51ZSI9PT10KSYmYS50cnlMb2M8PWUmJmU8PWEuZmluYWxseUxvYyYmKGE9bnVsbCk7dmFyIG89YT9hLmNvbXBsZXRpb246e307cmV0dXJuIG8udHlwZT10LG8uYXJnPWUsYT8odGhpcy5tZXRob2Q9Im5leHQiLHRoaXMubmV4dD1hLmZpbmFsbHlMb2MsYyk6dGhpcy5jb21wbGV0ZShvKX0sY29tcGxldGU6ZnVuY3Rpb24odCxlKXtpZigidGhyb3ciPT09dC50eXBlKXRocm93IHQuYXJnO3JldHVybiJicmVhayI9PT10LnR5cGV8fCJjb250aW51ZSI9PT10LnR5cGU/dGhpcy5uZXh0PXQuYXJnOiJyZXR1cm4iPT09dC50eXBlPyh0aGlzLnJ2YWw9dGhpcy5hcmc9dC5hcmcsdGhpcy5tZXRob2Q9InJldHVybiIsdGhpcy5uZXh0PSJlbmQiKToibm9ybWFsIj09PXQudHlwZSYmZSYmKHRoaXMubmV4dD1lKSxjfSxmaW5pc2g6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXRoaXMudHJ5RW50cmllcy5sZW5ndGgtMTtlPj0wOy0tZSl7dmFyIG49dGhpcy50cnlFbnRyaWVzW2VdO2lmKG4uZmluYWxseUxvYz09PXQpcmV0dXJuIHRoaXMuY29tcGxldGUobi5jb21wbGV0aW9uLG4uYWZ0ZXJMb2MpLE8obiksY319LGNhdGNoOmZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10aGlzLnRyeUVudHJpZXMubGVuZ3RoLTE7ZT49MDstLWUpe3ZhciBuPXRoaXMudHJ5RW50cmllc1tlXTtpZihuLnRyeUxvYz09PXQpe3ZhciByPW4uY29tcGxldGlvbjtpZigidGhyb3ciPT09ci50eXBlKXt2YXIgaT1yLmFyZztPKG4pfXJldHVybiBpfX10aHJvdyBuZXcgRXJyb3IoImlsbGVnYWwgY2F0Y2ggYXR0ZW1wdCIpfSxkZWxlZ2F0ZVlpZWxkOmZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gdGhpcy5kZWxlZ2F0ZT17aXRlcmF0b3I6dyh0KSxyZXN1bHROYW1lOmUsbmV4dExvYzpufSwibmV4dCI9PT10aGlzLm1ldGhvZCYmKHRoaXMuYXJnPXZvaWQgMCksY319LHR9KHQuZXhwb3J0cyk7dHJ5e3JlZ2VuZXJhdG9yUnVudGltZT1yfWNhdGNoKHQpe0Z1bmN0aW9uKCJyIiwicmVnZW5lcmF0b3JSdW50aW1lID0gciIpKHIpfX0sZnVuY3Rpb24odCxlKXtmdW5jdGlvbiBuKGUscil7cmV0dXJuIHQuZXhwb3J0cz1uPU9iamVjdC5zZXRQcm90b3R5cGVPZnx8ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5fX3Byb3RvX189ZSx0fSxuKGUscil9dC5leHBvcnRzPW59LGZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe2lmKEFycmF5LmlzQXJyYXkodCkpe2Zvcih2YXIgZT0wLG49bmV3IEFycmF5KHQubGVuZ3RoKTtlPHQubGVuZ3RoO2UrKyluW2VdPXRbZV07cmV0dXJuIG59fX0sZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7aWYoU3ltYm9sLml0ZXJhdG9yIGluIE9iamVjdCh0KXx8IltvYmplY3QgQXJndW1lbnRzXSI9PT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodCkpcmV0dXJuIEFycmF5LmZyb20odCl9fSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz1mdW5jdGlvbigpe3Rocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBzcHJlYWQgbm9uLWl0ZXJhYmxlIGluc3RhbmNlIil9fSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz1mdW5jdGlvbih0KXtpZihBcnJheS5pc0FycmF5KHQpKXJldHVybiB0fX0sZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlKXtpZihTeW1ib2wuaXRlcmF0b3IgaW4gT2JqZWN0KHQpfHwiW29iamVjdCBBcmd1bWVudHNdIj09PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh0KSl7dmFyIG49W10scj0hMCxpPSExLGE9dm9pZCAwO3RyeXtmb3IodmFyIG8scz10W1N5bWJvbC5pdGVyYXRvcl0oKTshKHI9KG89cy5uZXh0KCkpLmRvbmUpJiYobi5wdXNoKG8udmFsdWUpLCFlfHxuLmxlbmd0aCE9PWUpO3I9ITApO31jYXRjaCh0KXtpPSEwLGE9dH1maW5hbGx5e3RyeXtyfHxudWxsPT1zLnJldHVybnx8cy5yZXR1cm4oKX1maW5hbGx5e2lmKGkpdGhyb3cgYX19cmV0dXJuIG59fX0sZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9ZnVuY3Rpb24oKXt0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlIil9fSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigzKTt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlKXtmb3IoOyFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxlKSYmbnVsbCE9PSh0PXIodCkpOyk7cmV0dXJuIHR9fSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz1mdW5jdGlvbih0LGUpe2lmKG51bGw9PXQpcmV0dXJue307dmFyIG4scixpPXt9LGE9T2JqZWN0LmtleXModCk7Zm9yKHI9MDtyPGEubGVuZ3RoO3IrKyluPWFbcl0sZS5pbmRleE9mKG4pPj0wfHwoaVtuXT10W25dKTtyZXR1cm4gaX19LGZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigyNjMpO2Z1bmN0aW9uIGkoKXt9ZnVuY3Rpb24gYSgpe31hLnJlc2V0V2FybmluZ0NhY2hlPWksdC5leHBvcnRzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUsbixpLGEsbyl7aWYobyE9PXIpe3ZhciBzPW5ldyBFcnJvcigiQ2FsbGluZyBQcm9wVHlwZXMgdmFsaWRhdG9ycyBkaXJlY3RseSBpcyBub3Qgc3VwcG9ydGVkIGJ5IHRoZSBgcHJvcC10eXBlc2AgcGFja2FnZS4gVXNlIFByb3BUeXBlcy5jaGVja1Byb3BUeXBlcygpIHRvIGNhbGwgdGhlbS4gUmVhZCBtb3JlIGF0IGh0dHA6Ly9mYi5tZS91c2UtY2hlY2stcHJvcC10eXBlcyIpO3Rocm93IHMubmFtZT0iSW52YXJpYW50IFZpb2xhdGlvbiIsc319ZnVuY3Rpb24gZSgpe3JldHVybiB0fXQuaXNSZXF1aXJlZD10O3ZhciBuPXthcnJheTp0LGJvb2w6dCxmdW5jOnQsbnVtYmVyOnQsb2JqZWN0OnQsc3RyaW5nOnQsc3ltYm9sOnQsYW55OnQsYXJyYXlPZjplLGVsZW1lbnQ6dCxlbGVtZW50VHlwZTp0LGluc3RhbmNlT2Y6ZSxub2RlOnQsb2JqZWN0T2Y6ZSxvbmVPZjplLG9uZU9mVHlwZTplLHNoYXBlOmUsZXhhY3Q6ZSxjaGVja1Byb3BUeXBlczphLHJlc2V0V2FybmluZ0NhY2hlOml9O3JldHVybiBuLlByb3BUeXBlcz1uLG59fSxmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO3QuZXhwb3J0cz0iU0VDUkVUX0RPX05PVF9QQVNTX1RISVNfT1JfWU9VX1dJTExfQkVfRklSRUQifSxmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oMjEwKTtmdW5jdGlvbiBpKHQsZSxuKXtpZigzPT09dCl7dmFyIGk9bmV3IHIobixuLnJlYWRWYXJpbnQoKStuLnBvcyk7aS5sZW5ndGgmJihlW2kubmFtZV09aSl9fXQuZXhwb3J0cz1mdW5jdGlvbih0LGUpe3RoaXMubGF5ZXJzPXQucmVhZEZpZWxkcyhpLHt9LGUpfX0sZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiByKHQsZSl7dGhpcy54PXQsdGhpcy55PWV9dC5leHBvcnRzPXIsci5wcm90b3R5cGU9e2Nsb25lOmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyByKHRoaXMueCx0aGlzLnkpfSxhZGQ6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuY2xvbmUoKS5fYWRkKHQpfSxzdWI6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuY2xvbmUoKS5fc3ViKHQpfSxtdWx0QnlQb2ludDpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5jbG9uZSgpLl9tdWx0QnlQb2ludCh0KX0sZGl2QnlQb2ludDpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5jbG9uZSgpLl9kaXZCeVBvaW50KHQpfSxtdWx0OmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmNsb25lKCkuX211bHQodCl9LGRpdjpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5jbG9uZSgpLl9kaXYodCl9LHJvdGF0ZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5jbG9uZSgpLl9yb3RhdGUodCl9LHJvdGF0ZUFyb3VuZDpmdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLmNsb25lKCkuX3JvdGF0ZUFyb3VuZCh0LGUpfSxtYXRNdWx0OmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmNsb25lKCkuX21hdE11bHQodCl9LHVuaXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jbG9uZSgpLl91bml0KCl9LHBlcnA6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jbG9uZSgpLl9wZXJwKCl9LHJvdW5kOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY2xvbmUoKS5fcm91bmQoKX0sbWFnOmZ1bmN0aW9uKCl7cmV0dXJuIE1hdGguc3FydCh0aGlzLngqdGhpcy54K3RoaXMueSp0aGlzLnkpfSxlcXVhbHM6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMueD09PXQueCYmdGhpcy55PT09dC55fSxkaXN0OmZ1bmN0aW9uKHQpe3JldHVybiBNYXRoLnNxcnQodGhpcy5kaXN0U3FyKHQpKX0sZGlzdFNxcjpmdW5jdGlvbih0KXt2YXIgZT10LngtdGhpcy54LG49dC55LXRoaXMueTtyZXR1cm4gZSplK24qbn0sYW5nbGU6ZnVuY3Rpb24oKXtyZXR1cm4gTWF0aC5hdGFuMih0aGlzLnksdGhpcy54KX0sYW5nbGVUbzpmdW5jdGlvbih0KXtyZXR1cm4gTWF0aC5hdGFuMih0aGlzLnktdC55LHRoaXMueC10LngpfSxhbmdsZVdpdGg6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuYW5nbGVXaXRoU2VwKHQueCx0LnkpfSxhbmdsZVdpdGhTZXA6ZnVuY3Rpb24odCxlKXtyZXR1cm4gTWF0aC5hdGFuMih0aGlzLngqZS10aGlzLnkqdCx0aGlzLngqdCt0aGlzLnkqZSl9LF9tYXRNdWx0OmZ1bmN0aW9uKHQpe3ZhciBlPXRbMF0qdGhpcy54K3RbMV0qdGhpcy55LG49dFsyXSp0aGlzLngrdFszXSp0aGlzLnk7cmV0dXJuIHRoaXMueD1lLHRoaXMueT1uLHRoaXN9LF9hZGQ6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMueCs9dC54LHRoaXMueSs9dC55LHRoaXN9LF9zdWI6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMueC09dC54LHRoaXMueS09dC55LHRoaXN9LF9tdWx0OmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLngqPXQsdGhpcy55Kj10LHRoaXN9LF9kaXY6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMueC89dCx0aGlzLnkvPXQsdGhpc30sX211bHRCeVBvaW50OmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLngqPXQueCx0aGlzLnkqPXQueSx0aGlzfSxfZGl2QnlQb2ludDpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy54Lz10LngsdGhpcy55Lz10LnksdGhpc30sX3VuaXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZGl2KHRoaXMubWFnKCkpLHRoaXN9LF9wZXJwOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy55O3JldHVybiB0aGlzLnk9dGhpcy54LHRoaXMueD0tdCx0aGlzfSxfcm90YXRlOmZ1bmN0aW9uKHQpe3ZhciBlPU1hdGguY29zKHQpLG49TWF0aC5zaW4odCkscj1lKnRoaXMueC1uKnRoaXMueSxpPW4qdGhpcy54K2UqdGhpcy55O3JldHVybiB0aGlzLng9cix0aGlzLnk9aSx0aGlzfSxfcm90YXRlQXJvdW5kOmZ1bmN0aW9uKHQsZSl7dmFyIG49TWF0aC5jb3ModCkscj1NYXRoLnNpbih0KSxpPWUueCtuKih0aGlzLngtZS54KS1yKih0aGlzLnktZS55KSxhPWUueStyKih0aGlzLngtZS54KStuKih0aGlzLnktZS55KTtyZXR1cm4gdGhpcy54PWksdGhpcy55PWEsdGhpc30sX3JvdW5kOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMueD1NYXRoLnJvdW5kKHRoaXMueCksdGhpcy55PU1hdGgucm91bmQodGhpcy55KSx0aGlzfX0sci5jb252ZXJ0PWZ1bmN0aW9uKHQpe3JldHVybiB0IGluc3RhbmNlb2Ygcj90OkFycmF5LmlzQXJyYXkodCk/bmV3IHIodFswXSx0WzFdKTp0fX0sZnVuY3Rpb24odCxlKXtlLnJlYWQ9ZnVuY3Rpb24odCxlLG4scixpKXt2YXIgYSxvLHM9OCppLXItMSx1PSgxPDxzKS0xLGM9dT4+MSxsPS03LGg9bj9pLTE6MCxmPW4/LTE6MSxkPXRbZStoXTtmb3IoaCs9ZixhPWQmKDE8PC1sKS0xLGQ+Pj0tbCxsKz1zO2w+MDthPTI1NiphK3RbZStoXSxoKz1mLGwtPTgpO2ZvcihvPWEmKDE8PC1sKS0xLGE+Pj0tbCxsKz1yO2w+MDtvPTI1NipvK3RbZStoXSxoKz1mLGwtPTgpO2lmKDA9PT1hKWE9MS1jO2Vsc2V7aWYoYT09PXUpcmV0dXJuIG8/TmFOOjEvMCooZD8tMToxKTtvKz1NYXRoLnBvdygyLHIpLGEtPWN9cmV0dXJuKGQ/LTE6MSkqbypNYXRoLnBvdygyLGEtcil9LGUud3JpdGU9ZnVuY3Rpb24odCxlLG4scixpLGEpe3ZhciBvLHMsdSxjPTgqYS1pLTEsbD0oMTw8YyktMSxoPWw+PjEsZj0yMz09PWk/TWF0aC5wb3coMiwtMjQpLU1hdGgucG93KDIsLTc3KTowLGQ9cj8wOmEtMSx2PXI/MTotMSxwPWU8MHx8MD09PWUmJjEvZTwwPzE6MDtmb3IoZT1NYXRoLmFicyhlKSxpc05hTihlKXx8ZT09PTEvMD8ocz1pc05hTihlKT8xOjAsbz1sKToobz1NYXRoLmZsb29yKE1hdGgubG9nKGUpL01hdGguTE4yKSxlKih1PU1hdGgucG93KDIsLW8pKTwxJiYoby0tLHUqPTIpLChlKz1vK2g+PTE/Zi91OmYqTWF0aC5wb3coMiwxLWgpKSp1Pj0yJiYobysrLHUvPTIpLG8raD49bD8ocz0wLG89bCk6bytoPj0xPyhzPShlKnUtMSkqTWF0aC5wb3coMixpKSxvKz1oKToocz1lKk1hdGgucG93KDIsaC0xKSpNYXRoLnBvdygyLGkpLG89MCkpO2k+PTg7dFtuK2RdPTI1NSZzLGQrPXYscy89MjU2LGktPTgpO2ZvcihvPW88PGl8cyxjKz1pO2M+MDt0W24rZF09MjU1Jm8sZCs9dixvLz0yNTYsYy09OCk7dFtuK2Qtdl18PTEyOCpwfX0sZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0IjtuLnIoZSk7dmFyIHI9e307bi5yKHIpLG4uZChyLCJkZWNvZGUiLChmdW5jdGlvbigpe3JldHVybiBXYX0pKSxuLmQociwiZW5jb2RlIiwoZnVuY3Rpb24oKXtyZXR1cm4gcWF9KSk7dmFyIGk9e307bi5yKGkpLG4uZChpLCJkZWNvZGUiLChmdW5jdGlvbigpe3JldHVybiBKYX0pKSxuLmQoaSwiZW5jb2RlIiwoZnVuY3Rpb24oKXtyZXR1cm4gJGF9KSk7dmFyIGE9e307bi5yKGEpLG4uZChhLCJkZWNvZGUiLChmdW5jdGlvbigpe3JldHVybiB0b30pKSxuLmQoYSwiZW5jb2RlIiwoZnVuY3Rpb24oKXtyZXR1cm4gZW99KSk7dmFyIG89e307bi5yKG8pLG4uZChvLCJkZWNvZGUiLChmdW5jdGlvbigpe3JldHVybiBub30pKSxuLmQobywiZW5jb2RlIiwoZnVuY3Rpb24oKXtyZXR1cm4gcm99KSk7dmFyIHM9bigxKSx1PW4ubihzKSxjPW4oMiksbD1uLm4oYyksaD1uKDkpLGY9bi5uKGgpLGQ9bigzKSx2PW4ubihkKSxwPW4oMTIpLGc9bi5uKHApLHk9bigxMCksbT1uLm4oeSksYj1uKDIyMCksXz1uKDIwMiksTz1uKDIxNCkseD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7cmV0dXJuIHUoKSh0aGlzLGUpLGYoKSh0aGlzLHYoKShlKS5hcHBseSh0aGlzLGFyZ3VtZW50cykpfXJldHVybiBtKCkoZSx0KSxsKCkoZSxbe2tleToiZ2V0U2hhZGVycyIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gT2JqZWN0LmFzc2lnbih7fSxnKCkodigpKGUucHJvdG90eXBlKSwiZ2V0U2hhZGVycyIsdGhpcykuY2FsbCh0aGlzKSx7dnM6IiNkZWZpbmUgU0hBREVSX05BTUUgZ3JlYXQtY2lyY2xlLWxheWVyLXZlcnRleC1zaGFkZXJcblxuYXR0cmlidXRlIHZlYzMgcG9zaXRpb25zO1xuYXR0cmlidXRlIHZlYzQgaW5zdGFuY2VTb3VyY2VDb2xvcnM7XG5hdHRyaWJ1dGUgdmVjNCBpbnN0YW5jZVRhcmdldENvbG9ycztcbmF0dHJpYnV0ZSB2ZWMzIGluc3RhbmNlU291cmNlUG9zaXRpb25zO1xuYXR0cmlidXRlIHZlYzMgaW5zdGFuY2VTb3VyY2VQb3NpdGlvbnM2NExvdztcbmF0dHJpYnV0ZSB2ZWMzIGluc3RhbmNlVGFyZ2V0UG9zaXRpb25zO1xuYXR0cmlidXRlIHZlYzMgaW5zdGFuY2VUYXJnZXRQb3NpdGlvbnM2NExvdztcbmF0dHJpYnV0ZSB2ZWMzIGluc3RhbmNlUGlja2luZ0NvbG9ycztcbmF0dHJpYnV0ZSBmbG9hdCBpbnN0YW5jZVdpZHRocztcblxudW5pZm9ybSBmbG9hdCBudW1TZWdtZW50cztcbnVuaWZvcm0gZmxvYXQgb3BhY2l0eTtcbnVuaWZvcm0gZmxvYXQgd2lkdGhTY2FsZTtcbnVuaWZvcm0gZmxvYXQgd2lkdGhNaW5QaXhlbHM7XG51bmlmb3JtIGZsb2F0IHdpZHRoTWF4UGl4ZWxzO1xuXG52YXJ5aW5nIHZlYzQgdkNvbG9yO1xudmFyeWluZyB2ZWMyIHV2O1xudmVjMiBnZXRFeHRydXNpb25PZmZzZXQodmVjMiBsaW5lX2NsaXBzcGFjZSwgZmxvYXQgb2Zmc2V0X2RpcmVjdGlvbiwgZmxvYXQgd2lkdGgpIHtcbiAgdmVjMiBkaXJfc2NyZWVuc3BhY2UgPSBub3JtYWxpemUobGluZV9jbGlwc3BhY2UgKiBwcm9qZWN0X3VWaWV3cG9ydFNpemUpO1xuICBkaXJfc2NyZWVuc3BhY2UgPSB2ZWMyKC1kaXJfc2NyZWVuc3BhY2UueSwgZGlyX3NjcmVlbnNwYWNlLngpO1xuXG4gIHJldHVybiBkaXJfc2NyZWVuc3BhY2UgKiBvZmZzZXRfZGlyZWN0aW9uICogd2lkdGggLyAyLjA7XG59XG5cbmZsb2F0IGdldFNlZ21lbnRSYXRpbyhmbG9hdCBpbmRleCkge1xuICByZXR1cm4gc21vb3Roc3RlcCgwLjAsIDEuMCwgaW5kZXggLyAobnVtU2VnbWVudHMgLSAxLjApKTtcbn1cbmZsb2F0IGdldEFuZ3VsYXJEaXN0ICh2ZWMyIHNvdXJjZSwgdmVjMiB0YXJnZXQpIHtcbiAgdmVjMiBkZWx0YSA9IHNvdXJjZSAtIHRhcmdldDtcbiAgdmVjMiBzaW5faGFsZl9kZWx0YSA9IHNpbihkZWx0YSAvIDIuMCk7XG4gIGZsb2F0IGEgPVxuICAgIHNpbl9oYWxmX2RlbHRhLnkgKiBzaW5faGFsZl9kZWx0YS55ICtcbiAgICBjb3Moc291cmNlLnkpICogY29zKHRhcmdldC55KSAqXG4gICAgc2luX2hhbGZfZGVsdGEueCAqIHNpbl9oYWxmX2RlbHRhLng7XG4gIHJldHVybiAyLjAgKiBhdGFuKHNxcnQoYSksIHNxcnQoMS4wIC0gYSkpO1xufVxuXG52ZWMyIGludGVycG9sYXRlICh2ZWMyIHNvdXJjZSwgdmVjMiB0YXJnZXQsIGZsb2F0IGFuZ3VsYXJEaXN0LCBmbG9hdCB0KSB7XG4gIGlmKGFicyhhbmd1bGFyRGlzdCAtIFBJKSA8IDAuMDAxKSB7XG4gICAgcmV0dXJuICgxLjAgLSB0KSAqIHNvdXJjZSArIHQgKiB0YXJnZXQ7XG4gIH1cblxuICBmbG9hdCBhID0gc2luKCgxLjAgLSB0KSAqIGFuZ3VsYXJEaXN0KSAvIHNpbihhbmd1bGFyRGlzdCk7XG4gIGZsb2F0IGIgPSBzaW4odCAqIGFuZ3VsYXJEaXN0KSAvIHNpbihhbmd1bGFyRGlzdCk7XG4gIHZlYzIgc2luX3NvdXJjZSA9IHNpbihzb3VyY2UpO1xuICB2ZWMyIGNvc19zb3VyY2UgPSBjb3Moc291cmNlKTtcbiAgdmVjMiBzaW5fdGFyZ2V0ID0gc2luKHRhcmdldCk7XG4gIHZlYzIgY29zX3RhcmdldCA9IGNvcyh0YXJnZXQpO1xuXG4gIGZsb2F0IHggPSBhICogY29zX3NvdXJjZS55ICogY29zX3NvdXJjZS54ICsgYiAqIGNvc190YXJnZXQueSAqIGNvc190YXJnZXQueDtcbiAgZmxvYXQgeSA9IGEgKiBjb3Nfc291cmNlLnkgKiBzaW5fc291cmNlLnggKyBiICogY29zX3RhcmdldC55ICogc2luX3RhcmdldC54O1xuICBmbG9hdCB6ID0gYSAqIHNpbl9zb3VyY2UueSArIGIgKiBzaW5fdGFyZ2V0Lnk7XG4gIHJldHVybiB2ZWMyKGF0YW4oeSwgeCksIGF0YW4oeiwgc3FydCh4ICogeCArIHkgKiB5KSkpO1xufVxuXG52b2lkIG1haW4odm9pZCkge1xuICBnZW9tZXRyeS53b3JsZFBvc2l0aW9uID0gaW5zdGFuY2VTb3VyY2VQb3NpdGlvbnM7XG4gIGdlb21ldHJ5LndvcmxkUG9zaXRpb25BbHQgPSBpbnN0YW5jZVRhcmdldFBvc2l0aW9ucztcblxuICBmbG9hdCBzZWdtZW50SW5kZXggPSBwb3NpdGlvbnMueDtcbiAgZmxvYXQgc2VnbWVudFJhdGlvID0gZ2V0U2VnbWVudFJhdGlvKHNlZ21lbnRJbmRleCk7XG4gIHV2ID0gdmVjMihzZWdtZW50UmF0aW8sIHBvc2l0aW9ucy55KTtcbiAgZ2VvbWV0cnkudXYgPSB1djtcbiAgZ2VvbWV0cnkucGlja2luZ0NvbG9yID0gaW5zdGFuY2VQaWNraW5nQ29sb3JzO1xuICBmbG9hdCBpbmRleERpciA9IG1peCgtMS4wLCAxLjAsIHN0ZXAoc2VnbWVudEluZGV4LCAwLjApKTtcbiAgZmxvYXQgbmV4dFNlZ21lbnRSYXRpbyA9IGdldFNlZ21lbnRSYXRpbyhzZWdtZW50SW5kZXggKyBpbmRleERpcik7XG4gIFxuICB2ZWMyIHNvdXJjZSA9IHJhZGlhbnMoaW5zdGFuY2VTb3VyY2VQb3NpdGlvbnMueHkpO1xuICB2ZWMyIHRhcmdldCA9IHJhZGlhbnMoaW5zdGFuY2VUYXJnZXRQb3NpdGlvbnMueHkpO1xuICBcbiAgZmxvYXQgYW5ndWxhckRpc3QgPSBnZXRBbmd1bGFyRGlzdChzb3VyY2UsIHRhcmdldCk7XG5cbiAgdmVjMyBjdXJyUG9zID0gdmVjMyhkZWdyZWVzKGludGVycG9sYXRlKHNvdXJjZSwgdGFyZ2V0LCBhbmd1bGFyRGlzdCwgc2VnbWVudFJhdGlvKSksIDAuMCk7XG4gIHZlYzMgbmV4dFBvcyA9IHZlYzMoZGVncmVlcyhpbnRlcnBvbGF0ZShzb3VyY2UsIHRhcmdldCwgYW5ndWxhckRpc3QsIG5leHRTZWdtZW50UmF0aW8pKSwgMC4wKTtcblxuICB2ZWMzIGN1cnJQb3M2NExvdyA9IG1peChpbnN0YW5jZVNvdXJjZVBvc2l0aW9uczY0TG93LCBpbnN0YW5jZVRhcmdldFBvc2l0aW9uczY0TG93LCBzZWdtZW50UmF0aW8pO1xuICB2ZWMzIG5leHRQb3M2NExvdyA9IG1peChpbnN0YW5jZVNvdXJjZVBvc2l0aW9uczY0TG93LCBpbnN0YW5jZVRhcmdldFBvc2l0aW9uczY0TG93LCBuZXh0U2VnbWVudFJhdGlvKTtcblxuICB2ZWM0IGN1cnIgPSBwcm9qZWN0X3Bvc2l0aW9uX3RvX2NsaXBzcGFjZShjdXJyUG9zLCBjdXJyUG9zNjRMb3csIHZlYzMoMC4wKSwgZ2VvbWV0cnkucG9zaXRpb24pO1xuICB2ZWM0IG5leHQgPSBwcm9qZWN0X3Bvc2l0aW9uX3RvX2NsaXBzcGFjZShuZXh0UG9zLCBuZXh0UG9zNjRMb3csIHZlYzMoMC4wKSk7XG4gIGZsb2F0IHdpZHRoUGl4ZWxzID0gY2xhbXAoXG4gICAgcHJvamVjdF9zaXplX3RvX3BpeGVsKGluc3RhbmNlV2lkdGhzICogd2lkdGhTY2FsZSksXG4gICAgd2lkdGhNaW5QaXhlbHMsIHdpZHRoTWF4UGl4ZWxzXG4gICk7XG4gIHZlYzMgb2Zmc2V0ID0gdmVjMyhcbiAgICBnZXRFeHRydXNpb25PZmZzZXQoKG5leHQueHkgLSBjdXJyLnh5KSAqIGluZGV4RGlyLCBwb3NpdGlvbnMueSwgd2lkdGhQaXhlbHMpLFxuICAgIDAuMCk7XG4gIERFQ0tHTF9GSUxURVJfU0laRShvZmZzZXQsIGdlb21ldHJ5KTtcbiAgZ2xfUG9zaXRpb24gPSBjdXJyICsgdmVjNChwcm9qZWN0X3BpeGVsX3NpemVfdG9fY2xpcHNwYWNlKG9mZnNldC54eSksIDAuMCwgMC4wKTtcbiAgREVDS0dMX0ZJTFRFUl9HTF9QT1NJVElPTihnbF9Qb3NpdGlvbiwgZ2VvbWV0cnkpO1xuXG4gIHZlYzQgY29sb3IgPSBtaXgoaW5zdGFuY2VTb3VyY2VDb2xvcnMsIGluc3RhbmNlVGFyZ2V0Q29sb3JzLCBzZWdtZW50UmF0aW8pO1xuICB2Q29sb3IgPSB2ZWM0KGNvbG9yLnJnYiwgY29sb3IuYSAqIG9wYWNpdHkpO1xuICBERUNLR0xfRklMVEVSX0NPTE9SKHZDb2xvciwgZ2VvbWV0cnkpO1xufVxuIixtb2R1bGVzOltiLmEsXy5hXX0pfX1dKSxlfShPLmEpO3gubGF5ZXJOYW1lPSJHcmVhdENpcmNsZUxheWVyIjt2YXIgdz1uKDE4NSksaz1uKDIwNiksUz1uKDE5KSxQPW4ubihTKSxqPW4oMTI5KSxUPW4ubihqKSxFPTE4MC9NYXRoLlBJO2Z1bmN0aW9uIEEodCxlLG4pe3ZhciByPTE8PGU7cmV0dXJuWyh0WzBdK25bMF0pL3IsKHRbMV0rblsxXSkvcl19ZnVuY3Rpb24gTSh0KXtyZXR1cm4gdD49LjU/MS8zKig0KnQqdC0xKToxLzMqKDEtNCooMS10KSooMS10KSl9ZnVuY3Rpb24gQyh0KXtyZXR1cm5bTSh0WzBdKSxNKHRbMV0pXX1mdW5jdGlvbiBMKHQsZSl7dmFyIG49UCgpKGUsMikscj1uWzBdLGk9blsxXTtzd2l0Y2godCl7Y2FzZSAwOnJldHVyblsxLHIsaV07Y2FzZSAxOnJldHVyblstciwxLGldO2Nhc2UgMjpyZXR1cm5bLXIsLWksMV07Y2FzZSAzOnJldHVyblstMSwtaSwtcl07Y2FzZSA0OnJldHVybltpLC0xLC1yXTtjYXNlIDU6cmV0dXJuW2ksciwtMV07ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoIkludmFsaWQgZmFjZSIpfX1mdW5jdGlvbiBJKHQsZSxuLHIpe2lmKDA9PT1yKXsxPT09biYmKGVbMF09dC0xLWVbMF0sZVsxXT10LTEtZVsxXSk7dmFyIGk9ZVswXTtlWzBdPWVbMV0sZVsxXT1pfX1mdW5jdGlvbiBSKHQpe2lmKCJzdHJpbmciPT10eXBlb2YgdCl7aWYodC5pbmRleE9mKCIvIik+MClyZXR1cm4gdDt0PWZ1bmN0aW9uKHQpe3ZhciBlPXQucGFkRW5kKDE2LCIwIik7cmV0dXJuIFQuYS5mcm9tU3RyaW5nKGUsMTYpfSh0KX1yZXR1cm4gZnVuY3Rpb24odCl7Zm9yKHZhciBlPVQuYS5mcm9tU3RyaW5nKHQsITAsMTApLnRvU3RyaW5nKDIpO2UubGVuZ3RoPDY0OyllPSIwIitlO2Zvcih2YXIgbj1lLmxhc3RJbmRleE9mKCIxIikscj1lLnN1YnN0cmluZygwLDMpLGk9ZS5zdWJzdHJpbmcoMyxuKSxhPWkubGVuZ3RoLzIsbz1ULmEuZnJvbVN0cmluZyhyLCEwLDIpLnRvU3RyaW5nKDEwKSxzPVQuYS5mcm9tU3RyaW5nKGksITAsMikudG9TdHJpbmcoNCk7cy5sZW5ndGg8YTspcz0iMCIrcztyZXR1cm4iIi5jb25jYXQobywiLyIpLmNvbmNhdChzKX0odC50b1N0cmluZygpKX1mdW5jdGlvbiBOKHQpe3JldHVybiBmdW5jdGlvbih0KXtmb3IodmFyIGUsbixyLGksYSxvLHM9dC5mYWNlLHU9dC5paixjPXQubGV2ZWwsbD1bWzAsMF0sWzAsMV0sWzEsMV0sWzEsMF0sWzAsMF1dLGg9TWF0aC5tYXgoMSxNYXRoLmNlaWwoMTAwKk1hdGgucG93KDIsLWMpKSksZj1uZXcgRmxvYXQ2NEFycmF5KDQqaCoyKzIpLGQ9MCx2PTA7djw0O3YrKylmb3IodmFyIHA9bFt2XS5zbGljZSgwKSxnPWxbdisxXSx5PShnWzBdLXBbMF0pL2gsbT0oZ1sxXS1wWzFdKS9oLGI9MDtiPGg7YisrKXtwWzBdKz15LHBbMV0rPW07dmFyIF89TChzLEMoQSh1LGMscCkpKSxPPShlPV8sbj12b2lkIDAscj12b2lkIDAsaT12b2lkIDAsYT12b2lkIDAsbz12b2lkIDAsbj1QKCkoZSwzKSxyPW5bMF0saT1uWzFdLGE9blsyXSxvPU1hdGguYXRhbjIoYSxNYXRoLnNxcnQocipyK2kqaSkpLFtNYXRoLmF0YW4yKGkscikqRSxvKkVdKTtmW2QrK109T1swXSxmW2QrK109T1sxXX1yZXR1cm4gZltkKytdPWZbMF0sZltkKytdPWZbMV0sZn0oZnVuY3Rpb24odCl7Zm9yKHZhciBlLG49dC5zcGxpdCgiLyIpLHI9cGFyc2VJbnQoblswXSwxMCksaT1uWzFdLGE9aS5sZW5ndGgsbz1bMCwwXSxzPWEtMTtzPj0wO3MtLSl7ZT1hLXM7dmFyIHU9aVtzXSxjPTAsbD0wOyIxIj09PXU/bD0xOiIyIj09PXU/KGM9MSxsPTEpOiIzIj09PXUmJihjPTEpO3ZhciBoPU1hdGgucG93KDIsZS0xKTtJKGgsbyxjLGwpLG9bMF0rPWgqYyxvWzFdKz1oKmx9aWYociUyPT0xKXt2YXIgZj1vWzBdO29bMF09b1sxXSxvWzFdPWZ9cmV0dXJue2ZhY2U6cixpajpvLGxldmVsOmV9fShSKHQpKSl9dmFyIEQ9T2JqZWN0LmFzc2lnbih7Z2V0UzJUb2tlbjp7dHlwZToiYWNjZXNzb3IiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0LnRva2VufX19LGsuYS5kZWZhdWx0UHJvcHMpLEY9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3JldHVybiB1KCkodGhpcyxlKSxmKCkodGhpcyx2KCkoZSkuYXBwbHkodGhpcyxhcmd1bWVudHMpKX1yZXR1cm4gbSgpKGUsdCksbCgpKGUsW3trZXk6InJlbmRlckxheWVycyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnByb3BzLGU9dC5kYXRhLG49dC5nZXRTMlRva2VuLHI9dGhpcy5wcm9wcyxpPXIuZWxldmF0aW9uU2NhbGUsYT1yLmV4dHJ1ZGVkLG89ci53aXJlZnJhbWUscz1yLmZpbGxlZCx1PXIuc3Ryb2tlZCxjPXIubGluZVdpZHRoVW5pdHMsbD1yLmxpbmVXaWR0aFNjYWxlLGg9ci5saW5lV2lkdGhNaW5QaXhlbHMsZj1yLmxpbmVXaWR0aE1heFBpeGVscyxkPXIubGluZUpvaW50Um91bmRlZCx2PXIubGluZU1pdGVyTGltaXQscD1yLmxpbmVEYXNoSnVzdGlmaWVkLGc9ci5nZXRFbGV2YXRpb24seT1yLmdldEZpbGxDb2xvcixtPXIuZ2V0TGluZUNvbG9yLGI9ci5nZXRMaW5lV2lkdGgsXz1yLmdldExpbmVEYXNoQXJyYXksTz10aGlzLnByb3BzLHg9Ty51cGRhdGVUcmlnZ2Vycyx3PU8ubWF0ZXJpYWw7cmV0dXJuIG5ldyh0aGlzLmdldFN1YkxheWVyQ2xhc3MoImNlbGwiLGsuYSkpKHtmaWxsZWQ6cyx3aXJlZnJhbWU6byxleHRydWRlZDphLGVsZXZhdGlvblNjYWxlOmksc3Ryb2tlZDp1LGxpbmVXaWR0aFVuaXRzOmMsbGluZVdpZHRoU2NhbGU6bCxsaW5lV2lkdGhNaW5QaXhlbHM6aCxsaW5lV2lkdGhNYXhQaXhlbHM6ZixsaW5lSm9pbnRSb3VuZGVkOmQsbGluZU1pdGVyTGltaXQ6dixsaW5lRGFzaEp1c3RpZmllZDpwLG1hdGVyaWFsOncsZ2V0RWxldmF0aW9uOmcsZ2V0RmlsbENvbG9yOnksZ2V0TGluZUNvbG9yOm0sZ2V0TGluZVdpZHRoOmIsZ2V0TGluZURhc2hBcnJheTpffSx0aGlzLmdldFN1YkxheWVyUHJvcHMoe2lkOiJjZWxsIix1cGRhdGVUcmlnZ2Vyczp7Z2V0RWxldmF0aW9uOnguZ2V0RWxldmF0aW9uLGdldEZpbGxDb2xvcjp4LmdldEZpbGxDb2xvcixnZXRMaW5lQ29sb3I6eC5nZXRMaW5lQ29sb3IsZ2V0TGluZVdpZHRoOnguZ2V0TGluZVdpZHRoLGdldExpbmVEYXNoQXJyYXk6eC5nZXRMaW5lRGFzaEFycmF5fX0pLHtkYXRhOmUsX25vcm1hbGl6ZTohMSxwb3NpdGlvbkZvcm1hdDoiWFkiLGdldFBvbHlnb246ZnVuY3Rpb24odCxlKXtyZXR1cm4gTihuKHQsZSkpfX0pfX1dKSxlfSh3LmEpO0YubGF5ZXJOYW1lPSJTMkxheWVyIixGLmRlZmF1bHRQcm9wcz1EO3ZhciB6PW4oNzUpLEI9bigyMTgpLFU9bigyMyksVj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSl7dmFyIG49ZS54LHI9ZS55LGk9ZS56LGE9ZS5vblRpbGVMb2FkLG89ZS5vblRpbGVFcnJvcjt1KCkodGhpcyx0KSx0aGlzLng9bix0aGlzLnk9cix0aGlzLno9aSx0aGlzLmlzVmlzaWJsZT0hMSx0aGlzLnBhcmVudD1udWxsLHRoaXMuY2hpbGRyZW49W10sdGhpcy5jb250ZW50PW51bGwsdGhpcy5faXNMb2FkZWQ9ITEsdGhpcy5vblRpbGVMb2FkPWEsdGhpcy5vblRpbGVFcnJvcj1vfXJldHVybiBsKCkodCxbe2tleToibG9hZERhdGEiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMsbj10aGlzLngscj10aGlzLnksaT10aGlzLnosYT10aGlzLmJib3g7dCYmKHRoaXMuX2xvYWRlcj1Qcm9taXNlLnJlc29sdmUodCh7eDpuLHk6cix6OmksYmJveDphfSkpLnRoZW4oKGZ1bmN0aW9uKHQpe3JldHVybiBlLmNvbnRlbnQ9dCxlLl9pc0xvYWRlZD0hMCxlLm9uVGlsZUxvYWQoZSksdH0pKS5jYXRjaCgoZnVuY3Rpb24odCl7ZS5faXNMb2FkZWQ9ITAsZS5vblRpbGVFcnJvcih0KX0pKSl9fSx7a2V5OiJkYXRhIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faXNMb2FkZWQ/dGhpcy5jb250ZW50OnRoaXMuX2xvYWRlcn19LHtrZXk6ImlzTG9hZGVkIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faXNMb2FkZWR9fSx7a2V5OiJieXRlTGVuZ3RoIixnZXQ6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmNvbnRlbnQ/dGhpcy5jb250ZW50LmJ5dGVMZW5ndGg6MDtyZXR1cm4gTnVtYmVyLmlzRmluaXRlKHQpfHxVLmEuZXJyb3IoImJ5dGVMZW5ndGggbm90IGRlZmluZWQgaW4gdGlsZSBkYXRhIikoKSx0fX1dKSx0fSgpLEc9big1MyksVz1uLm4oRyksSD1uKDM0KSxxPXt0eXBlOiJ1cmwiLHZhbHVlOiIiLHZhbGlkYXRlOmZ1bmN0aW9uKHQpe3JldHVybiJzdHJpbmciPT10eXBlb2YgdHx8QXJyYXkuaXNBcnJheSh0KSYmdC5ldmVyeSgoZnVuY3Rpb24odCl7cmV0dXJuInN0cmluZyI9PXR5cGVvZiB0fSkpfSxlcXVhbHM6ZnVuY3Rpb24odCxlKXtpZih0PT09ZSlyZXR1cm4hMDtpZighQXJyYXkuaXNBcnJheSh0KXx8IUFycmF5LmlzQXJyYXkoZSkpcmV0dXJuITE7dmFyIG49dC5sZW5ndGg7aWYobiE9PWUubGVuZ3RoKXJldHVybiExO2Zvcih2YXIgcj0wO3I8bjtyKyspaWYodFtyXSE9PWVbcl0pcmV0dXJuITE7cmV0dXJuITB9fTtmdW5jdGlvbiBYKHQsZSl7aWYoIXR8fCF0Lmxlbmd0aClyZXR1cm4gbnVsbDtBcnJheS5pc0FycmF5KHQpJiYodD10W01hdGguYWJzKGUueCtlLnkpJXQubGVuZ3RoXSk7cmV0dXJuIHQucmVwbGFjZSgvXHsgKihbXHdfLV0rKSAqXH0vZywoZnVuY3Rpb24odCxuKXtyZXR1cm4gZVtuXX0pKX1mdW5jdGlvbiBaKHQsZSl7dmFyIG47aWYoZSYmMj09PWUubGVuZ3RoKXt2YXIgcj1QKCkoZSwyKSxpPXt0YXJnZXRaOnJbMF19LGE9e3RhcmdldFo6clsxXX07bj1bdC51bnByb2plY3QoWzAsMF0saSksdC51bnByb2plY3QoW3Qud2lkdGgsMF0saSksdC51bnByb2plY3QoWzAsdC5oZWlnaHRdLGkpLHQudW5wcm9qZWN0KFt0LndpZHRoLHQuaGVpZ2h0XSxpKSx0LnVucHJvamVjdChbMCwwXSxhKSx0LnVucHJvamVjdChbdC53aWR0aCwwXSxhKSx0LnVucHJvamVjdChbMCx0LmhlaWdodF0sYSksdC51bnByb2plY3QoW3Qud2lkdGgsdC5oZWlnaHRdLGEpXX1lbHNlIG49W3QudW5wcm9qZWN0KFswLDBdKSx0LnVucHJvamVjdChbdC53aWR0aCwwXSksdC51bnByb2plY3QoWzAsdC5oZWlnaHRdKSx0LnVucHJvamVjdChbdC53aWR0aCx0LmhlaWdodF0pXTtyZXR1cm5bTWF0aC5taW4uYXBwbHkoTWF0aCxXKCkobi5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiB0WzBdfSkpKSksTWF0aC5taW4uYXBwbHkoTWF0aCxXKCkobi5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiB0WzFdfSkpKSksTWF0aC5tYXguYXBwbHkoTWF0aCxXKCkobi5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiB0WzBdfSkpKSksTWF0aC5tYXguYXBwbHkoTWF0aCxXKCkobi5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiB0WzFdfSkpKSldfWZ1bmN0aW9uIFkodCxlKXt2YXIgbj1PYmplY3QoSC5qKSh0KSxyPVAoKShuLDIpLGk9clswXSxhPXJbMV07cmV0dXJuW2kqPWUvNTEyLGE9KDEtYS81MTIpKmVdfWZ1bmN0aW9uIEsodCxlKXt2YXIgbj1QKCkodCwyKTtyZXR1cm5bblswXSplLzUxMixuWzFdKmUvNTEyXX1mdW5jdGlvbiBRKHQpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTo1MTI7cmV0dXJuIDUxMipNYXRoLnBvdygyLHQpL2V9ZnVuY3Rpb24gSih0LGUsbil7dmFyIHI9UShuKSxpPXQvciozNjAtMTgwLGE9TWF0aC5QSS0yKk1hdGguUEkqZS9yO3JldHVybltpLDE4MC9NYXRoLlBJKk1hdGguYXRhbiguNSooTWF0aC5leHAoYSktTWF0aC5leHAoLWEpKSldfWZ1bmN0aW9uICQodCxlLG4scil7dmFyIGk9UShuLHIpO3JldHVyblt0L2kqNTEyLGUvaSo1MTJdfWZ1bmN0aW9uIHR0KHQsZSxuLHIpe3ZhciBpPWFyZ3VtZW50cy5sZW5ndGg+NCYmdm9pZCAwIT09YXJndW1lbnRzWzRdP2FyZ3VtZW50c1s0XTo1MTI7aWYodC5pc0dlb3NwYXRpYWwpe3ZhciBhPUooZSxuLHIpLG89UCgpKGEsMikscz1vWzBdLHU9b1sxXSxjPUooZSsxLG4rMSxyKSxsPVAoKShjLDIpLGg9bFswXSxmPWxbMV07cmV0dXJue3dlc3Q6cyxub3J0aDp1LGVhc3Q6aCxzb3V0aDpmfX12YXIgZD0kKGUsbixyLGkpLHY9UCgpKGQsMikscD12WzBdLGc9dlsxXSx5PSQoZSsxLG4rMSxyLGkpLG09UCgpKHksMiksYj1tWzBdLF89bVsxXTtyZXR1cm57bGVmdDpwLHRvcDpnLHJpZ2h0OmIsYm90dG9tOl99fWZ1bmN0aW9uIGV0KHQsZSxuKXtmb3IodmFyIHI9Wih0KSxpPVEoZSxuKSxhPUsoW3JbMF0sclsxXV0saSksbz1QKCkoYSwyKSxzPW9bMF0sdT1vWzFdLGM9SyhbclsyXSxyWzNdXSxpKSxsPVAoKShjLDIpLGg9bFswXSxmPWxbMV0sZD1bXSx2PU1hdGguZmxvb3Iocyk7djxoO3YrKylmb3IodmFyIHA9TWF0aC5mbG9vcih1KTtwPGY7cCsrKWQucHVzaCh7eDp2LHk6cCx6OmV9KTtyZXR1cm4gZH1mdW5jdGlvbiBudCh0LGUsbil7dmFyIHI9Wih0LG4pLGk9UShlKSxhPVkoW3JbMF0sclszXV0saSksbz1QKCkoYSwyKSxzPW9bMF0sdT1vWzFdLGM9WShbclsyXSxyWzFdXSxpKSxsPVAoKShjLDIpLGg9bFswXSxmPWxbMV0sZD1bXTtzPU1hdGguZmxvb3IocyksaD1NYXRoLm1pbihzK2ksaCksdT1NYXRoLm1heCgwLE1hdGguZmxvb3IodSkpLGY9TWF0aC5taW4oaSxmKTtmb3IodmFyIHY9czt2PGg7disrKWZvcih2YXIgcD11O3A8ZjtwKyspe3ZhciBnPXYtTWF0aC5mbG9vcih2L2kpKmk7ZC5wdXNoKHt4OmcseTpwLHo6ZX0pfXJldHVybiBkfXZhciBydD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSl7dmFyIG49dGhpczt1KCkodGhpcyx0KSx0aGlzLm9wdHM9ZSx0aGlzLl9nZXRUaWxlRGF0YT1lLmdldFRpbGVEYXRhLHRoaXMub25UaWxlRXJyb3I9ZS5vblRpbGVFcnJvcix0aGlzLm9uVGlsZUxvYWQ9ZnVuY3Rpb24odCl7ZS5vblRpbGVMb2FkKHQpLG4ub3B0cy5tYXhDYWNoZUJ5dGVTaXplJiYobi5fY2FjaGVCeXRlU2l6ZSs9dC5ieXRlTGVuZ3RoLG4uX3Jlc2l6ZUNhY2hlKCkpfSx0aGlzLl9jYWNoZT1uZXcgTWFwLHRoaXMuX3RpbGVzPVtdLHRoaXMuX2RpcnR5PSExLHRoaXMuX2NhY2hlQnl0ZVNpemU9MCx0aGlzLl92aWV3cG9ydD1udWxsLHRoaXMuX3NlbGVjdGVkVGlsZXM9bnVsbCx0aGlzLl9mcmFtZU51bWJlcj0wLHRoaXMuc2V0T3B0aW9ucyhlKX1yZXR1cm4gbCgpKHQsW3trZXk6InNldE9wdGlvbnMiLHZhbHVlOmZ1bmN0aW9uKHQpe09iamVjdC5hc3NpZ24odGhpcy5vcHRzLHQpLE51bWJlci5pc0Zpbml0ZSh0Lm1heFpvb20pJiYodGhpcy5fbWF4Wm9vbT1NYXRoLmZsb29yKHQubWF4Wm9vbSkpLE51bWJlci5pc0Zpbml0ZSh0Lm1pblpvb20pJiYodGhpcy5fbWluWm9vbT1NYXRoLmNlaWwodC5taW5ab29tKSl9fSx7a2V5OiJ1cGRhdGUiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMsbj1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06e30scj1uLnpSYW5nZTtpZih0IT09dGhpcy5fdmlld3BvcnQpe3RoaXMuX3ZpZXdwb3J0PXQ7dmFyIGk9dGhpcy5nZXRUaWxlSW5kaWNlcyh7dmlld3BvcnQ6dCxtYXhab29tOnRoaXMuX21heFpvb20sbWluWm9vbTp0aGlzLl9taW5ab29tLHpSYW5nZTpyfSk7dGhpcy5fc2VsZWN0ZWRUaWxlcz1pLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIGUuX2dldFRpbGUodCwhMCl9KSksdGhpcy5fZGlydHkmJnRoaXMuX3JlYnVpbGRUcmVlKCl9dmFyIGE9dGhpcy51cGRhdGVUaWxlU3RhdGVzKCk7cmV0dXJuIHRoaXMuX2RpcnR5JiZ0aGlzLl9yZXNpemVDYWNoZSgpLGEmJnRoaXMuX2ZyYW1lTnVtYmVyKyssdGhpcy5fZnJhbWVOdW1iZXJ9fSx7a2V5OiJnZXRUaWxlSW5kaWNlcyIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKHQsZSxuLHIpe3ZhciBpPWFyZ3VtZW50cy5sZW5ndGg+NCYmdm9pZCAwIT09YXJndW1lbnRzWzRdP2FyZ3VtZW50c1s0XTo1MTIsYT1NYXRoLmNlaWwodC56b29tKTtyZXR1cm4gTnVtYmVyLmlzRmluaXRlKG4pJiZhPG4/W106KE51bWJlci5pc0Zpbml0ZShlKSYmYT5lJiYoYT1lKSx0LmlzR2Vvc3BhdGlhbD9udCh0LGEscik6ZXQodCxhLGkpKX0odC52aWV3cG9ydCx0Lm1heFpvb20sdC5taW5ab29tLHQuelJhbmdlLHRoaXMub3B0cy50aWxlU2l6ZSl9fSx7a2V5OiJnZXRUaWxlTWV0YWRhdGEiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXQueCxuPXQueSxyPXQuejtyZXR1cm57YmJveDp0dCh0aGlzLl92aWV3cG9ydCxlLG4scix0aGlzLm9wdHMudGlsZVNpemUpfX19LHtrZXk6ImdldFBhcmVudEluZGV4Iix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdC54PU1hdGguZmxvb3IodC54LzIpLHQueT1NYXRoLmZsb29yKHQueS8yKSx0LnotPTEsdH19LHtrZXk6InVwZGF0ZVRpbGVTdGF0ZXMiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5fdXBkYXRlVGlsZVN0YXRlcyh0aGlzLnNlbGVjdGVkVGlsZXMpO3ZhciB0PSExLGU9ITAsbj0hMSxyPXZvaWQgMDt0cnl7Zm9yKHZhciBpLGE9dGhpcy5fY2FjaGUudmFsdWVzKClbU3ltYm9sLml0ZXJhdG9yXSgpOyEoZT0oaT1hLm5leHQoKSkuZG9uZSk7ZT0hMCl7dmFyIG89aS52YWx1ZSxzPUJvb2xlYW4oMSZvLnN0YXRlKTtvLmlzVmlzaWJsZSE9PXMmJih0PSEwLG8uaXNWaXNpYmxlPXMpfX1jYXRjaCh0KXtuPSEwLHI9dH1maW5hbGx5e3RyeXtlfHxudWxsPT1hLnJldHVybnx8YS5yZXR1cm4oKX1maW5hbGx5e2lmKG4pdGhyb3cgcn19cmV0dXJuIHR9fSx7a2V5OiJfcmVidWlsZFRyZWUiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fY2FjaGUsZT0hMCxuPSExLHI9dm9pZCAwO3RyeXtmb3IodmFyIGksYT10LnZhbHVlcygpW1N5bWJvbC5pdGVyYXRvcl0oKTshKGU9KGk9YS5uZXh0KCkpLmRvbmUpO2U9ITApe3ZhciBvPWkudmFsdWU7by5wYXJlbnQ9bnVsbCxvLmNoaWxkcmVuLmxlbmd0aD0wfX1jYXRjaCh0KXtuPSEwLHI9dH1maW5hbGx5e3RyeXtlfHxudWxsPT1hLnJldHVybnx8YS5yZXR1cm4oKX1maW5hbGx5e2lmKG4pdGhyb3cgcn19dmFyIHM9ITAsdT0hMSxjPXZvaWQgMDt0cnl7Zm9yKHZhciBsLGg9dC52YWx1ZXMoKVtTeW1ib2wuaXRlcmF0b3JdKCk7IShzPShsPWgubmV4dCgpKS5kb25lKTtzPSEwKXt2YXIgZj1sLnZhbHVlLGQ9dGhpcy5fZ2V0TmVhcmVzdEFuY2VzdG9yKGYueCxmLnksZi56KTtmLnBhcmVudD1kLGQmJmQuY2hpbGRyZW4ucHVzaChmKX19Y2F0Y2godCl7dT0hMCxjPXR9ZmluYWxseXt0cnl7c3x8bnVsbD09aC5yZXR1cm58fGgucmV0dXJuKCl9ZmluYWxseXtpZih1KXRocm93IGN9fX19LHtrZXk6Il91cGRhdGVUaWxlU3RhdGVzIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLl9jYWNoZSxuPXRoaXMub3B0cy5yZWZpbmVtZW50U3RyYXRlZ3l8fCJiZXN0LWF2YWlsYWJsZSIscj0hMCxpPSExLGE9dm9pZCAwO3RyeXtmb3IodmFyIG8scz1lLnZhbHVlcygpW1N5bWJvbC5pdGVyYXRvcl0oKTshKHI9KG89cy5uZXh0KCkpLmRvbmUpO3I9ITApe28udmFsdWUuc3RhdGU9MH19Y2F0Y2godCl7aT0hMCxhPXR9ZmluYWxseXt0cnl7cnx8bnVsbD09cy5yZXR1cm58fHMucmV0dXJuKCl9ZmluYWxseXtpZihpKXRocm93IGF9fXZhciB1PSEwLGM9ITEsbD12b2lkIDA7dHJ5e2Zvcih2YXIgaCxmPXRbU3ltYm9sLml0ZXJhdG9yXSgpOyEodT0oaD1mLm5leHQoKSkuZG9uZSk7dT0hMCl7aC52YWx1ZS5zdGF0ZT01fX1jYXRjaCh0KXtjPSEwLGw9dH1maW5hbGx5e3RyeXt1fHxudWxsPT1mLnJldHVybnx8Zi5yZXR1cm4oKX1maW5hbGx5e2lmKGMpdGhyb3cgbH19aWYoIm5ldmVyIiE9PW4pe3ZhciBkPSEwLHY9ITEscD12b2lkIDA7dHJ5e2Zvcih2YXIgZyx5PXRbU3ltYm9sLml0ZXJhdG9yXSgpOyEoZD0oZz15Lm5leHQoKSkuZG9uZSk7ZD0hMCl7YXQoZy52YWx1ZSxuKX19Y2F0Y2godCl7dj0hMCxwPXR9ZmluYWxseXt0cnl7ZHx8bnVsbD09eS5yZXR1cm58fHkucmV0dXJuKCl9ZmluYWxseXtpZih2KXRocm93IHB9fXZhciBtPSEwLGI9ITEsXz12b2lkIDA7dHJ5e2Zvcih2YXIgTyx4PXRbU3ltYm9sLml0ZXJhdG9yXSgpOyEobT0oTz14Lm5leHQoKSkuZG9uZSk7bT0hMCl7dmFyIHc9Ty52YWx1ZTtpdCh3KSYmb3Qodyl9fWNhdGNoKHQpe2I9ITAsXz10fWZpbmFsbHl7dHJ5e218fG51bGw9PXgucmV0dXJufHx4LnJldHVybigpfWZpbmFsbHl7aWYoYil0aHJvdyBffX19fX0se2tleToiX3Jlc2l6ZUNhY2hlIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMuX2NhY2hlLGU9dGhpcy5vcHRzLG49ZS5tYXhDYWNoZVNpemV8fChlLm1heENhY2hlQnl0ZVNpemU/MS8wOjUqdGhpcy5zZWxlY3RlZFRpbGVzLmxlbmd0aCkscj1lLm1heENhY2hlQnl0ZVNpemV8fDEvMDtpZih0LnNpemU+bnx8dGhpcy5fY2FjaGVCeXRlU2l6ZT5yKXt2YXIgaT0hMCxhPSExLG89dm9pZCAwO3RyeXtmb3IodmFyIHMsdT10W1N5bWJvbC5pdGVyYXRvcl0oKTshKGk9KHM9dS5uZXh0KCkpLmRvbmUpO2k9ITApe3ZhciBjPVAoKShzLnZhbHVlLDIpLGw9Y1swXSxoPWNbMV07aWYoaC5pc1Zpc2libGV8fCh0aGlzLl9jYWNoZUJ5dGVTaXplLT1lLm1heENhY2hlQnl0ZVNpemU/aC5ieXRlTGVuZ3RoOjAsdC5kZWxldGUobCkpLHQuc2l6ZTw9biYmdGhpcy5fY2FjaGVCeXRlU2l6ZTw9cilicmVha319Y2F0Y2godCl7YT0hMCxvPXR9ZmluYWxseXt0cnl7aXx8bnVsbD09dS5yZXR1cm58fHUucmV0dXJuKCl9ZmluYWxseXtpZihhKXRocm93IG99fXRoaXMuX3JlYnVpbGRUcmVlKCksdGhpcy5fZGlydHk9ITB9dGhpcy5fZGlydHkmJih0aGlzLl90aWxlcz1BcnJheS5mcm9tKHRoaXMuX2NhY2hlLnZhbHVlcygpKS5zb3J0KChmdW5jdGlvbih0LGUpe3JldHVybiB0LnotZS56fSkpLHRoaXMuX2RpcnR5PSExKX19LHtrZXk6Il9nZXRUaWxlIix2YWx1ZTpmdW5jdGlvbih0LGUpe3ZhciBuPXQueCxyPXQueSxpPXQueixhPSIiLmNvbmNhdChuLCIsIikuY29uY2F0KHIsIiwiKS5jb25jYXQoaSksbz10aGlzLl9jYWNoZS5nZXQoYSk7cmV0dXJuIW8mJmUmJihvPW5ldyBWKHt4Om4seTpyLHo6aSxvblRpbGVMb2FkOnRoaXMub25UaWxlTG9hZCxvblRpbGVFcnJvcjp0aGlzLm9uVGlsZUVycm9yfSksT2JqZWN0LmFzc2lnbihvLHRoaXMuZ2V0VGlsZU1ldGFkYXRhKG8pKSxvLmxvYWREYXRhKHRoaXMuX2dldFRpbGVEYXRhKSx0aGlzLl9jYWNoZS5zZXQoYSxvKSx0aGlzLl9kaXJ0eT0hMCksb319LHtrZXk6Il9nZXROZWFyZXN0QW5jZXN0b3IiLHZhbHVlOmZ1bmN0aW9uKHQsZSxuKXtmb3IodmFyIHI9dGhpcy5fbWluWm9vbSxpPXZvaWQgMD09PXI/MDpyLGE9e3g6dCx5OmUsejpufTthLno+aTspe2E9dGhpcy5nZXRQYXJlbnRJbmRleChhKTt2YXIgbz10aGlzLl9nZXRUaWxlKGEpO2lmKG8pcmV0dXJuIG99cmV0dXJuIG51bGx9fSx7a2V5OiJ0aWxlcyIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3RpbGVzfX0se2tleToic2VsZWN0ZWRUaWxlcyIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NlbGVjdGVkVGlsZXN9fSx7a2V5OiJpc0xvYWRlZCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NlbGVjdGVkVGlsZXMuZXZlcnkoKGZ1bmN0aW9uKHQpe3JldHVybiB0LmlzTG9hZGVkfSkpfX1dKSx0fSgpO2Z1bmN0aW9uIGl0KHQpe2Zvcih2YXIgZT10O2U7KXtpZighMSZlLnN0YXRlKXJldHVybiEwO2lmKGUuaXNMb2FkZWQpcmV0dXJuITE7ZT1lLnBhcmVudH1yZXR1cm4hMH1mdW5jdGlvbiBhdCh0LGUpe2Zvcih2YXIgbixyPTM7bj10LnBhcmVudDspe2lmKHQuaXNMb2FkZWQmJihyPTQsImJlc3QtYXZhaWxhYmxlIj09PWUpKXJldHVybjtuLnN0YXRlPU1hdGgubWF4KG4uc3RhdGUsciksdD1ufX1mdW5jdGlvbiBvdCh0KXt2YXIgZT0hMCxuPSExLHI9dm9pZCAwO3RyeXtmb3IodmFyIGksYT10LmNoaWxkcmVuW1N5bWJvbC5pdGVyYXRvcl0oKTshKGU9KGk9YS5uZXh0KCkpLmRvbmUpO2U9ITApe3ZhciBvPWkudmFsdWU7by5zdGF0ZT1NYXRoLm1heChvLnN0YXRlLDMpLG8uaXNMb2FkZWR8fG90KG8pfX1jYXRjaCh0KXtuPSEwLHI9dH1maW5hbGx5e3RyeXtlfHxudWxsPT1hLnJldHVybnx8YS5yZXR1cm4oKX1maW5hbGx5e2lmKG4pdGhyb3cgcn19fXZhciBzdD17ZGF0YTpbXSxkYXRhQ29tcGFyYXRvcjpxLmVxdWFscyxyZW5kZXJTdWJMYXllcnM6e3R5cGU6ImZ1bmN0aW9uIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gbmV3IEIuYSh0KX0sY29tcGFyZTohMX0sZ2V0VGlsZURhdGE6e3R5cGU6ImZ1bmN0aW9uIixvcHRpb25hbDohMCx2YWx1ZTpudWxsLGNvbXBhcmU6ITF9LG9uVmlld3BvcnRMb2FkOnt0eXBlOiJmdW5jdGlvbiIsb3B0aW9uYWw6ITAsdmFsdWU6bnVsbCxjb21wYXJlOiExfSxvblRpbGVMb2FkOnt0eXBlOiJmdW5jdGlvbiIsdmFsdWU6ZnVuY3Rpb24odCl7fSxjb21wYXJlOiExfSxvblRpbGVFcnJvcjp7dHlwZToiZnVuY3Rpb24iLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiBjb25zb2xlLmVycm9yKHQpfSxjb21wYXJlOiExfSx0aWxlU2l6ZTo1MTIsbWF4Wm9vbTpudWxsLG1pblpvb206MCxtYXhDYWNoZVNpemU6bnVsbCxtYXhDYWNoZUJ5dGVTaXplOm51bGwscmVmaW5lbWVudFN0cmF0ZWd5OiJiZXN0LWF2YWlsYWJsZSIselJhbmdlOm51bGx9LHV0PWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXtyZXR1cm4gdSgpKHRoaXMsZSksZigpKHRoaXMsdigpKGUpLmFwcGx5KHRoaXMsYXJndW1lbnRzKSl9cmV0dXJuIG0oKShlLHQpLGwoKShlLFt7a2V5OiJpbml0aWFsaXplU3RhdGUiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5zdGF0ZT17dGlsZXM6W10saXNMb2FkZWQ6ITF9fX0se2tleToic2hvdWxkVXBkYXRlU3RhdGUiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0LmNoYW5nZUZsYWdzLnNvbWV0aGluZ0NoYW5nZWR9fSx7a2V5OiJ1cGRhdGVTdGF0ZSIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dC5wcm9wcyxuPSh0Lm9sZFByb3BzLHQuY29udGV4dCx0LmNoYW5nZUZsYWdzKSxyPXRoaXMuc3RhdGUudGlsZXNldCxpPSFyfHxuLmRhdGFDaGFuZ2VkfHxuLnVwZGF0ZVRyaWdnZXJzQ2hhbmdlZCYmKG4udXBkYXRlVHJpZ2dlcnNDaGFuZ2VkLmFsbHx8bi51cGRhdGVUcmlnZ2Vyc0NoYW5nZWQuZ2V0VGlsZURhdGEpO2lmKGkpe3ZhciBhPWUubWF4Wm9vbSxvPWUubWluWm9vbSxzPWUudGlsZVNpemUsdT1lLm1heENhY2hlU2l6ZSxjPWUubWF4Q2FjaGVCeXRlU2l6ZSxsPWUucmVmaW5lbWVudFN0cmF0ZWd5O3I9bmV3IHJ0KHtnZXRUaWxlRGF0YTp0aGlzLmdldFRpbGVEYXRhLmJpbmQodGhpcyksbWF4Q2FjaGVTaXplOnUsbWF4Q2FjaGVCeXRlU2l6ZTpjLG1heFpvb206YSxtaW5ab29tOm8sdGlsZVNpemU6cyxyZWZpbmVtZW50U3RyYXRlZ3k6bCxvblRpbGVMb2FkOnRoaXMuX29uVGlsZUxvYWQuYmluZCh0aGlzKSxvblRpbGVFcnJvcjp0aGlzLl9vblRpbGVFcnJvci5iaW5kKHRoaXMpfSksdGhpcy5zZXRTdGF0ZSh7dGlsZXNldDpyfSl9ZWxzZSBuLnByb3BzQ2hhbmdlZCYmKHIuc2V0T3B0aW9ucyhlKSx0aGlzLnN0YXRlLnRpbGVzZXQudGlsZXMuZm9yRWFjaCgoZnVuY3Rpb24odCl7dC5sYXllcnM9bnVsbH0pKSk7KGl8fG4udmlld3BvcnRDaGFuZ2VkKSYmdGhpcy5fdXBkYXRlVGlsZXNldCgpfX0se2tleToiX3VwZGF0ZVRpbGVzZXQiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5zdGF0ZS50aWxlc2V0LGU9dGhpcy5wcm9wcyxuPWUub25WaWV3cG9ydExvYWQscj1lLnpSYW5nZSxpPXQudXBkYXRlKHRoaXMuY29udGV4dC52aWV3cG9ydCx7elJhbmdlOnJ9KSxhPXQuaXNMb2FkZWQsbz10aGlzLnN0YXRlLmlzTG9hZGVkIT09YSxzPXRoaXMuc3RhdGUuZnJhbWVOdW1iZXIhPT1pO2EmJm4mJihvfHxzKSYmbih0LnNlbGVjdGVkVGlsZXMubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gdC5kYXRhfSkpKSxzJiZ0aGlzLnNldFN0YXRlKHtmcmFtZU51bWJlcjppfSksdGhpcy5zdGF0ZS5pc0xvYWRlZD1hfX0se2tleToiX29uVGlsZUxvYWQiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuZ2V0Q3VycmVudExheWVyKCk7ZS5wcm9wcy5vblRpbGVMb2FkKHQpLGUuX3VwZGF0ZVRpbGVzZXQoKX19LHtrZXk6Il9vblRpbGVFcnJvciIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5nZXRDdXJyZW50TGF5ZXIoKTtlLnByb3BzLm9uVGlsZUVycm9yKHQpLGUuX3VwZGF0ZVRpbGVzZXQoKX19LHtrZXk6ImdldFRpbGVEYXRhIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLnByb3BzLG49ZS5nZXRUaWxlRGF0YSxyPWUuZmV0Y2gsaT1lLmRhdGE7cmV0dXJuIHQudXJsPVgoaSx0KSxuP24odCk6dC51cmw/cih0LnVybCx7bGF5ZXI6dGhpc30pOm51bGx9fSx7a2V5OiJyZW5kZXJTdWJMYXllcnMiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnByb3BzLnJlbmRlclN1YkxheWVycyh0KX19LHtrZXk6ImdldFBpY2tpbmdJbmZvIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10LmluZm8sbj10LnNvdXJjZUxheWVyO3JldHVybiBlLnNvdXJjZUxheWVyPW4sZS50aWxlPW4ucHJvcHMudGlsZSxlfX0se2tleToicmVuZGVyTGF5ZXJzIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMsZT10aGlzLnByb3BzLnZpc2libGU7cmV0dXJuIHRoaXMuc3RhdGUudGlsZXNldC50aWxlcy5tYXAoKGZ1bmN0aW9uKG4pe3ZhciByPWUmJm4uaXNWaXNpYmxlO2lmKG4ubGF5ZXJzKW4ubGF5ZXJzWzBdJiZuLmxheWVyc1swXS5wcm9wcy52aXNpYmxlIT09ciYmKG4ubGF5ZXJzPW4ubGF5ZXJzLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIHQuY2xvbmUoe3Zpc2libGU6cn0pfSkpKTtlbHNle3ZhciBpPXQucmVuZGVyU3ViTGF5ZXJzKE9iamVjdC5hc3NpZ24oe30sdC5wcm9wcyx7aWQ6IiIuY29uY2F0KHQuaWQsIi0iKS5jb25jYXQobi54LCItIikuY29uY2F0KG4ueSwiLSIpLmNvbmNhdChuLnopLGRhdGE6bi5kYXRhLHZpc2libGU6cixfb2Zmc2V0OjAsdGlsZTpufSkpO24ubGF5ZXJzPU9iamVjdCh6LmIpKGksQm9vbGVhbil9cmV0dXJuIG4ubGF5ZXJzfSkpfX0se2tleToiaXNMb2FkZWQiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnN0YXRlLnRpbGVzZXQuc2VsZWN0ZWRUaWxlcy5ldmVyeSgoZnVuY3Rpb24odCl7cmV0dXJuIHQubGF5ZXJzJiZ0LmxheWVycy5ldmVyeSgoZnVuY3Rpb24odCl7cmV0dXJuIHQuaXNMb2FkZWR9KSl9KSl9fV0pLGV9KHcuYSk7dXQubGF5ZXJOYW1lPSJUaWxlTGF5ZXIiLHV0LmRlZmF1bHRQcm9wcz1zdDt2YXIgY3Q9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3JldHVybiB1KCkodGhpcyxlKSxmKCkodGhpcyx2KCkoZSkuYXBwbHkodGhpcyxhcmd1bWVudHMpKX1yZXR1cm4gbSgpKGUsdCksbCgpKGUsW3trZXk6ImdldFNoYWRlcnMiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9ZygpKHYoKShlLnByb3RvdHlwZSksImdldFNoYWRlcnMiLHRoaXMpLmNhbGwodGhpcyk7cmV0dXJuIHQuaW5qZWN0PXsidnM6I2RlY2wiOiJ1bmlmb3JtIGZsb2F0IHRyYWlsTGVuZ3RoO1xuYXR0cmlidXRlIGZsb2F0IGluc3RhbmNlVGltZXN0YW1wcztcbmF0dHJpYnV0ZSBmbG9hdCBpbnN0YW5jZU5leHRUaW1lc3RhbXBzO1xudmFyeWluZyBmbG9hdCB2VGltZTtcbiIsInZzOiNtYWluLWVuZCI6InZUaW1lID0gaW5zdGFuY2VUaW1lc3RhbXBzICsgKGluc3RhbmNlTmV4dFRpbWVzdGFtcHMgLSBpbnN0YW5jZVRpbWVzdGFtcHMpICogdlBhdGhQb3NpdGlvbi55IC8gdlBhdGhMZW5ndGg7XG4iLCJmczojZGVjbCI6InVuaWZvcm0gZmxvYXQgdHJhaWxMZW5ndGg7XG51bmlmb3JtIGZsb2F0IGN1cnJlbnRUaW1lO1xudmFyeWluZyBmbG9hdCB2VGltZTtcbiIsImZzOiNtYWluLXN0YXJ0IjoiaWYodlRpbWUgPiBjdXJyZW50VGltZSB8fCB2VGltZSA8IGN1cnJlbnRUaW1lIC0gdHJhaWxMZW5ndGgpIHtcbiAgZGlzY2FyZDtcbn1cbiIsImZzOkRFQ0tHTF9GSUxURVJfQ09MT1IiOiJjb2xvci5hICo9IDEuMCAtIChjdXJyZW50VGltZSAtIHZUaW1lKSAvIHRyYWlsTGVuZ3RoOyJ9LHR9fSx7a2V5OiJpbml0aWFsaXplU3RhdGUiLHZhbHVlOmZ1bmN0aW9uKHQpe2coKSh2KCkoZS5wcm90b3R5cGUpLCJpbml0aWFsaXplU3RhdGUiLHRoaXMpLmNhbGwodGhpcyx0KSx0aGlzLmdldEF0dHJpYnV0ZU1hbmFnZXIoKS5hZGRJbnN0YW5jZWQoe3RpbWVzdGFtcHM6e3NpemU6MSxhY2Nlc3NvcjoiZ2V0VGltZXN0YW1wcyIsc2hhZGVyQXR0cmlidXRlczp7aW5zdGFuY2VUaW1lc3RhbXBzOnt2ZXJ0ZXhPZmZzZXQ6MH0saW5zdGFuY2VOZXh0VGltZXN0YW1wczp7dmVydGV4T2Zmc2V0OjF9fX19KX19LHtrZXk6ImRyYXciLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBuPXRoaXMucHJvcHMscj1uLnRyYWlsTGVuZ3RoLGk9bi5jdXJyZW50VGltZTt0LnVuaWZvcm1zPU9iamVjdC5hc3NpZ24oe30sdC51bmlmb3Jtcyx7dHJhaWxMZW5ndGg6cixjdXJyZW50VGltZTppfSksZygpKHYoKShlLnByb3RvdHlwZSksImRyYXciLHRoaXMpLmNhbGwodGhpcyx0KX19XSksZX0obigxMTApLmEpO2N0LmxheWVyTmFtZT0iVHJpcHNMYXllciIsY3QuZGVmYXVsdFByb3BzPXt0cmFpbExlbmd0aDp7dHlwZToibnVtYmVyIix2YWx1ZToxMjAsbWluOjB9LGN1cnJlbnRUaW1lOnt0eXBlOiJudW1iZXIiLHZhbHVlOjAsbWluOjB9LGdldFRpbWVzdGFtcHM6e3R5cGU6ImFjY2Vzc29yIix2YWx1ZTpudWxsfX07dmFyIGx0PW4oNjkpLGh0PW4oNjQpLGZ0PU9iamVjdC5hc3NpZ24oe2dldEhleGFnb25zOnt0eXBlOiJhY2Nlc3NvciIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHQuaGV4YWdvbnN9fX0say5hLmRlZmF1bHRQcm9wcyksZHQ9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3JldHVybiB1KCkodGhpcyxlKSxmKCkodGhpcyx2KCkoZSkuYXBwbHkodGhpcyxhcmd1bWVudHMpKX1yZXR1cm4gbSgpKGUsdCksbCgpKGUsW3trZXk6InVwZGF0ZVN0YXRlIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10LnByb3BzLG49KHQub2xkUHJvcHMsdC5jaGFuZ2VGbGFncyk7aWYobi5kYXRhQ2hhbmdlZHx8bi51cGRhdGVUcmlnZ2VycyYmbi51cGRhdGVUcmlnZ2Vycy5nZXRIZXhhZ29ucyl7dmFyIHI9ZS5kYXRhLGk9ZS5nZXRIZXhhZ29ucyxhPVtdLG89T2JqZWN0KGh0LmEpKHIpLHM9by5pdGVyYWJsZSx1PW8ub2JqZWN0SW5mbyxjPSEwLGw9ITEsaD12b2lkIDA7dHJ5e2Zvcih2YXIgZixkPXNbU3ltYm9sLml0ZXJhdG9yXSgpOyEoYz0oZj1kLm5leHQoKSkuZG9uZSk7Yz0hMCl7dmFyIHY9Zi52YWx1ZTt1LmluZGV4Kys7dmFyIHA9aSh2LHUpLGc9T2JqZWN0KGx0LmgzU2V0VG9NdWx0aVBvbHlnb24pKHAsITApLHk9ITAsbT0hMSxiPXZvaWQgMDt0cnl7Zm9yKHZhciBfLE89Z1tTeW1ib2wuaXRlcmF0b3JdKCk7ISh5PShfPU8ubmV4dCgpKS5kb25lKTt5PSEwKXt2YXIgeD1fLnZhbHVlO2EucHVzaCh0aGlzLmdldFN1YkxheWVyUm93KHtwb2x5Z29uOnh9LHYsdS5pbmRleCkpfX1jYXRjaCh0KXttPSEwLGI9dH1maW5hbGx5e3RyeXt5fHxudWxsPT1PLnJldHVybnx8Ty5yZXR1cm4oKX1maW5hbGx5e2lmKG0pdGhyb3cgYn19fX1jYXRjaCh0KXtsPSEwLGg9dH1maW5hbGx5e3RyeXtjfHxudWxsPT1kLnJldHVybnx8ZC5yZXR1cm4oKX1maW5hbGx5e2lmKGwpdGhyb3cgaH19dGhpcy5zZXRTdGF0ZSh7cG9seWdvbnM6YX0pfX19LHtrZXk6InJlbmRlckxheWVycyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnByb3BzLGU9dC5lbGV2YXRpb25TY2FsZSxuPXQuZXh0cnVkZWQscj10LndpcmVmcmFtZSxpPXQuZmlsbGVkLGE9dC5zdHJva2VkLG89dC5saW5lV2lkdGhTY2FsZSxzPXQubGluZVdpZHRoTWluUGl4ZWxzLHU9dC5saW5lV2lkdGhNYXhQaXhlbHMsYz10LmxpbmVKb2ludFJvdW5kZWQsbD10LmxpbmVNaXRlckxpbWl0LGg9dC5saW5lRGFzaEp1c3RpZmllZCxmPXQubWF0ZXJpYWwsZD10LmdldEZpbGxDb2xvcix2PXQuZ2V0TGluZUNvbG9yLHA9dC5nZXRMaW5lV2lkdGgsZz10LmdldExpbmVEYXNoQXJyYXkseT10LmdldEVsZXZhdGlvbixtPXQudXBkYXRlVHJpZ2dlcnM7cmV0dXJuIG5ldyh0aGlzLmdldFN1YkxheWVyQ2xhc3MoImNsdXN0ZXItcmVnaW9uIixrLmEpKSh7ZmlsbGVkOmksd2lyZWZyYW1lOnIsZXh0cnVkZWQ6bixlbGV2YXRpb25TY2FsZTplLHN0cm9rZWQ6YSxsaW5lV2lkdGhTY2FsZTpvLGxpbmVXaWR0aE1pblBpeGVsczpzLGxpbmVXaWR0aE1heFBpeGVsczp1LGxpbmVKb2ludFJvdW5kZWQ6YyxsaW5lTWl0ZXJMaW1pdDpsLGxpbmVEYXNoSnVzdGlmaWVkOmgsbWF0ZXJpYWw6ZixnZXRGaWxsQ29sb3I6dGhpcy5nZXRTdWJMYXllckFjY2Vzc29yKGQpLGdldExpbmVDb2xvcjp0aGlzLmdldFN1YkxheWVyQWNjZXNzb3IodiksZ2V0TGluZVdpZHRoOnRoaXMuZ2V0U3ViTGF5ZXJBY2Nlc3NvcihwKSxnZXRMaW5lRGFzaEFycmF5OnRoaXMuZ2V0U3ViTGF5ZXJBY2Nlc3NvcihnKSxnZXRFbGV2YXRpb246dGhpcy5nZXRTdWJMYXllckFjY2Vzc29yKHkpfSx0aGlzLmdldFN1YkxheWVyUHJvcHMoe2lkOiJjbHVzdGVyLXJlZ2lvbiIsdXBkYXRlVHJpZ2dlcnM6bX0pLHtkYXRhOnRoaXMuc3RhdGUucG9seWdvbnMsZ2V0UG9seWdvbjpmdW5jdGlvbih0KXtyZXR1cm4gdC5wb2x5Z29ufX0pfX1dKSxlfSh3LmEpO2R0LmRlZmF1bHRQcm9wcz1mdCxkdC5sYXllck5hbWU9IkgzQ2x1c3RlckxheWVyIjt2YXIgdnQ9big0MSkscHQ9bi5uKHZ0KSxndD1uKDgpLHl0PW4oMTU5KTtmdW5jdGlvbiBtdCh0LGUpe2U9dm9pZCAwPT09ZT90WzBdWzBdOmU7dmFyIG49ITAscj0hMSxpPXZvaWQgMDt0cnl7Zm9yKHZhciBhLG89dFtTeW1ib2wuaXRlcmF0b3JdKCk7IShuPShhPW8ubmV4dCgpKS5kb25lKTtuPSEwKXt2YXIgcz1hLnZhbHVlLHU9c1swXS1lO3U+MTgwP3NbMF0tPTM2MDp1PC0xODAmJihzWzBdKz0zNjApfX1jYXRjaCh0KXtyPSEwLGk9dH1maW5hbGx5e3RyeXtufHxudWxsPT1vLnJldHVybnx8by5yZXR1cm4oKX1maW5hbGx5e2lmKHIpdGhyb3cgaX19fWZ1bmN0aW9uIGJ0KHQsZSxuKXt2YXIgcj1PYmplY3QobHQuaDNUb0dlbykodCksaT1QKCkociwyKSxhPWlbMF0sbz1pWzFdLHM9ZS5sZW5ndGg7bXQoZSxvKTtmb3IodmFyIHU9ZVswXT09PWVbcy0xXT9zLTE6cyxjPTA7Yzx1O2MrKyllW2NdWzBdPU9iamVjdChndC5sKShvLGVbY11bMF0sbiksZVtjXVsxXT1PYmplY3QoZ3QubCkoYSxlW2NdWzFdLG4pfWZ1bmN0aW9uIF90KHQsZSxuKXt2YXIgcj10KGUsbiksaT1PYmplY3QobHQuaDNUb0dlbykociksYT1QKCkoaSwyKSxvPWFbMF07cmV0dXJuW2FbMV0sb119ZnVuY3Rpb24gT3QodCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOjEsbj1hcmd1bWVudHMubGVuZ3RoPjI/YXJndW1lbnRzWzJdOnZvaWQgMCxyPU9iamVjdChsdC5oM1RvR2VvQm91bmRhcnkpKHQsITApO2lmKDEhPT1lP2J0KHQscixlKTptdChyKSxuKXt2YXIgaT1uZXcgRmxvYXQ2NEFycmF5KDIqci5sZW5ndGgpLGE9MCxvPSEwLHM9ITEsdT12b2lkIDA7dHJ5e2Zvcih2YXIgYyxsPXJbU3ltYm9sLml0ZXJhdG9yXSgpOyEobz0oYz1sLm5leHQoKSkuZG9uZSk7bz0hMCl7dmFyIGg9Yy52YWx1ZTtpW2ErK109aFswXSxpW2ErK109aFsxXX19Y2F0Y2godCl7cz0hMCx1PXR9ZmluYWxseXt0cnl7b3x8bnVsbD09bC5yZXR1cm58fGwucmV0dXJuKCl9ZmluYWxseXtpZihzKXRocm93IHV9fXJldHVybiBpfXJldHVybiByfXZhciB4dD1PYmplY3QuYXNzaWduKHt9LGsuYS5kZWZhdWx0UHJvcHMse2hpZ2hQcmVjaXNpb246ITEsY292ZXJhZ2U6e3R5cGU6Im51bWJlciIsbWluOjAsbWF4OjEsdmFsdWU6MX0sY2VudGVySGV4YWdvbjpudWxsLGdldEhleGFnb246e3R5cGU6ImFjY2Vzc29yIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdC5oZXhhZ29ufX0sZXh0cnVkZWQ6ITB9KTtkZWxldGUgeHQuZ2V0TGluZURhc2hBcnJheTt2YXIgd3Q9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3JldHVybiB1KCkodGhpcyxlKSxmKCkodGhpcyx2KCkoZSkuYXBwbHkodGhpcyxhcmd1bWVudHMpKX1yZXR1cm4gbSgpKGUsdCksbCgpKGUsW3trZXk6InNob3VsZFVwZGF0ZVN0YXRlIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10LmNoYW5nZUZsYWdzO3JldHVybiB0aGlzLl9zaG91bGRVc2VIaWdoUHJlY2lzaW9uKCk/ZS5wcm9wc09yRGF0YUNoYW5nZWQ6ZS5zb21ldGhpbmdDaGFuZ2VkfX0se2tleToidXBkYXRlU3RhdGUiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXQucHJvcHMsbj0odC5vbGRQcm9wcyx0LmNoYW5nZUZsYWdzKTtpZihuLmRhdGFDaGFuZ2VkfHxuLnVwZGF0ZVRyaWdnZXJzJiZuLnVwZGF0ZVRyaWdnZXJzLmdldEhleGFnb24pe3ZhciByPS0xLGk9ITEsYT0hMSxvPU9iamVjdChodC5hKShlLmRhdGEpLHM9by5pdGVyYWJsZSx1PW8ub2JqZWN0SW5mbyxjPSEwLGw9ITEsaD12b2lkIDA7dHJ5e2Zvcih2YXIgZixkPXNbU3ltYm9sLml0ZXJhdG9yXSgpOyEoYz0oZj1kLm5leHQoKSkuZG9uZSk7Yz0hMCl7dmFyIHY9Zi52YWx1ZTt1LmluZGV4Kys7dmFyIHA9ZS5nZXRIZXhhZ29uKHYsdSksZz1PYmplY3QobHQuaDNHZXRSZXNvbHV0aW9uKShwKTtpZihyPDApcj1nO2Vsc2UgaWYociE9PWcpe2E9ITA7YnJlYWt9aWYoT2JqZWN0KGx0LmgzSXNQZW50YWdvbikocCkpe2k9ITA7YnJlYWt9fX1jYXRjaCh0KXtsPSEwLGg9dH1maW5hbGx5e3RyeXtjfHxudWxsPT1kLnJldHVybnx8ZC5yZXR1cm4oKX1maW5hbGx5e2lmKGwpdGhyb3cgaH19dGhpcy5zZXRTdGF0ZSh7cmVzb2x1dGlvbjpyLGVkZ2VMZW5ndGhLTTpyPj0wP09iamVjdChsdC5lZGdlTGVuZ3RoKShyLGx0LlVOSVRTLmttKTowLGhhc011bHRpcGxlUmVzOmEsaGFzUGVudGFnb246aX0pfXRoaXMuX3VwZGF0ZVZlcnRpY2VzKHRoaXMuY29udGV4dC52aWV3cG9ydCl9fSx7a2V5OiJfc2hvdWxkVXNlSGlnaFByZWNpc2lvbiIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnN0YXRlLGU9dC5yZXNvbHV0aW9uLG49dC5oYXNQZW50YWdvbixyPXQuaGFzTXVsdGlwbGVSZXM7cmV0dXJuIHRoaXMucHJvcHMuaGlnaFByZWNpc2lvbnx8cnx8bnx8ZT49MCYmZTw9NX19LHtrZXk6Il91cGRhdGVWZXJ0aWNlcyIsdmFsdWU6ZnVuY3Rpb24odCl7aWYoIXRoaXMuX3Nob3VsZFVzZUhpZ2hQcmVjaXNpb24oKSl7dmFyIGU9dGhpcy5zdGF0ZSxuPWUucmVzb2x1dGlvbixyPWUuZWRnZUxlbmd0aEtNLGk9ZS5jZW50ZXJIZXg7aWYoIShuPDApKXt2YXIgYT10aGlzLnByb3BzLmNlbnRlckhleGFnb258fE9iamVjdChsdC5nZW9Ub0gzKSh0LmxhdGl0dWRlLHQubG9uZ2l0dWRlLG4pO2lmKGkhPT1hKXtpZihpKXt2YXIgbz1PYmplY3QobHQuaDNEaXN0YW5jZSkoaSxhKTtpZihvPj0wJiZvKnI8MTApcmV0dXJufXZhciBzPXQuZGlzdGFuY2VTY2FsZXMudW5pdHNQZXJNZXRlcix1PU90KGEpLGM9T2JqZWN0KGx0LmgzVG9HZW8pKGEpLGw9UCgpKGMsMiksaD1sWzBdLGY9bFsxXSxkPXQucHJvamVjdEZsYXQoW2YsaF0pLHY9UCgpKGQsMikscD12WzBdLGc9dlsxXTt1PXUubWFwKChmdW5jdGlvbihlKXt2YXIgbj10LnByb2plY3RGbGF0KGUpO3JldHVybiBuWzBdPShuWzBdLXApL3NbMF0sblsxXT0oblsxXS1nKS9zWzFdLG59KSksdGhpcy5zZXRTdGF0ZSh7Y2VudGVySGV4OmEsdmVydGljZXM6dX0pfX19fX0se2tleToicmVuZGVyTGF5ZXJzIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zaG91bGRVc2VIaWdoUHJlY2lzaW9uKCk/dGhpcy5fcmVuZGVyUG9seWdvbkxheWVyKCk6dGhpcy5fcmVuZGVyQ29sdW1uTGF5ZXIoKX19LHtrZXk6Il9nZXRGb3J3YXJkUHJvcHMiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5wcm9wcyxlPXQuZWxldmF0aW9uU2NhbGUsbj10Lm1hdGVyaWFsLHI9dC5jb3ZlcmFnZSxpPXQuZXh0cnVkZWQsYT10LndpcmVmcmFtZSxvPXQuc3Ryb2tlZCxzPXQuZmlsbGVkLHU9dC5saW5lV2lkdGhVbml0cyxjPXQubGluZVdpZHRoU2NhbGUsbD10LmxpbmVXaWR0aE1pblBpeGVscyxoPXQubGluZVdpZHRoTWF4UGl4ZWxzLGY9dC5nZXRGaWxsQ29sb3IsZD10LmdldEVsZXZhdGlvbix2PXQuZ2V0TGluZUNvbG9yLHA9dC5nZXRMaW5lV2lkdGgsZz10LnVwZGF0ZVRyaWdnZXJzO3JldHVybntlbGV2YXRpb25TY2FsZTplLGV4dHJ1ZGVkOmksY292ZXJhZ2U6cix3aXJlZnJhbWU6YSxzdHJva2VkOm8sZmlsbGVkOnMsbGluZVdpZHRoVW5pdHM6dSxsaW5lV2lkdGhTY2FsZTpjLGxpbmVXaWR0aE1pblBpeGVsczpsLGxpbmVXaWR0aE1heFBpeGVsczpoLG1hdGVyaWFsOm4sZ2V0RWxldmF0aW9uOmQsZ2V0RmlsbENvbG9yOmYsZ2V0TGluZUNvbG9yOnYsZ2V0TGluZVdpZHRoOnAsdXBkYXRlVHJpZ2dlcnM6e2dldEZpbGxDb2xvcjpnLmdldEZpbGxDb2xvcixnZXRFbGV2YXRpb246Zy5nZXRFbGV2YXRpb24sZ2V0TGluZUNvbG9yOmcuZ2V0TGluZUNvbG9yLGdldExpbmVXaWR0aDpnLmdldExpbmVXaWR0aH19fX0se2tleToiX3JlbmRlclBvbHlnb25MYXllciIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnByb3BzLGU9dC5kYXRhLG49dC5nZXRIZXhhZ29uLHI9dC51cGRhdGVUcmlnZ2VycyxpPXQuY292ZXJhZ2UsYT10aGlzLmdldFN1YkxheWVyQ2xhc3MoImhleGFnb24tY2VsbC1oaWZpIixrLmEpLG89dGhpcy5fZ2V0Rm9yd2FyZFByb3BzKCk7cmV0dXJuIG8udXBkYXRlVHJpZ2dlcnMuZ2V0UG9seWdvbj1mdW5jdGlvbih0LGUpe3JldHVybiBudWxsPT10P2U6Im9iamVjdCI9PT1wdCgpKHQpP09iamVjdC5hc3NpZ24oe30sdCx7Y292ZXJhZ2U6ZX0pOntnZXRIZXhhZ29uOnQsY292ZXJhZ2U6ZX19KHIuZ2V0SGV4YWdvbixpKSxuZXcgYShvLHRoaXMuZ2V0U3ViTGF5ZXJQcm9wcyh7aWQ6ImhleGFnb24tY2VsbC1oaWZpIix1cGRhdGVUcmlnZ2VyczpvLnVwZGF0ZVRyaWdnZXJzfSkse2RhdGE6ZSxfbm9ybWFsaXplOiExLHBvc2l0aW9uRm9ybWF0OiJYWSIsZ2V0UG9seWdvbjpmdW5jdGlvbih0LGUpe3JldHVybiBPdChuKHQsZSksaSwhMCl9fSl9fSx7a2V5OiJfcmVuZGVyQ29sdW1uTGF5ZXIiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5wcm9wcyxlPXQuZGF0YSxuPXQuZ2V0SGV4YWdvbixyPXQudXBkYXRlVHJpZ2dlcnMsaT10aGlzLmdldFN1YkxheWVyQ2xhc3MoImhleGFnb24tY2VsbCIseXQuYSksYT10aGlzLl9nZXRGb3J3YXJkUHJvcHMoKTtyZXR1cm4gYS51cGRhdGVUcmlnZ2Vycy5nZXRQb3NpdGlvbj1yLmdldEhleGFnb24sbmV3IGkoYSx0aGlzLmdldFN1YkxheWVyUHJvcHMoe2lkOiJoZXhhZ29uLWNlbGwiLHVwZGF0ZVRyaWdnZXJzOmEudXBkYXRlVHJpZ2dlcnN9KSx7ZGF0YTplLGRpc2tSZXNvbHV0aW9uOjYscmFkaXVzOjEsdmVydGljZXM6dGhpcy5zdGF0ZS52ZXJ0aWNlcyxnZXRQb3NpdGlvbjpfdC5iaW5kKG51bGwsbil9KX19XSksZX0ody5hKTt3dC5kZWZhdWx0UHJvcHM9eHQsd3QubGF5ZXJOYW1lPSJIM0hleGFnb25MYXllciI7dmFyIGt0PW4oNSksU3Q9bi5uKGt0KSxQdD1uKDQpLGp0PW4ubihQdCksVHQ9bigxMTIpLEV0PW4ubihUdCksQXQ9bigxNDgpLE10PW4oNzEpLEN0PW4oMjIpLEx0PW4oMjE2KSxJdD1uKDIxMyksUnQ9bigyMTcpLE50PW4oMTk5KSxEdD1uKDEzKSxGdD1uKDApLHp0PW4oNiksQnQ9big3KSxVdD1uKDE5OCksVnQ9bigzMSksR3Q9bigzNiksV3Q9KE1hdGgubWF4KDYzNzgxMzcsNjM3ODEzNyw2MzU2NzUyLjMxNDI0NTE3OSksZnVuY3Rpb24odCl7cmV0dXJuIHR9KSxIdD1uZXcgZ3QuZDtmdW5jdGlvbiBxdCh0LGUpe3ZhciBuPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTpXdDtyZXR1cm4gT2JqZWN0KGd0LmspKHQpPyhlWzBdPW4odFswXSksZVsxXT1uKHRbMV0pLGVbMl09dFsyXSk6ImxvbmdpdHVkZSJpbiB0PyhlWzBdPW4odC5sb25naXR1ZGUpLGVbMV09bih0LmxhdGl0dWRlKSxlWzJdPXQuaGVpZ2h0KTooZVswXT1uKHQueCksZVsxXT1uKHQueSksZVsyXT10LnopLGV9ZnVuY3Rpb24gWHQodCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOkh0O3JldHVybiBxdCh0LGUsZ3QuaS5jYXJ0b2dyYXBoaWNSYWRpYW5zP1d0Omd0Lm4pfWZ1bmN0aW9uIFp0KHQsZSl7dmFyIG49YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOld0O3JldHVybiBPYmplY3QoZ3QuaykoZSk/KGVbMF09bih0WzBdKSxlWzFdPW4odFsxXSksZVsyXT10WzJdKToibG9uZ2l0dWRlImluIGU/KGUubG9uZ2l0dWRlPW4odFswXSksZS5sYXRpdHVkZT1uKHRbMV0pLGUuaGVpZ2h0PXRbMl0pOihlLng9bih0WzBdKSxlLnk9bih0WzFdKSxlLno9dFsyXSksZX1mdW5jdGlvbiBZdCh0LGUpe3JldHVybiBadCh0LGUsZ3QuaS5jYXJ0b2dyYXBoaWNSYWRpYW5zP1d0Omd0Lm0pfXZhciBLdD1uZXcgZ3QuZCxRdD1uZXcgZ3QuZCxKdD1uZXcgZ3QuZDt2YXIgJHQ9bmV3IGd0LmQsdGU9e3VwOntzb3V0aDoiZWFzdCIsbm9ydGg6Indlc3QiLHdlc3Q6InNvdXRoIixlYXN0OiJub3J0aCJ9LGRvd246e3NvdXRoOiJ3ZXN0Iixub3J0aDoiZWFzdCIsd2VzdDoibm9ydGgiLGVhc3Q6InNvdXRoIn0sc291dGg6e3VwOiJ3ZXN0Iixkb3duOiJlYXN0Iix3ZXN0OiJkb3duIixlYXN0OiJ1cCJ9LG5vcnRoOnt1cDoiZWFzdCIsZG93bjoid2VzdCIsd2VzdDoidXAiLGVhc3Q6ImRvd24ifSx3ZXN0Ont1cDoibm9ydGgiLGRvd246InNvdXRoIixub3J0aDoiZG93biIsc291dGg6InVwIn0sZWFzdDp7dXA6InNvdXRoIixkb3duOiJub3J0aCIsbm9ydGg6InVwIixzb3V0aDoiZG93biJ9fSxlZT17bm9ydGg6Wy0xLDAsMF0sZWFzdDpbMCwxLDBdLHVwOlswLDAsMV0sc291dGg6WzEsMCwwXSx3ZXN0OlswLC0xLDBdLGRvd246WzAsMCwtMV19LG5lPXtlYXN0Om5ldyBndC5kLG5vcnRoOm5ldyBndC5kLHVwOm5ldyBndC5kLHdlc3Q6bmV3IGd0LmQsc291dGg6bmV3IGd0LmQsZG93bjpuZXcgZ3QuZH0scmU9bmV3IGd0LmQsaWU9bmV3IGd0LmQsYWU9bmV3IGd0LmQ7ZnVuY3Rpb24gb2UodCxlLG4scixpLGEpe3ZhciBvLHMsdSxjPXRlW2VdJiZ0ZVtlXVtuXTtPYmplY3QoZ3QuZykoYyYmKCFyfHxyPT09YykpO3ZhciBsPSR0LmNvcHkoaSk7aWYoT2JqZWN0KGd0LmopKGwueCwwLDFlLTE0KSYmT2JqZWN0KGd0LmopKGwueSwwLDFlLTE0KSl7dmFyIGg9TWF0aC5zaWduKGwueik7bz1yZS5mcm9tQXJyYXkoZWVbZV0pLCJlYXN0IiE9PWUmJiJ3ZXN0IiE9PWUmJm8uc2NhbGUoaCkscz1pZS5mcm9tQXJyYXkoZWVbbl0pLCJlYXN0IiE9PW4mJiJ3ZXN0IiE9PW4mJnMuc2NhbGUoaCksdT1hZS5mcm9tQXJyYXkoZWVbcl0pLCJlYXN0IiE9PXImJiJ3ZXN0IiE9PXImJnUuc2NhbGUoaCl9ZWxzZXt2YXIgZj1uZS51cCxkPW5lLmVhc3Qsdj1uZS5ub3J0aDtkLnNldCgtbC55LGwueCwwKS5ub3JtYWxpemUoKSx0Lmdlb2RldGljU3VyZmFjZU5vcm1hbChsLGYpLHYuY29weShmKS5jcm9zcyhkKTt2YXIgcD1uZS53ZXN0LGc9bmUuc291dGg7bmUuZG93bi5jb3B5KGYpLnNjYWxlKC0xKSxwLmNvcHkoZCkuc2NhbGUoLTEpLGcuY29weSh2KS5zY2FsZSgtMSksbz1uZVtlXSxzPW5lW25dLHU9bmVbcl19cmV0dXJuIGFbMF09by54LGFbMV09by55LGFbMl09by56LGFbM109MCxhWzRdPXMueCxhWzVdPXMueSxhWzZdPXMueixhWzddPTAsYVs4XT11LngsYVs5XT11LnksYVsxMF09dS56LGFbMTFdPTAsYVsxMl09bC54LGFbMTNdPWwueSxhWzE0XT1sLnosYVsxNV09MSxhfXZhciBzZSx1ZT1uZXcgZ3QuZCxjZT1uZXcgZ3QuZCxsZT1uZXcgZ3QuZCxoZT1uZXcgZ3QuZCxmZT1uZXcgZ3QuZCxkZT1uZXcgZ3QuZCx2ZT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06MCxuPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTowLHI9YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOjA7T2JqZWN0KHp0LmEpKHRoaXMsdCksT2JqZWN0KGd0LmcpKGU+PTApLE9iamVjdChndC5nKShuPj0wKSxPYmplY3QoZ3QuZykocj49MCksdGhpcy5yYWRpaT1uZXcgZ3QuZChlLG4sciksdGhpcy5yYWRpaVNxdWFyZWQ9bmV3IGd0LmQoZSplLG4qbixyKnIpLHRoaXMucmFkaWlUb1RoZUZvdXJ0aD1uZXcgZ3QuZChlKmUqZSplLG4qbipuKm4scipyKnIqciksdGhpcy5vbmVPdmVyUmFkaWk9bmV3IGd0LmQoMD09PWU/MDoxL2UsMD09PW4/MDoxL24sMD09PXI/MDoxL3IpLHRoaXMub25lT3ZlclJhZGlpU3F1YXJlZD1uZXcgZ3QuZCgwPT09ZT8wOjEvKGUqZSksMD09PW4/MDoxLyhuKm4pLDA9PT1yPzA6MS8ocipyKSksdGhpcy5taW5pbXVtUmFkaXVzPU1hdGgubWluKGUsbixyKSx0aGlzLm1heGltdW1SYWRpdXM9TWF0aC5tYXgoZSxuLHIpLHRoaXMuY2VudGVyVG9sZXJhbmNlU3F1YXJlZD1ndC5lLkVQU0lMT04xLDAhPT10aGlzLnJhZGlpU3F1YXJlZC56JiYodGhpcy5zcXVhcmVkWE92ZXJTcXVhcmVkWj10aGlzLnJhZGlpU3F1YXJlZC54L3RoaXMucmFkaWlTcXVhcmVkLnopLE9iamVjdC5mcmVlemUodGhpcyl9cmV0dXJuIE9iamVjdChCdC5hKSh0LG51bGwsW3trZXk6IldHUzg0IixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gc2U9c2V8fG5ldyB0KDYzNzgxMzcsNjM3ODEzNyw2MzU2NzUyLjMxNDI0NTE3OSl9fV0pLE9iamVjdChCdC5hKSh0LFt7a2V5OiJlcXVhbHMiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzPT09dHx8Qm9vbGVhbih0JiZ0aGlzLnJhZGlpLmVxdWFscyh0LnJhZGlpKSl9fSx7a2V5OiJ0b1N0cmluZyIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5yYWRpaS50b1N0cmluZygpfX0se2tleToiY2FydG9ncmFwaGljVG9DYXJ0ZXNpYW4iLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTpbMCwwLDBdLG49Y2Uscj1sZSxpPU9iamVjdChWdC5hKSh0LDMpLGE9aVsyXTt0aGlzLmdlb2RldGljU3VyZmFjZU5vcm1hbENhcnRvZ3JhcGhpYyh0LG4pLHIuY29weSh0aGlzLnJhZGlpU3F1YXJlZCkuc2NhbGUobik7dmFyIG89TWF0aC5zcXJ0KG4uZG90KHIpKTtyZXR1cm4gci5zY2FsZSgxL28pLG4uc2NhbGUoYSksci5hZGQobiksci50byhlKX19LHtrZXk6ImNhcnRlc2lhblRvQ2FydG9ncmFwaGljIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06WzAsMCwwXTtkZS5mcm9tKHQpO3ZhciBuPXRoaXMuc2NhbGVUb0dlb2RldGljU3VyZmFjZShkZSxoZSk7aWYobil7dmFyIHI9dGhpcy5nZW9kZXRpY1N1cmZhY2VOb3JtYWwobixjZSksaT1mZTtpLmNvcHkoZGUpLnN1YnRyYWN0KG4pO3ZhciBhPU1hdGguYXRhbjIoci55LHIueCksbz1NYXRoLmFzaW4oci56KSxzPU1hdGguc2lnbihHdC5kKGksZGUpKSpHdC5nKGkpO3JldHVybiBZdChbYSxvLHNdLGUpfX19LHtrZXk6ImVhc3ROb3J0aFVwVG9GaXhlZEZyYW1lIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06bmV3IGd0LmE7cmV0dXJuIG9lKHRoaXMsImVhc3QiLCJub3J0aCIsInVwIix0LGUpfX0se2tleToibG9jYWxGcmFtZVRvRml4ZWRGcmFtZSIsdmFsdWU6ZnVuY3Rpb24odCxlLG4scil7dmFyIGk9YXJndW1lbnRzLmxlbmd0aD40JiZ2b2lkIDAhPT1hcmd1bWVudHNbNF0/YXJndW1lbnRzWzRdOm5ldyBndC5hO3JldHVybiBvZSh0aGlzLHQsZSxuLHIsaSl9fSx7a2V5OiJnZW9jZW50cmljU3VyZmFjZU5vcm1hbCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOlswLDAsMF07cmV0dXJuIHVlLmZyb20odCkubm9ybWFsaXplKCkudG8oZSl9fSx7a2V5OiJnZW9kZXRpY1N1cmZhY2VOb3JtYWxDYXJ0b2dyYXBoaWMiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTpbMCwwLDBdLG49WHQodCkscj1uWzBdLGk9blsxXSxhPU1hdGguY29zKGkpO3JldHVybiB1ZS5zZXQoYSpNYXRoLmNvcyhyKSxhKk1hdGguc2luKHIpLE1hdGguc2luKGkpKS5ub3JtYWxpemUoKSx1ZS50byhlKX19LHtrZXk6Imdlb2RldGljU3VyZmFjZU5vcm1hbCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOlswLDAsMF07cmV0dXJuIHVlLmZyb20odCkuc2NhbGUodGhpcy5vbmVPdmVyUmFkaWlTcXVhcmVkKS5ub3JtYWxpemUoKS50byhlKX19LHtrZXk6InNjYWxlVG9HZW9kZXRpY1N1cmZhY2UiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIGZ1bmN0aW9uKHQsZSl7dmFyIG49YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOm5ldyBndC5kLHI9ZS5vbmVPdmVyUmFkaWksaT1lLm9uZU92ZXJSYWRpaVNxdWFyZWQsYT1lLmNlbnRlclRvbGVyYW5jZVNxdWFyZWQ7S3QuZnJvbSh0KTt2YXIgbz10Lngscz10LnksdT10LnosYz1yLngsbD1yLnksaD1yLnosZj1vKm8qYypjLGQ9cypzKmwqbCx2PXUqdSpoKmgscD1mK2QrdixnPU1hdGguc3FydCgxL3ApO2lmKE51bWJlci5pc0Zpbml0ZShnKSl7dmFyIHk9UXQ7aWYoeS5jb3B5KHQpLnNjYWxlKGcpLHA8YSlyZXR1cm4geS50byhuKTt2YXIgbT1pLngsYj1pLnksXz1pLnosTz1KdDtPLnNldCh5LngqbSoyLHkueSpiKjIseS56Kl8qMik7dmFyIHgsdyxrLFMsUD0oMS1nKSp0LmxlbigpLyguNSpPLmxlbigpKSxqPTA7ZG97dmFyIFQ9KHg9MS8oMSsoUC09aikqbSkpKngsRT0odz0xLygxK1AqYikpKncsQT0oaz0xLygxK1AqXykpKmssTT1UKngsQz1FKncsTD1BKmssST1mKk0qbStkKkMqYit2KkwqXyxSPS0yKkk7aj0oUz1mKlQrZCpFK3YqQS0xKS9SfXdoaWxlKE1hdGguYWJzKFMpPmd0LmUuRVBTSUxPTjEyKTtyZXR1cm4gS3Quc2NhbGUoW3gsdyxrXSkudG8obil9fSh0LHRoaXMsZSl9fSx7a2V5OiJzY2FsZVRvR2VvY2VudHJpY1N1cmZhY2UiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTpbMCwwLDBdO2hlLmZyb20odCk7dmFyIG49aGUueCxyPWhlLnksaT1oZS56LGE9dGhpcy5vbmVPdmVyUmFkaWlTcXVhcmVkLG89MS9NYXRoLnNxcnQobipuKmEueCtyKnIqYS55K2kqaSphLnopO3JldHVybiBoZS5tdWx0aXBseVNjYWxhcihvKS50byhlKX19LHtrZXk6InRyYW5zZm9ybVBvc2l0aW9uVG9TY2FsZWRTcGFjZSIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOlswLDAsMF07cmV0dXJuIGhlLmZyb20odCkuc2NhbGUodGhpcy5vbmVPdmVyUmFkaWkpLnRvKGUpfX0se2tleToidHJhbnNmb3JtUG9zaXRpb25Gcm9tU2NhbGVkU3BhY2UiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTpbMCwwLDBdO3JldHVybiBoZS5mcm9tKHQpLnNjYWxlKHRoaXMucmFkaWkpLnRvKGUpfX0se2tleToiZ2V0U3VyZmFjZU5vcm1hbEludGVyc2VjdGlvbldpdGhaQXhpcyIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOjAsbj1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06WzAsMCwwXTtPYmplY3QoZ3QuZykoT2JqZWN0KGd0LmopKHRoaXMucmFkaWkueCx0aGlzLnJhZGlpLnksZ3QuZS5FUFNJTE9OMTUpKSxPYmplY3QoZ3QuZykodGhpcy5yYWRpaS56PjApLGhlLmZyb20odCk7dmFyIHI9aGUueiooMS10aGlzLnNxdWFyZWRYT3ZlclNxdWFyZWRaKTtpZighKE1hdGguYWJzKHIpPj10aGlzLnJhZGlpLnotZSkpcmV0dXJuIGhlLnNldCgwLDAscikudG8obil9fV0pLHR9KCkscGU9bigxMzEpLGdlPW4oOTYpLHllPW4oMzIpLG1lPW4oMjA5KSxiZT1mdW5jdGlvbiB0KGUsbixyKXtPYmplY3QoenQuYSkodGhpcyx0KSx0aGlzLml0ZW09ZSx0aGlzLnByZXZpb3VzPW4sdGhpcy5uZXh0PXJ9LF9lPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe09iamVjdCh6dC5hKSh0aGlzLHQpLHRoaXMuaGVhZD1udWxsLHRoaXMudGFpbD1udWxsLHRoaXMuX2xlbmd0aD0wfXJldHVybiBPYmplY3QoQnQuYSkodCxbe2tleToiYWRkIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT1uZXcgYmUodCx0aGlzLnRhaWwsbnVsbCk7cmV0dXJuIHRoaXMudGFpbD8odGhpcy50YWlsLm5leHQ9ZSx0aGlzLnRhaWw9ZSk6KHRoaXMuaGVhZD1lLHRoaXMudGFpbD1lKSwrK3RoaXMuX2xlbmd0aCxlfX0se2tleToicmVtb3ZlIix2YWx1ZTpmdW5jdGlvbih0KXt0JiYodC5wcmV2aW91cyYmdC5uZXh0Pyh0LnByZXZpb3VzLm5leHQ9dC5uZXh0LHQubmV4dC5wcmV2aW91cz10LnByZXZpb3VzKTp0LnByZXZpb3VzPyh0LnByZXZpb3VzLm5leHQ9bnVsbCx0aGlzLnRhaWw9dC5wcmV2aW91cyk6dC5uZXh0Pyh0Lm5leHQucHJldmlvdXM9bnVsbCx0aGlzLmhlYWQ9dC5uZXh0KToodGhpcy5oZWFkPW51bGwsdGhpcy50YWlsPW51bGwpLHQubmV4dD1udWxsLHQucHJldmlvdXM9bnVsbCwtLXRoaXMuX2xlbmd0aCl9fSx7a2V5OiJzcGxpY2UiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dCE9PWUmJih0aGlzLnJlbW92ZShlKSx0aGlzLl9pbnNlcnQodCxlKSl9fSx7a2V5OiJfaW5zZXJ0Iix2YWx1ZTpmdW5jdGlvbih0LGUpe3ZhciBuPXQubmV4dDt0Lm5leHQ9ZSx0aGlzLnRhaWw9PT10P3RoaXMudGFpbD1lOm4ucHJldmlvdXM9ZSxlLm5leHQ9bixlLnByZXZpb3VzPXQsKyt0aGlzLl9sZW5ndGh9fSx7a2V5OiJsZW5ndGgiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9sZW5ndGh9fV0pLHR9KCk7ZnVuY3Rpb24gT2UodCl7cmV0dXJuIG51bGwhPXR9dmFyIHhlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe09iamVjdCh6dC5hKSh0aGlzLHQpLHRoaXMuX2xpc3Q9bmV3IF9lLHRoaXMuX3NlbnRpbmVsPXRoaXMuX2xpc3QuYWRkKCJzZW50aW5lbCIpLHRoaXMuX3RyaW1UaWxlcz0hMX1yZXR1cm4gT2JqZWN0KEJ0LmEpKHQsW3trZXk6InJlc2V0Iix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuX2xpc3Quc3BsaWNlKHRoaXMuX2xpc3QudGFpbCx0aGlzLl9zZW50aW5lbCl9fSx7a2V5OiJ0b3VjaCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dC5fY2FjaGVOb2RlO09lKGUpJiZ0aGlzLl9saXN0LnNwbGljZSh0aGlzLl9zZW50aW5lbCxlKX19LHtrZXk6ImFkZCIsdmFsdWU6ZnVuY3Rpb24odCxlLG4pe09lKGUuX2NhY2hlTm9kZSl8fChlLl9jYWNoZU5vZGU9dGhpcy5fbGlzdC5hZGQoZSksbiYmbih0LGUpKX19LHtrZXk6InVubG9hZFRpbGUiLHZhbHVlOmZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1lLl9jYWNoZU5vZGU7T2UocikmJih0aGlzLl9saXN0LnJlbW92ZShyKSxlLl9jYWNoZU5vZGU9dm9pZCAwLG4mJm4odCxlKSl9fSx7a2V5OiJ1bmxvYWRUaWxlcyIsdmFsdWU6ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLl90cmltVGlsZXM7dGhpcy5fdHJpbVRpbGVzPSExO2Zvcih2YXIgcj10aGlzLl9saXN0LGk9MTAyNCp0Lm1heGltdW1NZW1vcnlVc2FnZSoxMDI0LGE9dGhpcy5fc2VudGluZWwsbz1yLmhlYWQ7byE9PWEmJih0LmdwdU1lbW9yeVVzYWdlSW5CeXRlcz5pfHxuKTspe3ZhciBzPW8uaXRlbTtvPW8ubmV4dCx0aGlzLnVubG9hZFRpbGUodCxzLGUpfX19LHtrZXk6InRyaW0iLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5fdHJpbVRpbGVzPSEwfX1dKSx0fSgpO3ZhciB3ZT1PYmplY3QuZnJlZXplKHtPVVRTSURFOi0xLElOVEVSU0VDVElORzowLElOU0lERToxfSksa2U9bigzNyksU2U9bigzMyksUGU9big2MiksamU9big1NSksVGU9big2MyksRWU9bigxMjMpO2Z1bmN0aW9uIEFlKCl7aWYoInVuZGVmaW5lZCI9PXR5cGVvZiBSZWZsZWN0fHwhUmVmbGVjdC5jb25zdHJ1Y3QpcmV0dXJuITE7aWYoUmVmbGVjdC5jb25zdHJ1Y3Quc2hhbSlyZXR1cm4hMTtpZigiZnVuY3Rpb24iPT10eXBlb2YgUHJveHkpcmV0dXJuITA7dHJ5e3JldHVybiBEYXRlLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKFJlZmxlY3QuY29uc3RydWN0KERhdGUsW10sKGZ1bmN0aW9uKCl7fSkpKSwhMH1jYXRjaCh0KXtyZXR1cm4hMX19ZnVuY3Rpb24gTWUodCxlLG4pe3JldHVybihNZT1BZSgpP1JlZmxlY3QuY29uc3RydWN0OmZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1bbnVsbF07ci5wdXNoLmFwcGx5KHIsZSk7dmFyIGk9bmV3KEZ1bmN0aW9uLmJpbmQuYXBwbHkodCxyKSk7cmV0dXJuIG4mJk9iamVjdChFZS5hKShpLG4ucHJvdG90eXBlKSxpfSkuYXBwbHkobnVsbCxhcmd1bWVudHMpfWZ1bmN0aW9uIENlKHQpe3ZhciBlPSJmdW5jdGlvbiI9PXR5cGVvZiBNYXA/bmV3IE1hcDp2b2lkIDA7cmV0dXJuKENlPWZ1bmN0aW9uKHQpe2lmKG51bGw9PT10fHwobj10LC0xPT09RnVuY3Rpb24udG9TdHJpbmcuY2FsbChuKS5pbmRleE9mKCJbbmF0aXZlIGNvZGVdIikpKXJldHVybiB0O3ZhciBuO2lmKCJmdW5jdGlvbiIhPXR5cGVvZiB0KXRocm93IG5ldyBUeXBlRXJyb3IoIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uIik7aWYodm9pZCAwIT09ZSl7aWYoZS5oYXModCkpcmV0dXJuIGUuZ2V0KHQpO2Uuc2V0KHQscil9ZnVuY3Rpb24gcigpe3JldHVybiBNZSh0LGFyZ3VtZW50cyxPYmplY3QoamUuYSkodGhpcykuY29uc3RydWN0b3IpfXJldHVybiByLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6cixlbnVtZXJhYmxlOiExLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSxPYmplY3QoRWUuYSkocix0KX0pKHQpfW4oMTM5KTtmdW5jdGlvbiBMZSh0LGUpe2lmKCF0KXRocm93IG5ldyBFcnJvcigibWF0aC5nbCBhc3NlcnRpb24gIi5jb25jYXQoZSkpfU1hdGguUEksTWF0aC5QSTt2YXIgSWU9e307ZnVuY3Rpb24gUmUodCl7cmV0dXJuIE1hdGgucm91bmQodC9JZS5FUFNJTE9OKSpJZS5FUFNJTE9OfWZ1bmN0aW9uIE5lKHQpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp7fSxuPWUucHJlY2lzaW9uLHI9dm9pZCAwPT09bj9JZS5wcmVjaXNpb258fDQ6bjtyZXR1cm4gdD1SZSh0KSwiIi5jb25jYXQocGFyc2VGbG9hdCh0LnRvUHJlY2lzaW9uKHIpKSl9ZnVuY3Rpb24gRGUodCl7cmV0dXJuIEFycmF5LmlzQXJyYXkodCl8fEFycmF5QnVmZmVyLmlzVmlldyh0KSYmdm9pZCAwIT09dC5sZW5ndGh9ZnVuY3Rpb24gRmUodCxlLG4pe3ZhciByPUllLkVQU0lMT047biYmKEllLkVQU0lMT049bik7dHJ5e2lmKHQ9PT1lKXJldHVybiEwO2lmKERlKHQpJiZEZShlKSl7aWYodC5sZW5ndGghPT1lLmxlbmd0aClyZXR1cm4hMTtmb3IodmFyIGk9MDtpPHQubGVuZ3RoOysraSlpZighRmUodFtpXSxlW2ldKSlyZXR1cm4hMTtyZXR1cm4hMH1yZXR1cm4gdCYmdC5lcXVhbHM/dC5lcXVhbHMoZSk6ZSYmZS5lcXVhbHM/ZS5lcXVhbHModCk6ISghTnVtYmVyLmlzRmluaXRlKHQpfHwhTnVtYmVyLmlzRmluaXRlKGUpKSYmTWF0aC5hYnModC1lKTw9SWUuRVBTSUxPTipNYXRoLm1heCgxLE1hdGguYWJzKHQpLE1hdGguYWJzKGUpKX1maW5hbGx5e0llLkVQU0lMT049cn19SWUuRVBTSUxPTj0xZS0xMixJZS5kZWJ1Zz0hMSxJZS5wcmVjaXNpb249NCxJZS5wcmludFR5cGVzPSExLEllLnByaW50RGVncmVlcz0hMSxJZS5wcmludFJvd01ham9yPSEwO3ZhciB6ZT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7cmV0dXJuIE9iamVjdChrZS5hKSh0aGlzLGUpLE9iamVjdChQZS5hKSh0aGlzLE9iamVjdChqZS5hKShlKS5hcHBseSh0aGlzLGFyZ3VtZW50cykpfXJldHVybiBPYmplY3QoVGUuYSkoZSx0KSxPYmplY3QoU2UuYSkoZSxbe2tleToiY2xvbmUiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuKG5ldyB0aGlzLmNvbnN0cnVjdG9yKS5jb3B5KHRoaXMpfX0se2tleToiZnJvbSIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIEFycmF5LmlzQXJyYXkodCk/dGhpcy5jb3B5KHQpOnRoaXMuZnJvbU9iamVjdCh0KX19LHtrZXk6ImZyb21BcnJheSIsdmFsdWU6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTowLG49MDtuPHRoaXMuRUxFTUVOVFM7KytuKXRoaXNbbl09dFtuK2VdO3JldHVybiB0aGlzLmNoZWNrKCl9fSx7a2V5OiJ0byIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHQ9PT10aGlzP3RoaXM6RGUodCk/dGhpcy50b0FycmF5KHQpOnRoaXMudG9PYmplY3QodCl9fSx7a2V5OiJ0b1RhcmdldCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHQ/dGhpcy50byh0KTp0aGlzfX0se2tleToidG9BcnJheSIsdmFsdWU6ZnVuY3Rpb24oKXtmb3IodmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOltdLGU9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOjAsbj0wO248dGhpcy5FTEVNRU5UUzsrK24pdFtlK25dPXRoaXNbbl07cmV0dXJuIHR9fSx7a2V5OiJ0b0Zsb2F0MzJBcnJheSIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IEZsb2F0MzJBcnJheSh0aGlzKX19LHtrZXk6InRvU3RyaW5nIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmZvcm1hdFN0cmluZyhJZSl9fSx7a2V5OiJmb3JtYXRTdHJpbmciLHZhbHVlOmZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0iIixuPTA7bjx0aGlzLkVMRU1FTlRTOysrbillKz0obj4wPyIsICI6IiIpK05lKHRoaXNbbl0sdCk7cmV0dXJuIiIuY29uY2F0KHQucHJpbnRUeXBlcz90aGlzLmNvbnN0cnVjdG9yLm5hbWU6IiIsIlsiKS5jb25jYXQoZSwiXSIpfX0se2tleToiZXF1YWxzIix2YWx1ZTpmdW5jdGlvbih0KXtpZighdHx8dGhpcy5sZW5ndGghPT10Lmxlbmd0aClyZXR1cm4hMTtmb3IodmFyIGU9MDtlPHRoaXMuRUxFTUVOVFM7KytlKWlmKCFGZSh0aGlzW2VdLHRbZV0pKXJldHVybiExO3JldHVybiEwfX0se2tleToiZXhhY3RFcXVhbHMiLHZhbHVlOmZ1bmN0aW9uKHQpe2lmKCF0fHx0aGlzLmxlbmd0aCE9PXQubGVuZ3RoKXJldHVybiExO2Zvcih2YXIgZT0wO2U8dGhpcy5FTEVNRU5UUzsrK2UpaWYodGhpc1tlXSE9PXRbZV0pcmV0dXJuITE7cmV0dXJuITB9fSx7a2V5OiJuZWdhdGUiLHZhbHVlOmZ1bmN0aW9uKCl7Zm9yKHZhciB0PTA7dDx0aGlzLkVMRU1FTlRTOysrdCl0aGlzW3RdPS10aGlzW3RdO3JldHVybiB0aGlzLmNoZWNrKCl9fSx7a2V5OiJsZXJwIix2YWx1ZTpmdW5jdGlvbih0LGUsbil7dm9pZCAwPT09biYmKG49ZSxlPXQsdD10aGlzKTtmb3IodmFyIHI9MDtyPHRoaXMuRUxFTUVOVFM7KytyKXt2YXIgaT10W3JdO3RoaXNbcl09aStuKihlW3JdLWkpfXJldHVybiB0aGlzLmNoZWNrKCl9fSx7a2V5OiJtaW4iLHZhbHVlOmZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0wO2U8dGhpcy5FTEVNRU5UUzsrK2UpdGhpc1tlXT1NYXRoLm1pbih0W2VdLHRoaXNbZV0pO3JldHVybiB0aGlzLmNoZWNrKCl9fSx7a2V5OiJtYXgiLHZhbHVlOmZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0wO2U8dGhpcy5FTEVNRU5UUzsrK2UpdGhpc1tlXT1NYXRoLm1heCh0W2VdLHRoaXNbZV0pO3JldHVybiB0aGlzLmNoZWNrKCl9fSx7a2V5OiJjbGFtcCIsdmFsdWU6ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49MDtuPHRoaXMuRUxFTUVOVFM7KytuKXRoaXNbbl09TWF0aC5taW4oTWF0aC5tYXgodGhpc1tuXSx0W25dKSxlW25dKTtyZXR1cm4gdGhpcy5jaGVjaygpfX0se2tleToiYWRkIix2YWx1ZTpmdW5jdGlvbigpe2Zvcih2YXIgdD1hcmd1bWVudHMubGVuZ3RoLGU9bmV3IEFycmF5KHQpLG49MDtuPHQ7bisrKWVbbl09YXJndW1lbnRzW25dO2Zvcih2YXIgcj0wLGk9ZTtyPGkubGVuZ3RoO3IrKylmb3IodmFyIGE9aVtyXSxvPTA7bzx0aGlzLkVMRU1FTlRTOysrbyl0aGlzW29dKz1hW29dO3JldHVybiB0aGlzLmNoZWNrKCl9fSx7a2V5OiJzdWJ0cmFjdCIsdmFsdWU6ZnVuY3Rpb24oKXtmb3IodmFyIHQ9YXJndW1lbnRzLmxlbmd0aCxlPW5ldyBBcnJheSh0KSxuPTA7bjx0O24rKyllW25dPWFyZ3VtZW50c1tuXTtmb3IodmFyIHI9MCxpPWU7cjxpLmxlbmd0aDtyKyspZm9yKHZhciBhPWlbcl0sbz0wO288dGhpcy5FTEVNRU5UUzsrK28pdGhpc1tvXS09YVtvXTtyZXR1cm4gdGhpcy5jaGVjaygpfX0se2tleToic2NhbGUiLHZhbHVlOmZ1bmN0aW9uKHQpe2lmKEFycmF5LmlzQXJyYXkodCkpcmV0dXJuIHRoaXMubXVsdGlwbHkodCk7Zm9yKHZhciBlPTA7ZTx0aGlzLkVMRU1FTlRTOysrZSl0aGlzW2VdKj10O3JldHVybiB0aGlzLmNoZWNrKCl9fSx7a2V5OiJzdWIiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnN1YnRyYWN0KHQpfX0se2tleToic2V0U2NhbGFyIix2YWx1ZTpmdW5jdGlvbih0KXtmb3IodmFyIGU9MDtlPHRoaXMuRUxFTUVOVFM7KytlKXRoaXNbZV09dDtyZXR1cm4gdGhpcy5jaGVjaygpfX0se2tleToiYWRkU2NhbGFyIix2YWx1ZTpmdW5jdGlvbih0KXtmb3IodmFyIGU9MDtlPHRoaXMuRUxFTUVOVFM7KytlKXRoaXNbZV0rPXQ7cmV0dXJuIHRoaXMuY2hlY2soKX19LHtrZXk6InN1YlNjYWxhciIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuYWRkU2NhbGFyKC10KX19LHtrZXk6Im11bHRpcGx5U2NhbGFyIix2YWx1ZTpmdW5jdGlvbih0KXtmb3IodmFyIGU9MDtlPHRoaXMuRUxFTUVOVFM7KytlKXRoaXNbZV0qPXQ7cmV0dXJuIHRoaXMuY2hlY2soKX19LHtrZXk6ImRpdmlkZVNjYWxhciIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuc2NhbGUoMS90KX19LHtrZXk6ImNsYW1wU2NhbGFyIix2YWx1ZTpmdW5jdGlvbih0LGUpe2Zvcih2YXIgbj0wO248dGhpcy5FTEVNRU5UUzsrK24pdGhpc1tuXT1NYXRoLm1pbihNYXRoLm1heCh0aGlzW25dLHQpLGUpO3JldHVybiB0aGlzLmNoZWNrKCl9fSx7a2V5OiJtdWx0aXBseUJ5U2NhbGFyIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5zY2FsZSh0KX19LHtrZXk6ImNoZWNrIix2YWx1ZTpmdW5jdGlvbigpe2lmKEllLmRlYnVnJiYhdGhpcy52YWxpZGF0ZSh0aGlzKSl0aHJvdyBuZXcgRXJyb3IoIm1hdGguZ2w6ICIuY29uY2F0KHRoaXMuY29uc3RydWN0b3IubmFtZSwiIHNvbWUgZmllbGRzIHNldCB0byBpbnZhbGlkIG51bWJlcnMnIikpO3JldHVybiB0aGlzfX0se2tleToidmFsaWRhdGUiLHZhbHVlOmZ1bmN0aW9uKCl7Zm9yKHZhciB0PXRoaXMubGVuZ3RoPT09dGhpcy5FTEVNRU5UUyxlPTA7ZTx0aGlzLkVMRU1FTlRTOysrZSl0PXQmJk51bWJlci5pc0Zpbml0ZSh0aGlzW2VdKTtyZXR1cm4gdH19LHtrZXk6ImVsZW1lbnRzIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc319XSksZX0oQ2UoQXJyYXkpKTtmdW5jdGlvbiBCZSh0KXtpZighTnVtYmVyLmlzRmluaXRlKHQpKXRocm93IG5ldyBFcnJvcigiSW52YWxpZCBudW1iZXIgIi5jb25jYXQodCkpO3JldHVybiB0fWZ1bmN0aW9uIFVlKHQsZSxuKXtpZihJZS5kZWJ1ZyYmIWZ1bmN0aW9uKHQsZSl7aWYodC5sZW5ndGghPT1lKXJldHVybiExO2Zvcih2YXIgbj0wO248dC5sZW5ndGg7KytuKWlmKCFOdW1iZXIuaXNGaW5pdGUodFtuXSkpcmV0dXJuITE7cmV0dXJuITB9KHQsZSkpdGhyb3cgbmV3IEVycm9yKCJtYXRoLmdsOiAiLmNvbmNhdCgiInxuLCIgc29tZSBmaWVsZHMgc2V0IHRvIGludmFsaWQgbnVtYmVycyciKSk7cmV0dXJuIHR9dmFyIFZlPXt9O2Z1bmN0aW9uIEdlKHQsZSl7VmVbdF18fChWZVt0XT0hMCxjb25zb2xlLndhcm4oIiIuY29uY2F0KHQsIiBoYXMgYmVlbiByZW1vdmVkIGluIHZlcnNpb24gIikuY29uY2F0KGUsIiwgc2VlIHVwZ3JhZGUgZ3VpZGUgZm9yIG1vcmUgaW5mb3JtYXRpb24iKSkpfXZhciBXZT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7cmV0dXJuIE9iamVjdChrZS5hKSh0aGlzLGUpLE9iamVjdChQZS5hKSh0aGlzLE9iamVjdChqZS5hKShlKS5hcHBseSh0aGlzLGFyZ3VtZW50cykpfXJldHVybiBPYmplY3QoVGUuYSkoZSx0KSxPYmplY3QoU2UuYSkoZSxbe2tleToibGVuIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiBNYXRoLnNxcnQodGhpcy5sZW5ndGhTcXVhcmVkKCkpfX0se2tleToibWFnbml0dWRlIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmxlbigpfX0se2tleToibGVuZ3RoU3F1YXJlZCIsdmFsdWU6ZnVuY3Rpb24oKXtmb3IodmFyIHQ9MCxlPTA7ZTx0aGlzLkVMRU1FTlRTOysrZSl0Kz10aGlzW2VdKnRoaXNbZV07cmV0dXJuIHR9fSx7a2V5OiJtYWduaXR1ZGVTcXVhcmVkIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmxlbmd0aFNxdWFyZWQoKX19LHtrZXk6ImRpc3RhbmNlIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gTWF0aC5zcXJ0KHRoaXMuZGlzdGFuY2VTcXVhcmVkKHQpKX19LHtrZXk6ImRpc3RhbmNlU3F1YXJlZCIsdmFsdWU6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPTAsbj0wO248dGhpcy5FTEVNRU5UUzsrK24pe3ZhciByPXRoaXNbbl0tdFtuXTtlKz1yKnJ9cmV0dXJuIEJlKGUpfX0se2tleToiZG90Iix2YWx1ZTpmdW5jdGlvbih0KXtmb3IodmFyIGU9MCxuPTA7bjx0aGlzLkVMRU1FTlRTOysrbillKz10aGlzW25dKnRbbl07cmV0dXJuIEJlKGUpfX0se2tleToibm9ybWFsaXplIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMubWFnbml0dWRlKCk7aWYoMCE9PXQpZm9yKHZhciBlPTA7ZTx0aGlzLkVMRU1FTlRTOysrZSl0aGlzW2VdLz10O3JldHVybiB0aGlzLmNoZWNrKCl9fSx7a2V5OiJtdWx0aXBseSIsdmFsdWU6ZnVuY3Rpb24oKXtmb3IodmFyIHQ9YXJndW1lbnRzLmxlbmd0aCxlPW5ldyBBcnJheSh0KSxuPTA7bjx0O24rKyllW25dPWFyZ3VtZW50c1tuXTtmb3IodmFyIHI9MCxpPWU7cjxpLmxlbmd0aDtyKyspZm9yKHZhciBhPWlbcl0sbz0wO288dGhpcy5FTEVNRU5UUzsrK28pdGhpc1tvXSo9YVtvXTtyZXR1cm4gdGhpcy5jaGVjaygpfX0se2tleToiZGl2aWRlIix2YWx1ZTpmdW5jdGlvbigpe2Zvcih2YXIgdD1hcmd1bWVudHMubGVuZ3RoLGU9bmV3IEFycmF5KHQpLG49MDtuPHQ7bisrKWVbbl09YXJndW1lbnRzW25dO2Zvcih2YXIgcj0wLGk9ZTtyPGkubGVuZ3RoO3IrKylmb3IodmFyIGE9aVtyXSxvPTA7bzx0aGlzLkVMRU1FTlRTOysrbyl0aGlzW29dLz1hW29dO3JldHVybiB0aGlzLmNoZWNrKCl9fSx7a2V5OiJsZW5ndGhTcSIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5sZW5ndGhTcXVhcmVkKCl9fSx7a2V5OiJkaXN0YW5jZVRvIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5kaXN0YW5jZSh0KX19LHtrZXk6ImRpc3RhbmNlVG9TcXVhcmVkIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5kaXN0YW5jZVNxdWFyZWQodCl9fSx7a2V5OiJnZXRDb21wb25lbnQiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiBMZSh0Pj0wJiZ0PHRoaXMuRUxFTUVOVFMsImluZGV4IGlzIG91dCBvZiByYW5nZSIpLEJlKHRoaXNbdF0pfX0se2tleToic2V0Q29tcG9uZW50Iix2YWx1ZTpmdW5jdGlvbih0LGUpe3JldHVybiBMZSh0Pj0wJiZ0PHRoaXMuRUxFTUVOVFMsImluZGV4IGlzIG91dCBvZiByYW5nZSIpLHRoaXNbdF09ZSx0aGlzLmNoZWNrKCl9fSx7a2V5OiJhZGRWZWN0b3JzIix2YWx1ZTpmdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLmNvcHkodCkuYWRkKGUpfX0se2tleToic3ViVmVjdG9ycyIsdmFsdWU6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5jb3B5KHQpLnN1YnRyYWN0KGUpfX0se2tleToibXVsdGlwbHlWZWN0b3JzIix2YWx1ZTpmdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLmNvcHkodCkubXVsdGlwbHkoZSl9fSx7a2V5OiJhZGRTY2FsZWRWZWN0b3IiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuYWRkKG5ldyB0aGlzLmNvbnN0cnVjdG9yKHQpLm11bHRpcGx5U2NhbGFyKGUpKX19LHtrZXk6IngiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzWzBdfSxzZXQ6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXNbMF09QmUodCl9fSx7a2V5OiJ5IixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc1sxXX0sc2V0OmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzWzFdPUJlKHQpfX1dKSxlfSh6ZSksSGU9big2MSk7ZnVuY3Rpb24gcWUodCxlLG4pe3ZhciByPWVbMF0saT1lWzFdLGE9ZVsyXSxvPW5bM10qcituWzddKmkrblsxMV0qYXx8MTtyZXR1cm4gdFswXT0oblswXSpyK25bNF0qaStuWzhdKmEpL28sdFsxXT0oblsxXSpyK25bNV0qaStuWzldKmEpL28sdFsyXT0oblsyXSpyK25bNl0qaStuWzEwXSphKS9vLHR9dmFyIFhlPVswLDAsMF0sWmU9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3ZhciB0LG49YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOjAscj1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06MCxpPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTowO3JldHVybiBPYmplY3Qoa2UuYSkodGhpcyxlKSx0PU9iamVjdChQZS5hKSh0aGlzLE9iamVjdChqZS5hKShlKS5jYWxsKHRoaXMsLTAsLTAsLTApKSwxPT09YXJndW1lbnRzLmxlbmd0aCYmRGUobik/dC5jb3B5KG4pOihJZS5kZWJ1ZyYmKEJlKG4pLEJlKHIpLEJlKGkpKSx0WzBdPW4sdFsxXT1yLHRbMl09aSksdH1yZXR1cm4gT2JqZWN0KFRlLmEpKGUsdCksT2JqZWN0KFNlLmEpKGUsW3trZXk6InNldCIsdmFsdWU6ZnVuY3Rpb24odCxlLG4pe3JldHVybiB0aGlzWzBdPXQsdGhpc1sxXT1lLHRoaXNbMl09bix0aGlzLmNoZWNrKCl9fSx7a2V5OiJjb3B5Iix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpc1swXT10WzBdLHRoaXNbMV09dFsxXSx0aGlzWzJdPXRbMl0sdGhpcy5jaGVjaygpfX0se2tleToiZnJvbU9iamVjdCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIEllLmRlYnVnJiYoQmUodC54KSxCZSh0LnkpLEJlKHQueikpLHRoaXNbMF09dC54LHRoaXNbMV09dC55LHRoaXNbMl09dC56LHRoaXMuY2hlY2soKX19LHtrZXk6InRvT2JqZWN0Iix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdC54PXRoaXNbMF0sdC55PXRoaXNbMV0sdC56PXRoaXNbMl0sdH19LHtrZXk6ImFuZ2xlIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gSGUuYSh0aGlzLHQpfX0se2tleToiY3Jvc3MiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiBIZS5iKHRoaXMsdGhpcyx0KSx0aGlzLmNoZWNrKCl9fSx7a2V5OiJyb3RhdGVYIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10LnJhZGlhbnMsbj10Lm9yaWdpbixyPXZvaWQgMD09PW4/WGU6bjtyZXR1cm4gSGUuZCh0aGlzLHRoaXMscixlKSx0aGlzLmNoZWNrKCl9fSx7a2V5OiJyb3RhdGVZIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10LnJhZGlhbnMsbj10Lm9yaWdpbixyPXZvaWQgMD09PW4/WGU6bjtyZXR1cm4gSGUuZSh0aGlzLHRoaXMscixlKSx0aGlzLmNoZWNrKCl9fSx7a2V5OiJyb3RhdGVaIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10LnJhZGlhbnMsbj10Lm9yaWdpbixyPXZvaWQgMD09PW4/WGU6bjtyZXR1cm4gSGUuZih0aGlzLHRoaXMscixlKSx0aGlzLmNoZWNrKCl9fSx7a2V5OiJ0cmFuc2Zvcm0iLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnRyYW5zZm9ybUFzUG9pbnQodCl9fSx7a2V5OiJ0cmFuc2Zvcm1Bc1BvaW50Iix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gSGUuaCh0aGlzLHRoaXMsdCksdGhpcy5jaGVjaygpfX0se2tleToidHJhbnNmb3JtQXNWZWN0b3IiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiBxZSh0aGlzLHRoaXMsdCksdGhpcy5jaGVjaygpfX0se2tleToidHJhbnNmb3JtQnlNYXRyaXgzIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gSGUuZyh0aGlzLHRoaXMsdCksdGhpcy5jaGVjaygpfX0se2tleToidHJhbnNmb3JtQnlNYXRyaXgyIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZSxuLHIsaSxhO3JldHVybiBlPXRoaXMscj10LGk9KG49dGhpcylbMF0sYT1uWzFdLGVbMF09clswXSppK3JbMl0qYSxlWzFdPXJbMV0qaStyWzNdKmEsZVsyXT1uWzJdLHRoaXMuY2hlY2soKX19LHtrZXk6InRyYW5zZm9ybUJ5UXVhdGVybmlvbiIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIEhlLmkodGhpcyx0aGlzLHQpLHRoaXMuY2hlY2soKX19LHtrZXk6IkVMRU1FTlRTIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gM319LHtrZXk6InoiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzWzJdfSxzZXQ6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXNbMl09QmUodCl9fV0pLGV9KFdlKSxZZT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7cmV0dXJuIE9iamVjdChrZS5hKSh0aGlzLGUpLE9iamVjdChQZS5hKSh0aGlzLE9iamVjdChqZS5hKShlKS5hcHBseSh0aGlzLGFyZ3VtZW50cykpfXJldHVybiBPYmplY3QoVGUuYSkoZSx0KSxPYmplY3QoU2UuYSkoZSxbe2tleToidG9TdHJpbmciLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9IlsiO2lmKEllLnByaW50Um93TWFqb3Ipe3QrPSJyb3ctbWFqb3I6Ijtmb3IodmFyIGU9MDtlPHRoaXMuUkFOSzsrK2UpZm9yKHZhciBuPTA7bjx0aGlzLlJBTks7KytuKXQrPSIgIi5jb25jYXQodGhpc1tuKnRoaXMuUkFOSytlXSl9ZWxzZXt0Kz0iY29sdW1uLW1ham9yOiI7Zm9yKHZhciByPTA7cjx0aGlzLkVMRU1FTlRTOysrcil0Kz0iICIuY29uY2F0KHRoaXNbcl0pfXJldHVybiB0Kz0iXSJ9fSx7a2V5OiJnZXRFbGVtZW50SW5kZXgiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIGUqdGhpcy5SQU5LK3R9fSx7a2V5OiJnZXRFbGVtZW50Iix2YWx1ZTpmdW5jdGlvbih0LGUpe3JldHVybiB0aGlzW2UqdGhpcy5SQU5LK3RdfX0se2tleToic2V0RWxlbWVudCIsdmFsdWU6ZnVuY3Rpb24odCxlLG4pe3JldHVybiB0aGlzW2UqdGhpcy5SQU5LK3RdPUJlKG4pLHRoaXN9fSx7a2V5OiJnZXRDb2x1bW4iLHZhbHVlOmZ1bmN0aW9uKHQpe2Zvcih2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06bmV3IEFycmF5KHRoaXMuUkFOSykuZmlsbCgtMCksbj10KnRoaXMuUkFOSyxyPTA7cjx0aGlzLlJBTks7KytyKWVbcl09dGhpc1tuK3JdO3JldHVybiBlfX0se2tleToic2V0Q29sdW1uIix2YWx1ZTpmdW5jdGlvbih0LGUpe2Zvcih2YXIgbj10KnRoaXMuUkFOSyxyPTA7cjx0aGlzLlJBTks7KytyKXRoaXNbbityXT1lW3JdO3JldHVybiB0aGlzfX1dKSxlfSh6ZSk7bigxNik7ZnVuY3Rpb24gS2UodCxlLG4pe3ZhciByPWVbMF0saT1lWzFdLGE9ZVsyXSxvPWVbM10scz1lWzRdLHU9ZVs1XSxjPWVbNl0sbD1lWzddLGg9ZVs4XSxmPW5bMF0sZD1uWzFdLHY9blsyXSxwPW5bM10sZz1uWzRdLHk9bls1XSxtPW5bNl0sYj1uWzddLF89bls4XTtyZXR1cm4gdFswXT1mKnIrZCpvK3YqYyx0WzFdPWYqaStkKnMrdipsLHRbMl09ZiphK2QqdSt2KmgsdFszXT1wKnIrZypvK3kqYyx0WzRdPXAqaStnKnMreSpsLHRbNV09cCphK2cqdSt5KmgsdFs2XT1tKnIrYipvK18qYyx0WzddPW0qaStiKnMrXypsLHRbOF09bSphK2IqdStfKmgsdH1mdW5jdGlvbiBRZSh0LGUsbil7dmFyIHI9blswXSxpPW5bMV07cmV0dXJuIHRbMF09ciplWzBdLHRbMV09ciplWzFdLHRbMl09ciplWzJdLHRbM109aSplWzNdLHRbNF09aSplWzRdLHRbNV09aSplWzVdLHRbNl09ZVs2XSx0WzddPWVbN10sdFs4XT1lWzhdLHR9dmFyIEplPW4oNjApLCRlPU9iamVjdC5mcmVlemUoWzEsMCwwLDAsMSwwLDAsMCwxXSksdG49T2JqZWN0LmZyZWV6ZShbMCwwLDAsMCwwLDAsMCwwLDBdKSxlbj1PYmplY3QuZnJlZXplKHtDT0wwUk9XMDowLENPTDBST1cxOjEsQ09MMFJPVzI6MixDT0wxUk9XMDozLENPTDFST1cxOjQsQ09MMVJPVzI6NSxDT0wyUk9XMDo2LENPTDJST1cxOjcsQ09MMlJPVzI6OH0pLG5uPXt9LHJuPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUodCl7dmFyIG47cmV0dXJuIE9iamVjdChrZS5hKSh0aGlzLGUpLG49T2JqZWN0KFBlLmEpKHRoaXMsT2JqZWN0KGplLmEpKGUpLmNhbGwodGhpcywtMCwtMCwtMCwtMCwtMCwtMCwtMCwtMCwtMCkpLDE9PT1hcmd1bWVudHMubGVuZ3RoJiZBcnJheS5pc0FycmF5KHQpP24uY29weSh0KTpuLmlkZW50aXR5KCksbn1yZXR1cm4gT2JqZWN0KFRlLmEpKGUsdCksT2JqZWN0KFNlLmEpKGUsW3trZXk6IkVMRU1FTlRTIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gOX19LHtrZXk6IlJBTksiLGdldDpmdW5jdGlvbigpe3JldHVybiAzfX0se2tleToiSU5ESUNFUyIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGVufX1dLFt7a2V5OiJJREVOVElUWSIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG5uLklERU5USVRZPW5uLklERU5USVRZfHxPYmplY3QuZnJlZXplKG5ldyBlKCRlKSksbm4uSURFTlRJVFl9fSx7a2V5OiJaRVJPIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbm4uWkVSTz1ubi5aRVJPfHxPYmplY3QuZnJlZXplKG5ldyBlKHRuKSksbm4uWkVST319XSksT2JqZWN0KFNlLmEpKGUsW3trZXk6ImNvcHkiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzWzBdPXRbMF0sdGhpc1sxXT10WzFdLHRoaXNbMl09dFsyXSx0aGlzWzNdPXRbM10sdGhpc1s0XT10WzRdLHRoaXNbNV09dFs1XSx0aGlzWzZdPXRbNl0sdGhpc1s3XT10WzddLHRoaXNbOF09dFs4XSx0aGlzLmNoZWNrKCl9fSx7a2V5OiJzZXQiLHZhbHVlOmZ1bmN0aW9uKHQsZSxuLHIsaSxhLG8scyx1KXtyZXR1cm4gdGhpc1swXT10LHRoaXNbMV09ZSx0aGlzWzJdPW4sdGhpc1szXT1yLHRoaXNbNF09aSx0aGlzWzVdPWEsdGhpc1s2XT1vLHRoaXNbN109cyx0aGlzWzhdPXUsdGhpcy5jaGVjaygpfX0se2tleToic2V0Um93TWFqb3IiLHZhbHVlOmZ1bmN0aW9uKHQsZSxuLHIsaSxhLG8scyx1KXtyZXR1cm4gdGhpc1swXT10LHRoaXNbMV09cix0aGlzWzJdPW8sdGhpc1szXT1lLHRoaXNbNF09aSx0aGlzWzVdPXMsdGhpc1s2XT1uLHRoaXNbN109YSx0aGlzWzhdPXUsdGhpcy5jaGVjaygpfX0se2tleToiZGV0ZXJtaW5hbnQiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIGU9KHQ9dGhpcylbMF0sbj10WzFdLHI9dFsyXSxpPXRbM10sYT10WzRdLG89dFs1XSxzPXRbNl0sdT10WzddLGM9dFs4XSxlKihjKmEtbyp1KStuKigtYyppK28qcykrcioodSppLWEqcyk7dmFyIHQsZSxuLHIsaSxhLG8scyx1LGN9fSx7a2V5OiJpZGVudGl0eSIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb3B5KCRlKX19LHtrZXk6ImZyb21RdWF0ZXJuaW9uIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24odCxlKXt2YXIgbj1lWzBdLHI9ZVsxXSxpPWVbMl0sYT1lWzNdLG89bituLHM9cityLHU9aStpLGM9bipvLGw9cipvLGg9cipzLGY9aSpvLGQ9aSpzLHY9aSp1LHA9YSpvLGc9YSpzLHk9YSp1O3RbMF09MS1oLXYsdFszXT1sLXksdFs2XT1mK2csdFsxXT1sK3ksdFs0XT0xLWMtdix0WzddPWQtcCx0WzJdPWYtZyx0WzVdPWQrcCx0WzhdPTEtYy1ofSh0aGlzLHQpLHRoaXMuY2hlY2soKX19LHtrZXk6InRyYW5zcG9zZSIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24odCxlKXtpZih0PT09ZSl7dmFyIG49ZVsxXSxyPWVbMl0saT1lWzVdO3RbMV09ZVszXSx0WzJdPWVbNl0sdFszXT1uLHRbNV09ZVs3XSx0WzZdPXIsdFs3XT1pfWVsc2UgdFswXT1lWzBdLHRbMV09ZVszXSx0WzJdPWVbNl0sdFszXT1lWzFdLHRbNF09ZVs0XSx0WzVdPWVbN10sdFs2XT1lWzJdLHRbN109ZVs1XSx0WzhdPWVbOF19KHRoaXMsdGhpcyksdGhpcy5jaGVjaygpfX0se2tleToiaW52ZXJ0Iix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0LGUsbixyLGksYSxvLHMsdSxjLGwsaCxmLGQsdjtyZXR1cm4gdD10aGlzLG49KGU9dGhpcylbMF0scj1lWzFdLGk9ZVsyXSxhPWVbM10sbz1lWzRdLHM9ZVs1XSx1PWVbNl0sYz1lWzddLGw9ZVs4XSwodj1uKihoPWwqby1zKmMpK3IqKGY9LWwqYStzKnUpK2kqKGQ9YyphLW8qdSkpJiYodj0xL3YsdFswXT1oKnYsdFsxXT0oLWwqcitpKmMpKnYsdFsyXT0ocypyLWkqbykqdix0WzNdPWYqdix0WzRdPShsKm4taSp1KSp2LHRbNV09KC1zKm4raSphKSp2LHRbNl09ZCp2LHRbN109KC1jKm4rcip1KSp2LHRbOF09KG8qbi1yKmEpKnYpLHRoaXMuY2hlY2soKX19LHtrZXk6Im11bHRpcGx5TGVmdCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIEtlKHRoaXMsdCx0aGlzKSx0aGlzLmNoZWNrKCl9fSx7a2V5OiJtdWx0aXBseVJpZ2h0Iix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gS2UodGhpcyx0aGlzLHQpLHRoaXMuY2hlY2soKX19LHtrZXk6InJvdGF0ZSIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGUsbixyLGksYSxvLHMsdSxjLGwsaCxmLGQsdjtyZXR1cm4gZT10aGlzLHI9dCxpPShuPXRoaXMpWzBdLGE9blsxXSxvPW5bMl0scz1uWzNdLHU9bls0XSxjPW5bNV0sbD1uWzZdLGg9bls3XSxmPW5bOF0sZD1NYXRoLnNpbihyKSx2PU1hdGguY29zKHIpLGVbMF09dippK2QqcyxlWzFdPXYqYStkKnUsZVsyXT12Km8rZCpjLGVbM109dipzLWQqaSxlWzRdPXYqdS1kKmEsZVs1XT12KmMtZCpvLGVbNl09bCxlWzddPWgsZVs4XT1mLHRoaXMuY2hlY2soKX19LHtrZXk6InNjYWxlIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gQXJyYXkuaXNBcnJheSh0KT9RZSh0aGlzLHRoaXMsdCk6UWUodGhpcyx0aGlzLFt0LHQsdF0pLHRoaXMuY2hlY2soKX19LHtrZXk6InRyYW5zbGF0ZSIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGUsbixyLGksYSxvLHMsdSxjLGwsaCxmLGQsdjtyZXR1cm4gZT10aGlzLHI9dCxpPShuPXRoaXMpWzBdLGE9blsxXSxvPW5bMl0scz1uWzNdLHU9bls0XSxjPW5bNV0sbD1uWzZdLGg9bls3XSxmPW5bOF0sZD1yWzBdLHY9clsxXSxlWzBdPWksZVsxXT1hLGVbMl09byxlWzNdPXMsZVs0XT11LGVbNV09YyxlWzZdPWQqaSt2KnMrbCxlWzddPWQqYSt2KnUraCxlWzhdPWQqbyt2KmMrZix0aGlzLmNoZWNrKCl9fSx7a2V5OiJ0cmFuc2Zvcm0iLHZhbHVlOmZ1bmN0aW9uKHQsZSl7c3dpdGNoKHQubGVuZ3RoKXtjYXNlIDI6ZT1KZS5nKGV8fFstMCwtMF0sdCx0aGlzKTticmVhaztjYXNlIDM6ZT1IZS5nKGV8fFstMCwtMCwtMF0sdCx0aGlzKTticmVhaztjYXNlIDQ6bj1lfHxbLTAsLTAsLTAsLTBdLGk9dGhpcyxhPShyPXQpWzBdLG89clsxXSxzPXJbMl0sblswXT1pWzBdKmEraVszXSpvK2lbNl0qcyxuWzFdPWlbMV0qYStpWzRdKm8raVs3XSpzLG5bMl09aVsyXSphK2lbNV0qbytpWzhdKnMsblszXT1yWzNdLGU9bjticmVhaztkZWZhdWx0OnRocm93IG5ldyBFcnJvcigiSWxsZWdhbCB2ZWN0b3IiKX12YXIgbixyLGksYSxvLHM7cmV0dXJuIFVlKGUsdC5sZW5ndGgpLGV9fSx7a2V5OiJ0cmFuc2Zvcm1WZWN0b3IiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIEdlKCJNYXRyaXgzLnRyYW5zZm9ybVZlY3RvciIpLHRoaXMudHJhbnNmb3JtKHQsZSl9fSx7a2V5OiJ0cmFuc2Zvcm1WZWN0b3IyIix2YWx1ZTpmdW5jdGlvbih0LGUpe3JldHVybiBHZSgiTWF0cml4My50cmFuc2Zvcm1WZWN0b3IiKSx0aGlzLnRyYW5zZm9ybSh0LGUpfX0se2tleToidHJhbnNmb3JtVmVjdG9yMyIsdmFsdWU6ZnVuY3Rpb24odCxlKXtyZXR1cm4gR2UoIk1hdHJpeDMudHJhbnNmb3JtVmVjdG9yIiksdGhpcy50cmFuc2Zvcm0odCxlKX19XSksZX0oWWUpLGFuPW4oNTEpLG9uPW4oMzApLHNuPW4oMTQxKSx1bj1PYmplY3QuZnJlZXplKFsxLDAsMCwwLDAsMSwwLDAsMCwwLDEsMCwwLDAsMCwxXSksY249T2JqZWN0LmZyZWV6ZShbMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMF0pLGxuPU9iamVjdC5mcmVlemUoe0NPTDBST1cwOjAsQ09MMFJPVzE6MSxDT0wwUk9XMjoyLENPTDBST1czOjMsQ09MMVJPVzA6NCxDT0wxUk9XMTo1LENPTDFST1cyOjYsQ09MMVJPVzM6NyxDT0wyUk9XMDo4LENPTDJST1cxOjksQ09MMlJPVzI6MTAsQ09MMlJPVzM6MTEsQ09MM1JPVzA6MTIsQ09MM1JPVzE6MTMsQ09MM1JPVzI6MTQsQ09MM1JPVzM6MTV9KSxobj17fSxmbj1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKHQpe3ZhciBuO3JldHVybiBPYmplY3Qoa2UuYSkodGhpcyxlKSxuPU9iamVjdChQZS5hKSh0aGlzLE9iamVjdChqZS5hKShlKS5jYWxsKHRoaXMsLTAsLTAsLTAsLTAsLTAsLTAsLTAsLTAsLTAsLTAsLTAsLTAsLTAsLTAsLTAsLTApKSwxPT09YXJndW1lbnRzLmxlbmd0aCYmQXJyYXkuaXNBcnJheSh0KT9uLmNvcHkodCk6bi5pZGVudGl0eSgpLG59cmV0dXJuIE9iamVjdChUZS5hKShlLHQpLE9iamVjdChTZS5hKShlLFt7a2V5OiJJTkRJQ0VTIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbG59fSx7a2V5OiJFTEVNRU5UUyIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIDE2fX0se2tleToiUkFOSyIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIDR9fV0sW3trZXk6IklERU5USVRZIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gaG4uSURFTlRJVFk9aG4uSURFTlRJVFl8fE9iamVjdC5mcmVlemUobmV3IGUodW4pKSxobi5JREVOVElUWX19LHtrZXk6IlpFUk8iLGdldDpmdW5jdGlvbigpe3JldHVybiBobi5aRVJPPWhuLlpFUk98fE9iamVjdC5mcmVlemUobmV3IGUoY24pKSxobi5aRVJPfX1dKSxPYmplY3QoU2UuYSkoZSxbe2tleToiY29weSIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXNbMF09dFswXSx0aGlzWzFdPXRbMV0sdGhpc1syXT10WzJdLHRoaXNbM109dFszXSx0aGlzWzRdPXRbNF0sdGhpc1s1XT10WzVdLHRoaXNbNl09dFs2XSx0aGlzWzddPXRbN10sdGhpc1s4XT10WzhdLHRoaXNbOV09dFs5XSx0aGlzWzEwXT10WzEwXSx0aGlzWzExXT10WzExXSx0aGlzWzEyXT10WzEyXSx0aGlzWzEzXT10WzEzXSx0aGlzWzE0XT10WzE0XSx0aGlzWzE1XT10WzE1XSx0aGlzLmNoZWNrKCl9fSx7a2V5OiJzZXQiLHZhbHVlOmZ1bmN0aW9uKHQsZSxuLHIsaSxhLG8scyx1LGMsbCxoLGYsZCx2LHApe3JldHVybiB0aGlzWzBdPXQsdGhpc1sxXT1lLHRoaXNbMl09bix0aGlzWzNdPXIsdGhpc1s0XT1pLHRoaXNbNV09YSx0aGlzWzZdPW8sdGhpc1s3XT1zLHRoaXNbOF09dSx0aGlzWzldPWMsdGhpc1sxMF09bCx0aGlzWzExXT1oLHRoaXNbMTJdPWYsdGhpc1sxM109ZCx0aGlzWzE0XT12LHRoaXNbMTVdPXAsdGhpcy5jaGVjaygpfX0se2tleToic2V0Um93TWFqb3IiLHZhbHVlOmZ1bmN0aW9uKHQsZSxuLHIsaSxhLG8scyx1LGMsbCxoLGYsZCx2LHApe3JldHVybiB0aGlzWzBdPXQsdGhpc1sxXT1pLHRoaXNbMl09dSx0aGlzWzNdPWYsdGhpc1s0XT1lLHRoaXNbNV09YSx0aGlzWzZdPWMsdGhpc1s3XT1kLHRoaXNbOF09bix0aGlzWzldPW8sdGhpc1sxMF09bCx0aGlzWzExXT12LHRoaXNbMTJdPXIsdGhpc1sxM109cyx0aGlzWzE0XT1oLHRoaXNbMTVdPXAsdGhpcy5jaGVjaygpfX0se2tleToidG9Sb3dNYWpvciIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHRbMF09dGhpc1swXSx0WzFdPXRoaXNbNF0sdFsyXT10aGlzWzhdLHRbM109dGhpc1sxMl0sdFs0XT10aGlzWzFdLHRbNV09dGhpc1s1XSx0WzZdPXRoaXNbOV0sdFs3XT10aGlzWzEzXSx0WzhdPXRoaXNbMl0sdFs5XT10aGlzWzZdLHRbMTBdPXRoaXNbMTBdLHRbMTFdPXRoaXNbMTRdLHRbMTJdPXRoaXNbM10sdFsxM109dGhpc1s3XSx0WzE0XT10aGlzWzExXSx0WzE1XT10aGlzWzE1XSx0fX0se2tleToiaWRlbnRpdHkiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29weSh1bil9fSx7a2V5OiJmcm9tUXVhdGVybmlvbiIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIG9uLmModGhpcyx0KSx0aGlzLmNoZWNrKCl9fSx7a2V5OiJmcnVzdHVtIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgbj10LmxlZnQscj10LnJpZ2h0LGk9dC5ib3R0b20sYT10LnRvcCxvPXQubmVhcixzPXQuZmFyO3JldHVybiBzPT09MS8wP2UuX2NvbXB1dGVJbmZpbml0ZVBlcnNwZWN0aXZlT2ZmQ2VudGVyKHRoaXMsbixyLGksYSxvKTpvbi5kKHRoaXMsbixyLGksYSxvLHMpLHRoaXMuY2hlY2soKX19LHtrZXk6Imxvb2tBdCIsdmFsdWU6ZnVuY3Rpb24odCxlLG4pe2lmKDE9PT1hcmd1bWVudHMubGVuZ3RoKXt2YXIgcj10O3Q9ci5leWUsZT1yLmNlbnRlcixuPXIudXB9cmV0dXJuIGU9ZXx8WzAsMCwwXSxuPW58fFswLDEsMF0sb24uZyh0aGlzLHQsZSxuKSx0aGlzLmNoZWNrKCl9fSx7a2V5OiJvcnRobyIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dC5sZWZ0LG49dC5yaWdodCxyPXQuYm90dG9tLGk9dC50b3AsYT10Lm5lYXIsbz12b2lkIDA9PT1hPy4xOmEscz10LmZhcix1PXZvaWQgMD09PXM/NTAwOnM7cmV0dXJuIG9uLmkodGhpcyxlLG4scixpLG8sdSksdGhpcy5jaGVjaygpfX0se2tleToib3J0aG9ncmFwaGljIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgbj10LmZvdnkscj12b2lkIDA9PT1uPzQ1Kk1hdGguUEkvMTgwOm4saT10LmFzcGVjdCxhPXZvaWQgMD09PWk/MTppLG89dC5mb2NhbERpc3RhbmNlLHM9dm9pZCAwPT09bz8xOm8sdT10Lm5lYXIsYz12b2lkIDA9PT11Py4xOnUsbD10LmZhcixoPXZvaWQgMD09PWw/NTAwOmw7aWYocj4yKk1hdGguUEkpdGhyb3cgRXJyb3IoInJhZGlhbnMiKTt2YXIgZj1yLzIsZD1zKk1hdGgudGFuKGYpLHY9ZCphO3JldHVybihuZXcgZSkub3J0aG8oe2xlZnQ6LXYscmlnaHQ6dixib3R0b206LWQsdG9wOmQsbmVhcjpjLGZhcjpofSl9fSx7a2V5OiJwZXJzcGVjdGl2ZSIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e30sZT10LmZvdnksbj10LmZvdixyPXZvaWQgMD09PW4/NDUqTWF0aC5QSS8xODA6bixpPXQuYXNwZWN0LGE9dm9pZCAwPT09aT8xOmksbz10Lm5lYXIscz12b2lkIDA9PT1vPy4xOm8sdT10LmZhcixjPXZvaWQgMD09PXU/NTAwOnU7aWYoKGU9ZXx8cik+MipNYXRoLlBJKXRocm93IEVycm9yKCJyYWRpYW5zIik7cmV0dXJuIG9uLmoodGhpcyxlLGEscyxjKSx0aGlzLmNoZWNrKCl9fSx7a2V5OiJkZXRlcm1pbmFudCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gb24uYSh0aGlzKX19LHtrZXk6ImdldFNjYWxlIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTpbLTAsLTAsLTBdO3JldHVybiB0WzBdPU1hdGguc3FydCh0aGlzWzBdKnRoaXNbMF0rdGhpc1sxXSp0aGlzWzFdK3RoaXNbMl0qdGhpc1syXSksdFsxXT1NYXRoLnNxcnQodGhpc1s0XSp0aGlzWzRdK3RoaXNbNV0qdGhpc1s1XSt0aGlzWzZdKnRoaXNbNl0pLHRbMl09TWF0aC5zcXJ0KHRoaXNbOF0qdGhpc1s4XSt0aGlzWzldKnRoaXNbOV0rdGhpc1sxMF0qdGhpc1sxMF0pLHR9fSx7a2V5OiJnZXRUcmFuc2xhdGlvbiIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06Wy0wLC0wLC0wXTtyZXR1cm4gdFswXT10aGlzWzEyXSx0WzFdPXRoaXNbMTNdLHRbMl09dGhpc1sxNF0sdH19LHtrZXk6ImdldFJvdGF0aW9uIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTpbLTAsLTAsLTAsLTAsLTAsLTAsLTAsLTAsLTAsLTAsLTAsLTAsLTAsLTAsLTAsLTBdLGU9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOm51bGwsbj10aGlzLmdldFNjYWxlKGV8fFstMCwtMCwtMF0pLHI9MS9uWzBdLGk9MS9uWzFdLGE9MS9uWzJdO3JldHVybiB0WzBdPXRoaXNbMF0qcix0WzFdPXRoaXNbMV0qaSx0WzJdPXRoaXNbMl0qYSx0WzNdPTAsdFs0XT10aGlzWzRdKnIsdFs1XT10aGlzWzVdKmksdFs2XT10aGlzWzZdKmEsdFs3XT0wLHRbOF09dGhpc1s4XSpyLHRbOV09dGhpc1s5XSppLHRbMTBdPXRoaXNbMTBdKmEsdFsxMV09MCx0WzEyXT0wLHRbMTNdPTAsdFsxNF09MCx0WzE1XT0xLHR9fSx7a2V5OiJnZXRSb3RhdGlvbk1hdHJpeDMiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOlstMCwtMCwtMCwtMCwtMCwtMCwtMCwtMCwtMF0sZT1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06bnVsbCxuPXRoaXMuZ2V0U2NhbGUoZXx8Wy0wLC0wLC0wXSkscj0xL25bMF0saT0xL25bMV0sYT0xL25bMl07cmV0dXJuIHRbMF09dGhpc1swXSpyLHRbMV09dGhpc1sxXSppLHRbMl09dGhpc1syXSphLHRbM109dGhpc1s0XSpyLHRbNF09dGhpc1s1XSppLHRbNV09dGhpc1s2XSphLHRbNl09dGhpc1s4XSpyLHRbN109dGhpc1s5XSppLHRbOF09dGhpc1sxMF0qYSx0fX0se2tleToidHJhbnNwb3NlIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiBvbi5xKHRoaXMsdGhpcyksdGhpcy5jaGVjaygpfX0se2tleToiaW52ZXJ0Iix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiBvbi5mKHRoaXMsdGhpcyksdGhpcy5jaGVjaygpfX0se2tleToibXVsdGlwbHlMZWZ0Iix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gb24uaCh0aGlzLHQsdGhpcyksdGhpcy5jaGVjaygpfX0se2tleToibXVsdGlwbHlSaWdodCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIG9uLmgodGhpcyx0aGlzLHQpLHRoaXMuY2hlY2soKX19LHtrZXk6InJvdGF0ZVgiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiBvbi5sKHRoaXMsdGhpcyx0KSx0aGlzLmNoZWNrKCl9fSx7a2V5OiJyb3RhdGVZIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gb24ubSh0aGlzLHRoaXMsdCksdGhpcy5jaGVjaygpfX0se2tleToicm90YXRlWiIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIG9uLm4odGhpcyx0aGlzLHQpLHRoaXMuY2hlY2soKX19LHtrZXk6InJvdGF0ZVhZWiIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9T2JqZWN0KGFuLmEpKHQsMyksbj1lWzBdLHI9ZVsxXSxpPWVbMl07cmV0dXJuIHRoaXMucm90YXRlWChuKS5yb3RhdGVZKHIpLnJvdGF0ZVooaSl9fSx7a2V5OiJyb3RhdGVBeGlzIix2YWx1ZTpmdW5jdGlvbih0LGUpe3JldHVybiBvbi5rKHRoaXMsdGhpcyx0LGUpLHRoaXMuY2hlY2soKX19LHtrZXk6InNjYWxlIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gQXJyYXkuaXNBcnJheSh0KT9vbi5vKHRoaXMsdGhpcyx0KTpvbi5vKHRoaXMsdGhpcyxbdCx0LHRdKSx0aGlzLmNoZWNrKCl9fSx7a2V5OiJ0cmFuc2xhdGUiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiBvbi5wKHRoaXMsdGhpcyx0KSx0aGlzLmNoZWNrKCl9fSx7a2V5OiJ0cmFuc2Zvcm0iLHZhbHVlOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIDQ9PT10Lmxlbmd0aD8oVWUoZT1zbi5iKGV8fFstMCwtMCwtMCwtMF0sdCx0aGlzKSw0KSxlKTp0aGlzLnRyYW5zZm9ybUFzUG9pbnQodCxlKX19LHtrZXk6InRyYW5zZm9ybUFzUG9pbnQiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7c3dpdGNoKHQubGVuZ3RoKXtjYXNlIDI6ZT1KZS5oKGV8fFstMCwtMF0sdCx0aGlzKTticmVhaztjYXNlIDM6ZT1IZS5oKGV8fFstMCwtMCwtMF0sdCx0aGlzKTticmVhaztkZWZhdWx0OnRocm93IG5ldyBFcnJvcigiSWxsZWdhbCB2ZWN0b3IiKX1yZXR1cm4gVWUoZSx0Lmxlbmd0aCksZX19LHtrZXk6InRyYW5zZm9ybUFzVmVjdG9yIix2YWx1ZTpmdW5jdGlvbih0LGUpe3N3aXRjaCh0Lmxlbmd0aCl7Y2FzZSAyOm49ZXx8Wy0wLC0wXSxpPXRoaXMsYT0ocj10KVswXSxvPXJbMV0scz1pWzNdKmEraVs3XSpvfHwxLG5bMF09KGlbMF0qYStpWzRdKm8pL3MsblsxXT0oaVsxXSphK2lbNV0qbykvcyxlPW47YnJlYWs7Y2FzZSAzOmU9cWUoZXx8Wy0wLC0wLC0wXSx0LHRoaXMpO2JyZWFrO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKCJJbGxlZ2FsIHZlY3RvciIpfXZhciBuLHIsaSxhLG8scztyZXR1cm4gVWUoZSx0Lmxlbmd0aCksZX19LHtrZXk6Im1ha2VSb3RhdGlvblgiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmlkZW50aXR5KCkucm90YXRlWCh0KX19LHtrZXk6Im1ha2VUcmFuc2xhdGlvbiIsdmFsdWU6ZnVuY3Rpb24odCxlLG4pe3JldHVybiB0aGlzLmlkZW50aXR5KCkudHJhbnNsYXRlKFt0LGUsbl0pfX0se2tleToidHJhbnNmb3JtUG9pbnQiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIEdlKCJNYXRyaXg0LnRyYW5zZm9ybVBvaW50IiwiMy4wIiksdGhpcy50cmFuc2Zvcm1Bc1BvaW50KHQsZSl9fSx7a2V5OiJ0cmFuc2Zvcm1WZWN0b3IiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIEdlKCJNYXRyaXg0LnRyYW5zZm9ybVZlY3RvciIsIjMuMCIpLHRoaXMudHJhbnNmb3JtQXNQb2ludCh0LGUpfX0se2tleToidHJhbnNmb3JtRGlyZWN0aW9uIix2YWx1ZTpmdW5jdGlvbih0LGUpe3JldHVybiBHZSgiTWF0cml4NC50cmFuc2Zvcm1EaXJlY3Rpb24iLCIzLjAiKSx0aGlzLnRyYW5zZm9ybUFzVmVjdG9yKHQsZSl9fV0sW3trZXk6Il9jb21wdXRlSW5maW5pdGVQZXJzcGVjdGl2ZU9mZkNlbnRlciIsdmFsdWU6ZnVuY3Rpb24odCxlLG4scixpLGEpe3ZhciBvPTIqYS8obi1lKSxzPTIqYS8oaS1yKSx1PShuK2UpLyhuLWUpLGM9KGkrcikvKGktciksbD0tMiphO3JldHVybiB0WzBdPW8sdFsxXT0wLHRbMl09MCx0WzNdPTAsdFs0XT0wLHRbNV09cyx0WzZdPTAsdFs3XT0wLHRbOF09dSx0WzldPWMsdFsxMF09LTEsdFsxMV09LTEsdFsxMl09MCx0WzEzXT0wLHRbMTRdPWwsdFsxNV09MCx0fX1dKSxlfShZZSksZG49MWUtMTUsdm49MWUtMjAscG49KE1hdGguUEksTWF0aC5QSSxNYXRoLlBJLE1hdGguUEkse3NlbGY6InVuZGVmaW5lZCIhPXR5cGVvZiBzZWxmJiZzZWxmLHdpbmRvdzoidW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdyYmd2luZG93LGdsb2JhbDoidW5kZWZpbmVkIiE9dHlwZW9mIGdsb2JhbCYmZ2xvYmFsfSk7KHBuLmdsb2JhbHx8cG4uc2VsZnx8cG4ud2luZG93KS5tYXRoZ2w9e2NvbmZpZzpJZX07dmFyIGduPW5ldyBaZSx5bj1uZXcgWmUsbW49KGZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTpbMCwwLDBdLG49YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOlswLDAsMF0scj1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06bnVsbDtPYmplY3Qoa2UuYSkodGhpcyx0KSxyPXJ8fGduLmNvcHkoZSkuYWRkKG4pLnNjYWxlKC41KSx0aGlzLm1pbmltdW09bmV3IFplKGUpLHRoaXMubWF4aW11bT1uZXcgWmUobiksdGhpcy5jZW50ZXI9bmV3IFplKHIpfU9iamVjdChTZS5hKSh0LFt7a2V5OiJmcm9tUG9pbnRzIix2YWx1ZTpmdW5jdGlvbih0KXtpZighdHx8MD09PXQubGVuZ3RoKXJldHVybiB0aGlzLm1pbmltdW0uc2V0KDAsMCwwKSx0aGlzLm1heGltdW0uc2V0KDAsMCwwKSx0aGlzLmNlbnRlci5zZXQoMCwwLDApLHRoaXM7dmFyIGU9dFswXVswXSxuPXRbMF1bMV0scj10WzBdWzJdLGk9dFswXVswXSxhPXRbMF1bMV0sbz10WzBdWzJdLHM9ITAsdT0hMSxjPXZvaWQgMDt0cnl7Zm9yKHZhciBsLGg9dFtTeW1ib2wuaXRlcmF0b3JdKCk7IShzPShsPWgubmV4dCgpKS5kb25lKTtzPSEwKXt2YXIgZj1sLnZhbHVlLGQ9ZlswXSx2PWZbMV0scD1mWzJdO2U9TWF0aC5taW4oZCxlKSxpPU1hdGgubWF4KGQsaSksbj1NYXRoLm1pbih2LG4pLGE9TWF0aC5tYXgodixhKSxyPU1hdGgubWluKHAsciksbz1NYXRoLm1heChwLG8pfX1jYXRjaCh0KXt1PSEwLGM9dH1maW5hbGx5e3RyeXtzfHxudWxsPT1oLnJldHVybnx8aC5yZXR1cm4oKX1maW5hbGx5e2lmKHUpdGhyb3cgY319cmV0dXJuIHRoaXMubWluaW11bS5zZXQoZSxuLHIpLHRoaXMubWF4aW11bS5zZXQoaSxhLG8pLHRoaXMuY2VudGVyLmNvcHkodGhpcy5taW5pbXVtKS5hZGQodGhpcy5tYXhpbXVtKS5zY2FsZSguNSksdGhpc319LHtrZXk6ImNsb25lIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiBuZXcgdCh0aGlzLm1pbmltdW0sdGhpcy5tYXhpbXVtLHRoaXMuY2VudGVyKX19LHtrZXk6ImVxdWFscyIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXM9PT10fHxCb29sZWFuKHQpJiZ0aGlzLmNlbnRlci5lcXVhbHModC5jZW50ZXIpJiZ0aGlzLm1pbmltdW0uZXF1YWxzKHQubWluaW11bSkmJnRoaXMubWF4aW11bS5lcXVhbHModC5tYXhpbXVtKX19LHtrZXk6ImludGVyc2VjdFBsYW5lIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT1nbi5jb3B5KHRoaXMubWF4aW11bSkuc3VidHJhY3QodGhpcy5taW5pbXVtKS5zY2FsZSguNSksbj15bi5mcm9tKHQubm9ybWFsKSxyPWUueCpNYXRoLmFicyhuLngpK2UueSpNYXRoLmFicyhuLnkpK2UueipNYXRoLmFicyhuLnopLGk9dGhpcy5jZW50ZXIuZG90KG4pK3QuZGlzdGFuY2U7cmV0dXJuIGktcj4wP3dlLklOU0lERTppK3I8MD93ZS5PVVRTSURFOndlLklOVEVSU0VDVElOR319XSl9KCksbmV3IFplKSxibj1uZXcgWmUsX249ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOlswLDAsMF0sbj1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06MDtPYmplY3Qoa2UuYSkodGhpcyx0KSx0aGlzLnJhZGl1cz0tMCx0aGlzLmNlbnRlcj1uZXcgWmUsdGhpcy5mcm9tQ2VudGVyUmFkaXVzKGUsbil9cmV0dXJuIE9iamVjdChTZS5hKSh0LFt7a2V5OiJmcm9tQ2VudGVyUmFkaXVzIix2YWx1ZTpmdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLmNlbnRlci5mcm9tKHQpLHRoaXMucmFkaXVzPWUsdGhpc319LHtrZXk6ImZyb21Db3JuZXJQb2ludHMiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIGU9bW4uZnJvbShlKSx0aGlzLmNlbnRlcj0obmV3IFplKS5mcm9tKHQpLmFkZChlKS5zY2FsZSguNSksdGhpcy5yYWRpdXM9dGhpcy5jZW50ZXIuZGlzdGFuY2UoZSksdGhpc319LHtrZXk6ImVxdWFscyIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXM9PT10fHxCb29sZWFuKHQpJiZ0aGlzLmNlbnRlci5lcXVhbHModC5jZW50ZXIpJiZ0aGlzLnJhZGl1cz09PXQucmFkaXVzfX0se2tleToiY2xvbmUiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyB0KHRoaXMuY2VudGVyLHRoaXMucmFkaXVzKX19LHtrZXk6InVuaW9uIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLmNlbnRlcixuPXRoaXMucmFkaXVzLHI9dC5jZW50ZXIsaT10LnJhZGl1cyxhPW1uLmNvcHkocikuc3VidHJhY3QoZSksbz1hLm1hZ25pdHVkZSgpO2lmKG4+PW8raSlyZXR1cm4gdGhpcy5jbG9uZSgpO2lmKGk+PW8rbilyZXR1cm4gdC5jbG9uZSgpO3ZhciBzPS41KihuK28raSk7cmV0dXJuIGJuLmNvcHkoYSkuc2NhbGUoKC1uK3MpL28pLmFkZChlKSx0aGlzLmNlbnRlci5jb3B5KGJuKSx0aGlzLnJhZGl1cz1zLHRoaXN9fSx7a2V5OiJleHBhbmQiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPSh0PW1uLmZyb20odCkpLnN1YnRyYWN0KHRoaXMuY2VudGVyKS5tYWduaXR1ZGUoKTtyZXR1cm4gZT50aGlzLnJhZGl1cyYmKHRoaXMucmFkaXVzPWUpLHRoaXN9fSx7a2V5OiJpbnRlcnNlY3RQbGFuZSIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5jZW50ZXIsbj10aGlzLnJhZGl1cyxyPXQubm9ybWFsLmRvdChlKSt0LmRpc3RhbmNlO3JldHVybiByPC1uP3dlLk9VVFNJREU6cjxuP3dlLklOVEVSU0VDVElORzp3ZS5JTlNJREV9fSx7a2V5OiJ0cmFuc2Zvcm0iLHZhbHVlOmZ1bmN0aW9uKHQpe3RoaXMuY2VudGVyLnRyYW5zZm9ybSh0KTt2YXIgZT1vbi5lKG1uLHQpO3JldHVybiB0aGlzLnJhZGl1cz1NYXRoLm1heChlWzBdLE1hdGgubWF4KGVbMV0sZVsyXSkpKnRoaXMucmFkaXVzLHRoaXN9fSx7a2V5OiJkaXN0YW5jZVNxdWFyZWRUbyIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuKHQ9bW4uZnJvbSh0KSkuc3VidHJhY3QodGhpcy5jZW50ZXIpLmxlbmd0aFNxdWFyZWQoKS10aGlzLnJhZGl1cyp0aGlzLnJhZGl1c319LHtrZXk6ImRpc3RhbmNlVG8iLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiBNYXRoLnNxcnQodGhpcy5kaXN0YW5jZVNxdWFyZWRUbyh0KSl9fV0pLHR9KCksT249bmV3IHJuLHhuPW5ldyBybix3bj1uZXcgcm4sa249bmV3IHJuLFNuPW5ldyBybjtmdW5jdGlvbiBQbih0KXtmb3IodmFyIGU9MCxuPTA7bjw5Oysrbil7dmFyIHI9dFtuXTtlKz1yKnJ9cmV0dXJuIE1hdGguc3FydChlKX12YXIgam49WzEsMCwwXSxUbj1bMiwyLDFdO2Z1bmN0aW9uIEVuKHQpe2Zvcih2YXIgZT0wLG49MDtuPDM7KytuKXt2YXIgcj10W09uLmdldEVsZW1lbnRJbmRleChUbltuXSxqbltuXSldO2UrPTIqcipyfXJldHVybiBNYXRoLnNxcnQoZSl9ZnVuY3Rpb24gQW4odCxlKXtmb3IodmFyIG49ZG4scj0wLGk9MSxhPTA7YTwzOysrYSl7dmFyIG89TWF0aC5hYnModFtPbi5nZXRFbGVtZW50SW5kZXgoVG5bYV0sam5bYV0pXSk7bz5yJiYoaT1hLHI9byl9dmFyIHM9am5baV0sdT1UbltpXSxjPTEsbD0wO2lmKE1hdGguYWJzKHRbT24uZ2V0RWxlbWVudEluZGV4KHUscyldKT5uKXt2YXIgaCxmPSh0W09uLmdldEVsZW1lbnRJbmRleCh1LHUpXS10W09uLmdldEVsZW1lbnRJbmRleChzLHMpXSkvMi90W09uLmdldEVsZW1lbnRJbmRleCh1LHMpXTtsPShoPWY8MD8tMS8oLWYrTWF0aC5zcXJ0KDErZipmKSk6MS8oZitNYXRoLnNxcnQoMStmKmYpKSkqKGM9MS9NYXRoLnNxcnQoMStoKmgpKX1yZXR1cm4gcm4uSURFTlRJVFkudG8oZSksZVtPbi5nZXRFbGVtZW50SW5kZXgocyxzKV09ZVtPbi5nZXRFbGVtZW50SW5kZXgodSx1KV09YyxlW09uLmdldEVsZW1lbnRJbmRleCh1LHMpXT1sLGVbT24uZ2V0RWxlbWVudEluZGV4KHMsdSldPS1sLGV9dmFyIE1uPW5ldyBaZSxDbj1uZXcgWmUsTG49bmV3IFplLEluPW5ldyBaZSxSbj1uZXcgWmUsTm49bmV3IHJuLERuPXtkaWFnb25hbDpuZXcgcm4sdW5pdGFyeTpuZXcgcm59O2Z1bmN0aW9uIEZuKHQsZSl7aWYoIXR8fDA9PT10Lmxlbmd0aClyZXR1cm4gZS5oYWxmQXhlcz1uZXcgcm4oWzAsMCwwLDAsMCwwLDAsMCwwXSksZS5jZW50ZXI9bmV3IFplLGU7dmFyIG49dC5sZW5ndGgscj1uZXcgWmUoMCwwLDApLGk9ITAsYT0hMSxvPXZvaWQgMDt0cnl7Zm9yKHZhciBzLHU9dFtTeW1ib2wuaXRlcmF0b3JdKCk7IShpPShzPXUubmV4dCgpKS5kb25lKTtpPSEwKXt2YXIgYz1zLnZhbHVlO3IuYWRkKGMpfX1jYXRjaCh0KXthPSEwLG89dH1maW5hbGx5e3RyeXtpfHxudWxsPT11LnJldHVybnx8dS5yZXR1cm4oKX1maW5hbGx5e2lmKGEpdGhyb3cgb319dmFyIGw9MS9uO3IubXVsdGlwbHlCeVNjYWxhcihsKTt2YXIgaD0wLGY9MCxkPTAsdj0wLHA9MCxnPTAseT0hMCxtPSExLGI9dm9pZCAwO3RyeXtmb3IodmFyIF8sTz10W1N5bWJvbC5pdGVyYXRvcl0oKTshKHk9KF89Ty5uZXh0KCkpLmRvbmUpO3k9ITApe3ZhciB4PV8udmFsdWUsdz1Nbi5jb3B5KHgpLnN1YnRyYWN0KHIpO2grPXcueCp3LngsZis9dy54KncueSxkKz13Lngqdy56LHYrPXcueSp3LnkscCs9dy55KncueixnKz13Lnoqdy56fX1jYXRjaCh0KXttPSEwLGI9dH1maW5hbGx5e3RyeXt5fHxudWxsPT1PLnJldHVybnx8Ty5yZXR1cm4oKX1maW5hbGx5e2lmKG0pdGhyb3cgYn19aCo9bCxmKj1sLGQqPWwsdio9bCxwKj1sLGcqPWw7dmFyIGs9Tm47a1swXT1oLGtbMV09ZixrWzJdPWQsa1szXT1mLGtbNF09dixrWzVdPXAsa1s2XT1kLGtbN109cCxrWzhdPWc7dmFyIFM9ZnVuY3Rpb24odCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOnt9LG49dm4scj0xMCxpPTAsYT0wLG89eG4scz13bjtvLmlkZW50aXR5KCkscy5jb3B5KHQpO2Zvcih2YXIgdT1uKlBuKHMpO2E8ciYmRW4ocyk+dTspQW4ocyxrbiksU24uY29weShrbikudHJhbnNwb3NlKCkscy5tdWx0aXBseVJpZ2h0KGtuKSxzLm11bHRpcGx5TGVmdChTbiksby5tdWx0aXBseVJpZ2h0KGtuKSwrK2k+MiYmKCsrYSxpPTApO3JldHVybiBlLnVuaXRhcnk9by50b1RhcmdldChlLnVuaXRhcnkpLGUuZGlhZ29uYWw9cy50b1RhcmdldChlLmRpYWdvbmFsKSxlfShrLERuKS51bml0YXJ5LFA9ZS5oYWxmQXhlcy5jb3B5KFMpLGo9UC5nZXRDb2x1bW4oMCxMbiksVD1QLmdldENvbHVtbigxLEluKSxFPVAuZ2V0Q29sdW1uKDIsUm4pLEE9LU51bWJlci5NQVhfVkFMVUUsTT0tTnVtYmVyLk1BWF9WQUxVRSxDPS1OdW1iZXIuTUFYX1ZBTFVFLEw9TnVtYmVyLk1BWF9WQUxVRSxJPU51bWJlci5NQVhfVkFMVUUsUj1OdW1iZXIuTUFYX1ZBTFVFLE49ITAsRD0hMSxGPXZvaWQgMDt0cnl7Zm9yKHZhciB6LEI9dFtTeW1ib2wuaXRlcmF0b3JdKCk7IShOPSh6PUIubmV4dCgpKS5kb25lKTtOPSEwKXt2YXIgVT16LnZhbHVlO0E9TWF0aC5tYXgoVS5kb3QoaiksQSksTT1NYXRoLm1heChVLmRvdChUKSxNKSxDPU1hdGgubWF4KFUuZG90KEUpLEMpLEw9TWF0aC5taW4oVS5kb3QoaiksTCksST1NYXRoLm1pbihVLmRvdChUKSxJKSxSPU1hdGgubWluKFUuZG90KEUpLFIpfX1jYXRjaCh0KXtEPSEwLEY9dH1maW5hbGx5e3RyeXtOfHxudWxsPT1CLnJldHVybnx8Qi5yZXR1cm4oKX1maW5hbGx5e2lmKEQpdGhyb3cgRn19aj1qLm11bHRpcGx5QnlTY2FsYXIoLjUqKEwrQSkpLFQ9VC5tdWx0aXBseUJ5U2NhbGFyKC41KihJK00pKSxFPUUubXVsdGlwbHlCeVNjYWxhciguNSooUitDKSksZS5jZW50ZXIuY29weShqKS5hZGQoVCkuYWRkKEUpO3ZhciBWPUNuLnNldChBLUwsTS1JLEMtUikubXVsdGlwbHlCeVNjYWxhciguNSk7cmV0dXJuIGUuaGFsZkF4ZXMubXVsdGlwbHlCeVNjYWxhcihWKSxlfXZhciB6bj1uZXcgWmUsQm49bmV3IFplLFVuPW5ldyBaZSxWbj1uZXcgWmUsR249bmV3IFplLFduPW5ldyBaZSxIbj1uZXcgWmUscW49bmV3IFplLFhuPW5ldyBaZSxabj1uZXcgWmUsWW49bmV3IFplLEtuPTAsUW49MSxKbj0yLCRuPTMsdHI9NCxlcj01LG5yPTYscnI9Nyxpcj04LGFyPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTpbMCwwLDBdLG49YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOlswLDAsMCwwLDAsMCwwLDAsMF07T2JqZWN0KGtlLmEpKHRoaXMsdCksdGhpcy5jZW50ZXI9KG5ldyBaZSkuZnJvbShlKSx0aGlzLmhhbGZBeGVzPW5ldyBybihuKX1yZXR1cm4gT2JqZWN0KFNlLmEpKHQsW3trZXk6ImNsb25lIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gbmV3IHQodGhpcy5jZW50ZXIsdGhpcy5oYWxmQXhlcyl9fSx7a2V5OiJmcm9tUG9pbnRzIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgbj1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06bmV3IHQ7cmV0dXJuIEZuKGUsbil9fSx7a2V5OiJlcXVhbHMiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzPT09dHx8Qm9vbGVhbih0KSYmdGhpcy5jZW50ZXIuZXF1YWxzKHQuY2VudGVyKSYmdGhpcy5oYWxmQXhlcy5lcXVhbHModC5oYWxmQXhlcyl9fSx7a2V5OiJnZXRCb3VuZGluZ1NwaGVyZSIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06bmV3IF9uLGU9dGhpcy5oYWxmQXhlcyxuPWUuZ2V0Q29sdW1uKDAsWG4pLHI9ZS5nZXRDb2x1bW4oMSxabiksaT1lLmdldENvbHVtbigyLFluKSxhPXpuLmNvcHkobikuYWRkKHIpLmFkZChpKTtyZXR1cm4gdC5jZW50ZXIuY29weSh0aGlzLmNlbnRlciksdC5yYWRpdXM9YS5tYWduaXR1ZGUoKSx0fX0se2tleToiaW50ZXJzZWN0UGxhbmUiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuY2VudGVyLG49dC5ub3JtYWwscj10aGlzLmhhbGZBeGVzLGk9bi54LGE9bi55LG89bi56LHM9TWF0aC5hYnMoaSpyW0tuXSthKnJbUW5dK28qcltKbl0pK01hdGguYWJzKGkqclskbl0rYSpyW3RyXStvKnJbZXJdKStNYXRoLmFicyhpKnJbbnJdK2Eqcltycl0rbypyW2lyXSksdT1uLmRvdChlKSt0LmRpc3RhbmNlO3JldHVybiB1PD0tcz93ZS5PVVRTSURFOnU+PXM/d2UuSU5TSURFOndlLklOVEVSU0VDVElOR319LHtrZXk6ImRpc3RhbmNlVG8iLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiBNYXRoLnNxcnQodGhpcy5kaXN0YW5jZVNxdWFyZWRUbyh0KSl9fSx7a2V5OiJkaXN0YW5jZVNxdWFyZWRUbyIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9Qm4uZnJvbSh0KS5zdWJ0cmFjdCh0aGlzLmNlbnRlciksbj10aGlzLmhhbGZBeGVzLHI9bi5nZXRDb2x1bW4oMCxVbiksaT1uLmdldENvbHVtbigxLFZuKSxhPW4uZ2V0Q29sdW1uKDIsR24pLG89ci5tYWduaXR1ZGUoKSxzPWkubWFnbml0dWRlKCksdT1hLm1hZ25pdHVkZSgpO3Iubm9ybWFsaXplKCksaS5ub3JtYWxpemUoKSxhLm5vcm1hbGl6ZSgpO3ZhciBjPVduO2MueD1lLmRvdChyKSxjLnk9ZS5kb3QoaSksYy56PWUuZG90KGEpO3ZhciBsLGg9MDtyZXR1cm4gYy54PC1vP2grPShsPWMueCtvKSpsOmMueD5vJiYoaCs9KGw9Yy54LW8pKmwpLGMueTwtcz9oKz0obD1jLnkrcykqbDpjLnk+cyYmKGgrPShsPWMueS1zKSpsKSxjLno8LXU/aCs9KGw9Yy56K3UpKmw6Yy56PnUmJihoKz0obD1jLnotdSkqbCksaH19LHtrZXk6ImNvbXB1dGVQbGFuZURpc3RhbmNlcyIsdmFsdWU6ZnVuY3Rpb24odCxlKXt2YXIgbj1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06W1tdLFtdXSxyPU51bWJlci5QT1NJVElWRV9JTkZJTklUWSxpPU51bWJlci5ORUdBVElWRV9JTkZJTklUWSxhPXRoaXMuY2VudGVyLG89dGhpcy5oYWxmQXhlcyxzPW8uZ2V0Q29sdW1uKDAsVW4pLHU9by5nZXRDb2x1bW4oMSxWbiksYz1vLmdldENvbHVtbigyLEduKSxsPUhuLmNvcHkocykuYWRkKHUpLmFkZChjKS5hZGQoYSksaD1xbi5jb3B5KGwpLnN1YnRyYWN0KHQpLGY9ZS5kb3QoaCk7cmV0dXJuIHI9TWF0aC5taW4oZixyKSxpPU1hdGgubWF4KGYsaSksbC5jb3B5KGEpLmFkZChzKS5hZGQodSkuc3VidHJhY3QoYyksaC5jb3B5KGwpLnN1YnRyYWN0KHQpLGY9ZS5kb3QoaCkscj1NYXRoLm1pbihmLHIpLGk9TWF0aC5tYXgoZixpKSxsLmNvcHkoYSkuYWRkKHMpLnN1YnRyYWN0KHUpLmFkZChjKSxoLmNvcHkobCkuc3VidHJhY3QodCksZj1lLmRvdChoKSxyPU1hdGgubWluKGYsciksaT1NYXRoLm1heChmLGkpLGwuY29weShhKS5hZGQocykuc3VidHJhY3QodSkuc3VidHJhY3QoYyksaC5jb3B5KGwpLnN1YnRyYWN0KHQpLGY9ZS5kb3QoaCkscj1NYXRoLm1pbihmLHIpLGk9TWF0aC5tYXgoZixpKSxhLmNvcHkobCkuc3VidHJhY3QocykuYWRkKHUpLmFkZChjKSxoLmNvcHkobCkuc3VidHJhY3QodCksZj1lLmRvdChoKSxyPU1hdGgubWluKGYsciksaT1NYXRoLm1heChmLGkpLGEuY29weShsKS5zdWJ0cmFjdChzKS5hZGQodSkuc3VidHJhY3QoYyksaC5jb3B5KGwpLnN1YnRyYWN0KHQpLGY9ZS5kb3QoaCkscj1NYXRoLm1pbihmLHIpLGk9TWF0aC5tYXgoZixpKSxhLmNvcHkobCkuc3VidHJhY3Qocykuc3VidHJhY3QodSkuYWRkKGMpLGguY29weShsKS5zdWJ0cmFjdCh0KSxmPWUuZG90KGgpLHI9TWF0aC5taW4oZixyKSxpPU1hdGgubWF4KGYsaSksYS5jb3B5KGwpLnN1YnRyYWN0KHMpLnN1YnRyYWN0KHUpLnN1YnRyYWN0KGMpLGguY29weShsKS5zdWJ0cmFjdCh0KSxmPWUuZG90KGgpLHI9TWF0aC5taW4oZixyKSxpPU1hdGgubWF4KGYsaSksbi5zdGFydD1yLG4uc3RvcD1pLG59fSx7a2V5OiJnZXRUcmFuc2Zvcm0iLHZhbHVlOmZ1bmN0aW9uKCl7fX1dKSx0fSgpLG9yPW5ldyBaZSxzcj1uZXcgWmUsdXI9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOlswLDAsMV0sbj1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06MDtPYmplY3Qoa2UuYSkodGhpcyx0KSx0aGlzLm5vcm1hbD1uZXcgWmUsdGhpcy5kaXN0YW5jZT0tMCx0aGlzLmZyb21Ob3JtYWxEaXN0YW5jZShlLG4pfXJldHVybiBPYmplY3QoU2UuYSkodCxbe2tleToiZnJvbU5vcm1hbERpc3RhbmNlIix2YWx1ZTpmdW5jdGlvbih0LGUpe3JldHVybiBMZShOdW1iZXIuaXNGaW5pdGUoZSkpLHRoaXMubm9ybWFsLmZyb20odCkubm9ybWFsaXplKCksdGhpcy5kaXN0YW5jZT1lLHRoaXN9fSx7a2V5OiJmcm9tUG9pbnROb3JtYWwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dD1vci5mcm9tKHQpLHRoaXMubm9ybWFsLmZyb20oZSkubm9ybWFsaXplKCk7dmFyIG49LXRoaXMubm9ybWFsLmRvdCh0KTtyZXR1cm4gdGhpcy5kaXN0YW5jZT1uLHRoaXN9fSx7a2V5OiJmcm9tQ29lZmZpY2llbnRzIix2YWx1ZTpmdW5jdGlvbih0LGUsbixyKXtyZXR1cm4gdGhpcy5ub3JtYWwuc2V0KHQsZSxuKSxMZShGZSh0aGlzLm5vcm1hbC5sZW4oKSwxKSksdGhpcy5kaXN0YW5jZT1yLHRoaXN9fSx7a2V5OiJjbG9uZSIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyB0KHRoaXMubm9ybWFsLHRoaXMuZGlzdGFuY2UpfX0se2tleToiZXF1YWxzIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gRmUodGhpcy5kaXN0YW5jZSx0LmRpc3RhbmNlKSYmRmUodGhpcy5ub3JtYWwsdC5ub3JtYWwpfX0se2tleToiZ2V0UG9pbnREaXN0YW5jZSIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMubm9ybWFsLmRvdCh0KSt0aGlzLmRpc3RhbmNlfX0se2tleToidHJhbnNmb3JtIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT1zci5jb3B5KHRoaXMubm9ybWFsKS50cmFuc2Zvcm1Bc1ZlY3Rvcih0KS5ub3JtYWxpemUoKSxuPXRoaXMubm9ybWFsLnNjYWxlKC10aGlzLmRpc3RhbmNlKS50cmFuc2Zvcm0odCk7cmV0dXJuIHRoaXMuZnJvbVBvaW50Tm9ybWFsKG4sZSl9fSx7a2V5OiJwcm9qZWN0UG9pbnRPbnRvUGxhbmUiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTpbMCwwLDBdO3Q9b3IuZnJvbSh0KTt2YXIgbj10aGlzLmdldFBvaW50RGlzdGFuY2UodCkscj1zci5jb3B5KHRoaXMubm9ybWFsKS5zY2FsZShuKTtyZXR1cm4gdC5zdWJ0cmFjdChyKS50byhlKX19XSksdH0oKSxjcj1bbmV3IFplKFsxLDAsMF0pLG5ldyBaZShbMCwxLDBdKSxuZXcgWmUoWzAsMCwxXSldLGxyPW5ldyBaZSxocj1uZXcgWmUsZnI9KG5ldyB1cihuZXcgWmUoMSwwLDApLDApLGZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTpbXTtPYmplY3Qoa2UuYSkodGhpcyx0KSx0aGlzLnBsYW5lcz1lLExlKHRoaXMucGxhbmVzLmV2ZXJ5KChmdW5jdGlvbih0KXtyZXR1cm4gdCBpbnN0YW5jZW9mIHVyfSkpKX1yZXR1cm4gT2JqZWN0KFNlLmEpKHQsbnVsbCxbe2tleToiTUFTS19PVVRTSURFIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gNDI5NDk2NzI5NX19LHtrZXk6Ik1BU0tfSU5TSURFIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gMH19LHtrZXk6Ik1BU0tfSU5ERVRFUk1JTkFURSIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIDIxNDc0ODM2NDd9fV0pLE9iamVjdChTZS5hKSh0LFt7a2V5OiJmcm9tQm91bmRpbmdTcGhlcmUiLHZhbHVlOmZ1bmN0aW9uKHQpe3RoaXMucGxhbmVzLmxlbmd0aD0yKmNyLmxlbmd0aDt2YXIgZT10LmNlbnRlcixuPXQucmFkaXVzLHI9MCxpPSEwLGE9ITEsbz12b2lkIDA7dHJ5e2Zvcih2YXIgcyx1PWNyW1N5bWJvbC5pdGVyYXRvcl0oKTshKGk9KHM9dS5uZXh0KCkpLmRvbmUpO2k9ITApe3ZhciBjPXMudmFsdWUsbD10aGlzLnBsYW5lc1tyXSxoPXRoaXMucGxhbmVzW3IrMV07bHx8KGw9dGhpcy5wbGFuZXNbcl09bmV3IHVyKSxofHwoaD10aGlzLnBsYW5lc1tyKzFdPW5ldyB1cik7dmFyIGY9bHIuY29weShjKS5zY2FsZSgtbikuYWRkKGUpO2MuZG90KGYpO2wuZnJvbVBvaW50Tm9ybWFsKGYsYyk7dmFyIGQ9bHIuY29weShjKS5zY2FsZShuKS5hZGQoZSksdj1oci5jb3B5KGMpLm5lZ2F0ZSgpO3YuZG90KGQpO2guZnJvbVBvaW50Tm9ybWFsKGQsdikscis9Mn19Y2F0Y2godCl7YT0hMCxvPXR9ZmluYWxseXt0cnl7aXx8bnVsbD09dS5yZXR1cm58fHUucmV0dXJuKCl9ZmluYWxseXtpZihhKXRocm93IG99fXJldHVybiB0aGlzfX0se2tleToiY29tcHV0ZVZpc2liaWxpdHkiLHZhbHVlOmZ1bmN0aW9uKHQpe0xlKHQpO3ZhciBlPXdlLklOU0lERSxuPSEwLHI9ITEsaT12b2lkIDA7dHJ5e2Zvcih2YXIgYSxvPXRoaXMucGxhbmVzW1N5bWJvbC5pdGVyYXRvcl0oKTshKG49KGE9by5uZXh0KCkpLmRvbmUpO249ITApe3ZhciBzPWEudmFsdWU7c3dpdGNoKHQuaW50ZXJzZWN0UGxhbmUocykpe2Nhc2Ugd2UuT1VUU0lERTpyZXR1cm4gd2UuT1VUU0lERTtjYXNlIHdlLklOVEVSU0VDVElORzplPXdlLklOVEVSU0VDVElOR319fWNhdGNoKHQpe3I9ITAsaT10fWZpbmFsbHl7dHJ5e258fG51bGw9PW8ucmV0dXJufHxvLnJldHVybigpfWZpbmFsbHl7aWYocil0aHJvdyBpfX1yZXR1cm4gZX19LHtrZXk6ImNvbXB1dGVWaXNpYmlsaXR5V2l0aFBsYW5lTWFzayIsdmFsdWU6ZnVuY3Rpb24oZSxuKXtpZihMZShlLCJib3VuZGluZ1ZvbHVtZSBpcyByZXF1aXJlZC4iKSxMZShOdW1iZXIuaXNGaW5pdGUobiksInBhcmVudFBsYW5lTWFzayBpcyByZXF1aXJlZC4iKSxuPT09dC5NQVNLX09VVFNJREV8fG49PT10Lk1BU0tfSU5TSURFKXJldHVybiBuO2Zvcih2YXIgcj10Lk1BU0tfSU5TSURFLGk9dGhpcy5wbGFuZXMsYT0wO2E8dGhpcy5wbGFuZXMubGVuZ3RoOysrYSl7dmFyIG89YTwzMT8xPDxhOjA7aWYoIShhPDMxJiYwPT0obiZvKSkpe3ZhciBzPWlbYV0sdT1lLmludGVyc2VjdFBsYW5lKHMpO2lmKHU9PT13ZS5PVVRTSURFKXJldHVybiB0Lk1BU0tfT1VUU0lERTt1PT09d2UuSU5URVJTRUNUSU5HJiYocnw9byl9fXJldHVybiByfX1dKSx0fSgpKTtmdW5jdGlvbiBkcih0LGUsbil7cmV0dXJuIGUgaW4gdD9PYmplY3QuZGVmaW5lUHJvcGVydHkodCxlLHt2YWx1ZTpuLGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwfSk6dFtlXT1uLHR9ZnVuY3Rpb24gdnIodCxlKXt2YXIgbj1PYmplY3Qua2V5cyh0KTtpZihPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgcj1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHQpO2UmJihyPXIuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0LGUpLmVudW1lcmFibGV9KSkpLG4ucHVzaC5hcHBseShuLHIpfXJldHVybiBufWZ1bmN0aW9uIHByKHQpe2Zvcih2YXIgZT0xO2U8YXJndW1lbnRzLmxlbmd0aDtlKyspe3ZhciBuPW51bGwhPWFyZ3VtZW50c1tlXT9hcmd1bWVudHNbZV06e307ZSUyP3ZyKG4sITApLmZvckVhY2goKGZ1bmN0aW9uKGUpe2RyKHQsZSxuW2VdKX0pKTpPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycz9PYmplY3QuZGVmaW5lUHJvcGVydGllcyh0LE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKG4pKTp2cihuKS5mb3JFYWNoKChmdW5jdGlvbihlKXtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxlLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IobixlKSl9KSl9cmV0dXJuIHR9dmFyIGdyPW5ldyBaZSx5cj1uZXcgWmUsbXI9bmV3IFplLGJyPW5ldyBaZSxfcj1uZXcgWmUsT3I9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9O09iamVjdChrZS5hKSh0aGlzLHQpLGU9cHIoe25lYXI6MSxmYXI6NWU4fSxlKSx0aGlzLmxlZnQ9ZS5sZWZ0LHRoaXMuX2xlZnQ9dm9pZCAwLHRoaXMucmlnaHQ9ZS5yaWdodCx0aGlzLl9yaWdodD12b2lkIDAsdGhpcy50b3A9ZS50b3AsdGhpcy5fdG9wPXZvaWQgMCx0aGlzLmJvdHRvbT1lLmJvdHRvbSx0aGlzLl9ib3R0b209dm9pZCAwLHRoaXMubmVhcj1lLm5lYXIsdGhpcy5fbmVhcj10aGlzLm5lYXIsdGhpcy5mYXI9ZS5mYXIsdGhpcy5fZmFyPXRoaXMuZmFyLHRoaXMuX2N1bGxpbmdWb2x1bWU9bmV3IGZyKFtuZXcgdXIsbmV3IHVyLG5ldyB1cixuZXcgdXIsbmV3IHVyLG5ldyB1cl0pLHRoaXMuX3BlcnNwZWN0aXZlTWF0cml4PW5ldyBmbix0aGlzLl9pbmZpbml0ZVBlcnNwZWN0aXZlPW5ldyBmbn1yZXR1cm4gT2JqZWN0KFNlLmEpKHQsW3trZXk6ImNsb25lIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiBuZXcgdCh7cmlnaHQ6dGhpcy5yaWdodCxsZWZ0OnRoaXMubGVmdCx0b3A6dGhpcy50b3AsYm90dG9tOnRoaXMuYm90dG9tLG5lYXI6dGhpcy5uZWFyLGZhcjp0aGlzLmZhcn0pfX0se2tleToiZXF1YWxzIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZSYmZSBpbnN0YW5jZW9mIHQmJnRoaXMucmlnaHQ9PT1lLnJpZ2h0JiZ0aGlzLmxlZnQ9PT1lLmxlZnQmJnRoaXMudG9wPT09ZS50b3AmJnRoaXMuYm90dG9tPT09ZS5ib3R0b20mJnRoaXMubmVhcj09PWUubmVhciYmdGhpcy5mYXI9PT1lLmZhcn19LHtrZXk6ImNvbXB1dGVDdWxsaW5nVm9sdW1lIix2YWx1ZTpmdW5jdGlvbih0LGUsbil7TGUodCwicG9zaXRpb24gaXMgcmVxdWlyZWQuIiksTGUoZSwiZGlyZWN0aW9uIGlzIHJlcXVpcmVkLiIpLExlKG4sInVwIGlzIHJlcXVpcmVkLiIpO3ZhciByPXRoaXMuX2N1bGxpbmdWb2x1bWUucGxhbmVzO249Z3IuY29weShuKS5ub3JtYWxpemUoKTt2YXIgaT15ci5jb3B5KGUpLmNyb3NzKG4pLm5vcm1hbGl6ZSgpLGE9bXIuY29weShlKS5tdWx0aXBseUJ5U2NhbGFyKHRoaXMubmVhcikuYWRkKHQpLG89YnIuY29weShlKS5tdWx0aXBseUJ5U2NhbGFyKHRoaXMuZmFyKS5hZGQodCkscz1fcjtyZXR1cm4gcy5jb3B5KGkpLm11bHRpcGx5QnlTY2FsYXIodGhpcy5sZWZ0KS5hZGQoYSkuc3VidHJhY3QodCkuY3Jvc3MobiksclswXS5mcm9tUG9pbnROb3JtYWwodCxzKSxzLmNvcHkoaSkubXVsdGlwbHlCeVNjYWxhcih0aGlzLnJpZ2h0KS5hZGQoYSkuc3VidHJhY3QodCkuY3Jvc3MobikubmVnYXRlKCksclsxXS5mcm9tUG9pbnROb3JtYWwodCxzKSxzLmNvcHkobikubXVsdGlwbHlCeVNjYWxhcih0aGlzLmJvdHRvbSkuYWRkKGEpLnN1YnRyYWN0KHQpLmNyb3NzKGkpLm5lZ2F0ZSgpLHJbMl0uZnJvbVBvaW50Tm9ybWFsKHQscykscy5jb3B5KG4pLm11bHRpcGx5QnlTY2FsYXIodGhpcy50b3ApLmFkZChhKS5zdWJ0cmFjdCh0KS5jcm9zcyhpKSxyWzNdLmZyb21Qb2ludE5vcm1hbCh0LHMpLHM9KG5ldyBaZSkuY29weShlKSxyWzRdLmZyb21Qb2ludE5vcm1hbChhLHMpLHMubmVnYXRlKCkscls1XS5mcm9tUG9pbnROb3JtYWwobyxzKSx0aGlzLl9jdWxsaW5nVm9sdW1lfX0se2tleToiZ2V0UGl4ZWxEaW1lbnNpb25zIix2YWx1ZTpmdW5jdGlvbih0LGUsbixyKXt4cih0aGlzKSxMZShOdW1iZXIuaXNGaW5pdGUodCkmJk51bWJlci5pc0Zpbml0ZShlKSksTGUodD4wKSxMZShlPjApLExlKG4+MCksTGUocik7dmFyIGk9MS90aGlzLm5lYXIsYT10aGlzLnRvcCppLG89MipuKmEvZSxzPTIqbiooYT10aGlzLnJpZ2h0KmkpL3Q7cmV0dXJuIHIueD1zLHIueT1vLHJ9fSx7a2V5OiJwcm9qZWN0aW9uTWF0cml4IixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4geHIodGhpcyksdGhpcy5fcGVyc3BlY3RpdmVNYXRyaXh9fSx7a2V5OiJpbmZpbml0ZVByb2plY3Rpb25NYXRyaXgiLGdldDpmdW5jdGlvbigpe3JldHVybiB4cih0aGlzKSx0aGlzLl9pbmZpbml0ZVBlcnNwZWN0aXZlfX1dKSx0fSgpO2Z1bmN0aW9uIHhyKHQpe0xlKE51bWJlci5pc0Zpbml0ZSh0LnJpZ2h0KSYmTnVtYmVyLmlzRmluaXRlKHQubGVmdCkmJk51bWJlci5pc0Zpbml0ZSh0LnRvcCkmJk51bWJlci5pc0Zpbml0ZSh0LmJvdHRvbSkmJk51bWJlci5pc0Zpbml0ZSh0Lm5lYXIpJiZOdW1iZXIuaXNGaW5pdGUodC5mYXIpKTt2YXIgZT10LnRvcCxuPXQuYm90dG9tLHI9dC5yaWdodCxpPXQubGVmdCxhPXQubmVhcixvPXQuZmFyO2U9PT10Ll90b3AmJm49PT10Ll9ib3R0b20mJmk9PT10Ll9sZWZ0JiZyPT09dC5fcmlnaHQmJmE9PT10Ll9uZWFyJiZvPT09dC5fZmFyfHwoTGUodC5uZWFyPjAmJnQubmVhcjx0LmZhciwibmVhciBtdXN0IGJlIGdyZWF0ZXIgdGhhbiB6ZXJvIGFuZCBsZXNzIHRoYW4gZmFyLiIpLHQuX2xlZnQ9aSx0Ll9yaWdodD1yLHQuX3RvcD1lLHQuX2JvdHRvbT1uLHQuX25lYXI9YSx0Ll9mYXI9byx0Ll9wZXJzcGVjdGl2ZU1hdHJpeD0obmV3IGZuKS5mcnVzdHVtKHtsZWZ0OmkscmlnaHQ6cixib3R0b206bix0b3A6ZSxuZWFyOmEsZmFyOm99KSx0Ll9pbmZpbml0ZVBlcnNwZWN0aXZlPShuZXcgZm4pLmZydXN0dW0oe2xlZnQ6aSxyaWdodDpyLGJvdHRvbTpuLHRvcDplLG5lYXI6YSxmYXI6MS8wfSkpfWZ1bmN0aW9uIHdyKHQsZSl7dmFyIG49T2JqZWN0LmtleXModCk7aWYoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyl7dmFyIHI9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyh0KTtlJiYocj1yLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodCxlKS5lbnVtZXJhYmxlfSkpKSxuLnB1c2guYXBwbHkobixyKX1yZXR1cm4gbn1mdW5jdGlvbiBrcih0KXtmb3IodmFyIGU9MTtlPGFyZ3VtZW50cy5sZW5ndGg7ZSsrKXt2YXIgbj1udWxsIT1hcmd1bWVudHNbZV0/YXJndW1lbnRzW2VdOnt9O2UlMj93cihuLCEwKS5mb3JFYWNoKChmdW5jdGlvbihlKXtkcih0LGUsbltlXSl9KSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXModCxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhuKSk6d3IobikuZm9yRWFjaCgoZnVuY3Rpb24oZSl7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsZSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG4sZSkpfSkpfXJldHVybiB0fSFmdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e307T2JqZWN0KGtlLmEpKHRoaXMsdCksZT1rcih7bmVhcjoxLGZhcjo1ZTgseE9mZnNldDowLHlPZmZzZXQ6MH0sZSksdGhpcy5fb2ZmQ2VudGVyRnJ1c3R1bT1uZXcgT3IsdGhpcy5mb3Y9ZS5mb3YsdGhpcy5fZm92PXZvaWQgMCx0aGlzLl9mb3Z5PXZvaWQgMCx0aGlzLl9zc2VEZW5vbWluYXRvcj12b2lkIDAsdGhpcy5hc3BlY3RSYXRpbz1lLmFzcGVjdFJhdGlvLHRoaXMuX2FzcGVjdFJhdGlvPXZvaWQgMCx0aGlzLm5lYXI9ZS5uZWFyLHRoaXMuX25lYXI9dGhpcy5uZWFyLHRoaXMuZmFyPWUuZmFyLHRoaXMuX2Zhcj10aGlzLmZhcix0aGlzLnhPZmZzZXQ9ZS54T2Zmc2V0LHRoaXMuX3hPZmZzZXQ9dGhpcy54T2Zmc2V0LHRoaXMueU9mZnNldD1lLnlPZmZzZXQsdGhpcy5feU9mZnNldD10aGlzLnlPZmZzZXR9T2JqZWN0KFNlLmEpKHQsW3trZXk6ImNsb25lIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiBuZXcgdCh7YXNwZWN0UmF0aW86dGhpcy5hc3BlY3RSYXRpbyxmb3Y6dGhpcy5mb3YsbmVhcjp0aGlzLm5lYXIsZmFyOnRoaXMuZmFyfSl9fSx7a2V5OiJlcXVhbHMiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBudWxsIT1lJiZlIGluc3RhbmNlb2YgdCYmKFNyKHRoaXMpLFNyKGUpLHRoaXMuZm92PT09ZS5mb3YmJnRoaXMuYXNwZWN0UmF0aW89PT1lLmFzcGVjdFJhdGlvJiZ0aGlzLm5lYXI9PT1lLm5lYXImJnRoaXMuZmFyPT09ZS5mYXImJnRoaXMuX29mZkNlbnRlckZydXN0dW0uZXF1YWxzKGUuX29mZkNlbnRlckZydXN0dW0pKX19LHtrZXk6ImNvbXB1dGVDdWxsaW5nVm9sdW1lIix2YWx1ZTpmdW5jdGlvbih0LGUsbil7cmV0dXJuIFNyKHRoaXMpLHRoaXMuX29mZkNlbnRlckZydXN0dW0uY29tcHV0ZUN1bGxpbmdWb2x1bWUodCxlLG4pfX0se2tleToiZ2V0UGl4ZWxEaW1lbnNpb25zIix2YWx1ZTpmdW5jdGlvbih0LGUsbixyKXtyZXR1cm4gU3IodGhpcyksdGhpcy5fb2ZmQ2VudGVyRnJ1c3R1bS5nZXRQaXhlbERpbWVuc2lvbnModCxlLG4scil9fSx7a2V5OiJwcm9qZWN0aW9uTWF0cml4IixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gU3IodGhpcyksdGhpcy5fb2ZmQ2VudGVyRnJ1c3R1bS5wcm9qZWN0aW9uTWF0cml4fX0se2tleToiaW5maW5pdGVQcm9qZWN0aW9uTWF0cml4IixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gU3IodGhpcyksdGhpcy5fb2ZmQ2VudGVyRnJ1c3R1bS5pbmZpbml0ZVByb2plY3Rpb25NYXRyaXh9fSx7a2V5OiJmb3Z5IixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gU3IodGhpcyksdGhpcy5fZm92eX19LHtrZXk6InNzZURlbm9taW5hdG9yIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gU3IodGhpcyksdGhpcy5fc3NlRGVub21pbmF0b3J9fV0pfSgpO2Z1bmN0aW9uIFNyKHQpe0xlKE51bWJlci5pc0Zpbml0ZSh0LmZvdikmJk51bWJlci5pc0Zpbml0ZSh0LmFzcGVjdFJhdGlvKSYmTnVtYmVyLmlzRmluaXRlKHQubmVhcikmJk51bWJlci5pc0Zpbml0ZSh0LmZhcikpO3ZhciBlPXQuX29mZkNlbnRlckZydXN0dW07dC5mb3Y9PT10Ll9mb3YmJnQuYXNwZWN0UmF0aW89PT10Ll9hc3BlY3RSYXRpbyYmdC5uZWFyPT09dC5fbmVhciYmdC5mYXI9PT10Ll9mYXImJnQueE9mZnNldD09PXQuX3hPZmZzZXQmJnQueU9mZnNldD09PXQuX3lPZmZzZXR8fChMZSh0LmZvdj49MCYmdC5mb3Y8TWF0aC5QSSksTGUodC5hc3BlY3RSYXRpbz4wKSxMZSh0Lm5lYXI+PTAmJnQubmVhcjx0LmZhciksdC5fYXNwZWN0UmF0aW89dC5hc3BlY3RSYXRpbyx0Ll9mb3Y9dC5mb3YsdC5fZm92eT10LmFzcGVjdFJhdGlvPD0xP3QuZm92OjIqTWF0aC5hdGFuKE1hdGgudGFuKC41KnQuZm92KS90LmFzcGVjdFJhdGlvKSx0Ll9uZWFyPXQubmVhcix0Ll9mYXI9dC5mYXIsdC5fc3NlRGVub21pbmF0b3I9MipNYXRoLnRhbiguNSp0Ll9mb3Z5KSx0Ll94T2Zmc2V0PXQueE9mZnNldCx0Ll95T2Zmc2V0PXQueU9mZnNldCxlLnRvcD10Lm5lYXIqTWF0aC50YW4oLjUqdC5fZm92eSksZS5ib3R0b209LWUudG9wLGUucmlnaHQ9dC5hc3BlY3RSYXRpbyplLnRvcCxlLmxlZnQ9LWUucmlnaHQsZS5uZWFyPXQubmVhcixlLmZhcj10LmZhcixlLnJpZ2h0Kz10LnhPZmZzZXQsZS5sZWZ0Kz10LnhPZmZzZXQsZS50b3ArPXQueU9mZnNldCxlLmJvdHRvbSs9dC55T2Zmc2V0KX1uZXcgWmUsbmV3IFplLG5ldyBaZSxuZXcgWmUsbmV3IFplLG5ldyBaZSxuZXcgWmUsbmV3IFplLG5ldyBaZSxuZXcgWmUsbmV3IFplLG5ldyBaZSxNYXRoLlBJO3ZhciBQcj1uZXcgQXQuYSxqcj1uZXcgQXQuYSxUcj1uZXcgZnIoW25ldyB1cixuZXcgdXIsbmV3IHVyLG5ldyB1cixuZXcgdXIsbmV3IHVyXSk7ZnVuY3Rpb24gRXIodCxlKXt2YXIgbj10LmNhbWVyYURpcmVjdGlvbixyPXQuY2FtZXJhVXAsaT10LmhlaWdodCxhPXQuZGlzdGFuY2VTY2FsZXMubWV0ZXJzUGVyVW5pdCxvPVt0LmxvbmdpdHVkZSx0LmxhdGl0dWRlLDBdLHM9dmUuV0dTODQuY2FydG9ncmFwaGljVG9DYXJ0ZXNpYW4obyxuZXcgQXQuYSksdT12ZS5XR1M4NC5lYXN0Tm9ydGhVcFRvRml4ZWRGcmFtZShzKSxjPXQudW5wcm9qZWN0UG9zaXRpb24odC5jYW1lcmFQb3NpdGlvbiksbD12ZS5XR1M4NC5jYXJ0b2dyYXBoaWNUb0NhcnRlc2lhbihjLG5ldyBBdC5hKSxoPW5ldyBBdC5hKHUudHJhbnNmb3JtQXNWZWN0b3IobmV3IEF0LmEobikuc2NhbGUoYSkpKS5ub3JtYWxpemUoKSxmPW5ldyBBdC5hKHUudHJhbnNmb3JtQXNWZWN0b3IobmV3IEF0LmEocikuc2NhbGUoYSkpKS5ub3JtYWxpemUoKTtyZXR1cm4gZnVuY3Rpb24odCxlKXt2YXIgbj10LmdldEZydXN0dW1QbGFuZXMoKSxyPTA7Zm9yKHZhciBpIGluIG4pe3ZhciBhPW5baV0sbz1hLm5vcm1hbC5kb3QodC5jZW50ZXIpO2pyLmNvcHkoYS5ub3JtYWwpLnNjYWxlKGEuZGlzdGFuY2UtbykuYWRkKHQuY2VudGVyKTt2YXIgcz10LnVucHJvamVjdFBvc2l0aW9uKGpyKSx1PXZlLldHUzg0LmNhcnRvZ3JhcGhpY1RvQ2FydGVzaWFuKHMsbmV3IEF0LmEpO1RyLnBsYW5lc1tyKytdLmZyb21Qb2ludE5vcm1hbCh1LFByLmNvcHkoZSkuc3VidHJhY3QodSkpfX0odCxzKSx7Y2FtZXJhOntwb3NpdGlvbjpsLGRpcmVjdGlvbjpoLHVwOmZ9LHZpZXdwb3J0OnQsaGVpZ2h0OmksY3VsbGluZ1ZvbHVtZTpUcixmcmFtZU51bWJlcjplLHNzZURlbm9taW5hdG9yOjEuMTV9fXZhciBBcj1uZXcgQXQuYTt2YXIgTXI9bigyNSksQ3I9MCxMcj0xLElyPTMsUnI9NCxOcj01LERyPTEsRnI9Mix6cj0iZW1wdHkiLEJyPSJzY2VuZWdyYXBoIixVcj0icG9pbnRjbG91ZCIsVnI9Im1lc2giLEdyPSJJM1MiLFdyPSJUSUxFUzNEIixIcj0iZ2VvbWV0cmljRXJyb3IiLHFyPTE7ZnVuY3Rpb24gWHIodCl7dGhyb3cgbmV3IEVycm9yKCciJyt0KyciIGlzIHJlYWQtb25seScpfXZhciBacj1uKDIwOCksWXI9bigyMSk7ZnVuY3Rpb24gS3IodCl7cmV0dXJuIG51bGwhPXR9bmV3IFpyLmE7dmFyIFFyPW5ldyBBdC5hLEpyPW5ldyBBdC5hLCRyPW5ldyBBdC5hO25ldyBVdC5hO2Z1bmN0aW9uIHRpKHQsZSxuKXtpZihPYmplY3QoZ2UuYSkodCwiM0QgVGlsZTogYm91bmRpbmdWb2x1bWUgbXVzdCBiZSBkZWZpbmVkIiksdC5ib3gpcmV0dXJuIGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uZXcgQXQuYSh0WzBdLHRbMV0sdFsyXSk7ZS50cmFuc2Zvcm0ocixyKTt2YXIgaT1lLnRyYW5zZm9ybUFzVmVjdG9yKHQuc2xpY2UoMyw2KSksYT1lLnRyYW5zZm9ybUFzVmVjdG9yKHQuc2xpY2UoNiw5KSksbz1lLnRyYW5zZm9ybUFzVmVjdG9yKHQuc2xpY2UoOSwxMikpLHM9bmV3IFpyLmEoW2lbMF0saVsxXSxpWzJdLGFbMF0sYVsxXSxhWzJdLG9bMF0sb1sxXSxvWzJdXSk7aWYoS3IobikpcmV0dXJuIG4uY2VudGVyPXIsbi5oYWxmQXhlcz1zLG47cmV0dXJuIG5ldyBhcihyLHMpfSh0LmJveCxlLG4pO2lmKHQucmVnaW9uKXt2YXIgcj1PYmplY3QoVnQuYSkodC5yZWdpb24sNiksaT1yWzBdLGE9clsxXSxvPXJbMl0scz1yWzNdLHU9cls0XSxjPXJbNV0sbD12ZS5XR1M4NC5jYXJ0b2dyYXBoaWNUb0NhcnRlc2lhbihbT2JqZWN0KFlyLmMpKGkpLE9iamVjdChZci5jKShzKSx1XSxKciksaD12ZS5XR1M4NC5jYXJ0b2dyYXBoaWNUb0NhcnRlc2lhbihbT2JqZWN0KFlyLmMpKG8pLE9iamVjdChZci5jKShhKSxjXSwkciksZj0obmV3IEF0LmEpLmFkZFZlY3RvcnMobCxoKS5tdWx0aXBseVNjYWxhciguNSksZD0obmV3IEF0LmEpLnN1YlZlY3RvcnMobCxoKS5sZW4oKS8yO3JldHVybiBlaShbZlswXSxmWzFdLGZbMl0sZF0sbmV3IFV0LmEpfWlmKHQuc3BoZXJlKXJldHVybiBlaSh0LnNwaGVyZSxlLG4pO3Rocm93IG5ldyBFcnJvcigiM0QgVGlsZTogYm91bmRpbmdWb2x1bWUgbXVzdCBjb250YWluIGEgc3BoZXJlLCByZWdpb24sIG9yIGJveCIpfWZ1bmN0aW9uIGVpKHQsZSxuKXt2YXIgcj1uZXcgQXQuYSh0WzBdLHRbMV0sdFsyXSk7ZS50cmFuc2Zvcm0ocixyKTt2YXIgaT1lLmdldFNjYWxlKFFyKSxhPU1hdGgubWF4KE1hdGgubWF4KGlbMF0saVsxXSksaVsyXSksbz10WzNdKmE7cmV0dXJuIEtyKG4pPyhuLmNlbnRlcj1yLG4ucmFkaXVzPW8sbik6bmV3IF9uKHIsbyl9bmV3IEF0LmEsbmV3IEF0LmEsbmV3IFV0LmEsbmV3IEF0LmEsbmV3IEF0LmEsbmV3IEF0LmE7ZnVuY3Rpb24gbmkodCxlKXtpZih0LmR5bmFtaWNTY3JlZW5TcGFjZUVycm9yJiZ0Ll9keW5hbWljU2NyZWVuU3BhY2VFcnJvckNvbXB1dGVkRGVuc2l0eSl7dmFyIG49dC5fZHluYW1pY1NjcmVlblNwYWNlRXJyb3JDb21wdXRlZERlbnNpdHkscj10LmR5bmFtaWNTY3JlZW5TcGFjZUVycm9yRmFjdG9yO3JldHVybiBmdW5jdGlvbih0LGUpe3ZhciBuPXQqZTtyZXR1cm4gMS1NYXRoLmV4cCgtbipuKX0oZSxuKSpyfXJldHVybiAwfXZhciByaT1NYXRoLlBJLzI7ZnVuY3Rpb24gaWkodCl7dmFyIGU9T2JqZWN0KFZ0LmEpKHQsMyksbj1lWzBdLHI9ZVsxXSxpPWVbMl0sYT1PYmplY3QoWXIuaikobiksbz1PYmplY3QoWXIuaikocikscz0xK2kvNjM3ODEzNyx1PXMqTWF0aC5jb3Mobyk7cmV0dXJuW249dSpNYXRoLmNvcyhhKSxyPXUqTWF0aC5zaW4oYSksaT1zKk1hdGguc2luKG8pXX1mdW5jdGlvbiBhaSh0LGUpe3ZhciBuPU9iamVjdChWdC5hKSh0LDMpLHI9blswXSxpPW5bMV0sYT1uWzJdLG89dm9pZCAwPT09YT8wOmEscz1PYmplY3QoVnQuYSkoZSwzKSx1PXNbMF0sYz1zWzFdLGw9c1syXSxoPWlpKFt1LGMsdm9pZCAwPT09bD8wOmxdKSxmPWlpKFtyLGksb10pLGQ9ZlswXS1oWzBdLHY9ZlsxXS1oWzFdLHA9ZlsyXS1oWzJdO3JldHVybiBkKmQrdip2K3AqcH1mdW5jdGlvbiBvaSh0LGUpe3ZhciBuPWUudmlld3BvcnQscj10LmhlYWRlci5tYnNbMV0saT1bdC5oZWFkZXIubWJzWzBdLHIsdC5oZWFkZXIubWJzWzJdXSxhPXQuaGVhZGVyLm1ic1szXS82Mzc4MTM3LG89YWkobi51bnByb2plY3RQb3NpdGlvbihuLmNhbWVyYVBvc2l0aW9uKSxpKS1hKmE7aWYobzw9MClyZXR1cm4gMTcwMTQxMTc1ZTMwO3ZhciBzPWZ1bmN0aW9uKHQsZSl7dmFyIG49ZS52aWV3cG9ydCxyPW4ud2lkdGgsaT1uLmhlaWdodCxhPW4ucGl4ZWxQcm9qZWN0aW9uTWF0cml4LG89TWF0aC50YW4oTWF0aC5hdGFuKE1hdGguc3FydCgxLyhhWzBdKmFbMF0pKzEvKGFbNV0qYVs1XSkpKSk7cmV0dXJuIE1hdGguc3FydChpKmkrcipyKS9vfSgwLGUpO3JldHVybiBzKj1hL01hdGguc3FydChvKS9uLnNjYWxlfWZ1bmN0aW9uIHNpKHQsZSl7dmFyIG49T2JqZWN0LmtleXModCk7aWYoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyl7dmFyIHI9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyh0KTtlJiYocj1yLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodCxlKS5lbnVtZXJhYmxlfSkpKSxuLnB1c2guYXBwbHkobixyKX1yZXR1cm4gbn1mdW5jdGlvbiB1aSh0KXtmb3IodmFyIGU9MTtlPGFyZ3VtZW50cy5sZW5ndGg7ZSsrKXt2YXIgbj1udWxsIT1hcmd1bWVudHNbZV0/YXJndW1lbnRzW2VdOnt9O2UlMj9zaShPYmplY3QobiksITApLmZvckVhY2goKGZ1bmN0aW9uKGUpe09iamVjdChGdC5hKSh0LGUsbltlXSl9KSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXModCxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhuKSk6c2koT2JqZWN0KG4pKS5mb3JFYWNoKChmdW5jdGlvbihlKXtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxlLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IobixlKSl9KSl9cmV0dXJuIHR9dmFyIGNpPW5ldyBBdC5hO2Z1bmN0aW9uIGxpKHQpe3JldHVybiB0LmlzVmlzaWJsZT90LmNvbnRlbnRTdGF0ZT09PUNyPy0xOk1hdGgubWF4KDFlNy10Ll9wcmlvcml0eSwwKXx8MDotMX12YXIgaGk9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUsbixyKXtPYmplY3QoenQuYSkodGhpcyx0KSxPYmplY3QoZ2UuYSkoIm9iamVjdCI9PT1PYmplY3QoTXIuYSkobikpLHRoaXMuaGVhZGVyPW4sdGhpcy50aWxlc2V0PWUsdGhpcy5pZD1uLmlkLHRoaXMudXJsPW4udXJsLHRoaXMucGFyZW50PXIsdGhpcy5yZWZpbmU9dGhpcy5fZ2V0UmVmaW5lKG4ucmVmaW5lKSx0aGlzLnR5cGU9bi50eXBlLHRoaXMuY29udGVudFVybD1uLmNvbnRlbnRVcmwsdGhpcy5sb2RNZXRyaWNUeXBlPW51bGwsdGhpcy5sb2RNZXRyaWNWYWx1ZT1udWxsLHRoaXMuYm91bmRpbmdWb2x1bWU9bnVsbCx0aGlzLmNvbnRlbnQ9bnVsbCx0aGlzLmNvbnRlbnRTdGF0ZT1Dcix0aGlzLmdwdU1lbW9yeVVzYWdlSW5CeXRlcz0wLHRoaXMuY2hpbGRyZW49W10sdGhpcy5kZXB0aD0wLHRoaXMuX2NhY2hlTm9kZT1udWxsLHRoaXMuX2ZyYW1lTnVtYmVyPW51bGwsdGhpcy5fY2FjaGVOb2RlPW51bGwsdGhpcy5faW5pdGlhbGl6ZUxvZE1ldHJpYyhuKSx0aGlzLl9pbml0aWFsaXplVHJhbnNmb3JtcyhuKSx0aGlzLl9pbml0aWFsaXplQm91bmRpbmdWb2x1bWVzKG4pLHRoaXMuX2luaXRpYWxpemVDb250ZW50KG4pLHRoaXMuX2luaXRpYWxpemVSZW5kZXJpbmdTdGF0ZShuKSx0aGlzLl9sb2RKdWRnZT1udWxsLHRoaXMuX2V4cGlyZURhdGU9bnVsbCx0aGlzLl9leHBpcmVkQ29udGVudD1udWxsLE9iamVjdC5zZWFsKHRoaXMpfXZhciBlO3JldHVybiBPYmplY3QoQnQuYSkodCxbe2tleToiZGVzdHJveSIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLmhlYWRlcj1udWxsfX0se2tleToiaXNEZXN0cm95ZWQiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIG51bGw9PT10aGlzLmhlYWRlcn19LHtrZXk6ImdldFNjcmVlblNwYWNlRXJyb3IiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7c3dpdGNoKHRoaXMudGlsZXNldC50eXBlKXtjYXNlIEdyOnJldHVybiBvaSh0aGlzLHQpO2Nhc2UgV3I6cmV0dXJuIGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj10LnRpbGVzZXQsaT10LnBhcmVudCYmdC5wYXJlbnQubG9kTWV0cmljVmFsdWV8fHQubG9kTWV0cmljVmFsdWUsYT1uP2k6dC5sb2RNZXRyaWNWYWx1ZTtpZigwPT09YSlyZXR1cm4gMDt2YXIgbz1NYXRoLm1heCh0Ll9kaXN0YW5jZVRvQ2FtZXJhLDFlLTcpLHM9YSplLmhlaWdodC8obyplLnNzZURlbm9taW5hdG9yKTtyZXR1cm4gcy09bmkocixvKX0odGhpcyx0LGUpO2RlZmF1bHQ6cmV0dXJuIGNvbnNvbGUuZXJyb3IoIlVuc3VwcG9ydGVkIHRpbGVzZXQgdHlwZSIpLG51bGx9fX0se2tleToibG9hZENvbnRlbnQiLHZhbHVlOihlPU9iamVjdChEdC5hKShTdC5hLm1hcmsoKGZ1bmN0aW9uIHQoKXt2YXIgZSxuLHIsaTtyZXR1cm4gU3QuYS53cmFwKChmdW5jdGlvbih0KXtmb3IoOzspc3dpdGNoKHQucHJldj10Lm5leHQpe2Nhc2UgMDppZighdGhpcy5oYXNFbXB0eUNvbnRlbnQpe3QubmV4dD0yO2JyZWFrfXJldHVybiB0LmFicnVwdCgicmV0dXJuIiwhMSk7Y2FzZSAyOmlmKCF0aGlzLmNvbnRlbnQpe3QubmV4dD00O2JyZWFrfXJldHVybiB0LmFicnVwdCgicmV0dXJuIiwhMCk7Y2FzZSA0OnJldHVybiB0aGlzLmNvbnRlbnRFeHBpcmVkJiYodGhpcy5fZXhwaXJlRGF0ZT1udWxsKSx0aGlzLmNvbnRlbnRTdGF0ZT1Mcix0Lm5leHQ9OSx0aGlzLnRpbGVzZXQuX3JlcXVlc3RTY2hlZHVsZXIuc2NoZWR1bGVSZXF1ZXN0KHRoaXMsbGkpO2Nhc2UgOTppZih0LnNlbnQpe3QubmV4dD0xMzticmVha31yZXR1cm4gdGhpcy5jb250ZW50U3RhdGU9Q3IsdC5hYnJ1cHQoInJldHVybiIsITEpO2Nhc2UgMTM6cmV0dXJuIHQucHJldj0xMyxlPXRoaXMudGlsZXNldC5nZXRUaWxlVXJsKHRoaXMuY29udGVudFVybCksdGhpcy50aWxlc2V0Ll9yZXF1ZXN0U2NoZWR1bGVyLnN0YXJ0UmVxdWVzdCh0aGlzKSxuPXRoaXMudGlsZXNldC5mZXRjaE9wdGlvbnMscj10aGlzLnRpbGVzZXQubG9hZGVyLGk9dWkoe30sbixPYmplY3QoRnQuYSkoe30sci5pZCx7dGlsZTp0aGlzLmhlYWRlcix0aWxlc2V0OnRoaXMudGlsZXNldC50aWxlc2V0fSkpLHQubmV4dD0yMSxPYmplY3QoTnQuYSkoZSxyLGkpO2Nhc2UgMjE6cmV0dXJuIHRoaXMuY29udGVudD10LnNlbnQsdGhpcy5faXNUaWxlc2V0KCkmJnRoaXMudGlsZXNldC5faW5pdGlhbGl6ZVRpbGVIZWFkZXJzKHRoaXMuY29udGVudCx0aGlzLHllLmEuZGlybmFtZSh0aGlzLmNvbnRlbnRVcmwpKSx0aGlzLmNvbnRlbnRTdGF0ZT1Jcix0aGlzLl9vbkNvbnRlbnRMb2FkZWQoKSx0LmFicnVwdCgicmV0dXJuIiwhMCk7Y2FzZSAyODp0aHJvdyB0LnByZXY9MjgsdC50MD10LmNhdGNoKDEzKSx0aGlzLmNvbnRlbnRTdGF0ZT1Ocix0LnQwO2Nhc2UgMzI6cmV0dXJuIHQucHJldj0zMix0aGlzLnRpbGVzZXQuX3JlcXVlc3RTY2hlZHVsZXIuZW5kUmVxdWVzdCh0aGlzKSx0LmZpbmlzaCgzMik7Y2FzZSAzNTpjYXNlImVuZCI6cmV0dXJuIHQuc3RvcCgpfX0pLHQsdGhpcyxbWzEzLDI4LDMyLDM1XV0pfSkpKSxmdW5jdGlvbigpe3JldHVybiBlLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0pfSx7a2V5OiJ1bmxvYWRDb250ZW50Iix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbnRlbnQmJnRoaXMuY29udGVudC5kZXN0cm95JiZ0aGlzLmNvbnRlbnQuZGVzdHJveSgpLHRoaXMuY29udGVudD1udWxsLHRoaXMuY29udGVudFN0YXRlPUNyLCEwfX0se2tleToidXBkYXRlVmlzaWJpbGl0eSIsdmFsdWU6ZnVuY3Rpb24odCl7aWYodGhpcy5fZnJhbWVOdW1iZXIhPT10LmZyYW1lTnVtYmVyKXt2YXIgZT10aGlzLnBhcmVudCxuPWU/ZS5jb21wdXRlZFRyYW5zZm9ybTp0aGlzLnRpbGVzZXQubW9kZWxNYXRyaXgscj1lP2UuX3Zpc2liaWxpdHlQbGFuZU1hc2s6ZnIuTUFTS19JTkRFVEVSTUlOQVRFO3RoaXMuX3VwZGF0ZVRyYW5zZm9ybShuKSx0aGlzLl9kaXN0YW5jZVRvQ2FtZXJhPXRoaXMuZGlzdGFuY2VUb1RpbGUodCksdGhpcy5fc2NyZWVuU3BhY2VFcnJvcj10aGlzLmdldFNjcmVlblNwYWNlRXJyb3IodCwhMSksdGhpcy5fdmlzaWJpbGl0eVBsYW5lTWFzaz10aGlzLnZpc2liaWxpdHkodCxyKSx0aGlzLl92aXNpYmxlPXRoaXMuX3Zpc2liaWxpdHlQbGFuZU1hc2shPT1mci5NQVNLX09VVFNJREUsdGhpcy5faW5SZXF1ZXN0Vm9sdW1lPXRoaXMuaW5zaWRlVmlld2VyUmVxdWVzdFZvbHVtZSh0KSx0aGlzLl9wcmlvcml0eT10aGlzLmxvZE1ldHJpY1ZhbHVlLHRoaXMuX2ZyYW1lTnVtYmVyPXQuZnJhbWVOdW1iZXJ9fX0se2tleToidmlzaWJpbGl0eSIsdmFsdWU6ZnVuY3Rpb24odCxlKXt2YXIgbj10LmN1bGxpbmdWb2x1bWUscj10aGlzLmJvdW5kaW5nVm9sdW1lO3JldHVybiBuLmNvbXB1dGVWaXNpYmlsaXR5V2l0aFBsYW5lTWFzayhyLGUpfX0se2tleToiY29udGVudFZpc2liaWxpdHkiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiEwfX0se2tleToiZGlzdGFuY2VUb1RpbGUiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuYm91bmRpbmdWb2x1bWU7cmV0dXJuIE1hdGguc3FydChNYXRoLm1heChlLmRpc3RhbmNlU3F1YXJlZFRvKHQuY2FtZXJhLnBvc2l0aW9uKSwwKSl9fSx7a2V5OiJjYW1lcmFTcGFjZVpEZXB0aCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dC5jYW1lcmEsbj10aGlzLmJvdW5kaW5nVm9sdW1lO3JldHVybiBjaS5zdWJWZWN0b3JzKG4uY2VudGVyLGUucG9zaXRpb24pLGUuZGlyZWN0aW9uLmRvdChjaSl9fSx7a2V5OiJpbnNpZGVWaWV3ZXJSZXF1ZXN0Vm9sdW1lIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLl92aWV3ZXJSZXF1ZXN0Vm9sdW1lO3JldHVybiFlfHwwPT09ZS5kaXN0YW5jZVRvQ2FtZXJhKHQpfX0se2tleToiX2luaXRpYWxpemVMb2RNZXRyaWMiLHZhbHVlOmZ1bmN0aW9uKHQpeyJsb2RNZXRyaWNUeXBlImluIHQ/dGhpcy5sb2RNZXRyaWNUeXBlPXQubG9kTWV0cmljVHlwZToodGhpcy5sb2RNZXRyaWNUeXBlPXRoaXMucGFyZW50JiZ0aGlzLnBhcmVudC5sb2RNZXRyaWNUeXBlfHx0aGlzLnRpbGVzZXQubG9kTWV0cmljVHlwZSxjb25zb2xlLndhcm4oIjNEIFRpbGU6IFJlcXVpcmVkIHByb3AgbG9kTWV0cmljVHlwZSBpcyB1bmRlZmluZWQuIFVzaW5nIHBhcmVudCBsb2RNZXRyaWNUeXBlIikpLCJsb2RNZXRyaWNWYWx1ZSJpbiB0P3RoaXMubG9kTWV0cmljVmFsdWU9dC5sb2RNZXRyaWNWYWx1ZToodGhpcy5sb2RNZXRyaWNWYWx1ZT10aGlzLnBhcmVudCYmdGhpcy5wYXJlbnQubG9kTWV0cmljVmFsdWV8fHRoaXMudGlsZXNldC5sb2RNZXRyaWNWYWx1ZSxjb25zb2xlLndhcm4oIjNEIFRpbGU6IFJlcXVpcmVkIHByb3AgbG9kTWV0cmljVmFsdWUgaXMgdW5kZWZpbmVkLiBVc2luZyBwYXJlbnQgbG9kTWV0cmljVmFsdWUiKSl9fSx7a2V5OiJfaW5pdGlhbGl6ZVRyYW5zZm9ybXMiLHZhbHVlOmZ1bmN0aW9uKHQpe3RoaXMudHJhbnNmb3JtPXQudHJhbnNmb3JtP25ldyBVdC5hKHQudHJhbnNmb3JtKTpuZXcgVXQuYTt2YXIgZT10aGlzLnBhcmVudCxuPXRoaXMudGlsZXNldCxyPWUmJmUuY29tcHV0ZWRUcmFuc2Zvcm0/ZS5jb21wdXRlZFRyYW5zZm9ybS5jbG9uZSgpOm4ubW9kZWxNYXRyaXguY2xvbmUoKTt0aGlzLmNvbXB1dGVkVHJhbnNmb3JtPW5ldyBVdC5hKHIpLm11bHRpcGx5UmlnaHQodGhpcy50cmFuc2Zvcm0pO3ZhciBpPWUmJmUuX2luaXRpYWxUcmFuc2Zvcm0/ZS5faW5pdGlhbFRyYW5zZm9ybS5jbG9uZSgpOm5ldyBVdC5hO3RoaXMuX2luaXRpYWxUcmFuc2Zvcm09bmV3IFV0LmEoaSkubXVsdGlwbHlSaWdodCh0aGlzLnRyYW5zZm9ybSl9fSx7a2V5OiJfaW5pdGlhbGl6ZUJvdW5kaW5nVm9sdW1lcyIsdmFsdWU6ZnVuY3Rpb24odCl7dGhpcy5fY29udGVudEJvdW5kaW5nVm9sdW1lPW51bGwsdGhpcy5fdmlld2VyUmVxdWVzdFZvbHVtZT1udWxsLHRoaXMuX3VwZGF0ZUJvdW5kaW5nVm9sdW1lKHQpfX0se2tleToiX2luaXRpYWxpemVDb250ZW50Iix2YWx1ZTpmdW5jdGlvbih0KXt0aGlzLmNvbnRlbnQ9e190aWxlc2V0OnRoaXMudGlsZXNldCxfdGlsZTp0aGlzfSx0aGlzLmhhc0VtcHR5Q29udGVudD0hMCx0aGlzLmNvbnRlbnRTdGF0ZT1Dcix0aGlzLmhhc1RpbGVzZXRDb250ZW50PSExLHQuY29udGVudFVybCYmKHRoaXMuY29udGVudD1udWxsLHRoaXMuaGFzRW1wdHlDb250ZW50PSExKX19LHtrZXk6Il9pbml0aWFsaXplUmVuZGVyaW5nU3RhdGUiLHZhbHVlOmZ1bmN0aW9uKHQpe3RoaXMuZGVwdGg9dC5sZXZlbCx0aGlzLl9zaG91bGRSZWZpbmU9ITEsdGhpcy5fZGlzdGFuY2VUb0NhbWVyYT0wLHRoaXMuX2NlbnRlclpEZXB0aD0wLHRoaXMuX3NjcmVlblNwYWNlRXJyb3I9MCx0aGlzLl92aXNpYmlsaXR5UGxhbmVNYXNrPWZyLk1BU0tfSU5ERVRFUk1JTkFURSx0aGlzLl92aXNpYmxlPSExLHRoaXMuX2luUmVxdWVzdFZvbHVtZT0hMSx0aGlzLl9zdGFja0xlbmd0aD0wLHRoaXMuX3NlbGVjdGlvbkRlcHRoPTAsdGhpcy5fZnJhbWVOdW1iZXI9MCx0aGlzLl90b3VjaGVkRnJhbWU9MCx0aGlzLl92aXNpdGVkRnJhbWU9MCx0aGlzLl9zZWxlY3RlZEZyYW1lPTAsdGhpcy5fcmVxdWVzdGVkRnJhbWU9MCx0aGlzLl9wcmlvcml0eT0wfX0se2tleToiX2dldFJlZmluZSIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHR8fHRoaXMucGFyZW50JiZ0aGlzLnBhcmVudC5yZWZpbmV8fEZyfX0se2tleToiX2lzVGlsZXNldCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4tMSE9PXRoaXMuY29udGVudFVybC5pbmRleE9mKCIuanNvbiIpfX0se2tleToiX29uQ29udGVudExvYWRlZCIsdmFsdWU6ZnVuY3Rpb24oKXtzd2l0Y2godGhpcy5jb250ZW50JiZ0aGlzLmNvbnRlbnQudHlwZSl7Y2FzZSJ2Y3RyIjpjYXNlImdlb20iOnRoaXMudGlsZXNldC50cmF2ZXJzZXIuZGlzYWJsZVNraXBMZXZlbE9mRGV0YWlsPSEwfXRoaXMuX2lzVGlsZXNldCgpJiYodGhpcy5oYXNUaWxlc2V0Q29udGVudD0hMCl9fSx7a2V5OiJfdXBkYXRlQm91bmRpbmdWb2x1bWUiLHZhbHVlOmZ1bmN0aW9uKHQpe3RoaXMuYm91bmRpbmdWb2x1bWU9dGkodC5ib3VuZGluZ1ZvbHVtZSx0aGlzLmNvbXB1dGVkVHJhbnNmb3JtLHRoaXMuYm91bmRpbmdWb2x1bWUpO3ZhciBlPXQuY29udGVudDtlJiYoZS5ib3VuZGluZ1ZvbHVtZSYmKHRoaXMuX2NvbnRlbnRCb3VuZGluZ1ZvbHVtZT10aShlLmJvdW5kaW5nVm9sdW1lLHRoaXMuY29tcHV0ZWRUcmFuc2Zvcm0sdGhpcy5fY29udGVudEJvdW5kaW5nVm9sdW1lKSksdC52aWV3ZXJSZXF1ZXN0Vm9sdW1lJiYodGhpcy5fdmlld2VyUmVxdWVzdFZvbHVtZT10aSh0LnZpZXdlclJlcXVlc3RWb2x1bWUsdGhpcy5jb21wdXRlZFRyYW5zZm9ybSx0aGlzLl92aWV3ZXJSZXF1ZXN0Vm9sdW1lKSkpfX0se2tleToiX3VwZGF0ZVRyYW5zZm9ybSIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06bmV3IFV0LmEsZT10LmNsb25lKCkubXVsdGlwbHlSaWdodCh0aGlzLnRyYW5zZm9ybSksbj0hZS5lcXVhbHModGhpcy5jb21wdXRlZFRyYW5zZm9ybSk7biYmKHRoaXMuY29tcHV0ZWRUcmFuc2Zvcm09ZSx0aGlzLl91cGRhdGVCb3VuZGluZ1ZvbHVtZSh0aGlzLmhlYWRlcikpfX0se2tleToidXBkYXRlRXhwaXJhdGlvbiIsdmFsdWU6ZnVuY3Rpb24oKXtpZihudWxsIT10aGlzLl9leHBpcmVEYXRlJiZ0aGlzLmNvbnRlbnRSZWFkeSYmIXRoaXMuaGFzRW1wdHlDb250ZW50KXt2YXIgdD1EYXRlLm5vdygpO0RhdGUubGVzc1RoYW4odGhpcy5fZXhwaXJlRGF0ZSx0KSYmKHRoaXMuY29udGVudFN0YXRlPVJyLHRoaXMuX2V4cGlyZWRDb250ZW50PXRoaXMuY29udGVudCl9fX0se2tleToic2VsZWN0ZWQiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zZWxlY3RlZEZyYW1lPT09dGhpcy50aWxlc2V0Ll9mcmFtZU51bWJlcn19LHtrZXk6ImlzVmlzaWJsZSIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3Zpc2libGV9fSx7a2V5OiJpc1Zpc2libGVBbmRJblJlcXVlc3RWb2x1bWUiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl92aXNpYmxlJiZ0aGlzLl9pblJlcXVlc3RWb2x1bWV9fSx7a2V5OiJoYXNSZW5kZXJDb250ZW50IixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4hdGhpcy5oYXNFbXB0eUNvbnRlbnQmJiF0aGlzLmhhc1RpbGVzZXRDb250ZW50fX0se2tleToiaGFzQ2hpbGRyZW4iLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmNoaWxkcmVuLmxlbmd0aD4wfHx0aGlzLmhlYWRlci5jaGlsZHJlbiYmdGhpcy5oZWFkZXIuY2hpbGRyZW4ubGVuZ3RoPjB9fSx7a2V5OiJjb250ZW50UmVhZHkiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbnRlbnRTdGF0ZT09PUlyfHx0aGlzLmhhc0VtcHR5Q29udGVudH19LHtrZXk6ImNvbnRlbnRBdmFpbGFibGUiLGdldDpmdW5jdGlvbigpe3JldHVybiBCb29sZWFuKHRoaXMuY29udGVudFJlYWR5JiZ0aGlzLmhhc1JlbmRlckNvbnRlbnR8fHRoaXMuX2V4cGlyZWRDb250ZW50JiYhdGhpcy5jb250ZW50RmFpbGVkKX19LHtrZXk6Imhhc1VubG9hZGVkQ29udGVudCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaGFzUmVuZGVyQ29udGVudCYmdGhpcy5jb250ZW50VW5sb2FkZWR9fSx7a2V5OiJjb250ZW50VW5sb2FkZWQiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbnRlbnRTdGF0ZT09PUNyfX0se2tleToiY29udGVudEV4cGlyZWQiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbnRlbnRTdGF0ZT09PVJyfX0se2tleToiY29udGVudEZhaWxlZCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29udGVudFN0YXRlPT09TnJ9fSx7a2V5OiJleHRyYXMiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmhlYWRlci5leHRyYXN9fV0pLHR9KCksZmk9bigxNyksZGk9bigxNSksdmk9bigxOCkscGk9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOjA7T2JqZWN0KHp0LmEpKHRoaXMsdCksdGhpcy5fYXJyYXk9bmV3IEFycmF5KGUpLHRoaXMuX21hcD1uZXcgTWFwLHRoaXMuX2xlbmd0aD1lfXJldHVybiBPYmplY3QoQnQuYSkodCxbe2tleToiZ2V0Iix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0KGdlLmEpKHQ8dGhpcy5fYXJyYXkubGVuZ3RoKSx0aGlzLl9hcnJheVt0XX19LHtrZXk6InNldCIsdmFsdWU6ZnVuY3Rpb24odCxlKXtPYmplY3QoZ2UuYSkodD49MCksdD49dGhpcy5sZW5ndGgmJih0aGlzLmxlbmd0aD10KzEpLHRoaXMuX21hcC5oYXModGhpcy5fYXJyYXlbdF0pJiZ0aGlzLl9tYXAuZGVsZXRlKHRoaXMuX2FycmF5W3RdKSx0aGlzLl9hcnJheVt0XT1lLHRoaXMuX21hcC5zZXQoZSx0KX19LHtrZXk6ImRlbGV0ZSIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fbWFwLmdldCh0KTtlPj0wJiYodGhpcy5fYXJyYXkuc3BsaWNlKGUsMSksdGhpcy5fbWFwLmRlbGV0ZSh0KSx0aGlzLmxlbmd0aC0tKX19LHtrZXk6InBlZWsiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2FycmF5W3RoaXMuX2xlbmd0aC0xXX19LHtrZXk6InB1c2giLHZhbHVlOmZ1bmN0aW9uKHQpe2lmKCF0aGlzLl9tYXAuaGFzKHQpKXt2YXIgZT10aGlzLmxlbmd0aCsrO3RoaXMuX2FycmF5W2VdPXQsdGhpcy5fbWFwLnNldCh0LGUpfX19LHtrZXk6InBvcCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9hcnJheVstLXRoaXMubGVuZ3RoXTtyZXR1cm4gdGhpcy5fbWFwLmRlbGV0ZSh0KSx0fX0se2tleToicmVzZXJ2ZSIsdmFsdWU6ZnVuY3Rpb24odCl7T2JqZWN0KGdlLmEpKHQ+PTApLHQ+dGhpcy5fYXJyYXkubGVuZ3RoJiYodGhpcy5fYXJyYXkubGVuZ3RoPXQpfX0se2tleToicmVzaXplIix2YWx1ZTpmdW5jdGlvbih0KXtPYmplY3QoZ2UuYSkodD49MCksdGhpcy5sZW5ndGg9dH19LHtrZXk6InRyaW0iLHZhbHVlOmZ1bmN0aW9uKHQpe251bGw9PXQmJih0PXRoaXMubGVuZ3RoKSx0aGlzLl9hcnJheS5sZW5ndGg9dH19LHtrZXk6InJlc2V0Iix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuX2FycmF5PVtdLHRoaXMuX21hcD1uZXcgTWFwLHRoaXMuX2xlbmd0aD0wfX0se2tleToiZmluZCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX21hcC5oYXModCl9fSx7a2V5OiJsZW5ndGgiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9sZW5ndGh9LHNldDpmdW5jdGlvbih0KXt0aGlzLl9sZW5ndGg9dCx0PnRoaXMuX2FycmF5Lmxlbmd0aCYmKHRoaXMuX2FycmF5Lmxlbmd0aD10KX19LHtrZXk6InZhbHVlcyIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2FycmF5fX1dKSx0fSgpO2Z1bmN0aW9uIGdpKHQsZSl7dmFyIG49T2JqZWN0LmtleXModCk7aWYoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyl7dmFyIHI9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyh0KTtlJiYocj1yLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodCxlKS5lbnVtZXJhYmxlfSkpKSxuLnB1c2guYXBwbHkobixyKX1yZXR1cm4gbn1mdW5jdGlvbiB5aSh0KXtmb3IodmFyIGU9MTtlPGFyZ3VtZW50cy5sZW5ndGg7ZSsrKXt2YXIgbj1udWxsIT1hcmd1bWVudHNbZV0/YXJndW1lbnRzW2VdOnt9O2UlMj9naShPYmplY3QobiksITApLmZvckVhY2goKGZ1bmN0aW9uKGUpe09iamVjdChGdC5hKSh0LGUsbltlXSl9KSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXModCxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhuKSk6Z2koT2JqZWN0KG4pKS5mb3JFYWNoKChmdW5jdGlvbihlKXtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxlLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IobixlKSl9KSl9cmV0dXJuIHR9dmFyIG1pPXtsb2FkU2libGluZ3M6ITEsc2tpcExldmVsT2ZEZXRhaWw6ITEsbWF4aW11bVNjcmVlblNwYWNlRXJyb3I6Mn0sYmk9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUpe09iamVjdCh6dC5hKSh0aGlzLHQpLHRoaXMub3B0aW9ucz15aSh7fSxtaSx7fSxlKSx0aGlzLl90cmF2ZXJzYWxTdGFjaz1uZXcgcGksdGhpcy5fZW1wdHlUcmF2ZXJzYWxTdGFjaz1uZXcgcGksdGhpcy5fZnJhbWVOdW1iZXI9bnVsbCx0aGlzLnJvb3Q9bnVsbCx0aGlzLnNlbGVjdGVkVGlsZXM9e30sdGhpcy5yZXF1ZXN0ZWRUaWxlcz17fSx0aGlzLmVtcHR5VGlsZXM9e319cmV0dXJuIE9iamVjdChCdC5hKSh0LFt7a2V5OiJ0cmF2ZXJzZSIsdmFsdWU6ZnVuY3Rpb24odCxlLG4pe3RoaXMucm9vdD10LHRoaXMub3B0aW9ucz15aSh7fSx0aGlzLm9wdGlvbnMse30sbiksdGhpcy5yZXNldCgpLHRoaXMudXBkYXRlVGlsZSh0LGUpLHRoaXMuX2ZyYW1lTnVtYmVyPWUuZnJhbWVOdW1iZXIsdGhpcy5leGVjdXRlVHJhdmVyc2FsKHQsZSl9fSx7a2V5OiJyZXNldCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLnJlcXVlc3RlZFRpbGVzPXt9LHRoaXMuc2VsZWN0ZWRUaWxlcz17fSx0aGlzLmVtcHR5VGlsZXM9e30sdGhpcy5fdHJhdmVyc2FsU3RhY2sucmVzZXQoKSx0aGlzLl9lbXB0eVRyYXZlcnNhbFN0YWNrLnJlc2V0KCl9fSx7a2V5OiJleGVjdXRlVHJhdmVyc2FsIix2YWx1ZTpmdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMuX3RyYXZlcnNhbFN0YWNrO2ZvcihuLnB1c2godCk7bi5sZW5ndGg+MDspe3ZhciByPW4ucG9wKCksaT0hMTt0aGlzLmNhblRyYXZlcnNlKHIsZSkmJih0aGlzLnVwZGF0ZUNoaWxkVGlsZXMocixlKSxpPXRoaXMudXBkYXRlQW5kUHVzaENoaWxkcmVuKHIsZSxuKSk7dmFyIGE9ci5wYXJlbnQsbz1Cb29sZWFuKCFhfHxhLl9zaG91bGRSZWZpbmUpLHM9IWk7ci5oYXNSZW5kZXJDb250ZW50P3IucmVmaW5lPT09RHI/KHRoaXMubG9hZFRpbGUocixlKSx0aGlzLnNlbGVjdFRpbGUocixlKSk6ci5yZWZpbmU9PT1GciYmKHRoaXMubG9hZFRpbGUocixlKSxzJiZ0aGlzLnNlbGVjdFRpbGUocixlKSk6KHRoaXMuZW1wdHlUaWxlc1tyLmlkXT1yLHRoaXMubG9hZFRpbGUocixlKSxzJiZ0aGlzLnNlbGVjdFRpbGUocixlKSksdGhpcy50b3VjaFRpbGUocixlKSxyLl9zaG91bGRSZWZpbmU9aSYmb319fSx7a2V5OiJ1cGRhdGVDaGlsZFRpbGVzIix2YWx1ZTpmdW5jdGlvbih0LGUpe3ZhciBuPXQuY2hpbGRyZW4scj0hMCxpPSExLGE9dm9pZCAwO3RyeXtmb3IodmFyIG8scz1uW1N5bWJvbC5pdGVyYXRvcl0oKTshKHI9KG89cy5uZXh0KCkpLmRvbmUpO3I9ITApe3ZhciB1PW8udmFsdWU7dGhpcy51cGRhdGVUaWxlKHUsZSl9fWNhdGNoKHQpe2k9ITAsYT10fWZpbmFsbHl7dHJ5e3J8fG51bGw9PXMucmV0dXJufHxzLnJldHVybigpfWZpbmFsbHl7aWYoaSl0aHJvdyBhfX1yZXR1cm4hMH19LHtrZXk6InVwZGF0ZUFuZFB1c2hDaGlsZHJlbiIsdmFsdWU6ZnVuY3Rpb24odCxlLG4pe3ZhciByPXRoaXMub3B0aW9ucyxpPXIubG9hZFNpYmxpbmdzLGE9ci5za2lwTGV2ZWxPZkRldGFpbCxvPXQuY2hpbGRyZW47by5zb3J0KHRoaXMuY29tcGFyZURpc3RhbmNlVG9DYW1lcmEpO3ZhciBzPSFhJiZ0LnJlZmluZT09PUZyJiZ0Lmhhc1JlbmRlckNvbnRlbnQsdT0hMSxjPSEwLGw9ITEsaD12b2lkIDA7dHJ5e2Zvcih2YXIgZixkPW9bU3ltYm9sLml0ZXJhdG9yXSgpOyEoYz0oZj1kLm5leHQoKSkuZG9uZSk7Yz0hMCl7dmFyIHY9Zi52YWx1ZTtpZih2LmlzVmlzaWJsZUFuZEluUmVxdWVzdFZvbHVtZT8obi5maW5kKHYpJiZuLmRlbGV0ZSh2KSxuLnB1c2godiksdT0hMCk6KHN8fGkpJiYodGhpcy5sb2FkVGlsZSh2LGUpLHRoaXMudG91Y2hUaWxlKHYsZSkpLHMpe3ZhciBwPXZvaWQgMDtpZighKHA9ISF2Ll9pblJlcXVlc3RWb2x1bWUmJih2Lmhhc1JlbmRlckNvbnRlbnQ/di5jb250ZW50QXZhaWxhYmxlOnRoaXMuZXhlY3V0ZUVtcHR5VHJhdmVyc2FsKHYsZSkpKSlyZXR1cm4gcH19fWNhdGNoKHQpe2w9ITAsaD10fWZpbmFsbHl7dHJ5e2N8fG51bGw9PWQucmV0dXJufHxkLnJldHVybigpfWZpbmFsbHl7aWYobCl0aHJvdyBofX1yZXR1cm4gdX19LHtrZXk6InVwZGF0ZVRpbGUiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dGhpcy51cGRhdGVUaWxlVmlzaWJpbGl0eSh0LGUpfX0se2tleToic2VsZWN0VGlsZSIsdmFsdWU6ZnVuY3Rpb24odCxlKXt0aGlzLnNob3VsZFNlbGVjdFRpbGUodCxlKSYmKHQuX3NlbGVjdGVkRnJhbWU9ZS5mcmFtZU51bWJlcix0aGlzLnNlbGVjdGVkVGlsZXNbdC5pZF09dCl9fSx7a2V5OiJsb2FkVGlsZSIsdmFsdWU6ZnVuY3Rpb24odCxlKXt0aGlzLnNob3VsZExvYWRUaWxlKHQsZSkmJih0Ll9yZXF1ZXN0ZWRGcmFtZT1lLmZyYW1lTnVtYmVyLHQuX3ByaW9yaXR5PXRoaXMuZ2V0UHJpb3JpdHkodCksdGhpcy5yZXF1ZXN0ZWRUaWxlc1t0LmlkXT10KX19LHtrZXk6InRvdWNoVGlsZSIsdmFsdWU6ZnVuY3Rpb24odCxlKXt0LnRpbGVzZXQuX2NhY2hlLnRvdWNoKHQpLHQuX3RvdWNoZWRGcmFtZT1lLmZyYW1lTnVtYmVyfX0se2tleToiY2FuVHJhdmVyc2UiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dmFyIG49YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0mJmFyZ3VtZW50c1syXSxyPWFyZ3VtZW50cy5sZW5ndGg+MyYmdm9pZCAwIT09YXJndW1lbnRzWzNdJiZhcmd1bWVudHNbM107cmV0dXJuISghciYmIXQuaXNWaXNpYmxlQW5kSW5SZXF1ZXN0Vm9sdW1lKSYmKCEhdC5oYXNDaGlsZHJlbiYmKHQuaGFzVGlsZXNldENvbnRlbnQ/IXQuY29udGVudEV4cGlyZWQ6dGhpcy5zaG91bGRSZWZpbmUodCxlLG4pKSl9fSx7a2V5OiJzaG91bGRMb2FkVGlsZSIsdmFsdWU6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5oYXNVbmxvYWRlZENvbnRlbnR8fHQuY29udGVudEV4cGlyZWR9fSx7a2V5OiJzaG91bGRTZWxlY3RUaWxlIix2YWx1ZTpmdW5jdGlvbih0LGUpe3JldHVybiB0LmNvbnRlbnRBdmFpbGFibGUmJiF0aGlzLm9wdGlvbnMuc2tpcExldmVsT2ZEZXRhaWx9fSx7a2V5OiJzaG91bGRSZWZpbmUiLHZhbHVlOmZ1bmN0aW9uKHQsZSxuKXt2YXIgcj10Ll9zY3JlZW5TcGFjZUVycm9yO3JldHVybiBuJiYocj10LmdldFNjcmVlblNwYWNlRXJyb3IoZSwhMCkpLHI+dGhpcy5vcHRpb25zLm1heGltdW1TY3JlZW5TcGFjZUVycm9yfX0se2tleToidXBkYXRlVGlsZVZpc2liaWxpdHkiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dC51cGRhdGVWaXNpYmlsaXR5KGUpfX0se2tleToiY29tcGFyZURpc3RhbmNlVG9DYW1lcmEiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuX2Rpc3RhbmNlVG9DYW1lcmEtZS5fZGlzdGFuY2VUb0NhbWVyYX19LHtrZXk6ImdldFByaW9yaXR5Iix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLm9wdGlvbnM7c3dpdGNoKHQucmVmaW5lKXtjYXNlIERyOnJldHVybiB0Ll9kaXN0YW5jZVRvQ2FtZXJhO2Nhc2UgRnI6dmFyIG49dC5wYXJlbnQscj1uJiYoIWUuc2tpcExldmVsT2ZEZXRhaWx8fDA9PT10Ll9zY3JlZW5TcGFjZUVycm9yfHxuLmhhc1RpbGVzZXRDb250ZW50KT9uLl9zY3JlZW5TcGFjZUVycm9yOnQuX3NjcmVlblNwYWNlRXJyb3I7cmV0dXJuIHRoaXMucm9vdC5fc2NyZWVuU3BhY2VFcnJvci1yO2RlZmF1bHQ6cmV0dXJuIE9iamVjdChnZS5hKSghMSl9fX0se2tleToiYW55Q2hpbGRyZW5WaXNpYmxlIix2YWx1ZTpmdW5jdGlvbih0LGUpe3ZhciBuPSExLHI9ITAsaT0hMSxhPXZvaWQgMDt0cnl7Zm9yKHZhciBvLHM9dC5jaGlsZHJlbltTeW1ib2wuaXRlcmF0b3JdKCk7IShyPShvPXMubmV4dCgpKS5kb25lKTtyPSEwKXt2YXIgdT1vLnZhbHVlO3UudXBkYXRlVmlzaWJpbGl0eShlKSxuPW58fHUuaXNWaXNpYmxlQW5kSW5SZXF1ZXN0Vm9sdW1lfX1jYXRjaCh0KXtpPSEwLGE9dH1maW5hbGx5e3RyeXtyfHxudWxsPT1zLnJldHVybnx8cy5yZXR1cm4oKX1maW5hbGx5e2lmKGkpdGhyb3cgYX19cmV0dXJuIG59fSx7a2V5OiJleGVjdXRlRW1wdHlUcmF2ZXJzYWwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPSEwLHI9dGhpcy5fZW1wdHlUcmF2ZXJzYWxTdGFjaztyLmxlbmd0aD4wOyl7dmFyIGk9ci5wb3AoKTt0aGlzLnVwZGF0ZVRpbGUoaSxlKSxpLmlzVmlzaWJsZUFuZEluUmVxdWVzdFZvbHVtZXx8KHRoaXMubG9hZFRpbGUoaSxlKSx0aGlzLnRvdWNoVGlsZShpLGUpKTt2YXIgYT0haS5oYXNSZW5kZXJDb250ZW50JiZ0aGlzLmNhblRyYXZlcnNlKGksZSwhMSwhMCk7aWYoYXx8aS5jb250ZW50QXZhaWxhYmxlfHwobj0hMSksYSl7dmFyIG89aS5jaGlsZHJlbi5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiB0fSkpLHM9ITAsdT0hMSxjPXZvaWQgMDt0cnl7Zm9yKHZhciBsLGg9b1tTeW1ib2wuaXRlcmF0b3JdKCk7IShzPShsPWgubmV4dCgpKS5kb25lKTtzPSEwKXt2YXIgZj1sLnZhbHVlO3IuZmluZChmKSYmci5kZWxldGUoZiksci5wdXNoKGYpfX1jYXRjaCh0KXt1PSEwLGM9dH1maW5hbGx5e3RyeXtzfHxudWxsPT1oLnJldHVybnx8aC5yZXR1cm4oKX1maW5hbGx5e2lmKHUpdGhyb3cgY319fX1yZXR1cm4gbn19XSksdH0oKSxfaT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7cmV0dXJuIE9iamVjdCh6dC5hKSh0aGlzLGUpLE9iamVjdChmaS5hKSh0aGlzLE9iamVjdChkaS5hKShlKS5hcHBseSh0aGlzLGFyZ3VtZW50cykpfXJldHVybiBPYmplY3QodmkuYSkoZSx0KSxPYmplY3QoQnQuYSkoZSxbe2tleToiY29tcGFyZURpc3RhbmNlVG9DYW1lcmEiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIDA9PT1lLl9kaXN0YW5jZVRvQ2FtZXJhJiYwPT09dC5fZGlzdGFuY2VUb0NhbWVyYT9lLl9jZW50ZXJaRGVwdGgtdC5fY2VudGVyWkRlcHRoOmUuX2Rpc3RhbmNlVG9DYW1lcmEtdC5fZGlzdGFuY2VUb0NhbWVyYX19LHtrZXk6InVwZGF0ZVRpbGVWaXNpYmlsaXR5Iix2YWx1ZTpmdW5jdGlvbih0LGUpe2lmKHQudXBkYXRlVmlzaWJpbGl0eShlKSx0LmlzVmlzaWJsZUFuZEluUmVxdWVzdFZvbHVtZSl7dmFyIG49dC5jaGlsZHJlbi5sZW5ndGg+MDtpZih0Lmhhc1RpbGVzZXRDb250ZW50JiZuKXt2YXIgcj10LmNoaWxkcmVuWzBdO3JldHVybiB0aGlzLnVwZGF0ZVRpbGVWaXNpYmlsaXR5KHIsZSksdm9pZCh0Ll92aXNpYmxlPXIuX3Zpc2libGUpfWlmKHRoaXMubWVldHNTY3JlZW5TcGFjZUVycm9yRWFybHkodCxlKSl0Ll92aXNpYmxlPSExO2Vsc2V7dmFyIGk9dC5yZWZpbmU9PT1GcixhPXQuX29wdGltQ2hpbGRyZW5XaXRoaW5QYXJlbnQ9PT1xcjtpJiZhJiZuJiYhdGhpcy5hbnlDaGlsZHJlblZpc2libGUodCxlKSYmKHQuX3Zpc2libGU9ITEpfX19fSx7a2V5OiJtZWV0c1NjcmVlblNwYWNlRXJyb3JFYXJseSIsdmFsdWU6ZnVuY3Rpb24odCxlKXt2YXIgbj10LnBhcmVudDtyZXR1cm4hKCFufHxuLmhhc1RpbGVzZXRDb250ZW50fHxuLnJlZmluZSE9PURyKSYmIXRoaXMuc2hvdWxkUmVmaW5lKHQsZSwhMCl9fV0pLGV9KGJpKSxPaT0iUkVRVUVTVEVEIix4aT0iQ09NUExFVEVEIix3aT0iRVJST1IiLGtpPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe09iamVjdCh6dC5hKSh0aGlzLHQpLHRoaXMuX3N0YXR1c01hcD17fX1yZXR1cm4gT2JqZWN0KEJ0LmEpKHQsW3trZXk6ImFkZCIsdmFsdWU6ZnVuY3Rpb24odCxlLG4scil7dmFyIGk9dGhpczt0aGlzLl9zdGF0dXNNYXBbZV18fCh0aGlzLl9zdGF0dXNNYXBbZV09e3JlcXVlc3Q6dCxjYWxsYmFjazpuLGtleTplLG9wdGlvbnM6cixzdGF0dXM6T2l9LHQoKS50aGVuKChmdW5jdGlvbih0KXtpLl9zdGF0dXNNYXBbZV0uc3RhdHVzPXhpLGkuX3N0YXR1c01hcFtlXS5jYWxsYmFjayh0LHIpfSkpLmNhdGNoKChmdW5jdGlvbih0KXtpLl9zdGF0dXNNYXBbZV0uc3RhdHVzPXdpLG4odCl9KSkpfX0se2tleToidXBkYXRlIix2YWx1ZTpmdW5jdGlvbih0LGUpe3RoaXMuX3N0YXR1c01hcFt0XSYmKHRoaXMuX3N0YXR1c01hcFt0XS5vcHRpb25zPWUpfX0se2tleToiZmluZCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX3N0YXR1c01hcFt0XX19XSksdH0oKTtmdW5jdGlvbiBTaSh0LGUpe3ZhciBuPU9iamVjdC5rZXlzKHQpO2lmKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciByPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHModCk7ZSYmKHI9ci5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHQsZSkuZW51bWVyYWJsZX0pKSksbi5wdXNoLmFwcGx5KG4scil9cmV0dXJuIG59ZnVuY3Rpb24gUGkodCl7Zm9yKHZhciBlPTE7ZTxhcmd1bWVudHMubGVuZ3RoO2UrKyl7dmFyIG49bnVsbCE9YXJndW1lbnRzW2VdP2FyZ3VtZW50c1tlXTp7fTtlJTI/U2koT2JqZWN0KG4pLCEwKS5mb3JFYWNoKChmdW5jdGlvbihlKXtPYmplY3QoRnQuYSkodCxlLG5bZV0pfSkpOk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzP09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHQsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMobikpOlNpKE9iamVjdChuKSkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsZSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG4sZSkpfSkpfXJldHVybiB0fXZhciBqaT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKHQpe3ZhciBuO3JldHVybiBPYmplY3QoenQuYSkodGhpcyxlKSwobj1PYmplY3QoZmkuYSkodGhpcyxPYmplY3QoZGkuYSkoZSkuY2FsbCh0aGlzLHQpKSkuX3RpbGVNYW5hZ2VyPW5ldyBraSxufXZhciBuO3JldHVybiBPYmplY3QodmkuYSkoZSx0KSxPYmplY3QoQnQuYSkoZSxbe2tleToic2hvdWxkUmVmaW5lIix2YWx1ZTpmdW5jdGlvbih0LGUpe3JldHVybiB0Ll9sb2RKdWRnZT1mdW5jdGlvbih0LGUpe3ZhciBuPWUudmlld3BvcnQscj1uLm1ldGVyc1BlclBpeGVsLGk9dC5oZWFkZXIubWJzWzFdLGE9dC5oZWFkZXIubWJzWzBdLG89dC5oZWFkZXIubWJzWzJdLHM9dC5oZWFkZXIubWJzWzNdLHU9bi5oZWlnaHQsYz1uLndpZHRoLGw9bi5sYXRpdHVkZSxoPW4ubG9uZ2l0dWRlLGY9W2gsbF0sZD1bYSxpLG9dLHY9W2gsaV0scD1bYSxsXSxnPU1hdGguc3FydCh1KnUrYypjKSpyWzBdLHk9LjUqdStzLzYzNzgxMzcsbT0uNSpjK3MvNjM3ODEzNztpZihhaShmLGQpPmcrcy82Mzc4MTM3KXJldHVybiJPVVQiO2lmKGFpKGYsdik+eSlyZXR1cm4iT1VUIjtpZihhaShmLHApPm0pcmV0dXJuIk9VVCI7aWYoMD09PXQubG9kTWV0cmljVmFsdWUpcmV0dXJuIkRJRyI7dmFyIGI9b2kodCxlKTtyZXR1cm4oYio9cmkpPC41PyJPVVQiOiF0LmhlYWRlci5jaGlsZHJlbnx8Yjw9dC5sb2RNZXRyaWNWYWx1ZT8iRFJBVyI6dC5oZWFkZXIuY2hpbGRyZW4/IkRJRyI6Ik9VVCJ9KHQsZSksIkRJRyI9PT10Ll9sb2RKdWRnZX19LHtrZXk6InVwZGF0ZUNoaWxkVGlsZXMiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcyxyPXQuaGVhZGVyLmNoaWxkcmVufHxbXSxpPXQuY2hpbGRyZW4sYT10LnRpbGVzZXQsbz0hMCxzPSExLHU9dm9pZCAwO3RyeXtmb3IodmFyIGMsbD1mdW5jdGlvbigpe3ZhciByPWMudmFsdWUsbz1pJiZpLmZpbmQoKGZ1bmN0aW9uKHQpe3JldHVybiB0LmlkPT09ci5pZH0pKTtpZihvKW8mJm4udXBkYXRlVGlsZShvLGUpO2Vsc2V7bi5fdGlsZU1hbmFnZXIuZmluZChyLmlkKT9uLl90aWxlTWFuYWdlci51cGRhdGUoci5pZCx7ZnJhbWVOdW1iZXI6ZS5mcmFtZU51bWJlcn0pOm4uX3RpbGVNYW5hZ2VyLmFkZCgoZnVuY3Rpb24oKXtyZXR1cm4gbi5fbG9hZFRpbGUoci5pZCxhKX0pLHIuaWQsKGZ1bmN0aW9uKHIpe3JldHVybiBuLl9vblRpbGVMb2FkKHIsdCxlKX0pLHtmcmFtZU51bWJlcjplLmZyYW1lTnVtYmVyfSl9fSxoPXJbU3ltYm9sLml0ZXJhdG9yXSgpOyEobz0oYz1oLm5leHQoKSkuZG9uZSk7bz0hMClsKCl9Y2F0Y2godCl7cz0hMCx1PXR9ZmluYWxseXt0cnl7b3x8bnVsbD09aC5yZXR1cm58fGgucmV0dXJuKCl9ZmluYWxseXtpZihzKXRocm93IHV9fX19LHtrZXk6Il9sb2FkVGlsZSIsdmFsdWU6KG49T2JqZWN0KER0LmEpKFN0LmEubWFyaygoZnVuY3Rpb24gdChlLG4pe3ZhciByLGksYTtyZXR1cm4gU3QuYS53cmFwKChmdW5jdGlvbih0KXtmb3IoOzspc3dpdGNoKHQucHJldj10Lm5leHQpe2Nhc2UgMDpyZXR1cm4gcj1uLmxvYWRlcixpPW4uZ2V0VGlsZVVybCgiIi5jb25jYXQobi51cmwsIi9ub2Rlcy8iKS5jb25jYXQoZSkpLGE9e2kzczpQaSh7fSxuLmZldGNoT3B0aW9ucyx7aXNIZWFkZXI6ITAsbG9hZENvbnRlbnQ6ITF9KX0sdC5uZXh0PTUsT2JqZWN0KE50LmEpKGkscixhKTtjYXNlIDU6cmV0dXJuIHQuYWJydXB0KCJyZXR1cm4iLHQuc2VudCk7Y2FzZSA2OmNhc2UiZW5kIjpyZXR1cm4gdC5zdG9wKCl9fSksdCl9KSkpLGZ1bmN0aW9uKHQsZSl7cmV0dXJuIG4uYXBwbHkodGhpcyxhcmd1bWVudHMpfSl9LHtrZXk6Il9vblRpbGVMb2FkIix2YWx1ZTpmdW5jdGlvbih0LGUsbil7dmFyIHI9dGhpcy5vcHRpb25zLmJhc2VQYXRoLGk9bmV3IGhpKGUudGlsZXNldCx0LGUscik7ZS5jaGlsZHJlbi5wdXNoKGkpLHRoaXMudXBkYXRlVGlsZShpLG4pLHRoaXMuX2ZyYW1lTnVtYmVyPT09bi5mcmFtZU51bWJlciYmdGhpcy5leGVjdXRlVHJhdmVyc2FsKGksbil9fV0pLGV9KGJpKTtmdW5jdGlvbiBUaSh0LGUpe3ZhciBuPU9iamVjdC5rZXlzKHQpO2lmKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciByPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHModCk7ZSYmKHI9ci5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHQsZSkuZW51bWVyYWJsZX0pKSksbi5wdXNoLmFwcGx5KG4scil9cmV0dXJuIG59ZnVuY3Rpb24gRWkodCl7Zm9yKHZhciBlPTE7ZTxhcmd1bWVudHMubGVuZ3RoO2UrKyl7dmFyIG49bnVsbCE9YXJndW1lbnRzW2VdP2FyZ3VtZW50c1tlXTp7fTtlJTI/VGkoT2JqZWN0KG4pLCEwKS5mb3JFYWNoKChmdW5jdGlvbihlKXtPYmplY3QoRnQuYSkodCxlLG5bZV0pfSkpOk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzP09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHQsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMobikpOlRpKE9iamVjdChuKSkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsZSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG4sZSkpfSkpfXJldHVybiB0fXZhciBBaT17ZWxsaXBzb2lkOnZlLldHUzg0LG1vZGVsTWF0cml4Om5ldyBVdC5hLHRocm90dGxlUmVxdWVzdHM6ITEsbWF4aW11bU1lbW9yeVVzYWdlOjMyLG9uVGlsZUxvYWQ6ZnVuY3Rpb24oKXt9LG9uVGlsZVVubG9hZDpmdW5jdGlvbigpe30sb25UaWxlRXJyb3I6ZnVuY3Rpb24odCxlLG4pe30sbWF4aW11bVNjcmVlblNwYWNlRXJyb3I6OH0sTWk9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUpe3ZhciBuPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp7fTtPYmplY3QoenQuYSkodGhpcyx0KSxPYmplY3QoZ2UuYSkoZSksdGhpcy5vcHRpb25zPUVpKHt9LEFpLHt9LG4pLHRoaXMudGlsZXNldD1lLHRoaXMubG9hZGVyPWUubG9hZGVyLHRoaXMudHlwZT1lLnR5cGUsdGhpcy51cmw9ZS51cmwsdGhpcy5iYXNlUGF0aD1lLmJhc2VQYXRofHx5ZS5hLmRpcm5hbWUodGhpcy51cmwpLHRoaXMubW9kZWxNYXRyaXg9dGhpcy5vcHRpb25zLm1vZGVsTWF0cml4LHRoaXMuZWxsaXBzb2lkPXRoaXMub3B0aW9ucy5lbGxpcHNvaWQsdGhpcy5sb2RNZXRyaWNUeXBlPWUubG9kTWV0cmljVHlwZSx0aGlzLmxvZE1ldHJpY1ZhbHVlPWUubG9kTWV0cmljVmFsdWUsdGhpcy5yZWZpbmU9ZS5yb290LnJlZmluZSx0aGlzLmZldGNoT3B0aW9ucz10aGlzLm9wdGlvbnMuZmV0Y2hPcHRpb25zfHx7fSx0aGlzLm9wdGlvbnMuaGVhZGVycyYmKHRoaXMuZmV0Y2hPcHRpb25zLmhlYWRlcnM9dGhpcy5vcHRpb25zLmhlYWRlcnMpLHRoaXMub3B0aW9ucy50b2tlbiYmKHRoaXMuZmV0Y2hPcHRpb25zLnRva2VuPXRoaXMub3B0aW9ucy50b2tlbiksdGhpcy5yb290PW51bGwsdGhpcy5jYXJ0b2dyYXBoaWNDZW50ZXI9bnVsbCx0aGlzLmNhcnRlc2lhbkNlbnRlcj1udWxsLHRoaXMuem9vbT0xLHRoaXMuYm91bmRpbmdWb2x1bWU9bnVsbCx0aGlzLl90cmF2ZXJzZXI9dGhpcy5faW5pdGlhbGl6ZVRyYXZlcnNlcigpLHRoaXMuX2NhY2hlPW5ldyB4ZSx0aGlzLl9yZXF1ZXN0U2NoZWR1bGVyPW5ldyBtZS5hKHt0aHJvdHRsZVJlcXVlc3RzOnRoaXMub3B0aW9ucy50aHJvdHRsZVJlcXVlc3RzfSksdGhpcy5fZnJhbWVOdW1iZXI9MCx0aGlzLl91cGRhdGVGcmFtZU51bWJlcj0wLHRoaXMuX3BlbmRpbmdDb3VudD0wLHRoaXMuX3RpbGVzPXt9LHRoaXMuc2VsZWN0ZWRUaWxlcz1bXSx0aGlzLl9lbXB0eVRpbGVzPVtdLHRoaXMuX3JlcXVlc3RlZFRpbGVzPVtdLHRoaXMuX3NlbGVjdGVkVGlsZXNUb1N0eWxlPVtdLHRoaXMuX3F1ZXJ5UGFyYW1zPXt9LHRoaXMuX3F1ZXJ5UGFyYW1zU3RyaW5nPW51bGwsdGhpcy5tYXhpbXVtTWVtb3J5VXNhZ2U9dGhpcy5vcHRpb25zLm1heGltdW1NZW1vcnlVc2FnZSx0aGlzLmdwdU1lbW9yeVVzYWdlSW5CeXRlcz0wLHRoaXMuc3RhdHM9bmV3IHBlLmEoe2lkOnRoaXMudXJsfSksdGhpcy5faW5pdGlhbGl6ZVN0YXRzKCksdGhpcy5faGFzTWl4ZWRDb250ZW50PSExLHRoaXMuX21heGltdW1TY3JlZW5TcGFjZUVycm9yPXRoaXMub3B0aW9ucy5tYXhpbXVtU2NyZWVuU3BhY2VFcnJvcix0aGlzLl9wcm9wZXJ0aWVzPXZvaWQgMCx0aGlzLl9leHRlbnNpb25zVXNlZD12b2lkIDAsdGhpcy5fZ2x0ZlVwQXhpcz12b2lkIDAsdGhpcy5fZHluYW1pY1NjcmVlblNwYWNlRXJyb3JDb21wdXRlZERlbnNpdHk9MCx0aGlzLmV4dHJhcz1udWxsLHRoaXMuYXNzZXQ9e30sdGhpcy5jcmVkaXRzPXt9LHRoaXMuZGVzY3JpcHRpb249dGhpcy5vcHRpb25zLmRlc2NyaXB0aW9uLHRoaXMuX2RlZmF1bHRHZW9tZXRyeVNjaGVtYT1bXSx0aGlzLl9pbml0aWFsaXplVGlsZVNldChlLHRoaXMub3B0aW9ucyl9dmFyIGU7cmV0dXJuIE9iamVjdChCdC5hKSh0LFt7a2V5OiJpc0xvYWRlZCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gMD09PXRoaXMuX3BlbmRpbmdDb3VudH19LHtrZXk6ImRlc3Ryb3kiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5fZGVzdHJveSgpfX0se2tleToidXBkYXRlIix2YWx1ZTpmdW5jdGlvbih0KXt0aGlzLl9jYWNoZS5yZXNldCgpLHRoaXMuX2ZyYW1lTnVtYmVyKys7dmFyIGU9RXIodCx0aGlzLl9mcmFtZU51bWJlcik7dGhpcy5fdHJhdmVyc2VyLnRyYXZlcnNlKHRoaXMucm9vdCxlLHRoaXMub3B0aW9ucyk7dmFyIG49T2JqZWN0LnZhbHVlcyh0aGlzLl90cmF2ZXJzZXIuc2VsZWN0ZWRUaWxlcyk7dGhpcy5fdGlsZXNDaGFuZ2VkKHRoaXMuc2VsZWN0ZWRUaWxlcyxuKSYmdGhpcy5fdXBkYXRlRnJhbWVOdW1iZXIrKyx0aGlzLnNlbGVjdGVkVGlsZXM9bjt2YXIgcj0hMCxpPSExLGE9dm9pZCAwO3RyeXtmb3IodmFyIG8scz10aGlzLnNlbGVjdGVkVGlsZXNbU3ltYm9sLml0ZXJhdG9yXSgpOyEocj0obz1zLm5leHQoKSkuZG9uZSk7cj0hMCl7dmFyIHU9by52YWx1ZTt0aGlzLl90aWxlc1t1LmlkXT11fX1jYXRjaCh0KXtpPSEwLGE9dH1maW5hbGx5e3RyeXtyfHxudWxsPT1zLnJldHVybnx8cy5yZXR1cm4oKX1maW5hbGx5e2lmKGkpdGhyb3cgYX19cmV0dXJuIHRoaXMuX3JlcXVlc3RlZFRpbGVzPU9iamVjdC52YWx1ZXModGhpcy5fdHJhdmVyc2VyLnJlcXVlc3RlZFRpbGVzKSx0aGlzLl9lbXB0eVRpbGVzPU9iamVjdC52YWx1ZXModGhpcy5fdHJhdmVyc2VyLmVtcHR5VGlsZXMpLHRoaXMuX2xvYWRUaWxlcyhlKSx0aGlzLl91bmxvYWRUaWxlcygpLHRoaXMuX3VwZGF0ZVN0YXRzKCksdGhpcy5fdXBkYXRlRnJhbWVOdW1iZXJ9fSx7a2V5OiJnZXRUaWxlVXJsIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdC5zdGFydHNXaXRoKCJkYXRhOiIpP3Q6IiIuY29uY2F0KHQpLmNvbmNhdCh0aGlzLnF1ZXJ5UGFyYW1zKX19LHtrZXk6Il90aWxlc0NoYW5nZWQiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7aWYodC5sZW5ndGghPT1lLmxlbmd0aClyZXR1cm4hMDt2YXIgbj1uZXcgU2V0KHQubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gdC5pZH0pKSkscj1uZXcgU2V0KGUubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gdC5pZH0pKSksaT10LmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIXIuaGFzKHQuaWQpfSkpLmxlbmd0aD4wO3JldHVybiBpPWl8fGUuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4hbi5oYXModC5pZCl9KSkubGVuZ3RoPjB9fSx7a2V5OiJfbG9hZFRpbGVzIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT0hMCxuPSExLHI9dm9pZCAwO3RyeXtmb3IodmFyIGksYT10aGlzLl9yZXF1ZXN0ZWRUaWxlc1tTeW1ib2wuaXRlcmF0b3JdKCk7IShlPShpPWEubmV4dCgpKS5kb25lKTtlPSEwKXt2YXIgbz1pLnZhbHVlO3RoaXMuX2xvYWRUaWxlKG8sdCl9fWNhdGNoKHQpe249ITAscj10fWZpbmFsbHl7dHJ5e2V8fG51bGw9PWEucmV0dXJufHxhLnJldHVybigpfWZpbmFsbHl7aWYobil0aHJvdyByfX19fSx7a2V5OiJfdW5sb2FkVGlsZXMiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5fY2FjaGUudW5sb2FkVGlsZXModGhpcywoZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5fdW5sb2FkVGlsZShlKX0pKX19LHtrZXk6Il91cGRhdGVTdGF0cyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD0wLGU9MCxuPSEwLHI9ITEsaT12b2lkIDA7dHJ5e2Zvcih2YXIgYSxvPXRoaXMuc2VsZWN0ZWRUaWxlc1tTeW1ib2wuaXRlcmF0b3JdKCk7IShuPShhPW8ubmV4dCgpKS5kb25lKTtuPSEwKXt2YXIgcz1hLnZhbHVlO3MuY29udGVudEF2YWlsYWJsZSYmKHQrKyxzLmNvbnRlbnQucG9pbnRDb3VudCYmKGUrPXMuY29udGVudC5wb2ludENvdW50KSl9fWNhdGNoKHQpe3I9ITAsaT10fWZpbmFsbHl7dHJ5e258fG51bGw9PW8ucmV0dXJufHxvLnJldHVybigpfWZpbmFsbHl7aWYocil0aHJvdyBpfX10aGlzLnN0YXRzLmdldCgiVGlsZXMgSW4gVmlldyIpLmNvdW50PXRoaXMuc2VsZWN0ZWRUaWxlcy5sZW5ndGgsdGhpcy5zdGF0cy5nZXQoIlRpbGVzIFRvIFJlbmRlciIpLmNvdW50PXQsdGhpcy5zdGF0cy5nZXQoIlBvaW50cyIpLmNvdW50PWV9fSx7a2V5OiJfaW5pdGlhbGl6ZVRpbGVTZXQiLHZhbHVlOmZ1bmN0aW9uKHQpe3RoaXMucm9vdD10aGlzLl9pbml0aWFsaXplVGlsZUhlYWRlcnModCxudWxsLHRoaXMuYmFzZVBhdGgpLHRoaXMudHlwZT09PVdyJiZ0aGlzLl9pbml0aWFsaXplQ2VzaXVtVGlsZXNldCh0KSx0aGlzLnR5cGU9PT1HciYmdGhpcy5faW5pdGlhbGl6ZUkzU1RpbGVzZXQodCksdGhpcy5fY2FsY3VsYXRlVmlld1Byb3BzKCl9fSx7a2V5OiJfY2FsY3VsYXRlVmlld1Byb3BzIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMucm9vdCxlPXQuYm91bmRpbmdWb2x1bWUuY2VudGVyO2lmKCFlKXJldHVybiBjb25zb2xlLndhcm4oImNlbnRlciB3YXMgbm90IHByZS1jYWxjdWxhdGVkIGZvciB0aGUgcm9vdCB0aWxlIiksdGhpcy5jYXJ0b2dyYXBoaWNDZW50ZXI9bmV3IEF0LmEsdm9pZCh0aGlzLnpvb209MSk7dGhpcy5jYXJ0b2dyYXBoaWNDZW50ZXI9dmUuV0dTODQuY2FydGVzaWFuVG9DYXJ0b2dyYXBoaWMoZSxuZXcgQXQuYSksdGhpcy5jYXJ0ZXNpYW5DZW50ZXI9ZSx0aGlzLnpvb209ZnVuY3Rpb24odCl7dmFyIGU9dC5oYWxmQXhlcyxuPXQucmFkaXVzLHI9dC53aWR0aCxpPXQuaGVpZ2h0O2lmKGUpe2UuZ2V0Q29sdW1uKDAsQXIpO3ZhciBhPUFyLmxlbigpO2UuZ2V0Q29sdW1uKDEsQXIpO3ZhciBvPUFyLmxlbigpO2UuZ2V0Q29sdW1uKDIsQXIpO3ZhciBzPWEvMix1PW8vMixjPUFyLmxlbigpLzI7cmV0dXJuKE1hdGgubG9nMig2Mzc4MTM3L3MpK01hdGgubG9nMig2Mzc4MTM3L3UpK01hdGgubG9nMig2MzU2NzUyLjMxNDI0NTE3OS9jKSkvM31yZXR1cm4gbj9NYXRoLmxvZzIoNjM1Njc1Mi4zMTQyNDUxNzkvbik6aSYmcj8oTWF0aC5sb2cyKDYzNzgxMzcvcikrTWF0aC5sb2cyKDYzNzgxMzcvaSkpLzI6MX0odC5ib3VuZGluZ1ZvbHVtZSl9fSx7a2V5OiJfaW5pdGlhbGl6ZVN0YXRzIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuc3RhdHMuZ2V0KCJUaWxlcyBJbiBUaWxlc2V0KHMpIiksdGhpcy5zdGF0cy5nZXQoIlRpbGVzIExvYWRpbmciKSx0aGlzLnN0YXRzLmdldCgiVGlsZXMgSW4gTWVtb3J5IiksdGhpcy5zdGF0cy5nZXQoIlRpbGVzIEluIFZpZXciKSx0aGlzLnN0YXRzLmdldCgiVGlsZXMgVG8gUmVuZGVyIiksdGhpcy5zdGF0cy5nZXQoIlRpbGVzIExvYWRlZCIpLHRoaXMuc3RhdHMuZ2V0KCJUaWxlcyBVbmxvYWRlZCIpLHRoaXMuc3RhdHMuZ2V0KCJGYWlsZWQgVGlsZSBMb2FkcyIpLHRoaXMuc3RhdHMuZ2V0KCJQb2ludHMiLCJtZW1vcnkiKSx0aGlzLnN0YXRzLmdldCgiVGlsZSBNZW1vcnkgVXNlIiwibWVtb3J5Iil9fSx7a2V5OiJfaW5pdGlhbGl6ZVRpbGVIZWFkZXJzIix2YWx1ZTpmdW5jdGlvbih0LGUsbil7dmFyIHI9bmV3IGhpKHRoaXMsdC5yb290LGUsbik7aWYoZSYmKGUuY2hpbGRyZW4ucHVzaChyKSxyLmRlcHRoPWUuZGVwdGgrMSksdGhpcy50eXBlPT09V3Ipe3ZhciBpPVtdO2ZvcihpLnB1c2gocik7aS5sZW5ndGg+MDspe3ZhciBhPWkucG9wKCk7dGhpcy5zdGF0cy5nZXQoIlRpbGVzIEluIFRpbGVzZXQocykiKS5pbmNyZW1lbnRDb3VudCgpO3ZhciBvPWEuaGVhZGVyLmNoaWxkcmVufHxbXSxzPSEwLHU9ITEsYz12b2lkIDA7dHJ5e2Zvcih2YXIgbCxoPW9bU3ltYm9sLml0ZXJhdG9yXSgpOyEocz0obD1oLm5leHQoKSkuZG9uZSk7cz0hMCl7dmFyIGY9bC52YWx1ZSxkPW5ldyBoaSh0aGlzLGYsYSxuKTthLmNoaWxkcmVuLnB1c2goZCksZC5kZXB0aD1hLmRlcHRoKzEsaS5wdXNoKGQpfX1jYXRjaCh0KXt1PSEwLGM9dH1maW5hbGx5e3RyeXtzfHxudWxsPT1oLnJldHVybnx8aC5yZXR1cm4oKX1maW5hbGx5e2lmKHUpdGhyb3cgY319fX1yZXR1cm4gcn19LHtrZXk6Il9pbml0aWFsaXplVHJhdmVyc2VyIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0O3N3aXRjaCh0aGlzLnR5cGUpe2Nhc2UgV3I6dD1faTticmVhaztjYXNlIEdyOnQ9amk7YnJlYWs7ZGVmYXVsdDp0PWJpfXJldHVybiBuZXcgdCh7YmFzZVBhdGg6dGhpcy5iYXNlUGF0aH0pfX0se2tleToiX2Rlc3Ryb3lUaWxlSGVhZGVycyIsdmFsdWU6ZnVuY3Rpb24odCl7dGhpcy5fZGVzdHJveVN1YnRyZWUodCl9fSx7a2V5OiJfbG9hZFRpbGUiLHZhbHVlOihlPU9iamVjdChEdC5hKShTdC5hLm1hcmsoKGZ1bmN0aW9uIHQoZSxuKXt2YXIgcjtyZXR1cm4gU3QuYS53cmFwKChmdW5jdGlvbih0KXtmb3IoOzspc3dpdGNoKHQucHJldj10Lm5leHQpe2Nhc2UgMDpyZXR1cm4gdC5wcmV2PTAsdGhpcy5fb25TdGFydFRpbGVMb2FkaW5nKCksdC5uZXh0PTQsZS5sb2FkQ29udGVudChuKTtjYXNlIDQ6cj10LnNlbnQsdC5uZXh0PTEwO2JyZWFrO2Nhc2UgNzp0LnByZXY9Nyx0LnQwPXQuY2F0Y2goMCksdGhpcy5fb25UaWxlTG9hZEVycm9yKGUsdC50MCk7Y2FzZSAxMDpyZXR1cm4gdC5wcmV2PTEwLHRoaXMuX29uRW5kVGlsZUxvYWRpbmcoKSx0aGlzLl9vblRpbGVMb2FkKGUsciksdC5maW5pc2goMTApO2Nhc2UgMTQ6Y2FzZSJlbmQiOnJldHVybiB0LnN0b3AoKX19KSx0LHRoaXMsW1swLDcsMTAsMTRdXSl9KSkpLGZ1bmN0aW9uKHQsbil7cmV0dXJuIGUuYXBwbHkodGhpcyxhcmd1bWVudHMpfSl9LHtrZXk6Il9vblRpbGVMb2FkRXJyb3IiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dGhpcy5zdGF0cy5nZXQoIkZhaWxlZCBUaWxlIExvYWRzIikuaW5jcmVtZW50Q291bnQoKTt2YXIgbj1lLm1lc3NhZ2V8fGUudG9TdHJpbmcoKSxyPXQudXJsO2NvbnNvbGUuZXJyb3IoIkEgM0QgdGlsZSBmYWlsZWQgdG8gbG9hZDogIi5jb25jYXQodC51cmwsIiAiKS5jb25jYXQobikpLHRoaXMub3B0aW9ucy5vblRpbGVFcnJvcih0LG4scil9fSx7a2V5OiJfb25UaWxlTG9hZCIsdmFsdWU6ZnVuY3Rpb24odCxlKXtlJiYodCYmdC5jb250ZW50JiZmdW5jdGlvbih0LGUpe09iamVjdChnZS5hKSh0KSxPYmplY3QoZ2UuYSkoZSk7dmFyIG49ZS5ydGNDZW50ZXIscj1lLnJvdGF0ZVl0b1osaT10LmNvbXB1dGVkVHJhbnNmb3JtLGE9dC5ib3VuZGluZ1ZvbHVtZS5jZW50ZXIsbz1uZXcgVXQuYShpKTtpZihuJiZvLnRyYW5zbGF0ZShuKSxyKXt2YXIgcz0obmV3IFV0LmEpLnJvdGF0ZVgoTWF0aC5QSS8yKTtvPW8ubXVsdGlwbHlSaWdodChzKX1lLmlzUXVhbnRpemVkJiZvLnRyYW5zbGF0ZShlLnF1YW50aXplZFZvbHVtZU9mZnNldCkuc2NhbGUoZS5xdWFudGl6ZWRWb2x1bWVTY2FsZSk7dmFyIHU9bmV3IEF0LmEoYSk7ZS5jYXJ0ZXNpYW5Nb2RlbE1hdHJpeD1vLGUuY2FydGVzaWFuT3JpZ2luPXU7dmFyIGM9dmUuV0dTODQuY2FydGVzaWFuVG9DYXJ0b2dyYXBoaWModSxuZXcgQXQuYSksbD12ZS5XR1M4NC5lYXN0Tm9ydGhVcFRvRml4ZWRGcmFtZSh1KS5pbnZlcnQoKTtlLmNhcnRvZ3JhcGhpY01vZGVsTWF0cml4PWwubXVsdGlwbHlSaWdodChvKSxlLmNhcnRvZ3JhcGhpY09yaWdpbj1jLGUubW9kZWxNYXRyaXg9ZS5jYXJ0b2dyYXBoaWNNb2RlbE1hdHJpeH0odCx0LmNvbnRlbnQpLHRoaXMuX2FkZFRpbGVUb0NhY2hlKHQpLHRoaXMub3B0aW9ucy5vblRpbGVMb2FkKHQpKX19LHtrZXk6Il9vblN0YXJ0VGlsZUxvYWRpbmciLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5fcGVuZGluZ0NvdW50KyssdGhpcy5zdGF0cy5nZXQoIlRpbGVzIExvYWRpbmciKS5pbmNyZW1lbnRDb3VudCgpfX0se2tleToiX29uRW5kVGlsZUxvYWRpbmciLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5fcGVuZGluZ0NvdW50LS0sdGhpcy5zdGF0cy5nZXQoIlRpbGVzIExvYWRpbmciKS5kZWNyZW1lbnRDb3VudCgpfX0se2tleToiX2FkZFRpbGVUb0NhY2hlIix2YWx1ZTpmdW5jdGlvbih0KXt0aGlzLl9jYWNoZS5hZGQodGhpcyx0LChmdW5jdGlvbihlKXtyZXR1cm4gZS5fdXBkYXRlQ2FjaGVTdGF0cyh0KX0pKX19LHtrZXk6Il91cGRhdGVDYWNoZVN0YXRzIix2YWx1ZTpmdW5jdGlvbih0KXt0aGlzLnN0YXRzLmdldCgiVGlsZXMgTG9hZGVkIikuaW5jcmVtZW50Q291bnQoKSx0aGlzLnN0YXRzLmdldCgiVGlsZXMgSW4gTWVtb3J5IikuaW5jcmVtZW50Q291bnQoKSx0aGlzLmdwdU1lbW9yeVVzYWdlSW5CeXRlcys9dC5jb250ZW50LmJ5dGVMZW5ndGh8fDAsdGhpcy5zdGF0cy5nZXQoIlRpbGUgTWVtb3J5IFVzZSIpLmNvdW50PXRoaXMuZ3B1TWVtb3J5VXNhZ2VJbkJ5dGVzfX0se2tleToiX3VubG9hZFRpbGUiLHZhbHVlOmZ1bmN0aW9uKHQpe3RoaXMuZ3B1TWVtb3J5VXNhZ2VJbkJ5dGVzLT10LmNvbnRlbnQuYnl0ZUxlbmd0aHx8MCx0aGlzLnN0YXRzLmdldCgiVGlsZXMgSW4gTWVtb3J5IikuZGVjcmVtZW50Q291bnQoKSx0aGlzLnN0YXRzLmdldCgiVGlsZXMgVW5sb2FkZWQiKS5pbmNyZW1lbnRDb3VudCgpLHRoaXMuc3RhdHMuZ2V0KCJUaWxlIE1lbW9yeSBVc2UiKS5jb3VudD10aGlzLmdwdU1lbW9yeVVzYWdlSW5CeXRlcyx0aGlzLm9wdGlvbnMub25UaWxlVW5sb2FkKHQpLHQudW5sb2FkQ29udGVudCgpfX0se2tleToiX2Rlc3Ryb3kiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9W107Zm9yKHRoaXMucm9vdCYmdC5wdXNoKHRoaXMucm9vdCk7dC5sZW5ndGg+MDspe3ZhciBlPXQucG9wKCksbj0hMCxyPSExLGk9dm9pZCAwO3RyeXtmb3IodmFyIGEsbz1lLmNoaWxkcmVuW1N5bWJvbC5pdGVyYXRvcl0oKTshKG49KGE9by5uZXh0KCkpLmRvbmUpO249ITApe3ZhciBzPWEudmFsdWU7dC5wdXNoKHMpfX1jYXRjaCh0KXtyPSEwLGk9dH1maW5hbGx5e3RyeXtufHxudWxsPT1vLnJldHVybnx8by5yZXR1cm4oKX1maW5hbGx5e2lmKHIpdGhyb3cgaX19dGhpcy5fZGVzdHJveVRpbGUoZSl9dGhpcy5yb290PW51bGx9fSx7a2V5OiJfZGVzdHJveVN1YnRyZWUiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXQsbj1bXTtmb3Iobi5wdXNoKGUpO24ubGVuZ3RoPjA7KXt0PW4ucG9wKCk7dmFyIHI9ITAsaT0hMSxhPXZvaWQgMDt0cnl7Zm9yKHZhciBvLHM9dC5jaGlsZHJlbltTeW1ib2wuaXRlcmF0b3JdKCk7IShyPShvPXMubmV4dCgpKS5kb25lKTtyPSEwKXt2YXIgdT1vLnZhbHVlO24ucHVzaCh1KX19Y2F0Y2godCl7aT0hMCxhPXR9ZmluYWxseXt0cnl7cnx8bnVsbD09cy5yZXR1cm58fHMucmV0dXJuKCl9ZmluYWxseXtpZihpKXRocm93IGF9fXQhPT1lJiZ0aGlzLl9kZXN0cm95VGlsZSh0KX1lLmNoaWxkcmVuPVtdfX0se2tleToiX2Rlc3Ryb3lUaWxlIix2YWx1ZTpmdW5jdGlvbih0KXt0aGlzLl9jYWNoZS51bmxvYWRUaWxlKHRoaXMsdCksdGhpcy5fdW5sb2FkVGlsZSh0KSx0LmRlc3Ryb3koKX19LHtrZXk6Il9pbml0aWFsaXplQ2VzaXVtVGlsZXNldCIsdmFsdWU6ZnVuY3Rpb24odCl7aWYodGhpcy5hc3NldD10LmFzc2V0LCF0aGlzLmFzc2V0KXRocm93IG5ldyBFcnJvcigiVGlsZXNldCBtdXN0IGhhdmUgYW4gYXNzZXQgcHJvcGVydHkuIik7aWYoIjAuMCIhPT10aGlzLmFzc2V0LnZlcnNpb24mJiIxLjAiIT09dGhpcy5hc3NldC52ZXJzaW9uKXRocm93IG5ldyBFcnJvcigiVGhlIHRpbGVzZXQgbXVzdCBiZSAzRCBUaWxlcyB2ZXJzaW9uIDAuMCBvciAxLjAuIik7InRpbGVzZXRWZXJzaW9uImluIHRoaXMuYXNzZXQmJih0aGlzLl9xdWVyeVBhcmFtcy52PXRoaXMuYXNzZXQudGlsZXNldFZlcnNpb24pLHRoaXMuY3JlZGl0cz17YXR0cmlidXRpb25zOnRoaXMub3B0aW9ucy5hdHRyaWJ1dGlvbnN8fFtdfSx0aGlzLmRlc2NyaXB0aW9uPXRoaXMub3B0aW9ucy5kZXNjcmlwdGlvbix0aGlzLnByb3BlcnRpZXM9dC5wcm9wZXJ0aWVzLHRoaXMuZ2VvbWV0cmljRXJyb3I9dC5nZW9tZXRyaWNFcnJvcix0aGlzLl9leHRlbnNpb25zVXNlZD10LmV4dGVuc2lvbnNVc2VkLHRoaXMuZXh0cmFzPXQuZXh0cmFzfX0se2tleToiX2luaXRpYWxpemVJM1NUaWxlc2V0Iix2YWx1ZTpmdW5jdGlvbih0KXsidG9rZW4iaW4gdGhpcy5vcHRpb25zJiYodGhpcy5fcXVlcnlQYXJhbXMudG9rZW49dGhpcy5vcHRpb25zLnRva2VuKSx0aGlzLl9kZWZhdWx0R2VvbWV0cnlTY2hlbWE9dC5zdG9yZS5kZWZhdWx0R2VvbWV0cnlTY2hlbWF9fSx7a2V5OiJoYXNFeHRlbnNpb24iLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiBCb29sZWFuKHRoaXMuX2V4dGVuc2lvbnNVc2VkJiZ0aGlzLl9leHRlbnNpb25zVXNlZC5pbmRleE9mKHQpPi0xKX19LHtrZXk6InRpbGVzIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gT2JqZWN0LnZhbHVlcyh0aGlzLl90aWxlcyl9fSx7a2V5OiJxdWVyeVBhcmFtcyIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3F1ZXJ5UGFyYW1zU3RyaW5nfHwodGhpcy5fcXVlcnlQYXJhbXNTdHJpbmc9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPVtdLG49MCxyPU9iamVjdC5rZXlzKHQpO248ci5sZW5ndGg7bisrKXt2YXIgaT1yW25dO2UucHVzaCgiIi5jb25jYXQoaSwiPSIpLmNvbmNhdCh0W2ldKSl9c3dpdGNoKGUubGVuZ3RoKXtjYXNlIDA6cmV0dXJuIiI7Y2FzZSAxOnJldHVybiI/Ii5jb25jYXQoZVswXSk7ZGVmYXVsdDpyZXR1cm4iPyIuY29uY2F0KGUuam9pbigiJiIpKX19KHRoaXMuX3F1ZXJ5UGFyYW1zKSksdGhpcy5fcXVlcnlQYXJhbXNTdHJpbmd9fV0pLHR9KCksQ2k9e0NPTVBPU0lURToiY21wdCIsUE9JTlRfQ0xPVUQ6InBudHMiLEJBVENIRURfM0RfTU9ERUw6ImIzZG0iLElOU1RBTkNFRF8zRF9NT0RFTDoiaTNkbSIsR0VPTUVUUlk6Imdlb20iLFZFQ1RPUjoidmVjdCJ9O09iamVjdC5rZXlzKENpKTtmdW5jdGlvbiBMaSh0LGUsbil7T2JqZWN0KGdlLmEpKHQgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcik7dmFyIHI9bmV3IFRleHREZWNvZGVyKCJ1dGY4IiksaT1uZXcgVWludDhBcnJheSh0LGUsbik7cmV0dXJuIHIuZGVjb2RlKGkpfWZ1bmN0aW9uIElpKHQpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTowLG49bmV3IERhdGFWaWV3KHQpO3JldHVybiIiLmNvbmNhdChTdHJpbmcuZnJvbUNoYXJDb2RlKG4uZ2V0VWludDgoZSswKSkpLmNvbmNhdChTdHJpbmcuZnJvbUNoYXJDb2RlKG4uZ2V0VWludDgoZSsxKSkpLmNvbmNhdChTdHJpbmcuZnJvbUNoYXJDb2RlKG4uZ2V0VWludDgoZSsyKSkpLmNvbmNhdChTdHJpbmcuZnJvbUNoYXJDb2RlKG4uZ2V0VWludDgoZSszKSkpfWZ1bmN0aW9uIFJpKHQsZSl7dmFyIG49T2JqZWN0LmtleXModCk7aWYoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyl7dmFyIHI9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyh0KTtlJiYocj1yLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodCxlKS5lbnVtZXJhYmxlfSkpKSxuLnB1c2guYXBwbHkobixyKX1yZXR1cm4gbn12YXIgTmksRGk9e0JZVEU6NTEyMCxVTlNJR05FRF9CWVRFOjUxMjEsU0hPUlQ6NTEyMixVTlNJR05FRF9TSE9SVDo1MTIzLElOVDo1MTI0LFVOU0lHTkVEX0lOVDo1MTI1LEZMT0FUOjUxMjYsRE9VQkxFOjUxMzB9LEZpPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0xO2U8YXJndW1lbnRzLmxlbmd0aDtlKyspe3ZhciBuPW51bGwhPWFyZ3VtZW50c1tlXT9hcmd1bWVudHNbZV06e307ZSUyP1JpKE9iamVjdChuKSwhMCkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7T2JqZWN0KEZ0LmEpKHQsZSxuW2VdKX0pKTpPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycz9PYmplY3QuZGVmaW5lUHJvcGVydGllcyh0LE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKG4pKTpSaShPYmplY3QobikpLmZvckVhY2goKGZ1bmN0aW9uKGUpe09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LGUsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihuLGUpKX0pKX1yZXR1cm4gdH0oe30se1BPSU5UUzowLExJTkVTOjEsTElORV9MT09QOjIsTElORV9TVFJJUDozLFRSSUFOR0xFUzo0LFRSSUFOR0xFX1NUUklQOjUsVFJJQU5HTEVfRkFOOjZ9LHt9LERpKSx6aT0oTmk9e30sT2JqZWN0KEZ0LmEpKE5pLERpLkRPVUJMRSxGbG9hdDY0QXJyYXkpLE9iamVjdChGdC5hKShOaSxEaS5GTE9BVCxGbG9hdDMyQXJyYXkpLE9iamVjdChGdC5hKShOaSxEaS5VTlNJR05FRF9TSE9SVCxVaW50MTZBcnJheSksT2JqZWN0KEZ0LmEpKE5pLERpLlVOU0lHTkVEX0lOVCxVaW50MzJBcnJheSksT2JqZWN0KEZ0LmEpKE5pLERpLlVOU0lHTkVEX0JZVEUsVWludDhBcnJheSksT2JqZWN0KEZ0LmEpKE5pLERpLkJZVEUsSW50OEFycmF5KSxPYmplY3QoRnQuYSkoTmksRGkuU0hPUlQsSW50MTZBcnJheSksT2JqZWN0KEZ0LmEpKE5pLERpLklOVCxJbnQzMkFycmF5KSxOaSksQmk9e0RPVUJMRTpEaS5ET1VCTEUsRkxPQVQ6RGkuRkxPQVQsVU5TSUdORURfU0hPUlQ6RGkuVU5TSUdORURfU0hPUlQsVU5TSUdORURfSU5UOkRpLlVOU0lHTkVEX0lOVCxVTlNJR05FRF9CWVRFOkRpLlVOU0lHTkVEX0JZVEUsQllURTpEaS5CWVRFLFNIT1JUOkRpLlNIT1JULElOVDpEaS5JTlR9LFVpPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe09iamVjdCh6dC5hKSh0aGlzLHQpfXJldHVybiBPYmplY3QoQnQuYSkodCxudWxsLFt7a2V5OiJmcm9tVHlwZWRBcnJheSIsdmFsdWU6ZnVuY3Rpb24odCl7Zm9yKHZhciBlIGluIHQ9QXJyYXlCdWZmZXIuaXNWaWV3KHQpP3QuY29uc3RydWN0b3I6dCx6aSl7aWYoemlbZV09PT10KXJldHVybiBlfXRocm93IG5ldyBFcnJvcigiRmFpbGVkIHRvIGNvbnZlcnQgR0wgdHlwZSIpfX0se2tleToiZnJvbU5hbWUiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPUJpW3RdO2lmKCFlKXRocm93IG5ldyBFcnJvcigiRmFpbGVkIHRvIGNvbnZlcnQgR0wgdHlwZSIpO3JldHVybiBlfX0se2tleToiZ2V0QXJyYXlUeXBlIix2YWx1ZTpmdW5jdGlvbih0KXthcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXSYmYXJndW1lbnRzWzFdO3N3aXRjaCh0KXtjYXNlIERpLlVOU0lHTkVEX1NIT1JUXzVfNl81OmNhc2UgRGkuVU5TSUdORURfU0hPUlRfNF80XzRfNDpjYXNlIERpLlVOU0lHTkVEX1NIT1JUXzVfNV81XzE6cmV0dXJuIFVpbnQxNkFycmF5O2RlZmF1bHQ6dmFyIGU9emlbdF07aWYoIWUpdGhyb3cgbmV3IEVycm9yKCJGYWlsZWQgdG8gY29udmVydCBHTCB0eXBlIik7cmV0dXJuIGV9fX0se2tleToiZ2V0Qnl0ZVNpemUiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiB0LmdldEFycmF5VHlwZShlKS5CWVRFU19QRVJfRUxFTUVOVH19LHtrZXk6InZhbGlkYXRlIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gQm9vbGVhbih0LmdldEFycmF5VHlwZShlKSl9fSx7a2V5OiJjcmVhdGVUeXBlZEFycmF5Iix2YWx1ZTpmdW5jdGlvbihlLG4pe3ZhciByPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTowLGk9YXJndW1lbnRzLmxlbmd0aD4zP2FyZ3VtZW50c1szXTp2b2lkIDA7dm9pZCAwPT09aSYmKGk9KG4uYnl0ZUxlbmd0aC1yKS90LmdldEJ5dGVTaXplKGUpKTt2YXIgYT10LmdldEFycmF5VHlwZShlKTtyZXR1cm4gbmV3IGEobixyLGkpfX1dKSx0fSgpLFZpPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlLG4pe09iamVjdCh6dC5hKSh0aGlzLHQpLHRoaXMuanNvbj1lLHRoaXMuYnVmZmVyPW4sdGhpcy5mZWF0dXJlc0xlbmd0aD0wLHRoaXMuX2NhY2hlZFR5cGVkQXJyYXlzPXt9fXJldHVybiBPYmplY3QoQnQuYSkodCxbe2tleToiZ2V0RXh0ZW5zaW9uIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5qc29uLmV4dGVuc2lvbnMmJnRoaXMuanNvbi5leHRlbnNpb25zW3RdfX0se2tleToiaGFzUHJvcGVydHkiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiBCb29sZWFuKHRoaXMuanNvblt0XSl9fSx7a2V5OiJnZXRHbG9iYWxQcm9wZXJ0eSIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOkZpLlVOU0lHTkVEX0lOVCxuPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXToxLHI9dGhpcy5qc29uW3RdO3JldHVybiByJiZOdW1iZXIuaXNGaW5pdGUoci5ieXRlT2Zmc2V0KT90aGlzLl9nZXRUeXBlZEFycmF5RnJvbUJpbmFyeSh0LGUsbiwxLHIuYnl0ZU9mZnNldCk6cn19LHtrZXk6ImdldFByb3BlcnR5QXJyYXkiLHZhbHVlOmZ1bmN0aW9uKHQsZSxuKXt2YXIgcj10aGlzLmpzb25bdF07cmV0dXJuIHImJk51bWJlci5pc0Zpbml0ZShyLmJ5dGVPZmZzZXQpPygiY29tcG9uZW50VHlwZSJpbiByJiYoZT1VaS5mcm9tTmFtZShyLmNvbXBvbmVudFR5cGUpKSx0aGlzLl9nZXRUeXBlZEFycmF5RnJvbUJpbmFyeSh0LGUsbix0aGlzLmZlYXR1cmVzTGVuZ3RoLHIuYnl0ZU9mZnNldCkpOnRoaXMuX2dldFR5cGVkQXJyYXlGcm9tQXJyYXkodCxlLHIpfX0se2tleToiZ2V0UHJvcGVydHkiLHZhbHVlOmZ1bmN0aW9uKHQsZSxuLHIsaSl7dmFyIGE9dGhpcy5qc29uW3RdO2lmKCFhKXJldHVybiBhO3ZhciBvPXRoaXMuZ2V0UHJvcGVydHlBcnJheSh0LGUsbik7aWYoMT09PW4pcmV0dXJuIG9bcl07Zm9yKHZhciBzPTA7czxuOysrcylpW3NdPW9bbipyK3NdO3JldHVybiBpfX0se2tleToiX2dldFR5cGVkQXJyYXlGcm9tQmluYXJ5Iix2YWx1ZTpmdW5jdGlvbih0LGUsbixyLGkpe3ZhciBhPXRoaXMuX2NhY2hlZFR5cGVkQXJyYXlzLG89YVt0XTtyZXR1cm4gb3x8KG89VWkuY3JlYXRlVHlwZWRBcnJheShlLHRoaXMuYnVmZmVyLmJ1ZmZlcix0aGlzLmJ1ZmZlci5ieXRlT2Zmc2V0K2kscipuKSxhW3RdPW8pLG99fSx7a2V5OiJfZ2V0VHlwZWRBcnJheUZyb21BcnJheSIsdmFsdWU6ZnVuY3Rpb24odCxlLG4pe3ZhciByPXRoaXMuX2NhY2hlZFR5cGVkQXJyYXlzLGk9clt0XTtyZXR1cm4gaXx8KGk9VWkuY3JlYXRlVHlwZWRBcnJheShlLG4pLHJbdF09aSksaX19XSksdH0oKSxHaT1uKDI2KSxXaT17U0NBTEFSOjEsVkVDMjoyLFZFQzM6MyxWRUM0OjQsTUFUMjo0LE1BVDM6OSxNQVQ0OjE2fSxIaT17U0NBTEFSOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRbZV19LFZFQzI6ZnVuY3Rpb24odCxlKXtyZXR1cm5bdFsyKmUrMF0sdFsyKmUrMV1dfSxWRUMzOmZ1bmN0aW9uKHQsZSl7cmV0dXJuW3RbMyplKzBdLHRbMyplKzFdLHRbMyplKzJdXX0sVkVDNDpmdW5jdGlvbih0LGUpe3JldHVyblt0WzQqZSswXSx0WzQqZSsxXSx0WzQqZSsyXSx0WzQqZSszXV19LE1BVDI6ZnVuY3Rpb24odCxlKXtyZXR1cm5bdFs0KmUrMF0sdFs0KmUrMV0sdFs0KmUrMl0sdFs0KmUrM11dfSxNQVQzOmZ1bmN0aW9uKHQsZSl7cmV0dXJuW3RbOSplKzBdLHRbOSplKzFdLHRbOSplKzJdLHRbOSplKzNdLHRbOSplKzRdLHRbOSplKzVdLHRbOSplKzZdLHRbOSplKzddLHRbOSplKzhdXX0sTUFUNDpmdW5jdGlvbih0LGUpe3JldHVyblt0WzE2KmUrMF0sdFsxNiplKzFdLHRbMTYqZSsyXSx0WzE2KmUrM10sdFsxNiplKzRdLHRbMTYqZSs1XSx0WzE2KmUrNl0sdFsxNiplKzddLHRbMTYqZSs4XSx0WzE2KmUrOV0sdFsxNiplKzEwXSx0WzE2KmUrMTFdLHRbMTYqZSsxMl0sdFsxNiplKzEzXSx0WzE2KmUrMTRdLHRbMTYqZSsxNV1dfX0scWk9e1NDQUxBUjpmdW5jdGlvbih0LGUsbil7ZVtuXT10fSxWRUMyOmZ1bmN0aW9uKHQsZSxuKXtlWzIqbiswXT10WzBdLGVbMipuKzFdPXRbMV19LFZFQzM6ZnVuY3Rpb24odCxlLG4pe2VbMypuKzBdPXRbMF0sZVszKm4rMV09dFsxXSxlWzMqbisyXT10WzJdfSxWRUM0OmZ1bmN0aW9uKHQsZSxuKXtlWzQqbiswXT10WzBdLGVbNCpuKzFdPXRbMV0sZVs0Km4rMl09dFsyXSxlWzQqbiszXT10WzNdfSxNQVQyOmZ1bmN0aW9uKHQsZSxuKXtlWzQqbiswXT10WzBdLGVbNCpuKzFdPXRbMV0sZVs0Km4rMl09dFsyXSxlWzQqbiszXT10WzNdfSxNQVQzOmZ1bmN0aW9uKHQsZSxuKXtlWzkqbiswXT10WzBdLGVbOSpuKzFdPXRbMV0sZVs5Km4rMl09dFsyXSxlWzkqbiszXT10WzNdLGVbOSpuKzRdPXRbNF0sZVs5Km4rNV09dFs1XSxlWzkqbis2XT10WzZdLGVbOSpuKzddPXRbN10sZVs5Km4rOF09dFs4XSxlWzkqbis5XT10WzldfSxNQVQ0OmZ1bmN0aW9uKHQsZSxuKXtlWzE2Km4rMF09dFswXSxlWzE2Km4rMV09dFsxXSxlWzE2Km4rMl09dFsyXSxlWzE2Km4rM109dFszXSxlWzE2Km4rNF09dFs0XSxlWzE2Km4rNV09dFs1XSxlWzE2Km4rNl09dFs2XSxlWzE2Km4rN109dFs3XSxlWzE2Km4rOF09dFs4XSxlWzE2Km4rOV09dFs5XSxlWzE2Km4rMTBdPXRbMTBdLGVbMTYqbisxMV09dFsxMV0sZVsxNipuKzEyXT10WzEyXSxlWzE2Km4rMTNdPXRbMTNdLGVbMTYqbisxNF09dFsxNF0sZVsxNipuKzE1XT10WzE1XX19O3ZhciBYaT1mdW5jdGlvbih0KXtyZXR1cm4gdm9pZCAwIT09dH07ZnVuY3Rpb24gWmkodCxlLG4pe2lmKCFlKXJldHVybiBudWxsO3ZhciByPXQuZ2V0RXh0ZW5zaW9uKCIzRFRJTEVTX2JhdGNoX3RhYmxlX2hpZXJhcmNoeSIpLGk9ZS5ISUVSQVJDSFk7cmV0dXJuIGkmJihjb25zb2xlLndhcm4oIjNEIFRpbGUgUGFyc2VyOiBISUVSQVJDSFkgaXMgZGVwcmVjYXRlZC4gVXNlIDNEVElMRVNfYmF0Y2hfdGFibGVfaGllcmFyY2h5LiIpLGUuZXh0ZW5zaW9ucz1lLmV4dGVuc2lvbnN8fHt9LGUuZXh0ZW5zaW9uc1siM0RUSUxFU19iYXRjaF90YWJsZV9oaWVyYXJjaHkiXT1pLHI9aSkscj9mdW5jdGlvbih0LGUpe3ZhciBuLHIsaSxhLG89dC5pbnN0YW5jZXNMZW5ndGgscz10LmNsYXNzZXMsdT10LmNsYXNzSWRzLGM9dC5wYXJlbnRDb3VudHMsbD10LnBhcmVudElkcyxoPW87WGkodS5ieXRlT2Zmc2V0KSYmKHUuY29tcG9uZW50VHlwZT1kZWZhdWx0VmFsdWUodS5jb21wb25lbnRUeXBlLEdMLlVOU0lHTkVEX1NIT1JUKSx1LnR5cGU9QXR0cmlidXRlVHlwZS5TQ0FMQVIsaT1nZXRCaW5hcnlBY2Nlc3Nvcih1KSxYcigiY2xhc3NJZHMiKSx1PWkuY3JlYXRlQXJyYXlCdWZmZXJWaWV3KGUuYnVmZmVyLGUuYnl0ZU9mZnNldCt1LmJ5dGVPZmZzZXQsbykpO2lmKFhpKGMpKWZvcihYaShjLmJ5dGVPZmZzZXQpJiYoYy5jb21wb25lbnRUeXBlPWRlZmF1bHRWYWx1ZShjLmNvbXBvbmVudFR5cGUsR0wuVU5TSUdORURfU0hPUlQpLGMudHlwZT1BdHRyaWJ1dGVUeXBlLlNDQUxBUixpPWdldEJpbmFyeUFjY2Vzc29yKGMpLFhyKCJwYXJlbnRDb3VudHMiKSxjPWkuY3JlYXRlQXJyYXlCdWZmZXJWaWV3KGUuYnVmZmVyLGUuYnl0ZU9mZnNldCtjLmJ5dGVPZmZzZXQsbykpLGE9bmV3IFVpbnQxNkFycmF5KG8pLFhyKCJwYXJlbnRJZHNMZW5ndGgiKSxoPTAsbj0wO248bzsrK24pYVtuXT1oLGgrPShYcigicGFyZW50SWRzTGVuZ3RoIiksY1tuXSk7WGkobCkmJlhpKGwuYnl0ZU9mZnNldCkmJihsLmNvbXBvbmVudFR5cGU9ZGVmYXVsdFZhbHVlKGwuY29tcG9uZW50VHlwZSxHTC5VTlNJR05FRF9TSE9SVCksbC50eXBlPUF0dHJpYnV0ZVR5cGUuU0NBTEFSLGk9Z2V0QmluYXJ5QWNjZXNzb3IobCksWHIoInBhcmVudElkcyIpLGw9aS5jcmVhdGVBcnJheUJ1ZmZlclZpZXcoZS5idWZmZXIsZS5ieXRlT2Zmc2V0K2wuYnl0ZU9mZnNldCxoKSk7dmFyIGY9cy5sZW5ndGg7Zm9yKG49MDtuPGY7KytuKXt2YXIgZD1zW25dLmxlbmd0aCx2PXNbbl0uaW5zdGFuY2VzLHA9Z2V0QmluYXJ5UHJvcGVydGllcyhkLHYsZSk7c1tuXS5pbnN0YW5jZXM9Y29tYmluZShwLHYpfXZhciBnPW5ldyBBcnJheShmKS5maWxsKDApLHk9bmV3IFVpbnQxNkFycmF5KG8pO2ZvcihuPTA7bjxvOysrbilyPXVbbl0seVtuXT1nW3JdLCsrZ1tyXTt2YXIgbT17Y2xhc3NlczpzLGNsYXNzSWRzOnUsY2xhc3NJbmRleGVzOnkscGFyZW50Q291bnRzOmMscGFyZW50SW5kZXhlczphLHBhcmVudElkczpsfTtyZXR1cm4gZnVuY3Rpb24odCl7Zm9yKHZhciBlPXQuY2xhc3NJZHMubGVuZ3RoLG49MDtuPGU7KytuKUtpKHQsbixzdGFjayl9KG0pLG19KHIsbik6bnVsbH1mdW5jdGlvbiBZaSh0LGUsbil7aWYodCl7dmFyIHI9dC5wYXJlbnRDb3VudHM7cmV0dXJuIHQucGFyZW50SWRzP24odCxlKTpyPjA/ZnVuY3Rpb24odCxlLG4pe3ZhciByPXQuY2xhc3NJZHMsaT10LnBhcmVudENvdW50cyxhPXQucGFyZW50SWRzLG89dC5wYXJlbnRJbmRleGVzLHM9ci5sZW5ndGgsdT1zY3JhdGNoVmlzaXRlZDt1Lmxlbmd0aD1NYXRoLm1heCh1Lmxlbmd0aCxzKTt2YXIgYz0rK21hcmtlcixsPXNjcmF0Y2hTdGFjaztsLmxlbmd0aD0wLGwucHVzaChlKTtmb3IoO2wubGVuZ3RoPjA7KWlmKGU9bC5wb3AoKSx1W2VdIT09Yyl7dVtlXT1jO3ZhciBoPW4odCxlKTtpZihYaShoKSlyZXR1cm4gaDtmb3IodmFyIGY9aVtlXSxkPW9bZV0sdj0wO3Y8ZjsrK3Ype3ZhciBwPWFbZCt2XTtwIT09ZSYmbC5wdXNoKHApfX1yZXR1cm4gbnVsbH0odCxlLG4pOmZ1bmN0aW9uKHQsZSxuKXt2YXIgcj0hMDtmb3IoO3I7KXt2YXIgaT1uKHQsZSk7aWYoWGkoaSkpcmV0dXJuIGk7dmFyIGE9dC5wYXJlbnRJZHNbZV07cj1hIT09ZSxlPWF9dGhyb3cgbmV3IEVycm9yKCJ0cmF2ZXJzZUhpZXJhcmNoeVNpbmdsZVBhcmVudCIpfSh0LGUsbil9fWZ1bmN0aW9uIEtpKHQsZSxuKXt2YXIgcj10LnBhcmVudENvdW50cyxpPXQucGFyZW50SWRzLGE9dC5wYXJlbnRJbmRleGVzLG89dC5jbGFzc0lkcy5sZW5ndGg7aWYoWGkoaSkpe2Fzc2VydChlPG8sIlBhcmVudCBpbmRleCAiLmNvbmNhdChlLCIgZXhjZWVkcyB0aGUgdG90YWwgbnVtYmVyIG9mIGluc3RhbmNlczogIikuY29uY2F0KG8pKSxhc3NlcnQoLTE9PT1uLmluZGV4T2YoZSksIkNpcmN1bGFyIGRlcGVuZGVuY3kgZGV0ZWN0ZWQgaW4gdGhlIGJhdGNoIHRhYmxlIGhpZXJhcmNoeS4iKSxuLnB1c2goZSk7Zm9yKHZhciBzPVhpKHIpP3JbZV06MSx1PVhpKHIpP2FbZV06ZSxjPTA7YzxzOysrYyl7dmFyIGw9aVt1K2NdO2whPT1lJiZLaSh0LGwsbil9bi5wb3AoZSl9fWZ1bmN0aW9uIFFpKHQpe3JldHVybiBudWxsIT10fXZhciBKaT17SElFUkFSQ0hZOiEwLGV4dGVuc2lvbnM6ITAsZXh0cmFzOiEwfSwkaT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSxuLHIpe3ZhciBpPWFyZ3VtZW50cy5sZW5ndGg+MyYmdm9pZCAwIT09YXJndW1lbnRzWzNdP2FyZ3VtZW50c1szXTp7fTtmb3IodmFyIGEgaW4gT2JqZWN0KHp0LmEpKHRoaXMsdCksT2JqZWN0KGdlLmEpKHI+PTApLHRoaXMuanNvbj1lfHx7fSx0aGlzLmJpbmFyeT1uLHRoaXMuZmVhdHVyZUNvdW50PXIsdGhpcy5fZXh0ZW5zaW9ucz10aGlzLmpzb24mJnRoaXMuanNvbi5leHRlbnNpb25zfHx7fSx0aGlzLl9wcm9wZXJ0aWVzPXt9LHRoaXMuanNvbilKaVthXXx8KHRoaXMuX3Byb3BlcnRpZXNbYV09dGhpcy5qc29uW2FdKTt0aGlzLl9iaW5hcnlQcm9wZXJ0aWVzPXRoaXMuX2luaXRpYWxpemVCaW5hcnlQcm9wZXJ0aWVzKCksaVsiM0RUSUxFU19iYXRjaF90YWJsZV9oaWVyYXJjaHkiXSYmKHRoaXMuX2hpZXJhcmNoeT1aaSh0aGlzLHRoaXMuanNvbix0aGlzLmJpbmFyeSkpfXJldHVybiBPYmplY3QoQnQuYSkodCxbe2tleToiZ2V0RXh0ZW5zaW9uIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5qc29uJiZ0aGlzLmpzb24uZXh0ZW5zaW9ucyYmdGhpcy5qc29uLmV4dGVuc2lvbnNbdF19fSx7a2V5OiJtZW1vcnlTaXplSW5CeXRlcyIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gMH19LHtrZXk6ImlzQ2xhc3MiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuX2NoZWNrQmF0Y2hJZCh0KSxPYmplY3QoZ2UuYSkoInN0cmluZyI9PXR5cGVvZiBlLGUpLCEhdGhpcy5faGllcmFyY2h5JiZRaShZaSh0aGlzLl9oaWVyYXJjaHksdCwoZnVuY3Rpb24odCxuKXt2YXIgcj10LmNsYXNzSWRzW25dO3JldHVybiB0LmNsYXNzZXNbcl0ubmFtZT09PWV9KSkpfX0se2tleToiaXNFeGFjdENsYXNzIix2YWx1ZTpmdW5jdGlvbih0LGUpe3JldHVybiBPYmplY3QoZ2UuYSkoInN0cmluZyI9PXR5cGVvZiBlLGUpLHRoaXMuZ2V0RXhhY3RDbGFzc05hbWUodCk9PT1lfX0se2tleToiZ2V0RXhhY3RDbGFzc05hbWUiLHZhbHVlOmZ1bmN0aW9uKHQpe2lmKHRoaXMuX2NoZWNrQmF0Y2hJZCh0KSx0aGlzLl9oaWVyYXJjaHkpe3ZhciBlPXRoaXMuX2hpZXJhcmNoeS5jbGFzc0lkc1t0XTtyZXR1cm4gdGhpcy5faGllcmFyY2h5LmNsYXNzZXNbZV0ubmFtZX19fSx7a2V5OiJoYXNQcm9wZXJ0eSIsdmFsdWU6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5fY2hlY2tCYXRjaElkKHQpLE9iamVjdChnZS5hKSgic3RyaW5nIj09dHlwZW9mIGUsZSksUWkodGhpcy5fcHJvcGVydGllc1tlXSl8fHRoaXMuX2hhc1Byb3BlcnR5SW5IaWVyYXJjaHkodCxlKX19LHtrZXk6ImdldFByb3BlcnR5TmFtZXMiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dmFyIG47dGhpcy5fY2hlY2tCYXRjaElkKHQpLChlPVFpKGUpP2U6W10pLmxlbmd0aD0wO3ZhciByPU9iamVjdC5rZXlzKHRoaXMuX3Byb3BlcnRpZXMpO3JldHVybihuPWUpLnB1c2guYXBwbHkobixPYmplY3QoR2kuYSkocikpLHRoaXMuX2hpZXJhcmNoeSYmdGhpcy5fZ2V0UHJvcGVydHlOYW1lc0luSGllcmFyY2h5KHQsZSksZX19LHtrZXk6ImdldFByb3BlcnR5Iix2YWx1ZTpmdW5jdGlvbih0LGUpe2lmKHRoaXMuX2NoZWNrQmF0Y2hJZCh0KSxPYmplY3QoZ2UuYSkoInN0cmluZyI9PXR5cGVvZiBlLGUpLHRoaXMuX2JpbmFyeVByb3BlcnRpZXMpe3ZhciBuPXRoaXMuX2JpbmFyeVByb3BlcnRpZXNbZV07aWYoUWkobikpcmV0dXJuIHRoaXMuX2dldEJpbmFyeVByb3BlcnR5KG4sdCl9dmFyIHI9dGhpcy5fcHJvcGVydGllc1tlXTtpZihRaShyKSlyZXR1cm4gclt0XTtpZih0aGlzLl9oaWVyYXJjaHkpe3ZhciBpPXRoaXMuX2dldEhpZXJhcmNoeVByb3BlcnR5KHQsZSk7aWYoUWkoaSkpcmV0dXJuIGl9fX0se2tleToic2V0UHJvcGVydHkiLHZhbHVlOmZ1bmN0aW9uKHQsZSxuKXt2YXIgcj10aGlzLmZlYXR1cmVDb3VudDtpZih0aGlzLl9jaGVja0JhdGNoSWQodCxyKSxPYmplY3QoZ2UuYSkoInN0cmluZyI9PXR5cGVvZiBlLGUpLHRoaXMuX2JpbmFyeVByb3BlcnRpZXMpe3ZhciBpPXRoaXMuX2JpbmFyeVByb3BlcnRpZXNbZV07aWYoaSlyZXR1cm4gdm9pZCB0aGlzLl9zZXRCaW5hcnlQcm9wZXJ0eShpLHQsbil9aWYoIXRoaXMuX2hpZXJhcmNoeXx8IXRoaXMuX3NldEhpZXJhcmNoeVByb3BlcnR5KHRoaXMsdCxlLG4pKXt2YXIgYT10aGlzLl9wcm9wZXJ0aWVzW2VdO1FpKGEpfHwodGhpcy5fcHJvcGVydGllc1tlXT1uZXcgQXJyYXkociksYT10aGlzLl9wcm9wZXJ0aWVzW2VdKSxhW3RdPW59fX0se2tleToiX2NoZWNrQmF0Y2hJZCIsdmFsdWU6ZnVuY3Rpb24odCl7aWYoISh0Pj0wJiZ0PHRoaXMuZmVhdHVyZUNvdW50KSl0aHJvdyBuZXcgRXJyb3IoImJhdGNoSWQgbm90IGluIHJhbmdlIFswLCBmZWF0dXJlQ291bnQgLSAxXS4iKX19LHtrZXk6Il9nZXRCaW5hcnlQcm9wZXJ0eSIsdmFsdWU6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC51bnBhY2sodC50eXBlZEFycmF5LGUpfX0se2tleToiX3NldEJpbmFyeVByb3BlcnR5Iix2YWx1ZTpmdW5jdGlvbih0LGUsbil7dC5wYWNrKG4sdC50eXBlZEFycmF5LGUpfX0se2tleToiX2luaXRpYWxpemVCaW5hcnlQcm9wZXJ0aWVzIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PW51bGw7Zm9yKHZhciBlIGluIHRoaXMuX3Byb3BlcnRpZXMpe3ZhciBuPXRoaXMuX3Byb3BlcnRpZXNbZV0scj10aGlzLl9pbml0aWFsaXplQmluYXJ5UHJvcGVydHkoZSxuKTtyJiYoKHQ9dHx8e30pW2VdPXIpfXJldHVybiB0fX0se2tleToiX2luaXRpYWxpemVCaW5hcnlQcm9wZXJ0eSIsdmFsdWU6ZnVuY3Rpb24odCxlKXtpZigiYnl0ZU9mZnNldCJpbiBlKXt2YXIgbj1lO09iamVjdChnZS5hKSh0aGlzLmJpbmFyeSwiUHJvcGVydHkgIi5jb25jYXQodCwiIHJlcXVpcmVzIGEgYmF0Y2ggdGFibGUgYmluYXJ5LiIpKSxPYmplY3QoZ2UuYSkobi50eXBlLCJQcm9wZXJ0eSAiLmNvbmNhdCh0LCIgcmVxdWlyZXMgYSB0eXBlLiIpKTt2YXIgcj1mdW5jdGlvbih0LGUsbixyKXt2YXIgaT10LmNvbXBvbmVudFR5cGU7T2JqZWN0KGdlLmEpKHQuY29tcG9uZW50VHlwZSk7dmFyIGE9InN0cmluZyI9PXR5cGVvZiBpP1VpLmZyb21OYW1lKGkpOmksbz1XaVt0LnR5cGVdLHM9SGlbdC50eXBlXSx1PXFpW3QudHlwZV07cmV0dXJuIG4rPXQuYnl0ZU9mZnNldCx7dmFsdWVzOlVpLmNyZWF0ZVR5cGVkQXJyYXkoYSxlLG4sbypyKSx0eXBlOmEsc2l6ZTpvLHVucGFja2VyOnMscGFja2VyOnV9fShuLHRoaXMuYmluYXJ5LmJ1ZmZlciwwfHRoaXMuYmluYXJ5LmJ5dGVPZmZzZXQsdGhpcy5mZWF0dXJlQ291bnQpO3JldHVybnt0eXBlZEFycmF5OnIudmFsdWVzLGNvbXBvbmVudENvdW50OnIuc2l6ZSx1bnBhY2s6ci51bnBhY2tlcixwYWNrOnIucGFja2VyfX1yZXR1cm4gbnVsbH19LHtrZXk6Il9oYXNQcm9wZXJ0eUluSGllcmFyY2h5Iix2YWx1ZTpmdW5jdGlvbih0LGUpe2lmKCF0aGlzLl9oaWVyYXJjaHkpcmV0dXJuITE7dmFyIG49WWkodGhpcy5faGllcmFyY2h5LHQsKGZ1bmN0aW9uKHQsbil7dmFyIHI9dC5jbGFzc0lkc1tuXTtyZXR1cm4gUWkodC5jbGFzc2VzW3JdLmluc3RhbmNlc1tlXSl9KSk7cmV0dXJuIFFpKG4pfX0se2tleToiX2dldFByb3BlcnR5TmFtZXNJbkhpZXJhcmNoeSIsdmFsdWU6ZnVuY3Rpb24odCxlKXtZaSh0aGlzLl9oaWVyYXJjaHksdCwoZnVuY3Rpb24odCxuKXt2YXIgcj10LmNsYXNzSWRzW25dLGk9dC5jbGFzc2VzW3JdLmluc3RhbmNlcztmb3IodmFyIGEgaW4gaSlpLmhhc093blByb3BlcnR5KGEpJiYtMT09PWUuaW5kZXhPZihhKSYmZS5wdXNoKGEpfSkpfX0se2tleToiX2dldEhpZXJhcmNoeVByb3BlcnR5Iix2YWx1ZTpmdW5jdGlvbih0LGUpe3ZhciBuPXRoaXM7cmV0dXJuIFlpKHRoaXMuX2hpZXJhcmNoeSx0LChmdW5jdGlvbih0LHIpe3ZhciBpPXQuY2xhc3NJZHNbcl0sYT10LmNsYXNzZXNbaV0sbz10LmNsYXNzSW5kZXhlc1tyXSxzPWEuaW5zdGFuY2VzW2VdO3JldHVybiBRaShzKT9RaShzLnR5cGVkQXJyYXkpP24uX2dldEJpbmFyeVByb3BlcnR5KHMsbyk6c1tvXTpudWxsfSkpfX0se2tleToiX3NldEhpZXJhcmNoeVByb3BlcnR5Iix2YWx1ZTpmdW5jdGlvbih0LGUsbixyKXt2YXIgaT10aGlzLGE9WWkodGhpcy5faGllcmFyY2h5LGUsKGZ1bmN0aW9uKHQsYSl7dmFyIG89dC5jbGFzc0lkc1thXSxzPXQuY2xhc3Nlc1tvXSx1PXQuY2xhc3NJbmRleGVzW2FdLGM9cy5pbnN0YW5jZXNbbl07cmV0dXJuISFRaShjKSYmKE9iamVjdChnZS5hKShhPT09ZSwnSW5oZXJpdGVkIHByb3BlcnR5ICInLmNvbmNhdChuLCciIGlzIHJlYWQtb25seS4nKSksUWkoYy50eXBlZEFycmF5KT9pLl9zZXRCaW5hcnlQcm9wZXJ0eShjLHUscik6Y1t1XT1yLCEwKX0pKTtyZXR1cm4gUWkoYSl9fV0pLHR9KCk7ZnVuY3Rpb24gdGEodCxlKXt2YXIgbj1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06MCxyPW5ldyBEYXRhVmlldyhlKTtpZih0Lm1hZ2ljPXIuZ2V0VWludDMyKG4sITApLG4rPTQsdC52ZXJzaW9uPXIuZ2V0VWludDMyKG4sITApLG4rPTQsdC5ieXRlTGVuZ3RoPXIuZ2V0VWludDMyKG4sITApLG4rPTQsMSE9PXQudmVyc2lvbil0aHJvdyBuZXcgRXJyb3IoIjNEIFRpbGUgVmVyc2lvbiAiLmNvbmNhdCh0LnZlcnNpb24sIiBub3Qgc3VwcG9ydGVkIikpO3JldHVybiBufWZ1bmN0aW9uIGVhKHQsZSxuKXt2YXIgcj1uZXcgRGF0YVZpZXcoZSk7cmV0dXJuIHQuaGVhZGVyPXQuaGVhZGVyfHx7fSx0LmhlYWRlci5mZWF0dXJlVGFibGVKc29uQnl0ZUxlbmd0aD1yLmdldFVpbnQzMihuLCEwKSxuKz00LHQuaGVhZGVyLmZlYXR1cmVUYWJsZUJpbmFyeUJ5dGVMZW5ndGg9ci5nZXRVaW50MzIobiwhMCksbis9NCx0LmhlYWRlci5iYXRjaFRhYmxlSnNvbkJ5dGVMZW5ndGg9ci5nZXRVaW50MzIobiwhMCksbis9NCx0LmhlYWRlci5iYXRjaFRhYmxlQmluYXJ5Qnl0ZUxlbmd0aD1yLmdldFVpbnQzMihuLCEwKSxuKz00fWZ1bmN0aW9uIG5hKHQsZSxuLHIpe3JldHVybiBuPWZ1bmN0aW9uKHQsZSxuLHIpe3ZhciBpPXQuaGVhZGVyLGE9aS5mZWF0dXJlVGFibGVKc29uQnl0ZUxlbmd0aCxvPWkuZmVhdHVyZVRhYmxlQmluYXJ5Qnl0ZUxlbmd0aDtpZih0LmZlYXR1cmVUYWJsZUpzb249e0JBVENIX0xFTkdUSDowfSxhPjApe3ZhciBzPUxpKGUsbixhKTt0LmZlYXR1cmVUYWJsZUpzb249SlNPTi5wYXJzZShzKX1yZXR1cm4gbis9YSx0LmZlYXR1cmVUYWJsZUJpbmFyeT1uZXcgVWludDhBcnJheShlLG4sbyksbis9b30odCxlLG4pLG49ZnVuY3Rpb24odCxlLG4scil7dmFyIGk9dC5oZWFkZXIsYT1pLmJhdGNoVGFibGVKc29uQnl0ZUxlbmd0aCxvPWkuYmF0Y2hUYWJsZUJpbmFyeUJ5dGVMZW5ndGg7aWYoYT4wKXt2YXIgcz1MaShlLG4sYSk7dC5iYXRjaFRhYmxlSnNvbj1KU09OLnBhcnNlKHMpLG4rPWEsbz4wJiYodC5iYXRjaFRhYmxlQmluYXJ5PW5ldyBVaW50OEFycmF5KGUsbixvKSx0LmJhdGNoVGFibGVCaW5hcnk9bmV3IFVpbnQ4QXJyYXkodC5iYXRjaFRhYmxlQmluYXJ5KSxuKz1vKX1yZXR1cm4gbn0odCxlLG4pfWZ1bmN0aW9uIHJhKHQpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTpbMCwwLDBdLG49dD4+MTEmMzEscj10Pj41JjYzLGk9MzEmdDtyZXR1cm4gZVswXT1uPDwzLGVbMV09cjw8MixlWzJdPWk8PDMsZX1mdW5jdGlvbiBpYSh0LGUsbil7aWYoIShlfHx0JiZ0LmJhdGNoSWRzJiZuKSlyZXR1cm4gbnVsbDt2YXIgcj10LmJhdGNoSWRzLGk9dC5pc1JHQjU2NSxhPXQucG9pbnRDb3VudDtpZihyJiZuKXtmb3IodmFyIG89bmV3IFVpbnQ4Q2xhbXBlZEFycmF5KDMqYSkscz0wO3M8YTtzKyspe3ZhciB1PXJbc10sYz1uLmdldFByb3BlcnR5KHUsImRpbWVuc2lvbnMiKS5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiAyNTUqdH0pKTtvWzMqc109Y1swXSxvWzMqcysxXT1jWzFdLG9bMypzKzJdPWNbMl19cmV0dXJue3R5cGU6RmkuVU5TSUdORURfQllURSx2YWx1ZTpvLHNpemU6Myxub3JtYWxpemVkOiEwfX1pZihpKXtmb3IodmFyIGw9bmV3IFVpbnQ4Q2xhbXBlZEFycmF5KDMqYSksaD0wO2g8YTtoKyspe3ZhciBmPXJhKGVbaF0pO2xbMypoXT1mWzBdLGxbMypoKzFdPWZbMV0sbFszKmgrMl09ZlsyXX1yZXR1cm57dHlwZTpGaS5VTlNJR05FRF9CWVRFLHZhbHVlOmwsc2l6ZTozLG5vcm1hbGl6ZWQ6ITB9fXJldHVybiBlJiZlLmxlbmd0aD09PTMqYT97dHlwZTpGaS5VTlNJR05FRF9CWVRFLHZhbHVlOmUsc2l6ZTozLG5vcm1hbGl6ZWQ6ITB9Ont0eXBlOkZpLlVOU0lHTkVEX0JZVEUsdmFsdWU6ZSxzaXplOjQsbm9ybWFsaXplZDohMH19ZnVuY3Rpb24gYWEodCxlKXtpZighdCl0aHJvdyBuZXcgRXJyb3IoIm1hdGguZ2wgYXNzZXJ0aW9uIGZhaWxlZC4gIi5jb25jYXQoZSkpfW5ldyBndC5jLG5ldyBndC5kLG5ldyBndC5jLG5ldyBndC5jLG5ldyBVaW50OEFycmF5KDEpO2Z1bmN0aW9uIG9hKHQpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXToyNTU7cmV0dXJuIE9iamVjdChndC5oKSh0LDAsZSkvZSoyLTF9ZnVuY3Rpb24gc2EodCl7cmV0dXJuIHQ8MD8tMToxfWZ1bmN0aW9uIHVhKHQsZSxuLHIpe2lmKGFhKHIpLHQ8MHx8dD5ufHxlPDB8fGU+bil0aHJvdyBuZXcgRXJyb3IoInggYW5kIHkgbXVzdCBiZSB1bnNpZ25lZCBub3JtYWxpemVkIGludGVnZXJzIGJldHdlZW4gMCBhbmQgIi5jb25jYXQobikpO2lmKHIueD1vYSh0LG4pLHIueT1vYShlLG4pLHIuej0xLShNYXRoLmFicyhyLngpK01hdGguYWJzKHIueSkpLHIuejwwKXt2YXIgaT1yLng7ci54PSgxLU1hdGguYWJzKHIueSkpKnNhKGkpLHIueT0oMS1NYXRoLmFicyhpKSkqc2Eoci55KX1yZXR1cm4gci5ub3JtYWxpemUoKX1mdW5jdGlvbiBjYSh0LGUsbil7cmV0dXJuIHVhKHQsZSwyNTUsbil9dmFyIGxhPW5ldyBBdC5hO2Z1bmN0aW9uIGhhKHQsZSxuKXtyZXR1cm4gdC5pc1F1YW50aXplZD9uLmRlY29kZVF1YW50aXplZFBvc2l0aW9ucz8odC5pc1F1YW50aXplZD0hMSxmdW5jdGlvbih0LGUpe2Zvcih2YXIgbj1uZXcgQXQuYSxyPW5ldyBGbG9hdDMyQXJyYXkoMyp0LnBvaW50Q291bnQpLGk9MDtpPHQucG9pbnRDb3VudDtpKyspbi5zZXQoZVszKmldLGVbMyppKzFdLGVbMyppKzJdKS5zY2FsZSgxL3QucXVhbnRpemVkUmFuZ2UpLm11bHRpcGx5KHQucXVhbnRpemVkVm9sdW1lU2NhbGUpLmFkZCh0LnF1YW50aXplZFZvbHVtZU9mZnNldCkudG9BcnJheShyLDMqaSk7cmV0dXJuIHJ9KHQsZSkpOnt0eXBlOkZpLlVOU0lHTkVEX1NIT1JULHZhbHVlOmUsc2l6ZTozLG5vcm1hbGl6ZWQ6ITB9OmV9ZnVuY3Rpb24gZmEodCxlKXt2YXIgbj1PYmplY3Qua2V5cyh0KTtpZihPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgcj1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHQpO2UmJihyPXIuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0LGUpLmVudW1lcmFibGV9KSkpLG4ucHVzaC5hcHBseShuLHIpfXJldHVybiBufWZ1bmN0aW9uIGRhKHQpe2Zvcih2YXIgZT0xO2U8YXJndW1lbnRzLmxlbmd0aDtlKyspe3ZhciBuPW51bGwhPWFyZ3VtZW50c1tlXT9hcmd1bWVudHNbZV06e307ZSUyP2ZhKE9iamVjdChuKSwhMCkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7T2JqZWN0KEZ0LmEpKHQsZSxuW2VdKX0pKTpPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycz9PYmplY3QuZGVmaW5lUHJvcGVydGllcyh0LE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKG4pKTpmYShPYmplY3QobikpLmZvckVhY2goKGZ1bmN0aW9uKGUpe09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LGUsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihuLGUpKX0pKX1yZXR1cm4gdH1mdW5jdGlvbiB2YSh0LGUsbixyLGkpe3JldHVybiBwYS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZnVuY3Rpb24gcGEoKXtyZXR1cm4ocGE9T2JqZWN0KER0LmEpKFN0LmEubWFyaygoZnVuY3Rpb24gdChlLG4scixpLGEpe3ZhciBvLHMsdTtyZXR1cm4gU3QuYS53cmFwKChmdW5jdGlvbih0KXtmb3IoOzspc3dpdGNoKHQucHJldj10Lm5leHQpe2Nhc2UgMDpyZXR1cm4gcj10YShlLG4scixpKSxyPWVhKGUsbixyKSxyPW5hKGUsbixyKSxnYShlKSxvPXlhKGUpLHM9by5mZWF0dXJlVGFibGUsdT1vLmJhdGNoVGFibGUsdC5uZXh0PTcsT2EoZSxzLHUsaSxhKTtjYXNlIDc6cmV0dXJuIG1hKGUscyxpKSxiYShlLHMsdSksX2EoZSxzKSx0LmFicnVwdCgicmV0dXJuIixyKTtjYXNlIDExOmNhc2UiZW5kIjpyZXR1cm4gdC5zdG9wKCl9fSksdCl9KSkpKS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZnVuY3Rpb24gZ2EodCl7dC5hdHRyaWJ1dGVzPXtwb3NpdGlvbnM6bnVsbCxjb2xvcnM6bnVsbCxub3JtYWxzOm51bGwsYmF0Y2hJZHM6bnVsbH0sdC5pc1F1YW50aXplZD0hMSx0LmlzVHJhbnNsdWNlbnQ9ITEsdC5pc1JHQjU2NT0hMSx0LmlzT2N0RW5jb2RlZDE2UD0hMX1mdW5jdGlvbiB5YSh0KXt2YXIgZT1uZXcgVmkodC5mZWF0dXJlVGFibGVKc29uLHQuZmVhdHVyZVRhYmxlQmluYXJ5KSxuPWUuZ2V0R2xvYmFsUHJvcGVydHkoIlBPSU5UU19MRU5HVEgiKTtpZighTnVtYmVyLmlzRmluaXRlKG4pKXRocm93IG5ldyBFcnJvcigiUE9JTlRTX0xFTkdUSCBtdXN0IGJlIGRlZmluZWQiKTtlLmZlYXR1cmVzTGVuZ3RoPW4sdC5mZWF0dXJlc0xlbmd0aD1uLHQucG9pbnRzTGVuZ3RoPW4sdC5wb2ludENvdW50PW4sdC5ydGNDZW50ZXI9ZS5nZXRHbG9iYWxQcm9wZXJ0eSgiUlRDX0NFTlRFUiIsRmkuRkxPQVQsMyk7dmFyIHI9ZnVuY3Rpb24odCxlKXt2YXIgbj1udWxsO2lmKCF0LmJhdGNoSWRzJiZlLmhhc1Byb3BlcnR5KCJCQVRDSF9JRCIpJiYodC5iYXRjaElkcz1lLmdldFByb3BlcnR5QXJyYXkoIkJBVENIX0lEIixGaS5VTlNJR05FRF9TSE9SVCwxKSx0LmJhdGNoSWRzKSl7dmFyIHI9ZS5nZXRHbG9iYWxQcm9wZXJ0eSgiQkFUQ0hfTEVOR1RIIik7aWYoIXIpdGhyb3cgbmV3IEVycm9yKCJHbG9iYWwgcHJvcGVydHk6IEJBVENIX0xFTkdUSCBtdXN0IGJlIGRlZmluZWQgd2hlbiBCQVRDSF9JRCBpcyBkZWZpbmVkLiIpO3ZhciBpPXQuYmF0Y2hUYWJsZUpzb24sYT10LmJhdGNoVGFibGVCaW5hcnk7bj1uZXcgJGkoaSxhLHIpfXJldHVybiBufSh0LGUpO3JldHVybntmZWF0dXJlVGFibGU6ZSxiYXRjaFRhYmxlOnJ9fWZ1bmN0aW9uIG1hKHQsZSxuKXtpZighdC5hdHRyaWJ1dGVzLnBvc2l0aW9ucylpZihlLmhhc1Byb3BlcnR5KCJQT1NJVElPTiIpKXQuYXR0cmlidXRlcy5wb3NpdGlvbnM9ZS5nZXRQcm9wZXJ0eUFycmF5KCJQT1NJVElPTiIsRmkuRkxPQVQsMyk7ZWxzZSBpZihlLmhhc1Byb3BlcnR5KCJQT1NJVElPTl9RVUFOVElaRUQiKSl7dmFyIHI9ZS5nZXRQcm9wZXJ0eUFycmF5KCJQT1NJVElPTl9RVUFOVElaRUQiLEZpLlVOU0lHTkVEX1NIT1JULDMpO2lmKHQuaXNRdWFudGl6ZWQ9ITAsdC5xdWFudGl6ZWRSYW5nZT02NTUzNSx0LnF1YW50aXplZFZvbHVtZVNjYWxlPWUuZ2V0R2xvYmFsUHJvcGVydHkoIlFVQU5USVpFRF9WT0xVTUVfU0NBTEUiLEZpLkZMT0FULDMpLCF0LnF1YW50aXplZFZvbHVtZVNjYWxlKXRocm93IG5ldyBFcnJvcigiUVVBTlRJWkVEX1ZPTFVNRV9TQ0FMRSBtdXN0IGJlIGRlZmluZWQgZm9yIHF1YW50aXplZCBwb3NpdGlvbnMuIik7aWYodC5xdWFudGl6ZWRWb2x1bWVPZmZzZXQ9ZS5nZXRHbG9iYWxQcm9wZXJ0eSgiUVVBTlRJWkVEX1ZPTFVNRV9PRkZTRVQiLEZpLkZMT0FULDMpLCF0LnF1YW50aXplZFZvbHVtZU9mZnNldCl0aHJvdyBuZXcgRXJyb3IoIlFVQU5USVpFRF9WT0xVTUVfT0ZGU0VUIG11c3QgYmUgZGVmaW5lZCBmb3IgcXVhbnRpemVkIHBvc2l0aW9ucy4iKTt0LmF0dHJpYnV0ZXMucG9zaXRpb25zPWhhKHQscixuKX1pZighdC5hdHRyaWJ1dGVzLnBvc2l0aW9ucyl0aHJvdyBuZXcgRXJyb3IoIkVpdGhlciBQT1NJVElPTiBvciBQT1NJVElPTl9RVUFOVElaRUQgbXVzdCBiZSBkZWZpbmVkLiIpfWZ1bmN0aW9uIGJhKHQsZSxuKXtpZighdC5hdHRyaWJ1dGVzLmNvbG9ycyl7dmFyIHI9bnVsbDtlLmhhc1Byb3BlcnR5KCJSR0JBIik/KHI9ZS5nZXRQcm9wZXJ0eUFycmF5KCJSR0JBIixGaS5VTlNJR05FRF9CWVRFLDQpLHQuaXNUcmFuc2x1Y2VudD0hMCk6ZS5oYXNQcm9wZXJ0eSgiUkdCIik/cj1lLmdldFByb3BlcnR5QXJyYXkoIlJHQiIsRmkuVU5TSUdORURfQllURSwzKTplLmhhc1Byb3BlcnR5KCJSR0I1NjUiKSYmKHI9ZS5nZXRQcm9wZXJ0eUFycmF5KCJSR0I1NjUiLEZpLlVOU0lHTkVEX1NIT1JULDEpLHQuaXNSR0I1NjU9ITApLHQuYXR0cmlidXRlcy5jb2xvcnM9aWEodCxyLG4pfWUuaGFzUHJvcGVydHkoIkNPTlNUQU5UX1JHQkEiKSYmKHQuY29uc3RhbnRSR0JBPWUuZ2V0R2xvYmFsUHJvcGVydHkoIkNPTlNUQU5UX1JHQkEiLEZpLlVOU0lHTkVEX0JZVEUsNCkpfWZ1bmN0aW9uIF9hKHQsZSl7aWYoIXQuYXR0cmlidXRlcy5ub3JtYWxzKXt2YXIgbj1udWxsO2UuaGFzUHJvcGVydHkoIk5PUk1BTCIpP249ZS5nZXRQcm9wZXJ0eUFycmF5KCJOT1JNQUwiLEZpLkZMT0FULDMpOmUuaGFzUHJvcGVydHkoIk5PUk1BTF9PQ1QxNlAiKSYmKG49ZS5nZXRQcm9wZXJ0eUFycmF5KCJOT1JNQUxfT0NUMTZQIixGaS5VTlNJR05FRF9CWVRFLDIpLHQuaXNPY3RFbmNvZGVkMTZQPSEwKSx0LmF0dHJpYnV0ZXMubm9ybWFscz1mdW5jdGlvbih0LGUpe2lmKCFlKXJldHVybiBudWxsO2lmKHQuaXNPY3RFbmNvZGVkMTZQKXtmb3IodmFyIG49bmV3IEZsb2F0MzJBcnJheSgzKnQucG9pbnRzTGVuZ3RoKSxyPTA7cjx0LnBvaW50c0xlbmd0aDtyKyspY2EoZVsyKnJdLGVbMipyKzFdLGxhKSxsYS50b0FycmF5KG4sMypyKTtyZXR1cm57dHlwZTpGaS5GTE9BVCxzaXplOjIsdmFsdWU6bn19cmV0dXJue3R5cGU6RmkuRkxPQVQsc2l6ZToyLHZhbHVlOmV9fSh0LG4pfX1mdW5jdGlvbiBPYSh0LGUsbixyLGkpe3JldHVybiB4YS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZnVuY3Rpb24geGEoKXtyZXR1cm4oeGE9T2JqZWN0KER0LmEpKFN0LmEubWFyaygoZnVuY3Rpb24gdChlLG4scixpLGEpe3ZhciBvLHMsdSxjLGwsaCxmLGQ7cmV0dXJuIFN0LmEud3JhcCgoZnVuY3Rpb24odCl7Zm9yKDs7KXN3aXRjaCh0LnByZXY9dC5uZXh0KXtjYXNlIDA6aWYoKGM9ciYmci5nZXRFeHRlbnNpb24oIjNEVElMRVNfZHJhY29fcG9pbnRfY29tcHJlc3Npb24iKSkmJih1PWMucHJvcGVydGllcyksIShsPW4uZ2V0RXh0ZW5zaW9uKCIzRFRJTEVTX2RyYWNvX3BvaW50X2NvbXByZXNzaW9uIikpKXt0Lm5leHQ9MTU7YnJlYWt9aWYocz1sLnByb3BlcnRpZXMsaD1sLmJ5dGVPZmZzZXQsZj1sLmJ5dGVMZW5ndGgscyYmTnVtYmVyLmlzRmluaXRlKGgpJiZmKXt0Lm5leHQ9OTticmVha310aHJvdyBuZXcgRXJyb3IoIkRyYWNvIHByb3BlcnRpZXMsIGJ5dGVPZmZzZXQsIGFuZCBieXRlTGVuZ3RoIG11c3QgYmUgZGVmaW5lZCIpO2Nhc2UgOTpvPWUuZmVhdHVyZVRhYmxlQmluYXJ5LnNsaWNlKGgsaCtmKSxlLmhhc1Bvc2l0aW9ucz1OdW1iZXIuaXNGaW5pdGUocy5QT1NJVElPTiksZS5oYXNDb2xvcnM9TnVtYmVyLmlzRmluaXRlKHMuUkdCKXx8TnVtYmVyLmlzRmluaXRlKHMuUkdCQSksZS5oYXNOb3JtYWxzPU51bWJlci5pc0Zpbml0ZShzLk5PUk1BTCksZS5oYXNCYXRjaElkcz1OdW1iZXIuaXNGaW5pdGUocy5CQVRDSF9JRCksZS5pc1RyYW5zbHVjZW50PU51bWJlci5pc0Zpbml0ZShzLlJHQkEpO2Nhc2UgMTU6aWYobyl7dC5uZXh0PTE3O2JyZWFrfXJldHVybiB0LmFicnVwdCgicmV0dXJuIiwhMCk7Y2FzZSAxNzpyZXR1cm4gZD17YnVmZmVyOm8scHJvcGVydGllczpkYSh7fSxzLHt9LHUpLGZlYXR1cmVUYWJsZVByb3BlcnRpZXM6cyxiYXRjaFRhYmxlUHJvcGVydGllczp1LGRlcXVhbnRpemVJblNoYWRlcjohMX0sdC5uZXh0PTIwLHdhKGUsZCxpLGEpO2Nhc2UgMjA6cmV0dXJuIHQuYWJydXB0KCJyZXR1cm4iLHQuc2VudCk7Y2FzZSAyMTpjYXNlImVuZCI6cmV0dXJuIHQuc3RvcCgpfX0pLHQpfSkpKSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfWZ1bmN0aW9uIHdhKHQsZSxuLHIpe3JldHVybiBrYS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZnVuY3Rpb24ga2EoKXtyZXR1cm4oa2E9T2JqZWN0KER0LmEpKFN0LmEubWFyaygoZnVuY3Rpb24gdChlLG4scixpKXt2YXIgYSxvLHMsdSxjLGwsaCxmLGQsdjtyZXR1cm4gU3QuYS53cmFwKChmdW5jdGlvbih0KXtmb3IoOzspc3dpdGNoKHQucHJldj10Lm5leHQpe2Nhc2UgMDpyZXR1cm4gYT1pLnBhcnNlLHQubmV4dD0zLGEobi5idWZmZXIse30pO2Nhc2UgMzpvPXQuc2VudCxzPW8uYXR0cmlidXRlcy5QT1NJVElPTiYmby5hdHRyaWJ1dGVzLlBPU0lUSU9OLnZhbHVlLHU9by5hdHRyaWJ1dGVzLkNPTE9SXzAmJm8uYXR0cmlidXRlcy5DT0xPUl8wLnZhbHVlLGM9by5hdHRyaWJ1dGVzLk5PUk1BTCYmby5hdHRyaWJ1dGVzLk5PUk1BTC52YWx1ZSxsPW8uYXR0cmlidXRlcy5CQVRDSF9JRCYmby5hdHRyaWJ1dGVzLkJBVENIX0lELnZhbHVlLGg9cyYmby5hdHRyaWJ1dGVzLlBPU0lUSU9OLnZhbHVlLnF1YW50aXphdGlvbixmPWMmJm8uYXR0cmlidXRlcy5OT1JNQUwudmFsdWUucXVhbnRpemF0aW9uLGgmJihkPW8uUE9TSVRJT04uZGF0YS5xdWFudGl6YXRpb24sdj1kLnJhbmdlLGUucXVhbnRpemVkVm9sdW1lU2NhbGU9bmV3IEF0LmEodix2LHYpLGUucXVhbnRpemVkVm9sdW1lT2Zmc2V0PW5ldyBBdC5hKGQubWluVmFsdWVzKSxlLnF1YW50aXplZFJhbmdlPSgxPDxkLnF1YW50aXphdGlvbkJpdHMpLTEsZS5pc1F1YW50aXplZERyYWNvPSEwKSxmJiYoZS5vY3RFbmNvZGVkUmFuZ2U9KDE8PG8uTk9STUFMLmRhdGEucXVhbnRpemF0aW9uLnF1YW50aXphdGlvbkJpdHMpLTEsZS5pc09jdEVuY29kZWREcmFjbz0hMCksZS5hdHRyaWJ1dGVzPXtwb3NpdGlvbnM6cyxjb2xvcnM6aWEoZSx1KSxub3JtYWxzOmMsYmF0Y2hJZHM6bH07Y2FzZSAxMzpjYXNlImVuZCI6cmV0dXJuIHQuc3RvcCgpfX0pLHQpfSkpKSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfXZhciBTYT1uKDI4OSksUGE9bigyMDcpLGphPW4oMTM0KTtmdW5jdGlvbiBUYSh0LGUpe2lmKCF0KXRocm93IG5ldyBFcnJvcihlfHwiYXNzZXJ0IGZhaWxlZDogZ2x0ZiIpfWZ1bmN0aW9uIEVhKHQsZSl7aWYodC5zdGFydHNXaXRoKCJkYXRhOiIpfHx0LnN0YXJ0c1dpdGgoImh0dHA6Iil8fHQuc3RhcnRzV2l0aCgiaHR0cHM6IikpcmV0dXJuIHQ7dmFyIG49ZS5iYXNlVXJpfHxlLnVyaTtpZighbil0aHJvdyBuZXcgRXJyb3IoIidiYXNlVXJpJyBtdXN0IGJlIHByb3ZpZGVkIHRvIHJlc29sdmUgcmVsYXRpdmUgdXJsICIuY29uY2F0KHQpKTtyZXR1cm4gbi5zdWJzdHIoMCxuLmxhc3RJbmRleE9mKCIvIikrMSkrdH1mdW5jdGlvbiBBYSh0LGUsbil7dmFyIHI9dC5idWZmZXJWaWV3c1tuXTtUYShyKTt2YXIgaT1lW3IuYnVmZmVyXTtUYShpKTt2YXIgYT0oci5ieXRlT2Zmc2V0fHwwKStpLmJ5dGVPZmZzZXQ7cmV0dXJuIG5ldyBVaW50OEFycmF5KGkuYXJyYXlCdWZmZXIsYSxyLmJ5dGVMZW5ndGgpfXZhciBNYT1uKDIyNiksQ2E9WyJTQ0FMQVIiLCJWRUMyIiwiVkVDMyIsIlZFQzQiXSxMYT1uZXcgTWFwKFtbSW50OEFycmF5LDUxMjBdLFtVaW50OEFycmF5LDUxMjFdLFtJbnQxNkFycmF5LDUxMjJdLFtVaW50MTZBcnJheSw1MTIzXSxbVWludDMyQXJyYXksNTEyNV0sW0Zsb2F0MzJBcnJheSw1MTI2XV0pLElhPXtTQ0FMQVI6MSxWRUMyOjIsVkVDMzozLFZFQzQ6NCxNQVQyOjQsTUFUMzo5LE1BVDQ6MTZ9LFJhPXs1MTIwOjEsNTEyMToxLDUxMjI6Miw1MTIzOjIsNTEyNTo0LDUxMjY6NH0sTmE9ezUxMjA6SW50OEFycmF5LDUxMjE6VWludDhBcnJheSw1MTIyOkludDE2QXJyYXksNTEyMzpVaW50MTZBcnJheSw1MTI1OlVpbnQzMkFycmF5LDUxMjY6RmxvYXQzMkFycmF5fTtmdW5jdGlvbiBEYSh0KXtyZXR1cm4gQ2FbdC0xXXx8Q2FbMF19ZnVuY3Rpb24gRmEodCl7dmFyIGU9TGEuZ2V0KHQuY29uc3RydWN0b3IpO2lmKCFlKXRocm93IG5ldyBFcnJvcigiSWxsZWdhbCB0eXBlZCBhcnJheSIpO3JldHVybiBlfWZ1bmN0aW9uIHphKHQsZSl7dmFyIG49TmFbdC5jb21wb25lbnRUeXBlXSxyPUlhW3QudHlwZV0saT1SYVt0LmNvbXBvbmVudFR5cGVdLGE9dC5jb3VudCpyLG89dC5jb3VudCpyKmk7cmV0dXJuIFRhKG8+PTAmJm88PWUuYnl0ZUxlbmd0aCkse0FycmF5VHlwZTpuLGxlbmd0aDphLGJ5dGVMZW5ndGg6b319dmFyIEJhPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlKXtpZihPYmplY3QoenQuYSkodGhpcyx0KSxlIGluc3RhbmNlb2YgdClyZXR1cm4gZTtlfHwoZT17anNvbjp7dmVyc2lvbjoyLGJ1ZmZlcnM6W119LGJ1ZmZlcnM6W119KSx0aGlzLmdsdGY9ZSxUYSh0aGlzLmdsdGYuanNvbil9cmV0dXJuIE9iamVjdChCdC5hKSh0LFt7a2V5OiJnZXRBcHBsaWNhdGlvbkRhdGEiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmpzb25bdF19fSx7a2V5OiJnZXRFeHRyYURhdGEiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybih0aGlzLmpzb24uZXh0cmFzfHx7fSlbdF19fSx7a2V5OiJnZXRFeHRlbnNpb24iLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuZ2V0VXNlZEV4dGVuc2lvbnMoKS5maW5kKChmdW5jdGlvbihlKXtyZXR1cm4gZT09PXR9KSksbj10aGlzLmpzb24uZXh0ZW5zaW9uc3x8e307cmV0dXJuIGU/blt0XXx8ITA6bnVsbH19LHtrZXk6ImdldFJlcXVpcmVkRXh0ZW5zaW9uIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5nZXRSZXF1aXJlZEV4dGVuc2lvbnMoKS5maW5kKChmdW5jdGlvbihlKXtyZXR1cm4gZT09PXR9KSk/dGhpcy5nZXRFeHRlbnNpb24odCk6bnVsbH19LHtrZXk6ImdldFJlcXVpcmVkRXh0ZW5zaW9ucyIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5qc29uLmV4dGVuc2lvbnNSZXF1aXJlZHx8W119fSx7a2V5OiJnZXRVc2VkRXh0ZW5zaW9ucyIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5qc29uLmV4dGVuc2lvbnNVc2VkfHxbXX19LHtrZXk6ImdldE9iamVjdEV4dGVuc2lvbiIsdmFsdWU6ZnVuY3Rpb24odCxlKXtyZXR1cm4odC5leHRlbnNpb25zfHx7fSlbZV19fSx7a2V5OiJnZXRTY2VuZSIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuZ2V0T2JqZWN0KCJzY2VuZXMiLHQpfX0se2tleToiZ2V0Tm9kZSIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuZ2V0T2JqZWN0KCJub2RlcyIsdCl9fSx7a2V5OiJnZXRTa2luIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5nZXRPYmplY3QoInNraW5zIix0KX19LHtrZXk6ImdldE1lc2giLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmdldE9iamVjdCgibWVzaGVzIix0KX19LHtrZXk6ImdldE1hdGVyaWFsIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5nZXRPYmplY3QoIm1hdGVyaWFscyIsdCl9fSx7a2V5OiJnZXRBY2Nlc3NvciIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuZ2V0T2JqZWN0KCJhY2Nlc3NvcnMiLHQpfX0se2tleToiZ2V0Q2FtZXJhIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gbnVsbH19LHtrZXk6ImdldFRleHR1cmUiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmdldE9iamVjdCgidGV4dHVyZXMiLHQpfX0se2tleToiZ2V0U2FtcGxlciIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuZ2V0T2JqZWN0KCJzYW1wbGVycyIsdCl9fSx7a2V5OiJnZXRJbWFnZSIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuZ2V0T2JqZWN0KCJpbWFnZXMiLHQpfX0se2tleToiZ2V0QnVmZmVyVmlldyIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuZ2V0T2JqZWN0KCJidWZmZXJWaWV3cyIsdCl9fSx7a2V5OiJnZXRCdWZmZXIiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmdldE9iamVjdCgiYnVmZmVycyIsdCl9fSx7a2V5OiJnZXRPYmplY3QiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7aWYoIm9iamVjdCI9PT1PYmplY3QoTXIuYSkoZSkpcmV0dXJuIGU7dmFyIG49dGhpcy5qc29uW3RdJiZ0aGlzLmpzb25bdF1bZV07aWYoIW4pdGhyb3cgbmV3IEVycm9yKCJnbFRGIGZpbGUgZXJyb3I6IENvdWxkIG5vdCBmaW5kICIuY29uY2F0KHQsIlsiKS5jb25jYXQoZSwiXSIpKTtyZXR1cm4gbn19LHtrZXk6ImdldFR5cGVkQXJyYXlGb3JCdWZmZXJWaWV3Iix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT0odD10aGlzLmdldEJ1ZmZlclZpZXcodCkpLmJ1ZmZlcixuPXRoaXMuZ2x0Zi5idWZmZXJzW2VdO1RhKG4pO3ZhciByPSh0LmJ5dGVPZmZzZXR8fDApK24uYnl0ZU9mZnNldDtyZXR1cm4gbmV3IFVpbnQ4QXJyYXkobi5hcnJheUJ1ZmZlcixyLHQuYnl0ZUxlbmd0aCl9fSx7a2V5OiJnZXRUeXBlZEFycmF5Rm9yQWNjZXNzb3IiLHZhbHVlOmZ1bmN0aW9uKHQpe3Q9dGhpcy5nZXRBY2Nlc3Nvcih0KTt2YXIgZT10aGlzLmdldEJ1ZmZlclZpZXcodC5idWZmZXJWaWV3KSxuPXRoaXMuZ2V0QnVmZmVyKGUuYnVmZmVyKS5kYXRhLHI9emEodCxlKSxpPXIuQXJyYXlUeXBlLGE9ci5sZW5ndGg7cmV0dXJuIG5ldyBpKG4sZS5ieXRlT2Zmc2V0K3QuYnl0ZU9mZnNldCxhKX19LHtrZXk6ImdldFR5cGVkQXJyYXlGb3JJbWFnZURhdGEiLHZhbHVlOmZ1bmN0aW9uKHQpe3Q9dGhpcy5nZXRBY2Nlc3Nvcih0KTt2YXIgZT10aGlzLmdldEJ1ZmZlclZpZXcodC5idWZmZXJWaWV3KSxuPXRoaXMuZ2V0QnVmZmVyKGUuYnVmZmVyKS5kYXRhLHI9ZS5ieXRlT2Zmc2V0fHwwO3JldHVybiBuZXcgVWludDhBcnJheShuLHIsZS5ieXRlTGVuZ3RoKX19LHtrZXk6ImFkZEFwcGxpY2F0aW9uRGF0YSIsdmFsdWU6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5qc29uW3RdPWUsdGhpc319LHtrZXk6ImFkZEV4dHJhRGF0YSIsdmFsdWU6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5qc29uLmV4dHJhcz10aGlzLmpzb24uZXh0cmFzfHx7fSx0aGlzLmpzb24uZXh0cmFzW3RdPWUsdGhpc319LHtrZXk6ImFkZE9iamVjdEV4dGVuc2lvbiIsdmFsdWU6ZnVuY3Rpb24odCxlLG4pe3JldHVybiBUYShuKSx0LmV4dGVuc2lvbnM9dC5leHRlbnNpb25zfHx7fSx0LmV4dGVuc2lvbnNbZV09bix0aGlzLnJlZ2lzdGVyVXNlZEV4dGVuc2lvbihlKSx0aGlzfX0se2tleToicmVtb3ZlT2JqZWN0RXh0ZW5zaW9uIix2YWx1ZTpmdW5jdGlvbih0LGUpe3JldHVybiBkZWxldGUodC5leHRlbnNpb25zfHx7fSlbZV0sdGhpc319LHtrZXk6ImFkZEV4dGVuc2lvbiIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOnt9O3JldHVybiBUYShlKSx0aGlzLmpzb24uZXh0ZW5zaW9ucz10aGlzLmpzb24uZXh0ZW5zaW9uc3x8e30sdGhpcy5qc29uLmV4dGVuc2lvbnNbdF09ZSx0aGlzLnJlZ2lzdGVyVXNlZEV4dGVuc2lvbih0KSxlfX0se2tleToiYWRkUmVxdWlyZWRFeHRlbnNpb24iLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp7fTtyZXR1cm4gVGEoZSksdGhpcy5hZGRFeHRlbnNpb24odCxlKSx0aGlzLnJlZ2lzdGVyUmVxdWlyZWRFeHRlbnNpb24odCksZX19LHtrZXk6InJlZ2lzdGVyVXNlZEV4dGVuc2lvbiIsdmFsdWU6ZnVuY3Rpb24odCl7dGhpcy5qc29uLmV4dGVuc2lvbnNVc2VkPXRoaXMuanNvbi5leHRlbnNpb25zVXNlZHx8W10sdGhpcy5qc29uLmV4dGVuc2lvbnNVc2VkLmZpbmQoKGZ1bmN0aW9uKGUpe3JldHVybiBlPT09dH0pKXx8dGhpcy5qc29uLmV4dGVuc2lvbnNVc2VkLnB1c2godCl9fSx7a2V5OiJyZWdpc3RlclJlcXVpcmVkRXh0ZW5zaW9uIix2YWx1ZTpmdW5jdGlvbih0KXt0aGlzLnJlZ2lzdGVyVXNlZEV4dGVuc2lvbih0KSx0aGlzLmpzb24uZXh0ZW5zaW9uc1JlcXVpcmVkPXRoaXMuanNvbi5leHRlbnNpb25zUmVxdWlyZWR8fFtdLHRoaXMuanNvbi5leHRlbnNpb25zUmVxdWlyZWQuZmluZCgoZnVuY3Rpb24oZSl7cmV0dXJuIGU9PT10fSkpfHx0aGlzLmpzb24uZXh0ZW5zaW9uc1JlcXVpcmVkLnB1c2godCl9fSx7a2V5OiJyZW1vdmVFeHRlbnNpb24iLHZhbHVlOmZ1bmN0aW9uKHQpe3RoaXMuanNvbi5leHRlbnNpb25zUmVxdWlyZWQmJnRoaXMuX3JlbW92ZVN0cmluZ0Zyb21BcnJheSh0aGlzLmpzb24uZXh0ZW5zaW9uc1JlcXVpcmVkLHQpLHRoaXMuanNvbi5leHRlbnNpb25zVXNlZCYmdGhpcy5fcmVtb3ZlU3RyaW5nRnJvbUFycmF5KHRoaXMuanNvbi5leHRlbnNpb25zVXNlZCx0KSx0aGlzLmpzb24uZXh0ZW5zaW9ucyYmZGVsZXRlIHRoaXMuanNvbi5leHRlbnNpb25zW3RdfX0se2tleToic2V0T2JqZWN0RXh0ZW5zaW9uIix2YWx1ZTpmdW5jdGlvbih0LGUsbil7KHQuZXh0ZW5zaW9uc3x8e30pW2VdPW59fSx7a2V5OiJhZGRNZXNoIix2YWx1ZTpmdW5jdGlvbih0LGUpe3ZhciBuPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTo0LHI9dGhpcy5fYWRkQXR0cmlidXRlcyh0KSxpPXtwcmltaXRpdmVzOlt7YXR0cmlidXRlczpyLGluZGljZXM6ZSxtb2RlOm59XX07cmV0dXJuIHRoaXMuanNvbi5tZXNoZXM9dGhpcy5qc29uLm1lc2hlc3x8W10sdGhpcy5qc29uLm1lc2hlcy5wdXNoKGkpLHRoaXMuanNvbi5tZXNoZXMubGVuZ3RoLTF9fSx7a2V5OiJhZGRQb2ludENsb3VkIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT17cHJpbWl0aXZlczpbe2F0dHJpYnV0ZXM6dGhpcy5fYWRkQXR0cmlidXRlcyh0KSxtb2RlOjB9XX07cmV0dXJuIHRoaXMuanNvbi5tZXNoZXM9dGhpcy5qc29uLm1lc2hlc3x8W10sdGhpcy5qc29uLm1lc2hlcy5wdXNoKGUpLHRoaXMuanNvbi5tZXNoZXMubGVuZ3RoLTF9fSx7a2V5OiJhZGRJbWFnZSIsdmFsdWU6ZnVuY3Rpb24odCxlKXtlPWV8fE9iamVjdChNYS5hKSh0KTt2YXIgbj17YnVmZmVyVmlldzp0aGlzLmFkZEJ1ZmZlclZpZXcodCksbWltZVR5cGU6ZX07cmV0dXJuIHRoaXMuanNvbi5pbWFnZXM9dGhpcy5qc29uLmltYWdlc3x8W10sdGhpcy5qc29uLmltYWdlcy5wdXNoKG4pLHRoaXMuanNvbi5pbWFnZXMubGVuZ3RoLTF9fSx7a2V5OiJhZGRCdWZmZXJWaWV3Iix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10LmJ5dGVMZW5ndGg7VGEoTnVtYmVyLmlzRmluaXRlKGUpKSx0aGlzLnNvdXJjZUJ1ZmZlcnM9dGhpcy5zb3VyY2VCdWZmZXJzfHxbXSx0aGlzLnNvdXJjZUJ1ZmZlcnMucHVzaCh0KTt2YXIgbj17YnVmZmVyOjAsYnl0ZU9mZnNldDp0aGlzLmJ5dGVMZW5ndGgsYnl0ZUxlbmd0aDplfTtyZXR1cm4gdGhpcy5ieXRlTGVuZ3RoKz1PYmplY3QoamEuYykoZSksdGhpcy5qc29uLmJ1ZmZlclZpZXdzPXRoaXMuanNvbi5idWZmZXJWaWV3c3x8W10sdGhpcy5qc29uLmJ1ZmZlclZpZXdzLnB1c2gobiksdGhpcy5qc29uLmJ1ZmZlclZpZXdzLmxlbmd0aC0xfX0se2tleToiYWRkQWNjZXNzb3IiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dmFyIG49e2J1ZmZlclZpZXc6dCx0eXBlOkRhKGUuc2l6ZSksY29tcG9uZW50VHlwZTplLmNvbXBvbmVudFR5cGUsY291bnQ6ZS5jb3VudH07cmV0dXJuIHRoaXMuanNvbi5hY2Nlc3NvcnM9dGhpcy5qc29uLmFjY2Vzc29yc3x8W10sdGhpcy5qc29uLmFjY2Vzc29ycy5wdXNoKG4pLHRoaXMuanNvbi5hY2Nlc3NvcnMubGVuZ3RoLTF9fSx7a2V5OiJhZGRCaW5hcnlCdWZmZXIiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp7c2l6ZTozfSxuPXRoaXMuYWRkQnVmZmVyVmlldyh0KSxyPXtzaXplOmUuc2l6ZSxjb21wb25lbnRUeXBlOkZhKHQpLGNvdW50Ok1hdGgucm91bmQodC5sZW5ndGgvZS5zaXplKX07cmV0dXJuIHRoaXMuYWRkQWNjZXNzb3IobixPYmplY3QuYXNzaWduKHIsZSkpfX0se2tleToiY3JlYXRlQmluYXJ5Q2h1bmsiLHZhbHVlOmZ1bmN0aW9uKCl7aWYoIXRoaXMuYXJyYXlCdWZmZXIpe2Zvcih2YXIgdD10aGlzLmJ5dGVMZW5ndGgsZT1uZXcgQXJyYXlCdWZmZXIodCksbj1uZXcgVWludDhBcnJheShlKSxyPTAsaT0wO2k8dGhpcy5zb3VyY2VCdWZmZXJzLmxlbmd0aDtpKyspe3ZhciBhPXRoaXMuc291cmNlQnVmZmVyc1tpXTtyPU9iamVjdChqYS5hKShhLG4scil9dGhpcy5qc29uLmJ1ZmZlcnNbMF0uYnl0ZUxlbmd0aD10LHRoaXMuYXJyYXlCdWZmZXI9ZSx0aGlzLnNvdXJjZUJ1ZmZlcnM9W119fX0se2tleToiX3JlbW92ZVN0cmluZ0Zyb21BcnJheSIsdmFsdWU6ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49ITA7bjspe3ZhciByPXQuaW5kZXhPZihlKTtyPi0xP3Quc3BsaWNlKHIsMSk6bj0hMX19fSx7a2V5OiJqc29uIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nbHRmLmpzb259fV0pLHR9KCk7ZnVuY3Rpb24gVWEodCl7dmFyIGU9e307Zm9yKHZhciBuIGluIHQpe3ZhciByPXRbbl07aWYoImluZGljZXMiIT09bil7dmFyIGk9VmEocik7ZVtuXT1pfX1yZXR1cm4gZX1mdW5jdGlvbiBWYSh0LGUpe3ZhciBuPWZ1bmN0aW9uKHQsZSl7dmFyIG49dCxyPTEsaT0wO3QmJnQudmFsdWUmJihuPXQudmFsdWUscj10LnNpemV8fDEpO24mJihBcnJheUJ1ZmZlci5pc1ZpZXcobil8fChuPWZ1bmN0aW9uKHQsZSl7dmFyIG49YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0mJmFyZ3VtZW50c1syXTtpZighdClyZXR1cm4gbnVsbDtpZihBcnJheS5pc0FycmF5KHQpKXJldHVybiBuZXcgZSh0KTtpZihuJiYhKHQgaW5zdGFuY2VvZiBlKSlyZXR1cm4gbmV3IGUodCk7cmV0dXJuIHR9KG4sRmxvYXQzMkFycmF5KSksaT1uLmxlbmd0aC9yKTtyZXR1cm57YnVmZmVyOm4sc2l6ZTpyLGNvdW50Oml9fSh0KSxyPW4uYnVmZmVyLGk9bi5zaXplO3JldHVybnt2YWx1ZTpyLHNpemU6aSxidWZmZXJWaWV3Om51bGwsYnl0ZU9mZnNldDowLGNvdW50Om4uY291bnQsdHlwZTpEYShpKSxjb21wb25lbnRUeXBlOkZhKHIpfX12YXIgR2E9U3QuYS5tYXJrKFFhKTtmdW5jdGlvbiBXYSh0LGUsbil7cmV0dXJuIEhhLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1mdW5jdGlvbiBIYSgpe3JldHVybihIYT1PYmplY3QoRHQuYSkoU3QuYS5tYXJrKChmdW5jdGlvbiB0KGUsbixyKXt2YXIgaSxhLG8scyx1LGMsbCxoO3JldHVybiBTdC5hLndyYXAoKGZ1bmN0aW9uKHQpe2Zvcig7Oylzd2l0Y2godC5wcmV2PXQubmV4dCl7Y2FzZSAwOmlmKG4uZ2x0Zi5kZWNvbXByZXNzTWVzaGVzKXt0Lm5leHQ9MjticmVha31yZXR1cm4gdC5hYnJ1cHQoInJldHVybiIpO2Nhc2UgMjpmb3IoaT1uZXcgQmEoZSksYT1bXSxvPSEwLHM9ITEsdT12b2lkIDAsdC5wcmV2PTcsYz1RYShpKVtTeW1ib2wuaXRlcmF0b3JdKCk7IShvPShsPWMubmV4dCgpKS5kb25lKTtvPSEwKWg9bC52YWx1ZSxpLmdldE9iamVjdEV4dGVuc2lvbihoLCJLSFJfZHJhY29fbWVzaF9jb21wcmVzc2lvbiIpJiZhLnB1c2goWGEoaCxpLG4scikpO3QubmV4dD0xNTticmVhaztjYXNlIDExOnQucHJldj0xMSx0LnQwPXQuY2F0Y2goNykscz0hMCx1PXQudDA7Y2FzZSAxNTp0LnByZXY9MTUsdC5wcmV2PTE2LG98fG51bGw9PWMucmV0dXJufHxjLnJldHVybigpO2Nhc2UgMTg6aWYodC5wcmV2PTE4LCFzKXt0Lm5leHQ9MjE7YnJlYWt9dGhyb3cgdTtjYXNlIDIxOnJldHVybiB0LmZpbmlzaCgxOCk7Y2FzZSAyMjpyZXR1cm4gdC5maW5pc2goMTUpO2Nhc2UgMjM6cmV0dXJuIHQubmV4dD0yNSxQcm9taXNlLmFsbChhKTtjYXNlIDI1OmkucmVtb3ZlRXh0ZW5zaW9uKCJLSFJfZHJhY29fbWVzaF9jb21wcmVzc2lvbiIpO2Nhc2UgMjY6Y2FzZSJlbmQiOnJldHVybiB0LnN0b3AoKX19KSx0LG51bGwsW1s3LDExLDE1LDIzXSxbMTYsLDE4LDIyXV0pfSkpKSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfWZ1bmN0aW9uIHFhKHQpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp7fSxuPW5ldyBCYSh0KSxyPSEwLGk9ITEsYT12b2lkIDA7dHJ5e2Zvcih2YXIgbyxzPShuLmpzb24ubWVzaGVzfHxbXSlbU3ltYm9sLml0ZXJhdG9yXSgpOyEocj0obz1zLm5leHQoKSkuZG9uZSk7cj0hMCl7dmFyIHU9by52YWx1ZTtZYSh1LGUpLG4uYWRkUmVxdWlyZWRFeHRlbnNpb24oIktIUl9kcmFjb19tZXNoX2NvbXByZXNzaW9uIil9fWNhdGNoKHQpe2k9ITAsYT10fWZpbmFsbHl7dHJ5e3J8fG51bGw9PXMucmV0dXJufHxzLnJldHVybigpfWZpbmFsbHl7aWYoaSl0aHJvdyBhfX19ZnVuY3Rpb24gWGEodCxlLG4scil7cmV0dXJuIFphLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1mdW5jdGlvbiBaYSgpe3JldHVybihaYT1PYmplY3QoRHQuYSkoU3QuYS5tYXJrKChmdW5jdGlvbiB0KGUsbixyLGkpe3ZhciBhLG8scyx1LGM7cmV0dXJuIFN0LmEud3JhcCgoZnVuY3Rpb24odCl7Zm9yKDs7KXN3aXRjaCh0LnByZXY9dC5uZXh0KXtjYXNlIDA6cmV0dXJuIGE9bi5nZXRPYmplY3RFeHRlbnNpb24oZSwiS0hSX2RyYWNvX21lc2hfY29tcHJlc3Npb24iKSxvPW4uZ2V0VHlwZWRBcnJheUZvckJ1ZmZlclZpZXcoYS5idWZmZXJWaWV3KSxzPU9iamVjdChqYS5iKShvLmJ1ZmZlcixvLmJ5dGVPZmZzZXQpLHU9aS5wYXJzZSx0Lm5leHQ9Nix1KHMsW10scixpKTtjYXNlIDY6Yz10LnNlbnQsZS5hdHRyaWJ1dGVzPVVhKGMuYXR0cmlidXRlcyksYy5pbmRpY2VzJiYoZS5pbmRpY2VzPVZhKGMuaW5kaWNlcykpLEthKGUpO2Nhc2UgMTA6Y2FzZSJlbmQiOnJldHVybiB0LnN0b3AoKX19KSx0KX0pKSkpLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1mdW5jdGlvbiBZYSh0LGUpe3ZhciBuPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTo0LHI9YXJndW1lbnRzLmxlbmd0aD4zP2FyZ3VtZW50c1szXTp2b2lkIDAsaT1hcmd1bWVudHMubGVuZ3RoPjQ/YXJndW1lbnRzWzRdOnZvaWQgMDtpZighci5EcmFjb1dyaXRlcnx8IXIuRHJhY29Mb2FkZXIpdGhyb3cgbmV3IEVycm9yKCJEcmFjb1dyaXRlci9EcmFjb0xvYWRlciBub3QgYXZhaWxhYmxlIik7dmFyIGE9ci5EcmFjb1dyaXRlci5lbmNvZGVTeW5jKHthdHRyaWJ1dGVzOnR9KSxvPWkucGFyc2VTeW5jLHM9byh7YXR0cmlidXRlczp0fSksdT1yLl9hZGRGYXV4QXR0cmlidXRlcyhzLmF0dHJpYnV0ZXMpLGM9ci5hZGRCdWZmZXJWaWV3KGEpLGw9e3ByaW1pdGl2ZXM6W3thdHRyaWJ1dGVzOnUsbW9kZTpuLGV4dGVuc2lvbnM6T2JqZWN0KEZ0LmEpKHt9LCJLSFJfZHJhY29fbWVzaF9jb21wcmVzc2lvbiIse2J1ZmZlclZpZXc6YyxhdHRyaWJ1dGVzOnV9KX1dfTtyZXR1cm4gbH1mdW5jdGlvbiBLYSh0KXtpZighdC5hdHRyaWJ1dGVzJiZPYmplY3Qua2V5cyh0LmF0dHJpYnV0ZXMpLmxlbmd0aD4wKXRocm93IG5ldyBFcnJvcigiRW1wdHkgZ2xURiBwcmltaXRpdmUgZGV0ZWN0ZWQ6IERyYWNvIGRlY29tcHJlc3Npb24gZmFpbHVyZT8iKX1mdW5jdGlvbiBRYSh0KXt2YXIgZSxuLHIsaSxhLG8scyx1LGMsbCxoLGY7cmV0dXJuIFN0LmEud3JhcCgoZnVuY3Rpb24oZCl7Zm9yKDs7KXN3aXRjaChkLnByZXY9ZC5uZXh0KXtjYXNlIDA6ZT0hMCxuPSExLHI9dm9pZCAwLGQucHJldj0zLGk9KHQuanNvbi5tZXNoZXN8fFtdKVtTeW1ib2wuaXRlcmF0b3JdKCk7Y2FzZSA1OmlmKGU9KGE9aS5uZXh0KCkpLmRvbmUpe2QubmV4dD0zNjticmVha31vPWEudmFsdWUscz0hMCx1PSExLGM9dm9pZCAwLGQucHJldj0xMCxsPW8ucHJpbWl0aXZlc1tTeW1ib2wuaXRlcmF0b3JdKCk7Y2FzZSAxMjppZihzPShoPWwubmV4dCgpKS5kb25lKXtkLm5leHQ9MTk7YnJlYWt9cmV0dXJuIGY9aC52YWx1ZSxkLm5leHQ9MTYsZjtjYXNlIDE2OnM9ITAsZC5uZXh0PTEyO2JyZWFrO2Nhc2UgMTk6ZC5uZXh0PTI1O2JyZWFrO2Nhc2UgMjE6ZC5wcmV2PTIxLGQudDA9ZC5jYXRjaCgxMCksdT0hMCxjPWQudDA7Y2FzZSAyNTpkLnByZXY9MjUsZC5wcmV2PTI2LHN8fG51bGw9PWwucmV0dXJufHxsLnJldHVybigpO2Nhc2UgMjg6aWYoZC5wcmV2PTI4LCF1KXtkLm5leHQ9MzE7YnJlYWt9dGhyb3cgYztjYXNlIDMxOnJldHVybiBkLmZpbmlzaCgyOCk7Y2FzZSAzMjpyZXR1cm4gZC5maW5pc2goMjUpO2Nhc2UgMzM6ZT0hMCxkLm5leHQ9NTticmVhaztjYXNlIDM2OmQubmV4dD00MjticmVhaztjYXNlIDM4OmQucHJldj0zOCxkLnQxPWQuY2F0Y2goMyksbj0hMCxyPWQudDE7Y2FzZSA0MjpkLnByZXY9NDIsZC5wcmV2PTQzLGV8fG51bGw9PWkucmV0dXJufHxpLnJldHVybigpO2Nhc2UgNDU6aWYoZC5wcmV2PTQ1LCFuKXtkLm5leHQ9NDg7YnJlYWt9dGhyb3cgcjtjYXNlIDQ4OnJldHVybiBkLmZpbmlzaCg0NSk7Y2FzZSA0OTpyZXR1cm4gZC5maW5pc2goNDIpO2Nhc2UgNTA6Y2FzZSJlbmQiOnJldHVybiBkLnN0b3AoKX19KSxHYSxudWxsLFtbMywzOCw0Miw1MF0sWzEwLDIxLDI1LDMzXSxbMjYsLDI4LDMyXSxbNDMsLDQ1LDQ5XV0pfWZ1bmN0aW9uIEphKHQsZSl7dmFyIG49bmV3IEJhKHQpLHI9bi5qc29uLGk9bi5nZXRFeHRlbnNpb24oIktIUl9saWdodHNfcHVuY3R1YWwiKTtpJiYobi5qc29uLmxpZ2h0cz1pLmxpZ2h0cyxuLnJlbW92ZUV4dGVuc2lvbigiS0hSX2xpZ2h0c19wdW5jdHVhbCIpKTt2YXIgYT0hMCxvPSExLHM9dm9pZCAwO3RyeXtmb3IodmFyIHUsYz0oci5ub2Rlc3x8W10pW1N5bWJvbC5pdGVyYXRvcl0oKTshKGE9KHU9Yy5uZXh0KCkpLmRvbmUpO2E9ITApe3ZhciBsPXUudmFsdWUsaD1uLmdldE9iamVjdEV4dGVuc2lvbihsLCJLSFJfbGlnaHRzX3B1bmN0dWFsIik7aCYmKGwubGlnaHQ9aC5saWdodCksbi5yZW1vdmVPYmplY3RFeHRlbnNpb24obCwiS0hSX2xpZ2h0c19wdW5jdHVhbCIpfX1jYXRjaCh0KXtvPSEwLHM9dH1maW5hbGx5e3RyeXthfHxudWxsPT1jLnJldHVybnx8Yy5yZXR1cm4oKX1maW5hbGx5e2lmKG8pdGhyb3cgc319fWZ1bmN0aW9uICRhKHQsZSl7dmFyIG49bmV3IEJhKHQpLHI9bi5qc29uO2lmKHIubGlnaHRzKXt2YXIgaT1uLmFkZEV4dGVuc2lvbigiS0hSX2xpZ2h0c19wdW5jdHVhbCIpO1RhKCFpLmxpZ2h0cyksaS5saWdodHM9ci5saWdodHMsZGVsZXRlIHIubGlnaHRzfWlmKG4uanNvbi5saWdodHMpe3ZhciBhPSEwLG89ITEscz12b2lkIDA7dHJ5e2Zvcih2YXIgdSxjPW4uanNvbi5saWdodHNbU3ltYm9sLml0ZXJhdG9yXSgpOyEoYT0odT1jLm5leHQoKSkuZG9uZSk7YT0hMCl7dmFyIGw9dS52YWx1ZSxoPWwubm9kZTtuLmFkZE9iamVjdEV4dGVuc2lvbihoLCJLSFJfbGlnaHRzX3B1bmN0dWFsIixsKX19Y2F0Y2godCl7bz0hMCxzPXR9ZmluYWxseXt0cnl7YXx8bnVsbD09Yy5yZXR1cm58fGMucmV0dXJuKCl9ZmluYWxseXtpZihvKXRocm93IHN9fWRlbGV0ZSBuLmpzb24ubGlnaHRzfX1mdW5jdGlvbiB0byh0LGUpe3ZhciBuPW5ldyBCYSh0KSxyPW4uanNvbjtuLnJlbW92ZUV4dGVuc2lvbigiS0hSX21hdGVyaWFsc191bmxpdCIpO3ZhciBpPSEwLGE9ITEsbz12b2lkIDA7dHJ5e2Zvcih2YXIgcyx1PShyLm1hdGVyaWFsc3x8W10pW1N5bWJvbC5pdGVyYXRvcl0oKTshKGk9KHM9dS5uZXh0KCkpLmRvbmUpO2k9ITApe3ZhciBjPXMudmFsdWU7Yy5leHRlbnNpb25zJiZjLmV4dGVuc2lvbnMuS0hSX21hdGVyaWFsc191bmxpdCYmKGMudW5saXQ9ITApLG4ucmVtb3ZlT2JqZWN0RXh0ZW5zaW9uKGMsIktIUl9tYXRlcmlhbHNfdW5saXQiKX19Y2F0Y2godCl7YT0hMCxvPXR9ZmluYWxseXt0cnl7aXx8bnVsbD09dS5yZXR1cm58fHUucmV0dXJuKCl9ZmluYWxseXtpZihhKXRocm93IG99fX1mdW5jdGlvbiBlbyh0LGUpe3ZhciBuPW5ldyBCYSh0KSxyPW4uanNvbjtpZihuLm1hdGVyaWFscyl7dmFyIGk9ITAsYT0hMSxvPXZvaWQgMDt0cnl7Zm9yKHZhciBzLHU9ci5tYXRlcmlhbHNbU3ltYm9sLml0ZXJhdG9yXSgpOyEoaT0ocz11Lm5leHQoKSkuZG9uZSk7aT0hMCl7dmFyIGM9cy52YWx1ZTtjLnVubGl0JiYoZGVsZXRlIGMudW5saXQsbi5hZGRPYmplY3RFeHRlbnNpb24oYywiS0hSX21hdGVyaWFsc191bmxpdCIpLG4uYWRkRXh0ZW5zaW9uKCJLSFJfbWF0ZXJpYWxzX3VubGl0IikpfX1jYXRjaCh0KXthPSEwLG89dH1maW5hbGx5e3RyeXtpfHxudWxsPT11LnJldHVybnx8dS5yZXR1cm4oKX1maW5hbGx5e2lmKGEpdGhyb3cgb319fX1mdW5jdGlvbiBubyh0LGUpe3ZhciBuPW5ldyBCYSh0KSxyPW4uanNvbixpPW4uZ2V0RXh0ZW5zaW9uKCJLSFJfdGVjaG5pcXVlc193ZWJnbCIpO2lmKGkpe3ZhciBhPWZ1bmN0aW9uKHQsZSl7dmFyIG49dC5wcm9ncmFtcyxyPXZvaWQgMD09PW4/W106bixpPXQuc2hhZGVycyxhPXZvaWQgMD09PWk/W106aSxvPXQudGVjaG5pcXVlcyxzPXZvaWQgMD09PW8/W106byx1PW5ldyBUZXh0RGVjb2RlcjtyZXR1cm4gYS5mb3JFYWNoKChmdW5jdGlvbih0KXtpZighTnVtYmVyLmlzRmluaXRlKHQuYnVmZmVyVmlldykpdGhyb3cgbmV3IEVycm9yKCJLSFJfdGVjaG5pcXVlc193ZWJnbDogbm8gc2hhZGVyIGNvZGUiKTt0LmNvZGU9dS5kZWNvZGUoZS5nZXRUeXBlZEFycmF5Rm9yQnVmZmVyVmlldyh0LmJ1ZmZlclZpZXcpKX0pKSxyLmZvckVhY2goKGZ1bmN0aW9uKHQpe3QuZnJhZ21lbnRTaGFkZXI9YVt0LmZyYWdtZW50U2hhZGVyXSx0LnZlcnRleFNoYWRlcj1hW3QudmVydGV4U2hhZGVyXX0pKSxzLmZvckVhY2goKGZ1bmN0aW9uKHQpe3QucHJvZ3JhbT1yW3QucHJvZ3JhbV19KSksc30oaSxuKSxvPSEwLHM9ITEsdT12b2lkIDA7dHJ5e2Zvcih2YXIgYyxsPShyLm1hdGVyaWFsc3x8W10pW1N5bWJvbC5pdGVyYXRvcl0oKTshKG89KGM9bC5uZXh0KCkpLmRvbmUpO289ITApe3ZhciBoPWMudmFsdWUsZj1uLmdldE9iamVjdEV4dGVuc2lvbihoLCJLSFJfdGVjaG5pcXVlc193ZWJnbCIpO2YmJihoLnRlY2huaXF1ZT1PYmplY3QuYXNzaWduKHt9LGYsYVtmLnRlY2huaXF1ZV0pLGgudGVjaG5pcXVlLnZhbHVlcz1pbyhoLnRlY2huaXF1ZSxuKSksbi5yZW1vdmVPYmplY3RFeHRlbnNpb24oaCwiS0hSX3RlY2huaXF1ZXNfd2ViZ2wiKX19Y2F0Y2godCl7cz0hMCx1PXR9ZmluYWxseXt0cnl7b3x8bnVsbD09bC5yZXR1cm58fGwucmV0dXJuKCl9ZmluYWxseXtpZihzKXRocm93IHV9fW4ucmVtb3ZlRXh0ZW5zaW9uKCJLSFJfdGVjaG5pcXVlc193ZWJnbCIpfX1mdW5jdGlvbiBybyh0LGUpe31mdW5jdGlvbiBpbyh0LGUpe3ZhciBuPU9iamVjdC5hc3NpZ24oe30sdC52YWx1ZXMpO3JldHVybiBPYmplY3Qua2V5cyh0LnVuaWZvcm1zfHx7fSkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7IXQudW5pZm9ybXNbZV0udmFsdWV8fGUgaW4gbnx8KG5bZV09dC51bmlmb3Jtc1tlXS52YWx1ZSl9KSksT2JqZWN0LmtleXMobikuZm9yRWFjaCgoZnVuY3Rpb24odCl7Im9iamVjdCI9PT1PYmplY3QoTXIuYSkoblt0XSkmJnZvaWQgMCE9PW5bdF0uaW5kZXgmJihuW3RdLnRleHR1cmU9ZS5nZXRUZXh0dXJlKG5bdF0uaW5kZXgpKX0pKSxufXZhciBhbz17S0hSX2RyYWNvX21lc2hfY29tcHJlc3Npb246cixLSFJfbGlnaHRzX3B1bmN0dWFsOmksS0hSX21hdGVyaWFsc191bmxpdDphLEtIUl90ZWNobmlxdWVzX3dlYmdsOm99O2Z1bmN0aW9uIG9vKHQpe3JldHVybiBzby5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZnVuY3Rpb24gc28oKXtyZXR1cm4oc289T2JqZWN0KER0LmEpKFN0LmEubWFyaygoZnVuY3Rpb24gdChlKXt2YXIgbixyLGksYSxvLHM9YXJndW1lbnRzO3JldHVybiBTdC5hLndyYXAoKGZ1bmN0aW9uKHQpe2Zvcig7Oylzd2l0Y2godC5wcmV2PXQubmV4dCl7Y2FzZSAwOm49cy5sZW5ndGg+MSYmdm9pZCAwIT09c1sxXT9zWzFdOnt9LHI9cy5sZW5ndGg+Mj9zWzJdOnZvaWQgMCxuLmdsdGY9bi5nbHRmfHx7fSx0LnQwPVN0LmEua2V5cyhhbyk7Y2FzZSA0OmlmKCh0LnQxPXQudDAoKSkuZG9uZSl7dC5uZXh0PTE0O2JyZWFrfWlmKGk9dC50MS52YWx1ZSxhPW4uZ2x0Zi5leGNsdWRlRXh0ZW5zaW9uc3x8e30saSBpbiBhJiYhYVtpXSl7dC5uZXh0PTEyO2JyZWFrfXJldHVybiBvPWFvW2ldLHQubmV4dD0xMixvLmRlY29kZShlLG4scik7Y2FzZSAxMjp0Lm5leHQ9NDticmVhaztjYXNlIDE0OmNhc2UiZW5kIjpyZXR1cm4gdC5zdG9wKCl9fSksdCl9KSkpKS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9dmFyIHVvO2Z1bmN0aW9uIGNvKHQpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTowO3JldHVybiIiLmNvbmNhdChTdHJpbmcuZnJvbUNoYXJDb2RlKHQuZ2V0VWludDgoZSswKSkpLmNvbmNhdChTdHJpbmcuZnJvbUNoYXJDb2RlKHQuZ2V0VWludDgoZSsxKSkpLmNvbmNhdChTdHJpbmcuZnJvbUNoYXJDb2RlKHQuZ2V0VWludDgoZSsyKSkpLmNvbmNhdChTdHJpbmcuZnJvbUNoYXJDb2RlKHQuZ2V0VWludDgoZSszKSkpfWZ1bmN0aW9uIGxvKHQpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTowLG49YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOnt9LHI9bmV3IERhdGFWaWV3KHQpLGk9bi5tYWdpYyxhPXZvaWQgMD09PWk/MTczNTE1MjcxMDppLG89ci5nZXRVaW50MzIoZSwhMSk7cmV0dXJuIG89PT1hfHwxNzM1MTUyNzEwPT09b31mdW5jdGlvbiBobyh0LGUsbixyKXtmb3IoO24rODw9dC5oZWFkZXIuYnl0ZUxlbmd0aDspe3ZhciBpPWUuZ2V0VWludDMyKG4rMCwhMCksYT1lLmdldFVpbnQzMihuKzQsITApO3N3aXRjaChuKz04LGEpe2Nhc2UgMTMxMzgyMTUxNDpmbyh0LGUsbixpLHIpO2JyZWFrO2Nhc2UgNTEzMDU2Mjp2byh0LGUsbixpLHIpO2JyZWFrO2Nhc2UgMDpyLmdsYi5zdHJpY3R8fGZvKHQsZSxuLGkscik7YnJlYWs7Y2FzZSAxOnIuZ2xiLnN0cmljdHx8dm8odCxlLG4saSxyKX1uKz1PYmplY3QoamEuYykoaSl9cmV0dXJuIG59ZnVuY3Rpb24gZm8odCxlLG4scixpKXt2YXIgYT1uZXcgVWludDhBcnJheShlLmJ1ZmZlcixuLHIpLG89bmV3IFRleHREZWNvZGVyKCJ1dGY4IikuZGVjb2RlKGEpO3QuanNvbj1KU09OLnBhcnNlKG8pfWZ1bmN0aW9uIHZvKHQsZSxuLHIsaSl7dC5oZWFkZXIuaGFzQmluQ2h1bms9ITAsdC5iaW5DaHVua3MucHVzaCh7Ynl0ZU9mZnNldDpuLGJ5dGVMZW5ndGg6cixhcnJheUJ1ZmZlcjplLmJ1ZmZlcn0pfWZ1bmN0aW9uIHBvKHQsZSl7dmFyIG49T2JqZWN0LmtleXModCk7aWYoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyl7dmFyIHI9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyh0KTtlJiYocj1yLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodCxlKS5lbnVtZXJhYmxlfSkpKSxuLnB1c2guYXBwbHkobixyKX1yZXR1cm4gbn1mdW5jdGlvbiBnbyh0KXtmb3IodmFyIGU9MTtlPGFyZ3VtZW50cy5sZW5ndGg7ZSsrKXt2YXIgbj1udWxsIT1hcmd1bWVudHNbZV0/YXJndW1lbnRzW2VdOnt9O2UlMj9wbyhPYmplY3QobiksITApLmZvckVhY2goKGZ1bmN0aW9uKGUpe09iamVjdChGdC5hKSh0LGUsbltlXSl9KSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXModCxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhuKSk6cG8oT2JqZWN0KG4pKS5mb3JFYWNoKChmdW5jdGlvbihlKXtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxlLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IobixlKSl9KSl9cmV0dXJuIHR9dmFyIHlvPXtTQ0FMQVI6MSxWRUMyOjIsVkVDMzozLFZFQzQ6NCxNQVQyOjQsTUFUMzo5LE1BVDQ6MTZ9LG1vPXs1MTIwOjEsNTEyMToxLDUxMjI6Miw1MTIzOjIsNTEyNTo0LDUxMjY6NH0sYm89e1RFWFRVUkVfTUFHX0ZJTFRFUjoxMDI0MCxURVhUVVJFX01JTl9GSUxURVI6MTAyNDEsVEVYVFVSRV9XUkFQX1M6MTAyNDIsVEVYVFVSRV9XUkFQX1Q6MTAyNDMsUkVQRUFUOjEwNDk3LExJTkVBUjo5NzI5LE5FQVJFU1RfTUlQTUFQX0xJTkVBUjo5OTg2fSxfbz17bWFnRmlsdGVyOmJvLlRFWFRVUkVfTUFHX0ZJTFRFUixtaW5GaWx0ZXI6Ym8uVEVYVFVSRV9NSU5fRklMVEVSLHdyYXBTOmJvLlRFWFRVUkVfV1JBUF9TLHdyYXBUOmJvLlRFWFRVUkVfV1JBUF9UfSxPbz0odW89e30sT2JqZWN0KEZ0LmEpKHVvLGJvLlRFWFRVUkVfTUFHX0ZJTFRFUixiby5MSU5FQVIpLE9iamVjdChGdC5hKSh1byxiby5URVhUVVJFX01JTl9GSUxURVIsYm8uTkVBUkVTVF9NSVBNQVBfTElORUFSKSxPYmplY3QoRnQuYSkodW8sYm8uVEVYVFVSRV9XUkFQX1MsYm8uUkVQRUFUKSxPYmplY3QoRnQuYSkodW8sYm8uVEVYVFVSRV9XUkFQXyxiby5SRVBFQVQpLHVvKTt2YXIgeG89ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7T2JqZWN0KHp0LmEpKHRoaXMsdCl9cmV0dXJuIE9iamVjdChCdC5hKSh0LFt7a2V5OiJwb3N0UHJvY2VzcyIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOnt9LG49dC5qc29uLHI9dC5idWZmZXJzLGk9dm9pZCAwPT09cj9bXTpyLGE9dC5pbWFnZXMsbz12b2lkIDA9PT1hP1tdOmEscz10LmJhc2VVcmksdT12b2lkIDA9PT1zPyIiOnM7cmV0dXJuIFRhKG4pLHRoaXMuYmFzZVVyaT11LHRoaXMuanNvbj1uLHRoaXMuYnVmZmVycz1pLHRoaXMuaW1hZ2VzPW8sdGhpcy5fcmVzb2x2ZVRyZWUodGhpcy5qc29uLGUpLHRoaXMuanNvbn19LHtrZXk6Il9yZXNvbHZlVHJlZSIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpczthcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXSYmYXJndW1lbnRzWzFdO3QuYnVmZmVyVmlld3MmJih0LmJ1ZmZlclZpZXdzPXQuYnVmZmVyVmlld3MubWFwKChmdW5jdGlvbih0LG4pe3JldHVybiBlLl9yZXNvbHZlQnVmZmVyVmlldyh0LG4pfSkpKSx0LmltYWdlcyYmKHQuaW1hZ2VzPXQuaW1hZ2VzLm1hcCgoZnVuY3Rpb24odCxuKXtyZXR1cm4gZS5fcmVzb2x2ZUltYWdlKHQsbil9KSkpLHQuc2FtcGxlcnMmJih0LnNhbXBsZXJzPXQuc2FtcGxlcnMubWFwKChmdW5jdGlvbih0LG4pe3JldHVybiBlLl9yZXNvbHZlU2FtcGxlcih0LG4pfSkpKSx0LnRleHR1cmVzJiYodC50ZXh0dXJlcz10LnRleHR1cmVzLm1hcCgoZnVuY3Rpb24odCxuKXtyZXR1cm4gZS5fcmVzb2x2ZVRleHR1cmUodCxuKX0pKSksdC5hY2Nlc3NvcnMmJih0LmFjY2Vzc29ycz10LmFjY2Vzc29ycy5tYXAoKGZ1bmN0aW9uKHQsbil7cmV0dXJuIGUuX3Jlc29sdmVBY2Nlc3Nvcih0LG4pfSkpKSx0Lm1hdGVyaWFscyYmKHQubWF0ZXJpYWxzPXQubWF0ZXJpYWxzLm1hcCgoZnVuY3Rpb24odCxuKXtyZXR1cm4gZS5fcmVzb2x2ZU1hdGVyaWFsKHQsbil9KSkpLHQubWVzaGVzJiYodC5tZXNoZXM9dC5tZXNoZXMubWFwKChmdW5jdGlvbih0LG4pe3JldHVybiBlLl9yZXNvbHZlTWVzaCh0LG4pfSkpKSx0Lm5vZGVzJiYodC5ub2Rlcz10Lm5vZGVzLm1hcCgoZnVuY3Rpb24odCxuKXtyZXR1cm4gZS5fcmVzb2x2ZU5vZGUodCxuKX0pKSksdC5za2lucyYmKHQuc2tpbnM9dC5za2lucy5tYXAoKGZ1bmN0aW9uKHQsbil7cmV0dXJuIGUuX3Jlc29sdmVTa2luKHQsbil9KSkpLHQuc2NlbmVzJiYodC5zY2VuZXM9dC5zY2VuZXMubWFwKChmdW5jdGlvbih0LG4pe3JldHVybiBlLl9yZXNvbHZlU2NlbmUodCxuKX0pKSksdm9pZCAwIT09dC5zY2VuZSYmKHQuc2NlbmU9dC5zY2VuZXNbdGhpcy5qc29uLnNjZW5lXSl9fSx7a2V5OiJnZXRTY2VuZSIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2dldCgic2NlbmVzIix0KX19LHtrZXk6ImdldE5vZGUiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9nZXQoIm5vZGVzIix0KX19LHtrZXk6ImdldFNraW4iLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9nZXQoInNraW5zIix0KX19LHtrZXk6ImdldE1lc2giLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9nZXQoIm1lc2hlcyIsdCl9fSx7a2V5OiJnZXRNYXRlcmlhbCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2dldCgibWF0ZXJpYWxzIix0KX19LHtrZXk6ImdldEFjY2Vzc29yIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fZ2V0KCJhY2Nlc3NvcnMiLHQpfX0se2tleToiZ2V0Q2FtZXJhIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gbnVsbH19LHtrZXk6ImdldFRleHR1cmUiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9nZXQoInRleHR1cmVzIix0KX19LHtrZXk6ImdldFNhbXBsZXIiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9nZXQoInNhbXBsZXJzIix0KX19LHtrZXk6ImdldEltYWdlIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fZ2V0KCJpbWFnZXMiLHQpfX0se2tleToiZ2V0QnVmZmVyVmlldyIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2dldCgiYnVmZmVyVmlld3MiLHQpfX0se2tleToiZ2V0QnVmZmVyIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fZ2V0KCJidWZmZXJzIix0KX19LHtrZXk6Il9nZXQiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7aWYoIm9iamVjdCI9PT1PYmplY3QoTXIuYSkoZSkpcmV0dXJuIGU7dmFyIG49dGhpcy5qc29uW3RdJiZ0aGlzLmpzb25bdF1bZV07cmV0dXJuIG58fGNvbnNvbGUud2FybigiZ2xURiBmaWxlIGVycm9yOiBDb3VsZCBub3QgZmluZCAiLmNvbmNhdCh0LCJbIikuY29uY2F0KGUsIl0iKSksbn19LHtrZXk6Il9yZXNvbHZlU2NlbmUiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcztyZXR1cm4gdC5pZD10LmlkfHwic2NlbmUtIi5jb25jYXQoZSksdC5ub2Rlcz0odC5ub2Rlc3x8W10pLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIG4uZ2V0Tm9kZSh0KX0pKSx0fX0se2tleToiX3Jlc29sdmVOb2RlIix2YWx1ZTpmdW5jdGlvbih0LGUpe3ZhciBuPXRoaXM7cmV0dXJuIHQuaWQ9dC5pZHx8Im5vZGUtIi5jb25jYXQoZSksdC5jaGlsZHJlbiYmKHQuY2hpbGRyZW49dC5jaGlsZHJlbi5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiBuLmdldE5vZGUodCl9KSkpLHZvaWQgMCE9PXQubWVzaCYmKHQubWVzaD10aGlzLmdldE1lc2godC5tZXNoKSksdm9pZCAwIT09dC5jYW1lcmEmJih0LmNhbWVyYT10aGlzLmdldENhbWVyYSh0LmNhbWVyYSkpLHZvaWQgMCE9PXQuc2tpbiYmKHQuc2tpbj10aGlzLmdldFNraW4odC5za2luKSksdH19LHtrZXk6Il9yZXNvbHZlU2tpbiIsdmFsdWU6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5pZD10LmlkfHwic2tpbi0iLmNvbmNhdChlKSx0LmludmVyc2VCaW5kTWF0cmljZXM9dGhpcy5nZXRBY2Nlc3Nvcih0LmludmVyc2VCaW5kTWF0cmljZXMpLHR9fSx7a2V5OiJfcmVzb2x2ZU1lc2giLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcztyZXR1cm4gdC5pZD10LmlkfHwibWVzaC0iLmNvbmNhdChlKSx0LnByaW1pdGl2ZXMmJih0LnByaW1pdGl2ZXM9dC5wcmltaXRpdmVzLm1hcCgoZnVuY3Rpb24odCl7dmFyIGU9KHQ9Z28oe30sdCkpLmF0dHJpYnV0ZXM7Zm9yKHZhciByIGluIHQuYXR0cmlidXRlcz17fSxlKXQuYXR0cmlidXRlc1tyXT1uLmdldEFjY2Vzc29yKGVbcl0pO3JldHVybiB2b2lkIDAhPT10LmluZGljZXMmJih0LmluZGljZXM9bi5nZXRBY2Nlc3Nvcih0LmluZGljZXMpKSx2b2lkIDAhPT10Lm1hdGVyaWFsJiYodC5tYXRlcmlhbD1uLmdldE1hdGVyaWFsKHQubWF0ZXJpYWwpKSx0fSkpKSx0fX0se2tleToiX3Jlc29sdmVNYXRlcmlhbCIsdmFsdWU6ZnVuY3Rpb24odCxlKXtpZih0LmlkPXQuaWR8fCJtYXRlcmlhbC0iLmNvbmNhdChlKSx0Lm5vcm1hbFRleHR1cmUmJih0Lm5vcm1hbFRleHR1cmU9Z28oe30sdC5ub3JtYWxUZXh0dXJlKSx0Lm5vcm1hbFRleHR1cmUudGV4dHVyZT10aGlzLmdldFRleHR1cmUodC5ub3JtYWxUZXh0dXJlLmluZGV4KSksdC5vY2NsdXNpb25UZXh0dXJlJiYodC5vY2NsdXN0aW9uVGV4dHVyZT1nbyh7fSx0Lm9jY2x1c3Rpb25UZXh0dXJlKSx0Lm9jY2x1c2lvblRleHR1cmUudGV4dHVyZT10aGlzLmdldFRleHR1cmUodC5vY2NsdXNpb25UZXh0dXJlLmluZGV4KSksdC5lbWlzc2l2ZVRleHR1cmUmJih0LmVtbWlzaXZlVGV4dHVyZT1nbyh7fSx0LmVtbWlzaXZlVGV4dHVyZSksdC5lbWlzc2l2ZVRleHR1cmUudGV4dHVyZT10aGlzLmdldFRleHR1cmUodC5lbWlzc2l2ZVRleHR1cmUuaW5kZXgpKSx0LnBick1ldGFsbGljUm91Z2huZXNzKXt0LnBick1ldGFsbGljUm91Z2huZXNzPWdvKHt9LHQucGJyTWV0YWxsaWNSb3VnaG5lc3MpO3ZhciBuPXQucGJyTWV0YWxsaWNSb3VnaG5lc3M7bi5iYXNlQ29sb3JUZXh0dXJlJiYobi5iYXNlQ29sb3JUZXh0dXJlPWdvKHt9LG4uYmFzZUNvbG9yVGV4dHVyZSksbi5iYXNlQ29sb3JUZXh0dXJlLnRleHR1cmU9dGhpcy5nZXRUZXh0dXJlKG4uYmFzZUNvbG9yVGV4dHVyZS5pbmRleCkpLG4ubWV0YWxsaWNSb3VnaG5lc3NUZXh0dXJlJiYobi5tZXRhbGxpY1JvdWdobmVzc1RleHR1cmU9Z28oe30sbi5tZXRhbGxpY1JvdWdobmVzc1RleHR1cmUpLG4ubWV0YWxsaWNSb3VnaG5lc3NUZXh0dXJlLnRleHR1cmU9dGhpcy5nZXRUZXh0dXJlKG4ubWV0YWxsaWNSb3VnaG5lc3NUZXh0dXJlLmluZGV4KSl9cmV0dXJuIHR9fSx7a2V5OiJfcmVzb2x2ZUFjY2Vzc29yIix2YWx1ZTpmdW5jdGlvbih0LGUpe3ZhciBuLHI7aWYodC5pZD10LmlkfHwiYWNjZXNzb3ItIi5jb25jYXQoZSksdm9pZCAwIT09dC5idWZmZXJWaWV3JiYodC5idWZmZXJWaWV3PXRoaXMuZ2V0QnVmZmVyVmlldyh0LmJ1ZmZlclZpZXcpKSx0LmJ5dGVzUGVyQ29tcG9uZW50PShuPXQuY29tcG9uZW50VHlwZSxtb1tuXSksdC5jb21wb25lbnRzPShyPXQudHlwZSx5b1tyXSksdC5ieXRlc1BlckVsZW1lbnQ9dC5ieXRlc1BlckNvbXBvbmVudCp0LmNvbXBvbmVudHMsdC5idWZmZXJWaWV3KXt2YXIgaT10LmJ1ZmZlclZpZXcuYnVmZmVyLGE9emEodCx0LmJ1ZmZlclZpZXcpLG89YS5BcnJheVR5cGUscz1hLmxlbmd0aCx1PSh0LmJ1ZmZlclZpZXcuYnl0ZU9mZnNldHx8MCkraS5ieXRlT2Zmc2V0O3QudmFsdWU9bmV3IG8oaS5hcnJheUJ1ZmZlcix1LHMpfXJldHVybiB0fX0se2tleToiX3Jlc29sdmVUZXh0dXJlIix2YWx1ZTpmdW5jdGlvbih0LGUpe3JldHVybiB0LmlkPXQuaWR8fCJ0ZXh0dXJlLSIuY29uY2F0KGUpLHQuc2FtcGxlcj0ic2FtcGxlciJpbiB0P3RoaXMuZ2V0U2FtcGxlcih0LnNhbXBsZXIpOk9vLHQuc291cmNlPXRoaXMuZ2V0SW1hZ2UodC5zb3VyY2UpLHR9fSx7a2V5OiJfcmVzb2x2ZVNhbXBsZXIiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuIGluIHQuaWQ9dC5pZHx8InNhbXBsZXItIi5jb25jYXQoZSksdC5wYXJhbWV0ZXJzPXt9LHQpe3ZhciByPXRoaXMuX2VudW1TYW1wbGVyUGFyYW1ldGVyKG4pO3ZvaWQgMCE9PXImJih0LnBhcmFtZXRlcnNbcl09dFtuXSl9cmV0dXJuIHR9fSx7a2V5OiJfZW51bVNhbXBsZXJQYXJhbWV0ZXIiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiBfb1t0XX19LHtrZXk6Il9yZXNvbHZlSW1hZ2UiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dC5pZD10LmlkfHwiaW1hZ2UtIi5jb25jYXQoZSksdm9pZCAwIT09dC5idWZmZXJWaWV3JiYodC5idWZmZXJWaWV3PXRoaXMuZ2V0QnVmZmVyVmlldyh0LmJ1ZmZlclZpZXcpKTt2YXIgbj10aGlzLmltYWdlc1tlXTtyZXR1cm4gbiYmKHQuaW1hZ2U9biksdH19LHtrZXk6Il9yZXNvbHZlQnVmZmVyVmlldyIsdmFsdWU6ZnVuY3Rpb24odCxlKXt0LmlkPXQuaWR8fCJidWZmZXJWaWV3LSIuY29uY2F0KGUpO3ZhciBuPXQuYnVmZmVyO3QuYnVmZmVyPXRoaXMuYnVmZmVyc1tuXTt2YXIgcj10aGlzLmJ1ZmZlcnNbbl0uYXJyYXlCdWZmZXIsaT10aGlzLmJ1ZmZlcnNbbl0uYnl0ZU9mZnNldHx8MDtyZXR1cm4iYnl0ZU9mZnNldCJpbiB0JiYoaSs9dC5ieXRlT2Zmc2V0KSx0LmRhdGE9bmV3IFVpbnQ4QXJyYXkocixpLHQuYnl0ZUxlbmd0aCksdH19LHtrZXk6Il9yZXNvbHZlQ2FtZXJhIix2YWx1ZTpmdW5jdGlvbih0LGUpe3JldHVybiB0LmlkPXQuaWR8fCJjYW1lcmEtIi5jb25jYXQoZSksdC5wZXJzcGVjdGl2ZSx0Lm9ydGhvZ3JhcGhpYyx0fX1dKSx0fSgpO2Z1bmN0aW9uIHdvKHQsZSl7cmV0dXJuKG5ldyB4bykucG9zdFByb2Nlc3ModCxlKX1mdW5jdGlvbiBrbyh0LGUpe3JldHVybiBTby5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZnVuY3Rpb24gU28oKXtyZXR1cm4oU289T2JqZWN0KER0LmEpKFN0LmEubWFyaygoZnVuY3Rpb24gdChlLG4pe3ZhciByLGksYSxvLHMsdSxjPWFyZ3VtZW50cztyZXR1cm4gU3QuYS53cmFwKChmdW5jdGlvbih0KXtmb3IoOzspc3dpdGNoKHQucHJldj10Lm5leHQpe2Nhc2UgMDppZihyPWMubGVuZ3RoPjImJnZvaWQgMCE9PWNbMl0/Y1syXTowLGk9Yy5sZW5ndGg+Mz9jWzNdOnZvaWQgMCxhPWMubGVuZ3RoPjQ/Y1s0XTp2b2lkIDAsUG8oZSxuLHIsaSksbz1bXSxpLmdsdGYubG9hZEltYWdlcyYmKHM9RW8oZSxpLGEpLG8ucHVzaChzKSksIWkuZ2x0Zi5sb2FkQnVmZmVycyl7dC5uZXh0PTk7YnJlYWt9cmV0dXJuIHQubmV4dD05LGpvKGUsaSxhKTtjYXNlIDk6cmV0dXJuIHU9b28oZSxpLGEpLG8ucHVzaCh1KSx0Lm5leHQ9MTMsUHJvbWlzZS5hbGwobyk7Y2FzZSAxMzpyZXR1cm4gdC5hYnJ1cHQoInJldHVybiIsaS5nbHRmLnBvc3RQcm9jZXNzP3dvKGUsaSk6ZSk7Y2FzZSAxNDpjYXNlImVuZCI6cmV0dXJuIHQuc3RvcCgpfX0pLHQpfSkpKSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfWZ1bmN0aW9uIFBvKHQsZSxuLHIpeyhyLnVyaSYmKHQuYmFzZVVyaT1yLnVyaSksZSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyJiYhbG8oZSxuLHIpKSYmKGU9KG5ldyBUZXh0RGVjb2RlcikuZGVjb2RlKGUpKTtpZigic3RyaW5nIj09dHlwZW9mIGUpdC5qc29uPU9iamVjdChQYS5hKShlKTtlbHNlIGlmKGUgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcil7dmFyIGk9e307bj1mdW5jdGlvbih0LGUpe3ZhciBuPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTowLHI9YXJndW1lbnRzLmxlbmd0aD4zJiZ2b2lkIDAhPT1hcmd1bWVudHNbM10/YXJndW1lbnRzWzNdOnt9LGk9bmV3IERhdGFWaWV3KGUpO3QudHlwZT1jbyhpLG4rMCksdC52ZXJzaW9uPWkuZ2V0VWludDMyKG4rNCwhMCk7dmFyIGE9aS5nZXRVaW50MzIobis4LCEwKTtyZXR1cm4gdC5oZWFkZXI9e2J5dGVPZmZzZXQ6bixieXRlTGVuZ3RoOmF9LE9iamVjdChnZS5hKSgyPT09dC52ZXJzaW9uLCJJbnZhbGlkIEdMQiB2ZXJzaW9uICIuY29uY2F0KHQudmVyc2lvbiwiLiBPbmx5IHN1cHBvcnRzIHYyLiIpKSxPYmplY3QoZ2UuYSkodC5oZWFkZXIuYnl0ZUxlbmd0aD4yMCksdC5qc29uPXt9LHQuYmluQ2h1bmtzPVtdLGhvKHQsaSxuKzEyLHIpLG4rdC5oZWFkZXIuYnl0ZUxlbmd0aH0oaSxlLG4sciksVGEoImdsVEYiPT09aS50eXBlLCJJbnZhbGlkIEdMQiBtYWdpYyBzdHJpbmcgIi5jb25jYXQoaS50eXBlKSksdC5fZ2xiPWksdC5qc29uPWkuanNvbn1lbHNlIFRhKCExLCJHTFRGOiBtdXN0IGJlIEFycmF5QnVmZmVyIG9yIHN0cmluZyIpO3ZhciBhPXQuanNvbi5idWZmZXJzfHxbXTtpZih0LmJ1ZmZlcnM9bmV3IEFycmF5KGEubGVuZ3RoKS5maWxsKG51bGwpLHQuX2dsYiYmdC5fZ2xiLmhlYWRlci5oYXNCaW5DaHVuayl7dmFyIG89dC5fZ2xiLmJpbkNodW5rczt0LmJ1ZmZlcnNbMF09e2FycmF5QnVmZmVyOm9bMF0uYXJyYXlCdWZmZXIsYnl0ZU9mZnNldDpvWzBdLmJ5dGVPZmZzZXQsYnl0ZUxlbmd0aDpvWzBdLmJ5dGVMZW5ndGh9fXZhciBzPXQuanNvbi5pbWFnZXN8fFtdO3QuaW1hZ2VzPW5ldyBBcnJheShzLmxlbmd0aCkuZmlsbCh7fSl9ZnVuY3Rpb24gam8odCxlLG4pe3JldHVybiBUby5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZnVuY3Rpb24gVG8oKXtyZXR1cm4oVG89T2JqZWN0KER0LmEpKFN0LmEubWFyaygoZnVuY3Rpb24gdChlLG4scil7dmFyIGksYSxvLHMsdSxjO3JldHVybiBTdC5hLndyYXAoKGZ1bmN0aW9uKHQpe2Zvcig7Oylzd2l0Y2godC5wcmV2PXQubmV4dCl7Y2FzZSAwOmk9MDtjYXNlIDE6aWYoIShpPGUuanNvbi5idWZmZXJzLmxlbmd0aCkpe3QubmV4dD0xODticmVha31pZighKGE9ZS5qc29uLmJ1ZmZlcnNbaV0pLnVyaSl7dC5uZXh0PTE1O2JyZWFrfXJldHVybiBUYShvPXIuZmV0Y2gpLHM9RWEoYS51cmksbiksdC5uZXh0PTksbyhzKTtjYXNlIDk6cmV0dXJuIHU9dC5zZW50LHQubmV4dD0xMix1LmFycmF5QnVmZmVyKCk7Y2FzZSAxMjpjPXQuc2VudCxlLmJ1ZmZlcnNbaV09e2FycmF5QnVmZmVyOmMsYnl0ZU9mZnNldDowLGJ5dGVMZW5ndGg6Yy5ieXRlTGVuZ3RofSxkZWxldGUgYS51cmk7Y2FzZSAxNTorK2ksdC5uZXh0PTE7YnJlYWs7Y2FzZSAxODpjYXNlImVuZCI6cmV0dXJuIHQuc3RvcCgpfX0pLHQpfSkpKSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfWZ1bmN0aW9uIEVvKHQsZSxuKXtyZXR1cm4gQW8uYXBwbHkodGhpcyxhcmd1bWVudHMpfWZ1bmN0aW9uIEFvKCl7cmV0dXJuKEFvPU9iamVjdChEdC5hKShTdC5hLm1hcmsoKGZ1bmN0aW9uIHQoZSxuLHIpe3ZhciBpLGEsbztyZXR1cm4gU3QuYS53cmFwKChmdW5jdGlvbih0KXtmb3IoOzspc3dpdGNoKHQucHJldj10Lm5leHQpe2Nhc2UgMDpmb3IoaT1lLmpzb24uaW1hZ2VzfHxbXSxhPVtdLG89MDtvPGkubGVuZ3RoOysrbylhLnB1c2goTW8oZSxpW29dLG8sbixyKSk7cmV0dXJuIHQubmV4dD01LFByb21pc2UuYWxsKGEpO2Nhc2UgNTpyZXR1cm4gdC5hYnJ1cHQoInJldHVybiIsdC5zZW50KTtjYXNlIDY6Y2FzZSJlbmQiOnJldHVybiB0LnN0b3AoKX19KSx0KX0pKSkpLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1mdW5jdGlvbiBNbyh0LGUsbixyLGkpe3JldHVybiBDby5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZnVuY3Rpb24gQ28oKXtyZXR1cm4oQ289T2JqZWN0KER0LmEpKFN0LmEubWFyaygoZnVuY3Rpb24gdChlLG4scixpLGEpe3ZhciBvLHMsdSxjLGwsaCxmO3JldHVybiBTdC5hLndyYXAoKGZ1bmN0aW9uKHQpe2Zvcig7Oylzd2l0Y2godC5wcmV2PXQubmV4dCl7Y2FzZSAwOmlmKG89YS5mZXRjaCxzPWEucGFyc2UsIW4udXJpKXt0Lm5leHQ9OTticmVha31yZXR1cm4gYz1FYShuLnVyaSxpKSx0Lm5leHQ9NSxvKGMpO2Nhc2UgNTpyZXR1cm4gbD10LnNlbnQsdC5uZXh0PTgsbC5hcnJheUJ1ZmZlcigpO2Nhc2UgODp1PXQuc2VudDtjYXNlIDk6cmV0dXJuIE51bWJlci5pc0Zpbml0ZShuLmJ1ZmZlclZpZXcpJiYoaD1BYShlLmpzb24sZS5idWZmZXJzLG4uYnVmZmVyVmlldyksdT1PYmplY3QoamEuYikoaC5idWZmZXIsaC5ieXRlT2Zmc2V0LGguYnl0ZUxlbmd0aCkpLFRhKHUsImdsVEYgaW1hZ2UgaGFzIG5vIGRhdGEiKSx0Lm5leHQ9MTMscyh1LFNhLmEse30sYSk7Y2FzZSAxMzpmPXQuc2VudCxlLmltYWdlc1tyXT1mO2Nhc2UgMTU6Y2FzZSJlbmQiOnJldHVybiB0LnN0b3AoKX19KSx0KX0pKSkpLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1mdW5jdGlvbiBMbyh0LGUpe3ZhciBuPU9iamVjdC5rZXlzKHQpO2lmKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciByPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHModCk7ZSYmKHI9ci5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHQsZSkuZW51bWVyYWJsZX0pKSksbi5wdXNoLmFwcGx5KG4scil9cmV0dXJuIG59ZnVuY3Rpb24gSW8odCl7Zm9yKHZhciBlPTE7ZTxhcmd1bWVudHMubGVuZ3RoO2UrKyl7dmFyIG49bnVsbCE9YXJndW1lbnRzW2VdP2FyZ3VtZW50c1tlXTp7fTtlJTI/TG8oT2JqZWN0KG4pLCEwKS5mb3JFYWNoKChmdW5jdGlvbihlKXtPYmplY3QoRnQuYSkodCxlLG5bZV0pfSkpOk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzP09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHQsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMobikpOkxvKE9iamVjdChuKSkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsZSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG4sZSkpfSkpfXJldHVybiB0fXZhciBSbz17aWQ6ImdsdGYiLG5hbWU6ImdsVEYiLHZlcnNpb246IjIuMS4xIixleHRlbnNpb25zOlsiZ2x0ZiIsImdsYiJdLG1pbWVUeXBlOiJtb2RlbC9nbHRmK2pzb24iLHRleHQ6ITAsYmluYXJ5OiEwLHRlc3Q6ImdsVEYiLHBhcnNlOmZ1bmN0aW9uKHQpe3JldHVybiBEby5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LG9wdGlvbnM6e2dsdGY6e2xvYWRCdWZmZXJzOiEwLGxvYWRJbWFnZXM6ITAsZGVjb21wcmVzc01lc2hlczohMCxwb3N0UHJvY2VzczohMH0sdXJpOiIiLGxvZzpjb25zb2xlfX0sTm89Um87ZnVuY3Rpb24gRG8oKXtyZXR1cm4oRG89T2JqZWN0KER0LmEpKFN0LmEubWFyaygoZnVuY3Rpb24gdChlKXt2YXIgbixyLGksYSxvLHM9YXJndW1lbnRzO3JldHVybiBTdC5hLndyYXAoKGZ1bmN0aW9uKHQpe2Zvcig7Oylzd2l0Y2godC5wcmV2PXQubmV4dCl7Y2FzZSAwOnJldHVybiBuPXMubGVuZ3RoPjEmJnZvaWQgMCE9PXNbMV0/c1sxXTp7fSxyPXMubGVuZ3RoPjI/c1syXTp2b2lkIDAsKG49SW8oe30sUm8ub3B0aW9ucyx7fSxuKSkuZ2x0Zj1Jbyh7fSxSby5vcHRpb25zLmdsdGYse30sbi5nbHRmKSxGbyhuKSxpPW4uYnl0ZU9mZnNldCxhPXZvaWQgMD09PWk/MDppLG89e30sdC5uZXh0PTksa28obyxlLGEsbixyKTtjYXNlIDk6cmV0dXJuIHQuYWJydXB0KCJyZXR1cm4iLHQuc2VudCk7Y2FzZSAxMDpjYXNlImVuZCI6cmV0dXJuIHQuc3RvcCgpfX0pLHQpfSkpKSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfWZ1bmN0aW9uIEZvKHQpeyJmZXRjaEltYWdlcyJpbiB0JiYodC5nbHRmLmxvYWRJbWFnZXM9dC5mZXRjaEltYWdlcyksImNyZWF0ZUltYWdlcyJpbiB0JiYodC5nbHRmLmxvYWRJbWFnZXM9dC5jcmVhdGVJbWFnZXMpLCJmZXRjaExpbmtlZFJlc291cmNlcyJpbiB0JiYodC5nbHRmLmZldGNoQnVmZmVycz10LmZldGNoTGlua2VkUmVzb3VyY2VzKSwiZGVjb21wcmVzcyJpbiB0JiYodC5nbHRmLmRlY29tcHJlc3NNZXNoZXM9dC5kZWNvbXByZXNzKSwiZGVjb21wcmVzcyJpbiB0LmdsdGYmJih0LmdsdGYuZGVjb21wcmVzc01lc2hlcz10LmdsdGYuZGVjb21wcmVzcyksInBvc3RQcm9jZXNzImluIHQmJih0LmdsdGYucG9zdFByb2Nlc3M9dC5wb3N0UHJvY2Vzcyl9dmFyIHpvPTAsQm89MTtmdW5jdGlvbiBVbyh0LGUsbil7dC5yb3RhdGVZdG9aPSEwO3ZhciByPXQuYnl0ZU9mZnNldCt0LmJ5dGVMZW5ndGgtbjtpZigwPT09cil0aHJvdyBuZXcgRXJyb3IoImdsVEYgYnl0ZSBsZW5ndGggbXVzdCBiZSBncmVhdGVyIHRoYW4gMC4iKTtyZXR1cm4gdC5nbHRmQXJyYXlCdWZmZXI9T2JqZWN0KGphLmIpKGUsbixyKSx0LmdsdGZCeXRlT2Zmc2V0PTAsdC5nbHRmQnl0ZUxlbmd0aD1yLG4lND09MHx8Y29uc29sZS53YXJuKCIiLmNvbmNhdCh0LnR5cGUsIjogZW1iZWRkZWQgZ2xiIGlzIG5vdCBhbGlnbmVkIHRvIGEgNC1ieXRlIGJvdW5kYXJ5LiIpKSx0LmJ5dGVPZmZzZXQrdC5ieXRlTGVuZ3RofWZ1bmN0aW9uIFZvKHQsZSxuLHIpe3JldHVybiBHby5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZnVuY3Rpb24gR28oKXtyZXR1cm4oR289T2JqZWN0KER0LmEpKFN0LmEubWFyaygoZnVuY3Rpb24gdChlLG4scixpKXt2YXIgYSxvO3JldHVybiBTdC5hLndyYXAoKGZ1bmN0aW9uKHQpe2Zvcig7Oylzd2l0Y2godC5wcmV2PXQubmV4dCl7Y2FzZSAwOmlmKFdvKGUsbixyKSwhci5sb2FkR0xURil7dC5uZXh0PTE1O2JyZWFrfWlmKGE9aS5wYXJzZSxvPWkuZmV0Y2gsIWUuZ2x0ZlVybCl7dC5uZXh0PTg7YnJlYWt9cmV0dXJuIHQubmV4dD02LG8oZS5nbHRmVXJsLHIpO2Nhc2UgNjplLmdsdGZBcnJheUJ1ZmZlcj10LnNlbnQsZS5nbHRmQnl0ZU9mZnNldD0wO2Nhc2UgODppZighZS5nbHRmQXJyYXlCdWZmZXIpe3QubmV4dD0xNTticmVha31yZXR1cm4gdC5uZXh0PTExLGEoZS5nbHRmQXJyYXlCdWZmZXIsTm8scixpKTtjYXNlIDExOmUuZ2x0Zj10LnNlbnQsZGVsZXRlIGUuZ2x0ZkFycmF5QnVmZmVyLGRlbGV0ZSBlLmdsdGZCeXRlT2Zmc2V0LGRlbGV0ZSBlLmdsdGZCeXRlTGVuZ3RoO2Nhc2UgMTU6Y2FzZSJlbmQiOnJldHVybiB0LnN0b3AoKX19KSx0KX0pKSkpLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1mdW5jdGlvbiBXbyh0LGUsbil7c3dpdGNoKGUpe2Nhc2Ugem86dmFyIHI9bmV3IFVpbnQ4QXJyYXkodC5nbHRmQXJyYXlCdWZmZXIsdC5nbHRmQnl0ZU9mZnNldCksaT0obmV3IFRleHREZWNvZGVyKS5kZWNvZGUocik7dC5nbHRmVXJsPWkucmVwbGFjZSgvW1xzXDBdKyQvLCIiKSxkZWxldGUgdC5nbHRmQXJyYXlCdWZmZXIsZGVsZXRlIHQuZ2x0ZkJ5dGVPZmZzZXQsZGVsZXRlIHQuZ2x0ZkJ5dGVMZW5ndGg7YnJlYWs7Y2FzZSBCbzpicmVhaztkZWZhdWx0OnRocm93IG5ldyBFcnJvcigiYjNkbTogSWxsZWdhbCBnbFRGIGZvcm1hdCBmaWVsZCIpfX1mdW5jdGlvbiBIbyh0LGUsbixyLGkpe3JldHVybiBxby5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZnVuY3Rpb24gcW8oKXtyZXR1cm4ocW89T2JqZWN0KER0LmEpKFN0LmEubWFyaygoZnVuY3Rpb24gdChlLG4scixpLGEpe3ZhciBvLHM7cmV0dXJuIFN0LmEud3JhcCgoZnVuY3Rpb24odCl7Zm9yKDs7KXN3aXRjaCh0LnByZXY9dC5uZXh0KXtjYXNlIDA6cmV0dXJuIHI9WG8oZSxuLHIsaSxhKSx0Lm5leHQ9MyxWbyhlLEJvLGksYSk7Y2FzZSAzOnJldHVybiBvPWUuZ2x0Znx8e30sKHM9by5leHRlbnNpb25zKSYmcy5DRVNJVU1fUlRDJiYoZS5ydGNDZW50ZXI9cy5DRVNJVU1fUlRDLmNlbnRlciksdC5hYnJ1cHQoInJldHVybiIscik7Y2FzZSA2OmNhc2UiZW5kIjpyZXR1cm4gdC5zdG9wKCl9fSksdCl9KSkpKS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZnVuY3Rpb24gWG8odCxlLG4scixpKXtuPVVvKHQsZSxuPW5hKHQsZSxuPWVhKHQsZSxuPXRhKHQsZSxuLHIpKSkpO3ZhciBhPW5ldyBWaSh0LmZlYXR1cmVUYWJsZUpzb24sdC5mZWF0dXJlVGFibGVCaW5hcnkpO3JldHVybiB0LnJ0Y0NlbnRlcj1hLmdldEdsb2JhbFByb3BlcnR5KCJSVENfQ0VOVEVSIixGaS5GTE9BVCwzKSxufXZhciBabz1uKDIxOSk7ZnVuY3Rpb24gWW8odCxlLG4scixpKXtyZXR1cm4gS28uYXBwbHkodGhpcyxhcmd1bWVudHMpfWZ1bmN0aW9uIEtvKCl7cmV0dXJuKEtvPU9iamVjdChEdC5hKShTdC5hLm1hcmsoKGZ1bmN0aW9uIHQoZSxuLHIsaSxhKXtyZXR1cm4gU3QuYS53cmFwKChmdW5jdGlvbih0KXtmb3IoOzspc3dpdGNoKHQucHJldj10Lm5leHQpe2Nhc2UgMDpyZXR1cm4gcj1RbyhlLG4scixpLGEpLHQubmV4dD0zLFZvKGUsZS5nbHRmRm9ybWF0LGksYSk7Y2FzZSAzOnJldHVybiB0LmFicnVwdCgicmV0dXJuIixyKTtjYXNlIDQ6Y2FzZSJlbmQiOnJldHVybiB0LnN0b3AoKX19KSx0KX0pKSkpLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1mdW5jdGlvbiBRbyh0LGUsbixyLGkpe2lmKG49dGEodCxlLG4sciksMSE9PXQudmVyc2lvbil0aHJvdyBuZXcgRXJyb3IoIkluc3RhbmNlZCAzRCBNb2RlbCB2ZXJzaW9uICIuY29uY2F0KHQudmVyc2lvbiwiIGlzIG5vdCBzdXBwb3J0ZWQiKSk7bj1lYSh0LGUsbik7dmFyIGE9bmV3IERhdGFWaWV3KGUpO2lmKHQuZ2x0ZkZvcm1hdD1hLmdldFVpbnQzMihuLCEwKSxuPVVvKHQsZSxuPW5hKHQsZSxuKz00KSksMD09PXQuZmVhdHVyZVRhYmxlSnNvbkJ5dGVMZW5ndGgpdGhyb3cgbmV3IEVycm9yKCJpM2RtIHBhcnNlcjogZmVhdHVyZVRhYmxlSnNvbkJ5dGVMZW5ndGggaXMgemVyby4iKTt2YXIgbz1uZXcgVmkodC5mZWF0dXJlVGFibGVKc29uLHQuZmVhdHVyZVRhYmxlQmluYXJ5KSxzPW8uZ2V0R2xvYmFsUHJvcGVydHkoIklOU1RBTkNFU19MRU5HVEgiKTtpZihvLmZlYXR1cmVzTGVuZ3RoPXMsIU51bWJlci5pc0Zpbml0ZShzKSl0aHJvdyBuZXcgRXJyb3IoImkzZG0gcGFyc2VyOiBJTlNUQU5DRVNfTEVOR1RIIG11c3QgYmUgZGVmaW5lZCIpO3QuZWFzdE5vcnRoVXA9by5nZXRHbG9iYWxQcm9wZXJ0eSgiRUFTVF9OT1JUSF9VUCIpLHQucnRjQ2VudGVyPW8uZ2V0R2xvYmFsUHJvcGVydHkoIlJUQ19DRU5URVIiLEZpLkZMT0FULDMpO25ldyAkaSh0LmJhdGNoVGFibGVKc29uLHQuYmF0Y2hUYWJsZUJpbmFyeSxzKTtyZXR1cm4gZnVuY3Rpb24odCxlLG4scil7Zm9yKHZhciBpPVtuZXcgQXJyYXkociksdC5fYmF0Y2hUYWJsZV1bMF0sYT1uZXcgQXQuYSxvPShuZXcgQXQuYSxuZXcgQXQuYSxuZXcgQXQuYSxuZXcgWnIuYSkscz1uZXcgWm8uYSx1PW5ldyBBdC5hLGM9e30sbD1uZXcgVXQuYSxoPVtdLGY9W10sZD1uZXcgQXQuYSx2PW5ldyBBdC5hLHA9MDtwPHI7cCsrKXt2YXIgZz12b2lkIDA7aWYoZS5oYXNQcm9wZXJ0eSgiUE9TSVRJT04iKSlnPWUuZ2V0UHJvcGVydHkoIlBPU0lUSU9OIixGaS5GTE9BVCwzLHAsYSk7ZWxzZSBpZihlLmhhc1Byb3BlcnR5KCJQT1NJVElPTl9RVUFOVElaRUQiKSl7Zz1lLmdldFByb3BlcnR5KCJQT1NJVElPTl9RVUFOVElaRUQiLEZpLlVOU0lHTkVEX1NIT1JULDMscCxhKTt2YXIgeT1lLmdldEdsb2JhbFByb3BlcnR5KCJRVUFOVElaRURfVk9MVU1FX09GRlNFVCIsRmkuRkxPQVQsMyxkKTtpZigheSl0aHJvdyBuZXcgRXJyb3IoImkzZG0gcGFyc2VyOiBRVUFOVElaRURfVk9MVU1FX09GRlNFVCBtdXN0IGJlIGRlZmluZWQgZm9yIHF1YW50aXplZCBwb3NpdGlvbnMuIik7dmFyIG09ZS5nZXRHbG9iYWxQcm9wZXJ0eSgiUVVBTlRJWkVEX1ZPTFVNRV9TQ0FMRSIsRmkuRkxPQVQsMyx2KTtpZighbSl0aHJvdyBuZXcgRXJyb3IoImkzZG0gcGFyc2VyOiBRVUFOVElaRURfVk9MVU1FX1NDQUxFIG11c3QgYmUgZGVmaW5lZCBmb3IgcXVhbnRpemVkIHBvc2l0aW9ucy4iKTtmb3IodmFyIGI9MDtiPDM7YisrKWdbYl09Z1tiXS82NTUzNSptW2JdK3lbYl19aWYoIWcpdGhyb3cgbmV3IEVycm9yKCJpM2RtOiBQT1NJVElPTiBvciBQT1NJVElPTl9RVUFOVElaRUQgbXVzdCBiZSBkZWZpbmVkIGZvciBlYWNoIGluc3RhbmNlLiIpO2EuY29weShnKSxjLnRyYW5zbGF0aW9uPWEsdC5ub3JtYWxVcD1lLmdldFByb3BlcnR5KCJOT1JNQUxfVVAiLEZpLkZMT0FULDMscCxoKSx0Lm5vcm1hbFJpZ2h0PWUuZ2V0UHJvcGVydHkoIk5PUk1BTF9SSUdIVCIsRmkuRkxPQVQsMyxwLGYpO2lmKHQubm9ybWFsVXApe2lmKCF0Lm5vcm1hbFJpZ2h0KXRocm93IG5ldyBFcnJvcigiaTNkbTogQ3VzdG9tIG9yaWVudGF0aW9uIHJlcXVpcmVzIGJvdGggTk9STUFMX1VQIGFuZCBOT1JNQUxfUklHSFQuIik7dC5oYXNDdXN0b21PcmllbnRhdGlvbj0hMH1lbHNle2lmKHQub2N0Tm9ybWFsVXA9ZS5nZXRQcm9wZXJ0eSgiTk9STUFMX1VQX09DVDMyUCIsRmkuVU5TSUdORURfU0hPUlQsMixoKSx0Lm9jdE5vcm1hbFJpZ2h0PWUuZ2V0UHJvcGVydHkoIk5PUk1BTF9SSUdIVF9PQ1QzMlAiLEZpLlVOU0lHTkVEX1NIT1JULDIsZiksdC5vY3ROb3JtYWxVcCl7aWYoIXQub2N0Tm9ybWFsUmlnaHQpdGhyb3cgbmV3IEVycm9yKCJpM2RtOiBvY3QtZW5jb2RlZCBvcmllbnRhdGlvbiByZXF1aXJlcyBOT1JNQUxfVVBfT0NUMzJQIGFuZCBOT1JNQUxfUklHSFRfT0NUMzJQIik7dGhyb3cgbmV3IEVycm9yKCJpM2RtOiBvY3QtZW5jb2RlZCBvcmllbnRhdGlvbiBub3QgaW1wbGVtZW50ZWQiKX10LmVhc3ROb3J0aFVwPyh2ZS5XR1M4NC5lYXN0Tm9ydGhVcFRvRml4ZWRGcmFtZShhLGwpLGwuZ2V0Um90YXRpb25NYXRyaXgzKG8pKTpvLmlkZW50aXR5KCl9ITEscy5mcm9tTWF0cml4MyhvKSxjLnJvdGF0aW9uPXMsdS5zZXQoMSwxLDEpO3ZhciBfPWUuZ2V0UHJvcGVydHkoIlNDQUxFIixGaS5GTE9BVCwxLHApO051bWJlci5pc0Zpbml0ZShfKSYmdS5tdWx0aXBseUJ5U2NhbGFyKF8pO3ZhciBPPWUuZ2V0UHJvcGVydHkoIlNDQUxFX05PTl9VTklGT1JNIixGaS5GTE9BVCwzLHAsaCk7TyYmdS5zY2FsZShPKSxjLnNjYWxlPXU7dmFyIHg9ZS5nZXRQcm9wZXJ0eSgiQkFUQ0hfSUQiLEZpLlVOU0lHTkVEX1NIT1JULDEscCk7dm9pZCAwPT09eCYmKHg9cCk7dmFyIHc9KG5ldyBVdC5hKS5mcm9tUXVhdGVybmlvbihjLnJvdGF0aW9uKTtsLmlkZW50aXR5KCksbC50cmFuc2xhdGUoYy50cmFuc2xhdGlvbiksbC5tdWx0aXBseVJpZ2h0KHcpLGwuc2NhbGUoYy5zY2FsZSk7dmFyIGs9bC5jbG9uZSgpO2lbcF09e21vZGVsTWF0cml4OmssYmF0Y2hJZDp4fX10Lmluc3RhbmNlcz1pfSh0LG8sMCxzKSxufWZ1bmN0aW9uIEpvKHQsZSxuLHIsaSxhKXtyZXR1cm4gJG8uYXBwbHkodGhpcyxhcmd1bWVudHMpfWZ1bmN0aW9uICRvKCl7cmV0dXJuKCRvPU9iamVjdChEdC5hKShTdC5hLm1hcmsoKGZ1bmN0aW9uIHQoZSxuLHIsaSxhLG8pe3ZhciBzLHU7cmV0dXJuIFN0LmEud3JhcCgoZnVuY3Rpb24odCl7Zm9yKDs7KXN3aXRjaCh0LnByZXY9dC5uZXh0KXtjYXNlIDA6cj10YShlLG4scixpKSxzPW5ldyBEYXRhVmlldyhuKSxlLnRpbGVzTGVuZ3RoPXMuZ2V0VWludDMyKHIsITApLHIrPTQsZS50aWxlcz1bXTtjYXNlIDU6aWYoIShlLnRpbGVzLmxlbmd0aDxlLnRpbGVzTGVuZ3RoJiZlLmJ5dGVMZW5ndGgtcj4xMikpe3QubmV4dD0xMzticmVha31yZXR1cm4gdT17fSxlLnRpbGVzLnB1c2godSksdC5uZXh0PTEwLG8obixyLGksYSx1KTtjYXNlIDEwOnI9dC5zZW50LHQubmV4dD01O2JyZWFrO2Nhc2UgMTM6cmV0dXJuIHQuYWJydXB0KCJyZXR1cm4iLHIpO2Nhc2UgMTQ6Y2FzZSJlbmQiOnJldHVybiB0LnN0b3AoKX19KSx0KX0pKSkpLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1mdW5jdGlvbiB0cyh0KXtyZXR1cm4gZXMuYXBwbHkodGhpcyxhcmd1bWVudHMpfWZ1bmN0aW9uIGVzKCl7cmV0dXJuKGVzPU9iamVjdChEdC5hKShTdC5hLm1hcmsoKGZ1bmN0aW9uIHQoZSl7dmFyIG4scixpLGEsbz1hcmd1bWVudHM7cmV0dXJuIFN0LmEud3JhcCgoZnVuY3Rpb24odCl7Zm9yKDs7KXN3aXRjaCh0LnByZXY9dC5uZXh0KXtjYXNlIDA6bj1vLmxlbmd0aD4xJiZ2b2lkIDAhPT1vWzFdP29bMV06MCxyPW8ubGVuZ3RoPjI/b1syXTp2b2lkIDAsaT1vLmxlbmd0aD4zP29bM106dm9pZCAwLGE9by5sZW5ndGg+NCYmdm9pZCAwIT09b1s0XT9vWzRdOnt9LHI9clsiM2QtdGlsZXMiXXx8e30sYS5ieXRlT2Zmc2V0PW4sYS50eXBlPUlpKGUsbiksdC50MD1hLnR5cGUsdC5uZXh0PXQudDA9PT1DaS5DT01QT1NJVEU/MTA6dC50MD09PUNpLkJBVENIRURfM0RfTU9ERUw/MTM6dC50MD09PUNpLklOU1RBTkNFRF8zRF9NT0RFTD8xNjp0LnQwPT09Q2kuUE9JTlRfQ0xPVUQ/MTk6MjI7YnJlYWs7Y2FzZSAxMDpyZXR1cm4gdC5uZXh0PTEyLEpvKGEsZSxuLHIsaSx0cyk7Y2FzZSAxMjpyZXR1cm4gdC5hYnJ1cHQoInJldHVybiIsdC5zZW50KTtjYXNlIDEzOnJldHVybiB0Lm5leHQ9MTUsSG8oYSxlLG4scixpKTtjYXNlIDE1OnJldHVybiB0LmFicnVwdCgicmV0dXJuIix0LnNlbnQpO2Nhc2UgMTY6cmV0dXJuIHQubmV4dD0xOCxZbyhhLGUsbixyLGkpO2Nhc2UgMTg6cmV0dXJuIHQuYWJydXB0KCJyZXR1cm4iLHQuc2VudCk7Y2FzZSAxOTpyZXR1cm4gdC5uZXh0PTIxLHZhKGEsZSxuLHIsaSk7Y2FzZSAyMTpyZXR1cm4gdC5hYnJ1cHQoInJldHVybiIsdC5zZW50KTtjYXNlIDIyOnRocm93IG5ldyBFcnJvcigiM0RUaWxlTG9hZGVyOiB1bmtub3duIHR5cGUgIi5jb25jYXQoYS50eXBlKSk7Y2FzZSAyMzpjYXNlImVuZCI6cmV0dXJuIHQuc3RvcCgpfX0pLHQpfSkpKSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfWZ1bmN0aW9uIG5zKHQsZSl7cmV0dXJuIHQuY29udGVudCYmKHQuY29udGVudFVybD0iIi5jb25jYXQoZS5iYXNlUGF0aCwiLyIpLmNvbmNhdCh0LmNvbnRlbnQudXJpKSksdC5pZD10LmNvbnRlbnRVcmwsdC5sb2RNZXRyaWNUeXBlPUhyLHQubG9kTWV0cmljVmFsdWU9dC5nZW9tZXRyaWNFcnJvcix0LnRyYW5zZm9ybU1hdHJpeD10LnRyYW5zZm9ybSx0LnR5cGU9ZnVuY3Rpb24odCl7aWYoIXQuY29udGVudFVybClyZXR1cm4genI7dmFyIGU9dC5jb250ZW50VXJsLnNwbGl0KCIuIikucG9wKCk7c3dpdGNoKGUpe2Nhc2UicG50cyI6cmV0dXJuIFVyO2Nhc2UiaTNkbSI6Y2FzZSJiM2RtIjpyZXR1cm4gQnI7ZGVmYXVsdDpyZXR1cm4gZX19KHQpLHQucmVmaW5lPWZ1bmN0aW9uKHQpe3N3aXRjaCh0KXtjYXNlIlJFUExBQ0UiOmNhc2UicmVwbGFjZSI6cmV0dXJuIEZyO2Nhc2UiQUREIjpjYXNlImFkZCI6cmV0dXJuIERyO2RlZmF1bHQ6cmV0dXJuIHR9fSh0LnJlZmluZSksdH1mdW5jdGlvbiBycyh0KXt2YXIgZT10LmJhc2VQYXRoLG49bnModC5yb290LHQpLHI9W107Zm9yKHIucHVzaChuKTtyLmxlbmd0aD4wOyl7dmFyIGk9ci5wb3AoKS5jaGlsZHJlbnx8W10sYT0hMCxvPSExLHM9dm9pZCAwO3RyeXtmb3IodmFyIHUsYz1pW1N5bWJvbC5pdGVyYXRvcl0oKTshKGE9KHU9Yy5uZXh0KCkpLmRvbmUpO2E9ITApe3ZhciBsPXUudmFsdWU7bnMobCx7YmFzZVBhdGg6ZX0pLHIucHVzaChsKX19Y2F0Y2godCl7bz0hMCxzPXR9ZmluYWxseXt0cnl7YXx8bnVsbD09Yy5yZXR1cm58fGMucmV0dXJuKCl9ZmluYWxseXtpZihvKXRocm93IHN9fX1yZXR1cm4gbn1mdW5jdGlvbiBpcyh0KXtyZXR1cm4geWUuYS5kaXJuYW1lKHQudXJsKX1mdW5jdGlvbiBhcyh0LGUsbil7cmV0dXJuIG9zLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1mdW5jdGlvbiBvcygpe3JldHVybihvcz1PYmplY3QoRHQuYSkoU3QuYS5tYXJrKChmdW5jdGlvbiB0KGUsbixyKXt2YXIgaTtyZXR1cm4gU3QuYS53cmFwKChmdW5jdGlvbih0KXtmb3IoOzspc3dpdGNoKHQucHJldj10Lm5leHQpe2Nhc2UgMDpyZXR1cm4oaT17fSkuY29udGVudD1pLmNvbnRlbnR8fHt9LDAsdC5uZXh0PTUsdHMoZSwwLG4scixpLmNvbnRlbnQpO2Nhc2UgNTpyZXR1cm4gdC5hYnJ1cHQoInJldHVybiIsaS5jb250ZW50KTtjYXNlIDY6Y2FzZSJlbmQiOnJldHVybiB0LnN0b3AoKX19KSx0KX0pKSkpLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1mdW5jdGlvbiBzcyh0LGUsbil7cmV0dXJuIHVzLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1mdW5jdGlvbiB1cygpe3JldHVybih1cz1PYmplY3QoRHQuYSkoU3QuYS5tYXJrKChmdW5jdGlvbiB0KGUsbixyKXt2YXIgaTtyZXR1cm4gU3QuYS53cmFwKChmdW5jdGlvbih0KXtmb3IoOzspc3dpdGNoKHQucHJldj10Lm5leHQpe2Nhc2UgMDpyZXR1cm4oaT1KU09OLnBhcnNlKChuZXcgVGV4dERlY29kZXIpLmRlY29kZShlKSkpLmxvYWRlcj1uLmxvYWRlcnx8bHMsaS51cmw9ci51cmwsaS5iYXNlUGF0aD1pcyhpKSxpLnJvb3Q9cnMoaSksaS50eXBlPVdyLGkubG9kTWV0cmljVHlwZT1IcixpLmxvZE1ldHJpY1ZhbHVlPWkucm9vdC5sb2RNZXRyaWNWYWx1ZSx0LmFicnVwdCgicmV0dXJuIixpKTtjYXNlIDk6Y2FzZSJlbmQiOnJldHVybiB0LnN0b3AoKX19KSx0KX0pKSkpLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1mdW5jdGlvbiBjcygpe3JldHVybihjcz1PYmplY3QoRHQuYSkoU3QuYS5tYXJrKChmdW5jdGlvbiB0KGUsbixyLGkpe3ZhciBhO3JldHVybiBTdC5hLndyYXAoKGZ1bmN0aW9uKHQpe2Zvcig7Oylzd2l0Y2godC5wcmV2PXQubmV4dCl7Y2FzZSAwOmlmKGE9blsiM2QtdGlsZXMiXXx8e30sISgiaXNUaWxlc2V0ImluIGE/bi5pc1RpbGVzZXQ6ci51cmwmJi0xIT09ci51cmwuaW5kZXhPZigiLmpzb24iKSkpe3QubmV4dD04O2JyZWFrfXJldHVybiB0Lm5leHQ9NSxzcyhlLG4scixpKTtjYXNlIDU6ZT10LnNlbnQsdC5uZXh0PTExO2JyZWFrO2Nhc2UgODpyZXR1cm4gdC5uZXh0PTEwLGFzKGUsbixyKTtjYXNlIDEwOmU9dC5zZW50O2Nhc2UgMTE6cmV0dXJuIHQuYWJydXB0KCJyZXR1cm4iLGUpO2Nhc2UgMTI6Y2FzZSJlbmQiOnJldHVybiB0LnN0b3AoKX19KSx0KX0pKSkpLmFwcGx5KHRoaXMsYXJndW1lbnRzKX12YXIgbHM9e2lkOiIzZC10aWxlcyIsbmFtZToiM0QgVGlsZXMiLHZlcnNpb246IjIuMS4xIixleHRlbnNpb25zOlsianNvbiIsImNtcHQiLCJwbnRzIiwiYjNkbSIsImkzZG0iXSxtaW1lVHlwZToiYXBwbGljYXRpb24vb2N0ZXQtc3RyZWFtIix0ZXN0OlsianNvbiIsImNtcHQiLCJwbnRzIiwiYjNkbSIsImkzZG0iXSxwYXJzZTpmdW5jdGlvbih0LGUsbixyKXtyZXR1cm4gY3MuYXBwbHkodGhpcyxhcmd1bWVudHMpfSxvcHRpb25zOnsiM2QtdGlsZXMiOntsb2FkR0xURjohMCxkZWNvZGVRdWFudGl6ZWRQb3NpdGlvbnM6ITF9fX0saHM9bHM7ZnVuY3Rpb24gZnModCxlKXt2YXIgbj1PYmplY3Qua2V5cyh0KTtpZihPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgcj1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHQpO2UmJihyPXIuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0LGUpLmVudW1lcmFibGV9KSkpLG4ucHVzaC5hcHBseShuLHIpfXJldHVybiBufWZ1bmN0aW9uIGRzKHQpe2Zvcih2YXIgZT0xO2U8YXJndW1lbnRzLmxlbmd0aDtlKyspe3ZhciBuPW51bGwhPWFyZ3VtZW50c1tlXT9hcmd1bWVudHNbZV06e307ZSUyP2ZzKE9iamVjdChuKSwhMCkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7anQoKSh0LGUsbltlXSl9KSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXModCxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhuKSk6ZnMoT2JqZWN0KG4pKS5mb3JFYWNoKChmdW5jdGlvbihlKXtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxlLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IobixlKSl9KSl9cmV0dXJuIHR9dmFyIHZzPW5ldyBBdC5hLHBzPXtnZXRQb2ludENvbG9yOlswLDAsMF0scG9pbnRTaXplOjEsZGF0YTpudWxsLGxvYWRPcHRpb25zOnt9LGxvYWRlcjpocyxvblRpbGVzZXRMb2FkOmZ1bmN0aW9uKHQpe30sb25UaWxlTG9hZDpmdW5jdGlvbih0KXt9LG9uVGlsZVVubG9hZDpmdW5jdGlvbih0KXt9LG9uVGlsZUVycm9yOmZ1bmN0aW9uKHQsZSxuKXt9fSxncz1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7cmV0dXJuIHUoKSh0aGlzLGUpLGYoKSh0aGlzLHYoKShlKS5hcHBseSh0aGlzLGFyZ3VtZW50cykpfXZhciBuO3JldHVybiBtKCkoZSx0KSxsKCkoZSxbe2tleToiaW5pdGlhbGl6ZVN0YXRlIix2YWx1ZTpmdW5jdGlvbigpeyJvblRpbGVMb2FkRmFpbCJpbiB0aGlzLnByb3BzJiZVLmEucmVtb3ZlZCgib25UaWxlTG9hZEZhaWwiLCJvblRpbGVFcnJvciIpKCksdGhpcy5zdGF0ZT17bGF5ZXJNYXA6e30sdGlsZXNldDNkOm51bGx9fX0se2tleToic2hvdWxkVXBkYXRlU3RhdGUiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0LmNoYW5nZUZsYWdzLnNvbWV0aGluZ0NoYW5nZWR9fSx7a2V5OiJ1cGRhdGVTdGF0ZSIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dC5wcm9wcyxuPXQub2xkUHJvcHMscj10LmNoYW5nZUZsYWdzO2lmKGUuZGF0YSYmZS5kYXRhIT09bi5kYXRhJiZ0aGlzLl9sb2FkVGlsZXNldChlLmRhdGEpLHIudmlld3BvcnRDaGFuZ2VkKXt2YXIgaT10aGlzLnN0YXRlLnRpbGVzZXQzZDt0aGlzLl91cGRhdGVUaWxlc2V0KGkpfX19LHtrZXk6ImdldFBpY2tpbmdJbmZvIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10LmluZm8sbj10LnNvdXJjZUxheWVyLHI9dGhpcy5zdGF0ZS5sYXllck1hcCxpPW4mJm4uaWQ7aWYoaSl7dmFyIGE9aS5zdWJzdHJpbmcodGhpcy5pZC5sZW5ndGgrMSksbz1hLnN1YnN0cmluZyhhLmluZGV4T2YoIi0iKSsxKTtlLm9iamVjdD1yW29dJiZyW29dLnRpbGV9cmV0dXJuIGV9fSx7a2V5OiJfbG9hZFRpbGVzZXQiLHZhbHVlOihuPUV0KCkoU3QuYS5tYXJrKChmdW5jdGlvbiB0KGUpe3ZhciBuLHIsaSxhLG8scyx1O3JldHVybiBTdC5hLndyYXAoKGZ1bmN0aW9uKHQpe2Zvcig7Oylzd2l0Y2godC5wcmV2PXQubmV4dCl7Y2FzZSAwOmlmKG49dGhpcy5wcm9wcyxyPW4ubG9hZGVyLGk9bi5sb2FkT3B0aW9ucyxhPWRzKHt9LGkpLCFyLnByZWxvYWQpe3QubmV4dD03O2JyZWFrfXJldHVybiB0Lm5leHQ9NSxyLnByZWxvYWQoZSxpKTtjYXNlIDU6bz10LnNlbnQsT2JqZWN0LmFzc2lnbihhLG8pO2Nhc2UgNzpyZXR1cm4gdC5uZXh0PTksT2JqZWN0KE50LmEpKGUscixhKTtjYXNlIDk6cz10LnNlbnQsdT1uZXcgTWkocyxkcyh7b25UaWxlTG9hZDp0aGlzLl9vblRpbGVMb2FkLmJpbmQodGhpcyksb25UaWxlVW5sb2FkOnRoaXMuX29uVGlsZVVubG9hZC5iaW5kKHRoaXMpLG9uVGlsZUxvYWRGYWlsOnRoaXMucHJvcHMub25UaWxlRXJyb3J9LGEpKSx0aGlzLnNldFN0YXRlKHt0aWxlc2V0M2Q6dSxsYXllck1hcDp7fX0pLHRoaXMuX3VwZGF0ZVRpbGVzZXQodSksdGhpcy5wcm9wcy5vblRpbGVzZXRMb2FkKHUpO2Nhc2UgMTQ6Y2FzZSJlbmQiOnJldHVybiB0LnN0b3AoKX19KSx0LHRoaXMpfSkpKSxmdW5jdGlvbih0KXtyZXR1cm4gbi5hcHBseSh0aGlzLGFyZ3VtZW50cyl9KX0se2tleToiX29uVGlsZUxvYWQiLHZhbHVlOmZ1bmN0aW9uKHQpe3RoaXMucHJvcHMub25UaWxlTG9hZCh0KSx0aGlzLl91cGRhdGVUaWxlc2V0KHRoaXMuc3RhdGUudGlsZXNldDNkKSx0aGlzLnNldE5lZWRzVXBkYXRlKCl9fSx7a2V5OiJfb25UaWxlVW5sb2FkIix2YWx1ZTpmdW5jdGlvbih0KXtkZWxldGUgdGhpcy5zdGF0ZS5sYXllck1hcFt0LmlkXSx0aGlzLnByb3BzLm9uVGlsZVVubG9hZCh0KX19LHtrZXk6Il91cGRhdGVUaWxlc2V0Iix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLmNvbnRleHQsbj1lLnRpbWVsaW5lLHI9ZS52aWV3cG9ydDtpZihuJiZyJiZ0KXt2YXIgaT10LnVwZGF0ZShyKTt0aGlzLnN0YXRlLmZyYW1lTnVtYmVyIT09aSYmdGhpcy5zZXRTdGF0ZSh7ZnJhbWVOdW1iZXI6aX0pfX19LHtrZXk6Il9jcmVhdGUzRFRpbGVMYXllciIsdmFsdWU6ZnVuY3Rpb24odCl7aWYoIXQuY29udGVudClyZXR1cm4gbnVsbDtzd2l0Y2godC50eXBlKXtjYXNlIFVyOnJldHVybiB0aGlzLl9jcmVhdGVQb2ludENsb3VkVGlsZUxheWVyKHQpO2Nhc2UgQnI6cmV0dXJuIHRoaXMuX2NyZWF0ZTNETW9kZWxUaWxlTGF5ZXIodCk7Y2FzZSBWcjpyZXR1cm4gdGhpcy5fY3JlYXRlU2ltcGxlTWVzaExheWVyKHQpO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKCJUaWxlM0RMYXllcjogRmFpbGVkIHRvIHJlbmRlciBsYXllciBvZiB0eXBlICIuY29uY2F0KHQuY29udGVudC50eXBlKSl9fX0se2tleToiX2NyZWF0ZVBvaW50Q2xvdWRUaWxlTGF5ZXIiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXQuY29udGVudCxuPWUuYXR0cmlidXRlcyxyPWUucG9pbnRDb3VudCxpPWUuY29uc3RhbnRSR0JBLGE9ZS5jYXJ0b2dyYXBoaWNPcmlnaW4sbz1lLm1vZGVsTWF0cml4LHM9bi5wb3NpdGlvbnMsdT1uLm5vcm1hbHMsYz1uLmNvbG9ycztpZighcylyZXR1cm4gbnVsbDt2YXIgbD10aGlzLnByb3BzLGg9bC5wb2ludFNpemUsZj1sLmdldFBvaW50Q29sb3I7cmV0dXJuIG5ldyh0aGlzLmdldFN1YkxheWVyQ2xhc3MoInBvaW50Y2xvdWQiLEx0LmEpKSh7cG9pbnRTaXplOmh9LHRoaXMuZ2V0U3ViTGF5ZXJQcm9wcyh7aWQ6InBvaW50Y2xvdWQifSkse2lkOiIiLmNvbmNhdCh0aGlzLmlkLCItcG9pbnRjbG91ZC0iKS5jb25jYXQodC5pZCksZGF0YTp7aGVhZGVyOnt2ZXJ0ZXhDb3VudDpyfSxhdHRyaWJ1dGVzOntQT1NJVElPTjpzLE5PUk1BTDp1LENPTE9SXzA6Y319LGNvb3JkaW5hdGVTeXN0ZW06Q3QuYS5NRVRFUl9PRkZTRVRTLGNvb3JkaW5hdGVPcmlnaW46YSxtb2RlbE1hdHJpeDpvLGdldENvbG9yOml8fGZ9KX19LHtrZXk6Il9jcmVhdGUzRE1vZGVsVGlsZUxheWVyIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10LmNvbnRlbnQsbj1lLmdsdGYscj1lLmluc3RhbmNlcyxpPWUuY2FydG9ncmFwaGljT3JpZ2luLGE9ZS5tb2RlbE1hdHJpeDtyZXR1cm4gbmV3KHRoaXMuZ2V0U3ViTGF5ZXJDbGFzcygic2NlbmVncmFwaCIsSXQuYSkpKHtfbGlnaHRpbmc6InBiciJ9LHRoaXMuZ2V0U3ViTGF5ZXJQcm9wcyh7aWQ6InNjZW5lZ3JhcGgifSkse2lkOiIiLmNvbmNhdCh0aGlzLmlkLCItc2NlbmVncmFwaC0iKS5jb25jYXQodC5pZCksZGF0YTpyfHxbe31dLHNjZW5lZ3JhcGg6bixjb29yZGluYXRlU3lzdGVtOkN0LmEuTUVURVJfT0ZGU0VUUyxjb29yZGluYXRlT3JpZ2luOmksbW9kZWxNYXRyaXg6YSxnZXRUcmFuc2Zvcm1NYXRyaXg6ZnVuY3Rpb24odCl7cmV0dXJuIHQubW9kZWxNYXRyaXh9LGdldFBvc2l0aW9uOmZ1bmN0aW9uKHQpe3JldHVyblswLDAsMF19fSl9fSx7a2V5OiJfY3JlYXRlU2ltcGxlTWVzaExheWVyIix2YWx1ZTpmdW5jdGlvbih0KXtmb3IodmFyIGU9dC5jb250ZW50LG49ZS5hdHRyaWJ1dGVzLHI9ZS5tb2RlbE1hdHJpeCxpPWUuY2FydG9ncmFwaGljT3JpZ2luLGE9ZS50ZXh0dXJlLG89bi5ub3JtYWxzLHM9bi50ZXhDb29yZHMsdT1uZXcgRmxvYXQzMkFycmF5KG4ucG9zaXRpb25zLnZhbHVlLmxlbmd0aCksYz0wO2M8dS5sZW5ndGg7Yys9Myl2cy5jb3B5KG4ucG9zaXRpb25zLnZhbHVlLnN1YmFycmF5KGMsYyszKSksdS5zZXQodnMsYyk7dmFyIGw9bmV3IE10LmEoe2RyYXdNb2RlOjQsYXR0cmlidXRlczp7cG9zaXRpb25zOnUsbm9ybWFsczpvLHRleENvb3JkczpzfX0pO3JldHVybiBuZXcodGhpcy5nZXRTdWJMYXllckNsYXNzKCJtZXNoIixSdC5hKSkodGhpcy5nZXRTdWJMYXllclByb3BzKHtpZDoibWVzaCJ9KSx7aWQ6IiIuY29uY2F0KHRoaXMuaWQsIi1tZXNoLSIpLmNvbmNhdCh0LmlkKSxtZXNoOmwsZGF0YTpbe31dLGdldFBvc2l0aW9uOlswLDAsMF0sZ2V0Q29sb3I6WzI1NSwyNTUsMjU1XSx0ZXh0dXJlOmEsbW9kZWxNYXRyaXg6cixjb29yZGluYXRlT3JpZ2luOmksY29vcmRpbmF0ZVN5c3RlbTpDdC5hLk1FVEVSX09GRlNFVFN9KX19LHtrZXk6InJlbmRlckxheWVycyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLGU9dGhpcy5zdGF0ZSxuPWUudGlsZXNldDNkLHI9ZS5sYXllck1hcDtyZXR1cm4gbj9uLnRpbGVzLm1hcCgoZnVuY3Rpb24oZSl7dmFyIG49cltlLmlkXSYmcltlLmlkXS5sYXllcjtyZXR1cm4gZS5zZWxlY3RlZD8obnx8KG49dC5fY3JlYXRlM0RUaWxlTGF5ZXIoZSkscltlLmlkXT17bGF5ZXI6bix0aWxlOmV9KSxuJiZuLnByb3BzJiYhbi5wcm9wcy52aXNpYmxlJiYobj1uLmNsb25lKHt2aXNpYmxlOiEwfSkscltlLmlkXS5sYXllcj1uKSxuKToobiYmbi5wcm9wcyYmbi5wcm9wcy52aXNpYmxlJiYobj1uLmNsb25lKHt2aXNpYmxlOiExfSkscltlLmlkXS5sYXllcj1uKSxuKX0pKS5maWx0ZXIoQm9vbGVhbik6bnVsbH19XSksZX0ody5hKTtncy5sYXllck5hbWU9IlRpbGUzRExheWVyIixncy5kZWZhdWx0UHJvcHM9cHM7dmFyIHlzPW4oMTUxKTtjbGFzcyBtc3tjb25zdHJ1Y3Rvcih0PTI1Nyl7dGhpcy5ncmlkU2l6ZT10O2NvbnN0IGU9dC0xO2lmKGUmZS0xKXRocm93IG5ldyBFcnJvcihgRXhwZWN0ZWQgZ3JpZCBzaXplIHRvIGJlIDJebisxLCBnb3QgJHt0fS5gKTt0aGlzLm51bVRyaWFuZ2xlcz1lKmUqMi0yLHRoaXMubnVtUGFyZW50VHJpYW5nbGVzPXRoaXMubnVtVHJpYW5nbGVzLWUqZSx0aGlzLmluZGljZXM9bmV3IFVpbnQzMkFycmF5KHRoaXMuZ3JpZFNpemUqdGhpcy5ncmlkU2l6ZSksdGhpcy5jb29yZHM9bmV3IFVpbnQxNkFycmF5KDQqdGhpcy5udW1UcmlhbmdsZXMpO2ZvcihsZXQgdD0wO3Q8dGhpcy5udW1UcmlhbmdsZXM7dCsrKXtsZXQgbj10KzIscj0wLGk9MCxhPTAsbz0wLHM9MCx1PTA7Zm9yKDEmbj9hPW89cz1lOnI9aT11PWU7KG4+Pj0xKT4xOyl7Y29uc3QgdD1yK2E+PjEsZT1pK28+PjE7MSZuPyhhPXIsbz1pLHI9cyxpPXUpOihyPWEsaT1vLGE9cyxvPXUpLHM9dCx1PWV9Y29uc3QgYz00KnQ7dGhpcy5jb29yZHNbYyswXT1yLHRoaXMuY29vcmRzW2MrMV09aSx0aGlzLmNvb3Jkc1tjKzJdPWEsdGhpcy5jb29yZHNbYyszXT1vfX1jcmVhdGVUaWxlKHQpe3JldHVybiBuZXcgYnModCx0aGlzKX19Y2xhc3MgYnN7Y29uc3RydWN0b3IodCxlKXtjb25zdCBuPWUuZ3JpZFNpemU7aWYodC5sZW5ndGghPT1uKm4pdGhyb3cgbmV3IEVycm9yKGBFeHBlY3RlZCB0ZXJyYWluIGRhdGEgb2YgbGVuZ3RoICR7bipufSAoJHtufSB4ICR7bn0pLCBnb3QgJHt0Lmxlbmd0aH0uYCk7dGhpcy50ZXJyYWluPXQsdGhpcy5tYXJ0aW5pPWUsdGhpcy5lcnJvcnM9bmV3IEZsb2F0MzJBcnJheSh0Lmxlbmd0aCksdGhpcy51cGRhdGUoKX11cGRhdGUoKXtjb25zdHtudW1UcmlhbmdsZXM6dCxudW1QYXJlbnRUcmlhbmdsZXM6ZSxjb29yZHM6bixncmlkU2l6ZTpyfT10aGlzLm1hcnRpbmkse3RlcnJhaW46aSxlcnJvcnM6YX09dGhpcztmb3IobGV0IG89dC0xO28+PTA7by0tKXtjb25zdCB0PTQqbyxzPW5bdCswXSx1PW5bdCsxXSxjPW5bdCsyXSxsPW5bdCszXSxoPXMrYz4+MSxmPXUrbD4+MSxkPWgrZi11LHY9ZitzLWgscD0oaVt1KnIrc10raVtsKnIrY10pLzIsZz1mKnIraCx5PU1hdGguYWJzKHAtaVtnXSk7aWYoYVtnXT1NYXRoLm1heChhW2ddLHkpLG88ZSl7Y29uc3QgdD0odSt2Pj4xKSpyKyhzK2Q+PjEpLGU9KGwrdj4+MSkqcisoYytkPj4xKTthW2ddPU1hdGgubWF4KGFbZ10sYVt0XSxhW2VdKX19fWdldE1lc2godD0wKXtjb25zdHtncmlkU2l6ZTplLGluZGljZXM6bn09dGhpcy5tYXJ0aW5pLHtlcnJvcnM6cn09dGhpcztsZXQgaT0wLGE9MDtjb25zdCBvPWUtMTtmdW5jdGlvbiBzKG8sdSxjLGwsaCxmKXtjb25zdCBkPW8rYz4+MSx2PXUrbD4+MTtNYXRoLmFicyhvLWgpK01hdGguYWJzKHUtZik+MSYmclt2KmUrZF0+dD8ocyhoLGYsbyx1LGQsdikscyhjLGwsaCxmLGQsdikpOihuW3UqZStvXT1uW3UqZStvXXx8KytpLG5bbCplK2NdPW5bbCplK2NdfHwrK2ksbltmKmUraF09bltmKmUraF18fCsraSxhKyspfW4uZmlsbCgwKSxzKDAsMCxvLG8sbywwKSxzKG8sbywwLDAsMCxvKTtjb25zdCB1PW5ldyBVaW50MTZBcnJheSgyKmkpLGM9bmV3IFVpbnQzMkFycmF5KDMqYSk7bGV0IGw9MDtmdW5jdGlvbiBoKGksYSxvLHMsZixkKXtjb25zdCB2PWkrbz4+MSxwPWErcz4+MTtpZihNYXRoLmFicyhpLWYpK01hdGguYWJzKGEtZCk+MSYmcltwKmUrdl0+dCloKGYsZCxpLGEsdixwKSxoKG8scyxmLGQsdixwKTtlbHNle2NvbnN0IHQ9blthKmUraV0tMSxyPW5bcyplK29dLTEsaD1uW2QqZStmXS0xO3VbMip0XT1pLHVbMip0KzFdPWEsdVsyKnJdPW8sdVsyKnIrMV09cyx1WzIqaF09Zix1WzIqaCsxXT1kLGNbbCsrXT10LGNbbCsrXT1yLGNbbCsrXT1ofX1yZXR1cm4gaCgwLDAsbyxvLG8sMCksaChvLG8sMCwwLDAsbykse3ZlcnRpY2VzOnUsdHJpYW5nbGVzOmN9fX12YXIgX3M9bigxODIpO2Z1bmN0aW9uIE9zKHQsZSl7aWYobnVsbD09PXQpcmV0dXJuIG51bGw7dmFyIG49ZS5tZXNoTWF4RXJyb3Iscj1lLmJvdW5kcyxpPWUuZWxldmF0aW9uRGVjb2RlcixhPXQuZGF0YSxvPXQud2lkdGgscz1vKzEsdT1mdW5jdGlvbih0LGUsbil7Zm9yKHZhciByPW4uclNjYWxlcixpPW4uYlNjYWxlcixhPW4uZ1NjYWxlcixvPW4ub2Zmc2V0LHM9ZSsxLHU9bmV3IEZsb2F0MzJBcnJheShzKnMpLGM9MCxsPTA7bDxlO2wrKylmb3IodmFyIGg9MDtoPGU7aCsrLGMrKyl7dmFyIGY9NCpjLGQ9dFtmKzBdLHY9dFtmKzFdLHA9dFtmKzJdO3VbYytsXT1kKnIrdiphK3AqaStvfWZvcih2YXIgZz1zKihzLTEpLHk9MDt5PHMtMTt5KyssZysrKXVbZ109dVtnLXNdO2Zvcih2YXIgbT1zLTEsYj0wO2I8cztiKyssbSs9cyl1W21dPXVbbS0xXTtyZXR1cm4gdX0oYSxvLGkpLGM9bmV3IG1zKHMpLmNyZWF0ZVRpbGUodSkuZ2V0TWVzaChuKSxsPWMudmVydGljZXMsaD1jLnRyaWFuZ2xlcyxmPWZ1bmN0aW9uKHQsZSxuLHIpe2Zvcih2YXIgaT1uKzEsYT10Lmxlbmd0aC8yLG89bmV3IEZsb2F0MzJBcnJheSgzKmEpLHM9bmV3IEZsb2F0MzJBcnJheSgyKmEpLHU9cnx8WzAsMCxuLG5dLGM9T2JqZWN0KFZ0LmEpKHUsNCksbD1jWzBdLGg9Y1sxXSxmPWNbMl0sZD1jWzNdLHY9KGYtbCkvbixwPShkLWgpL24sZz0wO2c8YTtnKyspe3ZhciB5PXRbMipnXSxtPXRbMipnKzFdLGI9bSppK3k7b1szKmcrMF09eSp2K2wsb1szKmcrMV09LW0qcCtkLG9bMypnKzJdPWVbYl0sc1syKmcrMF09eS9uLHNbMipnKzFdPW0vbn1yZXR1cm57UE9TSVRJT046e3ZhbHVlOm8sc2l6ZTozfSxURVhDT09SRF8wOnt2YWx1ZTpzLHNpemU6Mn19fShsLHUsbyxyKTtyZXR1cm57bG9hZGVyRGF0YTp7aGVhZGVyOnt9fSxoZWFkZXI6e3ZlcnRleENvdW50OmgubGVuZ3RoLGJvdW5kaW5nQm94Ok9iamVjdChfcy5hKShmKX0sbW9kZTo0LGluZGljZXM6e3ZhbHVlOmgsc2l6ZToxfSxhdHRyaWJ1dGVzOmZ9fWZ1bmN0aW9uIHhzKCl7cmV0dXJuKHhzPU9iamVjdChEdC5hKShTdC5hLm1hcmsoKGZ1bmN0aW9uIHQoZSxuLHIpe3ZhciBpO3JldHVybiBTdC5hLndyYXAoKGZ1bmN0aW9uKHQpe2Zvcig7Oylzd2l0Y2godC5wcmV2PXQubmV4dCl7Y2FzZSAwOnJldHVybiBuLmltYWdlPW4uaW1hZ2V8fHt9LG4uaW1hZ2UudHlwZT0iZGF0YSIsdC5uZXh0PTQsci5wYXJzZShlLG4sbi5iYXNlVXJpKTtjYXNlIDQ6cmV0dXJuIGk9dC5zZW50LHQuYWJydXB0KCJyZXR1cm4iLE9zKGksbi50ZXJyYWluKSk7Y2FzZSA2OmNhc2UiZW5kIjpyZXR1cm4gdC5zdG9wKCl9fSksdCl9KSkpKS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZnVuY3Rpb24gd3ModCxlKXt2YXIgbj1PYmplY3Qua2V5cyh0KTtpZihPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgcj1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHQpO2UmJihyPXIuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0LGUpLmVudW1lcmFibGV9KSkpLG4ucHVzaC5hcHBseShuLHIpfXJldHVybiBufXZhciBrcz1mdW5jdGlvbih0KXtmb3IodmFyIGU9MTtlPGFyZ3VtZW50cy5sZW5ndGg7ZSsrKXt2YXIgbj1udWxsIT1hcmd1bWVudHNbZV0/YXJndW1lbnRzW2VdOnt9O2UlMj93cyhPYmplY3QobiksITApLmZvckVhY2goKGZ1bmN0aW9uKGUpe09iamVjdChGdC5hKSh0LGUsbltlXSl9KSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXModCxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhuKSk6d3MoT2JqZWN0KG4pKS5mb3JFYWNoKChmdW5jdGlvbihlKXtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxlLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IobixlKSl9KSl9cmV0dXJuIHR9KHt9LHtpZDoidGVycmFpbiIsbmFtZToiVGVycmFpbiIsdmVyc2lvbjoiMi4xLjEiLGV4dGVuc2lvbnM6WyJwbmciLCJwbmdyYXciXSxtaW1lVHlwZToiaW1hZ2UvcG5nIixvcHRpb25zOnt0ZXJyYWluOnt3b3JrZXJVcmw6Imh0dHBzOi8vdW5wa2cuY29tL0Bsb2FkZXJzLmdsL3RlcnJhaW5AIi5jb25jYXQoIjIuMS4xIiwiL2Rpc3QvdGVycmFpbi1sb2FkZXIud29ya2VyLmpzIiksbWVzaE1heEVycm9yOjEwLGVsZXZhdGlvbkRlY29kZXI6e3JTY2FsZXI6MSxnU2NhbGVyOjAsYlNjYWxlcjowLG9mZnNldDowfX19fSx7cGFyc2U6ZnVuY3Rpb24odCxlLG4pe3JldHVybiB4cy5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fSk7ZnVuY3Rpb24gU3ModCxlKXt2YXIgbj1PYmplY3Qua2V5cyh0KTtpZihPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgcj1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHQpO2UmJihyPXIuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0LGUpLmVudW1lcmFibGV9KSkpLG4ucHVzaC5hcHBseShuLHIpfXJldHVybiBufXZhciBQcz1bMV0sanM9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPTE7ZTxhcmd1bWVudHMubGVuZ3RoO2UrKyl7dmFyIG49bnVsbCE9YXJndW1lbnRzW2VdP2FyZ3VtZW50c1tlXTp7fTtlJTI/U3MoT2JqZWN0KG4pLCEwKS5mb3JFYWNoKChmdW5jdGlvbihlKXtqdCgpKHQsZSxuW2VdKX0pKTpPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycz9PYmplY3QuZGVmaW5lUHJvcGVydGllcyh0LE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKG4pKTpTcyhPYmplY3QobikpLmZvckVhY2goKGZ1bmN0aW9uKGUpe09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LGUsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihuLGUpKX0pKX1yZXR1cm4gdH0oe30sdXQuZGVmYXVsdFByb3BzLHtlbGV2YXRpb25EYXRhOnEsdGV4dHVyZTpxLG1lc2hNYXhFcnJvcjp7dHlwZToibnVtYmVyIix2YWx1ZTo0fSxib3VuZHM6e3R5cGU6ImFycmF5Iix2YWx1ZTpudWxsLG9wdGlvbmFsOiEwLGNvbXBhcmU6ITB9LGNvbG9yOnt0eXBlOiJjb2xvciIsdmFsdWU6WzI1NSwyNTUsMjU1XX0sZWxldmF0aW9uRGVjb2Rlcjp7dHlwZToib2JqZWN0Iix2YWx1ZTp7clNjYWxlcjoxLGdTY2FsZXI6MCxiU2NhbGVyOjAsb2Zmc2V0OjB9fSx3b3JrZXJVcmw6e3R5cGU6InN0cmluZyIsdmFsdWU6bnVsbH0sd2lyZWZyYW1lOiExLG1hdGVyaWFsOiEwfSk7ZnVuY3Rpb24gVHModCl7cmV0dXJuIEFycmF5LmlzQXJyYXkodCk/dC5qb2luKCI7Iik6dH12YXIgRXM9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3JldHVybiB1KCkodGhpcyxlKSxmKCkodGhpcyx2KCkoZSkuYXBwbHkodGhpcyxhcmd1bWVudHMpKX1yZXR1cm4gbSgpKGUsdCksbCgpKGUsW3trZXk6InVwZGF0ZVN0YXRlIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10LnByb3BzLG49dC5vbGRQcm9wcyxyPWUuZWxldmF0aW9uRGF0YSE9PW4uZWxldmF0aW9uRGF0YTtpZihyKXt2YXIgaT1lLmVsZXZhdGlvbkRhdGEsYT1pJiYoQXJyYXkuaXNBcnJheShpKXx8aS5pbmNsdWRlcygie3h9IikmJmkuaW5jbHVkZXMoInt5fSIpKTt0aGlzLnNldFN0YXRlKHtpc1RpbGVkOmF9KX12YXIgbz1yfHxlLm1lc2hNYXhFcnJvciE9PW4ubWVzaE1heEVycm9yfHxlLmVsZXZhdGlvbkRlY29kZXIhPT1uLmVsZXZhdGlvbkRlY29kZXJ8fGUuYm91bmRzIT09bi5ib3VuZHM7aWYoIXRoaXMuc3RhdGUuaXNUaWxlZCYmbyl7dmFyIHM9dGhpcy5sb2FkVGVycmFpbihlKTt0aGlzLnNldFN0YXRlKHt0ZXJyYWluOnN9KX19fSx7a2V5OiJsb2FkVGVycmFpbiIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dC5lbGV2YXRpb25EYXRhLG49dC5ib3VuZHMscj10LmVsZXZhdGlvbkRlY29kZXIsaT10Lm1lc2hNYXhFcnJvcixhPXQud29ya2VyVXJsO2lmKCFlKXJldHVybiBudWxsO3ZhciBvPXt0ZXJyYWluOntib3VuZHM6bixtZXNoTWF4RXJyb3I6aSxlbGV2YXRpb25EZWNvZGVyOnJ9fTtyZXR1cm4gbnVsbCE9PWEmJihvLnRlcnJhaW4ud29ya2VyVXJsPWEpLE9iamVjdChOdC5hKShlLGtzLG8pfX0se2tleToiZ2V0VGlsZWRUZXJyYWluRGF0YSIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5wcm9wcyxuPWUuZWxldmF0aW9uRGF0YSxyPWUudGV4dHVyZSxpPWUuZWxldmF0aW9uRGVjb2RlcixhPWUubWVzaE1heEVycm9yLG89ZS53b3JrZXJVcmwscz1YKG4sdCksdT1YKHIsdCksYz10LmJib3gsbD10LnosaD1uZXcgeXMuYSh7bG9uZ2l0dWRlOihjLndlc3QrYy5lYXN0KS8yLGxhdGl0dWRlOihjLm5vcnRoK2Muc291dGgpLzIsem9vbTpsfSksZj1oLnByb2plY3RGbGF0KFtjLndlc3QsYy5zb3V0aF0pLGQ9aC5wcm9qZWN0RmxhdChbYy5lYXN0LGMubm9ydGhdKSx2PVtmWzBdLGZbMV0sZFswXSxkWzFdXSxwPXRoaXMubG9hZFRlcnJhaW4oe2VsZXZhdGlvbkRhdGE6cyxib3VuZHM6dixlbGV2YXRpb25EZWNvZGVyOmksbWVzaE1heEVycm9yOmEsd29ya2VyVXJsOm99KSxnPXU/T2JqZWN0KE50LmEpKHUpLmNhdGNoKChmdW5jdGlvbih0KXtyZXR1cm4gbnVsbH0pKTpQcm9taXNlLnJlc29sdmUobnVsbCk7cmV0dXJuIFByb21pc2UuYWxsKFtwLGddKX19LHtrZXk6InJlbmRlclN1YkxheWVycyIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5nZXRTdWJMYXllckNsYXNzKCJtZXNoIixSdC5hKSxuPXQuZGF0YSxyPXQuY29sb3IsaT1udWxsLGE9bnVsbDtyZXR1cm4gQXJyYXkuaXNBcnJheShuKT8oaT1uWzBdLGE9blsxXSk6biYmKGk9bi50aGVuKChmdW5jdGlvbih0KXtyZXR1cm4gdCYmdFswXX0pKSxhPW4udGhlbigoZnVuY3Rpb24odCl7cmV0dXJuIHQmJnRbMV19KSkpLG5ldyBlKHQse2RhdGE6UHMsbWVzaDppLHRleHR1cmU6YSxjb29yZGluYXRlU3lzdGVtOkN0LmEuQ0FSVEVTSUFOLGdldFBvc2l0aW9uOmZ1bmN0aW9uKHQpe3JldHVyblswLDAsMF19LGdldENvbG9yOnJ9KX19LHtrZXk6Im9uVmlld3BvcnRMb2FkIix2YWx1ZTpmdW5jdGlvbih0KXtpZih0JiYwIT09dC5sZW5ndGgmJiF0LmV2ZXJ5KChmdW5jdGlvbih0KXtyZXR1cm4hdH0pKSl7dmFyIGU9dGhpcy5zdGF0ZS56UmFuZ2Usbj10Lm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIHRbMF0uaGVhZGVyLmJvdW5kaW5nQm94Lm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIHRbMl19KSl9KSkscj1NYXRoLm1pbi5hcHBseShNYXRoLFcoKShuLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIHRbMF19KSkpKSxpPU1hdGgubWF4LmFwcGx5KE1hdGgsVygpKG4ubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gdFsxXX0pKSkpOyghZXx8cjxlWzBdfHxpPmVbMV0pJiZ0aGlzLnNldFN0YXRlKHt6UmFuZ2U6W3IsaV19KX19fSx7a2V5OiJyZW5kZXJMYXllcnMiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5wcm9wcyxlPXQuY29sb3Isbj10Lm1hdGVyaWFsLHI9dC5lbGV2YXRpb25EYXRhLGk9dC50ZXh0dXJlLGE9dC53aXJlZnJhbWUsbz10Lm1lc2hNYXhFcnJvcixzPXQuZWxldmF0aW9uRGVjb2RlcjtyZXR1cm4gdGhpcy5zdGF0ZS5pc1RpbGVkP25ldyB1dCh0aGlzLmdldFN1YkxheWVyUHJvcHMoe2lkOiJ0aWxlcyJ9KSx7d2lyZWZyYW1lOmEsY29sb3I6ZSxtYXRlcmlhbDpuLGdldFRpbGVEYXRhOnRoaXMuZ2V0VGlsZWRUZXJyYWluRGF0YS5iaW5kKHRoaXMpLHJlbmRlclN1YkxheWVyczp0aGlzLnJlbmRlclN1YkxheWVycy5iaW5kKHRoaXMpLHVwZGF0ZVRyaWdnZXJzOntnZXRUaWxlRGF0YTp7ZWxldmF0aW9uRGF0YTpUcyhyKSx0ZXh0dXJlOlRzKGkpLG1lc2hNYXhFcnJvcjpvLGVsZXZhdGlvbkRlY29kZXI6c319LG9uVmlld3BvcnRMb2FkOnRoaXMub25WaWV3cG9ydExvYWQuYmluZCh0aGlzKSx6UmFuZ2U6dGhpcy5zdGF0ZS56UmFuZ2V8fG51bGx9KTpuZXcodGhpcy5nZXRTdWJMYXllckNsYXNzKCJtZXNoIixSdC5hKSkodGhpcy5nZXRTdWJMYXllclByb3BzKHtpZDoibWVzaCJ9KSx7ZGF0YTpQcyxtZXNoOnRoaXMuc3RhdGUudGVycmFpbix0ZXh0dXJlOmksX2luc3RhbmNlZDohMSxnZXRQb3NpdGlvbjpmdW5jdGlvbih0KXtyZXR1cm5bMCwwLDBdfSxnZXRDb2xvcjplLG1hdGVyaWFsOm4sd2lyZWZyYW1lOmF9KX19XSksZX0ody5hKTtFcy5sYXllck5hbWU9IlRlcnJhaW5MYXllciIsRXMuZGVmYXVsdFByb3BzPWpzO3ZhciBBcz1uKDIyOSksTXM9bigyMzApLENzPW4ubihNcyksTHM9WyJVbmtub3duIiwiUG9pbnQiLCJMaW5lU3RyaW5nIiwiUG9seWdvbiJdO2Z1bmN0aW9uIElzKHQsZSl7Zm9yKHZhciBuPTA7bjx0Lmxlbmd0aDtuKyspe3ZhciByPXRbbl07dFtuXT1bci54L2UuZXh0ZW50LHIueS9lLmV4dGVudF19fWZ1bmN0aW9uIFJzKHQpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTpmdW5jdGlvbih0LGUpe3JldHVybiB0fTtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgbj1Mc1t0LnR5cGVdLHI9dC5sb2FkR2VvbWV0cnkoKTtzd2l0Y2godC50eXBlKXtjYXNlIDE6Zm9yKHZhciBpPVtdLGE9MDthPHIubGVuZ3RoO2ErKylpW2FdPXJbYV1bMF07ZShyPWksdCk7YnJlYWs7Y2FzZSAyOmZvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKWUocltvXSx0KTticmVhaztjYXNlIDM6cj1EcyhyKTtmb3IodmFyIHM9MDtzPHIubGVuZ3RoO3MrKylmb3IodmFyIHU9MDt1PHJbc10ubGVuZ3RoO3UrKyllKHJbc11bdV0sdCl9cmV0dXJuIE5zKG4sdCxyKX0oKX1mdW5jdGlvbiBOcyh0LGUsbil7dmFyIHI9dDsxPT09bi5sZW5ndGg/bj1uWzBdOnI9Ik11bHRpIi5jb25jYXQodCk7dmFyIGk9e3R5cGU6IkZlYXR1cmUiLGdlb21ldHJ5Ont0eXBlOnIsY29vcmRpbmF0ZXM6bn0scHJvcGVydGllczplLnByb3BlcnRpZXN8fHt9fTtyZXR1cm4iaWQiaW4gZSYmKGkuaWQ9ZS5pZCksaX1mdW5jdGlvbiBEcyh0KXt2YXIgZT10Lmxlbmd0aDtpZihlPD0xKXJldHVyblt0XTtmb3IodmFyIG4scixpPVtdLGE9MDthPGU7YSsrKXt2YXIgbz1Gcyh0W2FdKTswIT09byYmKHZvaWQgMD09PXImJihyPW88MCkscj09PW88MD8obiYmaS5wdXNoKG4pLG49W3RbYV1dKTpuLnB1c2godFthXSkpfXJldHVybiBuJiZpLnB1c2gobiksaX1mdW5jdGlvbiBGcyh0KXtmb3IodmFyIGUsbixyPXQubGVuZ3RoLGk9MCxhPTAsbz1yLTE7YTxyO289YSsrKWU9dFthXSxpKz0oKG49dFtvXSkueC1lLngpKihlLnkrbi55KTtyZXR1cm4gaX1mdW5jdGlvbiB6cyh0LGUpe3ZhciBuPU9iamVjdC5rZXlzKHQpO2lmKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciByPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHModCk7ZSYmKHI9ci5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHQsZSkuZW51bWVyYWJsZX0pKSksbi5wdXNoLmFwcGx5KG4scil9cmV0dXJuIG59ZnVuY3Rpb24gQnModCxlKXtpZigwPT09dC5ieXRlTGVuZ3RoKXJldHVybltdO3ZhciBuPW5ldyBBcy5WZWN0b3JUaWxlKG5ldyBDcy5hKHQpKSxyPWUubXZ0LGk9W107cmV0dXJuKEFycmF5LmlzQXJyYXkoci5sYXllcnMpP3IubGF5ZXJzOk9iamVjdC5rZXlzKG4ubGF5ZXJzKSkuZm9yRWFjaCgoZnVuY3Rpb24odCl7dmFyIGU9bi5sYXllcnNbdF0sYT1mdW5jdGlvbih0KXtmb3IodmFyIGU9MTtlPGFyZ3VtZW50cy5sZW5ndGg7ZSsrKXt2YXIgbj1udWxsIT1hcmd1bWVudHNbZV0/YXJndW1lbnRzW2VdOnt9O2UlMj96cyhPYmplY3QobiksITApLmZvckVhY2goKGZ1bmN0aW9uKGUpe09iamVjdChGdC5hKSh0LGUsbltlXSl9KSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXModCxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhuKSk6enMoT2JqZWN0KG4pKS5mb3JFYWNoKChmdW5jdGlvbihlKXtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxlLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IobixlKSl9KSl9cmV0dXJuIHR9KHt9LHIse2xheWVyTmFtZTp0fSk7aWYoZSlmb3IodmFyIG89MDtvPGUubGVuZ3RoO28rKyl7dmFyIHM9VXMoZS5mZWF0dXJlKG8pLGEpO2kucHVzaChzKX19KSksaX1mdW5jdGlvbiBVcyh0KXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06e30sbj0id2dzODQiPT09ZS5jb29yZGluYXRlcyxyPWUudGlsZUluZGV4JiZlLnRpbGVJbmRleC54JiZlLnRpbGVJbmRleC55JiZlLnRpbGVJbmRleC56O2lmKG4mJiFyKXRocm93IG5ldyBFcnJvcigiTVZUIExvYWRlcjogV0dTODQgY29vcmRpbmF0ZXMgbmVlZCB0aWxlSW5kZXggcHJvcGVydHkuIENoZWNrIGRvY3VtZW50YXRpb24uIik7dmFyIGk9biYmcj90LnRvR2VvSlNPTihlLnRpbGVJbmRleC54LGUudGlsZUluZGV4LnksZS50aWxlSW5kZXgueik6UnModCxJcyk7cmV0dXJuIGUubGF5ZXJQcm9wZXJ0eSYmKGkucHJvcGVydGllc1tlLmxheWVyUHJvcGVydHldPWUubGF5ZXJOYW1lKSxpfWZ1bmN0aW9uIFZzKHQsZSl7dmFyIG49T2JqZWN0LmtleXModCk7aWYoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyl7dmFyIHI9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyh0KTtlJiYocj1yLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodCxlKS5lbnVtZXJhYmxlfSkpKSxuLnB1c2guYXBwbHkobixyKX1yZXR1cm4gbn12YXIgR3MsV3M9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPTE7ZTxhcmd1bWVudHMubGVuZ3RoO2UrKyl7dmFyIG49bnVsbCE9YXJndW1lbnRzW2VdP2FyZ3VtZW50c1tlXTp7fTtlJTI/VnMoT2JqZWN0KG4pLCEwKS5mb3JFYWNoKChmdW5jdGlvbihlKXtPYmplY3QoRnQuYSkodCxlLG5bZV0pfSkpOk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzP09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHQsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMobikpOlZzKE9iamVjdChuKSkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsZSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG4sZSkpfSkpfXJldHVybiB0fSh7fSx7aWQ6Im12dCIsbmFtZToiTWFwYm94IFZlY3RvciBUaWxlIix2ZXJzaW9uOiIyLjEuMSIsZXh0ZW5zaW9uczpbIm12dCJdLG1pbWVUeXBlOiJhcHBsaWNhdGlvbi94LXByb3RvYnVmIixjYXRlZ29yeToiZ2VvbWV0cnkiLG9wdGlvbnM6e212dDp7Y29vcmRpbmF0ZXM6ImxvY2FsIixsYXllclByb3BlcnR5OiJsYXllck5hbWUiLGxheWVyczpudWxsLHRpbGVJbmRleDpudWxsLHdvcmtlclVybDoiaHR0cHM6Ly91bnBrZy5jb20vQGxvYWRlcnMuZ2wvbXZ0QCIuY29uY2F0KCIyLjEuMSIsIi9kaXN0L212dC1sb2FkZXIud29ya2VyLmpzIil9fX0se3BhcnNlOihHcz1PYmplY3QoRHQuYSkoU3QuYS5tYXJrKChmdW5jdGlvbiB0KGUsbil7cmV0dXJuIFN0LmEud3JhcCgoZnVuY3Rpb24odCl7Zm9yKDs7KXN3aXRjaCh0LnByZXY9dC5uZXh0KXtjYXNlIDA6cmV0dXJuIHQuYWJydXB0KCJyZXR1cm4iLEJzKGUsbikpO2Nhc2UgMTpjYXNlImVuZCI6cmV0dXJuIHQuc3RvcCgpfX0pLHQpfSkpKSxmdW5jdGlvbih0LGUpe3JldHVybiBHcy5hcHBseSh0aGlzLGFyZ3VtZW50cyl9KSxwYXJzZVN5bmM6QnMsYmluYXJ5OiEwfSksSHM9bigyMDMpLHFzPXtjbGlwQm91bmRzOlswLDAsMSwxXX0sWHM9IlxudW5pZm9ybSB2ZWM0IGNsaXBfYm91bmRzO1xuXG5ib29sIGNsaXBfaXNJbkJvdW5kcyh2ZWMyIHBvc2l0aW9uKSB7XG4gIHJldHVybiBwb3NpdGlvbi54ID49IGNsaXBfYm91bmRzWzBdICYmIHBvc2l0aW9uLnkgPj0gY2xpcF9ib3VuZHNbMV0gJiYgcG9zaXRpb24ueCA8IGNsaXBfYm91bmRzWzJdICYmIHBvc2l0aW9uLnkgPCBjbGlwX2JvdW5kc1szXTtcbn1cbiIsWnM9e25hbWU6ImNsaXAtdnMiLHZzOlhzfSxZcz17InZzOiNkZWNsIjoiXG52YXJ5aW5nIGZsb2F0IGNsaXBfaXNWaXNpYmxlO1xuIiwidnM6REVDS0dMX0ZJTFRFUl9HTF9QT1NJVElPTiI6IlxuICBjbGlwX2lzVmlzaWJsZSA9IGZsb2F0KGNsaXBfaXNJbkJvdW5kcyhnZW9tZXRyeS53b3JsZFBvc2l0aW9uLnh5KSk7XG4iLCJmczojZGVjbCI6IlxudmFyeWluZyBmbG9hdCBjbGlwX2lzVmlzaWJsZTtcbiIsImZzOkRFQ0tHTF9GSUxURVJfQ09MT1IiOiJcbiAgaWYgKGNsaXBfaXNWaXNpYmxlIDwgMC41KSBkaXNjYXJkO1xuIn0sS3M9e25hbWU6ImNsaXAtZnMiLGZzOlhzfSxRcz17InZzOiNkZWNsIjoiXG52YXJ5aW5nIHZlYzIgY2xpcF9jb21tb25Qb3NpdGlvbjtcbiIsInZzOkRFQ0tHTF9GSUxURVJfR0xfUE9TSVRJT04iOiJcbiAgY2xpcF9jb21tb25Qb3NpdGlvbiA9IGdlb21ldHJ5LnBvc2l0aW9uLnh5O1xuIiwiZnM6I2RlY2wiOiJcbnZhcnlpbmcgdmVjMiBjbGlwX2NvbW1vblBvc2l0aW9uO1xuIiwiZnM6REVDS0dMX0ZJTFRFUl9DT0xPUiI6IlxuICBpZiAoIWNsaXBfaXNJbkJvdW5kcyhjbGlwX2NvbW1vblBvc2l0aW9uKSkgZGlzY2FyZDtcbiJ9LEpzPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXtyZXR1cm4gdSgpKHRoaXMsZSksZigpKHRoaXMsdigpKGUpLmFwcGx5KHRoaXMsYXJndW1lbnRzKSl9cmV0dXJuIG0oKShlLHQpLGwoKShlLFt7a2V5OiJnZXRTaGFkZXJzIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PSJpbnN0YW5jZVBvc2l0aW9ucyJpbiB0aGlzLmdldEF0dHJpYnV0ZU1hbmFnZXIoKS5hdHRyaWJ1dGVzO3JldHVybiJjbGlwQnlJbnN0YW5jZSJpbiB0aGlzLnByb3BzJiYodD10aGlzLnByb3BzLmNsaXBCeUluc3RhbmNlKSx0aGlzLnN0YXRlLmNsaXBCeUluc3RhbmNlPXQsdD97bW9kdWxlczpbWnNdLGluamVjdDpZc306e21vZHVsZXM6W0tzXSxpbmplY3Q6UXN9fX0se2tleToiZHJhdyIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dC51bmlmb3JtcyxuPXRoaXMucHJvcHMuY2xpcEJvdW5kcyxyPXZvaWQgMD09PW4/cXMuY2xpcEJvdW5kczpuO2lmKHRoaXMuc3RhdGUuY2xpcEJ5SW5zdGFuY2UpZS5jbGlwX2JvdW5kcz1yO2Vsc2V7dmFyIGk9dGhpcy5wcm9qZWN0UG9zaXRpb24oW3JbMF0sclsxXSwwXSksYT10aGlzLnByb2plY3RQb3NpdGlvbihbclsyXSxyWzNdLDBdKTtlLmNsaXBfYm91bmRzPVtNYXRoLm1pbihpWzBdLGFbMF0pLE1hdGgubWluKGlbMV0sYVsxXSksTWF0aC5tYXgoaVswXSxhWzBdKSxNYXRoLm1heChpWzFdLGFbMV0pXX19fV0pLGV9KEhzLmEpO0pzLmV4dGVuc2lvbk5hbWU9IkNsaXBFeHRlbnNpb24iLEpzLmRlZmF1bHRQcm9wcz1xczt2YXIgJHM9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3JldHVybiB1KCkodGhpcyxlKSxmKCkodGhpcyx2KCkoZSkuYXBwbHkodGhpcyxhcmd1bWVudHMpKX1yZXR1cm4gbSgpKGUsdCksbCgpKGUsW3trZXk6ImdldFRpbGVEYXRhIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT1YKHRoaXMucHJvcHMuZGF0YSx0KTtyZXR1cm4gZT9PYmplY3QoTnQuYSkoZSxXcyx0aGlzLmdldExvYWRPcHRpb25zKCkpOlByb21pc2UucmVqZWN0KCJJbnZhbGlkIFVSTCIpfX0se2tleToicmVuZGVyU3ViTGF5ZXJzIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgbj10LnRpbGUscj1NYXRoLnBvdygyLG4ueiksaT01MTIvcixhPS1pLG89NTEyKm4ueC9yLHM9NTEyKigxLW4ueS9yKSx1PShuZXcgZ3QuYSkudHJhbnNsYXRlKFtvLHMsMF0pLnNjYWxlKFtpLGEsMV0pO3JldHVybiB0Lm1vZGVsTWF0cml4PXUsdC5jb29yZGluYXRlU3lzdGVtPUN0LmEuQ0FSVEVTSUFOLHQuZXh0ZW5zaW9ucz1bXS5jb25jYXQoVygpKHQuZXh0ZW5zaW9uc3x8W10pLFtuZXcgSnNdKSxnKCkodigpKGUucHJvdG90eXBlKSwicmVuZGVyU3ViTGF5ZXJzIix0aGlzKS5jYWxsKHRoaXMsdCl9fV0pLGV9KHV0KTskcy5sYXllck5hbWU9Ik1WVExheWVyIixuLmQoZSwiR3JlYXRDaXJjbGVMYXllciIsKGZ1bmN0aW9uKCl7cmV0dXJuIHh9KSksbi5kKGUsIlMyTGF5ZXIiLChmdW5jdGlvbigpe3JldHVybiBGfSkpLG4uZChlLCJUaWxlTGF5ZXIiLChmdW5jdGlvbigpe3JldHVybiB1dH0pKSxuLmQoZSwiVHJpcHNMYXllciIsKGZ1bmN0aW9uKCl7cmV0dXJuIGN0fSkpLG4uZChlLCJIM0NsdXN0ZXJMYXllciIsKGZ1bmN0aW9uKCl7cmV0dXJuIGR0fSkpLG4uZChlLCJIM0hleGFnb25MYXllciIsKGZ1bmN0aW9uKCl7cmV0dXJuIHd0fSkpLG4uZChlLCJUaWxlM0RMYXllciIsKGZ1bmN0aW9uKCl7cmV0dXJuIGdzfSkpLG4uZChlLCJUZXJyYWluTGF5ZXIiLChmdW5jdGlvbigpe3JldHVybiBFc30pKSxuLmQoZSwiTVZUTGF5ZXIiLChmdW5jdGlvbigpe3JldHVybiAkc30pKX0sZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0IjtuLnIoZSk7dmFyIHIsaSxhPW4oNCksbz1uLm4oYSkscz1uKDEpLHU9bi5uKHMpLGM9bigyKSxsPW4ubihjKSxoPW4oOSksZj1uLm4oaCksZD1uKDMpLHY9bi5uKGQpLHA9bigxMiksZz1uLm4ocCkseT1uKDEwKSxtPW4ubih5KSxiPW4oMjMpLF89bigxODcpLE89bigyNzUpLHg9bigxMSksdz1uKDE5MSksaz1uKDE3NSksUz1uKDI5MSksUD1uKDI5Miksaj1uKDE1NiksVD1uKDIwMiksRT17U1VNOjEsTUVBTjoyLE1JTjozLE1BWDo0fTtmdW5jdGlvbiBBKHQsZSl7cmV0dXJuIHQrZX1mdW5jdGlvbiBNKHQsZSl7cmV0dXJuIGU+dD9lOnR9ZnVuY3Rpb24gQyh0LGUpe3JldHVybiBlPHQ/ZTp0fWZ1bmN0aW9uIEwodCxlKXtzd2l0Y2goRVt0XXx8RS5TVU0pe2Nhc2UgRS5NSU46cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbih0LGUpe3ZhciBuPXQubWFwKGUpLmZpbHRlcihOdW1iZXIuaXNGaW5pdGUpO3JldHVybiBuLmxlbmd0aD9uLnJlZHVjZShDLDEvMCk6bnVsbH0odCxlKX07Y2FzZSBFLlNVTTpyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKHQsZSl7dmFyIG49dC5tYXAoZSkuZmlsdGVyKE51bWJlci5pc0Zpbml0ZSk7cmV0dXJuIG4ubGVuZ3RoP24ucmVkdWNlKEEsMCk6bnVsbH0odCxlKX07Y2FzZSBFLk1FQU46cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbih0LGUpe3ZhciBuPXQubWFwKGUpLmZpbHRlcihOdW1iZXIuaXNGaW5pdGUpO3JldHVybiBuLmxlbmd0aD9uLnJlZHVjZShBLDApL24ubGVuZ3RoOm51bGx9KHQsZSl9O2Nhc2UgRS5NQVg6cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbih0LGUpe3ZhciBuPXQubWFwKGUpLmZpbHRlcihOdW1iZXIuaXNGaW5pdGUpO3JldHVybiBuLmxlbmd0aD9uLnJlZHVjZShNLC0xLzApOm51bGx9KHQsZSl9O2RlZmF1bHQ6cmV0dXJuIG51bGx9fXZhciBJLFI9e3Byb2plY3RQb2ludHM6ITEsdmlld3BvcnQ6bnVsbCxjcmVhdGVCdWZmZXJPYmplY3RzOiEwLG1vZHVsZVNldHRpbmdzOnt9fSxOPVszMjc3NSwzMjc3NF0sRD1bMzI3NzYsMzI3NzRdLEY9WzMyNzc2LDMyNzc1XSx6PShyPXt9LG8oKShyLEUuU1VNLDMyNzc0KSxvKCkocixFLk1FQU4sMzI3NzQpLG8oKShyLEUuTUlOLE4pLG8oKShyLEUuTUFYLEQpLHIpLEI9e3NpemU6MSxvcGVyYXRpb246RS5TVU0sbmVlZE1pbjohMSxuZWVkTWF4OiExLGNvbWJpbmVNYXhNaW46ITF9LFU9KGk9e30sbygpKGksMTAyNDAsOTcyOCksbygpKGksMTAyNDEsOTcyOCksbigxMjcpKSxWPW4oODIpLEc9KEk9e30sbygpKEksMTAyNDAsOTcyOCksbygpKEksMTAyNDEsOTcyOCksSSk7ZnVuY3Rpb24gVyh0KXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06e30sbj1lLndpZHRoLHI9dm9pZCAwPT09bj8xOm4saT1lLmhlaWdodCxhPXZvaWQgMD09PWk/MTppLG89ZS5kYXRhLHM9dm9pZCAwPT09bz9udWxsOm8sdT1lLnVucGFja0ZsaXBZLGM9dm9pZCAwPT09dXx8dSxsPWUucGFyYW1ldGVycyxoPXZvaWQgMD09PWw/RzpsLGY9bmV3IFUuYSh0LHtkYXRhOnMsZm9ybWF0Ok9iamVjdCh4LmcpKHQpPzM0ODM2OjY0MDgsdHlwZTo1MTI2LGJvcmRlcjowLG1pcG1hcHM6ITEscGFyYW1ldGVyczpoLGRhdGFGb3JtYXQ6NjQwOCx3aWR0aDpyLGhlaWdodDphLHVucGFja0ZsaXBZOmN9KTtyZXR1cm4gZn1mdW5jdGlvbiBIKHQsZSl7dmFyIG49ZS5pZCxyPWUud2lkdGgsaT12b2lkIDA9PT1yPzE6cixhPWUuaGVpZ2h0LHM9dm9pZCAwPT09YT8xOmEsdT1lLnRleHR1cmU7cmV0dXJuIG5ldyBWLmEodCx7aWQ6bix3aWR0aDppLGhlaWdodDpzLGF0dGFjaG1lbnRzOm8oKSh7fSwzNjA2NCx1KX0pfWZ1bmN0aW9uIHEodCxlKXt2YXIgbj1PYmplY3Qua2V5cyh0KTtpZihPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgcj1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHQpO2UmJihyPXIuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0LGUpLmVudW1lcmFibGV9KSkpLG4ucHVzaC5hcHBseShuLHIpfXJldHVybiBufXZhciBYPVsiYWdncmVnYXRpb25CdWZmZXIiLCJtYXhNaW5CdWZmZXIiLCJtaW5CdWZmZXIiLCJtYXhCdWZmZXIiXSxaPXttYXhEYXRhOiJtYXhCdWZmZXIiLG1pbkRhdGE6Im1pbkJ1ZmZlciIsbWF4TWluRGF0YToibWF4TWluQnVmZmVyIn0sWT1bXy5hLldFQkdMMixfLmEuQ09MT1JfQVRUQUNITUVOVF9SR0JBMzJGLF8uYS5CTEVORF9FUVVBVElPTl9NSU5NQVgsXy5hLkZMT0FUX0JMRU5ELF8uYS5URVhUVVJFX0ZMT0FUXSxLPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlKXt2YXIgbj1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06e307dSgpKHRoaXMsdCksdGhpcy5pZD1uLmlkfHwiZ3B1LWdyaWQtYWdncmVnYXRvciIsdGhpcy5nbD1lLHRoaXMuc3RhdGU9e3dlaWdodEF0dHJpYnV0ZXM6e30sdGV4dHVyZXM6e30sbWVhblRleHR1cmVzOnt9LGJ1ZmZlcnM6e30sZnJhbWVidWZmZXJzOnt9LG1heE1pbkZyYW1lYnVmZmVyczp7fSxtaW5GcmFtZWJ1ZmZlcnM6e30sbWF4RnJhbWVidWZmZXJzOnt9LGVxdWF0aW9uczp7fSxyZXNvdXJjZXM6e30scmVzdWx0czp7fX0sdGhpcy5faGFzR1BVU3VwcG9ydD1PYmplY3QoeC5nKShlKSYmT2JqZWN0KE8uYykodGhpcy5nbCxfLmEuQkxFTkRfRVFVQVRJT05fTUlOTUFYLF8uYS5DT0xPUl9BVFRBQ0hNRU5UX1JHQkEzMkYsXy5hLlRFWFRVUkVfRkxPQVQpLHRoaXMuX2hhc0dQVVN1cHBvcnQmJnRoaXMuX3NldHVwTW9kZWxzKCl9cmV0dXJuIGwoKSh0LG51bGwsW3trZXk6ImdldEFnZ3JlZ2F0aW9uRGF0YSIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dC5hZ2dyZWdhdGlvbkRhdGEsbj10Lm1heERhdGEscj10Lm1pbkRhdGEsaT10Lm1heE1pbkRhdGEsYT00KnQucGl4ZWxJbmRleCxvPXt9O3JldHVybiBlJiYoby5jZWxsQ291bnQ9ZVthKzNdLG8uY2VsbFdlaWdodD1lW2FdKSxpPyhvLm1heENlbGxXaWVnaHQ9aVswXSxvLm1pbkNlbGxXZWlnaHQ9aVszXSk6KG4mJihvLm1heENlbGxXaWVnaHQ9blswXSxvLnRvdGFsQ291bnQ9blszXSksciYmKG8ubWluQ2VsbFdlaWdodD1yWzBdLG8udG90YWxDb3VudD1uWzNdKSksb319LHtrZXk6ImdldENlbGxEYXRhIix2YWx1ZTpmdW5jdGlvbih0KXtmb3IodmFyIGU9dC5jb3VudHNEYXRhLG49dC5zaXplLHI9dm9pZCAwPT09bj8xOm4saT1lLmxlbmd0aC80LGE9bmV3IEZsb2F0MzJBcnJheShpKnIpLG89bmV3IFVpbnQzMkFycmF5KGkpLHM9MDtzPGk7cysrKXtmb3IodmFyIHU9MDt1PHI7dSsrKWFbcypyK3VdPWVbNCpzK3VdO29bc109ZVs0KnMrM119cmV0dXJue2NlbGxDb3VudHM6byxjZWxsV2VpZ2h0czphfX19LHtrZXk6ImlzU3VwcG9ydGVkIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0KE8uYykodCxZKX19XSksbCgpKHQsW3trZXk6ImRlbGV0ZSIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmdyaWRBZ2dyZWdhdGlvbk1vZGVsLGU9dGhpcy5hbGxBZ2dyZWdhdGlvbk1vZGVsLG49dGhpcy5tZWFuVHJhbnNmb3JtLHI9dGhpcy5zdGF0ZSxpPXIudGV4dHVyZXMsYT1yLmZyYW1lYnVmZmVycyxvPXIubWF4TWluRnJhbWVidWZmZXJzLHM9ci5taW5GcmFtZWJ1ZmZlcnMsdT1yLm1heEZyYW1lYnVmZmVycyxjPXIubWVhblRleHR1cmVzLGw9ci5yZXNvdXJjZXM7dCYmdC5kZWxldGUoKSxlJiZlLmRlbGV0ZSgpLG4mJm4uZGVsZXRlKCksZnVuY3Rpb24odCl7KHQ9QXJyYXkuaXNBcnJheSh0KT90Olt0XSkuZm9yRWFjaCgoZnVuY3Rpb24odCl7Zm9yKHZhciBlIGluIHQpdFtlXS5kZWxldGUoKX0pKX0oW2EsaSxvLHMsdSxjLGxdKX19LHtrZXk6InJ1biIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e307dGhpcy5zZXRTdGF0ZSh7cmVzdWx0czp7fX0pO3ZhciBlPXRoaXMuX25vcm1hbGl6ZUFnZ3JlZ2F0aW9uUGFyYW1zKHQpO3JldHVybiB0aGlzLl9oYXNHUFVTdXBwb3J0fHxiLmEubG9nKDEsIkdQVUdyaWRBZ2dyZWdhdG9yOiBub3Qgc3VwcG9ydGVkIikoKSx0aGlzLl9ydW5BZ2dyZWdhdGlvbihlKX19LHtrZXk6ImdldERhdGEiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXt9LG49dGhpcy5zdGF0ZS5yZXN1bHRzO2Zvcih2YXIgciBpbiBuW3RdLmFnZ3JlZ2F0aW9uRGF0YXx8KG5bdF0uYWdncmVnYXRpb25EYXRhPW5bdF0uYWdncmVnYXRpb25CdWZmZXIuZ2V0RGF0YSgpKSxlLmFnZ3JlZ2F0aW9uRGF0YT1uW3RdLmFnZ3JlZ2F0aW9uRGF0YSxaKXt2YXIgaT1aW3JdOyhuW3RdW3JdfHxuW3RdW2ldKSYmKG5bdF1bcl09blt0XVtyXXx8blt0XVtpXS5nZXREYXRhKCksZVtyXT1uW3RdW3JdKX1yZXR1cm4gZX19LHtrZXk6InVwZGF0ZVNoYWRlcnMiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9O3RoaXMuc2V0U3RhdGUoe3NoYWRlck9wdGlvbnM6dCxtb2RlbERpcnR5OiEwfSl9fSx7a2V5OiJfbm9ybWFsaXplQWdncmVnYXRpb25QYXJhbXMiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPU9iamVjdC5hc3NpZ24oe30sUix0KSxuPWUud2VpZ2h0cztyZXR1cm4gbiYmKGUud2VpZ2h0cz1mdW5jdGlvbih0KXt2YXIgZT17fTtmb3IodmFyIG4gaW4gdCllW25dPU9iamVjdC5hc3NpZ24oe30sQix0W25dKTtyZXR1cm4gZX0obikpLGV9fSx7a2V5OiJzZXRTdGF0ZSIsdmFsdWU6ZnVuY3Rpb24odCl7T2JqZWN0LmFzc2lnbih0aGlzLnN0YXRlLHQpfX0se2tleToiX2dldEFnZ3JlZ2F0ZURhdGEiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXt9LG49dGhpcy5zdGF0ZSxyPW4udGV4dHVyZXMsaT1uLmZyYW1lYnVmZmVycyxhPW4ubWF4TWluRnJhbWVidWZmZXJzLG89bi5taW5GcmFtZWJ1ZmZlcnMscz1uLm1heEZyYW1lYnVmZmVycyx1PW4ucmVzb3VyY2VzLGM9dC53ZWlnaHRzO2Zvcih2YXIgbCBpbiBjKXtlW2xdPXt9O3ZhciBoPWNbbF0sZj1oLm5lZWRNaW4sZD1oLm5lZWRNYXgsdj1oLmNvbWJpbmVNYXhNaW47ZVtsXS5hZ2dyZWdhdGlvblRleHR1cmU9cltsXSxlW2xdLmFnZ3JlZ2F0aW9uQnVmZmVyPU9iamVjdCh3LmQpKGlbbF0se3RhcmdldDpjW2xdLmFnZ3JlZ2F0aW9uQnVmZmVyLHNvdXJjZVR5cGU6NTEyNn0pLGYmJmQmJnY/KGVbbF0ubWF4TWluQnVmZmVyPU9iamVjdCh3LmQpKGFbbF0se3RhcmdldDpjW2xdLm1heE1pbkJ1ZmZlcixzb3VyY2VUeXBlOjUxMjZ9KSxlW2xdLm1heE1pblRleHR1cmU9dVsiIi5jb25jYXQobCwiLW1heE1pblRleHR1cmUiKV0pOihmJiYoZVtsXS5taW5CdWZmZXI9T2JqZWN0KHcuZCkob1tsXSx7dGFyZ2V0OmNbbF0ubWluQnVmZmVyLHNvdXJjZVR5cGU6NTEyNn0pLGVbbF0ubWluVGV4dHVyZT11WyIiLmNvbmNhdChsLCItbWluVGV4dHVyZSIpXSksZCYmKGVbbF0ubWF4QnVmZmVyPU9iamVjdCh3LmQpKHNbbF0se3RhcmdldDpjW2xdLm1heEJ1ZmZlcixzb3VyY2VUeXBlOjUxMjZ9KSxlW2xdLm1heFRleHR1cmU9dVsiIi5jb25jYXQobCwiLW1heFRleHR1cmUiKV0pKX1yZXR1cm4gdGhpcy5fdHJhY2tHUFVSZXN1bHRCdWZmZXJzKGUsYyksZX19LHtrZXk6Il9yZW5kZXJBZ2dyZWdhdGVEYXRhIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10LmNlbGxTaXplLG49dC5wcm9qZWN0UG9pbnRzLHI9dC5hdHRyaWJ1dGVzLGk9dC5tb2R1bGVTZXR0aW5ncyxhPXQubnVtQ29sLG89dC5udW1Sb3cscz10LndlaWdodHMsdT10LnRyYW5zbGF0aW9uLGM9dC5zY2FsaW5nLGw9dGhpcy5zdGF0ZSxoPWwubWF4TWluRnJhbWVidWZmZXJzLGY9bC5taW5GcmFtZWJ1ZmZlcnMsZD1sLm1heEZyYW1lYnVmZmVycyx2PVthLG9dLHA9e2JsZW5kOiEwLGRlcHRoVGVzdDohMSxibGVuZEZ1bmM6WzEsMV19LGc9e2NlbGxTaXplOmUsZ3JpZFNpemU6dixwcm9qZWN0UG9pbnRzOm4sdHJhbnNsYXRpb246dSxzY2FsaW5nOmN9O2Zvcih2YXIgeSBpbiBzKXt2YXIgbT1zW3ldLGI9bS5uZWVkTWluLF89bS5uZWVkTWF4LE89YiYmXyYmc1t5XS5jb21iaW5lTWF4TWluO3RoaXMuX3JlbmRlclRvV2VpZ2h0c1RleHR1cmUoe2lkOnkscGFyYW1ldGVyczpwLG1vZHVsZVNldHRpbmdzOmksdW5pZm9ybXM6ZyxncmlkU2l6ZTp2LGF0dHJpYnV0ZXM6cix3ZWlnaHRzOnN9KSxPP3RoaXMuX3JlbmRlclRvTWF4TWluVGV4dHVyZSh7aWQ6eSxwYXJhbWV0ZXJzOk9iamVjdC5hc3NpZ24oe30scCx7YmxlbmRFcXVhdGlvbjpGfSksZ3JpZFNpemU6dixtaW5Pck1heEZiOmhbeV0sY2xlYXJQYXJhbXM6e2NsZWFyQ29sb3I6WzAsMCwwLDM0MDI4MjM0NjZlMjldfSxjb21iaW5lTWF4TWluOk99KTooYiYmdGhpcy5fcmVuZGVyVG9NYXhNaW5UZXh0dXJlKHtpZDp5LHBhcmFtZXRlcnM6T2JqZWN0LmFzc2lnbih7fSxwLHtibGVuZEVxdWF0aW9uOk59KSxncmlkU2l6ZTp2LG1pbk9yTWF4RmI6Zlt5XSxjbGVhclBhcmFtczp7Y2xlYXJDb2xvcjpbMzQwMjgyMzQ2NmUyOSwzNDAyODIzNDY2ZTI5LDM0MDI4MjM0NjZlMjksMF19LGNvbWJpbmVNYXhNaW46T30pLF8mJnRoaXMuX3JlbmRlclRvTWF4TWluVGV4dHVyZSh7aWQ6eSxwYXJhbWV0ZXJzOk9iamVjdC5hc3NpZ24oe30scCx7YmxlbmRFcXVhdGlvbjpEfSksZ3JpZFNpemU6dixtaW5Pck1heEZiOmRbeV0sY2xlYXJQYXJhbXM6e2NsZWFyQ29sb3I6WzAsMCwwLDBdfSxjb21iaW5lTWF4TWluOk99KSl9fX0se2tleToiX3JlbmRlclRvTWF4TWluVGV4dHVyZSIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dC5pZCxuPXQucGFyYW1ldGVycyxyPXQuZ3JpZFNpemUsaT10Lm1pbk9yTWF4RmIsYT10LmNvbWJpbmVNYXhNaW4sbz10LmNsZWFyUGFyYW1zLHM9dm9pZCAwPT09bz97fTpvLHU9dGhpcy5zdGF0ZS5mcmFtZWJ1ZmZlcnMsYz10aGlzLmdsLGw9dGhpcy5hbGxBZ2dyZWdhdGlvbk1vZGVsO2kuYmluZCgpLGMudmlld3BvcnQoMCwwLHJbMF0sclsxXSksT2JqZWN0KHgubCkoYyxzLChmdW5jdGlvbigpe2MuY2xlYXIoMTYzODQpfSkpLGwuZHJhdyh7cGFyYW1ldGVyczpuLHVuaWZvcm1zOnt1U2FtcGxlcjp1W2VdLnRleHR1cmUsZ3JpZFNpemU6cixjb21iaW5lTWF4TWluOmF9fSksaS51bmJpbmQoKX19LHtrZXk6Il9yZW5kZXJUb1dlaWdodHNUZXh0dXJlIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10LmlkLG49dC5wYXJhbWV0ZXJzLHI9dC5tb2R1bGVTZXR0aW5ncyxpPXQudW5pZm9ybXMsYT10LmdyaWRTaXplLHM9dC53ZWlnaHRzLHU9dGhpcy5zdGF0ZSxjPXUuZnJhbWVidWZmZXJzLGw9dS5lcXVhdGlvbnMsaD11LndlaWdodEF0dHJpYnV0ZXMsZj10aGlzLmdsLGQ9dGhpcy5ncmlkQWdncmVnYXRpb25Nb2RlbCx2PXNbZV0ub3BlcmF0aW9uO2NbZV0uYmluZCgpLGYudmlld3BvcnQoMCwwLGFbMF0sYVsxXSk7dmFyIHA9dj09PUUuTUlOP1szNDAyODIzNDY2ZTI5LDM0MDI4MjM0NjZlMjksMzQwMjgyMzQ2NmUyOSwwXTpbMCwwLDAsMF07T2JqZWN0KHgubCkoZix7Y2xlYXJDb2xvcjpwfSwoZnVuY3Rpb24oKXtmLmNsZWFyKDE2Mzg0KX0pKTt2YXIgZz17d2VpZ2h0czpoW2VdfTtpZihkLmRyYXcoe3BhcmFtZXRlcnM6T2JqZWN0LmFzc2lnbih7fSxuLHtibGVuZEVxdWF0aW9uOmxbZV19KSxtb2R1bGVTZXR0aW5nczpyLHVuaWZvcm1zOmksYXR0cmlidXRlczpnfSksY1tlXS51bmJpbmQoKSx2PT09RS5NRUFOKXt2YXIgeT10aGlzLnN0YXRlLG09eS5tZWFuVGV4dHVyZXMsYj15LnRleHR1cmVzLF89e19zb3VyY2VUZXh0dXJlczp7YWdncmVnYXRpb25WYWx1ZXM6bVtlXX0sX3RhcmdldFRleHR1cmU6YltlXSxlbGVtZW50Q291bnQ6YltlXS53aWR0aCpiW2VdLmhlaWdodH07dGhpcy5tZWFuVHJhbnNmb3JtP3RoaXMubWVhblRyYW5zZm9ybS51cGRhdGUoXyk6dGhpcy5tZWFuVHJhbnNmb3JtPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIG5ldyBTLmEodCxPYmplY3QuYXNzaWduKHt9LHt2czoiI2RlZmluZSBTSEFERVJfTkFNRSBncHUtYWdncmVnYXRpb24tdHJhbnNmb3JtLW1lYW4tdnNcbmF0dHJpYnV0ZSB2ZWM0IGFnZ3JlZ2F0aW9uVmFsdWVzO1xudmFyeWluZyB2ZWM0IG1lYW5WYWx1ZXM7XG5cbnZvaWQgbWFpbigpXG57XG4gIGJvb2wgaXNDZWxsVmFsaWQgPSBib29sKGFnZ3JlZ2F0aW9uVmFsdWVzLncgPiAwLik7XG4gIG1lYW5WYWx1ZXMueHl6ID0gaXNDZWxsVmFsaWQgPyBhZ2dyZWdhdGlvblZhbHVlcy54eXovYWdncmVnYXRpb25WYWx1ZXMudyA6IHZlYzMoMCwgMCwgMCk7XG4gIG1lYW5WYWx1ZXMudyA9IGFnZ3JlZ2F0aW9uVmFsdWVzLnc7XG59XG4iLF90YXJnZXRUZXh0dXJlVmFyeWluZzoibWVhblZhbHVlcyJ9LGUpKX0oZixfKSx0aGlzLm1lYW5UcmFuc2Zvcm0ucnVuKHtwYXJhbWV0ZXJzOntibGVuZDohMSxkZXB0aFRlc3Q6ITF9fSksY1tlXS5hdHRhY2gobygpKHt9LDM2MDY0LGJbZV0pKX19fSx7a2V5OiJfcnVuQWdncmVnYXRpb24iLHZhbHVlOmZ1bmN0aW9uKHQpe3RoaXMuX3VwZGF0ZU1vZGVscyh0KSx0aGlzLl9zZXR1cEZyYW1lYnVmZmVycyh0KSx0aGlzLl9yZW5kZXJBZ2dyZWdhdGVEYXRhKHQpO3ZhciBlPXRoaXMuX2dldEFnZ3JlZ2F0ZURhdGEodCk7cmV0dXJuIHRoaXMuc2V0U3RhdGUoe3Jlc3VsdHM6ZX0pLGV9fSx7a2V5OiJfc2V0dXBGcmFtZWJ1ZmZlcnMiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuc3RhdGUsbj1lLnRleHR1cmVzLHI9ZS5mcmFtZWJ1ZmZlcnMsaT1lLm1heE1pbkZyYW1lYnVmZmVycyxhPWUubWluRnJhbWVidWZmZXJzLHM9ZS5tYXhGcmFtZWJ1ZmZlcnMsdT1lLm1lYW5UZXh0dXJlcyxjPWUuZXF1YXRpb25zLGw9dC53ZWlnaHRzLGg9dC5udW1Db2wsZj10Lm51bVJvdyxkPXt3aWR0aDpoLGhlaWdodDpmfTtmb3IodmFyIHYgaW4gbCl7dmFyIHA9bFt2XSxnPXAubmVlZE1pbix5PXAubmVlZE1heCxtPXAuY29tYmluZU1heE1pbixiPXAub3BlcmF0aW9uO25bdl09bFt2XS5hZ2dyZWdhdGlvblRleHR1cmV8fG5bdl18fFcodGhpcy5nbCx7aWQ6IiIuY29uY2F0KHYsIi10ZXh0dXJlIiksd2lkdGg6aCxoZWlnaHQ6Zn0pLG5bdl0ucmVzaXplKGQpO3ZhciBfPW5bdl07Yj09PUUuTUVBTiYmKHVbdl09dVt2XXx8Vyh0aGlzLmdsLHtpZDoiIi5jb25jYXQodiwiLW1lYW4tdGV4dHVyZSIpLHdpZHRoOmgsaGVpZ2h0OmZ9KSx1W3ZdLnJlc2l6ZShkKSxfPXVbdl0pLHJbdl0/clt2XS5hdHRhY2gobygpKHt9LDM2MDY0LF8pKTpyW3ZdPUgodGhpcy5nbCx7aWQ6IiIuY29uY2F0KHYsIi1mYiIpLHdpZHRoOmgsaGVpZ2h0OmYsdGV4dHVyZTpffSksclt2XS5yZXNpemUoZCksY1t2XT16W2JdfHx6LlNVTSwoZ3x8eSkmJihnJiZ5JiZtP2lbdl18fChfPWxbdl0ubWF4TWluVGV4dHVyZXx8dGhpcy5fZ2V0TWluTWF4VGV4dHVyZSgiIi5jb25jYXQodiwiLW1heE1pblRleHR1cmUiKSksaVt2XT1IKHRoaXMuZ2wse2lkOiIiLmNvbmNhdCh2LCItbWF4TWluRmIiKSx0ZXh0dXJlOl99KSk6KGcmJihhW3ZdfHwoXz1sW3ZdLm1pblRleHR1cmV8fHRoaXMuX2dldE1pbk1heFRleHR1cmUoIiIuY29uY2F0KHYsIi1taW5UZXh0dXJlIikpLGFbdl09SCh0aGlzLmdsLHtpZDoiIi5jb25jYXQodiwiLW1pbkZiIiksdGV4dHVyZTpffSkpKSx5JiYoc1t2XXx8KF89bFt2XS5tYXhUZXh0dXJlfHx0aGlzLl9nZXRNaW5NYXhUZXh0dXJlKCIiLmNvbmNhdCh2LCItbWF4VGV4dHVyZSIpKSxzW3ZdPUgodGhpcy5nbCx7aWQ6IiIuY29uY2F0KHYsIi1tYXhGYiIpLHRleHR1cmU6X30pKSkpKX19fSx7a2V5OiJfZ2V0TWluTWF4VGV4dHVyZSIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5zdGF0ZS5yZXNvdXJjZXM7cmV0dXJuIGVbdF18fChlW3RdPVcodGhpcy5nbCx7aWQ6InJlc291cmNlTmFtZSJ9KSksZVt0XX19LHtrZXk6Il9zZXR1cE1vZGVscyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e30sZT10Lm51bUNvbCxuPXZvaWQgMD09PWU/MDplLHI9dC5udW1Sb3csaT12b2lkIDA9PT1yPzA6cixhPXRoaXMuZ2wsbz10aGlzLnN0YXRlLnNoYWRlck9wdGlvbnM7aWYodGhpcy5ncmlkQWdncmVnYXRpb25Nb2RlbCYmdGhpcy5ncmlkQWdncmVnYXRpb25Nb2RlbC5kZWxldGUoKSx0aGlzLmdyaWRBZ2dyZWdhdGlvbk1vZGVsPVEoYSxvKSwhdGhpcy5hbGxBZ2dyZWdhdGlvbk1vZGVsKXt2YXIgcz1uKmk7dGhpcy5hbGxBZ2dyZWdhdGlvbk1vZGVsPUooYSxzKX19fSx7a2V5OiJfc2V0dXBXZWlnaHRBdHRyaWJ1dGVzIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLnN0YXRlLndlaWdodEF0dHJpYnV0ZXMsbj10LndlaWdodHM7Zm9yKHZhciByIGluIG4pZVtyXT10LmF0dHJpYnV0ZXNbcl19fSx7a2V5OiJfdHJhY2tHUFVSZXN1bHRCdWZmZXJzIix2YWx1ZTpmdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMuc3RhdGUucmVzb3VyY2VzO2Zvcih2YXIgciBpbiB0KWlmKHRbcl0pe3ZhciBpPSEwLGE9ITEsbz12b2lkIDA7dHJ5e2Zvcih2YXIgcyx1PVhbU3ltYm9sLml0ZXJhdG9yXSgpOyEoaT0ocz11Lm5leHQoKSkuZG9uZSk7aT0hMCl7dmFyIGM9cy52YWx1ZTtpZih0W3JdW2NdJiZlW3JdW2NdIT09dFtyXVtjXSl7dmFyIGw9ImdwdS1yZXN1bHQtIi5jb25jYXQociwiLSIpLmNvbmNhdChjKTtuW2xdJiZuW2xdLmRlbGV0ZSgpLG5bbF09dFtyXVtjXX19fWNhdGNoKHQpe2E9ITAsbz10fWZpbmFsbHl7dHJ5e2l8fG51bGw9PXUucmV0dXJufHx1LnJldHVybigpfWZpbmFsbHl7aWYoYSl0aHJvdyBvfX19fX0se2tleToiX3VwZGF0ZU1vZGVscyIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dC52ZXJ0ZXhDb3VudCxuPXQuYXR0cmlidXRlcyxyPXQubnVtQ29sLGk9dC5udW1Sb3c7dGhpcy5zdGF0ZS5tb2RlbERpcnR5JiYodGhpcy5fc2V0dXBNb2RlbHModCksdGhpcy5zZXRTdGF0ZSh7bW9kZWxEaXJ0eTohMX0pKSx0aGlzLl9zZXR1cFdlaWdodEF0dHJpYnV0ZXModCksdGhpcy5ncmlkQWdncmVnYXRpb25Nb2RlbC5zZXRWZXJ0ZXhDb3VudChlKSx0aGlzLmdyaWRBZ2dyZWdhdGlvbk1vZGVsLnNldEF0dHJpYnV0ZXMobiksdGhpcy5hbGxBZ2dyZWdhdGlvbk1vZGVsLnNldEluc3RhbmNlQ291bnQocippKX19XSksdH0oKTtmdW5jdGlvbiBRKHQsZSl7dmFyIG49T2JqZWN0KGouYSkoe3ZzOiIjZGVmaW5lIFNIQURFUl9OQU1FIGdwdS1hZ2dyZWdhdGlvbi10by1ncmlkLXZzXG5cbmF0dHJpYnV0ZSB2ZWMzIHBvc2l0aW9ucztcbmF0dHJpYnV0ZSB2ZWMzIHBvc2l0aW9uczY0TG93O1xuYXR0cmlidXRlIHZlYzMgd2VpZ2h0cztcbnVuaWZvcm0gdmVjMiBjZWxsU2l6ZTtcbnVuaWZvcm0gdmVjMiBncmlkU2l6ZTtcbnVuaWZvcm0gYm9vbCBwcm9qZWN0UG9pbnRzO1xudW5pZm9ybSB2ZWMyIHRyYW5zbGF0aW9uO1xudW5pZm9ybSB2ZWMzIHNjYWxpbmc7XG5cbnZhcnlpbmcgdmVjMyB2V2VpZ2h0cztcblxudmVjMiBwcm9qZWN0X3RvX3BpeGVsKHZlYzQgcG9zKSB7XG4gIHZlYzQgcmVzdWx0O1xuICBwb3MueHkgPSBwb3MueHkvcG9zLnc7XG4gIHJlc3VsdCA9IHBvcyArIHZlYzQodHJhbnNsYXRpb24sIDAuLCAwLik7XG4gIHJlc3VsdC54eSA9IHNjYWxpbmcueiA+IDAuID8gcmVzdWx0Lnh5ICogc2NhbGluZy54eSA6IHJlc3VsdC54eTtcbiAgcmV0dXJuIHJlc3VsdC54eTtcbn1cblxudm9pZCBtYWluKHZvaWQpIHtcblxuICB2V2VpZ2h0cyA9IHdlaWdodHM7XG5cbiAgdmVjNCB3aW5kb3dQb3MgPSB2ZWM0KHBvc2l0aW9ucywgMS4pO1xuICBpZiAocHJvamVjdFBvaW50cykge1xuICAgIHdpbmRvd1BvcyA9IHByb2plY3RfcG9zaXRpb25fdG9fY2xpcHNwYWNlKHBvc2l0aW9ucywgcG9zaXRpb25zNjRMb3csIHZlYzMoMCkpO1xuICB9XG5cbiAgdmVjMiBwb3MgPSBwcm9qZWN0X3RvX3BpeGVsKHdpbmRvd1Bvcyk7XG5cbiAgdmVjMiBwaXhlbFhZNjRbMl07XG4gIHBpeGVsWFk2NFswXSA9IHZlYzIocG9zLngsIDAuKTtcbiAgcGl4ZWxYWTY0WzFdID0gdmVjMihwb3MueSwgMC4pO1xuICB2ZWMyIGdyaWRYWTY0WzJdO1xuICBncmlkWFk2NFswXSA9IGRpdl9mcDY0KHBpeGVsWFk2NFswXSwgdmVjMihjZWxsU2l6ZS54LCAwKSk7XG4gIGdyaWRYWTY0WzFdID0gZGl2X2ZwNjQocGl4ZWxYWTY0WzFdLCB2ZWMyKGNlbGxTaXplLnksIDApKTtcbiAgZmxvYXQgeCA9IGZsb29yKGdyaWRYWTY0WzBdLngpO1xuICBmbG9hdCB5ID0gZmxvb3IoZ3JpZFhZNjRbMV0ueCk7XG4gIHBvcyA9IHZlYzIoeCwgeSk7XG4gIHBvcyA9IChwb3MgKiAoMi4sIDIuKSAvIChncmlkU2l6ZSkpIC0gKDEuLCAxLik7XG4gIHZlYzIgb2Zmc2V0ID0gMS4wIC8gZ3JpZFNpemU7XG4gIHBvcyA9IHBvcyArIG9mZnNldDtcblxuICBnbF9Qb3NpdGlvbiA9IHZlYzQocG9zLCAwLjAsIDEuMCk7XG4gIGdsX1BvaW50U2l6ZSA9IDEuMDtcbn1cbiIsZnM6IiNkZWZpbmUgU0hBREVSX05BTUUgZ3B1LWFnZ3JlZ2F0aW9uLXRvLWdyaWQtZnNcblxucHJlY2lzaW9uIGhpZ2hwIGZsb2F0O1xuXG52YXJ5aW5nIHZlYzMgdldlaWdodHM7XG5cbnZvaWQgbWFpbih2b2lkKSB7XG4gIGdsX0ZyYWdDb2xvciA9IHZlYzQodldlaWdodHMsIDEuMCk7XG4gIERFQ0tHTF9GSUxURVJfQ09MT1IoZ2xfRnJhZ0NvbG9yLCBnZW9tZXRyeSk7XG59XG4iLG1vZHVsZXM6W1AuYixULmFdfSxlKTtyZXR1cm4gbmV3IGsuYSh0LGZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0xO2U8YXJndW1lbnRzLmxlbmd0aDtlKyspe3ZhciBuPW51bGwhPWFyZ3VtZW50c1tlXT9hcmd1bWVudHNbZV06e307ZSUyP3EoT2JqZWN0KG4pLCEwKS5mb3JFYWNoKChmdW5jdGlvbihlKXtvKCkodCxlLG5bZV0pfSkpOk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzP09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHQsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMobikpOnEoT2JqZWN0KG4pKS5mb3JFYWNoKChmdW5jdGlvbihlKXtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxlLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IobixlKSl9KSl9cmV0dXJuIHR9KHtpZDoiR2lyZC1BZ2dyZWdhdGlvbi1Nb2RlbCIsdmVydGV4Q291bnQ6MSxkcmF3TW9kZTowfSxuKSl9ZnVuY3Rpb24gSih0LGUpe3JldHVybiBuZXcgay5hKHQse2lkOiJBbGwtQWdncmVnYXRpb24tTW9kZWwiLHZzOiIjdmVyc2lvbiAzMDAgZXNcbiNkZWZpbmUgU0hBREVSX05BTUUgZ3B1LWFnZ3JlZ2F0aW9uLWFsbC12cy02NFxuXG5pbiB2ZWMyIHBvc2l0aW9uO1xudW5pZm9ybSBpdmVjMiBncmlkU2l6ZTtcbm91dCB2ZWMyIHZUZXh0dXJlQ29vcmQ7XG5cbnZvaWQgbWFpbih2b2lkKSB7XG4gIHZlYzIgcG9zID0gdmVjMigtMS4wLCAtMS4wKTtcbiAgdmVjMiBvZmZzZXQgPSAxLjAgLyB2ZWMyKGdyaWRTaXplKTtcbiAgcG9zID0gcG9zICsgb2Zmc2V0O1xuXG4gIGdsX1Bvc2l0aW9uID0gdmVjNChwb3MsIDAuMCwgMS4wKTtcblxuICBpbnQgeUluZGV4ID0gZ2xfSW5zdGFuY2VJRCAvIGdyaWRTaXplWzBdO1xuICBpbnQgeEluZGV4ID0gZ2xfSW5zdGFuY2VJRCAtICh5SW5kZXggKiBncmlkU2l6ZVswXSk7XG5cbiAgdmVjMiB5SW5kZXhGUDY0ID0gdmVjMihmbG9hdCh5SW5kZXgpLCAwLik7XG4gIHZlYzIgeEluZGV4RlA2NCA9IHZlYzIoZmxvYXQoeEluZGV4KSwgMC4pO1xuICB2ZWMyIGdyaWRTaXplWUZQNjQgPSB2ZWMyKGdyaWRTaXplWzFdLCAwLik7XG4gIHZlYzIgZ3JpZFNpemVYRlA2NCA9IHZlYzIoZ3JpZFNpemVbMF0sIDAuKTtcblxuICB2ZWMyIHRleENvb3JkWEZQNjQgPSBkaXZfZnA2NCh5SW5kZXhGUDY0LCBncmlkU2l6ZVlGUDY0KTtcbiAgdmVjMiB0ZXhDb29yZFlGUDY0ID0gZGl2X2ZwNjQoeEluZGV4RlA2NCwgZ3JpZFNpemVYRlA2NCk7XG5cbiAgdlRleHR1cmVDb29yZCA9IHZlYzIodGV4Q29vcmRZRlA2NC54LCB0ZXhDb29yZFhGUDY0LngpO1xuICBnbF9Qb2ludFNpemUgPSAxLjA7XG59XG4iLGZzOiIjdmVyc2lvbiAzMDAgZXNcbiNkZWZpbmUgU0hBREVSX05BTUUgZ3B1LWFnZ3JlZ2F0aW9uLWFsbC1mc1xuXG5wcmVjaXNpb24gaGlnaHAgZmxvYXQ7XG5cbmluIHZlYzIgdlRleHR1cmVDb29yZDtcbnVuaWZvcm0gc2FtcGxlcjJEIHVTYW1wbGVyO1xudW5pZm9ybSBib29sIGNvbWJpbmVNYXhNaW47XG5vdXQgdmVjNCBmcmFnQ29sb3I7XG52b2lkIG1haW4odm9pZCkge1xuICB2ZWM0IHRleHR1cmVDb2xvciA9IHRleHR1cmUodVNhbXBsZXIsIHZlYzIodlRleHR1cmVDb29yZC5zLCB2VGV4dHVyZUNvb3JkLnQpKTtcbiAgaWYgKHRleHR1cmVDb2xvci5hID09IDAuKSB7XG4gICAgZGlzY2FyZDtcbiAgfVxuICBmcmFnQ29sb3IucmdiID0gdGV4dHVyZUNvbG9yLnJnYjtcbiAgZnJhZ0NvbG9yLmEgPSBjb21iaW5lTWF4TWluID8gdGV4dHVyZUNvbG9yLnIgOiB0ZXh0dXJlQ29sb3IuYTtcbn1cbiIsbW9kdWxlczpbUC5iXSx2ZXJ0ZXhDb3VudDoxLGRyYXdNb2RlOjAsaXNJbnN0YW5jZWQ6ITAsaW5zdGFuY2VDb3VudDplLGF0dHJpYnV0ZXM6e3Bvc2l0aW9uOlswLDBdfX0pfXZhciAkPW4oNzEpLHR0PW4oMjIwKSxldD1uKDExOCksbnQ9W1syNTUsMjU1LDE3OF0sWzI1NCwyMTcsMTE4XSxbMjU0LDE3OCw3Nl0sWzI1MywxNDEsNjBdLFsyNDAsNTksMzJdLFsxODksMCwzOF1dO2Z1bmN0aW9uIHJ0KHQpe3ZhciBlLG49YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0mJmFyZ3VtZW50c1sxXSxyPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTpGbG9hdDMyQXJyYXk7aWYoTnVtYmVyLmlzRmluaXRlKHRbMF0pKWU9bmV3IHIodCk7ZWxzZXtlPW5ldyByKDQqdC5sZW5ndGgpO2Zvcih2YXIgaT0wLGE9MDthPHQubGVuZ3RoO2ErKyl7dmFyIG89dFthXTtlW2krK109b1swXSxlW2krK109b1sxXSxlW2krK109b1syXSxlW2krK109TnVtYmVyLmlzRmluaXRlKG9bM10pP29bM106MjU1fX1pZihuKWZvcih2YXIgcz0wO3M8ZS5sZW5ndGg7cysrKWVbc10vPTI1NTtyZXR1cm4gZX12YXIgaXQ9WzAsMCwwLDBdLGF0PVswLDI1NSwwLDI1NV0sb3Q9WyJtaW5Db2xvciIsIm1heENvbG9yIiwiY29sb3JSYW5nZSIsImNvbG9yRG9tYWluIl0sc3Q9e2NlbGxTaXplUGl4ZWxzOnt2YWx1ZToxMDAsbWluOjF9LGNlbGxNYXJnaW5QaXhlbHM6e3ZhbHVlOjIsbWluOjAsbWF4OjV9LGNvbG9yRG9tYWluOm51bGwsY29sb3JSYW5nZTpudH0sdXQ9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3JldHVybiB1KCkodGhpcyxlKSxmKCkodGhpcyx2KCkoZSkuYXBwbHkodGhpcyxhcmd1bWVudHMpKX1yZXR1cm4gbSgpKGUsdCksbCgpKGUsW3trZXk6ImdldFNoYWRlcnMiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJue3ZzOiIjZGVmaW5lIFNIQURFUl9OQU1FIHNjcmVlbi1ncmlkLWxheWVyLXZlcnRleC1zaGFkZXJcbiNkZWZpbmUgUkFOR0VfQ09VTlQgNlxuXG5hdHRyaWJ1dGUgdmVjMyBwb3NpdGlvbnM7XG5hdHRyaWJ1dGUgdmVjMyBpbnN0YW5jZVBvc2l0aW9ucztcbmF0dHJpYnV0ZSB2ZWM0IGluc3RhbmNlQ291bnRzO1xuYXR0cmlidXRlIHZlYzMgaW5zdGFuY2VQaWNraW5nQ29sb3JzO1xuXG51bmlmb3JtIGZsb2F0IG9wYWNpdHk7XG51bmlmb3JtIHZlYzMgY2VsbFNjYWxlO1xudW5pZm9ybSB2ZWM0IG1pbkNvbG9yO1xudW5pZm9ybSB2ZWM0IG1heENvbG9yO1xudW5pZm9ybSB2ZWM0IGNvbG9yUmFuZ2VbUkFOR0VfQ09VTlRdO1xudW5pZm9ybSB2ZWMyIGNvbG9yRG9tYWluO1xudW5pZm9ybSBib29sIHNob3VsZFVzZU1pbk1heDtcbnVuaWZvcm0gc2FtcGxlcjJEIG1heFRleHR1cmU7XG5cbnZhcnlpbmcgdmVjNCB2Q29sb3I7XG52YXJ5aW5nIGZsb2F0IHZTYW1wbGVDb3VudDtcblxudmVjNCBxdWFudGl6ZVNjYWxlKHZlYzIgZG9tYWluLCB2ZWM0IHJhbmdlW1JBTkdFX0NPVU5UXSwgZmxvYXQgdmFsdWUpIHtcbiAgdmVjNCBvdXRDb2xvciA9IHZlYzQoMC4sIDAuLCAwLiwgMC4pO1xuICBpZiAodmFsdWUgPj0gZG9tYWluLnggJiYgdmFsdWUgPD0gZG9tYWluLnkpIHtcbiAgICBmbG9hdCBkb21haW5SYW5nZSA9IGRvbWFpbi55IC0gZG9tYWluLng7XG4gICAgaWYgKGRvbWFpblJhbmdlIDw9IDAuKSB7XG4gICAgICBvdXRDb2xvciA9IGNvbG9yUmFuZ2VbMF07XG4gICAgfSBlbHNlIHtcbiAgICAgIGZsb2F0IHJhbmdlQ291bnQgPSBmbG9hdChSQU5HRV9DT1VOVCk7XG4gICAgICBmbG9hdCByYW5nZVN0ZXAgPSBkb21haW5SYW5nZSAvIHJhbmdlQ291bnQ7XG4gICAgICBmbG9hdCBpZHggPSBmbG9vcigodmFsdWUgLSBkb21haW4ueCkgLyByYW5nZVN0ZXApO1xuICAgICAgaWR4ID0gY2xhbXAoaWR4LCAwLiwgcmFuZ2VDb3VudCAtIDEuKTtcbiAgICAgIGludCBpbnRJZHggPSBpbnQoaWR4KTtcbiAgICAgIG91dENvbG9yID0gY29sb3JSYW5nZVtpbnRJZHhdO1xuICAgIH1cbiAgfVxuICBvdXRDb2xvciA9IG91dENvbG9yIC8gMjU1LjtcbiAgcmV0dXJuIG91dENvbG9yO1xufVxuXG52b2lkIG1haW4odm9pZCkge1xuICB2U2FtcGxlQ291bnQgPSBpbnN0YW5jZUNvdW50cy5hO1xuXG4gIGZsb2F0IHdlaWdodCA9IGluc3RhbmNlQ291bnRzLnI7XG4gIGZsb2F0IG1heFdlaWdodCA9IHRleHR1cmUyRChtYXhUZXh0dXJlLCB2ZWMyKDAuNSkpLnI7XG5cbiAgZmxvYXQgc3RlcCA9IHdlaWdodCAvIG1heFdlaWdodDtcbiAgdmVjNCBtaW5NYXhDb2xvciA9IG1peChtaW5Db2xvciwgbWF4Q29sb3IsIHN0ZXApIC8gMjU1LjtcblxuICB2ZWMyIGRvbWFpbiA9IGNvbG9yRG9tYWluO1xuICBmbG9hdCBkb21haW5NYXhWYWxpZCA9IGZsb2F0KGNvbG9yRG9tYWluLnkgIT0gMC4pO1xuICBkb21haW4ueSA9IG1peChtYXhXZWlnaHQsIGNvbG9yRG9tYWluLnksIGRvbWFpbk1heFZhbGlkKTtcbiAgdmVjNCByYW5nZUNvbG9yID0gcXVhbnRpemVTY2FsZShkb21haW4sIGNvbG9yUmFuZ2UsIHdlaWdodCk7XG5cbiAgZmxvYXQgcmFuZ2VNaW5NYXggPSBmbG9hdChzaG91bGRVc2VNaW5NYXgpO1xuICB2ZWM0IGNvbG9yID0gbWl4KHJhbmdlQ29sb3IsIG1pbk1heENvbG9yLCByYW5nZU1pbk1heCk7XG4gIHZDb2xvciA9IHZlYzQoY29sb3IucmdiLCBjb2xvci5hICogb3BhY2l0eSk7XG4gIHBpY2tpbmdfc2V0UGlja2luZ0NvbG9yKGluc3RhbmNlUGlja2luZ0NvbG9ycyk7XG5cbiAgZ2xfUG9zaXRpb24gPSB2ZWM0KGluc3RhbmNlUG9zaXRpb25zICsgcG9zaXRpb25zICogY2VsbFNjYWxlLCAxLik7XG59XG4iLGZzOiIjZGVmaW5lIFNIQURFUl9OQU1FIHNjcmVlbi1ncmlkLWxheWVyLWZyYWdtZW50LXNoYWRlclxuXG5wcmVjaXNpb24gaGlnaHAgZmxvYXQ7XG5cbnZhcnlpbmcgdmVjNCB2Q29sb3I7XG52YXJ5aW5nIGZsb2F0IHZTYW1wbGVDb3VudDtcblxudm9pZCBtYWluKHZvaWQpIHtcbiAgaWYgKHZTYW1wbGVDb3VudCA8PSAwLjApIHtcbiAgICBkaXNjYXJkO1xuICB9XG4gIGdsX0ZyYWdDb2xvciA9IHZDb2xvcjtcblxuICBERUNLR0xfRklMVEVSX0NPTE9SKGdsX0ZyYWdDb2xvciwgZ2VvbWV0cnkpO1xufVxuIixtb2R1bGVzOlt0dC5hXX19fSx7a2V5OiJpbml0aWFsaXplU3RhdGUiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5jb250ZXh0LmdsO3RoaXMuZ2V0QXR0cmlidXRlTWFuYWdlcigpLmFkZEluc3RhbmNlZCh7aW5zdGFuY2VQb3NpdGlvbnM6e3NpemU6Myx1cGRhdGU6dGhpcy5jYWxjdWxhdGVJbnN0YW5jZVBvc2l0aW9uc30saW5zdGFuY2VDb3VudHM6e3NpemU6NCxub0FsbG9jOiEwfX0pLHRoaXMuc2V0U3RhdGUoe21vZGVsOnRoaXMuX2dldE1vZGVsKHQpfSl9fSx7a2V5OiJzaG91bGRVcGRhdGVTdGF0ZSIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHQuY2hhbmdlRmxhZ3Muc29tZXRoaW5nQ2hhbmdlZH19LHtrZXk6InVwZGF0ZVN0YXRlIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgbj10Lm9sZFByb3BzLHI9dC5wcm9wcyxpPXQuY2hhbmdlRmxhZ3M7ZygpKHYoKShlLnByb3RvdHlwZSksInVwZGF0ZVN0YXRlIix0aGlzKS5jYWxsKHRoaXMse29sZFByb3BzOm4scHJvcHM6cixjaGFuZ2VGbGFnczppfSk7dmFyIGE9dGhpcy5nZXRBdHRyaWJ1dGVNYW5hZ2VyKCk7ci5udW1JbnN0YW5jZXMhPT1uLm51bUluc3RhbmNlcz9hLmludmFsaWRhdGVBbGwoKTpuLmNlbGxTaXplUGl4ZWxzIT09ci5jZWxsU2l6ZVBpeGVscyYmYS5pbnZhbGlkYXRlKCJpbnN0YW5jZVBvc2l0aW9ucyIpLHRoaXMuX3VwZGF0ZVVuaWZvcm1zKG4scixpKX19LHtrZXk6ImRyYXciLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXQudW5pZm9ybXMsbj10aGlzLnByb3BzLHI9bi5wYXJhbWV0ZXJzLGk9bi5tYXhUZXh0dXJlLGE9dGhpcy5wcm9wcy5taW5Db2xvcnx8aXQsbz10aGlzLnByb3BzLm1heENvbG9yfHxhdCxzPXRoaXMucHJvcHMuY29sb3JEb21haW58fFsxLDBdLHU9dGhpcy5zdGF0ZS5tb2RlbCxjPXttaW5Db2xvcjphLG1heENvbG9yOm8sbWF4VGV4dHVyZTppLGNvbG9yRG9tYWluOnN9O2U9T2JqZWN0LmFzc2lnbihjLGUpLHUuZHJhdyh7dW5pZm9ybXM6ZSxwYXJhbWV0ZXJzOk9iamVjdC5hc3NpZ24oe2RlcHRoVGVzdDohMSxkZXB0aE1hc2s6ITF9LHIpfSl9fSx7a2V5OiJjYWxjdWxhdGVJbnN0YW5jZVBvc2l0aW9ucyIsdmFsdWU6ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49ZS5udW1JbnN0YW5jZXMscj10aGlzLmNvbnRleHQudmlld3BvcnQsaT1yLndpZHRoLGE9ci5oZWlnaHQsbz10aGlzLnByb3BzLmNlbGxTaXplUGl4ZWxzLHM9TWF0aC5jZWlsKGkvbyksdT10LnZhbHVlLGM9dC5zaXplLGw9MDtsPG47bCsrKXt2YXIgaD1sJXMsZj1NYXRoLmZsb29yKGwvcyk7dVtsKmMrMF09aCpvL2kqMi0xLHVbbCpjKzFdPTEtZipvL2EqMix1W2wqYysyXT0wfX19LHtrZXk6Il9nZXRNb2RlbCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBrLmEodCxPYmplY3QuYXNzaWduKHt9LHRoaXMuZ2V0U2hhZGVycygpLHtpZDp0aGlzLnByb3BzLmlkLGdlb21ldHJ5Om5ldyAkLmEoe2RyYXdNb2RlOjYsYXR0cmlidXRlczp7cG9zaXRpb25zOm5ldyBGbG9hdDMyQXJyYXkoWzAsMCwwLDEsMCwwLDEsMSwwLDAsMSwwXSl9fSksaXNJbnN0YW5jZWQ6ITB9KSl9fSx7a2V5OiJfc2hvdWxkVXNlTWluTWF4Iix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMucHJvcHMsZT10Lm1pbkNvbG9yLG49dC5tYXhDb2xvcixyPXQuY29sb3JEb21haW4saT10LmNvbG9yUmFuZ2U7cmV0dXJuIGV8fG4/KGIuYS5kZXByZWNhdGVkKCJTY3JlZW5HcmlkTGF5ZXIgcHJvcHM6IG1pbkNvbG9yIGFuZCBtYXhDb2xvciIsImNvbG9yUmFuZ2UsIGNvbG9yRG9tYWluIikoKSwhMCk6IXImJiFpfX0se2tleToiX3VwZGF0ZVVuaWZvcm1zIix2YWx1ZTpmdW5jdGlvbih0LGUsbil7dmFyIHI9dGhpcy5zdGF0ZS5tb2RlbDtpZihvdC5zb21lKChmdW5jdGlvbihuKXtyZXR1cm4gdFtuXSE9PWVbbl19KSkmJnIuc2V0VW5pZm9ybXMoe3Nob3VsZFVzZU1pbk1heDp0aGlzLl9zaG91bGRVc2VNaW5NYXgoKX0pLHQuY29sb3JSYW5nZSE9PWUuY29sb3JSYW5nZSYmci5zZXRVbmlmb3Jtcyh7Y29sb3JSYW5nZTpydChlLmNvbG9yUmFuZ2UpfSksdC5jZWxsTWFyZ2luUGl4ZWxzIT09ZS5jZWxsTWFyZ2luUGl4ZWxzfHx0LmNlbGxTaXplUGl4ZWxzIT09ZS5jZWxsU2l6ZVBpeGVsc3x8bi52aWV3cG9ydENoYW5nZWQpe3ZhciBpPXRoaXMuY29udGV4dC52aWV3cG9ydCxhPWkud2lkdGgsbz1pLmhlaWdodCxzPXRoaXMucHJvcHMsdT1zLmNlbGxTaXplUGl4ZWxzLGM9cy5jZWxsTWFyZ2luUGl4ZWxzLGw9dT5jP2M6MCxoPW5ldyBGbG9hdDMyQXJyYXkoWyh1LWwpL2EqMiwtKHUtbCkvbyoyLDFdKTtyLnNldFVuaWZvcm1zKHtjZWxsU2NhbGU6aH0pfX19XSxbe2tleToiaXNTdXBwb3J0ZWQiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3QoTy5jKSh0LFtfLmEuVEVYVFVSRV9GTE9BVF0pfX1dKSxlfShldC5hKTt1dC5sYXllck5hbWU9IlNjcmVlbkdyaWRDZWxsTGF5ZXIiLHV0LmRlZmF1bHRQcm9wcz1zdDt2YXIgY3Q9bigxMzcpLGx0PW4oMTU4KSxodD1uKDE4NSk7ZnVuY3Rpb24gZnQodCxlKXt2YXIgbj17fTtmb3IodmFyIHIgaW4gdCllLmluY2x1ZGVzKHIpfHwobltyXT10W3JdKTtyZXR1cm4gbn12YXIgZHQ9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3JldHVybiB1KCkodGhpcyxlKSxmKCkodGhpcyx2KCkoZSkuYXBwbHkodGhpcyxhcmd1bWVudHMpKX1yZXR1cm4gbSgpKGUsdCksbCgpKGUsW3trZXk6ImluaXRpYWxpemVTdGF0ZSIsdmFsdWU6ZnVuY3Rpb24odCl7ZygpKHYoKShlLnByb3RvdHlwZSksImluaXRpYWxpemVTdGF0ZSIsdGhpcykuY2FsbCh0aGlzKSx0aGlzLnNldFN0YXRlKHtpZ25vcmVQcm9wczpmdCh0aGlzLmNvbnN0cnVjdG9yLl9wcm9wVHlwZXMsdC5kYXRhLnByb3BzKSxkaW1lbnNpb25zOnR9KX19LHtrZXk6InVwZGF0ZVN0YXRlIix2YWx1ZTpmdW5jdGlvbih0KXtpZihnKCkodigpKGUucHJvdG90eXBlKSwidXBkYXRlU3RhdGUiLHRoaXMpLmNhbGwodGhpcyx0KSx0LmNoYW5nZUZsYWdzLmV4dGVuc2lvbnNDaGFuZ2VkKXt2YXIgbj10aGlzLmdldFNoYWRlcnMoe30pO24mJm4uZGVmaW5lcyYmKG4uZGVmaW5lcy5OT05fSU5TVEFOQ0VEX01PREVMPTEpLHRoaXMudXBkYXRlU2hhZGVycyhuKX10aGlzLl91cGRhdGVBdHRyaWJ1dGVzKHQucHJvcHMpfX0se2tleToidXBkYXRlQXR0cmlidXRlcyIsdmFsdWU6ZnVuY3Rpb24odCl7dGhpcy5zZXRTdGF0ZSh7Y2hhbmdlZEF0dHJpYnV0ZXM6dH0pfX0se2tleToiZ2V0QXR0cmlidXRlcyIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRBdHRyaWJ1dGVNYW5hZ2VyKCkuZ2V0U2hhZGVyQXR0cmlidXRlcygpfX0se2tleToiZ2V0TW9kdWxlU2V0dGluZ3MiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5jb250ZXh0LGU9dC52aWV3cG9ydCxuPXQubW91c2VQb3NpdGlvbixyPXQuZ2w7cmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmNyZWF0ZSh0aGlzLnByb3BzKSx7dmlld3BvcnQ6ZSxtb3VzZVBvc2l0aW9uOm4scGlja2luZ0FjdGl2ZTowLGRldmljZVBpeGVsUmF0aW86T2JqZWN0KHguYykocil9KX19LHtrZXk6InVwZGF0ZVNoYWRlcnMiLHZhbHVlOmZ1bmN0aW9uKHQpe319LHtrZXk6ImlzQWdncmVnYXRpb25EaXJ0eSIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOnt9LG49dC5wcm9wcyxyPXQub2xkUHJvcHMsaT10LmNoYW5nZUZsYWdzLGE9ZS5jb21wYXJlQWxsLG89dm9pZCAwIT09YSYmYSxzPWUuZGltZW5zaW9uLHU9dGhpcy5zdGF0ZS5pZ25vcmVQcm9wcyxjPXMucHJvcHMsbD1zLmFjY2Vzc29ycyxoPXZvaWQgMD09PWw/W106bCxmPWkudXBkYXRlVHJpZ2dlcnNDaGFuZ2VkO2lmKGYpe2lmKGYuYWxsKXJldHVybiEwO3ZhciBkPSEwLHY9ITEscD12b2lkIDA7dHJ5e2Zvcih2YXIgZyx5PWhbU3ltYm9sLml0ZXJhdG9yXSgpOyEoZD0oZz15Lm5leHQoKSkuZG9uZSk7ZD0hMCl7dmFyIG09Zy52YWx1ZTtpZihmW21dKXJldHVybiEwfX1jYXRjaCh0KXt2PSEwLHA9dH1maW5hbGx5e3RyeXtkfHxudWxsPT15LnJldHVybnx8eS5yZXR1cm4oKX1maW5hbGx5e2lmKHYpdGhyb3cgcH19fWlmKG8pcmV0dXJuISFpLmV4dGVuc2lvbnNDaGFuZ2VkfHxPYmplY3QoY3QuYSkoe29sZFByb3BzOnIsbmV3UHJvcHM6bixpZ25vcmVQcm9wczp1LHByb3BUeXBlczp0aGlzLmNvbnN0cnVjdG9yLl9wcm9wVHlwZXN9KTt2YXIgYj0hMCxfPSExLE89dm9pZCAwO3RyeXtmb3IodmFyIHgsdz1jW1N5bWJvbC5pdGVyYXRvcl0oKTshKGI9KHg9dy5uZXh0KCkpLmRvbmUpO2I9ITApe3ZhciBrPXgudmFsdWU7aWYobltrXSE9PXJba10pcmV0dXJuITB9fWNhdGNoKHQpe189ITAsTz10fWZpbmFsbHl7dHJ5e2J8fG51bGw9PXcucmV0dXJufHx3LnJldHVybigpfWZpbmFsbHl7aWYoXyl0aHJvdyBPfX1yZXR1cm4hMX19LHtrZXk6ImlzQXR0cmlidXRlQ2hhbmdlZCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5zdGF0ZS5jaGFuZ2VkQXR0cmlidXRlcztyZXR1cm4gdD9lJiZ2b2lkIDAhPT1lW3RdOiFmdW5jdGlvbih0KXt2YXIgZT0hMDtmb3IodmFyIG4gaW4gdCl7ZT0hMTticmVha31yZXR1cm4gZX0oZSl9fSx7a2V5OiJfZ2V0QXR0cmlidXRlTWFuYWdlciIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGx0LmEodGhpcy5jb250ZXh0LmdsLHtpZDp0aGlzLnByb3BzLmlkLHN0YXRzOnRoaXMuY29udGV4dC5zdGF0c30pfX1dKSxlfShodC5hKTtkdC5sYXllck5hbWU9IkFnZ3JlZ2F0aW9uTGF5ZXIiO3ZhciB2dD1uKDQ4KSxwdD1uKDE5KSxndD1uLm4ocHQpO2Z1bmN0aW9uIHl0KHQsZSxuKXt2YXIgcj1uO3JldHVybiByLmRvbWFpbj1mdW5jdGlvbigpe3JldHVybiB0fSxyLnJhbmdlPWZ1bmN0aW9uKCl7cmV0dXJuIGV9LHJ9ZnVuY3Rpb24gbXQodCxlKXtyZXR1cm4geXQodCxlLChmdW5jdGlvbihuKXtyZXR1cm4gZnVuY3Rpb24odCxlLG4pe3ZhciByPXRbMV0tdFswXTtpZihyPD0wKXJldHVybiBiLmEud2FybigicXVhbnRpemVTY2FsZTogaW52YWxpZCBkb21haW4sIHJldHVybmluZyByYW5nZVswXSIpKCksZVswXTt2YXIgaT1yL2UubGVuZ3RoLGE9TWF0aC5mbG9vcigobi10WzBdKS9pKSxvPU1hdGgubWF4KE1hdGgubWluKGEsZS5sZW5ndGgtMSksMCk7cmV0dXJuIGVbb119KHQsZSxuKX0pKX1mdW5jdGlvbiBidCh0LGUpe3JldHVybiB5dCh0LGUsKGZ1bmN0aW9uKG4pe3JldHVybiBmdW5jdGlvbih0LGUsbil7cmV0dXJuKG4tdFswXSkvKHRbMV0tdFswXSkqKGVbMV0tZVswXSkrZVswXX0odCxlLG4pfSkpfWZ1bmN0aW9uIF90KHQsZSl7Zm9yKHZhciBuPXQuc29ydChPdCkscj0wLGk9TWF0aC5tYXgoMSxlLmxlbmd0aCksYT1uZXcgQXJyYXkoaS0xKTsrK3I8aTspYVtyLTFdPXh0KG4sci9pKTt2YXIgbz1mdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24odCxlLG4pe3JldHVybiBlW2Z1bmN0aW9uKHQsZSl7dmFyIG49MCxyPXQubGVuZ3RoO2Zvcig7bjxyOyl7dmFyIGk9bityPj4+MTtPdCh0W2ldLGUpPjA/cj1pOm49aSsxfXJldHVybiBufSh0LG4pXX0oYSxlLHQpfTtyZXR1cm4gby50aHJlc2hvbGRzPWZ1bmN0aW9uKCl7cmV0dXJuIGF9LHl0KHQsZSxvKX1mdW5jdGlvbiBPdCh0LGUpe3JldHVybiB0LWV9ZnVuY3Rpb24geHQodCxlKXt2YXIgbj10Lmxlbmd0aDtpZihlPD0wfHxuPDIpcmV0dXJuIHRbMF07aWYoZT49MSlyZXR1cm4gdFtuLTFdO3ZhciByPShuLTEpKmUsaT1NYXRoLmZsb29yKHIpLGE9dFtpXTtyZXR1cm4gYSsodFtpKzFdLWEpKihyLWkpfWZ1bmN0aW9uIHd0KHQsZSl7dmFyIG49bmV3IE1hcCxyPVtdLGk9ITAsYT0hMSxvPXZvaWQgMDt0cnl7Zm9yKHZhciBzLHU9dFtTeW1ib2wuaXRlcmF0b3JdKCk7IShpPShzPXUubmV4dCgpKS5kb25lKTtpPSEwKXt2YXIgYz1zLnZhbHVlLGw9IiIuY29uY2F0KGMpO24uaGFzKGwpfHxuLnNldChsLHIucHVzaChjKSl9fWNhdGNoKHQpe2E9ITAsbz10fWZpbmFsbHl7dHJ5e2l8fG51bGw9PXUucmV0dXJufHx1LnJldHVybigpfWZpbmFsbHl7aWYoYSl0aHJvdyBvfX1yZXR1cm4geXQodCxlLChmdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24odCxlLG4scil7dmFyIGk9IiIuY29uY2F0KHIpLGE9ZS5nZXQoaSk7cmV0dXJuIHZvaWQgMD09PWEmJihhPXQucHVzaChyKSxlLnNldChpLGEpKSxuWyhhLTEpJW4ubGVuZ3RoXX0ocixuLGUsdCl9KSl9ZnVuY3Rpb24ga3QodCl7cmV0dXJuIG51bGwhPXR9ZnVuY3Rpb24gU3QodCxlKXtyZXR1cm4oImZ1bmN0aW9uIj09dHlwZW9mIGU/dC5tYXAoZSk6dCkuZmlsdGVyKGt0KX1mdW5jdGlvbiBQdCh0LGUpe3JldHVybiBTdCh0LGUpfWZ1bmN0aW9uIGp0KHQsZSl7cmV0dXJuIG49U3QodCxlKSxyPVtdLG4uZm9yRWFjaCgoZnVuY3Rpb24odCl7IXIuaW5jbHVkZXModCkmJmt0KHQpJiZyLnB1c2godCl9KSkscjt2YXIgbixyfXZhciBUdD1mdW5jdGlvbih0KXtyZXR1cm4gdC5sZW5ndGh9LEV0PWZ1bmN0aW9uKHQpe3JldHVybiB0LnBvaW50c30sQXQ9ZnVuY3Rpb24odCl7cmV0dXJuIHQuaW5kZXh9LE10PXtnZXRWYWx1ZTpUdCxnZXRQb2ludHM6RXQsZ2V0SW5kZXg6QXQsZmlsdGVyRGF0YTpudWxsfSxDdD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06W10sbj1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06TXQ7dSgpKHRoaXMsdCksdGhpcy5hZ2dyZWdhdGVkQmlucz10aGlzLmdldEFnZ3JlZ2F0ZWRCaW5zKGUsbiksdGhpcy5fdXBkYXRlTWluTWF4VmFsdWVzKCksdGhpcy5iaW5NYXA9dGhpcy5nZXRCaW5NYXAoKX1yZXR1cm4gbCgpKHQsW3trZXk6ImdldEFnZ3JlZ2F0ZWRCaW5zIix2YWx1ZTpmdW5jdGlvbih0LGUpe2Zvcih2YXIgbj1lLmdldFZhbHVlLHI9dm9pZCAwPT09bj9UdDpuLGk9ZS5nZXRQb2ludHMsYT12b2lkIDA9PT1pP0V0Omksbz1lLmdldEluZGV4LHM9dm9pZCAwPT09bz9BdDpvLHU9ZS5maWx0ZXJEYXRhLGM9ImZ1bmN0aW9uIj09dHlwZW9mIHUsbD10Lmxlbmd0aCxoPVtdLGY9MCxkPTA7ZDxsO2QrKyl7dmFyIHY9dFtkXSxwPWEodiksZz1zKHYpLHk9Yz9wLmZpbHRlcih1KTpwO3YuZmlsdGVyZWRQb2ludHM9Yz95Om51bGw7dmFyIG09eS5sZW5ndGg/cih5KTpudWxsO251bGwhPW0mJihoW2ZdPXtpOk51bWJlci5pc0Zpbml0ZShnKT9nOmQsdmFsdWU6bSxjb3VudHM6eS5sZW5ndGh9LGYrKyl9cmV0dXJuIGh9fSx7a2V5OiJfcGVyY2VudGlsZVRvSW5kZXgiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuc29ydGVkQmlucy5sZW5ndGg7aWYoZTwyKXJldHVyblswLDBdO3ZhciBuPXQubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gZT10LG49MCxyPTEwMCxNYXRoLm1heChuLE1hdGgubWluKHIsZSkpO3ZhciBlLG4scn0pKSxyPWd0KCkobiwyKSxpPXJbMF0sYT1yWzFdO3JldHVybltNYXRoLmNlaWwoaS8xMDAqKGUtMSkpLE1hdGguZmxvb3IoYS8xMDAqKGUtMSkpXX19LHtrZXk6ImdldEJpbk1hcCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD17fSxlPSEwLG49ITEscj12b2lkIDA7dHJ5e2Zvcih2YXIgaSxhPXRoaXMuYWdncmVnYXRlZEJpbnNbU3ltYm9sLml0ZXJhdG9yXSgpOyEoZT0oaT1hLm5leHQoKSkuZG9uZSk7ZT0hMCl7dmFyIG89aS52YWx1ZTt0W28uaV09b319Y2F0Y2godCl7bj0hMCxyPXR9ZmluYWxseXt0cnl7ZXx8bnVsbD09YS5yZXR1cm58fGEucmV0dXJuKCl9ZmluYWxseXtpZihuKXRocm93IHJ9fXJldHVybiB0fX0se2tleToiX3VwZGF0ZU1pbk1heFZhbHVlcyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD0wLGU9MCxuPTM0MDI4MjM0NjZlMjkscj0wLGk9ITAsYT0hMSxvPXZvaWQgMDt0cnl7Zm9yKHZhciBzLHU9dGhpcy5hZ2dyZWdhdGVkQmluc1tTeW1ib2wuaXRlcmF0b3JdKCk7IShpPShzPXUubmV4dCgpKS5kb25lKTtpPSEwKXt2YXIgYz1zLnZhbHVlO3Q9dD5jLmNvdW50cz90OmMuY291bnRzLGU9ZT5jLnZhbHVlP2U6Yy52YWx1ZSxuPW48Yy52YWx1ZT9uOmMudmFsdWUscis9Yy5jb3VudHN9fWNhdGNoKHQpe2E9ITAsbz10fWZpbmFsbHl7dHJ5e2l8fG51bGw9PXUucmV0dXJufHx1LnJldHVybigpfWZpbmFsbHl7aWYoYSl0aHJvdyBvfX10aGlzLm1heENvdW50PXQsdGhpcy5tYXhWYWx1ZT1lLHRoaXMubWluVmFsdWU9bix0aGlzLnRvdGFsQ291bnQ9cn19LHtrZXk6ImdldFZhbHVlUmFuZ2UiLHZhbHVlOmZ1bmN0aW9uKHQpe2lmKHRoaXMuc29ydGVkQmluc3x8KHRoaXMuc29ydGVkQmlucz10aGlzLmFnZ3JlZ2F0ZWRCaW5zLnNvcnQoKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQudmFsdWUtZS52YWx1ZX0pKSksIXRoaXMuc29ydGVkQmlucy5sZW5ndGgpcmV0dXJuW107dmFyIGU9MCxuPXRoaXMuc29ydGVkQmlucy5sZW5ndGgtMTtpZihBcnJheS5pc0FycmF5KHQpKXt2YXIgcj10aGlzLl9wZXJjZW50aWxlVG9JbmRleCh0KTtlPXJbMF0sbj1yWzFdfXJldHVyblt0aGlzLnNvcnRlZEJpbnNbZV0udmFsdWUsdGhpcy5zb3J0ZWRCaW5zW25dLnZhbHVlXX19LHtrZXk6ImdldFZhbHVlRG9tYWluQnlTY2FsZSIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOltdLG49Z3QoKShlLDIpLHI9blswXSxpPXZvaWQgMD09PXI/MDpyLGE9blsxXSxvPXZvaWQgMD09PWE/MTAwOmE7aWYodGhpcy5zb3J0ZWRCaW5zfHwodGhpcy5zb3J0ZWRCaW5zPXRoaXMuYWdncmVnYXRlZEJpbnMuc29ydCgoZnVuY3Rpb24odCxlKXtyZXR1cm4gdC52YWx1ZS1lLnZhbHVlfSkpKSwhdGhpcy5zb3J0ZWRCaW5zLmxlbmd0aClyZXR1cm5bXTt2YXIgcz10aGlzLl9wZXJjZW50aWxlVG9JbmRleChbaSxvXSk7cmV0dXJuIHRoaXMuX2dldFNjYWxlRG9tYWluKHQscyl9fSx7a2V5OiJfZ2V0U2NhbGVEb21haW4iLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dmFyIG49Z3QoKShlLDIpLHI9blswXSxpPW5bMV0sYT10aGlzLnNvcnRlZEJpbnM7c3dpdGNoKHQpe2Nhc2UicXVhbnRpemUiOmNhc2UibGluZWFyIjpyZXR1cm5bYVtyXS52YWx1ZSxhW2ldLnZhbHVlXTtjYXNlInF1YW50aWxlIjpyZXR1cm4gUHQoYS5zbGljZShyLGkrMSksKGZ1bmN0aW9uKHQpe3JldHVybiB0LnZhbHVlfSkpO2Nhc2Uib3JkaW5hbCI6cmV0dXJuIGp0KGEsKGZ1bmN0aW9uKHQpe3JldHVybiB0LnZhbHVlfSkpO2RlZmF1bHQ6cmV0dXJuW2Fbcl0udmFsdWUsYVtpXS52YWx1ZV19fX1dKSx0fSgpLEx0PW4oNjQpLEl0PW4oMjIpO2Z1bmN0aW9uIFJ0KHQpe3JldHVybiBOdW1iZXIuaXNGaW5pdGUodCk/dDowfWZ1bmN0aW9uIE50KHQsZSl7Zm9yKHZhciBuLHIsaT10LnBvc2l0aW9ucy52YWx1ZSxhPTEvMCxvPS0xLzAscz0xLzAsdT0tMS8wLGM9MDtjPGU7YysrKXI9aVszKmNdLGE9KG49aVszKmMrMV0pPGE/bjphLG89bj5vP246byxzPXI8cz9yOnMsdT1yPnU/cjp1O3JldHVybnt4TWluOlJ0KHMpLHhNYXg6UnQodSkseU1pbjpSdChhKSx5TWF4OlJ0KG8pfX1mdW5jdGlvbiBEdCh0LGUpe3ZhciBuPXQ8MD8tMToxLHI9bjwwP01hdGguYWJzKHQpK2U6TWF0aC5hYnModCk7cmV0dXJuKHI9TWF0aC5mbG9vcihyL2UpKmUpKm59ZnVuY3Rpb24gRnQodCxlKXt2YXIgbj0hKGFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdKXx8YXJndW1lbnRzWzJdO2lmKCFuKXJldHVybnt4T2Zmc2V0OmUseU9mZnNldDplfTt2YXIgcj10LnlNaW4saT10LnlNYXgsYT0ocitpKS8yO3JldHVybiBCdChlLGEpfWZ1bmN0aW9uIHp0KHQsZSxuLHIpe3ZhciBpPUZ0KHQsZSxyIT09SXQuYS5DQVJURVNJQU4pLGE9ZnVuY3Rpb24odCxlLG4scil7dmFyIGk9ci53aWR0aCxhPXIuaGVpZ2h0LG89bj09PUl0LmEuQ0FSVEVTSUFOP1staS8yLC1hLzJdOlstMTgwLC05MF07Yi5hLmFzc2VydChbSXQuYS5DQVJURVNJQU4sSXQuYS5MTkdMQVQsSXQuYS5ERUZBVUxUXS5pbmNsdWRlcyhuKSk7dmFyIHM9dC54TWluLHU9dC55TWluO3JldHVyblstMSooRHQocy1vWzBdLGUueE9mZnNldCkrb1swXSksLTEqKER0KHUtb1sxXSxlLnlPZmZzZXQpK29bMV0pXX0odCxpLHIsbiksbz10LnhNaW4scz10LnlNaW4sdT10LnhNYXgsYz10LnlNYXgsbD11LW8raS54T2Zmc2V0LGg9Yy1zK2kueU9mZnNldDtyZXR1cm57Z3JpZE9mZnNldDppLHRyYW5zbGF0aW9uOmEsd2lkdGg6bCxoZWlnaHQ6aCxudW1Db2w6TWF0aC5jZWlsKGwvaS54T2Zmc2V0KSxudW1Sb3c6TWF0aC5jZWlsKGgvaS55T2Zmc2V0KX19ZnVuY3Rpb24gQnQodCxlKXt2YXIgbjtyZXR1cm57eU9mZnNldDp0LzYzNzhlMyooMTgwL01hdGguUEkpLHhPZmZzZXQ6KG49ZSx0LzYzNzhlMyooMTgwL01hdGguUEkpL01hdGguY29zKG4qTWF0aC5QSS8xODApKX19ZnVuY3Rpb24gVXQodCxlKXt2YXIgbj1mdW5jdGlvbih0LGUpe3ZhciBuPXQuZGF0YSxyPXZvaWQgMD09PW4/W106bixpPXQuY2VsbFNpemUsYT1lLmF0dHJpYnV0ZXMsbz1lLnZpZXdwb3J0LHM9ZS5wcm9qZWN0UG9pbnRzLHU9ZS5udW1JbnN0YW5jZXMsYz1hLnBvc2l0aW9ucy52YWx1ZSxsPWEucG9zaXRpb25zLmdldEFjY2Vzc29yKCkuc2l6ZSxoPWUuYm91bmRpbmdCb3h8fGZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuLHIsaT10LnZhbHVlLGE9dC5nZXRBY2Nlc3NvcigpLnNpemUsbz0xLzAscz0tMS8wLHU9MS8wLGM9LTEvMCxsPTA7bDxlO2wrKylyPWlbbCphXSxuPWlbbCphKzFdLE51bWJlci5pc0Zpbml0ZShyKSYmTnVtYmVyLmlzRmluaXRlKG4pJiYobz1uPG8/bjpvLHM9bj5zP246cyx1PXI8dT9yOnUsYz1yPmM/cjpjKTtyZXR1cm57eE1pbjp1LHhNYXg6Yyx5TWluOm8seU1heDpzfX0oYS5wb3NpdGlvbnMsdSksZj1lLnBvc09mZnNldHx8WzE4MCw5MF0sZD1lLmdyaWRPZmZzZXR8fEZ0KGgsaSk7aWYoZC54T2Zmc2V0PD0wfHxkLnlPZmZzZXQ8PTApcmV0dXJue2dyaWRIYXNoOnt9LGdyaWRPZmZzZXQ6ZH07dmFyIHY9by53aWR0aCxwPW8uaGVpZ2h0LGc9TWF0aC5jZWlsKHYvZC54T2Zmc2V0KSx5PU1hdGguY2VpbChwL2QueU9mZnNldCksbT17fSxiPU9iamVjdChMdC5hKShyKSxfPWIuaXRlcmFibGUsTz1iLm9iamVjdEluZm8seD1uZXcgQXJyYXkoMyksdz0hMCxrPSExLFM9dm9pZCAwO3RyeXtmb3IodmFyIFAsaj1fW1N5bWJvbC5pdGVyYXRvcl0oKTshKHc9KFA9ai5uZXh0KCkpLmRvbmUpO3c9ITApe3ZhciBUPVAudmFsdWU7Ty5pbmRleCsrLHhbMF09Y1tPLmluZGV4KmxdLHhbMV09Y1tPLmluZGV4KmwrMV0seFsyXT1sPj0zP2NbTy5pbmRleCpsKzJdOjA7dmFyIEU9cz9vLnByb2plY3QoeCk6eCxBPWd0KCkoRSwyKSxNPUFbMF0sQz1BWzFdO2lmKE51bWJlci5pc0Zpbml0ZShNKSYmTnVtYmVyLmlzRmluaXRlKEMpKXt2YXIgTD1NYXRoLmZsb29yKChDK2ZbMV0pL2QueU9mZnNldCksST1NYXRoLmZsb29yKChNK2ZbMF0pL2QueE9mZnNldCk7aWYoIXN8fEk+PTAmJkk8ZyYmTD49MCYmTDx5KXt2YXIgUj0iIi5jb25jYXQoTCwiLSIpLmNvbmNhdChJKTttW1JdPW1bUl18fHtjb3VudDowLHBvaW50czpbXSxsb25JZHg6SSxsYXRJZHg6TH0sbVtSXS5jb3VudCs9MSxtW1JdLnBvaW50cy5wdXNoKFQpfX19fWNhdGNoKHQpe2s9ITAsUz10fWZpbmFsbHl7dHJ5e3d8fG51bGw9PWoucmV0dXJufHxqLnJldHVybigpfWZpbmFsbHl7aWYoayl0aHJvdyBTfX1yZXR1cm57Z3JpZEhhc2g6bSxncmlkT2Zmc2V0OmQsb2Zmc2V0czpbLTEqZlswXSwtMSpmWzFdXX19KHQsZSkscj1mdW5jdGlvbih0KXt2YXIgZT10LmdyaWRIYXNoLG49dC5ncmlkT2Zmc2V0LHI9dC5vZmZzZXRzLGk9bmV3IEFycmF5KE9iamVjdC5rZXlzKGUpLmxlbmd0aCksYT0wO2Zvcih2YXIgbyBpbiBlKXt2YXIgcz1vLnNwbGl0KCItIiksdT1wYXJzZUludChzWzBdLDEwKSxjPXBhcnNlSW50KHNbMV0sMTApLGw9YSsrO2lbbF09T2JqZWN0LmFzc2lnbih7aW5kZXg6bCxwb3NpdGlvbjpbclswXStuLnhPZmZzZXQqYyxyWzFdK24ueU9mZnNldCp1XX0sZVtvXSl9cmV0dXJuIGl9KG4pO3JldHVybntncmlkSGFzaDpuLmdyaWRIYXNoLGdyaWRPZmZzZXQ6bi5ncmlkT2Zmc2V0LGRhdGE6cn19dmFyIFZ0PWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXtyZXR1cm4gdSgpKHRoaXMsZSksZigpKHRoaXMsdigpKGUpLmFwcGx5KHRoaXMsYXJndW1lbnRzKSl9cmV0dXJuIG0oKShlLHQpLGwoKShlLFt7a2V5OiJpbml0aWFsaXplU3RhdGUiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBuPXQuZGltZW5zaW9ucyxyPXRoaXMuY29udGV4dC5nbDtnKCkodigpKGUucHJvdG90eXBlKSwiaW5pdGlhbGl6ZVN0YXRlIix0aGlzKS5jYWxsKHRoaXMsbiksdGhpcy5zZXRTdGF0ZSh7bGF5ZXJEYXRhOnt9LGdwdUdyaWRBZ2dyZWdhdG9yOm5ldyBLKHIse2lkOiIiLmNvbmNhdCh0aGlzLmlkLCItZ3B1LWFnZ3JlZ2F0b3IiKX0pLGNwdUdyaWRBZ2dyZWdhdG9yOlV0fSl9fSx7a2V5OiJ1cGRhdGVTdGF0ZSIsdmFsdWU6ZnVuY3Rpb24odCl7ZygpKHYoKShlLnByb3RvdHlwZSksInVwZGF0ZVN0YXRlIix0aGlzKS5jYWxsKHRoaXMsdCksdGhpcy51cGRhdGVBZ2dyZWdhdGlvblN0YXRlKHQpO3ZhciBuPXRoaXMuc3RhdGUscj1uLmFnZ3JlZ2F0aW9uRGF0YURpcnR5LGk9bi5hZ2dyZWdhdGlvbldlaWdodHNEaXJ0eSxhPW4uZ3B1QWdncmVnYXRpb247aWYoISh0aGlzLmdldE51bUluc3RhbmNlcygpPD0wKSl7dmFyIG89ITE7KHJ8fGEmJmkpJiYodGhpcy5fdXBkYXRlQWdncmVnYXRpb24odCksbz0hMCksYXx8IXImJiFpfHwodGhpcy5fdXBkYXRlV2VpZ2h0QmlucygpLHRoaXMuX3VwbG9hZEFnZ3JlZ2F0aW9uUmVzdWx0cygpLG89ITApLHRoaXMuc2V0U3RhdGUoe2FnZ3JlZ2F0aW9uRGlydHk6b30pfX19LHtrZXk6ImZpbmFsaXplU3RhdGUiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5zdGF0ZS53ZWlnaHRzLmNvdW50O3QmJnQuYWdncmVnYXRpb25CdWZmZXImJnQuYWdncmVnYXRpb25CdWZmZXIuZGVsZXRlKCk7dmFyIG49dGhpcy5zdGF0ZS5ncHVHcmlkQWdncmVnYXRvcjtuJiZuLmRlbGV0ZSgpLGcoKSh2KCkoZS5wcm90b3R5cGUpLCJmaW5hbGl6ZVN0YXRlIix0aGlzKS5jYWxsKHRoaXMpfX0se2tleToidXBkYXRlU2hhZGVycyIsdmFsdWU6ZnVuY3Rpb24odCl7dGhpcy5zdGF0ZS5ncHVBZ2dyZWdhdGlvbiYmdGhpcy5zdGF0ZS5ncHVHcmlkQWdncmVnYXRvci51cGRhdGVTaGFkZXJzKHQpfX0se2tleToidXBkYXRlQWdncmVnYXRpb25TdGF0ZSIsdmFsdWU6ZnVuY3Rpb24odCl7Yi5hLmFzc2VydCghMSl9fSx7a2V5OiJhbGxvY2F0ZVJlc291cmNlcyIsdmFsdWU6ZnVuY3Rpb24odCxlKXtpZih0aGlzLnN0YXRlLm51bVJvdyE9PXR8fHRoaXMuc3RhdGUubnVtQ29sIT09ZSl7dmFyIG49ZSp0KjQqNCxyPXRoaXMuY29udGV4dC5nbCxpPXRoaXMuc3RhdGUud2VpZ2h0cztmb3IodmFyIGEgaW4gaSl7dmFyIG89aVthXTtvLmFnZ3JlZ2F0aW9uQnVmZmVyJiZvLmFnZ3JlZ2F0aW9uQnVmZmVyLmRlbGV0ZSgpLG8uYWdncmVnYXRpb25CdWZmZXI9bmV3IHZ0LmEocix7Ynl0ZUxlbmd0aDpuLGFjY2Vzc29yOntzaXplOjQsdHlwZTo1MTI2LGRpdmlzb3I6MX19KX19fX0se2tleToidXBkYXRlUmVzdWx0cyIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dC5hZ2dyZWdhdGlvbkRhdGEsbj10Lm1heE1pbkRhdGEscj10Lm1heERhdGEsaT10Lm1pbkRhdGEsYT10aGlzLnN0YXRlLndlaWdodHMuY291bnQ7YSYmKGEuYWdncmVnYXRpb25EYXRhPWUsYS5tYXhNaW5EYXRhPW4sYS5tYXhEYXRhPXIsYS5taW5EYXRhPWkpfX0se2tleToiX3VwZGF0ZUFnZ3JlZ2F0aW9uIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLnN0YXRlLG49ZS5jcHVHcmlkQWdncmVnYXRvcixyPWUuZ3B1R3JpZEFnZ3JlZ2F0b3IsaT1lLmdyaWRPZmZzZXQsYT1lLnBvc09mZnNldCxvPWUudHJhbnNsYXRpb24scz12b2lkIDA9PT1vP1swLDBdOm8sdT1lLnNjYWxpbmcsYz12b2lkIDA9PT11P1swLDAsMF06dSxsPWUuYm91bmRpbmdCb3gsaD1lLnByb2plY3RQb2ludHMsZj1lLmdwdUFnZ3JlZ2F0aW9uLGQ9ZS5udW1Db2wsdj1lLm51bVJvdyxwPXQucHJvcHMsZz10aGlzLmNvbnRleHQudmlld3BvcnQseT10aGlzLmdldEF0dHJpYnV0ZXMoKSxtPXRoaXMuZ2V0TnVtSW5zdGFuY2VzKCk7aWYoZil7dmFyIGI9dGhpcy5zdGF0ZS53ZWlnaHRzO3IucnVuKHt3ZWlnaHRzOmIsY2VsbFNpemU6W2kueE9mZnNldCxpLnlPZmZzZXRdLG51bUNvbDpkLG51bVJvdzp2LHRyYW5zbGF0aW9uOnMsc2NhbGluZzpjLHZlcnRleENvdW50Om0scHJvamVjdFBvaW50czpoLGF0dHJpYnV0ZXM6eSxtb2R1bGVTZXR0aW5nczp0aGlzLmdldE1vZHVsZVNldHRpbmdzKCl9KX1lbHNle3ZhciBfPW4ocCx7Z3JpZE9mZnNldDppLHByb2plY3RQb2ludHM6aCxhdHRyaWJ1dGVzOnksdmlld3BvcnQ6Zyxwb3NPZmZzZXQ6YSxib3VuZGluZ0JveDpsfSk7dGhpcy5zZXRTdGF0ZSh7bGF5ZXJEYXRhOl99KX19fSx7a2V5OiJfdXBkYXRlV2VpZ2h0QmlucyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnN0YXRlLmdldFZhbHVlLGU9bmV3IEN0KHRoaXMuc3RhdGUubGF5ZXJEYXRhLmRhdGF8fFtdLHtnZXRWYWx1ZTp0fSk7dGhpcy5zZXRTdGF0ZSh7c29ydGVkQmluczplfSl9fSx7a2V5OiJfdXBsb2FkQWdncmVnYXRpb25SZXN1bHRzIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMuc3RhdGUsZT10Lm51bUNvbCxuPXQubnVtUm93LHI9dGhpcy5zdGF0ZS5sYXllckRhdGEuZGF0YSxpPXRoaXMuc3RhdGUuc29ydGVkQmlucyxhPWkuYWdncmVnYXRlZEJpbnMsbz1pLm1pblZhbHVlLHM9aS5tYXhWYWx1ZSx1PWkudG90YWxDb3VudCxjPW5ldyBGbG9hdDMyQXJyYXkoZSpuKjQpLmZpbGwoMCksbD0hMCxoPSExLGY9dm9pZCAwO3RyeXtmb3IodmFyIGQsdj1hW1N5bWJvbC5pdGVyYXRvcl0oKTshKGw9KGQ9di5uZXh0KCkpLmRvbmUpO2w9ITApe3ZhciBwPWQudmFsdWUsZz1yW3AuaV0seT1nLmxvbklkeCxtPWcubGF0SWR4LGI9cC52YWx1ZSxfPXAuY291bnRzLE89NCooeSttKmUpO2NbT109YixjW08rNC0xXT1ffX1jYXRjaCh0KXtoPSEwLGY9dH1maW5hbGx5e3RyeXtsfHxudWxsPT12LnJldHVybnx8di5yZXR1cm4oKX1maW5hbGx5e2lmKGgpdGhyb3cgZn19dmFyIHg9bmV3IEZsb2F0MzJBcnJheShbcywwLDAsb10pLHc9bmV3IEZsb2F0MzJBcnJheShbcywwLDAsdV0pLGs9bmV3IEZsb2F0MzJBcnJheShbbywwLDAsdV0pO3RoaXMudXBkYXRlUmVzdWx0cyh7YWdncmVnYXRpb25EYXRhOmMsbWF4TWluRGF0YTp4LG1heERhdGE6dyxtaW5EYXRhOmt9KX19XSksZX0oZHQpO1Z0LmxheWVyTmFtZT0iR3JpZEFnZ3JlZ2F0aW9uTGF5ZXIiO3ZhciBHdD1PYmplY3QuYXNzaWduKHt9LHV0LmRlZmF1bHRQcm9wcyx7Z2V0UG9zaXRpb246e3R5cGU6ImFjY2Vzc29yIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdC5wb3NpdGlvbn19LGdldFdlaWdodDp7dHlwZToiYWNjZXNzb3IiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiAxfX0sZ3B1QWdncmVnYXRpb246ITAsYWdncmVnYXRpb246IlNVTSJ9KSxXdD17ZGF0YTp7cHJvcHM6WyJjZWxsU2l6ZVBpeGVscyJdfSx3ZWlnaHRzOntwcm9wczpbImFnZ3JlZ2F0aW9uIl0sYWNjZXNzb3JzOlsiZ2V0V2VpZ2h0Il19fSxIdD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7cmV0dXJuIHUoKSh0aGlzLGUpLGYoKSh0aGlzLHYoKShlKS5hcHBseSh0aGlzLGFyZ3VtZW50cykpfXJldHVybiBtKCkoZSx0KSxsKCkoZSxbe2tleToiaW5pdGlhbGl6ZVN0YXRlIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0LG49dGhpcy5jb250ZXh0LmdsO2lmKCF1dC5pc1N1cHBvcnRlZChuKSlyZXR1cm4gdGhpcy5zZXRTdGF0ZSh7c3VwcG9ydGVkOiExfSksdm9pZCBiLmEuZXJyb3IoIlNjcmVlbkdyaWRMYXllcjogIi5jb25jYXQodGhpcy5pZCwiIGlzIG5vdCBzdXBwb3J0ZWQgb24gdGhpcyBicm93c2VyIikpKCk7ZygpKHYoKShlLnByb3RvdHlwZSksImluaXRpYWxpemVTdGF0ZSIsdGhpcykuY2FsbCh0aGlzLHtkaW1lbnNpb25zOld0LGdldENlbGxTaXplOmZ1bmN0aW9uKHQpe3JldHVybiB0LmNlbGxTaXplUGl4ZWxzfX0pO3ZhciByPXtjb3VudDp7c2l6ZToxLG9wZXJhdGlvbjpFLlNVTSxuZWVkTWF4OiEwLG1heFRleHR1cmU6VyhuLHtpZDoiIi5jb25jYXQodGhpcy5pZCwiLW1heC10ZXh0dXJlIil9KX19O3RoaXMuc2V0U3RhdGUoe3N1cHBvcnRlZDohMCxwcm9qZWN0UG9pbnRzOiEwLHdlaWdodHM6cixzdWJMYXllckRhdGE6e2F0dHJpYnV0ZXM6e319LG1heFRleHR1cmU6ci5jb3VudC5tYXhUZXh0dXJlLHBvc2l0aW9uQXR0cmlidXRlTmFtZToicG9zaXRpb25zIixwb3NPZmZzZXQ6WzAsMF0sdHJhbnNsYXRpb246WzEsLTFdfSksdGhpcy5nZXRBdHRyaWJ1dGVNYW5hZ2VyKCkuYWRkKCh0PXt9LG8oKSh0LCJwb3NpdGlvbnMiLHtzaXplOjMsYWNjZXNzb3I6ImdldFBvc2l0aW9uIix0eXBlOjUxMzAsZnA2NDp0aGlzLnVzZTY0Yml0UG9zaXRpb25zKCl9KSxvKCkodCwiY291bnQiLHtzaXplOjMsYWNjZXNzb3I6ImdldFdlaWdodCJ9KSx0KSl9fSx7a2V5OiJzaG91bGRVcGRhdGVTdGF0ZSIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dC5jaGFuZ2VGbGFncztyZXR1cm4gdGhpcy5zdGF0ZS5zdXBwb3J0ZWQmJmUuc29tZXRoaW5nQ2hhbmdlZH19LHtrZXk6InVwZGF0ZVN0YXRlIix2YWx1ZTpmdW5jdGlvbih0KXtnKCkodigpKGUucHJvdG90eXBlKSwidXBkYXRlU3RhdGUiLHRoaXMpLmNhbGwodGhpcyx0KX19LHtrZXk6InJlbmRlckxheWVycyIsdmFsdWU6ZnVuY3Rpb24oKXtpZighdGhpcy5zdGF0ZS5zdXBwb3J0ZWQpcmV0dXJuW107dmFyIHQ9dGhpcy5zdGF0ZSxlPXQubWF4VGV4dHVyZSxuPXQubnVtUm93LHI9dC5udW1Db2wsaT10LndlaWdodHMsYT10aGlzLnByb3BzLnVwZGF0ZVRyaWdnZXJzLG89aS5jb3VudC5hZ2dyZWdhdGlvbkJ1ZmZlcjtyZXR1cm4gbmV3KHRoaXMuZ2V0U3ViTGF5ZXJDbGFzcygiY2VsbHMiLHV0KSkodGhpcy5wcm9wcyx0aGlzLmdldFN1YkxheWVyUHJvcHMoe2lkOiJjZWxsLWxheWVyIix1cGRhdGVUcmlnZ2VyczphfSkse2RhdGE6e2F0dHJpYnV0ZXM6e2luc3RhbmNlQ291bnRzOm99fSxtYXhUZXh0dXJlOmUsbnVtSW5zdGFuY2VzOm4qcn0pfX0se2tleToiZmluYWxpemVTdGF0ZSIsdmFsdWU6ZnVuY3Rpb24oKXtnKCkodigpKGUucHJvdG90eXBlKSwiZmluYWxpemVTdGF0ZSIsdGhpcykuY2FsbCh0aGlzKTt2YXIgdD10aGlzLnN0YXRlLG49dC5hZ2dyZWdhdGlvbkJ1ZmZlcixyPXQubWF4QnVmZmVyLGk9dC5ncHVHcmlkQWdncmVnYXRvcixhPXQubWF4VGV4dHVyZTtpLmRlbGV0ZSgpLG4mJm4uZGVsZXRlKCksciYmci5kZWxldGUoKSxhJiZhLmRlbGV0ZSgpfX0se2tleToiZ2V0UGlja2luZ0luZm8iLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXQuaW5mbyxuPSh0Lm1vZGUsZS5pbmRleCk7aWYobj49MCl7dmFyIHI9dGhpcy5zdGF0ZS5ncHVHcmlkQWdncmVnYXRvci5nZXREYXRhKCJjb3VudCIpO2Uub2JqZWN0PUsuZ2V0QWdncmVnYXRpb25EYXRhKE9iamVjdC5hc3NpZ24oe3BpeGVsSW5kZXg6bn0scikpfXJldHVybiBlfX0se2tleToidXBkYXRlUmVzdWx0cyIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dC5hZ2dyZWdhdGlvbkRhdGEsbj10Lm1heERhdGEscj10aGlzLnN0YXRlLndlaWdodHMuY291bnQ7ci5hZ2dyZWdhdGlvbkRhdGE9ZSxyLmFnZ3JlZ2F0aW9uQnVmZmVyLnNldERhdGEoe2RhdGE6ZX0pLHIubWF4RGF0YT1uLHIubWF4VGV4dHVyZS5zZXRJbWFnZURhdGEoe2RhdGE6bn0pfX0se2tleToidXBkYXRlQWdncmVnYXRpb25TdGF0ZSIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dC5wcm9wcy5jZWxsU2l6ZVBpeGVscyxuPXQub2xkUHJvcHMuY2VsbFNpemVQaXhlbHMhPT1lLHI9dC5jaGFuZ2VGbGFncy52aWV3cG9ydENoYW5nZWQsaT10LnByb3BzLmdwdUFnZ3JlZ2F0aW9uO3RoaXMuc3RhdGUuZ3B1QWdncmVnYXRpb24hPT10LnByb3BzLmdwdUFnZ3JlZ2F0aW9uJiZpJiYhSy5pc1N1cHBvcnRlZCh0aGlzLmNvbnRleHQuZ2wpJiYoYi5hLndhcm4oIkdQVSBHcmlkIEFnZ3JlZ2F0aW9uIG5vdCBzdXBwb3J0ZWQsIGZhbGxpbmcgYmFjayB0byBDUFUiKSgpLGk9ITEpO3ZhciBhPWkhPT10aGlzLnN0YXRlLmdwdUFnZ3JlZ2F0aW9uO3RoaXMuc2V0U3RhdGUoe2dwdUFnZ3JlZ2F0aW9uOml9KTt2YXIgbz10aGlzLmlzQXR0cmlidXRlQ2hhbmdlZCgicG9zaXRpb25zIikscz10aGlzLnN0YXRlLmRpbWVuc2lvbnMsdT1zLmRhdGEsYz1zLndlaWdodHMsbD1vfHxhfHxyfHx0aGlzLmlzQWdncmVnYXRpb25EaXJ0eSh0LHtjb21wYXJlQWxsOmksZGltZW5zaW9uOnV9KSxoPXRoaXMuaXNBZ2dyZWdhdGlvbkRpcnR5KHQse2RpbWVuc2lvbjpjfSk7dGhpcy5zZXRTdGF0ZSh7YWdncmVnYXRpb25EYXRhRGlydHk6bCxhZ2dyZWdhdGlvbldlaWdodHNEaXJ0eTpofSk7dmFyIGY9dGhpcy5jb250ZXh0LnZpZXdwb3J0O2lmKHJ8fG4pe3ZhciBkPWYud2lkdGgsdj1mLmhlaWdodCxwPU1hdGguY2VpbChkL2UpLGc9TWF0aC5jZWlsKHYvZSk7dGhpcy5hbGxvY2F0ZVJlc291cmNlcyhnLHApLHRoaXMuc2V0U3RhdGUoe3NjYWxpbmc6W2QvMiwtdi8yLDFdLGdyaWRPZmZzZXQ6e3hPZmZzZXQ6ZSx5T2Zmc2V0OmV9LHdpZHRoOmQsaGVpZ2h0OnYsbnVtQ29sOnAsbnVtUm93Omd9KX1oJiZ0aGlzLl91cGRhdGVBY2Nlc3NvcnModCksKGx8fGgpJiZ0aGlzLl9yZXNldFJlc3VsdHMoKX19LHtrZXk6Il91cGRhdGVBY2Nlc3NvcnMiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXQucHJvcHMsbj1lLmdldFdlaWdodCxyPWUuYWdncmVnYXRpb24saT10aGlzLnN0YXRlLndlaWdodHMuY291bnQ7aSYmKGkuZ2V0V2VpZ2h0PW4saS5vcGVyYXRpb249RVtyXSksdGhpcy5zZXRTdGF0ZSh7Z2V0VmFsdWU6TChyLG4pfSl9fSx7a2V5OiJfcmVzZXRSZXN1bHRzIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMuc3RhdGUud2VpZ2h0cy5jb3VudDt0JiYodC5hZ2dyZWdhdGlvbkRhdGE9bnVsbCl9fV0pLGV9KFZ0KTtIdC5sYXllck5hbWU9IlNjcmVlbkdyaWRMYXllciIsSHQuZGVmYXVsdFByb3BzPUd0O3ZhciBxdD1uKDIwNSksWHQ9big0MSksWnQ9bi5uKFh0KTtmdW5jdGlvbiBZdCgpe312YXIgS3Q9WyJnZXRCaW5zIiwiZ2V0RG9tYWluIiwiZ2V0U2NhbGVGdW5jIl0sUXQ9W3trZXk6ImZpbGxDb2xvciIsYWNjZXNzb3I6ImdldEZpbGxDb2xvciIscGlja2luZ0luZm86ImNvbG9yVmFsdWUiLGdldEJpbnM6e3RyaWdnZXJzOnt2YWx1ZTp7cHJvcDoiZ2V0Q29sb3JWYWx1ZSIsdXBkYXRlVHJpZ2dlcjoiZ2V0Q29sb3JWYWx1ZSJ9LHdlaWdodDp7cHJvcDoiZ2V0Q29sb3JXZWlnaHQiLHVwZGF0ZVRyaWdnZXI6ImdldENvbG9yV2VpZ2h0In0sYWdncmVnYXRpb246e3Byb3A6ImNvbG9yQWdncmVnYXRpb24ifSxmaWx0ZXJEYXRhOntwcm9wOiJfZmlsdGVyRGF0YSIsdXBkYXRlVHJpZ2dlcjoiX2ZpbHRlckRhdGEifX19LGdldERvbWFpbjp7dHJpZ2dlcnM6e2xvd2VyUGVyY2VudGlsZTp7cHJvcDoibG93ZXJQZXJjZW50aWxlIn0sdXBwZXJQZXJjZW50aWxlOntwcm9wOiJ1cHBlclBlcmNlbnRpbGUifSxzY2FsZVR5cGU6e3Byb3A6ImNvbG9yU2NhbGVUeXBlIn19fSxnZXRTY2FsZUZ1bmM6e3RyaWdnZXJzOntkb21haW46e3Byb3A6ImNvbG9yRG9tYWluIn0scmFuZ2U6e3Byb3A6ImNvbG9yUmFuZ2UifX0sb25TZXQ6e3Byb3BzOiJvblNldENvbG9yRG9tYWluIn19LG51bGxWYWx1ZTpbMCwwLDAsMF19LHtrZXk6ImVsZXZhdGlvbiIsYWNjZXNzb3I6ImdldEVsZXZhdGlvbiIscGlja2luZ0luZm86ImVsZXZhdGlvblZhbHVlIixnZXRCaW5zOnt0cmlnZ2Vyczp7dmFsdWU6e3Byb3A6ImdldEVsZXZhdGlvblZhbHVlIix1cGRhdGVUcmlnZ2VyOiJnZXRFbGV2YXRpb25WYWx1ZSJ9LHdlaWdodDp7cHJvcDoiZ2V0RWxldmF0aW9uV2VpZ2h0Iix1cGRhdGVUcmlnZ2VyOiJnZXRFbGV2YXRpb25XZWlnaHQifSxhZ2dyZWdhdGlvbjp7cHJvcDoiZWxldmF0aW9uQWdncmVnYXRpb24ifSxmaWx0ZXJEYXRhOntwcm9wOiJfZmlsdGVyRGF0YSIsdXBkYXRlVHJpZ2dlcjoiX2ZpbHRlckRhdGEifX19LGdldERvbWFpbjp7dHJpZ2dlcnM6e2xvd2VyUGVyY2VudGlsZTp7cHJvcDoiZWxldmF0aW9uTG93ZXJQZXJjZW50aWxlIn0sdXBwZXJQZXJjZW50aWxlOntwcm9wOiJlbGV2YXRpb25VcHBlclBlcmNlbnRpbGUifSxzY2FsZVR5cGU6e3Byb3A6ImVsZXZhdGlvblNjYWxlVHlwZSJ9fX0sZ2V0U2NhbGVGdW5jOnt0cmlnZ2Vyczp7ZG9tYWluOntwcm9wOiJlbGV2YXRpb25Eb21haW4ifSxyYW5nZTp7cHJvcDoiZWxldmF0aW9uUmFuZ2UifX0sb25TZXQ6e3Byb3BzOiJvblNldEVsZXZhdGlvbkRvbWFpbiJ9fSxudWxsVmFsdWU6LTF9XSxKdD1mdW5jdGlvbih0KXtyZXR1cm4gdC5jZWxsU2l6ZX0sJHQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUpe3UoKSh0aGlzLHQpLHRoaXMuc3RhdGU9e2xheWVyRGF0YTp7fSxkaW1lbnNpb25zOnt9fSx0aGlzLmNoYW5nZUZsYWdzPXt9LHRoaXMuZGltZW5zaW9uVXBkYXRlcnM9e30sdGhpcy5fZ2V0Q2VsbFNpemU9ZS5nZXRDZWxsU2l6ZXx8SnQsdGhpcy5fZ2V0QWdncmVnYXRvcj1lLmdldEFnZ3JlZ2F0b3IsdGhpcy5fYWRkRGltZW5zaW9uKGUuZGltZW5zaW9uc3x8UXQpfXJldHVybiBsKCkodCxbe2tleToidXBkYXRlU3RhdGUiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dmFyIG49dC5vbGRQcm9wcyxyPXQucHJvcHMsaT10LmNoYW5nZUZsYWdzO3RoaXMudXBkYXRlR2V0VmFsdWVGdW5jcyhuLHIsaSk7dmFyIGE9dGhpcy5uZWVkc1JlUHJvamVjdFBvaW50cyhuLHIsaSksbz0hMTtpLmRhdGFDaGFuZ2VkfHxhPyh0aGlzLmdldEFnZ3JlZ2F0ZWREYXRhKHIsZSksbz0hMCk6KCh0aGlzLmdldERpbWVuc2lvbkNoYW5nZXMobixyLGkpfHxbXSkuZm9yRWFjaCgoZnVuY3Rpb24odCl7cmV0dXJuImZ1bmN0aW9uIj09dHlwZW9mIHQmJnQoKX0pKSxvPSEwKTtyZXR1cm4gdGhpcy5zZXRTdGF0ZSh7YWdncmVnYXRpb25EaXJ0eTpvfSksdGhpcy5zdGF0ZX19LHtrZXk6InNldFN0YXRlIix2YWx1ZTpmdW5jdGlvbih0KXt0aGlzLnN0YXRlPU9iamVjdC5hc3NpZ24oe30sdGhpcy5zdGF0ZSx0KX19LHtrZXk6InNldERpbWVuc2lvblN0YXRlIix2YWx1ZTpmdW5jdGlvbih0LGUpe3RoaXMuc2V0U3RhdGUoe2RpbWVuc2lvbnM6T2JqZWN0LmFzc2lnbih7fSx0aGlzLnN0YXRlLmRpbWVuc2lvbnMsbygpKHt9LHQsT2JqZWN0LmFzc2lnbih7fSx0aGlzLnN0YXRlLmRpbWVuc2lvbnNbdF0sZSkpKX0pfX0se2tleToibm9ybWFsaXplUmVzdWx0Iix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fTtyZXR1cm4gdC5oZXhhZ29ucz9PYmplY3QuYXNzaWduKHtkYXRhOnQuaGV4YWdvbnN9LHQpOnQubGF5ZXJEYXRhP09iamVjdC5hc3NpZ24oe2RhdGE6dC5sYXllckRhdGF9LHQpOnR9fSx7a2V5OiJnZXRBZ2dyZWdhdGVkRGF0YSIsdmFsdWU6ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLl9nZXRBZ2dyZWdhdG9yKHQpKHQsZSk7dGhpcy5zZXRTdGF0ZSh7bGF5ZXJEYXRhOnRoaXMubm9ybWFsaXplUmVzdWx0KG4pfSksdGhpcy5jaGFuZ2VGbGFncz17bGF5ZXJEYXRhOiEwfSx0aGlzLmdldFNvcnRlZEJpbnModCl9fSx7a2V5OiJ1cGRhdGVHZXRWYWx1ZUZ1bmNzIix2YWx1ZTpmdW5jdGlvbih0LGUsbil7Zm9yKHZhciByIGluIHRoaXMuZGltZW5zaW9uVXBkYXRlcnMpe3ZhciBpPXRoaXMuZGltZW5zaW9uVXBkYXRlcnNbcl0uZ2V0Qmlucy50cmlnZ2VycyxhPWkudmFsdWUsbz1pLndlaWdodCxzPWkuYWdncmVnYXRpb24sdT1lW2EucHJvcF07dGhpcy5uZWVkVXBkYXRlRGltZW5zaW9uU3RlcCh0aGlzLmRpbWVuc2lvblVwZGF0ZXJzW3JdLmdldEJpbnMsdCxlLG4pJiZudWxsPT09dSYmKHU9TChlW3MucHJvcF0sZVtvLnByb3BdKSksdSYmdGhpcy5zZXREaW1lbnNpb25TdGF0ZShyLHtnZXRWYWx1ZTp1fSl9fX0se2tleToibmVlZHNSZVByb2plY3RQb2ludHMiLHZhbHVlOmZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gdGhpcy5fZ2V0Q2VsbFNpemUodCkhPT10aGlzLl9nZXRDZWxsU2l6ZShlKXx8dGhpcy5fZ2V0QWdncmVnYXRvcih0KSE9PXRoaXMuX2dldEFnZ3JlZ2F0b3IoZSl8fG4udXBkYXRlVHJpZ2dlcnNDaGFuZ2VkJiYobi51cGRhdGVUcmlnZ2Vyc0NoYW5nZWQuYWxsfHxuLnVwZGF0ZVRyaWdnZXJzQ2hhbmdlZC5nZXRQb3NpdGlvbil9fSx7a2V5OiJhZGREaW1lbnNpb24iLHZhbHVlOmZ1bmN0aW9uKHQpe3RoaXMuX2FkZERpbWVuc2lvbih0KX19LHtrZXk6Il9hZGREaW1lbnNpb24iLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcyxlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTpbXTtlLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciBuPWUua2V5O3QuZGltZW5zaW9uVXBkYXRlcnNbbl09dC5nZXREaW1lbnNpb25VcGRhdGVycyhlKSx0LnN0YXRlLmRpbWVuc2lvbnNbbl09e2dldFZhbHVlOm51bGwsZG9tYWluOm51bGwsc29ydGVkQmluczpudWxsLHNjYWxlRnVuYzpZdH19KSl9fSx7a2V5OiJnZXREaW1lbnNpb25VcGRhdGVycyIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dC5rZXksbj10LmFjY2Vzc29yLHI9dC5waWNraW5nSW5mbyxpPXQuZ2V0QmlucyxhPXQuZ2V0RG9tYWluLG89dC5nZXRTY2FsZUZ1bmMscz10Lm51bGxWYWx1ZTtyZXR1cm57a2V5OmUsYWNjZXNzb3I6bixwaWNraW5nSW5mbzpyLGdldEJpbnM6T2JqZWN0LmFzc2lnbih7dXBkYXRlcjp0aGlzLmdldERpbWVuc2lvblNvcnRlZEJpbnN9LGkpLGdldERvbWFpbjpPYmplY3QuYXNzaWduKHt1cGRhdGVyOnRoaXMuZ2V0RGltZW5zaW9uVmFsdWVEb21haW59LGEpLGdldFNjYWxlRnVuYzpPYmplY3QuYXNzaWduKHt1cGRhdGVyOnRoaXMuZ2V0RGltZW5zaW9uU2NhbGV9LG8pLGF0dHJpYnV0ZUFjY2Vzc29yOnRoaXMuZ2V0U3ViTGF5ZXJEaW1lbnNpb25BdHRyaWJ1dGUoZSxzKX19fSx7a2V5OiJuZWVkVXBkYXRlRGltZW5zaW9uU3RlcCIsdmFsdWU6ZnVuY3Rpb24odCxlLG4scil7cmV0dXJuIE9iamVjdC52YWx1ZXModC50cmlnZ2Vycykuc29tZSgoZnVuY3Rpb24odCl7cmV0dXJuIHQudXBkYXRlVHJpZ2dlcj9yLnVwZGF0ZVRyaWdnZXJzQ2hhbmdlZCYmKHIudXBkYXRlVHJpZ2dlcnNDaGFuZ2VkLmFsbHx8ci51cGRhdGVUcmlnZ2Vyc0NoYW5nZWRbdC51cGRhdGVUcmlnZ2VyXSk6ZVt0LnByb3BdIT09blt0LnByb3BdfSkpfX0se2tleToiZ2V0RGltZW5zaW9uQ2hhbmdlcyIsdmFsdWU6ZnVuY3Rpb24odCxlLG4pe3ZhciByPXRoaXMsaT1bXSxhPWZ1bmN0aW9uKGEpe3ZhciBvPUt0LmZpbmQoKGZ1bmN0aW9uKGkpe3JldHVybiByLm5lZWRVcGRhdGVEaW1lbnNpb25TdGVwKHIuZGltZW5zaW9uVXBkYXRlcnNbYV1baV0sdCxlLG4pfSkpO28mJmkucHVzaChyLmRpbWVuc2lvblVwZGF0ZXJzW2FdW29dLnVwZGF0ZXIuYmluZChyLGUsci5kaW1lbnNpb25VcGRhdGVyc1thXSkpfTtmb3IodmFyIG8gaW4gdGhpcy5kaW1lbnNpb25VcGRhdGVycylhKG8pO3JldHVybiBpLmxlbmd0aD9pOm51bGx9fSx7a2V5OiJnZXRVcGRhdGVUcmlnZ2VycyIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcyxuPXQudXBkYXRlVHJpZ2dlcnN8fHt9LHI9e30saT1mdW5jdGlvbihpKXt2YXIgYT1lLmRpbWVuc2lvblVwZGF0ZXJzW2ldLmFjY2Vzc29yO3JbYV09e30sS3QuZm9yRWFjaCgoZnVuY3Rpb24obyl7T2JqZWN0LnZhbHVlcyhlLmRpbWVuc2lvblVwZGF0ZXJzW2ldW29dLnRyaWdnZXJzKS5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgaT1lLnByb3Asbz1lLnVwZGF0ZVRyaWdnZXI7aWYobyl7dmFyIHM9bltvXTsib2JqZWN0IiE9PVp0KCkocyl8fEFycmF5LmlzQXJyYXkocyk/dm9pZCAwIT09cyYmKHJbYV1baV09cyk6T2JqZWN0LmFzc2lnbihyW2FdLHMpfWVsc2UgclthXVtpXT10W2ldfSkpfSkpfTtmb3IodmFyIGEgaW4gdGhpcy5kaW1lbnNpb25VcGRhdGVycylpKGEpO3JldHVybiByfX0se2tleToiZ2V0U29ydGVkQmlucyIsdmFsdWU6ZnVuY3Rpb24odCl7Zm9yKHZhciBlIGluIHRoaXMuZGltZW5zaW9uVXBkYXRlcnMpdGhpcy5nZXREaW1lbnNpb25Tb3J0ZWRCaW5zKHQsdGhpcy5kaW1lbnNpb25VcGRhdGVyc1tlXSl9fSx7a2V5OiJnZXREaW1lbnNpb25Tb3J0ZWRCaW5zIix2YWx1ZTpmdW5jdGlvbih0LGUpe3ZhciBuPWUua2V5LHI9dGhpcy5zdGF0ZS5kaW1lbnNpb25zW25dLmdldFZhbHVlLGk9bmV3IEN0KHRoaXMuc3RhdGUubGF5ZXJEYXRhLmRhdGF8fFtdLHtnZXRWYWx1ZTpyLGZpbHRlckRhdGE6dC5fZmlsdGVyRGF0YX0pO3RoaXMuc2V0RGltZW5zaW9uU3RhdGUobix7c29ydGVkQmluczppfSksdGhpcy5nZXREaW1lbnNpb25WYWx1ZURvbWFpbih0LGUpfX0se2tleToiZ2V0RGltZW5zaW9uVmFsdWVEb21haW4iLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dmFyIG49ZS5nZXREb21haW4scj1lLmtleSxpPW4udHJpZ2dlcnMsYT1pLmxvd2VyUGVyY2VudGlsZSxvPWkudXBwZXJQZXJjZW50aWxlLHM9aS5zY2FsZVR5cGUsdT10aGlzLnN0YXRlLmRpbWVuc2lvbnNbcl0uc29ydGVkQmlucy5nZXRWYWx1ZURvbWFpbkJ5U2NhbGUodFtzLnByb3BdLFt0W2EucHJvcF0sdFtvLnByb3BdXSk7dGhpcy5zZXREaW1lbnNpb25TdGF0ZShyLHt2YWx1ZURvbWFpbjp1fSksdGhpcy5nZXREaW1lbnNpb25TY2FsZSh0LGUpfX0se2tleToiZ2V0RGltZW5zaW9uU2NhbGUiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dmFyIG49ZS5rZXkscj1lLmdldFNjYWxlRnVuYyxpPWUuZ2V0RG9tYWluLGE9ci50cmlnZ2VycyxvPWEuZG9tYWluLHM9YS5yYW5nZSx1PWkudHJpZ2dlcnMuc2NhbGVUeXBlLGM9ci5vblNldCxsPXRbcy5wcm9wXSxoPXRbby5wcm9wXXx8dGhpcy5zdGF0ZS5kaW1lbnNpb25zW25dLnZhbHVlRG9tYWluLGY9ZnVuY3Rpb24odCl7c3dpdGNoKHQpe2Nhc2UicXVhbnRpemUiOnJldHVybiBtdDtjYXNlImxpbmVhciI6cmV0dXJuIGJ0O2Nhc2UicXVhbnRpbGUiOnJldHVybiBfdDtjYXNlIm9yZGluYWwiOnJldHVybiB3dDtkZWZhdWx0OnJldHVybiBtdH19KHUmJnRbdS5wcm9wXSkoaCxsKTsib2JqZWN0Ij09PVp0KCkoYykmJiJmdW5jdGlvbiI9PXR5cGVvZiB0W2MucHJvcHNdJiZ0W2MucHJvcHNdKGYuZG9tYWluKCkpLHRoaXMuc2V0RGltZW5zaW9uU3RhdGUobix7c2NhbGVGdW5jOmZ9KX19LHtrZXk6ImdldFN1YkxheWVyRGltZW5zaW9uQXR0cmlidXRlIix2YWx1ZTpmdW5jdGlvbih0LGUpe3ZhciBuPXRoaXM7cmV0dXJuIGZ1bmN0aW9uKHIpe3ZhciBpPW4uc3RhdGUuZGltZW5zaW9uc1t0XSxhPWkuc29ydGVkQmlucyxvPWkuc2NhbGVGdW5jLHM9YS5iaW5NYXBbci5pbmRleF07aWYocyYmMD09PXMuY291bnRzKXJldHVybiBlO3ZhciB1PXMmJnMudmFsdWUsYz1vLmRvbWFpbigpO3JldHVybiB1Pj1jWzBdJiZ1PD1jW2MubGVuZ3RoLTFdP28odSk6ZX19fSx7a2V5OiJnZXRTdWJMYXllckFjY2Vzc29ycyIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9e307Zm9yKHZhciBuIGluIHRoaXMuZGltZW5zaW9uVXBkYXRlcnMpe2VbdGhpcy5kaW1lbnNpb25VcGRhdGVyc1tuXS5hY2Nlc3Nvcl09dGhpcy5nZXRTdWJMYXllckRpbWVuc2lvbkF0dHJpYnV0ZSh0LG4pfXJldHVybiBlfX0se2tleToiZ2V0UGlja2luZ0luZm8iLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXQuaW5mbyxuPW51bGw7aWYoZS5waWNrZWQmJmUuaW5kZXg+LTEpe3ZhciByPXRoaXMuc3RhdGUubGF5ZXJEYXRhLmRhdGFbZS5pbmRleF0saT17fTtmb3IodmFyIGEgaW4gdGhpcy5kaW1lbnNpb25VcGRhdGVycyl7dmFyIG89dGhpcy5kaW1lbnNpb25VcGRhdGVyc1thXS5waWNraW5nSW5mbyxzPXRoaXMuc3RhdGUuZGltZW5zaW9uc1thXS5zb3J0ZWRCaW5zLHU9cy5iaW5NYXBbci5pbmRleF0mJnMuYmluTWFwW3IuaW5kZXhdLnZhbHVlO2lbb109dX1uPU9iamVjdC5hc3NpZ24oaSxyLHtwb2ludHM6ci5maWx0ZXJlZFBvaW50c3x8ci5wb2ludHN9KX1yZXR1cm4gT2JqZWN0LmFzc2lnbihlLHtwaWNrZWQ6Qm9vbGVhbihuKSxvYmplY3Q6bn0pfX0se2tleToiZ2V0QWNjZXNzb3IiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmRpbWVuc2lvblVwZGF0ZXJzLmhhc093blByb3BlcnR5KHQpP3RoaXMuZGltZW5zaW9uVXBkYXRlcnNbdF0uYXR0cmlidXRlQWNjZXNzb3I6WXR9fV0sW3trZXk6ImRlZmF1bHREaW1lbnNpb25zIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiBRdH19XSksdH0oKTtmdW5jdGlvbiB0ZSgpe312YXIgZWU9e2NvbG9yRG9tYWluOm51bGwsY29sb3JSYW5nZTpudCxnZXRDb2xvclZhbHVlOnt0eXBlOiJhY2Nlc3NvciIsdmFsdWU6bnVsbH0sZ2V0Q29sb3JXZWlnaHQ6e3R5cGU6ImFjY2Vzc29yIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gMX19LGNvbG9yQWdncmVnYXRpb246IlNVTSIsbG93ZXJQZXJjZW50aWxlOnt0eXBlOiJudW1iZXIiLG1pbjowLG1heDoxMDAsdmFsdWU6MH0sdXBwZXJQZXJjZW50aWxlOnt0eXBlOiJudW1iZXIiLG1pbjowLG1heDoxMDAsdmFsdWU6MTAwfSxjb2xvclNjYWxlVHlwZToicXVhbnRpemUiLG9uU2V0Q29sb3JEb21haW46dGUsZWxldmF0aW9uRG9tYWluOm51bGwsZWxldmF0aW9uUmFuZ2U6WzAsMWUzXSxnZXRFbGV2YXRpb25WYWx1ZTp7dHlwZToiYWNjZXNzb3IiLHZhbHVlOm51bGx9LGdldEVsZXZhdGlvbldlaWdodDp7dHlwZToiYWNjZXNzb3IiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiAxfX0sZWxldmF0aW9uQWdncmVnYXRpb246IlNVTSIsZWxldmF0aW9uTG93ZXJQZXJjZW50aWxlOnt0eXBlOiJudW1iZXIiLG1pbjowLG1heDoxMDAsdmFsdWU6MH0sZWxldmF0aW9uVXBwZXJQZXJjZW50aWxlOnt0eXBlOiJudW1iZXIiLG1pbjowLG1heDoxMDAsdmFsdWU6MTAwfSxlbGV2YXRpb25TY2FsZTp7dHlwZToibnVtYmVyIixtaW46MCx2YWx1ZToxfSxlbGV2YXRpb25TY2FsZVR5cGU6ImxpbmVhciIsb25TZXRFbGV2YXRpb25Eb21haW46dGUsZ3JpZEFnZ3JlZ2F0b3I6VXQsY2VsbFNpemU6e3R5cGU6Im51bWJlciIsbWluOjAsbWF4OjFlMyx2YWx1ZToxZTN9LGNvdmVyYWdlOnt0eXBlOiJudW1iZXIiLG1pbjowLG1heDoxLHZhbHVlOjF9LGdldFBvc2l0aW9uOnt0eXBlOiJhY2Nlc3NvciIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHQucG9zaXRpb259fSxleHRydWRlZDohMSxtYXRlcmlhbDohMCxfZmlsdGVyRGF0YTp7dHlwZToiZnVuY3Rpb24iLHZhbHVlOm51bGwsb3B0aW9uYWw6ITB9fSxuZT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7cmV0dXJuIHUoKSh0aGlzLGUpLGYoKSh0aGlzLHYoKShlKS5hcHBseSh0aGlzLGFyZ3VtZW50cykpfXJldHVybiBtKCkoZSx0KSxsKCkoZSxbe2tleToiaW5pdGlhbGl6ZVN0YXRlIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PW5ldyAkdCh7Z2V0QWdncmVnYXRvcjpmdW5jdGlvbih0KXtyZXR1cm4gdC5ncmlkQWdncmVnYXRvcn0sZ2V0Q2VsbFNpemU6ZnVuY3Rpb24odCl7cmV0dXJuIHQuY2VsbFNpemV9fSk7dGhpcy5zdGF0ZT17Y3B1QWdncmVnYXRvcjp0LGFnZ3JlZ2F0b3JTdGF0ZTp0LnN0YXRlfSx0aGlzLmdldEF0dHJpYnV0ZU1hbmFnZXIoKS5hZGQoe3Bvc2l0aW9uczp7c2l6ZTozLGFjY2Vzc29yOiJnZXRQb3NpdGlvbiJ9fSl9fSx7a2V5OiJ1cGRhdGVTdGF0ZSIsdmFsdWU6ZnVuY3Rpb24odCl7ZygpKHYoKShlLnByb3RvdHlwZSksInVwZGF0ZVN0YXRlIix0aGlzKS5jYWxsKHRoaXMsdCksdGhpcy5zZXRTdGF0ZSh7YWdncmVnYXRvclN0YXRlOnRoaXMuc3RhdGUuY3B1QWdncmVnYXRvci51cGRhdGVTdGF0ZSh0LHt2aWV3cG9ydDp0aGlzLmNvbnRleHQudmlld3BvcnQsYXR0cmlidXRlczp0aGlzLmdldEF0dHJpYnV0ZXMoKSxudW1JbnN0YW5jZXM6dGhpcy5nZXROdW1JbnN0YW5jZXModC5wcm9wcyl9KX0pfX0se2tleToiZ2V0UGlja2luZ0luZm8iLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXQuaW5mbztyZXR1cm4gdGhpcy5zdGF0ZS5jcHVBZ2dyZWdhdG9yLmdldFBpY2tpbmdJbmZvKHtpbmZvOmV9KX19LHtrZXk6Il9vbkdldFN1YmxheWVyQ29sb3IiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnN0YXRlLmNwdUFnZ3JlZ2F0b3IuZ2V0QWNjZXNzb3IoImZpbGxDb2xvciIpKHQpfX0se2tleToiX29uR2V0U3VibGF5ZXJFbGV2YXRpb24iLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnN0YXRlLmNwdUFnZ3JlZ2F0b3IuZ2V0QWNjZXNzb3IoImVsZXZhdGlvbiIpKHQpfX0se2tleToiX2dldFN1YmxheWVyVXBkYXRlVHJpZ2dlcnMiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc3RhdGUuY3B1QWdncmVnYXRvci5nZXRVcGRhdGVUcmlnZ2Vycyh0aGlzLnByb3BzKX19LHtrZXk6InJlbmRlckxheWVycyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnByb3BzLGU9dC5lbGV2YXRpb25TY2FsZSxuPXQuZXh0cnVkZWQscj10LmNlbGxTaXplLGk9dC5jb3ZlcmFnZSxhPXQubWF0ZXJpYWwsbz10LnRyYW5zaXRpb25zLHM9dGhpcy5zdGF0ZS5jcHVBZ2dyZWdhdG9yLHU9dGhpcy5nZXRTdWJMYXllckNsYXNzKCJncmlkLWNlbGwiLHF0LmEpLGM9dGhpcy5fZ2V0U3VibGF5ZXJVcGRhdGVUcmlnZ2VycygpO3JldHVybiBuZXcgdSh7Y2VsbFNpemU6cixjb3ZlcmFnZTppLG1hdGVyaWFsOmEsZWxldmF0aW9uU2NhbGU6ZSxleHRydWRlZDpuLGdldEZpbGxDb2xvcjp0aGlzLl9vbkdldFN1YmxheWVyQ29sb3IuYmluZCh0aGlzKSxnZXRFbGV2YXRpb246dGhpcy5fb25HZXRTdWJsYXllckVsZXZhdGlvbi5iaW5kKHRoaXMpLHRyYW5zaXRpb25zOm8mJntnZXRGaWxsQ29sb3I6by5nZXRDb2xvclZhbHVlfHxvLmdldENvbG9yV2VpZ2h0LGdldEVsZXZhdGlvbjpvLmdldEVsZXZhdGlvblZhbHVlfHxvLmdldEVsZXZhdGlvbldlaWdodH19LHRoaXMuZ2V0U3ViTGF5ZXJQcm9wcyh7aWQ6ImdyaWQtY2VsbCIsdXBkYXRlVHJpZ2dlcnM6Y30pLHtkYXRhOnMuc3RhdGUubGF5ZXJEYXRhLmRhdGF9KX19XSksZX0oZHQpO25lLmxheWVyTmFtZT0iQ1BVR3JpZExheWVyIixuZS5kZWZhdWx0UHJvcHM9ZWU7dmFyIHJlPW4oMTU5KSxpZT1NYXRoLlBJLzMsYWU9WzAsaWUsMippZSwzKmllLDQqaWUsNSppZV07ZnVuY3Rpb24gb2UodCl7cmV0dXJuIHRbMF19ZnVuY3Rpb24gc2UodCl7cmV0dXJuIHRbMV19ZnVuY3Rpb24gdWUodCxlKXt2YXIgbj1PYmplY3Qua2V5cyh0KTtpZihPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgcj1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHQpO2UmJihyPXIuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0LGUpLmVudW1lcmFibGV9KSkpLG4ucHVzaC5hcHBseShuLHIpfXJldHVybiBufWZ1bmN0aW9uIGNlKCl7fXZhciBsZT17Y29sb3JEb21haW46bnVsbCxjb2xvclJhbmdlOm50LGdldENvbG9yVmFsdWU6e3R5cGU6ImFjY2Vzc29yIix2YWx1ZTpudWxsfSxnZXRDb2xvcldlaWdodDp7dHlwZToiYWNjZXNzb3IiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiAxfX0sY29sb3JBZ2dyZWdhdGlvbjoiU1VNIixsb3dlclBlcmNlbnRpbGU6e3R5cGU6Im51bWJlciIsdmFsdWU6MCxtaW46MCxtYXg6MTAwfSx1cHBlclBlcmNlbnRpbGU6e3R5cGU6Im51bWJlciIsdmFsdWU6MTAwLG1pbjowLG1heDoxMDB9LGNvbG9yU2NhbGVUeXBlOiJxdWFudGl6ZSIsb25TZXRDb2xvckRvbWFpbjpjZSxlbGV2YXRpb25Eb21haW46bnVsbCxlbGV2YXRpb25SYW5nZTpbMCwxZTNdLGdldEVsZXZhdGlvblZhbHVlOnt0eXBlOiJhY2Nlc3NvciIsdmFsdWU6bnVsbH0sZ2V0RWxldmF0aW9uV2VpZ2h0Ont0eXBlOiJhY2Nlc3NvciIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIDF9fSxlbGV2YXRpb25BZ2dyZWdhdGlvbjoiU1VNIixlbGV2YXRpb25Mb3dlclBlcmNlbnRpbGU6e3R5cGU6Im51bWJlciIsdmFsdWU6MCxtaW46MCxtYXg6MTAwfSxlbGV2YXRpb25VcHBlclBlcmNlbnRpbGU6e3R5cGU6Im51bWJlciIsdmFsdWU6MTAwLG1pbjowLG1heDoxMDB9LGVsZXZhdGlvblNjYWxlOnt0eXBlOiJudW1iZXIiLG1pbjowLHZhbHVlOjF9LGVsZXZhdGlvblNjYWxlVHlwZToibGluZWFyIixvblNldEVsZXZhdGlvbkRvbWFpbjpjZSxyYWRpdXM6e3R5cGU6Im51bWJlciIsdmFsdWU6MWUzLG1pbjoxfSxjb3ZlcmFnZTp7dHlwZToibnVtYmVyIixtaW46MCxtYXg6MSx2YWx1ZToxfSxleHRydWRlZDohMSxoZXhhZ29uQWdncmVnYXRvcjpmdW5jdGlvbih0LGUpe3ZhciBuPXQuZGF0YSxyPXQucmFkaXVzLGk9ZS52aWV3cG9ydCxhPWUuYXR0cmlidXRlcyxvPW4ubGVuZ3RoP2Z1bmN0aW9uKHQsZSl7dmFyIG4scj1lLmF0dHJpYnV0ZXMsaT1yLnBvc2l0aW9ucy52YWx1ZSxhPXIucG9zaXRpb25zLmdldEFjY2Vzc29yKCkuc2l6ZSxvPTEvMCxzPTEvMCx1PS0xLzAsYz0tMS8wO2ZvcihuPTA7bjxhKnQubGVuZ3RoO24rPWEpe3ZhciBsPWlbbl0saD1pW24rMV07TnVtYmVyLmlzRmluaXRlKGwpJiZOdW1iZXIuaXNGaW5pdGUoaCkmJihvPU1hdGgubWluKGwsbyksdT1NYXRoLm1heChsLHUpLHM9TWF0aC5taW4oaCxzKSxjPU1hdGgubWF4KGgsYykpfXJldHVybltvLHMsdSxjXS5ldmVyeShOdW1iZXIuaXNGaW5pdGUpP1sobyt1KS8yLChzK2MpLzJdOm51bGx9KG4sZSk6bnVsbCxzPWZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1lLmdldERpc3RhbmNlU2NhbGVzKG4pLnVuaXRzUGVyTWV0ZXI7cmV0dXJuIHQqclswXX0ocixpLG8pLHU9W10sYz1PYmplY3QoTHQuYSkobiksbD1jLml0ZXJhYmxlLGg9Yy5vYmplY3RJbmZvLGY9YS5wb3NpdGlvbnMudmFsdWUsZD1hLnBvc2l0aW9ucy5nZXRBY2Nlc3NvcigpLnNpemUsdj0hMCxwPSExLGc9dm9pZCAwO3RyeXtmb3IodmFyIHksbT1sW1N5bWJvbC5pdGVyYXRvcl0oKTshKHY9KHk9bS5uZXh0KCkpLmRvbmUpO3Y9ITApe3ZhciBfPXkudmFsdWU7aC5pbmRleCsrO3ZhciBPPWguaW5kZXgqZCx4PVtmW09dLGZbTysxXV07TnVtYmVyLmlzRmluaXRlKHhbMF0pJiZOdW1iZXIuaXNGaW5pdGUoeFsxXSk/dS5wdXNoKE9iamVjdC5hc3NpZ24oe3NjcmVlbkNvb3JkOmkucHJvamVjdEZsYXQoeCl9LF8pKTpiLmEud2FybigiSGV4YWdvbkxheWVyOiBpbnZhbGlkIHBvc2l0aW9uIikoKX19Y2F0Y2godCl7cD0hMCxnPXR9ZmluYWxseXt0cnl7dnx8bnVsbD09bS5yZXR1cm58fG0ucmV0dXJuKCl9ZmluYWxseXtpZihwKXRocm93IGd9fXJldHVybntoZXhhZ29uczpmdW5jdGlvbigpe3ZhciB0LGUsbixyPTAsaT0wLGE9MSxvPTEscz1vZSx1PXNlO2Z1bmN0aW9uIGModCl7dmFyIHIsaT17fSxhPVtdLG89dC5sZW5ndGg7Zm9yKHI9MDtyPG87KytyKWlmKCFpc05hTihsPStzLmNhbGwobnVsbCxjPXRbcl0scix0KSkmJiFpc05hTihoPSt1LmNhbGwobnVsbCxjLHIsdCkpKXt2YXIgYyxsLGgsZj1NYXRoLnJvdW5kKGgvPW4pLGQ9TWF0aC5yb3VuZChsPWwvZS0oMSZmKS8yKSx2PWgtZjtpZigzKk1hdGguYWJzKHYpPjEpe3ZhciBwPWwtZCxnPWQrKGw8ZD8tMToxKS8yLHk9ZisoaDxmPy0xOjEpLG09bC1nLGI9aC15O3AqcCt2KnY+bSptK2IqYiYmKGQ9ZysoMSZmPzE6LTEpLzIsZj15KX12YXIgXz1kKyItIitmLE89aVtfXTtPP08ucHVzaChjKTooYS5wdXNoKE89aVtfXT1bY10pLE8ueD0oZCsoMSZmKS8yKSplLE8ueT1mKm4pfXJldHVybiBhfWZ1bmN0aW9uIGwodCl7dmFyIGU9MCxuPTA7cmV0dXJuIGFlLm1hcCgoZnVuY3Rpb24ocil7dmFyIGk9TWF0aC5zaW4ocikqdCxhPS1NYXRoLmNvcyhyKSp0LG89aS1lLHM9YS1uO3JldHVybiBlPWksbj1hLFtvLHNdfSkpfXJldHVybiBjLmhleGFnb249ZnVuY3Rpb24oZSl7cmV0dXJuIm0iK2wobnVsbD09ZT90OitlKS5qb2luKCJsIikrInoifSxjLmNlbnRlcnM9ZnVuY3Rpb24oKXtmb3IodmFyIHM9W10sdT1NYXRoLnJvdW5kKGkvbiksYz1NYXRoLnJvdW5kKHIvZSksbD11Km47bDxvK3Q7bCs9biwrK3UpZm9yKHZhciBoPWMqZSsoMSZ1KSplLzI7aDxhK2UvMjtoKz1lKXMucHVzaChbaCxsXSk7cmV0dXJuIHN9LGMubWVzaD1mdW5jdGlvbigpe3ZhciBlPWwodCkuc2xpY2UoMCw0KS5qb2luKCJsIik7cmV0dXJuIGMuY2VudGVycygpLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIk0iK3QrIm0iK2V9KSkuam9pbigiIil9LGMueD1mdW5jdGlvbih0KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8ocz10LGMpOnN9LGMueT1mdW5jdGlvbih0KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8odT10LGMpOnV9LGMucmFkaXVzPWZ1bmN0aW9uKHIpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhlPTIqKHQ9K3IpKk1hdGguc2luKGllKSxuPTEuNSp0LGMpOnR9LGMuc2l6ZT1mdW5jdGlvbih0KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8ocj1pPTAsYT0rdFswXSxvPSt0WzFdLGMpOlthLXIsby1pXX0sYy5leHRlbnQ9ZnVuY3Rpb24odCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KHI9K3RbMF1bMF0saT0rdFswXVsxXSxhPSt0WzFdWzBdLG89K3RbMV1bMV0sYyk6W1tyLGldLFthLG9dXX0sYy5yYWRpdXMoMSl9KCkucmFkaXVzKHMpLngoKGZ1bmN0aW9uKHQpe3JldHVybiB0LnNjcmVlbkNvb3JkWzBdfSkpLnkoKGZ1bmN0aW9uKHQpe3JldHVybiB0LnNjcmVlbkNvb3JkWzFdfSkpKHUpLm1hcCgoZnVuY3Rpb24odCxlKXtyZXR1cm57cG9zaXRpb246aS51bnByb2plY3RGbGF0KFt0LngsdC55XSkscG9pbnRzOnQsaW5kZXg6ZX19KSkscmFkaXVzQ29tbW9uOnN9fSxnZXRQb3NpdGlvbjp7dHlwZToiYWNjZXNzb3IiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0LnBvc2l0aW9ufX0sbWF0ZXJpYWw6ITAsX2ZpbHRlckRhdGE6e3R5cGU6ImZ1bmN0aW9uIix2YWx1ZTpudWxsLG9wdGlvbmFsOiEwfX0saGU9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3JldHVybiB1KCkodGhpcyxlKSxmKCkodGhpcyx2KCkoZSkuYXBwbHkodGhpcyxhcmd1bWVudHMpKX1yZXR1cm4gbSgpKGUsdCksbCgpKGUsW3trZXk6InNob3VsZFVwZGF0ZVN0YXRlIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdC5jaGFuZ2VGbGFncy5zb21ldGhpbmdDaGFuZ2VkfX0se2tleToiaW5pdGlhbGl6ZVN0YXRlIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PW5ldyAkdCh7Z2V0QWdncmVnYXRvcjpmdW5jdGlvbih0KXtyZXR1cm4gdC5oZXhhZ29uQWdncmVnYXRvcn0sZ2V0Q2VsbFNpemU6ZnVuY3Rpb24odCl7cmV0dXJuIHQucmFkaXVzfX0pO3RoaXMuc3RhdGU9e2NwdUFnZ3JlZ2F0b3I6dCxhZ2dyZWdhdG9yU3RhdGU6dC5zdGF0ZSxoZXhhZ29uVmVydGljZXM6bnVsbH0sdGhpcy5nZXRBdHRyaWJ1dGVNYW5hZ2VyKCkuYWRkKHtwb3NpdGlvbnM6e3NpemU6MyxhY2Nlc3NvcjoiZ2V0UG9zaXRpb24ifX0pfX0se2tleToidXBkYXRlU3RhdGUiLHZhbHVlOmZ1bmN0aW9uKHQpe2coKSh2KCkoZS5wcm90b3R5cGUpLCJ1cGRhdGVTdGF0ZSIsdGhpcykuY2FsbCh0aGlzLHQpO3ZhciBuPXRoaXMuc3RhdGUscj1uLmNwdUFnZ3JlZ2F0b3IsaT1uLmhleGFnb25WZXJ0aWNlczt0LmNoYW5nZUZsYWdzLnByb3BzT3JEYXRhQ2hhbmdlZCYmdGhpcy5zZXRTdGF0ZSh7YWdncmVnYXRvclN0YXRlOnIudXBkYXRlU3RhdGUodCx7dmlld3BvcnQ6dGhpcy5jb250ZXh0LnZpZXdwb3J0LGF0dHJpYnV0ZXM6dGhpcy5nZXRBdHRyaWJ1dGVzKCl9KX0pO3ZhciBhPShyLnN0YXRlLmxheWVyRGF0YXx8e30pLmhleGFnb25WZXJ0aWNlcztpZihhJiZpIT09YSl7dmFyIG89dGhpcy5jb252ZXJ0TGF0TG5nVG9NZXRlck9mZnNldChhKTtvJiZ0aGlzLnNldFN0YXRlKHtoZXhhZ29uVmVydGljZXM6YSx2ZXJ0aWNlczpvfSl9ZWxzZSB0aGlzLnVwZGF0ZVJhZGl1c0FuZ2xlKCl9fSx7a2V5OiJ1cGRhdGVSYWRpdXNBbmdsZSIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5jb250ZXh0LnZpZXdwb3J0LmdldERpc3RhbmNlU2NhbGVzKCkudW5pdHNQZXJNZXRlcixuPXRoaXMuc3RhdGUuY3B1QWdncmVnYXRvcjtpZihuLnN0YXRlLmxheWVyRGF0YSYmbi5zdGF0ZS5sYXllckRhdGEucmFkaXVzQ29tbW9uKXt2YXIgcj1uLnN0YXRlLmxheWVyRGF0YS5yYWRpdXNDb21tb24vZVswXTt0aGlzLnNldFN0YXRlKHthbmdsZTo5MCxyYWRpdXM6cn0pfX19LHtrZXk6ImNvbnZlcnRMYXRMbmdUb01ldGVyT2Zmc2V0Iix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLmNvbnRleHQudmlld3BvcnQ7aWYoQXJyYXkuaXNBcnJheSh0KSYmNj09PXQubGVuZ3RoKXt2YXIgbj10WzBdLHI9dFszXSxpPVsoblswXStyWzBdKS8yLChuWzFdK3JbMV0pLzJdLGE9ZS5wcm9qZWN0RmxhdChpKSxvPWUuZ2V0RGlzdGFuY2VTY2FsZXMoaSkubWV0ZXJzUGVyVW5pdDtyZXR1cm4gdC5tYXAoKGZ1bmN0aW9uKHQpe3ZhciBuPWUucHJvamVjdEZsYXQodCk7cmV0dXJuWyhuWzBdLWFbMF0pKm9bMF0sKG5bMV0tYVsxXSkqb1sxXV19KSl9cmV0dXJuIGIuYS5lcnJvcigiSGV4YWdvbkxheWVyOiBoZXhhZ29uVmVydGljZXMgbmVlZHMgdG8gYmUgYW4gYXJyYXkgb2YgNiBwb2ludHMiKSgpLG51bGx9fSx7a2V5OiJnZXRQaWNraW5nSW5mbyIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dC5pbmZvO3JldHVybiB0aGlzLnN0YXRlLmNwdUFnZ3JlZ2F0b3IuZ2V0UGlja2luZ0luZm8oe2luZm86ZX0pfX0se2tleToiX29uR2V0U3VibGF5ZXJDb2xvciIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuc3RhdGUuY3B1QWdncmVnYXRvci5nZXRBY2Nlc3NvcigiZmlsbENvbG9yIikodCl9fSx7a2V5OiJfb25HZXRTdWJsYXllckVsZXZhdGlvbiIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuc3RhdGUuY3B1QWdncmVnYXRvci5nZXRBY2Nlc3NvcigiZWxldmF0aW9uIikodCl9fSx7a2V5OiJfZ2V0U3VibGF5ZXJVcGRhdGVUcmlnZ2VycyIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zdGF0ZS5jcHVBZ2dyZWdhdG9yLmdldFVwZGF0ZVRyaWdnZXJzKHRoaXMucHJvcHMpfX0se2tleToicmVuZGVyTGF5ZXJzIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMucHJvcHMsZT10LmVsZXZhdGlvblNjYWxlLG49dC5leHRydWRlZCxyPXQuY292ZXJhZ2UsaT10Lm1hdGVyaWFsLGE9dC50cmFuc2l0aW9ucyxzPXRoaXMuc3RhdGUsdT1zLmFuZ2xlLGM9cy5yYWRpdXMsbD1zLmNwdUFnZ3JlZ2F0b3IsaD1zLnZlcnRpY2VzLGY9dGhpcy5nZXRTdWJMYXllckNsYXNzKCJoZXhhZ29uLWNlbGwiLHJlLmEpLGQ9dGhpcy5fZ2V0U3VibGF5ZXJVcGRhdGVUcmlnZ2VycygpO3JldHVybiBuZXcgZihmdW5jdGlvbih0KXtmb3IodmFyIGU9MTtlPGFyZ3VtZW50cy5sZW5ndGg7ZSsrKXt2YXIgbj1udWxsIT1hcmd1bWVudHNbZV0/YXJndW1lbnRzW2VdOnt9O2UlMj91ZShPYmplY3QobiksITApLmZvckVhY2goKGZ1bmN0aW9uKGUpe28oKSh0LGUsbltlXSl9KSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXModCxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhuKSk6dWUoT2JqZWN0KG4pKS5mb3JFYWNoKChmdW5jdGlvbihlKXtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxlLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IobixlKSl9KSl9cmV0dXJuIHR9KHt9LGgmJmgubGVuZ3RoP3t2ZXJ0aWNlczpoLHJhZGl1czoxfTp7cmFkaXVzOmMsYW5nbGU6dX0se2Rpc2tSZXNvbHV0aW9uOjYsZWxldmF0aW9uU2NhbGU6ZSxleHRydWRlZDpuLGNvdmVyYWdlOnIsbWF0ZXJpYWw6aSxnZXRGaWxsQ29sb3I6dGhpcy5fb25HZXRTdWJsYXllckNvbG9yLmJpbmQodGhpcyksZ2V0RWxldmF0aW9uOnRoaXMuX29uR2V0U3VibGF5ZXJFbGV2YXRpb24uYmluZCh0aGlzKSx0cmFuc2l0aW9uczphJiZ7Z2V0RmlsbENvbG9yOmEuZ2V0Q29sb3JWYWx1ZXx8YS5nZXRDb2xvcldlaWdodCxnZXRFbGV2YXRpb246YS5nZXRFbGV2YXRpb25WYWx1ZXx8YS5nZXRFbGV2YXRpb25XZWlnaHR9fSksdGhpcy5nZXRTdWJMYXllclByb3BzKHtpZDoiaGV4YWdvbi1jZWxsIix1cGRhdGVUcmlnZ2VyczpkfSkse2RhdGE6bC5zdGF0ZS5sYXllckRhdGEuZGF0YX0pfX1dKSxlfShkdCk7aGUubGF5ZXJOYW1lPSJIZXhhZ29uTGF5ZXIiLGhlLmRlZmF1bHRQcm9wcz1sZTt2YXIgZmUsZGU9bigyMTUpLHZlPW4oMTE5KSxwZT17TjpbMCwuNV0sRTpbLjUsMF0sUzpbMCwtLjVdLFc6Wy0uNSwwXSxORTpbLjUsLjVdLE5XOlstLjUsLjVdLFNFOlsuNSwtLjVdLFNXOlstLjUsLS41XX0sZ2U9W3BlLlcscGUuU1cscGUuU10seWU9W3BlLlMscGUuU0UscGUuRV0sbWU9W3BlLkUscGUuTkUscGUuTl0sYmU9W3BlLk5XLHBlLlcscGUuTl0sX2U9W1stLjUsMS82XSxbLS41LC0xLzZdLFstMS82LC0uNV0sWzEvNiwtLjVdXSxPZT1bWy0xLzYsLS41XSxbMS82LC0uNV0sWy41LC0xLzZdLFsuNSwxLzZdXSx4ZT1bWy41LC0xLzZdLFsuNSwxLzZdLFsxLzYsLjVdLFstMS82LC41XV0sd2U9W1stLjUsMS82XSxbLS41LC0xLzZdLFsxLzYsLjVdLFstMS82LC41XV0sa2U9W3BlLlcscGUuU1cscGUuU0UscGUuRV0sU2U9W3BlLlMscGUuU0UscGUuTkUscGUuTl0sUGU9W3BlLk5XLHBlLlcscGUuRSxwZS5ORV0samU9W3BlLk5XLHBlLlNXLHBlLlMscGUuTl0sVGU9W1stLjUsMS82XSxbLS41LC0xLzZdLFsuNSwtMS82XSxbLjUsMS82XV0sRWU9W1stMS82LC0uNV0sWzEvNiwtLjVdLFsxLzYsLjVdLFstMS82LC41XV0sQWU9W3BlLk5XLHBlLlNXLHBlLlNFLHBlLk5FXSxNZT1bcGUuTlcscGUuU1cscGUuU0UscGUuRSxwZS5OXSxDZT1bcGUuVyxwZS5TVyxwZS5TRSxwZS5ORSxwZS5OXSxMZT1bcGUuTlcscGUuVyxwZS5TLHBlLlNFLHBlLk5FXSxJZT1bcGUuTlcscGUuU1cscGUuUyxwZS5FLHBlLk5FXSxSZT1bcGUuTlcscGUuVyxbLjUsLTEvNl0sWy41LDEvNl0scGUuTl0sTmU9W1stMS82LC0uNV0sWzEvNiwtLjVdLHBlLkUscGUuTkUscGUuTl0sRGU9W1stLjUsMS82XSxbLS41LC0xLzZdLHBlLlMscGUuU0UscGUuRV0sRmU9W3BlLlcscGUuU1cscGUuUyxbMS82LC41XSxbLTEvNiwuNV1dLHplPVtwZS5OVyxwZS5XLFstMS82LC0uNV0sWzEvNiwtLjVdLHBlLk5dLEJlPVtbLS41LDEvNl0sWy0uNSwtMS82XSxwZS5FLHBlLk5FLHBlLk5dLFVlPVtwZS5TLHBlLlNFLHBlLkUsWzEvNiwuNV0sWy0xLzYsLjVdXSxWZT1bcGUuVyxwZS5TVyxwZS5TLFsuNSwtMS82XSxbLjUsMS82XV0sR2U9W3BlLlcscGUuU1cscGUuU0UscGUuRSxbMS82LC41XSxbLTEvNiwuNV1dLFdlPVtbLS41LDEvNl0sWy0uNSwtMS82XSxwZS5TLHBlLlNFLHBlLk5FLHBlLk5dLEhlPVtwZS5OVyxwZS5XLFstMS82LC0uNV0sWzEvNiwtLjVdLHBlLkUscGUuTkVdLHFlPVtwZS5OVyxwZS5TVyxwZS5TLFsuNSwtMS82XSxbLjUsMS82XSxwZS5OXSxYZT1bcGUuVyxwZS5TVyxwZS5TLHBlLkUscGUuTkUscGUuTl0sWmU9W3BlLk5XLHBlLlcscGUuUyxwZS5TRSxwZS5FLHBlLk5dLFllPVtbLS41LDEvNl0sWy0uNSwtMS82XSxbLTEvNiwtLjVdLFsxLzYsLS41XSxwZS5FLHBlLk5FLHBlLk5dLEtlPVtwZS5XLHBlLlNXLHBlLlMsWy41LC0xLzZdLFsuNSwxLzZdLFsxLzYsLjVdLFstMS82LC41XV0sUWU9W3BlLk5XLHBlLlcsWy0xLzYsLS41XSxbMS82LC0uNV0sWy41LC0xLzZdLFsuNSwxLzZdLHBlLk5dLEplPVtbLS41LDEvNl0sWy0uNSwtMS82XSxwZS5TLHBlLlNFLHBlLkUsWzEvNiwuNV0sWy0xLzYsLjVdXSwkZT1bWy0uNSwxLzZdLFstLjUsLTEvNl0sWy0xLzYsLS41XSxbMS82LC0uNV0sWy41LC0xLzZdLFsuNSwxLzZdLFsxLzYsLjVdLFstMS82LC41XV0sdG49ezA6W10sMTpbW3BlLlcscGUuU11dLDI6W1twZS5TLHBlLkVdXSwzOltbcGUuVyxwZS5FXV0sNDpbW3BlLk4scGUuRV1dLDU6ezA6W1twZS5XLHBlLlNdLFtwZS5OLHBlLkVdXSwxOltbcGUuVyxwZS5OXSxbcGUuUyxwZS5FXV19LDY6W1twZS5OLHBlLlNdXSw3OltbcGUuVyxwZS5OXV0sODpbW3BlLlcscGUuTl1dLDk6W1twZS5OLHBlLlNdXSwxMDp7MDpbW3BlLlcscGUuTl0sW3BlLlMscGUuRV1dLDE6W1twZS5XLHBlLlNdLFtwZS5OLHBlLkVdXX0sMTE6W1twZS5OLHBlLkVdXSwxMjpbW3BlLlcscGUuRV1dLDEzOltbcGUuUyxwZS5FXV0sMTQ6W1twZS5XLHBlLlNdXSwxNTpbXX07ZnVuY3Rpb24gZW4odCl7cmV0dXJuIHBhcnNlSW50KHQsNCl9dmFyIG5uPShmZT17fSxvKCkoZmUsZW4oIjAwMDAiKSxbXSksbygpKGZlLGVuKCIyMjIyIiksW10pLG8oKShmZSxlbigiMjIyMSIpLFtnZV0pLG8oKShmZSxlbigiMjIxMiIpLFt5ZV0pLG8oKShmZSxlbigiMjEyMiIpLFttZV0pLG8oKShmZSxlbigiMTIyMiIpLFtiZV0pLG8oKShmZSxlbigiMDAwMSIpLFtnZV0pLG8oKShmZSxlbigiMDAxMCIpLFt5ZV0pLG8oKShmZSxlbigiMDEwMCIpLFttZV0pLG8oKShmZSxlbigiMTAwMCIpLFtiZV0pLG8oKShmZSxlbigiMjIyMCIpLFtfZV0pLG8oKShmZSxlbigiMjIwMiIpLFtPZV0pLG8oKShmZSxlbigiMjAyMiIpLFt4ZV0pLG8oKShmZSxlbigiMDIyMiIpLFt3ZV0pLG8oKShmZSxlbigiMDAwMiIpLFtfZV0pLG8oKShmZSxlbigiMDAyMCIpLFtPZV0pLG8oKShmZSxlbigiMDIwMCIpLFt4ZV0pLG8oKShmZSxlbigiMjAwMCIpLFt3ZV0pLG8oKShmZSxlbigiMDAxMSIpLFtrZV0pLG8oKShmZSxlbigiMDExMCIpLFtTZV0pLG8oKShmZSxlbigiMTEwMCIpLFtQZV0pLG8oKShmZSxlbigiMTAwMSIpLFtqZV0pLG8oKShmZSxlbigiMjIxMSIpLFtrZV0pLG8oKShmZSxlbigiMjExMiIpLFtTZV0pLG8oKShmZSxlbigiMTEyMiIpLFtQZV0pLG8oKShmZSxlbigiMTIyMSIpLFtqZV0pLG8oKShmZSxlbigiMjIwMCIpLFtUZV0pLG8oKShmZSxlbigiMjAwMiIpLFtFZV0pLG8oKShmZSxlbigiMDAyMiIpLFtUZV0pLG8oKShmZSxlbigiMDIyMCIpLFtFZV0pLG8oKShmZSxlbigiMTExMSIpLFtBZV0pLG8oKShmZSxlbigiMTIxMSIpLFtNZV0pLG8oKShmZSxlbigiMjExMSIpLFtDZV0pLG8oKShmZSxlbigiMTExMiIpLFtMZV0pLG8oKShmZSxlbigiMTEyMSIpLFtJZV0pLG8oKShmZSxlbigiMTAxMSIpLFtNZV0pLG8oKShmZSxlbigiMDExMSIpLFtDZV0pLG8oKShmZSxlbigiMTExMCIpLFtMZV0pLG8oKShmZSxlbigiMTEwMSIpLFtJZV0pLG8oKShmZSxlbigiMTIwMCIpLFtSZV0pLG8oKShmZSxlbigiMDEyMCIpLFtOZV0pLG8oKShmZSxlbigiMDAxMiIpLFtEZV0pLG8oKShmZSxlbigiMjAwMSIpLFtGZV0pLG8oKShmZSxlbigiMTAyMiIpLFtSZV0pLG8oKShmZSxlbigiMjEwMiIpLFtOZV0pLG8oKShmZSxlbigiMjIxMCIpLFtEZV0pLG8oKShmZSxlbigiMDIyMSIpLFtGZV0pLG8oKShmZSxlbigiMTAwMiIpLFt6ZV0pLG8oKShmZSxlbigiMjEwMCIpLFtCZV0pLG8oKShmZSxlbigiMDIxMCIpLFtVZV0pLG8oKShmZSxlbigiMDAyMSIpLFtWZV0pLG8oKShmZSxlbigiMTIyMCIpLFt6ZV0pLG8oKShmZSxlbigiMDEyMiIpLFtCZV0pLG8oKShmZSxlbigiMjAxMiIpLFtVZV0pLG8oKShmZSxlbigiMjIwMSIpLFtWZV0pLG8oKShmZSxlbigiMDIxMSIpLFtHZV0pLG8oKShmZSxlbigiMjExMCIpLFtXZV0pLG8oKShmZSxlbigiMTEwMiIpLFtIZV0pLG8oKShmZSxlbigiMTAyMSIpLFtxZV0pLG8oKShmZSxlbigiMjAxMSIpLFtHZV0pLG8oKShmZSxlbigiMDExMiIpLFtXZV0pLG8oKShmZSxlbigiMTEyMCIpLFtIZV0pLG8oKShmZSxlbigiMTIwMSIpLFtxZV0pLG8oKShmZSxlbigiMjEwMSIpLFtYZV0pLG8oKShmZSxlbigiMDEyMSIpLFtYZV0pLG8oKShmZSxlbigiMTAxMiIpLFtaZV0pLG8oKShmZSxlbigiMTIxMCIpLFtaZV0pLG8oKShmZSxlbigiMDEwMSIpLHswOltnZSxtZV0sMTpbWGVdLDI6W1hlXX0pLG8oKShmZSxlbigiMTAxMCIpLHswOltiZSx5ZV0sMTpbWmVdLDI6W1plXX0pLG8oKShmZSxlbigiMjEyMSIpLHswOltYZV0sMTpbWGVdLDI6W2dlLG1lXX0pLG8oKShmZSxlbigiMTIxMiIpLHswOltaZV0sMTpbWmVdLDI6W2JlLHllXX0pLG8oKShmZSxlbigiMjEyMCIpLHswOltZZV0sMTpbWWVdLDI6W19lLG1lXX0pLG8oKShmZSxlbigiMjAyMSIpLHswOltLZV0sMTpbS2VdLDI6W2dlLHhlXX0pLG8oKShmZSxlbigiMTIwMiIpLHswOltRZV0sMTpbUWVdLDI6W2JlLE9lXX0pLG8oKShmZSxlbigiMDIxMiIpLHswOltKZV0sMTpbSmVdLDI6W3llLHdlXX0pLG8oKShmZSxlbigiMDEwMiIpLHswOltfZSxtZV0sMTpbWWVdLDI6W1llXX0pLG8oKShmZSxlbigiMDIwMSIpLHswOltnZSx4ZV0sMTpbS2VdLDI6W0tlXX0pLG8oKShmZSxlbigiMTAyMCIpLHswOltiZSxPZV0sMTpbUWVdLDI6W1FlXX0pLG8oKShmZSxlbigiMjAxMCIpLHswOlt5ZSx3ZV0sMTpbSmVdLDI6W0plXX0pLG8oKShmZSxlbigiMjAyMCIpLHswOlt3ZSxPZV0sMTpbJGVdLDI6W19lLHhlXX0pLG8oKShmZSxlbigiMDIwMiIpLHswOlt4ZSxfZV0sMTpbJGVdLDI6W3dlLE9lXX0pLGZlKSxybj0xLGFuPTIsb249e3pJbmRleDowLHpPZmZzZXQ6LjAwNX07ZnVuY3Rpb24gc24odCxlKXtyZXR1cm4gQXJyYXkuaXNBcnJheShlKT90PGVbMF0/MDp0PGVbMV0/MToyOnQ+PWU/MTowfWZ1bmN0aW9uIHVuKHQpe3ZhciBlPXQuY2VsbFdlaWdodHMsbj10Lngscj10LnksaT10LndpZHRoLGE9dC5oZWlnaHQsbz10LnRocmVzaG9sZDt0LnRocmVzaG9sZFZhbHVlJiYoYi5hLmRlcHJlY2F0ZWQoInRocmVzaG9sZFZhbHVlIiwidGhyZXNob2xkIikoKSxvPXQudGhyZXNob2xkVmFsdWUpO3ZhciBzPW48MCx1PW4+PWktMSxjPXI8MCxsPXI+PWEtMSxoPXN8fHV8fGN8fGwsZj17fSxkPXt9O3N8fGw/ZC50b3A9MDooZi50b3A9ZVsocisxKSppK25dLGQudG9wPXNuKGYudG9wLG8pKSx1fHxsP2QudG9wUmlnaHQ9MDooZi50b3BSaWdodD1lWyhyKzEpKmkrbisxXSxkLnRvcFJpZ2h0PXNuKGYudG9wUmlnaHQsbykpLHV8fGM/ZC5yaWdodD0wOihmLnJpZ2h0PWVbcippK24rMV0sZC5yaWdodD1zbihmLnJpZ2h0LG8pKSxzfHxjP2QuY3VycmVudD0wOihmLmN1cnJlbnQ9ZVtyKmkrbl0sZC5jdXJyZW50PXNuKGYuY3VycmVudCxvKSk7dmFyIHY9ZC50b3AscD1kLnRvcFJpZ2h0LGc9ZC5yaWdodCx5PWQuY3VycmVudCxtPS0xO051bWJlci5pc0Zpbml0ZShvKSYmKG09djw8M3xwPDwyfGc8PDF8eSksQXJyYXkuaXNBcnJheShvKSYmKG09djw8NnxwPDw0fGc8PDJ8eSk7dmFyIF89MDtyZXR1cm4gaHx8KF89c24oKGYudG9wK2YudG9wUmlnaHQrZi5yaWdodCtmLmN1cnJlbnQpLzQsbykpLHtjb2RlOm0sbWVhbkNvZGU6X319ZnVuY3Rpb24gY24odCl7dmFyIGU9dC5ncmlkT3JpZ2luLG49dC5jZWxsU2l6ZSxyPXQueCxpPXQueSxhPXQuY29kZSxvPXQubWVhbkNvZGUscz10LnR5cGUsdT12b2lkIDA9PT1zP3JuOnMsYz1PYmplY3QuYXNzaWduKHt9LG9uLHQudGhyZXNob2xkRGF0YSksbD11PT09YW4/bm5bYV06dG5bYV07QXJyYXkuaXNBcnJheShsKXx8KGw9bFtvXSk7dmFyIGg9Yy56SW5kZXgqYy56T2Zmc2V0LGY9KHIrMSkqblswXSxkPShpKzEpKm5bMV0sdj1lWzBdK2YscD1lWzFdK2Q7aWYodT09PWFuKXt2YXIgZz1bXTtyZXR1cm4gbC5mb3JFYWNoKChmdW5jdGlvbih0KXt2YXIgZT1bXTt0LmZvckVhY2goKGZ1bmN0aW9uKHQpe3ZhciByPXYrdFswXSpuWzBdLGk9cCt0WzFdKm5bMV07ZS5wdXNoKFtyLGksaF0pfSkpLGcucHVzaChlKX0pKSxnfXZhciB5PVtdO3JldHVybiBsLmZvckVhY2goKGZ1bmN0aW9uKHQpe3QuZm9yRWFjaCgoZnVuY3Rpb24odCl7dmFyIGU9dit0WzBdKm5bMF0scj1wK3RbMV0qblsxXTt5LnB1c2goW2UscixoXSl9KSl9KSkseX12YXIgbG49WzI1NSwyNTUsMjU1LDI1NV0saG49e2NlbGxTaXplOnt0eXBlOiJudW1iZXIiLG1pbjoxLG1heDoxZTMsdmFsdWU6MWUzfSxnZXRQb3NpdGlvbjp7dHlwZToiYWNjZXNzb3IiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0LnBvc2l0aW9ufX0sZ2V0V2VpZ2h0Ont0eXBlOiJhY2Nlc3NvciIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIDF9fSxncHVBZ2dyZWdhdGlvbjohMCxhZ2dyZWdhdGlvbjoiU1VNIixjb250b3Vyczpbe3RocmVzaG9sZDoxfV0sek9mZnNldDouMDA1fSxmbj17ZGF0YTp7cHJvcHM6WyJjZWxsU2l6ZSJdfSx3ZWlnaHRzOntwcm9wczpbImFnZ3JlZ2F0aW9uIl0sYWNjZXNzb3JzOlsiZ2V0V2VpZ2h0Il19fSxkbj1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7cmV0dXJuIHUoKSh0aGlzLGUpLGYoKSh0aGlzLHYoKShlKS5hcHBseSh0aGlzLGFyZ3VtZW50cykpfXJldHVybiBtKCkoZSx0KSxsKCkoZSxbe2tleToiaW5pdGlhbGl6ZVN0YXRlIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0O2coKSh2KCkoZS5wcm90b3R5cGUpLCJpbml0aWFsaXplU3RhdGUiLHRoaXMpLmNhbGwodGhpcyx7ZGltZW5zaW9uczpmbn0pLHRoaXMuc2V0U3RhdGUoe2NvbnRvdXJEYXRhOnt9LHByb2plY3RQb2ludHM6ITEsd2VpZ2h0czp7Y291bnQ6e3NpemU6MSxvcGVyYXRpb246RS5TVU19fX0pLHRoaXMuZ2V0QXR0cmlidXRlTWFuYWdlcigpLmFkZCgodD17fSxvKCkodCwicG9zaXRpb25zIix7c2l6ZTozLGFjY2Vzc29yOiJnZXRQb3NpdGlvbiIsdHlwZTo1MTMwLGZwNjQ6dGhpcy51c2U2NGJpdFBvc2l0aW9ucygpfSksbygpKHQsImNvdW50Iix7c2l6ZTozLGFjY2Vzc29yOiJnZXRXZWlnaHQifSksdCkpfX0se2tleToidXBkYXRlU3RhdGUiLHZhbHVlOmZ1bmN0aW9uKHQpe2coKSh2KCkoZS5wcm90b3R5cGUpLCJ1cGRhdGVTdGF0ZSIsdGhpcykuY2FsbCh0aGlzLHQpO3ZhciBuPSExLHI9dC5vbGRQcm9wcyxpPXQucHJvcHMsYT10aGlzLnN0YXRlLmFnZ3JlZ2F0aW9uRGlydHk7ci5jb250b3Vycz09PWkuY29udG91cnMmJnIuek9mZnNldD09PWkuek9mZnNldHx8KG49ITAsdGhpcy5fdXBkYXRlVGhyZXNob2xkRGF0YSh0LnByb3BzKSksdGhpcy5nZXROdW1JbnN0YW5jZXMoKT4wJiYoYXx8bikmJnRoaXMuX2dlbmVyYXRlQ29udG91cnMoKX19LHtrZXk6InJlbmRlckxheWVycyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnN0YXRlLmNvbnRvdXJEYXRhLGU9dC5jb250b3VyU2VnbWVudHMsbj10LmNvbnRvdXJQb2x5Z29ucyxyPXRoaXMuZ2V0U3ViTGF5ZXJDbGFzcygibGluZXMiLGRlLmEpLGk9dGhpcy5nZXRTdWJMYXllckNsYXNzKCJiYW5kcyIsdmUuYSk7cmV0dXJuW2UmJmUubGVuZ3RoPjAmJm5ldyByKHRoaXMuZ2V0U3ViTGF5ZXJQcm9wcyh7aWQ6ImxpbmVzIn0pLHtkYXRhOnRoaXMuc3RhdGUuY29udG91ckRhdGEuY29udG91clNlZ21lbnRzLGdldFNvdXJjZVBvc2l0aW9uOmZ1bmN0aW9uKHQpe3JldHVybiB0LnN0YXJ0fSxnZXRUYXJnZXRQb3NpdGlvbjpmdW5jdGlvbih0KXtyZXR1cm4gdC5lbmR9LGdldENvbG9yOmZ1bmN0aW9uKHQpe3JldHVybiB0LmNvbnRvdXIuY29sb3J8fGxufSxnZXRXaWR0aDpmdW5jdGlvbih0KXtyZXR1cm4gdC5jb250b3VyLnN0cm9rZVdpZHRofHwxfX0pLG4mJm4ubGVuZ3RoPjAmJm5ldyBpKHRoaXMuZ2V0U3ViTGF5ZXJQcm9wcyh7aWQ6ImJhbmRzIn0pLHtkYXRhOnRoaXMuc3RhdGUuY29udG91ckRhdGEuY29udG91clBvbHlnb25zLGdldFBvbHlnb246ZnVuY3Rpb24odCl7cmV0dXJuIHQudmVydGljZXN9LGdldEZpbGxDb2xvcjpmdW5jdGlvbih0KXtyZXR1cm4gdC5jb250b3VyLmNvbG9yfHxsbn19KV19fSx7a2V5OiJ1cGRhdGVBZ2dyZWdhdGlvblN0YXRlIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10LnByb3BzLG49dC5vbGRQcm9wcyxyPWUuY2VsbFNpemUsaT1lLmNvb3JkaW5hdGVTeXN0ZW0sYT10aGlzLmNvbnRleHQudmlld3BvcnQsbz1uLmNlbGxTaXplIT09cixzPWUuZ3B1QWdncmVnYXRpb247dGhpcy5zdGF0ZS5ncHVBZ2dyZWdhdGlvbiE9PWUuZ3B1QWdncmVnYXRpb24mJnMmJiFLLmlzU3VwcG9ydGVkKHRoaXMuY29udGV4dC5nbCkmJihiLmEud2FybigiR1BVIEdyaWQgQWdncmVnYXRpb24gbm90IHN1cHBvcnRlZCwgZmFsbGluZyBiYWNrIHRvIENQVSIpKCkscz0hMSk7dmFyIHU9cyE9PXRoaXMuc3RhdGUuZ3B1QWdncmVnYXRpb247dGhpcy5zZXRTdGF0ZSh7Z3B1QWdncmVnYXRpb246c30pO3ZhciBjPXRoaXMuc3RhdGUuZGltZW5zaW9ucyxsPXRoaXMuaXNBdHRyaWJ1dGVDaGFuZ2VkKCJwb3NpdGlvbnMiKSxoPWMuZGF0YSxmPWMud2VpZ2h0cyxkPXRoaXMuc3RhdGUuYm91bmRpbmdCb3g7aWYobCYmKGQ9TnQodGhpcy5nZXRBdHRyaWJ1dGVzKCksdGhpcy5nZXROdW1JbnN0YW5jZXMoKSksdGhpcy5zZXRTdGF0ZSh7Ym91bmRpbmdCb3g6ZH0pKSxsfHxvKXt2YXIgdj16dChkLHIsYSxpKSxwPXYuZ3JpZE9mZnNldCxnPXYudHJhbnNsYXRpb24seT12LndpZHRoLG09di5oZWlnaHQsXz12Lm51bUNvbCxPPXYubnVtUm93O3RoaXMuYWxsb2NhdGVSZXNvdXJjZXMoTyxfKSx0aGlzLnNldFN0YXRlKHtncmlkT2Zmc2V0OnAsYm91bmRpbmdCb3g6ZCx0cmFuc2xhdGlvbjpnLHBvc09mZnNldDpnLnNsaWNlKCksZ3JpZE9yaWdpbjpbLTEqZ1swXSwtMSpnWzFdXSx3aWR0aDp5LGhlaWdodDptLG51bUNvbDpfLG51bVJvdzpPfSl9dmFyIHg9bHx8dXx8dGhpcy5pc0FnZ3JlZ2F0aW9uRGlydHkodCx7ZGltZW5zaW9uOmgsY29tcGFyZUFsbDpzfSksdz10aGlzLmlzQWdncmVnYXRpb25EaXJ0eSh0LHtkaW1lbnNpb246Zn0pO3cmJnRoaXMuX3VwZGF0ZUFjY2Vzc29ycyh0KSwoeHx8dykmJnRoaXMuX3Jlc2V0UmVzdWx0cygpLHRoaXMuc2V0U3RhdGUoe2FnZ3JlZ2F0aW9uRGF0YURpcnR5OngsYWdncmVnYXRpb25XZWlnaHRzRGlydHk6d30pfX0se2tleToiX3VwZGF0ZUFjY2Vzc29ycyIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dC5wcm9wcyxuPWUuZ2V0V2VpZ2h0LHI9ZS5hZ2dyZWdhdGlvbixpPXRoaXMuc3RhdGUud2VpZ2h0cy5jb3VudDtpJiYoaS5nZXRXZWlnaHQ9bixpLm9wZXJhdGlvbj1FW3JdKSx0aGlzLnNldFN0YXRlKHtnZXRWYWx1ZTpMKHIsbil9KX19LHtrZXk6Il9yZXNldFJlc3VsdHMiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5zdGF0ZS53ZWlnaHRzLmNvdW50O3QmJih0LmFnZ3JlZ2F0aW9uRGF0YT1udWxsKX19LHtrZXk6Il9nZW5lcmF0ZUNvbnRvdXJzIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMuc3RhdGUsZT10Lm51bUNvbCxuPXQubnVtUm93LHI9dC5ncmlkT3JpZ2luLGk9dC5ncmlkT2Zmc2V0LGE9dC50aHJlc2hvbGREYXRhLG89dGhpcy5zdGF0ZS53ZWlnaHRzLmNvdW50LHM9by5hZ2dyZWdhdGlvbkRhdGE7c3x8KHM9by5hZ2dyZWdhdGlvbkJ1ZmZlci5nZXREYXRhKCksby5hZ2dyZWdhdGlvbkRhdGE9cyk7dmFyIHU9ZnVuY3Rpb24odCl7dmFyIGU9dC50aHJlc2hvbGREYXRhLG49KHQuY29sb3JzLHQuY2VsbFdlaWdodHMpLHI9dC5ncmlkU2l6ZSxpPXQuZ3JpZE9yaWdpbixhPXQuY2VsbFNpemUsbz1bXSxzPVtdLHU9clswXSxjPXJbMV0sbD0wLGg9MCxmPSEwLGQ9ITEsdj12b2lkIDA7dHJ5e2Zvcih2YXIgcCxnPWVbU3ltYm9sLml0ZXJhdG9yXSgpOyEoZj0ocD1nLm5leHQoKSkuZG9uZSk7Zj0hMClmb3IodmFyIHk9cC52YWx1ZSxtPXkuY29udG91cixiPW0udGhyZXNob2xkLF89LTE7Xzx1O18rKylmb3IodmFyIE89LTE7TzxjO08rKyl7dmFyIHg9dW4oe2NlbGxXZWlnaHRzOm4sdGhyZXNob2xkOmIseDpfLHk6Tyx3aWR0aDp1LGhlaWdodDpjfSksdz17Z3JpZE9yaWdpbjppLGNlbGxTaXplOmEseDpfLHk6Tyx3aWR0aDp1LGhlaWdodDpjLGNvZGU6eC5jb2RlLG1lYW5Db2RlOngubWVhbkNvZGUsdGhyZXNob2xkRGF0YTp5fTtpZihBcnJheS5pc0FycmF5KGIpKXt3LnR5cGU9YW47dmFyIGs9Y24odyksUz0hMCxQPSExLGo9dm9pZCAwO3RyeXtmb3IodmFyIFQsRT1rW1N5bWJvbC5pdGVyYXRvcl0oKTshKFM9KFQ9RS5uZXh0KCkpLmRvbmUpO1M9ITApe3ZhciBBPVQudmFsdWU7c1toKytdPXt2ZXJ0aWNlczpBLGNvbnRvdXI6bX19fWNhdGNoKHQpe1A9ITAsaj10fWZpbmFsbHl7dHJ5e1N8fG51bGw9PUUucmV0dXJufHxFLnJldHVybigpfWZpbmFsbHl7aWYoUCl0aHJvdyBqfX19ZWxzZXt3LnR5cGU9cm47Zm9yKHZhciBNPWNuKHcpLEM9MDtDPE0ubGVuZ3RoO0MrPTIpb1tsKytdPXtzdGFydDpNW0NdLGVuZDpNW0MrMV0sY29udG91cjptfX19fWNhdGNoKHQpe2Q9ITAsdj10fWZpbmFsbHl7dHJ5e2Z8fG51bGw9PWcucmV0dXJufHxnLnJldHVybigpfWZpbmFsbHl7aWYoZCl0aHJvdyB2fX1yZXR1cm57Y29udG91clNlZ21lbnRzOm8sY29udG91clBvbHlnb25zOnN9fSh7dGhyZXNob2xkRGF0YTphLGNlbGxXZWlnaHRzOksuZ2V0Q2VsbERhdGEoe2NvdW50c0RhdGE6c30pLmNlbGxXZWlnaHRzLGdyaWRTaXplOltlLG5dLGdyaWRPcmlnaW46cixjZWxsU2l6ZTpbaS54T2Zmc2V0LGkueU9mZnNldF19KTt0aGlzLnNldFN0YXRlKHtjb250b3VyRGF0YTp1fSl9fSx7a2V5OiJfdXBkYXRlVGhyZXNob2xkRGF0YSIsdmFsdWU6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXQuY29udG91cnMsbj10LnpPZmZzZXQscj1lLmxlbmd0aCxpPW5ldyBBcnJheShyKSxhPTA7YTxyO2ErKyl7dmFyIG89ZVthXTtpW2FdPXtjb250b3VyOm8sekluZGV4Om8uekluZGV4fHxhLHpPZmZzZXQ6bn19dGhpcy5zZXRTdGF0ZSh7dGhyZXNob2xkRGF0YTppfSl9fV0pLGV9KFZ0KTtkbi5sYXllck5hbWU9IkNvbnRvdXJMYXllciIsZG4uZGVmYXVsdFByb3BzPWhuO3ZhciB2bj1uKDI5MykscG49big1MCksZ249bigyNzcpLHluPXtjb2xvckRvbWFpbjpudWxsLGNvbG9yUmFuZ2U6bnQsZWxldmF0aW9uRG9tYWluOm51bGwsZWxldmF0aW9uUmFuZ2U6WzAsMWUzXSxlbGV2YXRpb25TY2FsZTp7dHlwZToibnVtYmVyIixtaW46MCx2YWx1ZToxfSxncmlkU2l6ZTp7dHlwZToiYXJyYXkiLG1pbjowLHZhbHVlOlsxLDFdfSxncmlkT3JpZ2luOnt0eXBlOiJhcnJheSIsbWluOjAsdmFsdWU6WzAsMF19LGdyaWRPZmZzZXQ6e3R5cGU6ImFycmF5IixtaW46MCx2YWx1ZTpbMCwwXX0sY2VsbFNpemU6e3R5cGU6Im51bWJlciIsbWluOjAsbWF4OjFlMyx2YWx1ZToxZTN9LG9mZnNldDp7dHlwZToiYXJyYXkiLG1pbjowLHZhbHVlOlsxLDFdfSxjb3ZlcmFnZTp7dHlwZToibnVtYmVyIixtaW46MCxtYXg6MSx2YWx1ZToxfSxleHRydWRlZDohMCxtYXRlcmlhbDohMH0sbW49ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3JldHVybiB1KCkodGhpcyxlKSxmKCkodGhpcyx2KCkoZSkuYXBwbHkodGhpcyxhcmd1bWVudHMpKX1yZXR1cm4gbSgpKGUsdCksbCgpKGUsW3trZXk6ImdldFNoYWRlcnMiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIGcoKSh2KCkoZS5wcm90b3R5cGUpLCJnZXRTaGFkZXJzIix0aGlzKS5jYWxsKHRoaXMse3ZzOiIjdmVyc2lvbiAzMDAgZXNcbiNkZWZpbmUgU0hBREVSX05BTUUgZ3B1LWdyaWQtY2VsbC1sYXllci12ZXJ0ZXgtc2hhZGVyXG4jZGVmaW5lIFJBTkdFX0NPVU5UIDZcblxuaW4gdmVjMyBwb3NpdGlvbnM7XG5pbiB2ZWMzIG5vcm1hbHM7XG5cbmluIHZlYzQgY29sb3JzO1xuaW4gdmVjNCBlbGV2YXRpb25zO1xuaW4gdmVjMyBpbnN0YW5jZVBpY2tpbmdDb2xvcnM7XG51bmlmb3JtIHZlYzIgb2Zmc2V0O1xudW5pZm9ybSBib29sIGV4dHJ1ZGVkO1xudW5pZm9ybSBmbG9hdCBjZWxsU2l6ZTtcbnVuaWZvcm0gZmxvYXQgY292ZXJhZ2U7XG51bmlmb3JtIGZsb2F0IG9wYWNpdHk7XG51bmlmb3JtIGZsb2F0IGVsZXZhdGlvblNjYWxlO1xuXG51bmlmb3JtIGl2ZWMyIGdyaWRTaXplO1xudW5pZm9ybSB2ZWMyIGdyaWRPcmlnaW47XG51bmlmb3JtIHZlYzIgZ3JpZE9yaWdpbkxvdztcbnVuaWZvcm0gdmVjMiBncmlkT2Zmc2V0O1xudW5pZm9ybSB2ZWMyIGdyaWRPZmZzZXRMb3c7XG51bmlmb3JtIHZlYzQgY29sb3JSYW5nZVtSQU5HRV9DT1VOVF07XG51bmlmb3JtIHZlYzIgZWxldmF0aW9uUmFuZ2U7XG51bmlmb3JtIHZlYzIgY29sb3JEb21haW47XG51bmlmb3JtIGJvb2wgY29sb3JEb21haW5WYWxpZDtcbnVuaWZvcm0gdmVjMiBlbGV2YXRpb25Eb21haW47XG51bmlmb3JtIGJvb2wgZWxldmF0aW9uRG9tYWluVmFsaWQ7XG5cbmxheW91dChzdGQxNDApIHVuaWZvcm07XG51bmlmb3JtIENvbG9yRGF0YVxue1xuICB2ZWM0IG1heE1pbkNvdW50O1xufSBjb2xvckRhdGE7XG51bmlmb3JtIEVsZXZhdGlvbkRhdGFcbntcbiAgdmVjNCBtYXhNaW5Db3VudDtcbn0gZWxldmF0aW9uRGF0YTtcblxuI2RlZmluZSBFUFNJTE9OIDAuMDAwMDFcbm91dCB2ZWM0IHZDb2xvcjtcblxudmVjNCBxdWFudGl6ZVNjYWxlKHZlYzIgZG9tYWluLCB2ZWM0IHJhbmdlW1JBTkdFX0NPVU5UXSwgZmxvYXQgdmFsdWUpIHtcbiAgdmVjNCBvdXRDb2xvciA9IHZlYzQoMC4sIDAuLCAwLiwgMC4pO1xuICBpZiAodmFsdWUgPj0gKGRvbWFpbi54IC0gRVBTSUxPTikgJiYgdmFsdWUgPD0gKGRvbWFpbi55ICsgRVBTSUxPTikpIHtcbiAgICBmbG9hdCBkb21haW5SYW5nZSA9IGRvbWFpbi55IC0gZG9tYWluLng7XG4gICAgaWYgKGRvbWFpblJhbmdlIDw9IDAuKSB7XG4gICAgICBvdXRDb2xvciA9IGNvbG9yUmFuZ2VbMF07XG4gICAgfSBlbHNlIHtcbiAgICAgIGZsb2F0IHJhbmdlQ291bnQgPSBmbG9hdChSQU5HRV9DT1VOVCk7XG4gICAgICBmbG9hdCByYW5nZVN0ZXAgPSBkb21haW5SYW5nZSAvIHJhbmdlQ291bnQ7XG4gICAgICBmbG9hdCBpZHggPSBmbG9vcigodmFsdWUgLSBkb21haW4ueCkgLyByYW5nZVN0ZXApO1xuICAgICAgaWR4ID0gY2xhbXAoaWR4LCAwLiwgcmFuZ2VDb3VudCAtIDEuKTtcbiAgICAgIGludCBpbnRJZHggPSBpbnQoaWR4KTtcbiAgICAgIG91dENvbG9yID0gY29sb3JSYW5nZVtpbnRJZHhdO1xuICAgIH1cbiAgfVxuICByZXR1cm4gb3V0Q29sb3I7XG59XG5cbmZsb2F0IGxpbmVhclNjYWxlKHZlYzIgZG9tYWluLCB2ZWMyIHJhbmdlLCBmbG9hdCB2YWx1ZSkge1xuICBpZiAodmFsdWUgPj0gKGRvbWFpbi54IC0gRVBTSUxPTikgJiYgdmFsdWUgPD0gKGRvbWFpbi55ICsgRVBTSUxPTikpIHtcbiAgICByZXR1cm4gKCh2YWx1ZSAtIGRvbWFpbi54KSAvIChkb21haW4ueSAtIGRvbWFpbi54KSkgKiAocmFuZ2UueSAtIHJhbmdlLngpICsgcmFuZ2UueDtcbiAgfVxuICByZXR1cm4gLTEuO1xufVxuXG52b2lkIG1haW4odm9pZCkge1xuXG4gIHZlYzIgY2xyRG9tYWluID0gY29sb3JEb21haW5WYWxpZCA/IGNvbG9yRG9tYWluIDogdmVjMihjb2xvckRhdGEubWF4TWluQ291bnQuYSwgY29sb3JEYXRhLm1heE1pbkNvdW50LnIpO1xuICB2ZWM0IGNvbG9yID0gcXVhbnRpemVTY2FsZShjbHJEb21haW4sIGNvbG9yUmFuZ2UsIGNvbG9ycy5yKTtcblxuICBmbG9hdCBlbGV2YXRpb24gPSAwLjA7XG5cbiAgaWYgKGV4dHJ1ZGVkKSB7XG4gICAgdmVjMiBlbHZEb21haW4gPSBlbGV2YXRpb25Eb21haW5WYWxpZCA/IGVsZXZhdGlvbkRvbWFpbiA6IHZlYzIoZWxldmF0aW9uRGF0YS5tYXhNaW5Db3VudC5hLCBlbGV2YXRpb25EYXRhLm1heE1pbkNvdW50LnIpO1xuICAgIGVsZXZhdGlvbiA9IGxpbmVhclNjYWxlKGVsdkRvbWFpbiwgZWxldmF0aW9uUmFuZ2UsIGVsZXZhdGlvbnMucik7XG4gICAgZWxldmF0aW9uID0gZWxldmF0aW9uICAqIChwb3NpdGlvbnMueiArIDEuMCkgLyAyLjAgKiBlbGV2YXRpb25TY2FsZTtcbiAgfVxuICBmbG9hdCBzaG91bGRSZW5kZXIgPSBmbG9hdChjb2xvci5yID4gMC4wICYmIGVsZXZhdGlvbnMuciA+PSAwLjApO1xuICBmbG9hdCBkb3RSYWRpdXMgPSBjZWxsU2l6ZSAvIDIuICogY292ZXJhZ2UgKiBzaG91bGRSZW5kZXI7XG5cbiAgaW50IHlJbmRleCA9IChnbF9JbnN0YW5jZUlEIC8gZ3JpZFNpemVbMF0pO1xuICBpbnQgeEluZGV4ID0gZ2xfSW5zdGFuY2VJRCAtICh5SW5kZXggKiBncmlkU2l6ZVswXSk7XG5cbiAgdmVjMiBpbnN0YW5jZVBvc2l0aW9uWEZQNjQgPSBtdWxfZnA2NCh2ZWMyKGdyaWRPZmZzZXRbMF0sIGdyaWRPZmZzZXRMb3dbMF0pLCB2ZWMyKGZsb2F0KHhJbmRleCksIDAuKSk7XG4gIGluc3RhbmNlUG9zaXRpb25YRlA2NCA9IHN1bV9mcDY0KGluc3RhbmNlUG9zaXRpb25YRlA2NCwgdmVjMihncmlkT3JpZ2luWzBdLCBncmlkT3JpZ2luTG93WzBdKSk7XG4gIHZlYzIgaW5zdGFuY2VQb3NpdGlvbllGUDY0ID0gbXVsX2ZwNjQodmVjMihncmlkT2Zmc2V0WzFdLCBncmlkT2Zmc2V0TG93WzFdKSwgdmVjMihmbG9hdCh5SW5kZXgpLCAwLikpO1xuICBpbnN0YW5jZVBvc2l0aW9uWUZQNjQgPSBzdW1fZnA2NChpbnN0YW5jZVBvc2l0aW9uWUZQNjQsIHZlYzIoZ3JpZE9yaWdpblsxXSwgZ3JpZE9yaWdpbkxvd1sxXSkpO1xuXG4gIHZlYzMgY2VudHJvaWRQb3NpdGlvbiA9IHZlYzMoaW5zdGFuY2VQb3NpdGlvblhGUDY0WzBdLCBpbnN0YW5jZVBvc2l0aW9uWUZQNjRbMF0sIGVsZXZhdGlvbik7XG4gIHZlYzMgY2VudHJvaWRQb3NpdGlvbjY0TG93ID0gdmVjMyhpbnN0YW5jZVBvc2l0aW9uWEZQNjRbMV0sIGluc3RhbmNlUG9zaXRpb25ZRlA2NFsxXSwgMC4wKTtcbiAgdmVjMyBwb3MgPSB2ZWMzKHByb2plY3Rfc2l6ZShwb3NpdGlvbnMueHkgKyBvZmZzZXQpICogZG90UmFkaXVzLCAwLik7XG4gIHBpY2tpbmdfc2V0UGlja2luZ0NvbG9yKGluc3RhbmNlUGlja2luZ0NvbG9ycyk7XG5cbiAgdmVjNCBwb3NpdGlvbl9jb21tb25zcGFjZTtcbiAgZ2xfUG9zaXRpb24gPSBwcm9qZWN0X3Bvc2l0aW9uX3RvX2NsaXBzcGFjZShjZW50cm9pZFBvc2l0aW9uLCBjZW50cm9pZFBvc2l0aW9uNjRMb3csIHBvcywgcG9zaXRpb25fY29tbW9uc3BhY2UpO1xuXG4gIHZlYzMgbm9ybWFsc19jb21tb25zcGFjZSA9IHByb2plY3Rfbm9ybWFsKG5vcm1hbHMpO1xuXG4gICBpZiAoZXh0cnVkZWQpIHtcbiAgICB2ZWMzIGxpZ2h0Q29sb3IgPSBsaWdodGluZ19nZXRMaWdodENvbG9yKGNvbG9yLnJnYiwgcHJvamVjdF91Q2FtZXJhUG9zaXRpb24sIHBvc2l0aW9uX2NvbW1vbnNwYWNlLnh5eiwgbm9ybWFsc19jb21tb25zcGFjZSk7XG4gICAgdkNvbG9yID0gdmVjNChsaWdodENvbG9yLCBjb2xvci5hICogb3BhY2l0eSkgLyAyNTUuO1xuICB9IGVsc2Uge1xuICAgIHZDb2xvciA9IHZlYzQoY29sb3IucmdiLCBjb2xvci5hICogb3BhY2l0eSkgLyAyNTUuO1xuICB9XG59XG4iLGZzOiIjdmVyc2lvbiAzMDAgZXNcbiNkZWZpbmUgU0hBREVSX05BTUUgZ3B1LWdyaWQtY2VsbC1sYXllci1mcmFnbWVudC1zaGFkZXJcblxucHJlY2lzaW9uIGhpZ2hwIGZsb2F0O1xuXG5pbiB2ZWM0IHZDb2xvcjtcblxub3V0IHZlYzQgZnJhZ0NvbG9yO1xuXG52b2lkIG1haW4odm9pZCkge1xuICBmcmFnQ29sb3IgPSB2Q29sb3I7XG4gIGZyYWdDb2xvciA9IHBpY2tpbmdfZmlsdGVyQ29sb3IoZnJhZ0NvbG9yKTtcbn1cbiIsbW9kdWxlczpbVC5hLHZuLmEsdHQuYSxQLmJdfSl9fSx7a2V5OiJpbml0aWFsaXplU3RhdGUiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5jb250ZXh0LmdsO3RoaXMuZ2V0QXR0cmlidXRlTWFuYWdlcigpLmFkZEluc3RhbmNlZCh7Y29sb3JzOntzaXplOjQsbm9BbGxvYzohMH0sZWxldmF0aW9uczp7c2l6ZTo0LG5vQWxsb2M6ITB9fSk7dmFyIGU9dGhpcy5fZ2V0TW9kZWwodCk7dGhpcy5fc2V0dXBVbmlmb3JtQnVmZmVyKGUpLHRoaXMuc2V0U3RhdGUoe21vZGVsOmV9KX19LHtrZXk6Il9nZXRNb2RlbCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBrLmEodCxPYmplY3QuYXNzaWduKHt9LHRoaXMuZ2V0U2hhZGVycygpLHtpZDp0aGlzLnByb3BzLmlkLGdlb21ldHJ5Om5ldyBnbi5hLGlzSW5zdGFuY2VkOiEwfSkpfX0se2tleToiZHJhdyIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dC51bmlmb3JtcyxuPXRoaXMucHJvcHMscj1uLmNlbGxTaXplLGk9bi5vZmZzZXQsYT1uLmV4dHJ1ZGVkLG89bi5lbGV2YXRpb25TY2FsZSxzPW4uY292ZXJhZ2UsdT1uLmdyaWRTaXplLGM9bi5ncmlkT3JpZ2luLGw9bi5ncmlkT2Zmc2V0LGg9bi5lbGV2YXRpb25SYW5nZSxmPW4uY29sb3JNYXhNaW5CdWZmZXIsZD1uLmVsZXZhdGlvbk1heE1pbkJ1ZmZlcix2PVtPYmplY3QocG4uYykoY1swXSksT2JqZWN0KHBuLmMpKGNbMV0pXSxwPVtPYmplY3QocG4uYykobFswXSksT2JqZWN0KHBuLmMpKGxbMV0pXSxnPXRoaXMuZ2V0RG9tYWluVW5pZm9ybXMoKSx5PXJ0KHRoaXMucHJvcHMuY29sb3JSYW5nZSk7dGhpcy5iaW5kVW5pZm9ybUJ1ZmZlcnMoZixkKSx0aGlzLnN0YXRlLm1vZGVsLnNldFVuaWZvcm1zKE9iamVjdC5hc3NpZ24oe30sZSxnLHtjZWxsU2l6ZTpyLG9mZnNldDppLGV4dHJ1ZGVkOmEsZWxldmF0aW9uU2NhbGU6byxjb3ZlcmFnZTpzLGdyaWRTaXplOnUsZ3JpZE9yaWdpbjpjLGdyaWRPcmlnaW5Mb3c6dixncmlkT2Zmc2V0OmwsZ3JpZE9mZnNldExvdzpwLGNvbG9yUmFuZ2U6eSxlbGV2YXRpb25SYW5nZTpofSkpLmRyYXcoKSx0aGlzLnVuYmluZFVuaWZvcm1CdWZmZXJzKGYsZCl9fSx7a2V5OiJiaW5kVW5pZm9ybUJ1ZmZlcnMiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dC5iaW5kKHt0YXJnZXQ6MzUzNDUsaW5kZXg6MH0pLGUuYmluZCh7dGFyZ2V0OjM1MzQ1LGluZGV4OjF9KX19LHtrZXk6InVuYmluZFVuaWZvcm1CdWZmZXJzIix2YWx1ZTpmdW5jdGlvbih0LGUpe3QudW5iaW5kKHt0YXJnZXQ6MzUzNDUsaW5kZXg6MH0pLGUudW5iaW5kKHt0YXJnZXQ6MzUzNDUsaW5kZXg6MX0pfX0se2tleToiZ2V0RG9tYWluVW5pZm9ybXMiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5wcm9wcyxlPXQuY29sb3JEb21haW4sbj10LmVsZXZhdGlvbkRvbWFpbixyPXt9O3JldHVybiBudWxsIT09ZT8oci5jb2xvckRvbWFpblZhbGlkPSEwLHIuY29sb3JEb21haW49ZSk6ci5jb2xvckRvbWFpblZhbGlkPSExLG51bGwhPT1uPyhyLmVsZXZhdGlvbkRvbWFpblZhbGlkPSEwLHIuZWxldmF0aW9uRG9tYWluPW4pOnIuZWxldmF0aW9uRG9tYWluVmFsaWQ9ITEscn19LHtrZXk6Il9zZXR1cFVuaWZvcm1CdWZmZXIiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuY29udGV4dC5nbCxuPXQucHJvZ3JhbS5oYW5kbGUscj1lLmdldFVuaWZvcm1CbG9ja0luZGV4KG4sIkNvbG9yRGF0YSIpLGk9ZS5nZXRVbmlmb3JtQmxvY2tJbmRleChuLCJFbGV2YXRpb25EYXRhIik7ZS51bmlmb3JtQmxvY2tCaW5kaW5nKG4sciwwKSxlLnVuaWZvcm1CbG9ja0JpbmRpbmcobixpLDEpfX1dKSxlfShldC5hKTttbi5sYXllck5hbWU9IkdQVUdyaWRDZWxsTGF5ZXIiLG1uLmRlZmF1bHRQcm9wcz15bjt2YXIgYm49e2NvbG9yRG9tYWluOm51bGwsY29sb3JSYW5nZTpudCxnZXRDb2xvcldlaWdodDp7dHlwZToiYWNjZXNzb3IiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiAxfX0sY29sb3JBZ2dyZWdhdGlvbjoiU1VNIixlbGV2YXRpb25Eb21haW46bnVsbCxlbGV2YXRpb25SYW5nZTpbMCwxZTNdLGdldEVsZXZhdGlvbldlaWdodDp7dHlwZToiYWNjZXNzb3IiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiAxfX0sZWxldmF0aW9uQWdncmVnYXRpb246IlNVTSIsZWxldmF0aW9uU2NhbGU6e3R5cGU6Im51bWJlciIsbWluOjAsdmFsdWU6MX0sY2VsbFNpemU6e3R5cGU6Im51bWJlciIsbWluOjEsbWF4OjFlMyx2YWx1ZToxZTN9LGNvdmVyYWdlOnt0eXBlOiJudW1iZXIiLG1pbjowLG1heDoxLHZhbHVlOjF9LGdldFBvc2l0aW9uOnt0eXBlOiJhY2Nlc3NvciIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHQucG9zaXRpb259fSxleHRydWRlZDohMSxtYXRlcmlhbDohMH0sX249e2RhdGE6e3Byb3BzOlsiY2VsbFNpemUiLCJjb2xvckFnZ3JlZ2F0aW9uIiwiZWxldmF0aW9uQWdncmVnYXRpb24iXX19LE9uPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXtyZXR1cm4gdSgpKHRoaXMsZSksZigpKHRoaXMsdigpKGUpLmFwcGx5KHRoaXMsYXJndW1lbnRzKSl9cmV0dXJuIG0oKShlLHQpLGwoKShlLFt7a2V5OiJpbml0aWFsaXplU3RhdGUiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQsbj10aGlzLmNvbnRleHQuZ2wscj1LLmlzU3VwcG9ydGVkKG4pO3J8fGIuYS5lcnJvcigiR1BVR3JpZExheWVyIGlzIG5vdCBzdXBwb3J0ZWQgb24gdGhpcyBicm93c2VyLCB1c2UgR3JpZExheWVyIGluc3RlYWQiKSgpLGcoKSh2KCkoZS5wcm90b3R5cGUpLCJpbml0aWFsaXplU3RhdGUiLHRoaXMpLmNhbGwodGhpcyx7ZGltZW5zaW9uczpfbn0pLHRoaXMuc2V0U3RhdGUoe2dwdUFnZ3JlZ2F0aW9uOiEwLHByb2plY3RQb2ludHM6ITEsaXNTdXBwb3J0ZWQ6cix3ZWlnaHRzOntjb2xvcjp7bmVlZE1pbjohMCxuZWVkTWF4OiEwLGNvbWJpbmVNYXhNaW46ITAsbWF4TWluQnVmZmVyOm5ldyB2dC5hKG4se2J5dGVMZW5ndGg6MTYsYWNjZXNzb3I6e3NpemU6NCx0eXBlOjUxMjYsZGl2aXNvcjoxfX0pfSxlbGV2YXRpb246e25lZWRNaW46ITAsbmVlZE1heDohMCxjb21iaW5lTWF4TWluOiEwLG1heE1pbkJ1ZmZlcjpuZXcgdnQuYShuLHtieXRlTGVuZ3RoOjE2LGFjY2Vzc29yOntzaXplOjQsdHlwZTo1MTI2LGRpdmlzb3I6MX19KX19LHBvc2l0aW9uQXR0cmlidXRlTmFtZToicG9zaXRpb25zIn0pLHRoaXMuZ2V0QXR0cmlidXRlTWFuYWdlcigpLmFkZCgodD17fSxvKCkodCwicG9zaXRpb25zIix7c2l6ZTozLGFjY2Vzc29yOiJnZXRQb3NpdGlvbiIsdHlwZTo1MTMwLGZwNjQ6dGhpcy51c2U2NGJpdFBvc2l0aW9ucygpfSksbygpKHQsImNvbG9yIix7c2l6ZTozLGFjY2Vzc29yOiJnZXRDb2xvcldlaWdodCJ9KSxvKCkodCwiZWxldmF0aW9uIix7c2l6ZTozLGFjY2Vzc29yOiJnZXRFbGV2YXRpb25XZWlnaHQifSksdCkpfX0se2tleToidXBkYXRlU3RhdGUiLHZhbHVlOmZ1bmN0aW9uKHQpeyExIT09dGhpcy5zdGF0ZS5pc1N1cHBvcnRlZCYmKGcoKSh2KCkoZS5wcm90b3R5cGUpLCJ1cGRhdGVTdGF0ZSIsdGhpcykuY2FsbCh0aGlzLHQpLHRoaXMuc3RhdGUuYWdncmVnYXRpb25EaXJ0eSYmdGhpcy5zZXRTdGF0ZSh7Z3JpZEhhc2g6bnVsbH0pKX19LHtrZXk6ImdldEhhc2hLZXlGb3JJbmRleCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5zdGF0ZSxuPWUubnVtUm93LHI9ZS5udW1Db2wsaT1lLmJvdW5kaW5nQm94LGE9ZS5ncmlkT2Zmc2V0LG89W3Isbl0scz1baS54TWluLGkueU1pbl0sdT1bYS54T2Zmc2V0LGEueU9mZnNldF0sYz1NYXRoLmZsb29yKHQvb1swXSksbD10LWMqb1swXSxoPU1hdGguZmxvb3IoKGMqdVsxXStzWzFdKzkwK3VbMV0vMikvdVsxXSksZj1NYXRoLmZsb29yKChsKnVbMF0rc1swXSsxODArdVswXS8yKS91WzBdKTtyZXR1cm4iIi5jb25jYXQoaCwiLSIpLmNvbmNhdChmKX19LHtrZXk6ImdldFBvc2l0aW9uRm9ySW5kZXgiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuc3RhdGUsbj1lLm51bVJvdyxyPWUubnVtQ29sLGk9ZS5ib3VuZGluZ0JveCxhPWUuZ3JpZE9mZnNldCxvPVtyLG5dLHM9W2kueE1pbixpLnlNaW5dLHU9W2EueE9mZnNldCxhLnlPZmZzZXRdLGM9TWF0aC5mbG9vcih0L29bMF0pO3JldHVyblsodC1jKm9bMF0pKnVbMF0rc1swXSxjKnVbMV0rc1sxXV19fSx7a2V5OiJnZXRQaWNraW5nSW5mbyIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dC5pbmZvLG49dC5tb2RlLHI9ZS5pbmRleCxpPW51bGw7aWYocj49MCl7dmFyIGE9dGhpcy5zdGF0ZS5ncHVHcmlkQWdncmVnYXRvcixvPXRoaXMuZ2V0UG9zaXRpb25Gb3JJbmRleChyKSxzPUsuZ2V0QWdncmVnYXRpb25EYXRhKE9iamVjdC5hc3NpZ24oe3BpeGVsSW5kZXg6cn0sYS5nZXREYXRhKCJjb2xvciIpKSksdT1LLmdldEFnZ3JlZ2F0aW9uRGF0YShPYmplY3QuYXNzaWduKHtwaXhlbEluZGV4OnJ9LGEuZ2V0RGF0YSgiZWxldmF0aW9uIikpKTtpZihpPXtjb2xvclZhbHVlOnMuY2VsbFdlaWdodCxlbGV2YXRpb25WYWx1ZTp1LmNlbGxXZWlnaHQsY291bnQ6cy5jZWxsQ291bnR8fHUuY2VsbENvdW50LHBvc2l0aW9uOm8sdG90YWxDb3VudDpzLnRvdGFsQ291bnR8fHUudG90YWxDb3VudH0sImhvdmVyIiE9PW4pe3ZhciBjPXRoaXMucHJvcHMsbD10aGlzLnN0YXRlLmdyaWRIYXNoO2lmKCFsKXt2YXIgaD10aGlzLnN0YXRlLGY9aC5ncmlkT2Zmc2V0LGQ9aC50cmFuc2xhdGlvbix2PWguYm91bmRpbmdCb3gscD10aGlzLmNvbnRleHQudmlld3BvcnQ7bD1VdChjLHtncmlkT2Zmc2V0OmYsYXR0cmlidXRlczp0aGlzLmdldEF0dHJpYnV0ZXMoKSx2aWV3cG9ydDpwLHRyYW5zbGF0aW9uOmQsYm91bmRpbmdCb3g6dn0pLmdyaWRIYXNoLHRoaXMuc2V0U3RhdGUoe2dyaWRIYXNoOmx9KX12YXIgZz1sW3RoaXMuZ2V0SGFzaEtleUZvckluZGV4KHIpXTtPYmplY3QuYXNzaWduKGksZyl9fXJldHVybiBPYmplY3QuYXNzaWduKGUse3BpY2tlZDpCb29sZWFuKGkpLG9iamVjdDppfSl9fSx7a2V5OiJyZW5kZXJMYXllcnMiLHZhbHVlOmZ1bmN0aW9uKCl7aWYoIXRoaXMuc3RhdGUuaXNTdXBwb3J0ZWQpcmV0dXJuIG51bGw7dmFyIHQ9dGhpcy5wcm9wcyxlPXQuZWxldmF0aW9uU2NhbGUsbj10LmV4dHJ1ZGVkLHI9dC5jZWxsU2l6ZSxpPXQuY292ZXJhZ2UsYT10Lm1hdGVyaWFsLG89dC5lbGV2YXRpb25SYW5nZSxzPXQuY29sb3JEb21haW4sdT10LmVsZXZhdGlvbkRvbWFpbixjPXRoaXMuc3RhdGUsbD1jLndlaWdodHMsaD1jLm51bVJvdyxmPWMubnVtQ29sLGQ9Yy5ncmlkT3JpZ2luLHY9Yy5ncmlkT2Zmc2V0LHA9bC5jb2xvcixnPWwuZWxldmF0aW9uLHk9cnQodGhpcy5wcm9wcy5jb2xvclJhbmdlKTtyZXR1cm4gbmV3KHRoaXMuZ2V0U3ViTGF5ZXJDbGFzcygiZ3B1LWdyaWQtY2VsbCIsbW4pKSh7Z3JpZFNpemU6W2YsaF0sZ3JpZE9yaWdpbjpkLGdyaWRPZmZzZXQ6W3YueE9mZnNldCx2LnlPZmZzZXRdLGNvbG9yUmFuZ2U6eSxlbGV2YXRpb25SYW5nZTpvLGNvbG9yRG9tYWluOnMsZWxldmF0aW9uRG9tYWluOnUsY2VsbFNpemU6cixjb3ZlcmFnZTppLG1hdGVyaWFsOmEsZWxldmF0aW9uU2NhbGU6ZSxleHRydWRlZDpufSx0aGlzLmdldFN1YkxheWVyUHJvcHMoe2lkOiJncHUtZ3JpZC1jZWxsIn0pLHtkYXRhOnthdHRyaWJ1dGVzOntjb2xvcnM6cC5hZ2dyZWdhdGlvbkJ1ZmZlcixlbGV2YXRpb25zOmcuYWdncmVnYXRpb25CdWZmZXJ9fSxjb2xvck1heE1pbkJ1ZmZlcjpwLm1heE1pbkJ1ZmZlcixlbGV2YXRpb25NYXhNaW5CdWZmZXI6Zy5tYXhNaW5CdWZmZXIsbnVtSW5zdGFuY2VzOmYqaH0pfX0se2tleToiZmluYWxpemVTdGF0ZSIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnN0YXRlLndlaWdodHM7W3QuY29sb3IsdC5lbGV2YXRpb25dLmZvckVhY2goKGZ1bmN0aW9uKHQpe3ZhciBlPXQuYWdncmVnYXRpb25CdWZmZXI7dC5tYXhNaW5CdWZmZXIuZGVsZXRlKCksZSYmZS5kZWxldGUoKX0pKSxnKCkodigpKGUucHJvdG90eXBlKSwiZmluYWxpemVTdGF0ZSIsdGhpcykuY2FsbCh0aGlzKX19LHtrZXk6InVwZGF0ZUFnZ3JlZ2F0aW9uU3RhdGUiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXQucHJvcHMsbj10Lm9sZFByb3BzLHI9ZS5jZWxsU2l6ZSxpPWUuY29vcmRpbmF0ZVN5c3RlbSxhPXRoaXMuY29udGV4dC52aWV3cG9ydCxvPW4uY2VsbFNpemUhPT1yLHM9dGhpcy5zdGF0ZS5kaW1lbnNpb25zLHU9dGhpcy5pc0F0dHJpYnV0ZUNoYW5nZWQoInBvc2l0aW9ucyIpLGM9dXx8dGhpcy5pc0F0dHJpYnV0ZUNoYW5nZWQoKSxsPXRoaXMuc3RhdGUuYm91bmRpbmdCb3g7aWYodSYmKGw9TnQodGhpcy5nZXRBdHRyaWJ1dGVzKCksdGhpcy5nZXROdW1JbnN0YW5jZXMoKSksdGhpcy5zZXRTdGF0ZSh7Ym91bmRpbmdCb3g6bH0pKSx1fHxvKXt2YXIgaD16dChsLHIsYSxpKSxmPWguZ3JpZE9mZnNldCxkPWgudHJhbnNsYXRpb24sdj1oLndpZHRoLHA9aC5oZWlnaHQsZz1oLm51bUNvbCx5PWgubnVtUm93O3RoaXMuYWxsb2NhdGVSZXNvdXJjZXMoeSxnKSx0aGlzLnNldFN0YXRlKHtncmlkT2Zmc2V0OmYsdHJhbnNsYXRpb246ZCxncmlkT3JpZ2luOlstMSpkWzBdLC0xKmRbMV1dLHdpZHRoOnYsaGVpZ2h0OnAsbnVtQ29sOmcsbnVtUm93Onl9KX12YXIgbT1jfHx0aGlzLmlzQWdncmVnYXRpb25EaXJ0eSh0LHtkaW1lbnNpb246cy5kYXRhLGNvbXBhcmVBbGw6ITB9KTttJiZ0aGlzLl91cGRhdGVBY2Nlc3NvcnModCksdGhpcy5zZXRTdGF0ZSh7YWdncmVnYXRpb25EYXRhRGlydHk6bX0pfX0se2tleToiX3VwZGF0ZUFjY2Vzc29ycyIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dC5wcm9wcyxuPWUuY29sb3JBZ2dyZWdhdGlvbixyPWUuZWxldmF0aW9uQWdncmVnYXRpb24saT10aGlzLnN0YXRlLndlaWdodHMsYT1pLmNvbG9yLG89aS5lbGV2YXRpb247YS5vcGVyYXRpb249RVtuXSxvLm9wZXJhdGlvbj1FW3JdfX1dKSxlfShWdCk7T24ubGF5ZXJOYW1lPSJHUFVHcmlkTGF5ZXIiLE9uLmRlZmF1bHRQcm9wcz1ibjt2YXIgeG49T2JqZWN0LmFzc2lnbih7fSxPbi5kZWZhdWx0UHJvcHMsbmUuZGVmYXVsdFByb3BzLHtncHVBZ2dyZWdhdGlvbjohMX0pLHduPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXtyZXR1cm4gdSgpKHRoaXMsZSksZigpKHRoaXMsdigpKGUpLmFwcGx5KHRoaXMsYXJndW1lbnRzKSl9cmV0dXJuIG0oKShlLHQpLGwoKShlLFt7a2V5OiJpbml0aWFsaXplU3RhdGUiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5zdGF0ZT17dXNlR1BVQWdncmVnYXRpb246ITB9fX0se2tleToidXBkYXRlU3RhdGUiLHZhbHVlOmZ1bmN0aW9uKHQpe3Qub2xkUHJvcHM7dmFyIGU9dC5wcm9wcyxuPSh0LmNoYW5nZUZsYWdzLHt9KTtuLnVzZUdQVUFnZ3JlZ2F0aW9uPXRoaXMuY2FuVXNlR1BVQWdncmVnYXRpb24oZSksdGhpcy5zZXRTdGF0ZShuKX19LHtrZXk6InJlbmRlckxheWVycyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnByb3BzLGU9dC5kYXRhLG49dC51cGRhdGVUcmlnZ2VycyxyPXRoaXMuc3RhdGUudXNlR1BVQWdncmVnYXRpb24/IkdQVSI6IkNQVSI7cmV0dXJuIG5ldyh0aGlzLnN0YXRlLnVzZUdQVUFnZ3JlZ2F0aW9uP3RoaXMuZ2V0U3ViTGF5ZXJDbGFzcygiR1BVIixPbik6dGhpcy5nZXRTdWJMYXllckNsYXNzKCJDUFUiLG5lKSkodGhpcy5wcm9wcyx0aGlzLmdldFN1YkxheWVyUHJvcHMoe2lkOnIsdXBkYXRlVHJpZ2dlcnM6bn0pLHtkYXRhOmV9KX19LHtrZXk6ImNhblVzZUdQVUFnZ3JlZ2F0aW9uIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10LmdwdUFnZ3JlZ2F0aW9uLG49dC5sb3dlclBlcmNlbnRpbGUscj10LnVwcGVyUGVyY2VudGlsZSxpPXQuZ2V0Q29sb3JWYWx1ZSxhPXQuZ2V0RWxldmF0aW9uVmFsdWUsbz10LmNvbG9yU2NhbGVUeXBlO3JldHVybiEhZSYmKCEhSy5pc1N1cHBvcnRlZCh0aGlzLmNvbnRleHQuZ2wpJiYoMD09PW4mJjEwMD09PXImJihudWxsPT09aSYmbnVsbD09PWEmJigicXVhbnRpbGUiIT09byYmIm9yZGluYWwiIT09bykpKSl9fV0pLGV9KGh0LmEpO2Z1bmN0aW9uIGtuKHQpe3ZhciBlPXQubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gdFswXX0pKSxuPXQubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gdFsxXX0pKSxyPU1hdGgubWluLmFwcGx5KG51bGwsZSksaT1NYXRoLm1heC5hcHBseShudWxsLGUpO3JldHVybltyLE1hdGgubWluLmFwcGx5KG51bGwsbiksaSxNYXRoLm1heC5hcHBseShudWxsLG4pXX1mdW5jdGlvbiBTbih0LGUpe3JldHVybiBlWzBdPj10WzBdJiZlWzJdPD10WzJdJiZlWzFdPj10WzFdJiZlWzNdPD10WzNdfXduLmxheWVyTmFtZT0iR3JpZExheWVyIix3bi5kZWZhdWx0UHJvcHM9eG47dmFyIFBuPW5ldyBGbG9hdDMyQXJyYXkoMTIpO2Z1bmN0aW9uIGpuKHQpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXToyLG49MCxyPSEwLGk9ITEsYT12b2lkIDA7dHJ5e2Zvcih2YXIgbyxzPXRbU3ltYm9sLml0ZXJhdG9yXSgpOyEocj0obz1zLm5leHQoKSkuZG9uZSk7cj0hMClmb3IodmFyIHU9by52YWx1ZSxjPTA7YzxlO2MrKylQbltuKytdPXVbY118fDB9Y2F0Y2godCl7aT0hMCxhPXR9ZmluYWxseXt0cnl7cnx8bnVsbD09cy5yZXR1cm58fHMucmV0dXJuKCl9ZmluYWxseXtpZihpKXRocm93IGF9fXJldHVybiBQbn1mdW5jdGlvbiBUbih0LGUsbil7dmFyIHI9Z3QoKSh0LDQpLGk9clswXSxhPXJbMV0sbz1yWzJdLHM9clszXSx1PW8taSxjPXMtYSxsPXUsaD1jO3UvYzxlL24/bD1lL24qYzpoPW4vZSp1LGw8ZSYmKGw9ZSxoPW4pO3ZhciBmPShvK2kpLzIsZD0ocythKS8yO3JldHVybltmLWwvMixkLWgvMixmK2wvMixkK2gvMl19ZnVuY3Rpb24gRW4odCxlKXt2YXIgbj1PYmplY3Qua2V5cyh0KTtpZihPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgcj1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHQpO2UmJihyPXIuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0LGUpLmVudW1lcmFibGV9KSkpLG4ucHVzaC5hcHBseShuLHIpfXJldHVybiBufXZhciBBbj1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7cmV0dXJuIHUoKSh0aGlzLGUpLGYoKSh0aGlzLHYoKShlKS5hcHBseSh0aGlzLGFyZ3VtZW50cykpfXJldHVybiBtKCkoZSx0KSxsKCkoZSxbe2tleToiZ2V0U2hhZGVycyIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm57dnM6IiNkZWZpbmUgU0hBREVSX05BTUUgaGVhdHAtbWFwLWxheWVyLXZlcnRleC1zaGFkZXJcblxudW5pZm9ybSBzYW1wbGVyMkQgbWF4VGV4dHVyZTtcbnVuaWZvcm0gZmxvYXQgaW50ZW5zaXR5O1xudW5pZm9ybSB2ZWMyIGNvbG9yRG9tYWluO1xudW5pZm9ybSBmbG9hdCB0aHJlc2hvbGQ7XG5cbmF0dHJpYnV0ZSB2ZWMzIHBvc2l0aW9ucztcbmF0dHJpYnV0ZSB2ZWMyIHRleENvb3JkcztcblxudmFyeWluZyB2ZWMyIHZUZXhDb29yZHM7XG52YXJ5aW5nIGZsb2F0IHZJbnRlbnNpdHlNaW47XG52YXJ5aW5nIGZsb2F0IHZJbnRlbnNpdHlNYXg7XG5cbnZvaWQgbWFpbih2b2lkKSB7XG4gIGdsX1Bvc2l0aW9uID0gcHJvamVjdF9wb3NpdGlvbl90b19jbGlwc3BhY2UocG9zaXRpb25zLCB2ZWMzKDAuMCksIHZlYzMoMC4wKSk7XG4gIHZUZXhDb29yZHMgPSB0ZXhDb29yZHM7XG4gIGZsb2F0IG1heFZhbHVlID0gdGV4dHVyZTJEKG1heFRleHR1cmUsIHZlYzIoMC41KSkucjtcbiAgZmxvYXQgbWluVmFsdWUgPSBtYXhWYWx1ZSAqIHRocmVzaG9sZDtcbiAgaWYgKGNvbG9yRG9tYWluWzFdID4gMC4pIHtcbiAgICBtYXhWYWx1ZSA9IGNvbG9yRG9tYWluWzFdO1xuICAgIG1pblZhbHVlID0gY29sb3JEb21haW5bMF07XG4gIH1cbiAgdkludGVuc2l0eU1heCA9IGludGVuc2l0eSAvIG1heFZhbHVlO1xuICB2SW50ZW5zaXR5TWluID0gaW50ZW5zaXR5IC8gbWluVmFsdWU7XG59XG4iLGZzOiIjZGVmaW5lIFNIQURFUl9OQU1FIHRyaWFuZ2xlLWxheWVyLWZyYWdtZW50LXNoYWRlclxuXG5wcmVjaXNpb24gaGlnaHAgZmxvYXQ7XG5cbnVuaWZvcm0gZmxvYXQgb3BhY2l0eTtcbnVuaWZvcm0gc2FtcGxlcjJEIHRleHR1cmU7XG52YXJ5aW5nIHZlYzIgdlRleENvb3JkcztcbnVuaWZvcm0gc2FtcGxlcjJEIGNvbG9yVGV4dHVyZTtcblxudmFyeWluZyBmbG9hdCB2SW50ZW5zaXR5TWluO1xudmFyeWluZyBmbG9hdCB2SW50ZW5zaXR5TWF4O1xuXG52ZWM0IGdldExpbmVhckNvbG9yKGZsb2F0IHZhbHVlKSB7XG4gIGZsb2F0IGZhY3RvciA9IGNsYW1wKHZhbHVlICogdkludGVuc2l0eU1heCwgMC4sIDEuKTtcbiAgdmVjNCBjb2xvciA9IHRleHR1cmUyRChjb2xvclRleHR1cmUsIHZlYzIoZmFjdG9yLCAwLjUpKTtcbiAgY29sb3IuYSAqPSBtaW4odmFsdWUgKiB2SW50ZW5zaXR5TWluLCAxLjApO1xuICByZXR1cm4gY29sb3I7XG59XG5cbnZvaWQgbWFpbih2b2lkKSB7XG4gIGZsb2F0IHdlaWdodCA9IHRleHR1cmUyRCh0ZXh0dXJlLCB2VGV4Q29vcmRzKS5yO1xuICBpZiAod2VpZ2h0IDw9IDAuKSB7XG4gICAgIGRpc2NhcmQ7XG4gIH1cblxuICB2ZWM0IGxpbmVhckNvbG9yID0gZ2V0TGluZWFyQ29sb3Iod2VpZ2h0KTtcbiAgbGluZWFyQ29sb3IuYSAqPSBvcGFjaXR5O1xuICBnbF9GcmFnQ29sb3IgPWxpbmVhckNvbG9yO1xufVxuIixtb2R1bGVzOltULmFdfX19LHtrZXk6ImluaXRpYWxpemVTdGF0ZSIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmNvbnRleHQuZ2w7dGhpcy5nZXRBdHRyaWJ1dGVNYW5hZ2VyKCkuYWRkKHtwb3NpdGlvbnM6e3NpemU6Myxub0FsbG9jOiEwfSx0ZXhDb29yZHM6e3NpemU6Mixub0FsbG9jOiEwfX0pLHRoaXMuc2V0U3RhdGUoe21vZGVsOnRoaXMuX2dldE1vZGVsKHQpfSl9fSx7a2V5OiJfZ2V0TW9kZWwiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMucHJvcHMudmVydGV4Q291bnQ7cmV0dXJuIG5ldyBrLmEodCxPYmplY3QuYXNzaWduKHt9LHRoaXMuZ2V0U2hhZGVycygpLHtpZDp0aGlzLnByb3BzLmlkLGdlb21ldHJ5Om5ldyAkLmEoe2RyYXdNb2RlOjYsdmVydGV4Q291bnQ6ZX0pfSkpfX0se2tleToiZHJhdyIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dC51bmlmb3JtcyxuPXRoaXMuc3RhdGUubW9kZWwscj10aGlzLnByb3BzLGk9ci50ZXh0dXJlLGE9ci5tYXhUZXh0dXJlLHM9ci5jb2xvclRleHR1cmUsdT1yLmludGVuc2l0eSxjPXIudGhyZXNob2xkLGw9ci5jb2xvckRvbWFpbjtuLnNldFVuaWZvcm1zKGZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0xO2U8YXJndW1lbnRzLmxlbmd0aDtlKyspe3ZhciBuPW51bGwhPWFyZ3VtZW50c1tlXT9hcmd1bWVudHNbZV06e307ZSUyP0VuKE9iamVjdChuKSwhMCkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7bygpKHQsZSxuW2VdKX0pKTpPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycz9PYmplY3QuZGVmaW5lUHJvcGVydGllcyh0LE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKG4pKTpFbihPYmplY3QobikpLmZvckVhY2goKGZ1bmN0aW9uKGUpe09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LGUsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihuLGUpKX0pKX1yZXR1cm4gdH0oe30sZSx7dGV4dHVyZTppLG1heFRleHR1cmU6YSxjb2xvclRleHR1cmU6cyxpbnRlbnNpdHk6dSx0aHJlc2hvbGQ6Yyxjb2xvckRvbWFpbjpsfSkpLmRyYXcoKX19XSksZX0oZXQuYSk7QW4ubGF5ZXJOYW1lPSJUcmlhbmdsZUxheWVyIixBbi5kZWZhdWx0UHJvcHM9e2NvdW50OjAsdGV4dHVyZTpudWxsfTt2YXIgTW4sQ249ImF0dHJpYnV0ZSB2ZWMzIHBvc2l0aW9ucztcbmF0dHJpYnV0ZSBmbG9hdCB3ZWlnaHRzO1xudmFyeWluZyB2ZWM0IHdlaWdodHNUZXh0dXJlO1xudW5pZm9ybSBmbG9hdCByYWRpdXNQaXhlbHM7XG51bmlmb3JtIGZsb2F0IHRleHR1cmVXaWR0aDtcbnVuaWZvcm0gdmVjNCBjb21tb25Cb3VuZHM7XG51bmlmb3JtIGZsb2F0IHdlaWdodHNTY2FsZTtcbnZvaWQgbWFpbigpXG57XG4gIHdlaWdodHNUZXh0dXJlID0gdmVjNCh3ZWlnaHRzICogd2VpZ2h0c1NjYWxlLCAwLiwgMC4sIDEuKTtcblxuICBmbG9hdCByYWRpdXNUZXhlbHMgID0gcHJvamVjdF9waXhlbF9zaXplKHJhZGl1c1BpeGVscykgKiB0ZXh0dXJlV2lkdGggLyAoY29tbW9uQm91bmRzLnogLSBjb21tb25Cb3VuZHMueCk7XG4gIGdsX1BvaW50U2l6ZSA9IHJhZGl1c1RleGVscyAqIDIuO1xuXG4gIHZlYzMgY29tbW9uUG9zaXRpb24gPSBwcm9qZWN0X3Bvc2l0aW9uKHBvc2l0aW9ucyk7XG4gIGdsX1Bvc2l0aW9uLnh5ID0gKGNvbW1vblBvc2l0aW9uLnh5IC0gY29tbW9uQm91bmRzLnh5KSAvIChjb21tb25Cb3VuZHMuencgLSBjb21tb25Cb3VuZHMueHkpIDtcbiAgZ2xfUG9zaXRpb24ueHkgPSAoZ2xfUG9zaXRpb24ueHkgKiAyLikgLSAoMS4pO1xufVxuIixMbj0idmFyeWluZyB2ZWM0IHdlaWdodHNUZXh0dXJlO1xuZmxvYXQgZ2F1c3NpYW5LREUoZmxvYXQgdSl7XG4gIHJldHVybiBwb3coMi43MTgyOCwgLXUqdS8wLjA1NTU1KS8oMS43NzI0NTM4NSowLjE2NjY2Nik7XG59XG52b2lkIG1haW4oKVxue1xuICBmbG9hdCBkaXN0ID0gbGVuZ3RoKGdsX1BvaW50Q29vcmQgLSB2ZWMyKDAuNSwgMC41KSk7XG4gIGlmIChkaXN0ID4gMC41KSB7XG4gICAgZGlzY2FyZDtcbiAgfVxuICBnbF9GcmFnQ29sb3IucmdiID0gd2VpZ2h0c1RleHR1cmUucmdiICogZ2F1c3NpYW5LREUoMi4gKiBkaXN0KTtcbiAgZ2xfRnJhZ0NvbG9yLmEgPSAxLjA7XG4gIERFQ0tHTF9GSUxURVJfQ09MT1IoZ2xfRnJhZ0NvbG9yLCBnZW9tZXRyeSk7XG59XG4iO2Z1bmN0aW9uIEluKHQsZSl7dmFyIG49T2JqZWN0LmtleXModCk7aWYoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyl7dmFyIHI9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyh0KTtlJiYocj1yLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodCxlKS5lbnVtZXJhYmxlfSkpKSxuLnB1c2guYXBwbHkobixyKX1yZXR1cm4gbn1mdW5jdGlvbiBSbih0KXtmb3IodmFyIGU9MTtlPGFyZ3VtZW50cy5sZW5ndGg7ZSsrKXt2YXIgbj1udWxsIT1hcmd1bWVudHNbZV0/YXJndW1lbnRzW2VdOnt9O2UlMj9JbihPYmplY3QobiksITApLmZvckVhY2goKGZ1bmN0aW9uKGUpe28oKSh0LGUsbltlXSl9KSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXModCxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhuKSk6SW4oT2JqZWN0KG4pKS5mb3JFYWNoKChmdW5jdGlvbihlKXtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxlLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IobixlKSl9KSl9cmV0dXJuIHR9dmFyIE5uPXttaXBtYXBzOiExLHBhcmFtZXRlcnM6KE1uPXt9LG8oKShNbiwxMDI0MCw5NzI5KSxvKCkoTW4sMTAyNDEsOTcyOSksbygpKE1uLDEwMjQyLDMzMDcxKSxvKCkoTW4sMTAyNDMsMzMwNzEpLE1uKSxkYXRhRm9ybWF0OjY0MDh9LERuPVswLDBdLEZuPXtnZXRQb3NpdGlvbjp7dHlwZToiYWNjZXNzb3IiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0LnBvc2l0aW9ufX0sZ2V0V2VpZ2h0Ont0eXBlOiJhY2Nlc3NvciIsdmFsdWU6MX0saW50ZW5zaXR5Ont0eXBlOiJudW1iZXIiLG1pbjowLHZhbHVlOjF9LHJhZGl1c1BpeGVsczp7dHlwZToibnVtYmVyIixtaW46MSxtYXg6MTAwLHZhbHVlOjUwfSxjb2xvclJhbmdlOm50LHRocmVzaG9sZDp7dHlwZToibnVtYmVyIixtaW46MCxtYXg6MSx2YWx1ZTouMDV9LGNvbG9yRG9tYWluOnt0eXBlOiJhcnJheSIsdmFsdWU6bnVsbCxvcHRpb25hbDohMH19LHpuPVtfLmEuQkxFTkRfRVFVQVRJT05fTUlOTUFYLF8uYS5URVhUVVJFX0ZMT0FUXSxCbj17ZGF0YTp7cHJvcHM6WyJyYWRpdXNQaXhlbHMiXX19LFVuPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXtyZXR1cm4gdSgpKHRoaXMsZSksZigpKHRoaXMsdigpKGUpLmFwcGx5KHRoaXMsYXJndW1lbnRzKSl9cmV0dXJuIG0oKShlLHQpLGwoKShlLFt7a2V5OiJpbml0aWFsaXplU3RhdGUiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5jb250ZXh0LmdsO2lmKCFPYmplY3QoTy5jKSh0LHpuKSlyZXR1cm4gdGhpcy5zZXRTdGF0ZSh7c3VwcG9ydGVkOiExfSksdm9pZCBiLmEuZXJyb3IoIkhlYXRtYXBMYXllcjogIi5jb25jYXQodGhpcy5pZCwiIGlzIG5vdCBzdXBwb3J0ZWQgb24gdGhpcyBicm93c2VyIikpKCk7ZygpKHYoKShlLnByb3RvdHlwZSksImluaXRpYWxpemVTdGF0ZSIsdGhpcykuY2FsbCh0aGlzLEJuKSx0aGlzLnNldFN0YXRlKHtzdXBwb3J0ZWQ6ITB9KSx0aGlzLl9zZXR1cFRleHR1cmVQYXJhbXMoKSx0aGlzLl9zZXR1cEF0dHJpYnV0ZXMoKSx0aGlzLl9zZXR1cFJlc291cmNlcygpfX0se2tleToic2hvdWxkVXBkYXRlU3RhdGUiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0LmNoYW5nZUZsYWdzLnNvbWV0aGluZ0NoYW5nZWR9fSx7a2V5OiJ1cGRhdGVTdGF0ZSIsdmFsdWU6ZnVuY3Rpb24odCl7aWYodGhpcy5zdGF0ZS5zdXBwb3J0ZWQpe2coKSh2KCkoZS5wcm90b3R5cGUpLCJ1cGRhdGVTdGF0ZSIsdGhpcykuY2FsbCh0aGlzLHQpO3ZhciBuPXQucHJvcHMscj10Lm9sZFByb3BzLGk9dGhpcy5fZ2V0Q2hhbmdlRmxhZ3ModCk7aWYoaS52aWV3cG9ydENoYW5nZWQmJihpLmJvdW5kc0NoYW5nZWQ9dGhpcy5fdXBkYXRlQm91bmRzKCkpLGkuZGF0YUNoYW5nZWR8fGkuYm91bmRzQ2hhbmdlZD90aGlzLl91cGRhdGVXZWlnaHRtYXAoKTppLnZpZXdwb3J0Wm9vbUNoYW5nZWQmJnRoaXMuX2RlYm91bmNlZFVwZGF0ZVdlaWdodG1hcCgpLG4uY29sb3JSYW5nZSE9PXIuY29sb3JSYW5nZSYmdGhpcy5fdXBkYXRlQ29sb3JUZXh0dXJlKHQpLGkudmlld3BvcnRDaGFuZ2VkJiZ0aGlzLl91cGRhdGVUZXh0dXJlUmVuZGVyaW5nQm91bmRzKCksci5jb2xvckRvbWFpbiE9PW4uY29sb3JEb21haW58fGkudmlld3BvcnRDaGFuZ2VkKXt2YXIgYT10aGlzLmNvbnRleHQudmlld3BvcnQsbz10aGlzLnN0YXRlLndlaWdodHNTY2FsZSxzPShhPzEwMjQvYS5zY2FsZToxKSpvLHU9bi5jb2xvckRvbWFpbj9uLmNvbG9yRG9tYWluLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIHQqc30pKTpEbjtpZih1WzFdPjAmJm88MSl7dmFyIGM9TWF0aC5taW4odVsxXSwxKTt1WzBdKj1jL3VbMV0sdVsxXT1jfXRoaXMuc2V0U3RhdGUoe2NvbG9yRG9tYWluOnV9KX10aGlzLnNldFN0YXRlKHt6b29tOnQuY29udGV4dC52aWV3cG9ydC56b29tfSl9fX0se2tleToicmVuZGVyTGF5ZXJzIix2YWx1ZTpmdW5jdGlvbigpe2lmKCF0aGlzLnN0YXRlLnN1cHBvcnRlZClyZXR1cm5bXTt2YXIgdD10aGlzLnN0YXRlLGU9dC53ZWlnaHRzVGV4dHVyZSxuPXQudHJpUG9zaXRpb25CdWZmZXIscj10LnRyaVRleENvb3JkQnVmZmVyLGk9dC5tYXhXZWlnaHRzVGV4dHVyZSxhPXQuY29sb3JUZXh0dXJlLG89dC5jb2xvckRvbWFpbixzPXRoaXMucHJvcHMsdT1zLnVwZGF0ZVRyaWdnZXJzLGM9cy5pbnRlbnNpdHksbD1zLnRocmVzaG9sZDtyZXR1cm4gbmV3KHRoaXMuZ2V0U3ViTGF5ZXJDbGFzcygidHJpYW5nbGUiLEFuKSkodGhpcy5nZXRTdWJMYXllclByb3BzKHtpZDoidHJpYW5nbGUtbGF5ZXIiLHVwZGF0ZVRyaWdnZXJzOnV9KSx7ZGF0YTp7YXR0cmlidXRlczp7cG9zaXRpb25zOm4sdGV4Q29vcmRzOnJ9fSx2ZXJ0ZXhDb3VudDo0LG1heFRleHR1cmU6aSxjb2xvclRleHR1cmU6YSx0ZXh0dXJlOmUsaW50ZW5zaXR5OmMsdGhyZXNob2xkOmwsY29sb3JEb21haW46b30pfX0se2tleToiZmluYWxpemVTdGF0ZSIsdmFsdWU6ZnVuY3Rpb24oKXtnKCkodigpKGUucHJvdG90eXBlKSwiZmluYWxpemVTdGF0ZSIsdGhpcykuY2FsbCh0aGlzKTt2YXIgdD10aGlzLnN0YXRlLG49dC53ZWlnaHRzVHJhbnNmb3JtLHI9dC53ZWlnaHRzVGV4dHVyZSxpPXQubWF4V2VpZ2h0VHJhbnNmb3JtLGE9dC5tYXhXZWlnaHRzVGV4dHVyZSxvPXQudHJpUG9zaXRpb25CdWZmZXIscz10LnRyaVRleENvb3JkQnVmZmVyLHU9dC5jb2xvclRleHR1cmUsYz10LnVwZGF0ZVRpbWVyO24mJm4uZGVsZXRlKCksciYmci5kZWxldGUoKSxpJiZpLmRlbGV0ZSgpLGEmJmEuZGVsZXRlKCksbyYmby5kZWxldGUoKSxzJiZzLmRlbGV0ZSgpLHUmJnUuZGVsZXRlKCksYyYmY2xlYXJUaW1lb3V0KGMpfX0se2tleToiX2dldEF0dHJpYnV0ZU1hbmFnZXIiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBsdC5hKHRoaXMuY29udGV4dC5nbCx7aWQ6dGhpcy5wcm9wcy5pZCxzdGF0czp0aGlzLmNvbnRleHQuc3RhdHN9KX19LHtrZXk6Il9nZXRDaGFuZ2VGbGFncyIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9e30sbj10aGlzLnN0YXRlLmRpbWVuc2lvbnM7ZS5kYXRhQ2hhbmdlZD10aGlzLmlzQXR0cmlidXRlQ2hhbmdlZCgpfHx0aGlzLmlzQWdncmVnYXRpb25EaXJ0eSh0LHtjb21wYXJlQWxsOiEwLGRpbWVuc2lvbjpuLmRhdGF9KSxlLnZpZXdwb3J0Q2hhbmdlZD10LmNoYW5nZUZsYWdzLnZpZXdwb3J0Q2hhbmdlZDt2YXIgcj10aGlzLnN0YXRlLnpvb207cmV0dXJuIHQuY29udGV4dC52aWV3cG9ydCYmdC5jb250ZXh0LnZpZXdwb3J0Lnpvb209PT1yfHwoZS52aWV3cG9ydFpvb21DaGFuZ2VkPSEwKSxlfX0se2tleToiX2NyZWF0ZVRleHR1cmVzIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMuY29udGV4dC5nbCxlPXRoaXMuc3RhdGUsbj1lLnRleHR1cmVTaXplLHI9ZS5mb3JtYXQsaT1lLnR5cGU7dGhpcy5zZXRTdGF0ZSh7d2VpZ2h0c1RleHR1cmU6bmV3IFUuYSh0LFJuKHt3aWR0aDpuLGhlaWdodDpuLGZvcm1hdDpyLHR5cGU6aX0sTm4pKSxtYXhXZWlnaHRzVGV4dHVyZTpuZXcgVS5hKHQsUm4oe2Zvcm1hdDpyLHR5cGU6aX0sTm4pKX0pfX0se2tleToiX3NldHVwQXR0cmlidXRlcyIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLmdldEF0dHJpYnV0ZU1hbmFnZXIoKS5hZGQoe3Bvc2l0aW9uczp7c2l6ZTozLGFjY2Vzc29yOiJnZXRQb3NpdGlvbiJ9LHdlaWdodHM6e3NpemU6MSxhY2Nlc3NvcjoiZ2V0V2VpZ2h0In19KSx0aGlzLnNldFN0YXRlKHtwb3NpdGlvbkF0dHJpYnV0ZU5hbWU6InBvc2l0aW9ucyJ9KX19LHtrZXk6Il9zZXR1cFRleHR1cmVQYXJhbXMiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5jb250ZXh0LmdsLGU9TWF0aC5taW4oMjA0OCxPYmplY3QoeC5kKSh0LDMzNzkpKSxuPU9iamVjdChPLmMpKHQsXy5hLkNPTE9SX0FUVEFDSE1FTlRfUkdCQTMyRikscj1mdW5jdGlvbih0KXt2YXIgZT10LmdsLG49dC5mbG9hdFRhcmdldFN1cHBvcnQ7cmV0dXJue2Zvcm1hdDpPYmplY3QoeC5nKShlKT8zNDgzNjo2NDA4LHR5cGU6bj81MTI2OjUxMjF9fSh7Z2w6dCxmbG9hdFRhcmdldFN1cHBvcnQ6bn0pLGk9ci5mb3JtYXQsYT1yLnR5cGUsbz1uPzE6MS8yNTU7dGhpcy5zZXRTdGF0ZSh7dGV4dHVyZVNpemU6ZSxmb3JtYXQ6aSx0eXBlOmEsd2VpZ2h0c1NjYWxlOm99KSxufHxiLmEud2FybigiSGVhdG1hcExheWVyOiAiLmNvbmNhdCh0aGlzLmlkLCIgcmVuZGVyaW5nIHRvIGZsb2F0IHRleHR1cmUgbm90IHN1cHBvcnRlZCwgZmFsbGluZ2JhY2sgdG8gbG93IHByZWNlc3Npb24gZm9ybWF0IikpKCl9fSx7a2V5OiJfY3JlYXRlV2VpZ2h0c1RyYW5zZm9ybSIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e30sZT10aGlzLmNvbnRleHQuZ2wsbj10aGlzLnN0YXRlLndlaWdodHNUcmFuc2Zvcm0scj10aGlzLnN0YXRlLndlaWdodHNUZXh0dXJlO24mJm4uZGVsZXRlKCk7dmFyIGk9T2JqZWN0KGouYSkoe3ZzOkNuLF9mczpMbixtb2R1bGVzOltULmFdfSx0KTtuPW5ldyBTLmEoZSxSbih7aWQ6IiIuY29uY2F0KHRoaXMuaWQsIi13ZWlnaHRzLXRyYW5zZm9ybSIpLGVsZW1lbnRDb3VudDoxLF90YXJnZXRUZXh0dXJlOnIsX3RhcmdldFRleHR1cmVWYXJ5aW5nOiJ3ZWlnaHRzVGV4dHVyZSJ9LGkpKSx0aGlzLnNldFN0YXRlKHt3ZWlnaHRzVHJhbnNmb3JtOm59KX19LHtrZXk6Il9zZXR1cFJlc291cmNlcyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmNvbnRleHQuZ2w7dGhpcy5fY3JlYXRlVGV4dHVyZXMoKTt2YXIgZT10aGlzLnN0YXRlLG49ZS50ZXh0dXJlU2l6ZSxyPWUud2VpZ2h0c1RleHR1cmUsaT1lLm1heFdlaWdodHNUZXh0dXJlO3RoaXMuX2NyZWF0ZVdlaWdodHNUcmFuc2Zvcm0oKTt2YXIgYT1uZXcgUy5hKHQse2lkOiIiLmNvbmNhdCh0aGlzLmlkLCItbWF4LXdlaWdodHMtdHJhbnNmb3JtIiksX3NvdXJjZVRleHR1cmVzOntpblRleHR1cmU6cn0sX3RhcmdldFRleHR1cmU6aSxfdGFyZ2V0VGV4dHVyZVZhcnlpbmc6Im91dFRleHR1cmUiLHZzOiJhdHRyaWJ1dGUgdmVjNCBpblRleHR1cmU7XG52YXJ5aW5nIHZlYzQgb3V0VGV4dHVyZTtcblxudm9pZCBtYWluKClcbntcbm91dFRleHR1cmUgPSBpblRleHR1cmU7XG5nbF9Qb3NpdGlvbiA9IHZlYzQoMCwgMCwgMCwgMS4pO1xuZ2xfUG9pbnRTaXplID0gMS4wO1xufVxuIixlbGVtZW50Q291bnQ6bipufSk7dGhpcy5zZXRTdGF0ZSh7d2VpZ2h0c1RleHR1cmU6cixtYXhXZWlnaHRzVGV4dHVyZTppLG1heFdlaWdodFRyYW5zZm9ybTphLHpvb206bnVsbCx0cmlQb3NpdGlvbkJ1ZmZlcjpuZXcgdnQuYSh0LHtieXRlTGVuZ3RoOjQ4LGFjY2Vzc29yOntzaXplOjN9fSksdHJpVGV4Q29vcmRCdWZmZXI6bmV3IHZ0LmEodCx7Ynl0ZUxlbmd0aDo0OCxhY2Nlc3Nvcjp7c2l6ZToyfX0pfSl9fSx7a2V5OiJ1cGRhdGVTaGFkZXJzIix2YWx1ZTpmdW5jdGlvbih0KXt0aGlzLl9jcmVhdGVXZWlnaHRzVHJhbnNmb3JtKHQpfX0se2tleToiX3VwZGF0ZU1heFdlaWdodFZhbHVlIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuc3RhdGUubWF4V2VpZ2h0VHJhbnNmb3JtLnJ1bih7cGFyYW1ldGVyczp7YmxlbmQ6ITAsZGVwdGhUZXN0OiExLGJsZW5kRnVuYzpbMSwxXSxibGVuZEVxdWF0aW9uOjMyNzc2fX0pfX0se2tleToiX3VwZGF0ZUJvdW5kcyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXSYmYXJndW1lbnRzWzBdLGU9dGhpcy5jb250ZXh0LnZpZXdwb3J0LG49W2UudW5wcm9qZWN0KFswLDBdKSxlLnVucHJvamVjdChbZS53aWR0aCwwXSksZS51bnByb2plY3QoW2Uud2lkdGgsZS5oZWlnaHRdKSxlLnVucHJvamVjdChbMCxlLmhlaWdodF0pXSxyPWtuKG4pLGk9e3Zpc2libGVXb3JsZEJvdW5kczpyLHZpZXdwb3J0Q29ybmVyczpufSxhPSExO2lmKHR8fCF0aGlzLnN0YXRlLndvcmxkQm91bmRzfHwhU24odGhpcy5zdGF0ZS53b3JsZEJvdW5kcyxyKSl7dmFyIG89dGhpcy5fd29ybGRUb0NvbW1vbkJvdW5kcyhyKSxzPXRoaXMuX2NvbW1vblRvV29ybGRCb3VuZHMobyk7dGhpcy5wcm9wcy5jb29yZGluYXRlU3lzdGVtPT09SXQuYS5MTkdMQVQmJihzWzFdPU1hdGgubWF4KHNbMV0sLTg1LjA1MTEyOSksc1szXT1NYXRoLm1pbihzWzNdLDg1LjA1MTEyOSksc1swXT1NYXRoLm1heChzWzBdLC0zNjApLHNbMl09TWF0aC5taW4oc1syXSwzNjApKTt2YXIgdT10aGlzLl93b3JsZFRvQ29tbW9uQm91bmRzKHMpO2kud29ybGRCb3VuZHM9cyxpLm5vcm1hbGl6ZWRDb21tb25Cb3VuZHM9dSxhPSEwfXJldHVybiB0aGlzLnNldFN0YXRlKGkpLGF9fSx7a2V5OiJfdXBkYXRlVGV4dHVyZVJlbmRlcmluZ0JvdW5kcyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnN0YXRlLGU9dC50cmlQb3NpdGlvbkJ1ZmZlcixuPXQudHJpVGV4Q29vcmRCdWZmZXIscj10Lm5vcm1hbGl6ZWRDb21tb25Cb3VuZHMsaT10LnZpZXdwb3J0Q29ybmVycyxhPXRoaXMuY29udGV4dC52aWV3cG9ydDtlLnN1YkRhdGEoam4oaSwzKSk7dmFyIG89aS5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiBlPWEucHJvamVjdFBvc2l0aW9uKHQpLG49cixpPWd0KCkobiw0KSxvPWlbMF0scz1pWzFdLHU9aVsyXSxjPWlbM10sWyhlWzBdLW8pLyh1LW8pLChlWzFdLXMpLyhjLXMpXTt2YXIgZSxuLGksbyxzLHUsY30pKTtuLnN1YkRhdGEoam4obywyKSl9fSx7a2V5OiJfdXBkYXRlQ29sb3JUZXh0dXJlIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10LnByb3BzLmNvbG9yUmFuZ2Usbj10aGlzLnN0YXRlLmNvbG9yVGV4dHVyZSxyPXJ0KGUsITApO24/bi5zZXRJbWFnZURhdGEoe2RhdGE6cix3aWR0aDplLmxlbmd0aH0pOm49bmV3IFUuYSh0aGlzLmNvbnRleHQuZ2wsUm4oe2RhdGE6cix3aWR0aDplLmxlbmd0aCxoZWlnaHQ6MSxmb3JtYXQ6T2JqZWN0KHguZykodGhpcy5jb250ZXh0LmdsKT8zNDgzNjo2NDA4LHR5cGU6NTEyNn0sTm4pKSx0aGlzLnNldFN0YXRlKHtjb2xvclRleHR1cmU6bn0pfX0se2tleToiX3VwZGF0ZVdlaWdodG1hcCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdCxlPXRoaXMucHJvcHMucmFkaXVzUGl4ZWxzLG49dGhpcy5zdGF0ZSxyPW4ud2VpZ2h0c1RyYW5zZm9ybSxpPW4ud29ybGRCb3VuZHMsYT1uLnRleHR1cmVTaXplLHM9bi53ZWlnaHRzVGV4dHVyZSx1PW4ud2VpZ2h0c1NjYWxlLGM9e3JhZGl1c1BpeGVsczplLGNvbW1vbkJvdW5kczp0aGlzLl93b3JsZFRvQ29tbW9uQm91bmRzKGkse3VzZUxheWVyQ29vcmRpbmF0ZVN5c3RlbTohMH0pLHRleHR1cmVXaWR0aDphLHdlaWdodHNTY2FsZTp1fTtyLnVwZGF0ZSh7ZWxlbWVudENvdW50OnRoaXMuZ2V0TnVtSW5zdGFuY2VzKCl9KSxyLnJ1bih7dW5pZm9ybXM6YyxwYXJhbWV0ZXJzOntibGVuZDohMCxkZXB0aFRlc3Q6ITEsYmxlbmRGdW5jOlsxLDFdLGJsZW5kRXF1YXRpb246MzI3NzR9LGNsZWFyUmVuZGVyVGFyZ2V0OiEwLGF0dHJpYnV0ZXM6dGhpcy5nZXRBdHRyaWJ1dGVzKCksbW9kdWxlU2V0dGluZ3M6dGhpcy5nZXRNb2R1bGVTZXR0aW5ncygpfSksdGhpcy5fdXBkYXRlTWF4V2VpZ2h0VmFsdWUoKSxzLnNldFBhcmFtZXRlcnMoKHQ9e30sbygpKHQsMTAyNDAsOTcyOSksbygpKHQsMTAyNDEsOTcyOSksdCkpLHRoaXMuc2V0U3RhdGUoe2xhc3RVcGRhdGU6RGF0ZS5ub3coKX0pfX0se2tleToiX2RlYm91bmNlZFVwZGF0ZVdlaWdodG1hcCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXSYmYXJndW1lbnRzWzBdLGU9dGhpcy5zdGF0ZS51cGRhdGVUaW1lcixuPURhdGUubm93KCktdGhpcy5zdGF0ZS5sYXN0VXBkYXRlO3QmJihlPW51bGwpLG4+PTUwMD8odGhpcy5fdXBkYXRlQm91bmRzKCEwKSx0aGlzLl91cGRhdGVXZWlnaHRtYXAoKSx0aGlzLl91cGRhdGVUZXh0dXJlUmVuZGVyaW5nQm91bmRzKCkpOmV8fChlPXNldFRpbWVvdXQodGhpcy5fZGVib3VuY2VkVXBkYXRlV2VpZ2h0bWFwLmJpbmQodGhpcywhMCksNTAwLW4pKSx0aGlzLnNldFN0YXRlKHt1cGRhdGVUaW1lcjplfSl9fSx7a2V5OiJfd29ybGRUb0NvbW1vbkJvdW5kcyIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGUsbixyPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp7fSxpPXIudXNlTGF5ZXJDb29yZGluYXRlU3lzdGVtLGE9dm9pZCAwIT09aSYmaSxvPWd0KCkodCw0KSxzPW9bMF0sdT1vWzFdLGM9b1syXSxsPW9bM10saD10aGlzLmNvbnRleHQudmlld3BvcnQsZj10aGlzLnN0YXRlLnRleHR1cmVTaXplLGQ9MipmL2guc2NhbGU7YT8oZT10aGlzLnByb2plY3RQb3NpdGlvbihbcyx1LDBdKSxuPXRoaXMucHJvamVjdFBvc2l0aW9uKFtjLGwsMF0pKTooZT1oLnByb2plY3RQb3NpdGlvbihbcyx1LDBdKSxuPWgucHJvamVjdFBvc2l0aW9uKFtjLGwsMF0pKTt2YXIgdj1lLnNsaWNlKDAsMikuY29uY2F0KG4uc2xpY2UoMCwyKSk7cmV0dXJuIHY9VG4odixkLGQpfX0se2tleToiX2NvbW1vblRvV29ybGRCb3VuZHMiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPWd0KCkodCw0KSxuPWVbMF0scj1lWzFdLGk9ZVsyXSxhPWVbM10sbz10aGlzLmNvbnRleHQudmlld3BvcnQscz1vLnVucHJvamVjdFBvc2l0aW9uKFtuLHJdKSx1PW8udW5wcm9qZWN0UG9zaXRpb24oW2ksYV0pO3JldHVybiBzLnNsaWNlKDAsMikuY29uY2F0KHUuc2xpY2UoMCwyKSl9fV0pLGV9KGR0KTtVbi5sYXllck5hbWU9IkhlYXRtYXBMYXllciIsVW4uZGVmYXVsdFByb3BzPUZuLG4uZChlLCJTY3JlZW5HcmlkTGF5ZXIiLChmdW5jdGlvbigpe3JldHVybiBIdH0pKSxuLmQoZSwiQ1BVR3JpZExheWVyIiwoZnVuY3Rpb24oKXtyZXR1cm4gbmV9KSksbi5kKGUsIkhleGFnb25MYXllciIsKGZ1bmN0aW9uKCl7cmV0dXJuIGhlfSkpLG4uZChlLCJDb250b3VyTGF5ZXIiLChmdW5jdGlvbigpe3JldHVybiBkbn0pKSxuLmQoZSwiR3JpZExheWVyIiwoZnVuY3Rpb24oKXtyZXR1cm4gd259KSksbi5kKGUsIkdQVUdyaWRMYXllciIsKGZ1bmN0aW9uKCl7cmV0dXJuIE9ufSkpLG4uZChlLCJBR0dSRUdBVElPTl9PUEVSQVRJT04iLChmdW5jdGlvbigpe3JldHVybiBFfSkpLG4uZChlLCJIZWF0bWFwTGF5ZXIiLChmdW5jdGlvbigpe3JldHVybiBVbn0pKSxuLmQoZSwiX0dQVUdyaWRBZ2dyZWdhdG9yIiwoZnVuY3Rpb24oKXtyZXR1cm4gS30pKSxuLmQoZSwiX0NQVUFnZ3JlZ2F0b3IiLChmdW5jdGlvbigpe3JldHVybiAkdH0pKSxuLmQoZSwiX0FnZ3JlZ2F0aW9uTGF5ZXIiLChmdW5jdGlvbigpe3JldHVybiBkdH0pKSxuLmQoZSwiX0JpblNvcnRlciIsKGZ1bmN0aW9uKCl7cmV0dXJuIEN0fSkpfSxmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO24ucihlKTt2YXIgcj1uKDEpLGk9bi5uKHIpLGE9bigyKSxvPW4ubihhKSxzPW4oOSksdT1uLm4ocyksYz1uKDMpLGw9bi5uKGMpLGg9bigxMCksZj1uLm4oaCksZD1uKDIwMyksdj1uKDExMSkscD17c291cmNlOjAsdGFyZ2V0OjEsY3VzdG9tOjIsc291cmNlX3RhcmdldDozfSxnPXtuYW1lOiJicnVzaGluZyIsZGVwZW5kZW5jaWVzOlt2LmFdLHZzOiJcbiAgdW5pZm9ybSBib29sIGJydXNoaW5nX2VuYWJsZWQ7XG4gIHVuaWZvcm0gaW50IGJydXNoaW5nX3RhcmdldDtcbiAgdW5pZm9ybSB2ZWMyIGJydXNoaW5nX21vdXNlUG9zO1xuICB1bmlmb3JtIGZsb2F0IGJydXNoaW5nX3JhZGl1cztcblxuICAjaWZkZWYgTk9OX0lOU1RBTkNFRF9NT0RFTFxuICBhdHRyaWJ1dGUgdmVjMiBicnVzaGluZ1RhcmdldHM7XG4gICNlbHNlXG4gIGF0dHJpYnV0ZSB2ZWMyIGluc3RhbmNlQnJ1c2hpbmdUYXJnZXRzO1xuICAjZW5kaWZcblxuICB2YXJ5aW5nIGZsb2F0IGJydXNoaW5nX2lzVmlzaWJsZTtcblxuICBib29sIGJydXNoaW5nX2lzUG9pbnRJblJhbmdlKHZlYzIgcG9zaXRpb24pIHtcbiAgICBpZiAoIWJydXNoaW5nX2VuYWJsZWQpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICB2ZWMyIHNvdXJjZV9jb21tb25zcGFjZSA9IHByb2plY3RfcG9zaXRpb24ocG9zaXRpb24pO1xuICAgIHZlYzIgdGFyZ2V0X2NvbW1vbnNwYWNlID0gcHJvamVjdF9wb3NpdGlvbihicnVzaGluZ19tb3VzZVBvcyk7XG4gICAgZmxvYXQgZGlzdGFuY2UgPSBsZW5ndGgoKHRhcmdldF9jb21tb25zcGFjZSAtIHNvdXJjZV9jb21tb25zcGFjZSkgLyBwcm9qZWN0X3VDb21tb25Vbml0c1Blck1ldGVyLnh5KTtcblxuICAgIHJldHVybiBkaXN0YW5jZSA8PSBicnVzaGluZ19yYWRpdXM7XG4gIH1cblxuICBib29sIGJydXNoaW5nX2FyZVBvaW50c0luUmFuZ2UodmVjMiBzb3VyY2VQb3MsIHZlYzIgdGFyZ2V0UG9zKSB7XG4gICAgcmV0dXJuIGJydXNoaW5nX2lzUG9pbnRJblJhbmdlKHNvdXJjZVBvcykgfHwgYnJ1c2hpbmdfaXNQb2ludEluUmFuZ2UodGFyZ2V0UG9zKTtcbiAgfVxuXG4gIHZvaWQgYnJ1c2hpbmdfc2V0VmlzaWJsZShib29sIHZpc2libGUpIHtcbiAgICBicnVzaGluZ19pc1Zpc2libGUgPSBmbG9hdCh2aXNpYmxlKTtcbiAgfVxuIixmczoiXG4gIHVuaWZvcm0gYm9vbCBicnVzaGluZ19lbmFibGVkO1xuICB2YXJ5aW5nIGZsb2F0IGJydXNoaW5nX2lzVmlzaWJsZTtcbiIsaW5qZWN0OnsidnM6REVDS0dMX0ZJTFRFUl9HTF9QT1NJVElPTiI6IlxuICAgIHZlYzIgYnJ1c2hpbmdUYXJnZXQ7XG4gICAgdmVjMiBicnVzaGluZ1NvdXJjZTtcbiAgICBpZiAoYnJ1c2hpbmdfdGFyZ2V0ID09IDMpIHtcbiAgICAgIGJydXNoaW5nVGFyZ2V0ID0gZ2VvbWV0cnkud29ybGRQb3NpdGlvbkFsdC54eTtcbiAgICAgIGJydXNoaW5nU291cmNlID0gZ2VvbWV0cnkud29ybGRQb3NpdGlvbi54eTtcbiAgICB9IGVsc2UgaWYgKGJydXNoaW5nX3RhcmdldCA9PSAwKSB7XG4gICAgICBicnVzaGluZ1RhcmdldCA9IGdlb21ldHJ5LndvcmxkUG9zaXRpb24ueHk7XG4gICAgfSBlbHNlIGlmIChicnVzaGluZ190YXJnZXQgPT0gMSkge1xuICAgICAgYnJ1c2hpbmdUYXJnZXQgPSBnZW9tZXRyeS53b3JsZFBvc2l0aW9uQWx0Lnh5O1xuICAgIH0gZWxzZSB7XG4gICAgICAjaWZkZWYgTk9OX0lOU1RBTkNFRF9NT0RFTFxuICAgICAgYnJ1c2hpbmdUYXJnZXQgPSBicnVzaGluZ1RhcmdldHM7XG4gICAgICAjZWxzZVxuICAgICAgYnJ1c2hpbmdUYXJnZXQgPSBpbnN0YW5jZUJydXNoaW5nVGFyZ2V0cztcbiAgICAgICNlbmRpZlxuICAgIH1cbiAgICBib29sIHZpc2libGU7XG4gICAgaWYgKGJydXNoaW5nX3RhcmdldCA9PSAzKSB7XG4gICAgICB2aXNpYmxlID0gYnJ1c2hpbmdfYXJlUG9pbnRzSW5SYW5nZShicnVzaGluZ1NvdXJjZSwgYnJ1c2hpbmdUYXJnZXQpO1xuICAgIH0gZWxzZSB7XG4gICAgICB2aXNpYmxlID0gYnJ1c2hpbmdfaXNQb2ludEluUmFuZ2UoYnJ1c2hpbmdUYXJnZXQpO1xuICAgIH1cbiAgICBicnVzaGluZ19zZXRWaXNpYmxlKHZpc2libGUpO1xuICAiLCJmczpERUNLR0xfRklMVEVSX0NPTE9SIjoiXG4gICAgaWYgKGJydXNoaW5nX2VuYWJsZWQgJiYgYnJ1c2hpbmdfaXNWaXNpYmxlIDwgMC41KSB7XG4gICAgICBkaXNjYXJkO1xuICAgIH1cbiAgIn0sZ2V0VW5pZm9ybXM6ZnVuY3Rpb24odCl7aWYoIXR8fCF0LnZpZXdwb3J0KXJldHVybnt9O3ZhciBlPXQuYnJ1c2hpbmdFbmFibGVkLG49dm9pZCAwPT09ZXx8ZSxyPXQuYnJ1c2hpbmdSYWRpdXMsaT12b2lkIDA9PT1yPzFlNDpyLGE9dC5icnVzaGluZ1RhcmdldCxvPXZvaWQgMD09PWE/InNvdXJjZSI6YSxzPXQubW91c2VQb3NpdGlvbix1PXQudmlld3BvcnQ7cmV0dXJue2JydXNoaW5nX2VuYWJsZWQ6Qm9vbGVhbihuJiZzJiZ1LmNvbnRhaW5zUGl4ZWwocykpLGJydXNoaW5nX3JhZGl1czppLGJydXNoaW5nX3RhcmdldDpwW29dfHwwLGJydXNoaW5nX21vdXNlUG9zOnM/dS51bnByb2plY3QoW3MueC11Lngscy55LXUueV0pOlswLDBdfX19LHk9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3JldHVybiBpKCkodGhpcyxlKSx1KCkodGhpcyxsKCkoZSkuYXBwbHkodGhpcyxhcmd1bWVudHMpKX1yZXR1cm4gZigpKGUsdCksbygpKGUsW3trZXk6ImdldFNoYWRlcnMiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybnttb2R1bGVzOltnXX19fSx7a2V5OiJpbml0aWFsaXplU3RhdGUiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcyxyPXRoaXMuZ2V0QXR0cmlidXRlTWFuYWdlcigpO3ImJnIuYWRkKHticnVzaGluZ1RhcmdldHM6e3NpemU6MixhY2Nlc3NvcjoiZ2V0QnJ1c2hpbmdUYXJnZXQiLHVwZGF0ZTohdGhpcy5wcm9wcy5nZXRCcnVzaGluZ1RhcmdldCYmZS51c2VDb25zdGFudFRhcmdldFBvc2l0aW9ucyxzaGFkZXJBdHRyaWJ1dGVzOnticnVzaGluZ1RhcmdldHM6e2Rpdmlzb3I6MH0saW5zdGFuY2VCcnVzaGluZ1RhcmdldHM6e2Rpdmlzb3I6MX19fX0pLGUub25Nb3VzZU1vdmU9ZnVuY3Rpb24oKXtuLmdldEN1cnJlbnRMYXllcigpLnNldE5lZWRzUmVkcmF3KCl9LHRoaXMuY29udGV4dC5kZWNrJiZ0aGlzLmNvbnRleHQuZGVjay5ldmVudE1hbmFnZXIub24oe3BvaW50ZXJtb3ZlOmUub25Nb3VzZU1vdmUscG9pbnRlcmxlYXZlOmUub25Nb3VzZU1vdmV9KX19LHtrZXk6ImZpbmFsaXplU3RhdGUiLHZhbHVlOmZ1bmN0aW9uKHQpe3RoaXMuY29udGV4dC5kZWNrJiZ0aGlzLmNvbnRleHQuZGVjay5ldmVudE1hbmFnZXIub2ZmKHtwb2ludGVybW92ZTp0Lm9uTW91c2VNb3ZlLHBvaW50ZXJsZWF2ZTp0Lm9uTW91c2VNb3ZlfSl9fSx7a2V5OiJ1c2VDb25zdGFudFRhcmdldFBvc2l0aW9ucyIsdmFsdWU6ZnVuY3Rpb24odCl7dC5jb25zdGFudD0hMCx0LnZhbHVlPW5ldyBGbG9hdDMyQXJyYXkoMil9fV0pLGV9KGQuYSk7eS5leHRlbnNpb25OYW1lPSJCcnVzaGluZ0V4dGVuc2lvbiIseS5kZWZhdWx0UHJvcHM9e2dldEJydXNoaW5nVGFyZ2V0Ont0eXBlOiJhY2Nlc3NvciIsdmFsdWU6WzAsMF19LGJydXNoaW5nVGFyZ2V0OiJzb3VyY2UiLGJydXNoaW5nRW5hYmxlZDohMCxicnVzaGluZ1JhZGl1czoxZTR9O3ZhciBtPSJcbnVuaWZvcm0gREFUQUZJTFRFUl9UWVBFIGZpbHRlcl9taW47XG51bmlmb3JtIERBVEFGSUxURVJfVFlQRSBmaWx0ZXJfc29mdE1pbjtcbnVuaWZvcm0gREFUQUZJTFRFUl9UWVBFIGZpbHRlcl9zb2Z0TWF4O1xudW5pZm9ybSBEQVRBRklMVEVSX1RZUEUgZmlsdGVyX21heDtcbnVuaWZvcm0gYm9vbCBmaWx0ZXJfdXNlU29mdE1hcmdpbjtcbnVuaWZvcm0gYm9vbCBmaWx0ZXJfZW5hYmxlZDtcbnVuaWZvcm0gYm9vbCBmaWx0ZXJfdHJhbnNmb3JtU2l6ZTtcblxuI2lmZGVmIE5PTl9JTlNUQU5DRURfTU9ERUxcbiAgI2RlZmluZSBEQVRBRklMVEVSX0FUVFJJQiBmaWx0ZXJWYWx1ZXNcbiAgI2RlZmluZSBEQVRBRklMVEVSX0FUVFJJQl82NExPVyBmaWx0ZXJWYWx1ZXM2NExvd1xuI2Vsc2VcbiAgI2RlZmluZSBEQVRBRklMVEVSX0FUVFJJQiBpbnN0YW5jZUZpbHRlclZhbHVlc1xuICAjZGVmaW5lIERBVEFGSUxURVJfQVRUUklCXzY0TE9XIGluc3RhbmNlRmlsdGVyVmFsdWVzNjRMb3dcbiNlbmRpZlxuXG5hdHRyaWJ1dGUgREFUQUZJTFRFUl9UWVBFIERBVEFGSUxURVJfQVRUUklCO1xuI2lmZGVmIERBVEFGSUxURVJfRE9VQkxFXG4gIGF0dHJpYnV0ZSBEQVRBRklMVEVSX1RZUEUgREFUQUZJTFRFUl9BVFRSSUJfNjRMT1c7XG5cbiAgdW5pZm9ybSBEQVRBRklMVEVSX1RZUEUgZmlsdGVyX21pbjY0SGlnaDtcbiAgdW5pZm9ybSBEQVRBRklMVEVSX1RZUEUgZmlsdGVyX21heDY0SGlnaDtcbiNlbmRpZlxuXG52YXJ5aW5nIGZsb2F0IGRhdGFGaWx0ZXJfdmFsdWU7XG5cbmZsb2F0IGRhdGFGaWx0ZXJfcmVkdWNlVmFsdWUoZmxvYXQgdmFsdWUpIHtcbiAgcmV0dXJuIHZhbHVlO1xufVxuZmxvYXQgZGF0YUZpbHRlcl9yZWR1Y2VWYWx1ZSh2ZWMyIHZhbHVlKSB7XG4gIHJldHVybiBtaW4odmFsdWUueCwgdmFsdWUueSk7XG59XG5mbG9hdCBkYXRhRmlsdGVyX3JlZHVjZVZhbHVlKHZlYzMgdmFsdWUpIHtcbiAgcmV0dXJuIG1pbihtaW4odmFsdWUueCwgdmFsdWUueSksIHZhbHVlLnopO1xufVxuZmxvYXQgZGF0YUZpbHRlcl9yZWR1Y2VWYWx1ZSh2ZWM0IHZhbHVlKSB7XG4gIHJldHVybiBtaW4obWluKHZhbHVlLngsIHZhbHVlLnkpLCBtaW4odmFsdWUueiwgdmFsdWUudykpO1xufVxudm9pZCBkYXRhRmlsdGVyX3NldFZhbHVlKERBVEFGSUxURVJfVFlQRSB2YWx1ZUZyb21NaW4sIERBVEFGSUxURVJfVFlQRSB2YWx1ZUZyb21NYXgpIHtcbiAgaWYgKGZpbHRlcl9lbmFibGVkKSB7XG4gICAgaWYgKGZpbHRlcl91c2VTb2Z0TWFyZ2luKSB7XG4gICAgICBkYXRhRmlsdGVyX3ZhbHVlID0gZGF0YUZpbHRlcl9yZWR1Y2VWYWx1ZShcbiAgICAgICAgc21vb3Roc3RlcChmaWx0ZXJfbWluLCBmaWx0ZXJfc29mdE1pbiwgdmFsdWVGcm9tTWluKSAqXG4gICAgICAgICgxLjAgLSBzbW9vdGhzdGVwKGZpbHRlcl9zb2Z0TWF4LCBmaWx0ZXJfbWF4LCB2YWx1ZUZyb21NYXgpKVxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZGF0YUZpbHRlcl92YWx1ZSA9IGRhdGFGaWx0ZXJfcmVkdWNlVmFsdWUoXG4gICAgICAgIHN0ZXAoZmlsdGVyX21pbiwgdmFsdWVGcm9tTWluKSAqIHN0ZXAodmFsdWVGcm9tTWF4LCBmaWx0ZXJfbWF4KVxuICAgICAgKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgZGF0YUZpbHRlcl92YWx1ZSA9IDEuMDtcbiAgfVxufVxuIixiPSJcbnVuaWZvcm0gYm9vbCBmaWx0ZXJfdHJhbnNmb3JtQ29sb3I7XG52YXJ5aW5nIGZsb2F0IGRhdGFGaWx0ZXJfdmFsdWU7XG4iLF89ZnVuY3Rpb24odCl7aWYoIXR8fCF0LmV4dGVuc2lvbnMpcmV0dXJue307dmFyIGU9dC5maWx0ZXJSYW5nZSxuPXZvaWQgMD09PWU/Wy0xLDFdOmUscj10LmZpbHRlckVuYWJsZWQsaT12b2lkIDA9PT1yfHxyLGE9dC5maWx0ZXJUcmFuc2Zvcm1TaXplLG89dm9pZCAwPT09YXx8YSxzPXQuZmlsdGVyVHJhbnNmb3JtQ29sb3IsdT12b2lkIDA9PT1zfHxzLGM9dC5maWx0ZXJTb2Z0UmFuZ2V8fG4sbD1OdW1iZXIuaXNGaW5pdGUoblswXSk/e2ZpbHRlcl9taW46blswXSxmaWx0ZXJfc29mdE1pbjpjWzBdLGZpbHRlcl9zb2Z0TWF4OmNbMV0sZmlsdGVyX21heDpuWzFdfTp7ZmlsdGVyX21pbjpuLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIHRbMF19KSksZmlsdGVyX3NvZnRNaW46Yy5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiB0WzBdfSkpLGZpbHRlcl9zb2Z0TWF4OmMubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gdFsxXX0pKSxmaWx0ZXJfbWF4Om4ubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gdFsxXX0pKX07cmV0dXJuIGwuZmlsdGVyX2VuYWJsZWQ9aSxsLmZpbHRlcl91c2VTb2Z0TWFyZ2luPUJvb2xlYW4odC5maWx0ZXJTb2Z0UmFuZ2UpLGwuZmlsdGVyX3RyYW5zZm9ybVNpemU9aSYmbyxsLmZpbHRlcl90cmFuc2Zvcm1Db2xvcj1pJiZ1LGx9LE89eyJ2czojbWFpbi1zdGFydCI6IlxuICAgICNpZmRlZiBEQVRBRklMVEVSX0RPVUJMRVxuICAgICAgZGF0YUZpbHRlcl9zZXRWYWx1ZShcbiAgICAgICAgREFUQUZJTFRFUl9BVFRSSUIgLSBmaWx0ZXJfbWluNjRIaWdoICsgREFUQUZJTFRFUl9BVFRSSUJfNjRMT1csXG4gICAgICAgIERBVEFGSUxURVJfQVRUUklCIC0gZmlsdGVyX21heDY0SGlnaCArIERBVEFGSUxURVJfQVRUUklCXzY0TE9XXG4gICAgICApO1xuICAgICNlbHNlXG4gICAgICBkYXRhRmlsdGVyX3NldFZhbHVlKERBVEFGSUxURVJfQVRUUklCLCBEQVRBRklMVEVSX0FUVFJJQik7XG4gICAgI2VuZGlmXG4gICIsInZzOkRFQ0tHTF9GSUxURVJfU0laRSI6IlxuICAgIGlmIChmaWx0ZXJfdHJhbnNmb3JtU2l6ZSkge1xuICAgICAgc2l6ZSA9IHNpemUgKiBkYXRhRmlsdGVyX3ZhbHVlO1xuICAgIH1cbiAgIiwiZnM6REVDS0dMX0ZJTFRFUl9DT0xPUiI6IlxuICAgIGlmIChkYXRhRmlsdGVyX3ZhbHVlID09IDAuMCkgZGlzY2FyZDtcbiAgICBpZiAoZmlsdGVyX3RyYW5zZm9ybUNvbG9yKSB7XG4gICAgICBjb2xvci5hICo9IGRhdGFGaWx0ZXJfdmFsdWU7XG4gICAgfVxuICAifSx4PXtuYW1lOiJkYXRhLWZpbHRlciIsdnM6bSxmczpiLGluamVjdDpPLGdldFVuaWZvcm1zOl99LHc9e25hbWU6ImRhdGEtZmlsdGVyLWZwNjQiLHZzOm0sZnM6YixpbmplY3Q6TyxnZXRVbmlmb3JtczpmdW5jdGlvbih0KXtpZighdHx8IXQuZXh0ZW5zaW9ucylyZXR1cm57fTt2YXIgZT1fKHQpO2lmKE51bWJlci5pc0Zpbml0ZShlLmZpbHRlcl9taW4pKXt2YXIgbj1NYXRoLmZyb3VuZChlLmZpbHRlcl9taW4pO2UuZmlsdGVyX21pbi09bixlLmZpbHRlcl9zb2Z0TWluLT1uLGUuZmlsdGVyX21pbjY0SGlnaD1uO3ZhciByPU1hdGguZnJvdW5kKGUuZmlsdGVyX21heCk7ZS5maWx0ZXJfbWF4LT1yLGUuZmlsdGVyX3NvZnRNYXgtPXIsZS5maWx0ZXJfbWF4NjRIaWdoPXJ9ZWxzZXt2YXIgaT1lLmZpbHRlcl9taW4ubWFwKE1hdGguZnJvdW5kKTtlLmZpbHRlcl9taW49ZS5maWx0ZXJfbWluLm1hcCgoZnVuY3Rpb24odCxlKXtyZXR1cm4gdC1pW2VdfSkpLGUuZmlsdGVyX3NvZnRNaW49ZS5maWx0ZXJfc29mdE1pbi5tYXAoKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQtaVtlXX0pKSxlLmZpbHRlcl9taW42NEhpZ2g9aTt2YXIgYT1lLmZpbHRlcl9tYXgubWFwKE1hdGguZnJvdW5kKTtlLmZpbHRlcl9tYXg9ZS5maWx0ZXJfbWF4Lm1hcCgoZnVuY3Rpb24odCxlKXtyZXR1cm4gdC1hW2VdfSkpLGUuZmlsdGVyX3NvZnRNYXg9ZS5maWx0ZXJfc29mdE1heC5tYXAoKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQtYVtlXX0pKSxlLmZpbHRlcl9tYXg2NEhpZ2g9YX1yZXR1cm4gZX19LGs9ezE6ImZsb2F0IiwyOiJ2ZWMyIiwzOiJ2ZWMzIiw0OiJ2ZWM0In0sUz1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9LG49dC5maWx0ZXJTaXplLHI9dm9pZCAwPT09bj8xOm4sYT10LmZwNjQsbz12b2lkIDAhPT1hJiZhO2lmKGkoKSh0aGlzLGUpLCFrW3JdKXRocm93IG5ldyBFcnJvcigiZmlsdGVyU2l6ZSBvdXQgb2YgcmFuZ2UiKTtyZXR1cm4gdSgpKHRoaXMsbCgpKGUpLmNhbGwodGhpcyx7ZmlsdGVyU2l6ZTpyLGZwNjQ6b30pKX1yZXR1cm4gZigpKGUsdCksbygpKGUsW3trZXk6ImdldFNoYWRlcnMiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXQub3B0cyxuPWUuZmlsdGVyU2l6ZSxyPWUuZnA2NDtyZXR1cm57bW9kdWxlczpbcj93OnhdLGRlZmluZXM6e0RBVEFGSUxURVJfVFlQRTprW25dLERBVEFGSUxURVJfRE9VQkxFOkJvb2xlYW4ocil9fX19LHtrZXk6ImluaXRpYWxpemVTdGF0ZSIsdmFsdWU6ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLmdldEF0dHJpYnV0ZU1hbmFnZXIoKTtuJiZuLmFkZCh7ZmlsdGVyVmFsdWVzOntzaXplOmUub3B0cy5maWx0ZXJTaXplLHR5cGU6ZS5vcHRzLmZwNjQ/NTEzMDo1MTI2LGFjY2Vzc29yOiJnZXRGaWx0ZXJWYWx1ZSIsc2hhZGVyQXR0cmlidXRlczp7ZmlsdGVyVmFsdWVzOntkaXZpc29yOjB9LGluc3RhbmNlRmlsdGVyVmFsdWVzOntkaXZpc29yOjF9fX19KX19XSksZX0oZC5hKTtTLmV4dGVuc2lvbk5hbWU9IkRhdGFGaWx0ZXJFeHRlbnNpb24iLFMuZGVmYXVsdFByb3BzPXtnZXRGaWx0ZXJWYWx1ZTp7dHlwZToiYWNjZXNzb3IiLHZhbHVlOjB9LGZpbHRlckVuYWJsZWQ6ITAsZmlsdGVyUmFuZ2U6Wy0xLDFdLGZpbHRlclNvZnRSYW5nZTpudWxsLGZpbHRlclRyYW5zZm9ybVNpemU6ITAsZmlsdGVyVHJhbnNmb3JtQ29sb3I6ITB9O3ZhciBQPW4oMjIpLGo9bigyOTIpLFQ9bigxMDgpLEU9ai5hLmZwNjRpZnksQT1qLmEuZnA2NGlmeU1hdHJpeDQsTT17bmFtZToicHJvamVjdDY0IixkZXBlbmRlbmNpZXM6W3YuYSxqLmFdLHZzOiJcbmNvbnN0IHZlYzIgV09STERfU0NBTEVfRlA2NCA9IHZlYzIoODEuNDg3MzI3NTc1NjgzNiwgMC4wMDAwMDMyODczNjY4MjMyMDE0MDk3KTtcblxudW5pZm9ybSB2ZWMyIHByb2plY3RfdVZpZXdQcm9qZWN0aW9uTWF0cml4RlA2NFsxNl07XG52b2lkIG1lcmNhdG9yUHJvamVjdF9mcDY0KHZlYzQgbG5nbGF0X2ZwNjQsIG91dCB2ZWMyIG91dF92YWxbMl0pIHtcblxuI2lmIGRlZmluZWQoTlZJRElBX0ZQNjRfV09SS0FST1VORClcbiAgb3V0X3ZhbFswXSA9IHN1bV9mcDY0KHJhZGlhbnNfZnA2NChsbmdsYXRfZnA2NC54eSksIFBJX0ZQNjQgKiBPTkUpO1xuI2Vsc2VcbiAgb3V0X3ZhbFswXSA9IHN1bV9mcDY0KHJhZGlhbnNfZnA2NChsbmdsYXRfZnA2NC54eSksIFBJX0ZQNjQpO1xuI2VuZGlmXG4gIG91dF92YWxbMV0gPSBzdW1fZnA2NChQSV9GUDY0LFxuICAgIGxvZ19mcDY0KHRhbl9mcDY0KHN1bV9mcDY0KFBJXzRfRlA2NCwgcmFkaWFuc19mcDY0KGxuZ2xhdF9mcDY0Lnp3KSAvIDIuMCkpKSk7XG4gIHJldHVybjtcbn1cblxudm9pZCBwcm9qZWN0X3Bvc2l0aW9uX2ZwNjQodmVjNCBwb3NpdGlvbl9mcDY0LCBvdXQgdmVjMiBvdXRfdmFsWzJdKSB7XG4gIHZlYzIgcG9zX2ZwNjRbMl07XG4gIG1lcmNhdG9yUHJvamVjdF9mcDY0KHBvc2l0aW9uX2ZwNjQsIHBvc19mcDY0KTtcbiAgb3V0X3ZhbFswXSA9IG11bF9mcDY0KHBvc19mcDY0WzBdLCBXT1JMRF9TQ0FMRV9GUDY0KTtcbiAgb3V0X3ZhbFsxXSA9IG11bF9mcDY0KHBvc19mcDY0WzFdLCBXT1JMRF9TQ0FMRV9GUDY0KTtcblxuICByZXR1cm47XG59XG5cbnZvaWQgcHJvamVjdF9wb3NpdGlvbl9mcDY0KHZlYzIgcG9zaXRpb24sIHZlYzIgcG9zaXRpb242NHh5TG93LCBvdXQgdmVjMiBvdXRfdmFsWzJdKSB7XG4gIHZlYzQgcG9zaXRpb242NHh5ID0gdmVjNChcbiAgICBwb3NpdGlvbi54LCBwb3NpdGlvbjY0eHlMb3cueCxcbiAgICBwb3NpdGlvbi55LCBwb3NpdGlvbjY0eHlMb3cueSk7XG5cbiAgcHJvamVjdF9wb3NpdGlvbl9mcDY0KHBvc2l0aW9uNjR4eSwgb3V0X3ZhbCk7XG59XG5cbnZlYzQgcHJvamVjdF9jb21tb25fcG9zaXRpb25fdG9fY2xpcHNwYWNlX2ZwNjQodmVjMiB2ZXJ0ZXhfcG9zX21vZGVsc3BhY2VbNF0pIHtcbiAgdmVjMiB2ZXJ0ZXhfcG9zX2NsaXBzcGFjZVs0XTtcbiAgbWF0NF92ZWM0X211bF9mcDY0KHByb2plY3RfdVZpZXdQcm9qZWN0aW9uTWF0cml4RlA2NCwgdmVydGV4X3Bvc19tb2RlbHNwYWNlLFxuICAgIHZlcnRleF9wb3NfY2xpcHNwYWNlKTtcbiAgcmV0dXJuIHZlYzQoXG4gICAgdmVydGV4X3Bvc19jbGlwc3BhY2VbMF0ueCxcbiAgICB2ZXJ0ZXhfcG9zX2NsaXBzcGFjZVsxXS54LFxuICAgIHZlcnRleF9wb3NfY2xpcHNwYWNlWzJdLngsXG4gICAgdmVydGV4X3Bvc19jbGlwc3BhY2VbM10ueFxuICAgICk7XG59XG5cbnZlYzQgcHJvamVjdF9wb3NpdGlvbl90b19jbGlwc3BhY2UoXG4gIHZlYzMgcG9zaXRpb24sIHZlYzMgcG9zaXRpb242NHh5TG93LCB2ZWMzIG9mZnNldCwgb3V0IHZlYzQgY29tbW9uUG9zaXRpb25cbikge1xuICB2ZWMyIG9mZnNldDY0WzRdO1xuICB2ZWM0X2ZwNjQodmVjNChvZmZzZXQsIDAuMCksIG9mZnNldDY0KTtcblxuICBmbG9hdCB6ID0gcHJvamVjdF9zaXplKHBvc2l0aW9uLnopO1xuICB2ZWMyIHByb2plY3RlZFBvc2l0aW9uNjR4eVsyXTtcbiAgcHJvamVjdF9wb3NpdGlvbl9mcDY0KHBvc2l0aW9uLnh5LCBwb3NpdGlvbjY0eHlMb3cueHksIHByb2plY3RlZFBvc2l0aW9uNjR4eSk7XG5cbiAgdmVjMiBjb21tb25Qb3NpdGlvbjY0WzRdO1xuICBjb21tb25Qb3NpdGlvbjY0WzBdID0gc3VtX2ZwNjQob2Zmc2V0NjRbMF0sIHByb2plY3RlZFBvc2l0aW9uNjR4eVswXSk7XG4gIGNvbW1vblBvc2l0aW9uNjRbMV0gPSBzdW1fZnA2NChvZmZzZXQ2NFsxXSwgcHJvamVjdGVkUG9zaXRpb242NHh5WzFdKTtcbiAgY29tbW9uUG9zaXRpb242NFsyXSA9IHN1bV9mcDY0KG9mZnNldDY0WzJdLCB2ZWMyKHosIDAuMCkpO1xuICBjb21tb25Qb3NpdGlvbjY0WzNdID0gdmVjMigxLjAsIDAuMCk7XG5cbiAgY29tbW9uUG9zaXRpb24gPSB2ZWM0KHByb2plY3RlZFBvc2l0aW9uNjR4eVswXS54LCBwcm9qZWN0ZWRQb3NpdGlvbjY0eHlbMV0ueCwgeiwgMS4wKTtcblxuICByZXR1cm4gcHJvamVjdF9jb21tb25fcG9zaXRpb25fdG9fY2xpcHNwYWNlX2ZwNjQoY29tbW9uUG9zaXRpb242NCk7XG59XG5cbnZlYzQgcHJvamVjdF9wb3NpdGlvbl90b19jbGlwc3BhY2UoXG4gIHZlYzMgcG9zaXRpb24sIHZlYzMgcG9zaXRpb242NHh5TG93LCB2ZWMzIG9mZnNldFxuKSB7XG4gIHZlYzQgY29tbW9uUG9zaXRpb247XG4gIHJldHVybiBwcm9qZWN0X3Bvc2l0aW9uX3RvX2NsaXBzcGFjZShcbiAgICBwb3NpdGlvbiwgcG9zaXRpb242NHh5TG93LCBvZmZzZXQsIGNvbW1vblBvc2l0aW9uXG4gICk7XG59XG4iLGdldFVuaWZvcm1zOmZ1bmN0aW9uKCl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOkM7aWYodC52aWV3cG9ydCl7dmFyIGU9dC52aWV3cG9ydCxuPWUudmlld1Byb2plY3Rpb25NYXRyaXgscj1lLnNjYWxlO3JldHVybiBMKHt2aWV3UHJvamVjdGlvbk1hdHJpeDpuLHNjYWxlOnJ9KX1yZXR1cm57fX19LEM9e30sTD1PYmplY3QoVC5hKSgoZnVuY3Rpb24odCl7dmFyIGU9dC52aWV3UHJvamVjdGlvbk1hdHJpeCxuPXQuc2NhbGUscj1BKGUpLGk9RShuKTtyZXR1cm57cHJvamVjdF91Vmlld1Byb2plY3Rpb25NYXRyaXhGUDY0OnIscHJvamVjdDY0X3VWaWV3UHJvamVjdGlvbk1hdHJpeDpyLHByb2plY3Q2NF91U2NhbGU6aX19KSk7dmFyIEk9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3JldHVybiBpKCkodGhpcyxlKSx1KCkodGhpcyxsKCkoZSkuYXBwbHkodGhpcyxhcmd1bWVudHMpKX1yZXR1cm4gZigpKGUsdCksbygpKGUsW3trZXk6ImdldFNoYWRlcnMiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMucHJvcHMuY29vcmRpbmF0ZVN5c3RlbTtpZihlIT09UC5hLkxOR0xBVCYmZSE9PVAuYS5ERUZBVUxUKXRocm93IG5ldyBFcnJvcigiZnA2NDogY29vcmRpbmF0ZVN5c3RlbSBtdXN0IGJlIExOR0xBVCIpO3JldHVybnttb2R1bGVzOltNXX19fV0pLGV9KGQuYSk7SS5leHRlbnNpb25OYW1lPSJGcDY0RXh0ZW5zaW9uIjt2YXIgUj1uKDE1NiksTj17aW5qZWN0OnsidnM6I2RlY2wiOiJcbmF0dHJpYnV0ZSB2ZWMyIGluc3RhbmNlRGFzaEFycmF5cztcbnZhcnlpbmcgdmVjMiB2RGFzaEFycmF5O1xuIiwidnM6I21haW4tZW5kIjoiXG52RGFzaEFycmF5ID0gaW5zdGFuY2VEYXNoQXJyYXlzO1xuIiwiZnM6I2RlY2wiOiJcbnVuaWZvcm0gZmxvYXQgZGFzaEFsaWduTW9kZTtcbnZhcnlpbmcgdmVjMiB2RGFzaEFycmF5O1xuZmxvYXQgbW9kMihmbG9hdCBhLCBmbG9hdCBiKSB7XG4gIHJldHVybiBhIC0gZmxvb3IoYSAvIGIpICogYjtcbn1cblxuZmxvYXQgcm91bmQoZmxvYXQgeCkge1xuICByZXR1cm4gZmxvb3IoeCArIDAuNSk7XG59XG4iLCJmczojbWFpbi1zdGFydCI6IlxuICBmbG9hdCBzb2xpZExlbmd0aCA9IHZEYXNoQXJyYXkueDtcbiAgZmxvYXQgZ2FwTGVuZ3RoID0gdkRhc2hBcnJheS55O1xuICBmbG9hdCB1bml0TGVuZ3RoID0gc29saWRMZW5ndGggKyBnYXBMZW5ndGg7XG5cbiAgaWYgKHVuaXRMZW5ndGggPiAwLjApIHtcbiAgICB1bml0TGVuZ3RoID0gbWl4KFxuICAgICAgdW5pdExlbmd0aCxcbiAgICAgIHZQYXRoTGVuZ3RoIC8gcm91bmQodlBhdGhMZW5ndGggLyB1bml0TGVuZ3RoKSxcbiAgICAgIGRhc2hBbGlnbk1vZGVcbiAgICApO1xuXG4gICAgZmxvYXQgb2Zmc2V0ID0gZGFzaEFsaWduTW9kZSAqIHNvbGlkTGVuZ3RoIC8gMi4wO1xuXG4gICAgaWYgKFxuICAgICAgZ2FwTGVuZ3RoID4gMC4wICYmXG4gICAgICB2UGF0aFBvc2l0aW9uLnkgPj0gMC4wICYmXG4gICAgICB2UGF0aFBvc2l0aW9uLnkgPD0gdlBhdGhMZW5ndGggJiZcbiAgICAgIG1vZDIodlBhdGhQb3NpdGlvbi55ICsgb2Zmc2V0LCB1bml0TGVuZ3RoKSA+IHNvbGlkTGVuZ3RoXG4gICAgKSB7XG4gICAgICBkaXNjYXJkO1xuICAgIH1cbiAgfSAgXG4ifX0sRD17aW5qZWN0OnsidnM6I2RlY2wiOiJcbmF0dHJpYnV0ZSBmbG9hdCBpbnN0YW5jZU9mZnNldHM7XG4iLCJ2czpERUNLR0xfRklMVEVSX1NJWkUiOiJcbiAgZmxvYXQgb2Zmc2V0V2lkdGggPSBhYnMoaW5zdGFuY2VPZmZzZXRzICogMi4wKSArIDEuMDtcbiAgc2l6ZSAqPSBvZmZzZXRXaWR0aDtcbiIsInZDb3JuZXJPZmZzZXQgPSBvZmZzZXRWZWM7IjoiXG4gIGZsb2F0IG9mZnNldFdpZHRoID0gYWJzKGluc3RhbmNlT2Zmc2V0cyAqIDIuMCkgKyAxLjA7XG4gIHZlYzIgb2Zmc2V0Q2VudGVyID0gLWluc3RhbmNlT2Zmc2V0cyAqIChpc0NhcCA/IHBlcnAgOiBtaXRlclZlYyAqIG1pdGVyU2l6ZSkgKiAyLjA7XG4gIHZDb3JuZXJPZmZzZXQgPSB2Q29ybmVyT2Zmc2V0ICogb2Zmc2V0V2lkdGggLSBvZmZzZXRDZW50ZXI7XG4iLCJmczojbWFpbi1zdGFydCI6IlxuICBmbG9hdCBpc0luc2lkZTtcbiAgaXNJbnNpZGUgPSBzdGVwKC0xLjAsIHZQYXRoUG9zaXRpb24ueCkgKiBzdGVwKHZQYXRoUG9zaXRpb24ueCwgMS4wKTtcbiAgaWYgKGlzSW5zaWRlID09IDAuMCkge1xuICAgIGRpc2NhcmQ7XG4gIH1cbiJ9fSxGPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e30sbj10LmRhc2gscj12b2lkIDAhPT1uJiZuLGE9dC5vZmZzZXQsbz12b2lkIDAhPT1hJiZhO3JldHVybiBpKCkodGhpcyxlKSx1KCkodGhpcyxsKCkoZSkuY2FsbCh0aGlzLHtkYXNoOnIsb2Zmc2V0Om99KSl9cmV0dXJuIGYoKShlLHQpLG8oKShlLFt7a2V5OiJpc0VuYWJsZWQiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0LnN0YXRlLnBhdGhUZXNzZWxhdG9yfX0se2tleToiZ2V0U2hhZGVycyIsdmFsdWU6ZnVuY3Rpb24odCl7aWYoIXQuaXNFbmFibGVkKHRoaXMpKXJldHVybiBudWxsO3ZhciBlPXt9O3JldHVybiB0Lm9wdHMuZGFzaCYmKGU9T2JqZWN0KFIuYSkoZSxOKSksdC5vcHRzLm9mZnNldCYmKGU9T2JqZWN0KFIuYSkoZSxEKSksZX19LHtrZXk6ImluaXRpYWxpemVTdGF0ZSIsdmFsdWU6ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLmdldEF0dHJpYnV0ZU1hbmFnZXIoKTtuJiZlLmlzRW5hYmxlZCh0aGlzKSYmKGUuZW5hYmxlZD0hMCxlLm9wdHMuZGFzaCYmbi5hZGRJbnN0YW5jZWQoe2luc3RhbmNlRGFzaEFycmF5czp7c2l6ZToyLGFjY2Vzc29yOiJnZXREYXNoQXJyYXkifX0pLGUub3B0cy5vZmZzZXQmJm4uYWRkSW5zdGFuY2VkKHtpbnN0YW5jZU9mZnNldHM6e3NpemU6MSxhY2Nlc3NvcjoiZ2V0T2Zmc2V0In19KSl9fSx7a2V5OiJ1cGRhdGVTdGF0ZSIsdmFsdWU6ZnVuY3Rpb24odCxlKXtpZihlLmlzRW5hYmxlZCh0aGlzKSl7dmFyIG49e307ZS5vcHRzLmRhc2gmJihuLmRhc2hBbGlnbk1vZGU9dGhpcy5wcm9wcy5kYXNoSnVzdGlmaWVkPzE6MCksdGhpcy5zdGF0ZS5tb2RlbC5zZXRVbmlmb3JtcyhuKX19fV0pLGV9KGQuYSk7Ri5leHRlbnNpb25OYW1lPSJQYXRoU3R5bGVFeHRlbnNpb24iLEYuZGVmYXVsdFByb3BzPXtnZXREYXNoQXJyYXk6e3R5cGU6ImFjY2Vzc29yIix2YWx1ZTpbMCwwXX0sZ2V0T2Zmc2V0Ont0eXBlOiJhY2Nlc3NvciIsdmFsdWU6MH0sZGFzaEp1c3RpZmllZDohMX0sbi5kKGUsIkJydXNoaW5nRXh0ZW5zaW9uIiwoZnVuY3Rpb24oKXtyZXR1cm4geX0pKSxuLmQoZSwiRGF0YUZpbHRlckV4dGVuc2lvbiIsKGZ1bmN0aW9uKCl7cmV0dXJuIFN9KSksbi5kKGUsIkZwNjRFeHRlbnNpb24iLChmdW5jdGlvbigpe3JldHVybiBJfSkpLG4uZChlLCJQYXRoU3R5bGVFeHRlbnNpb24iLChmdW5jdGlvbigpe3JldHVybiBGfSkpLG4uZChlLCJwcm9qZWN0NjQiLChmdW5jdGlvbigpe3JldHVybiBNfSkpfSxmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO24ucihlKTt2YXIgcj1uKDE3NSksaT1uKDI5MSksYT1uKDIzMSksbz1uKDI3Nikscz1uKDExKSx1PW4oMTg3KSxjPW4oMjc1KSxsPW4oMTkxKSxoPW4oMjIxKSxmPW4oNDgpLGQ9bigyOTApLHY9big4MikscD1uKDExNCksZz1uKDEyNykseT1uKDIyMiksbT1uKDIyMyksYj1uKDI4OCksXz1uKDcxKSxPPW4oNDQpLHg9big2KSx3PW4oMTcpLGs9bigxNSksUz1uKDE4KSxQPW4oMTE1KSxqPXt4OlsyLDAsMV0seTpbMCwxLDJdLHo6WzEsMiwwXX0sVD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9O09iamVjdCh4LmEpKHRoaXMsZSk7dmFyIG49dC5pZCxyPXZvaWQgMD09PW4/T2JqZWN0KFAuYykoInRydW5jYXRlZC1jb2RlLWdlb21ldHJ5Iik6bixpPUUodCksYT1pLmluZGljZXMsbz1pLmF0dHJpYnV0ZXM7cmV0dXJuIE9iamVjdCh3LmEpKHRoaXMsT2JqZWN0KGsuYSkoZSkuY2FsbCh0aGlzLE9iamVjdChPLmEpKHt9LHQse2lkOnIsaW5kaWNlczphLGF0dHJpYnV0ZXM6T2JqZWN0KE8uYSkoe30sbyx0LmF0dHJpYnV0ZXMpfSkpKX1yZXR1cm4gT2JqZWN0KFMuYSkoZSx0KSxlfShfLmEpO2Z1bmN0aW9uIEUodCl7Zm9yKHZhciBlPXQuYm90dG9tUmFkaXVzLG49dm9pZCAwPT09ZT8wOmUscj10LnRvcFJhZGl1cyxpPXZvaWQgMD09PXI/MDpyLGE9dC5oZWlnaHQsbz12b2lkIDA9PT1hPzE6YSxzPXQubnJhZGlhbCx1PXZvaWQgMD09PXM/MTA6cyxjPXQubnZlcnRpY2FsLGw9dm9pZCAwPT09Yz8xMDpjLGg9dC52ZXJ0aWNhbEF4aXMsZj12b2lkIDA9PT1oPyJ5IjpoLGQ9dC50b3BDYXAsdj12b2lkIDAhPT1kJiZkLHA9dC5ib3R0b21DYXAsZz12b2lkIDAhPT1wJiZwLHk9KHY/MjowKSsoZz8yOjApLG09KHUrMSkqKGwrMSt5KSxiPU1hdGguYXRhbjIobi1pLG8pLF89TWF0aC5zaW4sTz1NYXRoLmNvcyx4PU1hdGguUEksdz1PKGIpLGs9XyhiKSxTPXY/LTI6MCxQPWwrKGc/MjowKSxUPXUrMSxFPW5ldyBVaW50MTZBcnJheSh1KihsK3kpKjYpLEE9altmXSxNPW5ldyBGbG9hdDMyQXJyYXkoMyptKSxDPW5ldyBGbG9hdDMyQXJyYXkoMyptKSxMPW5ldyBGbG9hdDMyQXJyYXkoMiptKSxJPTAsUj0wLE49UztOPD1QO04rKyl7dmFyIEQ9Ti9sLEY9bypELHo9dm9pZCAwO048MD8oRj0wLEQ9MSx6PW4pOk4+bD8oRj1vLEQ9MSx6PWkpOno9bitOL2wqKGktbiksLTIhPT1OJiZOIT09bCsyfHwoej0wLEQ9MCksRi09by8yO2Zvcih2YXIgQj0wO0I8VDtCKyspe3ZhciBVPV8oQip4KjIvdSksVj1PKEIqeCoyL3UpO01bSStBWzBdXT1VKnosTVtJK0FbMV1dPUYsTVtJK0FbMl1dPVYqeixDW0krQVswXV09TjwwfHxOPmw/MDpVKncsQ1tJK0FbMV1dPU48MD8tMTpOPmw/MTprLENbSStBWzJdXT1OPDB8fE4+bD8wOlYqdyxMW1IrMF09Qi91LExbUisxXT1ELFIrPTIsSSs9M319Zm9yKHZhciBHPTA7RzxsK3k7RysrKWZvcih2YXIgVz0wO1c8dTtXKyspe3ZhciBIPTYqKEcqdStXKTtFW0grMF09VCooRyswKSswK1csRVtIKzFdPVQqKEcrMCkrMStXLEVbSCsyXT1UKihHKzEpKzErVyxFW0grM109VCooRyswKSswK1csRVtIKzRdPVQqKEcrMSkrMStXLEVbSCs1XT1UKihHKzEpKzArV31yZXR1cm57aW5kaWNlczpFLGF0dHJpYnV0ZXM6e1BPU0lUSU9OOntzaXplOjMsdmFsdWU6TX0sTk9STUFMOntzaXplOjMsdmFsdWU6Q30sVEVYQ09PUkRfMDp7c2l6ZToyLHZhbHVlOkx9fX19dmFyIEE9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fTtPYmplY3QoeC5hKSh0aGlzLGUpO3ZhciBuPXQuaWQscj12b2lkIDA9PT1uP09iamVjdChQLmMpKCJjb25lLWdlb21ldHJ5Iik6bixpPXQucmFkaXVzLGE9dm9pZCAwPT09aT8xOmksbz10LmNhcCxzPXZvaWQgMD09PW98fG87cmV0dXJuIE9iamVjdCh3LmEpKHRoaXMsT2JqZWN0KGsuYSkoZSkuY2FsbCh0aGlzLE9iamVjdChPLmEpKHt9LHQse2lkOnIsdG9wUmFkaXVzOjAsdG9wQ2FwOkJvb2xlYW4ocyksYm90dG9tQ2FwOkJvb2xlYW4ocyksYm90dG9tUmFkaXVzOmF9KSkpfXJldHVybiBPYmplY3QoUy5hKShlLHQpLGV9KFQpLE09bigyNzcpLEM9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fTtPYmplY3QoeC5hKSh0aGlzLGUpO3ZhciBuPXQuaWQscj12b2lkIDA9PT1uP09iamVjdChQLmMpKCJjeWxpbmRlci1nZW9tZXRyeSIpOm4saT10LnJhZGl1cyxhPXZvaWQgMD09PWk/MTppO3JldHVybiBPYmplY3Qody5hKSh0aGlzLE9iamVjdChrLmEpKGUpLmNhbGwodGhpcyxPYmplY3QoTy5hKSh7fSx0LHtpZDpyLGJvdHRvbVJhZGl1czphLHRvcFJhZGl1czphfSkpKX1yZXR1cm4gT2JqZWN0KFMuYSkoZSx0KSxlfShUKSxMPW4oOCksST1bLTEsMCwwLDAsMSwwLDAsMCwtMSwwLDAsMSwwLC0xLDAsMSwwLDBdLFI9WzMsNCw1LDMsNSwxLDMsMSwwLDMsMCw0LDQsMCwyLDQsMiw1LDIsMCwxLDUsMiwxXSxOPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e307T2JqZWN0KHguYSkodGhpcyxlKTt2YXIgbj10LmlkLHI9dm9pZCAwPT09bj9PYmplY3QoUC5jKSgiaWNvLXNwaGVyZS1nZW9tZXRyeSIpOm4saT1EKHQpLGE9aS5pbmRpY2VzLG89aS5hdHRyaWJ1dGVzO3JldHVybiBPYmplY3Qody5hKSh0aGlzLE9iamVjdChrLmEpKGUpLmNhbGwodGhpcyxPYmplY3QoTy5hKSh7fSx0LHtpZDpyLGluZGljZXM6YSxhdHRyaWJ1dGVzOk9iamVjdChPLmEpKHt9LG8sdC5hdHRyaWJ1dGVzKX0pKSl9cmV0dXJuIE9iamVjdChTLmEpKGUsdCksZX0oXy5hKTtmdW5jdGlvbiBEKHQpe3ZhciBlPXQuaXRlcmF0aW9ucyxuPXZvaWQgMD09PWU/MDplLHI9TWF0aC5QSSxpPTIqcixhPVtdLmNvbmNhdChJKSxvPVtdLmNvbmNhdChSKTthLnB1c2goKSxvLnB1c2goKTtmb3IodmFyIHMsdT0ocz17fSxmdW5jdGlvbih0LGUpe3ZhciBuPSh0Kj0zKT4oZSo9Myk/dDplLHI9IiIuY29uY2F0KHQ8ZT90OmUsInwiKS5jb25jYXQobik7aWYociBpbiBzKXJldHVybiBzW3JdO3ZhciBpPWFbdF0sbz1hW3QrMV0sdT1hW3QrMl0sYz0oaSthW2VdKS8yLGw9KG8rYVtlKzFdKS8yLGg9KHUrYVtlKzJdKS8yLGY9TWF0aC5zcXJ0KGMqYytsKmwraCpoKTtyZXR1cm4gYy89ZixsLz1mLGgvPWYsYS5wdXNoKGMsbCxoKSxzW3JdPWEubGVuZ3RoLzMtMX0pLGM9MDtjPG47YysrKXtmb3IodmFyIGw9W10saD0wO2g8by5sZW5ndGg7aCs9Myl7dmFyIGY9dShvW2grMF0sb1toKzFdKSxkPXUob1toKzFdLG9baCsyXSksdj11KG9baCsyXSxvW2grMF0pO2wucHVzaCh2LG9baCswXSxmLGYsb1toKzFdLGQsZCxvW2grMl0sdixmLGQsdil9bz1sfWZvcih2YXIgcD1uZXcgQXJyYXkoYS5sZW5ndGgpLGc9bmV3IEFycmF5KGEubGVuZ3RoLzMqMikseT1vLmxlbmd0aC0zO3k+PTA7eS09Myl7dmFyIG09b1t5KzBdLGI9b1t5KzFdLF89b1t5KzJdLE89MyptLHg9MypiLHc9MypfLGs9MiptLFM9MipiLFA9MipfLGo9YVtPKzBdLFQ9YVtPKzFdLEU9YVtPKzJdLEE9TWF0aC5hY29zKEUvTWF0aC5zcXJ0KGoqaitUKlQrRSpFKSkvcixNPTEtKE1hdGguYXRhbjIoVCxqKStyKS9pLEM9YVt4KzBdLE49YVt4KzFdLEQ9YVt4KzJdLEY9TWF0aC5hY29zKEQvTWF0aC5zcXJ0KEMqQytOKk4rRCpEKSkvcix6PTEtKE1hdGguYXRhbjIoTixDKStyKS9pLEI9YVt3KzBdLFU9YVt3KzFdLFY9YVt3KzJdLEc9TWF0aC5hY29zKFYvTWF0aC5zcXJ0KEIqQitVKlUrVipWKSkvcixXPTEtKE1hdGguYXRhbjIoVSxCKStyKS9pLEg9W0ItQyxVLU4sVi1EXSxxPVtqLUMsVC1OLEUtRF0sWD1uZXcgTC5kKEgpLmNyb3NzKHEpLm5vcm1hbGl6ZSgpLFo9dm9pZCAwOygwPT09TXx8MD09PXp8fDA9PT1XKSYmKDA9PT1NfHxNPi41KSYmKDA9PT16fHx6Pi41KSYmKDA9PT1XfHxXPi41KSYmKGEucHVzaChhW08rMF0sYVtPKzFdLGFbTysyXSksWj1hLmxlbmd0aC8zLTEsby5wdXNoKFopLGdbMipaKzBdPTEsZ1syKlorMV09QSxwWzMqWiswXT1YLngscFszKlorMV09WC55LHBbMypaKzJdPVgueixhLnB1c2goYVt4KzBdLGFbeCsxXSxhW3grMl0pLFo9YS5sZW5ndGgvMy0xLG8ucHVzaChaKSxnWzIqWiswXT0xLGdbMipaKzFdPUYscFszKlorMF09WC54LHBbMypaKzFdPVgueSxwWzMqWisyXT1YLnosYS5wdXNoKGFbdyswXSxhW3crMV0sYVt3KzJdKSxaPWEubGVuZ3RoLzMtMSxvLnB1c2goWiksZ1syKlorMF09MSxnWzIqWisxXT1HLHBbMypaKzBdPVgueCxwWzMqWisxXT1YLnkscFszKlorMl09WC56KSxwW08rMF09cFt4KzBdPXBbdyswXT1YLngscFtPKzFdPXBbeCsxXT1wW3crMV09WC55LHBbTysyXT1wW3grMl09cFt3KzJdPVgueixnW2srMF09TSxnW2srMV09QSxnW1MrMF09eixnW1MrMV09RixnW1ArMF09VyxnW1ArMV09R31yZXR1cm57aW5kaWNlczp7c2l6ZToxLHZhbHVlOm5ldyBVaW50MTZBcnJheShvKX0sYXR0cmlidXRlczp7UE9TSVRJT046e3NpemU6Myx2YWx1ZTpuZXcgRmxvYXQzMkFycmF5KGEpfSxOT1JNQUw6e3NpemU6Myx2YWx1ZTpuZXcgRmxvYXQzMkFycmF5KHApfSxURVhDT09SRF8wOntzaXplOjIsdmFsdWU6bmV3IEZsb2F0MzJBcnJheShnKX19fX12YXIgRj1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9O09iamVjdCh4LmEpKHRoaXMsZSk7dmFyIG49dC5pZCxyPXZvaWQgMD09PW4/T2JqZWN0KFAuYykoInBsYW5lLWdlb21ldHJ5Iik6bixpPXoodCksYT1pLmluZGljZXMsbz1pLmF0dHJpYnV0ZXM7cmV0dXJuIE9iamVjdCh3LmEpKHRoaXMsT2JqZWN0KGsuYSkoZSkuY2FsbCh0aGlzLE9iamVjdChPLmEpKHt9LHQse2lkOnIsaW5kaWNlczphLGF0dHJpYnV0ZXM6T2JqZWN0KE8uYSkoe30sbyx0LmF0dHJpYnV0ZXMpfSkpKX1yZXR1cm4gT2JqZWN0KFMuYSkoZSx0KSxlfShfLmEpO2Z1bmN0aW9uIHoodCl7dmFyIGU9dC50eXBlLG49dm9pZCAwPT09ZT8ieCx5IjplLHI9dC5vZmZzZXQsaT12b2lkIDA9PT1yPzA6cixhPXQuZmxpcEN1bGwsbz12b2lkIDAhPT1hJiZhLHM9dC51bnBhY2ssdT12b2lkIDAhPT1zJiZzLGM9bi5zcGxpdCgiLCIpLGw9dFsiIi5jb25jYXQoY1swXSwibGVuIildfHwxLGg9dFsiIi5jb25jYXQoY1sxXSwibGVuIildfHwxLGY9dFsibiIuY29uY2F0KGNbMF0pXXx8MSxkPXRbIm4iLmNvbmNhdChjWzFdKV18fDEsdj0oZisxKSooZCsxKSxwPW5ldyBGbG9hdDMyQXJyYXkoMyp2KSxnPW5ldyBGbG9hdDMyQXJyYXkoMyp2KSx5PW5ldyBGbG9hdDMyQXJyYXkoMip2KTtvJiYobD0tbCk7Zm9yKHZhciBtPTAsYj0wLF89MDtfPD1kO18rKylmb3IodmFyIE89MDtPPD1mO08rKyl7dmFyIHg9Ty9mLHc9Xy9kO3N3aXRjaCh5W20rMF09bz8xLXg6eCx5W20rMV09dyxuKXtjYXNlIngseSI6cFtiKzBdPWwqeC0uNSpsLHBbYisxXT1oKnctLjUqaCxwW2IrMl09aSxnW2IrMF09MCxnW2IrMV09MCxnW2IrMl09bz8xOi0xO2JyZWFrO2Nhc2UieCx6IjpwW2IrMF09bCp4LS41KmwscFtiKzFdPWkscFtiKzJdPWgqdy0uNSpoLGdbYiswXT0wLGdbYisxXT1vPzE6LTEsZ1tiKzJdPTA7YnJlYWs7Y2FzZSJ5LHoiOnBbYiswXT1pLHBbYisxXT1sKngtLjUqbCxwW2IrMl09aCp3LS41KmgsZ1tiKzBdPW8/MTotMSxnW2IrMV09MCxnW2IrMl09MDticmVhaztkZWZhdWx0OnRocm93IG5ldyBFcnJvcigiUGxhbmVHZW9tZXRyeTogdW5rbm93biB0eXBlIil9bSs9MixiKz0zfWZvcih2YXIgaz1mKzEsUz1uZXcgVWludDE2QXJyYXkoZipkKjYpLFA9MDtQPGQ7UCsrKWZvcih2YXIgaj0wO2o8ZjtqKyspe3ZhciBUPTYqKFAqZitqKTtTW1QrMF09KFArMCkqaytqLFNbVCsxXT0oUCsxKSprK2osU1tUKzJdPShQKzApKmsraisxLFNbVCszXT0oUCsxKSprK2osU1tUKzRdPShQKzEpKmsraisxLFNbVCs1XT0oUCswKSprK2orMX12YXIgRT17aW5kaWNlczp7c2l6ZToxLHZhbHVlOlN9LGF0dHJpYnV0ZXM6e1BPU0lUSU9OOntzaXplOjMsdmFsdWU6cH0sTk9STUFMOntzaXplOjMsdmFsdWU6Z30sVEVYQ09PUkRfMDp7c2l6ZToyLHZhbHVlOnl9fX07cmV0dXJuIHU/ZnVuY3Rpb24odCl7dmFyIGU9dC5pbmRpY2VzLG49dC5hdHRyaWJ1dGVzO2lmKCFlKXJldHVybiB0O3ZhciByPWUudmFsdWUubGVuZ3RoLGk9e307Zm9yKHZhciBhIGluIG4pe3ZhciBvPW5bYV0scz1vLmNvbnN0YW50LHU9by52YWx1ZSxjPW8uc2l6ZTtpZighcyYmYyl7Zm9yKHZhciBsPW5ldyB1LmNvbnN0cnVjdG9yKHIqYyksaD0wO2g8cjsrK2gpZm9yKHZhciBmPWUudmFsdWVbaF0sZD0wO2Q8YztkKyspbFtoKmMrZF09dVtmKmMrZF07aVthXT17c2l6ZTpjLHZhbHVlOmx9fX1yZXR1cm57YXR0cmlidXRlczpPYmplY3QuYXNzaWduKHt9LG4saSl9fShFKTpFfXZhciBCPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e307T2JqZWN0KHguYSkodGhpcyxlKTt2YXIgbj10LmlkLHI9dm9pZCAwPT09bj9PYmplY3QoUC5jKSgic3BoZXJlLWdlb21ldHJ5Iik6bixpPVUodCksYT1pLmluZGljZXMsbz1pLmF0dHJpYnV0ZXM7cmV0dXJuIE9iamVjdCh3LmEpKHRoaXMsT2JqZWN0KGsuYSkoZSkuY2FsbCh0aGlzLE9iamVjdChPLmEpKHt9LHQse2lkOnIsaW5kaWNlczphLGF0dHJpYnV0ZXM6T2JqZWN0KE8uYSkoe30sbyx0LmF0dHJpYnV0ZXMpfSkpKX1yZXR1cm4gT2JqZWN0KFMuYSkoZSx0KSxlfShfLmEpO2Z1bmN0aW9uIFUodCl7dmFyIGU9dC5ubGF0LG49dm9pZCAwPT09ZT8xMDplLHI9dC5ubG9uZyxpPXZvaWQgMD09PXI/MTA6cixhPXQucmFkaXVzLG89dm9pZCAwPT09YT8xOmEscz1NYXRoLlBJLTAsdT0yKk1hdGguUEktMCxjPShuKzEpKihpKzEpO2lmKCJudW1iZXIiPT10eXBlb2Ygbyl7dmFyIGw9bztvPWZ1bmN0aW9uKHQsZSxuLHIsaSl7cmV0dXJuIGx9fWZvcih2YXIgaD1uZXcgRmxvYXQzMkFycmF5KDMqYyksZj1uZXcgRmxvYXQzMkFycmF5KDMqYyksZD1uZXcgRmxvYXQzMkFycmF5KDIqYyksdj1uZXcoYz42NTUzNT9VaW50MzJBcnJheTpVaW50MTZBcnJheSkobippKjYpLHA9MDtwPD1uO3ArKylmb3IodmFyIGc9MDtnPD1pO2crKyl7dmFyIHk9Zy9pLG09cC9uLGI9ZytwKihpKzEpLF89MipiLE89MypiLHg9dSp5LHc9cyptLGs9TWF0aC5zaW4oeCksUz1NYXRoLmNvcyh4KSxQPU1hdGguc2luKHcpLGo9UypQLFQ9TWF0aC5jb3ModyksRT1rKlAsQT1vKGosVCxFLHksbSk7aFtPKzBdPUEqaixoW08rMV09QSpULGhbTysyXT1BKkUsZltPKzBdPWosZltPKzFdPVQsZltPKzJdPUUsZFtfKzBdPXksZFtfKzFdPTEtbX1mb3IodmFyIE09aSsxLEM9MDtDPGk7QysrKWZvcih2YXIgTD0wO0w8bjtMKyspe3ZhciBJPTYqKEMqbitMKTt2W0krMF09TCpNK0MsdltJKzFdPUwqTStDKzEsdltJKzJdPShMKzEpKk0rQyx2W0krM109KEwrMSkqTStDLHZbSSs0XT1MKk0rQysxLHZbSSs1XT0oTCsxKSpNK0MrMX1yZXR1cm57aW5kaWNlczp7c2l6ZToxLHZhbHVlOnZ9LGF0dHJpYnV0ZXM6e1BPU0lUSU9OOntzaXplOjMsdmFsdWU6aH0sTk9STUFMOntzaXplOjMsdmFsdWU6Zn0sVEVYQ09PUkRfMDp7c2l6ZToyLHZhbHVlOmR9fX19bi5kKGUsIk1vZGVsIiwoZnVuY3Rpb24oKXtyZXR1cm4gci5hfSkpLG4uZChlLCJUcmFuc2Zvcm0iLChmdW5jdGlvbigpe3JldHVybiBpLmF9KSksbi5kKGUsIlByb2dyYW1NYW5hZ2VyIiwoZnVuY3Rpb24oKXtyZXR1cm4gYS5hfSkpLG4uZChlLCJUaW1lbGluZSIsKGZ1bmN0aW9uKCl7cmV0dXJuIG8uYX0pKSxuLmQoZSwiaW5zdHJ1bWVudEdMQ29udGV4dCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHMuZX0pKSxuLmQoZSwiaXNXZWJHTDIiLChmdW5jdGlvbigpe3JldHVybiBzLmd9KSksbi5kKGUsIkZFQVRVUkVTIiwoZnVuY3Rpb24oKXtyZXR1cm4gdS5hfSkpLG4uZChlLCJoYXNGZWF0dXJlcyIsKGZ1bmN0aW9uKCl7cmV0dXJuIGMuY30pKSxuLmQoZSwiZ2V0UGFyYW1ldGVycyIsKGZ1bmN0aW9uKCl7cmV0dXJuIHMuZH0pKSxuLmQoZSwic2V0UGFyYW1ldGVycyIsKGZ1bmN0aW9uKCl7cmV0dXJuIHMua30pKSxuLmQoZSwid2l0aFBhcmFtZXRlcnMiLChmdW5jdGlvbigpe3JldHVybiBzLmx9KSksbi5kKGUsImNzc1RvRGV2aWNlUmF0aW8iLChmdW5jdGlvbigpe3JldHVybiBzLmN9KSksbi5kKGUsInJlYWRQaXhlbHNUb0J1ZmZlciIsKGZ1bmN0aW9uKCl7cmV0dXJuIGwuZH0pKSxuLmQoZSwiY29weVRvVGV4dHVyZSIsKGZ1bmN0aW9uKCl7cmV0dXJuIGwuYn0pKSxuLmQoZSwiY2xvbmVUZXh0dXJlRnJvbSIsKGZ1bmN0aW9uKCl7cmV0dXJuIGguYX0pKSxuLmQoZSwiQnVmZmVyIiwoZnVuY3Rpb24oKXtyZXR1cm4gZi5hfSkpLG4uZChlLCJQcm9ncmFtIiwoZnVuY3Rpb24oKXtyZXR1cm4gZC5hfSkpLG4uZChlLCJGcmFtZWJ1ZmZlciIsKGZ1bmN0aW9uKCl7cmV0dXJuIHYuYX0pKSxuLmQoZSwiUmVuZGVyYnVmZmVyIiwoZnVuY3Rpb24oKXtyZXR1cm4gcC5hfSkpLG4uZChlLCJUZXh0dXJlMkQiLChmdW5jdGlvbigpe3JldHVybiBnLmF9KSksbi5kKGUsIlRleHR1cmVDdWJlIiwoZnVuY3Rpb24oKXtyZXR1cm4geS5hfSkpLG4uZChlLCJUZXh0dXJlM0QiLChmdW5jdGlvbigpe3JldHVybiBtLmF9KSksbi5kKGUsIlRyYW5zZm9ybUZlZWRiYWNrIiwoZnVuY3Rpb24oKXtyZXR1cm4gYi5hfSkpLG4uZChlLCJHZW9tZXRyeSIsKGZ1bmN0aW9uKCl7cmV0dXJuIF8uYX0pKSxuLmQoZSwiQ29uZUdlb21ldHJ5IiwoZnVuY3Rpb24oKXtyZXR1cm4gQX0pKSxuLmQoZSwiQ3ViZUdlb21ldHJ5IiwoZnVuY3Rpb24oKXtyZXR1cm4gTS5hfSkpLG4uZChlLCJDeWxpbmRlckdlb21ldHJ5IiwoZnVuY3Rpb24oKXtyZXR1cm4gQ30pKSxuLmQoZSwiSWNvU3BoZXJlR2VvbWV0cnkiLChmdW5jdGlvbigpe3JldHVybiBOfSkpLG4uZChlLCJQbGFuZUdlb21ldHJ5IiwoZnVuY3Rpb24oKXtyZXR1cm4gRn0pKSxuLmQoZSwiU3BoZXJlR2VvbWV0cnkiLChmdW5jdGlvbigpe3JldHVybiBCfSkpLG4uZChlLCJUcnVuY2F0ZWRDb25lR2VvbWV0cnkiLChmdW5jdGlvbigpe3JldHVybiBUfSkpfSxmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO24ucihlKTt2YXIgcj1uKDEpLGk9bi5uKHIpLGE9bigyKSxvPW4ubihhKSxzPW4oMjEyKTtmdW5jdGlvbiB1KHQpe3ZhciBlPXQuZ2V0UGFuZXMoKS5vdmVybGF5TGF5ZXIsbj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJjYW52YXMiKTtyZXR1cm4gT2JqZWN0LmFzc2lnbihuLnN0eWxlLHtwb3NpdGlvbjoiYWJzb2x1dGUifSksZS5hcHBlbmRDaGlsZChuKSxufWZ1bmN0aW9uIGModCl7dmFyIGU9dC5wcm9wcy51c2VyRGF0YS5fZXZlbnRMaXN0ZW5lcnM7Zm9yKHZhciBuIGluIGUpZVtuXS5yZW1vdmUoKTt0LmZpbmFsaXplKCksdC5jYW52YXMucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0LmNhbnZhcyl9dmFyIGw9ZnVuY3Rpb24oKXtyZXR1cm4hMX0saD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSl7aSgpKHRoaXMsdCksdGhpcy5wcm9wcz17fSx0aGlzLl9tYXA9bnVsbDt2YXIgbj1uZXcgZ29vZ2xlLm1hcHMuT3ZlcmxheVZpZXc7bi5vbkFkZD10aGlzLl9vbkFkZC5iaW5kKHRoaXMpLG4ub25SZW1vdmU9dGhpcy5fb25SZW1vdmUuYmluZCh0aGlzKSxuLmRyYXc9dGhpcy5fZHJhdy5iaW5kKHRoaXMpLHRoaXMuX292ZXJsYXk9bix0aGlzLnNldFByb3BzKGUpfXJldHVybiBvKCkodCxbe2tleToic2V0TWFwIix2YWx1ZTpmdW5jdGlvbih0KXt0IT09dGhpcy5fbWFwJiYodGhpcy5fbWFwJiYodGhpcy5fb3ZlcmxheS5zZXRNYXAobnVsbCksdGhpcy5fbWFwPW51bGwpLHQmJih0aGlzLl9tYXA9dCx0aGlzLl9vdmVybGF5LnNldE1hcCh0KSkpfX0se2tleToic2V0UHJvcHMiLHZhbHVlOmZ1bmN0aW9uKHQpe09iamVjdC5hc3NpZ24odGhpcy5wcm9wcyx0KSx0aGlzLl9kZWNrJiZ0aGlzLl9kZWNrLnNldFByb3BzKHRoaXMucHJvcHMpfX0se2tleToicGlja09iamVjdCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2RlY2smJnRoaXMuX2RlY2sucGlja09iamVjdCh0KX19LHtrZXk6InBpY2tNdWx0aXBsZU9iamVjdHMiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9kZWNrJiZ0aGlzLl9kZWNrLnBpY2tNdWx0aXBsZU9iamVjdHModCl9fSx7a2V5OiJwaWNrT2JqZWN0cyIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2RlY2smJnRoaXMuX2RlY2sucGlja09iamVjdHModCl9fSx7a2V5OiJmaW5hbGl6ZSIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLnNldE1hcChudWxsKSx0aGlzLl9kZWNrJiYoYyh0aGlzLl9kZWNrKSx0aGlzLl9kZWNrPW51bGwpfX0se2tleToiX29uQWRkIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuX2RlY2s9ZnVuY3Rpb24odCxlLG4pe2lmKG4pe2lmKG4ucHJvcHMudXNlckRhdGEuX2dvb2dsZU1hcD09PXQpcmV0dXJuIG47YyhuKX12YXIgcj17Y2xpY2s6bnVsbCxtb3VzZW1vdmU6bnVsbCxtb3VzZW91dDpudWxsfTtuPW5ldyBzLmEoe2NhbnZhczp1KGUpLGluaXRpYWxWaWV3U3RhdGU6e2xvbmdpdHVkZTowLGxhdGl0dWRlOjAsem9vbToxfSxjb250cm9sbGVyOiExLHVzZXJEYXRhOntfZ29vZ2xlTWFwOnQsX2V2ZW50TGlzdGVuZXJzOnJ9fSk7dmFyIGk9ZnVuY3Rpb24oZSl7cltlXT10LmFkZExpc3RlbmVyKGUsKGZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbih0LGUsbil7dmFyIHI7c3dpdGNoKGUpe2Nhc2UiY2xpY2siOnQuX2xhc3RQb2ludGVyRG93bkluZm89dC5waWNrT2JqZWN0KHt4Om4ucGl4ZWwueCx5Om4ucGl4ZWwueX0pLHI9dC5fb25FdmVudDticmVhaztjYXNlIm1vdXNlbW92ZSI6ZT0icG9pbnRlcm1vdmUiLHI9dC5fb25Qb2ludGVyTW92ZTticmVhaztjYXNlIm1vdXNlb3V0IjplPSJwb2ludGVybGVhdmUiLHI9dC5fb25Qb2ludGVyTW92ZTticmVhaztkZWZhdWx0OnJldHVybn1yKHt0eXBlOmUsb2Zmc2V0Q2VudGVyOm4ucGl4ZWwsc3JjRXZlbnQ6bn0pfShuLGUsdCl9KSl9O2Zvcih2YXIgYSBpbiByKWkoYSk7cmV0dXJuIG59KHRoaXMuX21hcCx0aGlzLl9vdmVybGF5LHRoaXMuX2RlY2spLHRoaXMuX2RlY2suc2V0UHJvcHModGhpcy5wcm9wcyl9fSx7a2V5OiJfb25SZW1vdmUiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5fZGVjay5zZXRQcm9wcyh7bGF5ZXJGaWx0ZXI6bH0pfX0se2tleToiX2RyYXciLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fZGVjayxlPWZ1bmN0aW9uKHQsZSl7dmFyIG49dC5nZXREaXYoKS5maXJzdENoaWxkLHI9bi5vZmZzZXRXaWR0aCxpPW4ub2Zmc2V0SGVpZ2h0LGE9ZS5nZXRQcm9qZWN0aW9uKCksbz10LmdldEJvdW5kcygpLHM9by5nZXROb3J0aEVhc3QoKSx1PW8uZ2V0U291dGhXZXN0KCksYz1hLmZyb21MYXRMbmdUb0RpdlBpeGVsKHMpLGw9YS5mcm9tTGF0TG5nVG9EaXZQaXhlbCh1KSxoPW5ldyBnb29nbGUubWFwcy5Qb2ludCgwLDApLGY9YS5mcm9tQ29udGFpbmVyUGl4ZWxUb0xhdExuZyhoKSxkPWEuZnJvbUxhdExuZ1RvRGl2UGl4ZWwoZiksdj1kLngscD1kLnksZz1hLmdldFdvcmxkV2lkdGgoKSx5PU1hdGguY2VpbChyL2cpO3YtPU1hdGguZmxvb3IoeS8yKSpnO3ZhciBtPWk/KGwueS1jLnkpL2k6MSxiPU1hdGgubG9nMihtfHwxKSt0LmdldFpvb20oKS0xLF89bmV3IGdvb2dsZS5tYXBzLlBvaW50KHIvMixpLzIpLE89YS5mcm9tQ29udGFpbmVyUGl4ZWxUb0xhdExuZyhfKSx4PU8ubGF0KCksdz1PLmxuZygpO2lmKE1hdGguYWJzKHgpPjg1LjA1MTEzKXt4PXg+MD84NS4wNTExMzotODUuMDUxMTM7dmFyIGs9bmV3IGdvb2dsZS5tYXBzLkxhdExuZyh4LHcpO3ArPShfPWEuZnJvbUxhdExuZ1RvQ29udGFpbmVyUGl4ZWwoaykpLnktaS8yfXJldHVybnt3aWR0aDpyLGhlaWdodDppLGxlZnQ6dix0b3A6cCx6b29tOmIscGl0Y2g6dC5nZXRUaWx0KCksbGF0aXR1ZGU6eCxsb25naXR1ZGU6d319KHRoaXMuX21hcCx0aGlzLl9vdmVybGF5KSxuPWUud2lkdGgscj1lLmhlaWdodCxpPWUubGVmdCxhPWUudG9wLG89ZS56b29tLHM9ZS5waXRjaCx1PWUubGF0aXR1ZGUsYz1lLmxvbmdpdHVkZSxoPTA9PT1zO3QuY2FudmFzLnN0eWxlLmxlZnQ9IiIuY29uY2F0KGksInB4IiksdC5jYW52YXMuc3R5bGUudG9wPSIiLmNvbmNhdChhLCJweCIpLHQuc2V0UHJvcHMoe3dpZHRoOm4saGVpZ2h0OnIsdmlld1N0YXRlOntsYXRpdHVkZTp1LGxvbmdpdHVkZTpjLHpvb206byxyZXBlYXQ6ITB9LGxheWVyRmlsdGVyOmg/dGhpcy5wcm9wcy5sYXllckZpbHRlcjpsfSksdC5yZWRyYXcoKX19XSksdH0oKTtuLmQoZSwiR29vZ2xlTWFwc092ZXJsYXkiLChmdW5jdGlvbigpe3JldHVybiBofSkpfSxmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO24ucihlKTt2YXIgcj1uKDEpLGk9bi5uKHIpLGE9bigyKSxvPW4ubihhKSxzPW4oMTkpLHU9bi5uKHMpLGM9bigyMTIpLGw9bigxNTEpO2Z1bmN0aW9uIGgodCl7dmFyIGU9dC5tYXAsbj10LmdsLHI9dC5kZWNrO2lmKGUuX19kZWNrKXJldHVybiBlLl9fZGVjazt2YXIgaT1yJiZyLnByb3BzLl9jdXN0b21SZW5kZXIsYT17dXNlRGV2aWNlUGl4ZWxzOiEwLF9jdXN0b21SZW5kZXI6ZnVuY3Rpb24oKXtlLnRyaWdnZXJSZXBhaW50KCksaSYmaSgpfSxwYXJhbWV0ZXJzOntkZXB0aE1hc2s6ITAsZGVwdGhUZXN0OiEwLGJsZW5kRnVuYzpbNzcwLDc3MSwxLDc3MV0sYmxlbmRFcXVhdGlvbjozMjc3NH0sdXNlckRhdGE6e2lzRXh0ZXJuYWw6ITEsbWFwYm94TGF5ZXJzOm5ldyBTZXR9fTtyZXR1cm4gcj8oci5zZXRQcm9wcyhhKSxyLnByb3BzLnVzZXJEYXRhLmlzRXh0ZXJuYWw9ITApOihPYmplY3QuYXNzaWduKGEse2dsOm4sd2lkdGg6ITEsaGVpZ2h0OiExLHZpZXdTdGF0ZTpmKGUpfSkscj1uZXcgYy5hKGEpLGUub24oIm1vdmUiLChmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbih0LGUpe3Quc2V0UHJvcHMoe3ZpZXdTdGF0ZTpmKGUpfSksdC5uZWVkc1JlZHJhdyh7Y2xlYXJSZWRyYXdGbGFnczohMH0pfShyLGUpfSkpLGUub24oInJlbW92ZSIsKGZ1bmN0aW9uKCl7ci5maW5hbGl6ZSgpLGUuX19kZWNrPW51bGx9KSkpLHIucHJvcHMudXNlckRhdGEubWFwYm94VmVyc2lvbj1mdW5jdGlvbih0KXt2YXIgZT0wLG49MDtpZih0LnZlcnNpb24pe3ZhciByPXQudmVyc2lvbi5zcGxpdCgiLiIpLnNsaWNlKDAsMikubWFwKE51bWJlciksaT11KCkociwyKTtlPWlbMF0sbj1pWzFdfXJldHVybnttYWpvcjplLG1pbm9yOm59fShlKSxlLl9fZGVjaz1yLGUub24oInJlbmRlciIsKGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKHQsZSl7dmFyIG49dC5wcm9wcy51c2VyRGF0YSxyPW4ubWFwYm94TGF5ZXJzO2lmKG4uaXNFeHRlcm5hbCl7dmFyIGk9QXJyYXkuZnJvbShyLChmdW5jdGlvbih0KXtyZXR1cm4gdC5pZH0pKSxhPXYodCwoZnVuY3Rpb24odCl7dmFyIGU9ITAsbj0hMSxyPXZvaWQgMDt0cnl7Zm9yKHZhciBhLG89aVtTeW1ib2wuaXRlcmF0b3JdKCk7IShlPShhPW8ubmV4dCgpKS5kb25lKTtlPSEwKXtpZihwKGEudmFsdWUsdCkpcmV0dXJuITF9fWNhdGNoKHQpe249ITAscj10fWZpbmFsbHl7dHJ5e2V8fG51bGw9PW8ucmV0dXJufHxvLnJldHVybigpfWZpbmFsbHl7aWYobil0aHJvdyByfX1yZXR1cm4hMH0pKTthLmxlbmd0aD4wJiZ0Ll9kcmF3TGF5ZXJzKCJtYXBib3gtcmVwYWludCIse3ZpZXdwb3J0czpbZCh0LGUsITEpXSxsYXllcnM6YSxjbGVhckNhbnZhczohMX0pfXQucHJvcHMudXNlckRhdGEuY3VycmVudFZpZXdwb3J0PW51bGx9KHIsZSl9KSkscn1mdW5jdGlvbiBmKHQpe3ZhciBlPXQuZ2V0Q2VudGVyKCk7cmV0dXJue2xvbmdpdHVkZTplLmxuZyxsYXRpdHVkZTplLmxhdCx6b29tOnQuZ2V0Wm9vbSgpLGJlYXJpbmc6dC5nZXRCZWFyaW5nKCkscGl0Y2g6dC5nZXRQaXRjaCgpfX1mdW5jdGlvbiBkKHQsZSl7dmFyIG49IShhcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXSl8fGFyZ3VtZW50c1syXSxyPXQucHJvcHMudXNlckRhdGEubWFwYm94VmVyc2lvbjtyZXR1cm4gbmV3IGwuYShPYmplY3QuYXNzaWduKHt4OjAseTowLHdpZHRoOnQud2lkdGgsaGVpZ2h0OnQuaGVpZ2h0LHJlcGVhdDohMH0sZihlKSxuP3tuZWFyWk11bHRpcGxpZXI6MT09PXIubWFqb3ImJnIubWlub3I+PTN8fHIubWFqb3I+PTI/LjAyOjEvKHQuaGVpZ2h0fHwxKX06e25lYXJaTXVsdGlwbGllcjouMX0pKX1mdW5jdGlvbiB2KHQsZSl7cmV0dXJuIHQubGF5ZXJNYW5hZ2VyLmdldExheWVycygpLmZpbHRlcihlKX1mdW5jdGlvbiBwKHQsZSl7Zm9yKHZhciBuPWU7bjspe2lmKG4uaWQ9PT10KXJldHVybiEwO249bi5wYXJlbnR9cmV0dXJuITF9ZnVuY3Rpb24gZyh0KXtpZighdC5wcm9wcy51c2VyRGF0YS5pc0V4dGVybmFsKXt2YXIgZT1bXTt0LnByb3BzLnVzZXJEYXRhLm1hcGJveExheWVycy5mb3JFYWNoKChmdW5jdGlvbih0KXt2YXIgbj1uZXcoMCx0LnByb3BzLnR5cGUpKHQucHJvcHMpO2UucHVzaChuKX0pKSx0LnNldFByb3BzKHtsYXllcnM6ZX0pfX12YXIgeT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSl7aWYoaSgpKHRoaXMsdCksIWUuaWQpdGhyb3cgbmV3IEVycm9yKCJMYXllciBtdXN0IGhhdmUgYW4gdW5pcXVlIGlkIik7dGhpcy5pZD1lLmlkLHRoaXMudHlwZT0iY3VzdG9tIix0aGlzLnJlbmRlcmluZ01vZGU9ZS5yZW5kZXJpbmdNb2RlfHwiM2QiLHRoaXMubWFwPW51bGwsdGhpcy5kZWNrPW51bGwsdGhpcy5wcm9wcz1lfXJldHVybiBvKCkodCxbe2tleToib25BZGQiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dmFyIG4scjt0aGlzLm1hcD10LHRoaXMuZGVjaz1oKHttYXA6dCxnbDplLGRlY2s6dGhpcy5wcm9wcy5kZWNrfSksbj10aGlzLmRlY2sscj10aGlzLG4ucHJvcHMudXNlckRhdGEubWFwYm94TGF5ZXJzLmFkZChyKSxnKG4pfX0se2tleToib25SZW1vdmUiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQsZTt0PXRoaXMuZGVjayxlPXRoaXMsdC5wcm9wcy51c2VyRGF0YS5tYXBib3hMYXllcnMuZGVsZXRlKGUpLGcodCl9fSx7a2V5OiJzZXRQcm9wcyIsdmFsdWU6ZnVuY3Rpb24odCl7T2JqZWN0LmFzc2lnbih0aGlzLnByb3BzLHQse2lkOnRoaXMuaWR9KSx0aGlzLmRlY2smJmcodGhpcy5kZWNrKX19LHtrZXk6InJlbmRlciIsdmFsdWU6ZnVuY3Rpb24odCxlKXt2YXIgbixyLGksYTtuPXRoaXMuZGVjayxyPXRoaXMubWFwLGk9dGhpcywoYT1uLnByb3BzLnVzZXJEYXRhLmN1cnJlbnRWaWV3cG9ydCl8fChhPWQobixyLCEwKSxuLnByb3BzLnVzZXJEYXRhLmN1cnJlbnRWaWV3cG9ydD1hKSxuLl9kcmF3TGF5ZXJzKCJtYXBib3gtcmVwYWludCIse3ZpZXdwb3J0czpbYV0sbGF5ZXJzOnYobiwoZnVuY3Rpb24odCl7cmV0dXJuIHAoaS5pZCx0KX0pKSxjbGVhckNhbnZhczohMX0pfX1dKSx0fSgpO24uZChlLCJNYXBib3hMYXllciIsKGZ1bmN0aW9uKCl7cmV0dXJuIHl9KSl9LGZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7bi5yKGUpO3ZhciByPW4oNCksaT1uLm4ociksYT1uKDEpLG89bi5uKGEpLHM9bigyKSx1PW4ubihzKSxjPW4oOSksbD1uLm4oYyksaD1uKDMpLGY9bi5uKGgpLGQ9bigxMiksdj1uLm4oZCkscD1uKDEwKSxnPW4ubihwKSx5PW4oNiksbT1uKDcpLGI9bigwKSxfPW4oNDApLE89bi5uKF8pLHg9KCJ1bmRlZmluZWQiIT10eXBlb2Ygd2luZG93P3dpbmRvdzpnbG9iYWwsInVuZGVmaW5lZCIhPXR5cGVvZiBnbG9iYWw/Z2xvYmFsOndpbmRvdywidW5kZWZpbmVkIiE9dHlwZW9mIGRvY3VtZW50P2RvY3VtZW50Ont9KTt2YXIgdz17Y29udGFpbmVyOk8uYS5vYmplY3QsZ2w6Ty5hLm9iamVjdCxtYXBib3hBcGlBY2Nlc3NUb2tlbjpPLmEuc3RyaW5nLG1hcGJveEFwaVVybDpPLmEuc3RyaW5nLGF0dHJpYnV0aW9uQ29udHJvbDpPLmEuYm9vbCxwcmVzZXJ2ZURyYXdpbmdCdWZmZXI6Ty5hLmJvb2wscmV1c2VNYXBzOk8uYS5ib29sLHRyYW5zZm9ybVJlcXVlc3Q6Ty5hLmZ1bmMsbWFwT3B0aW9uczpPLmEub2JqZWN0LG1hcFN0eWxlOk8uYS5vbmVPZlR5cGUoW08uYS5zdHJpbmcsTy5hLm9iamVjdF0pLHZpc2libGU6Ty5hLmJvb2wsYXN5bmNSZW5kZXI6Ty5hLmJvb2wsb25Mb2FkOk8uYS5mdW5jLG9uRXJyb3I6Ty5hLmZ1bmMsd2lkdGg6Ty5hLm51bWJlcixoZWlnaHQ6Ty5hLm51bWJlcix2aWV3U3RhdGU6Ty5hLm9iamVjdCxsb25naXR1ZGU6Ty5hLm51bWJlcixsYXRpdHVkZTpPLmEubnVtYmVyLHpvb206Ty5hLm51bWJlcixiZWFyaW5nOk8uYS5udW1iZXIscGl0Y2g6Ty5hLm51bWJlcixhbHRpdHVkZTpPLmEubnVtYmVyfSxrPXtjb250YWluZXI6eC5ib2R5LG1hcGJveEFwaUFjY2Vzc1Rva2VuOmZ1bmN0aW9uKCl7dmFyIHQ9bnVsbDtpZigidW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdyYmd2luZG93LmxvY2F0aW9uKXt2YXIgZT13aW5kb3cubG9jYXRpb24uc2VhcmNoLm1hdGNoKC9hY2Nlc3NfdG9rZW49KFteJlwvXSopLyk7dD1lJiZlWzFdfXR8fCJ1bmRlZmluZWQiPT10eXBlb2YgcHJvY2Vzc3x8KHQ9dHx8cHJvY2Vzcy5lbnYuTWFwYm94QWNjZXNzVG9rZW58fHByb2Nlc3MuZW52LlJFQUNUX0FQUF9NQVBCT1hfQUNDRVNTX1RPS0VOKTtyZXR1cm4gdHx8Im5vLXRva2VuIn0oKSxtYXBib3hBcGlVcmw6Imh0dHBzOi8vYXBpLm1hcGJveC5jb20iLHByZXNlcnZlRHJhd2luZ0J1ZmZlcjohMSxhdHRyaWJ1dGlvbkNvbnRyb2w6ITAscmV1c2VNYXBzOiExLG1hcE9wdGlvbnM6e30sbWFwU3R5bGU6Im1hcGJveDovL3N0eWxlcy9tYXBib3gvbGlnaHQtdjgiLHZpc2libGU6ITAsYXN5bmNSZW5kZXI6ITEsb25Mb2FkOmZ1bmN0aW9uKCl7fSxvbkVycm9yOmZ1bmN0aW9uKHQpe3QmJmNvbnNvbGUuZXJyb3IodC5lcnJvcil9LHdpZHRoOjAsaGVpZ2h0OjAsbG9uZ2l0dWRlOjAsbGF0aXR1ZGU6MCx6b29tOjAsYmVhcmluZzowLHBpdGNoOjAsYWx0aXR1ZGU6MS41fTtmdW5jdGlvbiBTKHQpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXToiY29tcG9uZW50Ijt0LmRlYnVnJiZPLmEuY2hlY2tQcm9wVHlwZXModyx0LCJwcm9wIixlKX12YXIgUD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSl7dmFyIG49dGhpcztpZihPYmplY3QoeS5hKSh0aGlzLHQpLE9iamVjdChiLmEpKHRoaXMsIm1hcGJveGdsIix2b2lkIDApLE9iamVjdChiLmEpKHRoaXMsInByb3BzIixrKSxPYmplY3QoYi5hKSh0aGlzLCJfbWFwIixudWxsKSxPYmplY3QoYi5hKSh0aGlzLCJ3aWR0aCIsMCksT2JqZWN0KGIuYSkodGhpcywiaGVpZ2h0IiwwKSxPYmplY3QoYi5hKSh0aGlzLCJfZmlyZUxvYWRFdmVudCIsKGZ1bmN0aW9uKCl7bi5wcm9wcy5vbkxvYWQoe3R5cGU6ImxvYWQiLHRhcmdldDpuLl9tYXB9KX0pKSwhZS5tYXBib3hnbCl0aHJvdyBuZXcgRXJyb3IoIk1hcGJveCBub3QgYXZhaWxhYmxlIik7dGhpcy5tYXBib3hnbD1lLm1hcGJveGdsLHQuaW5pdGlhbGl6ZWR8fCh0LmluaXRpYWxpemVkPSEwLHRoaXMuX2NoZWNrU3R5bGVTaGVldCh0aGlzLm1hcGJveGdsLnZlcnNpb24pKSx0aGlzLl9pbml0aWFsaXplKGUpfXJldHVybiBPYmplY3QobS5hKSh0LFt7a2V5OiJmaW5hbGl6ZSIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZGVzdHJveSgpLHRoaXN9fSx7a2V5OiJzZXRQcm9wcyIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX3VwZGF0ZSh0aGlzLnByb3BzLHQpLHRoaXN9fSx7a2V5OiJyZXNpemUiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX21hcC5yZXNpemUoKSx0aGlzfX0se2tleToicmVkcmF3Iix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMuX21hcDt0LnN0eWxlJiYodC5fZnJhbWUmJih0Ll9mcmFtZS5jYW5jZWwoKSx0Ll9mcmFtZT1udWxsKSx0Ll9yZW5kZXIoKSl9fSx7a2V5OiJnZXRNYXAiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX21hcH19LHtrZXk6Il9yZXVzZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5fbWFwPXQuc2F2ZWRNYXA7dmFyIG49dGhpcy5fbWFwLmdldENvbnRhaW5lcigpLHI9ZS5jb250YWluZXI7Zm9yKHIuY2xhc3NMaXN0LmFkZCgibWFwYm94Z2wtbWFwIik7bi5jaGlsZE5vZGVzLmxlbmd0aD4wOylyLmFwcGVuZENoaWxkKG4uY2hpbGROb2Rlc1swXSk7dGhpcy5fbWFwLl9jb250YWluZXI9cix0LnNhdmVkTWFwPW51bGwsZS5tYXBTdHlsZSYmdGhpcy5fbWFwLnNldFN0eWxlKGUubWFwU3R5bGUse2RpZmY6ITF9KSx0aGlzLl9tYXAuaXNTdHlsZUxvYWRlZCgpP3RoaXMuX2ZpcmVMb2FkRXZlbnQoKTp0aGlzLl9tYXAub25jZSgic3R5bGVkYXRhIix0aGlzLl9maXJlTG9hZEV2ZW50KX19LHtrZXk6Il9jcmVhdGUiLHZhbHVlOmZ1bmN0aW9uKGUpe2lmKGUucmV1c2VNYXBzJiZ0LnNhdmVkTWFwKXRoaXMuX3JldXNlKGUpO2Vsc2V7aWYoZS5nbCl7dmFyIG49SFRNTENhbnZhc0VsZW1lbnQucHJvdG90eXBlLmdldENvbnRleHQ7SFRNTENhbnZhc0VsZW1lbnQucHJvdG90eXBlLmdldENvbnRleHQ9ZnVuY3Rpb24oKXtyZXR1cm4gSFRNTENhbnZhc0VsZW1lbnQucHJvdG90eXBlLmdldENvbnRleHQ9bixlLmdsfX12YXIgcj17Y29udGFpbmVyOmUuY29udGFpbmVyLGNlbnRlcjpbMCwwXSx6b29tOjgscGl0Y2g6MCxiZWFyaW5nOjAsbWF4Wm9vbToyNCxzdHlsZTplLm1hcFN0eWxlLGludGVyYWN0aXZlOiExLHRyYWNrUmVzaXplOiExLGF0dHJpYnV0aW9uQ29udHJvbDplLmF0dHJpYnV0aW9uQ29udHJvbCxwcmVzZXJ2ZURyYXdpbmdCdWZmZXI6ZS5wcmVzZXJ2ZURyYXdpbmdCdWZmZXJ9O2UudHJhbnNmb3JtUmVxdWVzdCYmKHIudHJhbnNmb3JtUmVxdWVzdD1lLnRyYW5zZm9ybVJlcXVlc3QpLHRoaXMuX21hcD1uZXcgdGhpcy5tYXBib3hnbC5NYXAoT2JqZWN0LmFzc2lnbih7fSxyLGUubWFwT3B0aW9ucykpLHRoaXMuX21hcC5vbmNlKCJsb2FkIixlLm9uTG9hZCksdGhpcy5fbWFwLm9uKCJlcnJvciIsZS5vbkVycm9yKX1yZXR1cm4gdGhpc319LHtrZXk6Il9kZXN0cm95Iix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuX21hcCYmKHQuc2F2ZWRNYXA/dGhpcy5fbWFwLnJlbW92ZSgpOih0LnNhdmVkTWFwPXRoaXMuX21hcCx0aGlzLl9tYXAub2ZmKCJsb2FkIix0aGlzLnByb3BzLm9uTG9hZCksdGhpcy5fbWFwLm9mZigiZXJyb3IiLHRoaXMucHJvcHMub25FcnJvciksdGhpcy5fbWFwLm9mZigic3R5bGVkYXRhIix0aGlzLl9maXJlTG9hZEV2ZW50KSksdGhpcy5fbWFwPW51bGwpfX0se2tleToiX2luaXRpYWxpemUiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7Uyh0PU9iamVjdC5hc3NpZ24oe30sayx0KSwiTWFwYm94IiksdGhpcy5tYXBib3hnbC5hY2Nlc3NUb2tlbj10Lm1hcGJveEFwaUFjY2Vzc1Rva2VufHxrLm1hcGJveEFwaUFjY2Vzc1Rva2VuLHRoaXMubWFwYm94Z2wuYmFzZUFwaVVybD10Lm1hcGJveEFwaVVybCx0aGlzLl9jcmVhdGUodCk7dmFyIG49dC5jb250YWluZXI7T2JqZWN0LmRlZmluZVByb3BlcnR5KG4sIm9mZnNldFdpZHRoIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGUud2lkdGh9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KG4sImNsaWVudFdpZHRoIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGUud2lkdGh9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KG4sIm9mZnNldEhlaWdodCIse2dldDpmdW5jdGlvbigpe3JldHVybiBlLmhlaWdodH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkobiwiY2xpZW50SGVpZ2h0Iix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGUuaGVpZ2h0fX0pO3ZhciByPXRoaXMuX21hcC5nZXRDYW52YXMoKTtyJiYoci5zdHlsZS5vdXRsaW5lPSJub25lIiksdGhpcy5fdXBkYXRlTWFwVmlld3BvcnQoe30sdCksdGhpcy5fdXBkYXRlTWFwU2l6ZSh7fSx0KSx0aGlzLnByb3BzPXR9fSx7a2V5OiJfdXBkYXRlIix2YWx1ZTpmdW5jdGlvbih0LGUpe2lmKHRoaXMuX21hcCl7UyhlPU9iamVjdC5hc3NpZ24oe30sdGhpcy5wcm9wcyxlKSwiTWFwYm94Iik7dmFyIG49dGhpcy5fdXBkYXRlTWFwVmlld3BvcnQodCxlKSxyPXRoaXMuX3VwZGF0ZU1hcFNpemUodCxlKTtlLmFzeW5jUmVuZGVyfHwhbiYmIXJ8fHRoaXMucmVkcmF3KCksdGhpcy5wcm9wcz1lfX19LHtrZXk6Il91cGRhdGVNYXBTaXplIix2YWx1ZTpmdW5jdGlvbih0LGUpe3ZhciBuPXQud2lkdGghPT1lLndpZHRofHx0LmhlaWdodCE9PWUuaGVpZ2h0O3JldHVybiBuJiYodGhpcy53aWR0aD1lLndpZHRoLHRoaXMuaGVpZ2h0PWUuaGVpZ2h0LHRoaXMucmVzaXplKCkpLG59fSx7a2V5OiJfdXBkYXRlTWFwVmlld3BvcnQiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy5fZ2V0Vmlld1N0YXRlKHQpLHI9dGhpcy5fZ2V0Vmlld1N0YXRlKGUpLGk9ci5sYXRpdHVkZSE9PW4ubGF0aXR1ZGV8fHIubG9uZ2l0dWRlIT09bi5sb25naXR1ZGV8fHIuem9vbSE9PW4uem9vbXx8ci5waXRjaCE9PW4ucGl0Y2h8fHIuYmVhcmluZyE9PW4uYmVhcmluZ3x8ci5hbHRpdHVkZSE9PW4uYWx0aXR1ZGU7cmV0dXJuIGkmJih0aGlzLl9tYXAuanVtcFRvKHRoaXMuX3ZpZXdTdGF0ZVRvTWFwYm94UHJvcHMocikpLHIuYWx0aXR1ZGUhPT1uLmFsdGl0dWRlJiYodGhpcy5fbWFwLnRyYW5zZm9ybS5hbHRpdHVkZT1yLmFsdGl0dWRlKSksaX19LHtrZXk6Il9nZXRWaWV3U3RhdGUiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXQudmlld1N0YXRlfHx0LG49ZS5sb25naXR1ZGUscj1lLmxhdGl0dWRlLGk9ZS56b29tLGE9ZS5waXRjaCxvPXZvaWQgMD09PWE/MDphLHM9ZS5iZWFyaW5nLHU9dm9pZCAwPT09cz8wOnMsYz1lLmFsdGl0dWRlO3JldHVybntsb25naXR1ZGU6bixsYXRpdHVkZTpyLHpvb206aSxwaXRjaDpvLGJlYXJpbmc6dSxhbHRpdHVkZTp2b2lkIDA9PT1jPzEuNTpjfX19LHtrZXk6Il9jaGVja1N0eWxlU2hlZXQiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOiIwLjQ3LjAiO2lmKHZvaWQgMCE9PXgpdHJ5e3ZhciBlPXguY3JlYXRlRWxlbWVudCgiZGl2Iik7ZS5jbGFzc05hbWU9Im1hcGJveGdsLW1hcCIsZS5zdHlsZS5kaXNwbGF5PSJub25lIix4LmJvZHkuYXBwZW5kKGUpO3ZhciBuPSJzdGF0aWMiIT09d2luZG93LmdldENvbXB1dGVkU3R5bGUoZSkucG9zaXRpb247aWYoIW4pe3ZhciByPXguY3JlYXRlRWxlbWVudCgibGluayIpO3Iuc2V0QXR0cmlidXRlKCJyZWwiLCJzdHlsZXNoZWV0Iiksci5zZXRBdHRyaWJ1dGUoInR5cGUiLCJ0ZXh0L2NzcyIpLHIuc2V0QXR0cmlidXRlKCJocmVmIiwiaHR0cHM6Ly9hcGkudGlsZXMubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvdiIuY29uY2F0KHQsIi9tYXBib3gtZ2wuY3NzIikpLHguaGVhZC5hcHBlbmQocil9fWNhdGNoKHQpe319fSx7a2V5OiJfdmlld1N0YXRlVG9NYXBib3hQcm9wcyIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJue2NlbnRlcjpbdC5sb25naXR1ZGUsdC5sYXRpdHVkZV0sem9vbTp0Lnpvb20sYmVhcmluZzp0LmJlYXJpbmcscGl0Y2g6dC5waXRjaH19fV0pLHR9KCk7T2JqZWN0KGIuYSkoUCwiaW5pdGlhbGl6ZWQiLCExKSxPYmplY3QoYi5hKShQLCJwcm9wVHlwZXMiLHcpLE9iamVjdChiLmEpKFAsImRlZmF1bHRQcm9wcyIsayksT2JqZWN0KGIuYSkoUCwic2F2ZWRNYXAiLG51bGwpO3ZhciBqPW4oMjEyKTtmdW5jdGlvbiBUKHQsZSl7dmFyIG49T2JqZWN0LmtleXModCk7aWYoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyl7dmFyIHI9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyh0KTtlJiYocj1yLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodCxlKS5lbnVtZXJhYmxlfSkpKSxuLnB1c2guYXBwbHkobixyKX1yZXR1cm4gbn1mdW5jdGlvbiBFKHQpe2Zvcih2YXIgZT0xO2U8YXJndW1lbnRzLmxlbmd0aDtlKyspe3ZhciBuPW51bGwhPWFyZ3VtZW50c1tlXT9hcmd1bWVudHNbZV06e307ZSUyP1QoT2JqZWN0KG4pLCEwKS5mb3JFYWNoKChmdW5jdGlvbihlKXtpKCkodCxlLG5bZV0pfSkpOk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzP09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHQsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMobikpOlQoT2JqZWN0KG4pKS5mb3JFYWNoKChmdW5jdGlvbihlKXtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxlLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IobixlKSl9KSl9cmV0dXJuIHR9bi5kKGUsImRlZmF1bHQiLChmdW5jdGlvbigpe3JldHVybiBDfSkpO3ZhciBBPXtwb3NpdGlvbjoiYWJzb2x1dGUiLGxlZnQ6MCx0b3A6MCx3aWR0aDoiMTAwJSIsaGVpZ2h0OiIxMDAlIn07ZnVuY3Rpb24gTSh0KXt2YXIgZT10LmNvbnRhaW5lcixuPXZvaWQgMD09PWU/ZG9jdW1lbnQuYm9keTplO2lmKCJzdHJpbmciPT10eXBlb2YgbiYmKG49ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQobikpLCFuKXRocm93IEVycm9yKCJEZWNrOiBjb250YWluZXIgbm90IGZvdW5kIik7InN0YXRpYyI9PT13aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShuKS5wb3NpdGlvbiYmKG4uc3R5bGUucG9zaXRpb249InJlbGF0aXZlIik7dmFyIHI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7bi5hcHBlbmRDaGlsZChyKSxPYmplY3QuYXNzaWduKHIuc3R5bGUsQSk7dmFyIGk9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiY2FudmFzIik7cmV0dXJuIG4uYXBwZW5kQ2hpbGQoaSksT2JqZWN0LmFzc2lnbihpLnN0eWxlLEEpLHtjb250YWluZXI6bixtYXBDYW52YXM6cixkZWNrQ2FudmFzOml9fXZhciBDPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgdCxuPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fTtpZihvKCkodGhpcyxlKSwidW5kZWZpbmVkIj09dHlwZW9mIGRvY3VtZW50KXRocm93IEVycm9yKCJEZWNrIGNhbiBvbmx5IGJlIHVzZWQgaW4gdGhlIGJyb3dzZXIiKTt2YXIgcj1NKG4pLGk9ci5tYXBDYW52YXMsYT1yLmRlY2tDYW52YXMscz1uLnZpZXdTdGF0ZXx8bi5pbml0aWFsVmlld1N0YXRlLHU9TnVtYmVyLmlzRmluaXRlKHMmJnMubGF0aXR1ZGUpLGM9bi5tYXAsaD12b2lkIDA9PT1jP3dpbmRvdy5tYXBib3hnbDpjO3JldHVybiB0PWwoKSh0aGlzLGYoKShlKS5jYWxsKHRoaXMsRSh7Y2FudmFzOmF9LG4pKSksaCYmaC5NYXA/dC5fbWFwPXUmJm5ldyBQKE9iamVjdC5hc3NpZ24oe30sbix7dmlld1N0YXRlOnMsY29udGFpbmVyOmksbWFwYm94Z2w6aH0pKTp0Ll9tYXA9aCx0Ll9vbkJlZm9yZVJlbmRlcj1mdW5jdGlvbihlKXtpZih0Lm9uQmVmb3JlUmVuZGVyKGUpLHQuX21hcCl7dmFyIG49dC5nZXRWaWV3cG9ydHMoKVswXTt0Ll9tYXAuc2V0UHJvcHMoe3dpZHRoOm4ud2lkdGgsaGVpZ2h0Om4uaGVpZ2h0LHZpZXdTdGF0ZTpufSl9fSx0fXJldHVybiBnKCkoZSx0KSx1KCkoZSxbe2tleToiZ2V0TWFwYm94TWFwIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9tYXAmJnRoaXMuX21hcC5nZXRNYXAoKX19LHtrZXk6ImZpbmFsaXplIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuX21hcCYmdGhpcy5fbWFwLmZpbmFsaXplKCksdigpKGYoKShlLnByb3RvdHlwZSksImZpbmFsaXplIix0aGlzKS5jYWxsKHRoaXMpfX0se2tleToic2V0UHJvcHMiLHZhbHVlOmZ1bmN0aW9uKHQpeyJvbkJlZm9yZVJlbmRlciJpbiB0JiZ0aGlzLl9vbkJlZm9yZVJlbmRlciYmdC5vbkJlZm9yZVJlbmRlciE9PXRoaXMuX29uQmVmb3JlUmVuZGVyJiYodGhpcy5vbkJlZm9yZVJlbmRlcj10Lm9uQmVmb3JlUmVuZGVyLHQub25CZWZvcmVSZW5kZXI9dGhpcy5fb25CZWZvcmVSZW5kZXIpLHYoKShmKCkoZS5wcm90b3R5cGUpLCJzZXRQcm9wcyIsdGhpcykuY2FsbCh0aGlzLHQpfX1dKSxlfShqLmEpfSxmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO24uZChlLCJhIiwoZnVuY3Rpb24oKXtyZXR1cm4gaX0pKTt2YXIgcj1uKDExKTtmdW5jdGlvbiBpKHQsZSxuLGkpe3ZhciBhPSJTZWUgbHVtYS5nbCAiLmNvbmNhdChuLCIgVXBncmFkZSBHdWlkZSBhdCBodHRwczovL2x1bWEuZ2wvZG9jcy91cGdyYWRlLWd1aWRlIiksbz1PYmplY3QuZ2V0UHJvdG90eXBlT2YodCk7aS5mb3JFYWNoKChmdW5jdGlvbih0KXtvLm1ldGhvZE5hbWV8fChvW3RdPWZ1bmN0aW9uKCl7dGhyb3cgci5oLnJlbW92ZWQoIkNhbGxpbmcgcmVtb3ZlZCBtZXRob2QgIi5jb25jYXQoZSwiLiIpLmNvbmNhdCh0LCI6ICIpLGEpKCksbmV3IEVycm9yKHQpfSl9KSl9fSxmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO24uZChlLCJiIiwoZnVuY3Rpb24oKXtyZXR1cm4gb30pKSxuLmQoZSwiYyIsKGZ1bmN0aW9uKCl7cmV0dXJuIHN9KSksbi5kKGUsImEiLChmdW5jdGlvbigpe3JldHVybiB1fSkpO3ZhciByPW4oMTg3KSxpPW4oMTEpLGE9bigyOCk7ZnVuY3Rpb24gbyh0LGUpe3JldHVybiBzKHQsZSl9ZnVuY3Rpb24gcyh0LGUpe3JldHVybihlPUFycmF5LmlzQXJyYXkoZSk/ZTpbZV0pLmV2ZXJ5KChmdW5jdGlvbihlKXtyZXR1cm4gYyh0LGUpfSkpfWZ1bmN0aW9uIHUodCl7Zm9yKHZhciBlIGluIHQubHVtYT10Lmx1bWF8fHt9LHQubHVtYS5jYXBzPXQubHVtYS5jYXBzfHx7fSxyLmIpdm9pZCAwPT09dC5sdW1hLmNhcHNbZV0mJih0Lmx1bWEuY2Fwc1tlXT1jKHQsZSkpO3JldHVybiB0Lmx1bWEuY2Fwc31mdW5jdGlvbiBjKHQsZSl7cmV0dXJuIHQubHVtYT10Lmx1bWF8fHt9LHQubHVtYS5jYXBzPXQubHVtYS5jYXBzfHx7fSx2b2lkIDA9PT10Lmx1bWEuY2Fwc1tlXSYmKHQubHVtYS5jYXBzW2VdPWZ1bmN0aW9uKHQsZSl7dmFyIG4sbz1yLmJbZV07T2JqZWN0KGEuYSkobyxlKTt2YXIgcz1PYmplY3QoaS5nKSh0KSYmb1sxXXx8b1swXTtpZigiZnVuY3Rpb24iPT10eXBlb2YgcyluPXModCk7ZWxzZSBpZihBcnJheS5pc0FycmF5KHMpKXtuPSEwO3ZhciB1PSEwLGM9ITEsbD12b2lkIDA7dHJ5e2Zvcih2YXIgaCxmPXNbU3ltYm9sLml0ZXJhdG9yXSgpOyEodT0oaD1mLm5leHQoKSkuZG9uZSk7dT0hMCl7dmFyIGQ9aC52YWx1ZTtuPW4mJkJvb2xlYW4odC5nZXRFeHRlbnNpb24oZCkpfX1jYXRjaCh0KXtjPSEwLGw9dH1maW5hbGx5e3RyeXt1fHxudWxsPT1mLnJldHVybnx8Zi5yZXR1cm4oKX1maW5hbGx5e2lmKGMpdGhyb3cgbH19fWVsc2Uic3RyaW5nIj09dHlwZW9mIHM/bj1Cb29sZWFuKHQuZ2V0RXh0ZW5zaW9uKHMpKToiYm9vbGVhbiI9PXR5cGVvZiBzP249czpPYmplY3QoYS5hKSghMSk7cmV0dXJuIG59KHQsZSkpLHQubHVtYS5jYXBzW2VdfHxpLmgubG9nKDIsIkZlYXR1cmU6ICIuY29uY2F0KGUsIiBub3Qgc3VwcG9ydGVkIikpKCksdC5sdW1hLmNhcHNbZV19fSxmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO24uZChlLCJhIiwoZnVuY3Rpb24oKXtyZXR1cm4gdX0pKTt2YXIgcj1uKDMxKSxpPW4oNiksYT1uKDcpLG89MSxzPTEsdT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXtPYmplY3QoaS5hKSh0aGlzLHQpLHRoaXMudGltZT0wLHRoaXMuY2hhbm5lbHM9bmV3IE1hcCx0aGlzLmFuaW1hdGlvbnM9bmV3IE1hcCx0aGlzLnBsYXlpbmc9ITEsdGhpcy5sYXN0RW5naW5lVGltZT0tMX1yZXR1cm4gT2JqZWN0KGEuYSkodCxbe2tleToiYWRkQ2hhbm5lbCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dC5kZWxheSxuPXZvaWQgMD09PWU/MDplLHI9dC5kdXJhdGlvbixpPXZvaWQgMD09PXI/TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZOnIsYT10LnJhdGUscz12b2lkIDA9PT1hPzE6YSx1PXQucmVwZWF0LGM9bysrLGw9e3RpbWU6MCxkZWxheTpuLGR1cmF0aW9uOmkscmF0ZTpzLHJlcGVhdDp2b2lkIDA9PT11PzE6dX07cmV0dXJuIHRoaXMuX3NldENoYW5uZWxUaW1lKGwsdGhpcy50aW1lKSx0aGlzLmNoYW5uZWxzLnNldChjLGwpLGN9fSx7a2V5OiJyZW1vdmVDaGFubmVsIix2YWx1ZTpmdW5jdGlvbih0KXt0aGlzLmNoYW5uZWxzLmRlbGV0ZSh0KTt2YXIgZT0hMCxuPSExLGk9dm9pZCAwO3RyeXtmb3IodmFyIGEsbz10aGlzLmFuaW1hdGlvbnNbU3ltYm9sLml0ZXJhdG9yXSgpOyEoZT0oYT1vLm5leHQoKSkuZG9uZSk7ZT0hMCl7dmFyIHM9T2JqZWN0KHIuYSkoYS52YWx1ZSwyKSx1PXNbMF07c1sxXS5jaGFubmVsPT09dCYmdGhpcy5kZXRhY2hBbmltYXRpb24odSl9fWNhdGNoKHQpe249ITAsaT10fWZpbmFsbHl7dHJ5e2V8fG51bGw9PW8ucmV0dXJufHxvLnJldHVybigpfWZpbmFsbHl7aWYobil0aHJvdyBpfX19fSx7a2V5OiJpc0ZpbmlzaGVkIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLmNoYW5uZWxzLmdldCh0KTtyZXR1cm4gdm9pZCAwIT09ZSYmdGhpcy50aW1lPj1lLmRlbGF5K2UuZHVyYXRpb24qZS5yZXBlYXR9fSx7a2V5OiJnZXRUaW1lIix2YWx1ZTpmdW5jdGlvbih0KXtpZih2b2lkIDA9PT10KXJldHVybiB0aGlzLnRpbWU7dmFyIGU9dGhpcy5jaGFubmVscy5nZXQodCk7cmV0dXJuIHZvaWQgMD09PWU/LTE6ZS50aW1lfX0se2tleToic2V0VGltZSIsdmFsdWU6ZnVuY3Rpb24odCl7dGhpcy50aW1lPU1hdGgubWF4KDAsdCk7dmFyIGU9dGhpcy5jaGFubmVscy52YWx1ZXMoKSxuPSEwLHI9ITEsaT12b2lkIDA7dHJ5e2Zvcih2YXIgYSxvPWVbU3ltYm9sLml0ZXJhdG9yXSgpOyEobj0oYT1vLm5leHQoKSkuZG9uZSk7bj0hMCl7dmFyIHM9YS52YWx1ZTt0aGlzLl9zZXRDaGFubmVsVGltZShzLHRoaXMudGltZSl9fWNhdGNoKHQpe3I9ITAsaT10fWZpbmFsbHl7dHJ5e258fG51bGw9PW8ucmV0dXJufHxvLnJldHVybigpfWZpbmFsbHl7aWYocil0aHJvdyBpfX12YXIgdT10aGlzLmFuaW1hdGlvbnMudmFsdWVzKCksYz0hMCxsPSExLGg9dm9pZCAwO3RyeXtmb3IodmFyIGYsZD11W1N5bWJvbC5pdGVyYXRvcl0oKTshKGM9KGY9ZC5uZXh0KCkpLmRvbmUpO2M9ITApe3ZhciB2PWYudmFsdWUscD12LmFuaW1hdGlvbixnPXYuY2hhbm5lbDtwLnNldFRpbWUodGhpcy5nZXRUaW1lKGcpKX19Y2F0Y2godCl7bD0hMCxoPXR9ZmluYWxseXt0cnl7Y3x8bnVsbD09ZC5yZXR1cm58fGQucmV0dXJuKCl9ZmluYWxseXtpZihsKXRocm93IGh9fX19LHtrZXk6InBsYXkiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5wbGF5aW5nPSEwfX0se2tleToicGF1c2UiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5wbGF5aW5nPSExLHRoaXMubGFzdEVuZ2luZVRpbWU9LTF9fSx7a2V5OiJyZXNldCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLnNldFRpbWUoMCl9fSx7a2V5OiJhdHRhY2hBbmltYXRpb24iLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dmFyIG49cysrO3JldHVybiB0aGlzLmFuaW1hdGlvbnMuc2V0KG4se2FuaW1hdGlvbjp0LGNoYW5uZWw6ZX0pLHQuc2V0VGltZSh0aGlzLmdldFRpbWUoZSkpLG59fSx7a2V5OiJkZXRhY2hBbmltYXRpb24iLHZhbHVlOmZ1bmN0aW9uKHQpe3RoaXMuYW5pbWF0aW9ucy5kZWxldGUodCl9fSx7a2V5OiJ1cGRhdGUiLHZhbHVlOmZ1bmN0aW9uKHQpe3RoaXMucGxheWluZyYmKC0xPT09dGhpcy5sYXN0RW5naW5lVGltZSYmKHRoaXMubGFzdEVuZ2luZVRpbWU9dCksdGhpcy5zZXRUaW1lKHRoaXMudGltZSsodC10aGlzLmxhc3RFbmdpbmVUaW1lKSksdGhpcy5sYXN0RW5naW5lVGltZT10KX19LHtrZXk6Il9zZXRDaGFubmVsVGltZSIsdmFsdWU6ZnVuY3Rpb24odCxlKXt2YXIgbj1lLXQuZGVsYXk7bj49dC5kdXJhdGlvbip0LnJlcGVhdD90LnRpbWU9dC5kdXJhdGlvbip0LnJhdGU6KHQudGltZT1NYXRoLm1heCgwLG4pJXQuZHVyYXRpb24sdC50aW1lKj10LnJhdGUpfX1dKSx0fSgpfSxmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO24uZChlLCJhIiwoZnVuY3Rpb24oKXtyZXR1cm4gcH0pKTt2YXIgcj1uKDQ0KSxpPW4oNiksYT1uKDE3KSxvPW4oMTUpLHM9bigxOCksdT1uKDcxKSxjPW4oMTE1KSxsPW5ldyBVaW50MTZBcnJheShbMCwxLDIsMCwyLDMsNCw1LDYsNCw2LDcsOCw5LDEwLDgsMTAsMTEsMTIsMTMsMTQsMTIsMTQsMTUsMTYsMTcsMTgsMTYsMTgsMTksMjAsMjEsMjIsMjAsMjIsMjNdKSxoPW5ldyBGbG9hdDMyQXJyYXkoWy0xLC0xLDEsMSwtMSwxLDEsMSwxLC0xLDEsMSwtMSwtMSwtMSwtMSwxLC0xLDEsMSwtMSwxLC0xLC0xLC0xLDEsLTEsLTEsMSwxLDEsMSwxLDEsMSwtMSwtMSwtMSwtMSwxLC0xLC0xLDEsLTEsMSwtMSwtMSwxLDEsLTEsLTEsMSwxLC0xLDEsMSwxLDEsLTEsMSwtMSwtMSwtMSwtMSwtMSwxLC0xLDEsMSwtMSwxLC0xXSksZj1uZXcgRmxvYXQzMkFycmF5KFswLDAsMSwwLDAsMSwwLDAsMSwwLDAsMSwwLDAsLTEsMCwwLC0xLDAsMCwtMSwwLDAsLTEsMCwxLDAsMCwxLDAsMCwxLDAsMCwxLDAsMCwtMSwwLDAsLTEsMCwwLC0xLDAsMCwtMSwwLDEsMCwwLDEsMCwwLDEsMCwwLDEsMCwwLC0xLDAsMCwtMSwwLDAsLTEsMCwwLC0xLDAsMF0pLGQ9bmV3IEZsb2F0MzJBcnJheShbMCwwLDEsMCwxLDEsMCwxLDEsMCwxLDEsMCwxLDAsMCwwLDEsMCwwLDEsMCwxLDEsMSwxLDAsMSwwLDAsMSwwLDEsMCwxLDEsMCwxLDAsMCwwLDAsMSwwLDEsMSwwLDFdKSx2PXtQT1NJVElPTjp7c2l6ZTozLHZhbHVlOm5ldyBGbG9hdDMyQXJyYXkoaCl9LE5PUk1BTDp7c2l6ZTozLHZhbHVlOm5ldyBGbG9hdDMyQXJyYXkoZil9LFRFWENPT1JEXzA6e3NpemU6Mix2YWx1ZTpuZXcgRmxvYXQzMkFycmF5KGQpfX0scD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9O09iamVjdChpLmEpKHRoaXMsZSk7dmFyIG49dC5pZCxzPXZvaWQgMD09PW4/T2JqZWN0KGMuYykoImN1YmUtZ2VvbWV0cnkiKTpuO3JldHVybiBPYmplY3QoYS5hKSh0aGlzLE9iamVjdChvLmEpKGUpLmNhbGwodGhpcyxPYmplY3Qoci5hKSh7fSx0LHtpZDpzLGluZGljZXM6e3NpemU6MSx2YWx1ZTpuZXcgVWludDE2QXJyYXkobCl9LGF0dHJpYnV0ZXM6T2JqZWN0KHIuYSkoe30sdix0LmF0dHJpYnV0ZXMpfSkpKX1yZXR1cm4gT2JqZWN0KHMuYSkoZSx0KSxlfSh1LmEpfSxmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oMjUpLGk9bigyNiksYT1uKDApLG89big2KSxzPW4oNyksdT1uKDE2NSksYz1PYmplY3QodS5hKSgpO2Z1bmN0aW9uIGwodCl7dHJ5e3ZhciBlPXdpbmRvd1t0XSxuPSJfX3N0b3JhZ2VfdGVzdF9fIjtyZXR1cm4gZS5zZXRJdGVtKG4sbiksZS5yZW1vdmVJdGVtKG4pLGV9Y2F0Y2godCl7cmV0dXJuIG51bGx9fXZhciBoPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlLG4pe3ZhciByPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXToic2Vzc2lvblN0b3JhZ2UiO09iamVjdChvLmEpKHRoaXMsdCksdGhpcy5zdG9yYWdlPWwociksdGhpcy5pZD1lLHRoaXMuY29uZmlnPXt9LE9iamVjdC5hc3NpZ24odGhpcy5jb25maWcsbiksdGhpcy5fbG9hZENvbmZpZ3VyYXRpb24oKX1yZXR1cm4gT2JqZWN0KHMuYSkodCxbe2tleToiZ2V0Q29uZmlndXJhdGlvbiIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb25maWd9fSx7a2V5OiJzZXRDb25maWd1cmF0aW9uIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5jb25maWc9e30sdGhpcy51cGRhdGVDb25maWd1cmF0aW9uKHQpfX0se2tleToidXBkYXRlQ29uZmlndXJhdGlvbiIsdmFsdWU6ZnVuY3Rpb24odCl7aWYoT2JqZWN0LmFzc2lnbih0aGlzLmNvbmZpZyx0KSx0aGlzLnN0b3JhZ2Upe3ZhciBlPUpTT04uc3RyaW5naWZ5KHRoaXMuY29uZmlnKTt0aGlzLnN0b3JhZ2Uuc2V0SXRlbSh0aGlzLmlkLGUpfXJldHVybiB0aGlzfX0se2tleToiX2xvYWRDb25maWd1cmF0aW9uIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXt9O2lmKHRoaXMuc3RvcmFnZSl7dmFyIGU9dGhpcy5zdG9yYWdlLmdldEl0ZW0odGhpcy5pZCk7dD1lP0pTT04ucGFyc2UoZSk6e319cmV0dXJuIE9iamVjdC5hc3NpZ24odGhpcy5jb25maWcsdCksdGhpc319XSksdH0oKTtmdW5jdGlvbiBmKHQsZSxuKXt2YXIgcj1hcmd1bWVudHMubGVuZ3RoPjMmJnZvaWQgMCE9PWFyZ3VtZW50c1szXT9hcmd1bWVudHNbM106NjAwLGk9dC5zcmMucmVwbGFjZSgvXCgvZywiJTI4IikucmVwbGFjZSgvXCkvZywiJTI5Iik7dC53aWR0aD5yJiYobj1NYXRoLm1pbihuLHIvdC53aWR0aCkpO3ZhciBhPXQud2lkdGgqbixvPXQuaGVpZ2h0Km4scz1bImZvbnQtc2l6ZToxcHg7IiwicGFkZGluZzoiLmNvbmNhdChNYXRoLmZsb29yKG8vMiksInB4ICIpLmNvbmNhdChNYXRoLmZsb29yKGEvMiksInB4OyIpLCJsaW5lLWhlaWdodDoiLmNvbmNhdChvLCJweDsiKSwiYmFja2dyb3VuZDp1cmwoIi5jb25jYXQoaSwiKTsiKSwiYmFja2dyb3VuZC1zaXplOiIuY29uY2F0KGEsInB4ICIpLmNvbmNhdChvLCJweDsiKSwiY29sb3I6dHJhbnNwYXJlbnQ7Il0uam9pbigiIik7cmV0dXJuWyIiLmNvbmNhdChlLCIgJWMrIiksc119dmFyIGQ9e0JMQUNLOjMwLFJFRDozMSxHUkVFTjozMixZRUxMT1c6MzMsQkxVRTozNCxNQUdFTlRBOjM1LENZQU46MzYsV0hJVEU6MzcsQlJJR0hUX0JMQUNLOjkwLEJSSUdIVF9SRUQ6OTEsQlJJR0hUX0dSRUVOOjkyLEJSSUdIVF9ZRUxMT1c6OTMsQlJJR0hUX0JMVUU6OTQsQlJJR0hUX01BR0VOVEE6OTUsQlJJR0hUX0NZQU46OTYsQlJJR0hUX1dISVRFOjk3fTtmdW5jdGlvbiB2KHQpe3JldHVybiJzdHJpbmciPT10eXBlb2YgdD9kW3QudG9VcHBlckNhc2UoKV18fGQuV0hJVEU6dH1mdW5jdGlvbiBwKHQpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTpbImNvbnN0cnVjdG9yIl0sbj1PYmplY3QuZ2V0UHJvdG90eXBlT2YodCkscj1PYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhuKSxpPSEwLGE9ITEsbz12b2lkIDA7dHJ5e2Zvcih2YXIgcyx1PWZ1bmN0aW9uKCl7dmFyIG49cy52YWx1ZTsiZnVuY3Rpb24iPT10eXBlb2YgdFtuXSYmKGUuZmluZCgoZnVuY3Rpb24odCl7cmV0dXJuIG49PT10fSkpfHwodFtuXT10W25dLmJpbmQodCkpKX0sYz1yW1N5bWJvbC5pdGVyYXRvcl0oKTshKGk9KHM9Yy5uZXh0KCkpLmRvbmUpO2k9ITApdSgpfWNhdGNoKHQpe2E9ITAsbz10fWZpbmFsbHl7dHJ5e2l8fG51bGw9PWMucmV0dXJufHxjLnJldHVybigpfWZpbmFsbHl7aWYoYSl0aHJvdyBvfX19ZnVuY3Rpb24gZyh0LGUpe2lmKCF0KXRocm93IG5ldyBFcnJvcihlfHwiQXNzZXJ0aW9uIGZhaWxlZCIpfXZhciB5PW4oNzApO2Z1bmN0aW9uIG0oKXt2YXIgdDtpZihjJiZ5LmIucGVyZm9ybWFuY2UpdD15LmIucGVyZm9ybWFuY2Uubm93KCk7ZWxzZSBpZih5LmEuaHJ0aW1lKXt2YXIgZT15LmEuaHJ0aW1lKCk7dD0xZTMqZVswXStlWzFdLzFlNn1lbHNlIHQ9RGF0ZS5ub3coKTtyZXR1cm4gdH1uLmQoZSwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIFN9KSk7dmFyIGI9e2RlYnVnOmMmJmNvbnNvbGUuZGVidWd8fGNvbnNvbGUubG9nLGxvZzpjb25zb2xlLmxvZyxpbmZvOmNvbnNvbGUuaW5mbyx3YXJuOmNvbnNvbGUud2FybixlcnJvcjpjb25zb2xlLmVycm9yfSxfPXtlbmFibGVkOiEwLGxldmVsOjB9O2Z1bmN0aW9uIE8oKXt9dmFyIHg9e30sdz17b25jZTohMH07ZnVuY3Rpb24gayh0KXtmb3IodmFyIGUgaW4gdClmb3IodmFyIG4gaW4gdFtlXSlyZXR1cm4gbnx8InVudGl0bGVkIjtyZXR1cm4iZW1wdHkifXZhciBTPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fSxuPWUuaWQ7T2JqZWN0KG8uYSkodGhpcyx0KSx0aGlzLmlkPW4sdGhpcy5WRVJTSU9OPSI4LjEuNiIsdGhpcy5fc3RhcnRUcz1tKCksdGhpcy5fZGVsdGFUcz1tKCksdGhpcy5MT0dfVEhST1RUTEVfVElNRU9VVD0wLHRoaXMuX3N0b3JhZ2U9bmV3IGgoIl9fcHJvYmUtIi5jb25jYXQodGhpcy5pZCwiX18iKSxfKSx0aGlzLnVzZXJEYXRhPXt9LHRoaXMudGltZVN0YW1wKCIiLmNvbmNhdCh0aGlzLmlkLCIgc3RhcnRlZCIpKSxwKHRoaXMpLE9iamVjdC5zZWFsKHRoaXMpfXJldHVybiBPYmplY3Qocy5hKSh0LFt7a2V5OiJpc0VuYWJsZWQiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N0b3JhZ2UuY29uZmlnLmVuYWJsZWR9fSx7a2V5OiJnZXRMZXZlbCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3RvcmFnZS5jb25maWcubGV2ZWx9fSx7a2V5OiJnZXRUb3RhbCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gTnVtYmVyKChtKCktdGhpcy5fc3RhcnRUcykudG9QcmVjaXNpb24oMTApKX19LHtrZXk6ImdldERlbHRhIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiBOdW1iZXIoKG0oKS10aGlzLl9kZWx0YVRzKS50b1ByZWNpc2lvbigxMCkpfX0se2tleToiZ2V0UHJpb3JpdHkiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubGV2ZWx9fSx7a2V5OiJlbmFibGUiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9IShhcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXSl8fGFyZ3VtZW50c1swXTtyZXR1cm4gdGhpcy5fc3RvcmFnZS51cGRhdGVDb25maWd1cmF0aW9uKHtlbmFibGVkOnR9KSx0aGlzfX0se2tleToic2V0TGV2ZWwiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9zdG9yYWdlLnVwZGF0ZUNvbmZpZ3VyYXRpb24oe2xldmVsOnR9KSx0aGlzfX0se2tleToiYXNzZXJ0Iix2YWx1ZTpmdW5jdGlvbih0LGUpe2codCxlKX19LHtrZXk6Indhcm4iLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9nZXRMb2dGdW5jdGlvbigwLHQsYi53YXJuLGFyZ3VtZW50cyx3KX19LHtrZXk6ImVycm9yIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fZ2V0TG9nRnVuY3Rpb24oMCx0LGIuZXJyb3IsYXJndW1lbnRzKX19LHtrZXk6ImRlcHJlY2F0ZWQiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMud2FybigiYCIuY29uY2F0KHQsImAgaXMgZGVwcmVjYXRlZCBhbmQgd2lsbCBiZSByZW1vdmVkIGluIGEgbGF0ZXIgdmVyc2lvbi4gVXNlIGAiKS5jb25jYXQoZSwiYCBpbnN0ZWFkIikpfX0se2tleToicmVtb3ZlZCIsdmFsdWU6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5lcnJvcigiYCIuY29uY2F0KHQsImAgaGFzIGJlZW4gcmVtb3ZlZC4gVXNlIGAiKS5jb25jYXQoZSwiYCBpbnN0ZWFkIikpfX0se2tleToicHJvYmUiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuX2dldExvZ0Z1bmN0aW9uKHQsZSxiLmxvZyxhcmd1bWVudHMse3RpbWU6ITAsb25jZTohMH0pfX0se2tleToibG9nIix2YWx1ZTpmdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLl9nZXRMb2dGdW5jdGlvbih0LGUsYi5kZWJ1Zyxhcmd1bWVudHMpfX0se2tleToiaW5mbyIsdmFsdWU6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5fZ2V0TG9nRnVuY3Rpb24odCxlLGNvbnNvbGUuaW5mbyxhcmd1bWVudHMpfX0se2tleToib25jZSIsdmFsdWU6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5fZ2V0TG9nRnVuY3Rpb24odCxlLGIuZGVidWd8fGIuaW5mbyxhcmd1bWVudHMsdyl9fSx7a2V5OiJ0YWJsZSIsdmFsdWU6ZnVuY3Rpb24odCxlLG4pe3JldHVybiBlP3RoaXMuX2dldExvZ0Z1bmN0aW9uKHQsZSxjb25zb2xlLnRhYmxlfHxPLG4mJltuXSx7dGFnOmsoZSl9KTpPfX0se2tleToiaW1hZ2UiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXQubG9nTGV2ZWwscj10LnByaW9yaXR5LGE9dC5pbWFnZSxvPXQubWVzc2FnZSxzPXZvaWQgMD09PW8/IiI6byx1PXQuc2NhbGUsbD12b2lkIDA9PT11PzE6dTtyZXR1cm4gdGhpcy5fc2hvdWxkTG9nKGV8fHIpP2M/ZnVuY3Rpb24odCl7dmFyIGU9dC5pbWFnZSxuPXQubWVzc2FnZSxyPXZvaWQgMD09PW4/IiI6bixhPXQuc2NhbGUsbz12b2lkIDA9PT1hPzE6YTtpZigic3RyaW5nIj09dHlwZW9mIGUpe3ZhciBzPW5ldyBJbWFnZTtyZXR1cm4gcy5vbmxvYWQ9ZnVuY3Rpb24oKXt2YXIgdCxlPWYocyxyLG8pOyh0PWNvbnNvbGUpLmxvZy5hcHBseSh0LE9iamVjdChpLmEpKGUpKX0scy5zcmM9ZSxPfXZhciB1PWUubm9kZU5hbWV8fCIiO2lmKCJpbWciPT09dS50b0xvd2VyQ2FzZSgpKXt2YXIgYztyZXR1cm4oYz1jb25zb2xlKS5sb2cuYXBwbHkoYyxPYmplY3QoaS5hKShmKGUscixvKSkpLE99aWYoImNhbnZhcyI9PT11LnRvTG93ZXJDYXNlKCkpe3ZhciBsPW5ldyBJbWFnZTtyZXR1cm4gbC5vbmxvYWQ9ZnVuY3Rpb24oKXt2YXIgdDtyZXR1cm4odD1jb25zb2xlKS5sb2cuYXBwbHkodCxPYmplY3QoaS5hKShmKGwscixvKSkpfSxsLnNyYz1lLnRvRGF0YVVSTCgpLE99cmV0dXJuIE99KHtpbWFnZTphLG1lc3NhZ2U6cyxzY2FsZTpsfSk6ZnVuY3Rpb24odCl7dmFyIGU9dC5pbWFnZSxyPSh0Lm1lc3NhZ2UsdC5zY2FsZSksaT12b2lkIDA9PT1yPzE6cixhPW51bGw7dHJ5e2E9bigyNTEpfWNhdGNoKHQpe31pZihhKXJldHVybiBmdW5jdGlvbigpe3JldHVybiBhKGUse2ZpdDoiYm94Iix3aWR0aDoiIi5jb25jYXQoTWF0aC5yb3VuZCg4MCppKSwiJSIpfSkudGhlbigoZnVuY3Rpb24odCl7cmV0dXJuIGNvbnNvbGUubG9nKHQpfSkpfTtyZXR1cm4gT30oe2ltYWdlOmEsbWVzc2FnZTpzLHNjYWxlOmx9KTpPfX0se2tleToic2V0dGluZ3MiLHZhbHVlOmZ1bmN0aW9uKCl7Y29uc29sZS50YWJsZT9jb25zb2xlLnRhYmxlKHRoaXMuX3N0b3JhZ2UuY29uZmlnKTpjb25zb2xlLmxvZyh0aGlzLl9zdG9yYWdlLmNvbmZpZyl9fSx7a2V5OiJnZXQiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9zdG9yYWdlLmNvbmZpZ1t0XX19LHtrZXk6InNldCIsdmFsdWU6ZnVuY3Rpb24odCxlKXt0aGlzLl9zdG9yYWdlLnVwZGF0ZUNvbmZpZ3VyYXRpb24oT2JqZWN0KGEuYSkoe30sdCxlKSl9fSx7a2V5OiJ0aW1lIix2YWx1ZTpmdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLl9nZXRMb2dGdW5jdGlvbih0LGUsY29uc29sZS50aW1lP2NvbnNvbGUudGltZTpjb25zb2xlLmluZm8pfX0se2tleToidGltZUVuZCIsdmFsdWU6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5fZ2V0TG9nRnVuY3Rpb24odCxlLGNvbnNvbGUudGltZUVuZD9jb25zb2xlLnRpbWVFbmQ6Y29uc29sZS5pbmZvKX19LHtrZXk6InRpbWVTdGFtcCIsdmFsdWU6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5fZ2V0TG9nRnVuY3Rpb24odCxlLGNvbnNvbGUudGltZVN0YW1wfHxPKX19LHtrZXk6Imdyb3VwIix2YWx1ZTpmdW5jdGlvbih0LGUpe3ZhciBuPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTp7Y29sbGFwc2VkOiExfSxyPW49aih7bG9nTGV2ZWw6dCxtZXNzYWdlOmUsb3B0czpufSksaT1yLmNvbGxhcHNlZDtyZXR1cm4gbi5tZXRob2Q9KGk/Y29uc29sZS5ncm91cENvbGxhcHNlZDpjb25zb2xlLmdyb3VwKXx8Y29uc29sZS5pbmZvLHRoaXMuX2dldExvZ0Z1bmN0aW9uKG4pfX0se2tleToiZ3JvdXBDb2xsYXBzZWQiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dmFyIG49YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOnt9O3JldHVybiB0aGlzLmdyb3VwKHQsZSxPYmplY3QuYXNzaWduKHt9LG4se2NvbGxhcHNlZDohMH0pKX19LHtrZXk6Imdyb3VwRW5kIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fZ2V0TG9nRnVuY3Rpb24odCwiIixjb25zb2xlLmdyb3VwRW5kfHxPKX19LHtrZXk6IndpdGhHcm91cCIsdmFsdWU6ZnVuY3Rpb24odCxlLG4pe3RoaXMuZ3JvdXAodCxlKSgpO3RyeXtuKCl9ZmluYWxseXt0aGlzLmdyb3VwRW5kKHQpKCl9fX0se2tleToidHJhY2UiLHZhbHVlOmZ1bmN0aW9uKCl7Y29uc29sZS50cmFjZSYmY29uc29sZS50cmFjZSgpfX0se2tleToiX3Nob3VsZExvZyIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuaXNFbmFibGVkKCkmJnRoaXMuZ2V0TGV2ZWwoKT49UCh0KX19LHtrZXk6Il9nZXRMb2dGdW5jdGlvbiIsdmFsdWU6ZnVuY3Rpb24odCxlLG4pe3ZhciByPWFyZ3VtZW50cy5sZW5ndGg+MyYmdm9pZCAwIT09YXJndW1lbnRzWzNdP2FyZ3VtZW50c1szXTpbXSxhPWFyZ3VtZW50cy5sZW5ndGg+ND9hcmd1bWVudHNbNF06dm9pZCAwO2lmKHRoaXMuX3Nob3VsZExvZyh0KSl7dmFyIG87YT1qKHtsb2dMZXZlbDp0LG1lc3NhZ2U6ZSxhcmdzOnIsb3B0czphfSksZyhuPW58fGEubWV0aG9kKSxhLnRvdGFsPXRoaXMuZ2V0VG90YWwoKSxhLmRlbHRhPXRoaXMuZ2V0RGVsdGEoKSx0aGlzLl9kZWx0YVRzPW0oKTt2YXIgcz1hLnRhZ3x8YS5tZXNzYWdlO2lmKGEub25jZSl7aWYoeFtzXSlyZXR1cm4gTzt4W3NdPW0oKX1yZXR1cm4gZT1UKHRoaXMuaWQsYS5tZXNzYWdlLGEpLChvPW4pLmJpbmQuYXBwbHkobyxbY29uc29sZSxlXS5jb25jYXQoT2JqZWN0KGkuYSkoYS5hcmdzKSkpfXJldHVybiBPfX0se2tleToibGV2ZWwiLHNldDpmdW5jdGlvbih0KXt0aGlzLnNldExldmVsKHQpfSxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRMZXZlbCgpfX0se2tleToicHJpb3JpdHkiLHNldDpmdW5jdGlvbih0KXt0aGlzLmxldmVsPXR9LGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmxldmVsfX1dKSx0fSgpO2Z1bmN0aW9uIFAodCl7aWYoIXQpcmV0dXJuIDA7dmFyIGU7c3dpdGNoKE9iamVjdChyLmEpKHQpKXtjYXNlIm51bWJlciI6ZT10O2JyZWFrO2Nhc2Uib2JqZWN0IjplPXQubG9nTGV2ZWx8fHQucHJpb3JpdHl8fDA7YnJlYWs7ZGVmYXVsdDpyZXR1cm4gMH1yZXR1cm4gZyhOdW1iZXIuaXNGaW5pdGUoZSkmJmU+PTApLGV9ZnVuY3Rpb24gaih0KXt2YXIgZT10LmxvZ0xldmVsLG49dC5tZXNzYWdlO3QubG9nTGV2ZWw9UChlKTtmb3IodmFyIGk9dC5hcmdzP0FycmF5LmZyb20odC5hcmdzKTpbXTtpLmxlbmd0aCYmaS5zaGlmdCgpIT09bjspO3N3aXRjaCh0LmFyZ3M9aSxPYmplY3Qoci5hKShlKSl7Y2FzZSJzdHJpbmciOmNhc2UiZnVuY3Rpb24iOnZvaWQgMCE9PW4mJmkudW5zaGlmdChuKSx0Lm1lc3NhZ2U9ZTticmVhaztjYXNlIm9iamVjdCI6T2JqZWN0LmFzc2lnbih0LGUpfSJmdW5jdGlvbiI9PXR5cGVvZiB0Lm1lc3NhZ2UmJih0Lm1lc3NhZ2U9dC5tZXNzYWdlKCkpO3ZhciBhPU9iamVjdChyLmEpKHQubWVzc2FnZSk7cmV0dXJuIGcoInN0cmluZyI9PT1hfHwib2JqZWN0Ij09PWEpLE9iamVjdC5hc3NpZ24odCx0Lm9wdHMpfWZ1bmN0aW9uIFQodCxlLG4pe2lmKCJzdHJpbmciPT10eXBlb2YgZSl7dmFyIHI9bi50aW1lP2Z1bmN0aW9uKHQpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTo4LG49TWF0aC5tYXgoZS10Lmxlbmd0aCwwKTtyZXR1cm4iIi5jb25jYXQoIiAiLnJlcGVhdChuKSkuY29uY2F0KHQpfSgocz1uLnRvdGFsKTwxMD8iIi5jb25jYXQocy50b0ZpeGVkKDIpLCJtcyIpOnM8MTAwPyIiLmNvbmNhdChzLnRvRml4ZWQoMSksIm1zIik6czwxZTM/IiIuY29uY2F0KHMudG9GaXhlZCgwKSwibXMiKToiIi5jb25jYXQoKHMvMWUzKS50b0ZpeGVkKDIpLCJzIikpOiIiO2U9bi50aW1lPyIiLmNvbmNhdCh0LCI6ICIpLmNvbmNhdChyLCIgICIpLmNvbmNhdChlKToiIi5jb25jYXQodCwiOiAiKS5jb25jYXQoZSksaT1lLGE9bi5jb2xvcixvPW4uYmFja2dyb3VuZCxjfHwic3RyaW5nIiE9dHlwZW9mIGl8fChhJiYoYT12KGEpLGk9IhtbIi5jb25jYXQoYSwibSIpLmNvbmNhdChpLCIbWzM5bSIpKSxvJiYoYT12KG8pLGk9IhtbIi5jb25jYXQobysxMCwibSIpLmNvbmNhdChpLCIbWzQ5bSIpKSksZT1pfXZhciBpLGEsbyxzO3JldHVybiBlfVMuVkVSU0lPTj0iOC4xLjYifSwsLCwsLCwsLCxmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO24uZChlLCJhIiwoZnVuY3Rpb24oKXtyZXR1cm4gdn0pKTt2YXIgcj1uKDYpLGk9bigxNyksYT1uKDE1KSxvPW4oNDcpLHM9big3KSx1PW4oMTgpLGM9bigxMSksbD1uKDUyKSxoPW4oNDgpLGY9big3NiksZD1uKDExNSksdj1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKHQpe3ZhciBuLHM9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOnt9O3JldHVybiBPYmplY3Qoci5hKSh0aGlzLGUpLE9iamVjdChmLmEpKHQpLChuPU9iamVjdChpLmEpKHRoaXMsT2JqZWN0KGEuYSkoZSkuY2FsbCh0aGlzLHQscykpKS5pbml0aWFsaXplKHMpLG4uc3R1YlJlbW92ZWRNZXRob2RzKCJUcmFuc2Zvcm1GZWVkYmFjayIsInY2LjAiLFsicGF1c2UiLCJyZXN1bWUiXSksT2JqZWN0LnNlYWwoT2JqZWN0KG8uYSkobikpLG59cmV0dXJuIE9iamVjdCh1LmEpKGUsdCksT2JqZWN0KHMuYSkoZSxudWxsLFt7a2V5OiJpc1N1cHBvcnRlZCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdChjLmcpKHQpfX1dKSxPYmplY3Qocy5hKShlLFt7a2V5OiJpbml0aWFsaXplIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMsZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e307cmV0dXJuIHRoaXMuYnVmZmVycz17fSx0aGlzLnVudXNlZD17fSx0aGlzLmNvbmZpZ3VyYXRpb249bnVsbCx0aGlzLmJpbmRPblVzZT0hMCxPYmplY3QoZC5hKSh0aGlzLmJ1ZmZlcnMpfHx0aGlzLmJpbmQoKGZ1bmN0aW9uKCl7cmV0dXJuIHQuX3VuYmluZEJ1ZmZlcnMoKX0pKSx0aGlzLnNldFByb3BzKGUpLHRoaXN9fSx7a2V5OiJzZXRQcm9wcyIsdmFsdWU6ZnVuY3Rpb24odCl7InByb2dyYW0iaW4gdCYmKHRoaXMuY29uZmlndXJhdGlvbj10LnByb2dyYW0mJnQucHJvZ3JhbS5jb25maWd1cmF0aW9uKSwiY29uZmlndXJhdGlvbiJpbiB0JiYodGhpcy5jb25maWd1cmF0aW9uPXQuY29uZmlndXJhdGlvbiksImJpbmRPblVzZSJpbiB0JiYodD10LmJpbmRPblVzZSksImJ1ZmZlcnMiaW4gdCYmdGhpcy5zZXRCdWZmZXJzKHQuYnVmZmVycyl9fSx7a2V5OiJzZXRCdWZmZXJzIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMsZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e307cmV0dXJuIHRoaXMuYmluZCgoZnVuY3Rpb24oKXtmb3IodmFyIG4gaW4gZSl0LnNldEJ1ZmZlcihuLGVbbl0pfSkpLHRoaXN9fSx7a2V5OiJzZXRCdWZmZXIiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcyxyPXRoaXMuX2dldFZhcnlpbmdJbmRleCh0KSxpPXRoaXMuX2dldEJ1ZmZlclBhcmFtcyhlKSxhPWkuYnVmZmVyLG89aS5ieXRlU2l6ZSxzPWkuYnl0ZU9mZnNldDtyZXR1cm4gcjwwPyh0aGlzLnVudXNlZFt0XT1hLGMuaC53YXJuKChmdW5jdGlvbigpe3JldHVybiIiLmNvbmNhdChuLmlkLCIgdW51c2VkIHZhcnlpbmcgYnVmZmVyICIpLmNvbmNhdCh0KX0pKSgpLHRoaXMpOih0aGlzLmJ1ZmZlcnNbcl09ZSx0aGlzLmJpbmRPblVzZXx8dGhpcy5fYmluZEJ1ZmZlcihyLGEscyxvKSx0aGlzKX19LHtrZXk6ImJlZ2luIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTowO3JldHVybiB0aGlzLmdsLmJpbmRUcmFuc2Zvcm1GZWVkYmFjaygzNjM4Nix0aGlzLmhhbmRsZSksdGhpcy5fYmluZEJ1ZmZlcnMoKSx0aGlzLmdsLmJlZ2luVHJhbnNmb3JtRmVlZGJhY2sodCksdGhpc319LHtrZXk6ImVuZCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nbC5lbmRUcmFuc2Zvcm1GZWVkYmFjaygpLHRoaXMuX3VuYmluZEJ1ZmZlcnMoKSx0aGlzLmdsLmJpbmRUcmFuc2Zvcm1GZWVkYmFjaygzNjM4NixudWxsKSx0aGlzfX0se2tleToiX2dldEJ1ZmZlclBhcmFtcyIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGUsbixyO3JldHVybiB0IGluc3RhbmNlb2YgaC5hPT0hMT8ocj10LmJ1ZmZlcixuPXQuYnl0ZVNpemUsZT10LmJ5dGVPZmZzZXQpOnI9dCx2b2lkIDA9PT1lJiZ2b2lkIDA9PT1ufHwoZT1lfHwwLG49bnx8ci5ieXRlTGVuZ3RoLWUpLHtidWZmZXI6cixieXRlT2Zmc2V0OmUsYnl0ZVNpemU6bn19fSx7a2V5OiJfZ2V0VmFyeWluZ0luZm8iLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmNvbmZpZ3VyYXRpb24mJnRoaXMuY29uZmlndXJhdGlvbi5nZXRWYXJ5aW5nSW5mbyh0KX19LHtrZXk6Il9nZXRWYXJ5aW5nSW5kZXgiLHZhbHVlOmZ1bmN0aW9uKHQpe2lmKHRoaXMuY29uZmlndXJhdGlvbilyZXR1cm4gdGhpcy5jb25maWd1cmF0aW9uLmdldFZhcnlpbmdJbmZvKHQpLmxvY2F0aW9uO3ZhciBlPU51bWJlcih0KTtyZXR1cm4gTnVtYmVyLmlzRmluaXRlKGUpP2U6LTF9fSx7a2V5OiJfYmluZEJ1ZmZlcnMiLHZhbHVlOmZ1bmN0aW9uKCl7aWYodGhpcy5iaW5kT25Vc2UpZm9yKHZhciB0IGluIHRoaXMuYnVmZmVycyl7dmFyIGU9dGhpcy5fZ2V0QnVmZmVyUGFyYW1zKHRoaXMuYnVmZmVyc1t0XSksbj1lLmJ1ZmZlcixyPWUuYnl0ZVNpemUsaT1lLmJ5dGVPZmZzZXQ7dGhpcy5fYmluZEJ1ZmZlcih0LG4saSxyKX19fSx7a2V5OiJfdW5iaW5kQnVmZmVycyIsdmFsdWU6ZnVuY3Rpb24oKXtpZih0aGlzLmJpbmRPblVzZSlmb3IodmFyIHQgaW4gdGhpcy5idWZmZXJzKXRoaXMuX2JpbmRCdWZmZXIodCxudWxsKX19LHtrZXk6Il9iaW5kQnVmZmVyIix2YWx1ZTpmdW5jdGlvbih0LGUpe3ZhciBuPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTowLHI9YXJndW1lbnRzLmxlbmd0aD4zP2FyZ3VtZW50c1szXTp2b2lkIDAsaT1lJiZlLmhhbmRsZTtyZXR1cm4gaSYmdm9pZCAwIT09cj90aGlzLmdsLmJpbmRCdWZmZXJSYW5nZSgzNTk4Mix0LGksbixyKTp0aGlzLmdsLmJpbmRCdWZmZXJCYXNlKDM1OTgyLHQsaSksdGhpc319LHtrZXk6Il9jcmVhdGVIYW5kbGUiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2wuY3JlYXRlVHJhbnNmb3JtRmVlZGJhY2soKX19LHtrZXk6Il9kZWxldGVIYW5kbGUiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5nbC5kZWxldGVUcmFuc2Zvcm1GZWVkYmFjayh0aGlzLmhhbmRsZSl9fSx7a2V5OiJfYmluZEhhbmRsZSIsdmFsdWU6ZnVuY3Rpb24odCl7dGhpcy5nbC5iaW5kVHJhbnNmb3JtRmVlZGJhY2soMzYzODYsdGhpcy5oYW5kbGUpfX1dKSxlfShsLmEpfSxmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oNSksaT1uLm4ociksYT1uKDEzKTtmdW5jdGlvbiBvKHQsZSl7aWYoIXQpdGhyb3cgbmV3IEVycm9yKGUpfXZhciBzPW4oMjUpLHU9e3NlbGY6InVuZGVmaW5lZCIhPXR5cGVvZiBzZWxmJiZzZWxmLHdpbmRvdzoidW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdyYmd2luZG93LGdsb2JhbDoidW5kZWZpbmVkIiE9dHlwZW9mIGdsb2JhbCYmZ2xvYmFsLGRvY3VtZW50OiJ1bmRlZmluZWQiIT10eXBlb2YgZG9jdW1lbnQmJmRvY3VtZW50fSxjPXUuZ2xvYmFsfHx1LnNlbGZ8fHUud2luZG93LGw9Im9iamVjdCIhPT0oInVuZGVmaW5lZCI9PXR5cGVvZiBwcm9jZXNzPyJ1bmRlZmluZWQiOk9iamVjdChzLmEpKHByb2Nlc3MpKXx8IltvYmplY3QgcHJvY2Vzc10iIT09U3RyaW5nKHByb2Nlc3MpfHxwcm9jZXNzLmJyb3dzZXIsaD0idW5kZWZpbmVkIiE9dHlwZW9mIHByb2Nlc3MmJnByb2Nlc3MudmVyc2lvbiYmcHJvY2Vzcy52ZXJzaW9uLm1hdGNoKC92KFswLTldKikvKSxmPShoJiZwYXJzZUZsb2F0KGhbMV0pLGMuX3BhcnNlSW1hZ2VOb2RlKSxkPSJ1bmRlZmluZWQiIT10eXBlb2YgSW1hZ2Usdj0idW5kZWZpbmVkIiE9dHlwZW9mIEltYWdlQml0bWFwLHA9Qm9vbGVhbihmKTtmdW5jdGlvbiBnKHQpe3N3aXRjaCh0KXtjYXNlImF1dG8iOnJldHVybiB2fHxkfHxwO2Nhc2UiaW1hZ2ViaXRtYXAiOnJldHVybiB2O2Nhc2UiaHRtbCI6Y2FzZSJpbWFnZSI6cmV0dXJuIGQ7Y2FzZSJuZGFycmF5IjpjYXNlImRhdGEiOnJldHVybiEhbHx8cDtkZWZhdWx0OnRocm93IG5ldyBFcnJvcigiQGxvYWRlcnMuZ2wvaW1hZ2VzOiBpbWFnZSAiLmNvbmNhdCh0LCIgbm90IHN1cHBvcnRlZCBpbiB0aGlzIGVudmlyb25tZW50IikpfX1mdW5jdGlvbiB5KHQpe3ZhciBlPWIodCk7aWYoIWUpdGhyb3cgbmV3IEVycm9yKCJOb3QgYW4gaW1hZ2UiKTtyZXR1cm4gZX1mdW5jdGlvbiBtKHQpe3N3aXRjaCh5KHQpKXtjYXNlImRhdGEiOnJldHVybiB0O2Nhc2UiaW1hZ2UiOmNhc2UiaW1hZ2ViaXRtYXAiOnZhciBlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImNhbnZhcyIpLG49ZS5nZXRDb250ZXh0KCIyZCIpO3JldHVybiBlLndpZHRoPXQud2lkdGgsZS5oZWlnaHQ9dC5oZWlnaHQsbi5kcmF3SW1hZ2UodCwwLDApLG4uZ2V0SW1hZ2VEYXRhKDAsMCx0LndpZHRoLHQuaGVpZ2h0KTtkZWZhdWx0OnJldHVybiBvKCExKX19ZnVuY3Rpb24gYih0KXtyZXR1cm4idW5kZWZpbmVkIiE9dHlwZW9mIEltYWdlQml0bWFwJiZ0IGluc3RhbmNlb2YgSW1hZ2VCaXRtYXA/ImltYWdlYml0bWFwIjoidW5kZWZpbmVkIiE9dHlwZW9mIEltYWdlJiZ0IGluc3RhbmNlb2YgSW1hZ2U/ImltYWdlIjp0JiYib2JqZWN0Ij09PU9iamVjdChzLmEpKHQpJiZ0LmRhdGEmJnQud2lkdGgmJnQuaGVpZ2h0PyJkYXRhIjpudWxsfXZhciBfPS9eZGF0YTppbWFnZVwvc3ZnXCt4bWwvLE89L1wuc3ZnKChcP3wjKS4qKT8kLztmdW5jdGlvbiB4KHQsZSl7cmV0dXJuIGsoZSk/KGNvbnNvbGUud2FybigiU1ZHIGNhbm5vdCBiZSBwYXJzZWQgdG8gaW1hZ2ViaXRtYXAiKSxuZXcgQmxvYihbbmV3IFVpbnQ4QXJyYXkodCldLHt0eXBlOiJpbWFnZS9zdmcreG1sIn0pKTpuZXcgQmxvYihbbmV3IFVpbnQ4QXJyYXkodCldKX1mdW5jdGlvbiB3KHQsZSl7aWYoayhlKSl7dmFyIG49KG5ldyBUZXh0RGVjb2RlcikuZGVjb2RlKHQpO3JldHVybiJkYXRhOmltYWdlL3N2Zyt4bWw7YmFzZTY0LCIuY29uY2F0KGJ0b2EobikpfXJldHVybiB4KHQsZSl9ZnVuY3Rpb24gayh0KXtyZXR1cm4gdCYmKF8udGVzdCh0KXx8Ty50ZXN0KHQpKX1mdW5jdGlvbiBTKHQsZSxuKXtyZXR1cm4gUC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZnVuY3Rpb24gUCgpe3JldHVybihQPU9iamVjdChhLmEpKGkuYS5tYXJrKChmdW5jdGlvbiB0KGUsbixyKXt2YXIgYSxvLHM7cmV0dXJuIGkuYS53cmFwKChmdW5jdGlvbih0KXtmb3IoOzspc3dpdGNoKHQucHJldj10Lm5leHQpe2Nhc2UgMDpyZXR1cm4gYT13KGUsciksbz1zZWxmLlVSTHx8c2VsZi53ZWJraXRVUkwscz0ic3RyaW5nIiE9dHlwZW9mIGEmJm8uY3JlYXRlT2JqZWN0VVJMKGEpLHQucHJldj0zLHQubmV4dD02LGooc3x8YSxuKTtjYXNlIDY6cmV0dXJuIHQuYWJydXB0KCJyZXR1cm4iLHQuc2VudCk7Y2FzZSA3OnJldHVybiB0LnByZXY9NyxzJiZvLnJldm9rZU9iamVjdFVSTChzKSx0LmZpbmlzaCg3KTtjYXNlIDEwOmNhc2UiZW5kIjpyZXR1cm4gdC5zdG9wKCl9fSksdCxudWxsLFtbMywsNywxMF1dKX0pKSkpLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1mdW5jdGlvbiBqKHQsZSl7cmV0dXJuIFQuYXBwbHkodGhpcyxhcmd1bWVudHMpfWZ1bmN0aW9uIFQoKXtyZXR1cm4oVD1PYmplY3QoYS5hKShpLmEubWFyaygoZnVuY3Rpb24gdChlLG4pe3ZhciByO3JldHVybiBpLmEud3JhcCgoZnVuY3Rpb24odCl7Zm9yKDs7KXN3aXRjaCh0LnByZXY9dC5uZXh0KXtjYXNlIDA6aWYoKHI9bmV3IEltYWdlKS5zcmM9ZSwhKG4uaW1hZ2UmJm4uaW1hZ2UuZGVjb2RlJiZyLmRlY29kZSkpe3QubmV4dD02O2JyZWFrfXJldHVybiB0Lm5leHQ9NSxyLmRlY29kZSgpO2Nhc2UgNTpyZXR1cm4gdC5hYnJ1cHQoInJldHVybiIscik7Y2FzZSA2OnJldHVybiB0Lm5leHQ9OCxuZXcgUHJvbWlzZSgoZnVuY3Rpb24odCxuKXt0cnl7ci5vbmxvYWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdChyKX0sci5vbmVycm9yPWZ1bmN0aW9uKHQpe3JldHVybiBuKG5ldyBFcnJvcigiQ291bGQgbm90IGxvYWQgaW1hZ2UgIi5jb25jYXQoZSwiOiAiKS5jb25jYXQodCkpKX19Y2F0Y2godCl7bih0KX19KSk7Y2FzZSA4OnJldHVybiB0LmFicnVwdCgicmV0dXJuIix0LnNlbnQpO2Nhc2UgOTpjYXNlImVuZCI6cmV0dXJuIHQuc3RvcCgpfX0pLHQpfSkpKSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfXZhciBFPSEwO2Z1bmN0aW9uIEEodCxlLG4pe3JldHVybiBNLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1mdW5jdGlvbiBNKCl7cmV0dXJuKE09T2JqZWN0KGEuYSkoaS5hLm1hcmsoKGZ1bmN0aW9uIHQoZSxuLHIpe3ZhciBhLG87cmV0dXJuIGkuYS53cmFwKChmdW5jdGlvbih0KXtmb3IoOzspc3dpdGNoKHQucHJldj10Lm5leHQpe2Nhc2UgMDppZihhPXgoZSxyKSwhTChvPW4mJm4uaW1hZ2ViaXRtYXApJiZFfHwobz1udWxsKSwhbyl7dC5uZXh0PTE0O2JyZWFrfXJldHVybiB0LnByZXY9NCx0Lm5leHQ9NyxjcmVhdGVJbWFnZUJpdG1hcChhLG8pO2Nhc2UgNzpyZXR1cm4gdC5hYnJ1cHQoInJldHVybiIsdC5zZW50KTtjYXNlIDEwOnQucHJldj0xMCx0LnQwPXQuY2F0Y2goNCksY29uc29sZS53YXJuKHQudDApLEU9ITE7Y2FzZSAxNDpyZXR1cm4gdC5uZXh0PTE2LGNyZWF0ZUltYWdlQml0bWFwKGEpO2Nhc2UgMTY6cmV0dXJuIHQuYWJydXB0KCJyZXR1cm4iLHQuc2VudCk7Y2FzZSAxNzpjYXNlImVuZCI6cmV0dXJuIHQuc3RvcCgpfX0pLHQsbnVsbCxbWzQsMTBdXSl9KSkpKS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9dmFyIEM9e307ZnVuY3Rpb24gTCh0KXtmb3IodmFyIGUgaW4gdHx8QylyZXR1cm4hMDtyZXR1cm4hMX12YXIgST1uKDIyNik7ZnVuY3Rpb24gUih0LGUpe3ZhciBuPU9iamVjdChJLmEpKHQpLHI9Yy5fcGFyc2VJbWFnZU5vZGU7cmV0dXJuIG8ocikscih0LG4sZSl9ZnVuY3Rpb24gTigpe3JldHVybihOPU9iamVjdChhLmEpKGkuYS5tYXJrKChmdW5jdGlvbiB0KGUsbixyKXt2YXIgYSxzLHUsYyxsO3JldHVybiBpLmEud3JhcCgoZnVuY3Rpb24odCl7Zm9yKDs7KXN3aXRjaCh0LnByZXY9dC5uZXh0KXtjYXNlIDA6YT0obj1ufHx7fSkuaW1hZ2V8fHt9LHM9YS50eXBlfHwiYXV0byIsdT0ocnx8e30pLnVybCxjPUQocyksdC50MD1jLHQubmV4dD0iaW1hZ2ViaXRtYXAiPT09dC50MD84OiJpbWFnZSI9PT10LnQwPzEyOiJkYXRhIj09PXQudDA/MTY6MjA7YnJlYWs7Y2FzZSA4OnJldHVybiB0Lm5leHQ9MTAsQShlLG4sdSk7Y2FzZSAxMDpyZXR1cm4gbD10LnNlbnQsdC5hYnJ1cHQoImJyZWFrIiwyMSk7Y2FzZSAxMjpyZXR1cm4gdC5uZXh0PTE0LFMoZSxuLHUpO2Nhc2UgMTQ6cmV0dXJuIGw9dC5zZW50LHQuYWJydXB0KCJicmVhayIsMjEpO2Nhc2UgMTY6cmV0dXJuIHQubmV4dD0xOCxSKGUsbik7Y2FzZSAxODpyZXR1cm4gbD10LnNlbnQsdC5hYnJ1cHQoImJyZWFrIiwyMSk7Y2FzZSAyMDpvKCExKTtjYXNlIDIxOnJldHVybiJkYXRhIj09PXMmJihsPW0obCkpLHQuYWJydXB0KCJyZXR1cm4iLGwpO2Nhc2UgMjM6Y2FzZSJlbmQiOnJldHVybiB0LnN0b3AoKX19KSx0KX0pKSkpLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1mdW5jdGlvbiBEKHQpe3N3aXRjaCh0KXtjYXNlImF1dG8iOmNhc2UiZGF0YSI6cmV0dXJuIGZ1bmN0aW9uKCl7aWYoZygiaW1hZ2UiKSlyZXR1cm4iaW1hZ2UiO2lmKGcoImltYWdlYml0bWFwIikpcmV0dXJuImltYWdlYml0bWFwIjtpZihnKCJkYXRhIikpcmV0dXJuImRhdGEiO3Rocm93IG5ldyBFcnJvcigiSW5zdGFsbCAnQGxvYWRlcnMuZ2wvcG9seWZpbGxzJyB0byBwYXJzZSBpbWFnZXMgdW5kZXIgTm9kZS5qcyIpfSgpO2RlZmF1bHQ6cmV0dXJuIGcodCksdH19dmFyIEY9big5OCksej17bmFtZToiSW1hZ2VzIix2ZXJzaW9uOiIyLjEuMSIsbWltZVR5cGVzOlsiaW1hZ2UvcG5nIiwiaW1hZ2UvanBlZyIsImltYWdlL2dpZiIsImltYWdlL3dlYnAiLCJpbWFnZS9ibXAiLCJpbWFnZS92bmRtaWNyb3NvZnRpY29uIiwiaW1hZ2Uvc3ZnK3htbCJdLGV4dGVuc2lvbnM6WyJwbmciLCJqcGciLCJqcGVnIiwiZ2lmIiwid2VicCIsImJtcCIsImljbyIsInN2ZyJdLHBhcnNlOmZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gTi5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LHRlc3Q6ZnVuY3Rpb24odCl7dmFyIGU9bmV3IERhdGFWaWV3KHQpO3JldHVybiBPYmplY3QoRi5jKShlKXx8T2JqZWN0KEYuYSkoZSl8fE9iamVjdChGLmIpKGUpfHxPYmplY3QoRi5kKShlKX0sb3B0aW9uczp7aW1hZ2U6e2Zvcm1hdDoiYXV0byIsZGVjb2RlOiEwfX19O2UuYT16fSxmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO3ZhciByLGk9big2KSxhPW4oNyksbz1uKDE3KSxzPW4oNDcpLHU9bigxNSksYz1uKDg4KSxsPW4oMTgpLGg9big1MiksZj1uKDY2KSxkPW4oODIpLHY9bigwKSxwPW4oMTEpLGc9bigxMTQpLHk9bigyOCksbT0ocj17fSxPYmplY3Qodi5hKShyLDUxMjYsTC5iaW5kKG51bGwsInVuaWZvcm0xZnYiLGssMSxJKSksT2JqZWN0KHYuYSkociwzNTY2NCxMLmJpbmQobnVsbCwidW5pZm9ybTJmdiIsaywyLEkpKSxPYmplY3Qodi5hKShyLDM1NjY1LEwuYmluZChudWxsLCJ1bmlmb3JtM2Z2IixrLDMsSSkpLE9iamVjdCh2LmEpKHIsMzU2NjYsTC5iaW5kKG51bGwsInVuaWZvcm00ZnYiLGssNCxJKSksT2JqZWN0KHYuYSkociw1MTI0LEwuYmluZChudWxsLCJ1bmlmb3JtMWl2IixTLDEsSSkpLE9iamVjdCh2LmEpKHIsMzU2NjcsTC5iaW5kKG51bGwsInVuaWZvcm0yaXYiLFMsMixJKSksT2JqZWN0KHYuYSkociwzNTY2OCxMLmJpbmQobnVsbCwidW5pZm9ybTNpdiIsUywzLEkpKSxPYmplY3Qodi5hKShyLDM1NjY5LEwuYmluZChudWxsLCJ1bmlmb3JtNGl2IixTLDQsSSkpLE9iamVjdCh2LmEpKHIsMzU2NzAsTC5iaW5kKG51bGwsInVuaWZvcm0xaXYiLFMsMSxJKSksT2JqZWN0KHYuYSkociwzNTY3MSxMLmJpbmQobnVsbCwidW5pZm9ybTJpdiIsUywyLEkpKSxPYmplY3Qodi5hKShyLDM1NjcyLEwuYmluZChudWxsLCJ1bmlmb3JtM2l2IixTLDMsSSkpLE9iamVjdCh2LmEpKHIsMzU2NzMsTC5iaW5kKG51bGwsInVuaWZvcm00aXYiLFMsNCxJKSksT2JqZWN0KHYuYSkociwzNTY3NCxMLmJpbmQobnVsbCwidW5pZm9ybU1hdHJpeDJmdiIsayw0LFIpKSxPYmplY3Qodi5hKShyLDM1Njc1LEwuYmluZChudWxsLCJ1bmlmb3JtTWF0cml4M2Z2IixrLDksUikpLE9iamVjdCh2LmEpKHIsMzU2NzYsTC5iaW5kKG51bGwsInVuaWZvcm1NYXRyaXg0ZnYiLGssMTYsUikpLE9iamVjdCh2LmEpKHIsMzU2NzgsQyksT2JqZWN0KHYuYSkociwzNTY4MCxDKSxPYmplY3Qodi5hKShyLDUxMjUsTC5iaW5kKG51bGwsInVuaWZvcm0xdWl2IixQLDEsSSkpLE9iamVjdCh2LmEpKHIsMzYyOTQsTC5iaW5kKG51bGwsInVuaWZvcm0ydWl2IixQLDIsSSkpLE9iamVjdCh2LmEpKHIsMzYyOTUsTC5iaW5kKG51bGwsInVuaWZvcm0zdWl2IixQLDMsSSkpLE9iamVjdCh2LmEpKHIsMzYyOTYsTC5iaW5kKG51bGwsInVuaWZvcm00dWl2IixQLDQsSSkpLE9iamVjdCh2LmEpKHIsMzU2ODUsTC5iaW5kKG51bGwsInVuaWZvcm1NYXRyaXgyeDNmdiIsayw2LFIpKSxPYmplY3Qodi5hKShyLDM1Njg2LEwuYmluZChudWxsLCJ1bmlmb3JtTWF0cml4Mng0ZnYiLGssOCxSKSksT2JqZWN0KHYuYSkociwzNTY4NyxMLmJpbmQobnVsbCwidW5pZm9ybU1hdHJpeDN4MmZ2IixrLDYsUikpLE9iamVjdCh2LmEpKHIsMzU2ODgsTC5iaW5kKG51bGwsInVuaWZvcm1NYXRyaXgzeDRmdiIsaywxMixSKSksT2JqZWN0KHYuYSkociwzNTY4OSxMLmJpbmQobnVsbCwidW5pZm9ybU1hdHJpeDR4MmZ2IixrLDgsUikpLE9iamVjdCh2LmEpKHIsMzU2OTAsTC5iaW5kKG51bGwsInVuaWZvcm1NYXRyaXg0eDNmdiIsaywxMixSKSksT2JqZWN0KHYuYSkociwzNTY3OSxDKSxPYmplY3Qodi5hKShyLDM1NjgyLEMpLE9iamVjdCh2LmEpKHIsMzYyODksQyksT2JqZWN0KHYuYSkociwzNjI5MixDKSxPYmplY3Qodi5hKShyLDM2MjkzLEMpLE9iamVjdCh2LmEpKHIsMzYyOTgsQyksT2JqZWN0KHYuYSkociwzNjI5OSxDKSxPYmplY3Qodi5hKShyLDM2MzAwLEMpLE9iamVjdCh2LmEpKHIsMzYzMDMsQyksT2JqZWN0KHYuYSkociwzNjMwNixDKSxPYmplY3Qodi5hKShyLDM2MzA3LEMpLE9iamVjdCh2LmEpKHIsMzYzMDgsQyksT2JqZWN0KHYuYSkociwzNjMxMSxDKSxyKSxiPXt9LF89e30sTz17fSx4PVswXTtmdW5jdGlvbiB3KHQsZSxuLHIpezE9PT1lJiYiYm9vbGVhbiI9PXR5cGVvZiB0JiYodD10PzE6MCksTnVtYmVyLmlzRmluaXRlKHQpJiYoeFswXT10LHQ9eCk7dmFyIGk9dC5sZW5ndGg7aWYoaSVlJiZwLmgud2FybigiVW5pZm9ybSBzaXplIHNob3VsZCBiZSBtdWx0aXBsZXMgb2YgIi5jb25jYXQoZSksdCkoKSx0IGluc3RhbmNlb2YgbilyZXR1cm4gdDt2YXIgYT1yW2ldO2F8fChhPW5ldyBuKGkpLHJbaV09YSk7Zm9yKHZhciBvPTA7bzxpO28rKylhW29dPXRbb107cmV0dXJuIGF9ZnVuY3Rpb24gayh0LGUpe3JldHVybiB3KHQsZSxGbG9hdDMyQXJyYXksYil9ZnVuY3Rpb24gUyh0LGUpe3JldHVybiB3KHQsZSxJbnQzMkFycmF5LF8pfWZ1bmN0aW9uIFAodCxlKXtyZXR1cm4gdyh0LGUsVWludDMyQXJyYXksTyl9ZnVuY3Rpb24gaih0KXtpZigiXSIhPT10W3QubGVuZ3RoLTFdKXJldHVybntuYW1lOnQsbGVuZ3RoOjEsaXNBcnJheTohMX07dmFyIGU9dC5tYXRjaCgvKFteW10qKShcW1swLTldK1xdKT8vKTtpZighZXx8ZS5sZW5ndGg8Mil0aHJvdyBuZXcgRXJyb3IoIkZhaWxlZCB0byBwYXJzZSBHTFNMIHVuaWZvcm0gbmFtZSAiLmNvbmNhdCh0KSk7cmV0dXJue25hbWU6ZVsxXSxsZW5ndGg6ZVsyXXx8MSxpc0FycmF5OkJvb2xlYW4oZVsyXSl9fWZ1bmN0aW9uIFQodCxlLG4pe3ZhciByPW1bbi50eXBlXTtpZighcil0aHJvdyBuZXcgRXJyb3IoIlVua25vd24gR0xTTCB1bmlmb3JtIHR5cGUgIi5jb25jYXQobi50eXBlKSk7cmV0dXJuIHIoKS5iaW5kKG51bGwsdCxlKX1mdW5jdGlvbiBFKHQsZSxuKXtmb3IodmFyIHIgaW4gdCl7dmFyIGk9dFtyXTtpZigoIW58fEJvb2xlYW4obltyXSkpJiYhQShpKSl0aHJvdyBlPWU/IiIuY29uY2F0KGUsIiAiKToiIixjb25zb2xlLmVycm9yKCIiLmNvbmNhdChlLCIgQmFkIHVuaWZvcm0gIikuY29uY2F0KHIpLGkpLG5ldyBFcnJvcigiIi5jb25jYXQoZSwiIEJhZCB1bmlmb3JtICIpLmNvbmNhdChyKSl9cmV0dXJuITB9ZnVuY3Rpb24gQSh0KXtyZXR1cm4gQXJyYXkuaXNBcnJheSh0KXx8QXJyYXlCdWZmZXIuaXNWaWV3KHQpP2Z1bmN0aW9uKHQpe2lmKDA9PT10Lmxlbmd0aClyZXR1cm4hMTtmb3IodmFyIGU9TWF0aC5taW4odC5sZW5ndGgsMTYpLG49MDtuPGU7KytuKWlmKCFOdW1iZXIuaXNGaW5pdGUodFtuXSkpcmV0dXJuITE7cmV0dXJuITB9KHQpOiEhaXNGaW5pdGUodCl8fCghMD09PXR8fCExPT09dHx8KHQgaW5zdGFuY2VvZiBmLmF8fCh0IGluc3RhbmNlb2YgZy5hfHx0IGluc3RhbmNlb2YgZC5hJiZCb29sZWFuKHQudGV4dHVyZSkpKSl9ZnVuY3Rpb24gTSh0LGUsbil7aWYoQXJyYXkuaXNBcnJheShuKXx8QXJyYXlCdWZmZXIuaXNWaWV3KG4pKWlmKHRbZV0pZm9yKHZhciByPXRbZV0saT0wLGE9bi5sZW5ndGg7aTxhOysraSlyW2ldPW5baV07ZWxzZSB0W2VdPW4uc2xpY2UoKTtlbHNlIHRbZV09bn1mdW5jdGlvbiBDKCl7dmFyIHQ9bnVsbDtyZXR1cm4gZnVuY3Rpb24oZSxuLHIpe3ZhciBpPXQhPT1yO3JldHVybiBpJiYoZS51bmlmb3JtMWkobixyKSx0PXIpLGl9fWZ1bmN0aW9uIEwodCxlLG4scil7dmFyIGk9bnVsbCxhPW51bGw7cmV0dXJuIGZ1bmN0aW9uKG8scyx1KXt2YXIgYz1lKHUsbiksbD1jLmxlbmd0aCxoPSExO2lmKG51bGw9PT1pKWk9bmV3IEZsb2F0MzJBcnJheShsKSxhPWwsaD0hMDtlbHNle09iamVjdCh5LmEpKGE9PT1sLCJVbmlmb3JtIGxlbmd0aCBjYW5ub3QgY2hhbmdlLiIpO2Zvcih2YXIgZj0wO2Y8bDsrK2YpaWYoY1tmXSE9PWlbZl0pe2g9ITA7YnJlYWt9fXJldHVybiBoJiYocihvLHQscyxjKSxpLnNldChjKSksaH19ZnVuY3Rpb24gSSh0LGUsbixyKXt0W2VdKG4scil9ZnVuY3Rpb24gUih0LGUsbixyKXt0W2VdKG4sITEscil9ZnVuY3Rpb24gTih0KXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06InVubmFtZWQiLG49LyNkZWZpbmVbXHMqXVNIQURFUl9OQU1FW1xzKl0oW0EtWmEtejAtOV8tXSspW1xzKl0vLHI9dC5tYXRjaChuKTtyZXR1cm4gcj9yWzFdOmV9ZnVuY3Rpb24gRCh0LGUsbixyKXtmb3IodmFyIGk9dC5zcGxpdCgvXHI/XG4vKSxhPXt9LG89e30scz1yfHxOKGUpfHwiKHVubmFtZWQpIix1PSIiLmNvbmNhdChmdW5jdGlvbih0KXtzd2l0Y2godCl7Y2FzZSAzNTYzMjpyZXR1cm4iZnJhZ21lbnQiO2Nhc2UgMzU2MzM6cmV0dXJuInZlcnRleCI7ZGVmYXVsdDpyZXR1cm4idW5rbm93biB0eXBlIn19KG4pLCIgc2hhZGVyICIpLmNvbmNhdChzKSxjPTA7YzxpLmxlbmd0aDtjKyspe3ZhciBsPWlbY107aWYoIShsLmxlbmd0aDw9MSkpe3ZhciBoPWwuc3BsaXQoIjoiKSxmPWhbMF0sZD1wYXJzZUludChoWzJdLDEwKTtpZihpc05hTihkKSl0aHJvdyBuZXcgRXJyb3IoIkdMU0wgY29tcGlsYXRpb24gZXJyb3IgaW4gIi5jb25jYXQodSwiOiAiKS5jb25jYXQodCkpOyJXQVJOSU5HIiE9PWY/YVtkXT1sOm9bZF09bH19dmFyIHY9ZnVuY3Rpb24odCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOjEsbj1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06IjogIixyPXQuc3BsaXQoL1xyP1xuLyksaT1TdHJpbmcoci5sZW5ndGgrZS0xKS5sZW5ndGg7cmV0dXJuIHIubWFwKChmdW5jdGlvbih0LHIpe3ZhciBhPXIrZSxvPVN0cmluZyhhKS5sZW5ndGg7cmV0dXJuIHooYSxpLW8pK24rdH0pKX0oZSk7cmV0dXJue3NoYWRlck5hbWU6dSxlcnJvcnM6RihhLHYpLHdhcm5pbmdzOkYobyx2KX19ZnVuY3Rpb24gRih0LGUpe2Zvcih2YXIgbj0iIixyPTA7cjxlLmxlbmd0aDtyKyspe3ZhciBpPWVbcl07aWYoKHRbciszXXx8dFtyKzJdfHx0W3IrMV0pJiYobis9IiIuY29uY2F0KGksIlxuIiksdFtyKzFdKSl7dmFyIGE9dFtyKzFdLG89YS5zcGxpdCgiOiIsMykscz1vWzBdLHU9cGFyc2VJbnQob1sxXSwxMCl8fDAsYz1hLnN1YnN0cmluZyhvLmpvaW4oIjoiKS5sZW5ndGgrMSkudHJpbSgpO24rPXooIl5eXiAiLmNvbmNhdChzLCI6ICIpLmNvbmNhdChjLCJcblxuIiksdSl9fXJldHVybiBufWZ1bmN0aW9uIHoodCxlKXtmb3IodmFyIG49IiIscj0wO3I8ZTsrK3Ipbis9IiAiO3JldHVybiIiLmNvbmNhdChuKS5jb25jYXQodCl9dmFyIEI9big3NiksVT1uKDExNSksVj1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKHQsbil7dmFyIHI7T2JqZWN0KGkuYSkodGhpcyxlKSxPYmplY3QoQi5iKSh0KSxPYmplY3QoeS5hKSgic3RyaW5nIj09dHlwZW9mIG4uc291cmNlLCJTaGFkZXI6IEdMU0wgc291cmNlIGNvZGUgbXVzdCBiZSBhIEphdmFTY3JpcHQgc3RyaW5nIik7dmFyIGE9TihuLnNvdXJjZSxudWxsKXx8bi5pZHx8T2JqZWN0KFUuYykoInVubmFtZWQgIi5jb25jYXQoZS5nZXRUeXBlTmFtZShuLnNoYWRlclR5cGUpKSk7cmV0dXJuKHI9T2JqZWN0KG8uYSkodGhpcyxPYmplY3QodS5hKShlKS5jYWxsKHRoaXMsdCx7aWQ6YX0pKSkuc2hhZGVyVHlwZT1uLnNoYWRlclR5cGUsci5zb3VyY2U9bi5zb3VyY2Usci5pbml0aWFsaXplKG4pLHJ9cmV0dXJuIE9iamVjdChsLmEpKGUsdCksT2JqZWN0KGEuYSkoZSxudWxsLFt7a2V5OiJnZXRUeXBlTmFtZSIsdmFsdWU6ZnVuY3Rpb24odCl7c3dpdGNoKHQpe2Nhc2UgMzU2MzM6cmV0dXJuInZlcnRleC1zaGFkZXIiO2Nhc2UgMzU2MzI6cmV0dXJuImZyYWdtZW50LXNoYWRlciI7ZGVmYXVsdDpyZXR1cm4gT2JqZWN0KHkuYSkoITEpLCJ1bmtub3duIn19fV0pLE9iamVjdChhLmEpKGUsW3trZXk6ImluaXRpYWxpemUiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXQuc291cmNlLG49TihlLG51bGwpO24mJih0aGlzLmlkPU9iamVjdChVLmMpKG4pKSx0aGlzLl9jb21waWxlKGUpfX0se2tleToiZ2V0UGFyYW1ldGVyIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5nbC5nZXRTaGFkZXJQYXJhbWV0ZXIodGhpcy5oYW5kbGUsdCl9fSx7a2V5OiJ0b1N0cmluZyIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4iIi5jb25jYXQoZS5nZXRUeXBlTmFtZSh0aGlzLnNoYWRlclR5cGUpLCI6IikuY29uY2F0KHRoaXMuaWQpfX0se2tleToiZ2V0TmFtZSIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gTih0aGlzLnNvdXJjZSl8fCJ1bm5hbWVkLXNoYWRlciJ9fSx7a2V5OiJnZXRTb3VyY2UiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2wuZ2V0U2hhZGVyU291cmNlKHRoaXMuaGFuZGxlKX19LHtrZXk6ImdldFRyYW5zbGF0ZWRTb3VyY2UiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5nbC5nZXRFeHRlbnNpb24oIldFQkdMLmRlYnVnX3NoYWRlcnMiKTtyZXR1cm4gdD90LmdldFRyYW5zbGF0ZWRTaGFkZXJTb3VyY2UodGhpcy5oYW5kbGUpOiJObyB0cmFuc2xhdGVkIHNvdXJjZSBhdmFpbGFibGUuIFdFQkdMLmRlYnVnX3NoYWRlcnMgbm90IGltcGxlbWVudGVkIn19LHtrZXk6Il9jb21waWxlIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp0aGlzLnNvdXJjZTt0LnN0YXJ0c1dpdGgoIiN2ZXJzaW9uICIpfHwodD0iI3ZlcnNpb24gMTAwXG4iLmNvbmNhdCh0KSksdGhpcy5zb3VyY2U9dCx0aGlzLmdsLnNoYWRlclNvdXJjZSh0aGlzLmhhbmRsZSx0aGlzLnNvdXJjZSksdGhpcy5nbC5jb21waWxlU2hhZGVyKHRoaXMuaGFuZGxlKTt2YXIgZT10aGlzLmdldFBhcmFtZXRlcigzNTcxMyk7aWYoIWUpe3ZhciBuPXRoaXMuZ2wuZ2V0U2hhZGVySW5mb0xvZyh0aGlzLmhhbmRsZSkscj1EKG4sdGhpcy5zb3VyY2UsdGhpcy5zaGFkZXJUeXBlLHRoaXMuaWQpLGk9ci5zaGFkZXJOYW1lLGE9ci5lcnJvcnMsbz1yLndhcm5pbmdzO3Rocm93IHAuaC5lcnJvcigiR0xTTCBjb21waWxhdGlvbiBlcnJvcnMgaW4gIi5jb25jYXQoaSwiXG4iKS5jb25jYXQoYSkpKCkscC5oLndhcm4oIkdMU0wgY29tcGlsYXRpb24gd2FybmluZ3MgaW4gIi5jb25jYXQoaSwiXG4iKS5jb25jYXQobykpKCksbmV3IEVycm9yKCJHTFNMIGNvbXBpbGF0aW9uIGVycm9ycyBpbiAiLmNvbmNhdChpKSl9fX0se2tleToiX2RlbGV0ZUhhbmRsZSIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLmdsLmRlbGV0ZVNoYWRlcih0aGlzLmhhbmRsZSl9fSx7a2V5OiJfZ2V0T3B0c0Zyb21IYW5kbGUiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJue3R5cGU6dGhpcy5nZXRQYXJhbWV0ZXIoMzU2NjMpLHNvdXJjZTp0aGlzLmdldFNvdXJjZSgpfX19XSksZX0oaC5hKSxHPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUodCxuKXtyZXR1cm4gT2JqZWN0KGkuYSkodGhpcyxlKSwic3RyaW5nIj09dHlwZW9mIG4mJihuPXtzb3VyY2U6bn0pLE9iamVjdChvLmEpKHRoaXMsT2JqZWN0KHUuYSkoZSkuY2FsbCh0aGlzLHQsT2JqZWN0LmFzc2lnbih7fSxuLHtzaGFkZXJUeXBlOjM1NjMzfSkpKX1yZXR1cm4gT2JqZWN0KGwuYSkoZSx0KSxPYmplY3QoYS5hKShlLFt7a2V5OiJfY3JlYXRlSGFuZGxlIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmdsLmNyZWF0ZVNoYWRlcigzNTYzMyl9fV0pLGV9KFYpLFc9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSh0LG4pe3JldHVybiBPYmplY3QoaS5hKSh0aGlzLGUpLCJzdHJpbmciPT10eXBlb2YgbiYmKG49e3NvdXJjZTpufSksT2JqZWN0KG8uYSkodGhpcyxPYmplY3QodS5hKShlKS5jYWxsKHRoaXMsdCxPYmplY3QuYXNzaWduKHt9LG4se3NoYWRlclR5cGU6MzU2MzJ9KSkpfXJldHVybiBPYmplY3QobC5hKShlLHQpLE9iamVjdChhLmEpKGUsW3trZXk6Il9jcmVhdGVIYW5kbGUiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2wuY3JlYXRlU2hhZGVyKDM1NjMyKX19XSksZX0oViksSD1uKDcyKSxxPW4oOTQpLFg9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUpe09iamVjdChpLmEpKHRoaXMsdCksdGhpcy5pZD1lLmlkLHRoaXMuYXR0cmlidXRlSW5mb3M9W10sdGhpcy5hdHRyaWJ1dGVJbmZvc0J5TmFtZT17fSx0aGlzLmF0dHJpYnV0ZUluZm9zQnlMb2NhdGlvbj1bXSx0aGlzLnZhcnlpbmdJbmZvcz1bXSx0aGlzLnZhcnlpbmdJbmZvc0J5TmFtZT17fSxPYmplY3Quc2VhbCh0aGlzKSx0aGlzLl9yZWFkQXR0cmlidXRlc0Zyb21Qcm9ncmFtKGUpLHRoaXMuX3JlYWRWYXJ5aW5nc0Zyb21Qcm9ncmFtKGUpfXJldHVybiBPYmplY3QoYS5hKSh0LFt7a2V5OiJnZXRBdHRyaWJ1dGVJbmZvIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT1OdW1iZXIodCk7cmV0dXJuIE51bWJlci5pc0Zpbml0ZShlKT90aGlzLmF0dHJpYnV0ZUluZm9zQnlMb2NhdGlvbltlXTp0aGlzLmF0dHJpYnV0ZUluZm9zQnlOYW1lW3RdfHxudWxsfX0se2tleToiZ2V0QXR0cmlidXRlTG9jYXRpb24iLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuZ2V0QXR0cmlidXRlSW5mbyh0KTtyZXR1cm4gZT9lLmxvY2F0aW9uOi0xfX0se2tleToiZ2V0QXR0cmlidXRlQWNjZXNzb3IiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuZ2V0QXR0cmlidXRlSW5mbyh0KTtyZXR1cm4gZT9lLmFjY2Vzc29yOm51bGx9fSx7a2V5OiJnZXRWYXJ5aW5nSW5mbyIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9TnVtYmVyKHQpO3JldHVybiBOdW1iZXIuaXNGaW5pdGUoZSk/dGhpcy52YXJ5aW5nSW5mb3NbZV06dGhpcy52YXJ5aW5nSW5mb3NCeU5hbWVbdF18fG51bGx9fSx7a2V5OiJnZXRWYXJ5aW5nSW5kZXgiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuZ2V0VmFyeWluZ0luZm8oKTtyZXR1cm4gZT9lLmxvY2F0aW9uOi0xfX0se2tleToiZ2V0VmFyeWluZ0FjY2Vzc29yIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLmdldFZhcnlpbmdJbmZvKCk7cmV0dXJuIGU/ZS5hY2Nlc3NvcjpudWxsfX0se2tleToiX3JlYWRBdHRyaWJ1dGVzRnJvbVByb2dyYW0iLHZhbHVlOmZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10LmdsLG49ZS5nZXRQcm9ncmFtUGFyYW1ldGVyKHQuaGFuZGxlLDM1NzIxKSxyPTA7cjxuO3IrKyl7dmFyIGk9ZS5nZXRBY3RpdmVBdHRyaWIodC5oYW5kbGUsciksYT1pLm5hbWUsbz1pLnR5cGUscz1pLnNpemUsdT1lLmdldEF0dHJpYkxvY2F0aW9uKHQuaGFuZGxlLGEpO3U+PTAmJnRoaXMuX2FkZEF0dHJpYnV0ZSh1LGEsbyxzKX10aGlzLmF0dHJpYnV0ZUluZm9zLnNvcnQoKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQubG9jYXRpb24tZS5sb2NhdGlvbn0pKX19LHtrZXk6Il9yZWFkVmFyeWluZ3NGcm9tUHJvZ3JhbSIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dC5nbDtpZihPYmplY3QocC5nKShlKSl7Zm9yKHZhciBuPWUuZ2V0UHJvZ3JhbVBhcmFtZXRlcih0LmhhbmRsZSwzNTk3MSkscj0wO3I8bjtyKyspe3ZhciBpPWUuZ2V0VHJhbnNmb3JtRmVlZGJhY2tWYXJ5aW5nKHQuaGFuZGxlLHIpLGE9aS5uYW1lLG89aS50eXBlLHM9aS5zaXplO3RoaXMuX2FkZFZhcnlpbmcocixhLG8scyl9dGhpcy52YXJ5aW5nSW5mb3Muc29ydCgoZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5sb2NhdGlvbi1lLmxvY2F0aW9ufSkpfX19LHtrZXk6Il9hZGRBdHRyaWJ1dGUiLHZhbHVlOmZ1bmN0aW9uKHQsZSxuLHIpe3ZhciBpPU9iamVjdChxLmEpKG4pLGE9e3R5cGU6aS50eXBlLHNpemU6cippLmNvbXBvbmVudHN9O3RoaXMuX2luZmVyUHJvcGVydGllcyh0LGUsYSk7dmFyIG89e2xvY2F0aW9uOnQsbmFtZTplLGFjY2Vzc29yOm5ldyBILmEoYSl9O3RoaXMuYXR0cmlidXRlSW5mb3MucHVzaChvKSx0aGlzLmF0dHJpYnV0ZUluZm9zQnlMb2NhdGlvblt0XT1vLHRoaXMuYXR0cmlidXRlSW5mb3NCeU5hbWVbby5uYW1lXT1vfX0se2tleToiX2luZmVyUHJvcGVydGllcyIsdmFsdWU6ZnVuY3Rpb24odCxlLG4pey9pbnN0YW5jZS9pLnRlc3QoZSkmJihuLmRpdmlzb3I9MSl9fSx7a2V5OiJfYWRkVmFyeWluZyIsdmFsdWU6ZnVuY3Rpb24odCxlLG4scil7dmFyIGk9T2JqZWN0KHEuYSkobiksYT1pLnR5cGUsbz1pLmNvbXBvbmVudHMscz17bG9jYXRpb246dCxuYW1lOmUsYWNjZXNzb3I6bmV3IEguYSh7dHlwZTphLHNpemU6cipvfSl9O3RoaXMudmFyeWluZ0luZm9zLnB1c2gocyksdGhpcy52YXJ5aW5nSW5mb3NCeU5hbWVbcy5uYW1lXT1zfX1dKSx0fSgpLFo9bigxMDUpO24uZChlLCJhIiwoZnVuY3Rpb24oKXtyZXR1cm4gS30pKTt2YXIgWT1bInNldFZlcnRleEFycmF5Iiwic2V0QXR0cmlidXRlcyIsInNldEJ1ZmZlcnMiLCJ1bnNldEJ1ZmZlcnMiLCJ1c2UiLCJnZXRVbmlmb3JtQ291bnQiLCJnZXRVbmlmb3JtSW5mbyIsImdldFVuaWZvcm1Mb2NhdGlvbiIsImdldFVuaWZvcm1WYWx1ZSIsImdldFZhcnlpbmciLCJnZXRGcmFnRGF0YUxvY2F0aW9uIiwiZ2V0QXR0YWNoZWRTaGFkZXJzIiwiZ2V0QXR0cmlidXRlQ291bnQiLCJnZXRBdHRyaWJ1dGVMb2NhdGlvbiIsImdldEF0dHJpYnV0ZUluZm8iXSxLPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUodCl7dmFyIG4scj1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06e307cmV0dXJuIE9iamVjdChpLmEpKHRoaXMsZSksKG49T2JqZWN0KG8uYSkodGhpcyxPYmplY3QodS5hKShlKS5jYWxsKHRoaXMsdCxyKSkpLnN0dWJSZW1vdmVkTWV0aG9kcygiUHJvZ3JhbSIsInY2LjAiLFkpLG4uX2lzQ2FjaGVkPSExLG4uaW5pdGlhbGl6ZShyKSxPYmplY3Quc2VhbChPYmplY3Qocy5hKShuKSksbi5fc2V0SWQoci5pZCksbn1yZXR1cm4gT2JqZWN0KGwuYSkoZSx0KSxPYmplY3QoYS5hKShlLFt7a2V5OiJpbml0aWFsaXplIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fSxlPXQuaGFzaCxuPXQudnMscj10LmZzLGk9dC52YXJ5aW5ncyxhPXQuYnVmZmVyTW9kZSxvPXZvaWQgMD09PWE/MzU5ODE6YTtyZXR1cm4gdGhpcy5oYXNoPWV8fCIiLHRoaXMudnM9InN0cmluZyI9PXR5cGVvZiBuP25ldyBHKHRoaXMuZ2wse2lkOiIiLmNvbmNhdCh0LmlkLCItdnMiKSxzb3VyY2U6bn0pOm4sdGhpcy5mcz0ic3RyaW5nIj09dHlwZW9mIHI/bmV3IFcodGhpcy5nbCx7aWQ6IiIuY29uY2F0KHQuaWQsIi1mcyIpLHNvdXJjZTpyfSk6cixPYmplY3QoeS5hKSh0aGlzLnZzIGluc3RhbmNlb2YgRyksT2JqZWN0KHkuYSkodGhpcy5mcyBpbnN0YW5jZW9mIFcpLHRoaXMudW5pZm9ybXM9e30sdGhpcy5fdGV4dHVyZVVuaWZvcm1zPXt9LHRoaXMuX3RleHR1cmVzUmVuZGVyYWJsZT0hMCxpJiZpLmxlbmd0aD4wJiYoT2JqZWN0KEIuYSkodGhpcy5nbCksdGhpcy52YXJ5aW5ncz1pLHRoaXMuZ2wudHJhbnNmb3JtRmVlZGJhY2tWYXJ5aW5ncyh0aGlzLmhhbmRsZSxpLG8pKSx0aGlzLl9jb21waWxlQW5kTGluaygpLHRoaXMuX3JlYWRVbmlmb3JtTG9jYXRpb25zRnJvbUxpbmtlZFByb2dyYW0oKSx0aGlzLmNvbmZpZ3VyYXRpb249bmV3IFgodGhpcyksdGhpcy5zZXRQcm9wcyh0KX19LHtrZXk6ImRlbGV0ZSIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e307cmV0dXJuIHRoaXMuX2lzQ2FjaGVkP3RoaXM6T2JqZWN0KGMuYSkoT2JqZWN0KHUuYSkoZS5wcm90b3R5cGUpLCJkZWxldGUiLHRoaXMpLmNhbGwodGhpcyx0KX19LHtrZXk6InNldFByb3BzIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4idW5pZm9ybXMiaW4gdCYmdGhpcy5zZXRVbmlmb3Jtcyh0LnVuaWZvcm1zKSx0aGlzfX0se2tleToiZHJhdyIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcyxuPXQubG9nUHJpb3JpdHkscj10LmRyYXdNb2RlLGk9dm9pZCAwPT09cj80OnIsYT10LnZlcnRleENvdW50LG89dC5vZmZzZXQscz12b2lkIDA9PT1vPzA6byx1PXQuc3RhcnQsYz10LmVuZCxsPXQuaXNJbmRleGVkLGg9dm9pZCAwIT09bCYmbCxmPXQuaW5kZXhUeXBlLGQ9dm9pZCAwPT09Zj81MTIzOmYsdj10Lmluc3RhbmNlQ291bnQsZz12b2lkIDA9PT12PzA6dixtPXQuaXNJbnN0YW5jZWQsYj12b2lkIDA9PT1tP2c+MDptLF89dC52ZXJ0ZXhBcnJheSxPPXZvaWQgMD09PV8/bnVsbDpfLHg9dC50cmFuc2Zvcm1GZWVkYmFjayx3PXQuZnJhbWVidWZmZXIsaz10LnBhcmFtZXRlcnMsUz12b2lkIDA9PT1rP3t9OmssUD10LnVuaWZvcm1zLGo9dC5zYW1wbGVycztpZigoUHx8aikmJihwLmguZGVwcmVjYXRlZCgiUHJvZ3JhbS5kcmF3KHt1bmlmb3Jtc30pIiwiUHJvZ3JhbS5zZXRVbmlmb3Jtcyh1bmlmb3JtcykiKSgpLHRoaXMuc2V0VW5pZm9ybXMoUHx8e30pKSxwLmgucHJpb3JpdHk+PW4pe3ZhciBUPXc/dy5pZDoiZGVmYXVsdCIsRT0ibW9kZT0iLmNvbmNhdChPYmplY3QoWi5hKSh0aGlzLmdsLGkpLCIgdmVydHM9IikuY29uY2F0KGEsIiAiKSsiaW5zdGFuY2VzPSIuY29uY2F0KGcsIiBpbmRleFR5cGU9IikuY29uY2F0KE9iamVjdChaLmEpKHRoaXMuZ2wsZCksIiAiKSsiaXNJbnN0YW5jZWQ9Ii5jb25jYXQoYiwiIGlzSW5kZXhlZD0iKS5jb25jYXQoaCwiICIpKyJGcmFtZWJ1ZmZlcj0iLmNvbmNhdChUKTtwLmgubG9nKG4sRSkoKX1yZXR1cm4gT2JqZWN0KHkuYSkoTyksdGhpcy5nbC51c2VQcm9ncmFtKHRoaXMuaGFuZGxlKSwhKCF0aGlzLl9hcmVUZXh0dXJlc1JlbmRlcmFibGUoKXx8MD09PWF8fGImJjA9PT1nKSYmKE8uYmluZEZvckRyYXcoYSxnLChmdW5jdGlvbigpe2lmKHZvaWQgMCE9PXcmJihTPU9iamVjdC5hc3NpZ24oe30sUyx7ZnJhbWVidWZmZXI6d30pKSx4KXt2YXIgdD1PYmplY3QocS5jKShpKTt4LmJlZ2luKHQpfWUuX2JpbmRUZXh0dXJlcygpLE9iamVjdChwLmwpKGUuZ2wsUywoZnVuY3Rpb24oKXtoJiZiP2UuZ2wuZHJhd0VsZW1lbnRzSW5zdGFuY2VkKGksYSxkLHMsZyk6aCYmT2JqZWN0KHAuZykoZS5nbCkmJiFpc05hTih1KSYmIWlzTmFOKGMpP2UuZ2wuZHJhd1JhbmdlRWxlbWVudHMoaSx1LGMsYSxkLHMpOmg/ZS5nbC5kcmF3RWxlbWVudHMoaSxhLGQscyk6Yj9lLmdsLmRyYXdBcnJheXNJbnN0YW5jZWQoaSxzLGEsZyk6ZS5nbC5kcmF3QXJyYXlzKGkscyxhKX0pKSx4JiZ4LmVuZCgpfSkpLCEwKX19LHtrZXk6InNldFVuaWZvcm1zIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fTtmb3IodmFyIGUgaW4gcC5oLnByaW9yaXR5Pj0yJiZFKHQsdGhpcy5pZCx0aGlzLl91bmlmb3JtU2V0dGVycyksdGhpcy5nbC51c2VQcm9ncmFtKHRoaXMuaGFuZGxlKSx0KXt2YXIgbj10W2VdLHI9dGhpcy5fdW5pZm9ybVNldHRlcnNbZV07aWYocil7dmFyIGk9bixhPSExO2lmKGkgaW5zdGFuY2VvZiBkLmEmJihpPWkudGV4dHVyZSksaSBpbnN0YW5jZW9mIGYuYSlpZihhPXRoaXMudW5pZm9ybXNbZV0hPT1uKXt2b2lkIDA9PT1yLnRleHR1cmVJbmRleCYmKHIudGV4dHVyZUluZGV4PXRoaXMuX3RleHR1cmVJbmRleENvdW50ZXIrKyk7dmFyIG89aSxzPXIudGV4dHVyZUluZGV4O28uYmluZChzKSxpPXMsby5sb2FkZWR8fCh0aGlzLl90ZXh0dXJlc1JlbmRlcmFibGU9ITEpLHRoaXMuX3RleHR1cmVVbmlmb3Jtc1tlXT1vfWVsc2UgaT1yLnRleHR1cmVJbmRleDtlbHNlIHRoaXMuX3RleHR1cmVVbmlmb3Jtc1tlXSYmZGVsZXRlIHRoaXMuX3RleHR1cmVVbmlmb3Jtc1tlXTsocihpKXx8YSkmJk0odGhpcy51bmlmb3JtcyxlLG4pfX1yZXR1cm4gdGhpc319LHtrZXk6Il9hcmVUZXh0dXJlc1JlbmRlcmFibGUiLHZhbHVlOmZ1bmN0aW9uKCl7aWYodGhpcy5fdGV4dHVyZXNSZW5kZXJhYmxlKXJldHVybiEwO2Zvcih2YXIgdCBpbiB0aGlzLl90ZXh0dXJlc1JlbmRlcmFibGU9ITAsdGhpcy5fdGV4dHVyZVVuaWZvcm1zKXt2YXIgZT10aGlzLl90ZXh0dXJlVW5pZm9ybXNbdF07dGhpcy5fdGV4dHVyZXNSZW5kZXJhYmxlPXRoaXMuX3RleHR1cmVzUmVuZGVyYWJsZSYmZS5sb2FkZWR9cmV0dXJuIHRoaXMuX3RleHR1cmVzUmVuZGVyYWJsZX19LHtrZXk6Il9iaW5kVGV4dHVyZXMiLHZhbHVlOmZ1bmN0aW9uKCl7Zm9yKHZhciB0IGluIHRoaXMuX3RleHR1cmVVbmlmb3Jtcyl7dmFyIGU9dGhpcy5fdW5pZm9ybVNldHRlcnNbdF0udGV4dHVyZUluZGV4O3RoaXMuX3RleHR1cmVVbmlmb3Jtc1t0XS5iaW5kKGUpfX19LHtrZXk6Il9jcmVhdGVIYW5kbGUiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2wuY3JlYXRlUHJvZ3JhbSgpfX0se2tleToiX2RlbGV0ZUhhbmRsZSIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLmdsLmRlbGV0ZVByb2dyYW0odGhpcy5oYW5kbGUpfX0se2tleToiX2dldE9wdGlvbnNGcm9tSGFuZGxlIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLmdsLmdldEF0dGFjaGVkU2hhZGVycyh0KSxuPXt9LHI9ITAsaT0hMSxhPXZvaWQgMDt0cnl7Zm9yKHZhciBvLHM9ZVtTeW1ib2wuaXRlcmF0b3JdKCk7IShyPShvPXMubmV4dCgpKS5kb25lKTtyPSEwKXt2YXIgdT1vLnZhbHVlO3N3aXRjaCh0aGlzLmdsLmdldFNoYWRlclBhcmFtZXRlcih0aGlzLmhhbmRsZSwzNTY2Mykpe2Nhc2UgMzU2MzM6bi52cz1uZXcgRyh7aGFuZGxlOnV9KTticmVhaztjYXNlIDM1NjMyOm4uZnM9bmV3IFcoe2hhbmRsZTp1fSl9fX1jYXRjaCh0KXtpPSEwLGE9dH1maW5hbGx5e3RyeXtyfHxudWxsPT1zLnJldHVybnx8cy5yZXR1cm4oKX1maW5hbGx5e2lmKGkpdGhyb3cgYX19cmV0dXJuIG59fSx7a2V5OiJfZ2V0UGFyYW1ldGVyIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5nbC5nZXRQcm9ncmFtUGFyYW1ldGVyKHRoaXMuaGFuZGxlLHQpfX0se2tleToiX3NldElkIix2YWx1ZTpmdW5jdGlvbih0KXtpZighdCl7dmFyIGU9dGhpcy5fZ2V0TmFtZSgpO3RoaXMuaWQ9T2JqZWN0KFUuYykoZSl9fX0se2tleToiX2dldE5hbWUiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy52cy5nZXROYW1lKCl8fHRoaXMuZnMuZ2V0TmFtZSgpO3JldHVybiB0PSh0PXQucmVwbGFjZSgvc2hhZGVyL2ksIiIpKT8iIi5jb25jYXQodCwiLXByb2dyYW0iKToicHJvZ3JhbSJ9fSx7a2V5OiJfY29tcGlsZUFuZExpbmsiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5nbDtpZigodC5hdHRhY2hTaGFkZXIodGhpcy5oYW5kbGUsdGhpcy52cy5oYW5kbGUpLHQuYXR0YWNoU2hhZGVyKHRoaXMuaGFuZGxlLHRoaXMuZnMuaGFuZGxlKSxwLmgudGltZSg0LCJsaW5rUHJvZ3JhbSBmb3IgIi5jb25jYXQodGhpcy5fZ2V0TmFtZSgpKSkoKSx0LmxpbmtQcm9ncmFtKHRoaXMuaGFuZGxlKSxwLmgudGltZUVuZCg0LCJsaW5rUHJvZ3JhbSBmb3IgIi5jb25jYXQodGhpcy5fZ2V0TmFtZSgpKSkoKSx0LmRlYnVnfHxwLmgubGV2ZWw+MCkmJih0LnZhbGlkYXRlUHJvZ3JhbSh0aGlzLmhhbmRsZSksIXQuZ2V0UHJvZ3JhbVBhcmFtZXRlcih0aGlzLmhhbmRsZSwzNTcxNCkpKXRocm93IG5ldyBFcnJvcigiRXJyb3IgbGlua2luZzogIi5jb25jYXQodC5nZXRQcm9ncmFtSW5mb0xvZyh0aGlzLmhhbmRsZSkpKX19LHtrZXk6Il9yZWFkVW5pZm9ybUxvY2F0aW9uc0Zyb21MaW5rZWRQcm9ncmFtIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMuZ2w7dGhpcy5fdW5pZm9ybVNldHRlcnM9e30sdGhpcy5fdW5pZm9ybUNvdW50PXRoaXMuX2dldFBhcmFtZXRlcigzNTcxOCk7Zm9yKHZhciBlPTA7ZTx0aGlzLl91bmlmb3JtQ291bnQ7ZSsrKXt2YXIgbj10aGlzLmdsLmdldEFjdGl2ZVVuaWZvcm0odGhpcy5oYW5kbGUsZSkscj1qKG4ubmFtZSksaT1yLm5hbWUsYT0oci5pc0FycmF5LHQuZ2V0VW5pZm9ybUxvY2F0aW9uKHRoaXMuaGFuZGxlLGkpKTtpZih0aGlzLl91bmlmb3JtU2V0dGVyc1tpXT1UKHQsYSxuKSxuLnNpemU+MSlmb3IodmFyIG89MDtvPG4uc2l6ZTtvKyspYT10LmdldFVuaWZvcm1Mb2NhdGlvbih0aGlzLmhhbmRsZSwiIi5jb25jYXQoaSwiWyIpLmNvbmNhdChvLCJdIikpLHRoaXMuX3VuaWZvcm1TZXR0ZXJzWyIiLmNvbmNhdChpLCJbIikuY29uY2F0KG8sIl0iKV09VCh0LGEsbil9dGhpcy5fdGV4dHVyZUluZGV4Q291bnRlcj0wfX0se2tleToiZ2V0QWN0aXZlVW5pZm9ybXMiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuZ2wuZ2V0QWN0aXZlVW5pZm9ybXModGhpcy5oYW5kbGUsdCxlKX19LHtrZXk6ImdldFVuaWZvcm1CbG9ja0luZGV4Iix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5nbC5nZXRVbmlmb3JtQmxvY2tJbmRleCh0aGlzLmhhbmRsZSx0KX19LHtrZXk6ImdldEFjdGl2ZVVuaWZvcm1CbG9ja1BhcmFtZXRlciIsdmFsdWU6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5nbC5nZXRBY3RpdmVVbmlmb3JtQmxvY2tQYXJhbWV0ZXIodGhpcy5oYW5kbGUsdCxlKX19LHtrZXk6InVuaWZvcm1CbG9ja0JpbmRpbmciLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dGhpcy5nbC51bmlmb3JtQmxvY2tCaW5kaW5nKHRoaXMuaGFuZGxlLHQsZSl9fV0pLGV9KGguYSl9LGZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dmFyIHI9big2KSxpPW4oNyksYT1uKDMxKSxvPW4oMTc2KSxzPSJ2b2lkIG1haW4oKSB7Z2xfRnJhZ0NvbG9yID0gdmVjNCgwKTt9Iix1PSJvdXQgdmVjNCB0cmFuc2Zvcm1fb3V0cHV0O1xudm9pZCBtYWluKCkge1xuICB0cmFuc2Zvcm1fb3V0cHV0ID0gdmVjNCgwKTtcbn0iLGM9IiN2ZXJzaW9uIDMwMCBlc1xuIi5jb25jYXQodSk7ZnVuY3Rpb24gbCh0LGUpe2U9QXJyYXkuaXNBcnJheShlKT9lOltlXTt2YXIgbj10LnJlcGxhY2UoL15ccysvLCIiKS5zcGxpdCgvXHMrLykscj1PYmplY3QoYS5hKShuLDMpLGk9clswXSxvPXJbMV0scz1yWzJdO3JldHVybiBlLmluY2x1ZGVzKGkpJiZvJiZzP3txdWFsaWZpZXI6aSx0eXBlOm8sbmFtZTpzLnNwbGl0KCI7IilbMF19Om51bGx9ZnVuY3Rpb24gaCgpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fSxlPXQudmVyc2lvbixuPXZvaWQgMD09PWU/MTAwOmUscj10LmlucHV0LGk9dC5pbnB1dFR5cGUsYT10Lm91dHB1dDtpZighcilyZXR1cm4gMzAwPT09bj9jOm4+MzAwPyIjdmVyc2lvbiAiLmNvbmNhdChuLCJcbiIpLmNvbmNhdCh1KTpzO3ZhciBvPWQocixpKTtyZXR1cm4gbj49MzAwPyIjdmVyc2lvbiAiLmNvbmNhdChuLCIgIikuY29uY2F0KDMwMD09PW4/ImVzIjoiIiwiXG5pbiAiKS5jb25jYXQoaSwiICIpLmNvbmNhdChyLCI7XG5vdXQgdmVjNCAiKS5jb25jYXQoYSwiO1xudm9pZCBtYWluKCkge1xuICAiKS5jb25jYXQoYSwiID0gIikuY29uY2F0KG8sIjtcbn0iKToidmFyeWluZyAiLmNvbmNhdChpLCIgIikuY29uY2F0KHIsIjtcbnZvaWQgbWFpbigpIHtcbiAgZ2xfRnJhZ0NvbG9yID0gIikuY29uY2F0KG8sIjtcbn0iKX1mdW5jdGlvbiBmKHQpe3N3aXRjaCh0KXtjYXNlImZsb2F0IjpyZXR1cm4gMTtjYXNlInZlYzIiOnJldHVybiAyO2Nhc2UidmVjMyI6cmV0dXJuIDM7Y2FzZSJ2ZWM0IjpyZXR1cm4gNDtkZWZhdWx0OnJldHVybiBPYmplY3Qoby5hKSghMSksbnVsbH19ZnVuY3Rpb24gZCh0LGUpe3N3aXRjaChlKXtjYXNlImZsb2F0IjpyZXR1cm4idmVjNCgiLmNvbmNhdCh0LCIsIDAuMCwgMC4wLCAxLjApIik7Y2FzZSJ2ZWMyIjpyZXR1cm4idmVjNCgiLmNvbmNhdCh0LCIsIDAuMCwgMS4wKSIpO2Nhc2UidmVjMyI6cmV0dXJuInZlYzQoIi5jb25jYXQodCwiLCAxLjApIik7Y2FzZSJ2ZWM0IjpyZXR1cm4gdDtkZWZhdWx0OnJldHVybiBPYmplY3Qoby5hKSghMSksbnVsbH19dmFyIHY9bigxMSkscD1uKDQ4KSxnPW4oMjg4KSx5PW4oMjgpLG09ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUpe3ZhciBuPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp7fTtPYmplY3Qoci5hKSh0aGlzLHQpLHRoaXMuZ2w9ZSx0aGlzLmN1cnJlbnRJbmRleD0wLHRoaXMuZmVlZGJhY2tNYXA9e30sdGhpcy52YXJ5aW5ncz1udWxsLHRoaXMuYmluZGluZ3M9W10sdGhpcy5yZXNvdXJjZXM9e30sdGhpcy5faW5pdGlhbGl6ZShuKSxPYmplY3Quc2VhbCh0aGlzKX1yZXR1cm4gT2JqZWN0KGkuYSkodCxbe2tleToic2V0dXBSZXNvdXJjZXMiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPSEwLG49ITEscj12b2lkIDA7dHJ5e2Zvcih2YXIgaSxhPXRoaXMuYmluZGluZ3NbU3ltYm9sLml0ZXJhdG9yXSgpOyEoZT0oaT1hLm5leHQoKSkuZG9uZSk7ZT0hMCl7dmFyIG89aS52YWx1ZTt0aGlzLl9zZXR1cFRyYW5zZm9ybUZlZWRiYWNrKG8sdCl9fWNhdGNoKHQpe249ITAscj10fWZpbmFsbHl7dHJ5e2V8fG51bGw9PWEucmV0dXJufHxhLnJldHVybigpfWZpbmFsbHl7aWYobil0aHJvdyByfX19fSx7a2V5OiJ1cGRhdGVNb2RlbFByb3BzIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fSxlPXRoaXMudmFyeWluZ3M7cmV0dXJuIGUubGVuZ3RoPjAmJih0PU9iamVjdC5hc3NpZ24oe30sdCx7dmFyeWluZ3M6ZX0pKSx0fX0se2tleToiZ2V0RHJhd09wdGlvbnMiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9LGU9dGhpcy5iaW5kaW5nc1t0aGlzLmN1cnJlbnRJbmRleF0sbj1lLnNvdXJjZUJ1ZmZlcnMscj1lLnRyYW5zZm9ybUZlZWRiYWNrLGk9T2JqZWN0LmFzc2lnbih7fSxuLHQuYXR0cmlidXRlcyk7cmV0dXJue2F0dHJpYnV0ZXM6aSx0cmFuc2Zvcm1GZWVkYmFjazpyfX19LHtrZXk6InN3YXAiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuISF0aGlzLmZlZWRiYWNrTWFwJiYodGhpcy5jdXJyZW50SW5kZXg9dGhpcy5fZ2V0TmV4dEluZGV4KCksITApfX0se2tleToidXBkYXRlIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fTt0aGlzLl9zZXR1cEJ1ZmZlcnModCl9fSx7a2V5OiJnZXRCdWZmZXIiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuYmluZGluZ3NbdGhpcy5jdXJyZW50SW5kZXhdLmZlZWRiYWNrQnVmZmVycyxuPXQ/ZVt0XTpudWxsO3JldHVybiBuP24gaW5zdGFuY2VvZiBwLmE/bjpuLmJ1ZmZlcjpudWxsfX0se2tleToiZ2V0RGF0YSIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e30sZT10LnZhcnlpbmdOYW1lLG49dGhpcy5nZXRCdWZmZXIoZSk7cmV0dXJuIG4/bi5nZXREYXRhKCk6bnVsbH19LHtrZXk6ImRlbGV0ZSIsdmFsdWU6ZnVuY3Rpb24oKXtmb3IodmFyIHQgaW4gdGhpcy5yZXNvdXJjZXMpdGhpcy5yZXNvdXJjZXNbdF0uZGVsZXRlKCl9fSx7a2V5OiJfaW5pdGlhbGl6ZSIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e307dGhpcy5fc2V0dXBCdWZmZXJzKHQpLHRoaXMudmFyeWluZ3M9dC52YXJ5aW5nc3x8T2JqZWN0LmtleXModGhpcy5iaW5kaW5nc1t0aGlzLmN1cnJlbnRJbmRleF0uZmVlZGJhY2tCdWZmZXJzKSx0aGlzLnZhcnlpbmdzLmxlbmd0aD4wJiZPYmplY3QoeS5hKShPYmplY3Qodi5nKSh0aGlzLmdsKSl9fSx7a2V5OiJfZ2V0RmVlZGJhY2tCdWZmZXJzIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10LnNvdXJjZUJ1ZmZlcnMsbj12b2lkIDA9PT1lP3t9OmUscj17fTtpZih0aGlzLmJpbmRpbmdzW3RoaXMuY3VycmVudEluZGV4XSYmT2JqZWN0LmFzc2lnbihyLHRoaXMuYmluZGluZ3NbdGhpcy5jdXJyZW50SW5kZXhdLmZlZWRiYWNrQnVmZmVycyksdGhpcy5mZWVkYmFja01hcClmb3IodmFyIGkgaW4gdGhpcy5mZWVkYmFja01hcCl7dmFyIGE9dGhpcy5mZWVkYmFja01hcFtpXTtpIGluIG4mJihyW2FdPWkpfWZvcih2YXIgbyBpbiBPYmplY3QuYXNzaWduKHIsdC5mZWVkYmFja0J1ZmZlcnMpLHIpe3ZhciBzPXJbb107aWYoInN0cmluZyI9PXR5cGVvZiBzKXt2YXIgdT1uW3NdLGM9dS5ieXRlTGVuZ3RoLGw9dS51c2FnZSxoPXUuYWNjZXNzb3I7cltvXT10aGlzLl9jcmVhdGVOZXdCdWZmZXIobyx7Ynl0ZUxlbmd0aDpjLHVzYWdlOmwsYWNjZXNzb3I6aH0pfX1yZXR1cm4gcn19LHtrZXk6Il9zZXR1cEJ1ZmZlcnMiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9LGU9dC5zb3VyY2VCdWZmZXJzLG49dm9pZCAwPT09ZT9udWxsOmU7T2JqZWN0LmFzc2lnbih0aGlzLmZlZWRiYWNrTWFwLHQuZmVlZGJhY2tNYXApO3ZhciByPXRoaXMuX2dldEZlZWRiYWNrQnVmZmVycyh0KTt0aGlzLl91cGRhdGVCaW5kaW5ncyh7c291cmNlQnVmZmVyczpuLGZlZWRiYWNrQnVmZmVyczpyfSl9fSx7a2V5OiJfc2V0dXBUcmFuc2Zvcm1GZWVkYmFjayIsdmFsdWU6ZnVuY3Rpb24odCxlKXt2YXIgbj1lLm1vZGVsLnByb2dyYW07dC50cmFuc2Zvcm1GZWVkYmFjaz1uZXcgZy5hKHRoaXMuZ2wse3Byb2dyYW06bixidWZmZXJzOnQuZmVlZGJhY2tCdWZmZXJzfSl9fSx7a2V5OiJfdXBkYXRlQmluZGluZ3MiLHZhbHVlOmZ1bmN0aW9uKHQpe2lmKHRoaXMuYmluZGluZ3NbdGhpcy5jdXJyZW50SW5kZXhdPXRoaXMuX3VwZGF0ZUJpbmRpbmcodGhpcy5iaW5kaW5nc1t0aGlzLmN1cnJlbnRJbmRleF0sdCksdGhpcy5mZWVkYmFja01hcCl7dmFyIGU9dGhpcy5fc3dhcEJ1ZmZlcnModGhpcy5iaW5kaW5nc1t0aGlzLmN1cnJlbnRJbmRleF0pLG49ZS5zb3VyY2VCdWZmZXJzLHI9ZS5mZWVkYmFja0J1ZmZlcnMsaT10aGlzLl9nZXROZXh0SW5kZXgoKTt0aGlzLmJpbmRpbmdzW2ldPXRoaXMuX3VwZGF0ZUJpbmRpbmcodGhpcy5iaW5kaW5nc1tpXSx7c291cmNlQnVmZmVyczpuLGZlZWRiYWNrQnVmZmVyczpyfSl9fX0se2tleToiX3VwZGF0ZUJpbmRpbmciLHZhbHVlOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQ/KE9iamVjdC5hc3NpZ24odC5zb3VyY2VCdWZmZXJzLGUuc291cmNlQnVmZmVycyksT2JqZWN0LmFzc2lnbih0LmZlZWRiYWNrQnVmZmVycyxlLmZlZWRiYWNrQnVmZmVycyksdC50cmFuc2Zvcm1GZWVkYmFjayYmdC50cmFuc2Zvcm1GZWVkYmFjay5zZXRCdWZmZXJzKHQuZmVlZGJhY2tCdWZmZXJzKSx0KTp7c291cmNlQnVmZmVyczpPYmplY3QuYXNzaWduKHt9LGUuc291cmNlQnVmZmVycyksZmVlZGJhY2tCdWZmZXJzOk9iamVjdC5hc3NpZ24oe30sZS5mZWVkYmFja0J1ZmZlcnMpfX19LHtrZXk6Il9zd2FwQnVmZmVycyIsdmFsdWU6ZnVuY3Rpb24odCl7aWYoIXRoaXMuZmVlZGJhY2tNYXApcmV0dXJuIG51bGw7dmFyIGU9T2JqZWN0LmFzc2lnbih7fSx0LnNvdXJjZUJ1ZmZlcnMpLG49T2JqZWN0LmFzc2lnbih7fSx0LmZlZWRiYWNrQnVmZmVycyk7Zm9yKHZhciByIGluIHRoaXMuZmVlZGJhY2tNYXApe3ZhciBpPXRoaXMuZmVlZGJhY2tNYXBbcl07ZVtyXT10LmZlZWRiYWNrQnVmZmVyc1tpXSxuW2ldPXQuc291cmNlQnVmZmVyc1tyXSxPYmplY3QoeS5hKShuW2ldaW5zdGFuY2VvZiBwLmEpfXJldHVybntzb3VyY2VCdWZmZXJzOmUsZmVlZGJhY2tCdWZmZXJzOm59fX0se2tleToiX2NyZWF0ZU5ld0J1ZmZlciIsdmFsdWU6ZnVuY3Rpb24odCxlKXt2YXIgbj1uZXcgcC5hKHRoaXMuZ2wsZSk7cmV0dXJuIHRoaXMucmVzb3VyY2VzW3RdJiZ0aGlzLnJlc291cmNlc1t0XS5kZWxldGUoKSx0aGlzLnJlc291cmNlc1t0XT1uLG59fSx7a2V5OiJfZ2V0TmV4dEluZGV4Iix2YWx1ZTpmdW5jdGlvbigpe3JldHVybih0aGlzLmN1cnJlbnRJbmRleCsxKSUyfX1dKSx0fSgpLGI9bigwKSxfPW4oMTkxKSxPPW4oMTI3KSx4PW4oODIpLHc9bigyMjEpO2Z1bmN0aW9uIGsodCl7dmFyIGU9MTAwLG49dC5tYXRjaCgvW15cc10rL2cpO2lmKG4ubGVuZ3RoPj0yJiYiI3ZlcnNpb24iPT09blswXSl7dmFyIHI9cGFyc2VJbnQoblsxXSwxMCk7TnVtYmVyLmlzRmluaXRlKHIpJiYoZT1yKX1yZXR1cm4gZX12YXIgUyxQPW4oMTc4KSxqPXtuYW1lOiJ0cmFuc2Zvcm0iLHZzOiJhdHRyaWJ1dGUgZmxvYXQgdHJhbnNmb3JtX2VsZW1lbnRJRDtcbnZlYzIgdHJhbnNmb3JtX2dldFBpeGVsU2l6ZUhhbGYodmVjMiBzaXplKSB7XG4gIHJldHVybiB2ZWMyKDEuKSAvICgyLiAqIHNpemUpO1xufVxuXG52ZWMyIHRyYW5zZm9ybV9nZXRQaXhlbEluZGljZXModmVjMiB0ZXhTaXplLCB2ZWMyIHBpeGVsU2l6ZUhhbGYpIHtcbiAgZmxvYXQgeUluZGV4ID0gZmxvb3IoKHRyYW5zZm9ybV9lbGVtZW50SUQgLyB0ZXhTaXplWzBdKSArIHBpeGVsU2l6ZUhhbGZbMV0pO1xuICBmbG9hdCB4SW5kZXggPSB0cmFuc2Zvcm1fZWxlbWVudElEIC0gKHlJbmRleCAqIHRleFNpemVbMF0pO1xuICByZXR1cm4gdmVjMih4SW5kZXgsIHlJbmRleCk7XG59XG52ZWMyIHRyYW5zZm9ybV9nZXRUZXhDb29yZCh2ZWMyIHNpemUpIHtcbiAgdmVjMiBwaXhlbFNpemVIYWxmID0gdHJhbnNmb3JtX2dldFBpeGVsU2l6ZUhhbGYoc2l6ZSk7XG4gIHZlYzIgaW5kaWNlcyA9IHRyYW5zZm9ybV9nZXRQaXhlbEluZGljZXMoc2l6ZSwgcGl4ZWxTaXplSGFsZik7XG4gIHZlYzIgY29vcmQgPSBpbmRpY2VzIC8gc2l6ZSArIHBpeGVsU2l6ZUhhbGY7XG4gIHJldHVybiBjb29yZDtcbn1cbnZlYzIgdHJhbnNmb3JtX2dldFBvcyh2ZWMyIHNpemUpIHtcbiAgdmVjMiB0ZXhDb29yZCA9IHRyYW5zZm9ybV9nZXRUZXhDb29yZChzaXplKTtcbiAgdmVjMiBwb3MgPSAodGV4Q29vcmQgKiAoMi4wLCAyLjApKSAtICgxLiwgMS4pO1xuICByZXR1cm4gcG9zO1xufVxudmVjNCB0cmFuc2Zvcm1fZ2V0SW5wdXQoc2FtcGxlcjJEIHRleFNhbXBsZXIsIHZlYzIgc2l6ZSkge1xuICB2ZWMyIHRleENvb3JkID0gdHJhbnNmb3JtX2dldFRleENvb3JkKHNpemUpO1xuICB2ZWM0IHRleHR1cmVDb2xvciA9IHRleHR1cmUyRCh0ZXhTYW1wbGVyLCB0ZXhDb29yZCk7XG4gIHJldHVybiB0ZXh0dXJlQ29sb3I7XG59XG4iLGZzOm51bGx9O2Z1bmN0aW9uIFQodCl7dmFyIGU9dC52cyxuPXQuc291cmNlVGV4dHVyZU1hcCxyPXQudGFyZ2V0VGV4dHVyZVZhcnlpbmcsaT10LnRhcmdldFRleHR1cmUsYT1PYmplY3Qua2V5cyhuKS5sZW5ndGgscz1udWxsLHU9e30sYz1lLGg9e307aWYoYT4wfHxyKXt2YXIgZj1jLnNwbGl0KCJcbiIpLGQ9Zi5zbGljZSgpO2lmKGYuZm9yRWFjaCgoZnVuY3Rpb24odCxlLGkpe2lmKGE+MCl7dmFyIGM9ZnVuY3Rpb24odCxlKXt2YXIgbj17fSxyPWZ1bmN0aW9uKHQpe3JldHVybiBsKHQsWyJhdHRyaWJ1dGUiLCJpbiJdKX0odCk7aWYoIXIpcmV0dXJuIG51bGw7dmFyIGk9ci50eXBlLGE9ci5uYW1lO2lmKGEmJmVbYV0pe3ZhciBzPSIvLyAiLmNvbmNhdCh0LCIgPT4gUmVwbGFjZWQgYnkgVHJhbnNmb3JtIHdpdGggYSBzYW1wbGVyIiksdT1mdW5jdGlvbih0KXt2YXIgZT0iIi5jb25jYXQoInRyYW5zZm9ybV91U2FtcGxlcl8iKS5jb25jYXQodCksbj0iIi5jb25jYXQoInRyYW5zZm9ybV91U2l6ZV8iKS5jb25jYXQodCkscj0iICB1bmlmb3JtIHNhbXBsZXIyRCAiLmNvbmNhdChlLCI7XG4gIHVuaWZvcm0gdmVjMiAiKS5jb25jYXQobiwiOyIpO3JldHVybntzYW1wbGVyTmFtZTplLHNpemVOYW1lOm4sdW5pZm9ybURlY2xlcmF0aW9uczpyfX0oYSksYz11LnNhbXBsZXJOYW1lLGg9dS5zaXplTmFtZSxmPXUudW5pZm9ybURlY2xlcmF0aW9ucyxkPWZ1bmN0aW9uKHQpe3N3aXRjaCh0KXtjYXNlImZsb2F0IjpyZXR1cm4ieCI7Y2FzZSJ2ZWMyIjpyZXR1cm4ieHkiO2Nhc2UidmVjMyI6cmV0dXJuInh5eiI7Y2FzZSJ2ZWM0IjpyZXR1cm4ieHl6dyI7ZGVmYXVsdDpyZXR1cm4gT2JqZWN0KG8uYSkoITEpLG51bGx9fShpKSx2PSIgICIuY29uY2F0KGksIiAiKS5jb25jYXQoYSwiID0gdHJhbnNmb3JtX2dldElucHV0KCIpLmNvbmNhdChjLCIsICIpLmNvbmNhdChoLCIpLiIpLmNvbmNhdChkLCI7XG4iKTtyZXR1cm4gbltjXT1hLHt1cGRhdGVkTGluZTpzLGluamVjdDp7InZzOiNkZWNsIjpmLCJ2czojbWFpbi1zdGFydCI6dn0sc2FtcGxlclRleHR1cmVNYXA6bn19cmV0dXJuIG51bGx9KHQsbik7aWYoYyl7dmFyIGY9Yy51cGRhdGVkTGluZSx2PWMuaW5qZWN0O2RbZV09ZixoPU9iamVjdChQLmIpKFtoLHZdKSxPYmplY3QuYXNzaWduKHUsYy5zYW1wbGVyVGV4dHVyZU1hcCksYS0tfX1yJiYhcyYmKHM9ZnVuY3Rpb24odCxlKXt2YXIgbj1sKHQsWyJ2YXJ5aW5nIiwib3V0Il0pO2lmKCFuKXJldHVybiBudWxsO3JldHVybiBuLm5hbWU9PT1lP24udHlwZTpudWxsfSh0LHIpKX0pKSxyKXtPYmplY3QoeS5hKShpKTt2YXIgdj0iIi5jb25jYXQoInRyYW5zZm9ybV91U2l6ZV8iKS5jb25jYXQocikscD17InZzOiNkZWNsIjoidW5pZm9ybSB2ZWMyICIuY29uY2F0KHYsIjtcbiIpLCJ2czojbWFpbi1zdGFydCI6IiAgICAgdmVjMiAiLmNvbmNhdCgidHJhbnNmb3JtX3Bvc2l0aW9uIiwiID0gdHJhbnNmb3JtX2dldFBvcygiKS5jb25jYXQodiwiKTtcbiAgICAgZ2xfUG9zaXRpb24gPSB2ZWM0KCIpLmNvbmNhdCgidHJhbnNmb3JtX3Bvc2l0aW9uIiwiLCAwLCAxLik7XG4iKX07aD1PYmplY3QoUC5iKShbaCxwXSl9Yz1kLmpvaW4oIlxuIil9cmV0dXJue3ZzOmMsdGFyZ2V0VGV4dHVyZVR5cGU6cyxpbmplY3Q6aCxzYW1wbGVyVGV4dHVyZU1hcDp1fX1mdW5jdGlvbiBFKHQpe3ZhciBlLG4scj10LnNvdXJjZVRleHR1cmVNYXAsaT10LnRhcmdldFRleHR1cmVWYXJ5aW5nLGE9dC50YXJnZXRUZXh0dXJlLG89e307Zm9yKHZhciBzIGluIGkmJihlPWEud2lkdGgsbj1hLmhlaWdodCxvWyIiLmNvbmNhdCgidHJhbnNmb3JtX3VTaXplXyIpLmNvbmNhdChpKV09W2Usbl0pLHIpe3ZhciB1PXJbc107ZT11LndpZHRoLG49dS5oZWlnaHQsb1siIi5jb25jYXQoInRyYW5zZm9ybV91U2l6ZV8iKS5jb25jYXQocyldPVtlLG5dfXJldHVybiBvfXZhciBBPShTPXt9LE9iamVjdChiLmEpKFMsMTAyNDEsOTcyOCksT2JqZWN0KGIuYSkoUywxMDI0MCw5NzI4KSxPYmplY3QoYi5hKShTLDEwMjQyLDMzMDcxKSxPYmplY3QoYi5hKShTLDEwMjQzLDMzMDcxKSxTKSxNPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlKXt2YXIgbj1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06e307T2JqZWN0KHIuYSkodGhpcyx0KSx0aGlzLmdsPWUsdGhpcy5jdXJyZW50SW5kZXg9MCx0aGlzLl9zd2FwVGV4dHVyZT1udWxsLHRoaXMudGFyZ2V0VGV4dHVyZVZhcnlpbmc9bnVsbCx0aGlzLnRhcmdldFRleHR1cmVUeXBlPW51bGwsdGhpcy5zYW1wbGVyVGV4dHVyZU1hcD1udWxsLHRoaXMuYmluZGluZ3M9W10sdGhpcy5yZXNvdXJjZXM9e30sdGhpcy5faW5pdGlhbGl6ZShuKSxPYmplY3Quc2VhbCh0aGlzKX1yZXR1cm4gT2JqZWN0KGkuYSkodCxbe2tleToidXBkYXRlTW9kZWxQcm9wcyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e30sZT10aGlzLl9wcm9jZXNzVmVydGV4U2hhZGVyKHQpO3JldHVybiBPYmplY3QuYXNzaWduKHt9LHQsZSl9fSx7a2V5OiJnZXREcmF3T3B0aW9ucyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e30sZT10aGlzLmJpbmRpbmdzW3RoaXMuY3VycmVudEluZGV4XSxuPWUuc291cmNlQnVmZmVycyxyPWUuc291cmNlVGV4dHVyZXMsaT1lLmZyYW1lYnVmZmVyLGE9ZS50YXJnZXRUZXh0dXJlLG89T2JqZWN0LmFzc2lnbih7fSxuLHQuYXR0cmlidXRlcykscz1PYmplY3QuYXNzaWduKHt9LHQudW5pZm9ybXMpLHU9T2JqZWN0LmFzc2lnbih7fSx0LnBhcmFtZXRlcnMpLGM9dC5kaXNjYXJkO2lmKHRoaXMuaGFzU291cmNlVGV4dHVyZXN8fHRoaXMuaGFzVGFyZ2V0VGV4dHVyZSl7Zm9yKHZhciBsIGluIG8udHJhbnNmb3JtX2VsZW1lbnRJRD10aGlzLmVsZW1lbnRJREJ1ZmZlcix0aGlzLnNhbXBsZXJUZXh0dXJlTWFwKXt2YXIgaD10aGlzLnNhbXBsZXJUZXh0dXJlTWFwW2xdO3NbbF09cltoXX10aGlzLl9zZXRTb3VyY2VUZXh0dXJlUGFyYW1ldGVycygpO3ZhciBmPUUoe3NvdXJjZVRleHR1cmVNYXA6cix0YXJnZXRUZXh0dXJlVmFyeWluZzp0aGlzLnRhcmdldFRleHR1cmVWYXJ5aW5nLHRhcmdldFRleHR1cmU6YX0pO09iamVjdC5hc3NpZ24ocyxmKX1yZXR1cm4gdGhpcy5oYXNUYXJnZXRUZXh0dXJlJiYoYz0hMSx1LnZpZXdwb3J0PVswLDAsaS53aWR0aCxpLmhlaWdodF0pLHthdHRyaWJ1dGVzOm8sZnJhbWVidWZmZXI6aSx1bmlmb3JtczpzLGRpc2NhcmQ6YyxwYXJhbWV0ZXJzOnV9fX0se2tleToic3dhcCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4hIXRoaXMuX3N3YXBUZXh0dXJlJiYodGhpcy5jdXJyZW50SW5kZXg9dGhpcy5fZ2V0TmV4dEluZGV4KCksITApfX0se2tleToidXBkYXRlIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fTt0aGlzLl9zZXR1cFRleHR1cmVzKHQpfX0se2tleToiZ2V0VGFyZ2V0VGV4dHVyZSIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5iaW5kaW5nc1t0aGlzLmN1cnJlbnRJbmRleF0udGFyZ2V0VGV4dHVyZX19LHtrZXk6ImdldERhdGEiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9LGU9dC5wYWNrZWQsbj12b2lkIDAhPT1lJiZlLHI9dGhpcy5iaW5kaW5nc1t0aGlzLmN1cnJlbnRJbmRleF0uZnJhbWVidWZmZXIsaT1PYmplY3QoXy5jKShyKTtpZighbilyZXR1cm4gaTtmb3IodmFyIGE9aS5jb25zdHJ1Y3RvcixvPWYodGhpcy50YXJnZXRUZXh0dXJlVHlwZSkscz1uZXcgYShpLmxlbmd0aCpvLzQpLHU9MCxjPTA7YzxpLmxlbmd0aDtjKz00KWZvcih2YXIgbD0wO2w8bztsKyspc1t1KytdPWlbYytsXTtyZXR1cm4gc319LHtrZXk6ImdldEZyYW1lYnVmZmVyIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmJpbmRpbmdzW3RoaXMuY3VycmVudEluZGV4XS5mcmFtZWJ1ZmZlcn19LHtrZXk6ImRlbGV0ZSIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLm93blRleHR1cmUmJnRoaXMub3duVGV4dHVyZS5kZWxldGUoKSx0aGlzLmVsZW1lbnRJREJ1ZmZlciYmdGhpcy5lbGVtZW50SURCdWZmZXIuZGVsZXRlKCl9fSx7a2V5OiJfaW5pdGlhbGl6ZSIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e30sZT10Ll90YXJnZXRUZXh0dXJlVmFyeWluZyxuPXQuX3N3YXBUZXh0dXJlO3RoaXMuX3N3YXBUZXh0dXJlPW4sdGhpcy50YXJnZXRUZXh0dXJlVmFyeWluZz1lLHRoaXMuaGFzVGFyZ2V0VGV4dHVyZT1lLHRoaXMuX3NldHVwVGV4dHVyZXModCl9fSx7a2V5OiJfY3JlYXRlVGFyZ2V0VGV4dHVyZSIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dC5zb3VyY2VUZXh0dXJlcyxuPXQudGV4dHVyZU9yUmVmZXJlbmNlO2lmKG4gaW5zdGFuY2VvZiBPLmEpcmV0dXJuIG47dmFyIHI9ZVtuXTtyZXR1cm4gcj8odGhpcy5fdGFyZ2V0UmVmVGV4TmFtZT1uLHRoaXMuX2NyZWF0ZU5ld1RleHR1cmUocikpOm51bGx9fSx7a2V5OiJfc2V0dXBUZXh0dXJlcyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e30sZT10LnNvdXJjZUJ1ZmZlcnMsbj10Ll9zb3VyY2VUZXh0dXJlcyxyPXZvaWQgMD09PW4/e306bixpPXQuX3RhcmdldFRleHR1cmUsYT10aGlzLl9jcmVhdGVUYXJnZXRUZXh0dXJlKHtzb3VyY2VUZXh0dXJlczpyLHRleHR1cmVPclJlZmVyZW5jZTppfSk7dGhpcy5oYXNTb3VyY2VUZXh0dXJlcz10aGlzLmhhc1NvdXJjZVRleHR1cmVzfHxyJiZPYmplY3Qua2V5cyhyKS5sZW5ndGg+MCx0aGlzLl91cGRhdGVCaW5kaW5ncyh7c291cmNlQnVmZmVyczplLHNvdXJjZVRleHR1cmVzOnIsdGFyZ2V0VGV4dHVyZTphfSksImVsZW1lbnRDb3VudCJpbiB0JiZ0aGlzLl91cGRhdGVFbGVtZW50SURCdWZmZXIodC5lbGVtZW50Q291bnQpfX0se2tleToiX3VwZGF0ZUVsZW1lbnRJREJ1ZmZlciIsdmFsdWU6ZnVuY3Rpb24odCl7aWYoISgibnVtYmVyIiE9dHlwZW9mIHR8fHRoaXMuZWxlbWVudENvdW50Pj10KSl7dmFyIGU9bmV3IEZsb2F0MzJBcnJheSh0KTtlLmZvckVhY2goKGZ1bmN0aW9uKHQsZSxuKXtuW2VdPWV9KSksdGhpcy5lbGVtZW50SURCdWZmZXI/dGhpcy5lbGVtZW50SURCdWZmZXIuc2V0RGF0YSh7ZGF0YTplfSk6dGhpcy5lbGVtZW50SURCdWZmZXI9bmV3IHAuYSh0aGlzLmdsLHtkYXRhOmUsYWNjZXNzb3I6e3NpemU6MX19KSx0aGlzLmVsZW1lbnRDb3VudD10fX19LHtrZXk6Il91cGRhdGVCaW5kaW5ncyIsdmFsdWU6ZnVuY3Rpb24odCl7aWYodGhpcy5iaW5kaW5nc1t0aGlzLmN1cnJlbnRJbmRleF09dGhpcy5fdXBkYXRlQmluZGluZyh0aGlzLmJpbmRpbmdzW3RoaXMuY3VycmVudEluZGV4XSx0KSx0aGlzLl9zd2FwVGV4dHVyZSl7dmFyIGU9dGhpcy5fc3dhcFRleHR1cmVzKHRoaXMuYmluZGluZ3NbdGhpcy5jdXJyZW50SW5kZXhdKSxuPWUuc291cmNlVGV4dHVyZXMscj1lLnRhcmdldFRleHR1cmUsaT10aGlzLl9nZXROZXh0SW5kZXgoKTt0aGlzLmJpbmRpbmdzW2ldPXRoaXMuX3VwZGF0ZUJpbmRpbmcodGhpcy5iaW5kaW5nc1tpXSx7c291cmNlVGV4dHVyZXM6bix0YXJnZXRUZXh0dXJlOnJ9KX19fSx7a2V5OiJfdXBkYXRlQmluZGluZyIsdmFsdWU6ZnVuY3Rpb24odCxlKXt2YXIgbj1lLnNvdXJjZUJ1ZmZlcnMscj1lLnNvdXJjZVRleHR1cmVzLGk9ZS50YXJnZXRUZXh0dXJlO2lmKHR8fCh0PXtzb3VyY2VCdWZmZXJzOnt9LHNvdXJjZVRleHR1cmVzOnt9LHRhcmdldFRleHR1cmU6bnVsbH0pLE9iamVjdC5hc3NpZ24odC5zb3VyY2VUZXh0dXJlcyxyKSxPYmplY3QuYXNzaWduKHQuc291cmNlQnVmZmVycyxuKSxpKXt0LnRhcmdldFRleHR1cmU9aTt2YXIgYT1pLndpZHRoLG89aS5oZWlnaHQscz10LmZyYW1lYnVmZmVyO3M/KHMudXBkYXRlKHthdHRhY2htZW50czpPYmplY3QoYi5hKSh7fSwzNjA2NCxpKSxyZXNpemVBdHRhY2htZW50czohMX0pLHMucmVzaXplKHt3aWR0aDphLGhlaWdodDpvfSkpOnQuZnJhbWVidWZmZXI9bmV3IHguYSh0aGlzLmdsLHtpZDoiIi5jb25jYXQodGhpcy5pZHx8InRyYW5zZm9ybSIsIi1mcmFtZWJ1ZmZlciIpLHdpZHRoOmEsaGVpZ2h0Om8sYXR0YWNobWVudHM6T2JqZWN0KGIuYSkoe30sMzYwNjQsaSl9KX1yZXR1cm4gdH19LHtrZXk6Il9zZXRTb3VyY2VUZXh0dXJlUGFyYW1ldGVycyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmN1cnJlbnRJbmRleCxlPXRoaXMuYmluZGluZ3NbdF0uc291cmNlVGV4dHVyZXM7Zm9yKHZhciBuIGluIGUpZVtuXS5zZXRQYXJhbWV0ZXJzKEEpfX0se2tleToiX3N3YXBUZXh0dXJlcyIsdmFsdWU6ZnVuY3Rpb24odCl7aWYoIXRoaXMuX3N3YXBUZXh0dXJlKXJldHVybiBudWxsO3ZhciBlPU9iamVjdC5hc3NpZ24oe30sdC5zb3VyY2VUZXh0dXJlcyk7cmV0dXJuIGVbdGhpcy5fc3dhcFRleHR1cmVdPXQudGFyZ2V0VGV4dHVyZSx7c291cmNlVGV4dHVyZXM6ZSx0YXJnZXRUZXh0dXJlOnQuc291cmNlVGV4dHVyZXNbdGhpcy5fc3dhcFRleHR1cmVdfX19LHtrZXk6Il9jcmVhdGVOZXdUZXh0dXJlIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZSxuPU9iamVjdCh3LmEpKHQse3BhcmFtZXRlcnM6KGU9e30sT2JqZWN0KGIuYSkoZSwxMDI0MSw5NzI4KSxPYmplY3QoYi5hKShlLDEwMjQwLDk3MjgpLE9iamVjdChiLmEpKGUsMTAyNDIsMzMwNzEpLE9iamVjdChiLmEpKGUsMTAyNDMsMzMwNzEpLGUpLHBpeGVsU3RvcmU6T2JqZWN0KGIuYSkoe30sMzc0NDAsITEpfSk7cmV0dXJuIHRoaXMub3duVGV4dHVyZSYmdGhpcy5vd25UZXh0dXJlLmRlbGV0ZSgpLHRoaXMub3duVGV4dHVyZT1uLG59fSx7a2V5OiJfZ2V0TmV4dEluZGV4Iix2YWx1ZTpmdW5jdGlvbigpe3JldHVybih0aGlzLmN1cnJlbnRJbmRleCsxKSUyfX0se2tleToiX3Byb2Nlc3NWZXJ0ZXhTaGFkZXIiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9LGU9dGhpcy5iaW5kaW5nc1t0aGlzLmN1cnJlbnRJbmRleF0sbj1lLnNvdXJjZVRleHR1cmVzLHI9ZS50YXJnZXRUZXh0dXJlLGk9VCh7dnM6dC52cyxzb3VyY2VUZXh0dXJlTWFwOm4sdGFyZ2V0VGV4dHVyZVZhcnlpbmc6dGhpcy50YXJnZXRUZXh0dXJlVmFyeWluZyx0YXJnZXRUZXh0dXJlOnJ9KSxhPWkudnMsbz1pLnVuaWZvcm1zLHM9aS50YXJnZXRUZXh0dXJlVHlwZSx1PWkuaW5qZWN0LGM9aS5zYW1wbGVyVGV4dHVyZU1hcCxsPU9iamVjdChQLmIpKFt0LmluamVjdHx8e30sdV0pO3RoaXMudGFyZ2V0VGV4dHVyZVR5cGU9cyx0aGlzLnNhbXBsZXJUZXh0dXJlTWFwPWM7dmFyIGY9dC5fZnN8fGgoe3ZlcnNpb246ayhhKSxpbnB1dDp0aGlzLnRhcmdldFRleHR1cmVWYXJ5aW5nLGlucHV0VHlwZTpzLG91dHB1dDoidHJhbnNmb3JtX291dHB1dCJ9KSxkPXRoaXMuaGFzU291cmNlVGV4dHVyZXN8fHRoaXMudGFyZ2V0VGV4dHVyZVZhcnlpbmc/W2pdLmNvbmNhdCh0Lm1vZHVsZXN8fFtdKTp0Lm1vZHVsZXM7cmV0dXJue3ZzOmEsZnM6Zixtb2R1bGVzOmQsdW5pZm9ybXM6byxpbmplY3Q6bH19fV0pLHR9KCksQz1uKDExNSksTD1uKDE3NSk7bi5kKGUsImEiLChmdW5jdGlvbigpe3JldHVybiBJfSkpO3ZhciBJPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlKXt2YXIgbj1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06e307T2JqZWN0KHIuYSkodGhpcyx0KSx0aGlzLmdsPWUsdGhpcy5tb2RlbD1udWxsLHRoaXMuZWxlbWVudENvdW50PTAsdGhpcy5idWZmZXJUcmFuc2Zvcm09bnVsbCx0aGlzLnRleHR1cmVUcmFuc2Zvcm09bnVsbCx0aGlzLmVsZW1lbnRJREJ1ZmZlcj1udWxsLHRoaXMuX2luaXRpYWxpemUobiksT2JqZWN0LnNlYWwodGhpcyl9cmV0dXJuIE9iamVjdChpLmEpKHQsbnVsbCxbe2tleToiaXNTdXBwb3J0ZWQiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3Qodi5nKSh0KX19XSksT2JqZWN0KGkuYSkodCxbe2tleToiZGVsZXRlIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMubW9kZWwsZT10aGlzLmJ1ZmZlclRyYW5zZm9ybSxuPXRoaXMudGV4dHVyZVRyYW5zZm9ybTt0JiZ0LmRlbGV0ZSgpLGUmJmUuZGVsZXRlKCksbiYmbi5kZWxldGUoKX19LHtrZXk6InJ1biIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e30sZT10LmNsZWFyUmVuZGVyVGFyZ2V0LG49dm9pZCAwPT09ZXx8ZSxyPXRoaXMuX3VwZGF0ZURyYXdPcHRpb25zKHQpO24mJnIuZnJhbWVidWZmZXImJnIuZnJhbWVidWZmZXIuY2xlYXIoe2NvbG9yOiEwfSksdGhpcy5tb2RlbC50cmFuc2Zvcm0ocil9fSx7a2V5OiJzd2FwIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PSExLGU9W3RoaXMuYnVmZmVyVHJhbnNmb3JtLHRoaXMudGV4dHVyZVRyYW5zZm9ybV0uZmlsdGVyKEJvb2xlYW4pLG49ITAscj0hMSxpPXZvaWQgMDt0cnl7Zm9yKHZhciBhLG89ZVtTeW1ib2wuaXRlcmF0b3JdKCk7IShuPShhPW8ubmV4dCgpKS5kb25lKTtuPSEwKXt2YXIgcz1hLnZhbHVlO3Q9dHx8cy5zd2FwKCl9fWNhdGNoKHQpe3I9ITAsaT10fWZpbmFsbHl7dHJ5e258fG51bGw9PW8ucmV0dXJufHxvLnJldHVybigpfWZpbmFsbHl7aWYocil0aHJvdyBpfX1PYmplY3QoeS5hKSh0LCJOb3RoaW5nIHRvIHN3YXAiKX19LHtrZXk6ImdldEJ1ZmZlciIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06bnVsbDtyZXR1cm4gdGhpcy5idWZmZXJUcmFuc2Zvcm0mJnRoaXMuYnVmZmVyVHJhbnNmb3JtLmdldEJ1ZmZlcih0KX19LHtrZXk6ImdldERhdGEiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9LGU9W3RoaXMuYnVmZmVyVHJhbnNmb3JtLHRoaXMudGV4dHVyZVRyYW5zZm9ybV0uZmlsdGVyKEJvb2xlYW4pLG49ITAscj0hMSxpPXZvaWQgMDt0cnl7Zm9yKHZhciBhLG89ZVtTeW1ib2wuaXRlcmF0b3JdKCk7IShuPShhPW8ubmV4dCgpKS5kb25lKTtuPSEwKXt2YXIgcz1hLnZhbHVlLHU9cy5nZXREYXRhKHQpO2lmKHUpcmV0dXJuIHV9fWNhdGNoKHQpe3I9ITAsaT10fWZpbmFsbHl7dHJ5e258fG51bGw9PW8ucmV0dXJufHxvLnJldHVybigpfWZpbmFsbHl7aWYocil0aHJvdyBpfX1yZXR1cm4gbnVsbH19LHtrZXk6ImdldEZyYW1lYnVmZmVyIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnRleHR1cmVUcmFuc2Zvcm0mJnRoaXMudGV4dHVyZVRyYW5zZm9ybS5nZXRGcmFtZWJ1ZmZlcigpfX0se2tleToidXBkYXRlIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fTsiZWxlbWVudENvdW50ImluIHQmJnRoaXMubW9kZWwuc2V0VmVydGV4Q291bnQodC5lbGVtZW50Q291bnQpO3ZhciBlPVt0aGlzLmJ1ZmZlclRyYW5zZm9ybSx0aGlzLnRleHR1cmVUcmFuc2Zvcm1dLmZpbHRlcihCb29sZWFuKSxuPSEwLHI9ITEsaT12b2lkIDA7dHJ5e2Zvcih2YXIgYSxvPWVbU3ltYm9sLml0ZXJhdG9yXSgpOyEobj0oYT1vLm5leHQoKSkuZG9uZSk7bj0hMCl7dmFyIHM9YS52YWx1ZTtzLnVwZGF0ZSh0KX19Y2F0Y2godCl7cj0hMCxpPXR9ZmluYWxseXt0cnl7bnx8bnVsbD09by5yZXR1cm58fG8ucmV0dXJuKCl9ZmluYWxseXtpZihyKXRocm93IGl9fX19LHtrZXk6Il9pbml0aWFsaXplIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fSxlPXRoaXMuZ2w7dGhpcy5fYnVpbGRSZXNvdXJjZVRyYW5zZm9ybXMoZSx0KSx0PXRoaXMuX3VwZGF0ZU1vZGVsUHJvcHModCksdGhpcy5tb2RlbD1uZXcgTC5hKGUsT2JqZWN0LmFzc2lnbih7fSx0LHtmczp0LmZzfHxoKHt2ZXJzaW9uOmsodC52cyl9KSxpZDp0LmlkfHwidHJhbnNmb3JtLW1vZGVsIixkcmF3TW9kZTp0LmRyYXdNb2RlfHwwLHZlcnRleENvdW50OnQuZWxlbWVudENvdW50fSkpLHRoaXMuYnVmZmVyVHJhbnNmb3JtJiZ0aGlzLmJ1ZmZlclRyYW5zZm9ybS5zZXR1cFJlc291cmNlcyh7bW9kZWw6dGhpcy5tb2RlbH0pfX0se2tleToiX3VwZGF0ZU1vZGVsUHJvcHMiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPU9iamVjdC5hc3NpZ24oe30sdCksbj1bdGhpcy5idWZmZXJUcmFuc2Zvcm0sdGhpcy50ZXh0dXJlVHJhbnNmb3JtXS5maWx0ZXIoQm9vbGVhbikscj0hMCxpPSExLGE9dm9pZCAwO3RyeXtmb3IodmFyIG8scz1uW1N5bWJvbC5pdGVyYXRvcl0oKTshKHI9KG89cy5uZXh0KCkpLmRvbmUpO3I9ITApe2U9by52YWx1ZS51cGRhdGVNb2RlbFByb3BzKGUpfX1jYXRjaCh0KXtpPSEwLGE9dH1maW5hbGx5e3RyeXtyfHxudWxsPT1zLnJldHVybnx8cy5yZXR1cm4oKX1maW5hbGx5e2lmKGkpdGhyb3cgYX19cmV0dXJuIGV9fSx7a2V5OiJfYnVpbGRSZXNvdXJjZVRyYW5zZm9ybXMiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7KGZ1bmN0aW9uKHQpe2lmKCFPYmplY3QoQy5hKSh0LmZlZWRiYWNrQnVmZmVycyl8fCFPYmplY3QoQy5hKSh0LmZlZWRiYWNrTWFwKXx8dC52YXJ5aW5ncyYmdC52YXJ5aW5ncy5sZW5ndGg+MClyZXR1cm4hMDtyZXR1cm4hMX0pKGUpJiYodGhpcy5idWZmZXJUcmFuc2Zvcm09bmV3IG0odCxlKSksZnVuY3Rpb24odCl7aWYoIU9iamVjdChDLmEpKHQuX3NvdXJjZVRleHR1cmVzKXx8dC5fdGFyZ2V0VGV4dHVyZXx8dC5fdGFyZ2V0VGV4dHVyZVZhcnlpbmcpcmV0dXJuITA7cmV0dXJuITF9KGUpJiYodGhpcy50ZXh0dXJlVHJhbnNmb3JtPW5ldyBNKHQsZSkpLE9iamVjdCh5LmEpKHRoaXMuYnVmZmVyVHJhbnNmb3JtfHx0aGlzLnRleHR1cmVUcmFuc2Zvcm0sIm11c3QgcHJvdmlkZSBzb3VyY2UvZmVlZGJhY2sgYnVmZmVycyBvciBzb3VyY2UvdGFyZ2V0IHRleHR1cmVzIil9fSx7a2V5OiJfdXBkYXRlRHJhd09wdGlvbnMiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPU9iamVjdC5hc3NpZ24oe30sdCksbj1bdGhpcy5idWZmZXJUcmFuc2Zvcm0sdGhpcy50ZXh0dXJlVHJhbnNmb3JtXS5maWx0ZXIoQm9vbGVhbikscj0hMCxpPSExLGE9dm9pZCAwO3RyeXtmb3IodmFyIG8scz1uW1N5bWJvbC5pdGVyYXRvcl0oKTshKHI9KG89cy5uZXh0KCkpLmRvbmUpO3I9ITApe3ZhciB1PW8udmFsdWU7ZT1PYmplY3QuYXNzaWduKGUsdS5nZXREcmF3T3B0aW9ucyhlKSl9fWNhdGNoKHQpe2k9ITAsYT10fWZpbmFsbHl7dHJ5e3J8fG51bGw9PXMucmV0dXJufHxzLnJldHVybigpfWZpbmFsbHl7aWYoaSl0aHJvdyBhfX1yZXR1cm4gZX19XSksdH0oKX0sZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiByKHQpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTpbXSxuPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTowLHI9TWF0aC5mcm91bmQodCksaT10LXI7cmV0dXJuIGVbbl09cixlW24rMV09aSxlfWZ1bmN0aW9uIGkodCl7cmV0dXJuIHQtTWF0aC5mcm91bmQodCl9bi5kKGUsImIiLChmdW5jdGlvbigpe3JldHVybiBvfSkpO3ZhciBhPXtPTkU6MX07dmFyIG89e25hbWU6ImZwNjQtYXJpdGhtZXRpYyIsdnM6InVuaWZvcm0gZmxvYXQgT05FO1xudmVjMiBzcGxpdChmbG9hdCBhKSB7XG4gIGNvbnN0IGZsb2F0IFNQTElUID0gNDA5Ny4wO1xuICBmbG9hdCB0ID0gYSAqIFNQTElUO1xuI2lmIGRlZmluZWQoTFVNQV9GUDY0X0NPREVfRUxJTUlOQVRJT05fV09SS0FST1VORClcbiAgZmxvYXQgYV9oaSA9IHQgKiBPTkUgLSAodCAtIGEpO1xuICBmbG9hdCBhX2xvID0gYSAqIE9ORSAtIGFfaGk7XG4jZWxzZVxuICBmbG9hdCBhX2hpID0gdCAtICh0IC0gYSk7XG4gIGZsb2F0IGFfbG8gPSBhIC0gYV9oaTtcbiNlbmRpZlxuICByZXR1cm4gdmVjMihhX2hpLCBhX2xvKTtcbn1cbnZlYzIgc3BsaXQyKHZlYzIgYSkge1xuICB2ZWMyIGIgPSBzcGxpdChhLngpO1xuICBiLnkgKz0gYS55O1xuICByZXR1cm4gYjtcbn1cbnZlYzIgcXVpY2tUd29TdW0oZmxvYXQgYSwgZmxvYXQgYikge1xuI2lmIGRlZmluZWQoTFVNQV9GUDY0X0NPREVfRUxJTUlOQVRJT05fV09SS0FST1VORClcbiAgZmxvYXQgc3VtID0gKGEgKyBiKSAqIE9ORTtcbiAgZmxvYXQgZXJyID0gYiAtIChzdW0gLSBhKSAqIE9ORTtcbiNlbHNlXG4gIGZsb2F0IHN1bSA9IGEgKyBiO1xuICBmbG9hdCBlcnIgPSBiIC0gKHN1bSAtIGEpO1xuI2VuZGlmXG4gIHJldHVybiB2ZWMyKHN1bSwgZXJyKTtcbn1cbnZlYzIgdHdvU3VtKGZsb2F0IGEsIGZsb2F0IGIpIHtcbiAgZmxvYXQgcyA9IChhICsgYik7XG4jaWYgZGVmaW5lZChMVU1BX0ZQNjRfQ09ERV9FTElNSU5BVElPTl9XT1JLQVJPVU5EKVxuICBmbG9hdCB2ID0gKHMgKiBPTkUgLSBhKSAqIE9ORTtcbiAgZmxvYXQgZXJyID0gKGEgLSAocyAtIHYpICogT05FKSAqIE9ORSAqIE9ORSAqIE9ORSArIChiIC0gdik7XG4jZWxzZVxuICBmbG9hdCB2ID0gcyAtIGE7XG4gIGZsb2F0IGVyciA9IChhIC0gKHMgLSB2KSkgKyAoYiAtIHYpO1xuI2VuZGlmXG4gIHJldHVybiB2ZWMyKHMsIGVycik7XG59XG5cbnZlYzIgdHdvU3ViKGZsb2F0IGEsIGZsb2F0IGIpIHtcbiAgZmxvYXQgcyA9IChhIC0gYik7XG4jaWYgZGVmaW5lZChMVU1BX0ZQNjRfQ09ERV9FTElNSU5BVElPTl9XT1JLQVJPVU5EKVxuICBmbG9hdCB2ID0gKHMgKiBPTkUgLSBhKSAqIE9ORTtcbiAgZmxvYXQgZXJyID0gKGEgLSAocyAtIHYpICogT05FKSAqIE9ORSAqIE9ORSAqIE9ORSAtIChiICsgdik7XG4jZWxzZVxuICBmbG9hdCB2ID0gcyAtIGE7XG4gIGZsb2F0IGVyciA9IChhIC0gKHMgLSB2KSkgLSAoYiArIHYpO1xuI2VuZGlmXG4gIHJldHVybiB2ZWMyKHMsIGVycik7XG59XG5cbnZlYzIgdHdvU3FyKGZsb2F0IGEpIHtcbiAgZmxvYXQgcHJvZCA9IGEgKiBhO1xuICB2ZWMyIGFfZnA2NCA9IHNwbGl0KGEpO1xuI2lmIGRlZmluZWQoTFVNQV9GUDY0X0NPREVfRUxJTUlOQVRJT05fV09SS0FST1VORClcbiAgZmxvYXQgZXJyID0gKChhX2ZwNjQueCAqIGFfZnA2NC54IC0gcHJvZCkgKiBPTkUgKyAyLjAgKiBhX2ZwNjQueCAqXG4gICAgYV9mcDY0LnkgKiBPTkUgKiBPTkUpICsgYV9mcDY0LnkgKiBhX2ZwNjQueSAqIE9ORSAqIE9ORSAqIE9ORTtcbiNlbHNlXG4gIGZsb2F0IGVyciA9ICgoYV9mcDY0LnggKiBhX2ZwNjQueCAtIHByb2QpICsgMi4wICogYV9mcDY0LnggKiBhX2ZwNjQueSkgKyBhX2ZwNjQueSAqIGFfZnA2NC55O1xuI2VuZGlmXG4gIHJldHVybiB2ZWMyKHByb2QsIGVycik7XG59XG5cbnZlYzIgdHdvUHJvZChmbG9hdCBhLCBmbG9hdCBiKSB7XG4gIGZsb2F0IHByb2QgPSBhICogYjtcbiAgdmVjMiBhX2ZwNjQgPSBzcGxpdChhKTtcbiAgdmVjMiBiX2ZwNjQgPSBzcGxpdChiKTtcbiAgZmxvYXQgZXJyID0gKChhX2ZwNjQueCAqIGJfZnA2NC54IC0gcHJvZCkgKyBhX2ZwNjQueCAqIGJfZnA2NC55ICtcbiAgICBhX2ZwNjQueSAqIGJfZnA2NC54KSArIGFfZnA2NC55ICogYl9mcDY0Lnk7XG4gIHJldHVybiB2ZWMyKHByb2QsIGVycik7XG59XG5cbnZlYzIgc3VtX2ZwNjQodmVjMiBhLCB2ZWMyIGIpIHtcbiAgdmVjMiBzLCB0O1xuICBzID0gdHdvU3VtKGEueCwgYi54KTtcbiAgdCA9IHR3b1N1bShhLnksIGIueSk7XG4gIHMueSArPSB0Lng7XG4gIHMgPSBxdWlja1R3b1N1bShzLngsIHMueSk7XG4gIHMueSArPSB0Lnk7XG4gIHMgPSBxdWlja1R3b1N1bShzLngsIHMueSk7XG4gIHJldHVybiBzO1xufVxuXG52ZWMyIHN1Yl9mcDY0KHZlYzIgYSwgdmVjMiBiKSB7XG4gIHZlYzIgcywgdDtcbiAgcyA9IHR3b1N1YihhLngsIGIueCk7XG4gIHQgPSB0d29TdWIoYS55LCBiLnkpO1xuICBzLnkgKz0gdC54O1xuICBzID0gcXVpY2tUd29TdW0ocy54LCBzLnkpO1xuICBzLnkgKz0gdC55O1xuICBzID0gcXVpY2tUd29TdW0ocy54LCBzLnkpO1xuICByZXR1cm4gcztcbn1cblxudmVjMiBtdWxfZnA2NCh2ZWMyIGEsIHZlYzIgYikge1xuICB2ZWMyIHByb2QgPSB0d29Qcm9kKGEueCwgYi54KTtcbiAgcHJvZC55ICs9IGEueCAqIGIueTtcbiNpZiBkZWZpbmVkKExVTUFfRlA2NF9ISUdIX0JJVFNfT1ZFUkZMT1dfV09SS0FST1VORClcbiAgcHJvZCA9IHNwbGl0Mihwcm9kKTtcbiNlbmRpZlxuICBwcm9kID0gcXVpY2tUd29TdW0ocHJvZC54LCBwcm9kLnkpO1xuICBwcm9kLnkgKz0gYS55ICogYi54O1xuI2lmIGRlZmluZWQoTFVNQV9GUDY0X0hJR0hfQklUU19PVkVSRkxPV19XT1JLQVJPVU5EKVxuICBwcm9kID0gc3BsaXQyKHByb2QpO1xuI2VuZGlmXG4gIHByb2QgPSBxdWlja1R3b1N1bShwcm9kLngsIHByb2QueSk7XG4gIHJldHVybiBwcm9kO1xufVxuXG52ZWMyIGRpdl9mcDY0KHZlYzIgYSwgdmVjMiBiKSB7XG4gIGZsb2F0IHhuID0gMS4wIC8gYi54O1xuI2lmIGRlZmluZWQoTFVNQV9GUDY0X0hJR0hfQklUU19PVkVSRkxPV19XT1JLQVJPVU5EKVxuICB2ZWMyIHluID0gbXVsX2ZwNjQoYSwgdmVjMih4biwgMCkpO1xuI2Vsc2VcbiAgdmVjMiB5biA9IGEgKiB4bjtcbiNlbmRpZlxuICBmbG9hdCBkaWZmID0gKHN1Yl9mcDY0KGEsIG11bF9mcDY0KGIsIHluKSkpLng7XG4gIHZlYzIgcHJvZCA9IHR3b1Byb2QoeG4sIGRpZmYpO1xuICByZXR1cm4gc3VtX2ZwNjQoeW4sIHByb2QpO1xufVxuXG52ZWMyIHNxcnRfZnA2NCh2ZWMyIGEpIHtcbiAgaWYgKGEueCA9PSAwLjAgJiYgYS55ID09IDAuMCkgcmV0dXJuIHZlYzIoMC4wLCAwLjApO1xuICBpZiAoYS54IDwgMC4wKSByZXR1cm4gdmVjMigwLjAgLyAwLjAsIDAuMCAvIDAuMCk7XG5cbiAgZmxvYXQgeCA9IDEuMCAvIHNxcnQoYS54KTtcbiAgZmxvYXQgeW4gPSBhLnggKiB4O1xuI2lmIGRlZmluZWQoTFVNQV9GUDY0X0NPREVfRUxJTUlOQVRJT05fV09SS0FST1VORClcbiAgdmVjMiB5bl9zcXIgPSB0d29TcXIoeW4pICogT05FO1xuI2Vsc2VcbiAgdmVjMiB5bl9zcXIgPSB0d29TcXIoeW4pO1xuI2VuZGlmXG4gIGZsb2F0IGRpZmYgPSBzdWJfZnA2NChhLCB5bl9zcXIpLng7XG4gIHZlYzIgcHJvZCA9IHR3b1Byb2QoeCAqIDAuNSwgZGlmZik7XG4jaWYgZGVmaW5lZChMVU1BX0ZQNjRfSElHSF9CSVRTX09WRVJGTE9XX1dPUktBUk9VTkQpXG4gIHJldHVybiBzdW1fZnA2NChzcGxpdCh5biksIHByb2QpO1xuI2Vsc2VcbiAgcmV0dXJuIHN1bV9mcDY0KHZlYzIoeW4sIDAuMCksIHByb2QpO1xuI2VuZGlmXG59XG4iLGZzOm51bGwsZ2V0VW5pZm9ybXM6ZnVuY3Rpb24oKXtyZXR1cm4gYX0sZnA2NGlmeTpyLGZwNjRMb3dQYXJ0Oml9O2UuYT17bmFtZToiZnA2NCIsdnM6ImNvbnN0IHZlYzIgRV9GUDY0ID0gdmVjMigyLjcxODI4MTc0NTkxMDY0NDVlKzAwLCA4LjI1NDg0MDM2NjgxNzAwN2UtMDgpO1xuY29uc3QgdmVjMiBMT0cyX0ZQNjQgPSB2ZWMyKDAuNjkzMTQ3MTgyNDY0NTk5NmUrMDAsIC0xLjkwNDY1NDIxMjEyNTkzMzZlLTA5KTtcbmNvbnN0IHZlYzIgUElfRlA2NCA9IHZlYzIoMy4xNDE1OTI3NDEwMTI1NzMyLCAtOC43NDIyNzgwMTI2MTg5NTRlLTgpO1xuY29uc3QgdmVjMiBUV09fUElfRlA2NCA9IHZlYzIoNi4yODMxODU0ODIwMjUxNDY1LCAtMS43NDg0NTU2MDI1MjM3OTA3ZS03KTtcbmNvbnN0IHZlYzIgUElfMl9GUDY0ID0gdmVjMigxLjU3MDc5NjM3MDUwNjI4NjYsIC00LjM3MTEzOTAwNjMwOTQ3N2UtOCk7XG5jb25zdCB2ZWMyIFBJXzRfRlA2NCA9IHZlYzIoMC43ODUzOTgxODUyNTMxNDMzLCAtMi4xODU1Njk1MDMxNTQ3Mzg0ZS04KTtcbmNvbnN0IHZlYzIgUElfMTZfRlA2NCA9IHZlYzIoMC4xOTYzNDk1NDYzMTMyODU4MywgLTUuNDYzOTIzNzU3ODg2ODQ2ZS05KTtcbmNvbnN0IHZlYzIgUElfMTZfMl9GUDY0ID0gdmVjMigwLjM5MjY5OTA5MjYyNjU3MTY2LCAtMS4wOTI3ODQ3NTE1NzczNjkyZS04KTtcbmNvbnN0IHZlYzIgUElfMTZfM19GUDY0ID0gdmVjMigwLjU4OTA0ODYyNDAzODY5NjMsIC0xLjQ5MDYxMDA3OTgxMjg4MThlLTkpO1xuY29uc3QgdmVjMiBQSV8xODBfRlA2NCA9IHZlYzIoMC4wMTc0NTMyOTIzODQ3NDM2OSwgMS4zNTE5OTYwNDk4MzY0OTAyZS0xMCk7XG5cbmNvbnN0IHZlYzIgU0lOX1RBQkxFXzBfRlA2NCA9IHZlYzIoMC4xOTUwOTAzMjM2ODY1OTk3MywgLTEuNjcwNDcxNDgzMzYxNTI0MmUtOSk7XG5jb25zdCB2ZWMyIFNJTl9UQUJMRV8xX0ZQNjQgPSB2ZWMyKDAuMzgyNjgzNDI2MTQxNzM4OSwgNi4yMjMzNTA4OTAxNzc2N2UtOSk7XG5jb25zdCB2ZWMyIFNJTl9UQUJMRV8yX0ZQNjQgPSB2ZWMyKDAuNTU1NTcwMjQ0Nzg5MTIzNSwgLTEuMTc2OTUyMTM1NzUwNzUyOWUtOCk7XG5jb25zdCB2ZWMyIFNJTl9UQUJMRV8zX0ZQNjQgPSB2ZWMyKDAuNzA3MTA2NzY5MDg0OTMwNCwgMS4yMTAxNjE3MDQxNzkzMTMzZS04KTtcblxuY29uc3QgdmVjMiBDT1NfVEFCTEVfMF9GUDY0ID0gdmVjMigwLjk4MDc4NTI1MDY2Mzc1NzMsIDIuOTczOTQ3MzEwNjM2MDQ5MmUtOCk7XG5jb25zdCB2ZWMyIENPU19UQUJMRV8xX0ZQNjQgPSB2ZWMyKDAuOTIzODc5NTA0MjAzNzk2NCwgMi44MzA3NDkwMzUxNzY0Mzg2ZS04KTtcbmNvbnN0IHZlYzIgQ09TX1RBQkxFXzJfRlA2NCA9IHZlYzIoMC44MzE0Njk1OTU0MzIyODE1LCAxLjY4NzAyNjM3NDE1MzA3NzhlLTgpO1xuY29uc3QgdmVjMiBDT1NfVEFCTEVfM19GUDY0ID0gdmVjMigwLjcwNzEwNjc2OTA4NDkzMDQsIDEuMjEwMTYxNzE1MjgxNTQzNmUtOCk7XG5cbmNvbnN0IHZlYzIgSU5WRVJTRV9GQUNUT1JJQUxfM19GUDY0ID0gdmVjMigxLjY2NjY2NjcxNjMzNzIwNGUtMDEsIC00Ljk2NzA1Mzg3OTMxMjI4OWUtMDkpO1xuY29uc3QgdmVjMiBJTlZFUlNFX0ZBQ1RPUklBTF80X0ZQNjQgPSB2ZWMyKDQuMTY2NjY2NzkwODQzMDFlLTAyLCAtMS4yNDE3NjM0Njk4MjgwNzIyZS0wOSk7XG5jb25zdCB2ZWMyIElOVkVSU0VfRkFDVE9SSUFMXzVfRlA2NCA9IHZlYzIoOC4zMzMzMzM3Njc5NTA1MzVlLTAzLCAtNC4zNDYxNzIwMzMzNzU5NWUtMTApO1xuY29uc3QgdmVjMiBJTlZFUlNFX0ZBQ1RPUklBTF82X0ZQNjQgPSB2ZWMyKDEuMzg4ODg4OTIyNTE5OTgxOWUtMDMsIC0zLjM2MzEwOTQ0MzcxMDMyMTVlLTExKTtcbmNvbnN0IHZlYzIgSU5WRVJTRV9GQUNUT1JJQUxfN19GUDY0ID0gdmVjMigxLjk4NDEyNzAxMTM4Mjk1MjNlLTA0LCAgLTIuNzI1NTk2ODc0OTMzNDU2ZS0xMik7XG5jb25zdCB2ZWMyIElOVkVSU0VfRkFDVE9SSUFMXzhfRlA2NCA9IHZlYzIoMi40ODAxNTg3NjQyMjg2OTA0ZS0wNSwgLTMuNDA2OTk2MDI1OTA0MTg0ZS0xMyk7XG5jb25zdCB2ZWMyIElOVkVSU0VfRkFDVE9SSUFMXzlfRlA2NCA9IHZlYzIoMi43NTU3MzE4ODQ0NjI4NzUzM2UtMDYsIDMuNzkzNTcxMzkzNzAzODE4NmUtMTQpO1xuY29uc3QgdmVjMiBJTlZFUlNFX0ZBQ1RPUklBTF8xMF9GUDY0ID0gdmVjMigyLjc1NTczMTk5ODE0OTcxM2UtMDcsIC03LjU3NTExMjM2Nzg2OTg3M2UtMTUpO1xuXG5mbG9hdCBuaW50KGZsb2F0IGQpIHtcbiAgICBpZiAoZCA9PSBmbG9vcihkKSkgcmV0dXJuIGQ7XG4gICAgcmV0dXJuIGZsb29yKGQgKyAwLjUpO1xufVxuXG52ZWMyIG5pbnRfZnA2NCh2ZWMyIGEpIHtcbiAgICBmbG9hdCBoaSA9IG5pbnQoYS54KTtcbiAgICBmbG9hdCBsbztcbiAgICB2ZWMyIHRtcDtcbiAgICBpZiAoaGkgPT0gYS54KSB7XG4gICAgICAgIGxvID0gbmludChhLnkpO1xuICAgICAgICB0bXAgPSBxdWlja1R3b1N1bShoaSwgbG8pO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGxvID0gMC4wO1xuICAgICAgICBpZiAoYWJzKGhpIC0gYS54KSA9PSAwLjUgJiYgYS55IDwgMC4wKSB7XG4gICAgICAgICAgICBoaSAtPSAxLjA7XG4gICAgICAgIH1cbiAgICAgICAgdG1wID0gdmVjMihoaSwgbG8pO1xuICAgIH1cbiAgICByZXR1cm4gdG1wO1xufVxuXG52ZWMyIGV4cF9mcDY0KHZlYzIgYSkge1xuXG4gIGNvbnN0IGludCBrX3Bvd2VyID0gNDtcbiAgY29uc3QgZmxvYXQgayA9IDE2LjA7XG5cbiAgY29uc3QgZmxvYXQgaW52X2sgPSAxLjAgLyBrO1xuXG4gIGlmIChhLnggPD0gLTg4LjApIHJldHVybiB2ZWMyKDAuMCwgMC4wKTtcbiAgaWYgKGEueCA+PSA4OC4wKSByZXR1cm4gdmVjMigxLjAgLyAwLjAsIDEuMCAvIDAuMCk7XG4gIGlmIChhLnggPT0gMC4wICYmIGEueSA9PSAwLjApIHJldHVybiB2ZWMyKDEuMCwgMC4wKTtcbiAgaWYgKGEueCA9PSAxLjAgJiYgYS55ID09IDAuMCkgcmV0dXJuIEVfRlA2NDtcblxuICBmbG9hdCBtID0gZmxvb3IoYS54IC8gTE9HMl9GUDY0LnggKyAwLjUpO1xuICB2ZWMyIHIgPSBzdWJfZnA2NChhLCBtdWxfZnA2NChMT0cyX0ZQNjQsIHZlYzIobSwgMC4wKSkpICogaW52X2s7XG4gIHZlYzIgcywgdCwgcDtcblxuICBwID0gbXVsX2ZwNjQociwgcik7XG4gIHMgPSBzdW1fZnA2NChyLCBwICogMC41KTtcbiAgcCA9IG11bF9mcDY0KHAsIHIpO1xuICB0ID0gbXVsX2ZwNjQocCwgSU5WRVJTRV9GQUNUT1JJQUxfM19GUDY0KTtcblxuICBzID0gc3VtX2ZwNjQocywgdCk7XG4gIHAgPSBtdWxfZnA2NChwLCByKTtcbiAgdCA9IG11bF9mcDY0KHAsIElOVkVSU0VfRkFDVE9SSUFMXzRfRlA2NCk7XG5cbiAgcyA9IHN1bV9mcDY0KHMsIHQpO1xuICBwID0gbXVsX2ZwNjQocCwgcik7XG4gIHQgPSBtdWxfZnA2NChwLCBJTlZFUlNFX0ZBQ1RPUklBTF81X0ZQNjQpO1xuXG5cblxuXG5cblxuICBzID0gc3VtX2ZwNjQocywgdCk7XG4gIGZvciAoaW50IGkgPSAwOyBpIDwga19wb3dlcjsgaSsrKSB7XG4gICAgcyA9IHN1bV9mcDY0KHMgKiAyLjAsIG11bF9mcDY0KHMsIHMpKTtcbiAgfVxuXG4jaWYgZGVmaW5lZChOVklESUFfRlA2NF9XT1JLQVJPVU5EKSB8fCBkZWZpbmVkKElOVEVMX0ZQNjRfV09SS0FST1VORClcbiAgcyA9IHN1bV9mcDY0KHMsIHZlYzIoT05FLCAwLjApKTtcbiNlbHNlXG4gIHMgPSBzdW1fZnA2NChzLCB2ZWMyKDEuMCwgMC4wKSk7XG4jZW5kaWZcblxuICByZXR1cm4gcyAqIHBvdygyLjAsIG0pO1xufVxuXG52ZWMyIGxvZ19mcDY0KHZlYzIgYSlcbntcbiAgaWYgKGEueCA9PSAxLjAgJiYgYS55ID09IDAuMCkgcmV0dXJuIHZlYzIoMC4wLCAwLjApO1xuICBpZiAoYS54IDw9IDAuMCkgcmV0dXJuIHZlYzIoMC4wIC8gMC4wLCAwLjAgLyAwLjApO1xuICB2ZWMyIHggPSB2ZWMyKGxvZyhhLngpLCAwLjApO1xuICB2ZWMyIHM7XG4jaWYgZGVmaW5lZChOVklESUFfRlA2NF9XT1JLQVJPVU5EKSB8fCBkZWZpbmVkKElOVEVMX0ZQNjRfV09SS0FST1VORClcbiAgcyA9IHZlYzIoT05FLCAwLjApO1xuI2Vsc2VcbiAgcyA9IHZlYzIoMS4wLCAwLjApO1xuI2VuZGlmXG5cbiAgeCA9IHN1Yl9mcDY0KHN1bV9mcDY0KHgsIG11bF9mcDY0KGEsIGV4cF9mcDY0KC14KSkpLCBzKTtcbiAgcmV0dXJuIHg7XG59XG5cbnZlYzIgc2luX3RheWxvcl9mcDY0KHZlYzIgYSkge1xuICB2ZWMyIHIsIHMsIHQsIHg7XG5cbiAgaWYgKGEueCA9PSAwLjAgJiYgYS55ID09IDAuMCkge1xuICAgIHJldHVybiB2ZWMyKDAuMCwgMC4wKTtcbiAgfVxuXG4gIHggPSAtbXVsX2ZwNjQoYSwgYSk7XG4gIHMgPSBhO1xuICByID0gYTtcblxuICByID0gbXVsX2ZwNjQociwgeCk7XG4gIHQgPSBtdWxfZnA2NChyLCBJTlZFUlNFX0ZBQ1RPUklBTF8zX0ZQNjQpO1xuICBzID0gc3VtX2ZwNjQocywgdCk7XG5cbiAgciA9IG11bF9mcDY0KHIsIHgpO1xuICB0ID0gbXVsX2ZwNjQociwgSU5WRVJTRV9GQUNUT1JJQUxfNV9GUDY0KTtcbiAgcyA9IHN1bV9mcDY0KHMsIHQpO1xuXG5cblxuXG5cblxuICByZXR1cm4gcztcbn1cblxudmVjMiBjb3NfdGF5bG9yX2ZwNjQodmVjMiBhKSB7XG4gIHZlYzIgciwgcywgdCwgeDtcblxuICBpZiAoYS54ID09IDAuMCAmJiBhLnkgPT0gMC4wKSB7XG4gICAgcmV0dXJuIHZlYzIoMS4wLCAwLjApO1xuICB9XG5cbiAgeCA9IC1tdWxfZnA2NChhLCBhKTtcbiAgciA9IHg7XG4gIHMgPSBzdW1fZnA2NCh2ZWMyKDEuMCwgMC4wKSwgciAqIDAuNSk7XG5cbiAgciA9IG11bF9mcDY0KHIsIHgpO1xuICB0ID0gbXVsX2ZwNjQociwgSU5WRVJTRV9GQUNUT1JJQUxfNF9GUDY0KTtcbiAgcyA9IHN1bV9mcDY0KHMsIHQpO1xuXG4gIHIgPSBtdWxfZnA2NChyLCB4KTtcbiAgdCA9IG11bF9mcDY0KHIsIElOVkVSU0VfRkFDVE9SSUFMXzZfRlA2NCk7XG4gIHMgPSBzdW1fZnA2NChzLCB0KTtcblxuXG5cblxuXG5cbiAgcmV0dXJuIHM7XG59XG5cbnZvaWQgc2luY29zX3RheWxvcl9mcDY0KHZlYzIgYSwgb3V0IHZlYzIgc2luX3QsIG91dCB2ZWMyIGNvc190KSB7XG4gIGlmIChhLnggPT0gMC4wICYmIGEueSA9PSAwLjApIHtcbiAgICBzaW5fdCA9IHZlYzIoMC4wLCAwLjApO1xuICAgIGNvc190ID0gdmVjMigxLjAsIDAuMCk7XG4gIH1cblxuICBzaW5fdCA9IHNpbl90YXlsb3JfZnA2NChhKTtcbiAgY29zX3QgPSBzcXJ0X2ZwNjQoc3ViX2ZwNjQodmVjMigxLjAsIDAuMCksIG11bF9mcDY0KHNpbl90LCBzaW5fdCkpKTtcbn1cblxudmVjMiBzaW5fZnA2NCh2ZWMyIGEpIHtcbiAgICBpZiAoYS54ID09IDAuMCAmJiBhLnkgPT0gMC4wKSB7XG4gICAgICAgIHJldHVybiB2ZWMyKDAuMCwgMC4wKTtcbiAgICB9XG4gICAgdmVjMiB6ID0gbmludF9mcDY0KGRpdl9mcDY0KGEsIFRXT19QSV9GUDY0KSk7XG4gICAgdmVjMiByID0gc3ViX2ZwNjQoYSwgbXVsX2ZwNjQoVFdPX1BJX0ZQNjQsIHopKTtcblxuICAgIHZlYzIgdDtcbiAgICBmbG9hdCBxID0gZmxvb3Ioci54IC8gUElfMl9GUDY0LnggKyAwLjUpO1xuICAgIGludCBqID0gaW50KHEpO1xuXG4gICAgaWYgKGogPCAtMiB8fCBqID4gMikge1xuICAgICAgICByZXR1cm4gdmVjMigwLjAgLyAwLjAsIDAuMCAvIDAuMCk7XG4gICAgfVxuXG4gICAgdCA9IHN1Yl9mcDY0KHIsIG11bF9mcDY0KFBJXzJfRlA2NCwgdmVjMihxLCAwLjApKSk7XG5cbiAgICBxID0gZmxvb3IodC54IC8gUElfMTZfRlA2NC54ICsgMC41KTtcbiAgICBpbnQgayA9IGludChxKTtcblxuICAgIGlmIChrID09IDApIHtcbiAgICAgICAgaWYgKGogPT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIHNpbl90YXlsb3JfZnA2NCh0KTtcbiAgICAgICAgfSBlbHNlIGlmIChqID09IDEpIHtcbiAgICAgICAgICAgIHJldHVybiBjb3NfdGF5bG9yX2ZwNjQodCk7XG4gICAgICAgIH0gZWxzZSBpZiAoaiA9PSAtMSkge1xuICAgICAgICAgICAgcmV0dXJuIC1jb3NfdGF5bG9yX2ZwNjQodCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gLXNpbl90YXlsb3JfZnA2NCh0KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGludCBhYnNfayA9IGludChhYnMoZmxvYXQoaykpKTtcblxuICAgIGlmIChhYnNfayA+IDQpIHtcbiAgICAgICAgcmV0dXJuIHZlYzIoMC4wIC8gMC4wLCAwLjAgLyAwLjApO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHQgPSBzdWJfZnA2NCh0LCBtdWxfZnA2NChQSV8xNl9GUDY0LCB2ZWMyKHEsIDAuMCkpKTtcbiAgICB9XG5cbiAgICB2ZWMyIHUgPSB2ZWMyKDAuMCwgMC4wKTtcbiAgICB2ZWMyIHYgPSB2ZWMyKDAuMCwgMC4wKTtcblxuI2lmIGRlZmluZWQoTlZJRElBX0ZQNjRfV09SS0FST1VORCkgfHwgZGVmaW5lZChJTlRFTF9GUDY0X1dPUktBUk9VTkQpXG4gICAgaWYgKGFicyhmbG9hdChhYnNfaykgLSAxLjApIDwgMC41KSB7XG4gICAgICAgIHUgPSBDT1NfVEFCTEVfMF9GUDY0O1xuICAgICAgICB2ID0gU0lOX1RBQkxFXzBfRlA2NDtcbiAgICB9IGVsc2UgaWYgKGFicyhmbG9hdChhYnNfaykgLSAyLjApIDwgMC41KSB7XG4gICAgICAgIHUgPSBDT1NfVEFCTEVfMV9GUDY0O1xuICAgICAgICB2ID0gU0lOX1RBQkxFXzFfRlA2NDtcbiAgICB9IGVsc2UgaWYgKGFicyhmbG9hdChhYnNfaykgLSAzLjApIDwgMC41KSB7XG4gICAgICAgIHUgPSBDT1NfVEFCTEVfMl9GUDY0O1xuICAgICAgICB2ID0gU0lOX1RBQkxFXzJfRlA2NDtcbiAgICB9IGVsc2UgaWYgKGFicyhmbG9hdChhYnNfaykgLSA0LjApIDwgMC41KSB7XG4gICAgICAgIHUgPSBDT1NfVEFCTEVfM19GUDY0O1xuICAgICAgICB2ID0gU0lOX1RBQkxFXzNfRlA2NDtcbiAgICB9XG4jZWxzZVxuICAgIGlmIChhYnNfayA9PSAxKSB7XG4gICAgICAgIHUgPSBDT1NfVEFCTEVfMF9GUDY0O1xuICAgICAgICB2ID0gU0lOX1RBQkxFXzBfRlA2NDtcbiAgICB9IGVsc2UgaWYgKGFic19rID09IDIpIHtcbiAgICAgICAgdSA9IENPU19UQUJMRV8xX0ZQNjQ7XG4gICAgICAgIHYgPSBTSU5fVEFCTEVfMV9GUDY0O1xuICAgIH0gZWxzZSBpZiAoYWJzX2sgPT0gMykge1xuICAgICAgICB1ID0gQ09TX1RBQkxFXzJfRlA2NDtcbiAgICAgICAgdiA9IFNJTl9UQUJMRV8yX0ZQNjQ7XG4gICAgfSBlbHNlIGlmIChhYnNfayA9PSA0KSB7XG4gICAgICAgIHUgPSBDT1NfVEFCTEVfM19GUDY0O1xuICAgICAgICB2ID0gU0lOX1RBQkxFXzNfRlA2NDtcbiAgICB9XG4jZW5kaWZcblxuICAgIHZlYzIgc2luX3QsIGNvc190O1xuICAgIHNpbmNvc190YXlsb3JfZnA2NCh0LCBzaW5fdCwgY29zX3QpO1xuXG5cblxuICAgIHZlYzIgcmVzdWx0ID0gdmVjMigwLjAsIDAuMCk7XG4gICAgaWYgKGogPT0gMCkge1xuICAgICAgICBpZiAoayA+IDApIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IHN1bV9mcDY0KG11bF9mcDY0KHUsIHNpbl90KSwgbXVsX2ZwNjQodiwgY29zX3QpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IHN1Yl9mcDY0KG11bF9mcDY0KHUsIHNpbl90KSwgbXVsX2ZwNjQodiwgY29zX3QpKTtcbiAgICAgICAgfVxuICAgIH0gZWxzZSBpZiAoaiA9PSAxKSB7XG4gICAgICAgIGlmIChrID4gMCkge1xuICAgICAgICAgICAgcmVzdWx0ID0gc3ViX2ZwNjQobXVsX2ZwNjQodSwgY29zX3QpLCBtdWxfZnA2NCh2LCBzaW5fdCkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmVzdWx0ID0gc3VtX2ZwNjQobXVsX2ZwNjQodSwgY29zX3QpLCBtdWxfZnA2NCh2LCBzaW5fdCkpO1xuICAgICAgICB9XG4gICAgfSBlbHNlIGlmIChqID09IC0xKSB7XG4gICAgICAgIGlmIChrID4gMCkge1xuICAgICAgICAgICAgcmVzdWx0ID0gc3ViX2ZwNjQobXVsX2ZwNjQodiwgc2luX3QpLCBtdWxfZnA2NCh1LCBjb3NfdCkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmVzdWx0ID0gLXN1bV9mcDY0KG11bF9mcDY0KHYsIHNpbl90KSwgbXVsX2ZwNjQodSwgY29zX3QpKTtcbiAgICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChrID4gMCkge1xuICAgICAgICAgICAgcmVzdWx0ID0gLXN1bV9mcDY0KG11bF9mcDY0KHUsIHNpbl90KSwgbXVsX2ZwNjQodiwgY29zX3QpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IHN1Yl9mcDY0KG11bF9mcDY0KHYsIGNvc190KSwgbXVsX2ZwNjQodSwgc2luX3QpKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiByZXN1bHQ7XG59XG5cbnZlYzIgY29zX2ZwNjQodmVjMiBhKSB7XG4gICAgaWYgKGEueCA9PSAwLjAgJiYgYS55ID09IDAuMCkge1xuICAgICAgICByZXR1cm4gdmVjMigxLjAsIDAuMCk7XG4gICAgfVxuICAgIHZlYzIgeiA9IG5pbnRfZnA2NChkaXZfZnA2NChhLCBUV09fUElfRlA2NCkpO1xuICAgIHZlYzIgciA9IHN1Yl9mcDY0KGEsIG11bF9mcDY0KFRXT19QSV9GUDY0LCB6KSk7XG5cbiAgICB2ZWMyIHQ7XG4gICAgZmxvYXQgcSA9IGZsb29yKHIueCAvIFBJXzJfRlA2NC54ICsgMC41KTtcbiAgICBpbnQgaiA9IGludChxKTtcblxuICAgIGlmIChqIDwgLTIgfHwgaiA+IDIpIHtcbiAgICAgICAgcmV0dXJuIHZlYzIoMC4wIC8gMC4wLCAwLjAgLyAwLjApO1xuICAgIH1cblxuICAgIHQgPSBzdWJfZnA2NChyLCBtdWxfZnA2NChQSV8yX0ZQNjQsIHZlYzIocSwgMC4wKSkpO1xuXG4gICAgcSA9IGZsb29yKHQueCAvIFBJXzE2X0ZQNjQueCArIDAuNSk7XG4gICAgaW50IGsgPSBpbnQocSk7XG5cbiAgICBpZiAoayA9PSAwKSB7XG4gICAgICAgIGlmIChqID09IDApIHtcbiAgICAgICAgICAgIHJldHVybiBjb3NfdGF5bG9yX2ZwNjQodCk7XG4gICAgICAgIH0gZWxzZSBpZiAoaiA9PSAxKSB7XG4gICAgICAgICAgICByZXR1cm4gLXNpbl90YXlsb3JfZnA2NCh0KTtcbiAgICAgICAgfSBlbHNlIGlmIChqID09IC0xKSB7XG4gICAgICAgICAgICByZXR1cm4gc2luX3RheWxvcl9mcDY0KHQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIC1jb3NfdGF5bG9yX2ZwNjQodCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBpbnQgYWJzX2sgPSBpbnQoYWJzKGZsb2F0KGspKSk7XG5cbiAgICBpZiAoYWJzX2sgPiA0KSB7XG4gICAgICAgIHJldHVybiB2ZWMyKDAuMCAvIDAuMCwgMC4wIC8gMC4wKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICB0ID0gc3ViX2ZwNjQodCwgbXVsX2ZwNjQoUElfMTZfRlA2NCwgdmVjMihxLCAwLjApKSk7XG4gICAgfVxuXG4gICAgdmVjMiB1ID0gdmVjMigwLjAsIDAuMCk7XG4gICAgdmVjMiB2ID0gdmVjMigwLjAsIDAuMCk7XG5cbiNpZiBkZWZpbmVkKE5WSURJQV9GUDY0X1dPUktBUk9VTkQpIHx8IGRlZmluZWQoSU5URUxfRlA2NF9XT1JLQVJPVU5EKVxuICAgIGlmIChhYnMoZmxvYXQoYWJzX2spIC0gMS4wKSA8IDAuNSkge1xuICAgICAgICB1ID0gQ09TX1RBQkxFXzBfRlA2NDtcbiAgICAgICAgdiA9IFNJTl9UQUJMRV8wX0ZQNjQ7XG4gICAgfSBlbHNlIGlmIChhYnMoZmxvYXQoYWJzX2spIC0gMi4wKSA8IDAuNSkge1xuICAgICAgICB1ID0gQ09TX1RBQkxFXzFfRlA2NDtcbiAgICAgICAgdiA9IFNJTl9UQUJMRV8xX0ZQNjQ7XG4gICAgfSBlbHNlIGlmIChhYnMoZmxvYXQoYWJzX2spIC0gMy4wKSA8IDAuNSkge1xuICAgICAgICB1ID0gQ09TX1RBQkxFXzJfRlA2NDtcbiAgICAgICAgdiA9IFNJTl9UQUJMRV8yX0ZQNjQ7XG4gICAgfSBlbHNlIGlmIChhYnMoZmxvYXQoYWJzX2spIC0gNC4wKSA8IDAuNSkge1xuICAgICAgICB1ID0gQ09TX1RBQkxFXzNfRlA2NDtcbiAgICAgICAgdiA9IFNJTl9UQUJMRV8zX0ZQNjQ7XG4gICAgfVxuI2Vsc2VcbiAgICBpZiAoYWJzX2sgPT0gMSkge1xuICAgICAgICB1ID0gQ09TX1RBQkxFXzBfRlA2NDtcbiAgICAgICAgdiA9IFNJTl9UQUJMRV8wX0ZQNjQ7XG4gICAgfSBlbHNlIGlmIChhYnNfayA9PSAyKSB7XG4gICAgICAgIHUgPSBDT1NfVEFCTEVfMV9GUDY0O1xuICAgICAgICB2ID0gU0lOX1RBQkxFXzFfRlA2NDtcbiAgICB9IGVsc2UgaWYgKGFic19rID09IDMpIHtcbiAgICAgICAgdSA9IENPU19UQUJMRV8yX0ZQNjQ7XG4gICAgICAgIHYgPSBTSU5fVEFCTEVfMl9GUDY0O1xuICAgIH0gZWxzZSBpZiAoYWJzX2sgPT0gNCkge1xuICAgICAgICB1ID0gQ09TX1RBQkxFXzNfRlA2NDtcbiAgICAgICAgdiA9IFNJTl9UQUJMRV8zX0ZQNjQ7XG4gICAgfVxuI2VuZGlmXG5cbiAgICB2ZWMyIHNpbl90LCBjb3NfdDtcbiAgICBzaW5jb3NfdGF5bG9yX2ZwNjQodCwgc2luX3QsIGNvc190KTtcblxuICAgIHZlYzIgcmVzdWx0ID0gdmVjMigwLjAsIDAuMCk7XG4gICAgaWYgKGogPT0gMCkge1xuICAgICAgICBpZiAoayA+IDApIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IHN1Yl9mcDY0KG11bF9mcDY0KHUsIGNvc190KSwgbXVsX2ZwNjQodiwgc2luX3QpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IHN1bV9mcDY0KG11bF9mcDY0KHUsIGNvc190KSwgbXVsX2ZwNjQodiwgc2luX3QpKTtcbiAgICAgICAgfVxuICAgIH0gZWxzZSBpZiAoaiA9PSAxKSB7XG4gICAgICAgIGlmIChrID4gMCkge1xuICAgICAgICAgICAgcmVzdWx0ID0gLXN1bV9mcDY0KG11bF9mcDY0KHUsIHNpbl90KSwgbXVsX2ZwNjQodiwgY29zX3QpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IHN1Yl9mcDY0KG11bF9mcDY0KHYsIGNvc190KSwgbXVsX2ZwNjQodSwgc2luX3QpKTtcbiAgICAgICAgfVxuICAgIH0gZWxzZSBpZiAoaiA9PSAtMSkge1xuICAgICAgICBpZiAoayA+IDApIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IHN1bV9mcDY0KG11bF9mcDY0KHUsIHNpbl90KSwgbXVsX2ZwNjQodiwgY29zX3QpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IHN1Yl9mcDY0KG11bF9mcDY0KHUsIHNpbl90KSwgbXVsX2ZwNjQodiwgY29zX3QpKTtcbiAgICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChrID4gMCkge1xuICAgICAgICAgICAgcmVzdWx0ID0gc3ViX2ZwNjQobXVsX2ZwNjQodiwgc2luX3QpLCBtdWxfZnA2NCh1LCBjb3NfdCkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmVzdWx0ID0gLXN1bV9mcDY0KG11bF9mcDY0KHUsIGNvc190KSwgbXVsX2ZwNjQodiwgc2luX3QpKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiByZXN1bHQ7XG59XG5cbnZlYzIgdGFuX2ZwNjQodmVjMiBhKSB7XG4gICAgdmVjMiBzaW5fYTtcbiAgICB2ZWMyIGNvc19hO1xuXG4gICAgaWYgKGEueCA9PSAwLjAgJiYgYS55ID09IDAuMCkge1xuICAgICAgICByZXR1cm4gdmVjMigwLjAsIDAuMCk7XG4gICAgfVxuICAgIHZlYzIgeiA9IG5pbnRfZnA2NChkaXZfZnA2NChhLCBUV09fUElfRlA2NCkpO1xuICAgIHZlYzIgciA9IHN1Yl9mcDY0KGEsIG11bF9mcDY0KFRXT19QSV9GUDY0LCB6KSk7XG5cbiAgICB2ZWMyIHQ7XG4gICAgZmxvYXQgcSA9IGZsb29yKHIueCAvIFBJXzJfRlA2NC54ICsgMC41KTtcbiAgICBpbnQgaiA9IGludChxKTtcblxuXG4gICAgaWYgKGogPCAtMiB8fCBqID4gMikge1xuICAgICAgICByZXR1cm4gdmVjMigwLjAgLyAwLjAsIDAuMCAvIDAuMCk7XG4gICAgfVxuXG4gICAgdCA9IHN1Yl9mcDY0KHIsIG11bF9mcDY0KFBJXzJfRlA2NCwgdmVjMihxLCAwLjApKSk7XG5cbiAgICBxID0gZmxvb3IodC54IC8gUElfMTZfRlA2NC54ICsgMC41KTtcbiAgICBpbnQgayA9IGludChxKTtcbiAgICBpbnQgYWJzX2sgPSBpbnQoYWJzKGZsb2F0KGspKSk7XG5cbiAgICBpZiAoYWJzX2sgPiA0KSB7XG4gICAgICAgIHJldHVybiB2ZWMyKDAuMCAvIDAuMCwgMC4wIC8gMC4wKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICB0ID0gc3ViX2ZwNjQodCwgbXVsX2ZwNjQoUElfMTZfRlA2NCwgdmVjMihxLCAwLjApKSk7XG4gICAgfVxuXG5cbiAgICB2ZWMyIHUgPSB2ZWMyKDAuMCwgMC4wKTtcbiAgICB2ZWMyIHYgPSB2ZWMyKDAuMCwgMC4wKTtcblxuICAgIHZlYzIgc2luX3QsIGNvc190O1xuICAgIHZlYzIgcywgYztcbiAgICBzaW5jb3NfdGF5bG9yX2ZwNjQodCwgc2luX3QsIGNvc190KTtcblxuICAgIGlmIChrID09IDApIHtcbiAgICAgICAgcyA9IHNpbl90O1xuICAgICAgICBjID0gY29zX3Q7XG4gICAgfSBlbHNlIHtcbiNpZiBkZWZpbmVkKE5WSURJQV9GUDY0X1dPUktBUk9VTkQpIHx8IGRlZmluZWQoSU5URUxfRlA2NF9XT1JLQVJPVU5EKVxuICAgICAgICBpZiAoYWJzKGZsb2F0KGFic19rKSAtIDEuMCkgPCAwLjUpIHtcbiAgICAgICAgICAgIHUgPSBDT1NfVEFCTEVfMF9GUDY0O1xuICAgICAgICAgICAgdiA9IFNJTl9UQUJMRV8wX0ZQNjQ7XG4gICAgICAgIH0gZWxzZSBpZiAoYWJzKGZsb2F0KGFic19rKSAtIDIuMCkgPCAwLjUpIHtcbiAgICAgICAgICAgIHUgPSBDT1NfVEFCTEVfMV9GUDY0O1xuICAgICAgICAgICAgdiA9IFNJTl9UQUJMRV8xX0ZQNjQ7XG4gICAgICAgIH0gZWxzZSBpZiAoYWJzKGZsb2F0KGFic19rKSAtIDMuMCkgPCAwLjUpIHtcbiAgICAgICAgICAgIHUgPSBDT1NfVEFCTEVfMl9GUDY0O1xuICAgICAgICAgICAgdiA9IFNJTl9UQUJMRV8yX0ZQNjQ7XG4gICAgICAgIH0gZWxzZSBpZiAoYWJzKGZsb2F0KGFic19rKSAtIDQuMCkgPCAwLjUpIHtcbiAgICAgICAgICAgIHUgPSBDT1NfVEFCTEVfM19GUDY0O1xuICAgICAgICAgICAgdiA9IFNJTl9UQUJMRV8zX0ZQNjQ7XG4gICAgICAgIH1cbiNlbHNlXG4gICAgICAgIGlmIChhYnNfayA9PSAxKSB7XG4gICAgICAgICAgICB1ID0gQ09TX1RBQkxFXzBfRlA2NDtcbiAgICAgICAgICAgIHYgPSBTSU5fVEFCTEVfMF9GUDY0O1xuICAgICAgICB9IGVsc2UgaWYgKGFic19rID09IDIpIHtcbiAgICAgICAgICAgIHUgPSBDT1NfVEFCTEVfMV9GUDY0O1xuICAgICAgICAgICAgdiA9IFNJTl9UQUJMRV8xX0ZQNjQ7XG4gICAgICAgIH0gZWxzZSBpZiAoYWJzX2sgPT0gMykge1xuICAgICAgICAgICAgdSA9IENPU19UQUJMRV8yX0ZQNjQ7XG4gICAgICAgICAgICB2ID0gU0lOX1RBQkxFXzJfRlA2NDtcbiAgICAgICAgfSBlbHNlIGlmIChhYnNfayA9PSA0KSB7XG4gICAgICAgICAgICB1ID0gQ09TX1RBQkxFXzNfRlA2NDtcbiAgICAgICAgICAgIHYgPSBTSU5fVEFCTEVfM19GUDY0O1xuICAgICAgICB9XG4jZW5kaWZcbiAgICAgICAgaWYgKGsgPiAwKSB7XG4gICAgICAgICAgICBzID0gc3VtX2ZwNjQobXVsX2ZwNjQodSwgc2luX3QpLCBtdWxfZnA2NCh2LCBjb3NfdCkpO1xuICAgICAgICAgICAgYyA9IHN1Yl9mcDY0KG11bF9mcDY0KHUsIGNvc190KSwgbXVsX2ZwNjQodiwgc2luX3QpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHMgPSBzdWJfZnA2NChtdWxfZnA2NCh1LCBzaW5fdCksIG11bF9mcDY0KHYsIGNvc190KSk7XG4gICAgICAgICAgICBjID0gc3VtX2ZwNjQobXVsX2ZwNjQodSwgY29zX3QpLCBtdWxfZnA2NCh2LCBzaW5fdCkpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGogPT0gMCkge1xuICAgICAgICBzaW5fYSA9IHM7XG4gICAgICAgIGNvc19hID0gYztcbiAgICB9IGVsc2UgaWYgKGogPT0gMSkge1xuICAgICAgICBzaW5fYSA9IGM7XG4gICAgICAgIGNvc19hID0gLXM7XG4gICAgfSBlbHNlIGlmIChqID09IC0xKSB7XG4gICAgICAgIHNpbl9hID0gLWM7XG4gICAgICAgIGNvc19hID0gcztcbiAgICB9IGVsc2Uge1xuICAgICAgICBzaW5fYSA9IC1zO1xuICAgICAgICBjb3NfYSA9IC1jO1xuICAgIH1cbiAgICByZXR1cm4gZGl2X2ZwNjQoc2luX2EsIGNvc19hKTtcbn1cblxudmVjMiByYWRpYW5zX2ZwNjQodmVjMiBkZWdyZWUpIHtcbiAgcmV0dXJuIG11bF9mcDY0KGRlZ3JlZSwgUElfMTgwX0ZQNjQpO1xufVxuXG52ZWMyIG1peF9mcDY0KHZlYzIgYSwgdmVjMiBiLCBmbG9hdCB4KSB7XG4gIHZlYzIgcmFuZ2UgPSBzdWJfZnA2NChiLCBhKTtcbiAgcmV0dXJuIHN1bV9mcDY0KGEsIG11bF9mcDY0KHJhbmdlLCB2ZWMyKHgsIDAuMCkpKTtcbn1cblxudm9pZCB2ZWMyX3N1bV9mcDY0KHZlYzIgYVsyXSwgdmVjMiBiWzJdLCBvdXQgdmVjMiBvdXRfdmFsWzJdKSB7XG4gICAgb3V0X3ZhbFswXSA9IHN1bV9mcDY0KGFbMF0sIGJbMF0pO1xuICAgIG91dF92YWxbMV0gPSBzdW1fZnA2NChhWzFdLCBiWzFdKTtcbn1cblxudm9pZCB2ZWMyX3N1Yl9mcDY0KHZlYzIgYVsyXSwgdmVjMiBiWzJdLCBvdXQgdmVjMiBvdXRfdmFsWzJdKSB7XG4gICAgb3V0X3ZhbFswXSA9IHN1Yl9mcDY0KGFbMF0sIGJbMF0pO1xuICAgIG91dF92YWxbMV0gPSBzdWJfZnA2NChhWzFdLCBiWzFdKTtcbn1cblxudm9pZCB2ZWMyX211bF9mcDY0KHZlYzIgYVsyXSwgdmVjMiBiWzJdLCBvdXQgdmVjMiBvdXRfdmFsWzJdKSB7XG4gICAgb3V0X3ZhbFswXSA9IG11bF9mcDY0KGFbMF0sIGJbMF0pO1xuICAgIG91dF92YWxbMV0gPSBtdWxfZnA2NChhWzFdLCBiWzFdKTtcbn1cblxudm9pZCB2ZWMyX2Rpdl9mcDY0KHZlYzIgYVsyXSwgdmVjMiBiWzJdLCBvdXQgdmVjMiBvdXRfdmFsWzJdKSB7XG4gICAgb3V0X3ZhbFswXSA9IGRpdl9mcDY0KGFbMF0sIGJbMF0pO1xuICAgIG91dF92YWxbMV0gPSBkaXZfZnA2NChhWzFdLCBiWzFdKTtcbn1cblxudm9pZCB2ZWMyX21peF9mcDY0KHZlYzIgeFsyXSwgdmVjMiB5WzJdLCBmbG9hdCBhLCBvdXQgdmVjMiBvdXRfdmFsWzJdKSB7XG4gIHZlYzIgcmFuZ2VbMl07XG4gIHZlYzJfc3ViX2ZwNjQoeSwgeCwgcmFuZ2UpO1xuICB2ZWMyIHBvcnRpb25bMl07XG4gIHBvcnRpb25bMF0gPSByYW5nZVswXSAqIGE7XG4gIHBvcnRpb25bMV0gPSByYW5nZVsxXSAqIGE7XG4gIHZlYzJfc3VtX2ZwNjQoeCwgcG9ydGlvbiwgb3V0X3ZhbCk7XG59XG5cbnZlYzIgdmVjMl9sZW5ndGhfZnA2NCh2ZWMyIHhbMl0pIHtcbiAgcmV0dXJuIHNxcnRfZnA2NChzdW1fZnA2NChtdWxfZnA2NCh4WzBdLCB4WzBdKSwgbXVsX2ZwNjQoeFsxXSwgeFsxXSkpKTtcbn1cblxudm9pZCB2ZWMyX25vcm1hbGl6ZV9mcDY0KHZlYzIgeFsyXSwgb3V0IHZlYzIgb3V0X3ZhbFsyXSkge1xuICB2ZWMyIGxlbmd0aCA9IHZlYzJfbGVuZ3RoX2ZwNjQoeCk7XG4gIHZlYzIgbGVuZ3RoX3ZlYzJbMl07XG4gIGxlbmd0aF92ZWMyWzBdID0gbGVuZ3RoO1xuICBsZW5ndGhfdmVjMlsxXSA9IGxlbmd0aDtcblxuICB2ZWMyX2Rpdl9mcDY0KHgsIGxlbmd0aF92ZWMyLCBvdXRfdmFsKTtcbn1cblxudmVjMiB2ZWMyX2Rpc3RhbmNlX2ZwNjQodmVjMiB4WzJdLCB2ZWMyIHlbMl0pIHtcbiAgdmVjMiBkaWZmWzJdO1xuICB2ZWMyX3N1Yl9mcDY0KHgsIHksIGRpZmYpO1xuICByZXR1cm4gdmVjMl9sZW5ndGhfZnA2NChkaWZmKTtcbn1cblxudmVjMiB2ZWMyX2RvdF9mcDY0KHZlYzIgYVsyXSwgdmVjMiBiWzJdKSB7XG4gIHZlYzIgdlsyXTtcblxuICB2WzBdID0gbXVsX2ZwNjQoYVswXSwgYlswXSk7XG4gIHZbMV0gPSBtdWxfZnA2NChhWzFdLCBiWzFdKTtcblxuICByZXR1cm4gc3VtX2ZwNjQodlswXSwgdlsxXSk7XG59XG52b2lkIHZlYzNfc3ViX2ZwNjQodmVjMiBhWzNdLCB2ZWMyIGJbM10sIG91dCB2ZWMyIG91dF92YWxbM10pIHtcbiAgZm9yIChpbnQgaSA9IDA7IGkgPCAzOyBpKyspIHtcbiAgICBvdXRfdmFsW2ldID0gc3VtX2ZwNjQoYVtpXSwgYltpXSk7XG4gIH1cbn1cblxudm9pZCB2ZWMzX3N1bV9mcDY0KHZlYzIgYVszXSwgdmVjMiBiWzNdLCBvdXQgdmVjMiBvdXRfdmFsWzNdKSB7XG4gIGZvciAoaW50IGkgPSAwOyBpIDwgMzsgaSsrKSB7XG4gICAgb3V0X3ZhbFtpXSA9IHN1bV9mcDY0KGFbaV0sIGJbaV0pO1xuICB9XG59XG5cbnZlYzIgdmVjM19sZW5ndGhfZnA2NCh2ZWMyIHhbM10pIHtcbiAgcmV0dXJuIHNxcnRfZnA2NChzdW1fZnA2NChzdW1fZnA2NChtdWxfZnA2NCh4WzBdLCB4WzBdKSwgbXVsX2ZwNjQoeFsxXSwgeFsxXSkpLFxuICAgIG11bF9mcDY0KHhbMl0sIHhbMl0pKSk7XG59XG5cbnZlYzIgdmVjM19kaXN0YW5jZV9mcDY0KHZlYzIgeFszXSwgdmVjMiB5WzNdKSB7XG4gIHZlYzIgZGlmZlszXTtcbiAgdmVjM19zdWJfZnA2NCh4LCB5LCBkaWZmKTtcbiAgcmV0dXJuIHZlYzNfbGVuZ3RoX2ZwNjQoZGlmZik7XG59XG52b2lkIHZlYzRfZnA2NCh2ZWM0IGEsIG91dCB2ZWMyIG91dF92YWxbNF0pIHtcbiAgb3V0X3ZhbFswXS54ID0gYVswXTtcbiAgb3V0X3ZhbFswXS55ID0gMC4wO1xuXG4gIG91dF92YWxbMV0ueCA9IGFbMV07XG4gIG91dF92YWxbMV0ueSA9IDAuMDtcblxuICBvdXRfdmFsWzJdLnggPSBhWzJdO1xuICBvdXRfdmFsWzJdLnkgPSAwLjA7XG5cbiAgb3V0X3ZhbFszXS54ID0gYVszXTtcbiAgb3V0X3ZhbFszXS55ID0gMC4wO1xufVxuXG52b2lkIHZlYzRfc2NhbGFyX211bF9mcDY0KHZlYzIgYVs0XSwgdmVjMiBiLCBvdXQgdmVjMiBvdXRfdmFsWzRdKSB7XG4gIG91dF92YWxbMF0gPSBtdWxfZnA2NChhWzBdLCBiKTtcbiAgb3V0X3ZhbFsxXSA9IG11bF9mcDY0KGFbMV0sIGIpO1xuICBvdXRfdmFsWzJdID0gbXVsX2ZwNjQoYVsyXSwgYik7XG4gIG91dF92YWxbM10gPSBtdWxfZnA2NChhWzNdLCBiKTtcbn1cblxudm9pZCB2ZWM0X3N1bV9mcDY0KHZlYzIgYVs0XSwgdmVjMiBiWzRdLCBvdXQgdmVjMiBvdXRfdmFsWzRdKSB7XG4gIGZvciAoaW50IGkgPSAwOyBpIDwgNDsgaSsrKSB7XG4gICAgb3V0X3ZhbFtpXSA9IHN1bV9mcDY0KGFbaV0sIGJbaV0pO1xuICB9XG59XG5cbnZvaWQgdmVjNF9kb3RfZnA2NCh2ZWMyIGFbNF0sIHZlYzIgYls0XSwgb3V0IHZlYzIgb3V0X3ZhbCkge1xuICB2ZWMyIHZbNF07XG5cbiAgdlswXSA9IG11bF9mcDY0KGFbMF0sIGJbMF0pO1xuICB2WzFdID0gbXVsX2ZwNjQoYVsxXSwgYlsxXSk7XG4gIHZbMl0gPSBtdWxfZnA2NChhWzJdLCBiWzJdKTtcbiAgdlszXSA9IG11bF9mcDY0KGFbM10sIGJbM10pO1xuXG4gIG91dF92YWwgPSBzdW1fZnA2NChzdW1fZnA2NCh2WzBdLCB2WzFdKSwgc3VtX2ZwNjQodlsyXSwgdlszXSkpO1xufVxuXG52b2lkIG1hdDRfdmVjNF9tdWxfZnA2NCh2ZWMyIGJbMTZdLCB2ZWMyIGFbNF0sIG91dCB2ZWMyIG91dF92YWxbNF0pIHtcbiAgdmVjMiB0bXBbNF07XG5cbiAgZm9yIChpbnQgaSA9IDA7IGkgPCA0OyBpKyspXG4gIHtcbiAgICBmb3IgKGludCBqID0gMDsgaiA8IDQ7IGorKylcbiAgICB7XG4gICAgICB0bXBbal0gPSBiW2ogKyBpICogNF07XG4gICAgfVxuICAgIHZlYzRfZG90X2ZwNjQoYSwgdG1wLCBvdXRfdmFsW2ldKTtcbiAgfVxufVxuIixmczpudWxsLGRlcGVuZGVuY2llczpbb10sZnA2NGlmeTpyLGZwNjRMb3dQYXJ0OmksZnA2NGlmeU1hdHJpeDQ6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPW5ldyBGbG9hdDMyQXJyYXkoMzIpLG49MDtuPDQ7KytuKWZvcih2YXIgaT0wO2k8NDsrK2kpe3ZhciBhPTQqbitpO3IodFs0Kmkrbl0sZSwyKmEpfXJldHVybiBlfX19LGZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigxNDMpLGk9IlxudW5pZm9ybSBmbG9hdCBsaWdodGluZ191QW1iaWVudDtcbnVuaWZvcm0gZmxvYXQgbGlnaHRpbmdfdURpZmZ1c2U7XG51bmlmb3JtIGZsb2F0IGxpZ2h0aW5nX3VTaGluaW5lc3M7XG51bmlmb3JtIHZlYzMgIGxpZ2h0aW5nX3VTcGVjdWxhckNvbG9yO1xuXG52ZWMzIGxpZ2h0aW5nX2dldExpZ2h0Q29sb3IodmVjMyBzdXJmYWNlQ29sb3IsIHZlYzMgbGlnaHRfZGlyZWN0aW9uLCB2ZWMzIHZpZXdfZGlyZWN0aW9uLCB2ZWMzIG5vcm1hbF93b3JsZHNwYWNlLCB2ZWMzIGNvbG9yKSB7XG4gICAgdmVjMyBoYWxmd2F5X2RpcmVjdGlvbiA9IG5vcm1hbGl6ZShsaWdodF9kaXJlY3Rpb24gKyB2aWV3X2RpcmVjdGlvbik7XG4gICAgZmxvYXQgbGFtYmVydGlhbiA9IGRvdChsaWdodF9kaXJlY3Rpb24sIG5vcm1hbF93b3JsZHNwYWNlKTtcbiAgICBmbG9hdCBzcGVjdWxhciA9IDAuMDtcbiAgICBpZiAobGFtYmVydGlhbiA+IDAuMCkge1xuICAgICAgZmxvYXQgc3BlY3VsYXJfYW5nbGUgPSBtYXgoZG90KG5vcm1hbF93b3JsZHNwYWNlLCBoYWxmd2F5X2RpcmVjdGlvbiksIDAuMCk7XG4gICAgICBzcGVjdWxhciA9IHBvdyhzcGVjdWxhcl9hbmdsZSwgbGlnaHRpbmdfdVNoaW5pbmVzcyk7XG4gICAgfVxuICAgIGxhbWJlcnRpYW4gPSBtYXgobGFtYmVydGlhbiwgMC4wKTtcbiAgICByZXR1cm4gKGxhbWJlcnRpYW4gKiBsaWdodGluZ191RGlmZnVzZSAqIHN1cmZhY2VDb2xvciArIHNwZWN1bGFyICogbGlnaHRpbmdfdVNwZWN1bGFyQ29sb3IpICogY29sb3I7XG59XG5cbnZlYzMgbGlnaHRpbmdfZ2V0TGlnaHRDb2xvcih2ZWMzIHN1cmZhY2VDb2xvciwgdmVjMyBjYW1lcmFQb3NpdGlvbiwgdmVjMyBwb3NpdGlvbl93b3JsZHNwYWNlLCB2ZWMzIG5vcm1hbF93b3JsZHNwYWNlKSB7XG4gIHZlYzMgbGlnaHRDb2xvciA9IHN1cmZhY2VDb2xvcjtcblxuICBpZiAobGlnaHRpbmdfdUVuYWJsZWQpIHtcbiAgICB2ZWMzIHZpZXdfZGlyZWN0aW9uID0gbm9ybWFsaXplKGNhbWVyYVBvc2l0aW9uIC0gcG9zaXRpb25fd29ybGRzcGFjZSk7XG4gICAgbGlnaHRDb2xvciA9IGxpZ2h0aW5nX3VBbWJpZW50ICogc3VyZmFjZUNvbG9yICogbGlnaHRpbmdfdUFtYmllbnRMaWdodC5jb2xvcjtcblxuICAgIGZvciAoaW50IGkgPSAwOyBpIDwgTUFYX0xJR0hUUzsgaSsrKSB7XG4gICAgICBpZiAoaSA+PSBsaWdodGluZ191UG9pbnRMaWdodENvdW50KSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgUG9pbnRMaWdodCBwb2ludExpZ2h0ID0gbGlnaHRpbmdfdVBvaW50TGlnaHRbaV07XG4gICAgICB2ZWMzIGxpZ2h0X3Bvc2l0aW9uX3dvcmxkc3BhY2UgPSBwb2ludExpZ2h0LnBvc2l0aW9uO1xuICAgICAgdmVjMyBsaWdodF9kaXJlY3Rpb24gPSBub3JtYWxpemUobGlnaHRfcG9zaXRpb25fd29ybGRzcGFjZSAtIHBvc2l0aW9uX3dvcmxkc3BhY2UpO1xuICAgICAgbGlnaHRDb2xvciArPSBsaWdodGluZ19nZXRMaWdodENvbG9yKHN1cmZhY2VDb2xvciwgbGlnaHRfZGlyZWN0aW9uLCB2aWV3X2RpcmVjdGlvbiwgbm9ybWFsX3dvcmxkc3BhY2UsIHBvaW50TGlnaHQuY29sb3IpO1xuICAgIH1cblxuICAgIGZvciAoaW50IGkgPSAwOyBpIDwgTUFYX0xJR0hUUzsgaSsrKSB7XG4gICAgICBpZiAoaSA+PSBsaWdodGluZ191RGlyZWN0aW9uYWxMaWdodENvdW50KSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgRGlyZWN0aW9uYWxMaWdodCBkaXJlY3Rpb25hbExpZ2h0ID0gbGlnaHRpbmdfdURpcmVjdGlvbmFsTGlnaHRbaV07XG4gICAgICBsaWdodENvbG9yICs9IGxpZ2h0aW5nX2dldExpZ2h0Q29sb3Ioc3VyZmFjZUNvbG9yLCAtZGlyZWN0aW9uYWxMaWdodC5kaXJlY3Rpb24sIHZpZXdfZGlyZWN0aW9uLCBub3JtYWxfd29ybGRzcGFjZSwgZGlyZWN0aW9uYWxMaWdodC5jb2xvcik7XG4gICAgfVxuICB9XG4gIHJldHVybiBsaWdodENvbG9yO1xufVxuXG52ZWMzIGxpZ2h0aW5nX2dldFNwZWN1bGFyTGlnaHRDb2xvcih2ZWMzIGNhbWVyYVBvc2l0aW9uLCB2ZWMzIHBvc2l0aW9uX3dvcmxkc3BhY2UsIHZlYzMgbm9ybWFsX3dvcmxkc3BhY2UpIHtcbiAgdmVjMyBsaWdodENvbG9yID0gdmVjMygwLCAwLCAwKTtcbiAgdmVjMyBzdXJmYWNlQ29sb3IgPSB2ZWMzKDAsIDAsIDApO1xuXG4gIGlmIChsaWdodGluZ191RW5hYmxlZCkge1xuICAgIHZlYzMgdmlld19kaXJlY3Rpb24gPSBub3JtYWxpemUoY2FtZXJhUG9zaXRpb24gLSBwb3NpdGlvbl93b3JsZHNwYWNlKTtcblxuICAgIGZvciAoaW50IGkgPSAwOyBpIDwgTUFYX0xJR0hUUzsgaSsrKSB7XG4gICAgICBpZiAoaSA+PSBsaWdodGluZ191UG9pbnRMaWdodENvdW50KSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgUG9pbnRMaWdodCBwb2ludExpZ2h0ID0gbGlnaHRpbmdfdVBvaW50TGlnaHRbaV07XG4gICAgICB2ZWMzIGxpZ2h0X3Bvc2l0aW9uX3dvcmxkc3BhY2UgPSBwb2ludExpZ2h0LnBvc2l0aW9uO1xuICAgICAgdmVjMyBsaWdodF9kaXJlY3Rpb24gPSBub3JtYWxpemUobGlnaHRfcG9zaXRpb25fd29ybGRzcGFjZSAtIHBvc2l0aW9uX3dvcmxkc3BhY2UpO1xuICAgICAgbGlnaHRDb2xvciArPSBsaWdodGluZ19nZXRMaWdodENvbG9yKHN1cmZhY2VDb2xvciwgbGlnaHRfZGlyZWN0aW9uLCB2aWV3X2RpcmVjdGlvbiwgbm9ybWFsX3dvcmxkc3BhY2UsIHBvaW50TGlnaHQuY29sb3IpO1xuICAgIH1cblxuICAgIGZvciAoaW50IGkgPSAwOyBpIDwgTUFYX0xJR0hUUzsgaSsrKSB7XG4gICAgICBpZiAoaSA+PSBsaWdodGluZ191RGlyZWN0aW9uYWxMaWdodENvdW50KSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgRGlyZWN0aW9uYWxMaWdodCBkaXJlY3Rpb25hbExpZ2h0ID0gbGlnaHRpbmdfdURpcmVjdGlvbmFsTGlnaHRbaV07XG4gICAgICBsaWdodENvbG9yICs9IGxpZ2h0aW5nX2dldExpZ2h0Q29sb3Ioc3VyZmFjZUNvbG9yLCAtZGlyZWN0aW9uYWxMaWdodC5kaXJlY3Rpb24sIHZpZXdfZGlyZWN0aW9uLCBub3JtYWxfd29ybGRzcGFjZSwgZGlyZWN0aW9uYWxMaWdodC5jb2xvcik7XG4gICAgfVxuICB9XG4gIHJldHVybiBsaWdodENvbG9yO1xufVxuIjtuLmQoZSwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIGF9KSksbi5kKGUsImIiLChmdW5jdGlvbigpe3JldHVybiBvfSkpO3ZhciBhPXtuYW1lOiJnb3VyYXVkLWxpZ2h0aW5nIixkZXBlbmRlbmNpZXM6W3IuYV0sdnM6aSxkZWZpbmVzOntMSUdIVElOR19WRVJURVg6MX0sZ2V0VW5pZm9ybXM6Y30sbz17bmFtZToicGhvbmctbGlnaHRpbmciLGRlcGVuZGVuY2llczpbci5hXSxmczppLGRlZmluZXM6e0xJR0hUSU5HX0ZSQUdNRU5UOjF9LGdldFVuaWZvcm1zOmN9LHM9e307ZnVuY3Rpb24gdSh0KXt2YXIgZT10LmFtYmllbnQsbj12b2lkIDA9PT1lPy4zNTplLHI9dC5kaWZmdXNlLGk9dm9pZCAwPT09cj8uNjpyLGE9dC5zaGluaW5lc3Msbz12b2lkIDA9PT1hPzMyOmEscz10LnNwZWN1bGFyQ29sb3I7cmV0dXJue2xpZ2h0aW5nX3VBbWJpZW50Om4sbGlnaHRpbmdfdURpZmZ1c2U6aSxsaWdodGluZ191U2hpbmluZXNzOm8sbGlnaHRpbmdfdVNwZWN1bGFyQ29sb3I6KHZvaWQgMD09PXM/WzMwLDMwLDMwXTpzKS5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiB0LzI1NX0pKX19ZnVuY3Rpb24gYygpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTpzO2lmKCEoIm1hdGVyaWFsImluIHQpKXJldHVybnt9O3ZhciBlPXQubWF0ZXJpYWw7cmV0dXJuIGU/dShlKTp7bGlnaHRpbmdfdUVuYWJsZWQ6ITF9fX1dKX0pKTsK"></script>
<script src="data:application/javascript;base64,Ci8vaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9hLzQwNDc1MzYyLzU5NzcyMTUKZnVuY3Rpb24gbWRfY29sb3VyX2RvbWFpbiggeCwgY29sb3VyX3JhbmdlLCBtYXBfaWQsIG1hcF90eXBlLCBsYXllcl9pZCwgbGVnZW5kLCBmb3JtYXQgKSB7CglpZiggbGVnZW5kLmxlZ2VuZCApIHsKCgkJLy9jb25zb2xlLmxvZyggIm1kX2NvbG91cl9kb21haW4iICk7CgkJLy9jb25zb2xlLmxvZyggeCApOwoJCXZhciBjZCA9IG1kX21ha2VfbGVnZW5kX3JhbmdlKHhbMF0sIHhbMV0sIGNvbG91cl9yYW5nZS5sZW5ndGgsIGxlZ2VuZC5kaWdpdHMgKTsKCgkJLy9jb25zb2xlLmxvZyggY2QgKTsKCgkJdmFyIGxlZGdlID0gewogIAlmaWxsX2NvbG91cjogewogIAkJY29sb3VyOiBjb2xvdXJfcmFuZ2UsCiAgCQl2YXJpYWJsZTogY2QsCiAgCQljb2xvdXJUeXBlOiBbImZpbGxfY29sb3VyIl0sCiAgCQl0eXBlOiBbImdyYWRpZW50Il0sCiAgCQl0aXRsZTogbGVnZW5kLnRpdGxlLCAgICAgICAgLy8gVE9ETzogdGhlICdjb2xvdXInIGFyZ3VtZW50LCBvciBpZiBub3Qgc3VwcGxpZWQgc2ltcGx5ICd2YWx1ZScgPwogIAkJY3NzOiBsZWdlbmQuY3NzCiAgCX0KICB9OwogIG1kX2FkZF9sZWdlbmQoIG1hcF9pZCwgbWFwX3R5cGUsIGxheWVyX2lkLCBsZWRnZSwgZm9ybWF0ICk7Cgl9Cgp9CgpmdW5jdGlvbiBtZF9tYWtlX2xlZ2VuZF9yYW5nZShzdGFydFZhbHVlLCBzdG9wVmFsdWUsIGNhcmRpbmFsaXR5LCBkaWdpdHMgKSB7CgogIHZhciBhcnIgPSBbXTsKICB2YXIgY3VyclZhbHVlID0gc3RhcnRWYWx1ZTsKICB2YXIgc3RlcCA9IChzdG9wVmFsdWUgLSBzdGFydFZhbHVlKSAvIChjYXJkaW5hbGl0eSAtIDEpOwogIGZvciAodmFyIGkgPSAwOyBpIDwgY2FyZGluYWxpdHk7IGkrKykgewogICAgLy9hcnIucHVzaChjdXJyVmFsdWUgKyAoc3RlcCAqIGkpKTsKICAgIGFyci5wdXNoKHBhcnNlRmxvYXQoKGN1cnJWYWx1ZSArIChzdGVwICogaSkpLnRvRml4ZWQoIGRpZ2l0cyApKSk7CiAgfQogIHJldHVybiBhcnI7Cn0KCgpmdW5jdGlvbiBtZF9hZGRfbGVnZW5kKG1hcF9pZCwgbWFwX3R5cGUsIGxheWVyX2lkLCBsZWdlbmRWYWx1ZXMsIGZvcm1hdCApIHsKCiAgaWYoICFtZF9kaXZfZXhpc3RzKCAnbGVnZW5kQ29udGFpbmVyJyttYXBfaWQgKSApIHsKICAJbWRfc2V0dXBfbGVnZW5kKCBtYXBfaWQgKTsKICB9CgogICd1c2Ugc3RyaWN0JzsKCiAgICB2YXIgdGhpc19sZWdlbmQ7CiAgICBPYmplY3Qua2V5cyggbGVnZW5kVmFsdWVzICkuZm9yRWFjaCggZnVuY3Rpb24oa2V5KSB7CgogICAgICAgIHRoaXNfbGVnZW5kID0gbGVnZW5kVmFsdWVzWyBrZXkgXTsKCiAgICAgICAgaWYgKCB0aGlzX2xlZ2VuZC5jb2xvdXIgIT09IHVuZGVmaW5lZCApIHsKICAgICAgICAgICAgaWYgKCB0aGlzX2xlZ2VuZC50eXBlWzBdID09PSAiY2F0ZWdvcnkiIHx8IHRoaXNfbGVnZW5kLmNvbG91ci5sZW5ndGggPT0gMSApIHsKICAgICAgICAgICAgICAgIG1kX2FkZF9sZWdlbmRfY2F0ZWdvcnkoIG1hcF9pZCwgbWFwX3R5cGUsIGxheWVyX2lkLCB0aGlzX2xlZ2VuZCwgZm9ybWF0ICk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBtZF9hZGRfbGVnZW5kX2dyYWRpZW50KCBtYXBfaWQsIG1hcF90eXBlLCBsYXllcl9pZCwgdGhpc19sZWdlbmQsIGZvcm1hdCApOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfSk7Cgp9CgpmdW5jdGlvbiBtZF9hZGRfbGVnZW5kX2dyYWRpZW50KG1hcF9pZCwgbWFwX3R5cGUsIGxheWVyX2lkLCBsZWdlbmRWYWx1ZXMsIGZvcm1hdCApIHsKICAgIC8vIGZpbGwgZ3JhZGllbnQKICAgIC8vIG51bWVyaWMgdmFsdWVzOyBmb3JtYXQgbnVtYmVycyBhY2NvcmRpbmcgdG8gbGVnZW5kVmFsdWVzLmRpZ2l0cwoKICAgIC8vY29uc29sZS5sb2coICJsZWdlbmQgZGlnaXRzIiApOwogICAgLy9jb25zb2xlLmxvZyggbGVnZW5kVmFsdWVzICk7CgogICAgJ3VzZSBzdHJpY3QnOwogICAgdmFyIGxlZ2VuZENvbnRlbnQsCiAgICAgICAgbGVnZW5kVGl0bGUsCiAgICAgICAgdGlja0NvbnRhaW5lciwKICAgICAgICBsYWJlbENvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpLAogICAgICAgIGxlZ2VuZENvbG91cnMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKSwKICAgICAgICBqc0NvbG91cnMgPSBbXSwKICAgICAgICBjb2xvdXJzID0gJycsCiAgICAgICAgaSA9IDAsCiAgICAgICAgbGVnZW5kVGV4dENvbG91ciA9ICcjODI4MjgyJywKICAgICAgICBzdHlsZSA9ICcnLAogICAgICAgIGlzVXBkYXRpbmcgPSBmYWxzZTsKCiAgICBpZiAod2luZG93W21hcF9pZCArICdsZWdlbmQnICsgbGF5ZXJfaWQgKyBsZWdlbmRWYWx1ZXMuY29sb3VyVHlwZV0gPT0gbnVsbCkgewogICAgICAgIHdpbmRvd1ttYXBfaWQgKyAnbGVnZW5kJyArIGxheWVyX2lkICsgbGVnZW5kVmFsdWVzLmNvbG91clR5cGVdID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7CiAgICAgICAgd2luZG93W21hcF9pZCArICdsZWdlbmQnICsgbGF5ZXJfaWQgKyBsZWdlbmRWYWx1ZXMuY29sb3VyVHlwZV0uc2V0QXR0cmlidXRlKCdpZCcsIG1hcF9pZCArICdsZWdlbmQnICsgbGF5ZXJfaWQgKyBsZWdlbmRWYWx1ZXMuY29sb3VyVHlwZSk7CiAgICAgICAgd2luZG93W21hcF9pZCArICdsZWdlbmQnICsgbGF5ZXJfaWQgKyBsZWdlbmRWYWx1ZXMuY29sb3VyVHlwZV0uc2V0QXR0cmlidXRlKCdjbGFzcycsICdsZWdlbmQnKTsKICAgIH0gIGVsc2UgewogICAgICAgIGlzVXBkYXRpbmcgPSB0cnVlOwoKICAgICAgICB3aGlsZSAoIHdpbmRvd1ttYXBfaWQgKyAnbGVnZW5kJyArIGxheWVyX2lkICsgbGVnZW5kVmFsdWVzLmNvbG91clR5cGVdLmhhc0NoaWxkTm9kZXMoKSApIHsKICAgICAgICAgICAgd2luZG93W21hcF9pZCArICdsZWdlbmQnICsgbGF5ZXJfaWQgKyBsZWdlbmRWYWx1ZXMuY29sb3VyVHlwZV0ucmVtb3ZlQ2hpbGQoCiAgICAgICAgICAgIAl3aW5kb3dbbWFwX2lkICsgJ2xlZ2VuZCcgKyBsYXllcl9pZCArIGxlZ2VuZFZhbHVlcy5jb2xvdXJUeXBlXS5sYXN0Q2hpbGQKICAgICAgICAgICAgKTsKICAgICAgICB9CiAgICB9CgogICAgbGVnZW5kQ29udGVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpLAogICAgbGVnZW5kVGl0bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKSwKICAgIHRpY2tDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKSwKICAgIGxhYmVsQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2IiksCiAgICBsZWdlbmRDb2xvdXJzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JyksCgogICAgbGVnZW5kQ29udGVudC5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2xlZ2VuZENvbnRlbnQnKTsKICAgIGxlZ2VuZFRpdGxlLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnbGVnZW5kVGl0bGUnKTsKICAgIGxlZ2VuZFRpdGxlLmlubmVySFRNTCA9IGxlZ2VuZFZhbHVlcy50aXRsZTsKCiAgICB3aW5kb3dbbWFwX2lkICsgJ2xlZ2VuZCcgKyBsYXllcl9pZCArIGxlZ2VuZFZhbHVlcy5jb2xvdXJUeXBlXS5hcHBlbmRDaGlsZCggbGVnZW5kVGl0bGUgKTsKCiAgICB0aWNrQ29udGFpbmVyLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAndGlja0NvbnRhaW5lcicpOwogICAgbGFiZWxDb250YWluZXIuc2V0QXR0cmlidXRlKCdjbGFzcycsICdsYWJlbENvbnRhaW5lcicpOwoKICAgIGlmIChsZWdlbmRWYWx1ZXMuY3NzICE9PSBudWxsKSB7CiAgICAgICAgd2luZG93W21hcF9pZCArICdsZWdlbmQnICsgbGF5ZXJfaWQgKyBsZWdlbmRWYWx1ZXMuY29sb3VyVHlwZV0uc2V0QXR0cmlidXRlKCdzdHlsZScsIGxlZ2VuZFZhbHVlcy5jc3MpOwogICAgfQoKICAgIC8vY29uc29sZS5sb2coIGxlZ2VuZFZhbHVlcy5jb2xvdXIgKTsKCiAgICBpZiggZm9ybWF0ID09PSAiaGV4IikgewoJICAgIGZvciAoaSA9IDA7IGkgPCBsZWdlbmRWYWx1ZXMuY29sb3VyLmxlbmd0aDsgaSsrKSB7CgkgICAgICBqc0NvbG91cnMucHVzaCggbGVnZW5kVmFsdWVzLmNvbG91cltpXS5zdWJzdHJpbmcoMCw3KSApOwoJICAgIH0KICAgIH0gZWxzZSB7CiAgICAJZm9yIChpID0gMDsgaSA8IGxlZ2VuZFZhbHVlcy5jb2xvdXIubGVuZ3RoOyBpKyspIHsKCiAgICAJCXZhciBoZXggPSBtZF9SR0JUb0hleCggbGVnZW5kVmFsdWVzLmNvbG91cltpXSApOwoKCSAgICAgIGpzQ29sb3Vycy5wdXNoKCBoZXggKTsKCSAgICB9CiAgICB9CgogICAgY29sb3VycyA9ICcoJyArIGpzQ29sb3Vycy5qb2luKCkgKyAnKSc7CgogICAgc3R5bGUgPSAnZGlzcGxheTogaW5saW5lLWJsb2NrOyBoZWlnaHQ6ICcgKyBqc0NvbG91cnMubGVuZ3RoICogMjAgKyAncHg7IHdpZHRoOiAxNXB4Oyc7CiAgICBzdHlsZSArPSAnYmFja2dyb3VuZDogJyArIGpzQ29sb3Vyc1sxXSArICc7JzsKICAgIHN0eWxlICs9ICdiYWNrZ3JvdW5kOiAtd2Via2l0LWxpbmVhci1ncmFkaWVudCcgKyBjb2xvdXJzICsgJzsnOwogICAgc3R5bGUgKz0gJ2JhY2tncm91bmQ6IC1vLWxpbmVhci1ncmFkaWVudCcgKyBjb2xvdXJzICsgJzsnOwogICAgc3R5bGUgKz0gJ2JhY2tncm91bmQ6IC1tb3otbGluZWFyLWdyYWRpZW50JyArIGNvbG91cnMgKyAnOyc7CiAgICBzdHlsZSArPSAnYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50JyArIGNvbG91cnMgKyAnOyc7CgogICAgbGVnZW5kQ29sb3Vycy5zZXRBdHRyaWJ1dGUoJ3N0eWxlJywgc3R5bGUpOwogICAgbGVnZW5kQ29udGVudC5hcHBlbmRDaGlsZChsZWdlbmRDb2xvdXJzKTsKCiAgICBmb3IgKGkgPSAwOyBpIDwgbGVnZW5kVmFsdWVzLmNvbG91ci5sZW5ndGg7IGkrKykgewoKICAgICAgICB2YXIgbGVnZW5kVmFsdWUgPSAndGV4dC1hbGlnbjogbGVmdDsgY29sb3I6ICcgKyBsZWdlbmRUZXh0Q29sb3VyICsgJzsgZm9udC1zaXplOiAxMnB4OyBoZWlnaHQ6IDIwcHg7JywKICAgICAgICAgICAgZGl2VGlja3MgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKSwKICAgICAgICAgICAgZGl2VmFsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CgogICAgICAgIGRpdlRpY2tzLnNldEF0dHJpYnV0ZSgnc3R5bGUnLCBsZWdlbmRWYWx1ZSk7CiAgICAgICAgZGl2VGlja3MuaW5uZXJIVE1MID0gJy0nOwogICAgICAgIHRpY2tDb250YWluZXIuYXBwZW5kQ2hpbGQoZGl2VGlja3MpOwoKICAgICAgICBkaXZWYWwuc2V0QXR0cmlidXRlKCdzdHlsZScsIGxlZ2VuZFZhbHVlKTsKICAgICAgICBkaXZWYWwuaW5uZXJIVE1MID0gbGVnZW5kVmFsdWVzLnZhcmlhYmxlW2ldOwogICAgICAgIGxhYmVsQ29udGFpbmVyLmFwcGVuZENoaWxkKGRpdlZhbCk7CiAgICB9CgogICAgbGVnZW5kQ29udGVudC5hcHBlbmRDaGlsZCh0aWNrQ29udGFpbmVyKTsKICAgIGxlZ2VuZENvbnRlbnQuYXBwZW5kQ2hpbGQobGFiZWxDb250YWluZXIpOwoKICAgIHdpbmRvd1ttYXBfaWQgKyAnbGVnZW5kJyArIGxheWVyX2lkICsgbGVnZW5kVmFsdWVzLmNvbG91clR5cGVdLmFwcGVuZENoaWxkKGxlZ2VuZENvbnRlbnQpOwoKICAgIGlmIChpc1VwZGF0aW5nID09PSBmYWxzZSkgewogICAgICAgIG1kX3BsYWNlQ29udHJvbChtYXBfaWQsIG1hcF90eXBlLCB3aW5kb3dbbWFwX2lkICsgJ2xlZ2VuZCcgKyBsYXllcl9pZCArIGxlZ2VuZFZhbHVlcy5jb2xvdXJUeXBlXSApOwogICAgfQp9CgpmdW5jdGlvbiBtZF9nZW5lcmF0ZUNvbG91ckJveChjb2xvdXJUeXBlLCBjb2xvdXIpIHsKICAgICd1c2Ugc3RyaWN0JzsKCiAgICBpZiAoY29sb3VyVHlwZVswXSA9PT0gImZpbGxfY29sb3VyIikgewogICAgICAgIHJldHVybiAoJ2hlaWdodDogMjBweDsgd2lkdGg6IDE1cHg7IGJhY2tncm91bmQ6ICcgKyBjb2xvdXIpOwogICAgfSBlbHNlIHsKICAgICAgICAvLyBodHRwOi8vanNmaWRkbGUubmV0L1VFUzZVLzIvCiAgICAgICAgcmV0dXJuICgnaGVpZ2h0OiAyMHB4OyB3aWR0aDogMTVweDsgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KHRvIGJvdHRvbSwgd2hpdGUgMjUlLCAnICsgY29sb3VyICsgJyAyNSUsICcgKyBjb2xvdXIgKyAnIDQ1JSwgJyArICd3aGl0ZSA0NSUpJyk7CiAgICB9Cn0KCmZ1bmN0aW9uIG1kX2FkZF9sZWdlbmRfY2F0ZWdvcnkobWFwX2lkLCBtYXBfdHlwZSwgbGF5ZXJfaWQsIGxlZ2VuZFZhbHVlcywgZm9ybWF0ICkgewoKICAgICd1c2Ugc3RyaWN0JzsKCiAgICB2YXIgbGVnZW5kQ29udGVudCwKICAgICAgICBsZWdlbmRUaXRsZSwKICAgICAgICBjb2xvdXJDb250YWluZXIsCiAgICAgICAgdGlja0NvbnRhaW5lciwKICAgICAgICBsYWJlbENvbnRhaW5lciwKICAgICAgICBsZWdlbmRDb2xvdXJzLAogICAgICAgIGNvbG91ckJveCA9ICcnLAogICAgICAgIC8vY29sb3VyQXR0cmlidXRlID0gJycsCiAgICAgICAgaSA9IDAsCiAgICAgICAgbGVnZW5kVGV4dENvbG91ciA9ICcjODI4MjgyJywKICAgICAgICBpc1VwZGF0aW5nID0gZmFsc2U7CgogICAgLy8gY2F0Y2ggdW5kZWZpbmVkIE9SIG51bGwKICAgIC8vIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzI2NDc4NjcvaG93LXRvLWRldGVybWluZS1pZi12YXJpYWJsZS1pcy11bmRlZmluZWQtb3ItbnVsbAogICAgaWYgKHdpbmRvd1ttYXBfaWQgKyAnbGVnZW5kJyArIGxheWVyX2lkICsgbGVnZW5kVmFsdWVzLmNvbG91clR5cGVdID09IG51bGwpIHsKCiAgICAgICAgd2luZG93W21hcF9pZCArICdsZWdlbmQnICsgbGF5ZXJfaWQgKyBsZWdlbmRWYWx1ZXMuY29sb3VyVHlwZV0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsKICAgICAgICB3aW5kb3dbbWFwX2lkICsgJ2xlZ2VuZCcgKyBsYXllcl9pZCArIGxlZ2VuZFZhbHVlcy5jb2xvdXJUeXBlXS5zZXRBdHRyaWJ1dGUoJ2lkJywgbWFwX2lkICsgJ2xlZ2VuZCcgKyBsYXllcl9pZCArIGxlZ2VuZFZhbHVlcy5jb2xvdXJUeXBlKTsKICAgICAgICB3aW5kb3dbbWFwX2lkICsgJ2xlZ2VuZCcgKyBsYXllcl9pZCArIGxlZ2VuZFZhbHVlcy5jb2xvdXJUeXBlXS5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2xlZ2VuZCcpOwoKICAgIH0gZWxzZSB7CiAgICAgICAgaXNVcGRhdGluZyA9IHRydWU7CgogICAgICAgIHdoaWxlICh3aW5kb3dbbWFwX2lkICsgJ2xlZ2VuZCcgKyBsYXllcl9pZCArIGxlZ2VuZFZhbHVlcy5jb2xvdXJUeXBlXS5oYXNDaGlsZE5vZGVzKCkpIHsKICAgICAgICAgICAgd2luZG93W21hcF9pZCArICdsZWdlbmQnICsgbGF5ZXJfaWQgKyBsZWdlbmRWYWx1ZXMuY29sb3VyVHlwZV0ucmVtb3ZlQ2hpbGQod2luZG93W21hcF9pZCArICdsZWdlbmQnICsgbGF5ZXJfaWQgKyBsZWdlbmRWYWx1ZXMuY29sb3VyVHlwZV0ubGFzdENoaWxkKTsKICAgICAgICB9CiAgICB9CgogICAgbGVnZW5kQ29udGVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOwogICAgbGVnZW5kVGl0bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsKICAgIGNvbG91ckNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOwogICAgdGlja0NvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOwogICAgbGFiZWxDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsKICAgIGxlZ2VuZENvbG91cnMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKCiAgICBsZWdlbmRDb250ZW50LnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnbGVnZW5kQ29udGVudCcpOwogICAgbGVnZW5kQ29udGVudC5zZXRBdHRyaWJ1dGUoJ2lkJywgJ2xlZ2VuZENvbnRlbnRJZCcgKyBtYXBfaWQgKyBsYXllcl9pZCk7CgogICAgbGVnZW5kVGl0bGUuc2V0QXR0cmlidXRlKCdjbGFzcycsICdsZWdlbmRUaXRsZScpOwogICAgbGVnZW5kVGl0bGUuaW5uZXJIVE1MID0gbGVnZW5kVmFsdWVzLnRpdGxlOwogICAgd2luZG93W21hcF9pZCArICdsZWdlbmQnICsgbGF5ZXJfaWQgKyBsZWdlbmRWYWx1ZXMuY29sb3VyVHlwZV0uYXBwZW5kQ2hpbGQobGVnZW5kVGl0bGUpOwoKICAgIGNvbG91ckNvbnRhaW5lci5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2xhYmVsQ29udGFpbmVyJyk7CiAgICBjb2xvdXJDb250YWluZXIuc2V0QXR0cmlidXRlKCdpZCcsICdjb2xvdXJDb250YWluZXJJZCcgKyBtYXBfaWQgKyBsYXllcl9pZCk7CgogICAgdGlja0NvbnRhaW5lci5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ3RpY2tDb250YWluZXInKTsKICAgIHRpY2tDb250YWluZXIuc2V0QXR0cmlidXRlKCdpZCcsICd0aWNrQ29udGFpbmVySWQnICsgbWFwX2lkICsgbGF5ZXJfaWQpOwoKICAgIGxhYmVsQ29udGFpbmVyLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnbGFiZWxDb250YWluZXInKTsKICAgIGxhYmVsQ29udGFpbmVyLnNldEF0dHJpYnV0ZSgnaWQnLCAnbGFiZWxDb250YWluZXJJZCcgKyBtYXBfaWQgKyBsYXllcl9pZCk7CgogICAgaWYgKGxlZ2VuZFZhbHVlcy5jc3MgIT09IG51bGwpIHsKICAgICAgICB3aW5kb3dbbWFwX2lkICsgJ2xlZ2VuZCcgKyBsYXllcl9pZCArIGxlZ2VuZFZhbHVlcy5jb2xvdXJUeXBlXS5zZXRBdHRyaWJ1dGUoJ3N0eWxlJywgbGVnZW5kVmFsdWVzLmNzcyk7CiAgICB9CgogICAgZm9yIChpID0gMDsgaSA8IGxlZ2VuZFZhbHVlcy5jb2xvdXIubGVuZ3RoOyBpKyspIHsKCiAgICAgICAgdmFyIHRpY2tWYWwgPSAndGV4dC1sZWZ0OiBjZW50ZXI7IGNvbG9yOiAnICsgbGVnZW5kVGV4dENvbG91ciArICc7IGZvbnQtc2l6ZTogMTJweDsgaGVpZ2h0OiAyMHB4OycsCiAgICAgICAgICAgIGRpdkNvbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpLAogICAgICAgICAgICBkaXZUaWNrcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpLAogICAgICAgICAgICBkaXZWYWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKCiAgICAgICAgLy9jb2xvdXJCb3ggPSAnaGVpZ2h0OiAyMHB4OyB3aWR0aDogMTVweDsgYmFja2dyb3VuZDogJyArIGxlZ2VuZFZhbHVlcy5sZWdlbmQuY29sb3VyW2ldOwogICAgICAgIGlmKCBmb3JtYXQgPT09ICJoZXgiICkgewogICAgICAgIAljb2xvdXJCb3ggPSBtZF9nZW5lcmF0ZUNvbG91ckJveChsZWdlbmRWYWx1ZXMuY29sb3VyVHlwZSwgbGVnZW5kVmFsdWVzLmNvbG91cltpXS5zdWJzdHJpbmcoMCw3KSApOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgCXZhciBoZXggPSBtZF9SR0JUb0hleCggbGVnZW5kVmFsdWVzLmNvbG91cltpXSApOwogICAgICAgIAljb2xvdXJCb3ggPSBtZF9nZW5lcmF0ZUNvbG91ckJveChsZWdlbmRWYWx1ZXMuY29sb3VyVHlwZSwgaGV4ICk7CiAgICAgICAgfQogICAgICAgIGRpdkNvbC5zZXRBdHRyaWJ1dGUoJ3N0eWxlJywgY29sb3VyQm94KTsKICAgICAgICBjb2xvdXJDb250YWluZXIuYXBwZW5kQ2hpbGQoZGl2Q29sKTsKCiAgICAgICAgZGl2VGlja3Muc2V0QXR0cmlidXRlKCdzdHlsZScsIHRpY2tWYWwpOwogICAgICAgIGRpdlRpY2tzLmlubmVySFRNTCA9ICctJzsKICAgICAgICB0aWNrQ29udGFpbmVyLmFwcGVuZENoaWxkKGRpdlRpY2tzKTsKCiAgICAgICAgZGl2VmFsLnNldEF0dHJpYnV0ZSgnc3R5bGUnLCB0aWNrVmFsKTsKICAgICAgICBkaXZWYWwuaW5uZXJIVE1MID0gbGVnZW5kVmFsdWVzLnZhcmlhYmxlW2ldOwogICAgICAgIGxhYmVsQ29udGFpbmVyLmFwcGVuZENoaWxkKGRpdlZhbCk7CiAgICB9CgogICAgbGVnZW5kQ29udGVudC5hcHBlbmRDaGlsZChjb2xvdXJDb250YWluZXIpOwogICAgbGVnZW5kQ29udGVudC5hcHBlbmRDaGlsZCh0aWNrQ29udGFpbmVyKTsKICAgIGxlZ2VuZENvbnRlbnQuYXBwZW5kQ2hpbGQobGFiZWxDb250YWluZXIpOwoKICAgIHdpbmRvd1ttYXBfaWQgKyAnbGVnZW5kJyArIGxheWVyX2lkICsgbGVnZW5kVmFsdWVzLmNvbG91clR5cGVdLmFwcGVuZENoaWxkKGxlZ2VuZENvbnRlbnQpOwoKICAgIGlmIChpc1VwZGF0aW5nID09PSBmYWxzZSkgewogICAgICAgIG1kX3BsYWNlQ29udHJvbChtYXBfaWQsIG1hcF90eXBlLCB3aW5kb3dbbWFwX2lkICsgJ2xlZ2VuZCcgKyBsYXllcl9pZCArIGxlZ2VuZFZhbHVlcy5jb2xvdXJUeXBlXSApOwogICAgfQoKfQoKCmZ1bmN0aW9uIG1kX2ZpbmRfYnlfaWQoIHNvdXJjZSwgaWQsIHJldHVyblR5cGUgKSB7CiAgICB2YXIgaSA9IDA7CiAgICBmb3IgKGkgPSAwOyBpIDwgc291cmNlLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgaWYgKHNvdXJjZVtpXS5pZCA9PT0gaWQpIHsKICAgICAgICAgICAgaWYgKHJldHVyblR5cGUgPT09ICJvYmplY3QiKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gc291cmNlW2ldOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgcmV0dXJuIGk7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9CiAgICByZXR1cm47Cn0KCmZ1bmN0aW9uIG1kX3RyeV9yZW1vdmVfbGVnZW5kKCBtYXBfaWQsIG1hcF90eXBlLCBsYXllcl9pZCwgY29sb3VyX3R5cGUgKSB7CgkvLyBmaW5kIHJlZmVyZW5jZSB0byB0aGlzIGxheWVyIGluIHRoZSBsZWdlbmRzCgl2YXIgaWQgPSBtYXBfaWQgKyAnbGVnZW5kJyArIGxheWVyX2lkICsgY29sb3VyX3R5cGU7Cgl2YXIgb2JqSW5kZXggPSBtZF9maW5kX2J5X2lkKCB3aW5kb3dbbWFwX2lkICsgJ2xlZ2VuZFBvc2l0aW9ucyddLCBpZCwgImluZGV4IiApOwoKCWlmKCBvYmpJbmRleCAhPT0gdW5kZWZpbmVkICkgewoJCW1kX3JlbW92ZUNvbnRyb2woIG1hcF9pZCwgbWFwX3R5cGUsIGlkLCB3aW5kb3dbbWFwX2lkICsgJ2xlZ2VuZFBvc2l0aW9ucyddW29iakluZGV4XS5wb3NpdGlvbiApOwoJCXdpbmRvd1ttYXBfaWQgKyAnbGVnZW5kUG9zaXRpb25zJ10uc3BsaWNlKG9iakluZGV4LCAxKTsKCSAgd2luZG93W2lkXSA9IG51bGw7Cgl9Cn0KCmZ1bmN0aW9uIG1kX2NsZWFyX2xlZ2VuZCggbWFwX2lkLCBtYXBfdHlwZSwgbGF5ZXJfaWQgKSB7CgoJbWRfdHJ5X3JlbW92ZV9sZWdlbmQoIG1hcF9pZCwgbWFwX3R5cGUsIGxheWVyX2lkLCAiZmlsbF9jb2xvdXIiKTsKCW1kX3RyeV9yZW1vdmVfbGVnZW5kKCBtYXBfaWQsIG1hcF90eXBlLCBsYXllcl9pZCwgInN0cm9rZV9jb2xvdXIiKTsKCW1kX3RyeV9yZW1vdmVfbGVnZW5kKCBtYXBfaWQsIG1hcF90eXBlLCBsYXllcl9pZCwgInN0cm9rZV9mcm9tIik7CgltZF90cnlfcmVtb3ZlX2xlZ2VuZCggbWFwX2lkLCBtYXBfdHlwZSwgbGF5ZXJfaWQsICJzdHJva2VfdG8iKTsKfQoKCmZ1bmN0aW9uIG1kX3BsYWNlQ29udHJvbCggbWFwX2lkLCBtYXBfdHlwZSwgb2JqZWN0ICkgewoKICAgIHZhciBtYXBib3hfY3RybCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCAibGVnZW5kQ29udGFpbmVyIittYXBfaWQpOwogICAgbWFwYm94X2N0cmwuYXBwZW5kQ2hpbGQoIG9iamVjdCApOwoKICAgIHZhciBsZWRnZSA9IHt9OwogICAgdmFyIHBvc2l0aW9uID0gIkJPVFRPTV9SSUdIVCI7CgogICAgaWYoIG1hcF90eXBlID09ICJnb29nbGVfbWFwIikgewogICAgCXdpbmRvd1ttYXBfaWQgKyAnbWFwJ10uY29udHJvbHNbZ29vZ2xlLm1hcHMuQ29udHJvbFBvc2l0aW9uLkJPVFRPTV9MRUZUXS5wdXNoKCBvYmplY3QgKTsKICAgIH0KCiAgICBsZWRnZSA9IHsKICAgICAgICBpZDogb2JqZWN0LmdldEF0dHJpYnV0ZSgnaWQnKSwKICAgICAgICBwb3NpdGlvbjogcG9zaXRpb24KICAgIH07CgogICAgd2luZG93W21hcF9pZCArICdsZWdlbmRQb3NpdGlvbnMnXS5wdXNoKCBsZWRnZSApOwp9CgoKZnVuY3Rpb24gbWRfcmVtb3ZlQ29udHJvbCggbWFwX2lkLCBtYXBfdHlwZSwgbGVnZW5kX2lkLCBwb3NpdGlvbiApIHsKCgl2YXIgZWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCBsZWdlbmRfaWQgKTsKCWVsZW1lbnQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCggZWxlbWVudCApOwoKCWlmKCBtYXBfdHlwZSA9PSAiZ29vZ2xlX21hcCIpIHsKCSAgbWRfY2xlYXJfY29udHJvbCggd2luZG93W21hcF9pZCArICdtYXAnXS5jb250cm9sc1tnb29nbGUubWFwcy5Db250cm9sUG9zaXRpb24uQk9UVE9NX0xFRlRdLCBsZWdlbmRfaWQgKTsKCX0KCi8qCiAgICBzd2l0Y2ggKHBvc2l0aW9uKSB7CiAgICBjYXNlICdUT1BfTEVGVCc6CiAgICAgICAgY2xlYXJDb250cm9sKHdpbmRvd1ttYXBfaWQgKyAnbWFwJ10uY29udHJvbHNbIlRPUF9MRUZUIl0sIGxlZ2VuZF9pZCk7CiAgICAgICAgYnJlYWs7CiAgICBjYXNlICdUT1BfUklHSFQnOgogICAgICAgIGNsZWFyQ29udHJvbCh3aW5kb3dbbWFwX2lkICsgJ21hcCddLmNvbnRyb2xzWyJUT1BfUklHSFQiXSwgbGVnZW5kX2lkKTsKICAgICAgICBicmVhazsKICAgIGNhc2UgJ0JPVFRPTV9MRUZUJzoKICAgICAgICBjbGVhckNvbnRyb2wod2luZG93W21hcF9pZCArICdtYXAnXS5jb250cm9sc1siQk9UVE9NX0xFRlQiXSwgbGVnZW5kX2lkKTsKICAgICAgICBicmVhazsKICAgIGNhc2UgJ0JPVFRPTV9SSUdIVCc6CiAgICAgICAgY2xlYXJDb250cm9sKHdpbmRvd1ttYXBfaWQgKyAnbWFwJ10uY29udHJvbHNbIkJPVFRPTV9SSUdIVCJdLCBsZWdlbmRfaWQpOwogICAgICAgIGJyZWFrOwogICAgZGVmYXVsdDoKICAgICAgICBwb3NpdGlvbiA9ICJCT1RUT01fTEVGVCI7CiAgICAgICAgY2xlYXJDb250cm9sKHdpbmRvd1ttYXBfaWQgKyAnbWFwJ10uY29udHJvbHNbIkxFRlRfQk9UVE9NIl0sIGxlZ2VuZF9pZCk7CiAgICAgICAgYnJlYWs7CiAgICB9CiovCn0KCmZ1bmN0aW9uIG1kX2NsZWFyX2NvbnRyb2woY29udHJvbCwgbGVnZW5kX2lkKSB7CgogIGlmIChjb250cm9sICE9PSB1bmRlZmluZWQgKSB7CiAgICBjb250cm9sLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0sIGluZGV4KSB7CiAgICAgIGlmIChpdGVtICE9PSB1bmRlZmluZWQgKSB7CiAgICAgICAgaWYgKGl0ZW0uZ2V0QXR0cmlidXRlKCdpZCcpID09PSBsZWdlbmRfaWQpIHsKICAgICAgICAgIGNvbnRyb2wucmVtb3ZlQXQoaW5kZXgpOwogICAgICAgIH0KICAgICAgfQogICAgfSk7CiAgfQp9Cg=="></script>
<script src="data:application/javascript;base64,ZnVuY3Rpb24gYWRkX3RpdGxlKG1hcF9pZCwgbWFwX3R5cGUsIGxheWVyX2lkLCB0aXRsZV9kYXRhKSB7CgogICAgLy8gdGVzdAogICAgJ3VzZSBzdHJpY3QnOwoKICBpZiggIW1kX2Rpdl9leGlzdHMoICdtYXBUaXRsZUNvbnRhaW5lcicrbWFwX2lkICkgKSB7CiAgCW1kX3NldHVwX3RpdGxlKCBtYXBfaWQgKTsKCiAgCWlmKCBtYXBfdHlwZSA9PSAiZ29vZ2xlX21hcCIgKSB7CiAgCQl2YXIgbWFwYm94X2N0cmwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCggIm1hcFRpdGxlQ29udGFpbmVyIittYXBfaWQpOwogICAgCS8vIGlmIHRoZSB0aXRsZUNvbnRhaW5lciBhbHJlYWR5IGV4aXN0cyBvbiB0aGUgZWxlbWVudCwgd2UgZG9uJ3QgbmVlZCB0byBwdXNoIGl0IHRvIHRoZSBtYXAKICAgIAl3aW5kb3dbbWFwX2lkICsgJ21hcCddLmNvbnRyb2xzW2dvb2dsZS5tYXBzLkNvbnRyb2xQb3NpdGlvbi5UT1BfQ0VOVEVSXS5wdXNoKCBtYXBib3hfY3RybCApOwogICAgIH0KCiAgfQoKICAgIHZhciB0aXRsZSwKICAgICAgICBzdHlsZSA9ICcnLAogICAgICAgIGlzVXBkYXRpbmcgPSBmYWxzZTsKCiAgICBpZiAod2luZG93W21hcF9pZCArICdtYXBUaXRsZScgKyBsYXllcl9pZF0gPT0gbnVsbCkgewogICAgICAgIHdpbmRvd1ttYXBfaWQgKyAnbWFwVGl0bGUnICsgbGF5ZXJfaWRdID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7CiAgICB9CiAgICB3aW5kb3dbbWFwX2lkICsgJ21hcFRpdGxlJyArIGxheWVyX2lkXS5zZXRBdHRyaWJ1dGUoJ2lkJywgbWFwX2lkICsgJ21hcFRpdGxlJyArIGxheWVyX2lkKTsKICAgIHdpbmRvd1ttYXBfaWQgKyAnbWFwVGl0bGUnICsgbGF5ZXJfaWRdLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnbWFwVGl0bGUnKTsKICAgIHdpbmRvd1ttYXBfaWQgKyAnbWFwVGl0bGUnICsgbGF5ZXJfaWRdLmlubmVySFRNTCA9IHRpdGxlX2RhdGEudGl0bGU7CgoKICAgIGlmICh0aXRsZV9kYXRhLmNzcyAhPT0gbnVsbCkgewogICAgICAgIHdpbmRvd1ttYXBfaWQgKyAnbWFwVGl0bGUnICsgbGF5ZXJfaWRdLnNldEF0dHJpYnV0ZSgnc3R5bGUnLCB0aXRsZV9kYXRhLmNzcyk7CiAgICB9CgogICAgaWYgKGlzVXBkYXRpbmcgPT09IGZhbHNlKSB7CiAgICAgICAgbWRfcGxhY2VUaXRsZShtYXBfaWQsIG1hcF90eXBlLCB3aW5kb3dbbWFwX2lkICsgJ21hcFRpdGxlJyArIGxheWVyX2lkXSApOwogICAgfQp9CgoKZnVuY3Rpb24gY2xlYXJfdGl0bGUoIG1hcF9pZCwgbWFwX3R5cGUsIGxheWVyX2lkICkgewoJLyoKCS8vIGZpbmQgcmVmZXJlbmNlIHRvIHRoaXMgbGF5ZXIgaW4gdGhlIGxlZ2VuZHMKCXZhciBpZCA9IG1hcF9pZCArICdtYXBUaXRsZScgKyBsYXllcl9pZDsKCXZhciBvYmpJbmRleCA9IG1kX2ZpbmRfYnlfaWQoIHdpbmRvd1ttYXBfaWQgKyAnbWFwVGl0bGUnXSwgaWQsICJpbmRleCIgKTsKCglpZiggb2JqSW5kZXggIT09IHVuZGVmaW5lZCApIHsKCQltZF9yZW1vdmVDb250cm9sKCBtYXBfaWQsIGlkLCB3aW5kb3dbbWFwX2lkICsgJ21hcFRpdGxlJyArIGxheWVyX2lkXVtvYmpJbmRleF0ucG9zaXRpb24gKTsKCQl3aW5kb3dbbWFwX2lkICsgJ21hcFRpdGxlJyArIGxheWVyX2lkXS5zcGxpY2Uob2JqSW5kZXgsIDEpOwoJICB3aW5kb3dbaWRdID0gbnVsbDsKCX0KCSovCiAgLy9jb25zb2xlLmxvZyggImNsZXJpbmcgdGl0bGUgZWxlbWVudCIgKTsKCgl2YXIgZWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCBtYXBfaWQgKyAnbWFwVGl0bGUnICsgbGF5ZXJfaWQgKTsKCS8vY29uc29sZS5sb2coIGVsZW1lbnQgKTsKCglpZiggZWxlbWVudCAhPT0gbnVsbCApIHsKCSAgZWxlbWVudC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKCBlbGVtZW50ICk7Cgl9CgoKCWlmKCBtYXBfdHlwZSA9PSAiZ29vZ2xlX21hcCIpIHsKCSAgbWRfY2xlYXJfdGl0bGVfY29udHJvbCggd2luZG93W21hcF9pZCArICdtYXAnXS5jb250cm9sc1tnb29nbGUubWFwcy5Db250cm9sUG9zaXRpb24uVE9QX0NFTlRFUl0sIGxheWVyX2lkICk7Cgl9Cn0KCgpmdW5jdGlvbiBtZF9wbGFjZVRpdGxlKCBtYXBfaWQsIG1hcF90eXBlLCBvYmplY3QgKSB7CgogICAgdmFyIG1hcGJveF9jdHJsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoICJtYXBUaXRsZUNvbnRhaW5lciIrbWFwX2lkKTsKICAgIG1hcGJveF9jdHJsLmFwcGVuZENoaWxkKCBvYmplY3QgKTsKfQoKCmZ1bmN0aW9uIG1kX2NsZWFyX3RpdGxlX2NvbnRyb2woY29udHJvbCwgbGF5ZXJfaWQpIHsKCiAgLy9jb25zb2xlLmxvZygiY2xlYXJpbmcgdGl0bGUgY29udHJvbCIpOwogIC8vY29uc29sZS5sb2coIGNvbnRyb2wgKTsKCiAgaWYgKGNvbnRyb2wgIT09IHVuZGVmaW5lZCApIHsKICAgIGNvbnRyb2wuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSwgaW5kZXgpIHsKICAgICAgaWYgKGl0ZW0gIT09IHVuZGVmaW5lZCApIHsKICAgICAgICBpZiAoaXRlbS5nZXRBdHRyaWJ1dGUoJ2lkJykgPT09IGxheWVyX2lkKSB7CiAgICAgICAgCS8vY29uc29sZS5sb2coICJyZW1vdmluZyBjb250cm9sIGF0IGluZGV4OiAiICsgaW5kZXgpOwogICAgICAgICAgY29udHJvbC5yZW1vdmVBdChpbmRleCk7CiAgICAgICAgfQogICAgICB9CiAgICB9KTsKICB9Cn0K"></script>
<script src="data:application/javascript;base64,CmZ1bmN0aW9uIG1kX2NoYW5nZV9sb2NhdGlvbiggbWFwX2lkLCBtYXBfdHlwZSwgbG9jYXRpb24sIHpvb20sIHBpdGNoLCBiZWFyaW5nLCBkdXJhdGlvbiwgdHJhbnNpdGlvbiApIHsKICB2YXIgY3VycmVudExvbiwgY3VycmVudExhdCwgY3VycmVudFBpdGNoLCBjdXJyZW50QmVhcmluZywgY3VycmVudFpvb207CgogIGlmKCBtYXBfdHlwZSA9PSAiZ29vZ2xlX21hcCIgKSB7CiAgCS8vY29uc29sZS5sb2coIGxvY2F0aW9uICk7CiAgCXdpbmRvd1ttYXBfaWQgKyAnbWFwJ10uc2V0Q2VudGVyKCB7IGxhdDogbG9jYXRpb25bMV0sIGxuZzogbG9jYXRpb25bMF0gfSApOwogIAl3aW5kb3dbbWFwX2lkICsgJ21hcCddLnNldFpvb20oIHpvb20gKTsKICB9IGVsc2UgewoKICAJLy9jb25zb2xlLmxvZyggd2luZG93WyBtYXBfaWQgKyAnbWFwJyBdLnZpZXdTdGF0ZSApOwoKCSAgaWYgKCB3aW5kb3dbIG1hcF9pZCArICdtYXAnXS52aWV3U3RhdGVbImRlZmF1bHQtdmlldyJdICE9PSB1bmRlZmluZWQgKSB7CgkgIAljdXJyZW50TG9uID0gbG9jYXRpb24gPT09IG51bGwgPyB3aW5kb3dbIG1hcF9pZCArICdtYXAnXS52aWV3U3RhdGVbImRlZmF1bHQtdmlldyJdLmxvbmdpdHVkZSA6IGxvY2F0aW9uWzBdOwoJICAJY3VycmVudExhdCA9IGxvY2F0aW9uID09PSBudWxsID8gd2luZG93WyBtYXBfaWQgKyAnbWFwJ10udmlld1N0YXRlWyJkZWZhdWx0LXZpZXciXS5sYXRpdHVkZSA6IGxvY2F0aW9uWzFdOwoJICAgIGN1cnJlbnRQaXRjaCA9IHBpdGNoID09PSBudWxsID8gd2luZG93WyBtYXBfaWQgKyAnbWFwJ10udmlld1N0YXRlWyJkZWZhdWx0LXZpZXciXS5waXRjaCA6IHBpdGNoOwoJICAgIGN1cnJlbnRCZWFyaW5nID0gYmVhcmluZyA9PT0gbnVsbCA/IHdpbmRvd1sgbWFwX2lkICsgJ21hcCcgXS52aWV3U3RhdGVbImRlZmF1bHQtdmlldyJdLmJlYXJpbmcgOiBiZWFyaW5nOwoJICAgIGN1cnJlbnRab29tID0gem9vbSA9PT0gbnVsbCA/IHdpbmRvd1sgbWFwX2lkICsgJ21hcCddLnZpZXdTdGF0ZVsiZGVmYXVsdC12aWV3Il0uem9vbSA6IHpvb207CgkgIH0gZWxzZSB7CgkgIAljdXJyZW50TG9uID0gbG9jYXRpb24gPT09IG51bGwgPyB3aW5kb3dbIG1hcF9pZCArICdtYXAnXS52aWV3U3RhdGUubG9uZ2l0dWRlIDogbG9jYXRpb25bMF07CgkgIAljdXJyZW50TGF0ID0gbG9jYXRpb24gPT09IG51bGwgPyB3aW5kb3dbIG1hcF9pZCArICdtYXAnXS52aWV3U3RhdGUubGF0aXR1ZGUgOiBsb2NhdGlvblsxXTsKCSAgICBjdXJyZW50UGl0Y2ggPSBwaXRjaCA9PT0gbnVsbCA/IHdpbmRvd1sgbWFwX2lkICsgJ21hcCddLnZpZXdTdGF0ZS5waXRjaCA6IHBpdGNoOwoJICAgIGN1cnJlbnRCZWFyaW5nID0gYmVhcmluZyA9PT0gbnVsbCA/IHdpbmRvd1sgbWFwX2lkICsgJ21hcCcgXS52aWV3U3RhdGUuYmVhcmluZyA6IGJlYXJpbmc7CgkgICAgY3VycmVudFpvb20gPSB6b29tID09PSBudWxsID8gd2luZG93WyBtYXBfaWQgKyAnbWFwJ10udmlld1N0YXRlLnpvb20gOiB6b29tOwoJICB9CgoJICAvL2NvbnNvbGUubG9nKCBjdXJyZW50TG9uICk7CgoJCXdpbmRvd1ttYXBfaWQgKyAnbWFwJ10uc2V0UHJvcHMoewoJICAgIGluaXRpYWxWaWV3U3RhdGU6IHsKCSAgICAgIGxvbmdpdHVkZTogY3VycmVudExvbiwKCSAgICAgIGxhdGl0dWRlOiBjdXJyZW50TGF0LAoJICAgICAgem9vbTogY3VycmVudFpvb20sCgkgICAgICBwaXRjaDogY3VycmVudFBpdGNoLAoJICAgICAgYmVhcmluZzogY3VycmVudEJlYXJpbmcsCgkgICAgICB0cmFuc2l0aW9uSW50ZXJwb2xhdG9yOiB0cmFuc2l0aW9uID09PSAiZmx5IiA/IG5ldyBkZWNrLkZseVRvSW50ZXJwb2xhdG9yKCkgOiBuZXcgZGVjay5MaW5lYXJJbnRlcnBvbGF0b3IoKSwKCSAgICAgIHRyYW5zaXRpb25EdXJhdGlvbjogZHVyYXRpb24sCgkgICAgICBjb250cm9sbGVyOiB0cnVlCgkgICAgfQoJICB9KTsKCiAgfQp9CgpmdW5jdGlvbiBtZF91cGRhdGVfc3R5bGUoIG1hcF9pZCwgc3R5bGUgKSB7CgogIHZhciB2cyA9IHdpbmRvd1sgbWFwX2lkICsgJ21hcCddLnZpZXdTdGF0ZTsKCXZhciBtYXAgPSB3aW5kb3dbIG1hcF9pZCArICdtYXAnXS5nZXRNYXBib3hNYXAoKTsKCW1hcC5zZXRTdHlsZSggc3R5bGUgKTsKCiAgd2luZG93WyBtYXBfaWQgKyAnbWFwJyBdLnNldFByb3BzKHsKICAJbGF5ZXJzOiBbLi4ud2luZG93W21hcF9pZCArICdsYXllcnMnXSBdLAogIAltYXA6IG1hcAogIAkvL3ZpZXdTdGF0ZTogdnMgLy8gaXNzdWUgMjM5ICgmIDMyMikgLSB2aWV3U3RhdGUgbm8gbG9uZ2VyIHN1cHBvcnRlZCBpbiBkZWNrLmdsIHY4LjAuOAogIH0pOwp9CgpmdW5jdGlvbiBtZF9sYXllcl92aWV3KCBtYXBfaWQsIG1hcF90eXBlLCBsYXllcl9pZCwgZm9jdXNfbGF5ZXIsIGJib3gsIHVwZGF0ZV92aWV3ICkgewoKCWlmKCBmb2N1c19sYXllciApIHsKICAJbWRfY2xlYXJfYm91bmRzKCBtYXBfaWQgKTsKICAJdXBkYXRlX3ZpZXcgPSB0cnVlOyAgICAgLy8gZm9yY2UgdGhpcwogIH0KCiAgaWYoIGJib3ggIT09IHVuZGVmaW5lZCAmJiB1cGRhdGVfdmlldykgewoKCSAgbWRfYWRkX3RvX2JvdW5kcyggbWFwX2lkLCBiYm94LCBsYXllcl9pZCApOwoJICB2YXIgbG9jID0gbWRfY2VudGVyX2xvY2F0aW9uKCB3aW5kb3dbIG1hcF9pZCArICdnbG9iYWxCb3gnXSApOwoJICBtZF9jaGFuZ2VfbG9jYXRpb24oIG1hcF9pZCwgbWFwX3R5cGUsIGxvYywgd2luZG93WyBtYXBfaWQgKyAnY3VycmVudFpvb21MZXZlbCddLCBudWxsLCBudWxsLCAwLCAibGluZWFyIiApOwogIH0KfQoKZnVuY3Rpb24gbWRfY2VudGVyX2xvY2F0aW9uKCBiYm94ICkgewoKCWNMb24gPSAoYmJveFswXVswXSArIGJib3hbMV1bMF0pIC8gMjsKCWNMYXQgPSAoYmJveFswXVsxXSArIGJib3hbMV1bMV0pIC8gMjsKCXZhciBsb2NhdGlvbiA9IFtjTG9uLCBjTGF0XTsKCXJldHVybiBsb2NhdGlvbjsKfQoKCmZ1bmN0aW9uIG1kX2FkZF90b19ib3VuZHMoIG1hcF9pZCwgYmJveCwgbGF5ZXJfaWQgKSB7CgogIHZhciB0aGlzQm94ID0gewogIAlsYXllcl9pZDogbGF5ZXJfaWQsCiAgCWJib3g6IGJib3gKICB9OwoKICBpZiggd2luZG93WyBtYXBfaWQgKyAnbWFwZGVja0JvdW5kcyddID09IG51bGwgKSB7CiAgCXdpbmRvd1sgbWFwX2lkICsgJ21hcGRlY2tCb3VuZHMnXSA9IFtdOwogIH0KCiAgaWYoIHdpbmRvd1sgbWFwX2lkICsgJ2N1cnJlbnRab29tTGV2ZWwnXSA9PSBudWxsICkgewogIAl3aW5kb3dbIG1hcF9pZCArICdjdXJyZW50Wm9vbUxldmVsJ10gPSBbXTsKICB9CgogIGlmKCB3aW5kb3dbIG1hcF9pZCArICdnbG9iYWxCb3gnXSA9PSBudWxsICkgewogIAl3aW5kb3dbIG1hcF9pZCArICdnbG9iYWxCb3gnXSA9IFtdOwogIH0KCiAgdmFyIGVsZW0gPSBtZF9maW5kT2JqZWN0RWxlbWVudEJ5S2V5KCB3aW5kb3dbIG1hcF9pZCArICdtYXBkZWNrQm91bmRzJ10sICdsYXllcl9pZCcsIGxheWVyX2lkICk7CglpZiAoIGVsZW0gIT0gLTEgKSB7CgkJd2luZG93WyBtYXBfaWQgKyAnbWFwZGVja0JvdW5kcycgXVtlbGVtXSA9IHRoaXNCb3g7Cgl9IGVsc2UgewoJCXdpbmRvd1sgbWFwX2lkICsgJ21hcGRlY2tCb3VuZHMnXS5wdXNoKCB0aGlzQm94ICk7Cgl9CgoJbWRfY2FsY3VsYXRlX2JvdW5kcyggbWFwX2lkLCB3aW5kb3dbIG1hcF9pZCArICdtYXBkZWNrQm91bmRzJ10gKTsKCgl3aW5kb3dbIG1hcF9pZCArICdjdXJyZW50Wm9vbUxldmVsJ10gPSBtZF9nZXRfem9vbV9sZXZlbCggd2luZG93WyBtYXBfaWQgKyAnZ2xvYmFsQm94J10gKTsKfQoKZnVuY3Rpb24gbWRfcmVtb3ZlX2Zyb21fYm91bmRzKCBtYXBfaWQsIGxheWVyX2lkICkgewoKCXZhciBlbGVtID0gbWRfZmluZE9iamVjdEVsZW1lbnRCeUtleSggd2luZG93WyBtYXBfaWQgKyAnbWFwZGVja0JvdW5kcyddLCAnbGF5ZXJfaWQnLCBsYXllcl9pZCApOwoJaWYgKCBlbGVtICE9IC0xICkgewoJCXdpbmRvd1sgbWFwX2lkICsgJ21hcGRlY2tCb3VuZHMnXS5zcGxpY2UoIGVsZW0sIDEgKTsKCX0KCW1kX2NhbGN1bGF0ZV9ib3VuZHMoIG1hcF9pZCwgd2luZG93WyBtYXBfaWQgKyAnbWFwZGVja0JvdW5kcyddICk7Cgl3aW5kb3dbIG1hcF9pZCArICdjdXJyZW50Wm9vbUxldmVsJ10gPSBtZF9nZXRfem9vbV9sZXZlbCggd2luZG93WyBtYXBfaWQgKyAnZ2xvYmFsQm94J10gKTsKfQoKZnVuY3Rpb24gbWRfY2xlYXJfYm91bmRzKCBtYXBfaWQgKSB7CgoJd2luZG93WyBtYXBfaWQgKyAnbWFwZGVja0JvdW5kcyddID0gW107Cgl3aW5kb3dbIG1hcF9pZCArICdnbG9iYWxCb3gnXSA9IFtdOwoJd2luZG93WyBtYXBfaWQgKyAnY3VycmVudFpvb21MZXZlbCddID0gMDsKfQoKZnVuY3Rpb24gbWRfdXBkYXRlX2xvY2F0aW9uKCBtYXBfaWQsIG1hcF90eXBlICkgewoKCXZhciBsb2MgPSBtZF9jZW50ZXJfbG9jYXRpb24oIHdpbmRvd1sgbWFwX2lkICsgJ2dsb2JhbEJveCcgXSApOwoJdmFyIHpvb20gPSAgd2luZG93WyBtYXBfaWQgKyAnY3VycmVudFpvb21MZXZlbCcgXTsKCglpZiAoIE51bWJlci5pc05hTiggbG9jWzBdICkgKSB7CgkJcmV0dXJuOwoJfQoKICBtZF9jaGFuZ2VfbG9jYXRpb24oIG1hcF9pZCwgbWFwX3R5cGUsIGxvYywgem9vbSwgbnVsbCwgbnVsbCwgMCwgImxpbmVhciIgKTsKfQoKCmZ1bmN0aW9uIG1kX2NhbGN1bGF0ZV9ib3VuZHMoIG1hcF9pZCwgbWFwZGVja0JvdW5kcyApIHsKCiAgdmFyIHltaW4sIHhtaW4sIHltYXgsIHhtYXgsIHRoaXNCb3g7CiAgZm9yKCB2YXIgaSA9IDA7IGkgPCBtYXBkZWNrQm91bmRzLmxlbmd0aDsgaSsrICkgewogICAgdGhpc0JveCA9IG1hcGRlY2tCb3VuZHNbaV0uYmJveDsKCiAgICBpZiAoIGkgPT09IDAgKSB7CiAgICAgIHhtaW4gPSB0aGlzQm94WzBdWzBdOwogICAgICB5bWluID0gdGhpc0JveFswXVsxXTsKICAgICAgeG1heCA9IHRoaXNCb3hbMV1bMF07CiAgICAgIHltYXggPSB0aGlzQm94WzFdWzFdOwogICAgfSBlbHNlIHsKICAgICAgeG1pbiA9IE1hdGgubWluKCB4bWluLCB0aGlzQm94WzBdWzBdICk7CiAgICAgIHltaW4gPSBNYXRoLm1pbiggeW1pbiwgdGhpc0JveFswXVsxXSApOwogICAgICB4bWF4ID0gTWF0aC5tYXgoIHhtYXgsIHRoaXNCb3hbMV1bMF0gKTsKICAgICAgeW1heCA9IE1hdGgubWF4KCB5bWF4LCB0aGlzQm94WzFdWzFdICk7CiAgICB9CiAgfQogIHdpbmRvd1sgbWFwX2lkICsgJ2dsb2JhbEJveCddID0gW1t4bWluLCB5bWluXSxbeG1heCx5bWF4XV07Cn0KCmZ1bmN0aW9uIG1kX2xvbl9kaWZmKCBnbG9iYWxCb3ggKSB7CgogIHhtaW4gPSBnbG9iYWxCb3hbMF1bMF07CiAgeG1heCA9IGdsb2JhbEJveFsxXVswXTsKICB4ZGlmZiA9IE1hdGguYWJzKCB4bWF4IC0geG1pbiApOwogIHJldHVybiB4ZGlmZjsKfQoKZnVuY3Rpb24gbWRfbGF0X2RpZmYoIGdsb2JhbEJveCApIHsKCiAgeW1pbiA9IGdsb2JhbEJveFswXVsxXTsKICB5bWF4ID0gZ2xvYmFsQm94WzFdWzFdOwogIHlkaWZmID0gTWF0aC5hYnMoIHltYXggLSB5bWluICk7CiAgcmV0dXJuIHlkaWZmOwp9CgpmdW5jdGlvbiBtZF9sb25fem9vbSggbG9uZGlmZiApIHsKCiAgdmFyIGxvblpvb21MZXZlbCA9IFsKICAgIDM2MCwgMTgwLCA5MCwgNDUsIDIyLjUsIDExLjI1LCA1LjY1LDIuODEzLCAxLjQwNiwKICAgIDAuNzAzLCAwLjM1MiwgMC4xNzYsIDAuMDg4LCAwLjA0NCwgMC4wMjIsIDAuMDExLCAwLjAwNQogIF07CgogIGlmICggbG9uZGlmZiA+PSBsb25ab29tTGV2ZWxbMF0gKSB7CiAgICByZXR1cm4gMDsKICB9CiAgdmFyIG1heEluZGV4ID0gbG9uWm9vbUxldmVsLmxlbmd0aCAtIDI7CiAgdmFyIGN1cnJlbnRWYWx1ZSA9IGxvblpvb21MZXZlbFswXTsKICB2YXIgaTsKICB2YXIgdGhpc1pvb20sIG5leHRab29tOwoKICBmb3IgKCBpID0gMDsgaSA8IG1heEluZGV4OyBpKysgKSB7CiAgICB0aGlzWm9vbSA9IGxvblpvb21MZXZlbFsgaSBdOwogICAgbmV4dFpvb20gPSBsb25ab29tTGV2ZWxbIChpKzEpIF07CgogICAgaWYgKCB0aGlzWm9vbSA+PSBsb25kaWZmICYmIGxvbmRpZmYgPiBuZXh0Wm9vbSApIHsKICAgICAgcmV0dXJuIGk7CiAgICB9CiAgfQogIHJldHVybiBpOwp9CgpmdW5jdGlvbiBtZF9sYXRfem9vbSggbGF0ZGlmZiApIHsKCiAgdmFyIGxhdFpvb21MZXZlbCA9IFsKICAgIDkwLCA0NSwgMjIuNSwgMTEuMjUsIDUuNjUsMi44MTMsIDEuNDA2LAogICAgMC43MDMsIDAuMzUyLCAwLjE3NiwgMC4wODgsIDAuMDQ0LCAwLjAyMiwgMC4wMTEsIDAuMDA1LCAwLjAwMjUsIDAuMDAwMTc1CiAgXTsKCiAgaWYgKCBsYXRkaWZmID49IGxhdFpvb21MZXZlbFswXSApIHsKICAgIHJldHVybiAwOwogIH0KICB2YXIgbWF4SW5kZXggPSBsYXRab29tTGV2ZWwubGVuZ3RoIC0gMjsKICB2YXIgY3VycmVudFZhbHVlID0gbGF0Wm9vbUxldmVsWzBdOwogIHZhciBpOwogIHZhciB0aGlzWm9vbSwgbmV4dFpvb207CgogIGZvciAoIGkgPSAwOyBpIDwgbWF4SW5kZXg7IGkrKyApIHsKICAgIHRoaXNab29tID0gbGF0Wm9vbUxldmVsWyBpIF07CiAgICBuZXh0Wm9vbSA9IGxhdFpvb21MZXZlbFsgKGkrMSkgXTsKCiAgICBpZiAoIHRoaXNab29tID49IGxhdGRpZmYgJiYgbGF0ZGlmZiA+IG5leHRab29tICkgewogICAgICByZXR1cm4gaTsKICAgIH0KICB9CiAgcmV0dXJuIGk7Cn0KCmZ1bmN0aW9uIG1kX2dldF96b29tX2xldmVsKCBnbG9iYWxCb3ggKSB7CgogIHZhciBsb25kaWZmID0gbWRfbG9uX2RpZmYoIGdsb2JhbEJveCApOwogIHZhciBsYXRkaWZmID0gbWRfbGF0X2RpZmYoIGdsb2JhbEJveCApOwoKICB2YXIgbG9uWm9vbSA9IG1kX2xvbl96b29tKCBsb25kaWZmICk7CiAgdmFyIGxhdFpvb20gPSBtZF9sYXRfem9vbSggbGF0ZGlmZiApOwoKICB2YXIgZGlmZiA9IE1hdGgubWluKCBsb25ab29tLCBsYXRab29tICk7CgogIHJldHVybiBkaWZmOwp9Cgo="></script>
<script src="data:application/javascript;base64,ZnVuY3Rpb24gbWRfaGV4VG9SR0JBKCBoZXggKSB7CgogIGxldCBwYXJzZVN0cmluZyA9IGhleDsKICBpZiAoaGV4LnN0YXJ0c1dpdGgoJyMnKSkgeyBwYXJzZVN0cmluZyA9IGhleC5zbGljZSgxLCA5KTsgfQoKICBpZiAoIHBhcnNlU3RyaW5nLmxlbmd0aCA9PT0gNiApIHsKICAJcGFyc2VTdHJpbmcgPSBwYXJzZVN0cmluZyArICJGRiI7CiAgfSBlbHNlIGlmICggcGFyc2VTdHJpbmcubGVuZ3RoID09PSAzICkgewogIAlwYXJzZVN0cmluZyA9IHBhcnNlU3RyaW5nICsgIkYiOwogIH0gZWxzZSBpZiAocGFyc2VTdHJpbmcubGVuZ3RoICE9PSA4KSB7CiAgCXJldHVybiBudWxsOwogIH0KICBjb25zdCByID0gcGFyc2VJbnQocGFyc2VTdHJpbmcuc2xpY2UoMCwgMiksIDE2KTsKICBjb25zdCBnID0gcGFyc2VJbnQocGFyc2VTdHJpbmcuc2xpY2UoMiwgNCksIDE2KTsKICBjb25zdCBiID0gcGFyc2VJbnQocGFyc2VTdHJpbmcuc2xpY2UoNCwgNiksIDE2KTsKICBjb25zdCBhID0gcGFyc2VJbnQocGFyc2VTdHJpbmcuc2xpY2UoNiwgOCksIDE2KTsKICBpZiAoaXNOYU4ocikgfHwgaXNOYU4oZykgfHwgaXNOYU4oYikpIHtyZXR1cm4gbnVsbDt9CiAgcmV0dXJuIFtyLCBnLCBiLCBhXTsKfTsKCgovKioKICogQ29udmVydHMgYSAndmVjdG9yJyBvZiBoZXggY29sb3VycyAod2l0aCBhbHBoYSkgaW50byBhbiBhcnJheQogKi8KZnVuY3Rpb24gbWRfdG9fcmdiYSggY29sb3VyX3JhbmdlICkgewoKCXZhciBhcnIgPSBbXSwKCWksCgluID0gY29sb3VyX3JhbmdlLmxlbmd0aDsKCglmb3IgKGkgPSAwOyBpIDwgbjsgaSsrKSB7CgkJYXJyLnB1c2goIG1kX2hleFRvUkdCQSggY29sb3VyX3JhbmdlW2ldKSApOwoJfQogIHJldHVybiBhcnI7Cn0KCi8qCiAqIGNvbnZlcnRzIGEgW1IsIEcsIEIsIEFdIGFycmF5CiAqIHRvIGhleCBzdHJpbmcKICovCmZ1bmN0aW9uIG1kX1JHQlRvSGV4KCByZ2JhICkgewoJciA9IHJnYmFbMF07CglnID0gcmdiYVsxXTsKCWIgPSByZ2JhWzJdOwoJLy9hID0gcmdiYVszXTsKCglyID0gci50b1N0cmluZygxNik7CglnID0gZy50b1N0cmluZygxNik7CgliID0gYi50b1N0cmluZygxNik7CgkvL2EgPSBhLnRvU3RyaW5nKDE2KTsKCglpZiAoci5sZW5ndGggPT0gMSkgewogICAgciA9ICIwIiArIHI7Cgl9CiAgaWYgKGcubGVuZ3RoID09IDEpIHsKICAgIGcgPSAiMCIgKyBnOwogIH0KICBpZiAoYi5sZW5ndGggPT0gMSkgewogICAgYiA9ICIwIiArIGI7CiAgfQogIC8vaWYgKGEubGVuZ3RoID09IDEpIHsKICAvLyAgYSA9ICIwIiArIGE7CiAgLy99CgogIHJldHVybiAiIyIgKyByICsgZyArIGI7Cgp9Cg=="></script>
<script src="data:application/javascript;base64,ZnVuY3Rpb24gbWRfZGVjb2RlX3BvaW50cyggcG9seWxpbmUgKSB7Cgl2YXIgY29vcmRpbmF0ZXMgPSBtZF9kZWNvZGVfcG9seWxpbmUoIHBvbHlsaW5lICkgOwoJcmV0dXJuIGNvb3JkaW5hdGVzWzBdOwp9CgpmdW5jdGlvbiBtZF9kZWNvZGVfcG9seWxpbmUoc3RyLCBwcmVjaXNpb24pIHsKICB2YXIgaW5kZXggPSAwLAogICAgICBsYXQgPSAwLAogICAgICBsbmcgPSAwLAogICAgICBjb29yZGluYXRlcyA9IFtdLAogICAgICBzaGlmdCA9IDAsCiAgICAgIHJlc3VsdCA9IDAsCiAgICAgIGJ5dGUgPSBudWxsLAogICAgICBsYXRpdHVkZV9jaGFuZ2UsCiAgICAgIGxvbmdpdHVkZV9jaGFuZ2UsCiAgICAgIGZhY3RvciA9IE1hdGgucG93KDEwLCBwcmVjaXNpb24gfHwgNSk7CgogIC8vIENvb3JkaW5hdGVzIGhhdmUgdmFyaWFibGUgbGVuZ3RoIHdoZW4gZW5jb2RlZCwgc28ganVzdCBrZWVwCiAgLy8gdHJhY2sgb2Ygd2hldGhlciB3ZSd2ZSBoaXQgdGhlIGVuZCBvZiB0aGUgc3RyaW5nLiBJbiBlYWNoCiAgLy8gbG9vcCBpdGVyYXRpb24sIGEgc2luZ2xlIGNvb3JkaW5hdGUgaXMgZGVjb2RlZC4KICB3aGlsZSAoaW5kZXggPCBzdHIubGVuZ3RoKSB7CgogICAgLy8gUmVzZXQgc2hpZnQsIHJlc3VsdCwgYW5kIGJ5dGUKICAgIGJ5dGUgPSBudWxsOwogICAgc2hpZnQgPSAwOwogICAgcmVzdWx0ID0gMDsKCiAgICBkbyB7CiAgICAgIGJ5dGUgPSBzdHIuY2hhckNvZGVBdChpbmRleCsrKSAtIDYzOwogICAgICByZXN1bHQgfD0gKGJ5dGUgJiAweDFmKSA8PCBzaGlmdDsKICAgICAgc2hpZnQgKz0gNTsKICAgIH0gd2hpbGUgKGJ5dGUgPj0gMHgyMCk7CgogICAgbGF0aXR1ZGVfY2hhbmdlID0gKChyZXN1bHQgJiAxKSA/IH4ocmVzdWx0ID4+IDEpIDogKHJlc3VsdCA+PiAxKSk7CgogICAgc2hpZnQgPSByZXN1bHQgPSAwOwoKICAgIGRvIHsKICAgICAgYnl0ZSA9IHN0ci5jaGFyQ29kZUF0KGluZGV4KyspIC0gNjM7CiAgICAgIHJlc3VsdCB8PSAoYnl0ZSAmIDB4MWYpIDw8IHNoaWZ0OwogICAgICBzaGlmdCArPSA1OwogICAgfSB3aGlsZSAoYnl0ZSA+PSAweDIwKTsKCiAgICBsb25naXR1ZGVfY2hhbmdlID0gKChyZXN1bHQgJiAxKSA/IH4ocmVzdWx0ID4+IDEpIDogKHJlc3VsdCA+PiAxKSk7CgogICAgbGF0ICs9IGxhdGl0dWRlX2NoYW5nZTsKICAgIGxuZyArPSBsb25naXR1ZGVfY2hhbmdlOwoKICAgIGNvb3JkaW5hdGVzLnB1c2goW2xuZyAvIGZhY3RvciwgbGF0IC8gZmFjdG9yXSk7CiAgfQogIHJldHVybiBjb29yZGluYXRlczsKfQoKZnVuY3Rpb24gbWRfZ2V0X3BvaW50X2Nvb3JkaW5hdGVzICggb2JqICkgewoJaWYgKCBvYmouZ2VvbWV0cnkuZ2VvbWV0cnkgPT09IG51bGwgKSB7CgkJcmV0dXJuIFstMTc5Ljk5OSwtODkuOTk5XTsKCX0KCXJldHVybiBvYmouZ2VvbWV0cnkuZ2VvbWV0cnkuY29vcmRpbmF0ZXM7Cn0KCmZ1bmN0aW9uIG1kX2dldF9vcmlnaW5fY29vcmRpbmF0ZXMgKCBvYmogKSB7CglpZiAoIG9iai5nZW9tZXRyeS5vcmlnaW4gPT09IG51bGwgKSB7CgkJcmV0dXJuIFstMTc5Ljk5OSwtODkuOTk5XTsKCX0KCXJldHVybiBvYmouZ2VvbWV0cnkub3JpZ2luLmNvb3JkaW5hdGVzOwp9CgpmdW5jdGlvbiBtZF9nZXRfZGVzdGluYXRpb25fY29vcmRpbmF0ZXMgKCBvYmogKSB7CglpZiAoIG9iai5nZW9tZXRyeS5kZXN0aW5hdGlvbiA9PT0gbnVsbCApIHsKCQlyZXR1cm4gWy0xNzkuOTk5LC04OS45OTldOwoJfQoJcmV0dXJuIG9iai5nZW9tZXRyeS5kZXN0aW5hdGlvbi5jb29yZGluYXRlczsKfQoKCmZ1bmN0aW9uIG1kX2dldF9saW5lX2Nvb3JkaW5hdGVzICggb2JqICkgewoJaWYgKCBvYmouZ2VvbWV0cnkuZ2VvbWV0cnkgPT09IG51bGwgKSB7CgkJcmV0dXJuIFtbLTE3OS45OTksLTg5Ljk5OV0sWy0xNzkuOTk5LC04OS45OTldXTsKCX0KCXJldHVybiBvYmouZ2VvbWV0cnkuZ2VvbWV0cnkuY29vcmRpbmF0ZXM7Cn0KCmZ1bmN0aW9uIG1kX2dldF9wb2x5Z29uX2Nvb3JkaW5hdGVzICggb2JqICkgewoJaWYgKCBvYmouZ2VvbWV0cnkuZ2VvbWV0cnkgPT09IG51bGwgKSB7CgkJcmV0dXJuIFtbLTE3OS45OTksLTg5Ljk5OV0sWy0xNzkuOTk5LC04OS45OTldLFstMTc5Ljk5OSwtODkuOTk5XV07Cgl9CglyZXR1cm4gb2JqLmdlb21ldHJ5Lmdlb21ldHJ5LmNvb3JkaW5hdGVzOwp9Cg=="></script>
<link href="data:text/css,%2Emapboxgl%2Dmap%7Bfont%3A12px%2F20px%20Helvetica%20Neue%2CArial%2CHelvetica%2Csans%2Dserif%3Boverflow%3Ahidden%3Bposition%3Arelative%3B%2Dwebkit%2Dtap%2Dhighlight%2Dcolor%3Argba%280%2C0%2C0%2C0%29%7D%2Emapboxgl%2Dcanvas%7Bposition%3Aabsolute%3Bleft%3A0%3Btop%3A0%7D%2Emapboxgl%2Dmap%3A%2Dwebkit%2Dfull%2Dscreen%7Bwidth%3A100%25%3Bheight%3A100%25%7D%2Emapboxgl%2Dcanary%7Bbackground%2Dcolor%3Asalmon%7D%2Emapboxgl%2Dcanvas%2Dcontainer%2Emapboxgl%2Dinteractive%2C%2Emapboxgl%2Dctrl%2Dgroup%20button%2Emapboxgl%2Dctrl%2Dcompass%7Bcursor%3A%2Dwebkit%2Dgrab%3Bcursor%3A%2Dmoz%2Dgrab%3Bcursor%3Agrab%3B%2Dmoz%2Duser%2Dselect%3Anone%3B%2Dwebkit%2Duser%2Dselect%3Anone%3B%2Dms%2Duser%2Dselect%3Anone%3Buser%2Dselect%3Anone%7D%2Emapboxgl%2Dcanvas%2Dcontainer%2Emapboxgl%2Dinteractive%2Emapboxgl%2Dtrack%2Dpointer%7Bcursor%3Apointer%7D%2Emapboxgl%2Dcanvas%2Dcontainer%2Emapboxgl%2Dinteractive%3Aactive%2C%2Emapboxgl%2Dctrl%2Dgroup%20button%2Emapboxgl%2Dctrl%2Dcompass%3Aactive%7Bcursor%3A%2Dwebkit%2Dgrabbing%3Bcursor%3A%2Dmoz%2Dgrabbing%3Bcursor%3Agrabbing%7D%2Emapboxgl%2Dcanvas%2Dcontainer%2Emapboxgl%2Dtouch%2Dzoom%2Drotate%2C%2Emapboxgl%2Dcanvas%2Dcontainer%2Emapboxgl%2Dtouch%2Dzoom%2Drotate%20%2Emapboxgl%2Dcanvas%7Btouch%2Daction%3Apan%2Dx%20pan%2Dy%7D%2Emapboxgl%2Dcanvas%2Dcontainer%2Emapboxgl%2Dtouch%2Ddrag%2Dpan%2C%2Emapboxgl%2Dcanvas%2Dcontainer%2Emapboxgl%2Dtouch%2Ddrag%2Dpan%20%2Emapboxgl%2Dcanvas%7Btouch%2Daction%3Apinch%2Dzoom%7D%2Emapboxgl%2Dcanvas%2Dcontainer%2Emapboxgl%2Dtouch%2Dzoom%2Drotate%2Emapboxgl%2Dtouch%2Ddrag%2Dpan%2C%2Emapboxgl%2Dcanvas%2Dcontainer%2Emapboxgl%2Dtouch%2Dzoom%2Drotate%2Emapboxgl%2Dtouch%2Ddrag%2Dpan%20%2Emapboxgl%2Dcanvas%7Btouch%2Daction%3Anone%7D%2Emapboxgl%2Dctrl%2Dbottom%2Dleft%2C%2Emapboxgl%2Dctrl%2Dbottom%2Dright%2C%2Emapboxgl%2Dctrl%2Dtop%2Dleft%2C%2Emapboxgl%2Dctrl%2Dtop%2Dright%7Bposition%3Aabsolute%3Bpointer%2Devents%3Anone%3Bz%2Dindex%3A2%7D%2Emapboxgl%2Dctrl%2Dtop%2Dleft%7Btop%3A0%3Bleft%3A0%7D%2Emapboxgl%2Dctrl%2Dtop%2Dright%7Btop%3A0%3Bright%3A0%7D%2Emapboxgl%2Dctrl%2Dbottom%2Dleft%7Bbottom%3A0%3Bleft%3A0%7D%2Emapboxgl%2Dctrl%2Dbottom%2Dright%7Bright%3A0%3Bbottom%3A0%7D%2Emapboxgl%2Dctrl%7Bclear%3Aboth%3Bpointer%2Devents%3Aauto%3Btransform%3Atranslate%280%29%7D%2Emapboxgl%2Dctrl%2Dtop%2Dleft%20%2Emapboxgl%2Dctrl%7Bmargin%3A10px%200%200%2010px%3Bfloat%3Aleft%7D%2Emapboxgl%2Dctrl%2Dtop%2Dright%20%2Emapboxgl%2Dctrl%7Bmargin%3A10px%2010px%200%200%3Bfloat%3Aright%7D%2Emapboxgl%2Dctrl%2Dbottom%2Dleft%20%2Emapboxgl%2Dctrl%7Bmargin%3A0%200%2010px%2010px%3Bfloat%3Aleft%7D%2Emapboxgl%2Dctrl%2Dbottom%2Dright%20%2Emapboxgl%2Dctrl%7Bmargin%3A0%2010px%2010px%200%3Bfloat%3Aright%7D%2Emapboxgl%2Dctrl%2Dgroup%7Bborder%2Dradius%3A4px%3Bbackground%3A%23fff%7D%2Emapboxgl%2Dctrl%2Dgroup%3Anot%28%3Aempty%29%7B%2Dmoz%2Dbox%2Dshadow%3A0%200%202px%20rgba%280%2C0%2C0%2C%2E1%29%3B%2Dwebkit%2Dbox%2Dshadow%3A0%200%202px%20rgba%280%2C0%2C0%2C%2E1%29%3Bbox%2Dshadow%3A0%200%200%202px%20rgba%280%2C0%2C0%2C%2E1%29%7D%40media%20%28%2Dms%2Dhigh%2Dcontrast%3Aactive%29%7B%2Emapboxgl%2Dctrl%2Dgroup%3Anot%28%3Aempty%29%7Bbox%2Dshadow%3A0%200%200%202px%20ButtonText%7D%7D%2Emapboxgl%2Dctrl%2Dgroup%20button%7Bwidth%3A29px%3Bheight%3A29px%3Bdisplay%3Ablock%3Bpadding%3A0%3Boutline%3Anone%3Bborder%3A0%3Bbox%2Dsizing%3Aborder%2Dbox%3Bbackground%2Dcolor%3Atransparent%3Bcursor%3Apointer%7D%2Emapboxgl%2Dctrl%2Dgroup%20button%2Bbutton%7Bborder%2Dtop%3A1px%20solid%20%23ddd%7D%2Emapboxgl%2Dctrl%20button%20%2Emapboxgl%2Dctrl%2Dicon%7Bdisplay%3Ablock%3Bwidth%3A100%25%3Bheight%3A100%25%3Bbackground%2Drepeat%3Ano%2Drepeat%3Bbackground%2Dposition%3A50%25%7D%40media%20%28%2Dms%2Dhigh%2Dcontrast%3Aactive%29%7B%2Emapboxgl%2Dctrl%2Dicon%7Bbackground%2Dcolor%3Atransparent%7D%2Emapboxgl%2Dctrl%2Dgroup%20button%2Bbutton%7Bborder%2Dtop%3A1px%20solid%20ButtonText%7D%7D%2Emapboxgl%2Dctrl%20button%3A%3A%2Dmoz%2Dfocus%2Dinner%7Bborder%3A0%3Bpadding%3A0%7D%2Emapboxgl%2Dctrl%2Dgroup%20button%3Afocus%7Bbox%2Dshadow%3A0%200%202px%202px%20%230096ff%7D%2Emapboxgl%2Dctrl%20button%3Adisabled%7Bcursor%3Anot%2Dallowed%7D%2Emapboxgl%2Dctrl%20button%3Adisabled%20%2Emapboxgl%2Dctrl%2Dicon%7Bopacity%3A%2E25%7D%2Emapboxgl%2Dctrl%20button%3Anot%28%3Adisabled%29%3Ahover%7Bbackground%2Dcolor%3Argba%280%2C0%2C0%2C%2E05%29%7D%2Emapboxgl%2Dctrl%2Dgroup%20button%3Afocus%3Afocus%2Dvisible%7Bbox%2Dshadow%3A0%200%202px%202px%20%230096ff%7D%2Emapboxgl%2Dctrl%2Dgroup%20button%3Afocus%3Anot%28%3Afocus%2Dvisible%29%7Bbox%2Dshadow%3Anone%7D%2Emapboxgl%2Dctrl%2Dgroup%20button%3Afocus%3Afirst%2Dchild%7Bborder%2Dradius%3A4px%204px%200%200%7D%2Emapboxgl%2Dctrl%2Dgroup%20button%3Afocus%3Alast%2Dchild%7Bborder%2Dradius%3A0%200%204px%204px%7D%2Emapboxgl%2Dctrl%2Dgroup%20button%3Afocus%3Aonly%2Dchild%7Bborder%2Dradius%3Ainherit%7D%2Emapboxgl%2Dctrl%20button%2Emapboxgl%2Dctrl%2Dzoom%2Dout%20%2Emapboxgl%2Dctrl%2Dicon%7Bbackground%2Dimage%3Aurl%28%22data%3Aimage%2Fsvg%2Bxml%3Bcharset%3Dutf%2D8%2C%253Csvg%20width%3D%2729%27%20height%3D%2729%27%20viewBox%3D%270%200%2029%2029%27%20xmlns%3D%27http%3A%2F%2Fwww%2Ew3%2Eorg%2F2000%2Fsvg%27%20fill%3D%27%2523333%27%253E%253Cpath%20d%3D%27M10%2013c%2D%2E75%200%2D1%2E5%2E75%2D1%2E5%201%2E5S9%2E25%2016%2010%2016h9c%2E75%200%201%2E5%2D%2E75%201%2E5%2D1%2E5S19%2E75%2013%2019%2013h%2D9z%27%2F%253E%253C%2Fsvg%253E%22%29%7D%2Emapboxgl%2Dctrl%20button%2Emapboxgl%2Dctrl%2Dzoom%2Din%20%2Emapboxgl%2Dctrl%2Dicon%7Bbackground%2Dimage%3Aurl%28%22data%3Aimage%2Fsvg%2Bxml%3Bcharset%3Dutf%2D8%2C%253Csvg%20width%3D%2729%27%20height%3D%2729%27%20viewBox%3D%270%200%2029%2029%27%20xmlns%3D%27http%3A%2F%2Fwww%2Ew3%2Eorg%2F2000%2Fsvg%27%20fill%3D%27%2523333%27%253E%253Cpath%20d%3D%27M14%2E5%208%2E5c%2D%2E75%200%2D1%2E5%2E75%2D1%2E5%201%2E5v3h%2D3c%2D%2E75%200%2D1%2E5%2E75%2D1%2E5%201%2E5S9%2E25%2016%2010%2016h3v3c0%20%2E75%2E75%201%2E5%201%2E5%201%2E5S16%2019%2E75%2016%2019v%2D3h3c%2E75%200%201%2E5%2D%2E75%201%2E5%2D1%2E5S19%2E75%2013%2019%2013h%2D3v%2D3c0%2D%2E75%2D%2E75%2D1%2E5%2D1%2E5%2D1%2E5z%27%2F%253E%253C%2Fsvg%253E%22%29%7D%40media%20%28%2Dms%2Dhigh%2Dcontrast%3Aactive%29%7B%2Emapboxgl%2Dctrl%20button%2Emapboxgl%2Dctrl%2Dzoom%2Dout%20%2Emapboxgl%2Dctrl%2Dicon%7Bbackground%2Dimage%3Aurl%28%22data%3Aimage%2Fsvg%2Bxml%3Bcharset%3Dutf%2D8%2C%253Csvg%20width%3D%2729%27%20height%3D%2729%27%20viewBox%3D%270%200%2029%2029%27%20xmlns%3D%27http%3A%2F%2Fwww%2Ew3%2Eorg%2F2000%2Fsvg%27%20fill%3D%27%2523fff%27%253E%253Cpath%20d%3D%27M10%2013c%2D%2E75%200%2D1%2E5%2E75%2D1%2E5%201%2E5S9%2E25%2016%2010%2016h9c%2E75%200%201%2E5%2D%2E75%201%2E5%2D1%2E5S19%2E75%2013%2019%2013h%2D9z%27%2F%253E%253C%2Fsvg%253E%22%29%7D%2Emapboxgl%2Dctrl%20button%2Emapboxgl%2Dctrl%2Dzoom%2Din%20%2Emapboxgl%2Dctrl%2Dicon%7Bbackground%2Dimage%3Aurl%28%22data%3Aimage%2Fsvg%2Bxml%3Bcharset%3Dutf%2D8%2C%253Csvg%20width%3D%2729%27%20height%3D%2729%27%20viewBox%3D%270%200%2029%2029%27%20xmlns%3D%27http%3A%2F%2Fwww%2Ew3%2Eorg%2F2000%2Fsvg%27%20fill%3D%27%2523fff%27%253E%253Cpath%20d%3D%27M14%2E5%208%2E5c%2D%2E75%200%2D1%2E5%2E75%2D1%2E5%201%2E5v3h%2D3c%2D%2E75%200%2D1%2E5%2E75%2D1%2E5%201%2E5S9%2E25%2016%2010%2016h3v3c0%20%2E75%2E75%201%2E5%201%2E5%201%2E5S16%2019%2E75%2016%2019v%2D3h3c%2E75%200%201%2E5%2D%2E75%201%2E5%2D1%2E5S19%2E75%2013%2019%2013h%2D3v%2D3c0%2D%2E75%2D%2E75%2D1%2E5%2D1%2E5%2D1%2E5z%27%2F%253E%253C%2Fsvg%253E%22%29%7D%7D%40media%20%28%2Dms%2Dhigh%2Dcontrast%3Ablack%2Don%2Dwhite%29%7B%2Emapboxgl%2Dctrl%20button%2Emapboxgl%2Dctrl%2Dzoom%2Dout%20%2Emapboxgl%2Dctrl%2Dicon%7Bbackground%2Dimage%3Aurl%28%22data%3Aimage%2Fsvg%2Bxml%3Bcharset%3Dutf%2D8%2C%253Csvg%20width%3D%2729%27%20height%3D%2729%27%20viewBox%3D%270%200%2029%2029%27%20xmlns%3D%27http%3A%2F%2Fwww%2Ew3%2Eorg%2F2000%2Fsvg%27%253E%253Cpath%20d%3D%27M10%2013c%2D%2E75%200%2D1%2E5%2E75%2D1%2E5%201%2E5S9%2E25%2016%2010%2016h9c%2E75%200%201%2E5%2D%2E75%201%2E5%2D1%2E5S19%2E75%2013%2019%2013h%2D9z%27%2F%253E%253C%2Fsvg%253E%22%29%7D%2Emapboxgl%2Dctrl%20button%2Emapboxgl%2Dctrl%2Dzoom%2Din%20%2Emapboxgl%2Dctrl%2Dicon%7Bbackground%2Dimage%3Aurl%28%22data%3Aimage%2Fsvg%2Bxml%3Bcharset%3Dutf%2D8%2C%253Csvg%20width%3D%2729%27%20height%3D%2729%27%20viewBox%3D%270%200%2029%2029%27%20xmlns%3D%27http%3A%2F%2Fwww%2Ew3%2Eorg%2F2000%2Fsvg%27%253E%253Cpath%20d%3D%27M14%2E5%208%2E5c%2D%2E75%200%2D1%2E5%2E75%2D1%2E5%201%2E5v3h%2D3c%2D%2E75%200%2D1%2E5%2E75%2D1%2E5%201%2E5S9%2E25%2016%2010%2016h3v3c0%20%2E75%2E75%201%2E5%201%2E5%201%2E5S16%2019%2E75%2016%2019v%2D3h3c%2E75%200%201%2E5%2D%2E75%201%2E5%2D1%2E5S19%2E75%2013%2019%2013h%2D3v%2D3c0%2D%2E75%2D%2E75%2D1%2E5%2D1%2E5%2D1%2E5z%27%2F%253E%253C%2Fsvg%253E%22%29%7D%7D%2Emapboxgl%2Dctrl%20button%2Emapboxgl%2Dctrl%2Dfullscreen%20%2Emapboxgl%2Dctrl%2Dicon%7Bbackground%2Dimage%3Aurl%28%22data%3Aimage%2Fsvg%2Bxml%3Bcharset%3Dutf%2D8%2C%253Csvg%20width%3D%2729%27%20height%3D%2729%27%20viewBox%3D%270%200%2029%2029%27%20xmlns%3D%27http%3A%2F%2Fwww%2Ew3%2Eorg%2F2000%2Fsvg%27%20fill%3D%27%2523333%27%253E%253Cpath%20d%3D%27M24%2016v5%2E5c0%201%2E75%2D%2E75%202%2E5%2D2%2E5%202%2E5H16v%2D1l3%2D1%2E5%2D4%2D5%2E5%201%2D1%205%2E5%204%201%2E5%2D3h1zM6%2016l1%2E5%203%205%2E5%2D4%201%201%2D4%205%2E5%203%201%2E5v1H7%2E5C5%2E75%2024%205%2023%2E25%205%2021%2E5V16h1zm7%2D11v1l%2D3%201%2E5%204%205%2E5%2D1%201%2D5%2E5%2D4L6%2013H5V7%2E5C5%205%2E75%205%2E75%205%207%2E5%205H13zm11%202%2E5c0%2D1%2E75%2D%2E75%2D2%2E5%2D2%2E5%2D2%2E5H16v1l3%201%2E5%2D4%205%2E5%201%201%205%2E5%2D4%201%2E5%203h1V7%2E5z%27%2F%253E%253C%2Fsvg%253E%22%29%7D%2Emapboxgl%2Dctrl%20button%2Emapboxgl%2Dctrl%2Dshrink%20%2Emapboxgl%2Dctrl%2Dicon%7Bbackground%2Dimage%3Aurl%28%22data%3Aimage%2Fsvg%2Bxml%3Bcharset%3Dutf%2D8%2C%253Csvg%20width%3D%2729%27%20height%3D%2729%27%20viewBox%3D%270%200%2029%2029%27%20xmlns%3D%27http%3A%2F%2Fwww%2Ew3%2Eorg%2F2000%2Fsvg%27%253E%253Cpath%20d%3D%27M18%2E5%2016c%2D1%2E75%200%2D2%2E5%2E75%2D2%2E5%202%2E5V24h1l1%2E5%2D3%205%2E5%204%201%2D1%2D4%2D5%2E5%203%2D1%2E5v%2D1h%2D5%2E5zM13%2018%2E5c0%2D1%2E75%2D%2E75%2D2%2E5%2D2%2E5%2D2%2E5H5v1l3%201%2E5L4%2024l1%201%205%2E5%2D4%201%2E5%203h1v%2D5%2E5zm3%2D8c0%201%2E75%2E75%202%2E5%202%2E5%202%2E5H24v%2D1l%2D3%2D1%2E5L25%205l%2D1%2D1%2D5%2E5%204L17%205h%2D1v5%2E5zM10%2E5%2013c1%2E75%200%202%2E5%2D%2E75%202%2E5%2D2%2E5V5h%2D1l%2D1%2E5%203L5%204%204%205l4%205%2E5L5%2012v1h5%2E5z%27%2F%253E%253C%2Fsvg%253E%22%29%7D%40media%20%28%2Dms%2Dhigh%2Dcontrast%3Aactive%29%7B%2Emapboxgl%2Dctrl%20button%2Emapboxgl%2Dctrl%2Dfullscreen%20%2Emapboxgl%2Dctrl%2Dicon%7Bbackground%2Dimage%3Aurl%28%22data%3Aimage%2Fsvg%2Bxml%3Bcharset%3Dutf%2D8%2C%253Csvg%20width%3D%2729%27%20height%3D%2729%27%20viewBox%3D%270%200%2029%2029%27%20xmlns%3D%27http%3A%2F%2Fwww%2Ew3%2Eorg%2F2000%2Fsvg%27%20fill%3D%27%2523fff%27%253E%253Cpath%20d%3D%27M24%2016v5%2E5c0%201%2E75%2D%2E75%202%2E5%2D2%2E5%202%2E5H16v%2D1l3%2D1%2E5%2D4%2D5%2E5%201%2D1%205%2E5%204%201%2E5%2D3h1zM6%2016l1%2E5%203%205%2E5%2D4%201%201%2D4%205%2E5%203%201%2E5v1H7%2E5C5%2E75%2024%205%2023%2E25%205%2021%2E5V16h1zm7%2D11v1l%2D3%201%2E5%204%205%2E5%2D1%201%2D5%2E5%2D4L6%2013H5V7%2E5C5%205%2E75%205%2E75%205%207%2E5%205H13zm11%202%2E5c0%2D1%2E75%2D%2E75%2D2%2E5%2D2%2E5%2D2%2E5H16v1l3%201%2E5%2D4%205%2E5%201%201%205%2E5%2D4%201%2E5%203h1V7%2E5z%27%2F%253E%253C%2Fsvg%253E%22%29%7D%2Emapboxgl%2Dctrl%20button%2Emapboxgl%2Dctrl%2Dshrink%20%2Emapboxgl%2Dctrl%2Dicon%7Bbackground%2Dimage%3Aurl%28%22data%3Aimage%2Fsvg%2Bxml%3Bcharset%3Dutf%2D8%2C%253Csvg%20width%3D%2729%27%20height%3D%2729%27%20viewBox%3D%270%200%2029%2029%27%20xmlns%3D%27http%3A%2F%2Fwww%2Ew3%2Eorg%2F2000%2Fsvg%27%20fill%3D%27%2523fff%27%253E%253Cpath%20d%3D%27M18%2E5%2016c%2D1%2E75%200%2D2%2E5%2E75%2D2%2E5%202%2E5V24h1l1%2E5%2D3%205%2E5%204%201%2D1%2D4%2D5%2E5%203%2D1%2E5v%2D1h%2D5%2E5zM13%2018%2E5c0%2D1%2E75%2D%2E75%2D2%2E5%2D2%2E5%2D2%2E5H5v1l3%201%2E5L4%2024l1%201%205%2E5%2D4%201%2E5%203h1v%2D5%2E5zm3%2D8c0%201%2E75%2E75%202%2E5%202%2E5%202%2E5H24v%2D1l%2D3%2D1%2E5L25%205l%2D1%2D1%2D5%2E5%204L17%205h%2D1v5%2E5zM10%2E5%2013c1%2E75%200%202%2E5%2D%2E75%202%2E5%2D2%2E5V5h%2D1l%2D1%2E5%203L5%204%204%205l4%205%2E5L5%2012v1h5%2E5z%27%2F%253E%253C%2Fsvg%253E%22%29%7D%7D%40media%20%28%2Dms%2Dhigh%2Dcontrast%3Ablack%2Don%2Dwhite%29%7B%2Emapboxgl%2Dctrl%20button%2Emapboxgl%2Dctrl%2Dfullscreen%20%2Emapboxgl%2Dctrl%2Dicon%7Bbackground%2Dimage%3Aurl%28%22data%3Aimage%2Fsvg%2Bxml%3Bcharset%3Dutf%2D8%2C%253Csvg%20width%3D%2729%27%20height%3D%2729%27%20viewBox%3D%270%200%2029%2029%27%20xmlns%3D%27http%3A%2F%2Fwww%2Ew3%2Eorg%2F2000%2Fsvg%27%253E%253Cpath%20d%3D%27M24%2016v5%2E5c0%201%2E75%2D%2E75%202%2E5%2D2%2E5%202%2E5H16v%2D1l3%2D1%2E5%2D4%2D5%2E5%201%2D1%205%2E5%204%201%2E5%2D3h1zM6%2016l1%2E5%203%205%2E5%2D4%201%201%2D4%205%2E5%203%201%2E5v1H7%2E5C5%2E75%2024%205%2023%2E25%205%2021%2E5V16h1zm7%2D11v1l%2D3%201%2E5%204%205%2E5%2D1%201%2D5%2E5%2D4L6%2013H5V7%2E5C5%205%2E75%205%2E75%205%207%2E5%205H13zm11%202%2E5c0%2D1%2E75%2D%2E75%2D2%2E5%2D2%2E5%2D2%2E5H16v1l3%201%2E5%2D4%205%2E5%201%201%205%2E5%2D4%201%2E5%203h1V7%2E5z%27%2F%253E%253C%2Fsvg%253E%22%29%7D%2Emapboxgl%2Dctrl%20button%2Emapboxgl%2Dctrl%2Dshrink%20%2Emapboxgl%2Dctrl%2Dicon%7Bbackground%2Dimage%3Aurl%28%22data%3Aimage%2Fsvg%2Bxml%3Bcharset%3Dutf%2D8%2C%253Csvg%20width%3D%2729%27%20height%3D%2729%27%20viewBox%3D%270%200%2029%2029%27%20xmlns%3D%27http%3A%2F%2Fwww%2Ew3%2Eorg%2F2000%2Fsvg%27%253E%253Cpath%20d%3D%27M18%2E5%2016c%2D1%2E75%200%2D2%2E5%2E75%2D2%2E5%202%2E5V24h1l1%2E5%2D3%205%2E5%204%201%2D1%2D4%2D5%2E5%203%2D1%2E5v%2D1h%2D5%2E5zM13%2018%2E5c0%2D1%2E75%2D%2E75%2D2%2E5%2D2%2E5%2D2%2E5H5v1l3%201%2E5L4%2024l1%201%205%2E5%2D4%201%2E5%203h1v%2D5%2E5zm3%2D8c0%201%2E75%2E75%202%2E5%202%2E5%202%2E5H24v%2D1l%2D3%2D1%2E5L25%205l%2D1%2D1%2D5%2E5%204L17%205h%2D1v5%2E5zM10%2E5%2013c1%2E75%200%202%2E5%2D%2E75%202%2E5%2D2%2E5V5h%2D1l%2D1%2E5%203L5%204%204%205l4%205%2E5L5%2012v1h5%2E5z%27%2F%253E%253C%2Fsvg%253E%22%29%7D%7D%2Emapboxgl%2Dctrl%20button%2Emapboxgl%2Dctrl%2Dcompass%20%2Emapboxgl%2Dctrl%2Dicon%7Bbackground%2Dimage%3Aurl%28%22data%3Aimage%2Fsvg%2Bxml%3Bcharset%3Dutf%2D8%2C%253Csvg%20width%3D%2729%27%20height%3D%2729%27%20viewBox%3D%270%200%2029%2029%27%20xmlns%3D%27http%3A%2F%2Fwww%2Ew3%2Eorg%2F2000%2Fsvg%27%20fill%3D%27%2523333%27%253E%253Cpath%20d%3D%27M10%2E5%2014l4%2D8%204%208h%2D8z%27%2F%253E%253Cpath%20d%3D%27M10%2E5%2016l4%208%204%2D8h%2D8z%27%20fill%3D%27%2523ccc%27%2F%253E%253C%2Fsvg%253E%22%29%7D%40media%20%28%2Dms%2Dhigh%2Dcontrast%3Aactive%29%7B%2Emapboxgl%2Dctrl%20button%2Emapboxgl%2Dctrl%2Dcompass%20%2Emapboxgl%2Dctrl%2Dicon%7Bbackground%2Dimage%3Aurl%28%22data%3Aimage%2Fsvg%2Bxml%3Bcharset%3Dutf%2D8%2C%253Csvg%20width%3D%2729%27%20height%3D%2729%27%20viewBox%3D%270%200%2029%2029%27%20xmlns%3D%27http%3A%2F%2Fwww%2Ew3%2Eorg%2F2000%2Fsvg%27%20fill%3D%27%2523fff%27%253E%253Cpath%20d%3D%27M10%2E5%2014l4%2D8%204%208h%2D8z%27%2F%253E%253Cpath%20d%3D%27M10%2E5%2016l4%208%204%2D8h%2D8z%27%20fill%3D%27%2523999%27%2F%253E%253C%2Fsvg%253E%22%29%7D%7D%40media%20%28%2Dms%2Dhigh%2Dcontrast%3Ablack%2Don%2Dwhite%29%7B%2Emapboxgl%2Dctrl%20button%2Emapboxgl%2Dctrl%2Dcompass%20%2Emapboxgl%2Dctrl%2Dicon%7Bbackground%2Dimage%3Aurl%28%22data%3Aimage%2Fsvg%2Bxml%3Bcharset%3Dutf%2D8%2C%253Csvg%20width%3D%2729%27%20height%3D%2729%27%20viewBox%3D%270%200%2029%2029%27%20xmlns%3D%27http%3A%2F%2Fwww%2Ew3%2Eorg%2F2000%2Fsvg%27%253E%253Cpath%20d%3D%27M10%2E5%2014l4%2D8%204%208h%2D8z%27%2F%253E%253Cpath%20d%3D%27M10%2E5%2016l4%208%204%2D8h%2D8z%27%20fill%3D%27%2523ccc%27%2F%253E%253C%2Fsvg%253E%22%29%7D%7D%2Emapboxgl%2Dctrl%20button%2Emapboxgl%2Dctrl%2Dgeolocate%20%2Emapboxgl%2Dctrl%2Dicon%7Bbackground%2Dimage%3Aurl%28%22data%3Aimage%2Fsvg%2Bxml%3Bcharset%3Dutf%2D8%2C%253Csvg%20width%3D%2729%27%20height%3D%2729%27%20viewBox%3D%270%200%2020%2020%27%20xmlns%3D%27http%3A%2F%2Fwww%2Ew3%2Eorg%2F2000%2Fsvg%27%20fill%3D%27%2523333%27%253E%253Cpath%20d%3D%27M10%204C9%204%209%205%209%205v%2E1A5%205%200%20005%2E1%209H5s%2D1%200%2D1%201%201%201%201%201h%2E1A5%205%200%20009%2014%2E9v%2E1s0%201%201%201%201%2D1%201%2D1v%2D%2E1a5%205%200%20003%2E9%2D3%2E9h%2E1s1%200%201%2D1%2D1%2D1%2D1%2D1h%2D%2E1A5%205%200%200011%205%2E1V5s0%2D1%2D1%2D1zm0%202%2E5a3%2E5%203%2E5%200%20110%207%203%2E5%203%2E5%200%20110%2D7z%27%2F%253E%253Ccircle%20cx%3D%2710%27%20cy%3D%2710%27%20r%3D%272%27%2F%253E%253C%2Fsvg%253E%22%29%7D%2Emapboxgl%2Dctrl%20button%2Emapboxgl%2Dctrl%2Dgeolocate%3Adisabled%20%2Emapboxgl%2Dctrl%2Dicon%7Bbackground%2Dimage%3Aurl%28%22data%3Aimage%2Fsvg%2Bxml%3Bcharset%3Dutf%2D8%2C%253Csvg%20width%3D%2729%27%20height%3D%2729%27%20viewBox%3D%270%200%2020%2020%27%20xmlns%3D%27http%3A%2F%2Fwww%2Ew3%2Eorg%2F2000%2Fsvg%27%20fill%3D%27%2523aaa%27%253E%253Cpath%20d%3D%27M10%204C9%204%209%205%209%205v%2E1A5%205%200%20005%2E1%209H5s%2D1%200%2D1%201%201%201%201%201h%2E1A5%205%200%20009%2014%2E9v%2E1s0%201%201%201%201%2D1%201%2D1v%2D%2E1a5%205%200%20003%2E9%2D3%2E9h%2E1s1%200%201%2D1%2D1%2D1%2D1%2D1h%2D%2E1A5%205%200%200011%205%2E1V5s0%2D1%2D1%2D1zm0%202%2E5a3%2E5%203%2E5%200%20110%207%203%2E5%203%2E5%200%20110%2D7z%27%2F%253E%253Ccircle%20cx%3D%2710%27%20cy%3D%2710%27%20r%3D%272%27%2F%253E%253Cpath%20d%3D%27M14%205l1%201%2D9%209%2D1%2D1%209%2D9z%27%20fill%3D%27red%27%2F%253E%253C%2Fsvg%253E%22%29%7D%2Emapboxgl%2Dctrl%20button%2Emapboxgl%2Dctrl%2Dgeolocate%2Emapboxgl%2Dctrl%2Dgeolocate%2Dactive%20%2Emapboxgl%2Dctrl%2Dicon%7Bbackground%2Dimage%3Aurl%28%22data%3Aimage%2Fsvg%2Bxml%3Bcharset%3Dutf%2D8%2C%253Csvg%20width%3D%2729%27%20height%3D%2729%27%20viewBox%3D%270%200%2020%2020%27%20xmlns%3D%27http%3A%2F%2Fwww%2Ew3%2Eorg%2F2000%2Fsvg%27%20fill%3D%27%252333b5e5%27%253E%253Cpath%20d%3D%27M10%204C9%204%209%205%209%205v%2E1A5%205%200%20005%2E1%209H5s%2D1%200%2D1%201%201%201%201%201h%2E1A5%205%200%20009%2014%2E9v%2E1s0%201%201%201%201%2D1%201%2D1v%2D%2E1a5%205%200%20003%2E9%2D3%2E9h%2E1s1%200%201%2D1%2D1%2D1%2D1%2D1h%2D%2E1A5%205%200%200011%205%2E1V5s0%2D1%2D1%2D1zm0%202%2E5a3%2E5%203%2E5%200%20110%207%203%2E5%203%2E5%200%20110%2D7z%27%2F%253E%253Ccircle%20cx%3D%2710%27%20cy%3D%2710%27%20r%3D%272%27%2F%253E%253C%2Fsvg%253E%22%29%7D%2Emapboxgl%2Dctrl%20button%2Emapboxgl%2Dctrl%2Dgeolocate%2Emapboxgl%2Dctrl%2Dgeolocate%2Dactive%2Derror%20%2Emapboxgl%2Dctrl%2Dicon%7Bbackground%2Dimage%3Aurl%28%22data%3Aimage%2Fsvg%2Bxml%3Bcharset%3Dutf%2D8%2C%253Csvg%20width%3D%2729%27%20height%3D%2729%27%20viewBox%3D%270%200%2020%2020%27%20xmlns%3D%27http%3A%2F%2Fwww%2Ew3%2Eorg%2F2000%2Fsvg%27%20fill%3D%27%2523e58978%27%253E%253Cpath%20d%3D%27M10%204C9%204%209%205%209%205v%2E1A5%205%200%20005%2E1%209H5s%2D1%200%2D1%201%201%201%201%201h%2E1A5%205%200%20009%2014%2E9v%2E1s0%201%201%201%201%2D1%201%2D1v%2D%2E1a5%205%200%20003%2E9%2D3%2E9h%2E1s1%200%201%2D1%2D1%2D1%2D1%2D1h%2D%2E1A5%205%200%200011%205%2E1V5s0%2D1%2D1%2D1zm0%202%2E5a3%2E5%203%2E5%200%20110%207%203%2E5%203%2E5%200%20110%2D7z%27%2F%253E%253Ccircle%20cx%3D%2710%27%20cy%3D%2710%27%20r%3D%272%27%2F%253E%253C%2Fsvg%253E%22%29%7D%2Emapboxgl%2Dctrl%20button%2Emapboxgl%2Dctrl%2Dgeolocate%2Emapboxgl%2Dctrl%2Dgeolocate%2Dbackground%20%2Emapboxgl%2Dctrl%2Dicon%7Bbackground%2Dimage%3Aurl%28%22data%3Aimage%2Fsvg%2Bxml%3Bcharset%3Dutf%2D8%2C%253Csvg%20width%3D%2729%27%20height%3D%2729%27%20viewBox%3D%270%200%2020%2020%27%20xmlns%3D%27http%3A%2F%2Fwww%2Ew3%2Eorg%2F2000%2Fsvg%27%20fill%3D%27%252333b5e5%27%253E%253Cpath%20d%3D%27M10%204C9%204%209%205%209%205v%2E1A5%205%200%20005%2E1%209H5s%2D1%200%2D1%201%201%201%201%201h%2E1A5%205%200%20009%2014%2E9v%2E1s0%201%201%201%201%2D1%201%2D1v%2D%2E1a5%205%200%20003%2E9%2D3%2E9h%2E1s1%200%201%2D1%2D1%2D1%2D1%2D1h%2D%2E1A5%205%200%200011%205%2E1V5s0%2D1%2D1%2D1zm0%202%2E5a3%2E5%203%2E5%200%20110%207%203%2E5%203%2E5%200%20110%2D7z%27%2F%253E%253C%2Fsvg%253E%22%29%7D%2Emapboxgl%2Dctrl%20button%2Emapboxgl%2Dctrl%2Dgeolocate%2Emapboxgl%2Dctrl%2Dgeolocate%2Dbackground%2Derror%20%2Emapboxgl%2Dctrl%2Dicon%7Bbackground%2Dimage%3Aurl%28%22data%3Aimage%2Fsvg%2Bxml%3Bcharset%3Dutf%2D8%2C%253Csvg%20width%3D%2729%27%20height%3D%2729%27%20viewBox%3D%270%200%2020%2020%27%20xmlns%3D%27http%3A%2F%2Fwww%2Ew3%2Eorg%2F2000%2Fsvg%27%20fill%3D%27%2523e54e33%27%253E%253Cpath%20d%3D%27M10%204C9%204%209%205%209%205v%2E1A5%205%200%20005%2E1%209H5s%2D1%200%2D1%201%201%201%201%201h%2E1A5%205%200%20009%2014%2E9v%2E1s0%201%201%201%201%2D1%201%2D1v%2D%2E1a5%205%200%20003%2E9%2D3%2E9h%2E1s1%200%201%2D1%2D1%2D1%2D1%2D1h%2D%2E1A5%205%200%200011%205%2E1V5s0%2D1%2D1%2D1zm0%202%2E5a3%2E5%203%2E5%200%20110%207%203%2E5%203%2E5%200%20110%2D7z%27%2F%253E%253C%2Fsvg%253E%22%29%7D%2Emapboxgl%2Dctrl%20button%2Emapboxgl%2Dctrl%2Dgeolocate%2Emapboxgl%2Dctrl%2Dgeolocate%2Dwaiting%20%2Emapboxgl%2Dctrl%2Dicon%7B%2Dwebkit%2Danimation%3Amapboxgl%2Dspin%202s%20linear%20infinite%3B%2Dmoz%2Danimation%3Amapboxgl%2Dspin%202s%20infinite%20linear%3B%2Do%2Danimation%3Amapboxgl%2Dspin%202s%20infinite%20linear%3B%2Dms%2Danimation%3Amapboxgl%2Dspin%202s%20infinite%20linear%3Banimation%3Amapboxgl%2Dspin%202s%20linear%20infinite%7D%40media%20%28%2Dms%2Dhigh%2Dcontrast%3Aactive%29%7B%2Emapboxgl%2Dctrl%20button%2Emapboxgl%2Dctrl%2Dgeolocate%20%2Emapboxgl%2Dctrl%2Dicon%7Bbackground%2Dimage%3Aurl%28%22data%3Aimage%2Fsvg%2Bxml%3Bcharset%3Dutf%2D8%2C%253Csvg%20width%3D%2729%27%20height%3D%2729%27%20viewBox%3D%270%200%2020%2020%27%20xmlns%3D%27http%3A%2F%2Fwww%2Ew3%2Eorg%2F2000%2Fsvg%27%20fill%3D%27%2523fff%27%253E%253Cpath%20d%3D%27M10%204C9%204%209%205%209%205v%2E1A5%205%200%20005%2E1%209H5s%2D1%200%2D1%201%201%201%201%201h%2E1A5%205%200%20009%2014%2E9v%2E1s0%201%201%201%201%2D1%201%2D1v%2D%2E1a5%205%200%20003%2E9%2D3%2E9h%2E1s1%200%201%2D1%2D1%2D1%2D1%2D1h%2D%2E1A5%205%200%200011%205%2E1V5s0%2D1%2D1%2D1zm0%202%2E5a3%2E5%203%2E5%200%20110%207%203%2E5%203%2E5%200%20110%2D7z%27%2F%253E%253Ccircle%20cx%3D%2710%27%20cy%3D%2710%27%20r%3D%272%27%2F%253E%253C%2Fsvg%253E%22%29%7D%2Emapboxgl%2Dctrl%20button%2Emapboxgl%2Dctrl%2Dgeolocate%3Adisabled%20%2Emapboxgl%2Dctrl%2Dicon%7Bbackground%2Dimage%3Aurl%28%22data%3Aimage%2Fsvg%2Bxml%3Bcharset%3Dutf%2D8%2C%253Csvg%20width%3D%2729%27%20height%3D%2729%27%20viewBox%3D%270%200%2020%2020%27%20xmlns%3D%27http%3A%2F%2Fwww%2Ew3%2Eorg%2F2000%2Fsvg%27%20fill%3D%27%2523999%27%253E%253Cpath%20d%3D%27M10%204C9%204%209%205%209%205v%2E1A5%205%200%20005%2E1%209H5s%2D1%200%2D1%201%201%201%201%201h%2E1A5%205%200%20009%2014%2E9v%2E1s0%201%201%201%201%2D1%201%2D1v%2D%2E1a5%205%200%20003%2E9%2D3%2E9h%2E1s1%200%201%2D1%2D1%2D1%2D1%2D1h%2D%2E1A5%205%200%200011%205%2E1V5s0%2D1%2D1%2D1zm0%202%2E5a3%2E5%203%2E5%200%20110%207%203%2E5%203%2E5%200%20110%2D7z%27%2F%253E%253Ccircle%20cx%3D%2710%27%20cy%3D%2710%27%20r%3D%272%27%2F%253E%253Cpath%20d%3D%27M14%205l1%201%2D9%209%2D1%2D1%209%2D9z%27%20fill%3D%27red%27%2F%253E%253C%2Fsvg%253E%22%29%7D%2Emapboxgl%2Dctrl%20button%2Emapboxgl%2Dctrl%2Dgeolocate%2Emapboxgl%2Dctrl%2Dgeolocate%2Dactive%20%2Emapboxgl%2Dctrl%2Dicon%7Bbackground%2Dimage%3Aurl%28%22data%3Aimage%2Fsvg%2Bxml%3Bcharset%3Dutf%2D8%2C%253Csvg%20width%3D%2729%27%20height%3D%2729%27%20viewBox%3D%270%200%2020%2020%27%20xmlns%3D%27http%3A%2F%2Fwww%2Ew3%2Eorg%2F2000%2Fsvg%27%20fill%3D%27%252333b5e5%27%253E%253Cpath%20d%3D%27M10%204C9%204%209%205%209%205v%2E1A5%205%200%20005%2E1%209H5s%2D1%200%2D1%201%201%201%201%201h%2E1A5%205%200%20009%2014%2E9v%2E1s0%201%201%201%201%2D1%201%2D1v%2D%2E1a5%205%200%20003%2E9%2D3%2E9h%2E1s1%200%201%2D1%2D1%2D1%2D1%2D1h%2D%2E1A5%205%200%200011%205%2E1V5s0%2D1%2D1%2D1zm0%202%2E5a3%2E5%203%2E5%200%20110%207%203%2E5%203%2E5%200%20110%2D7z%27%2F%253E%253Ccircle%20cx%3D%2710%27%20cy%3D%2710%27%20r%3D%272%27%2F%253E%253C%2Fsvg%253E%22%29%7D%2Emapboxgl%2Dctrl%20button%2Emapboxgl%2Dctrl%2Dgeolocate%2Emapboxgl%2Dctrl%2Dgeolocate%2Dactive%2Derror%20%2Emapboxgl%2Dctrl%2Dicon%7Bbackground%2Dimage%3Aurl%28%22data%3Aimage%2Fsvg%2Bxml%3Bcharset%3Dutf%2D8%2C%253Csvg%20width%3D%2729%27%20height%3D%2729%27%20viewBox%3D%270%200%2020%2020%27%20xmlns%3D%27http%3A%2F%2Fwww%2Ew3%2Eorg%2F2000%2Fsvg%27%20fill%3D%27%2523e58978%27%253E%253Cpath%20d%3D%27M10%204C9%204%209%205%209%205v%2E1A5%205%200%20005%2E1%209H5s%2D1%200%2D1%201%201%201%201%201h%2E1A5%205%200%20009%2014%2E9v%2E1s0%201%201%201%201%2D1%201%2D1v%2D%2E1a5%205%200%20003%2E9%2D3%2E9h%2E1s1%200%201%2D1%2D1%2D1%2D1%2D1h%2D%2E1A5%205%200%200011%205%2E1V5s0%2D1%2D1%2D1zm0%202%2E5a3%2E5%203%2E5%200%20110%207%203%2E5%203%2E5%200%20110%2D7z%27%2F%253E%253Ccircle%20cx%3D%2710%27%20cy%3D%2710%27%20r%3D%272%27%2F%253E%253C%2Fsvg%253E%22%29%7D%2Emapboxgl%2Dctrl%20button%2Emapboxgl%2Dctrl%2Dgeolocate%2Emapboxgl%2Dctrl%2Dgeolocate%2Dbackground%20%2Emapboxgl%2Dctrl%2Dicon%7Bbackground%2Dimage%3Aurl%28%22data%3Aimage%2Fsvg%2Bxml%3Bcharset%3Dutf%2D8%2C%253Csvg%20width%3D%2729%27%20height%3D%2729%27%20viewBox%3D%270%200%2020%2020%27%20xmlns%3D%27http%3A%2F%2Fwww%2Ew3%2Eorg%2F2000%2Fsvg%27%20fill%3D%27%252333b5e5%27%253E%253Cpath%20d%3D%27M10%204C9%204%209%205%209%205v%2E1A5%205%200%20005%2E1%209H5s%2D1%200%2D1%201%201%201%201%201h%2E1A5%205%200%20009%2014%2E9v%2E1s0%201%201%201%201%2D1%201%2D1v%2D%2E1a5%205%200%20003%2E9%2D3%2E9h%2E1s1%200%201%2D1%2D1%2D1%2D1%2D1h%2D%2E1A5%205%200%200011%205%2E1V5s0%2D1%2D1%2D1zm0%202%2E5a3%2E5%203%2E5%200%20110%207%203%2E5%203%2E5%200%20110%2D7z%27%2F%253E%253C%2Fsvg%253E%22%29%7D%2Emapboxgl%2Dctrl%20button%2Emapboxgl%2Dctrl%2Dgeolocate%2Emapboxgl%2Dctrl%2Dgeolocate%2Dbackground%2Derror%20%2Emapboxgl%2Dctrl%2Dicon%7Bbackground%2Dimage%3Aurl%28%22data%3Aimage%2Fsvg%2Bxml%3Bcharset%3Dutf%2D8%2C%253Csvg%20width%3D%2729%27%20height%3D%2729%27%20viewBox%3D%270%200%2020%2020%27%20xmlns%3D%27http%3A%2F%2Fwww%2Ew3%2Eorg%2F2000%2Fsvg%27%20fill%3D%27%2523e54e33%27%253E%253Cpath%20d%3D%27M10%204C9%204%209%205%209%205v%2E1A5%205%200%20005%2E1%209H5s%2D1%200%2D1%201%201%201%201%201h%2E1A5%205%200%20009%2014%2E9v%2E1s0%201%201%201%201%2D1%201%2D1v%2D%2E1a5%205%200%20003%2E9%2D3%2E9h%2E1s1%200%201%2D1%2D1%2D1%2D1%2D1h%2D%2E1A5%205%200%200011%205%2E1V5s0%2D1%2D1%2D1zm0%202%2E5a3%2E5%203%2E5%200%20110%207%203%2E5%203%2E5%200%20110%2D7z%27%2F%253E%253C%2Fsvg%253E%22%29%7D%7D%40media%20%28%2Dms%2Dhigh%2Dcontrast%3Ablack%2Don%2Dwhite%29%7B%2Emapboxgl%2Dctrl%20button%2Emapboxgl%2Dctrl%2Dgeolocate%20%2Emapboxgl%2Dctrl%2Dicon%7Bbackground%2Dimage%3Aurl%28%22data%3Aimage%2Fsvg%2Bxml%3Bcharset%3Dutf%2D8%2C%253Csvg%20width%3D%2729%27%20height%3D%2729%27%20viewBox%3D%270%200%2020%2020%27%20xmlns%3D%27http%3A%2F%2Fwww%2Ew3%2Eorg%2F2000%2Fsvg%27%253E%253Cpath%20d%3D%27M10%204C9%204%209%205%209%205v%2E1A5%205%200%20005%2E1%209H5s%2D1%200%2D1%201%201%201%201%201h%2E1A5%205%200%20009%2014%2E9v%2E1s0%201%201%201%201%2D1%201%2D1v%2D%2E1a5%205%200%20003%2E9%2D3%2E9h%2E1s1%200%201%2D1%2D1%2D1%2D1%2D1h%2D%2E1A5%205%200%200011%205%2E1V5s0%2D1%2D1%2D1zm0%202%2E5a3%2E5%203%2E5%200%20110%207%203%2E5%203%2E5%200%20110%2D7z%27%2F%253E%253Ccircle%20cx%3D%2710%27%20cy%3D%2710%27%20r%3D%272%27%2F%253E%253C%2Fsvg%253E%22%29%7D%2Emapboxgl%2Dctrl%20button%2Emapboxgl%2Dctrl%2Dgeolocate%3Adisabled%20%2Emapboxgl%2Dctrl%2Dicon%7Bbackground%2Dimage%3Aurl%28%22data%3Aimage%2Fsvg%2Bxml%3Bcharset%3Dutf%2D8%2C%253Csvg%20width%3D%2729%27%20height%3D%2729%27%20viewBox%3D%270%200%2020%2020%27%20xmlns%3D%27http%3A%2F%2Fwww%2Ew3%2Eorg%2F2000%2Fsvg%27%20fill%3D%27%2523666%27%253E%253Cpath%20d%3D%27M10%204C9%204%209%205%209%205v%2E1A5%205%200%20005%2E1%209H5s%2D1%200%2D1%201%201%201%201%201h%2E1A5%205%200%20009%2014%2E9v%2E1s0%201%201%201%201%2D1%201%2D1v%2D%2E1a5%205%200%20003%2E9%2D3%2E9h%2E1s1%200%201%2D1%2D1%2D1%2D1%2D1h%2D%2E1A5%205%200%200011%205%2E1V5s0%2D1%2D1%2D1zm0%202%2E5a3%2E5%203%2E5%200%20110%207%203%2E5%203%2E5%200%20110%2D7z%27%2F%253E%253Ccircle%20cx%3D%2710%27%20cy%3D%2710%27%20r%3D%272%27%2F%253E%253Cpath%20d%3D%27M14%205l1%201%2D9%209%2D1%2D1%209%2D9z%27%20fill%3D%27red%27%2F%253E%253C%2Fsvg%253E%22%29%7D%7D%40%2Dwebkit%2Dkeyframes%20mapboxgl%2Dspin%7B0%25%7B%2Dwebkit%2Dtransform%3Arotate%280deg%29%7Dto%7B%2Dwebkit%2Dtransform%3Arotate%281turn%29%7D%7D%40%2Dmoz%2Dkeyframes%20mapboxgl%2Dspin%7B0%25%7B%2Dmoz%2Dtransform%3Arotate%280deg%29%7Dto%7B%2Dmoz%2Dtransform%3Arotate%281turn%29%7D%7D%40%2Do%2Dkeyframes%20mapboxgl%2Dspin%7B0%25%7B%2Do%2Dtransform%3Arotate%280deg%29%7Dto%7B%2Do%2Dtransform%3Arotate%281turn%29%7D%7D%40%2Dms%2Dkeyframes%20mapboxgl%2Dspin%7B0%25%7B%2Dms%2Dtransform%3Arotate%280deg%29%7Dto%7B%2Dms%2Dtransform%3Arotate%281turn%29%7D%7D%40keyframes%20mapboxgl%2Dspin%7B0%25%7Btransform%3Arotate%280deg%29%7Dto%7Btransform%3Arotate%281turn%29%7D%7Da%2Emapboxgl%2Dctrl%2Dlogo%7Bwidth%3A88px%3Bheight%3A23px%3Bmargin%3A0%200%20%2D4px%20%2D4px%3Bdisplay%3Ablock%3Bbackground%2Drepeat%3Ano%2Drepeat%3Bcursor%3Apointer%3Boverflow%3Ahidden%3Bbackground%2Dimage%3Aurl%28%22data%3Aimage%2Fsvg%2Bxml%3Bcharset%3Dutf%2D8%2C%253Csvg%20width%3D%2788%27%20height%3D%2723%27%20viewBox%3D%270%200%2088%2023%27%20xmlns%3D%27http%3A%2F%2Fwww%2Ew3%2Eorg%2F2000%2Fsvg%27%20xmlns%3Axlink%3D%27http%3A%2F%2Fwww%2Ew3%2Eorg%2F1999%2Fxlink%27%20fill%2Drule%3D%27evenodd%27%253E%253Cdefs%253E%253Cpath%20id%3D%27a%27%20d%3D%27M11%2E5%202%2E25c5%2E105%200%209%2E25%204%2E145%209%2E25%209%2E25s%2D4%2E145%209%2E25%2D9%2E25%209%2E25%2D9%2E25%2D4%2E145%2D9%2E25%2D9%2E25%204%2E145%2D9%2E25%209%2E25%2D9%2E25zM6%2E997%2015%2E983c%2D%2E051%2D%2E338%2D%2E828%2D5%2E802%202%2E233%2D8%2E873a4%2E395%204%2E395%200%20013%2E13%2D1%2E28c1%2E27%200%202%2E49%2E51%203%2E39%201%2E42%2E91%2E9%201%2E42%202%2E12%201%2E42%203%2E39%200%201%2E18%2D%2E449%202%2E301%2D1%2E28%203%2E13C12%2E72%2016%2E93%207%2016%207%2016l%2D%2E003%2D%2E017zM15%2E3%2010%2E5l%2D2%20%2E8%2D%2E8%202%2D%2E8%2D2%2D2%2D%2E8%202%2D%2E8%2E8%2D2%20%2E8%202%202%20%2E8z%27%2F%253E%253Cpath%20id%3D%27b%27%20d%3D%27M50%2E63%208c%2E13%200%20%2E23%2E1%2E23%2E23V9c%2E7%2D%2E76%201%2E7%2D1%2E18%202%2E73%2D1%2E18%202%2E17%200%203%2E95%201%2E85%203%2E95%204%2E17s%2D1%2E77%204%2E19%2D3%2E94%204%2E19c%2D1%2E04%200%2D2%2E03%2D%2E43%2D2%2E74%2D1%2E18v3%2E77c0%20%2E13%2D%2E1%2E23%2D%2E23%2E23h%2D1%2E4c%2D%2E13%200%2D%2E23%2D%2E1%2D%2E23%2D%2E23V8%2E23c0%2D%2E12%2E1%2D%2E23%2E23%2D%2E23h1%2E4zm%2D3%2E86%2E01c%2E01%200%20%2E01%200%20%2E01%2D%2E01%2E13%200%20%2E22%2E1%2E22%2E22v7%2E55c0%20%2E12%2D%2E1%2E23%2D%2E23%2E23h%2D1%2E4c%2D%2E13%200%2D%2E23%2D%2E1%2D%2E23%2D%2E23V15c%2D%2E7%2E76%2D1%2E69%201%2E19%2D2%2E73%201%2E19%2D2%2E17%200%2D3%2E94%2D1%2E87%2D3%2E94%2D4%2E19%200%2D2%2E32%201%2E77%2D4%2E19%203%2E94%2D4%2E19%201%2E03%200%202%2E02%2E43%202%2E73%201%2E18v%2D%2E75c0%2D%2E12%2E1%2D%2E23%2E23%2D%2E23h1%2E4zm26%2E375%2D%2E19a4%2E24%204%2E24%200%2000%2D4%2E16%203%2E29c%2D%2E13%2E59%2D%2E13%201%2E19%200%201%2E77a4%2E233%204%2E233%200%20004%2E17%203%2E3c2%2E35%200%204%2E26%2D1%2E87%204%2E26%2D4%2E19%200%2D2%2E32%2D1%2E9%2D4%2E17%2D4%2E27%2D4%2E17zM60%2E63%205c%2E13%200%20%2E23%2E1%2E23%2E23v3%2E76c%2E7%2D%2E76%201%2E7%2D1%2E18%202%2E73%2D1%2E18%201%2E88%200%203%2E45%201%2E4%203%2E84%203%2E28%2E13%2E59%2E13%201%2E2%200%201%2E8%2D%2E39%201%2E88%2D1%2E96%203%2E29%2D3%2E84%203%2E29%2D1%2E03%200%2D2%2E02%2D%2E43%2D2%2E73%2D1%2E18v%2E77c0%20%2E12%2D%2E1%2E23%2D%2E23%2E23h%2D1%2E4c%2D%2E13%200%2D%2E23%2D%2E1%2D%2E23%2D%2E23V5%2E23c0%2D%2E12%2E1%2D%2E23%2E23%2D%2E23h1%2E4zm%2D34%2011h%2D1%2E4c%2D%2E13%200%2D%2E23%2D%2E11%2D%2E23%2D%2E23V8%2E22c%2E01%2D%2E13%2E1%2D%2E22%2E23%2D%2E22h1%2E4c%2E13%200%20%2E22%2E11%2E23%2E22v%2E68c%2E5%2D%2E68%201%2E3%2D1%2E09%202%2E16%2D1%2E1h%2E03c1%2E09%200%202%2E09%2E6%202%2E6%201%2E55%2E45%2D%2E95%201%2E4%2D1%2E55%202%2E44%2D1%2E56%201%2E62%200%202%2E93%201%2E25%202%2E9%202%2E78l%2E03%205%2E2c0%20%2E13%2D%2E1%2E23%2D%2E23%2E23h%2D1%2E41c%2D%2E13%200%2D%2E23%2D%2E11%2D%2E23%2D%2E23v%2D4%2E59c0%2D%2E98%2D%2E74%2D1%2E71%2D1%2E62%2D1%2E71%2D%2E8%200%2D1%2E46%2E7%2D1%2E59%201%2E62l%2E01%204%2E68c0%20%2E13%2D%2E11%2E23%2D%2E23%2E23h%2D1%2E41c%2D%2E13%200%2D%2E23%2D%2E11%2D%2E23%2D%2E23v%2D4%2E59c0%2D%2E98%2D%2E74%2D1%2E71%2D1%2E62%2D1%2E71%2D%2E85%200%2D1%2E54%2E79%2D1%2E6%201%2E8v4%2E5c0%20%2E13%2D%2E1%2E23%2D%2E23%2E23zm53%2E615%200h%2D1%2E61c%2D%2E04%200%2D%2E08%2D%2E01%2D%2E12%2D%2E03%2D%2E09%2D%2E06%2D%2E13%2D%2E19%2D%2E06%2D%2E28l2%2E43%2D3%2E71%2D2%2E39%2D3%2E65a%2E213%2E213%200%2001%2D%2E03%2D%2E12c0%2D%2E12%2E09%2D%2E21%2E21%2D%2E21h1%2E61c%2E13%200%20%2E24%2E06%2E3%2E17l1%2E41%202%2E37%201%2E4%2D2%2E37a%2E34%2E34%200%2001%2E3%2D%2E17h1%2E6c%2E04%200%20%2E08%2E01%2E12%2E03%2E09%2E06%2E13%2E19%2E06%2E28l%2D2%2E37%203%2E65%202%2E43%203%2E7c0%20%2E05%2E01%2E09%2E01%2E13%200%20%2E12%2D%2E09%2E21%2D%2E21%2E21h%2D1%2E61c%2D%2E13%200%2D%2E24%2D%2E06%2D%2E3%2D%2E17l%2D1%2E44%2D2%2E42%2D1%2E44%202%2E42a%2E34%2E34%200%2001%2D%2E3%2E17zm%2D7%2E12%2D1%2E49c%2D1%2E33%200%2D2%2E42%2D1%2E12%2D2%2E42%2D2%2E51%200%2D1%2E39%201%2E08%2D2%2E52%202%2E42%2D2%2E52%201%2E33%200%202%2E42%201%2E12%202%2E42%202%2E51%200%201%2E39%2D1%2E08%202%2E51%2D2%2E42%202%2E52zm%2D19%2E865%200c%2D1%2E32%200%2D2%2E39%2D1%2E11%2D2%2E42%2D2%2E48v%2D%2E07c%2E02%2D1%2E38%201%2E09%2D2%2E49%202%2E4%2D2%2E49%201%2E32%200%202%2E41%201%2E12%202%2E41%202%2E51%200%201%2E39%2D1%2E07%202%2E52%2D2%2E39%202%2E53zm%2D8%2E11%2D2%2E48c%2D%2E01%201%2E37%2D1%2E09%202%2E47%2D2%2E41%202%2E47s%2D2%2E42%2D1%2E12%2D2%2E42%2D2%2E51c0%2D1%2E39%201%2E08%2D2%2E52%202%2E4%2D2%2E52%201%2E33%200%202%2E39%201%2E11%202%2E41%202%2E48l%2E02%2E08zm18%2E12%202%2E47c%2D1%2E32%200%2D2%2E39%2D1%2E11%2D2%2E41%2D2%2E48v%2D%2E06c%2E02%2D1%2E38%201%2E09%2D2%2E48%202%2E41%2D2%2E48s2%2E42%201%2E12%202%2E42%202%2E51c0%201%2E39%2D1%2E09%202%2E51%2D2%2E42%202%2E51z%27%2F%253E%253C%2Fdefs%253E%253Cmask%20id%3D%27c%27%253E%253Crect%20width%3D%27100%2525%27%20height%3D%27100%2525%27%20fill%3D%27%2523fff%27%2F%253E%253Cuse%20xlink%3Ahref%3D%27%2523a%27%2F%253E%253Cuse%20xlink%3Ahref%3D%27%2523b%27%2F%253E%253C%2Fmask%253E%253Cg%20opacity%3D%27%2E3%27%20stroke%3D%27%2523000%27%20stroke%2Dwidth%3D%273%27%253E%253Ccircle%20mask%3D%27url%28%2523c%29%27%20cx%3D%2711%2E5%27%20cy%3D%2711%2E5%27%20r%3D%279%2E25%27%2F%253E%253Cuse%20xlink%3Ahref%3D%27%2523b%27%20mask%3D%27url%28%2523c%29%27%2F%253E%253C%2Fg%253E%253Cg%20opacity%3D%27%2E9%27%20fill%3D%27%2523fff%27%253E%253Cuse%20xlink%3Ahref%3D%27%2523a%27%2F%253E%253Cuse%20xlink%3Ahref%3D%27%2523b%27%2F%253E%253C%2Fg%253E%253C%2Fsvg%253E%22%29%7Da%2Emapboxgl%2Dctrl%2Dlogo%2Emapboxgl%2Dcompact%7Bwidth%3A23px%7D%40media%20%28%2Dms%2Dhigh%2Dcontrast%3Aactive%29%7Ba%2Emapboxgl%2Dctrl%2Dlogo%7Bbackground%2Dcolor%3Atransparent%3Bbackground%2Dimage%3Aurl%28%22data%3Aimage%2Fsvg%2Bxml%3Bcharset%3Dutf%2D8%2C%253Csvg%20width%3D%2788%27%20height%3D%2723%27%20viewBox%3D%270%200%2088%2023%27%20xmlns%3D%27http%3A%2F%2Fwww%2Ew3%2Eorg%2F2000%2Fsvg%27%20xmlns%3Axlink%3D%27http%3A%2F%2Fwww%2Ew3%2Eorg%2F1999%2Fxlink%27%20fill%2Drule%3D%27evenodd%27%253E%253Cdefs%253E%253Cpath%20id%3D%27a%27%20d%3D%27M11%2E5%202%2E25c5%2E105%200%209%2E25%204%2E145%209%2E25%209%2E25s%2D4%2E145%209%2E25%2D9%2E25%209%2E25%2D9%2E25%2D4%2E145%2D9%2E25%2D9%2E25%204%2E145%2D9%2E25%209%2E25%2D9%2E25zM6%2E997%2015%2E983c%2D%2E051%2D%2E338%2D%2E828%2D5%2E802%202%2E233%2D8%2E873a4%2E395%204%2E395%200%20013%2E13%2D1%2E28c1%2E27%200%202%2E49%2E51%203%2E39%201%2E42%2E91%2E9%201%2E42%202%2E12%201%2E42%203%2E39%200%201%2E18%2D%2E449%202%2E301%2D1%2E28%203%2E13C12%2E72%2016%2E93%207%2016%207%2016l%2D%2E003%2D%2E017zM15%2E3%2010%2E5l%2D2%20%2E8%2D%2E8%202%2D%2E8%2D2%2D2%2D%2E8%202%2D%2E8%2E8%2D2%20%2E8%202%202%20%2E8z%27%2F%253E%253Cpath%20id%3D%27b%27%20d%3D%27M50%2E63%208c%2E13%200%20%2E23%2E1%2E23%2E23V9c%2E7%2D%2E76%201%2E7%2D1%2E18%202%2E73%2D1%2E18%202%2E17%200%203%2E95%201%2E85%203%2E95%204%2E17s%2D1%2E77%204%2E19%2D3%2E94%204%2E19c%2D1%2E04%200%2D2%2E03%2D%2E43%2D2%2E74%2D1%2E18v3%2E77c0%20%2E13%2D%2E1%2E23%2D%2E23%2E23h%2D1%2E4c%2D%2E13%200%2D%2E23%2D%2E1%2D%2E23%2D%2E23V8%2E23c0%2D%2E12%2E1%2D%2E23%2E23%2D%2E23h1%2E4zm%2D3%2E86%2E01c%2E01%200%20%2E01%200%20%2E01%2D%2E01%2E13%200%20%2E22%2E1%2E22%2E22v7%2E55c0%20%2E12%2D%2E1%2E23%2D%2E23%2E23h%2D1%2E4c%2D%2E13%200%2D%2E23%2D%2E1%2D%2E23%2D%2E23V15c%2D%2E7%2E76%2D1%2E69%201%2E19%2D2%2E73%201%2E19%2D2%2E17%200%2D3%2E94%2D1%2E87%2D3%2E94%2D4%2E19%200%2D2%2E32%201%2E77%2D4%2E19%203%2E94%2D4%2E19%201%2E03%200%202%2E02%2E43%202%2E73%201%2E18v%2D%2E75c0%2D%2E12%2E1%2D%2E23%2E23%2D%2E23h1%2E4zm26%2E375%2D%2E19a4%2E24%204%2E24%200%2000%2D4%2E16%203%2E29c%2D%2E13%2E59%2D%2E13%201%2E19%200%201%2E77a4%2E233%204%2E233%200%20004%2E17%203%2E3c2%2E35%200%204%2E26%2D1%2E87%204%2E26%2D4%2E19%200%2D2%2E32%2D1%2E9%2D4%2E17%2D4%2E27%2D4%2E17zM60%2E63%205c%2E13%200%20%2E23%2E1%2E23%2E23v3%2E76c%2E7%2D%2E76%201%2E7%2D1%2E18%202%2E73%2D1%2E18%201%2E88%200%203%2E45%201%2E4%203%2E84%203%2E28%2E13%2E59%2E13%201%2E2%200%201%2E8%2D%2E39%201%2E88%2D1%2E96%203%2E29%2D3%2E84%203%2E29%2D1%2E03%200%2D2%2E02%2D%2E43%2D2%2E73%2D1%2E18v%2E77c0%20%2E12%2D%2E1%2E23%2D%2E23%2E23h%2D1%2E4c%2D%2E13%200%2D%2E23%2D%2E1%2D%2E23%2D%2E23V5%2E23c0%2D%2E12%2E1%2D%2E23%2E23%2D%2E23h1%2E4zm%2D34%2011h%2D1%2E4c%2D%2E13%200%2D%2E23%2D%2E11%2D%2E23%2D%2E23V8%2E22c%2E01%2D%2E13%2E1%2D%2E22%2E23%2D%2E22h1%2E4c%2E13%200%20%2E22%2E11%2E23%2E22v%2E68c%2E5%2D%2E68%201%2E3%2D1%2E09%202%2E16%2D1%2E1h%2E03c1%2E09%200%202%2E09%2E6%202%2E6%201%2E55%2E45%2D%2E95%201%2E4%2D1%2E55%202%2E44%2D1%2E56%201%2E62%200%202%2E93%201%2E25%202%2E9%202%2E78l%2E03%205%2E2c0%20%2E13%2D%2E1%2E23%2D%2E23%2E23h%2D1%2E41c%2D%2E13%200%2D%2E23%2D%2E11%2D%2E23%2D%2E23v%2D4%2E59c0%2D%2E98%2D%2E74%2D1%2E71%2D1%2E62%2D1%2E71%2D%2E8%200%2D1%2E46%2E7%2D1%2E59%201%2E62l%2E01%204%2E68c0%20%2E13%2D%2E11%2E23%2D%2E23%2E23h%2D1%2E41c%2D%2E13%200%2D%2E23%2D%2E11%2D%2E23%2D%2E23v%2D4%2E59c0%2D%2E98%2D%2E74%2D1%2E71%2D1%2E62%2D1%2E71%2D%2E85%200%2D1%2E54%2E79%2D1%2E6%201%2E8v4%2E5c0%20%2E13%2D%2E1%2E23%2D%2E23%2E23zm53%2E615%200h%2D1%2E61c%2D%2E04%200%2D%2E08%2D%2E01%2D%2E12%2D%2E03%2D%2E09%2D%2E06%2D%2E13%2D%2E19%2D%2E06%2D%2E28l2%2E43%2D3%2E71%2D2%2E39%2D3%2E65a%2E213%2E213%200%2001%2D%2E03%2D%2E12c0%2D%2E12%2E09%2D%2E21%2E21%2D%2E21h1%2E61c%2E13%200%20%2E24%2E06%2E3%2E17l1%2E41%202%2E37%201%2E4%2D2%2E37a%2E34%2E34%200%2001%2E3%2D%2E17h1%2E6c%2E04%200%20%2E08%2E01%2E12%2E03%2E09%2E06%2E13%2E19%2E06%2E28l%2D2%2E37%203%2E65%202%2E43%203%2E7c0%20%2E05%2E01%2E09%2E01%2E13%200%20%2E12%2D%2E09%2E21%2D%2E21%2E21h%2D1%2E61c%2D%2E13%200%2D%2E24%2D%2E06%2D%2E3%2D%2E17l%2D1%2E44%2D2%2E42%2D1%2E44%202%2E42a%2E34%2E34%200%2001%2D%2E3%2E17zm%2D7%2E12%2D1%2E49c%2D1%2E33%200%2D2%2E42%2D1%2E12%2D2%2E42%2D2%2E51%200%2D1%2E39%201%2E08%2D2%2E52%202%2E42%2D2%2E52%201%2E33%200%202%2E42%201%2E12%202%2E42%202%2E51%200%201%2E39%2D1%2E08%202%2E51%2D2%2E42%202%2E52zm%2D19%2E865%200c%2D1%2E32%200%2D2%2E39%2D1%2E11%2D2%2E42%2D2%2E48v%2D%2E07c%2E02%2D1%2E38%201%2E09%2D2%2E49%202%2E4%2D2%2E49%201%2E32%200%202%2E41%201%2E12%202%2E41%202%2E51%200%201%2E39%2D1%2E07%202%2E52%2D2%2E39%202%2E53zm%2D8%2E11%2D2%2E48c%2D%2E01%201%2E37%2D1%2E09%202%2E47%2D2%2E41%202%2E47s%2D2%2E42%2D1%2E12%2D2%2E42%2D2%2E51c0%2D1%2E39%201%2E08%2D2%2E52%202%2E4%2D2%2E52%201%2E33%200%202%2E39%201%2E11%202%2E41%202%2E48l%2E02%2E08zm18%2E12%202%2E47c%2D1%2E32%200%2D2%2E39%2D1%2E11%2D2%2E41%2D2%2E48v%2D%2E06c%2E02%2D1%2E38%201%2E09%2D2%2E48%202%2E41%2D2%2E48s2%2E42%201%2E12%202%2E42%202%2E51c0%201%2E39%2D1%2E09%202%2E51%2D2%2E42%202%2E51z%27%2F%253E%253C%2Fdefs%253E%253Cmask%20id%3D%27c%27%253E%253Crect%20width%3D%27100%2525%27%20height%3D%27100%2525%27%20fill%3D%27%2523fff%27%2F%253E%253Cuse%20xlink%3Ahref%3D%27%2523a%27%2F%253E%253Cuse%20xlink%3Ahref%3D%27%2523b%27%2F%253E%253C%2Fmask%253E%253Cg%20stroke%3D%27%2523000%27%20stroke%2Dwidth%3D%273%27%253E%253Ccircle%20mask%3D%27url%28%2523c%29%27%20cx%3D%2711%2E5%27%20cy%3D%2711%2E5%27%20r%3D%279%2E25%27%2F%253E%253Cuse%20xlink%3Ahref%3D%27%2523b%27%20mask%3D%27url%28%2523c%29%27%2F%253E%253C%2Fg%253E%253Cg%20fill%3D%27%2523fff%27%253E%253Cuse%20xlink%3Ahref%3D%27%2523a%27%2F%253E%253Cuse%20xlink%3Ahref%3D%27%2523b%27%2F%253E%253C%2Fg%253E%253C%2Fsvg%253E%22%29%7D%7D%40media%20%28%2Dms%2Dhigh%2Dcontrast%3Ablack%2Don%2Dwhite%29%7Ba%2Emapboxgl%2Dctrl%2Dlogo%7Bbackground%2Dimage%3Aurl%28%22data%3Aimage%2Fsvg%2Bxml%3Bcharset%3Dutf%2D8%2C%253Csvg%20width%3D%2788%27%20height%3D%2723%27%20viewBox%3D%270%200%2088%2023%27%20xmlns%3D%27http%3A%2F%2Fwww%2Ew3%2Eorg%2F2000%2Fsvg%27%20xmlns%3Axlink%3D%27http%3A%2F%2Fwww%2Ew3%2Eorg%2F1999%2Fxlink%27%20fill%2Drule%3D%27evenodd%27%253E%253Cdefs%253E%253Cpath%20id%3D%27a%27%20d%3D%27M11%2E5%202%2E25c5%2E105%200%209%2E25%204%2E145%209%2E25%209%2E25s%2D4%2E145%209%2E25%2D9%2E25%209%2E25%2D9%2E25%2D4%2E145%2D9%2E25%2D9%2E25%204%2E145%2D9%2E25%209%2E25%2D9%2E25zM6%2E997%2015%2E983c%2D%2E051%2D%2E338%2D%2E828%2D5%2E802%202%2E233%2D8%2E873a4%2E395%204%2E395%200%20013%2E13%2D1%2E28c1%2E27%200%202%2E49%2E51%203%2E39%201%2E42%2E91%2E9%201%2E42%202%2E12%201%2E42%203%2E39%200%201%2E18%2D%2E449%202%2E301%2D1%2E28%203%2E13C12%2E72%2016%2E93%207%2016%207%2016l%2D%2E003%2D%2E017zM15%2E3%2010%2E5l%2D2%20%2E8%2D%2E8%202%2D%2E8%2D2%2D2%2D%2E8%202%2D%2E8%2E8%2D2%20%2E8%202%202%20%2E8z%27%2F%253E%253Cpath%20id%3D%27b%27%20d%3D%27M50%2E63%208c%2E13%200%20%2E23%2E1%2E23%2E23V9c%2E7%2D%2E76%201%2E7%2D1%2E18%202%2E73%2D1%2E18%202%2E17%200%203%2E95%201%2E85%203%2E95%204%2E17s%2D1%2E77%204%2E19%2D3%2E94%204%2E19c%2D1%2E04%200%2D2%2E03%2D%2E43%2D2%2E74%2D1%2E18v3%2E77c0%20%2E13%2D%2E1%2E23%2D%2E23%2E23h%2D1%2E4c%2D%2E13%200%2D%2E23%2D%2E1%2D%2E23%2D%2E23V8%2E23c0%2D%2E12%2E1%2D%2E23%2E23%2D%2E23h1%2E4zm%2D3%2E86%2E01c%2E01%200%20%2E01%200%20%2E01%2D%2E01%2E13%200%20%2E22%2E1%2E22%2E22v7%2E55c0%20%2E12%2D%2E1%2E23%2D%2E23%2E23h%2D1%2E4c%2D%2E13%200%2D%2E23%2D%2E1%2D%2E23%2D%2E23V15c%2D%2E7%2E76%2D1%2E69%201%2E19%2D2%2E73%201%2E19%2D2%2E17%200%2D3%2E94%2D1%2E87%2D3%2E94%2D4%2E19%200%2D2%2E32%201%2E77%2D4%2E19%203%2E94%2D4%2E19%201%2E03%200%202%2E02%2E43%202%2E73%201%2E18v%2D%2E75c0%2D%2E12%2E1%2D%2E23%2E23%2D%2E23h1%2E4zm26%2E375%2D%2E19a4%2E24%204%2E24%200%2000%2D4%2E16%203%2E29c%2D%2E13%2E59%2D%2E13%201%2E19%200%201%2E77a4%2E233%204%2E233%200%20004%2E17%203%2E3c2%2E35%200%204%2E26%2D1%2E87%204%2E26%2D4%2E19%200%2D2%2E32%2D1%2E9%2D4%2E17%2D4%2E27%2D4%2E17zM60%2E63%205c%2E13%200%20%2E23%2E1%2E23%2E23v3%2E76c%2E7%2D%2E76%201%2E7%2D1%2E18%202%2E73%2D1%2E18%201%2E88%200%203%2E45%201%2E4%203%2E84%203%2E28%2E13%2E59%2E13%201%2E2%200%201%2E8%2D%2E39%201%2E88%2D1%2E96%203%2E29%2D3%2E84%203%2E29%2D1%2E03%200%2D2%2E02%2D%2E43%2D2%2E73%2D1%2E18v%2E77c0%20%2E12%2D%2E1%2E23%2D%2E23%2E23h%2D1%2E4c%2D%2E13%200%2D%2E23%2D%2E1%2D%2E23%2D%2E23V5%2E23c0%2D%2E12%2E1%2D%2E23%2E23%2D%2E23h1%2E4zm%2D34%2011h%2D1%2E4c%2D%2E13%200%2D%2E23%2D%2E11%2D%2E23%2D%2E23V8%2E22c%2E01%2D%2E13%2E1%2D%2E22%2E23%2D%2E22h1%2E4c%2E13%200%20%2E22%2E11%2E23%2E22v%2E68c%2E5%2D%2E68%201%2E3%2D1%2E09%202%2E16%2D1%2E1h%2E03c1%2E09%200%202%2E09%2E6%202%2E6%201%2E55%2E45%2D%2E95%201%2E4%2D1%2E55%202%2E44%2D1%2E56%201%2E62%200%202%2E93%201%2E25%202%2E9%202%2E78l%2E03%205%2E2c0%20%2E13%2D%2E1%2E23%2D%2E23%2E23h%2D1%2E41c%2D%2E13%200%2D%2E23%2D%2E11%2D%2E23%2D%2E23v%2D4%2E59c0%2D%2E98%2D%2E74%2D1%2E71%2D1%2E62%2D1%2E71%2D%2E8%200%2D1%2E46%2E7%2D1%2E59%201%2E62l%2E01%204%2E68c0%20%2E13%2D%2E11%2E23%2D%2E23%2E23h%2D1%2E41c%2D%2E13%200%2D%2E23%2D%2E11%2D%2E23%2D%2E23v%2D4%2E59c0%2D%2E98%2D%2E74%2D1%2E71%2D1%2E62%2D1%2E71%2D%2E85%200%2D1%2E54%2E79%2D1%2E6%201%2E8v4%2E5c0%20%2E13%2D%2E1%2E23%2D%2E23%2E23zm53%2E615%200h%2D1%2E61c%2D%2E04%200%2D%2E08%2D%2E01%2D%2E12%2D%2E03%2D%2E09%2D%2E06%2D%2E13%2D%2E19%2D%2E06%2D%2E28l2%2E43%2D3%2E71%2D2%2E39%2D3%2E65a%2E213%2E213%200%2001%2D%2E03%2D%2E12c0%2D%2E12%2E09%2D%2E21%2E21%2D%2E21h1%2E61c%2E13%200%20%2E24%2E06%2E3%2E17l1%2E41%202%2E37%201%2E4%2D2%2E37a%2E34%2E34%200%2001%2E3%2D%2E17h1%2E6c%2E04%200%20%2E08%2E01%2E12%2E03%2E09%2E06%2E13%2E19%2E06%2E28l%2D2%2E37%203%2E65%202%2E43%203%2E7c0%20%2E05%2E01%2E09%2E01%2E13%200%20%2E12%2D%2E09%2E21%2D%2E21%2E21h%2D1%2E61c%2D%2E13%200%2D%2E24%2D%2E06%2D%2E3%2D%2E17l%2D1%2E44%2D2%2E42%2D1%2E44%202%2E42a%2E34%2E34%200%2001%2D%2E3%2E17zm%2D7%2E12%2D1%2E49c%2D1%2E33%200%2D2%2E42%2D1%2E12%2D2%2E42%2D2%2E51%200%2D1%2E39%201%2E08%2D2%2E52%202%2E42%2D2%2E52%201%2E33%200%202%2E42%201%2E12%202%2E42%202%2E51%200%201%2E39%2D1%2E08%202%2E51%2D2%2E42%202%2E52zm%2D19%2E865%200c%2D1%2E32%200%2D2%2E39%2D1%2E11%2D2%2E42%2D2%2E48v%2D%2E07c%2E02%2D1%2E38%201%2E09%2D2%2E49%202%2E4%2D2%2E49%201%2E32%200%202%2E41%201%2E12%202%2E41%202%2E51%200%201%2E39%2D1%2E07%202%2E52%2D2%2E39%202%2E53zm%2D8%2E11%2D2%2E48c%2D%2E01%201%2E37%2D1%2E09%202%2E47%2D2%2E41%202%2E47s%2D2%2E42%2D1%2E12%2D2%2E42%2D2%2E51c0%2D1%2E39%201%2E08%2D2%2E52%202%2E4%2D2%2E52%201%2E33%200%202%2E39%201%2E11%202%2E41%202%2E48l%2E02%2E08zm18%2E12%202%2E47c%2D1%2E32%200%2D2%2E39%2D1%2E11%2D2%2E41%2D2%2E48v%2D%2E06c%2E02%2D1%2E38%201%2E09%2D2%2E48%202%2E41%2D2%2E48s2%2E42%201%2E12%202%2E42%202%2E51c0%201%2E39%2D1%2E09%202%2E51%2D2%2E42%202%2E51z%27%2F%253E%253C%2Fdefs%253E%253Cmask%20id%3D%27c%27%253E%253Crect%20width%3D%27100%2525%27%20height%3D%27100%2525%27%20fill%3D%27%2523fff%27%2F%253E%253Cuse%20xlink%3Ahref%3D%27%2523a%27%2F%253E%253Cuse%20xlink%3Ahref%3D%27%2523b%27%2F%253E%253C%2Fmask%253E%253Cg%20stroke%3D%27%2523fff%27%20stroke%2Dwidth%3D%273%27%20fill%3D%27%2523fff%27%253E%253Ccircle%20mask%3D%27url%28%2523c%29%27%20cx%3D%2711%2E5%27%20cy%3D%2711%2E5%27%20r%3D%279%2E25%27%2F%253E%253Cuse%20xlink%3Ahref%3D%27%2523b%27%20mask%3D%27url%28%2523c%29%27%2F%253E%253C%2Fg%253E%253Cuse%20xlink%3Ahref%3D%27%2523a%27%2F%253E%253Cuse%20xlink%3Ahref%3D%27%2523b%27%2F%253E%253C%2Fsvg%253E%22%29%7D%7D%2Emapboxgl%2Dctrl%2Emapboxgl%2Dctrl%2Dattrib%7Bpadding%3A0%205px%3Bbackground%2Dcolor%3Ahsla%280%2C0%25%2C100%25%2C%2E5%29%3Bmargin%3A0%7D%40media%20screen%7B%2Emapboxgl%2Dctrl%2Dattrib%2Emapboxgl%2Dcompact%7Bmin%2Dheight%3A20px%3Bpadding%3A0%3Bmargin%3A10px%3Bposition%3Arelative%3Bbackground%2Dcolor%3A%23fff%3Bborder%2Dradius%3A3px%2012px%2012px%203px%7D%2Emapboxgl%2Dctrl%2Dattrib%2Emapboxgl%2Dcompact%3Ahover%7Bpadding%3A2px%2024px%202px%204px%3Bvisibility%3Avisible%3Bmargin%2Dtop%3A6px%7D%2Emapboxgl%2Dctrl%2Dbottom%2Dleft%3E%2Emapboxgl%2Dctrl%2Dattrib%2Emapboxgl%2Dcompact%3Ahover%2C%2Emapboxgl%2Dctrl%2Dtop%2Dleft%3E%2Emapboxgl%2Dctrl%2Dattrib%2Emapboxgl%2Dcompact%3Ahover%7Bpadding%3A2px%204px%202px%2024px%3Bborder%2Dradius%3A12px%203px%203px%2012px%7D%2Emapboxgl%2Dctrl%2Dattrib%2Emapboxgl%2Dcompact%20%2Emapboxgl%2Dctrl%2Dattrib%2Dinner%7Bdisplay%3Anone%7D%2Emapboxgl%2Dctrl%2Dattrib%2Emapboxgl%2Dcompact%3Ahover%20%2Emapboxgl%2Dctrl%2Dattrib%2Dinner%7Bdisplay%3Ablock%7D%2Emapboxgl%2Dctrl%2Dattrib%2Emapboxgl%2Dcompact%3Aafter%7Bcontent%3A%22%22%3Bcursor%3Apointer%3Bposition%3Aabsolute%3Bbackground%2Dimage%3Aurl%28%22data%3Aimage%2Fsvg%2Bxml%3Bcharset%3Dutf%2D8%2C%253Csvg%20width%3D%2724%27%20height%3D%2724%27%20viewBox%3D%270%200%2020%2020%27%20xmlns%3D%27http%3A%2F%2Fwww%2Ew3%2Eorg%2F2000%2Fsvg%27%20fill%2Drule%3D%27evenodd%27%253E%253Cpath%20d%3D%27M4%2010a6%206%200%201012%200%206%206%200%2010%2D12%200m5%2D3a1%201%200%20102%200%201%201%200%2010%2D2%200m0%203a1%201%200%20112%200v3a1%201%200%2011%2D2%200%27%2F%253E%253C%2Fsvg%253E%22%29%3Bbackground%2Dcolor%3Ahsla%280%2C0%25%2C100%25%2C%2E5%29%3Bwidth%3A24px%3Bheight%3A24px%3Bbox%2Dsizing%3Aborder%2Dbox%3Bborder%2Dradius%3A12px%7D%2Emapboxgl%2Dctrl%2Dbottom%2Dright%3E%2Emapboxgl%2Dctrl%2Dattrib%2Emapboxgl%2Dcompact%3Aafter%7Bbottom%3A0%3Bright%3A0%7D%2Emapboxgl%2Dctrl%2Dtop%2Dright%3E%2Emapboxgl%2Dctrl%2Dattrib%2Emapboxgl%2Dcompact%3Aafter%7Btop%3A0%3Bright%3A0%7D%2Emapboxgl%2Dctrl%2Dtop%2Dleft%3E%2Emapboxgl%2Dctrl%2Dattrib%2Emapboxgl%2Dcompact%3Aafter%7Btop%3A0%3Bleft%3A0%7D%2Emapboxgl%2Dctrl%2Dbottom%2Dleft%3E%2Emapboxgl%2Dctrl%2Dattrib%2Emapboxgl%2Dcompact%3Aafter%7Bbottom%3A0%3Bleft%3A0%7D%7D%40media%20screen%20and%20%28%2Dms%2Dhigh%2Dcontrast%3Aactive%29%7B%2Emapboxgl%2Dctrl%2Dattrib%2Emapboxgl%2Dcompact%3Aafter%7Bbackground%2Dimage%3Aurl%28%22data%3Aimage%2Fsvg%2Bxml%3Bcharset%3Dutf%2D8%2C%253Csvg%20width%3D%2724%27%20height%3D%2724%27%20viewBox%3D%270%200%2020%2020%27%20xmlns%3D%27http%3A%2F%2Fwww%2Ew3%2Eorg%2F2000%2Fsvg%27%20fill%2Drule%3D%27evenodd%27%20fill%3D%27%2523fff%27%253E%253Cpath%20d%3D%27M4%2010a6%206%200%201012%200%206%206%200%2010%2D12%200m5%2D3a1%201%200%20102%200%201%201%200%2010%2D2%200m0%203a1%201%200%20112%200v3a1%201%200%2011%2D2%200%27%2F%253E%253C%2Fsvg%253E%22%29%7D%7D%40media%20screen%20and%20%28%2Dms%2Dhigh%2Dcontrast%3Ablack%2Don%2Dwhite%29%7B%2Emapboxgl%2Dctrl%2Dattrib%2Emapboxgl%2Dcompact%3Aafter%7Bbackground%2Dimage%3Aurl%28%22data%3Aimage%2Fsvg%2Bxml%3Bcharset%3Dutf%2D8%2C%253Csvg%20width%3D%2724%27%20height%3D%2724%27%20viewBox%3D%270%200%2020%2020%27%20xmlns%3D%27http%3A%2F%2Fwww%2Ew3%2Eorg%2F2000%2Fsvg%27%20fill%2Drule%3D%27evenodd%27%253E%253Cpath%20d%3D%27M4%2010a6%206%200%201012%200%206%206%200%2010%2D12%200m5%2D3a1%201%200%20102%200%201%201%200%2010%2D2%200m0%203a1%201%200%20112%200v3a1%201%200%2011%2D2%200%27%2F%253E%253C%2Fsvg%253E%22%29%7D%7D%2Emapboxgl%2Dctrl%2Dattrib%20a%7Bcolor%3Argba%280%2C0%2C0%2C%2E75%29%3Btext%2Ddecoration%3Anone%7D%2Emapboxgl%2Dctrl%2Dattrib%20a%3Ahover%7Bcolor%3Ainherit%3Btext%2Ddecoration%3Aunderline%7D%2Emapboxgl%2Dctrl%2Dattrib%20%2Emapbox%2Dimprove%2Dmap%7Bfont%2Dweight%3A700%3Bmargin%2Dleft%3A2px%7D%2Emapboxgl%2Dattrib%2Dempty%7Bdisplay%3Anone%7D%2Emapboxgl%2Dctrl%2Dscale%7Bbackground%2Dcolor%3Ahsla%280%2C0%25%2C100%25%2C%2E75%29%3Bfont%2Dsize%3A10px%3Bborder%3A2px%20solid%20%23333%3Bborder%2Dtop%3A%23333%3Bpadding%3A0%205px%3Bcolor%3A%23333%3Bbox%2Dsizing%3Aborder%2Dbox%7D%2Emapboxgl%2Dpopup%7Bposition%3Aabsolute%3Btop%3A0%3Bleft%3A0%3Bdisplay%3A%2Dwebkit%2Dflex%3Bdisplay%3Aflex%3Bwill%2Dchange%3Atransform%3Bpointer%2Devents%3Anone%7D%2Emapboxgl%2Dpopup%2Danchor%2Dtop%2C%2Emapboxgl%2Dpopup%2Danchor%2Dtop%2Dleft%2C%2Emapboxgl%2Dpopup%2Danchor%2Dtop%2Dright%7B%2Dwebkit%2Dflex%2Ddirection%3Acolumn%3Bflex%2Ddirection%3Acolumn%7D%2Emapboxgl%2Dpopup%2Danchor%2Dbottom%2C%2Emapboxgl%2Dpopup%2Danchor%2Dbottom%2Dleft%2C%2Emapboxgl%2Dpopup%2Danchor%2Dbottom%2Dright%7B%2Dwebkit%2Dflex%2Ddirection%3Acolumn%2Dreverse%3Bflex%2Ddirection%3Acolumn%2Dreverse%7D%2Emapboxgl%2Dpopup%2Danchor%2Dleft%7B%2Dwebkit%2Dflex%2Ddirection%3Arow%3Bflex%2Ddirection%3Arow%7D%2Emapboxgl%2Dpopup%2Danchor%2Dright%7B%2Dwebkit%2Dflex%2Ddirection%3Arow%2Dreverse%3Bflex%2Ddirection%3Arow%2Dreverse%7D%2Emapboxgl%2Dpopup%2Dtip%7Bwidth%3A0%3Bheight%3A0%3Bborder%3A10px%20solid%20transparent%3Bz%2Dindex%3A1%7D%2Emapboxgl%2Dpopup%2Danchor%2Dtop%20%2Emapboxgl%2Dpopup%2Dtip%7B%2Dwebkit%2Dalign%2Dself%3Acenter%3Balign%2Dself%3Acenter%3Bborder%2Dtop%3Anone%3Bborder%2Dbottom%2Dcolor%3A%23fff%7D%2Emapboxgl%2Dpopup%2Danchor%2Dtop%2Dleft%20%2Emapboxgl%2Dpopup%2Dtip%7B%2Dwebkit%2Dalign%2Dself%3Aflex%2Dstart%3Balign%2Dself%3Aflex%2Dstart%3Bborder%2Dtop%3Anone%3Bborder%2Dleft%3Anone%3Bborder%2Dbottom%2Dcolor%3A%23fff%7D%2Emapboxgl%2Dpopup%2Danchor%2Dtop%2Dright%20%2Emapboxgl%2Dpopup%2Dtip%7B%2Dwebkit%2Dalign%2Dself%3Aflex%2Dend%3Balign%2Dself%3Aflex%2Dend%3Bborder%2Dtop%3Anone%3Bborder%2Dright%3Anone%3Bborder%2Dbottom%2Dcolor%3A%23fff%7D%2Emapboxgl%2Dpopup%2Danchor%2Dbottom%20%2Emapboxgl%2Dpopup%2Dtip%7B%2Dwebkit%2Dalign%2Dself%3Acenter%3Balign%2Dself%3Acenter%3Bborder%2Dbottom%3Anone%3Bborder%2Dtop%2Dcolor%3A%23fff%7D%2Emapboxgl%2Dpopup%2Danchor%2Dbottom%2Dleft%20%2Emapboxgl%2Dpopup%2Dtip%7B%2Dwebkit%2Dalign%2Dself%3Aflex%2Dstart%3Balign%2Dself%3Aflex%2Dstart%3Bborder%2Dbottom%3Anone%3Bborder%2Dleft%3Anone%3Bborder%2Dtop%2Dcolor%3A%23fff%7D%2Emapboxgl%2Dpopup%2Danchor%2Dbottom%2Dright%20%2Emapboxgl%2Dpopup%2Dtip%7B%2Dwebkit%2Dalign%2Dself%3Aflex%2Dend%3Balign%2Dself%3Aflex%2Dend%3Bborder%2Dbottom%3Anone%3Bborder%2Dright%3Anone%3Bborder%2Dtop%2Dcolor%3A%23fff%7D%2Emapboxgl%2Dpopup%2Danchor%2Dleft%20%2Emapboxgl%2Dpopup%2Dtip%7B%2Dwebkit%2Dalign%2Dself%3Acenter%3Balign%2Dself%3Acenter%3Bborder%2Dleft%3Anone%3Bborder%2Dright%2Dcolor%3A%23fff%7D%2Emapboxgl%2Dpopup%2Danchor%2Dright%20%2Emapboxgl%2Dpopup%2Dtip%7B%2Dwebkit%2Dalign%2Dself%3Acenter%3Balign%2Dself%3Acenter%3Bborder%2Dright%3Anone%3Bborder%2Dleft%2Dcolor%3A%23fff%7D%2Emapboxgl%2Dpopup%2Dclose%2Dbutton%7Bposition%3Aabsolute%3Bright%3A0%3Btop%3A0%3Bborder%3A0%3Bborder%2Dradius%3A0%203px%200%200%3Bcursor%3Apointer%3Bbackground%2Dcolor%3Atransparent%7D%2Emapboxgl%2Dpopup%2Dclose%2Dbutton%3Ahover%7Bbackground%2Dcolor%3Argba%280%2C0%2C0%2C%2E05%29%7D%2Emapboxgl%2Dpopup%2Dcontent%7Bposition%3Arelative%3Bbackground%3A%23fff%3Bborder%2Dradius%3A3px%3Bbox%2Dshadow%3A0%201px%202px%20rgba%280%2C0%2C0%2C%2E1%29%3Bpadding%3A10px%2010px%2015px%3Bpointer%2Devents%3Aauto%7D%2Emapboxgl%2Dpopup%2Danchor%2Dtop%2Dleft%20%2Emapboxgl%2Dpopup%2Dcontent%7Bborder%2Dtop%2Dleft%2Dradius%3A0%7D%2Emapboxgl%2Dpopup%2Danchor%2Dtop%2Dright%20%2Emapboxgl%2Dpopup%2Dcontent%7Bborder%2Dtop%2Dright%2Dradius%3A0%7D%2Emapboxgl%2Dpopup%2Danchor%2Dbottom%2Dleft%20%2Emapboxgl%2Dpopup%2Dcontent%7Bborder%2Dbottom%2Dleft%2Dradius%3A0%7D%2Emapboxgl%2Dpopup%2Danchor%2Dbottom%2Dright%20%2Emapboxgl%2Dpopup%2Dcontent%7Bborder%2Dbottom%2Dright%2Dradius%3A0%7D%2Emapboxgl%2Dpopup%2Dtrack%2Dpointer%7Bdisplay%3Anone%7D%2Emapboxgl%2Dpopup%2Dtrack%2Dpointer%20%2A%7Bpointer%2Devents%3Anone%3Buser%2Dselect%3Anone%7D%2Emapboxgl%2Dmap%3Ahover%20%2Emapboxgl%2Dpopup%2Dtrack%2Dpointer%7Bdisplay%3Aflex%7D%2Emapboxgl%2Dmap%3Aactive%20%2Emapboxgl%2Dpopup%2Dtrack%2Dpointer%7Bdisplay%3Anone%7D%2Emapboxgl%2Dmarker%7Bposition%3Aabsolute%3Btop%3A0%3Bleft%3A0%3Bwill%2Dchange%3Atransform%7D%2Emapboxgl%2Duser%2Dlocation%2Ddot%2C%2Emapboxgl%2Duser%2Dlocation%2Ddot%3Abefore%7Bbackground%2Dcolor%3A%231da1f2%3Bwidth%3A15px%3Bheight%3A15px%3Bborder%2Dradius%3A50%25%7D%2Emapboxgl%2Duser%2Dlocation%2Ddot%3Abefore%7Bcontent%3A%22%22%3Bposition%3Aabsolute%3B%2Dwebkit%2Danimation%3Amapboxgl%2Duser%2Dlocation%2Ddot%2Dpulse%202s%20infinite%3B%2Dmoz%2Danimation%3Amapboxgl%2Duser%2Dlocation%2Ddot%2Dpulse%202s%20infinite%3B%2Dms%2Danimation%3Amapboxgl%2Duser%2Dlocation%2Ddot%2Dpulse%202s%20infinite%3Banimation%3Amapboxgl%2Duser%2Dlocation%2Ddot%2Dpulse%202s%20infinite%7D%2Emapboxgl%2Duser%2Dlocation%2Ddot%3Aafter%7Bborder%2Dradius%3A50%25%3Bborder%3A2px%20solid%20%23fff%3Bcontent%3A%22%22%3Bheight%3A19px%3Bleft%3A%2D2px%3Bposition%3Aabsolute%3Btop%3A%2D2px%3Bwidth%3A19px%3Bbox%2Dsizing%3Aborder%2Dbox%3Bbox%2Dshadow%3A0%200%203px%20rgba%280%2C0%2C0%2C%2E35%29%7D%40%2Dwebkit%2Dkeyframes%20mapboxgl%2Duser%2Dlocation%2Ddot%2Dpulse%7B0%25%7B%2Dwebkit%2Dtransform%3Ascale%281%29%3Bopacity%3A1%7D70%25%7B%2Dwebkit%2Dtransform%3Ascale%283%29%3Bopacity%3A0%7Dto%7B%2Dwebkit%2Dtransform%3Ascale%281%29%3Bopacity%3A0%7D%7D%40%2Dms%2Dkeyframes%20mapboxgl%2Duser%2Dlocation%2Ddot%2Dpulse%7B0%25%7B%2Dms%2Dtransform%3Ascale%281%29%3Bopacity%3A1%7D70%25%7B%2Dms%2Dtransform%3Ascale%283%29%3Bopacity%3A0%7Dto%7B%2Dms%2Dtransform%3Ascale%281%29%3Bopacity%3A0%7D%7D%40keyframes%20mapboxgl%2Duser%2Dlocation%2Ddot%2Dpulse%7B0%25%7Btransform%3Ascale%281%29%3Bopacity%3A1%7D70%25%7Btransform%3Ascale%283%29%3Bopacity%3A0%7Dto%7Btransform%3Ascale%281%29%3Bopacity%3A0%7D%7D%2Emapboxgl%2Duser%2Dlocation%2Ddot%2Dstale%7Bbackground%2Dcolor%3A%23aaa%7D%2Emapboxgl%2Duser%2Dlocation%2Ddot%2Dstale%3Aafter%7Bdisplay%3Anone%7D%2Emapboxgl%2Duser%2Dlocation%2Daccuracy%2Dcircle%7Bbackground%2Dcolor%3Argba%2829%2C161%2C242%2C%2E2%29%3Bwidth%3A1px%3Bheight%3A1px%3Bborder%2Dradius%3A100%25%7D%2Emapboxgl%2Dcrosshair%2C%2Emapboxgl%2Dcrosshair%20%2Emapboxgl%2Dinteractive%2C%2Emapboxgl%2Dcrosshair%20%2Emapboxgl%2Dinteractive%3Aactive%7Bcursor%3Acrosshair%7D%2Emapboxgl%2Dboxzoom%7Bposition%3Aabsolute%3Btop%3A0%3Bleft%3A0%3Bwidth%3A0%3Bheight%3A0%3Bbackground%3A%23fff%3Bborder%3A2px%20dotted%20%23202020%3Bopacity%3A%2E5%7D%40media%20print%7B%2Emapbox%2Dimprove%2Dmap%7Bdisplay%3Anone%7D%7D%0A" rel="stylesheet" />
<script src="data:application/javascript;base64,LyogTWFwYm94IEdMIEpTIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSAzLUNsYXVzZSBCU0QgTGljZW5zZS4gRnVsbCB0ZXh0IG9mIGxpY2Vuc2U6IGh0dHBzOi8vZ2l0aHViLmNvbS9tYXBib3gvbWFwYm94LWdsLWpzL2Jsb2IvdjEuMTAuMC9MSUNFTlNFLnR4dCAqLwooZnVuY3Rpb24gKGdsb2JhbCwgZmFjdG9yeSkgewp0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcgPyBtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKSA6CnR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCA/IGRlZmluZShmYWN0b3J5KSA6CihnbG9iYWwgPSBnbG9iYWwgfHwgc2VsZiwgZ2xvYmFsLm1hcGJveGdsID0gZmFjdG9yeSgpKTsKfSh0aGlzLCAoZnVuY3Rpb24gKCkgeyAndXNlIHN0cmljdCc7CgovKiBlc2xpbnQtZGlzYWJsZSAqLwoKdmFyIHNoYXJlZCwgd29ya2VyLCBtYXBib3hnbDsKLy8gZGVmaW5lIGdldHMgY2FsbGVkIHRocmVlIHRpbWVzOiBvbmUgZm9yIGVhY2ggY2h1bmsuIHdlIHJlbHkgb24gdGhlIG9yZGVyCi8vIHRoZXkncmUgaW1wb3J0ZWQgdG8ga25vdyB3aGljaCBpcyB3aGljaApmdW5jdGlvbiBkZWZpbmUoXywgY2h1bmspIHsKaWYgKCFzaGFyZWQpIHsKICAgIHNoYXJlZCA9IGNodW5rOwp9IGVsc2UgaWYgKCF3b3JrZXIpIHsKICAgIHdvcmtlciA9IGNodW5rOwp9IGVsc2UgewogICAgdmFyIHdvcmtlckJ1bmRsZVN0cmluZyA9ICd2YXIgc2hhcmVkQ2h1bmsgPSB7fTsgKCcgKyBzaGFyZWQgKyAnKShzaGFyZWRDaHVuayk7ICgnICsgd29ya2VyICsgJykoc2hhcmVkQ2h1bmspOycKCiAgICB2YXIgc2hhcmVkQ2h1bmsgPSB7fTsKICAgIHNoYXJlZChzaGFyZWRDaHVuayk7CiAgICBtYXBib3hnbCA9IGNodW5rKHNoYXJlZENodW5rKTsKICAgIG1hcGJveGdsLndvcmtlclVybCA9IHdpbmRvdy5VUkwuY3JlYXRlT2JqZWN0VVJMKG5ldyBCbG9iKFt3b3JrZXJCdW5kbGVTdHJpbmddLCB7IHR5cGU6ICd0ZXh0L2phdmFzY3JpcHQnIH0pKTsKfQp9CgoKZGVmaW5lKFsiZXhwb3J0cyJdLChmdW5jdGlvbih0KXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gZSh0LGUpe3JldHVybiB0KGU9e2V4cG9ydHM6e319LGUuZXhwb3J0cyksZS5leHBvcnRzfXZhciByPW47ZnVuY3Rpb24gbih0LGUscixuKXt0aGlzLmN4PTMqdCx0aGlzLmJ4PTMqKHItdCktdGhpcy5jeCx0aGlzLmF4PTEtdGhpcy5jeC10aGlzLmJ4LHRoaXMuY3k9MyplLHRoaXMuYnk9Myoobi1lKS10aGlzLmN5LHRoaXMuYXk9MS10aGlzLmN5LXRoaXMuYnksdGhpcy5wMXg9dCx0aGlzLnAxeT1uLHRoaXMucDJ4PXIsdGhpcy5wMnk9bjt9bi5wcm90b3R5cGUuc2FtcGxlQ3VydmVYPWZ1bmN0aW9uKHQpe3JldHVybiAoKHRoaXMuYXgqdCt0aGlzLmJ4KSp0K3RoaXMuY3gpKnR9LG4ucHJvdG90eXBlLnNhbXBsZUN1cnZlWT1mdW5jdGlvbih0KXtyZXR1cm4gKCh0aGlzLmF5KnQrdGhpcy5ieSkqdCt0aGlzLmN5KSp0fSxuLnByb3RvdHlwZS5zYW1wbGVDdXJ2ZURlcml2YXRpdmVYPWZ1bmN0aW9uKHQpe3JldHVybiAoMyp0aGlzLmF4KnQrMip0aGlzLmJ4KSp0K3RoaXMuY3h9LG4ucHJvdG90eXBlLnNvbHZlQ3VydmVYPWZ1bmN0aW9uKHQsZSl7dmFyIHIsbixpLGEsbztmb3Iodm9pZCAwPT09ZSYmKGU9MWUtNiksaT10LG89MDtvPDg7bysrKXtpZihhPXRoaXMuc2FtcGxlQ3VydmVYKGkpLXQsTWF0aC5hYnMoYSk8ZSlyZXR1cm4gaTt2YXIgcz10aGlzLnNhbXBsZUN1cnZlRGVyaXZhdGl2ZVgoaSk7aWYoTWF0aC5hYnMocyk8MWUtNilicmVhaztpLT1hL3M7fWlmKChpPXQpPChyPTApKXJldHVybiByO2lmKGk+KG49MSkpcmV0dXJuIG47Zm9yKDtyPG47KXtpZihhPXRoaXMuc2FtcGxlQ3VydmVYKGkpLE1hdGguYWJzKGEtdCk8ZSlyZXR1cm4gaTt0PmE/cj1pOm49aSxpPS41KihuLXIpK3I7fXJldHVybiBpfSxuLnByb3RvdHlwZS5zb2x2ZT1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLnNhbXBsZUN1cnZlWSh0aGlzLnNvbHZlQ3VydmVYKHQsZSkpfTt2YXIgaT1hO2Z1bmN0aW9uIGEodCxlKXt0aGlzLng9dCx0aGlzLnk9ZTt9ZnVuY3Rpb24gbyh0LGUsbixpKXt2YXIgYT1uZXcgcih0LGUsbixpKTtyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIGEuc29sdmUodCl9fWEucHJvdG90eXBlPXtjbG9uZTpmdW5jdGlvbigpe3JldHVybiBuZXcgYSh0aGlzLngsdGhpcy55KX0sYWRkOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmNsb25lKCkuX2FkZCh0KX0sc3ViOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmNsb25lKCkuX3N1Yih0KX0sbXVsdEJ5UG9pbnQ6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuY2xvbmUoKS5fbXVsdEJ5UG9pbnQodCl9LGRpdkJ5UG9pbnQ6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuY2xvbmUoKS5fZGl2QnlQb2ludCh0KX0sbXVsdDpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5jbG9uZSgpLl9tdWx0KHQpfSxkaXY6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuY2xvbmUoKS5fZGl2KHQpfSxyb3RhdGU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuY2xvbmUoKS5fcm90YXRlKHQpfSxyb3RhdGVBcm91bmQ6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5jbG9uZSgpLl9yb3RhdGVBcm91bmQodCxlKX0sbWF0TXVsdDpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5jbG9uZSgpLl9tYXRNdWx0KHQpfSx1bml0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY2xvbmUoKS5fdW5pdCgpfSxwZXJwOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY2xvbmUoKS5fcGVycCgpfSxyb3VuZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmNsb25lKCkuX3JvdW5kKCl9LG1hZzpmdW5jdGlvbigpe3JldHVybiBNYXRoLnNxcnQodGhpcy54KnRoaXMueCt0aGlzLnkqdGhpcy55KX0sZXF1YWxzOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLng9PT10LngmJnRoaXMueT09PXQueX0sZGlzdDpmdW5jdGlvbih0KXtyZXR1cm4gTWF0aC5zcXJ0KHRoaXMuZGlzdFNxcih0KSl9LGRpc3RTcXI6ZnVuY3Rpb24odCl7dmFyIGU9dC54LXRoaXMueCxyPXQueS10aGlzLnk7cmV0dXJuIGUqZStyKnJ9LGFuZ2xlOmZ1bmN0aW9uKCl7cmV0dXJuIE1hdGguYXRhbjIodGhpcy55LHRoaXMueCl9LGFuZ2xlVG86ZnVuY3Rpb24odCl7cmV0dXJuIE1hdGguYXRhbjIodGhpcy55LXQueSx0aGlzLngtdC54KX0sYW5nbGVXaXRoOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmFuZ2xlV2l0aFNlcCh0LngsdC55KX0sYW5nbGVXaXRoU2VwOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIE1hdGguYXRhbjIodGhpcy54KmUtdGhpcy55KnQsdGhpcy54KnQrdGhpcy55KmUpfSxfbWF0TXVsdDpmdW5jdGlvbih0KXt2YXIgZT10WzJdKnRoaXMueCt0WzNdKnRoaXMueTtyZXR1cm4gdGhpcy54PXRbMF0qdGhpcy54K3RbMV0qdGhpcy55LHRoaXMueT1lLHRoaXN9LF9hZGQ6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMueCs9dC54LHRoaXMueSs9dC55LHRoaXN9LF9zdWI6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMueC09dC54LHRoaXMueS09dC55LHRoaXN9LF9tdWx0OmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLngqPXQsdGhpcy55Kj10LHRoaXN9LF9kaXY6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMueC89dCx0aGlzLnkvPXQsdGhpc30sX211bHRCeVBvaW50OmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLngqPXQueCx0aGlzLnkqPXQueSx0aGlzfSxfZGl2QnlQb2ludDpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy54Lz10LngsdGhpcy55Lz10LnksdGhpc30sX3VuaXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZGl2KHRoaXMubWFnKCkpLHRoaXN9LF9wZXJwOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy55O3JldHVybiB0aGlzLnk9dGhpcy54LHRoaXMueD0tdCx0aGlzfSxfcm90YXRlOmZ1bmN0aW9uKHQpe3ZhciBlPU1hdGguY29zKHQpLHI9TWF0aC5zaW4odCksbj1yKnRoaXMueCtlKnRoaXMueTtyZXR1cm4gdGhpcy54PWUqdGhpcy54LXIqdGhpcy55LHRoaXMueT1uLHRoaXN9LF9yb3RhdGVBcm91bmQ6ZnVuY3Rpb24odCxlKXt2YXIgcj1NYXRoLmNvcyh0KSxuPU1hdGguc2luKHQpLGk9ZS55K24qKHRoaXMueC1lLngpK3IqKHRoaXMueS1lLnkpO3JldHVybiB0aGlzLng9ZS54K3IqKHRoaXMueC1lLngpLW4qKHRoaXMueS1lLnkpLHRoaXMueT1pLHRoaXN9LF9yb3VuZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLng9TWF0aC5yb3VuZCh0aGlzLngpLHRoaXMueT1NYXRoLnJvdW5kKHRoaXMueSksdGhpc319LGEuY29udmVydD1mdW5jdGlvbih0KXtyZXR1cm4gdCBpbnN0YW5jZW9mIGE/dDpBcnJheS5pc0FycmF5KHQpP25ldyBhKHRbMF0sdFsxXSk6dH07dmFyIHM9byguMjUsLjEsLjI1LDEpO2Z1bmN0aW9uIHUodCxlLHIpe3JldHVybiBNYXRoLm1pbihyLE1hdGgubWF4KGUsdCkpfWZ1bmN0aW9uIGwodCxlLHIpe3ZhciBuPXItZSxpPSgodC1lKSVuK24pJW4rZTtyZXR1cm4gaT09PWU/cjppfWZ1bmN0aW9uIHAodCl7Zm9yKHZhciBlPVtdLHI9YXJndW1lbnRzLmxlbmd0aC0xO3ItLSA+MDspZVtyXT1hcmd1bWVudHNbcisxXTtmb3IodmFyIG49MCxpPWU7bjxpLmxlbmd0aDtuKz0xKXt2YXIgYT1pW25dO2Zvcih2YXIgbyBpbiBhKXRbb109YVtvXTt9cmV0dXJuIHR9dmFyIGM9MTtmdW5jdGlvbiBoKCl7cmV0dXJuIGMrK31mdW5jdGlvbiBmKCl7cmV0dXJuIGZ1bmN0aW9uIHQoZSl7cmV0dXJuIGU/KGVeMTYqTWF0aC5yYW5kb20oKT4+ZS80KS50b1N0cmluZygxNik6KFsxZTddKy1bMWUzXSstNGUzKy04ZTMrLTFlMTEpLnJlcGxhY2UoL1swMThdL2csdCl9KCl9ZnVuY3Rpb24geSh0KXtyZXR1cm4gISF0JiYvXlswLTlhLWZdezh9LVswLTlhLWZdezR9LVs0XVswLTlhLWZdezN9LVs4OWFiXVswLTlhLWZdezN9LVswLTlhLWZdezEyfSQvaS50ZXN0KHQpfWZ1bmN0aW9uIGQodCxlKXt0LmZvckVhY2goKGZ1bmN0aW9uKHQpe2VbdF0mJihlW3RdPWVbdF0uYmluZChlKSk7fSkpO31mdW5jdGlvbiBtKHQsZSl7cmV0dXJuIC0xIT09dC5pbmRleE9mKGUsdC5sZW5ndGgtZS5sZW5ndGgpfWZ1bmN0aW9uIHYodCxlLHIpe3ZhciBuPXt9O2Zvcih2YXIgaSBpbiB0KW5baV09ZS5jYWxsKHJ8fHRoaXMsdFtpXSxpLHQpO3JldHVybiBufWZ1bmN0aW9uIGcodCxlLHIpe3ZhciBuPXt9O2Zvcih2YXIgaSBpbiB0KWUuY2FsbChyfHx0aGlzLHRbaV0saSx0KSYmKG5baV09dFtpXSk7cmV0dXJuIG59ZnVuY3Rpb24geCh0KXtyZXR1cm4gQXJyYXkuaXNBcnJheSh0KT90Lm1hcCh4KToib2JqZWN0Ij09dHlwZW9mIHQmJnQ/dih0LHgpOnR9dmFyIGI9e307ZnVuY3Rpb24gdyh0KXtiW3RdfHwoInVuZGVmaW5lZCIhPXR5cGVvZiBjb25zb2xlJiZjb25zb2xlLndhcm4odCksYlt0XT0hMCk7fWZ1bmN0aW9uIF8odCxlLHIpe3JldHVybiAoci55LXQueSkqKGUueC10LngpPihlLnktdC55KSooci54LXQueCl9ZnVuY3Rpb24gQSh0KXtmb3IodmFyIGU9MCxyPTAsbj10Lmxlbmd0aCxpPW4tMSxhPXZvaWQgMCxvPXZvaWQgMDtyPG47aT1yKyspZSs9KChvPXRbaV0pLngtKGE9dFtyXSkueCkqKGEueStvLnkpO3JldHVybiBlfWZ1bmN0aW9uIFMoKXtyZXR1cm4gInVuZGVmaW5lZCIhPXR5cGVvZiBXb3JrZXJHbG9iYWxTY29wZSYmInVuZGVmaW5lZCIhPXR5cGVvZiBzZWxmJiZzZWxmIGluc3RhbmNlb2YgV29ya2VyR2xvYmFsU2NvcGV9ZnVuY3Rpb24gayh0KXt2YXIgZT17fTtpZih0LnJlcGxhY2UoLyg/Ol58KD86XHMqXCxccyopKShbXlx4MDAtXHgyMFwoXCk8PkBcLDtcOlxcIlwvXFtcXVw/XD1ce1x9XHg3Rl0rKSg/Olw9KD86KFteXHgwMC1ceDIwXChcKTw+QFwsO1w6XFwiXC9cW1xdXD9cPVx7XH1ceDdGXSspfCg/OlwiKCg/OlteIlxcXXxcXC4pKilcIikpKT8vZywoZnVuY3Rpb24odCxyLG4saSl7dmFyIGE9bnx8aTtyZXR1cm4gZVtyXT0hYXx8YS50b0xvd2VyQ2FzZSgpLCIifSkpLGVbIm1heC1hZ2UiXSl7dmFyIHI9cGFyc2VJbnQoZVsibWF4LWFnZSJdLDEwKTtpc05hTihyKT9kZWxldGUgZVsibWF4LWFnZSJdOmVbIm1heC1hZ2UiXT1yO31yZXR1cm4gZX12YXIgST1udWxsO2Z1bmN0aW9uIHoodCl7aWYobnVsbD09SSl7dmFyIGU9dC5uYXZpZ2F0b3I/dC5uYXZpZ2F0b3IudXNlckFnZW50Om51bGw7ST0hIXQuc2FmYXJpfHwhKCFlfHwhKC9cYihpUGFkfGlQaG9uZXxpUG9kKVxiLy50ZXN0KGUpfHxlLm1hdGNoKCJTYWZhcmkiKSYmIWUubWF0Y2goIkNocm9tZSIpKSk7fXJldHVybiBJfWZ1bmN0aW9uIEModCl7dHJ5e3ZhciBlPXNlbGZbdF07cmV0dXJuIGUuc2V0SXRlbSgiX21hcGJveF90ZXN0XyIsMSksZS5yZW1vdmVJdGVtKCJfbWFwYm94X3Rlc3RfIiksITB9Y2F0Y2godCl7cmV0dXJuICExfX12YXIgTSxFLFQsUCxCPXNlbGYucGVyZm9ybWFuY2UmJnNlbGYucGVyZm9ybWFuY2Uubm93P3NlbGYucGVyZm9ybWFuY2Uubm93LmJpbmQoc2VsZi5wZXJmb3JtYW5jZSk6RGF0ZS5ub3cuYmluZChEYXRlKSxWPXNlbGYucmVxdWVzdEFuaW1hdGlvbkZyYW1lfHxzZWxmLm1velJlcXVlc3RBbmltYXRpb25GcmFtZXx8c2VsZi53ZWJraXRSZXF1ZXN0QW5pbWF0aW9uRnJhbWV8fHNlbGYubXNSZXF1ZXN0QW5pbWF0aW9uRnJhbWUsRj1zZWxmLmNhbmNlbEFuaW1hdGlvbkZyYW1lfHxzZWxmLm1vekNhbmNlbEFuaW1hdGlvbkZyYW1lfHxzZWxmLndlYmtpdENhbmNlbEFuaW1hdGlvbkZyYW1lfHxzZWxmLm1zQ2FuY2VsQW5pbWF0aW9uRnJhbWUsRD17bm93OkIsZnJhbWU6ZnVuY3Rpb24odCl7dmFyIGU9Vih0KTtyZXR1cm4ge2NhbmNlbDpmdW5jdGlvbigpe3JldHVybiBGKGUpfX19LGdldEltYWdlRGF0YTpmdW5jdGlvbih0LGUpe3ZvaWQgMD09PWUmJihlPTApO3ZhciByPXNlbGYuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiY2FudmFzIiksbj1yLmdldENvbnRleHQoIjJkIik7aWYoIW4pdGhyb3cgbmV3IEVycm9yKCJmYWlsZWQgdG8gY3JlYXRlIGNhbnZhcyAyZCBjb250ZXh0Iik7cmV0dXJuIHIud2lkdGg9dC53aWR0aCxyLmhlaWdodD10LmhlaWdodCxuLmRyYXdJbWFnZSh0LDAsMCx0LndpZHRoLHQuaGVpZ2h0KSxuLmdldEltYWdlRGF0YSgtZSwtZSx0LndpZHRoKzIqZSx0LmhlaWdodCsyKmUpfSxyZXNvbHZlVVJMOmZ1bmN0aW9uKHQpe3JldHVybiBNfHwoTT1zZWxmLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImEiKSksTS5ocmVmPXQsTS5ocmVmfSxoYXJkd2FyZUNvbmN1cnJlbmN5OnNlbGYubmF2aWdhdG9yLmhhcmR3YXJlQ29uY3VycmVuY3l8fDQsZ2V0IGRldmljZVBpeGVsUmF0aW8oKXtyZXR1cm4gc2VsZi5kZXZpY2VQaXhlbFJhdGlvfSxnZXQgcHJlZmVyc1JlZHVjZWRNb3Rpb24oKXtyZXR1cm4gISFzZWxmLm1hdGNoTWVkaWEmJihudWxsPT1FJiYoRT1zZWxmLm1hdGNoTWVkaWEoIihwcmVmZXJzLXJlZHVjZWQtbW90aW9uOiByZWR1Y2UpIikpLEUubWF0Y2hlcyl9fSxMPXtBUElfVVJMOiJodHRwczovL2FwaS5tYXBib3guY29tIixnZXQgRVZFTlRTX1VSTCgpe3JldHVybiB0aGlzLkFQSV9VUkw/MD09PXRoaXMuQVBJX1VSTC5pbmRleE9mKCJodHRwczovL2FwaS5tYXBib3guY24iKT8iaHR0cHM6Ly9ldmVudHMubWFwYm94LmNuL2V2ZW50cy92MiI6MD09PXRoaXMuQVBJX1VSTC5pbmRleE9mKCJodHRwczovL2FwaS5tYXBib3guY29tIik/Imh0dHBzOi8vZXZlbnRzLm1hcGJveC5jb20vZXZlbnRzL3YyIjpudWxsOm51bGx9LEZFRURCQUNLX1VSTDoiaHR0cHM6Ly9hcHBzLm1hcGJveC5jb20vZmVlZGJhY2siLFJFUVVJUkVfQUNDRVNTX1RPS0VOOiEwLEFDQ0VTU19UT0tFTjpudWxsLE1BWF9QQVJBTExFTF9JTUFHRV9SRVFVRVNUUzoxNn0sUj17c3VwcG9ydGVkOiExLHRlc3RTdXBwb3J0OmZ1bmN0aW9uKHQpeyFPJiZQJiYoVT9qKHQpOlQ9dCk7fX0sTz0hMSxVPSExO2Z1bmN0aW9uIGoodCl7dmFyIGU9dC5jcmVhdGVUZXh0dXJlKCk7dC5iaW5kVGV4dHVyZSh0LlRFWFRVUkVfMkQsZSk7dHJ5e2lmKHQudGV4SW1hZ2UyRCh0LlRFWFRVUkVfMkQsMCx0LlJHQkEsdC5SR0JBLHQuVU5TSUdORURfQllURSxQKSx0LmlzQ29udGV4dExvc3QoKSlyZXR1cm47Ui5zdXBwb3J0ZWQ9ITA7fWNhdGNoKHQpe310LmRlbGV0ZVRleHR1cmUoZSksTz0hMDt9c2VsZi5kb2N1bWVudCYmKChQPXNlbGYuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaW1nIikpLm9ubG9hZD1mdW5jdGlvbigpe1QmJmooVCksVD1udWxsLFU9ITA7fSxQLm9uZXJyb3I9ZnVuY3Rpb24oKXtPPSEwLFQ9bnVsbDt9LFAuc3JjPSJkYXRhOmltYWdlL3dlYnA7YmFzZTY0LFVrbEdSaDRBQUFCWFJVSlFWbEE0VEJFQUFBQXZBUUFBQUFmUS8vNzN2LytCaU9oL0FBQT0iKTt2YXIgcT0iMDEiLE49ZnVuY3Rpb24odCxlKXt0aGlzLl90cmFuc2Zvcm1SZXF1ZXN0Rm49dCx0aGlzLl9jdXN0b21BY2Nlc3NUb2tlbj1lLHRoaXMuX2NyZWF0ZVNrdVRva2VuKCk7fTtmdW5jdGlvbiBLKHQpe3JldHVybiAwPT09dC5pbmRleE9mKCJtYXBib3g6Iil9Ti5wcm90b3R5cGUuX2NyZWF0ZVNrdVRva2VuPWZ1bmN0aW9uKCl7dmFyIHQ9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9IiIsZT0wO2U8MTA7ZSsrKXQrPSIwMTIzNDU2Nzg5YWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXpBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWiJbTWF0aC5mbG9vcig2MipNYXRoLnJhbmRvbSgpKV07cmV0dXJuIHt0b2tlbjpbIjEiLHEsdF0uam9pbigiIiksdG9rZW5FeHBpcmVzQXQ6RGF0ZS5ub3coKSs0MzJlNX19KCk7dGhpcy5fc2t1VG9rZW49dC50b2tlbix0aGlzLl9za3VUb2tlbkV4cGlyZXNBdD10LnRva2VuRXhwaXJlc0F0O30sTi5wcm90b3R5cGUuX2lzU2t1VG9rZW5FeHBpcmVkPWZ1bmN0aW9uKCl7cmV0dXJuIERhdGUubm93KCk+dGhpcy5fc2t1VG9rZW5FeHBpcmVzQXR9LE4ucHJvdG90eXBlLnRyYW5zZm9ybVJlcXVlc3Q9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5fdHJhbnNmb3JtUmVxdWVzdEZuJiZ0aGlzLl90cmFuc2Zvcm1SZXF1ZXN0Rm4odCxlKXx8e3VybDp0fX0sTi5wcm90b3R5cGUubm9ybWFsaXplU3R5bGVVUkw9ZnVuY3Rpb24odCxlKXtpZighSyh0KSlyZXR1cm4gdDt2YXIgcj1KKHQpO3JldHVybiByLnBhdGg9Ii9zdHlsZXMvdjEiK3IucGF0aCx0aGlzLl9tYWtlQVBJVVJMKHIsdGhpcy5fY3VzdG9tQWNjZXNzVG9rZW58fGUpfSxOLnByb3RvdHlwZS5ub3JtYWxpemVHbHlwaHNVUkw9ZnVuY3Rpb24odCxlKXtpZighSyh0KSlyZXR1cm4gdDt2YXIgcj1KKHQpO3JldHVybiByLnBhdGg9Ii9mb250cy92MSIrci5wYXRoLHRoaXMuX21ha2VBUElVUkwocix0aGlzLl9jdXN0b21BY2Nlc3NUb2tlbnx8ZSl9LE4ucHJvdG90eXBlLm5vcm1hbGl6ZVNvdXJjZVVSTD1mdW5jdGlvbih0LGUpe2lmKCFLKHQpKXJldHVybiB0O3ZhciByPUoodCk7cmV0dXJuIHIucGF0aD0iL3Y0LyIrci5hdXRob3JpdHkrIi5qc29uIixyLnBhcmFtcy5wdXNoKCJzZWN1cmUiKSx0aGlzLl9tYWtlQVBJVVJMKHIsdGhpcy5fY3VzdG9tQWNjZXNzVG9rZW58fGUpfSxOLnByb3RvdHlwZS5ub3JtYWxpemVTcHJpdGVVUkw9ZnVuY3Rpb24odCxlLHIsbil7dmFyIGk9Sih0KTtyZXR1cm4gSyh0KT8oaS5wYXRoPSIvc3R5bGVzL3YxIitpLnBhdGgrIi9zcHJpdGUiK2Urcix0aGlzLl9tYWtlQVBJVVJMKGksdGhpcy5fY3VzdG9tQWNjZXNzVG9rZW58fG4pKTooaS5wYXRoKz0iIitlK3IsSChpKSl9LE4ucHJvdG90eXBlLm5vcm1hbGl6ZVRpbGVVUkw9ZnVuY3Rpb24odCxlKXtpZih0aGlzLl9pc1NrdVRva2VuRXhwaXJlZCgpJiZ0aGlzLl9jcmVhdGVTa3VUb2tlbigpLHQmJiFLKHQpKXJldHVybiB0O3ZhciByPUoodCk7ci5wYXRoPXIucGF0aC5yZXBsYWNlKC8oXC4ocG5nfGpwZylcZCopKD89JCkvLChELmRldmljZVBpeGVsUmF0aW8+PTJ8fDUxMj09PWU/IkAyeCI6IiIpKyhSLnN1cHBvcnRlZD8iLndlYnAiOiIkMSIpKSxyLnBhdGg9ci5wYXRoLnJlcGxhY2UoL14uK1wvdjRcLy8sIi8iKSxyLnBhdGg9Ii92NCIrci5wYXRoO3ZhciBuPXRoaXMuX2N1c3RvbUFjY2Vzc1Rva2VufHxmdW5jdGlvbih0KXtmb3IodmFyIGU9MCxyPXQ7ZTxyLmxlbmd0aDtlKz0xKXt2YXIgbj1yW2VdLm1hdGNoKC9eYWNjZXNzX3Rva2VuPSguKikkLyk7aWYobilyZXR1cm4gblsxXX1yZXR1cm4gbnVsbH0oci5wYXJhbXMpfHxMLkFDQ0VTU19UT0tFTjtyZXR1cm4gTC5SRVFVSVJFX0FDQ0VTU19UT0tFTiYmbiYmdGhpcy5fc2t1VG9rZW4mJnIucGFyYW1zLnB1c2goInNrdT0iK3RoaXMuX3NrdVRva2VuKSx0aGlzLl9tYWtlQVBJVVJMKHIsbil9LE4ucHJvdG90eXBlLmNhbm9uaWNhbGl6ZVRpbGVVUkw9ZnVuY3Rpb24odCxlKXt2YXIgcj1KKHQpO2lmKCFyLnBhdGgubWF0Y2goLyheXC92NFwvKS8pfHwhci5wYXRoLm1hdGNoKC9cLltcd10rJC8pKXJldHVybiB0O3ZhciBuPSJtYXBib3g6Ly90aWxlcy8iO24rPXIucGF0aC5yZXBsYWNlKCIvdjQvIiwiIik7dmFyIGk9ci5wYXJhbXM7cmV0dXJuIGUmJihpPWkuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gIXQubWF0Y2goL15hY2Nlc3NfdG9rZW49Lyl9KSkpLGkubGVuZ3RoJiYobis9Ij8iK2kuam9pbigiJiIpKSxufSxOLnByb3RvdHlwZS5jYW5vbmljYWxpemVUaWxlc2V0PWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciByPSEhZSYmSyhlKSxuPVtdLGk9MCxhPXQudGlsZXN8fFtdO2k8YS5sZW5ndGg7aSs9MSl7dmFyIG89YVtpXTtaKG8pP24ucHVzaCh0aGlzLmNhbm9uaWNhbGl6ZVRpbGVVUkwobyxyKSk6bi5wdXNoKG8pO31yZXR1cm4gbn0sTi5wcm90b3R5cGUuX21ha2VBUElVUkw9ZnVuY3Rpb24odCxlKXt2YXIgcj0iU2VlIGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vYXBpLWRvY3VtZW50YXRpb24vI2FjY2Vzcy10b2tlbnMtYW5kLXRva2VuLXNjb3BlcyIsbj1KKEwuQVBJX1VSTCk7aWYodC5wcm90b2NvbD1uLnByb3RvY29sLHQuYXV0aG9yaXR5PW4uYXV0aG9yaXR5LCIvIiE9PW4ucGF0aCYmKHQucGF0aD0iIituLnBhdGgrdC5wYXRoKSwhTC5SRVFVSVJFX0FDQ0VTU19UT0tFTilyZXR1cm4gSCh0KTtpZighKGU9ZXx8TC5BQ0NFU1NfVE9LRU4pKXRocm93IG5ldyBFcnJvcigiQW4gQVBJIGFjY2VzcyB0b2tlbiBpcyByZXF1aXJlZCB0byB1c2UgTWFwYm94IEdMLiAiK3IpO2lmKCJzIj09PWVbMF0pdGhyb3cgbmV3IEVycm9yKCJVc2UgYSBwdWJsaWMgYWNjZXNzIHRva2VuIChway4qKSB3aXRoIE1hcGJveCBHTCwgbm90IGEgc2VjcmV0IGFjY2VzcyB0b2tlbiAoc2suKikuICIrcik7cmV0dXJuIHQucGFyYW1zPXQucGFyYW1zLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIC0xPT09dC5pbmRleE9mKCJhY2Nlc3NfdG9rZW4iKX0pKSx0LnBhcmFtcy5wdXNoKCJhY2Nlc3NfdG9rZW49IitlKSxIKHQpfTt2YXIgRz0vXigoaHR0cHM/Oik/XC9cLyk/KFteXC9dK1wuKT9tYXBib3hcLmMobnxvbSkoXC98XD98JCkvaTtmdW5jdGlvbiBaKHQpe3JldHVybiBHLnRlc3QodCl9dmFyIFg9L14oXHcrKTpcL1wvKFteLz9dKikoXC9bXj9dKyk/XD8/KC4rKT8vO2Z1bmN0aW9uIEoodCl7dmFyIGU9dC5tYXRjaChYKTtpZighZSl0aHJvdyBuZXcgRXJyb3IoIlVuYWJsZSB0byBwYXJzZSBVUkwgb2JqZWN0Iik7cmV0dXJuIHtwcm90b2NvbDplWzFdLGF1dGhvcml0eTplWzJdLHBhdGg6ZVszXXx8Ii8iLHBhcmFtczplWzRdP2VbNF0uc3BsaXQoIiYiKTpbXX19ZnVuY3Rpb24gSCh0KXt2YXIgZT10LnBhcmFtcy5sZW5ndGg/Ij8iK3QucGFyYW1zLmpvaW4oIiYiKToiIjtyZXR1cm4gdC5wcm90b2NvbCsiOi8vIit0LmF1dGhvcml0eSt0LnBhdGgrZX1mdW5jdGlvbiBZKHQpe2lmKCF0KXJldHVybiBudWxsO3ZhciBlPXQuc3BsaXQoIi4iKTtpZighZXx8MyE9PWUubGVuZ3RoKXJldHVybiBudWxsO3RyeXtyZXR1cm4gSlNPTi5wYXJzZShkZWNvZGVVUklDb21wb25lbnQoc2VsZi5hdG9iKGVbMV0pLnNwbGl0KCIiKS5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiAiJSIrKCIwMCIrdC5jaGFyQ29kZUF0KDApLnRvU3RyaW5nKDE2KSkuc2xpY2UoLTIpfSkpLmpvaW4oIiIpKSl9Y2F0Y2godCl7cmV0dXJuIG51bGx9fXZhciAkPWZ1bmN0aW9uKHQpe3RoaXMudHlwZT10LHRoaXMuYW5vbklkPW51bGwsdGhpcy5ldmVudERhdGE9e30sdGhpcy5xdWV1ZT1bXSx0aGlzLnBlbmRpbmdSZXF1ZXN0PW51bGw7fTskLnByb3RvdHlwZS5nZXRTdG9yYWdlS2V5PWZ1bmN0aW9uKHQpe3ZhciBlLHI9WShMLkFDQ0VTU19UT0tFTik7cmV0dXJuIGU9ciYmci51P3NlbGYuYnRvYShlbmNvZGVVUklDb21wb25lbnQoci51KS5yZXBsYWNlKC8lKFswLTlBLUZdezJ9KS9nLChmdW5jdGlvbih0LGUpe3JldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlKE51bWJlcigiMHgiK2UpKX0pKSk6TC5BQ0NFU1NfVE9LRU58fCIiLHQ/Im1hcGJveC5ldmVudERhdGEuIit0KyI6IitlOiJtYXBib3guZXZlbnREYXRhOiIrZX0sJC5wcm90b3R5cGUuZmV0Y2hFdmVudERhdGE9ZnVuY3Rpb24oKXt2YXIgdD1DKCJsb2NhbFN0b3JhZ2UiKSxlPXRoaXMuZ2V0U3RvcmFnZUtleSgpLHI9dGhpcy5nZXRTdG9yYWdlS2V5KCJ1dWlkIik7aWYodCl0cnl7dmFyIG49c2VsZi5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShlKTtuJiYodGhpcy5ldmVudERhdGE9SlNPTi5wYXJzZShuKSk7dmFyIGk9c2VsZi5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShyKTtpJiYodGhpcy5hbm9uSWQ9aSk7fWNhdGNoKHQpe3coIlVuYWJsZSB0byByZWFkIGZyb20gTG9jYWxTdG9yYWdlIik7fX0sJC5wcm90b3R5cGUuc2F2ZUV2ZW50RGF0YT1mdW5jdGlvbigpe3ZhciB0PUMoImxvY2FsU3RvcmFnZSIpLGU9dGhpcy5nZXRTdG9yYWdlS2V5KCkscj10aGlzLmdldFN0b3JhZ2VLZXkoInV1aWQiKTtpZih0KXRyeXtzZWxmLmxvY2FsU3RvcmFnZS5zZXRJdGVtKHIsdGhpcy5hbm9uSWQpLE9iamVjdC5rZXlzKHRoaXMuZXZlbnREYXRhKS5sZW5ndGg+PTEmJnNlbGYubG9jYWxTdG9yYWdlLnNldEl0ZW0oZSxKU09OLnN0cmluZ2lmeSh0aGlzLmV2ZW50RGF0YSkpO31jYXRjaCh0KXt3KCJVbmFibGUgdG8gd3JpdGUgdG8gTG9jYWxTdG9yYWdlIik7fX0sJC5wcm90b3R5cGUucHJvY2Vzc1JlcXVlc3RzPWZ1bmN0aW9uKHQpe30sJC5wcm90b3R5cGUucG9zdEV2ZW50PWZ1bmN0aW9uKHQsZSxyLG4pe3ZhciBpPXRoaXM7aWYoTC5FVkVOVFNfVVJMKXt2YXIgYT1KKEwuRVZFTlRTX1VSTCk7YS5wYXJhbXMucHVzaCgiYWNjZXNzX3Rva2VuPSIrKG58fEwuQUNDRVNTX1RPS0VOfHwiIikpO3ZhciBvPXtldmVudDp0aGlzLnR5cGUsY3JlYXRlZDpuZXcgRGF0ZSh0KS50b0lTT1N0cmluZygpLHNka0lkZW50aWZpZXI6Im1hcGJveC1nbC1qcyIsc2RrVmVyc2lvbjoiMS4xMC4wIixza3VJZDpxLHVzZXJJZDp0aGlzLmFub25JZH0scz1lP3AobyxlKTpvLHU9e3VybDpIKGEpLGhlYWRlcnM6eyJDb250ZW50LVR5cGUiOiJ0ZXh0L3BsYWluIn0sYm9keTpKU09OLnN0cmluZ2lmeShbc10pfTt0aGlzLnBlbmRpbmdSZXF1ZXN0PXh0KHUsKGZ1bmN0aW9uKHQpe2kucGVuZGluZ1JlcXVlc3Q9bnVsbCxyKHQpLGkuc2F2ZUV2ZW50RGF0YSgpLGkucHJvY2Vzc1JlcXVlc3RzKG4pO30pKTt9fSwkLnByb3RvdHlwZS5xdWV1ZVJlcXVlc3Q9ZnVuY3Rpb24odCxlKXt0aGlzLnF1ZXVlLnB1c2godCksdGhpcy5wcm9jZXNzUmVxdWVzdHMoZSk7fTt2YXIgVyxRLHR0PWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt0LmNhbGwodGhpcywibWFwLmxvYWQiKSx0aGlzLnN1Y2Nlc3M9e30sdGhpcy5za3VUb2tlbj0iIjt9cmV0dXJuIHQmJihlLl9fcHJvdG9fXz10KSwoZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSkpLmNvbnN0cnVjdG9yPWUsZS5wcm90b3R5cGUucG9zdE1hcExvYWRFdmVudD1mdW5jdGlvbih0LGUscixuKXt0aGlzLnNrdVRva2VuPXIsKEwuRVZFTlRTX1VSTCYmbnx8TC5BQ0NFU1NfVE9LRU4mJkFycmF5LmlzQXJyYXkodCkmJnQuc29tZSgoZnVuY3Rpb24odCl7cmV0dXJuIEsodCl8fFoodCl9KSkpJiZ0aGlzLnF1ZXVlUmVxdWVzdCh7aWQ6ZSx0aW1lc3RhbXA6RGF0ZS5ub3coKX0sbik7fSxlLnByb3RvdHlwZS5wcm9jZXNzUmVxdWVzdHM9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcztpZighdGhpcy5wZW5kaW5nUmVxdWVzdCYmMCE9PXRoaXMucXVldWUubGVuZ3RoKXt2YXIgcj10aGlzLnF1ZXVlLnNoaWZ0KCksbj1yLmlkLGk9ci50aW1lc3RhbXA7biYmdGhpcy5zdWNjZXNzW25dfHwodGhpcy5hbm9uSWR8fHRoaXMuZmV0Y2hFdmVudERhdGEoKSx5KHRoaXMuYW5vbklkKXx8KHRoaXMuYW5vbklkPWYoKSksdGhpcy5wb3N0RXZlbnQoaSx7c2t1VG9rZW46dGhpcy5za3VUb2tlbn0sKGZ1bmN0aW9uKHQpe3R8fG4mJihlLnN1Y2Nlc3Nbbl09ITApO30pLHQpKTt9fSxlfSgkKSxldD1uZXcoZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlKXt0LmNhbGwodGhpcywiYXBwVXNlclR1cm5zdGlsZSIpLHRoaXMuX2N1c3RvbUFjY2Vzc1Rva2VuPWU7fXJldHVybiB0JiYoZS5fX3Byb3RvX189dCksKGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUpKS5jb25zdHJ1Y3Rvcj1lLGUucHJvdG90eXBlLnBvc3RUdXJuc3RpbGVFdmVudD1mdW5jdGlvbih0LGUpe0wuRVZFTlRTX1VSTCYmTC5BQ0NFU1NfVE9LRU4mJkFycmF5LmlzQXJyYXkodCkmJnQuc29tZSgoZnVuY3Rpb24odCl7cmV0dXJuIEsodCl8fFoodCl9KSkmJnRoaXMucXVldWVSZXF1ZXN0KERhdGUubm93KCksZSk7fSxlLnByb3RvdHlwZS5wcm9jZXNzUmVxdWVzdHM9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcztpZighdGhpcy5wZW5kaW5nUmVxdWVzdCYmMCE9PXRoaXMucXVldWUubGVuZ3RoKXt0aGlzLmFub25JZCYmdGhpcy5ldmVudERhdGEubGFzdFN1Y2Nlc3MmJnRoaXMuZXZlbnREYXRhLnRva2VuVXx8dGhpcy5mZXRjaEV2ZW50RGF0YSgpO3ZhciByPVkoTC5BQ0NFU1NfVE9LRU4pLG49cj9yLnU6TC5BQ0NFU1NfVE9LRU4saT1uIT09dGhpcy5ldmVudERhdGEudG9rZW5VO3kodGhpcy5hbm9uSWQpfHwodGhpcy5hbm9uSWQ9ZigpLGk9ITApO3ZhciBhPXRoaXMucXVldWUuc2hpZnQoKTtpZih0aGlzLmV2ZW50RGF0YS5sYXN0U3VjY2Vzcyl7dmFyIG89bmV3IERhdGUodGhpcy5ldmVudERhdGEubGFzdFN1Y2Nlc3MpLHM9bmV3IERhdGUoYSksdT0oYS10aGlzLmV2ZW50RGF0YS5sYXN0U3VjY2VzcykvODY0ZTU7aT1pfHx1Pj0xfHx1PC0xfHxvLmdldERhdGUoKSE9PXMuZ2V0RGF0ZSgpO31lbHNlIGk9ITA7aWYoIWkpcmV0dXJuIHRoaXMucHJvY2Vzc1JlcXVlc3RzKCk7dGhpcy5wb3N0RXZlbnQoYSx7ImVuYWJsZWQudGVsZW1ldHJ5IjohMX0sKGZ1bmN0aW9uKHQpe3R8fChlLmV2ZW50RGF0YS5sYXN0U3VjY2Vzcz1hLGUuZXZlbnREYXRhLnRva2VuVT1uKTt9KSx0KTt9fSxlfSgkKSkscnQ9ZXQucG9zdFR1cm5zdGlsZUV2ZW50LmJpbmQoZXQpLG50PW5ldyB0dCxpdD1udC5wb3N0TWFwTG9hZEV2ZW50LmJpbmQobnQpLGF0PTUwMCxvdD01MDtmdW5jdGlvbiBzdCgpe3NlbGYuY2FjaGVzJiYhVyYmKFc9c2VsZi5jYWNoZXMub3BlbigibWFwYm94LXRpbGVzIikpO31mdW5jdGlvbiB1dCh0KXt2YXIgZT10LmluZGV4T2YoIj8iKTtyZXR1cm4gZTwwP3Q6dC5zbGljZSgwLGUpfXZhciBsdCxwdD0xLzA7ZnVuY3Rpb24gY3QoKXtyZXR1cm4gbnVsbD09bHQmJihsdD1zZWxmLk9mZnNjcmVlbkNhbnZhcyYmbmV3IHNlbGYuT2Zmc2NyZWVuQ2FudmFzKDEsMSkuZ2V0Q29udGV4dCgiMmQiKSYmImZ1bmN0aW9uIj09dHlwZW9mIHNlbGYuY3JlYXRlSW1hZ2VCaXRtYXApLGx0fXZhciBodD17VW5rbm93bjoiVW5rbm93biIsU3R5bGU6IlN0eWxlIixTb3VyY2U6IlNvdXJjZSIsVGlsZToiVGlsZSIsR2x5cGhzOiJHbHlwaHMiLFNwcml0ZUltYWdlOiJTcHJpdGVJbWFnZSIsU3ByaXRlSlNPTjoiU3ByaXRlSlNPTiIsSW1hZ2U6IkltYWdlIn07ImZ1bmN0aW9uIj09dHlwZW9mIE9iamVjdC5mcmVlemUmJk9iamVjdC5mcmVlemUoaHQpO3ZhciBmdD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUscixuKXs0MDE9PT1yJiZaKG4pJiYoZSs9IjogeW91IG1heSBoYXZlIHByb3ZpZGVkIGFuIGludmFsaWQgTWFwYm94IGFjY2VzcyB0b2tlbi4gU2VlIGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vYXBpLWRvY3VtZW50YXRpb24vI2FjY2Vzcy10b2tlbnMtYW5kLXRva2VuLXNjb3BlcyIpLHQuY2FsbCh0aGlzLGUpLHRoaXMuc3RhdHVzPXIsdGhpcy51cmw9bix0aGlzLm5hbWU9dGhpcy5jb25zdHJ1Y3Rvci5uYW1lLHRoaXMubWVzc2FnZT1lO31yZXR1cm4gdCYmKGUuX19wcm90b19fPXQpLChlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlKSkuY29uc3RydWN0b3I9ZSxlLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLm5hbWUrIjogIit0aGlzLm1lc3NhZ2UrIiAoIit0aGlzLnN0YXR1cysiKTogIit0aGlzLnVybH0sZX0oRXJyb3IpLHl0PVMoKT9mdW5jdGlvbigpe3JldHVybiBzZWxmLndvcmtlciYmc2VsZi53b3JrZXIucmVmZXJyZXJ9OmZ1bmN0aW9uKCl7cmV0dXJuICgiYmxvYjoiPT09c2VsZi5sb2NhdGlvbi5wcm90b2NvbD9zZWxmLnBhcmVudDpzZWxmKS5sb2NhdGlvbi5ocmVmfTt2YXIgZHQsbXQsdnQ9ZnVuY3Rpb24odCxlKXtpZighKC9eZmlsZTovLnRlc3Qocj10LnVybCl8fC9eZmlsZTovLnRlc3QoeXQoKSkmJiEvXlx3KzovLnRlc3QocikpKXtpZihzZWxmLmZldGNoJiZzZWxmLlJlcXVlc3QmJnNlbGYuQWJvcnRDb250cm9sbGVyJiZzZWxmLlJlcXVlc3QucHJvdG90eXBlLmhhc093blByb3BlcnR5KCJzaWduYWwiKSlyZXR1cm4gZnVuY3Rpb24odCxlKXt2YXIgcixuPW5ldyBzZWxmLkFib3J0Q29udHJvbGxlcixpPW5ldyBzZWxmLlJlcXVlc3QodC51cmwse21ldGhvZDp0Lm1ldGhvZHx8IkdFVCIsYm9keTp0LmJvZHksY3JlZGVudGlhbHM6dC5jcmVkZW50aWFscyxoZWFkZXJzOnQuaGVhZGVycyxyZWZlcnJlcjp5dCgpLHNpZ25hbDpuLnNpZ25hbH0pLGE9ITEsbz0hMSxzPShyPWkudXJsKS5pbmRleE9mKCJza3U9Iik+MCYmWihyKTsianNvbiI9PT10LnR5cGUmJmkuaGVhZGVycy5zZXQoIkFjY2VwdCIsImFwcGxpY2F0aW9uL2pzb24iKTt2YXIgdT1mdW5jdGlvbihyLG4sYSl7aWYoIW8pe2lmKHImJiJTZWN1cml0eUVycm9yIiE9PXIubWVzc2FnZSYmdyhyKSxuJiZhKXJldHVybiBsKG4pO3ZhciB1PURhdGUubm93KCk7c2VsZi5mZXRjaChpKS50aGVuKChmdW5jdGlvbihyKXtpZihyLm9rKXt2YXIgbj1zP3IuY2xvbmUoKTpudWxsO3JldHVybiBsKHIsbix1KX1yZXR1cm4gZShuZXcgZnQoci5zdGF0dXNUZXh0LHIuc3RhdHVzLHQudXJsKSl9KSkuY2F0Y2goKGZ1bmN0aW9uKHQpezIwIT09dC5jb2RlJiZlKG5ldyBFcnJvcih0Lm1lc3NhZ2UpKTt9KSk7fX0sbD1mdW5jdGlvbihyLG4scyl7KCJhcnJheUJ1ZmZlciI9PT10LnR5cGU/ci5hcnJheUJ1ZmZlcigpOiJqc29uIj09PXQudHlwZT9yLmpzb24oKTpyLnRleHQoKSkudGhlbigoZnVuY3Rpb24odCl7b3x8KG4mJnMmJmZ1bmN0aW9uKHQsZSxyKXtpZihzdCgpLFcpe3ZhciBuPXtzdGF0dXM6ZS5zdGF0dXMsc3RhdHVzVGV4dDplLnN0YXR1c1RleHQsaGVhZGVyczpuZXcgc2VsZi5IZWFkZXJzfTtlLmhlYWRlcnMuZm9yRWFjaCgoZnVuY3Rpb24odCxlKXtyZXR1cm4gbi5oZWFkZXJzLnNldChlLHQpfSkpO3ZhciBpPWsoZS5oZWFkZXJzLmdldCgiQ2FjaGUtQ29udHJvbCIpfHwiIik7aVsibm8tc3RvcmUiXXx8KGlbIm1heC1hZ2UiXSYmbi5oZWFkZXJzLnNldCgiRXhwaXJlcyIsbmV3IERhdGUocisxZTMqaVsibWF4LWFnZSJdKS50b1VUQ1N0cmluZygpKSxuZXcgRGF0ZShuLmhlYWRlcnMuZ2V0KCJFeHBpcmVzIikpLmdldFRpbWUoKS1yPDQyZTR8fGZ1bmN0aW9uKHQsZSl7aWYodm9pZCAwPT09USl0cnl7bmV3IFJlc3BvbnNlKG5ldyBSZWFkYWJsZVN0cmVhbSksUT0hMDt9Y2F0Y2godCl7UT0hMTt9UT9lKHQuYm9keSk6dC5ibG9iKCkudGhlbihlKTt9KGUsKGZ1bmN0aW9uKGUpe3ZhciByPW5ldyBzZWxmLlJlc3BvbnNlKGUsbik7c3QoKSxXJiZXLnRoZW4oKGZ1bmN0aW9uKGUpe3JldHVybiBlLnB1dCh1dCh0LnVybCkscil9KSkuY2F0Y2goKGZ1bmN0aW9uKHQpe3JldHVybiB3KHQubWVzc2FnZSl9KSk7fSkpKTt9fShpLG4scyksYT0hMCxlKG51bGwsdCxyLmhlYWRlcnMuZ2V0KCJDYWNoZS1Db250cm9sIiksci5oZWFkZXJzLmdldCgiRXhwaXJlcyIpKSk7fSkpLmNhdGNoKChmdW5jdGlvbih0KXtvfHxlKG5ldyBFcnJvcih0Lm1lc3NhZ2UpKTt9KSk7fTtyZXR1cm4gcz9mdW5jdGlvbih0LGUpe2lmKHN0KCksIVcpcmV0dXJuIGUobnVsbCk7dmFyIHI9dXQodC51cmwpO1cudGhlbigoZnVuY3Rpb24odCl7dC5tYXRjaChyKS50aGVuKChmdW5jdGlvbihuKXt2YXIgaT1mdW5jdGlvbih0KXtpZighdClyZXR1cm4gITE7dmFyIGU9bmV3IERhdGUodC5oZWFkZXJzLmdldCgiRXhwaXJlcyIpfHwwKSxyPWsodC5oZWFkZXJzLmdldCgiQ2FjaGUtQ29udHJvbCIpfHwiIik7cmV0dXJuIGU+RGF0ZS5ub3coKSYmIXJbIm5vLWNhY2hlIl19KG4pO3QuZGVsZXRlKHIpLGkmJnQucHV0KHIsbi5jbG9uZSgpKSxlKG51bGwsbixpKTt9KSkuY2F0Y2goZSk7fSkpLmNhdGNoKGUpO30oaSx1KTp1KG51bGwsbnVsbCkse2NhbmNlbDpmdW5jdGlvbigpe289ITAsYXx8bi5hYm9ydCgpO319fSh0LGUpO2lmKFMoKSYmc2VsZi53b3JrZXImJnNlbGYud29ya2VyLmFjdG9yKXJldHVybiBzZWxmLndvcmtlci5hY3Rvci5zZW5kKCJnZXRSZXNvdXJjZSIsdCxlLHZvaWQgMCwhMCl9dmFyIHI7cmV0dXJuIGZ1bmN0aW9uKHQsZSl7dmFyIHI9bmV3IHNlbGYuWE1MSHR0cFJlcXVlc3Q7Zm9yKHZhciBuIGluIHIub3Blbih0Lm1ldGhvZHx8IkdFVCIsdC51cmwsITApLCJhcnJheUJ1ZmZlciI9PT10LnR5cGUmJihyLnJlc3BvbnNlVHlwZT0iYXJyYXlidWZmZXIiKSx0LmhlYWRlcnMpci5zZXRSZXF1ZXN0SGVhZGVyKG4sdC5oZWFkZXJzW25dKTtyZXR1cm4gImpzb24iPT09dC50eXBlJiYoci5yZXNwb25zZVR5cGU9InRleHQiLHIuc2V0UmVxdWVzdEhlYWRlcigiQWNjZXB0IiwiYXBwbGljYXRpb24vanNvbiIpKSxyLndpdGhDcmVkZW50aWFscz0iaW5jbHVkZSI9PT10LmNyZWRlbnRpYWxzLHIub25lcnJvcj1mdW5jdGlvbigpe2UobmV3IEVycm9yKHIuc3RhdHVzVGV4dCkpO30sci5vbmxvYWQ9ZnVuY3Rpb24oKXtpZigoci5zdGF0dXM+PTIwMCYmci5zdGF0dXM8MzAwfHwwPT09ci5zdGF0dXMpJiZudWxsIT09ci5yZXNwb25zZSl7dmFyIG49ci5yZXNwb25zZTtpZigianNvbiI9PT10LnR5cGUpdHJ5e249SlNPTi5wYXJzZShyLnJlc3BvbnNlKTt9Y2F0Y2godCl7cmV0dXJuIGUodCl9ZShudWxsLG4sci5nZXRSZXNwb25zZUhlYWRlcigiQ2FjaGUtQ29udHJvbCIpLHIuZ2V0UmVzcG9uc2VIZWFkZXIoIkV4cGlyZXMiKSk7fWVsc2UgZShuZXcgZnQoci5zdGF0dXNUZXh0LHIuc3RhdHVzLHQudXJsKSk7fSxyLnNlbmQodC5ib2R5KSx7Y2FuY2VsOmZ1bmN0aW9uKCl7cmV0dXJuIHIuYWJvcnQoKX19fSh0LGUpfSxndD1mdW5jdGlvbih0LGUpe3JldHVybiB2dChwKHQse3R5cGU6ImFycmF5QnVmZmVyIn0pLGUpfSx4dD1mdW5jdGlvbih0LGUpe3JldHVybiB2dChwKHQse21ldGhvZDoiUE9TVCJ9KSxlKX07ZHQ9W10sbXQ9MDt2YXIgYnQ9ZnVuY3Rpb24odCxlKXtpZihSLnN1cHBvcnRlZCYmKHQuaGVhZGVyc3x8KHQuaGVhZGVycz17fSksdC5oZWFkZXJzLmFjY2VwdD0iaW1hZ2Uvd2VicCwqLyoiKSxtdD49TC5NQVhfUEFSQUxMRUxfSU1BR0VfUkVRVUVTVFMpe3ZhciByPXtyZXF1ZXN0UGFyYW1ldGVyczp0LGNhbGxiYWNrOmUsY2FuY2VsbGVkOiExLGNhbmNlbDpmdW5jdGlvbigpe3RoaXMuY2FuY2VsbGVkPSEwO319O3JldHVybiBkdC5wdXNoKHIpLHJ9bXQrKzt2YXIgbj0hMSxpPWZ1bmN0aW9uKCl7aWYoIW4pZm9yKG49ITAsbXQtLTtkdC5sZW5ndGgmJm10PEwuTUFYX1BBUkFMTEVMX0lNQUdFX1JFUVVFU1RTOyl7dmFyIHQ9ZHQuc2hpZnQoKTt0LmNhbmNlbGxlZHx8KHQuY2FuY2VsPWJ0KHQucmVxdWVzdFBhcmFtZXRlcnMsdC5jYWxsYmFjaykuY2FuY2VsKTt9fSxhPWd0KHQsKGZ1bmN0aW9uKHQscixuLGEpe2koKSx0P2UodCk6ciYmKGN0KCk/ZnVuY3Rpb24odCxlKXt2YXIgcj1uZXcgc2VsZi5CbG9iKFtuZXcgVWludDhBcnJheSh0KV0se3R5cGU6ImltYWdlL3BuZyJ9KTtzZWxmLmNyZWF0ZUltYWdlQml0bWFwKHIpLnRoZW4oKGZ1bmN0aW9uKHQpe2UobnVsbCx0KTt9KSkuY2F0Y2goKGZ1bmN0aW9uKHQpe2UobmV3IEVycm9yKCJDb3VsZCBub3QgbG9hZCBpbWFnZSBiZWNhdXNlIG9mICIrdC5tZXNzYWdlKyIuIFBsZWFzZSBtYWtlIHN1cmUgdG8gdXNlIGEgc3VwcG9ydGVkIGltYWdlIHR5cGUgc3VjaCBhcyBQTkcgb3IgSlBFRy4gTm90ZSB0aGF0IFNWR3MgYXJlIG5vdCBzdXBwb3J0ZWQuIikpO30pKTt9KHIsZSk6ZnVuY3Rpb24odCxlLHIsbil7dmFyIGk9bmV3IHNlbGYuSW1hZ2UsYT1zZWxmLlVSTDtpLm9ubG9hZD1mdW5jdGlvbigpe2UobnVsbCxpKSxhLnJldm9rZU9iamVjdFVSTChpLnNyYyk7fSxpLm9uZXJyb3I9ZnVuY3Rpb24oKXtyZXR1cm4gZShuZXcgRXJyb3IoIkNvdWxkIG5vdCBsb2FkIGltYWdlLiBQbGVhc2UgbWFrZSBzdXJlIHRvIHVzZSBhIHN1cHBvcnRlZCBpbWFnZSB0eXBlIHN1Y2ggYXMgUE5HIG9yIEpQRUcuIE5vdGUgdGhhdCBTVkdzIGFyZSBub3Qgc3VwcG9ydGVkLiIpKX07dmFyIG89bmV3IHNlbGYuQmxvYihbbmV3IFVpbnQ4QXJyYXkodCldLHt0eXBlOiJpbWFnZS9wbmcifSk7aS5jYWNoZUNvbnRyb2w9cixpLmV4cGlyZXM9bixpLnNyYz10LmJ5dGVMZW5ndGg/YS5jcmVhdGVPYmplY3RVUkwobyk6ImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBQUVBQUFBQkNBWUFBQUFmRmNTSkFBQUFDMGxFUVZRWVYyTmdBQUlBQUFVQUFhclZ5RkVBQUFBQVNVVk9SSzVDWUlJPSI7fShyLGUsbixhKSk7fSkpO3JldHVybiB7Y2FuY2VsOmZ1bmN0aW9uKCl7YS5jYW5jZWwoKSxpKCk7fX19O2Z1bmN0aW9uIHd0KHQsZSxyKXtyW3RdJiYtMSE9PXJbdF0uaW5kZXhPZihlKXx8KHJbdF09clt0XXx8W10sclt0XS5wdXNoKGUpKTt9ZnVuY3Rpb24gX3QodCxlLHIpe2lmKHImJnJbdF0pe3ZhciBuPXJbdF0uaW5kZXhPZihlKTstMSE9PW4mJnJbdF0uc3BsaWNlKG4sMSk7fX12YXIgQXQ9ZnVuY3Rpb24odCxlKXt2b2lkIDA9PT1lJiYoZT17fSkscCh0aGlzLGUpLHRoaXMudHlwZT10O30sU3Q9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlLHIpe3ZvaWQgMD09PXImJihyPXt9KSx0LmNhbGwodGhpcywiZXJyb3IiLHAoe2Vycm9yOmV9LHIpKTt9cmV0dXJuIHQmJihlLl9fcHJvdG9fXz10KSwoZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSkpLmNvbnN0cnVjdG9yPWUsZX0oQXQpLGt0PWZ1bmN0aW9uKCl7fTtrdC5wcm90b3R5cGUub249ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5fbGlzdGVuZXJzPXRoaXMuX2xpc3RlbmVyc3x8e30sd3QodCxlLHRoaXMuX2xpc3RlbmVycyksdGhpc30sa3QucHJvdG90eXBlLm9mZj1mdW5jdGlvbih0LGUpe3JldHVybiBfdCh0LGUsdGhpcy5fbGlzdGVuZXJzKSxfdCh0LGUsdGhpcy5fb25lVGltZUxpc3RlbmVycyksdGhpc30sa3QucHJvdG90eXBlLm9uY2U9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5fb25lVGltZUxpc3RlbmVycz10aGlzLl9vbmVUaW1lTGlzdGVuZXJzfHx7fSx3dCh0LGUsdGhpcy5fb25lVGltZUxpc3RlbmVycyksdGhpc30sa3QucHJvdG90eXBlLmZpcmU9ZnVuY3Rpb24odCxlKXsic3RyaW5nIj09dHlwZW9mIHQmJih0PW5ldyBBdCh0LGV8fHt9KSk7dmFyIHI9dC50eXBlO2lmKHRoaXMubGlzdGVucyhyKSl7dC50YXJnZXQ9dGhpcztmb3IodmFyIG49MCxpPXRoaXMuX2xpc3RlbmVycyYmdGhpcy5fbGlzdGVuZXJzW3JdP3RoaXMuX2xpc3RlbmVyc1tyXS5zbGljZSgpOltdO248aS5sZW5ndGg7bis9MSlpW25dLmNhbGwodGhpcyx0KTtmb3IodmFyIGE9MCxvPXRoaXMuX29uZVRpbWVMaXN0ZW5lcnMmJnRoaXMuX29uZVRpbWVMaXN0ZW5lcnNbcl0/dGhpcy5fb25lVGltZUxpc3RlbmVyc1tyXS5zbGljZSgpOltdO2E8by5sZW5ndGg7YSs9MSl7dmFyIHM9b1thXTtfdChyLHMsdGhpcy5fb25lVGltZUxpc3RlbmVycykscy5jYWxsKHRoaXMsdCk7fXZhciB1PXRoaXMuX2V2ZW50ZWRQYXJlbnQ7dSYmKHAodCwiZnVuY3Rpb24iPT10eXBlb2YgdGhpcy5fZXZlbnRlZFBhcmVudERhdGE/dGhpcy5fZXZlbnRlZFBhcmVudERhdGEoKTp0aGlzLl9ldmVudGVkUGFyZW50RGF0YSksdS5maXJlKHQpKTt9ZWxzZSB0IGluc3RhbmNlb2YgU3QmJmNvbnNvbGUuZXJyb3IodC5lcnJvcik7cmV0dXJuIHRoaXN9LGt0LnByb3RvdHlwZS5saXN0ZW5zPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9saXN0ZW5lcnMmJnRoaXMuX2xpc3RlbmVyc1t0XSYmdGhpcy5fbGlzdGVuZXJzW3RdLmxlbmd0aD4wfHx0aGlzLl9vbmVUaW1lTGlzdGVuZXJzJiZ0aGlzLl9vbmVUaW1lTGlzdGVuZXJzW3RdJiZ0aGlzLl9vbmVUaW1lTGlzdGVuZXJzW3RdLmxlbmd0aD4wfHx0aGlzLl9ldmVudGVkUGFyZW50JiZ0aGlzLl9ldmVudGVkUGFyZW50Lmxpc3RlbnModCl9LGt0LnByb3RvdHlwZS5zZXRFdmVudGVkUGFyZW50PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuX2V2ZW50ZWRQYXJlbnQ9dCx0aGlzLl9ldmVudGVkUGFyZW50RGF0YT1lLHRoaXN9O3ZhciBJdD17JHZlcnNpb246OCwkcm9vdDp7dmVyc2lvbjp7cmVxdWlyZWQ6ITAsdHlwZToiZW51bSIsdmFsdWVzOls4XX0sbmFtZTp7dHlwZToic3RyaW5nIn0sbWV0YWRhdGE6e3R5cGU6IioifSxjZW50ZXI6e3R5cGU6ImFycmF5Iix2YWx1ZToibnVtYmVyIn0sem9vbTp7dHlwZToibnVtYmVyIn0sYmVhcmluZzp7dHlwZToibnVtYmVyIixkZWZhdWx0OjAscGVyaW9kOjM2MCx1bml0czoiZGVncmVlcyJ9LHBpdGNoOnt0eXBlOiJudW1iZXIiLGRlZmF1bHQ6MCx1bml0czoiZGVncmVlcyJ9LGxpZ2h0Ont0eXBlOiJsaWdodCJ9LHNvdXJjZXM6e3JlcXVpcmVkOiEwLHR5cGU6InNvdXJjZXMifSxzcHJpdGU6e3R5cGU6InN0cmluZyJ9LGdseXBoczp7dHlwZToic3RyaW5nIn0sdHJhbnNpdGlvbjp7dHlwZToidHJhbnNpdGlvbiJ9LGxheWVyczp7cmVxdWlyZWQ6ITAsdHlwZToiYXJyYXkiLHZhbHVlOiJsYXllciJ9fSxzb3VyY2VzOnsiKiI6e3R5cGU6InNvdXJjZSJ9fSxzb3VyY2U6WyJzb3VyY2VfdmVjdG9yIiwic291cmNlX3Jhc3RlciIsInNvdXJjZV9yYXN0ZXJfZGVtIiwic291cmNlX2dlb2pzb24iLCJzb3VyY2VfdmlkZW8iLCJzb3VyY2VfaW1hZ2UiXSxzb3VyY2VfdmVjdG9yOnt0eXBlOntyZXF1aXJlZDohMCx0eXBlOiJlbnVtIix2YWx1ZXM6e3ZlY3Rvcjp7fX19LHVybDp7dHlwZToic3RyaW5nIn0sdGlsZXM6e3R5cGU6ImFycmF5Iix2YWx1ZToic3RyaW5nIn0sYm91bmRzOnt0eXBlOiJhcnJheSIsdmFsdWU6Im51bWJlciIsbGVuZ3RoOjQsZGVmYXVsdDpbLTE4MCwtODUuMDUxMTI5LDE4MCw4NS4wNTExMjldfSxzY2hlbWU6e3R5cGU6ImVudW0iLHZhbHVlczp7eHl6Ont9LHRtczp7fX0sZGVmYXVsdDoieHl6In0sbWluem9vbTp7dHlwZToibnVtYmVyIixkZWZhdWx0OjB9LG1heHpvb206e3R5cGU6Im51bWJlciIsZGVmYXVsdDoyMn0sYXR0cmlidXRpb246e3R5cGU6InN0cmluZyJ9LHByb21vdGVJZDp7dHlwZToicHJvbW90ZUlkIn0sIioiOnt0eXBlOiIqIn19LHNvdXJjZV9yYXN0ZXI6e3R5cGU6e3JlcXVpcmVkOiEwLHR5cGU6ImVudW0iLHZhbHVlczp7cmFzdGVyOnt9fX0sdXJsOnt0eXBlOiJzdHJpbmcifSx0aWxlczp7dHlwZToiYXJyYXkiLHZhbHVlOiJzdHJpbmcifSxib3VuZHM6e3R5cGU6ImFycmF5Iix2YWx1ZToibnVtYmVyIixsZW5ndGg6NCxkZWZhdWx0OlstMTgwLC04NS4wNTExMjksMTgwLDg1LjA1MTEyOV19LG1pbnpvb206e3R5cGU6Im51bWJlciIsZGVmYXVsdDowfSxtYXh6b29tOnt0eXBlOiJudW1iZXIiLGRlZmF1bHQ6MjJ9LHRpbGVTaXplOnt0eXBlOiJudW1iZXIiLGRlZmF1bHQ6NTEyLHVuaXRzOiJwaXhlbHMifSxzY2hlbWU6e3R5cGU6ImVudW0iLHZhbHVlczp7eHl6Ont9LHRtczp7fX0sZGVmYXVsdDoieHl6In0sYXR0cmlidXRpb246e3R5cGU6InN0cmluZyJ9LCIqIjp7dHlwZToiKiJ9fSxzb3VyY2VfcmFzdGVyX2RlbTp7dHlwZTp7cmVxdWlyZWQ6ITAsdHlwZToiZW51bSIsdmFsdWVzOnsicmFzdGVyLWRlbSI6e319fSx1cmw6e3R5cGU6InN0cmluZyJ9LHRpbGVzOnt0eXBlOiJhcnJheSIsdmFsdWU6InN0cmluZyJ9LGJvdW5kczp7dHlwZToiYXJyYXkiLHZhbHVlOiJudW1iZXIiLGxlbmd0aDo0LGRlZmF1bHQ6Wy0xODAsLTg1LjA1MTEyOSwxODAsODUuMDUxMTI5XX0sbWluem9vbTp7dHlwZToibnVtYmVyIixkZWZhdWx0OjB9LG1heHpvb206e3R5cGU6Im51bWJlciIsZGVmYXVsdDoyMn0sdGlsZVNpemU6e3R5cGU6Im51bWJlciIsZGVmYXVsdDo1MTIsdW5pdHM6InBpeGVscyJ9LGF0dHJpYnV0aW9uOnt0eXBlOiJzdHJpbmcifSxlbmNvZGluZzp7dHlwZToiZW51bSIsdmFsdWVzOnt0ZXJyYXJpdW06e30sbWFwYm94Ont9fSxkZWZhdWx0OiJtYXBib3gifSwiKiI6e3R5cGU6IioifX0sc291cmNlX2dlb2pzb246e3R5cGU6e3JlcXVpcmVkOiEwLHR5cGU6ImVudW0iLHZhbHVlczp7Z2VvanNvbjp7fX19LGRhdGE6e3R5cGU6IioifSxtYXh6b29tOnt0eXBlOiJudW1iZXIiLGRlZmF1bHQ6MTh9LGF0dHJpYnV0aW9uOnt0eXBlOiJzdHJpbmcifSxidWZmZXI6e3R5cGU6Im51bWJlciIsZGVmYXVsdDoxMjgsbWF4aW11bTo1MTIsbWluaW11bTowfSx0b2xlcmFuY2U6e3R5cGU6Im51bWJlciIsZGVmYXVsdDouMzc1fSxjbHVzdGVyOnt0eXBlOiJib29sZWFuIixkZWZhdWx0OiExfSxjbHVzdGVyUmFkaXVzOnt0eXBlOiJudW1iZXIiLGRlZmF1bHQ6NTAsbWluaW11bTowfSxjbHVzdGVyTWF4Wm9vbTp7dHlwZToibnVtYmVyIn0sY2x1c3RlclByb3BlcnRpZXM6e3R5cGU6IioifSxsaW5lTWV0cmljczp7dHlwZToiYm9vbGVhbiIsZGVmYXVsdDohMX0sZ2VuZXJhdGVJZDp7dHlwZToiYm9vbGVhbiIsZGVmYXVsdDohMX0scHJvbW90ZUlkOnt0eXBlOiJwcm9tb3RlSWQifX0sc291cmNlX3ZpZGVvOnt0eXBlOntyZXF1aXJlZDohMCx0eXBlOiJlbnVtIix2YWx1ZXM6e3ZpZGVvOnt9fX0sdXJsczp7cmVxdWlyZWQ6ITAsdHlwZToiYXJyYXkiLHZhbHVlOiJzdHJpbmcifSxjb29yZGluYXRlczp7cmVxdWlyZWQ6ITAsdHlwZToiYXJyYXkiLGxlbmd0aDo0LHZhbHVlOnt0eXBlOiJhcnJheSIsbGVuZ3RoOjIsdmFsdWU6Im51bWJlciJ9fX0sc291cmNlX2ltYWdlOnt0eXBlOntyZXF1aXJlZDohMCx0eXBlOiJlbnVtIix2YWx1ZXM6e2ltYWdlOnt9fX0sdXJsOntyZXF1aXJlZDohMCx0eXBlOiJzdHJpbmcifSxjb29yZGluYXRlczp7cmVxdWlyZWQ6ITAsdHlwZToiYXJyYXkiLGxlbmd0aDo0LHZhbHVlOnt0eXBlOiJhcnJheSIsbGVuZ3RoOjIsdmFsdWU6Im51bWJlciJ9fX0sbGF5ZXI6e2lkOnt0eXBlOiJzdHJpbmciLHJlcXVpcmVkOiEwfSx0eXBlOnt0eXBlOiJlbnVtIix2YWx1ZXM6e2ZpbGw6e30sbGluZTp7fSxzeW1ib2w6e30sY2lyY2xlOnt9LGhlYXRtYXA6e30sImZpbGwtZXh0cnVzaW9uIjp7fSxyYXN0ZXI6e30saGlsbHNoYWRlOnt9LGJhY2tncm91bmQ6e319LHJlcXVpcmVkOiEwfSxtZXRhZGF0YTp7dHlwZToiKiJ9LHNvdXJjZTp7dHlwZToic3RyaW5nIn0sInNvdXJjZS1sYXllciI6e3R5cGU6InN0cmluZyJ9LG1pbnpvb206e3R5cGU6Im51bWJlciIsbWluaW11bTowLG1heGltdW06MjR9LG1heHpvb206e3R5cGU6Im51bWJlciIsbWluaW11bTowLG1heGltdW06MjR9LGZpbHRlcjp7dHlwZToiZmlsdGVyIn0sbGF5b3V0Ont0eXBlOiJsYXlvdXQifSxwYWludDp7dHlwZToicGFpbnQifX0sbGF5b3V0OlsibGF5b3V0X2ZpbGwiLCJsYXlvdXRfbGluZSIsImxheW91dF9jaXJjbGUiLCJsYXlvdXRfaGVhdG1hcCIsImxheW91dF9maWxsLWV4dHJ1c2lvbiIsImxheW91dF9zeW1ib2wiLCJsYXlvdXRfcmFzdGVyIiwibGF5b3V0X2hpbGxzaGFkZSIsImxheW91dF9iYWNrZ3JvdW5kIl0sbGF5b3V0X2JhY2tncm91bmQ6e3Zpc2liaWxpdHk6e3R5cGU6ImVudW0iLHZhbHVlczp7dmlzaWJsZTp7fSxub25lOnt9fSxkZWZhdWx0OiJ2aXNpYmxlIiwicHJvcGVydHktdHlwZSI6ImNvbnN0YW50In19LGxheW91dF9maWxsOnsiZmlsbC1zb3J0LWtleSI6e3R5cGU6Im51bWJlciIsZXhwcmVzc2lvbjp7aW50ZXJwb2xhdGVkOiExLHBhcmFtZXRlcnM6WyJ6b29tIiwiZmVhdHVyZSJdfSwicHJvcGVydHktdHlwZSI6ImRhdGEtZHJpdmVuIn0sdmlzaWJpbGl0eTp7dHlwZToiZW51bSIsdmFsdWVzOnt2aXNpYmxlOnt9LG5vbmU6e319LGRlZmF1bHQ6InZpc2libGUiLCJwcm9wZXJ0eS10eXBlIjoiY29uc3RhbnQifX0sbGF5b3V0X2NpcmNsZTp7ImNpcmNsZS1zb3J0LWtleSI6e3R5cGU6Im51bWJlciIsZXhwcmVzc2lvbjp7aW50ZXJwb2xhdGVkOiExLHBhcmFtZXRlcnM6WyJ6b29tIiwiZmVhdHVyZSJdfSwicHJvcGVydHktdHlwZSI6ImRhdGEtZHJpdmVuIn0sdmlzaWJpbGl0eTp7dHlwZToiZW51bSIsdmFsdWVzOnt2aXNpYmxlOnt9LG5vbmU6e319LGRlZmF1bHQ6InZpc2libGUiLCJwcm9wZXJ0eS10eXBlIjoiY29uc3RhbnQifX0sbGF5b3V0X2hlYXRtYXA6e3Zpc2liaWxpdHk6e3R5cGU6ImVudW0iLHZhbHVlczp7dmlzaWJsZTp7fSxub25lOnt9fSxkZWZhdWx0OiJ2aXNpYmxlIiwicHJvcGVydHktdHlwZSI6ImNvbnN0YW50In19LCJsYXlvdXRfZmlsbC1leHRydXNpb24iOnt2aXNpYmlsaXR5Ont0eXBlOiJlbnVtIix2YWx1ZXM6e3Zpc2libGU6e30sbm9uZTp7fX0sZGVmYXVsdDoidmlzaWJsZSIsInByb3BlcnR5LXR5cGUiOiJjb25zdGFudCJ9fSxsYXlvdXRfbGluZTp7ImxpbmUtY2FwIjp7dHlwZToiZW51bSIsdmFsdWVzOntidXR0Ont9LHJvdW5kOnt9LHNxdWFyZTp7fX0sZGVmYXVsdDoiYnV0dCIsZXhwcmVzc2lvbjp7aW50ZXJwb2xhdGVkOiExLHBhcmFtZXRlcnM6WyJ6b29tIl19LCJwcm9wZXJ0eS10eXBlIjoiZGF0YS1jb25zdGFudCJ9LCJsaW5lLWpvaW4iOnt0eXBlOiJlbnVtIix2YWx1ZXM6e2JldmVsOnt9LHJvdW5kOnt9LG1pdGVyOnt9fSxkZWZhdWx0OiJtaXRlciIsZXhwcmVzc2lvbjp7aW50ZXJwb2xhdGVkOiExLHBhcmFtZXRlcnM6WyJ6b29tIiwiZmVhdHVyZSJdfSwicHJvcGVydHktdHlwZSI6ImRhdGEtZHJpdmVuIn0sImxpbmUtbWl0ZXItbGltaXQiOnt0eXBlOiJudW1iZXIiLGRlZmF1bHQ6MixyZXF1aXJlczpbeyJsaW5lLWpvaW4iOiJtaXRlciJ9XSxleHByZXNzaW9uOntpbnRlcnBvbGF0ZWQ6ITAscGFyYW1ldGVyczpbInpvb20iXX0sInByb3BlcnR5LXR5cGUiOiJkYXRhLWNvbnN0YW50In0sImxpbmUtcm91bmQtbGltaXQiOnt0eXBlOiJudW1iZXIiLGRlZmF1bHQ6MS4wNSxyZXF1aXJlczpbeyJsaW5lLWpvaW4iOiJyb3VuZCJ9XSxleHByZXNzaW9uOntpbnRlcnBvbGF0ZWQ6ITAscGFyYW1ldGVyczpbInpvb20iXX0sInByb3BlcnR5LXR5cGUiOiJkYXRhLWNvbnN0YW50In0sImxpbmUtc29ydC1rZXkiOnt0eXBlOiJudW1iZXIiLGV4cHJlc3Npb246e2ludGVycG9sYXRlZDohMSxwYXJhbWV0ZXJzOlsiem9vbSIsImZlYXR1cmUiXX0sInByb3BlcnR5LXR5cGUiOiJkYXRhLWRyaXZlbiJ9LHZpc2liaWxpdHk6e3R5cGU6ImVudW0iLHZhbHVlczp7dmlzaWJsZTp7fSxub25lOnt9fSxkZWZhdWx0OiJ2aXNpYmxlIiwicHJvcGVydHktdHlwZSI6ImNvbnN0YW50In19LGxheW91dF9zeW1ib2w6eyJzeW1ib2wtcGxhY2VtZW50Ijp7dHlwZToiZW51bSIsdmFsdWVzOntwb2ludDp7fSxsaW5lOnt9LCJsaW5lLWNlbnRlciI6e319LGRlZmF1bHQ6InBvaW50IixleHByZXNzaW9uOntpbnRlcnBvbGF0ZWQ6ITEscGFyYW1ldGVyczpbInpvb20iXX0sInByb3BlcnR5LXR5cGUiOiJkYXRhLWNvbnN0YW50In0sInN5bWJvbC1zcGFjaW5nIjp7dHlwZToibnVtYmVyIixkZWZhdWx0OjI1MCxtaW5pbXVtOjEsdW5pdHM6InBpeGVscyIscmVxdWlyZXM6W3sic3ltYm9sLXBsYWNlbWVudCI6ImxpbmUifV0sZXhwcmVzc2lvbjp7aW50ZXJwb2xhdGVkOiEwLHBhcmFtZXRlcnM6WyJ6b29tIl19LCJwcm9wZXJ0eS10eXBlIjoiZGF0YS1jb25zdGFudCJ9LCJzeW1ib2wtYXZvaWQtZWRnZXMiOnt0eXBlOiJib29sZWFuIixkZWZhdWx0OiExLGV4cHJlc3Npb246e2ludGVycG9sYXRlZDohMSxwYXJhbWV0ZXJzOlsiem9vbSJdfSwicHJvcGVydHktdHlwZSI6ImRhdGEtY29uc3RhbnQifSwic3ltYm9sLXNvcnQta2V5Ijp7dHlwZToibnVtYmVyIixleHByZXNzaW9uOntpbnRlcnBvbGF0ZWQ6ITEscGFyYW1ldGVyczpbInpvb20iLCJmZWF0dXJlIl19LCJwcm9wZXJ0eS10eXBlIjoiZGF0YS1kcml2ZW4ifSwic3ltYm9sLXotb3JkZXIiOnt0eXBlOiJlbnVtIix2YWx1ZXM6e2F1dG86e30sInZpZXdwb3J0LXkiOnt9LHNvdXJjZTp7fX0sZGVmYXVsdDoiYXV0byIsZXhwcmVzc2lvbjp7aW50ZXJwb2xhdGVkOiExLHBhcmFtZXRlcnM6WyJ6b29tIl19LCJwcm9wZXJ0eS10eXBlIjoiZGF0YS1jb25zdGFudCJ9LCJpY29uLWFsbG93LW92ZXJsYXAiOnt0eXBlOiJib29sZWFuIixkZWZhdWx0OiExLHJlcXVpcmVzOlsiaWNvbi1pbWFnZSJdLGV4cHJlc3Npb246e2ludGVycG9sYXRlZDohMSxwYXJhbWV0ZXJzOlsiem9vbSJdfSwicHJvcGVydHktdHlwZSI6ImRhdGEtY29uc3RhbnQifSwiaWNvbi1pZ25vcmUtcGxhY2VtZW50Ijp7dHlwZToiYm9vbGVhbiIsZGVmYXVsdDohMSxyZXF1aXJlczpbImljb24taW1hZ2UiXSxleHByZXNzaW9uOntpbnRlcnBvbGF0ZWQ6ITEscGFyYW1ldGVyczpbInpvb20iXX0sInByb3BlcnR5LXR5cGUiOiJkYXRhLWNvbnN0YW50In0sImljb24tb3B0aW9uYWwiOnt0eXBlOiJib29sZWFuIixkZWZhdWx0OiExLHJlcXVpcmVzOlsiaWNvbi1pbWFnZSIsInRleHQtZmllbGQiXSxleHByZXNzaW9uOntpbnRlcnBvbGF0ZWQ6ITEscGFyYW1ldGVyczpbInpvb20iXX0sInByb3BlcnR5LXR5cGUiOiJkYXRhLWNvbnN0YW50In0sImljb24tcm90YXRpb24tYWxpZ25tZW50Ijp7dHlwZToiZW51bSIsdmFsdWVzOnttYXA6e30sdmlld3BvcnQ6e30sYXV0bzp7fX0sZGVmYXVsdDoiYXV0byIscmVxdWlyZXM6WyJpY29uLWltYWdlIl0sZXhwcmVzc2lvbjp7aW50ZXJwb2xhdGVkOiExLHBhcmFtZXRlcnM6WyJ6b29tIl19LCJwcm9wZXJ0eS10eXBlIjoiZGF0YS1jb25zdGFudCJ9LCJpY29uLXNpemUiOnt0eXBlOiJudW1iZXIiLGRlZmF1bHQ6MSxtaW5pbXVtOjAsdW5pdHM6ImZhY3RvciBvZiB0aGUgb3JpZ2luYWwgaWNvbiBzaXplIixyZXF1aXJlczpbImljb24taW1hZ2UiXSxleHByZXNzaW9uOntpbnRlcnBvbGF0ZWQ6ITAscGFyYW1ldGVyczpbInpvb20iLCJmZWF0dXJlIl19LCJwcm9wZXJ0eS10eXBlIjoiZGF0YS1kcml2ZW4ifSwiaWNvbi10ZXh0LWZpdCI6e3R5cGU6ImVudW0iLHZhbHVlczp7bm9uZTp7fSx3aWR0aDp7fSxoZWlnaHQ6e30sYm90aDp7fX0sZGVmYXVsdDoibm9uZSIscmVxdWlyZXM6WyJpY29uLWltYWdlIiwidGV4dC1maWVsZCJdLGV4cHJlc3Npb246e2ludGVycG9sYXRlZDohMSxwYXJhbWV0ZXJzOlsiem9vbSJdfSwicHJvcGVydHktdHlwZSI6ImRhdGEtY29uc3RhbnQifSwiaWNvbi10ZXh0LWZpdC1wYWRkaW5nIjp7dHlwZToiYXJyYXkiLHZhbHVlOiJudW1iZXIiLGxlbmd0aDo0LGRlZmF1bHQ6WzAsMCwwLDBdLHVuaXRzOiJwaXhlbHMiLHJlcXVpcmVzOlsiaWNvbi1pbWFnZSIsInRleHQtZmllbGQiLHsiaWNvbi10ZXh0LWZpdCI6WyJib3RoIiwid2lkdGgiLCJoZWlnaHQiXX1dLGV4cHJlc3Npb246e2ludGVycG9sYXRlZDohMCxwYXJhbWV0ZXJzOlsiem9vbSJdfSwicHJvcGVydHktdHlwZSI6ImRhdGEtY29uc3RhbnQifSwiaWNvbi1pbWFnZSI6e3R5cGU6InJlc29sdmVkSW1hZ2UiLHRva2VuczohMCxleHByZXNzaW9uOntpbnRlcnBvbGF0ZWQ6ITEscGFyYW1ldGVyczpbInpvb20iLCJmZWF0dXJlIl19LCJwcm9wZXJ0eS10eXBlIjoiZGF0YS1kcml2ZW4ifSwiaWNvbi1yb3RhdGUiOnt0eXBlOiJudW1iZXIiLGRlZmF1bHQ6MCxwZXJpb2Q6MzYwLHVuaXRzOiJkZWdyZWVzIixyZXF1aXJlczpbImljb24taW1hZ2UiXSxleHByZXNzaW9uOntpbnRlcnBvbGF0ZWQ6ITAscGFyYW1ldGVyczpbInpvb20iLCJmZWF0dXJlIl19LCJwcm9wZXJ0eS10eXBlIjoiZGF0YS1kcml2ZW4ifSwiaWNvbi1wYWRkaW5nIjp7dHlwZToibnVtYmVyIixkZWZhdWx0OjIsbWluaW11bTowLHVuaXRzOiJwaXhlbHMiLHJlcXVpcmVzOlsiaWNvbi1pbWFnZSJdLGV4cHJlc3Npb246e2ludGVycG9sYXRlZDohMCxwYXJhbWV0ZXJzOlsiem9vbSJdfSwicHJvcGVydHktdHlwZSI6ImRhdGEtY29uc3RhbnQifSwiaWNvbi1rZWVwLXVwcmlnaHQiOnt0eXBlOiJib29sZWFuIixkZWZhdWx0OiExLHJlcXVpcmVzOlsiaWNvbi1pbWFnZSIseyJpY29uLXJvdGF0aW9uLWFsaWdubWVudCI6Im1hcCJ9LHsic3ltYm9sLXBsYWNlbWVudCI6WyJsaW5lIiwibGluZS1jZW50ZXIiXX1dLGV4cHJlc3Npb246e2ludGVycG9sYXRlZDohMSxwYXJhbWV0ZXJzOlsiem9vbSJdfSwicHJvcGVydHktdHlwZSI6ImRhdGEtY29uc3RhbnQifSwiaWNvbi1vZmZzZXQiOnt0eXBlOiJhcnJheSIsdmFsdWU6Im51bWJlciIsbGVuZ3RoOjIsZGVmYXVsdDpbMCwwXSxyZXF1aXJlczpbImljb24taW1hZ2UiXSxleHByZXNzaW9uOntpbnRlcnBvbGF0ZWQ6ITAscGFyYW1ldGVyczpbInpvb20iLCJmZWF0dXJlIl19LCJwcm9wZXJ0eS10eXBlIjoiZGF0YS1kcml2ZW4ifSwiaWNvbi1hbmNob3IiOnt0eXBlOiJlbnVtIix2YWx1ZXM6e2NlbnRlcjp7fSxsZWZ0Ont9LHJpZ2h0Ont9LHRvcDp7fSxib3R0b206e30sInRvcC1sZWZ0Ijp7fSwidG9wLXJpZ2h0Ijp7fSwiYm90dG9tLWxlZnQiOnt9LCJib3R0b20tcmlnaHQiOnt9fSxkZWZhdWx0OiJjZW50ZXIiLHJlcXVpcmVzOlsiaWNvbi1pbWFnZSJdLGV4cHJlc3Npb246e2ludGVycG9sYXRlZDohMSxwYXJhbWV0ZXJzOlsiem9vbSIsImZlYXR1cmUiXX0sInByb3BlcnR5LXR5cGUiOiJkYXRhLWRyaXZlbiJ9LCJpY29uLXBpdGNoLWFsaWdubWVudCI6e3R5cGU6ImVudW0iLHZhbHVlczp7bWFwOnt9LHZpZXdwb3J0Ont9LGF1dG86e319LGRlZmF1bHQ6ImF1dG8iLHJlcXVpcmVzOlsiaWNvbi1pbWFnZSJdLGV4cHJlc3Npb246e2ludGVycG9sYXRlZDohMSxwYXJhbWV0ZXJzOlsiem9vbSJdfSwicHJvcGVydHktdHlwZSI6ImRhdGEtY29uc3RhbnQifSwidGV4dC1waXRjaC1hbGlnbm1lbnQiOnt0eXBlOiJlbnVtIix2YWx1ZXM6e21hcDp7fSx2aWV3cG9ydDp7fSxhdXRvOnt9fSxkZWZhdWx0OiJhdXRvIixyZXF1aXJlczpbInRleHQtZmllbGQiXSxleHByZXNzaW9uOntpbnRlcnBvbGF0ZWQ6ITEscGFyYW1ldGVyczpbInpvb20iXX0sInByb3BlcnR5LXR5cGUiOiJkYXRhLWNvbnN0YW50In0sInRleHQtcm90YXRpb24tYWxpZ25tZW50Ijp7dHlwZToiZW51bSIsdmFsdWVzOnttYXA6e30sdmlld3BvcnQ6e30sYXV0bzp7fX0sZGVmYXVsdDoiYXV0byIscmVxdWlyZXM6WyJ0ZXh0LWZpZWxkIl0sZXhwcmVzc2lvbjp7aW50ZXJwb2xhdGVkOiExLHBhcmFtZXRlcnM6WyJ6b29tIl19LCJwcm9wZXJ0eS10eXBlIjoiZGF0YS1jb25zdGFudCJ9LCJ0ZXh0LWZpZWxkIjp7dHlwZToiZm9ybWF0dGVkIixkZWZhdWx0OiIiLHRva2VuczohMCxleHByZXNzaW9uOntpbnRlcnBvbGF0ZWQ6ITEscGFyYW1ldGVyczpbInpvb20iLCJmZWF0dXJlIl19LCJwcm9wZXJ0eS10eXBlIjoiZGF0YS1kcml2ZW4ifSwidGV4dC1mb250Ijp7dHlwZToiYXJyYXkiLHZhbHVlOiJzdHJpbmciLGRlZmF1bHQ6WyJPcGVuIFNhbnMgUmVndWxhciIsIkFyaWFsIFVuaWNvZGUgTVMgUmVndWxhciJdLHJlcXVpcmVzOlsidGV4dC1maWVsZCJdLGV4cHJlc3Npb246e2ludGVycG9sYXRlZDohMSxwYXJhbWV0ZXJzOlsiem9vbSIsImZlYXR1cmUiXX0sInByb3BlcnR5LXR5cGUiOiJkYXRhLWRyaXZlbiJ9LCJ0ZXh0LXNpemUiOnt0eXBlOiJudW1iZXIiLGRlZmF1bHQ6MTYsbWluaW11bTowLHVuaXRzOiJwaXhlbHMiLHJlcXVpcmVzOlsidGV4dC1maWVsZCJdLGV4cHJlc3Npb246e2ludGVycG9sYXRlZDohMCxwYXJhbWV0ZXJzOlsiem9vbSIsImZlYXR1cmUiXX0sInByb3BlcnR5LXR5cGUiOiJkYXRhLWRyaXZlbiJ9LCJ0ZXh0LW1heC13aWR0aCI6e3R5cGU6Im51bWJlciIsZGVmYXVsdDoxMCxtaW5pbXVtOjAsdW5pdHM6ImVtcyIscmVxdWlyZXM6WyJ0ZXh0LWZpZWxkIl0sZXhwcmVzc2lvbjp7aW50ZXJwb2xhdGVkOiEwLHBhcmFtZXRlcnM6WyJ6b29tIiwiZmVhdHVyZSJdfSwicHJvcGVydHktdHlwZSI6ImRhdGEtZHJpdmVuIn0sInRleHQtbGluZS1oZWlnaHQiOnt0eXBlOiJudW1iZXIiLGRlZmF1bHQ6MS4yLHVuaXRzOiJlbXMiLHJlcXVpcmVzOlsidGV4dC1maWVsZCJdLGV4cHJlc3Npb246e2ludGVycG9sYXRlZDohMCxwYXJhbWV0ZXJzOlsiem9vbSJdfSwicHJvcGVydHktdHlwZSI6ImRhdGEtY29uc3RhbnQifSwidGV4dC1sZXR0ZXItc3BhY2luZyI6e3R5cGU6Im51bWJlciIsZGVmYXVsdDowLHVuaXRzOiJlbXMiLHJlcXVpcmVzOlsidGV4dC1maWVsZCJdLGV4cHJlc3Npb246e2ludGVycG9sYXRlZDohMCxwYXJhbWV0ZXJzOlsiem9vbSIsImZlYXR1cmUiXX0sInByb3BlcnR5LXR5cGUiOiJkYXRhLWRyaXZlbiJ9LCJ0ZXh0LWp1c3RpZnkiOnt0eXBlOiJlbnVtIix2YWx1ZXM6e2F1dG86e30sbGVmdDp7fSxjZW50ZXI6e30scmlnaHQ6e319LGRlZmF1bHQ6ImNlbnRlciIscmVxdWlyZXM6WyJ0ZXh0LWZpZWxkIl0sZXhwcmVzc2lvbjp7aW50ZXJwb2xhdGVkOiExLHBhcmFtZXRlcnM6WyJ6b29tIiwiZmVhdHVyZSJdfSwicHJvcGVydHktdHlwZSI6ImRhdGEtZHJpdmVuIn0sInRleHQtcmFkaWFsLW9mZnNldCI6e3R5cGU6Im51bWJlciIsdW5pdHM6ImVtcyIsZGVmYXVsdDowLHJlcXVpcmVzOlsidGV4dC1maWVsZCJdLCJwcm9wZXJ0eS10eXBlIjoiZGF0YS1kcml2ZW4iLGV4cHJlc3Npb246e2ludGVycG9sYXRlZDohMCxwYXJhbWV0ZXJzOlsiem9vbSIsImZlYXR1cmUiXX19LCJ0ZXh0LXZhcmlhYmxlLWFuY2hvciI6e3R5cGU6ImFycmF5Iix2YWx1ZToiZW51bSIsdmFsdWVzOntjZW50ZXI6e30sbGVmdDp7fSxyaWdodDp7fSx0b3A6e30sYm90dG9tOnt9LCJ0b3AtbGVmdCI6e30sInRvcC1yaWdodCI6e30sImJvdHRvbS1sZWZ0Ijp7fSwiYm90dG9tLXJpZ2h0Ijp7fX0scmVxdWlyZXM6WyJ0ZXh0LWZpZWxkIix7InN5bWJvbC1wbGFjZW1lbnQiOlsicG9pbnQiXX1dLGV4cHJlc3Npb246e2ludGVycG9sYXRlZDohMSxwYXJhbWV0ZXJzOlsiem9vbSJdfSwicHJvcGVydHktdHlwZSI6ImRhdGEtY29uc3RhbnQifSwidGV4dC1hbmNob3IiOnt0eXBlOiJlbnVtIix2YWx1ZXM6e2NlbnRlcjp7fSxsZWZ0Ont9LHJpZ2h0Ont9LHRvcDp7fSxib3R0b206e30sInRvcC1sZWZ0Ijp7fSwidG9wLXJpZ2h0Ijp7fSwiYm90dG9tLWxlZnQiOnt9LCJib3R0b20tcmlnaHQiOnt9fSxkZWZhdWx0OiJjZW50ZXIiLHJlcXVpcmVzOlsidGV4dC1maWVsZCIseyIhIjoidGV4dC12YXJpYWJsZS1hbmNob3IifV0sZXhwcmVzc2lvbjp7aW50ZXJwb2xhdGVkOiExLHBhcmFtZXRlcnM6WyJ6b29tIiwiZmVhdHVyZSJdfSwicHJvcGVydHktdHlwZSI6ImRhdGEtZHJpdmVuIn0sInRleHQtbWF4LWFuZ2xlIjp7dHlwZToibnVtYmVyIixkZWZhdWx0OjQ1LHVuaXRzOiJkZWdyZWVzIixyZXF1aXJlczpbInRleHQtZmllbGQiLHsic3ltYm9sLXBsYWNlbWVudCI6WyJsaW5lIiwibGluZS1jZW50ZXIiXX1dLGV4cHJlc3Npb246e2ludGVycG9sYXRlZDohMCxwYXJhbWV0ZXJzOlsiem9vbSJdfSwicHJvcGVydHktdHlwZSI6ImRhdGEtY29uc3RhbnQifSwidGV4dC13cml0aW5nLW1vZGUiOnt0eXBlOiJhcnJheSIsdmFsdWU6ImVudW0iLHZhbHVlczp7aG9yaXpvbnRhbDp7fSx2ZXJ0aWNhbDp7fX0scmVxdWlyZXM6WyJ0ZXh0LWZpZWxkIix7InN5bWJvbC1wbGFjZW1lbnQiOlsicG9pbnQiXX1dLGV4cHJlc3Npb246e2ludGVycG9sYXRlZDohMSxwYXJhbWV0ZXJzOlsiem9vbSJdfSwicHJvcGVydHktdHlwZSI6ImRhdGEtY29uc3RhbnQifSwidGV4dC1yb3RhdGUiOnt0eXBlOiJudW1iZXIiLGRlZmF1bHQ6MCxwZXJpb2Q6MzYwLHVuaXRzOiJkZWdyZWVzIixyZXF1aXJlczpbInRleHQtZmllbGQiXSxleHByZXNzaW9uOntpbnRlcnBvbGF0ZWQ6ITAscGFyYW1ldGVyczpbInpvb20iLCJmZWF0dXJlIl19LCJwcm9wZXJ0eS10eXBlIjoiZGF0YS1kcml2ZW4ifSwidGV4dC1wYWRkaW5nIjp7dHlwZToibnVtYmVyIixkZWZhdWx0OjIsbWluaW11bTowLHVuaXRzOiJwaXhlbHMiLHJlcXVpcmVzOlsidGV4dC1maWVsZCJdLGV4cHJlc3Npb246e2ludGVycG9sYXRlZDohMCxwYXJhbWV0ZXJzOlsiem9vbSJdfSwicHJvcGVydHktdHlwZSI6ImRhdGEtY29uc3RhbnQifSwidGV4dC1rZWVwLXVwcmlnaHQiOnt0eXBlOiJib29sZWFuIixkZWZhdWx0OiEwLHJlcXVpcmVzOlsidGV4dC1maWVsZCIseyJ0ZXh0LXJvdGF0aW9uLWFsaWdubWVudCI6Im1hcCJ9LHsic3ltYm9sLXBsYWNlbWVudCI6WyJsaW5lIiwibGluZS1jZW50ZXIiXX1dLGV4cHJlc3Npb246e2ludGVycG9sYXRlZDohMSxwYXJhbWV0ZXJzOlsiem9vbSJdfSwicHJvcGVydHktdHlwZSI6ImRhdGEtY29uc3RhbnQifSwidGV4dC10cmFuc2Zvcm0iOnt0eXBlOiJlbnVtIix2YWx1ZXM6e25vbmU6e30sdXBwZXJjYXNlOnt9LGxvd2VyY2FzZTp7fX0sZGVmYXVsdDoibm9uZSIscmVxdWlyZXM6WyJ0ZXh0LWZpZWxkIl0sZXhwcmVzc2lvbjp7aW50ZXJwb2xhdGVkOiExLHBhcmFtZXRlcnM6WyJ6b29tIiwiZmVhdHVyZSJdfSwicHJvcGVydHktdHlwZSI6ImRhdGEtZHJpdmVuIn0sInRleHQtb2Zmc2V0Ijp7dHlwZToiYXJyYXkiLHZhbHVlOiJudW1iZXIiLHVuaXRzOiJlbXMiLGxlbmd0aDoyLGRlZmF1bHQ6WzAsMF0scmVxdWlyZXM6WyJ0ZXh0LWZpZWxkIix7IiEiOiJ0ZXh0LXJhZGlhbC1vZmZzZXQifV0sZXhwcmVzc2lvbjp7aW50ZXJwb2xhdGVkOiEwLHBhcmFtZXRlcnM6WyJ6b29tIiwiZmVhdHVyZSJdfSwicHJvcGVydHktdHlwZSI6ImRhdGEtZHJpdmVuIn0sInRleHQtYWxsb3ctb3ZlcmxhcCI6e3R5cGU6ImJvb2xlYW4iLGRlZmF1bHQ6ITEscmVxdWlyZXM6WyJ0ZXh0LWZpZWxkIl0sZXhwcmVzc2lvbjp7aW50ZXJwb2xhdGVkOiExLHBhcmFtZXRlcnM6WyJ6b29tIl19LCJwcm9wZXJ0eS10eXBlIjoiZGF0YS1jb25zdGFudCJ9LCJ0ZXh0LWlnbm9yZS1wbGFjZW1lbnQiOnt0eXBlOiJib29sZWFuIixkZWZhdWx0OiExLHJlcXVpcmVzOlsidGV4dC1maWVsZCJdLGV4cHJlc3Npb246e2ludGVycG9sYXRlZDohMSxwYXJhbWV0ZXJzOlsiem9vbSJdfSwicHJvcGVydHktdHlwZSI6ImRhdGEtY29uc3RhbnQifSwidGV4dC1vcHRpb25hbCI6e3R5cGU6ImJvb2xlYW4iLGRlZmF1bHQ6ITEscmVxdWlyZXM6WyJ0ZXh0LWZpZWxkIiwiaWNvbi1pbWFnZSJdLGV4cHJlc3Npb246e2ludGVycG9sYXRlZDohMSxwYXJhbWV0ZXJzOlsiem9vbSJdfSwicHJvcGVydHktdHlwZSI6ImRhdGEtY29uc3RhbnQifSx2aXNpYmlsaXR5Ont0eXBlOiJlbnVtIix2YWx1ZXM6e3Zpc2libGU6e30sbm9uZTp7fX0sZGVmYXVsdDoidmlzaWJsZSIsInByb3BlcnR5LXR5cGUiOiJjb25zdGFudCJ9fSxsYXlvdXRfcmFzdGVyOnt2aXNpYmlsaXR5Ont0eXBlOiJlbnVtIix2YWx1ZXM6e3Zpc2libGU6e30sbm9uZTp7fX0sZGVmYXVsdDoidmlzaWJsZSIsInByb3BlcnR5LXR5cGUiOiJjb25zdGFudCJ9fSxsYXlvdXRfaGlsbHNoYWRlOnt2aXNpYmlsaXR5Ont0eXBlOiJlbnVtIix2YWx1ZXM6e3Zpc2libGU6e30sbm9uZTp7fX0sZGVmYXVsdDoidmlzaWJsZSIsInByb3BlcnR5LXR5cGUiOiJjb25zdGFudCJ9fSxmaWx0ZXI6e3R5cGU6ImFycmF5Iix2YWx1ZToiKiJ9LGZpbHRlcl9vcGVyYXRvcjp7dHlwZToiZW51bSIsdmFsdWVzOnsiPT0iOnt9LCIhPSI6e30sIj4iOnt9LCI+PSI6e30sIjwiOnt9LCI8PSI6e30saW46e30sIiFpbiI6e30sYWxsOnt9LGFueTp7fSxub25lOnt9LGhhczp7fSwiIWhhcyI6e319fSxnZW9tZXRyeV90eXBlOnt0eXBlOiJlbnVtIix2YWx1ZXM6e1BvaW50Ont9LExpbmVTdHJpbmc6e30sUG9seWdvbjp7fX19LGZ1bmN0aW9uOntleHByZXNzaW9uOnt0eXBlOiJleHByZXNzaW9uIn0sc3RvcHM6e3R5cGU6ImFycmF5Iix2YWx1ZToiZnVuY3Rpb25fc3RvcCJ9LGJhc2U6e3R5cGU6Im51bWJlciIsZGVmYXVsdDoxLG1pbmltdW06MH0scHJvcGVydHk6e3R5cGU6InN0cmluZyIsZGVmYXVsdDoiJHpvb20ifSx0eXBlOnt0eXBlOiJlbnVtIix2YWx1ZXM6e2lkZW50aXR5Ont9LGV4cG9uZW50aWFsOnt9LGludGVydmFsOnt9LGNhdGVnb3JpY2FsOnt9fSxkZWZhdWx0OiJleHBvbmVudGlhbCJ9LGNvbG9yU3BhY2U6e3R5cGU6ImVudW0iLHZhbHVlczp7cmdiOnt9LGxhYjp7fSxoY2w6e319LGRlZmF1bHQ6InJnYiJ9LGRlZmF1bHQ6e3R5cGU6IioiLHJlcXVpcmVkOiExfX0sZnVuY3Rpb25fc3RvcDp7dHlwZToiYXJyYXkiLG1pbmltdW06MCxtYXhpbXVtOjI0LHZhbHVlOlsibnVtYmVyIiwiY29sb3IiXSxsZW5ndGg6Mn0sZXhwcmVzc2lvbjp7dHlwZToiYXJyYXkiLHZhbHVlOiIqIixtaW5pbXVtOjF9LGV4cHJlc3Npb25fbmFtZTp7dHlwZToiZW51bSIsdmFsdWVzOntsZXQ6e2dyb3VwOiJWYXJpYWJsZSBiaW5kaW5nIn0sdmFyOntncm91cDoiVmFyaWFibGUgYmluZGluZyJ9LGxpdGVyYWw6e2dyb3VwOiJUeXBlcyJ9LGFycmF5Ontncm91cDoiVHlwZXMifSxhdDp7Z3JvdXA6Ikxvb2t1cCJ9LGluOntncm91cDoiTG9va3VwIn0sImluZGV4LW9mIjp7Z3JvdXA6Ikxvb2t1cCJ9LGNhc2U6e2dyb3VwOiJEZWNpc2lvbiJ9LG1hdGNoOntncm91cDoiRGVjaXNpb24ifSxjb2FsZXNjZTp7Z3JvdXA6IkRlY2lzaW9uIn0sc3RlcDp7Z3JvdXA6IlJhbXBzLCBzY2FsZXMsIGN1cnZlcyJ9LGludGVycG9sYXRlOntncm91cDoiUmFtcHMsIHNjYWxlcywgY3VydmVzIn0sImludGVycG9sYXRlLWhjbCI6e2dyb3VwOiJSYW1wcywgc2NhbGVzLCBjdXJ2ZXMifSwiaW50ZXJwb2xhdGUtbGFiIjp7Z3JvdXA6IlJhbXBzLCBzY2FsZXMsIGN1cnZlcyJ9LGxuMjp7Z3JvdXA6Ik1hdGgifSxwaTp7Z3JvdXA6Ik1hdGgifSxlOntncm91cDoiTWF0aCJ9LHR5cGVvZjp7Z3JvdXA6IlR5cGVzIn0sc3RyaW5nOntncm91cDoiVHlwZXMifSxudW1iZXI6e2dyb3VwOiJUeXBlcyJ9LGJvb2xlYW46e2dyb3VwOiJUeXBlcyJ9LG9iamVjdDp7Z3JvdXA6IlR5cGVzIn0sY29sbGF0b3I6e2dyb3VwOiJUeXBlcyJ9LGZvcm1hdDp7Z3JvdXA6IlR5cGVzIn0saW1hZ2U6e2dyb3VwOiJUeXBlcyJ9LCJudW1iZXItZm9ybWF0Ijp7Z3JvdXA6IlR5cGVzIn0sInRvLXN0cmluZyI6e2dyb3VwOiJUeXBlcyJ9LCJ0by1udW1iZXIiOntncm91cDoiVHlwZXMifSwidG8tYm9vbGVhbiI6e2dyb3VwOiJUeXBlcyJ9LCJ0by1yZ2JhIjp7Z3JvdXA6IkNvbG9yIn0sInRvLWNvbG9yIjp7Z3JvdXA6IlR5cGVzIn0scmdiOntncm91cDoiQ29sb3IifSxyZ2JhOntncm91cDoiQ29sb3IifSxnZXQ6e2dyb3VwOiJMb29rdXAifSxoYXM6e2dyb3VwOiJMb29rdXAifSxsZW5ndGg6e2dyb3VwOiJMb29rdXAifSxwcm9wZXJ0aWVzOntncm91cDoiRmVhdHVyZSBkYXRhIn0sImZlYXR1cmUtc3RhdGUiOntncm91cDoiRmVhdHVyZSBkYXRhIn0sImdlb21ldHJ5LXR5cGUiOntncm91cDoiRmVhdHVyZSBkYXRhIn0saWQ6e2dyb3VwOiJGZWF0dXJlIGRhdGEifSx6b29tOntncm91cDoiWm9vbSJ9LCJoZWF0bWFwLWRlbnNpdHkiOntncm91cDoiSGVhdG1hcCJ9LCJsaW5lLXByb2dyZXNzIjp7Z3JvdXA6IkZlYXR1cmUgZGF0YSJ9LGFjY3VtdWxhdGVkOntncm91cDoiRmVhdHVyZSBkYXRhIn0sIisiOntncm91cDoiTWF0aCJ9LCIqIjp7Z3JvdXA6Ik1hdGgifSwiLSI6e2dyb3VwOiJNYXRoIn0sIi8iOntncm91cDoiTWF0aCJ9LCIlIjp7Z3JvdXA6Ik1hdGgifSwiXiI6e2dyb3VwOiJNYXRoIn0sc3FydDp7Z3JvdXA6Ik1hdGgifSxsb2cxMDp7Z3JvdXA6Ik1hdGgifSxsbjp7Z3JvdXA6Ik1hdGgifSxsb2cyOntncm91cDoiTWF0aCJ9LHNpbjp7Z3JvdXA6Ik1hdGgifSxjb3M6e2dyb3VwOiJNYXRoIn0sdGFuOntncm91cDoiTWF0aCJ9LGFzaW46e2dyb3VwOiJNYXRoIn0sYWNvczp7Z3JvdXA6Ik1hdGgifSxhdGFuOntncm91cDoiTWF0aCJ9LG1pbjp7Z3JvdXA6Ik1hdGgifSxtYXg6e2dyb3VwOiJNYXRoIn0scm91bmQ6e2dyb3VwOiJNYXRoIn0sYWJzOntncm91cDoiTWF0aCJ9LGNlaWw6e2dyb3VwOiJNYXRoIn0sZmxvb3I6e2dyb3VwOiJNYXRoIn0sIj09Ijp7Z3JvdXA6IkRlY2lzaW9uIn0sIiE9Ijp7Z3JvdXA6IkRlY2lzaW9uIn0sIj4iOntncm91cDoiRGVjaXNpb24ifSwiPCI6e2dyb3VwOiJEZWNpc2lvbiJ9LCI+PSI6e2dyb3VwOiJEZWNpc2lvbiJ9LCI8PSI6e2dyb3VwOiJEZWNpc2lvbiJ9LGFsbDp7Z3JvdXA6IkRlY2lzaW9uIn0sYW55Ontncm91cDoiRGVjaXNpb24ifSwiISI6e2dyb3VwOiJEZWNpc2lvbiJ9LHdpdGhpbjp7Z3JvdXA6IkRlY2lzaW9uIn0sImlzLXN1cHBvcnRlZC1zY3JpcHQiOntncm91cDoiU3RyaW5nIn0sdXBjYXNlOntncm91cDoiU3RyaW5nIn0sZG93bmNhc2U6e2dyb3VwOiJTdHJpbmcifSxjb25jYXQ6e2dyb3VwOiJTdHJpbmcifSwicmVzb2x2ZWQtbG9jYWxlIjp7Z3JvdXA6IlN0cmluZyJ9LHNsaWNlOntncm91cDoiU3RyaW5nIn19fSxsaWdodDp7YW5jaG9yOnt0eXBlOiJlbnVtIixkZWZhdWx0OiJ2aWV3cG9ydCIsdmFsdWVzOnttYXA6e30sdmlld3BvcnQ6e319LCJwcm9wZXJ0eS10eXBlIjoiZGF0YS1jb25zdGFudCIsdHJhbnNpdGlvbjohMSxleHByZXNzaW9uOntpbnRlcnBvbGF0ZWQ6ITEscGFyYW1ldGVyczpbInpvb20iXX19LHBvc2l0aW9uOnt0eXBlOiJhcnJheSIsZGVmYXVsdDpbMS4xNSwyMTAsMzBdLGxlbmd0aDozLHZhbHVlOiJudW1iZXIiLCJwcm9wZXJ0eS10eXBlIjoiZGF0YS1jb25zdGFudCIsdHJhbnNpdGlvbjohMCxleHByZXNzaW9uOntpbnRlcnBvbGF0ZWQ6ITAscGFyYW1ldGVyczpbInpvb20iXX19LGNvbG9yOnt0eXBlOiJjb2xvciIsInByb3BlcnR5LXR5cGUiOiJkYXRhLWNvbnN0YW50IixkZWZhdWx0OiIjZmZmZmZmIixleHByZXNzaW9uOntpbnRlcnBvbGF0ZWQ6ITAscGFyYW1ldGVyczpbInpvb20iXX0sdHJhbnNpdGlvbjohMH0saW50ZW5zaXR5Ont0eXBlOiJudW1iZXIiLCJwcm9wZXJ0eS10eXBlIjoiZGF0YS1jb25zdGFudCIsZGVmYXVsdDouNSxtaW5pbXVtOjAsbWF4aW11bToxLGV4cHJlc3Npb246e2ludGVycG9sYXRlZDohMCxwYXJhbWV0ZXJzOlsiem9vbSJdfSx0cmFuc2l0aW9uOiEwfX0scGFpbnQ6WyJwYWludF9maWxsIiwicGFpbnRfbGluZSIsInBhaW50X2NpcmNsZSIsInBhaW50X2hlYXRtYXAiLCJwYWludF9maWxsLWV4dHJ1c2lvbiIsInBhaW50X3N5bWJvbCIsInBhaW50X3Jhc3RlciIsInBhaW50X2hpbGxzaGFkZSIsInBhaW50X2JhY2tncm91bmQiXSxwYWludF9maWxsOnsiZmlsbC1hbnRpYWxpYXMiOnt0eXBlOiJib29sZWFuIixkZWZhdWx0OiEwLGV4cHJlc3Npb246e2ludGVycG9sYXRlZDohMSxwYXJhbWV0ZXJzOlsiem9vbSJdfSwicHJvcGVydHktdHlwZSI6ImRhdGEtY29uc3RhbnQifSwiZmlsbC1vcGFjaXR5Ijp7dHlwZToibnVtYmVyIixkZWZhdWx0OjEsbWluaW11bTowLG1heGltdW06MSx0cmFuc2l0aW9uOiEwLGV4cHJlc3Npb246e2ludGVycG9sYXRlZDohMCxwYXJhbWV0ZXJzOlsiem9vbSIsImZlYXR1cmUiLCJmZWF0dXJlLXN0YXRlIl19LCJwcm9wZXJ0eS10eXBlIjoiZGF0YS1kcml2ZW4ifSwiZmlsbC1jb2xvciI6e3R5cGU6ImNvbG9yIixkZWZhdWx0OiIjMDAwMDAwIix0cmFuc2l0aW9uOiEwLHJlcXVpcmVzOlt7IiEiOiJmaWxsLXBhdHRlcm4ifV0sZXhwcmVzc2lvbjp7aW50ZXJwb2xhdGVkOiEwLHBhcmFtZXRlcnM6WyJ6b29tIiwiZmVhdHVyZSIsImZlYXR1cmUtc3RhdGUiXX0sInByb3BlcnR5LXR5cGUiOiJkYXRhLWRyaXZlbiJ9LCJmaWxsLW91dGxpbmUtY29sb3IiOnt0eXBlOiJjb2xvciIsdHJhbnNpdGlvbjohMCxyZXF1aXJlczpbeyIhIjoiZmlsbC1wYXR0ZXJuIn0seyJmaWxsLWFudGlhbGlhcyI6ITB9XSxleHByZXNzaW9uOntpbnRlcnBvbGF0ZWQ6ITAscGFyYW1ldGVyczpbInpvb20iLCJmZWF0dXJlIiwiZmVhdHVyZS1zdGF0ZSJdfSwicHJvcGVydHktdHlwZSI6ImRhdGEtZHJpdmVuIn0sImZpbGwtdHJhbnNsYXRlIjp7dHlwZToiYXJyYXkiLHZhbHVlOiJudW1iZXIiLGxlbmd0aDoyLGRlZmF1bHQ6WzAsMF0sdHJhbnNpdGlvbjohMCx1bml0czoicGl4ZWxzIixleHByZXNzaW9uOntpbnRlcnBvbGF0ZWQ6ITAscGFyYW1ldGVyczpbInpvb20iXX0sInByb3BlcnR5LXR5cGUiOiJkYXRhLWNvbnN0YW50In0sImZpbGwtdHJhbnNsYXRlLWFuY2hvciI6e3R5cGU6ImVudW0iLHZhbHVlczp7bWFwOnt9LHZpZXdwb3J0Ont9fSxkZWZhdWx0OiJtYXAiLHJlcXVpcmVzOlsiZmlsbC10cmFuc2xhdGUiXSxleHByZXNzaW9uOntpbnRlcnBvbGF0ZWQ6ITEscGFyYW1ldGVyczpbInpvb20iXX0sInByb3BlcnR5LXR5cGUiOiJkYXRhLWNvbnN0YW50In0sImZpbGwtcGF0dGVybiI6e3R5cGU6InJlc29sdmVkSW1hZ2UiLHRyYW5zaXRpb246ITAsZXhwcmVzc2lvbjp7aW50ZXJwb2xhdGVkOiExLHBhcmFtZXRlcnM6WyJ6b29tIiwiZmVhdHVyZSJdfSwicHJvcGVydHktdHlwZSI6ImNyb3NzLWZhZGVkLWRhdGEtZHJpdmVuIn19LCJwYWludF9maWxsLWV4dHJ1c2lvbiI6eyJmaWxsLWV4dHJ1c2lvbi1vcGFjaXR5Ijp7dHlwZToibnVtYmVyIixkZWZhdWx0OjEsbWluaW11bTowLG1heGltdW06MSx0cmFuc2l0aW9uOiEwLGV4cHJlc3Npb246e2ludGVycG9sYXRlZDohMCxwYXJhbWV0ZXJzOlsiem9vbSJdfSwicHJvcGVydHktdHlwZSI6ImRhdGEtY29uc3RhbnQifSwiZmlsbC1leHRydXNpb24tY29sb3IiOnt0eXBlOiJjb2xvciIsZGVmYXVsdDoiIzAwMDAwMCIsdHJhbnNpdGlvbjohMCxyZXF1aXJlczpbeyIhIjoiZmlsbC1leHRydXNpb24tcGF0dGVybiJ9XSxleHByZXNzaW9uOntpbnRlcnBvbGF0ZWQ6ITAscGFyYW1ldGVyczpbInpvb20iLCJmZWF0dXJlIiwiZmVhdHVyZS1zdGF0ZSJdfSwicHJvcGVydHktdHlwZSI6ImRhdGEtZHJpdmVuIn0sImZpbGwtZXh0cnVzaW9uLXRyYW5zbGF0ZSI6e3R5cGU6ImFycmF5Iix2YWx1ZToibnVtYmVyIixsZW5ndGg6MixkZWZhdWx0OlswLDBdLHRyYW5zaXRpb246ITAsdW5pdHM6InBpeGVscyIsZXhwcmVzc2lvbjp7aW50ZXJwb2xhdGVkOiEwLHBhcmFtZXRlcnM6WyJ6b29tIl19LCJwcm9wZXJ0eS10eXBlIjoiZGF0YS1jb25zdGFudCJ9LCJmaWxsLWV4dHJ1c2lvbi10cmFuc2xhdGUtYW5jaG9yIjp7dHlwZToiZW51bSIsdmFsdWVzOnttYXA6e30sdmlld3BvcnQ6e319LGRlZmF1bHQ6Im1hcCIscmVxdWlyZXM6WyJmaWxsLWV4dHJ1c2lvbi10cmFuc2xhdGUiXSxleHByZXNzaW9uOntpbnRlcnBvbGF0ZWQ6ITEscGFyYW1ldGVyczpbInpvb20iXX0sInByb3BlcnR5LXR5cGUiOiJkYXRhLWNvbnN0YW50In0sImZpbGwtZXh0cnVzaW9uLXBhdHRlcm4iOnt0eXBlOiJyZXNvbHZlZEltYWdlIix0cmFuc2l0aW9uOiEwLGV4cHJlc3Npb246e2ludGVycG9sYXRlZDohMSxwYXJhbWV0ZXJzOlsiem9vbSIsImZlYXR1cmUiXX0sInByb3BlcnR5LXR5cGUiOiJjcm9zcy1mYWRlZC1kYXRhLWRyaXZlbiJ9LCJmaWxsLWV4dHJ1c2lvbi1oZWlnaHQiOnt0eXBlOiJudW1iZXIiLGRlZmF1bHQ6MCxtaW5pbXVtOjAsdW5pdHM6Im1ldGVycyIsdHJhbnNpdGlvbjohMCxleHByZXNzaW9uOntpbnRlcnBvbGF0ZWQ6ITAscGFyYW1ldGVyczpbInpvb20iLCJmZWF0dXJlIiwiZmVhdHVyZS1zdGF0ZSJdfSwicHJvcGVydHktdHlwZSI6ImRhdGEtZHJpdmVuIn0sImZpbGwtZXh0cnVzaW9uLWJhc2UiOnt0eXBlOiJudW1iZXIiLGRlZmF1bHQ6MCxtaW5pbXVtOjAsdW5pdHM6Im1ldGVycyIsdHJhbnNpdGlvbjohMCxyZXF1aXJlczpbImZpbGwtZXh0cnVzaW9uLWhlaWdodCJdLGV4cHJlc3Npb246e2ludGVycG9sYXRlZDohMCxwYXJhbWV0ZXJzOlsiem9vbSIsImZlYXR1cmUiLCJmZWF0dXJlLXN0YXRlIl19LCJwcm9wZXJ0eS10eXBlIjoiZGF0YS1kcml2ZW4ifSwiZmlsbC1leHRydXNpb24tdmVydGljYWwtZ3JhZGllbnQiOnt0eXBlOiJib29sZWFuIixkZWZhdWx0OiEwLHRyYW5zaXRpb246ITEsZXhwcmVzc2lvbjp7aW50ZXJwb2xhdGVkOiExLHBhcmFtZXRlcnM6WyJ6b29tIl19LCJwcm9wZXJ0eS10eXBlIjoiZGF0YS1jb25zdGFudCJ9fSxwYWludF9saW5lOnsibGluZS1vcGFjaXR5Ijp7dHlwZToibnVtYmVyIixkZWZhdWx0OjEsbWluaW11bTowLG1heGltdW06MSx0cmFuc2l0aW9uOiEwLGV4cHJlc3Npb246e2ludGVycG9sYXRlZDohMCxwYXJhbWV0ZXJzOlsiem9vbSIsImZlYXR1cmUiLCJmZWF0dXJlLXN0YXRlIl19LCJwcm9wZXJ0eS10eXBlIjoiZGF0YS1kcml2ZW4ifSwibGluZS1jb2xvciI6e3R5cGU6ImNvbG9yIixkZWZhdWx0OiIjMDAwMDAwIix0cmFuc2l0aW9uOiEwLHJlcXVpcmVzOlt7IiEiOiJsaW5lLXBhdHRlcm4ifV0sZXhwcmVzc2lvbjp7aW50ZXJwb2xhdGVkOiEwLHBhcmFtZXRlcnM6WyJ6b29tIiwiZmVhdHVyZSIsImZlYXR1cmUtc3RhdGUiXX0sInByb3BlcnR5LXR5cGUiOiJkYXRhLWRyaXZlbiJ9LCJsaW5lLXRyYW5zbGF0ZSI6e3R5cGU6ImFycmF5Iix2YWx1ZToibnVtYmVyIixsZW5ndGg6MixkZWZhdWx0OlswLDBdLHRyYW5zaXRpb246ITAsdW5pdHM6InBpeGVscyIsZXhwcmVzc2lvbjp7aW50ZXJwb2xhdGVkOiEwLHBhcmFtZXRlcnM6WyJ6b29tIl19LCJwcm9wZXJ0eS10eXBlIjoiZGF0YS1jb25zdGFudCJ9LCJsaW5lLXRyYW5zbGF0ZS1hbmNob3IiOnt0eXBlOiJlbnVtIix2YWx1ZXM6e21hcDp7fSx2aWV3cG9ydDp7fX0sZGVmYXVsdDoibWFwIixyZXF1aXJlczpbImxpbmUtdHJhbnNsYXRlIl0sZXhwcmVzc2lvbjp7aW50ZXJwb2xhdGVkOiExLHBhcmFtZXRlcnM6WyJ6b29tIl19LCJwcm9wZXJ0eS10eXBlIjoiZGF0YS1jb25zdGFudCJ9LCJsaW5lLXdpZHRoIjp7dHlwZToibnVtYmVyIixkZWZhdWx0OjEsbWluaW11bTowLHRyYW5zaXRpb246ITAsdW5pdHM6InBpeGVscyIsZXhwcmVzc2lvbjp7aW50ZXJwb2xhdGVkOiEwLHBhcmFtZXRlcnM6WyJ6b29tIiwiZmVhdHVyZSIsImZlYXR1cmUtc3RhdGUiXX0sInByb3BlcnR5LXR5cGUiOiJkYXRhLWRyaXZlbiJ9LCJsaW5lLWdhcC13aWR0aCI6e3R5cGU6Im51bWJlciIsZGVmYXVsdDowLG1pbmltdW06MCx0cmFuc2l0aW9uOiEwLHVuaXRzOiJwaXhlbHMiLGV4cHJlc3Npb246e2ludGVycG9sYXRlZDohMCxwYXJhbWV0ZXJzOlsiem9vbSIsImZlYXR1cmUiLCJmZWF0dXJlLXN0YXRlIl19LCJwcm9wZXJ0eS10eXBlIjoiZGF0YS1kcml2ZW4ifSwibGluZS1vZmZzZXQiOnt0eXBlOiJudW1iZXIiLGRlZmF1bHQ6MCx0cmFuc2l0aW9uOiEwLHVuaXRzOiJwaXhlbHMiLGV4cHJlc3Npb246e2ludGVycG9sYXRlZDohMCxwYXJhbWV0ZXJzOlsiem9vbSIsImZlYXR1cmUiLCJmZWF0dXJlLXN0YXRlIl19LCJwcm9wZXJ0eS10eXBlIjoiZGF0YS1kcml2ZW4ifSwibGluZS1ibHVyIjp7dHlwZToibnVtYmVyIixkZWZhdWx0OjAsbWluaW11bTowLHRyYW5zaXRpb246ITAsdW5pdHM6InBpeGVscyIsZXhwcmVzc2lvbjp7aW50ZXJwb2xhdGVkOiEwLHBhcmFtZXRlcnM6WyJ6b29tIiwiZmVhdHVyZSIsImZlYXR1cmUtc3RhdGUiXX0sInByb3BlcnR5LXR5cGUiOiJkYXRhLWRyaXZlbiJ9LCJsaW5lLWRhc2hhcnJheSI6e3R5cGU6ImFycmF5Iix2YWx1ZToibnVtYmVyIixtaW5pbXVtOjAsdHJhbnNpdGlvbjohMCx1bml0czoibGluZSB3aWR0aHMiLHJlcXVpcmVzOlt7IiEiOiJsaW5lLXBhdHRlcm4ifV0sZXhwcmVzc2lvbjp7aW50ZXJwb2xhdGVkOiExLHBhcmFtZXRlcnM6WyJ6b29tIl19LCJwcm9wZXJ0eS10eXBlIjoiY3Jvc3MtZmFkZWQifSwibGluZS1wYXR0ZXJuIjp7dHlwZToicmVzb2x2ZWRJbWFnZSIsdHJhbnNpdGlvbjohMCxleHByZXNzaW9uOntpbnRlcnBvbGF0ZWQ6ITEscGFyYW1ldGVyczpbInpvb20iLCJmZWF0dXJlIl19LCJwcm9wZXJ0eS10eXBlIjoiY3Jvc3MtZmFkZWQtZGF0YS1kcml2ZW4ifSwibGluZS1ncmFkaWVudCI6e3R5cGU6ImNvbG9yIix0cmFuc2l0aW9uOiExLHJlcXVpcmVzOlt7IiEiOiJsaW5lLWRhc2hhcnJheSJ9LHsiISI6ImxpbmUtcGF0dGVybiJ9LHtzb3VyY2U6Imdlb2pzb24iLGhhczp7bGluZU1ldHJpY3M6ITB9fV0sZXhwcmVzc2lvbjp7aW50ZXJwb2xhdGVkOiEwLHBhcmFtZXRlcnM6WyJsaW5lLXByb2dyZXNzIl19LCJwcm9wZXJ0eS10eXBlIjoiY29sb3ItcmFtcCJ9fSxwYWludF9jaXJjbGU6eyJjaXJjbGUtcmFkaXVzIjp7dHlwZToibnVtYmVyIixkZWZhdWx0OjUsbWluaW11bTowLHRyYW5zaXRpb246ITAsdW5pdHM6InBpeGVscyIsZXhwcmVzc2lvbjp7aW50ZXJwb2xhdGVkOiEwLHBhcmFtZXRlcnM6WyJ6b29tIiwiZmVhdHVyZSIsImZlYXR1cmUtc3RhdGUiXX0sInByb3BlcnR5LXR5cGUiOiJkYXRhLWRyaXZlbiJ9LCJjaXJjbGUtY29sb3IiOnt0eXBlOiJjb2xvciIsZGVmYXVsdDoiIzAwMDAwMCIsdHJhbnNpdGlvbjohMCxleHByZXNzaW9uOntpbnRlcnBvbGF0ZWQ6ITAscGFyYW1ldGVyczpbInpvb20iLCJmZWF0dXJlIiwiZmVhdHVyZS1zdGF0ZSJdfSwicHJvcGVydHktdHlwZSI6ImRhdGEtZHJpdmVuIn0sImNpcmNsZS1ibHVyIjp7dHlwZToibnVtYmVyIixkZWZhdWx0OjAsdHJhbnNpdGlvbjohMCxleHByZXNzaW9uOntpbnRlcnBvbGF0ZWQ6ITAscGFyYW1ldGVyczpbInpvb20iLCJmZWF0dXJlIiwiZmVhdHVyZS1zdGF0ZSJdfSwicHJvcGVydHktdHlwZSI6ImRhdGEtZHJpdmVuIn0sImNpcmNsZS1vcGFjaXR5Ijp7dHlwZToibnVtYmVyIixkZWZhdWx0OjEsbWluaW11bTowLG1heGltdW06MSx0cmFuc2l0aW9uOiEwLGV4cHJlc3Npb246e2ludGVycG9sYXRlZDohMCxwYXJhbWV0ZXJzOlsiem9vbSIsImZlYXR1cmUiLCJmZWF0dXJlLXN0YXRlIl19LCJwcm9wZXJ0eS10eXBlIjoiZGF0YS1kcml2ZW4ifSwiY2lyY2xlLXRyYW5zbGF0ZSI6e3R5cGU6ImFycmF5Iix2YWx1ZToibnVtYmVyIixsZW5ndGg6MixkZWZhdWx0OlswLDBdLHRyYW5zaXRpb246ITAsdW5pdHM6InBpeGVscyIsZXhwcmVzc2lvbjp7aW50ZXJwb2xhdGVkOiEwLHBhcmFtZXRlcnM6WyJ6b29tIl19LCJwcm9wZXJ0eS10eXBlIjoiZGF0YS1jb25zdGFudCJ9LCJjaXJjbGUtdHJhbnNsYXRlLWFuY2hvciI6e3R5cGU6ImVudW0iLHZhbHVlczp7bWFwOnt9LHZpZXdwb3J0Ont9fSxkZWZhdWx0OiJtYXAiLHJlcXVpcmVzOlsiY2lyY2xlLXRyYW5zbGF0ZSJdLGV4cHJlc3Npb246e2ludGVycG9sYXRlZDohMSxwYXJhbWV0ZXJzOlsiem9vbSJdfSwicHJvcGVydHktdHlwZSI6ImRhdGEtY29uc3RhbnQifSwiY2lyY2xlLXBpdGNoLXNjYWxlIjp7dHlwZToiZW51bSIsdmFsdWVzOnttYXA6e30sdmlld3BvcnQ6e319LGRlZmF1bHQ6Im1hcCIsZXhwcmVzc2lvbjp7aW50ZXJwb2xhdGVkOiExLHBhcmFtZXRlcnM6WyJ6b29tIl19LCJwcm9wZXJ0eS10eXBlIjoiZGF0YS1jb25zdGFudCJ9LCJjaXJjbGUtcGl0Y2gtYWxpZ25tZW50Ijp7dHlwZToiZW51bSIsdmFsdWVzOnttYXA6e30sdmlld3BvcnQ6e319LGRlZmF1bHQ6InZpZXdwb3J0IixleHByZXNzaW9uOntpbnRlcnBvbGF0ZWQ6ITEscGFyYW1ldGVyczpbInpvb20iXX0sInByb3BlcnR5LXR5cGUiOiJkYXRhLWNvbnN0YW50In0sImNpcmNsZS1zdHJva2Utd2lkdGgiOnt0eXBlOiJudW1iZXIiLGRlZmF1bHQ6MCxtaW5pbXVtOjAsdHJhbnNpdGlvbjohMCx1bml0czoicGl4ZWxzIixleHByZXNzaW9uOntpbnRlcnBvbGF0ZWQ6ITAscGFyYW1ldGVyczpbInpvb20iLCJmZWF0dXJlIiwiZmVhdHVyZS1zdGF0ZSJdfSwicHJvcGVydHktdHlwZSI6ImRhdGEtZHJpdmVuIn0sImNpcmNsZS1zdHJva2UtY29sb3IiOnt0eXBlOiJjb2xvciIsZGVmYXVsdDoiIzAwMDAwMCIsdHJhbnNpdGlvbjohMCxleHByZXNzaW9uOntpbnRlcnBvbGF0ZWQ6ITAscGFyYW1ldGVyczpbInpvb20iLCJmZWF0dXJlIiwiZmVhdHVyZS1zdGF0ZSJdfSwicHJvcGVydHktdHlwZSI6ImRhdGEtZHJpdmVuIn0sImNpcmNsZS1zdHJva2Utb3BhY2l0eSI6e3R5cGU6Im51bWJlciIsZGVmYXVsdDoxLG1pbmltdW06MCxtYXhpbXVtOjEsdHJhbnNpdGlvbjohMCxleHByZXNzaW9uOntpbnRlcnBvbGF0ZWQ6ITAscGFyYW1ldGVyczpbInpvb20iLCJmZWF0dXJlIiwiZmVhdHVyZS1zdGF0ZSJdfSwicHJvcGVydHktdHlwZSI6ImRhdGEtZHJpdmVuIn19LHBhaW50X2hlYXRtYXA6eyJoZWF0bWFwLXJhZGl1cyI6e3R5cGU6Im51bWJlciIsZGVmYXVsdDozMCxtaW5pbXVtOjEsdHJhbnNpdGlvbjohMCx1bml0czoicGl4ZWxzIixleHByZXNzaW9uOntpbnRlcnBvbGF0ZWQ6ITAscGFyYW1ldGVyczpbInpvb20iLCJmZWF0dXJlIiwiZmVhdHVyZS1zdGF0ZSJdfSwicHJvcGVydHktdHlwZSI6ImRhdGEtZHJpdmVuIn0sImhlYXRtYXAtd2VpZ2h0Ijp7dHlwZToibnVtYmVyIixkZWZhdWx0OjEsbWluaW11bTowLHRyYW5zaXRpb246ITEsZXhwcmVzc2lvbjp7aW50ZXJwb2xhdGVkOiEwLHBhcmFtZXRlcnM6WyJ6b29tIiwiZmVhdHVyZSIsImZlYXR1cmUtc3RhdGUiXX0sInByb3BlcnR5LXR5cGUiOiJkYXRhLWRyaXZlbiJ9LCJoZWF0bWFwLWludGVuc2l0eSI6e3R5cGU6Im51bWJlciIsZGVmYXVsdDoxLG1pbmltdW06MCx0cmFuc2l0aW9uOiEwLGV4cHJlc3Npb246e2ludGVycG9sYXRlZDohMCxwYXJhbWV0ZXJzOlsiem9vbSJdfSwicHJvcGVydHktdHlwZSI6ImRhdGEtY29uc3RhbnQifSwiaGVhdG1hcC1jb2xvciI6e3R5cGU6ImNvbG9yIixkZWZhdWx0OlsiaW50ZXJwb2xhdGUiLFsibGluZWFyIl0sWyJoZWF0bWFwLWRlbnNpdHkiXSwwLCJyZ2JhKDAsIDAsIDI1NSwgMCkiLC4xLCJyb3lhbGJsdWUiLC4zLCJjeWFuIiwuNSwibGltZSIsLjcsInllbGxvdyIsMSwicmVkIl0sdHJhbnNpdGlvbjohMSxleHByZXNzaW9uOntpbnRlcnBvbGF0ZWQ6ITAscGFyYW1ldGVyczpbImhlYXRtYXAtZGVuc2l0eSJdfSwicHJvcGVydHktdHlwZSI6ImNvbG9yLXJhbXAifSwiaGVhdG1hcC1vcGFjaXR5Ijp7dHlwZToibnVtYmVyIixkZWZhdWx0OjEsbWluaW11bTowLG1heGltdW06MSx0cmFuc2l0aW9uOiEwLGV4cHJlc3Npb246e2ludGVycG9sYXRlZDohMCxwYXJhbWV0ZXJzOlsiem9vbSJdfSwicHJvcGVydHktdHlwZSI6ImRhdGEtY29uc3RhbnQifX0scGFpbnRfc3ltYm9sOnsiaWNvbi1vcGFjaXR5Ijp7dHlwZToibnVtYmVyIixkZWZhdWx0OjEsbWluaW11bTowLG1heGltdW06MSx0cmFuc2l0aW9uOiEwLHJlcXVpcmVzOlsiaWNvbi1pbWFnZSJdLGV4cHJlc3Npb246e2ludGVycG9sYXRlZDohMCxwYXJhbWV0ZXJzOlsiem9vbSIsImZlYXR1cmUiLCJmZWF0dXJlLXN0YXRlIl19LCJwcm9wZXJ0eS10eXBlIjoiZGF0YS1kcml2ZW4ifSwiaWNvbi1jb2xvciI6e3R5cGU6ImNvbG9yIixkZWZhdWx0OiIjMDAwMDAwIix0cmFuc2l0aW9uOiEwLHJlcXVpcmVzOlsiaWNvbi1pbWFnZSJdLGV4cHJlc3Npb246e2ludGVycG9sYXRlZDohMCxwYXJhbWV0ZXJzOlsiem9vbSIsImZlYXR1cmUiLCJmZWF0dXJlLXN0YXRlIl19LCJwcm9wZXJ0eS10eXBlIjoiZGF0YS1kcml2ZW4ifSwiaWNvbi1oYWxvLWNvbG9yIjp7dHlwZToiY29sb3IiLGRlZmF1bHQ6InJnYmEoMCwgMCwgMCwgMCkiLHRyYW5zaXRpb246ITAscmVxdWlyZXM6WyJpY29uLWltYWdlIl0sZXhwcmVzc2lvbjp7aW50ZXJwb2xhdGVkOiEwLHBhcmFtZXRlcnM6WyJ6b29tIiwiZmVhdHVyZSIsImZlYXR1cmUtc3RhdGUiXX0sInByb3BlcnR5LXR5cGUiOiJkYXRhLWRyaXZlbiJ9LCJpY29uLWhhbG8td2lkdGgiOnt0eXBlOiJudW1iZXIiLGRlZmF1bHQ6MCxtaW5pbXVtOjAsdHJhbnNpdGlvbjohMCx1bml0czoicGl4ZWxzIixyZXF1aXJlczpbImljb24taW1hZ2UiXSxleHByZXNzaW9uOntpbnRlcnBvbGF0ZWQ6ITAscGFyYW1ldGVyczpbInpvb20iLCJmZWF0dXJlIiwiZmVhdHVyZS1zdGF0ZSJdfSwicHJvcGVydHktdHlwZSI6ImRhdGEtZHJpdmVuIn0sImljb24taGFsby1ibHVyIjp7dHlwZToibnVtYmVyIixkZWZhdWx0OjAsbWluaW11bTowLHRyYW5zaXRpb246ITAsdW5pdHM6InBpeGVscyIscmVxdWlyZXM6WyJpY29uLWltYWdlIl0sZXhwcmVzc2lvbjp7aW50ZXJwb2xhdGVkOiEwLHBhcmFtZXRlcnM6WyJ6b29tIiwiZmVhdHVyZSIsImZlYXR1cmUtc3RhdGUiXX0sInByb3BlcnR5LXR5cGUiOiJkYXRhLWRyaXZlbiJ9LCJpY29uLXRyYW5zbGF0ZSI6e3R5cGU6ImFycmF5Iix2YWx1ZToibnVtYmVyIixsZW5ndGg6MixkZWZhdWx0OlswLDBdLHRyYW5zaXRpb246ITAsdW5pdHM6InBpeGVscyIscmVxdWlyZXM6WyJpY29uLWltYWdlIl0sZXhwcmVzc2lvbjp7aW50ZXJwb2xhdGVkOiEwLHBhcmFtZXRlcnM6WyJ6b29tIl19LCJwcm9wZXJ0eS10eXBlIjoiZGF0YS1jb25zdGFudCJ9LCJpY29uLXRyYW5zbGF0ZS1hbmNob3IiOnt0eXBlOiJlbnVtIix2YWx1ZXM6e21hcDp7fSx2aWV3cG9ydDp7fX0sZGVmYXVsdDoibWFwIixyZXF1aXJlczpbImljb24taW1hZ2UiLCJpY29uLXRyYW5zbGF0ZSJdLGV4cHJlc3Npb246e2ludGVycG9sYXRlZDohMSxwYXJhbWV0ZXJzOlsiem9vbSJdfSwicHJvcGVydHktdHlwZSI6ImRhdGEtY29uc3RhbnQifSwidGV4dC1vcGFjaXR5Ijp7dHlwZToibnVtYmVyIixkZWZhdWx0OjEsbWluaW11bTowLG1heGltdW06MSx0cmFuc2l0aW9uOiEwLHJlcXVpcmVzOlsidGV4dC1maWVsZCJdLGV4cHJlc3Npb246e2ludGVycG9sYXRlZDohMCxwYXJhbWV0ZXJzOlsiem9vbSIsImZlYXR1cmUiLCJmZWF0dXJlLXN0YXRlIl19LCJwcm9wZXJ0eS10eXBlIjoiZGF0YS1kcml2ZW4ifSwidGV4dC1jb2xvciI6e3R5cGU6ImNvbG9yIixkZWZhdWx0OiIjMDAwMDAwIix0cmFuc2l0aW9uOiEwLG92ZXJyaWRhYmxlOiEwLHJlcXVpcmVzOlsidGV4dC1maWVsZCJdLGV4cHJlc3Npb246e2ludGVycG9sYXRlZDohMCxwYXJhbWV0ZXJzOlsiem9vbSIsImZlYXR1cmUiLCJmZWF0dXJlLXN0YXRlIl19LCJwcm9wZXJ0eS10eXBlIjoiZGF0YS1kcml2ZW4ifSwidGV4dC1oYWxvLWNvbG9yIjp7dHlwZToiY29sb3IiLGRlZmF1bHQ6InJnYmEoMCwgMCwgMCwgMCkiLHRyYW5zaXRpb246ITAscmVxdWlyZXM6WyJ0ZXh0LWZpZWxkIl0sZXhwcmVzc2lvbjp7aW50ZXJwb2xhdGVkOiEwLHBhcmFtZXRlcnM6WyJ6b29tIiwiZmVhdHVyZSIsImZlYXR1cmUtc3RhdGUiXX0sInByb3BlcnR5LXR5cGUiOiJkYXRhLWRyaXZlbiJ9LCJ0ZXh0LWhhbG8td2lkdGgiOnt0eXBlOiJudW1iZXIiLGRlZmF1bHQ6MCxtaW5pbXVtOjAsdHJhbnNpdGlvbjohMCx1bml0czoicGl4ZWxzIixyZXF1aXJlczpbInRleHQtZmllbGQiXSxleHByZXNzaW9uOntpbnRlcnBvbGF0ZWQ6ITAscGFyYW1ldGVyczpbInpvb20iLCJmZWF0dXJlIiwiZmVhdHVyZS1zdGF0ZSJdfSwicHJvcGVydHktdHlwZSI6ImRhdGEtZHJpdmVuIn0sInRleHQtaGFsby1ibHVyIjp7dHlwZToibnVtYmVyIixkZWZhdWx0OjAsbWluaW11bTowLHRyYW5zaXRpb246ITAsdW5pdHM6InBpeGVscyIscmVxdWlyZXM6WyJ0ZXh0LWZpZWxkIl0sZXhwcmVzc2lvbjp7aW50ZXJwb2xhdGVkOiEwLHBhcmFtZXRlcnM6WyJ6b29tIiwiZmVhdHVyZSIsImZlYXR1cmUtc3RhdGUiXX0sInByb3BlcnR5LXR5cGUiOiJkYXRhLWRyaXZlbiJ9LCJ0ZXh0LXRyYW5zbGF0ZSI6e3R5cGU6ImFycmF5Iix2YWx1ZToibnVtYmVyIixsZW5ndGg6MixkZWZhdWx0OlswLDBdLHRyYW5zaXRpb246ITAsdW5pdHM6InBpeGVscyIscmVxdWlyZXM6WyJ0ZXh0LWZpZWxkIl0sZXhwcmVzc2lvbjp7aW50ZXJwb2xhdGVkOiEwLHBhcmFtZXRlcnM6WyJ6b29tIl19LCJwcm9wZXJ0eS10eXBlIjoiZGF0YS1jb25zdGFudCJ9LCJ0ZXh0LXRyYW5zbGF0ZS1hbmNob3IiOnt0eXBlOiJlbnVtIix2YWx1ZXM6e21hcDp7fSx2aWV3cG9ydDp7fX0sZGVmYXVsdDoibWFwIixyZXF1aXJlczpbInRleHQtZmllbGQiLCJ0ZXh0LXRyYW5zbGF0ZSJdLGV4cHJlc3Npb246e2ludGVycG9sYXRlZDohMSxwYXJhbWV0ZXJzOlsiem9vbSJdfSwicHJvcGVydHktdHlwZSI6ImRhdGEtY29uc3RhbnQifX0scGFpbnRfcmFzdGVyOnsicmFzdGVyLW9wYWNpdHkiOnt0eXBlOiJudW1iZXIiLGRlZmF1bHQ6MSxtaW5pbXVtOjAsbWF4aW11bToxLHRyYW5zaXRpb246ITAsZXhwcmVzc2lvbjp7aW50ZXJwb2xhdGVkOiEwLHBhcmFtZXRlcnM6WyJ6b29tIl19LCJwcm9wZXJ0eS10eXBlIjoiZGF0YS1jb25zdGFudCJ9LCJyYXN0ZXItaHVlLXJvdGF0ZSI6e3R5cGU6Im51bWJlciIsZGVmYXVsdDowLHBlcmlvZDozNjAsdHJhbnNpdGlvbjohMCx1bml0czoiZGVncmVlcyIsZXhwcmVzc2lvbjp7aW50ZXJwb2xhdGVkOiEwLHBhcmFtZXRlcnM6WyJ6b29tIl19LCJwcm9wZXJ0eS10eXBlIjoiZGF0YS1jb25zdGFudCJ9LCJyYXN0ZXItYnJpZ2h0bmVzcy1taW4iOnt0eXBlOiJudW1iZXIiLGRlZmF1bHQ6MCxtaW5pbXVtOjAsbWF4aW11bToxLHRyYW5zaXRpb246ITAsZXhwcmVzc2lvbjp7aW50ZXJwb2xhdGVkOiEwLHBhcmFtZXRlcnM6WyJ6b29tIl19LCJwcm9wZXJ0eS10eXBlIjoiZGF0YS1jb25zdGFudCJ9LCJyYXN0ZXItYnJpZ2h0bmVzcy1tYXgiOnt0eXBlOiJudW1iZXIiLGRlZmF1bHQ6MSxtaW5pbXVtOjAsbWF4aW11bToxLHRyYW5zaXRpb246ITAsZXhwcmVzc2lvbjp7aW50ZXJwb2xhdGVkOiEwLHBhcmFtZXRlcnM6WyJ6b29tIl19LCJwcm9wZXJ0eS10eXBlIjoiZGF0YS1jb25zdGFudCJ9LCJyYXN0ZXItc2F0dXJhdGlvbiI6e3R5cGU6Im51bWJlciIsZGVmYXVsdDowLG1pbmltdW06LTEsbWF4aW11bToxLHRyYW5zaXRpb246ITAsZXhwcmVzc2lvbjp7aW50ZXJwb2xhdGVkOiEwLHBhcmFtZXRlcnM6WyJ6b29tIl19LCJwcm9wZXJ0eS10eXBlIjoiZGF0YS1jb25zdGFudCJ9LCJyYXN0ZXItY29udHJhc3QiOnt0eXBlOiJudW1iZXIiLGRlZmF1bHQ6MCxtaW5pbXVtOi0xLG1heGltdW06MSx0cmFuc2l0aW9uOiEwLGV4cHJlc3Npb246e2ludGVycG9sYXRlZDohMCxwYXJhbWV0ZXJzOlsiem9vbSJdfSwicHJvcGVydHktdHlwZSI6ImRhdGEtY29uc3RhbnQifSwicmFzdGVyLXJlc2FtcGxpbmciOnt0eXBlOiJlbnVtIix2YWx1ZXM6e2xpbmVhcjp7fSxuZWFyZXN0Ont9fSxkZWZhdWx0OiJsaW5lYXIiLGV4cHJlc3Npb246e2ludGVycG9sYXRlZDohMSxwYXJhbWV0ZXJzOlsiem9vbSJdfSwicHJvcGVydHktdHlwZSI6ImRhdGEtY29uc3RhbnQifSwicmFzdGVyLWZhZGUtZHVyYXRpb24iOnt0eXBlOiJudW1iZXIiLGRlZmF1bHQ6MzAwLG1pbmltdW06MCx0cmFuc2l0aW9uOiExLHVuaXRzOiJtaWxsaXNlY29uZHMiLGV4cHJlc3Npb246e2ludGVycG9sYXRlZDohMCxwYXJhbWV0ZXJzOlsiem9vbSJdfSwicHJvcGVydHktdHlwZSI6ImRhdGEtY29uc3RhbnQifX0scGFpbnRfaGlsbHNoYWRlOnsiaGlsbHNoYWRlLWlsbHVtaW5hdGlvbi1kaXJlY3Rpb24iOnt0eXBlOiJudW1iZXIiLGRlZmF1bHQ6MzM1LG1pbmltdW06MCxtYXhpbXVtOjM1OSx0cmFuc2l0aW9uOiExLGV4cHJlc3Npb246e2ludGVycG9sYXRlZDohMCxwYXJhbWV0ZXJzOlsiem9vbSJdfSwicHJvcGVydHktdHlwZSI6ImRhdGEtY29uc3RhbnQifSwiaGlsbHNoYWRlLWlsbHVtaW5hdGlvbi1hbmNob3IiOnt0eXBlOiJlbnVtIix2YWx1ZXM6e21hcDp7fSx2aWV3cG9ydDp7fX0sZGVmYXVsdDoidmlld3BvcnQiLGV4cHJlc3Npb246e2ludGVycG9sYXRlZDohMSxwYXJhbWV0ZXJzOlsiem9vbSJdfSwicHJvcGVydHktdHlwZSI6ImRhdGEtY29uc3RhbnQifSwiaGlsbHNoYWRlLWV4YWdnZXJhdGlvbiI6e3R5cGU6Im51bWJlciIsZGVmYXVsdDouNSxtaW5pbXVtOjAsbWF4aW11bToxLHRyYW5zaXRpb246ITAsZXhwcmVzc2lvbjp7aW50ZXJwb2xhdGVkOiEwLHBhcmFtZXRlcnM6WyJ6b29tIl19LCJwcm9wZXJ0eS10eXBlIjoiZGF0YS1jb25zdGFudCJ9LCJoaWxsc2hhZGUtc2hhZG93LWNvbG9yIjp7dHlwZToiY29sb3IiLGRlZmF1bHQ6IiMwMDAwMDAiLHRyYW5zaXRpb246ITAsZXhwcmVzc2lvbjp7aW50ZXJwb2xhdGVkOiEwLHBhcmFtZXRlcnM6WyJ6b29tIl19LCJwcm9wZXJ0eS10eXBlIjoiZGF0YS1jb25zdGFudCJ9LCJoaWxsc2hhZGUtaGlnaGxpZ2h0LWNvbG9yIjp7dHlwZToiY29sb3IiLGRlZmF1bHQ6IiNGRkZGRkYiLHRyYW5zaXRpb246ITAsZXhwcmVzc2lvbjp7aW50ZXJwb2xhdGVkOiEwLHBhcmFtZXRlcnM6WyJ6b29tIl19LCJwcm9wZXJ0eS10eXBlIjoiZGF0YS1jb25zdGFudCJ9LCJoaWxsc2hhZGUtYWNjZW50LWNvbG9yIjp7dHlwZToiY29sb3IiLGRlZmF1bHQ6IiMwMDAwMDAiLHRyYW5zaXRpb246ITAsZXhwcmVzc2lvbjp7aW50ZXJwb2xhdGVkOiEwLHBhcmFtZXRlcnM6WyJ6b29tIl19LCJwcm9wZXJ0eS10eXBlIjoiZGF0YS1jb25zdGFudCJ9fSxwYWludF9iYWNrZ3JvdW5kOnsiYmFja2dyb3VuZC1jb2xvciI6e3R5cGU6ImNvbG9yIixkZWZhdWx0OiIjMDAwMDAwIix0cmFuc2l0aW9uOiEwLHJlcXVpcmVzOlt7IiEiOiJiYWNrZ3JvdW5kLXBhdHRlcm4ifV0sZXhwcmVzc2lvbjp7aW50ZXJwb2xhdGVkOiEwLHBhcmFtZXRlcnM6WyJ6b29tIl19LCJwcm9wZXJ0eS10eXBlIjoiZGF0YS1jb25zdGFudCJ9LCJiYWNrZ3JvdW5kLXBhdHRlcm4iOnt0eXBlOiJyZXNvbHZlZEltYWdlIix0cmFuc2l0aW9uOiEwLGV4cHJlc3Npb246e2ludGVycG9sYXRlZDohMSxwYXJhbWV0ZXJzOlsiem9vbSJdfSwicHJvcGVydHktdHlwZSI6ImNyb3NzLWZhZGVkIn0sImJhY2tncm91bmQtb3BhY2l0eSI6e3R5cGU6Im51bWJlciIsZGVmYXVsdDoxLG1pbmltdW06MCxtYXhpbXVtOjEsdHJhbnNpdGlvbjohMCxleHByZXNzaW9uOntpbnRlcnBvbGF0ZWQ6ITAscGFyYW1ldGVyczpbInpvb20iXX0sInByb3BlcnR5LXR5cGUiOiJkYXRhLWNvbnN0YW50In19LHRyYW5zaXRpb246e2R1cmF0aW9uOnt0eXBlOiJudW1iZXIiLGRlZmF1bHQ6MzAwLG1pbmltdW06MCx1bml0czoibWlsbGlzZWNvbmRzIn0sZGVsYXk6e3R5cGU6Im51bWJlciIsZGVmYXVsdDowLG1pbmltdW06MCx1bml0czoibWlsbGlzZWNvbmRzIn19LCJwcm9wZXJ0eS10eXBlIjp7ImRhdGEtZHJpdmVuIjp7dHlwZToicHJvcGVydHktdHlwZSJ9LCJjcm9zcy1mYWRlZCI6e3R5cGU6InByb3BlcnR5LXR5cGUifSwiY3Jvc3MtZmFkZWQtZGF0YS1kcml2ZW4iOnt0eXBlOiJwcm9wZXJ0eS10eXBlIn0sImNvbG9yLXJhbXAiOnt0eXBlOiJwcm9wZXJ0eS10eXBlIn0sImRhdGEtY29uc3RhbnQiOnt0eXBlOiJwcm9wZXJ0eS10eXBlIn0sY29uc3RhbnQ6e3R5cGU6InByb3BlcnR5LXR5cGUifX0scHJvbW90ZUlkOnsiKiI6e3R5cGU6InN0cmluZyJ9fX0senQ9ZnVuY3Rpb24odCxlLHIsbil7dGhpcy5tZXNzYWdlPSh0P3QrIjogIjoiIikrcixuJiYodGhpcy5pZGVudGlmaWVyPW4pLG51bGwhPWUmJmUuX19saW5lX18mJih0aGlzLmxpbmU9ZS5fX2xpbmVfXyk7fTtmdW5jdGlvbiBDdCh0KXt2YXIgZT10LnZhbHVlO3JldHVybiBlP1tuZXcgenQodC5rZXksZSwiY29uc3RhbnRzIGhhdmUgYmVlbiBkZXByZWNhdGVkIGFzIG9mIHY4IildOltdfWZ1bmN0aW9uIE10KHQpe2Zvcih2YXIgZT1bXSxyPWFyZ3VtZW50cy5sZW5ndGgtMTtyLS0gPjA7KWVbcl09YXJndW1lbnRzW3IrMV07Zm9yKHZhciBuPTAsaT1lO248aS5sZW5ndGg7bis9MSl7dmFyIGE9aVtuXTtmb3IodmFyIG8gaW4gYSl0W29dPWFbb107fXJldHVybiB0fWZ1bmN0aW9uIEV0KHQpe3JldHVybiB0IGluc3RhbmNlb2YgTnVtYmVyfHx0IGluc3RhbmNlb2YgU3RyaW5nfHx0IGluc3RhbmNlb2YgQm9vbGVhbj90LnZhbHVlT2YoKTp0fWZ1bmN0aW9uIFR0KHQpe2lmKEFycmF5LmlzQXJyYXkodCkpcmV0dXJuIHQubWFwKFR0KTtpZih0IGluc3RhbmNlb2YgT2JqZWN0JiYhKHQgaW5zdGFuY2VvZiBOdW1iZXJ8fHQgaW5zdGFuY2VvZiBTdHJpbmd8fHQgaW5zdGFuY2VvZiBCb29sZWFuKSl7dmFyIGU9e307Zm9yKHZhciByIGluIHQpZVtyXT1UdCh0W3JdKTtyZXR1cm4gZX1yZXR1cm4gRXQodCl9dmFyIFB0PWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxyKXt0LmNhbGwodGhpcyxyKSx0aGlzLm1lc3NhZ2U9cix0aGlzLmtleT1lO31yZXR1cm4gdCYmKGUuX19wcm90b19fPXQpLChlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlKSkuY29uc3RydWN0b3I9ZSxlfShFcnJvciksQnQ9ZnVuY3Rpb24odCxlKXt2b2lkIDA9PT1lJiYoZT1bXSksdGhpcy5wYXJlbnQ9dCx0aGlzLmJpbmRpbmdzPXt9O2Zvcih2YXIgcj0wLG49ZTtyPG4ubGVuZ3RoO3IrPTEpe3ZhciBpPW5bcl07dGhpcy5iaW5kaW5nc1tpWzBdXT1pWzFdO319O0J0LnByb3RvdHlwZS5jb25jYXQ9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBCdCh0aGlzLHQpfSxCdC5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKHQpe2lmKHRoaXMuYmluZGluZ3NbdF0pcmV0dXJuIHRoaXMuYmluZGluZ3NbdF07aWYodGhpcy5wYXJlbnQpcmV0dXJuIHRoaXMucGFyZW50LmdldCh0KTt0aHJvdyBuZXcgRXJyb3IodCsiIG5vdCBmb3VuZCBpbiBzY29wZS4iKX0sQnQucHJvdG90eXBlLmhhcz1mdW5jdGlvbih0KXtyZXR1cm4gISF0aGlzLmJpbmRpbmdzW3RdfHwhIXRoaXMucGFyZW50JiZ0aGlzLnBhcmVudC5oYXModCl9O3ZhciBWdD17a2luZDoibnVsbCJ9LEZ0PXtraW5kOiJudW1iZXIifSxEdD17a2luZDoic3RyaW5nIn0sTHQ9e2tpbmQ6ImJvb2xlYW4ifSxSdD17a2luZDoiY29sb3IifSxPdD17a2luZDoib2JqZWN0In0sVXQ9e2tpbmQ6InZhbHVlIn0sanQ9e2tpbmQ6ImNvbGxhdG9yIn0scXQ9e2tpbmQ6ImZvcm1hdHRlZCJ9LE50PXtraW5kOiJyZXNvbHZlZEltYWdlIn07ZnVuY3Rpb24gS3QodCxlKXtyZXR1cm4ge2tpbmQ6ImFycmF5IixpdGVtVHlwZTp0LE46ZX19ZnVuY3Rpb24gR3QodCl7aWYoImFycmF5Ij09PXQua2luZCl7dmFyIGU9R3QodC5pdGVtVHlwZSk7cmV0dXJuICJudW1iZXIiPT10eXBlb2YgdC5OPyJhcnJheTwiK2UrIiwgIit0Lk4rIj4iOiJ2YWx1ZSI9PT10Lml0ZW1UeXBlLmtpbmQ/ImFycmF5IjoiYXJyYXk8IitlKyI+In1yZXR1cm4gdC5raW5kfXZhciBadD1bVnQsRnQsRHQsTHQsUnQscXQsT3QsS3QoVXQpLE50XTtmdW5jdGlvbiBYdCh0LGUpe2lmKCJlcnJvciI9PT1lLmtpbmQpcmV0dXJuIG51bGw7aWYoImFycmF5Ij09PXQua2luZCl7aWYoImFycmF5Ij09PWUua2luZCYmKDA9PT1lLk4mJiJ2YWx1ZSI9PT1lLml0ZW1UeXBlLmtpbmR8fCFYdCh0Lml0ZW1UeXBlLGUuaXRlbVR5cGUpKSYmKCJudW1iZXIiIT10eXBlb2YgdC5OfHx0Lk49PT1lLk4pKXJldHVybiBudWxsfWVsc2Uge2lmKHQua2luZD09PWUua2luZClyZXR1cm4gbnVsbDtpZigidmFsdWUiPT09dC5raW5kKWZvcih2YXIgcj0wLG49WnQ7cjxuLmxlbmd0aDtyKz0xKWlmKCFYdChuW3JdLGUpKXJldHVybiBudWxsfXJldHVybiAiRXhwZWN0ZWQgIitHdCh0KSsiIGJ1dCBmb3VuZCAiK0d0KGUpKyIgaW5zdGVhZC4ifWZ1bmN0aW9uIEp0KHQsZSl7cmV0dXJuIGUuc29tZSgoZnVuY3Rpb24oZSl7cmV0dXJuIGUua2luZD09PXQua2luZH0pKX1mdW5jdGlvbiBIdCh0LGUpe3JldHVybiBlLnNvbWUoKGZ1bmN0aW9uKGUpe3JldHVybiAibnVsbCI9PT1lP251bGw9PT10OiJhcnJheSI9PT1lP0FycmF5LmlzQXJyYXkodCk6Im9iamVjdCI9PT1lP3QmJiFBcnJheS5pc0FycmF5KHQpJiYib2JqZWN0Ij09dHlwZW9mIHQ6ZT09PXR5cGVvZiB0fSkpfXZhciBZdD1lKChmdW5jdGlvbih0LGUpe3ZhciByPXt0cmFuc3BhcmVudDpbMCwwLDAsMF0sYWxpY2VibHVlOlsyNDAsMjQ4LDI1NSwxXSxhbnRpcXVld2hpdGU6WzI1MCwyMzUsMjE1LDFdLGFxdWE6WzAsMjU1LDI1NSwxXSxhcXVhbWFyaW5lOlsxMjcsMjU1LDIxMiwxXSxhenVyZTpbMjQwLDI1NSwyNTUsMV0sYmVpZ2U6WzI0NSwyNDUsMjIwLDFdLGJpc3F1ZTpbMjU1LDIyOCwxOTYsMV0sYmxhY2s6WzAsMCwwLDFdLGJsYW5jaGVkYWxtb25kOlsyNTUsMjM1LDIwNSwxXSxibHVlOlswLDAsMjU1LDFdLGJsdWV2aW9sZXQ6WzEzOCw0MywyMjYsMV0sYnJvd246WzE2NSw0Miw0MiwxXSxidXJseXdvb2Q6WzIyMiwxODQsMTM1LDFdLGNhZGV0Ymx1ZTpbOTUsMTU4LDE2MCwxXSxjaGFydHJldXNlOlsxMjcsMjU1LDAsMV0sY2hvY29sYXRlOlsyMTAsMTA1LDMwLDFdLGNvcmFsOlsyNTUsMTI3LDgwLDFdLGNvcm5mbG93ZXJibHVlOlsxMDAsMTQ5LDIzNywxXSxjb3Juc2lsazpbMjU1LDI0OCwyMjAsMV0sY3JpbXNvbjpbMjIwLDIwLDYwLDFdLGN5YW46WzAsMjU1LDI1NSwxXSxkYXJrYmx1ZTpbMCwwLDEzOSwxXSxkYXJrY3lhbjpbMCwxMzksMTM5LDFdLGRhcmtnb2xkZW5yb2Q6WzE4NCwxMzQsMTEsMV0sZGFya2dyYXk6WzE2OSwxNjksMTY5LDFdLGRhcmtncmVlbjpbMCwxMDAsMCwxXSxkYXJrZ3JleTpbMTY5LDE2OSwxNjksMV0sZGFya2toYWtpOlsxODksMTgzLDEwNywxXSxkYXJrbWFnZW50YTpbMTM5LDAsMTM5LDFdLGRhcmtvbGl2ZWdyZWVuOls4NSwxMDcsNDcsMV0sZGFya29yYW5nZTpbMjU1LDE0MCwwLDFdLGRhcmtvcmNoaWQ6WzE1Myw1MCwyMDQsMV0sZGFya3JlZDpbMTM5LDAsMCwxXSxkYXJrc2FsbW9uOlsyMzMsMTUwLDEyMiwxXSxkYXJrc2VhZ3JlZW46WzE0MywxODgsMTQzLDFdLGRhcmtzbGF0ZWJsdWU6WzcyLDYxLDEzOSwxXSxkYXJrc2xhdGVncmF5Ols0Nyw3OSw3OSwxXSxkYXJrc2xhdGVncmV5Ols0Nyw3OSw3OSwxXSxkYXJrdHVycXVvaXNlOlswLDIwNiwyMDksMV0sZGFya3Zpb2xldDpbMTQ4LDAsMjExLDFdLGRlZXBwaW5rOlsyNTUsMjAsMTQ3LDFdLGRlZXBza3libHVlOlswLDE5MSwyNTUsMV0sZGltZ3JheTpbMTA1LDEwNSwxMDUsMV0sZGltZ3JleTpbMTA1LDEwNSwxMDUsMV0sZG9kZ2VyYmx1ZTpbMzAsMTQ0LDI1NSwxXSxmaXJlYnJpY2s6WzE3OCwzNCwzNCwxXSxmbG9yYWx3aGl0ZTpbMjU1LDI1MCwyNDAsMV0sZm9yZXN0Z3JlZW46WzM0LDEzOSwzNCwxXSxmdWNoc2lhOlsyNTUsMCwyNTUsMV0sZ2FpbnNib3JvOlsyMjAsMjIwLDIyMCwxXSxnaG9zdHdoaXRlOlsyNDgsMjQ4LDI1NSwxXSxnb2xkOlsyNTUsMjE1LDAsMV0sZ29sZGVucm9kOlsyMTgsMTY1LDMyLDFdLGdyYXk6WzEyOCwxMjgsMTI4LDFdLGdyZWVuOlswLDEyOCwwLDFdLGdyZWVueWVsbG93OlsxNzMsMjU1LDQ3LDFdLGdyZXk6WzEyOCwxMjgsMTI4LDFdLGhvbmV5ZGV3OlsyNDAsMjU1LDI0MCwxXSxob3RwaW5rOlsyNTUsMTA1LDE4MCwxXSxpbmRpYW5yZWQ6WzIwNSw5Miw5MiwxXSxpbmRpZ286Wzc1LDAsMTMwLDFdLGl2b3J5OlsyNTUsMjU1LDI0MCwxXSxraGFraTpbMjQwLDIzMCwxNDAsMV0sbGF2ZW5kZXI6WzIzMCwyMzAsMjUwLDFdLGxhdmVuZGVyYmx1c2g6WzI1NSwyNDAsMjQ1LDFdLGxhd25ncmVlbjpbMTI0LDI1MiwwLDFdLGxlbW9uY2hpZmZvbjpbMjU1LDI1MCwyMDUsMV0sbGlnaHRibHVlOlsxNzMsMjE2LDIzMCwxXSxsaWdodGNvcmFsOlsyNDAsMTI4LDEyOCwxXSxsaWdodGN5YW46WzIyNCwyNTUsMjU1LDFdLGxpZ2h0Z29sZGVucm9keWVsbG93OlsyNTAsMjUwLDIxMCwxXSxsaWdodGdyYXk6WzIxMSwyMTEsMjExLDFdLGxpZ2h0Z3JlZW46WzE0NCwyMzgsMTQ0LDFdLGxpZ2h0Z3JleTpbMjExLDIxMSwyMTEsMV0sbGlnaHRwaW5rOlsyNTUsMTgyLDE5MywxXSxsaWdodHNhbG1vbjpbMjU1LDE2MCwxMjIsMV0sbGlnaHRzZWFncmVlbjpbMzIsMTc4LDE3MCwxXSxsaWdodHNreWJsdWU6WzEzNSwyMDYsMjUwLDFdLGxpZ2h0c2xhdGVncmF5OlsxMTksMTM2LDE1MywxXSxsaWdodHNsYXRlZ3JleTpbMTE5LDEzNiwxNTMsMV0sbGlnaHRzdGVlbGJsdWU6WzE3NiwxOTYsMjIyLDFdLGxpZ2h0eWVsbG93OlsyNTUsMjU1LDIyNCwxXSxsaW1lOlswLDI1NSwwLDFdLGxpbWVncmVlbjpbNTAsMjA1LDUwLDFdLGxpbmVuOlsyNTAsMjQwLDIzMCwxXSxtYWdlbnRhOlsyNTUsMCwyNTUsMV0sbWFyb29uOlsxMjgsMCwwLDFdLG1lZGl1bWFxdWFtYXJpbmU6WzEwMiwyMDUsMTcwLDFdLG1lZGl1bWJsdWU6WzAsMCwyMDUsMV0sbWVkaXVtb3JjaGlkOlsxODYsODUsMjExLDFdLG1lZGl1bXB1cnBsZTpbMTQ3LDExMiwyMTksMV0sbWVkaXVtc2VhZ3JlZW46WzYwLDE3OSwxMTMsMV0sbWVkaXVtc2xhdGVibHVlOlsxMjMsMTA0LDIzOCwxXSxtZWRpdW1zcHJpbmdncmVlbjpbMCwyNTAsMTU0LDFdLG1lZGl1bXR1cnF1b2lzZTpbNzIsMjA5LDIwNCwxXSxtZWRpdW12aW9sZXRyZWQ6WzE5OSwyMSwxMzMsMV0sbWlkbmlnaHRibHVlOlsyNSwyNSwxMTIsMV0sbWludGNyZWFtOlsyNDUsMjU1LDI1MCwxXSxtaXN0eXJvc2U6WzI1NSwyMjgsMjI1LDFdLG1vY2Nhc2luOlsyNTUsMjI4LDE4MSwxXSxuYXZham93aGl0ZTpbMjU1LDIyMiwxNzMsMV0sbmF2eTpbMCwwLDEyOCwxXSxvbGRsYWNlOlsyNTMsMjQ1LDIzMCwxXSxvbGl2ZTpbMTI4LDEyOCwwLDFdLG9saXZlZHJhYjpbMTA3LDE0MiwzNSwxXSxvcmFuZ2U6WzI1NSwxNjUsMCwxXSxvcmFuZ2VyZWQ6WzI1NSw2OSwwLDFdLG9yY2hpZDpbMjE4LDExMiwyMTQsMV0scGFsZWdvbGRlbnJvZDpbMjM4LDIzMiwxNzAsMV0scGFsZWdyZWVuOlsxNTIsMjUxLDE1MiwxXSxwYWxldHVycXVvaXNlOlsxNzUsMjM4LDIzOCwxXSxwYWxldmlvbGV0cmVkOlsyMTksMTEyLDE0NywxXSxwYXBheWF3aGlwOlsyNTUsMjM5LDIxMywxXSxwZWFjaHB1ZmY6WzI1NSwyMTgsMTg1LDFdLHBlcnU6WzIwNSwxMzMsNjMsMV0scGluazpbMjU1LDE5MiwyMDMsMV0scGx1bTpbMjIxLDE2MCwyMjEsMV0scG93ZGVyYmx1ZTpbMTc2LDIyNCwyMzAsMV0scHVycGxlOlsxMjgsMCwxMjgsMV0scmViZWNjYXB1cnBsZTpbMTAyLDUxLDE1MywxXSxyZWQ6WzI1NSwwLDAsMV0scm9zeWJyb3duOlsxODgsMTQzLDE0MywxXSxyb3lhbGJsdWU6WzY1LDEwNSwyMjUsMV0sc2FkZGxlYnJvd246WzEzOSw2OSwxOSwxXSxzYWxtb246WzI1MCwxMjgsMTE0LDFdLHNhbmR5YnJvd246WzI0NCwxNjQsOTYsMV0sc2VhZ3JlZW46WzQ2LDEzOSw4NywxXSxzZWFzaGVsbDpbMjU1LDI0NSwyMzgsMV0sc2llbm5hOlsxNjAsODIsNDUsMV0sc2lsdmVyOlsxOTIsMTkyLDE5MiwxXSxza3libHVlOlsxMzUsMjA2LDIzNSwxXSxzbGF0ZWJsdWU6WzEwNiw5MCwyMDUsMV0sc2xhdGVncmF5OlsxMTIsMTI4LDE0NCwxXSxzbGF0ZWdyZXk6WzExMiwxMjgsMTQ0LDFdLHNub3c6WzI1NSwyNTAsMjUwLDFdLHNwcmluZ2dyZWVuOlswLDI1NSwxMjcsMV0sc3RlZWxibHVlOls3MCwxMzAsMTgwLDFdLHRhbjpbMjEwLDE4MCwxNDAsMV0sdGVhbDpbMCwxMjgsMTI4LDFdLHRoaXN0bGU6WzIxNiwxOTEsMjE2LDFdLHRvbWF0bzpbMjU1LDk5LDcxLDFdLHR1cnF1b2lzZTpbNjQsMjI0LDIwOCwxXSx2aW9sZXQ6WzIzOCwxMzAsMjM4LDFdLHdoZWF0OlsyNDUsMjIyLDE3OSwxXSx3aGl0ZTpbMjU1LDI1NSwyNTUsMV0sd2hpdGVzbW9rZTpbMjQ1LDI0NSwyNDUsMV0seWVsbG93OlsyNTUsMjU1LDAsMV0seWVsbG93Z3JlZW46WzE1NCwyMDUsNTAsMV19O2Z1bmN0aW9uIG4odCl7cmV0dXJuICh0PU1hdGgucm91bmQodCkpPDA/MDp0PjI1NT8yNTU6dH1mdW5jdGlvbiBpKHQpe3JldHVybiBuKCIlIj09PXRbdC5sZW5ndGgtMV0/cGFyc2VGbG9hdCh0KS8xMDAqMjU1OnBhcnNlSW50KHQpKX1mdW5jdGlvbiBhKHQpe3JldHVybiAoZT0iJSI9PT10W3QubGVuZ3RoLTFdP3BhcnNlRmxvYXQodCkvMTAwOnBhcnNlRmxvYXQodCkpPDA/MDplPjE/MTplO3ZhciBlO31mdW5jdGlvbiBvKHQsZSxyKXtyZXR1cm4gcjwwP3IrPTE6cj4xJiYoci09MSksNipyPDE/dCsoZS10KSpyKjY6MipyPDE/ZTozKnI8Mj90KyhlLXQpKigyLzMtcikqNjp0fXRyeXtlLnBhcnNlQ1NTQ29sb3I9ZnVuY3Rpb24odCl7dmFyIGUscz10LnJlcGxhY2UoLyAvZywiIikudG9Mb3dlckNhc2UoKTtpZihzIGluIHIpcmV0dXJuIHJbc10uc2xpY2UoKTtpZigiIyI9PT1zWzBdKXJldHVybiA0PT09cy5sZW5ndGg/KGU9cGFyc2VJbnQocy5zdWJzdHIoMSksMTYpKT49MCYmZTw9NDA5NT9bKDM4NDAmZSk+PjR8KDM4NDAmZSk+PjgsMjQwJmV8KDI0MCZlKT4+NCwxNSZlfCgxNSZlKTw8NCwxXTpudWxsOjc9PT1zLmxlbmd0aCYmKGU9cGFyc2VJbnQocy5zdWJzdHIoMSksMTYpKT49MCYmZTw9MTY3NzcyMTU/WygxNjcxMTY4MCZlKT4+MTYsKDY1MjgwJmUpPj44LDI1NSZlLDFdOm51bGw7dmFyIHU9cy5pbmRleE9mKCIoIiksbD1zLmluZGV4T2YoIikiKTtpZigtMSE9PXUmJmwrMT09PXMubGVuZ3RoKXt2YXIgcD1zLnN1YnN0cigwLHUpLGM9cy5zdWJzdHIodSsxLGwtKHUrMSkpLnNwbGl0KCIsIiksaD0xO3N3aXRjaChwKXtjYXNlInJnYmEiOmlmKDQhPT1jLmxlbmd0aClyZXR1cm4gbnVsbDtoPWEoYy5wb3AoKSk7Y2FzZSJyZ2IiOnJldHVybiAzIT09Yy5sZW5ndGg/bnVsbDpbaShjWzBdKSxpKGNbMV0pLGkoY1syXSksaF07Y2FzZSJoc2xhIjppZig0IT09Yy5sZW5ndGgpcmV0dXJuIG51bGw7aD1hKGMucG9wKCkpO2Nhc2UiaHNsIjppZigzIT09Yy5sZW5ndGgpcmV0dXJuIG51bGw7dmFyIGY9KHBhcnNlRmxvYXQoY1swXSklMzYwKzM2MCklMzYwLzM2MCx5PWEoY1sxXSksZD1hKGNbMl0pLG09ZDw9LjU/ZCooeSsxKTpkK3ktZCp5LHY9MipkLW07cmV0dXJuIFtuKDI1NSpvKHYsbSxmKzEvMykpLG4oMjU1Km8odixtLGYpKSxuKDI1NSpvKHYsbSxmLTEvMykpLGhdO2RlZmF1bHQ6cmV0dXJuIG51bGx9fXJldHVybiBudWxsfTt9Y2F0Y2godCl7fX0pKS5wYXJzZUNTU0NvbG9yLCR0PWZ1bmN0aW9uKHQsZSxyLG4pe3ZvaWQgMD09PW4mJihuPTEpLHRoaXMucj10LHRoaXMuZz1lLHRoaXMuYj1yLHRoaXMuYT1uO307JHQucGFyc2U9ZnVuY3Rpb24odCl7aWYodCl7aWYodCBpbnN0YW5jZW9mICR0KXJldHVybiB0O2lmKCJzdHJpbmciPT10eXBlb2YgdCl7dmFyIGU9WXQodCk7aWYoZSlyZXR1cm4gbmV3ICR0KGVbMF0vMjU1KmVbM10sZVsxXS8yNTUqZVszXSxlWzJdLzI1NSplWzNdLGVbM10pfX19LCR0LnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3ZhciB0PXRoaXMudG9BcnJheSgpLGU9dFsxXSxyPXRbMl0sbj10WzNdO3JldHVybiAicmdiYSgiK01hdGgucm91bmQodFswXSkrIiwiK01hdGgucm91bmQoZSkrIiwiK01hdGgucm91bmQocikrIiwiK24rIikifSwkdC5wcm90b3R5cGUudG9BcnJheT1mdW5jdGlvbigpe3ZhciB0PXRoaXMuYTtyZXR1cm4gMD09PXQ/WzAsMCwwLDBdOlsyNTUqdGhpcy5yL3QsMjU1KnRoaXMuZy90LDI1NSp0aGlzLmIvdCx0XX0sJHQuYmxhY2s9bmV3ICR0KDAsMCwwLDEpLCR0LndoaXRlPW5ldyAkdCgxLDEsMSwxKSwkdC50cmFuc3BhcmVudD1uZXcgJHQoMCwwLDAsMCksJHQucmVkPW5ldyAkdCgxLDAsMCwxKTt2YXIgV3Q9ZnVuY3Rpb24odCxlLHIpe3RoaXMuc2Vuc2l0aXZpdHk9dD9lPyJ2YXJpYW50IjoiY2FzZSI6ZT8iYWNjZW50IjoiYmFzZSIsdGhpcy5sb2NhbGU9cix0aGlzLmNvbGxhdG9yPW5ldyBJbnRsLkNvbGxhdG9yKHRoaXMubG9jYWxlP3RoaXMubG9jYWxlOltdLHtzZW5zaXRpdml0eTp0aGlzLnNlbnNpdGl2aXR5LHVzYWdlOiJzZWFyY2gifSk7fTtXdC5wcm90b3R5cGUuY29tcGFyZT1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLmNvbGxhdG9yLmNvbXBhcmUodCxlKX0sV3QucHJvdG90eXBlLnJlc29sdmVkTG9jYWxlPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBJbnRsLkNvbGxhdG9yKHRoaXMubG9jYWxlP3RoaXMubG9jYWxlOltdKS5yZXNvbHZlZE9wdGlvbnMoKS5sb2NhbGV9O3ZhciBRdD1mdW5jdGlvbih0LGUscixuLGkpe3RoaXMudGV4dD10LHRoaXMuaW1hZ2U9ZSx0aGlzLnNjYWxlPXIsdGhpcy5mb250U3RhY2s9bix0aGlzLnRleHRDb2xvcj1pO30sdGU9ZnVuY3Rpb24odCl7dGhpcy5zZWN0aW9ucz10O307dGUuZnJvbVN0cmluZz1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IHRlKFtuZXcgUXQodCxudWxsLG51bGwsbnVsbCxudWxsKV0pfSx0ZS5wcm90b3R5cGUuaXNFbXB0eT1mdW5jdGlvbigpe3JldHVybiAwPT09dGhpcy5zZWN0aW9ucy5sZW5ndGh8fCF0aGlzLnNlY3Rpb25zLnNvbWUoKGZ1bmN0aW9uKHQpe3JldHVybiAwIT09dC50ZXh0Lmxlbmd0aHx8dC5pbWFnZSYmMCE9PXQuaW1hZ2UubmFtZS5sZW5ndGh9KSl9LHRlLmZhY3Rvcnk9ZnVuY3Rpb24odCl7cmV0dXJuIHQgaW5zdGFuY2VvZiB0ZT90OnRlLmZyb21TdHJpbmcodCl9LHRlLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiAwPT09dGhpcy5zZWN0aW9ucy5sZW5ndGg/IiI6dGhpcy5zZWN0aW9ucy5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiB0LnRleHR9KSkuam9pbigiIil9LHRlLnByb3RvdHlwZS5zZXJpYWxpemU9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9WyJmb3JtYXQiXSxlPTAscj10aGlzLnNlY3Rpb25zO2U8ci5sZW5ndGg7ZSs9MSl7dmFyIG49cltlXTtpZihuLmltYWdlKXQucHVzaChbImltYWdlIixuLmltYWdlLm5hbWVdKTtlbHNlIHt0LnB1c2gobi50ZXh0KTt2YXIgaT17fTtuLmZvbnRTdGFjayYmKGlbInRleHQtZm9udCJdPVsibGl0ZXJhbCIsbi5mb250U3RhY2suc3BsaXQoIiwiKV0pLG4uc2NhbGUmJihpWyJmb250LXNjYWxlIl09bi5zY2FsZSksbi50ZXh0Q29sb3ImJihpWyJ0ZXh0LWNvbG9yIl09WyJyZ2JhIl0uY29uY2F0KG4udGV4dENvbG9yLnRvQXJyYXkoKSkpLHQucHVzaChpKTt9fXJldHVybiB0fTt2YXIgZWU9ZnVuY3Rpb24odCl7dGhpcy5uYW1lPXQubmFtZSx0aGlzLmF2YWlsYWJsZT10LmF2YWlsYWJsZTt9O2Z1bmN0aW9uIHJlKHQsZSxyLG4pe3JldHVybiAibnVtYmVyIj09dHlwZW9mIHQmJnQ+PTAmJnQ8PTI1NSYmIm51bWJlciI9PXR5cGVvZiBlJiZlPj0wJiZlPD0yNTUmJiJudW1iZXIiPT10eXBlb2YgciYmcj49MCYmcjw9MjU1P3ZvaWQgMD09PW58fCJudW1iZXIiPT10eXBlb2YgbiYmbj49MCYmbjw9MT9udWxsOiJJbnZhbGlkIHJnYmEgdmFsdWUgWyIrW3QsZSxyLG5dLmpvaW4oIiwgIikrIl06ICdhJyBtdXN0IGJlIGJldHdlZW4gMCBhbmQgMS4iOiJJbnZhbGlkIHJnYmEgdmFsdWUgWyIrKCJudW1iZXIiPT10eXBlb2Ygbj9bdCxlLHIsbl06W3QsZSxyXSkuam9pbigiLCAiKSsiXTogJ3InLCAnZycsIGFuZCAnYicgbXVzdCBiZSBiZXR3ZWVuIDAgYW5kIDI1NS4ifWZ1bmN0aW9uIG5lKHQpe2lmKG51bGw9PT10KXJldHVybiAhMDtpZigic3RyaW5nIj09dHlwZW9mIHQpcmV0dXJuICEwO2lmKCJib29sZWFuIj09dHlwZW9mIHQpcmV0dXJuICEwO2lmKCJudW1iZXIiPT10eXBlb2YgdClyZXR1cm4gITA7aWYodCBpbnN0YW5jZW9mICR0KXJldHVybiAhMDtpZih0IGluc3RhbmNlb2YgV3QpcmV0dXJuICEwO2lmKHQgaW5zdGFuY2VvZiB0ZSlyZXR1cm4gITA7aWYodCBpbnN0YW5jZW9mIGVlKXJldHVybiAhMDtpZihBcnJheS5pc0FycmF5KHQpKXtmb3IodmFyIGU9MCxyPXQ7ZTxyLmxlbmd0aDtlKz0xKWlmKCFuZShyW2VdKSlyZXR1cm4gITE7cmV0dXJuICEwfWlmKCJvYmplY3QiPT10eXBlb2YgdCl7Zm9yKHZhciBuIGluIHQpaWYoIW5lKHRbbl0pKXJldHVybiAhMTtyZXR1cm4gITB9cmV0dXJuICExfWZ1bmN0aW9uIGllKHQpe2lmKG51bGw9PT10KXJldHVybiBWdDtpZigic3RyaW5nIj09dHlwZW9mIHQpcmV0dXJuIER0O2lmKCJib29sZWFuIj09dHlwZW9mIHQpcmV0dXJuIEx0O2lmKCJudW1iZXIiPT10eXBlb2YgdClyZXR1cm4gRnQ7aWYodCBpbnN0YW5jZW9mICR0KXJldHVybiBSdDtpZih0IGluc3RhbmNlb2YgV3QpcmV0dXJuIGp0O2lmKHQgaW5zdGFuY2VvZiB0ZSlyZXR1cm4gcXQ7aWYodCBpbnN0YW5jZW9mIGVlKXJldHVybiBOdDtpZihBcnJheS5pc0FycmF5KHQpKXtmb3IodmFyIGUscj10Lmxlbmd0aCxuPTAsaT10O248aS5sZW5ndGg7bis9MSl7dmFyIGE9aWUoaVtuXSk7aWYoZSl7aWYoZT09PWEpY29udGludWU7ZT1VdDticmVha31lPWE7fXJldHVybiBLdChlfHxVdCxyKX1yZXR1cm4gT3R9ZnVuY3Rpb24gYWUodCl7dmFyIGU9dHlwZW9mIHQ7cmV0dXJuIG51bGw9PT10PyIiOiJzdHJpbmciPT09ZXx8Im51bWJlciI9PT1lfHwiYm9vbGVhbiI9PT1lP1N0cmluZyh0KTp0IGluc3RhbmNlb2YgJHR8fHQgaW5zdGFuY2VvZiB0ZXx8dCBpbnN0YW5jZW9mIGVlP3QudG9TdHJpbmcoKTpKU09OLnN0cmluZ2lmeSh0KX1lZS5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5uYW1lfSxlZS5mcm9tU3RyaW5nPWZ1bmN0aW9uKHQpe3JldHVybiB0P25ldyBlZSh7bmFtZTp0LGF2YWlsYWJsZTohMX0pOm51bGx9LGVlLnByb3RvdHlwZS5zZXJpYWxpemU9ZnVuY3Rpb24oKXtyZXR1cm4gWyJpbWFnZSIsdGhpcy5uYW1lXX07dmFyIG9lPWZ1bmN0aW9uKHQsZSl7dGhpcy50eXBlPXQsdGhpcy52YWx1ZT1lO307b2UucGFyc2U9ZnVuY3Rpb24odCxlKXtpZigyIT09dC5sZW5ndGgpcmV0dXJuIGUuZXJyb3IoIidsaXRlcmFsJyBleHByZXNzaW9uIHJlcXVpcmVzIGV4YWN0bHkgb25lIGFyZ3VtZW50LCBidXQgZm91bmQgIisodC5sZW5ndGgtMSkrIiBpbnN0ZWFkLiIpO2lmKCFuZSh0WzFdKSlyZXR1cm4gZS5lcnJvcigiaW52YWxpZCB2YWx1ZSIpO3ZhciByPXRbMV0sbj1pZShyKSxpPWUuZXhwZWN0ZWRUeXBlO3JldHVybiAiYXJyYXkiIT09bi5raW5kfHwwIT09bi5OfHwhaXx8ImFycmF5IiE9PWkua2luZHx8Im51bWJlciI9PXR5cGVvZiBpLk4mJjAhPT1pLk58fChuPWkpLG5ldyBvZShuLHIpfSxvZS5wcm90b3R5cGUuZXZhbHVhdGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy52YWx1ZX0sb2UucHJvdG90eXBlLmVhY2hDaGlsZD1mdW5jdGlvbigpe30sb2UucHJvdG90eXBlLm91dHB1dERlZmluZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gITB9LG9lLnByb3RvdHlwZS5zZXJpYWxpemU9ZnVuY3Rpb24oKXtyZXR1cm4gImFycmF5Ij09PXRoaXMudHlwZS5raW5kfHwib2JqZWN0Ij09PXRoaXMudHlwZS5raW5kP1sibGl0ZXJhbCIsdGhpcy52YWx1ZV06dGhpcy52YWx1ZSBpbnN0YW5jZW9mICR0P1sicmdiYSJdLmNvbmNhdCh0aGlzLnZhbHVlLnRvQXJyYXkoKSk6dGhpcy52YWx1ZSBpbnN0YW5jZW9mIHRlP3RoaXMudmFsdWUuc2VyaWFsaXplKCk6dGhpcy52YWx1ZX07dmFyIHNlPWZ1bmN0aW9uKHQpe3RoaXMubmFtZT0iRXhwcmVzc2lvbkV2YWx1YXRpb25FcnJvciIsdGhpcy5tZXNzYWdlPXQ7fTtzZS5wcm90b3R5cGUudG9KU09OPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubWVzc2FnZX07dmFyIHVlPXtzdHJpbmc6RHQsbnVtYmVyOkZ0LGJvb2xlYW46THQsb2JqZWN0Ok90fSxsZT1mdW5jdGlvbih0LGUpe3RoaXMudHlwZT10LHRoaXMuYXJncz1lO307bGUucGFyc2U9ZnVuY3Rpb24odCxlKXtpZih0Lmxlbmd0aDwyKXJldHVybiBlLmVycm9yKCJFeHBlY3RlZCBhdCBsZWFzdCBvbmUgYXJndW1lbnQuIik7dmFyIHIsbj0xLGk9dFswXTtpZigiYXJyYXkiPT09aSl7dmFyIGEsbztpZih0Lmxlbmd0aD4yKXt2YXIgcz10WzFdO2lmKCJzdHJpbmciIT10eXBlb2Ygc3x8IShzIGluIHVlKXx8Im9iamVjdCI9PT1zKXJldHVybiBlLmVycm9yKCdUaGUgaXRlbSB0eXBlIGFyZ3VtZW50IG9mICJhcnJheSIgbXVzdCBiZSBvbmUgb2Ygc3RyaW5nLCBudW1iZXIsIGJvb2xlYW4nLDEpO2E9dWVbc10sbisrO31lbHNlIGE9VXQ7aWYodC5sZW5ndGg+Myl7aWYobnVsbCE9PXRbMl0mJigibnVtYmVyIiE9dHlwZW9mIHRbMl18fHRbMl08MHx8dFsyXSE9PU1hdGguZmxvb3IodFsyXSkpKXJldHVybiBlLmVycm9yKCdUaGUgbGVuZ3RoIGFyZ3VtZW50IHRvICJhcnJheSIgbXVzdCBiZSBhIHBvc2l0aXZlIGludGVnZXIgbGl0ZXJhbCcsMik7bz10WzJdLG4rKzt9cj1LdChhLG8pO31lbHNlIHI9dWVbaV07Zm9yKHZhciB1PVtdO248dC5sZW5ndGg7bisrKXt2YXIgbD1lLnBhcnNlKHRbbl0sbixVdCk7aWYoIWwpcmV0dXJuIG51bGw7dS5wdXNoKGwpO31yZXR1cm4gbmV3IGxlKHIsdSl9LGxlLnByb3RvdHlwZS5ldmFsdWF0ZT1mdW5jdGlvbih0KXtmb3IodmFyIGU9MDtlPHRoaXMuYXJncy5sZW5ndGg7ZSsrKXt2YXIgcj10aGlzLmFyZ3NbZV0uZXZhbHVhdGUodCk7aWYoIVh0KHRoaXMudHlwZSxpZShyKSkpcmV0dXJuIHI7aWYoZT09PXRoaXMuYXJncy5sZW5ndGgtMSl0aHJvdyBuZXcgc2UoIkV4cGVjdGVkIHZhbHVlIHRvIGJlIG9mIHR5cGUgIitHdCh0aGlzLnR5cGUpKyIsIGJ1dCBmb3VuZCAiK0d0KGllKHIpKSsiIGluc3RlYWQuIil9cmV0dXJuIG51bGx9LGxlLnByb3RvdHlwZS5lYWNoQ2hpbGQ9ZnVuY3Rpb24odCl7dGhpcy5hcmdzLmZvckVhY2godCk7fSxsZS5wcm90b3R5cGUub3V0cHV0RGVmaW5lZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmFyZ3MuZXZlcnkoKGZ1bmN0aW9uKHQpe3JldHVybiB0Lm91dHB1dERlZmluZWQoKX0pKX0sbGUucHJvdG90eXBlLnNlcmlhbGl6ZT1mdW5jdGlvbigpe3ZhciB0PXRoaXMudHlwZSxlPVt0LmtpbmRdO2lmKCJhcnJheSI9PT10LmtpbmQpe3ZhciByPXQuaXRlbVR5cGU7aWYoInN0cmluZyI9PT1yLmtpbmR8fCJudW1iZXIiPT09ci5raW5kfHwiYm9vbGVhbiI9PT1yLmtpbmQpe2UucHVzaChyLmtpbmQpO3ZhciBuPXQuTjsoIm51bWJlciI9PXR5cGVvZiBufHx0aGlzLmFyZ3MubGVuZ3RoPjEpJiZlLnB1c2gobik7fX1yZXR1cm4gZS5jb25jYXQodGhpcy5hcmdzLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIHQuc2VyaWFsaXplKCl9KSkpfTt2YXIgcGU9ZnVuY3Rpb24odCl7dGhpcy50eXBlPXF0LHRoaXMuc2VjdGlvbnM9dDt9O3BlLnBhcnNlPWZ1bmN0aW9uKHQsZSl7aWYodC5sZW5ndGg8MilyZXR1cm4gZS5lcnJvcigiRXhwZWN0ZWQgYXQgbGVhc3Qgb25lIGFyZ3VtZW50LiIpO3ZhciByPXRbMV07aWYoIUFycmF5LmlzQXJyYXkocikmJiJvYmplY3QiPT10eXBlb2YgcilyZXR1cm4gZS5lcnJvcigiRmlyc3QgYXJndW1lbnQgbXVzdCBiZSBhbiBpbWFnZSBvciB0ZXh0IHNlY3Rpb24uIik7Zm9yKHZhciBuPVtdLGk9ITEsYT0xO2E8PXQubGVuZ3RoLTE7KythKXt2YXIgbz10W2FdO2lmKGkmJiJvYmplY3QiPT10eXBlb2YgbyYmIUFycmF5LmlzQXJyYXkobykpe2k9ITE7dmFyIHM9bnVsbDtpZihvWyJmb250LXNjYWxlIl0mJiEocz1lLnBhcnNlKG9bImZvbnQtc2NhbGUiXSwxLEZ0KSkpcmV0dXJuIG51bGw7dmFyIHU9bnVsbDtpZihvWyJ0ZXh0LWZvbnQiXSYmISh1PWUucGFyc2Uob1sidGV4dC1mb250Il0sMSxLdChEdCkpKSlyZXR1cm4gbnVsbDt2YXIgbD1udWxsO2lmKG9bInRleHQtY29sb3IiXSYmIShsPWUucGFyc2Uob1sidGV4dC1jb2xvciJdLDEsUnQpKSlyZXR1cm4gbnVsbDt2YXIgcD1uW24ubGVuZ3RoLTFdO3Auc2NhbGU9cyxwLmZvbnQ9dSxwLnRleHRDb2xvcj1sO31lbHNlIHt2YXIgYz1lLnBhcnNlKHRbYV0sMSxVdCk7aWYoIWMpcmV0dXJuIG51bGw7dmFyIGg9Yy50eXBlLmtpbmQ7aWYoInN0cmluZyIhPT1oJiYidmFsdWUiIT09aCYmIm51bGwiIT09aCYmInJlc29sdmVkSW1hZ2UiIT09aClyZXR1cm4gZS5lcnJvcigiRm9ybWF0dGVkIHRleHQgdHlwZSBtdXN0IGJlICdzdHJpbmcnLCAndmFsdWUnLCAnaW1hZ2UnIG9yICdudWxsJy4iKTtpPSEwLG4ucHVzaCh7Y29udGVudDpjLHNjYWxlOm51bGwsZm9udDpudWxsLHRleHRDb2xvcjpudWxsfSk7fX1yZXR1cm4gbmV3IHBlKG4pfSxwZS5wcm90b3R5cGUuZXZhbHVhdGU9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyB0ZSh0aGlzLnNlY3Rpb25zLm1hcCgoZnVuY3Rpb24oZSl7dmFyIHI9ZS5jb250ZW50LmV2YWx1YXRlKHQpO3JldHVybiBpZShyKT09PU50P25ldyBRdCgiIixyLG51bGwsbnVsbCxudWxsKTpuZXcgUXQoYWUociksbnVsbCxlLnNjYWxlP2Uuc2NhbGUuZXZhbHVhdGUodCk6bnVsbCxlLmZvbnQ/ZS5mb250LmV2YWx1YXRlKHQpLmpvaW4oIiwiKTpudWxsLGUudGV4dENvbG9yP2UudGV4dENvbG9yLmV2YWx1YXRlKHQpOm51bGwpfSkpKX0scGUucHJvdG90eXBlLmVhY2hDaGlsZD1mdW5jdGlvbih0KXtmb3IodmFyIGU9MCxyPXRoaXMuc2VjdGlvbnM7ZTxyLmxlbmd0aDtlKz0xKXt2YXIgbj1yW2VdO3Qobi5jb250ZW50KSxuLnNjYWxlJiZ0KG4uc2NhbGUpLG4uZm9udCYmdChuLmZvbnQpLG4udGV4dENvbG9yJiZ0KG4udGV4dENvbG9yKTt9fSxwZS5wcm90b3R5cGUub3V0cHV0RGVmaW5lZD1mdW5jdGlvbigpe3JldHVybiAhMX0scGUucHJvdG90eXBlLnNlcmlhbGl6ZT1mdW5jdGlvbigpe2Zvcih2YXIgdD1bImZvcm1hdCJdLGU9MCxyPXRoaXMuc2VjdGlvbnM7ZTxyLmxlbmd0aDtlKz0xKXt2YXIgbj1yW2VdO3QucHVzaChuLmNvbnRlbnQuc2VyaWFsaXplKCkpO3ZhciBpPXt9O24uc2NhbGUmJihpWyJmb250LXNjYWxlIl09bi5zY2FsZS5zZXJpYWxpemUoKSksbi5mb250JiYoaVsidGV4dC1mb250Il09bi5mb250LnNlcmlhbGl6ZSgpKSxuLnRleHRDb2xvciYmKGlbInRleHQtY29sb3IiXT1uLnRleHRDb2xvci5zZXJpYWxpemUoKSksdC5wdXNoKGkpO31yZXR1cm4gdH07dmFyIGNlPWZ1bmN0aW9uKHQpe3RoaXMudHlwZT1OdCx0aGlzLmlucHV0PXQ7fTtjZS5wYXJzZT1mdW5jdGlvbih0LGUpe2lmKDIhPT10Lmxlbmd0aClyZXR1cm4gZS5lcnJvcigiRXhwZWN0ZWQgdHdvIGFyZ3VtZW50cy4iKTt2YXIgcj1lLnBhcnNlKHRbMV0sMSxEdCk7cmV0dXJuIHI/bmV3IGNlKHIpOmUuZXJyb3IoIk5vIGltYWdlIG5hbWUgcHJvdmlkZWQuIil9LGNlLnByb3RvdHlwZS5ldmFsdWF0ZT1mdW5jdGlvbih0KXt2YXIgZT10aGlzLmlucHV0LmV2YWx1YXRlKHQpLHI9ZWUuZnJvbVN0cmluZyhlKTtyZXR1cm4gciYmdC5hdmFpbGFibGVJbWFnZXMmJihyLmF2YWlsYWJsZT10LmF2YWlsYWJsZUltYWdlcy5pbmRleE9mKGUpPi0xKSxyfSxjZS5wcm90b3R5cGUuZWFjaENoaWxkPWZ1bmN0aW9uKHQpe3QodGhpcy5pbnB1dCk7fSxjZS5wcm90b3R5cGUub3V0cHV0RGVmaW5lZD1mdW5jdGlvbigpe3JldHVybiAhMX0sY2UucHJvdG90eXBlLnNlcmlhbGl6ZT1mdW5jdGlvbigpe3JldHVybiBbImltYWdlIix0aGlzLmlucHV0LnNlcmlhbGl6ZSgpXX07dmFyIGhlPXsidG8tYm9vbGVhbiI6THQsInRvLWNvbG9yIjpSdCwidG8tbnVtYmVyIjpGdCwidG8tc3RyaW5nIjpEdH0sZmU9ZnVuY3Rpb24odCxlKXt0aGlzLnR5cGU9dCx0aGlzLmFyZ3M9ZTt9O2ZlLnBhcnNlPWZ1bmN0aW9uKHQsZSl7aWYodC5sZW5ndGg8MilyZXR1cm4gZS5lcnJvcigiRXhwZWN0ZWQgYXQgbGVhc3Qgb25lIGFyZ3VtZW50LiIpO3ZhciByPXRbMF07aWYoKCJ0by1ib29sZWFuIj09PXJ8fCJ0by1zdHJpbmciPT09cikmJjIhPT10Lmxlbmd0aClyZXR1cm4gZS5lcnJvcigiRXhwZWN0ZWQgb25lIGFyZ3VtZW50LiIpO2Zvcih2YXIgbj1oZVtyXSxpPVtdLGE9MTthPHQubGVuZ3RoO2ErKyl7dmFyIG89ZS5wYXJzZSh0W2FdLGEsVXQpO2lmKCFvKXJldHVybiBudWxsO2kucHVzaChvKTt9cmV0dXJuIG5ldyBmZShuLGkpfSxmZS5wcm90b3R5cGUuZXZhbHVhdGU9ZnVuY3Rpb24odCl7aWYoImJvb2xlYW4iPT09dGhpcy50eXBlLmtpbmQpcmV0dXJuIEJvb2xlYW4odGhpcy5hcmdzWzBdLmV2YWx1YXRlKHQpKTtpZigiY29sb3IiPT09dGhpcy50eXBlLmtpbmQpe2Zvcih2YXIgZSxyLG49MCxpPXRoaXMuYXJncztuPGkubGVuZ3RoO24rPTEpe2lmKHI9bnVsbCwoZT1pW25dLmV2YWx1YXRlKHQpKWluc3RhbmNlb2YgJHQpcmV0dXJuIGU7aWYoInN0cmluZyI9PXR5cGVvZiBlKXt2YXIgYT10LnBhcnNlQ29sb3IoZSk7aWYoYSlyZXR1cm4gYX1lbHNlIGlmKEFycmF5LmlzQXJyYXkoZSkmJiEocj1lLmxlbmd0aDwzfHxlLmxlbmd0aD40PyJJbnZhbGlkIHJiZ2EgdmFsdWUgIitKU09OLnN0cmluZ2lmeShlKSsiOiBleHBlY3RlZCBhbiBhcnJheSBjb250YWluaW5nIGVpdGhlciB0aHJlZSBvciBmb3VyIG51bWVyaWMgdmFsdWVzLiI6cmUoZVswXSxlWzFdLGVbMl0sZVszXSkpKXJldHVybiBuZXcgJHQoZVswXS8yNTUsZVsxXS8yNTUsZVsyXS8yNTUsZVszXSl9dGhyb3cgbmV3IHNlKHJ8fCJDb3VsZCBub3QgcGFyc2UgY29sb3IgZnJvbSB2YWx1ZSAnIisoInN0cmluZyI9PXR5cGVvZiBlP2U6U3RyaW5nKEpTT04uc3RyaW5naWZ5KGUpKSkrIiciKX1pZigibnVtYmVyIj09PXRoaXMudHlwZS5raW5kKXtmb3IodmFyIG89bnVsbCxzPTAsdT10aGlzLmFyZ3M7czx1Lmxlbmd0aDtzKz0xKXtpZihudWxsPT09KG89dVtzXS5ldmFsdWF0ZSh0KSkpcmV0dXJuIDA7dmFyIGw9TnVtYmVyKG8pO2lmKCFpc05hTihsKSlyZXR1cm4gbH10aHJvdyBuZXcgc2UoIkNvdWxkIG5vdCBjb252ZXJ0ICIrSlNPTi5zdHJpbmdpZnkobykrIiB0byBudW1iZXIuIil9cmV0dXJuICJmb3JtYXR0ZWQiPT09dGhpcy50eXBlLmtpbmQ/dGUuZnJvbVN0cmluZyhhZSh0aGlzLmFyZ3NbMF0uZXZhbHVhdGUodCkpKToicmVzb2x2ZWRJbWFnZSI9PT10aGlzLnR5cGUua2luZD9lZS5mcm9tU3RyaW5nKGFlKHRoaXMuYXJnc1swXS5ldmFsdWF0ZSh0KSkpOmFlKHRoaXMuYXJnc1swXS5ldmFsdWF0ZSh0KSl9LGZlLnByb3RvdHlwZS5lYWNoQ2hpbGQ9ZnVuY3Rpb24odCl7dGhpcy5hcmdzLmZvckVhY2godCk7fSxmZS5wcm90b3R5cGUub3V0cHV0RGVmaW5lZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmFyZ3MuZXZlcnkoKGZ1bmN0aW9uKHQpe3JldHVybiB0Lm91dHB1dERlZmluZWQoKX0pKX0sZmUucHJvdG90eXBlLnNlcmlhbGl6ZT1mdW5jdGlvbigpe2lmKCJmb3JtYXR0ZWQiPT09dGhpcy50eXBlLmtpbmQpcmV0dXJuIG5ldyBwZShbe2NvbnRlbnQ6dGhpcy5hcmdzWzBdLHNjYWxlOm51bGwsZm9udDpudWxsLHRleHRDb2xvcjpudWxsfV0pLnNlcmlhbGl6ZSgpO2lmKCJyZXNvbHZlZEltYWdlIj09PXRoaXMudHlwZS5raW5kKXJldHVybiBuZXcgY2UodGhpcy5hcmdzWzBdKS5zZXJpYWxpemUoKTt2YXIgdD1bInRvLSIrdGhpcy50eXBlLmtpbmRdO3JldHVybiB0aGlzLmVhY2hDaGlsZCgoZnVuY3Rpb24oZSl7dC5wdXNoKGUuc2VyaWFsaXplKCkpO30pKSx0fTt2YXIgeWU9WyJVbmtub3duIiwiUG9pbnQiLCJMaW5lU3RyaW5nIiwiUG9seWdvbiJdLGRlPWZ1bmN0aW9uKCl7dGhpcy5nbG9iYWxzPW51bGwsdGhpcy5mZWF0dXJlPW51bGwsdGhpcy5mZWF0dXJlU3RhdGU9bnVsbCx0aGlzLmZvcm1hdHRlZFNlY3Rpb249bnVsbCx0aGlzLl9wYXJzZUNvbG9yQ2FjaGU9e30sdGhpcy5hdmFpbGFibGVJbWFnZXM9bnVsbCx0aGlzLmNhbm9uaWNhbD1udWxsO307ZGUucHJvdG90eXBlLmlkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZmVhdHVyZSYmImlkImluIHRoaXMuZmVhdHVyZT90aGlzLmZlYXR1cmUuaWQ6bnVsbH0sZGUucHJvdG90eXBlLmdlb21ldHJ5VHlwZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmZlYXR1cmU/Im51bWJlciI9PXR5cGVvZiB0aGlzLmZlYXR1cmUudHlwZT95ZVt0aGlzLmZlYXR1cmUudHlwZV06dGhpcy5mZWF0dXJlLnR5cGU6bnVsbH0sZGUucHJvdG90eXBlLmdlb21ldHJ5PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZmVhdHVyZSYmImdlb21ldHJ5ImluIHRoaXMuZmVhdHVyZT90aGlzLmZlYXR1cmUuZ2VvbWV0cnk6bnVsbH0sZGUucHJvdG90eXBlLmNhbm9uaWNhbElEPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY2Fub25pY2FsfSxkZS5wcm90b3R5cGUucHJvcGVydGllcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmZlYXR1cmUmJnRoaXMuZmVhdHVyZS5wcm9wZXJ0aWVzfHx7fX0sZGUucHJvdG90eXBlLnBhcnNlQ29sb3I9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fcGFyc2VDb2xvckNhY2hlW3RdO3JldHVybiBlfHwoZT10aGlzLl9wYXJzZUNvbG9yQ2FjaGVbdF09JHQucGFyc2UodCkpLGV9O3ZhciBtZT1mdW5jdGlvbih0LGUscixuKXt0aGlzLm5hbWU9dCx0aGlzLnR5cGU9ZSx0aGlzLl9ldmFsdWF0ZT1yLHRoaXMuYXJncz1uO307bWUucHJvdG90eXBlLmV2YWx1YXRlPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9ldmFsdWF0ZSh0LHRoaXMuYXJncyl9LG1lLnByb3RvdHlwZS5lYWNoQ2hpbGQ9ZnVuY3Rpb24odCl7dGhpcy5hcmdzLmZvckVhY2godCk7fSxtZS5wcm90b3R5cGUub3V0cHV0RGVmaW5lZD1mdW5jdGlvbigpe3JldHVybiAhMX0sbWUucHJvdG90eXBlLnNlcmlhbGl6ZT1mdW5jdGlvbigpe3JldHVybiBbdGhpcy5uYW1lXS5jb25jYXQodGhpcy5hcmdzLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIHQuc2VyaWFsaXplKCl9KSkpfSxtZS5wYXJzZT1mdW5jdGlvbih0LGUpe3ZhciByLG49dFswXSxpPW1lLmRlZmluaXRpb25zW25dO2lmKCFpKXJldHVybiBlLmVycm9yKCdVbmtub3duIGV4cHJlc3Npb24gIicrbisnIi4gSWYgeW91IHdhbnRlZCBhIGxpdGVyYWwgYXJyYXksIHVzZSBbImxpdGVyYWwiLCBbLi4uXV0uJywwKTtmb3IodmFyIGE9QXJyYXkuaXNBcnJheShpKT9pWzBdOmkudHlwZSxvPUFycmF5LmlzQXJyYXkoaSk/W1tpWzFdLGlbMl1dXTppLm92ZXJsb2FkcyxzPW8uZmlsdGVyKChmdW5jdGlvbihlKXt2YXIgcj1lWzBdO3JldHVybiAhQXJyYXkuaXNBcnJheShyKXx8ci5sZW5ndGg9PT10Lmxlbmd0aC0xfSkpLHU9bnVsbCxsPTAscD1zO2w8cC5sZW5ndGg7bCs9MSl7dmFyIGM9cFtsXSxoPWNbMF0sZj1jWzFdO3U9bmV3IFJlKGUucmVnaXN0cnksZS5wYXRoLG51bGwsZS5zY29wZSk7Zm9yKHZhciB5PVtdLGQ9ITEsbT0xO208dC5sZW5ndGg7bSsrKXt2YXIgdj10W21dLGc9QXJyYXkuaXNBcnJheShoKT9oW20tMV06aC50eXBlLHg9dS5wYXJzZSh2LDEreS5sZW5ndGgsZyk7aWYoIXgpe2Q9ITA7YnJlYWt9eS5wdXNoKHgpO31pZighZClpZihBcnJheS5pc0FycmF5KGgpJiZoLmxlbmd0aCE9PXkubGVuZ3RoKXUuZXJyb3IoIkV4cGVjdGVkICIraC5sZW5ndGgrIiBhcmd1bWVudHMsIGJ1dCBmb3VuZCAiK3kubGVuZ3RoKyIgaW5zdGVhZC4iKTtlbHNlIHtmb3IodmFyIGI9MDtiPHkubGVuZ3RoO2IrKyl7dmFyIHc9QXJyYXkuaXNBcnJheShoKT9oW2JdOmgudHlwZSxfPXlbYl07dS5jb25jYXQoYisxKS5jaGVja1N1YnR5cGUodyxfLnR5cGUpO31pZigwPT09dS5lcnJvcnMubGVuZ3RoKXJldHVybiBuZXcgbWUobixhLGYseSl9fWlmKDE9PT1zLmxlbmd0aCkocj1lLmVycm9ycykucHVzaC5hcHBseShyLHUuZXJyb3JzKTtlbHNlIHtmb3IodmFyIEE9KHMubGVuZ3RoP3M6bykubWFwKChmdW5jdGlvbih0KXt2YXIgZTtyZXR1cm4gZT10WzBdLEFycmF5LmlzQXJyYXkoZSk/IigiK2UubWFwKEd0KS5qb2luKCIsICIpKyIpIjoiKCIrR3QoZS50eXBlKSsiLi4uKSJ9KSkuam9pbigiIHwgIiksUz1bXSxrPTE7azx0Lmxlbmd0aDtrKyspe3ZhciBJPWUucGFyc2UodFtrXSwxK1MubGVuZ3RoKTtpZighSSlyZXR1cm4gbnVsbDtTLnB1c2goR3QoSS50eXBlKSk7fWUuZXJyb3IoIkV4cGVjdGVkIGFyZ3VtZW50cyBvZiB0eXBlICIrQSsiLCBidXQgZm91bmQgKCIrUy5qb2luKCIsICIpKyIpIGluc3RlYWQuIik7fXJldHVybiBudWxsfSxtZS5yZWdpc3Rlcj1mdW5jdGlvbih0LGUpe2Zvcih2YXIgciBpbiBtZS5kZWZpbml0aW9ucz1lLGUpdFtyXT1tZTt9O3ZhciB2ZT1mdW5jdGlvbih0LGUscil7dGhpcy50eXBlPWp0LHRoaXMubG9jYWxlPXIsdGhpcy5jYXNlU2Vuc2l0aXZlPXQsdGhpcy5kaWFjcml0aWNTZW5zaXRpdmU9ZTt9O2Z1bmN0aW9uIGdlKHQsZSl7dFswXT1NYXRoLm1pbih0WzBdLGVbMF0pLHRbMV09TWF0aC5taW4odFsxXSxlWzFdKSx0WzJdPU1hdGgubWF4KHRbMl0sZVswXSksdFszXT1NYXRoLm1heCh0WzNdLGVbMV0pO31mdW5jdGlvbiB4ZSh0LGUpe3JldHVybiAhKHRbMF08PWVbMF18fHRbMl0+PWVbMl18fHRbMV08PWVbMV18fHRbM10+PWVbM10pfWZ1bmN0aW9uIGJlKHQsZSl7dmFyIHI9KDE4MCt0WzBdKS8zNjAsbj0oMTgwLTE4MC9NYXRoLlBJKk1hdGgubG9nKE1hdGgudGFuKE1hdGguUEkvNCt0WzFdKk1hdGguUEkvMzYwKSkpLzM2MCxpPU1hdGgucG93KDIsZS56KTtyZXR1cm4gW01hdGgucm91bmQocippKjgxOTIpLE1hdGgucm91bmQobippKjgxOTIpXX1mdW5jdGlvbiB3ZSh0LGUscil7cmV0dXJuIGVbMV0+dFsxXSE9clsxXT50WzFdJiZ0WzBdPChyWzBdLWVbMF0pKih0WzFdLWVbMV0pLyhyWzFdLWVbMV0pK2VbMF19ZnVuY3Rpb24gX2UodCxlKXtmb3IodmFyIHIsbixpLGEsbyxzLHUsbD0hMSxwPTAsYz1lLmxlbmd0aDtwPGM7cCsrKWZvcih2YXIgaD1lW3BdLGY9MCx5PWgubGVuZ3RoO2Y8eS0xO2YrKyl7aWYoKGE9KHI9dClbMF0tKG49aFtmXSlbMF0pKih1PXJbMV0tKGk9aFtmKzFdKVsxXSktKHM9clswXS1pWzBdKSoobz1yWzFdLW5bMV0pPT0wJiZhKnM8PTAmJm8qdTw9MClyZXR1cm4gITE7d2UodCxoW2ZdLGhbZisxXSkmJihsPSFsKTt9cmV0dXJuIGx9ZnVuY3Rpb24gQWUodCxlKXtmb3IodmFyIHI9MDtyPGUubGVuZ3RoO3IrKylpZihfZSh0LGVbcl0pKXJldHVybiAhMDtyZXR1cm4gITF9ZnVuY3Rpb24gU2UodCxlLHIsbil7dmFyIGk9blswXS1yWzBdLGE9blsxXS1yWzFdLG89KHRbMF0tclswXSkqYS1pKih0WzFdLXJbMV0pLHM9KGVbMF0tclswXSkqYS1pKihlWzFdLXJbMV0pO3JldHVybiBvPjAmJnM8MHx8bzwwJiZzPjB9ZnVuY3Rpb24ga2UodCxlLHIpe2Zvcih2YXIgbj0wLGk9cjtuPGkubGVuZ3RoO24rPTEpZm9yKHZhciBhPWlbbl0sbz0wO288YS5sZW5ndGgtMTsrK28paWYoMCE9KGM9WyhwPWFbbysxXSlbMF0tKGw9YVtvXSlbMF0scFsxXS1sWzFdXSlbMF0qKGg9Wyh1PWUpWzBdLShzPXQpWzBdLHVbMV0tc1sxXV0pWzFdLWNbMV0qaFswXSYmU2Uocyx1LGwscCkmJlNlKGwscCxzLHUpKXJldHVybiAhMDt2YXIgcyx1LGwscCxjLGg7cmV0dXJuICExfWZ1bmN0aW9uIEllKHQsZSl7Zm9yKHZhciByPTA7cjx0Lmxlbmd0aDsrK3IpaWYoIV9lKHRbcl0sZSkpcmV0dXJuICExO2Zvcih2YXIgbj0wO248dC5sZW5ndGgtMTsrK24paWYoa2UodFtuXSx0W24rMV0sZSkpcmV0dXJuICExO3JldHVybiAhMH1mdW5jdGlvbiB6ZSh0LGUpe2Zvcih2YXIgcj0wO3I8ZS5sZW5ndGg7cisrKWlmKEllKHQsZVtyXSkpcmV0dXJuICEwO3JldHVybiAhMX1mdW5jdGlvbiBDZSh0LGUscil7Zm9yKHZhciBuPVtdLGk9MDtpPHQubGVuZ3RoO2krKyl7Zm9yKHZhciBhPVtdLG89MDtvPHRbaV0ubGVuZ3RoO28rKyl7dmFyIHM9YmUodFtpXVtvXSxyKTtnZShlLHMpLGEucHVzaChzKTt9bi5wdXNoKGEpO31yZXR1cm4gbn1mdW5jdGlvbiBNZSh0LGUscil7Zm9yKHZhciBuPVtdLGk9MDtpPHQubGVuZ3RoO2krKyl7dmFyIGE9Q2UodFtpXSxlLHIpO24ucHVzaChhKTt9cmV0dXJuIG59ZnVuY3Rpb24gRWUodCxlLHIsbil7aWYodFswXTxyWzBdfHx0WzBdPnJbMl0pe3ZhciBpPS41Km4sYT10WzBdLXJbMF0+aT8tbjpyWzBdLXRbMF0+aT9uOjA7MD09PWEmJihhPXRbMF0tclsyXT5pPy1uOnJbMl0tdFswXT5pP246MCksdFswXSs9YTt9Z2UoZSx0KTt9ZnVuY3Rpb24gVGUodCxlLHIsbil7Zm9yKHZhciBpPTgxOTIqTWF0aC5wb3coMixuLnopLGE9WzgxOTIqbi54LDgxOTIqbi55XSxvPVtdLHM9MCx1PXQ7czx1Lmxlbmd0aDtzKz0xKWZvcih2YXIgbD0wLHA9dVtzXTtsPHAubGVuZ3RoO2wrPTEpe3ZhciBjPXBbbF0saD1bYy54K2FbMF0sYy55K2FbMV1dO0VlKGgsZSxyLGkpLG8ucHVzaChoKTt9cmV0dXJuIG99ZnVuY3Rpb24gUGUodCxlLHIsbil7Zm9yKHZhciBpLGE9ODE5MipNYXRoLnBvdygyLG4ueiksbz1bODE5MipuLngsODE5MipuLnldLHM9W10sdT0wLGw9dDt1PGwubGVuZ3RoO3UrPTEpe2Zvcih2YXIgcD1bXSxjPTAsaD1sW3VdO2M8aC5sZW5ndGg7Yys9MSl7dmFyIGY9aFtjXSx5PVtmLngrb1swXSxmLnkrb1sxXV07Z2UoZSx5KSxwLnB1c2goeSk7fXMucHVzaChwKTt9aWYoZVsyXS1lWzBdPD1hLzIpeyhpPWUpWzBdPWlbMV09MS8wLGlbMl09aVszXT0tMS8wO2Zvcih2YXIgZD0wLG09cztkPG0ubGVuZ3RoO2QrPTEpZm9yKHZhciB2PTAsZz1tW2RdO3Y8Zy5sZW5ndGg7dis9MSlFZShnW3ZdLGUscixhKTt9cmV0dXJuIHN9dmUucGFyc2U9ZnVuY3Rpb24odCxlKXtpZigyIT09dC5sZW5ndGgpcmV0dXJuIGUuZXJyb3IoIkV4cGVjdGVkIG9uZSBhcmd1bWVudC4iKTt2YXIgcj10WzFdO2lmKCJvYmplY3QiIT10eXBlb2Ygcnx8QXJyYXkuaXNBcnJheShyKSlyZXR1cm4gZS5lcnJvcigiQ29sbGF0b3Igb3B0aW9ucyBhcmd1bWVudCBtdXN0IGJlIGFuIG9iamVjdC4iKTt2YXIgbj1lLnBhcnNlKHZvaWQgMCE9PXJbImNhc2Utc2Vuc2l0aXZlIl0mJnJbImNhc2Utc2Vuc2l0aXZlIl0sMSxMdCk7aWYoIW4pcmV0dXJuIG51bGw7dmFyIGk9ZS5wYXJzZSh2b2lkIDAhPT1yWyJkaWFjcml0aWMtc2Vuc2l0aXZlIl0mJnJbImRpYWNyaXRpYy1zZW5zaXRpdmUiXSwxLEx0KTtpZighaSlyZXR1cm4gbnVsbDt2YXIgYT1udWxsO3JldHVybiByLmxvY2FsZSYmIShhPWUucGFyc2Uoci5sb2NhbGUsMSxEdCkpP251bGw6bmV3IHZlKG4saSxhKX0sdmUucHJvdG90eXBlLmV2YWx1YXRlPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgV3QodGhpcy5jYXNlU2Vuc2l0aXZlLmV2YWx1YXRlKHQpLHRoaXMuZGlhY3JpdGljU2Vuc2l0aXZlLmV2YWx1YXRlKHQpLHRoaXMubG9jYWxlP3RoaXMubG9jYWxlLmV2YWx1YXRlKHQpOm51bGwpfSx2ZS5wcm90b3R5cGUuZWFjaENoaWxkPWZ1bmN0aW9uKHQpe3QodGhpcy5jYXNlU2Vuc2l0aXZlKSx0KHRoaXMuZGlhY3JpdGljU2Vuc2l0aXZlKSx0aGlzLmxvY2FsZSYmdCh0aGlzLmxvY2FsZSk7fSx2ZS5wcm90b3R5cGUub3V0cHV0RGVmaW5lZD1mdW5jdGlvbigpe3JldHVybiAhMX0sdmUucHJvdG90eXBlLnNlcmlhbGl6ZT1mdW5jdGlvbigpe3ZhciB0PXt9O3JldHVybiB0WyJjYXNlLXNlbnNpdGl2ZSJdPXRoaXMuY2FzZVNlbnNpdGl2ZS5zZXJpYWxpemUoKSx0WyJkaWFjcml0aWMtc2Vuc2l0aXZlIl09dGhpcy5kaWFjcml0aWNTZW5zaXRpdmUuc2VyaWFsaXplKCksdGhpcy5sb2NhbGUmJih0LmxvY2FsZT10aGlzLmxvY2FsZS5zZXJpYWxpemUoKSksWyJjb2xsYXRvciIsdF19O3ZhciBCZT1mdW5jdGlvbih0LGUpe3RoaXMudHlwZT1MdCx0aGlzLmdlb2pzb249dCx0aGlzLmdlb21ldHJpZXM9ZTt9O2Z1bmN0aW9uIFZlKHQpe2lmKHQgaW5zdGFuY2VvZiBtZSl7aWYoImdldCI9PT10Lm5hbWUmJjE9PT10LmFyZ3MubGVuZ3RoKXJldHVybiAhMTtpZigiZmVhdHVyZS1zdGF0ZSI9PT10Lm5hbWUpcmV0dXJuICExO2lmKCJoYXMiPT09dC5uYW1lJiYxPT09dC5hcmdzLmxlbmd0aClyZXR1cm4gITE7aWYoInByb3BlcnRpZXMiPT09dC5uYW1lfHwiZ2VvbWV0cnktdHlwZSI9PT10Lm5hbWV8fCJpZCI9PT10Lm5hbWUpcmV0dXJuICExO2lmKC9eZmlsdGVyLS8udGVzdCh0Lm5hbWUpKXJldHVybiAhMX1pZih0IGluc3RhbmNlb2YgQmUpcmV0dXJuICExO3ZhciBlPSEwO3JldHVybiB0LmVhY2hDaGlsZCgoZnVuY3Rpb24odCl7ZSYmIVZlKHQpJiYoZT0hMSk7fSkpLGV9ZnVuY3Rpb24gRmUodCl7aWYodCBpbnN0YW5jZW9mIG1lJiYiZmVhdHVyZS1zdGF0ZSI9PT10Lm5hbWUpcmV0dXJuICExO3ZhciBlPSEwO3JldHVybiB0LmVhY2hDaGlsZCgoZnVuY3Rpb24odCl7ZSYmIUZlKHQpJiYoZT0hMSk7fSkpLGV9ZnVuY3Rpb24gRGUodCxlKXtpZih0IGluc3RhbmNlb2YgbWUmJmUuaW5kZXhPZih0Lm5hbWUpPj0wKXJldHVybiAhMTt2YXIgcj0hMDtyZXR1cm4gdC5lYWNoQ2hpbGQoKGZ1bmN0aW9uKHQpe3ImJiFEZSh0LGUpJiYocj0hMSk7fSkpLHJ9QmUucGFyc2U9ZnVuY3Rpb24odCxlKXtpZigyIT09dC5sZW5ndGgpcmV0dXJuIGUuZXJyb3IoIid3aXRoaW4nIGV4cHJlc3Npb24gcmVxdWlyZXMgZXhhY3RseSBvbmUgYXJndW1lbnQsIGJ1dCBmb3VuZCAiKyh0Lmxlbmd0aC0xKSsiIGluc3RlYWQuIik7aWYobmUodFsxXSkpe3ZhciByPXRbMV07aWYoIkZlYXR1cmVDb2xsZWN0aW9uIj09PXIudHlwZSlmb3IodmFyIG49MDtuPHIuZmVhdHVyZXMubGVuZ3RoOysrbil7dmFyIGk9ci5mZWF0dXJlc1tuXS5nZW9tZXRyeS50eXBlO2lmKCJQb2x5Z29uIj09PWl8fCJNdWx0aVBvbHlnb24iPT09aSlyZXR1cm4gbmV3IEJlKHIsci5mZWF0dXJlc1tuXS5nZW9tZXRyeSl9ZWxzZSBpZigiRmVhdHVyZSI9PT1yLnR5cGUpe3ZhciBhPXIuZ2VvbWV0cnkudHlwZTtpZigiUG9seWdvbiI9PT1hfHwiTXVsdGlQb2x5Z29uIj09PWEpcmV0dXJuIG5ldyBCZShyLHIuZ2VvbWV0cnkpfWVsc2UgaWYoIlBvbHlnb24iPT09ci50eXBlfHwiTXVsdGlQb2x5Z29uIj09PXIudHlwZSlyZXR1cm4gbmV3IEJlKHIscil9cmV0dXJuIGUuZXJyb3IoIid3aXRoaW4nIGV4cHJlc3Npb24gcmVxdWlyZXMgdmFsaWQgZ2VvanNvbiBvYmplY3QgdGhhdCBjb250YWlucyBwb2x5Z29uIGdlb21ldHJ5IHR5cGUuIil9LEJlLnByb3RvdHlwZS5ldmFsdWF0ZT1mdW5jdGlvbih0KXtpZihudWxsIT10Lmdlb21ldHJ5KCkmJm51bGwhPXQuY2Fub25pY2FsSUQoKSl7aWYoIlBvaW50Ij09PXQuZ2VvbWV0cnlUeXBlKCkpcmV0dXJuIGZ1bmN0aW9uKHQsZSl7dmFyIHI9WzEvMCwxLzAsLTEvMCwtMS8wXSxuPVsxLzAsMS8wLC0xLzAsLTEvMF0saT10LmNhbm9uaWNhbElEKCk7aWYoIlBvbHlnb24iPT09ZS50eXBlKXt2YXIgYT1DZShlLmNvb3JkaW5hdGVzLG4saSksbz1UZSh0Lmdlb21ldHJ5KCkscixuLGkpO2lmKCF4ZShyLG4pKXJldHVybiAhMTtmb3IodmFyIHM9MCx1PW87czx1Lmxlbmd0aDtzKz0xKWlmKCFfZSh1W3NdLGEpKXJldHVybiAhMX1pZigiTXVsdGlQb2x5Z29uIj09PWUudHlwZSl7dmFyIGw9TWUoZS5jb29yZGluYXRlcyxuLGkpLHA9VGUodC5nZW9tZXRyeSgpLHIsbixpKTtpZigheGUocixuKSlyZXR1cm4gITE7Zm9yKHZhciBjPTAsaD1wO2M8aC5sZW5ndGg7Yys9MSlpZighQWUoaFtjXSxsKSlyZXR1cm4gITF9cmV0dXJuICEwfSh0LHRoaXMuZ2VvbWV0cmllcyk7aWYoIkxpbmVTdHJpbmciPT09dC5nZW9tZXRyeVR5cGUoKSlyZXR1cm4gZnVuY3Rpb24odCxlKXt2YXIgcj1bMS8wLDEvMCwtMS8wLC0xLzBdLG49WzEvMCwxLzAsLTEvMCwtMS8wXSxpPXQuY2Fub25pY2FsSUQoKTtpZigiUG9seWdvbiI9PT1lLnR5cGUpe3ZhciBhPUNlKGUuY29vcmRpbmF0ZXMsbixpKSxvPVBlKHQuZ2VvbWV0cnkoKSxyLG4saSk7aWYoIXhlKHIsbikpcmV0dXJuICExO2Zvcih2YXIgcz0wLHU9bztzPHUubGVuZ3RoO3MrPTEpaWYoIUllKHVbc10sYSkpcmV0dXJuICExfWlmKCJNdWx0aVBvbHlnb24iPT09ZS50eXBlKXt2YXIgbD1NZShlLmNvb3JkaW5hdGVzLG4saSkscD1QZSh0Lmdlb21ldHJ5KCkscixuLGkpO2lmKCF4ZShyLG4pKXJldHVybiAhMTtmb3IodmFyIGM9MCxoPXA7YzxoLmxlbmd0aDtjKz0xKWlmKCF6ZShoW2NdLGwpKXJldHVybiAhMX1yZXR1cm4gITB9KHQsdGhpcy5nZW9tZXRyaWVzKX1yZXR1cm4gITF9LEJlLnByb3RvdHlwZS5lYWNoQ2hpbGQ9ZnVuY3Rpb24oKXt9LEJlLnByb3RvdHlwZS5vdXRwdXREZWZpbmVkPWZ1bmN0aW9uKCl7cmV0dXJuICEwfSxCZS5wcm90b3R5cGUuc2VyaWFsaXplPWZ1bmN0aW9uKCl7cmV0dXJuIFsid2l0aGluIix0aGlzLmdlb2pzb25dfTt2YXIgTGU9ZnVuY3Rpb24odCxlKXt0aGlzLnR5cGU9ZS50eXBlLHRoaXMubmFtZT10LHRoaXMuYm91bmRFeHByZXNzaW9uPWU7fTtMZS5wYXJzZT1mdW5jdGlvbih0LGUpe2lmKDIhPT10Lmxlbmd0aHx8InN0cmluZyIhPXR5cGVvZiB0WzFdKXJldHVybiBlLmVycm9yKCIndmFyJyBleHByZXNzaW9uIHJlcXVpcmVzIGV4YWN0bHkgb25lIHN0cmluZyBsaXRlcmFsIGFyZ3VtZW50LiIpO3ZhciByPXRbMV07cmV0dXJuIGUuc2NvcGUuaGFzKHIpP25ldyBMZShyLGUuc2NvcGUuZ2V0KHIpKTplLmVycm9yKCdVbmtub3duIHZhcmlhYmxlICInK3IrJyIuIE1ha2Ugc3VyZSAiJytyKyciIGhhcyBiZWVuIGJvdW5kIGluIGFuIGVuY2xvc2luZyAibGV0IiBleHByZXNzaW9uIGJlZm9yZSB1c2luZyBpdC4nLDEpfSxMZS5wcm90b3R5cGUuZXZhbHVhdGU9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuYm91bmRFeHByZXNzaW9uLmV2YWx1YXRlKHQpfSxMZS5wcm90b3R5cGUuZWFjaENoaWxkPWZ1bmN0aW9uKCl7fSxMZS5wcm90b3R5cGUub3V0cHV0RGVmaW5lZD1mdW5jdGlvbigpe3JldHVybiAhMX0sTGUucHJvdG90eXBlLnNlcmlhbGl6ZT1mdW5jdGlvbigpe3JldHVybiBbInZhciIsdGhpcy5uYW1lXX07dmFyIFJlPWZ1bmN0aW9uKHQsZSxyLG4saSl7dm9pZCAwPT09ZSYmKGU9W10pLHZvaWQgMD09PW4mJihuPW5ldyBCdCksdm9pZCAwPT09aSYmKGk9W10pLHRoaXMucmVnaXN0cnk9dCx0aGlzLnBhdGg9ZSx0aGlzLmtleT1lLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuICJbIit0KyJdIn0pKS5qb2luKCIiKSx0aGlzLnNjb3BlPW4sdGhpcy5lcnJvcnM9aSx0aGlzLmV4cGVjdGVkVHlwZT1yO307ZnVuY3Rpb24gT2UodCxlKXtmb3IodmFyIHIsbj10Lmxlbmd0aC0xLGk9MCxhPW4sbz0wO2k8PWE7KWlmKChyPXRbbz1NYXRoLmZsb29yKChpK2EpLzIpXSk8PWUpe2lmKG89PT1ufHxlPHRbbysxXSlyZXR1cm4gbztpPW8rMTt9ZWxzZSB7aWYoIShyPmUpKXRocm93IG5ldyBzZSgiSW5wdXQgaXMgbm90IGEgbnVtYmVyLiIpO2E9by0xO31yZXR1cm4gMH1SZS5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24odCxlLHIsbixpKXtyZXR1cm4gdm9pZCAwPT09aSYmKGk9e30pLGU/dGhpcy5jb25jYXQoZSxyLG4pLl9wYXJzZSh0LGkpOnRoaXMuX3BhcnNlKHQsaSl9LFJlLnByb3RvdHlwZS5fcGFyc2U9ZnVuY3Rpb24odCxlKXtmdW5jdGlvbiByKHQsZSxyKXtyZXR1cm4gImFzc2VydCI9PT1yP25ldyBsZShlLFt0XSk6ImNvZXJjZSI9PT1yP25ldyBmZShlLFt0XSk6dH1pZihudWxsIT09dCYmInN0cmluZyIhPXR5cGVvZiB0JiYiYm9vbGVhbiIhPXR5cGVvZiB0JiYibnVtYmVyIiE9dHlwZW9mIHR8fCh0PVsibGl0ZXJhbCIsdF0pLEFycmF5LmlzQXJyYXkodCkpe2lmKDA9PT10Lmxlbmd0aClyZXR1cm4gdGhpcy5lcnJvcignRXhwZWN0ZWQgYW4gYXJyYXkgd2l0aCBhdCBsZWFzdCBvbmUgZWxlbWVudC4gSWYgeW91IHdhbnRlZCBhIGxpdGVyYWwgYXJyYXksIHVzZSBbImxpdGVyYWwiLCBbXV0uJyk7dmFyIG49dFswXTtpZigic3RyaW5nIiE9dHlwZW9mIG4pcmV0dXJuIHRoaXMuZXJyb3IoIkV4cHJlc3Npb24gbmFtZSBtdXN0IGJlIGEgc3RyaW5nLCBidXQgZm91bmQgIit0eXBlb2YgbisnIGluc3RlYWQuIElmIHlvdSB3YW50ZWQgYSBsaXRlcmFsIGFycmF5LCB1c2UgWyJsaXRlcmFsIiwgWy4uLl1dLicsMCksbnVsbDt2YXIgaT10aGlzLnJlZ2lzdHJ5W25dO2lmKGkpe3ZhciBhPWkucGFyc2UodCx0aGlzKTtpZighYSlyZXR1cm4gbnVsbDtpZih0aGlzLmV4cGVjdGVkVHlwZSl7dmFyIG89dGhpcy5leHBlY3RlZFR5cGUscz1hLnR5cGU7aWYoInN0cmluZyIhPT1vLmtpbmQmJiJudW1iZXIiIT09by5raW5kJiYiYm9vbGVhbiIhPT1vLmtpbmQmJiJvYmplY3QiIT09by5raW5kJiYiYXJyYXkiIT09by5raW5kfHwidmFsdWUiIT09cy5raW5kKWlmKCJjb2xvciIhPT1vLmtpbmQmJiJmb3JtYXR0ZWQiIT09by5raW5kJiYicmVzb2x2ZWRJbWFnZSIhPT1vLmtpbmR8fCJ2YWx1ZSIhPT1zLmtpbmQmJiJzdHJpbmciIT09cy5raW5kKXtpZih0aGlzLmNoZWNrU3VidHlwZShvLHMpKXJldHVybiBudWxsfWVsc2UgYT1yKGEsbyxlLnR5cGVBbm5vdGF0aW9ufHwiY29lcmNlIik7ZWxzZSBhPXIoYSxvLGUudHlwZUFubm90YXRpb258fCJhc3NlcnQiKTt9aWYoIShhIGluc3RhbmNlb2Ygb2UpJiYicmVzb2x2ZWRJbWFnZSIhPT1hLnR5cGUua2luZCYmZnVuY3Rpb24gdChlKXtpZihlIGluc3RhbmNlb2YgTGUpcmV0dXJuIHQoZS5ib3VuZEV4cHJlc3Npb24pO2lmKGUgaW5zdGFuY2VvZiBtZSYmImVycm9yIj09PWUubmFtZSlyZXR1cm4gITE7aWYoZSBpbnN0YW5jZW9mIHZlKXJldHVybiAhMTtpZihlIGluc3RhbmNlb2YgQmUpcmV0dXJuICExO3ZhciByPWUgaW5zdGFuY2VvZiBmZXx8ZSBpbnN0YW5jZW9mIGxlLG49ITA7cmV0dXJuIGUuZWFjaENoaWxkKChmdW5jdGlvbihlKXtuPXI/biYmdChlKTpuJiZlIGluc3RhbmNlb2Ygb2U7fSkpLCEhbiYmVmUoZSkmJkRlKGUsWyJ6b29tIiwiaGVhdG1hcC1kZW5zaXR5IiwibGluZS1wcm9ncmVzcyIsImFjY3VtdWxhdGVkIiwiaXMtc3VwcG9ydGVkLXNjcmlwdCJdKX0oYSkpe3ZhciB1PW5ldyBkZTt0cnl7YT1uZXcgb2UoYS50eXBlLGEuZXZhbHVhdGUodSkpO31jYXRjaCh0KXtyZXR1cm4gdGhpcy5lcnJvcih0Lm1lc3NhZ2UpLG51bGx9fXJldHVybiBhfXJldHVybiB0aGlzLmVycm9yKCdVbmtub3duIGV4cHJlc3Npb24gIicrbisnIi4gSWYgeW91IHdhbnRlZCBhIGxpdGVyYWwgYXJyYXksIHVzZSBbImxpdGVyYWwiLCBbLi4uXV0uJywwKX1yZXR1cm4gdGhpcy5lcnJvcih2b2lkIDA9PT10PyIndW5kZWZpbmVkJyB2YWx1ZSBpbnZhbGlkLiBVc2UgbnVsbCBpbnN0ZWFkLiI6Im9iamVjdCI9PXR5cGVvZiB0PydCYXJlIG9iamVjdHMgaW52YWxpZC4gVXNlIFsibGl0ZXJhbCIsIHsuLi59XSBpbnN0ZWFkLic6IkV4cGVjdGVkIGFuIGFycmF5LCBidXQgZm91bmQgIit0eXBlb2YgdCsiIGluc3RlYWQuIil9LFJlLnByb3RvdHlwZS5jb25jYXQ9ZnVuY3Rpb24odCxlLHIpe3ZhciBuPSJudW1iZXIiPT10eXBlb2YgdD90aGlzLnBhdGguY29uY2F0KHQpOnRoaXMucGF0aCxpPXI/dGhpcy5zY29wZS5jb25jYXQocik6dGhpcy5zY29wZTtyZXR1cm4gbmV3IFJlKHRoaXMucmVnaXN0cnksbixlfHxudWxsLGksdGhpcy5lcnJvcnMpfSxSZS5wcm90b3R5cGUuZXJyb3I9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPVtdLHI9YXJndW1lbnRzLmxlbmd0aC0xO3ItLSA+MDspZVtyXT1hcmd1bWVudHNbcisxXTt2YXIgbj0iIit0aGlzLmtleStlLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuICJbIit0KyJdIn0pKS5qb2luKCIiKTt0aGlzLmVycm9ycy5wdXNoKG5ldyBQdChuLHQpKTt9LFJlLnByb3RvdHlwZS5jaGVja1N1YnR5cGU9ZnVuY3Rpb24odCxlKXt2YXIgcj1YdCh0LGUpO3JldHVybiByJiZ0aGlzLmVycm9yKHIpLHJ9O3ZhciBVZT1mdW5jdGlvbih0LGUscil7dGhpcy50eXBlPXQsdGhpcy5pbnB1dD1lLHRoaXMubGFiZWxzPVtdLHRoaXMub3V0cHV0cz1bXTtmb3IodmFyIG49MCxpPXI7bjxpLmxlbmd0aDtuKz0xKXt2YXIgYT1pW25dLG89YVsxXTt0aGlzLmxhYmVscy5wdXNoKGFbMF0pLHRoaXMub3V0cHV0cy5wdXNoKG8pO319O2Z1bmN0aW9uIGplKHQsZSxyKXtyZXR1cm4gdCooMS1yKStlKnJ9VWUucGFyc2U9ZnVuY3Rpb24odCxlKXtpZih0Lmxlbmd0aC0xPDQpcmV0dXJuIGUuZXJyb3IoIkV4cGVjdGVkIGF0IGxlYXN0IDQgYXJndW1lbnRzLCBidXQgZm91bmQgb25seSAiKyh0Lmxlbmd0aC0xKSsiLiIpO2lmKCh0Lmxlbmd0aC0xKSUyIT0wKXJldHVybiBlLmVycm9yKCJFeHBlY3RlZCBhbiBldmVuIG51bWJlciBvZiBhcmd1bWVudHMuIik7dmFyIHI9ZS5wYXJzZSh0WzFdLDEsRnQpO2lmKCFyKXJldHVybiBudWxsO3ZhciBuPVtdLGk9bnVsbDtlLmV4cGVjdGVkVHlwZSYmInZhbHVlIiE9PWUuZXhwZWN0ZWRUeXBlLmtpbmQmJihpPWUuZXhwZWN0ZWRUeXBlKTtmb3IodmFyIGE9MTthPHQubGVuZ3RoO2ErPTIpe3ZhciBvPTE9PT1hPy0xLzA6dFthXSxzPXRbYSsxXSx1PWEsbD1hKzE7aWYoIm51bWJlciIhPXR5cGVvZiBvKXJldHVybiBlLmVycm9yKCdJbnB1dC9vdXRwdXQgcGFpcnMgZm9yICJzdGVwIiBleHByZXNzaW9ucyBtdXN0IGJlIGRlZmluZWQgdXNpbmcgbGl0ZXJhbCBudW1lcmljIHZhbHVlcyAobm90IGNvbXB1dGVkIGV4cHJlc3Npb25zKSBmb3IgdGhlIGlucHV0IHZhbHVlcy4nLHUpO2lmKG4ubGVuZ3RoJiZuW24ubGVuZ3RoLTFdWzBdPj1vKXJldHVybiBlLmVycm9yKCdJbnB1dC9vdXRwdXQgcGFpcnMgZm9yICJzdGVwIiBleHByZXNzaW9ucyBtdXN0IGJlIGFycmFuZ2VkIHdpdGggaW5wdXQgdmFsdWVzIGluIHN0cmljdGx5IGFzY2VuZGluZyBvcmRlci4nLHUpO3ZhciBwPWUucGFyc2UocyxsLGkpO2lmKCFwKXJldHVybiBudWxsO2k9aXx8cC50eXBlLG4ucHVzaChbbyxwXSk7fXJldHVybiBuZXcgVWUoaSxyLG4pfSxVZS5wcm90b3R5cGUuZXZhbHVhdGU9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5sYWJlbHMscj10aGlzLm91dHB1dHM7aWYoMT09PWUubGVuZ3RoKXJldHVybiByWzBdLmV2YWx1YXRlKHQpO3ZhciBuPXRoaXMuaW5wdXQuZXZhbHVhdGUodCk7aWYobjw9ZVswXSlyZXR1cm4gclswXS5ldmFsdWF0ZSh0KTt2YXIgaT1lLmxlbmd0aDtyZXR1cm4gbj49ZVtpLTFdP3JbaS0xXS5ldmFsdWF0ZSh0KTpyW09lKGUsbildLmV2YWx1YXRlKHQpfSxVZS5wcm90b3R5cGUuZWFjaENoaWxkPWZ1bmN0aW9uKHQpe3QodGhpcy5pbnB1dCk7Zm9yKHZhciBlPTAscj10aGlzLm91dHB1dHM7ZTxyLmxlbmd0aDtlKz0xKXQocltlXSk7fSxVZS5wcm90b3R5cGUub3V0cHV0RGVmaW5lZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLm91dHB1dHMuZXZlcnkoKGZ1bmN0aW9uKHQpe3JldHVybiB0Lm91dHB1dERlZmluZWQoKX0pKX0sVWUucHJvdG90eXBlLnNlcmlhbGl6ZT1mdW5jdGlvbigpe2Zvcih2YXIgdD1bInN0ZXAiLHRoaXMuaW5wdXQuc2VyaWFsaXplKCldLGU9MDtlPHRoaXMubGFiZWxzLmxlbmd0aDtlKyspZT4wJiZ0LnB1c2godGhpcy5sYWJlbHNbZV0pLHQucHVzaCh0aGlzLm91dHB1dHNbZV0uc2VyaWFsaXplKCkpO3JldHVybiB0fTt2YXIgcWU9T2JqZWN0LmZyZWV6ZSh7X19wcm90b19fOm51bGwsbnVtYmVyOmplLGNvbG9yOmZ1bmN0aW9uKHQsZSxyKXtyZXR1cm4gbmV3ICR0KGplKHQucixlLnIsciksamUodC5nLGUuZyxyKSxqZSh0LmIsZS5iLHIpLGplKHQuYSxlLmEscikpfSxhcnJheTpmdW5jdGlvbih0LGUscil7cmV0dXJuIHQubWFwKChmdW5jdGlvbih0LG4pe3JldHVybiBqZSh0LGVbbl0scil9KSl9fSksTmU9Ni8yOSozKig2LzI5KSxLZT1NYXRoLlBJLzE4MCxHZT0xODAvTWF0aC5QSTtmdW5jdGlvbiBaZSh0KXtyZXR1cm4gdD4uMDA4ODU2NDUxNjc5MDM1NjMxP01hdGgucG93KHQsMS8zKTp0L05lKzQvMjl9ZnVuY3Rpb24gWGUodCl7cmV0dXJuIHQ+Ni8yOT90KnQqdDpOZSoodC00LzI5KX1mdW5jdGlvbiBKZSh0KXtyZXR1cm4gMjU1Kih0PD0uMDAzMTMwOD8xMi45Mip0OjEuMDU1Kk1hdGgucG93KHQsMS8yLjQpLS4wNTUpfWZ1bmN0aW9uIEhlKHQpe3JldHVybiAodC89MjU1KTw9LjA0MDQ1P3QvMTIuOTI6TWF0aC5wb3coKHQrLjA1NSkvMS4wNTUsMi40KX1mdW5jdGlvbiBZZSh0KXt2YXIgZT1IZSh0LnIpLHI9SGUodC5nKSxuPUhlKHQuYiksaT1aZSgoLjQxMjQ1NjQqZSsuMzU3NTc2MSpyKy4xODA0Mzc1Km4pLy45NTA0NyksYT1aZSgoLjIxMjY3MjkqZSsuNzE1MTUyMipyKy4wNzIxNzUqbikvMSk7cmV0dXJuIHtsOjExNiphLTE2LGE6NTAwKihpLWEpLGI6MjAwKihhLVplKCguMDE5MzMzOSplKy4xMTkxOTIqcisuOTUwMzA0MSpuKS8xLjA4ODgzKSksYWxwaGE6dC5hfX1mdW5jdGlvbiAkZSh0KXt2YXIgZT0odC5sKzE2KS8xMTYscj1pc05hTih0LmEpP2U6ZSt0LmEvNTAwLG49aXNOYU4odC5iKT9lOmUtdC5iLzIwMDtyZXR1cm4gZT0xKlhlKGUpLHI9Ljk1MDQ3KlhlKHIpLG49MS4wODg4MypYZShuKSxuZXcgJHQoSmUoMy4yNDA0NTQyKnItMS41MzcxMzg1KmUtLjQ5ODUzMTQqbiksSmUoLS45NjkyNjYqcisxLjg3NjAxMDgqZSsuMDQxNTU2Km4pLEplKC4wNTU2NDM0KnItLjIwNDAyNTkqZSsxLjA1NzIyNTIqbiksdC5hbHBoYSl9ZnVuY3Rpb24gV2UodCxlLHIpe3ZhciBuPWUtdDtyZXR1cm4gdCtyKihuPjE4MHx8bjwtMTgwP24tMzYwKk1hdGgucm91bmQobi8zNjApOm4pfXZhciBRZT17Zm9yd2FyZDpZZSxyZXZlcnNlOiRlLGludGVycG9sYXRlOmZ1bmN0aW9uKHQsZSxyKXtyZXR1cm4ge2w6amUodC5sLGUubCxyKSxhOmplKHQuYSxlLmEsciksYjpqZSh0LmIsZS5iLHIpLGFscGhhOmplKHQuYWxwaGEsZS5hbHBoYSxyKX19fSx0cj17Zm9yd2FyZDpmdW5jdGlvbih0KXt2YXIgZT1ZZSh0KSxyPWUubCxuPWUuYSxpPWUuYixhPU1hdGguYXRhbjIoaSxuKSpHZTtyZXR1cm4ge2g6YTwwP2ErMzYwOmEsYzpNYXRoLnNxcnQobipuK2kqaSksbDpyLGFscGhhOnQuYX19LHJldmVyc2U6ZnVuY3Rpb24odCl7dmFyIGU9dC5oKktlLHI9dC5jO3JldHVybiAkZSh7bDp0LmwsYTpNYXRoLmNvcyhlKSpyLGI6TWF0aC5zaW4oZSkqcixhbHBoYTp0LmFscGhhfSl9LGludGVycG9sYXRlOmZ1bmN0aW9uKHQsZSxyKXtyZXR1cm4ge2g6V2UodC5oLGUuaCxyKSxjOmplKHQuYyxlLmMsciksbDpqZSh0LmwsZS5sLHIpLGFscGhhOmplKHQuYWxwaGEsZS5hbHBoYSxyKX19fSxlcj1PYmplY3QuZnJlZXplKHtfX3Byb3RvX186bnVsbCxsYWI6UWUsaGNsOnRyfSkscnI9ZnVuY3Rpb24odCxlLHIsbixpKXt0aGlzLnR5cGU9dCx0aGlzLm9wZXJhdG9yPWUsdGhpcy5pbnRlcnBvbGF0aW9uPXIsdGhpcy5pbnB1dD1uLHRoaXMubGFiZWxzPVtdLHRoaXMub3V0cHV0cz1bXTtmb3IodmFyIGE9MCxvPWk7YTxvLmxlbmd0aDthKz0xKXt2YXIgcz1vW2FdLHU9c1sxXTt0aGlzLmxhYmVscy5wdXNoKHNbMF0pLHRoaXMub3V0cHV0cy5wdXNoKHUpO319O2Z1bmN0aW9uIG5yKHQsZSxyLG4pe3ZhciBpPW4tcixhPXQtcjtyZXR1cm4gMD09PWk/MDoxPT09ZT9hL2k6KE1hdGgucG93KGUsYSktMSkvKE1hdGgucG93KGUsaSktMSl9cnIuaW50ZXJwb2xhdGlvbkZhY3Rvcj1mdW5jdGlvbih0LGUsbixpKXt2YXIgYT0wO2lmKCJleHBvbmVudGlhbCI9PT10Lm5hbWUpYT1ucihlLHQuYmFzZSxuLGkpO2Vsc2UgaWYoImxpbmVhciI9PT10Lm5hbWUpYT1ucihlLDEsbixpKTtlbHNlIGlmKCJjdWJpYy1iZXppZXIiPT09dC5uYW1lKXt2YXIgbz10LmNvbnRyb2xQb2ludHM7YT1uZXcgcihvWzBdLG9bMV0sb1syXSxvWzNdKS5zb2x2ZShucihlLDEsbixpKSk7fXJldHVybiBhfSxyci5wYXJzZT1mdW5jdGlvbih0LGUpe3ZhciByPXRbMF0sbj10WzFdLGk9dFsyXSxhPXQuc2xpY2UoMyk7aWYoIUFycmF5LmlzQXJyYXkobil8fDA9PT1uLmxlbmd0aClyZXR1cm4gZS5lcnJvcigiRXhwZWN0ZWQgYW4gaW50ZXJwb2xhdGlvbiB0eXBlIGV4cHJlc3Npb24uIiwxKTtpZigibGluZWFyIj09PW5bMF0pbj17bmFtZToibGluZWFyIn07ZWxzZSBpZigiZXhwb25lbnRpYWwiPT09blswXSl7dmFyIG89blsxXTtpZigibnVtYmVyIiE9dHlwZW9mIG8pcmV0dXJuIGUuZXJyb3IoIkV4cG9uZW50aWFsIGludGVycG9sYXRpb24gcmVxdWlyZXMgYSBudW1lcmljIGJhc2UuIiwxLDEpO249e25hbWU6ImV4cG9uZW50aWFsIixiYXNlOm99O31lbHNlIHtpZigiY3ViaWMtYmV6aWVyIiE9PW5bMF0pcmV0dXJuIGUuZXJyb3IoIlVua25vd24gaW50ZXJwb2xhdGlvbiB0eXBlICIrU3RyaW5nKG5bMF0pLDEsMCk7dmFyIHM9bi5zbGljZSgxKTtpZig0IT09cy5sZW5ndGh8fHMuc29tZSgoZnVuY3Rpb24odCl7cmV0dXJuICJudW1iZXIiIT10eXBlb2YgdHx8dDwwfHx0PjF9KSkpcmV0dXJuIGUuZXJyb3IoIkN1YmljIGJlemllciBpbnRlcnBvbGF0aW9uIHJlcXVpcmVzIGZvdXIgbnVtZXJpYyBhcmd1bWVudHMgd2l0aCB2YWx1ZXMgYmV0d2VlbiAwIGFuZCAxLiIsMSk7bj17bmFtZToiY3ViaWMtYmV6aWVyIixjb250cm9sUG9pbnRzOnN9O31pZih0Lmxlbmd0aC0xPDQpcmV0dXJuIGUuZXJyb3IoIkV4cGVjdGVkIGF0IGxlYXN0IDQgYXJndW1lbnRzLCBidXQgZm91bmQgb25seSAiKyh0Lmxlbmd0aC0xKSsiLiIpO2lmKCh0Lmxlbmd0aC0xKSUyIT0wKXJldHVybiBlLmVycm9yKCJFeHBlY3RlZCBhbiBldmVuIG51bWJlciBvZiBhcmd1bWVudHMuIik7aWYoIShpPWUucGFyc2UoaSwyLEZ0KSkpcmV0dXJuIG51bGw7dmFyIHU9W10sbD1udWxsOyJpbnRlcnBvbGF0ZS1oY2wiPT09cnx8ImludGVycG9sYXRlLWxhYiI9PT1yP2w9UnQ6ZS5leHBlY3RlZFR5cGUmJiJ2YWx1ZSIhPT1lLmV4cGVjdGVkVHlwZS5raW5kJiYobD1lLmV4cGVjdGVkVHlwZSk7Zm9yKHZhciBwPTA7cDxhLmxlbmd0aDtwKz0yKXt2YXIgYz1hW3BdLGg9YVtwKzFdLGY9cCszLHk9cCs0O2lmKCJudW1iZXIiIT10eXBlb2YgYylyZXR1cm4gZS5lcnJvcignSW5wdXQvb3V0cHV0IHBhaXJzIGZvciAiaW50ZXJwb2xhdGUiIGV4cHJlc3Npb25zIG11c3QgYmUgZGVmaW5lZCB1c2luZyBsaXRlcmFsIG51bWVyaWMgdmFsdWVzIChub3QgY29tcHV0ZWQgZXhwcmVzc2lvbnMpIGZvciB0aGUgaW5wdXQgdmFsdWVzLicsZik7aWYodS5sZW5ndGgmJnVbdS5sZW5ndGgtMV1bMF0+PWMpcmV0dXJuIGUuZXJyb3IoJ0lucHV0L291dHB1dCBwYWlycyBmb3IgImludGVycG9sYXRlIiBleHByZXNzaW9ucyBtdXN0IGJlIGFycmFuZ2VkIHdpdGggaW5wdXQgdmFsdWVzIGluIHN0cmljdGx5IGFzY2VuZGluZyBvcmRlci4nLGYpO3ZhciBkPWUucGFyc2UoaCx5LGwpO2lmKCFkKXJldHVybiBudWxsO2w9bHx8ZC50eXBlLHUucHVzaChbYyxkXSk7fXJldHVybiAibnVtYmVyIj09PWwua2luZHx8ImNvbG9yIj09PWwua2luZHx8ImFycmF5Ij09PWwua2luZCYmIm51bWJlciI9PT1sLml0ZW1UeXBlLmtpbmQmJiJudW1iZXIiPT10eXBlb2YgbC5OP25ldyBycihsLHIsbixpLHUpOmUuZXJyb3IoIlR5cGUgIitHdChsKSsiIGlzIG5vdCBpbnRlcnBvbGF0YWJsZS4iKX0scnIucHJvdG90eXBlLmV2YWx1YXRlPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMubGFiZWxzLHI9dGhpcy5vdXRwdXRzO2lmKDE9PT1lLmxlbmd0aClyZXR1cm4gclswXS5ldmFsdWF0ZSh0KTt2YXIgbj10aGlzLmlucHV0LmV2YWx1YXRlKHQpO2lmKG48PWVbMF0pcmV0dXJuIHJbMF0uZXZhbHVhdGUodCk7dmFyIGk9ZS5sZW5ndGg7aWYobj49ZVtpLTFdKXJldHVybiByW2ktMV0uZXZhbHVhdGUodCk7dmFyIGE9T2UoZSxuKSxvPXJyLmludGVycG9sYXRpb25GYWN0b3IodGhpcy5pbnRlcnBvbGF0aW9uLG4sZVthXSxlW2ErMV0pLHM9clthXS5ldmFsdWF0ZSh0KSx1PXJbYSsxXS5ldmFsdWF0ZSh0KTtyZXR1cm4gImludGVycG9sYXRlIj09PXRoaXMub3BlcmF0b3I/cWVbdGhpcy50eXBlLmtpbmQudG9Mb3dlckNhc2UoKV0ocyx1LG8pOiJpbnRlcnBvbGF0ZS1oY2wiPT09dGhpcy5vcGVyYXRvcj90ci5yZXZlcnNlKHRyLmludGVycG9sYXRlKHRyLmZvcndhcmQocyksdHIuZm9yd2FyZCh1KSxvKSk6UWUucmV2ZXJzZShRZS5pbnRlcnBvbGF0ZShRZS5mb3J3YXJkKHMpLFFlLmZvcndhcmQodSksbykpfSxyci5wcm90b3R5cGUuZWFjaENoaWxkPWZ1bmN0aW9uKHQpe3QodGhpcy5pbnB1dCk7Zm9yKHZhciBlPTAscj10aGlzLm91dHB1dHM7ZTxyLmxlbmd0aDtlKz0xKXQocltlXSk7fSxyci5wcm90b3R5cGUub3V0cHV0RGVmaW5lZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLm91dHB1dHMuZXZlcnkoKGZ1bmN0aW9uKHQpe3JldHVybiB0Lm91dHB1dERlZmluZWQoKX0pKX0scnIucHJvdG90eXBlLnNlcmlhbGl6ZT1mdW5jdGlvbigpe3ZhciB0O3Q9ImxpbmVhciI9PT10aGlzLmludGVycG9sYXRpb24ubmFtZT9bImxpbmVhciJdOiJleHBvbmVudGlhbCI9PT10aGlzLmludGVycG9sYXRpb24ubmFtZT8xPT09dGhpcy5pbnRlcnBvbGF0aW9uLmJhc2U/WyJsaW5lYXIiXTpbImV4cG9uZW50aWFsIix0aGlzLmludGVycG9sYXRpb24uYmFzZV06WyJjdWJpYy1iZXppZXIiXS5jb25jYXQodGhpcy5pbnRlcnBvbGF0aW9uLmNvbnRyb2xQb2ludHMpO2Zvcih2YXIgZT1bdGhpcy5vcGVyYXRvcix0LHRoaXMuaW5wdXQuc2VyaWFsaXplKCldLHI9MDtyPHRoaXMubGFiZWxzLmxlbmd0aDtyKyspZS5wdXNoKHRoaXMubGFiZWxzW3JdLHRoaXMub3V0cHV0c1tyXS5zZXJpYWxpemUoKSk7cmV0dXJuIGV9O3ZhciBpcj1mdW5jdGlvbih0LGUpe3RoaXMudHlwZT10LHRoaXMuYXJncz1lO307aXIucGFyc2U9ZnVuY3Rpb24odCxlKXtpZih0Lmxlbmd0aDwyKXJldHVybiBlLmVycm9yKCJFeHBlY3RlY3RlZCBhdCBsZWFzdCBvbmUgYXJndW1lbnQuIik7dmFyIHI9bnVsbCxuPWUuZXhwZWN0ZWRUeXBlO24mJiJ2YWx1ZSIhPT1uLmtpbmQmJihyPW4pO2Zvcih2YXIgaT1bXSxhPTAsbz10LnNsaWNlKDEpO2E8by5sZW5ndGg7YSs9MSl7dmFyIHM9ZS5wYXJzZShvW2FdLDEraS5sZW5ndGgscix2b2lkIDAse3R5cGVBbm5vdGF0aW9uOiJvbWl0In0pO2lmKCFzKXJldHVybiBudWxsO3I9cnx8cy50eXBlLGkucHVzaChzKTt9dmFyIHU9biYmaS5zb21lKChmdW5jdGlvbih0KXtyZXR1cm4gWHQobix0LnR5cGUpfSkpO3JldHVybiBuZXcgaXIodT9VdDpyLGkpfSxpci5wcm90b3R5cGUuZXZhbHVhdGU9ZnVuY3Rpb24odCl7Zm9yKHZhciBlLHI9bnVsbCxuPTAsaT0wLGE9dGhpcy5hcmdzO2k8YS5sZW5ndGgmJihuKyssKHI9YVtpXS5ldmFsdWF0ZSh0KSkmJnIgaW5zdGFuY2VvZiBlZSYmIXIuYXZhaWxhYmxlJiYoZXx8KGU9ci5uYW1lKSxyPW51bGwsbj09PXRoaXMuYXJncy5sZW5ndGgmJihyPWUpKSxudWxsPT09cik7aSs9MSk7cmV0dXJuIHJ9LGlyLnByb3RvdHlwZS5lYWNoQ2hpbGQ9ZnVuY3Rpb24odCl7dGhpcy5hcmdzLmZvckVhY2godCk7fSxpci5wcm90b3R5cGUub3V0cHV0RGVmaW5lZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmFyZ3MuZXZlcnkoKGZ1bmN0aW9uKHQpe3JldHVybiB0Lm91dHB1dERlZmluZWQoKX0pKX0saXIucHJvdG90eXBlLnNlcmlhbGl6ZT1mdW5jdGlvbigpe3ZhciB0PVsiY29hbGVzY2UiXTtyZXR1cm4gdGhpcy5lYWNoQ2hpbGQoKGZ1bmN0aW9uKGUpe3QucHVzaChlLnNlcmlhbGl6ZSgpKTt9KSksdH07dmFyIGFyPWZ1bmN0aW9uKHQsZSl7dGhpcy50eXBlPWUudHlwZSx0aGlzLmJpbmRpbmdzPVtdLmNvbmNhdCh0KSx0aGlzLnJlc3VsdD1lO307YXIucHJvdG90eXBlLmV2YWx1YXRlPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnJlc3VsdC5ldmFsdWF0ZSh0KX0sYXIucHJvdG90eXBlLmVhY2hDaGlsZD1mdW5jdGlvbih0KXtmb3IodmFyIGU9MCxyPXRoaXMuYmluZGluZ3M7ZTxyLmxlbmd0aDtlKz0xKXQocltlXVsxXSk7dCh0aGlzLnJlc3VsdCk7fSxhci5wYXJzZT1mdW5jdGlvbih0LGUpe2lmKHQubGVuZ3RoPDQpcmV0dXJuIGUuZXJyb3IoIkV4cGVjdGVkIGF0IGxlYXN0IDMgYXJndW1lbnRzLCBidXQgZm91bmQgIisodC5sZW5ndGgtMSkrIiBpbnN0ZWFkLiIpO2Zvcih2YXIgcj1bXSxuPTE7bjx0Lmxlbmd0aC0xO24rPTIpe3ZhciBpPXRbbl07aWYoInN0cmluZyIhPXR5cGVvZiBpKXJldHVybiBlLmVycm9yKCJFeHBlY3RlZCBzdHJpbmcsIGJ1dCBmb3VuZCAiK3R5cGVvZiBpKyIgaW5zdGVhZC4iLG4pO2lmKC9bXmEtekEtWjAtOV9dLy50ZXN0KGkpKXJldHVybiBlLmVycm9yKCJWYXJpYWJsZSBuYW1lcyBtdXN0IGNvbnRhaW4gb25seSBhbHBoYW51bWVyaWMgY2hhcmFjdGVycyBvciAnXycuIixuKTt2YXIgYT1lLnBhcnNlKHRbbisxXSxuKzEpO2lmKCFhKXJldHVybiBudWxsO3IucHVzaChbaSxhXSk7fXZhciBvPWUucGFyc2UodFt0Lmxlbmd0aC0xXSx0Lmxlbmd0aC0xLGUuZXhwZWN0ZWRUeXBlLHIpO3JldHVybiBvP25ldyBhcihyLG8pOm51bGx9LGFyLnByb3RvdHlwZS5vdXRwdXREZWZpbmVkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucmVzdWx0Lm91dHB1dERlZmluZWQoKX0sYXIucHJvdG90eXBlLnNlcmlhbGl6ZT1mdW5jdGlvbigpe2Zvcih2YXIgdD1bImxldCJdLGU9MCxyPXRoaXMuYmluZGluZ3M7ZTxyLmxlbmd0aDtlKz0xKXt2YXIgbj1yW2VdO3QucHVzaChuWzBdLG5bMV0uc2VyaWFsaXplKCkpO31yZXR1cm4gdC5wdXNoKHRoaXMucmVzdWx0LnNlcmlhbGl6ZSgpKSx0fTt2YXIgb3I9ZnVuY3Rpb24odCxlLHIpe3RoaXMudHlwZT10LHRoaXMuaW5kZXg9ZSx0aGlzLmlucHV0PXI7fTtvci5wYXJzZT1mdW5jdGlvbih0LGUpe2lmKDMhPT10Lmxlbmd0aClyZXR1cm4gZS5lcnJvcigiRXhwZWN0ZWQgMiBhcmd1bWVudHMsIGJ1dCBmb3VuZCAiKyh0Lmxlbmd0aC0xKSsiIGluc3RlYWQuIik7dmFyIHI9ZS5wYXJzZSh0WzFdLDEsRnQpLG49ZS5wYXJzZSh0WzJdLDIsS3QoZS5leHBlY3RlZFR5cGV8fFV0KSk7cmV0dXJuIHImJm4/bmV3IG9yKG4udHlwZS5pdGVtVHlwZSxyLG4pOm51bGx9LG9yLnByb3RvdHlwZS5ldmFsdWF0ZT1mdW5jdGlvbih0KXt2YXIgZT10aGlzLmluZGV4LmV2YWx1YXRlKHQpLHI9dGhpcy5pbnB1dC5ldmFsdWF0ZSh0KTtpZihlPDApdGhyb3cgbmV3IHNlKCJBcnJheSBpbmRleCBvdXQgb2YgYm91bmRzOiAiK2UrIiA8IDAuIik7aWYoZT49ci5sZW5ndGgpdGhyb3cgbmV3IHNlKCJBcnJheSBpbmRleCBvdXQgb2YgYm91bmRzOiAiK2UrIiA+ICIrKHIubGVuZ3RoLTEpKyIuIik7aWYoZSE9PU1hdGguZmxvb3IoZSkpdGhyb3cgbmV3IHNlKCJBcnJheSBpbmRleCBtdXN0IGJlIGFuIGludGVnZXIsIGJ1dCBmb3VuZCAiK2UrIiBpbnN0ZWFkLiIpO3JldHVybiByW2VdfSxvci5wcm90b3R5cGUuZWFjaENoaWxkPWZ1bmN0aW9uKHQpe3QodGhpcy5pbmRleCksdCh0aGlzLmlucHV0KTt9LG9yLnByb3RvdHlwZS5vdXRwdXREZWZpbmVkPWZ1bmN0aW9uKCl7cmV0dXJuICExfSxvci5wcm90b3R5cGUuc2VyaWFsaXplPWZ1bmN0aW9uKCl7cmV0dXJuIFsiYXQiLHRoaXMuaW5kZXguc2VyaWFsaXplKCksdGhpcy5pbnB1dC5zZXJpYWxpemUoKV19O3ZhciBzcj1mdW5jdGlvbih0LGUpe3RoaXMudHlwZT1MdCx0aGlzLm5lZWRsZT10LHRoaXMuaGF5c3RhY2s9ZTt9O3NyLnBhcnNlPWZ1bmN0aW9uKHQsZSl7aWYoMyE9PXQubGVuZ3RoKXJldHVybiBlLmVycm9yKCJFeHBlY3RlZCAyIGFyZ3VtZW50cywgYnV0IGZvdW5kICIrKHQubGVuZ3RoLTEpKyIgaW5zdGVhZC4iKTt2YXIgcj1lLnBhcnNlKHRbMV0sMSxVdCksbj1lLnBhcnNlKHRbMl0sMixVdCk7cmV0dXJuIHImJm4/SnQoci50eXBlLFtMdCxEdCxGdCxWdCxVdF0pP25ldyBzcihyLG4pOmUuZXJyb3IoIkV4cGVjdGVkIGZpcnN0IGFyZ3VtZW50IHRvIGJlIG9mIHR5cGUgYm9vbGVhbiwgc3RyaW5nLCBudW1iZXIgb3IgbnVsbCwgYnV0IGZvdW5kICIrR3Qoci50eXBlKSsiIGluc3RlYWQiKTpudWxsfSxzci5wcm90b3R5cGUuZXZhbHVhdGU9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5uZWVkbGUuZXZhbHVhdGUodCkscj10aGlzLmhheXN0YWNrLmV2YWx1YXRlKHQpO2lmKCFyKXJldHVybiAhMTtpZighSHQoZSxbImJvb2xlYW4iLCJzdHJpbmciLCJudW1iZXIiLCJudWxsIl0pKXRocm93IG5ldyBzZSgiRXhwZWN0ZWQgZmlyc3QgYXJndW1lbnQgdG8gYmUgb2YgdHlwZSBib29sZWFuLCBzdHJpbmcsIG51bWJlciBvciBudWxsLCBidXQgZm91bmQgIitHdChpZShlKSkrIiBpbnN0ZWFkLiIpO2lmKCFIdChyLFsic3RyaW5nIiwiYXJyYXkiXSkpdGhyb3cgbmV3IHNlKCJFeHBlY3RlZCBzZWNvbmQgYXJndW1lbnQgdG8gYmUgb2YgdHlwZSBhcnJheSBvciBzdHJpbmcsIGJ1dCBmb3VuZCAiK0d0KGllKHIpKSsiIGluc3RlYWQuIik7cmV0dXJuIHIuaW5kZXhPZihlKT49MH0sc3IucHJvdG90eXBlLmVhY2hDaGlsZD1mdW5jdGlvbih0KXt0KHRoaXMubmVlZGxlKSx0KHRoaXMuaGF5c3RhY2spO30sc3IucHJvdG90eXBlLm91dHB1dERlZmluZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gITB9LHNyLnByb3RvdHlwZS5zZXJpYWxpemU9ZnVuY3Rpb24oKXtyZXR1cm4gWyJpbiIsdGhpcy5uZWVkbGUuc2VyaWFsaXplKCksdGhpcy5oYXlzdGFjay5zZXJpYWxpemUoKV19O3ZhciB1cj1mdW5jdGlvbih0LGUscil7dGhpcy50eXBlPUZ0LHRoaXMubmVlZGxlPXQsdGhpcy5oYXlzdGFjaz1lLHRoaXMuZnJvbUluZGV4PXI7fTt1ci5wYXJzZT1mdW5jdGlvbih0LGUpe2lmKHQubGVuZ3RoPD0yfHx0Lmxlbmd0aD49NSlyZXR1cm4gZS5lcnJvcigiRXhwZWN0ZWQgMyBvciA0IGFyZ3VtZW50cywgYnV0IGZvdW5kICIrKHQubGVuZ3RoLTEpKyIgaW5zdGVhZC4iKTt2YXIgcj1lLnBhcnNlKHRbMV0sMSxVdCksbj1lLnBhcnNlKHRbMl0sMixVdCk7aWYoIXJ8fCFuKXJldHVybiBudWxsO2lmKCFKdChyLnR5cGUsW0x0LER0LEZ0LFZ0LFV0XSkpcmV0dXJuIGUuZXJyb3IoIkV4cGVjdGVkIGZpcnN0IGFyZ3VtZW50IHRvIGJlIG9mIHR5cGUgYm9vbGVhbiwgc3RyaW5nLCBudW1iZXIgb3IgbnVsbCwgYnV0IGZvdW5kICIrR3Qoci50eXBlKSsiIGluc3RlYWQiKTtpZig0PT09dC5sZW5ndGgpe3ZhciBpPWUucGFyc2UodFszXSwzLEZ0KTtyZXR1cm4gaT9uZXcgdXIocixuLGkpOm51bGx9cmV0dXJuIG5ldyB1cihyLG4pfSx1ci5wcm90b3R5cGUuZXZhbHVhdGU9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5uZWVkbGUuZXZhbHVhdGUodCkscj10aGlzLmhheXN0YWNrLmV2YWx1YXRlKHQpO2lmKCFIdChlLFsiYm9vbGVhbiIsInN0cmluZyIsIm51bWJlciIsIm51bGwiXSkpdGhyb3cgbmV3IHNlKCJFeHBlY3RlZCBmaXJzdCBhcmd1bWVudCB0byBiZSBvZiB0eXBlIGJvb2xlYW4sIHN0cmluZywgbnVtYmVyIG9yIG51bGwsIGJ1dCBmb3VuZCAiK0d0KGllKGUpKSsiIGluc3RlYWQuIik7aWYoIUh0KHIsWyJzdHJpbmciLCJhcnJheSJdKSl0aHJvdyBuZXcgc2UoIkV4cGVjdGVkIHNlY29uZCBhcmd1bWVudCB0byBiZSBvZiB0eXBlIGFycmF5IG9yIHN0cmluZywgYnV0IGZvdW5kICIrR3QoaWUocikpKyIgaW5zdGVhZC4iKTtpZih0aGlzLmZyb21JbmRleCl7dmFyIG49dGhpcy5mcm9tSW5kZXguZXZhbHVhdGUodCk7cmV0dXJuIHIuaW5kZXhPZihlLG4pfXJldHVybiByLmluZGV4T2YoZSl9LHVyLnByb3RvdHlwZS5lYWNoQ2hpbGQ9ZnVuY3Rpb24odCl7dCh0aGlzLm5lZWRsZSksdCh0aGlzLmhheXN0YWNrKSx0aGlzLmZyb21JbmRleCYmdCh0aGlzLmZyb21JbmRleCk7fSx1ci5wcm90b3R5cGUub3V0cHV0RGVmaW5lZD1mdW5jdGlvbigpe3JldHVybiAhMX0sdXIucHJvdG90eXBlLnNlcmlhbGl6ZT1mdW5jdGlvbigpe2lmKG51bGwhPXRoaXMuZnJvbUluZGV4JiZ2b2lkIDAhPT10aGlzLmZyb21JbmRleCl7dmFyIHQ9dGhpcy5mcm9tSW5kZXguc2VyaWFsaXplKCk7cmV0dXJuIFsiaW5kZXgtb2YiLHRoaXMubmVlZGxlLnNlcmlhbGl6ZSgpLHRoaXMuaGF5c3RhY2suc2VyaWFsaXplKCksdF19cmV0dXJuIFsiaW5kZXgtb2YiLHRoaXMubmVlZGxlLnNlcmlhbGl6ZSgpLHRoaXMuaGF5c3RhY2suc2VyaWFsaXplKCldfTt2YXIgbHI9ZnVuY3Rpb24odCxlLHIsbixpLGEpe3RoaXMuaW5wdXRUeXBlPXQsdGhpcy50eXBlPWUsdGhpcy5pbnB1dD1yLHRoaXMuY2FzZXM9bix0aGlzLm91dHB1dHM9aSx0aGlzLm90aGVyd2lzZT1hO307bHIucGFyc2U9ZnVuY3Rpb24odCxlKXtpZih0Lmxlbmd0aDw1KXJldHVybiBlLmVycm9yKCJFeHBlY3RlZCBhdCBsZWFzdCA0IGFyZ3VtZW50cywgYnV0IGZvdW5kIG9ubHkgIisodC5sZW5ndGgtMSkrIi4iKTtpZih0Lmxlbmd0aCUyIT0xKXJldHVybiBlLmVycm9yKCJFeHBlY3RlZCBhbiBldmVuIG51bWJlciBvZiBhcmd1bWVudHMuIik7dmFyIHIsbjtlLmV4cGVjdGVkVHlwZSYmInZhbHVlIiE9PWUuZXhwZWN0ZWRUeXBlLmtpbmQmJihuPWUuZXhwZWN0ZWRUeXBlKTtmb3IodmFyIGk9e30sYT1bXSxvPTI7bzx0Lmxlbmd0aC0xO28rPTIpe3ZhciBzPXRbb10sdT10W28rMV07QXJyYXkuaXNBcnJheShzKXx8KHM9W3NdKTt2YXIgbD1lLmNvbmNhdChvKTtpZigwPT09cy5sZW5ndGgpcmV0dXJuIGwuZXJyb3IoIkV4cGVjdGVkIGF0IGxlYXN0IG9uZSBicmFuY2ggbGFiZWwuIik7Zm9yKHZhciBwPTAsYz1zO3A8Yy5sZW5ndGg7cCs9MSl7dmFyIGg9Y1twXTtpZigibnVtYmVyIiE9dHlwZW9mIGgmJiJzdHJpbmciIT10eXBlb2YgaClyZXR1cm4gbC5lcnJvcigiQnJhbmNoIGxhYmVscyBtdXN0IGJlIG51bWJlcnMgb3Igc3RyaW5ncy4iKTtpZigibnVtYmVyIj09dHlwZW9mIGgmJk1hdGguYWJzKGgpPk51bWJlci5NQVhfU0FGRV9JTlRFR0VSKXJldHVybiBsLmVycm9yKCJCcmFuY2ggbGFiZWxzIG11c3QgYmUgaW50ZWdlcnMgbm8gbGFyZ2VyIHRoYW4gIitOdW1iZXIuTUFYX1NBRkVfSU5URUdFUisiLiIpO2lmKCJudW1iZXIiPT10eXBlb2YgaCYmTWF0aC5mbG9vcihoKSE9PWgpcmV0dXJuIGwuZXJyb3IoIk51bWVyaWMgYnJhbmNoIGxhYmVscyBtdXN0IGJlIGludGVnZXIgdmFsdWVzLiIpO2lmKHIpe2lmKGwuY2hlY2tTdWJ0eXBlKHIsaWUoaCkpKXJldHVybiBudWxsfWVsc2Ugcj1pZShoKTtpZih2b2lkIDAhPT1pW1N0cmluZyhoKV0pcmV0dXJuIGwuZXJyb3IoIkJyYW5jaCBsYWJlbHMgbXVzdCBiZSB1bmlxdWUuIik7aVtTdHJpbmcoaCldPWEubGVuZ3RoO312YXIgZj1lLnBhcnNlKHUsbyxuKTtpZighZilyZXR1cm4gbnVsbDtuPW58fGYudHlwZSxhLnB1c2goZik7fXZhciB5PWUucGFyc2UodFsxXSwxLFV0KTtpZigheSlyZXR1cm4gbnVsbDt2YXIgZD1lLnBhcnNlKHRbdC5sZW5ndGgtMV0sdC5sZW5ndGgtMSxuKTtyZXR1cm4gZD8idmFsdWUiIT09eS50eXBlLmtpbmQmJmUuY29uY2F0KDEpLmNoZWNrU3VidHlwZShyLHkudHlwZSk/bnVsbDpuZXcgbHIocixuLHksaSxhLGQpOm51bGx9LGxyLnByb3RvdHlwZS5ldmFsdWF0ZT1mdW5jdGlvbih0KXt2YXIgZT10aGlzLmlucHV0LmV2YWx1YXRlKHQpO3JldHVybiAoaWUoZSk9PT10aGlzLmlucHV0VHlwZSYmdGhpcy5vdXRwdXRzW3RoaXMuY2FzZXNbZV1dfHx0aGlzLm90aGVyd2lzZSkuZXZhbHVhdGUodCl9LGxyLnByb3RvdHlwZS5lYWNoQ2hpbGQ9ZnVuY3Rpb24odCl7dCh0aGlzLmlucHV0KSx0aGlzLm91dHB1dHMuZm9yRWFjaCh0KSx0KHRoaXMub3RoZXJ3aXNlKTt9LGxyLnByb3RvdHlwZS5vdXRwdXREZWZpbmVkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMub3V0cHV0cy5ldmVyeSgoZnVuY3Rpb24odCl7cmV0dXJuIHQub3V0cHV0RGVmaW5lZCgpfSkpJiZ0aGlzLm90aGVyd2lzZS5vdXRwdXREZWZpbmVkKCl9LGxyLnByb3RvdHlwZS5zZXJpYWxpemU9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9dGhpcyxlPVsibWF0Y2giLHRoaXMuaW5wdXQuc2VyaWFsaXplKCldLHI9W10sbj17fSxpPTAsYT1PYmplY3Qua2V5cyh0aGlzLmNhc2VzKS5zb3J0KCk7aTxhLmxlbmd0aDtpKz0xKXt2YXIgbz1hW2ldO3ZvaWQgMD09PShjPW5bdGhpcy5jYXNlc1tvXV0pPyhuW3RoaXMuY2FzZXNbb11dPXIubGVuZ3RoLHIucHVzaChbdGhpcy5jYXNlc1tvXSxbb11dKSk6cltjXVsxXS5wdXNoKG8pO31mb3IodmFyIHM9ZnVuY3Rpb24oZSl7cmV0dXJuICJudW1iZXIiPT09dC5pbnB1dFR5cGUua2luZD9OdW1iZXIoZSk6ZX0sdT0wLGw9cjt1PGwubGVuZ3RoO3UrPTEpe3ZhciBwPWxbdV0sYz1wWzBdLGg9cFsxXTtlLnB1c2goMT09PWgubGVuZ3RoP3MoaFswXSk6aC5tYXAocykpLGUucHVzaCh0aGlzLm91dHB1dHNbb3V0cHV0SW5kZXgkMV0uc2VyaWFsaXplKCkpO31yZXR1cm4gZS5wdXNoKHRoaXMub3RoZXJ3aXNlLnNlcmlhbGl6ZSgpKSxlfTt2YXIgcHI9ZnVuY3Rpb24odCxlLHIpe3RoaXMudHlwZT10LHRoaXMuYnJhbmNoZXM9ZSx0aGlzLm90aGVyd2lzZT1yO307cHIucGFyc2U9ZnVuY3Rpb24odCxlKXtpZih0Lmxlbmd0aDw0KXJldHVybiBlLmVycm9yKCJFeHBlY3RlZCBhdCBsZWFzdCAzIGFyZ3VtZW50cywgYnV0IGZvdW5kIG9ubHkgIisodC5sZW5ndGgtMSkrIi4iKTtpZih0Lmxlbmd0aCUyIT0wKXJldHVybiBlLmVycm9yKCJFeHBlY3RlZCBhbiBvZGQgbnVtYmVyIG9mIGFyZ3VtZW50cy4iKTt2YXIgcjtlLmV4cGVjdGVkVHlwZSYmInZhbHVlIiE9PWUuZXhwZWN0ZWRUeXBlLmtpbmQmJihyPWUuZXhwZWN0ZWRUeXBlKTtmb3IodmFyIG49W10saT0xO2k8dC5sZW5ndGgtMTtpKz0yKXt2YXIgYT1lLnBhcnNlKHRbaV0saSxMdCk7aWYoIWEpcmV0dXJuIG51bGw7dmFyIG89ZS5wYXJzZSh0W2krMV0saSsxLHIpO2lmKCFvKXJldHVybiBudWxsO24ucHVzaChbYSxvXSkscj1yfHxvLnR5cGU7fXZhciBzPWUucGFyc2UodFt0Lmxlbmd0aC0xXSx0Lmxlbmd0aC0xLHIpO3JldHVybiBzP25ldyBwcihyLG4scyk6bnVsbH0scHIucHJvdG90eXBlLmV2YWx1YXRlPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0wLHI9dGhpcy5icmFuY2hlcztlPHIubGVuZ3RoO2UrPTEpe3ZhciBuPXJbZV0saT1uWzFdO2lmKG5bMF0uZXZhbHVhdGUodCkpcmV0dXJuIGkuZXZhbHVhdGUodCl9cmV0dXJuIHRoaXMub3RoZXJ3aXNlLmV2YWx1YXRlKHQpfSxwci5wcm90b3R5cGUuZWFjaENoaWxkPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0wLHI9dGhpcy5icmFuY2hlcztlPHIubGVuZ3RoO2UrPTEpe3ZhciBuPXJbZV0saT1uWzFdO3QoblswXSksdChpKTt9dCh0aGlzLm90aGVyd2lzZSk7fSxwci5wcm90b3R5cGUub3V0cHV0RGVmaW5lZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmJyYW5jaGVzLmV2ZXJ5KChmdW5jdGlvbih0KXtyZXR1cm4gdFsxXS5vdXRwdXREZWZpbmVkKCl9KSkmJnRoaXMub3RoZXJ3aXNlLm91dHB1dERlZmluZWQoKX0scHIucHJvdG90eXBlLnNlcmlhbGl6ZT1mdW5jdGlvbigpe3ZhciB0PVsiY2FzZSJdO3JldHVybiB0aGlzLmVhY2hDaGlsZCgoZnVuY3Rpb24oZSl7dC5wdXNoKGUuc2VyaWFsaXplKCkpO30pKSx0fTt2YXIgY3I9ZnVuY3Rpb24odCxlLHIsbil7dGhpcy50eXBlPXQsdGhpcy5pbnB1dD1lLHRoaXMuYmVnaW5JbmRleD1yLHRoaXMuZW5kSW5kZXg9bjt9O2Z1bmN0aW9uIGhyKHQsZSl7cmV0dXJuICI9PSI9PT10fHwiIT0iPT09dD8iYm9vbGVhbiI9PT1lLmtpbmR8fCJzdHJpbmciPT09ZS5raW5kfHwibnVtYmVyIj09PWUua2luZHx8Im51bGwiPT09ZS5raW5kfHwidmFsdWUiPT09ZS5raW5kOiJzdHJpbmciPT09ZS5raW5kfHwibnVtYmVyIj09PWUua2luZHx8InZhbHVlIj09PWUua2luZH1mdW5jdGlvbiBmcih0LGUscixuKXtyZXR1cm4gMD09PW4uY29tcGFyZShlLHIpfWZ1bmN0aW9uIHlyKHQsZSxyKXt2YXIgbj0iPT0iIT09dCYmIiE9IiE9PXQ7cmV0dXJuIGZ1bmN0aW9uKCl7ZnVuY3Rpb24gaSh0LGUscil7dGhpcy50eXBlPUx0LHRoaXMubGhzPXQsdGhpcy5yaHM9ZSx0aGlzLmNvbGxhdG9yPXIsdGhpcy5oYXNVbnR5cGVkQXJndW1lbnQ9InZhbHVlIj09PXQudHlwZS5raW5kfHwidmFsdWUiPT09ZS50eXBlLmtpbmQ7fXJldHVybiBpLnBhcnNlPWZ1bmN0aW9uKHQsZSl7aWYoMyE9PXQubGVuZ3RoJiY0IT09dC5sZW5ndGgpcmV0dXJuIGUuZXJyb3IoIkV4cGVjdGVkIHR3byBvciB0aHJlZSBhcmd1bWVudHMuIik7dmFyIHI9dFswXSxhPWUucGFyc2UodFsxXSwxLFV0KTtpZighYSlyZXR1cm4gbnVsbDtpZighaHIocixhLnR5cGUpKXJldHVybiBlLmNvbmNhdCgxKS5lcnJvcignIicrcisiXCIgY29tcGFyaXNvbnMgYXJlIG5vdCBzdXBwb3J0ZWQgZm9yIHR5cGUgJyIrR3QoYS50eXBlKSsiJy4iKTt2YXIgbz1lLnBhcnNlKHRbMl0sMixVdCk7aWYoIW8pcmV0dXJuIG51bGw7aWYoIWhyKHIsby50eXBlKSlyZXR1cm4gZS5jb25jYXQoMikuZXJyb3IoJyInK3IrIlwiIGNvbXBhcmlzb25zIGFyZSBub3Qgc3VwcG9ydGVkIGZvciB0eXBlICciK0d0KG8udHlwZSkrIicuIik7aWYoYS50eXBlLmtpbmQhPT1vLnR5cGUua2luZCYmInZhbHVlIiE9PWEudHlwZS5raW5kJiYidmFsdWUiIT09by50eXBlLmtpbmQpcmV0dXJuIGUuZXJyb3IoIkNhbm5vdCBjb21wYXJlIHR5cGVzICciK0d0KGEudHlwZSkrIicgYW5kICciK0d0KG8udHlwZSkrIicuIik7biYmKCJ2YWx1ZSI9PT1hLnR5cGUua2luZCYmInZhbHVlIiE9PW8udHlwZS5raW5kP2E9bmV3IGxlKG8udHlwZSxbYV0pOiJ2YWx1ZSIhPT1hLnR5cGUua2luZCYmInZhbHVlIj09PW8udHlwZS5raW5kJiYobz1uZXcgbGUoYS50eXBlLFtvXSkpKTt2YXIgcz1udWxsO2lmKDQ9PT10Lmxlbmd0aCl7aWYoInN0cmluZyIhPT1hLnR5cGUua2luZCYmInN0cmluZyIhPT1vLnR5cGUua2luZCYmInZhbHVlIiE9PWEudHlwZS5raW5kJiYidmFsdWUiIT09by50eXBlLmtpbmQpcmV0dXJuIGUuZXJyb3IoIkNhbm5vdCB1c2UgY29sbGF0b3IgdG8gY29tcGFyZSBub24tc3RyaW5nIHR5cGVzLiIpO2lmKCEocz1lLnBhcnNlKHRbM10sMyxqdCkpKXJldHVybiBudWxsfXJldHVybiBuZXcgaShhLG8scyl9LGkucHJvdG90eXBlLmV2YWx1YXRlPWZ1bmN0aW9uKGkpe3ZhciBhPXRoaXMubGhzLmV2YWx1YXRlKGkpLG89dGhpcy5yaHMuZXZhbHVhdGUoaSk7aWYobiYmdGhpcy5oYXNVbnR5cGVkQXJndW1lbnQpe3ZhciBzPWllKGEpLHU9aWUobyk7aWYocy5raW5kIT09dS5raW5kfHwic3RyaW5nIiE9PXMua2luZCYmIm51bWJlciIhPT1zLmtpbmQpdGhyb3cgbmV3IHNlKCdFeHBlY3RlZCBhcmd1bWVudHMgZm9yICInK3QrJyIgdG8gYmUgKHN0cmluZywgc3RyaW5nKSBvciAobnVtYmVyLCBudW1iZXIpLCBidXQgZm91bmQgKCcrcy5raW5kKyIsICIrdS5raW5kKyIpIGluc3RlYWQuIil9aWYodGhpcy5jb2xsYXRvciYmIW4mJnRoaXMuaGFzVW50eXBlZEFyZ3VtZW50KXt2YXIgbD1pZShhKSxwPWllKG8pO2lmKCJzdHJpbmciIT09bC5raW5kfHwic3RyaW5nIiE9PXAua2luZClyZXR1cm4gZShpLGEsbyl9cmV0dXJuIHRoaXMuY29sbGF0b3I/cihpLGEsbyx0aGlzLmNvbGxhdG9yLmV2YWx1YXRlKGkpKTplKGksYSxvKX0saS5wcm90b3R5cGUuZWFjaENoaWxkPWZ1bmN0aW9uKHQpe3QodGhpcy5saHMpLHQodGhpcy5yaHMpLHRoaXMuY29sbGF0b3ImJnQodGhpcy5jb2xsYXRvcik7fSxpLnByb3RvdHlwZS5vdXRwdXREZWZpbmVkPWZ1bmN0aW9uKCl7cmV0dXJuICEwfSxpLnByb3RvdHlwZS5zZXJpYWxpemU9ZnVuY3Rpb24oKXt2YXIgZT1bdF07cmV0dXJuIHRoaXMuZWFjaENoaWxkKChmdW5jdGlvbih0KXtlLnB1c2godC5zZXJpYWxpemUoKSk7fSkpLGV9LGl9KCl9Y3IucGFyc2U9ZnVuY3Rpb24odCxlKXtpZih0Lmxlbmd0aDw9Mnx8dC5sZW5ndGg+PTUpcmV0dXJuIGUuZXJyb3IoIkV4cGVjdGVkIDMgb3IgNCBhcmd1bWVudHMsIGJ1dCBmb3VuZCAiKyh0Lmxlbmd0aC0xKSsiIGluc3RlYWQuIik7dmFyIHI9ZS5wYXJzZSh0WzFdLDEsVXQpLG49ZS5wYXJzZSh0WzJdLDIsRnQpO2lmKCFyfHwhbilyZXR1cm4gbnVsbDtpZighSnQoci50eXBlLFtLdChVdCksRHQsVXRdKSlyZXR1cm4gZS5lcnJvcigiRXhwZWN0ZWQgZmlyc3QgYXJndW1lbnQgdG8gYmUgb2YgdHlwZSBhcnJheSBvciBzdHJpbmcsIGJ1dCBmb3VuZCAiK0d0KHIudHlwZSkrIiBpbnN0ZWFkIik7aWYoND09PXQubGVuZ3RoKXt2YXIgaT1lLnBhcnNlKHRbM10sMyxGdCk7cmV0dXJuIGk/bmV3IGNyKHIudHlwZSxyLG4saSk6bnVsbH1yZXR1cm4gbmV3IGNyKHIudHlwZSxyLG4pfSxjci5wcm90b3R5cGUuZXZhbHVhdGU9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5pbnB1dC5ldmFsdWF0ZSh0KSxyPXRoaXMuYmVnaW5JbmRleC5ldmFsdWF0ZSh0KTtpZighSHQoZSxbInN0cmluZyIsImFycmF5Il0pKXRocm93IG5ldyBzZSgiRXhwZWN0ZWQgZmlyc3QgYXJndW1lbnQgdG8gYmUgb2YgdHlwZSBhcnJheSBvciBzdHJpbmcsIGJ1dCBmb3VuZCAiK0d0KGllKGUpKSsiIGluc3RlYWQuIik7aWYodGhpcy5lbmRJbmRleCl7dmFyIG49dGhpcy5lbmRJbmRleC5ldmFsdWF0ZSh0KTtyZXR1cm4gZS5zbGljZShyLG4pfXJldHVybiBlLnNsaWNlKHIpfSxjci5wcm90b3R5cGUuZWFjaENoaWxkPWZ1bmN0aW9uKHQpe3QodGhpcy5pbnB1dCksdCh0aGlzLmJlZ2luSW5kZXgpLHRoaXMuZW5kSW5kZXgmJnQodGhpcy5lbmRJbmRleCk7fSxjci5wcm90b3R5cGUub3V0cHV0RGVmaW5lZD1mdW5jdGlvbigpe3JldHVybiAhMX0sY3IucHJvdG90eXBlLnNlcmlhbGl6ZT1mdW5jdGlvbigpe2lmKG51bGwhPXRoaXMuZW5kSW5kZXgmJnZvaWQgMCE9PXRoaXMuZW5kSW5kZXgpe3ZhciB0PXRoaXMuZW5kSW5kZXguc2VyaWFsaXplKCk7cmV0dXJuIFsic2xpY2UiLHRoaXMuaW5wdXQuc2VyaWFsaXplKCksdGhpcy5iZWdpbkluZGV4LnNlcmlhbGl6ZSgpLHRdfXJldHVybiBbInNsaWNlIix0aGlzLmlucHV0LnNlcmlhbGl6ZSgpLHRoaXMuYmVnaW5JbmRleC5zZXJpYWxpemUoKV19O3ZhciBkcj15cigiPT0iLChmdW5jdGlvbih0LGUscil7cmV0dXJuIGU9PT1yfSksZnIpLG1yPXlyKCIhPSIsKGZ1bmN0aW9uKHQsZSxyKXtyZXR1cm4gZSE9PXJ9KSwoZnVuY3Rpb24odCxlLHIsbil7cmV0dXJuICFmcigwLGUscixuKX0pKSx2cj15cigiPCIsKGZ1bmN0aW9uKHQsZSxyKXtyZXR1cm4gZTxyfSksKGZ1bmN0aW9uKHQsZSxyLG4pe3JldHVybiBuLmNvbXBhcmUoZSxyKTwwfSkpLGdyPXlyKCI+IiwoZnVuY3Rpb24odCxlLHIpe3JldHVybiBlPnJ9KSwoZnVuY3Rpb24odCxlLHIsbil7cmV0dXJuIG4uY29tcGFyZShlLHIpPjB9KSkseHI9eXIoIjw9IiwoZnVuY3Rpb24odCxlLHIpe3JldHVybiBlPD1yfSksKGZ1bmN0aW9uKHQsZSxyLG4pe3JldHVybiBuLmNvbXBhcmUoZSxyKTw9MH0pKSxicj15cigiPj0iLChmdW5jdGlvbih0LGUscil7cmV0dXJuIGU+PXJ9KSwoZnVuY3Rpb24odCxlLHIsbil7cmV0dXJuIG4uY29tcGFyZShlLHIpPj0wfSkpLHdyPWZ1bmN0aW9uKHQsZSxyLG4saSl7dGhpcy50eXBlPUR0LHRoaXMubnVtYmVyPXQsdGhpcy5sb2NhbGU9ZSx0aGlzLmN1cnJlbmN5PXIsdGhpcy5taW5GcmFjdGlvbkRpZ2l0cz1uLHRoaXMubWF4RnJhY3Rpb25EaWdpdHM9aTt9O3dyLnBhcnNlPWZ1bmN0aW9uKHQsZSl7aWYoMyE9PXQubGVuZ3RoKXJldHVybiBlLmVycm9yKCJFeHBlY3RlZCB0d28gYXJndW1lbnRzLiIpO3ZhciByPWUucGFyc2UodFsxXSwxLEZ0KTtpZighcilyZXR1cm4gbnVsbDt2YXIgbj10WzJdO2lmKCJvYmplY3QiIT10eXBlb2Ygbnx8QXJyYXkuaXNBcnJheShuKSlyZXR1cm4gZS5lcnJvcigiTnVtYmVyRm9ybWF0IG9wdGlvbnMgYXJndW1lbnQgbXVzdCBiZSBhbiBvYmplY3QuIik7dmFyIGk9bnVsbDtpZihuLmxvY2FsZSYmIShpPWUucGFyc2Uobi5sb2NhbGUsMSxEdCkpKXJldHVybiBudWxsO3ZhciBhPW51bGw7aWYobi5jdXJyZW5jeSYmIShhPWUucGFyc2Uobi5jdXJyZW5jeSwxLER0KSkpcmV0dXJuIG51bGw7dmFyIG89bnVsbDtpZihuWyJtaW4tZnJhY3Rpb24tZGlnaXRzIl0mJiEobz1lLnBhcnNlKG5bIm1pbi1mcmFjdGlvbi1kaWdpdHMiXSwxLEZ0KSkpcmV0dXJuIG51bGw7dmFyIHM9bnVsbDtyZXR1cm4gblsibWF4LWZyYWN0aW9uLWRpZ2l0cyJdJiYhKHM9ZS5wYXJzZShuWyJtYXgtZnJhY3Rpb24tZGlnaXRzIl0sMSxGdCkpP251bGw6bmV3IHdyKHIsaSxhLG8scyl9LHdyLnByb3RvdHlwZS5ldmFsdWF0ZT1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IEludGwuTnVtYmVyRm9ybWF0KHRoaXMubG9jYWxlP3RoaXMubG9jYWxlLmV2YWx1YXRlKHQpOltdLHtzdHlsZTp0aGlzLmN1cnJlbmN5PyJjdXJyZW5jeSI6ImRlY2ltYWwiLGN1cnJlbmN5OnRoaXMuY3VycmVuY3k/dGhpcy5jdXJyZW5jeS5ldmFsdWF0ZSh0KTp2b2lkIDAsbWluaW11bUZyYWN0aW9uRGlnaXRzOnRoaXMubWluRnJhY3Rpb25EaWdpdHM/dGhpcy5taW5GcmFjdGlvbkRpZ2l0cy5ldmFsdWF0ZSh0KTp2b2lkIDAsbWF4aW11bUZyYWN0aW9uRGlnaXRzOnRoaXMubWF4RnJhY3Rpb25EaWdpdHM/dGhpcy5tYXhGcmFjdGlvbkRpZ2l0cy5ldmFsdWF0ZSh0KTp2b2lkIDB9KS5mb3JtYXQodGhpcy5udW1iZXIuZXZhbHVhdGUodCkpfSx3ci5wcm90b3R5cGUuZWFjaENoaWxkPWZ1bmN0aW9uKHQpe3QodGhpcy5udW1iZXIpLHRoaXMubG9jYWxlJiZ0KHRoaXMubG9jYWxlKSx0aGlzLmN1cnJlbmN5JiZ0KHRoaXMuY3VycmVuY3kpLHRoaXMubWluRnJhY3Rpb25EaWdpdHMmJnQodGhpcy5taW5GcmFjdGlvbkRpZ2l0cyksdGhpcy5tYXhGcmFjdGlvbkRpZ2l0cyYmdCh0aGlzLm1heEZyYWN0aW9uRGlnaXRzKTt9LHdyLnByb3RvdHlwZS5vdXRwdXREZWZpbmVkPWZ1bmN0aW9uKCl7cmV0dXJuICExfSx3ci5wcm90b3R5cGUuc2VyaWFsaXplPWZ1bmN0aW9uKCl7dmFyIHQ9e307cmV0dXJuIHRoaXMubG9jYWxlJiYodC5sb2NhbGU9dGhpcy5sb2NhbGUuc2VyaWFsaXplKCkpLHRoaXMuY3VycmVuY3kmJih0LmN1cnJlbmN5PXRoaXMuY3VycmVuY3kuc2VyaWFsaXplKCkpLHRoaXMubWluRnJhY3Rpb25EaWdpdHMmJih0WyJtaW4tZnJhY3Rpb24tZGlnaXRzIl09dGhpcy5taW5GcmFjdGlvbkRpZ2l0cy5zZXJpYWxpemUoKSksdGhpcy5tYXhGcmFjdGlvbkRpZ2l0cyYmKHRbIm1heC1mcmFjdGlvbi1kaWdpdHMiXT10aGlzLm1heEZyYWN0aW9uRGlnaXRzLnNlcmlhbGl6ZSgpKSxbIm51bWJlci1mb3JtYXQiLHRoaXMubnVtYmVyLnNlcmlhbGl6ZSgpLHRdfTt2YXIgX3I9ZnVuY3Rpb24odCl7dGhpcy50eXBlPUZ0LHRoaXMuaW5wdXQ9dDt9O19yLnBhcnNlPWZ1bmN0aW9uKHQsZSl7aWYoMiE9PXQubGVuZ3RoKXJldHVybiBlLmVycm9yKCJFeHBlY3RlZCAxIGFyZ3VtZW50LCBidXQgZm91bmQgIisodC5sZW5ndGgtMSkrIiBpbnN0ZWFkLiIpO3ZhciByPWUucGFyc2UodFsxXSwxKTtyZXR1cm4gcj8iYXJyYXkiIT09ci50eXBlLmtpbmQmJiJzdHJpbmciIT09ci50eXBlLmtpbmQmJiJ2YWx1ZSIhPT1yLnR5cGUua2luZD9lLmVycm9yKCJFeHBlY3RlZCBhcmd1bWVudCBvZiB0eXBlIHN0cmluZyBvciBhcnJheSwgYnV0IGZvdW5kICIrR3Qoci50eXBlKSsiIGluc3RlYWQuIik6bmV3IF9yKHIpOm51bGx9LF9yLnByb3RvdHlwZS5ldmFsdWF0ZT1mdW5jdGlvbih0KXt2YXIgZT10aGlzLmlucHV0LmV2YWx1YXRlKHQpO2lmKCJzdHJpbmciPT10eXBlb2YgZSlyZXR1cm4gZS5sZW5ndGg7aWYoQXJyYXkuaXNBcnJheShlKSlyZXR1cm4gZS5sZW5ndGg7dGhyb3cgbmV3IHNlKCJFeHBlY3RlZCB2YWx1ZSB0byBiZSBvZiB0eXBlIHN0cmluZyBvciBhcnJheSwgYnV0IGZvdW5kICIrR3QoaWUoZSkpKyIgaW5zdGVhZC4iKX0sX3IucHJvdG90eXBlLmVhY2hDaGlsZD1mdW5jdGlvbih0KXt0KHRoaXMuaW5wdXQpO30sX3IucHJvdG90eXBlLm91dHB1dERlZmluZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gITF9LF9yLnByb3RvdHlwZS5zZXJpYWxpemU9ZnVuY3Rpb24oKXt2YXIgdD1bImxlbmd0aCJdO3JldHVybiB0aGlzLmVhY2hDaGlsZCgoZnVuY3Rpb24oZSl7dC5wdXNoKGUuc2VyaWFsaXplKCkpO30pKSx0fTt2YXIgQXI9eyI9PSI6ZHIsIiE9IjptciwiPiI6Z3IsIjwiOnZyLCI+PSI6YnIsIjw9Ijp4cixhcnJheTpsZSxhdDpvcixib29sZWFuOmxlLGNhc2U6cHIsY29hbGVzY2U6aXIsY29sbGF0b3I6dmUsZm9ybWF0OnBlLGltYWdlOmNlLGluOnNyLCJpbmRleC1vZiI6dXIsaW50ZXJwb2xhdGU6cnIsImludGVycG9sYXRlLWhjbCI6cnIsImludGVycG9sYXRlLWxhYiI6cnIsbGVuZ3RoOl9yLGxldDphcixsaXRlcmFsOm9lLG1hdGNoOmxyLG51bWJlcjpsZSwibnVtYmVyLWZvcm1hdCI6d3Isb2JqZWN0OmxlLHNsaWNlOmNyLHN0ZXA6VWUsc3RyaW5nOmxlLCJ0by1ib29sZWFuIjpmZSwidG8tY29sb3IiOmZlLCJ0by1udW1iZXIiOmZlLCJ0by1zdHJpbmciOmZlLHZhcjpMZSx3aXRoaW46QmV9O2Z1bmN0aW9uIFNyKHQsZSl7dmFyIHI9ZVswXSxuPWVbMV0saT1lWzJdLGE9ZVszXTtyPXIuZXZhbHVhdGUodCksbj1uLmV2YWx1YXRlKHQpLGk9aS5ldmFsdWF0ZSh0KTt2YXIgbz1hP2EuZXZhbHVhdGUodCk6MSxzPXJlKHIsbixpLG8pO2lmKHMpdGhyb3cgbmV3IHNlKHMpO3JldHVybiBuZXcgJHQoci8yNTUqbyxuLzI1NSpvLGkvMjU1Km8sbyl9ZnVuY3Rpb24ga3IodCxlKXtyZXR1cm4gdCBpbiBlfWZ1bmN0aW9uIElyKHQsZSl7dmFyIHI9ZVt0XTtyZXR1cm4gdm9pZCAwPT09cj9udWxsOnJ9ZnVuY3Rpb24genIodCl7cmV0dXJuIHt0eXBlOnR9fWZ1bmN0aW9uIENyKHQpe3JldHVybiB7cmVzdWx0OiJzdWNjZXNzIix2YWx1ZTp0fX1mdW5jdGlvbiBNcih0KXtyZXR1cm4ge3Jlc3VsdDoiZXJyb3IiLHZhbHVlOnR9fWZ1bmN0aW9uIEVyKHQpe3JldHVybiAiZGF0YS1kcml2ZW4iPT09dFsicHJvcGVydHktdHlwZSJdfHwiY3Jvc3MtZmFkZWQtZGF0YS1kcml2ZW4iPT09dFsicHJvcGVydHktdHlwZSJdfWZ1bmN0aW9uIFRyKHQpe3JldHVybiAhIXQuZXhwcmVzc2lvbiYmdC5leHByZXNzaW9uLnBhcmFtZXRlcnMuaW5kZXhPZigiem9vbSIpPi0xfWZ1bmN0aW9uIFByKHQpe3JldHVybiAhIXQuZXhwcmVzc2lvbiYmdC5leHByZXNzaW9uLmludGVycG9sYXRlZH1mdW5jdGlvbiBCcih0KXtyZXR1cm4gdCBpbnN0YW5jZW9mIE51bWJlcj8ibnVtYmVyIjp0IGluc3RhbmNlb2YgU3RyaW5nPyJzdHJpbmciOnQgaW5zdGFuY2VvZiBCb29sZWFuPyJib29sZWFuIjpBcnJheS5pc0FycmF5KHQpPyJhcnJheSI6bnVsbD09PXQ/Im51bGwiOnR5cGVvZiB0fWZ1bmN0aW9uIFZyKHQpe3JldHVybiAib2JqZWN0Ij09dHlwZW9mIHQmJm51bGwhPT10JiYhQXJyYXkuaXNBcnJheSh0KX1mdW5jdGlvbiBGcih0KXtyZXR1cm4gdH1mdW5jdGlvbiBEcih0LGUscil7cmV0dXJuIHZvaWQgMCE9PXQ/dDp2b2lkIDAhPT1lP2U6dm9pZCAwIT09cj9yOnZvaWQgMH1mdW5jdGlvbiBMcih0LGUscixuLGkpe3JldHVybiBEcih0eXBlb2Ygcj09PWk/bltyXTp2b2lkIDAsdC5kZWZhdWx0LGUuZGVmYXVsdCl9ZnVuY3Rpb24gUnIodCxlLHIpe2lmKCJudW1iZXIiIT09QnIocikpcmV0dXJuIERyKHQuZGVmYXVsdCxlLmRlZmF1bHQpO3ZhciBuPXQuc3RvcHMubGVuZ3RoO2lmKDE9PT1uKXJldHVybiB0LnN0b3BzWzBdWzFdO2lmKHI8PXQuc3RvcHNbMF1bMF0pcmV0dXJuIHQuc3RvcHNbMF1bMV07aWYocj49dC5zdG9wc1tuLTFdWzBdKXJldHVybiB0LnN0b3BzW24tMV1bMV07dmFyIGk9T2UodC5zdG9wcy5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiB0WzBdfSkpLHIpO3JldHVybiB0LnN0b3BzW2ldWzFdfWZ1bmN0aW9uIE9yKHQsZSxyKXt2YXIgbj12b2lkIDAhPT10LmJhc2U/dC5iYXNlOjE7aWYoIm51bWJlciIhPT1CcihyKSlyZXR1cm4gRHIodC5kZWZhdWx0LGUuZGVmYXVsdCk7dmFyIGk9dC5zdG9wcy5sZW5ndGg7aWYoMT09PWkpcmV0dXJuIHQuc3RvcHNbMF1bMV07aWYocjw9dC5zdG9wc1swXVswXSlyZXR1cm4gdC5zdG9wc1swXVsxXTtpZihyPj10LnN0b3BzW2ktMV1bMF0pcmV0dXJuIHQuc3RvcHNbaS0xXVsxXTt2YXIgYT1PZSh0LnN0b3BzLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIHRbMF19KSksciksbz1mdW5jdGlvbih0LGUscixuKXt2YXIgaT1uLXIsYT10LXI7cmV0dXJuIDA9PT1pPzA6MT09PWU/YS9pOihNYXRoLnBvdyhlLGEpLTEpLyhNYXRoLnBvdyhlLGkpLTEpfShyLG4sdC5zdG9wc1thXVswXSx0LnN0b3BzW2ErMV1bMF0pLHM9dC5zdG9wc1thXVsxXSx1PXQuc3RvcHNbYSsxXVsxXSxsPXFlW2UudHlwZV18fEZyO2lmKHQuY29sb3JTcGFjZSYmInJnYiIhPT10LmNvbG9yU3BhY2Upe3ZhciBwPWVyW3QuY29sb3JTcGFjZV07bD1mdW5jdGlvbih0LGUpe3JldHVybiBwLnJldmVyc2UocC5pbnRlcnBvbGF0ZShwLmZvcndhcmQodCkscC5mb3J3YXJkKGUpLG8pKX07fXJldHVybiAiZnVuY3Rpb24iPT10eXBlb2Ygcy5ldmFsdWF0ZT97ZXZhbHVhdGU6ZnVuY3Rpb24oKXtmb3IodmFyIHQ9W10sZT1hcmd1bWVudHMubGVuZ3RoO2UtLTspdFtlXT1hcmd1bWVudHNbZV07dmFyIHI9cy5ldmFsdWF0ZS5hcHBseSh2b2lkIDAsdCksbj11LmV2YWx1YXRlLmFwcGx5KHZvaWQgMCx0KTtpZih2b2lkIDAhPT1yJiZ2b2lkIDAhPT1uKXJldHVybiBsKHIsbixvKX19Omwocyx1LG8pfWZ1bmN0aW9uIFVyKHQsZSxyKXtyZXR1cm4gImNvbG9yIj09PWUudHlwZT9yPSR0LnBhcnNlKHIpOiJmb3JtYXR0ZWQiPT09ZS50eXBlP3I9dGUuZnJvbVN0cmluZyhyLnRvU3RyaW5nKCkpOiJyZXNvbHZlZEltYWdlIj09PWUudHlwZT9yPWVlLmZyb21TdHJpbmcoci50b1N0cmluZygpKTpCcihyKT09PWUudHlwZXx8ImVudW0iPT09ZS50eXBlJiZlLnZhbHVlc1tyXXx8KHI9dm9pZCAwKSxEcihyLHQuZGVmYXVsdCxlLmRlZmF1bHQpfW1lLnJlZ2lzdGVyKEFyLHtlcnJvcjpbe2tpbmQ6ImVycm9yIn0sW0R0XSxmdW5jdGlvbih0LGUpe3Rocm93IG5ldyBzZShlWzBdLmV2YWx1YXRlKHQpKX1dLHR5cGVvZjpbRHQsW1V0XSxmdW5jdGlvbih0LGUpe3JldHVybiBHdChpZShlWzBdLmV2YWx1YXRlKHQpKSl9XSwidG8tcmdiYSI6W0t0KEZ0LDQpLFtSdF0sZnVuY3Rpb24odCxlKXtyZXR1cm4gZVswXS5ldmFsdWF0ZSh0KS50b0FycmF5KCl9XSxyZ2I6W1J0LFtGdCxGdCxGdF0sU3JdLHJnYmE6W1J0LFtGdCxGdCxGdCxGdF0sU3JdLGhhczp7dHlwZTpMdCxvdmVybG9hZHM6W1tbRHRdLGZ1bmN0aW9uKHQsZSl7cmV0dXJuIGtyKGVbMF0uZXZhbHVhdGUodCksdC5wcm9wZXJ0aWVzKCkpfV0sW1tEdCxPdF0sZnVuY3Rpb24odCxlKXt2YXIgcj1lWzFdO3JldHVybiBrcihlWzBdLmV2YWx1YXRlKHQpLHIuZXZhbHVhdGUodCkpfV1dfSxnZXQ6e3R5cGU6VXQsb3ZlcmxvYWRzOltbW0R0XSxmdW5jdGlvbih0LGUpe3JldHVybiBJcihlWzBdLmV2YWx1YXRlKHQpLHQucHJvcGVydGllcygpKX1dLFtbRHQsT3RdLGZ1bmN0aW9uKHQsZSl7dmFyIHI9ZVsxXTtyZXR1cm4gSXIoZVswXS5ldmFsdWF0ZSh0KSxyLmV2YWx1YXRlKHQpKX1dXX0sImZlYXR1cmUtc3RhdGUiOltVdCxbRHRdLGZ1bmN0aW9uKHQsZSl7cmV0dXJuIElyKGVbMF0uZXZhbHVhdGUodCksdC5mZWF0dXJlU3RhdGV8fHt9KX1dLHByb3BlcnRpZXM6W090LFtdLGZ1bmN0aW9uKHQpe3JldHVybiB0LnByb3BlcnRpZXMoKX1dLCJnZW9tZXRyeS10eXBlIjpbRHQsW10sZnVuY3Rpb24odCl7cmV0dXJuIHQuZ2VvbWV0cnlUeXBlKCl9XSxpZDpbVXQsW10sZnVuY3Rpb24odCl7cmV0dXJuIHQuaWQoKX1dLHpvb206W0Z0LFtdLGZ1bmN0aW9uKHQpe3JldHVybiB0Lmdsb2JhbHMuem9vbX1dLCJoZWF0bWFwLWRlbnNpdHkiOltGdCxbXSxmdW5jdGlvbih0KXtyZXR1cm4gdC5nbG9iYWxzLmhlYXRtYXBEZW5zaXR5fHwwfV0sImxpbmUtcHJvZ3Jlc3MiOltGdCxbXSxmdW5jdGlvbih0KXtyZXR1cm4gdC5nbG9iYWxzLmxpbmVQcm9ncmVzc3x8MH1dLGFjY3VtdWxhdGVkOltVdCxbXSxmdW5jdGlvbih0KXtyZXR1cm4gdm9pZCAwPT09dC5nbG9iYWxzLmFjY3VtdWxhdGVkP251bGw6dC5nbG9iYWxzLmFjY3VtdWxhdGVkfV0sIisiOltGdCx6cihGdCksZnVuY3Rpb24odCxlKXtmb3IodmFyIHI9MCxuPTAsaT1lO248aS5sZW5ndGg7bis9MSlyKz1pW25dLmV2YWx1YXRlKHQpO3JldHVybiByfV0sIioiOltGdCx6cihGdCksZnVuY3Rpb24odCxlKXtmb3IodmFyIHI9MSxuPTAsaT1lO248aS5sZW5ndGg7bis9MSlyKj1pW25dLmV2YWx1YXRlKHQpO3JldHVybiByfV0sIi0iOnt0eXBlOkZ0LG92ZXJsb2FkczpbW1tGdCxGdF0sZnVuY3Rpb24odCxlKXt2YXIgcj1lWzFdO3JldHVybiBlWzBdLmV2YWx1YXRlKHQpLXIuZXZhbHVhdGUodCl9XSxbW0Z0XSxmdW5jdGlvbih0LGUpe3JldHVybiAtZVswXS5ldmFsdWF0ZSh0KX1dXX0sIi8iOltGdCxbRnQsRnRdLGZ1bmN0aW9uKHQsZSl7dmFyIHI9ZVsxXTtyZXR1cm4gZVswXS5ldmFsdWF0ZSh0KS9yLmV2YWx1YXRlKHQpfV0sIiUiOltGdCxbRnQsRnRdLGZ1bmN0aW9uKHQsZSl7dmFyIHI9ZVsxXTtyZXR1cm4gZVswXS5ldmFsdWF0ZSh0KSVyLmV2YWx1YXRlKHQpfV0sbG4yOltGdCxbXSxmdW5jdGlvbigpe3JldHVybiBNYXRoLkxOMn1dLHBpOltGdCxbXSxmdW5jdGlvbigpe3JldHVybiBNYXRoLlBJfV0sZTpbRnQsW10sZnVuY3Rpb24oKXtyZXR1cm4gTWF0aC5FfV0sIl4iOltGdCxbRnQsRnRdLGZ1bmN0aW9uKHQsZSl7dmFyIHI9ZVsxXTtyZXR1cm4gTWF0aC5wb3coZVswXS5ldmFsdWF0ZSh0KSxyLmV2YWx1YXRlKHQpKX1dLHNxcnQ6W0Z0LFtGdF0sZnVuY3Rpb24odCxlKXtyZXR1cm4gTWF0aC5zcXJ0KGVbMF0uZXZhbHVhdGUodCkpfV0sbG9nMTA6W0Z0LFtGdF0sZnVuY3Rpb24odCxlKXtyZXR1cm4gTWF0aC5sb2coZVswXS5ldmFsdWF0ZSh0KSkvTWF0aC5MTjEwfV0sbG46W0Z0LFtGdF0sZnVuY3Rpb24odCxlKXtyZXR1cm4gTWF0aC5sb2coZVswXS5ldmFsdWF0ZSh0KSl9XSxsb2cyOltGdCxbRnRdLGZ1bmN0aW9uKHQsZSl7cmV0dXJuIE1hdGgubG9nKGVbMF0uZXZhbHVhdGUodCkpL01hdGguTE4yfV0sc2luOltGdCxbRnRdLGZ1bmN0aW9uKHQsZSl7cmV0dXJuIE1hdGguc2luKGVbMF0uZXZhbHVhdGUodCkpfV0sY29zOltGdCxbRnRdLGZ1bmN0aW9uKHQsZSl7cmV0dXJuIE1hdGguY29zKGVbMF0uZXZhbHVhdGUodCkpfV0sdGFuOltGdCxbRnRdLGZ1bmN0aW9uKHQsZSl7cmV0dXJuIE1hdGgudGFuKGVbMF0uZXZhbHVhdGUodCkpfV0sYXNpbjpbRnQsW0Z0XSxmdW5jdGlvbih0LGUpe3JldHVybiBNYXRoLmFzaW4oZVswXS5ldmFsdWF0ZSh0KSl9XSxhY29zOltGdCxbRnRdLGZ1bmN0aW9uKHQsZSl7cmV0dXJuIE1hdGguYWNvcyhlWzBdLmV2YWx1YXRlKHQpKX1dLGF0YW46W0Z0LFtGdF0sZnVuY3Rpb24odCxlKXtyZXR1cm4gTWF0aC5hdGFuKGVbMF0uZXZhbHVhdGUodCkpfV0sbWluOltGdCx6cihGdCksZnVuY3Rpb24odCxlKXtyZXR1cm4gTWF0aC5taW4uYXBwbHkoTWF0aCxlLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUuZXZhbHVhdGUodCl9KSkpfV0sbWF4OltGdCx6cihGdCksZnVuY3Rpb24odCxlKXtyZXR1cm4gTWF0aC5tYXguYXBwbHkoTWF0aCxlLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUuZXZhbHVhdGUodCl9KSkpfV0sYWJzOltGdCxbRnRdLGZ1bmN0aW9uKHQsZSl7cmV0dXJuIE1hdGguYWJzKGVbMF0uZXZhbHVhdGUodCkpfV0scm91bmQ6W0Z0LFtGdF0sZnVuY3Rpb24odCxlKXt2YXIgcj1lWzBdLmV2YWx1YXRlKHQpO3JldHVybiByPDA/LU1hdGgucm91bmQoLXIpOk1hdGgucm91bmQocil9XSxmbG9vcjpbRnQsW0Z0XSxmdW5jdGlvbih0LGUpe3JldHVybiBNYXRoLmZsb29yKGVbMF0uZXZhbHVhdGUodCkpfV0sY2VpbDpbRnQsW0Z0XSxmdW5jdGlvbih0LGUpe3JldHVybiBNYXRoLmNlaWwoZVswXS5ldmFsdWF0ZSh0KSl9XSwiZmlsdGVyLT09IjpbTHQsW0R0LFV0XSxmdW5jdGlvbih0LGUpe3ZhciByPWVbMF0sbj1lWzFdO3JldHVybiB0LnByb3BlcnRpZXMoKVtyLnZhbHVlXT09PW4udmFsdWV9XSwiZmlsdGVyLWlkLT09IjpbTHQsW1V0XSxmdW5jdGlvbih0LGUpe3ZhciByPWVbMF07cmV0dXJuIHQuaWQoKT09PXIudmFsdWV9XSwiZmlsdGVyLXR5cGUtPT0iOltMdCxbRHRdLGZ1bmN0aW9uKHQsZSl7dmFyIHI9ZVswXTtyZXR1cm4gdC5nZW9tZXRyeVR5cGUoKT09PXIudmFsdWV9XSwiZmlsdGVyLTwiOltMdCxbRHQsVXRdLGZ1bmN0aW9uKHQsZSl7dmFyIHI9ZVswXSxuPWVbMV0saT10LnByb3BlcnRpZXMoKVtyLnZhbHVlXSxhPW4udmFsdWU7cmV0dXJuIHR5cGVvZiBpPT10eXBlb2YgYSYmaTxhfV0sImZpbHRlci1pZC08IjpbTHQsW1V0XSxmdW5jdGlvbih0LGUpe3ZhciByPWVbMF0sbj10LmlkKCksaT1yLnZhbHVlO3JldHVybiB0eXBlb2Ygbj09dHlwZW9mIGkmJm48aX1dLCJmaWx0ZXItPiI6W0x0LFtEdCxVdF0sZnVuY3Rpb24odCxlKXt2YXIgcj1lWzBdLG49ZVsxXSxpPXQucHJvcGVydGllcygpW3IudmFsdWVdLGE9bi52YWx1ZTtyZXR1cm4gdHlwZW9mIGk9PXR5cGVvZiBhJiZpPmF9XSwiZmlsdGVyLWlkLT4iOltMdCxbVXRdLGZ1bmN0aW9uKHQsZSl7dmFyIHI9ZVswXSxuPXQuaWQoKSxpPXIudmFsdWU7cmV0dXJuIHR5cGVvZiBuPT10eXBlb2YgaSYmbj5pfV0sImZpbHRlci08PSI6W0x0LFtEdCxVdF0sZnVuY3Rpb24odCxlKXt2YXIgcj1lWzBdLG49ZVsxXSxpPXQucHJvcGVydGllcygpW3IudmFsdWVdLGE9bi52YWx1ZTtyZXR1cm4gdHlwZW9mIGk9PXR5cGVvZiBhJiZpPD1hfV0sImZpbHRlci1pZC08PSI6W0x0LFtVdF0sZnVuY3Rpb24odCxlKXt2YXIgcj1lWzBdLG49dC5pZCgpLGk9ci52YWx1ZTtyZXR1cm4gdHlwZW9mIG49PXR5cGVvZiBpJiZuPD1pfV0sImZpbHRlci0+PSI6W0x0LFtEdCxVdF0sZnVuY3Rpb24odCxlKXt2YXIgcj1lWzBdLG49ZVsxXSxpPXQucHJvcGVydGllcygpW3IudmFsdWVdLGE9bi52YWx1ZTtyZXR1cm4gdHlwZW9mIGk9PXR5cGVvZiBhJiZpPj1hfV0sImZpbHRlci1pZC0+PSI6W0x0LFtVdF0sZnVuY3Rpb24odCxlKXt2YXIgcj1lWzBdLG49dC5pZCgpLGk9ci52YWx1ZTtyZXR1cm4gdHlwZW9mIG49PXR5cGVvZiBpJiZuPj1pfV0sImZpbHRlci1oYXMiOltMdCxbVXRdLGZ1bmN0aW9uKHQsZSl7cmV0dXJuIGVbMF0udmFsdWUgaW4gdC5wcm9wZXJ0aWVzKCl9XSwiZmlsdGVyLWhhcy1pZCI6W0x0LFtdLGZ1bmN0aW9uKHQpe3JldHVybiBudWxsIT09dC5pZCgpJiZ2b2lkIDAhPT10LmlkKCl9XSwiZmlsdGVyLXR5cGUtaW4iOltMdCxbS3QoRHQpXSxmdW5jdGlvbih0LGUpe3JldHVybiBlWzBdLnZhbHVlLmluZGV4T2YodC5nZW9tZXRyeVR5cGUoKSk+PTB9XSwiZmlsdGVyLWlkLWluIjpbTHQsW0t0KFV0KV0sZnVuY3Rpb24odCxlKXtyZXR1cm4gZVswXS52YWx1ZS5pbmRleE9mKHQuaWQoKSk+PTB9XSwiZmlsdGVyLWluLXNtYWxsIjpbTHQsW0R0LEt0KFV0KV0sZnVuY3Rpb24odCxlKXt2YXIgcj1lWzBdO3JldHVybiBlWzFdLnZhbHVlLmluZGV4T2YodC5wcm9wZXJ0aWVzKClbci52YWx1ZV0pPj0wfV0sImZpbHRlci1pbi1sYXJnZSI6W0x0LFtEdCxLdChVdCldLGZ1bmN0aW9uKHQsZSl7dmFyIHI9ZVswXSxuPWVbMV07cmV0dXJuIGZ1bmN0aW9uKHQsZSxyLG4pe2Zvcig7cjw9bjspe3ZhciBpPXIrbj4+MTtpZihlW2ldPT09dClyZXR1cm4gITA7ZVtpXT50P249aS0xOnI9aSsxO31yZXR1cm4gITF9KHQucHJvcGVydGllcygpW3IudmFsdWVdLG4udmFsdWUsMCxuLnZhbHVlLmxlbmd0aC0xKX1dLGFsbDp7dHlwZTpMdCxvdmVybG9hZHM6W1tbTHQsTHRdLGZ1bmN0aW9uKHQsZSl7dmFyIHI9ZVsxXTtyZXR1cm4gZVswXS5ldmFsdWF0ZSh0KSYmci5ldmFsdWF0ZSh0KX1dLFt6cihMdCksZnVuY3Rpb24odCxlKXtmb3IodmFyIHI9MCxuPWU7cjxuLmxlbmd0aDtyKz0xKWlmKCFuW3JdLmV2YWx1YXRlKHQpKXJldHVybiAhMTtyZXR1cm4gITB9XV19LGFueTp7dHlwZTpMdCxvdmVybG9hZHM6W1tbTHQsTHRdLGZ1bmN0aW9uKHQsZSl7dmFyIHI9ZVsxXTtyZXR1cm4gZVswXS5ldmFsdWF0ZSh0KXx8ci5ldmFsdWF0ZSh0KX1dLFt6cihMdCksZnVuY3Rpb24odCxlKXtmb3IodmFyIHI9MCxuPWU7cjxuLmxlbmd0aDtyKz0xKWlmKG5bcl0uZXZhbHVhdGUodCkpcmV0dXJuICEwO3JldHVybiAhMX1dXX0sIiEiOltMdCxbTHRdLGZ1bmN0aW9uKHQsZSl7cmV0dXJuICFlWzBdLmV2YWx1YXRlKHQpfV0sImlzLXN1cHBvcnRlZC1zY3JpcHQiOltMdCxbRHRdLGZ1bmN0aW9uKHQsZSl7dmFyIHI9dC5nbG9iYWxzJiZ0Lmdsb2JhbHMuaXNTdXBwb3J0ZWRTY3JpcHQ7cmV0dXJuICFyfHxyKGVbMF0uZXZhbHVhdGUodCkpfV0sdXBjYXNlOltEdCxbRHRdLGZ1bmN0aW9uKHQsZSl7cmV0dXJuIGVbMF0uZXZhbHVhdGUodCkudG9VcHBlckNhc2UoKX1dLGRvd25jYXNlOltEdCxbRHRdLGZ1bmN0aW9uKHQsZSl7cmV0dXJuIGVbMF0uZXZhbHVhdGUodCkudG9Mb3dlckNhc2UoKX1dLGNvbmNhdDpbRHQsenIoVXQpLGZ1bmN0aW9uKHQsZSl7cmV0dXJuIGUubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gYWUoZS5ldmFsdWF0ZSh0KSl9KSkuam9pbigiIil9XSwicmVzb2x2ZWQtbG9jYWxlIjpbRHQsW2p0XSxmdW5jdGlvbih0LGUpe3JldHVybiBlWzBdLmV2YWx1YXRlKHQpLnJlc29sdmVkTG9jYWxlKCl9XX0pO3ZhciBqcj1mdW5jdGlvbih0LGUpe3RoaXMuZXhwcmVzc2lvbj10LHRoaXMuX3dhcm5pbmdIaXN0b3J5PXt9LHRoaXMuX2V2YWx1YXRvcj1uZXcgZGUsdGhpcy5fZGVmYXVsdFZhbHVlPWU/ZnVuY3Rpb24odCl7cmV0dXJuICJjb2xvciI9PT10LnR5cGUmJlZyKHQuZGVmYXVsdCk/bmV3ICR0KDAsMCwwLDApOiJjb2xvciI9PT10LnR5cGU/JHQucGFyc2UodC5kZWZhdWx0KXx8bnVsbDp2b2lkIDA9PT10LmRlZmF1bHQ/bnVsbDp0LmRlZmF1bHR9KGUpOm51bGwsdGhpcy5fZW51bVZhbHVlcz1lJiYiZW51bSI9PT1lLnR5cGU/ZS52YWx1ZXM6bnVsbDt9O2Z1bmN0aW9uIHFyKHQpe3JldHVybiBBcnJheS5pc0FycmF5KHQpJiZ0Lmxlbmd0aD4wJiYic3RyaW5nIj09dHlwZW9mIHRbMF0mJnRbMF1pbiBBcn1mdW5jdGlvbiBOcih0LGUpe3ZhciByPW5ldyBSZShBcixbXSxlP2Z1bmN0aW9uKHQpe3ZhciBlPXtjb2xvcjpSdCxzdHJpbmc6RHQsbnVtYmVyOkZ0LGVudW06RHQsYm9vbGVhbjpMdCxmb3JtYXR0ZWQ6cXQscmVzb2x2ZWRJbWFnZTpOdH07cmV0dXJuICJhcnJheSI9PT10LnR5cGU/S3QoZVt0LnZhbHVlXXx8VXQsdC5sZW5ndGgpOmVbdC50eXBlXX0oZSk6dm9pZCAwKSxuPXIucGFyc2UodCx2b2lkIDAsdm9pZCAwLHZvaWQgMCxlJiYic3RyaW5nIj09PWUudHlwZT97dHlwZUFubm90YXRpb246ImNvZXJjZSJ9OnZvaWQgMCk7cmV0dXJuIG4/Q3IobmV3IGpyKG4sZSkpOk1yKHIuZXJyb3JzKX1qci5wcm90b3R5cGUuZXZhbHVhdGVXaXRob3V0RXJyb3JIYW5kbGluZz1mdW5jdGlvbih0LGUscixuLGksYSl7cmV0dXJuIHRoaXMuX2V2YWx1YXRvci5nbG9iYWxzPXQsdGhpcy5fZXZhbHVhdG9yLmZlYXR1cmU9ZSx0aGlzLl9ldmFsdWF0b3IuZmVhdHVyZVN0YXRlPXIsdGhpcy5fZXZhbHVhdG9yLmNhbm9uaWNhbD1uLHRoaXMuX2V2YWx1YXRvci5hdmFpbGFibGVJbWFnZXM9aXx8bnVsbCx0aGlzLl9ldmFsdWF0b3IuZm9ybWF0dGVkU2VjdGlvbj1hLHRoaXMuZXhwcmVzc2lvbi5ldmFsdWF0ZSh0aGlzLl9ldmFsdWF0b3IpfSxqci5wcm90b3R5cGUuZXZhbHVhdGU9ZnVuY3Rpb24odCxlLHIsbixpLGEpe3RoaXMuX2V2YWx1YXRvci5nbG9iYWxzPXQsdGhpcy5fZXZhbHVhdG9yLmZlYXR1cmU9ZXx8bnVsbCx0aGlzLl9ldmFsdWF0b3IuZmVhdHVyZVN0YXRlPXJ8fG51bGwsdGhpcy5fZXZhbHVhdG9yLmNhbm9uaWNhbD1uLHRoaXMuX2V2YWx1YXRvci5hdmFpbGFibGVJbWFnZXM9aXx8bnVsbCx0aGlzLl9ldmFsdWF0b3IuZm9ybWF0dGVkU2VjdGlvbj1hfHxudWxsO3RyeXt2YXIgbz10aGlzLmV4cHJlc3Npb24uZXZhbHVhdGUodGhpcy5fZXZhbHVhdG9yKTtpZihudWxsPT1vfHwibnVtYmVyIj09dHlwZW9mIG8mJm8hPW8pcmV0dXJuIHRoaXMuX2RlZmF1bHRWYWx1ZTtpZih0aGlzLl9lbnVtVmFsdWVzJiYhKG8gaW4gdGhpcy5fZW51bVZhbHVlcykpdGhyb3cgbmV3IHNlKCJFeHBlY3RlZCB2YWx1ZSB0byBiZSBvbmUgb2YgIitPYmplY3Qua2V5cyh0aGlzLl9lbnVtVmFsdWVzKS5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiBKU09OLnN0cmluZ2lmeSh0KX0pKS5qb2luKCIsICIpKyIsIGJ1dCBmb3VuZCAiK0pTT04uc3RyaW5naWZ5KG8pKyIgaW5zdGVhZC4iKTtyZXR1cm4gb31jYXRjaCh0KXtyZXR1cm4gdGhpcy5fd2FybmluZ0hpc3RvcnlbdC5tZXNzYWdlXXx8KHRoaXMuX3dhcm5pbmdIaXN0b3J5W3QubWVzc2FnZV09ITAsInVuZGVmaW5lZCIhPXR5cGVvZiBjb25zb2xlJiZjb25zb2xlLndhcm4odC5tZXNzYWdlKSksdGhpcy5fZGVmYXVsdFZhbHVlfX07dmFyIEtyPWZ1bmN0aW9uKHQsZSl7dGhpcy5raW5kPXQsdGhpcy5fc3R5bGVFeHByZXNzaW9uPWUsdGhpcy5pc1N0YXRlRGVwZW5kZW50PSJjb25zdGFudCIhPT10JiYhRmUoZS5leHByZXNzaW9uKTt9O0tyLnByb3RvdHlwZS5ldmFsdWF0ZVdpdGhvdXRFcnJvckhhbmRsaW5nPWZ1bmN0aW9uKHQsZSxyLG4saSxhKXtyZXR1cm4gdGhpcy5fc3R5bGVFeHByZXNzaW9uLmV2YWx1YXRlV2l0aG91dEVycm9ySGFuZGxpbmcodCxlLHIsbixpLGEpfSxLci5wcm90b3R5cGUuZXZhbHVhdGU9ZnVuY3Rpb24odCxlLHIsbixpLGEpe3JldHVybiB0aGlzLl9zdHlsZUV4cHJlc3Npb24uZXZhbHVhdGUodCxlLHIsbixpLGEpfTt2YXIgR3I9ZnVuY3Rpb24odCxlLHIsbil7dGhpcy5raW5kPXQsdGhpcy56b29tU3RvcHM9cix0aGlzLl9zdHlsZUV4cHJlc3Npb249ZSx0aGlzLmlzU3RhdGVEZXBlbmRlbnQ9ImNhbWVyYSIhPT10JiYhRmUoZS5leHByZXNzaW9uKSx0aGlzLmludGVycG9sYXRpb25UeXBlPW47fTtmdW5jdGlvbiBacih0LGUpe2lmKCJlcnJvciI9PT0odD1Ocih0LGUpKS5yZXN1bHQpcmV0dXJuIHQ7dmFyIHI9dC52YWx1ZS5leHByZXNzaW9uLG49VmUocik7aWYoIW4mJiFFcihlKSlyZXR1cm4gTXIoW25ldyBQdCgiIiwiZGF0YSBleHByZXNzaW9ucyBub3Qgc3VwcG9ydGVkIildKTt2YXIgaT1EZShyLFsiem9vbSJdKTtpZighaSYmIVRyKGUpKXJldHVybiBNcihbbmV3IFB0KCIiLCJ6b29tIGV4cHJlc3Npb25zIG5vdCBzdXBwb3J0ZWQiKV0pO3ZhciBhPWZ1bmN0aW9uIHQoZSl7dmFyIHI9bnVsbDtpZihlIGluc3RhbmNlb2YgYXIpcj10KGUucmVzdWx0KTtlbHNlIGlmKGUgaW5zdGFuY2VvZiBpcilmb3IodmFyIG49MCxpPWUuYXJncztuPGkubGVuZ3RoJiYhKHI9dChpW25dKSk7bis9MSk7ZWxzZSAoZSBpbnN0YW5jZW9mIFVlfHxlIGluc3RhbmNlb2YgcnIpJiZlLmlucHV0IGluc3RhbmNlb2YgbWUmJiJ6b29tIj09PWUuaW5wdXQubmFtZSYmKHI9ZSk7cmV0dXJuIHIgaW5zdGFuY2VvZiBQdHx8ZS5lYWNoQ2hpbGQoKGZ1bmN0aW9uKGUpe3ZhciBuPXQoZSk7biBpbnN0YW5jZW9mIFB0P3I9bjohciYmbj9yPW5ldyBQdCgiIiwnInpvb20iIGV4cHJlc3Npb24gbWF5IG9ubHkgYmUgdXNlZCBhcyBpbnB1dCB0byBhIHRvcC1sZXZlbCAic3RlcCIgb3IgImludGVycG9sYXRlIiBleHByZXNzaW9uLicpOnImJm4mJnIhPT1uJiYocj1uZXcgUHQoIiIsJ09ubHkgb25lIHpvb20tYmFzZWQgInN0ZXAiIG9yICJpbnRlcnBvbGF0ZSIgc3ViZXhwcmVzc2lvbiBtYXkgYmUgdXNlZCBpbiBhbiBleHByZXNzaW9uLicpKTt9KSkscn0ocik7cmV0dXJuIGF8fGk/YSBpbnN0YW5jZW9mIFB0P01yKFthXSk6YSBpbnN0YW5jZW9mIHJyJiYhUHIoZSk/TXIoW25ldyBQdCgiIiwnImludGVycG9sYXRlIiBleHByZXNzaW9ucyBjYW5ub3QgYmUgdXNlZCB3aXRoIHRoaXMgcHJvcGVydHknKV0pOkNyKGE/bmV3IEdyKG4/ImNhbWVyYSI6ImNvbXBvc2l0ZSIsdC52YWx1ZSxhLmxhYmVscyxhIGluc3RhbmNlb2YgcnI/YS5pbnRlcnBvbGF0aW9uOnZvaWQgMCk6bmV3IEtyKG4/ImNvbnN0YW50Ijoic291cmNlIix0LnZhbHVlKSk6TXIoW25ldyBQdCgiIiwnInpvb20iIGV4cHJlc3Npb24gbWF5IG9ubHkgYmUgdXNlZCBhcyBpbnB1dCB0byBhIHRvcC1sZXZlbCAic3RlcCIgb3IgImludGVycG9sYXRlIiBleHByZXNzaW9uLicpXSl9R3IucHJvdG90eXBlLmV2YWx1YXRlV2l0aG91dEVycm9ySGFuZGxpbmc9ZnVuY3Rpb24odCxlLHIsbixpLGEpe3JldHVybiB0aGlzLl9zdHlsZUV4cHJlc3Npb24uZXZhbHVhdGVXaXRob3V0RXJyb3JIYW5kbGluZyh0LGUscixuLGksYSl9LEdyLnByb3RvdHlwZS5ldmFsdWF0ZT1mdW5jdGlvbih0LGUscixuLGksYSl7cmV0dXJuIHRoaXMuX3N0eWxlRXhwcmVzc2lvbi5ldmFsdWF0ZSh0LGUscixuLGksYSl9LEdyLnByb3RvdHlwZS5pbnRlcnBvbGF0aW9uRmFjdG9yPWZ1bmN0aW9uKHQsZSxyKXtyZXR1cm4gdGhpcy5pbnRlcnBvbGF0aW9uVHlwZT9yci5pbnRlcnBvbGF0aW9uRmFjdG9yKHRoaXMuaW50ZXJwb2xhdGlvblR5cGUsdCxlLHIpOjB9O3ZhciBYcj1mdW5jdGlvbih0LGUpe3RoaXMuX3BhcmFtZXRlcnM9dCx0aGlzLl9zcGVjaWZpY2F0aW9uPWUsTXQodGhpcyxmdW5jdGlvbiB0KGUscil7dmFyIG4saSxhLG89ImNvbG9yIj09PXIudHlwZSxzPWUuc3RvcHMmJiJvYmplY3QiPT10eXBlb2YgZS5zdG9wc1swXVswXSx1PXN8fCEoc3x8dm9pZCAwIT09ZS5wcm9wZXJ0eSksbD1lLnR5cGV8fChQcihyKT8iZXhwb25lbnRpYWwiOiJpbnRlcnZhbCIpO2lmKG8mJigoZT1NdCh7fSxlKSkuc3RvcHMmJihlLnN0b3BzPWUuc3RvcHMubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gW3RbMF0sJHQucGFyc2UodFsxXSldfSkpKSxlLmRlZmF1bHQ9JHQucGFyc2UoZS5kZWZhdWx0P2UuZGVmYXVsdDpyLmRlZmF1bHQpKSxlLmNvbG9yU3BhY2UmJiJyZ2IiIT09ZS5jb2xvclNwYWNlJiYhZXJbZS5jb2xvclNwYWNlXSl0aHJvdyBuZXcgRXJyb3IoIlVua25vd24gY29sb3Igc3BhY2U6ICIrZS5jb2xvclNwYWNlKTtpZigiZXhwb25lbnRpYWwiPT09bCluPU9yO2Vsc2UgaWYoImludGVydmFsIj09PWwpbj1ScjtlbHNlIGlmKCJjYXRlZ29yaWNhbCI9PT1sKXtuPUxyLGk9T2JqZWN0LmNyZWF0ZShudWxsKTtmb3IodmFyIHA9MCxjPWUuc3RvcHM7cDxjLmxlbmd0aDtwKz0xKXt2YXIgaD1jW3BdO2lbaFswXV09aFsxXTt9YT10eXBlb2YgZS5zdG9wc1swXVswXTt9ZWxzZSB7aWYoImlkZW50aXR5IiE9PWwpdGhyb3cgbmV3IEVycm9yKCdVbmtub3duIGZ1bmN0aW9uIHR5cGUgIicrbCsnIicpO249VXI7fWlmKHMpe2Zvcih2YXIgZj17fSx5PVtdLGQ9MDtkPGUuc3RvcHMubGVuZ3RoO2QrKyl7dmFyIG09ZS5zdG9wc1tkXSx2PW1bMF0uem9vbTt2b2lkIDA9PT1mW3ZdJiYoZlt2XT17em9vbTp2LHR5cGU6ZS50eXBlLHByb3BlcnR5OmUucHJvcGVydHksZGVmYXVsdDplLmRlZmF1bHQsc3RvcHM6W119LHkucHVzaCh2KSksZlt2XS5zdG9wcy5wdXNoKFttWzBdLnZhbHVlLG1bMV1dKTt9Zm9yKHZhciBnPVtdLHg9MCxiPXk7eDxiLmxlbmd0aDt4Kz0xKXt2YXIgdz1iW3hdO2cucHVzaChbZlt3XS56b29tLHQoZlt3XSxyKV0pO312YXIgXz17bmFtZToibGluZWFyIn07cmV0dXJuIHtraW5kOiJjb21wb3NpdGUiLGludGVycG9sYXRpb25UeXBlOl8saW50ZXJwb2xhdGlvbkZhY3Rvcjpyci5pbnRlcnBvbGF0aW9uRmFjdG9yLmJpbmQodm9pZCAwLF8pLHpvb21TdG9wczpnLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIHRbMF19KSksZXZhbHVhdGU6ZnVuY3Rpb24odCxuKXt2YXIgaT10Lnpvb207cmV0dXJuIE9yKHtzdG9wczpnLGJhc2U6ZS5iYXNlfSxyLGkpLmV2YWx1YXRlKGksbil9fX1pZih1KXt2YXIgQT0iZXhwb25lbnRpYWwiPT09bD97bmFtZToiZXhwb25lbnRpYWwiLGJhc2U6dm9pZCAwIT09ZS5iYXNlP2UuYmFzZToxfTpudWxsO3JldHVybiB7a2luZDoiY2FtZXJhIixpbnRlcnBvbGF0aW9uVHlwZTpBLGludGVycG9sYXRpb25GYWN0b3I6cnIuaW50ZXJwb2xhdGlvbkZhY3Rvci5iaW5kKHZvaWQgMCxBKSx6b29tU3RvcHM6ZS5zdG9wcy5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiB0WzBdfSkpLGV2YWx1YXRlOmZ1bmN0aW9uKHQpe3JldHVybiBuKGUscix0Lnpvb20saSxhKX19fXJldHVybiB7a2luZDoic291cmNlIixldmFsdWF0ZTpmdW5jdGlvbih0LG8pe3ZhciBzPW8mJm8ucHJvcGVydGllcz9vLnByb3BlcnRpZXNbZS5wcm9wZXJ0eV06dm9pZCAwO3JldHVybiB2b2lkIDA9PT1zP0RyKGUuZGVmYXVsdCxyLmRlZmF1bHQpOm4oZSxyLHMsaSxhKX19fSh0aGlzLl9wYXJhbWV0ZXJzLHRoaXMuX3NwZWNpZmljYXRpb24pKTt9O2Z1bmN0aW9uIEpyKHQpe3ZhciBlPXQua2V5LHI9dC52YWx1ZSxuPXQudmFsdWVTcGVjfHx7fSxpPXQub2JqZWN0RWxlbWVudFZhbGlkYXRvcnN8fHt9LGE9dC5zdHlsZSxvPXQuc3R5bGVTcGVjLHM9W10sdT1CcihyKTtpZigib2JqZWN0IiE9PXUpcmV0dXJuIFtuZXcgenQoZSxyLCJvYmplY3QgZXhwZWN0ZWQsICIrdSsiIGZvdW5kIildO2Zvcih2YXIgbCBpbiByKXt2YXIgcD1sLnNwbGl0KCIuIilbMF0sYz1uW3BdfHxuWyIqIl0saD12b2lkIDA7aWYoaVtwXSloPWlbcF07ZWxzZSBpZihuW3BdKWg9Ym47ZWxzZSBpZihpWyIqIl0paD1pWyIqIl07ZWxzZSB7aWYoIW5bIioiXSl7cy5wdXNoKG5ldyB6dChlLHJbbF0sJ3Vua25vd24gcHJvcGVydHkgIicrbCsnIicpKTtjb250aW51ZX1oPWJuO31zPXMuY29uY2F0KGgoe2tleTooZT9lKyIuIjplKStsLHZhbHVlOnJbbF0sdmFsdWVTcGVjOmMsc3R5bGU6YSxzdHlsZVNwZWM6byxvYmplY3Q6cixvYmplY3RLZXk6bH0scikpO31mb3IodmFyIGYgaW4gbilpW2ZdfHxuW2ZdLnJlcXVpcmVkJiZ2b2lkIDA9PT1uW2ZdLmRlZmF1bHQmJnZvaWQgMD09PXJbZl0mJnMucHVzaChuZXcgenQoZSxyLCdtaXNzaW5nIHJlcXVpcmVkIHByb3BlcnR5ICInK2YrJyInKSk7cmV0dXJuIHN9ZnVuY3Rpb24gSHIodCl7dmFyIGU9dC52YWx1ZSxyPXQudmFsdWVTcGVjLG49dC5zdHlsZSxpPXQuc3R5bGVTcGVjLGE9dC5rZXksbz10LmFycmF5RWxlbWVudFZhbGlkYXRvcnx8Ym47aWYoImFycmF5IiE9PUJyKGUpKXJldHVybiBbbmV3IHp0KGEsZSwiYXJyYXkgZXhwZWN0ZWQsICIrQnIoZSkrIiBmb3VuZCIpXTtpZihyLmxlbmd0aCYmZS5sZW5ndGghPT1yLmxlbmd0aClyZXR1cm4gW25ldyB6dChhLGUsImFycmF5IGxlbmd0aCAiK3IubGVuZ3RoKyIgZXhwZWN0ZWQsIGxlbmd0aCAiK2UubGVuZ3RoKyIgZm91bmQiKV07aWYoclsibWluLWxlbmd0aCJdJiZlLmxlbmd0aDxyWyJtaW4tbGVuZ3RoIl0pcmV0dXJuIFtuZXcgenQoYSxlLCJhcnJheSBsZW5ndGggYXQgbGVhc3QgIityWyJtaW4tbGVuZ3RoIl0rIiBleHBlY3RlZCwgbGVuZ3RoICIrZS5sZW5ndGgrIiBmb3VuZCIpXTt2YXIgcz17dHlwZTpyLnZhbHVlLHZhbHVlczpyLnZhbHVlc307aS4kdmVyc2lvbjw3JiYocy5mdW5jdGlvbj1yLmZ1bmN0aW9uKSwib2JqZWN0Ij09PUJyKHIudmFsdWUpJiYocz1yLnZhbHVlKTtmb3IodmFyIHU9W10sbD0wO2w8ZS5sZW5ndGg7bCsrKXU9dS5jb25jYXQobyh7YXJyYXk6ZSxhcnJheUluZGV4OmwsdmFsdWU6ZVtsXSx2YWx1ZVNwZWM6cyxzdHlsZTpuLHN0eWxlU3BlYzppLGtleTphKyJbIitsKyJdIn0pKTtyZXR1cm4gdX1mdW5jdGlvbiBZcih0KXt2YXIgZT10LmtleSxyPXQudmFsdWUsbj10LnZhbHVlU3BlYyxpPUJyKHIpO3JldHVybiAibnVtYmVyIj09PWkmJnIhPXImJihpPSJOYU4iKSwibnVtYmVyIiE9PWk/W25ldyB6dChlLHIsIm51bWJlciBleHBlY3RlZCwgIitpKyIgZm91bmQiKV06Im1pbmltdW0iaW4gbiYmcjxuLm1pbmltdW0/W25ldyB6dChlLHIscisiIGlzIGxlc3MgdGhhbiB0aGUgbWluaW11bSB2YWx1ZSAiK24ubWluaW11bSldOiJtYXhpbXVtImluIG4mJnI+bi5tYXhpbXVtP1tuZXcgenQoZSxyLHIrIiBpcyBncmVhdGVyIHRoYW4gdGhlIG1heGltdW0gdmFsdWUgIituLm1heGltdW0pXTpbXX1mdW5jdGlvbiAkcih0KXt2YXIgZSxyLG4saT10LnZhbHVlU3BlYyxhPUV0KHQudmFsdWUudHlwZSksbz17fSxzPSJjYXRlZ29yaWNhbCIhPT1hJiZ2b2lkIDA9PT10LnZhbHVlLnByb3BlcnR5LHU9IXMsbD0iYXJyYXkiPT09QnIodC52YWx1ZS5zdG9wcykmJiJhcnJheSI9PT1Ccih0LnZhbHVlLnN0b3BzWzBdKSYmIm9iamVjdCI9PT1Ccih0LnZhbHVlLnN0b3BzWzBdWzBdKSxwPUpyKHtrZXk6dC5rZXksdmFsdWU6dC52YWx1ZSx2YWx1ZVNwZWM6dC5zdHlsZVNwZWMuZnVuY3Rpb24sc3R5bGU6dC5zdHlsZSxzdHlsZVNwZWM6dC5zdHlsZVNwZWMsb2JqZWN0RWxlbWVudFZhbGlkYXRvcnM6e3N0b3BzOmZ1bmN0aW9uKHQpe2lmKCJpZGVudGl0eSI9PT1hKXJldHVybiBbbmV3IHp0KHQua2V5LHQudmFsdWUsJ2lkZW50aXR5IGZ1bmN0aW9uIG1heSBub3QgaGF2ZSBhICJzdG9wcyIgcHJvcGVydHknKV07dmFyIGU9W10scj10LnZhbHVlO3JldHVybiBlPWUuY29uY2F0KEhyKHtrZXk6dC5rZXksdmFsdWU6cix2YWx1ZVNwZWM6dC52YWx1ZVNwZWMsc3R5bGU6dC5zdHlsZSxzdHlsZVNwZWM6dC5zdHlsZVNwZWMsYXJyYXlFbGVtZW50VmFsaWRhdG9yOmN9KSksImFycmF5Ij09PUJyKHIpJiYwPT09ci5sZW5ndGgmJmUucHVzaChuZXcgenQodC5rZXksciwiYXJyYXkgbXVzdCBoYXZlIGF0IGxlYXN0IG9uZSBzdG9wIikpLGV9LGRlZmF1bHQ6ZnVuY3Rpb24odCl7cmV0dXJuIGJuKHtrZXk6dC5rZXksdmFsdWU6dC52YWx1ZSx2YWx1ZVNwZWM6aSxzdHlsZTp0LnN0eWxlLHN0eWxlU3BlYzp0LnN0eWxlU3BlY30pfX19KTtyZXR1cm4gImlkZW50aXR5Ij09PWEmJnMmJnAucHVzaChuZXcgenQodC5rZXksdC52YWx1ZSwnbWlzc2luZyByZXF1aXJlZCBwcm9wZXJ0eSAicHJvcGVydHkiJykpLCJpZGVudGl0eSI9PT1hfHx0LnZhbHVlLnN0b3BzfHxwLnB1c2gobmV3IHp0KHQua2V5LHQudmFsdWUsJ21pc3NpbmcgcmVxdWlyZWQgcHJvcGVydHkgInN0b3BzIicpKSwiZXhwb25lbnRpYWwiPT09YSYmdC52YWx1ZVNwZWMuZXhwcmVzc2lvbiYmIVByKHQudmFsdWVTcGVjKSYmcC5wdXNoKG5ldyB6dCh0LmtleSx0LnZhbHVlLCJleHBvbmVudGlhbCBmdW5jdGlvbnMgbm90IHN1cHBvcnRlZCIpKSx0LnN0eWxlU3BlYy4kdmVyc2lvbj49OCYmKHUmJiFFcih0LnZhbHVlU3BlYyk/cC5wdXNoKG5ldyB6dCh0LmtleSx0LnZhbHVlLCJwcm9wZXJ0eSBmdW5jdGlvbnMgbm90IHN1cHBvcnRlZCIpKTpzJiYhVHIodC52YWx1ZVNwZWMpJiZwLnB1c2gobmV3IHp0KHQua2V5LHQudmFsdWUsInpvb20gZnVuY3Rpb25zIG5vdCBzdXBwb3J0ZWQiKSkpLCJjYXRlZ29yaWNhbCIhPT1hJiYhbHx8dm9pZCAwIT09dC52YWx1ZS5wcm9wZXJ0eXx8cC5wdXNoKG5ldyB6dCh0LmtleSx0LnZhbHVlLCcicHJvcGVydHkiIHByb3BlcnR5IGlzIHJlcXVpcmVkJykpLHA7ZnVuY3Rpb24gYyh0KXt2YXIgZT1bXSxhPXQudmFsdWUscz10LmtleTtpZigiYXJyYXkiIT09QnIoYSkpcmV0dXJuIFtuZXcgenQocyxhLCJhcnJheSBleHBlY3RlZCwgIitCcihhKSsiIGZvdW5kIildO2lmKDIhPT1hLmxlbmd0aClyZXR1cm4gW25ldyB6dChzLGEsImFycmF5IGxlbmd0aCAyIGV4cGVjdGVkLCBsZW5ndGggIithLmxlbmd0aCsiIGZvdW5kIildO2lmKGwpe2lmKCJvYmplY3QiIT09QnIoYVswXSkpcmV0dXJuIFtuZXcgenQocyxhLCJvYmplY3QgZXhwZWN0ZWQsICIrQnIoYVswXSkrIiBmb3VuZCIpXTtpZih2b2lkIDA9PT1hWzBdLnpvb20pcmV0dXJuIFtuZXcgenQocyxhLCJvYmplY3Qgc3RvcCBrZXkgbXVzdCBoYXZlIHpvb20iKV07aWYodm9pZCAwPT09YVswXS52YWx1ZSlyZXR1cm4gW25ldyB6dChzLGEsIm9iamVjdCBzdG9wIGtleSBtdXN0IGhhdmUgdmFsdWUiKV07aWYobiYmbj5FdChhWzBdLnpvb20pKXJldHVybiBbbmV3IHp0KHMsYVswXS56b29tLCJzdG9wIHpvb20gdmFsdWVzIG11c3QgYXBwZWFyIGluIGFzY2VuZGluZyBvcmRlciIpXTtFdChhWzBdLnpvb20pIT09biYmKG49RXQoYVswXS56b29tKSxyPXZvaWQgMCxvPXt9KSxlPWUuY29uY2F0KEpyKHtrZXk6cysiWzBdIix2YWx1ZTphWzBdLHZhbHVlU3BlYzp7em9vbTp7fX0sc3R5bGU6dC5zdHlsZSxzdHlsZVNwZWM6dC5zdHlsZVNwZWMsb2JqZWN0RWxlbWVudFZhbGlkYXRvcnM6e3pvb206WXIsdmFsdWU6aH19KSk7fWVsc2UgZT1lLmNvbmNhdChoKHtrZXk6cysiWzBdIix2YWx1ZTphWzBdLHZhbHVlU3BlYzp7fSxzdHlsZTp0LnN0eWxlLHN0eWxlU3BlYzp0LnN0eWxlU3BlY30sYSkpO3JldHVybiBxcihUdChhWzFdKSk/ZS5jb25jYXQoW25ldyB6dChzKyJbMV0iLGFbMV0sImV4cHJlc3Npb25zIGFyZSBub3QgYWxsb3dlZCBpbiBmdW5jdGlvbiBzdG9wcy4iKV0pOmUuY29uY2F0KGJuKHtrZXk6cysiWzFdIix2YWx1ZTphWzFdLHZhbHVlU3BlYzppLHN0eWxlOnQuc3R5bGUsc3R5bGVTcGVjOnQuc3R5bGVTcGVjfSkpfWZ1bmN0aW9uIGgodCxuKXt2YXIgcz1Ccih0LnZhbHVlKSx1PUV0KHQudmFsdWUpLGw9bnVsbCE9PXQudmFsdWU/dC52YWx1ZTpuO2lmKGUpe2lmKHMhPT1lKXJldHVybiBbbmV3IHp0KHQua2V5LGwscysiIHN0b3AgZG9tYWluIHR5cGUgbXVzdCBtYXRjaCBwcmV2aW91cyBzdG9wIGRvbWFpbiB0eXBlICIrZSldfWVsc2UgZT1zO2lmKCJudW1iZXIiIT09cyYmInN0cmluZyIhPT1zJiYiYm9vbGVhbiIhPT1zKXJldHVybiBbbmV3IHp0KHQua2V5LGwsInN0b3AgZG9tYWluIHZhbHVlIG11c3QgYmUgYSBudW1iZXIsIHN0cmluZywgb3IgYm9vbGVhbiIpXTtpZigibnVtYmVyIiE9PXMmJiJjYXRlZ29yaWNhbCIhPT1hKXt2YXIgcD0ibnVtYmVyIGV4cGVjdGVkLCAiK3MrIiBmb3VuZCI7cmV0dXJuIEVyKGkpJiZ2b2lkIDA9PT1hJiYocCs9J1xuSWYgeW91IGludGVuZGVkIHRvIHVzZSBhIGNhdGVnb3JpY2FsIGZ1bmN0aW9uLCBzcGVjaWZ5IGAidHlwZSI6ICJjYXRlZ29yaWNhbCJgLicpLFtuZXcgenQodC5rZXksbCxwKV19cmV0dXJuICJjYXRlZ29yaWNhbCIhPT1hfHwibnVtYmVyIiE9PXN8fGlzRmluaXRlKHUpJiZNYXRoLmZsb29yKHUpPT09dT8iY2F0ZWdvcmljYWwiIT09YSYmIm51bWJlciI9PT1zJiZ2b2lkIDAhPT1yJiZ1PHI/W25ldyB6dCh0LmtleSxsLCJzdG9wIGRvbWFpbiB2YWx1ZXMgbXVzdCBhcHBlYXIgaW4gYXNjZW5kaW5nIG9yZGVyIildOihyPXUsImNhdGVnb3JpY2FsIj09PWEmJnUgaW4gbz9bbmV3IHp0KHQua2V5LGwsInN0b3AgZG9tYWluIHZhbHVlcyBtdXN0IGJlIHVuaXF1ZSIpXToob1t1XT0hMCxbXSkpOltuZXcgenQodC5rZXksbCwiaW50ZWdlciBleHBlY3RlZCwgZm91bmQgIit1KV19fWZ1bmN0aW9uIFdyKHQpe3ZhciBlPSgicHJvcGVydHkiPT09dC5leHByZXNzaW9uQ29udGV4dD9acjpOcikoVHQodC52YWx1ZSksdC52YWx1ZVNwZWMpO2lmKCJlcnJvciI9PT1lLnJlc3VsdClyZXR1cm4gZS52YWx1ZS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBuZXcgenQoIiIrdC5rZXkrZS5rZXksdC52YWx1ZSxlLm1lc3NhZ2UpfSkpO3ZhciByPWUudmFsdWUuZXhwcmVzc2lvbnx8ZS52YWx1ZS5fc3R5bGVFeHByZXNzaW9uLmV4cHJlc3Npb247aWYoInByb3BlcnR5Ij09PXQuZXhwcmVzc2lvbkNvbnRleHQmJiJ0ZXh0LWZvbnQiPT09dC5wcm9wZXJ0eUtleSYmIXIub3V0cHV0RGVmaW5lZCgpKXJldHVybiBbbmV3IHp0KHQua2V5LHQudmFsdWUsJ0ludmFsaWQgZGF0YSBleHByZXNzaW9uIGZvciAiJyt0LnByb3BlcnR5S2V5KyciLiBPdXRwdXQgdmFsdWVzIG11c3QgYmUgY29udGFpbmVkIGFzIGxpdGVyYWxzIHdpdGhpbiB0aGUgZXhwcmVzc2lvbi4nKV07aWYoInByb3BlcnR5Ij09PXQuZXhwcmVzc2lvbkNvbnRleHQmJiJsYXlvdXQiPT09dC5wcm9wZXJ0eVR5cGUmJiFGZShyKSlyZXR1cm4gW25ldyB6dCh0LmtleSx0LnZhbHVlLCciZmVhdHVyZS1zdGF0ZSIgZGF0YSBleHByZXNzaW9ucyBhcmUgbm90IHN1cHBvcnRlZCB3aXRoIGxheW91dCBwcm9wZXJ0aWVzLicpXTtpZigiZmlsdGVyIj09PXQuZXhwcmVzc2lvbkNvbnRleHQmJiFGZShyKSlyZXR1cm4gW25ldyB6dCh0LmtleSx0LnZhbHVlLCciZmVhdHVyZS1zdGF0ZSIgZGF0YSBleHByZXNzaW9ucyBhcmUgbm90IHN1cHBvcnRlZCB3aXRoIGZpbHRlcnMuJyldO2lmKHQuZXhwcmVzc2lvbkNvbnRleHQmJjA9PT10LmV4cHJlc3Npb25Db250ZXh0LmluZGV4T2YoImNsdXN0ZXIiKSl7aWYoIURlKHIsWyJ6b29tIiwiZmVhdHVyZS1zdGF0ZSJdKSlyZXR1cm4gW25ldyB6dCh0LmtleSx0LnZhbHVlLCciem9vbSIgYW5kICJmZWF0dXJlLXN0YXRlIiBleHByZXNzaW9ucyBhcmUgbm90IHN1cHBvcnRlZCB3aXRoIGNsdXN0ZXIgcHJvcGVydGllcy4nKV07aWYoImNsdXN0ZXItaW5pdGlhbCI9PT10LmV4cHJlc3Npb25Db250ZXh0JiYhVmUocikpcmV0dXJuIFtuZXcgenQodC5rZXksdC52YWx1ZSwiRmVhdHVyZSBkYXRhIGV4cHJlc3Npb25zIGFyZSBub3Qgc3VwcG9ydGVkIHdpdGggaW5pdGlhbCBleHByZXNzaW9uIHBhcnQgb2YgY2x1c3RlciBwcm9wZXJ0aWVzLiIpXX1yZXR1cm4gW119ZnVuY3Rpb24gUXIodCl7dmFyIGU9dC5rZXkscj10LnZhbHVlLG49dC52YWx1ZVNwZWMsaT1bXTtyZXR1cm4gQXJyYXkuaXNBcnJheShuLnZhbHVlcyk/LTE9PT1uLnZhbHVlcy5pbmRleE9mKEV0KHIpKSYmaS5wdXNoKG5ldyB6dChlLHIsImV4cGVjdGVkIG9uZSBvZiBbIituLnZhbHVlcy5qb2luKCIsICIpKyJdLCAiK0pTT04uc3RyaW5naWZ5KHIpKyIgZm91bmQiKSk6LTE9PT1PYmplY3Qua2V5cyhuLnZhbHVlcykuaW5kZXhPZihFdChyKSkmJmkucHVzaChuZXcgenQoZSxyLCJleHBlY3RlZCBvbmUgb2YgWyIrT2JqZWN0LmtleXMobi52YWx1ZXMpLmpvaW4oIiwgIikrIl0sICIrSlNPTi5zdHJpbmdpZnkocikrIiBmb3VuZCIpKSxpfWZ1bmN0aW9uIHRuKHQpe2lmKCEwPT09dHx8ITE9PT10KXJldHVybiAhMDtpZighQXJyYXkuaXNBcnJheSh0KXx8MD09PXQubGVuZ3RoKXJldHVybiAhMTtzd2l0Y2godFswXSl7Y2FzZSJoYXMiOnJldHVybiB0Lmxlbmd0aD49MiYmIiRpZCIhPT10WzFdJiYiJHR5cGUiIT09dFsxXTtjYXNlImluIjpyZXR1cm4gdC5sZW5ndGg+PTMmJigic3RyaW5nIiE9dHlwZW9mIHRbMV18fEFycmF5LmlzQXJyYXkodFsyXSkpO2Nhc2UiIWluIjpjYXNlIiFoYXMiOmNhc2Uibm9uZSI6cmV0dXJuICExO2Nhc2UiPT0iOmNhc2UiIT0iOmNhc2UiPiI6Y2FzZSI+PSI6Y2FzZSI8IjpjYXNlIjw9IjpyZXR1cm4gMyE9PXQubGVuZ3RofHxBcnJheS5pc0FycmF5KHRbMV0pfHxBcnJheS5pc0FycmF5KHRbMl0pO2Nhc2UiYW55IjpjYXNlImFsbCI6Zm9yKHZhciBlPTAscj10LnNsaWNlKDEpO2U8ci5sZW5ndGg7ZSs9MSl7dmFyIG49cltlXTtpZighdG4obikmJiJib29sZWFuIiE9dHlwZW9mIG4pcmV0dXJuICExfXJldHVybiAhMDtkZWZhdWx0OnJldHVybiAhMH19WHIuZGVzZXJpYWxpemU9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBYcih0Ll9wYXJhbWV0ZXJzLHQuX3NwZWNpZmljYXRpb24pfSxYci5zZXJpYWxpemU9ZnVuY3Rpb24odCl7cmV0dXJuIHtfcGFyYW1ldGVyczp0Ll9wYXJhbWV0ZXJzLF9zcGVjaWZpY2F0aW9uOnQuX3NwZWNpZmljYXRpb259fTt2YXIgZW49e3R5cGU6ImJvb2xlYW4iLGRlZmF1bHQ6ITEsdHJhbnNpdGlvbjohMSwicHJvcGVydHktdHlwZSI6ImRhdGEtZHJpdmVuIixleHByZXNzaW9uOntpbnRlcnBvbGF0ZWQ6ITEscGFyYW1ldGVyczpbInpvb20iLCJmZWF0dXJlIl19fTtmdW5jdGlvbiBybih0KXtpZihudWxsPT10KXJldHVybiB7ZmlsdGVyOmZ1bmN0aW9uKCl7cmV0dXJuICEwfSxuZWVkR2VvbWV0cnk6ITF9O3RuKHQpfHwodD1hbih0KSk7dmFyIGU9TnIodCxlbik7aWYoImVycm9yIj09PWUucmVzdWx0KXRocm93IG5ldyBFcnJvcihlLnZhbHVlLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIHQua2V5KyI6ICIrdC5tZXNzYWdlfSkpLmpvaW4oIiwgIikpO3JldHVybiB7ZmlsdGVyOmZ1bmN0aW9uKHQscixuKXtyZXR1cm4gZS52YWx1ZS5ldmFsdWF0ZSh0LHIse30sbil9LG5lZWRHZW9tZXRyeTpBcnJheS5pc0FycmF5KHQpJiYwIT09dC5sZW5ndGgmJiJ3aXRoaW4iPT09dFswXX19ZnVuY3Rpb24gbm4odCxlKXtyZXR1cm4gdDxlPy0xOnQ+ZT8xOjB9ZnVuY3Rpb24gYW4odCl7aWYoIXQpcmV0dXJuICEwO3ZhciBlLHI9dFswXTtyZXR1cm4gdC5sZW5ndGg8PTE/ImFueSIhPT1yOiI9PSI9PT1yP29uKHRbMV0sdFsyXSwiPT0iKToiIT0iPT09cj9sbihvbih0WzFdLHRbMl0sIj09IikpOiI8Ij09PXJ8fCI+Ij09PXJ8fCI8PSI9PT1yfHwiPj0iPT09cj9vbih0WzFdLHRbMl0scik6ImFueSI9PT1yPyhlPXQuc2xpY2UoMSksWyJhbnkiXS5jb25jYXQoZS5tYXAoYW4pKSk6ImFsbCI9PT1yP1siYWxsIl0uY29uY2F0KHQuc2xpY2UoMSkubWFwKGFuKSk6Im5vbmUiPT09cj9bImFsbCJdLmNvbmNhdCh0LnNsaWNlKDEpLm1hcChhbikubWFwKGxuKSk6ImluIj09PXI/c24odFsxXSx0LnNsaWNlKDIpKToiIWluIj09PXI/bG4oc24odFsxXSx0LnNsaWNlKDIpKSk6ImhhcyI9PT1yP3VuKHRbMV0pOiIhaGFzIiE9PXJ8fGxuKHVuKHRbMV0pKX1mdW5jdGlvbiBvbih0LGUscil7c3dpdGNoKHQpe2Nhc2UiJHR5cGUiOnJldHVybiBbImZpbHRlci10eXBlLSIrcixlXTtjYXNlIiRpZCI6cmV0dXJuIFsiZmlsdGVyLWlkLSIrcixlXTtkZWZhdWx0OnJldHVybiBbImZpbHRlci0iK3IsdCxlXX19ZnVuY3Rpb24gc24odCxlKXtpZigwPT09ZS5sZW5ndGgpcmV0dXJuICExO3N3aXRjaCh0KXtjYXNlIiR0eXBlIjpyZXR1cm4gWyJmaWx0ZXItdHlwZS1pbiIsWyJsaXRlcmFsIixlXV07Y2FzZSIkaWQiOnJldHVybiBbImZpbHRlci1pZC1pbiIsWyJsaXRlcmFsIixlXV07ZGVmYXVsdDpyZXR1cm4gZS5sZW5ndGg+MjAwJiYhZS5zb21lKChmdW5jdGlvbih0KXtyZXR1cm4gdHlwZW9mIHQhPXR5cGVvZiBlWzBdfSkpP1siZmlsdGVyLWluLWxhcmdlIix0LFsibGl0ZXJhbCIsZS5zb3J0KG5uKV1dOlsiZmlsdGVyLWluLXNtYWxsIix0LFsibGl0ZXJhbCIsZV1dfX1mdW5jdGlvbiB1bih0KXtzd2l0Y2godCl7Y2FzZSIkdHlwZSI6cmV0dXJuICEwO2Nhc2UiJGlkIjpyZXR1cm4gWyJmaWx0ZXItaGFzLWlkIl07ZGVmYXVsdDpyZXR1cm4gWyJmaWx0ZXItaGFzIix0XX19ZnVuY3Rpb24gbG4odCl7cmV0dXJuIFsiISIsdF19ZnVuY3Rpb24gcG4odCl7cmV0dXJuIHRuKFR0KHQudmFsdWUpKT9XcihNdCh7fSx0LHtleHByZXNzaW9uQ29udGV4dDoiZmlsdGVyIix2YWx1ZVNwZWM6e3ZhbHVlOiJib29sZWFuIn19KSk6ZnVuY3Rpb24gdChlKXt2YXIgcj1lLnZhbHVlLG49ZS5rZXk7aWYoImFycmF5IiE9PUJyKHIpKXJldHVybiBbbmV3IHp0KG4sciwiYXJyYXkgZXhwZWN0ZWQsICIrQnIocikrIiBmb3VuZCIpXTt2YXIgaSxhPWUuc3R5bGVTcGVjLG89W107aWYoci5sZW5ndGg8MSlyZXR1cm4gW25ldyB6dChuLHIsImZpbHRlciBhcnJheSBtdXN0IGhhdmUgYXQgbGVhc3QgMSBlbGVtZW50IildO3N3aXRjaChvPW8uY29uY2F0KFFyKHtrZXk6bisiWzBdIix2YWx1ZTpyWzBdLHZhbHVlU3BlYzphLmZpbHRlcl9vcGVyYXRvcixzdHlsZTplLnN0eWxlLHN0eWxlU3BlYzplLnN0eWxlU3BlY30pKSxFdChyWzBdKSl7Y2FzZSI8IjpjYXNlIjw9IjpjYXNlIj4iOmNhc2UiPj0iOnIubGVuZ3RoPj0yJiYiJHR5cGUiPT09RXQoclsxXSkmJm8ucHVzaChuZXcgenQobixyLCciJHR5cGUiIGNhbm5vdCBiZSB1c2Ugd2l0aCBvcGVyYXRvciAiJytyWzBdKyciJykpO2Nhc2UiPT0iOmNhc2UiIT0iOjMhPT1yLmxlbmd0aCYmby5wdXNoKG5ldyB6dChuLHIsJ2ZpbHRlciBhcnJheSBmb3Igb3BlcmF0b3IgIicrclswXSsnIiBtdXN0IGhhdmUgMyBlbGVtZW50cycpKTtjYXNlImluIjpjYXNlIiFpbiI6ci5sZW5ndGg+PTImJiJzdHJpbmciIT09KGk9QnIoclsxXSkpJiZvLnB1c2gobmV3IHp0KG4rIlsxXSIsclsxXSwic3RyaW5nIGV4cGVjdGVkLCAiK2krIiBmb3VuZCIpKTtmb3IodmFyIHM9MjtzPHIubGVuZ3RoO3MrKylpPUJyKHJbc10pLCIkdHlwZSI9PT1FdChyWzFdKT9vPW8uY29uY2F0KFFyKHtrZXk6bisiWyIrcysiXSIsdmFsdWU6cltzXSx2YWx1ZVNwZWM6YS5nZW9tZXRyeV90eXBlLHN0eWxlOmUuc3R5bGUsc3R5bGVTcGVjOmUuc3R5bGVTcGVjfSkpOiJzdHJpbmciIT09aSYmIm51bWJlciIhPT1pJiYiYm9vbGVhbiIhPT1pJiZvLnB1c2gobmV3IHp0KG4rIlsiK3MrIl0iLHJbc10sInN0cmluZywgbnVtYmVyLCBvciBib29sZWFuIGV4cGVjdGVkLCAiK2krIiBmb3VuZCIpKTticmVhaztjYXNlImFueSI6Y2FzZSJhbGwiOmNhc2Uibm9uZSI6Zm9yKHZhciB1PTE7dTxyLmxlbmd0aDt1Kyspbz1vLmNvbmNhdCh0KHtrZXk6bisiWyIrdSsiXSIsdmFsdWU6clt1XSxzdHlsZTplLnN0eWxlLHN0eWxlU3BlYzplLnN0eWxlU3BlY30pKTticmVhaztjYXNlImhhcyI6Y2FzZSIhaGFzIjppPUJyKHJbMV0pLDIhPT1yLmxlbmd0aD9vLnB1c2gobmV3IHp0KG4sciwnZmlsdGVyIGFycmF5IGZvciAiJytyWzBdKyciIG9wZXJhdG9yIG11c3QgaGF2ZSAyIGVsZW1lbnRzJykpOiJzdHJpbmciIT09aSYmby5wdXNoKG5ldyB6dChuKyJbMV0iLHJbMV0sInN0cmluZyBleHBlY3RlZCwgIitpKyIgZm91bmQiKSk7fXJldHVybiBvfSh0KX1mdW5jdGlvbiBjbih0LGUpe3ZhciByPXQua2V5LG49dC5zdHlsZSxpPXQuc3R5bGVTcGVjLGE9dC52YWx1ZSxvPXQub2JqZWN0S2V5LHM9aVtlKyJfIit0LmxheWVyVHlwZV07aWYoIXMpcmV0dXJuIFtdO3ZhciB1PW8ubWF0Y2goL14oLiopLXRyYW5zaXRpb24kLyk7aWYoInBhaW50Ij09PWUmJnUmJnNbdVsxXV0mJnNbdVsxXV0udHJhbnNpdGlvbilyZXR1cm4gYm4oe2tleTpyLHZhbHVlOmEsdmFsdWVTcGVjOmkudHJhbnNpdGlvbixzdHlsZTpuLHN0eWxlU3BlYzppfSk7dmFyIGwscD10LnZhbHVlU3BlY3x8c1tvXTtpZighcClyZXR1cm4gW25ldyB6dChyLGEsJ3Vua25vd24gcHJvcGVydHkgIicrbysnIicpXTtpZigic3RyaW5nIj09PUJyKGEpJiZFcihwKSYmIXAudG9rZW5zJiYobD0vXnsoW159XSspfSQvLmV4ZWMoYSkpKXJldHVybiBbbmV3IHp0KHIsYSwnIicrbysnIiBkb2VzIG5vdCBzdXBwb3J0IGludGVycG9sYXRpb24gc3ludGF4XG5Vc2UgYW4gaWRlbnRpdHkgcHJvcGVydHkgZnVuY3Rpb24gaW5zdGVhZDogYHsgInR5cGUiOiAiaWRlbnRpdHkiLCAicHJvcGVydHkiOiAnK0pTT04uc3RyaW5naWZ5KGxbMV0pKyIgfWAuIildO3ZhciBjPVtdO3JldHVybiAic3ltYm9sIj09PXQubGF5ZXJUeXBlJiYoInRleHQtZmllbGQiPT09byYmbiYmIW4uZ2x5cGhzJiZjLnB1c2gobmV3IHp0KHIsYSwndXNlIG9mICJ0ZXh0LWZpZWxkIiByZXF1aXJlcyBhIHN0eWxlICJnbHlwaHMiIHByb3BlcnR5JykpLCJ0ZXh0LWZvbnQiPT09byYmVnIoVHQoYSkpJiYiaWRlbnRpdHkiPT09RXQoYS50eXBlKSYmYy5wdXNoKG5ldyB6dChyLGEsJyJ0ZXh0LWZvbnQiIGRvZXMgbm90IHN1cHBvcnQgaWRlbnRpdHkgZnVuY3Rpb25zJykpKSxjLmNvbmNhdChibih7a2V5OnQua2V5LHZhbHVlOmEsdmFsdWVTcGVjOnAsc3R5bGU6bixzdHlsZVNwZWM6aSxleHByZXNzaW9uQ29udGV4dDoicHJvcGVydHkiLHByb3BlcnR5VHlwZTplLHByb3BlcnR5S2V5Om99KSl9ZnVuY3Rpb24gaG4odCl7cmV0dXJuIGNuKHQsInBhaW50Iil9ZnVuY3Rpb24gZm4odCl7cmV0dXJuIGNuKHQsImxheW91dCIpfWZ1bmN0aW9uIHluKHQpe3ZhciBlPVtdLHI9dC52YWx1ZSxuPXQua2V5LGk9dC5zdHlsZSxhPXQuc3R5bGVTcGVjO3IudHlwZXx8ci5yZWZ8fGUucHVzaChuZXcgenQobixyLCdlaXRoZXIgInR5cGUiIG9yICJyZWYiIGlzIHJlcXVpcmVkJykpO3ZhciBvLHM9RXQoci50eXBlKSx1PUV0KHIucmVmKTtpZihyLmlkKWZvcih2YXIgbD1FdChyLmlkKSxwPTA7cDx0LmFycmF5SW5kZXg7cCsrKXt2YXIgYz1pLmxheWVyc1twXTtFdChjLmlkKT09PWwmJmUucHVzaChuZXcgenQobixyLmlkLCdkdXBsaWNhdGUgbGF5ZXIgaWQgIicrci5pZCsnIiwgcHJldmlvdXNseSB1c2VkIGF0IGxpbmUgJytjLmlkLl9fbGluZV9fKSk7fWlmKCJyZWYiaW4gcilbInR5cGUiLCJzb3VyY2UiLCJzb3VyY2UtbGF5ZXIiLCJmaWx0ZXIiLCJsYXlvdXQiXS5mb3JFYWNoKChmdW5jdGlvbih0KXt0IGluIHImJmUucHVzaChuZXcgenQobixyW3RdLCciJyt0KyciIGlzIHByb2hpYml0ZWQgZm9yIHJlZiBsYXllcnMnKSk7fSkpLGkubGF5ZXJzLmZvckVhY2goKGZ1bmN0aW9uKHQpe0V0KHQuaWQpPT09dSYmKG89dCk7fSkpLG8/by5yZWY/ZS5wdXNoKG5ldyB6dChuLHIucmVmLCJyZWYgY2Fubm90IHJlZmVyZW5jZSBhbm90aGVyIHJlZiBsYXllciIpKTpzPUV0KG8udHlwZSk6ZS5wdXNoKG5ldyB6dChuLHIucmVmLCdyZWYgbGF5ZXIgIicrdSsnIiBub3QgZm91bmQnKSk7ZWxzZSBpZigiYmFja2dyb3VuZCIhPT1zKWlmKHIuc291cmNlKXt2YXIgaD1pLnNvdXJjZXMmJmkuc291cmNlc1tyLnNvdXJjZV0sZj1oJiZFdChoLnR5cGUpO2g/InZlY3RvciI9PT1mJiYicmFzdGVyIj09PXM/ZS5wdXNoKG5ldyB6dChuLHIuc291cmNlLCdsYXllciAiJytyLmlkKyciIHJlcXVpcmVzIGEgcmFzdGVyIHNvdXJjZScpKToicmFzdGVyIj09PWYmJiJyYXN0ZXIiIT09cz9lLnB1c2gobmV3IHp0KG4sci5zb3VyY2UsJ2xheWVyICInK3IuaWQrJyIgcmVxdWlyZXMgYSB2ZWN0b3Igc291cmNlJykpOiJ2ZWN0b3IiIT09Znx8clsic291cmNlLWxheWVyIl0/InJhc3Rlci1kZW0iPT09ZiYmImhpbGxzaGFkZSIhPT1zP2UucHVzaChuZXcgenQobixyLnNvdXJjZSwicmFzdGVyLWRlbSBzb3VyY2UgY2FuIG9ubHkgYmUgdXNlZCB3aXRoIGxheWVyIHR5cGUgJ2hpbGxzaGFkZScuIikpOiJsaW5lIiE9PXN8fCFyLnBhaW50fHwhci5wYWludFsibGluZS1ncmFkaWVudCJdfHwiZ2VvanNvbiI9PT1mJiZoLmxpbmVNZXRyaWNzfHxlLnB1c2gobmV3IHp0KG4sciwnbGF5ZXIgIicrci5pZCsnIiBzcGVjaWZpZXMgYSBsaW5lLWdyYWRpZW50LCB3aGljaCByZXF1aXJlcyBhIEdlb0pTT04gc291cmNlIHdpdGggYGxpbmVNZXRyaWNzYCBlbmFibGVkLicpKTplLnB1c2gobmV3IHp0KG4sciwnbGF5ZXIgIicrci5pZCsnIiBtdXN0IHNwZWNpZnkgYSAic291cmNlLWxheWVyIicpKTplLnB1c2gobmV3IHp0KG4sci5zb3VyY2UsJ3NvdXJjZSAiJytyLnNvdXJjZSsnIiBub3QgZm91bmQnKSk7fWVsc2UgZS5wdXNoKG5ldyB6dChuLHIsJ21pc3NpbmcgcmVxdWlyZWQgcHJvcGVydHkgInNvdXJjZSInKSk7cmV0dXJuIGU9ZS5jb25jYXQoSnIoe2tleTpuLHZhbHVlOnIsdmFsdWVTcGVjOmEubGF5ZXIsc3R5bGU6dC5zdHlsZSxzdHlsZVNwZWM6dC5zdHlsZVNwZWMsb2JqZWN0RWxlbWVudFZhbGlkYXRvcnM6eyIqIjpmdW5jdGlvbigpe3JldHVybiBbXX0sdHlwZTpmdW5jdGlvbigpe3JldHVybiBibih7a2V5Om4rIi50eXBlIix2YWx1ZTpyLnR5cGUsdmFsdWVTcGVjOmEubGF5ZXIudHlwZSxzdHlsZTp0LnN0eWxlLHN0eWxlU3BlYzp0LnN0eWxlU3BlYyxvYmplY3Q6cixvYmplY3RLZXk6InR5cGUifSl9LGZpbHRlcjpwbixsYXlvdXQ6ZnVuY3Rpb24odCl7cmV0dXJuIEpyKHtsYXllcjpyLGtleTp0LmtleSx2YWx1ZTp0LnZhbHVlLHN0eWxlOnQuc3R5bGUsc3R5bGVTcGVjOnQuc3R5bGVTcGVjLG9iamVjdEVsZW1lbnRWYWxpZGF0b3JzOnsiKiI6ZnVuY3Rpb24odCl7cmV0dXJuIGZuKE10KHtsYXllclR5cGU6c30sdCkpfX19KX0scGFpbnQ6ZnVuY3Rpb24odCl7cmV0dXJuIEpyKHtsYXllcjpyLGtleTp0LmtleSx2YWx1ZTp0LnZhbHVlLHN0eWxlOnQuc3R5bGUsc3R5bGVTcGVjOnQuc3R5bGVTcGVjLG9iamVjdEVsZW1lbnRWYWxpZGF0b3JzOnsiKiI6ZnVuY3Rpb24odCl7cmV0dXJuIGhuKE10KHtsYXllclR5cGU6c30sdCkpfX19KX19fSkpfWZ1bmN0aW9uIGRuKHQpe3ZhciBlPXQudmFsdWUscj10LmtleSxuPUJyKGUpO3JldHVybiAic3RyaW5nIiE9PW4/W25ldyB6dChyLGUsInN0cmluZyBleHBlY3RlZCwgIituKyIgZm91bmQiKV06W119dmFyIG1uPXtwcm9tb3RlSWQ6ZnVuY3Rpb24odCl7dmFyIGU9dC5rZXkscj10LnZhbHVlO2lmKCJzdHJpbmciPT09QnIocikpcmV0dXJuIGRuKHtrZXk6ZSx2YWx1ZTpyfSk7dmFyIG49W107Zm9yKHZhciBpIGluIHIpbi5wdXNoLmFwcGx5KG4sZG4oe2tleTplKyIuIitpLHZhbHVlOnJbaV19KSk7cmV0dXJuIG59fTtmdW5jdGlvbiB2bih0KXt2YXIgZT10LnZhbHVlLHI9dC5rZXksbj10LnN0eWxlU3BlYyxpPXQuc3R5bGU7aWYoIWUudHlwZSlyZXR1cm4gW25ldyB6dChyLGUsJyJ0eXBlIiBpcyByZXF1aXJlZCcpXTt2YXIgYSxvPUV0KGUudHlwZSk7c3dpdGNoKG8pe2Nhc2UidmVjdG9yIjpjYXNlInJhc3RlciI6Y2FzZSJyYXN0ZXItZGVtIjpyZXR1cm4gSnIoe2tleTpyLHZhbHVlOmUsdmFsdWVTcGVjOm5bInNvdXJjZV8iK28ucmVwbGFjZSgiLSIsIl8iKV0sc3R5bGU6dC5zdHlsZSxzdHlsZVNwZWM6bixvYmplY3RFbGVtZW50VmFsaWRhdG9yczptbn0pO2Nhc2UiZ2VvanNvbiI6aWYoYT1Kcih7a2V5OnIsdmFsdWU6ZSx2YWx1ZVNwZWM6bi5zb3VyY2VfZ2VvanNvbixzdHlsZTppLHN0eWxlU3BlYzpuLG9iamVjdEVsZW1lbnRWYWxpZGF0b3JzOm1ufSksZS5jbHVzdGVyKWZvcih2YXIgcyBpbiBlLmNsdXN0ZXJQcm9wZXJ0aWVzKXt2YXIgdT1lLmNsdXN0ZXJQcm9wZXJ0aWVzW3NdLGw9dVswXSxwPSJzdHJpbmciPT10eXBlb2YgbD9bbCxbImFjY3VtdWxhdGVkIl0sWyJnZXQiLHNdXTpsO2EucHVzaC5hcHBseShhLFdyKHtrZXk6cisiLiIrcysiLm1hcCIsdmFsdWU6dVsxXSxleHByZXNzaW9uQ29udGV4dDoiY2x1c3Rlci1tYXAifSkpLGEucHVzaC5hcHBseShhLFdyKHtrZXk6cisiLiIrcysiLnJlZHVjZSIsdmFsdWU6cCxleHByZXNzaW9uQ29udGV4dDoiY2x1c3Rlci1yZWR1Y2UifSkpO31yZXR1cm4gYTtjYXNlInZpZGVvIjpyZXR1cm4gSnIoe2tleTpyLHZhbHVlOmUsdmFsdWVTcGVjOm4uc291cmNlX3ZpZGVvLHN0eWxlOmksc3R5bGVTcGVjOm59KTtjYXNlImltYWdlIjpyZXR1cm4gSnIoe2tleTpyLHZhbHVlOmUsdmFsdWVTcGVjOm4uc291cmNlX2ltYWdlLHN0eWxlOmksc3R5bGVTcGVjOm59KTtjYXNlImNhbnZhcyI6cmV0dXJuIFtuZXcgenQocixudWxsLCJQbGVhc2UgdXNlIHJ1bnRpbWUgQVBJcyB0byBhZGQgY2FudmFzIHNvdXJjZXMsIHJhdGhlciB0aGFuIGluY2x1ZGluZyB0aGVtIGluIHN0eWxlc2hlZXRzLiIsInNvdXJjZS5jYW52YXMiKV07ZGVmYXVsdDpyZXR1cm4gUXIoe2tleTpyKyIudHlwZSIsdmFsdWU6ZS50eXBlLHZhbHVlU3BlYzp7dmFsdWVzOlsidmVjdG9yIiwicmFzdGVyIiwicmFzdGVyLWRlbSIsImdlb2pzb24iLCJ2aWRlbyIsImltYWdlIl19LHN0eWxlOmksc3R5bGVTcGVjOm59KX19ZnVuY3Rpb24gZ24odCl7dmFyIGU9dC52YWx1ZSxyPXQuc3R5bGVTcGVjLG49ci5saWdodCxpPXQuc3R5bGUsYT1bXSxvPUJyKGUpO2lmKHZvaWQgMD09PWUpcmV0dXJuIGE7aWYoIm9iamVjdCIhPT1vKXJldHVybiBhLmNvbmNhdChbbmV3IHp0KCJsaWdodCIsZSwib2JqZWN0IGV4cGVjdGVkLCAiK28rIiBmb3VuZCIpXSk7Zm9yKHZhciBzIGluIGUpe3ZhciB1PXMubWF0Y2goL14oLiopLXRyYW5zaXRpb24kLyk7YT1hLmNvbmNhdCh1JiZuW3VbMV1dJiZuW3VbMV1dLnRyYW5zaXRpb24/Ym4oe2tleTpzLHZhbHVlOmVbc10sdmFsdWVTcGVjOnIudHJhbnNpdGlvbixzdHlsZTppLHN0eWxlU3BlYzpyfSk6bltzXT9ibih7a2V5OnMsdmFsdWU6ZVtzXSx2YWx1ZVNwZWM6bltzXSxzdHlsZTppLHN0eWxlU3BlYzpyfSk6W25ldyB6dChzLGVbc10sJ3Vua25vd24gcHJvcGVydHkgIicrcysnIicpXSk7fXJldHVybiBhfXZhciB4bj17IioiOmZ1bmN0aW9uKCl7cmV0dXJuIFtdfSxhcnJheTpIcixib29sZWFuOmZ1bmN0aW9uKHQpe3ZhciBlPXQudmFsdWUscj10LmtleSxuPUJyKGUpO3JldHVybiAiYm9vbGVhbiIhPT1uP1tuZXcgenQocixlLCJib29sZWFuIGV4cGVjdGVkLCAiK24rIiBmb3VuZCIpXTpbXX0sbnVtYmVyOllyLGNvbG9yOmZ1bmN0aW9uKHQpe3ZhciBlPXQua2V5LHI9dC52YWx1ZSxuPUJyKHIpO3JldHVybiAic3RyaW5nIiE9PW4/W25ldyB6dChlLHIsImNvbG9yIGV4cGVjdGVkLCAiK24rIiBmb3VuZCIpXTpudWxsPT09WXQocik/W25ldyB6dChlLHIsJ2NvbG9yIGV4cGVjdGVkLCAiJytyKyciIGZvdW5kJyldOltdfSxjb25zdGFudHM6Q3QsZW51bTpRcixmaWx0ZXI6cG4sZnVuY3Rpb246JHIsbGF5ZXI6eW4sb2JqZWN0OkpyLHNvdXJjZTp2bixsaWdodDpnbixzdHJpbmc6ZG4sZm9ybWF0dGVkOmZ1bmN0aW9uKHQpe3JldHVybiAwPT09ZG4odCkubGVuZ3RoP1tdOldyKHQpfSxyZXNvbHZlZEltYWdlOmZ1bmN0aW9uKHQpe3JldHVybiAwPT09ZG4odCkubGVuZ3RoP1tdOldyKHQpfX07ZnVuY3Rpb24gYm4odCl7dmFyIGU9dC52YWx1ZSxyPXQudmFsdWVTcGVjLG49dC5zdHlsZVNwZWM7cmV0dXJuIHIuZXhwcmVzc2lvbiYmVnIoRXQoZSkpPyRyKHQpOnIuZXhwcmVzc2lvbiYmcXIoVHQoZSkpP1dyKHQpOnIudHlwZSYmeG5bci50eXBlXT94bltyLnR5cGVdKHQpOkpyKE10KHt9LHQse3ZhbHVlU3BlYzpyLnR5cGU/bltyLnR5cGVdOnJ9KSl9ZnVuY3Rpb24gd24odCl7dmFyIGU9dC52YWx1ZSxyPXQua2V5LG49ZG4odCk7cmV0dXJuIG4ubGVuZ3RofHwoLTE9PT1lLmluZGV4T2YoIntmb250c3RhY2t9IikmJm4ucHVzaChuZXcgenQocixlLCciZ2x5cGhzIiB1cmwgbXVzdCBpbmNsdWRlIGEgIntmb250c3RhY2t9IiB0b2tlbicpKSwtMT09PWUuaW5kZXhPZigie3JhbmdlfSIpJiZuLnB1c2gobmV3IHp0KHIsZSwnImdseXBocyIgdXJsIG11c3QgaW5jbHVkZSBhICJ7cmFuZ2V9IiB0b2tlbicpKSksbn1mdW5jdGlvbiBfbih0LGUpe3ZvaWQgMD09PWUmJihlPUl0KTt2YXIgcj1bXTtyZXR1cm4gcj1yLmNvbmNhdChibih7a2V5OiIiLHZhbHVlOnQsdmFsdWVTcGVjOmUuJHJvb3Qsc3R5bGVTcGVjOmUsc3R5bGU6dCxvYmplY3RFbGVtZW50VmFsaWRhdG9yczp7Z2x5cGhzOnduLCIqIjpmdW5jdGlvbigpe3JldHVybiBbXX19fSkpLHQuY29uc3RhbnRzJiYocj1yLmNvbmNhdChDdCh7a2V5OiJjb25zdGFudHMiLHZhbHVlOnQuY29uc3RhbnRzLHN0eWxlOnQsc3R5bGVTcGVjOmV9KSkpLEFuKHIpfWZ1bmN0aW9uIEFuKHQpe3JldHVybiBbXS5jb25jYXQodCkuc29ydCgoZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5saW5lLWUubGluZX0pKX1mdW5jdGlvbiBTbih0KXtyZXR1cm4gZnVuY3Rpb24oKXtmb3IodmFyIGU9W10scj1hcmd1bWVudHMubGVuZ3RoO3ItLTspZVtyXT1hcmd1bWVudHNbcl07cmV0dXJuIEFuKHQuYXBwbHkodGhpcyxlKSl9fV9uLnNvdXJjZT1Tbih2biksX24ubGlnaHQ9U24oZ24pLF9uLmxheWVyPVNuKHluKSxfbi5maWx0ZXI9U24ocG4pLF9uLnBhaW50UHJvcGVydHk9U24oaG4pLF9uLmxheW91dFByb3BlcnR5PVNuKGZuKTt2YXIga249X24sSW49a24ubGlnaHQsem49a24ucGFpbnRQcm9wZXJ0eSxDbj1rbi5sYXlvdXRQcm9wZXJ0eTtmdW5jdGlvbiBNbih0LGUpe3ZhciByPSExO2lmKGUmJmUubGVuZ3RoKWZvcih2YXIgbj0wLGk9ZTtuPGkubGVuZ3RoO24rPTEpdC5maXJlKG5ldyBTdChuZXcgRXJyb3IoaVtuXS5tZXNzYWdlKSkpLHI9ITA7cmV0dXJuIHJ9dmFyIEVuPVRuO2Z1bmN0aW9uIFRuKHQsZSxyKXt2YXIgbj10aGlzLmNlbGxzPVtdO2lmKHQgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcil7dGhpcy5hcnJheUJ1ZmZlcj10O3ZhciBpPW5ldyBJbnQzMkFycmF5KHRoaXMuYXJyYXlCdWZmZXIpO3Q9aVswXSx0aGlzLmQ9KGU9aVsxXSkrMioocj1pWzJdKTtmb3IodmFyIGE9MDthPHRoaXMuZCp0aGlzLmQ7YSsrKXt2YXIgbz1pWzMrYV0scz1pWzMrYSsxXTtuLnB1c2gobz09PXM/bnVsbDppLnN1YmFycmF5KG8scykpO312YXIgdT1pWzMrbi5sZW5ndGgrMV07dGhpcy5rZXlzPWkuc3ViYXJyYXkoaVszK24ubGVuZ3RoXSx1KSx0aGlzLmJib3hlcz1pLnN1YmFycmF5KHUpLHRoaXMuaW5zZXJ0PXRoaXMuX2luc2VydFJlYWRvbmx5O31lbHNlIHt0aGlzLmQ9ZSsyKnI7Zm9yKHZhciBsPTA7bDx0aGlzLmQqdGhpcy5kO2wrKyluLnB1c2goW10pO3RoaXMua2V5cz1bXSx0aGlzLmJib3hlcz1bXTt9dGhpcy5uPWUsdGhpcy5leHRlbnQ9dCx0aGlzLnBhZGRpbmc9cix0aGlzLnNjYWxlPWUvdCx0aGlzLnVpZD0wO3ZhciBwPXIvZSp0O3RoaXMubWluPS1wLHRoaXMubWF4PXQrcDt9VG4ucHJvdG90eXBlLmluc2VydD1mdW5jdGlvbih0LGUscixuLGkpe3RoaXMuX2ZvckVhY2hDZWxsKGUscixuLGksdGhpcy5faW5zZXJ0Q2VsbCx0aGlzLnVpZCsrKSx0aGlzLmtleXMucHVzaCh0KSx0aGlzLmJib3hlcy5wdXNoKGUpLHRoaXMuYmJveGVzLnB1c2gociksdGhpcy5iYm94ZXMucHVzaChuKSx0aGlzLmJib3hlcy5wdXNoKGkpO30sVG4ucHJvdG90eXBlLl9pbnNlcnRSZWFkb25seT1mdW5jdGlvbigpe3Rocm93ICJDYW5ub3QgaW5zZXJ0IGludG8gYSBHcmlkSW5kZXggY3JlYXRlZCBmcm9tIGFuIEFycmF5QnVmZmVyLiJ9LFRuLnByb3RvdHlwZS5faW5zZXJ0Q2VsbD1mdW5jdGlvbih0LGUscixuLGksYSl7dGhpcy5jZWxsc1tpXS5wdXNoKGEpO30sVG4ucHJvdG90eXBlLnF1ZXJ5PWZ1bmN0aW9uKHQsZSxyLG4saSl7dmFyIGE9dGhpcy5taW4sbz10aGlzLm1heDtpZih0PD1hJiZlPD1hJiZvPD1yJiZvPD1uJiYhaSlyZXR1cm4gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwodGhpcy5rZXlzKTt2YXIgcz1bXTtyZXR1cm4gdGhpcy5fZm9yRWFjaENlbGwodCxlLHIsbix0aGlzLl9xdWVyeUNlbGwscyx7fSxpKSxzfSxUbi5wcm90b3R5cGUuX3F1ZXJ5Q2VsbD1mdW5jdGlvbih0LGUscixuLGksYSxvLHMpe3ZhciB1PXRoaXMuY2VsbHNbaV07aWYobnVsbCE9PXUpZm9yKHZhciBsPXRoaXMua2V5cyxwPXRoaXMuYmJveGVzLGM9MDtjPHUubGVuZ3RoO2MrKyl7dmFyIGg9dVtjXTtpZih2b2lkIDA9PT1vW2hdKXt2YXIgZj00Kmg7KHM/cyhwW2YrMF0scFtmKzFdLHBbZisyXSxwW2YrM10pOnQ8PXBbZisyXSYmZTw9cFtmKzNdJiZyPj1wW2YrMF0mJm4+PXBbZisxXSk/KG9baF09ITAsYS5wdXNoKGxbaF0pKTpvW2hdPSExO319fSxUbi5wcm90b3R5cGUuX2ZvckVhY2hDZWxsPWZ1bmN0aW9uKHQsZSxyLG4saSxhLG8scyl7Zm9yKHZhciB1PXRoaXMuX2NvbnZlcnRUb0NlbGxDb29yZCh0KSxsPXRoaXMuX2NvbnZlcnRUb0NlbGxDb29yZChlKSxwPXRoaXMuX2NvbnZlcnRUb0NlbGxDb29yZChyKSxjPXRoaXMuX2NvbnZlcnRUb0NlbGxDb29yZChuKSxoPXU7aDw9cDtoKyspZm9yKHZhciBmPWw7Zjw9YztmKyspe3ZhciB5PXRoaXMuZCpmK2g7aWYoKCFzfHxzKHRoaXMuX2NvbnZlcnRGcm9tQ2VsbENvb3JkKGgpLHRoaXMuX2NvbnZlcnRGcm9tQ2VsbENvb3JkKGYpLHRoaXMuX2NvbnZlcnRGcm9tQ2VsbENvb3JkKGgrMSksdGhpcy5fY29udmVydEZyb21DZWxsQ29vcmQoZisxKSkpJiZpLmNhbGwodGhpcyx0LGUscixuLHksYSxvLHMpKXJldHVybn19LFRuLnByb3RvdHlwZS5fY29udmVydEZyb21DZWxsQ29vcmQ9ZnVuY3Rpb24odCl7cmV0dXJuICh0LXRoaXMucGFkZGluZykvdGhpcy5zY2FsZX0sVG4ucHJvdG90eXBlLl9jb252ZXJ0VG9DZWxsQ29vcmQ9ZnVuY3Rpb24odCl7cmV0dXJuIE1hdGgubWF4KDAsTWF0aC5taW4odGhpcy5kLTEsTWF0aC5mbG9vcih0KnRoaXMuc2NhbGUpK3RoaXMucGFkZGluZykpfSxUbi5wcm90b3R5cGUudG9BcnJheUJ1ZmZlcj1mdW5jdGlvbigpe2lmKHRoaXMuYXJyYXlCdWZmZXIpcmV0dXJuIHRoaXMuYXJyYXlCdWZmZXI7Zm9yKHZhciB0PXRoaXMuY2VsbHMsZT0zK3RoaXMuY2VsbHMubGVuZ3RoKzErMSxyPTAsbj0wO248dGhpcy5jZWxscy5sZW5ndGg7bisrKXIrPXRoaXMuY2VsbHNbbl0ubGVuZ3RoO3ZhciBpPW5ldyBJbnQzMkFycmF5KGUrcit0aGlzLmtleXMubGVuZ3RoK3RoaXMuYmJveGVzLmxlbmd0aCk7aVswXT10aGlzLmV4dGVudCxpWzFdPXRoaXMubixpWzJdPXRoaXMucGFkZGluZztmb3IodmFyIGE9ZSxvPTA7bzx0Lmxlbmd0aDtvKyspe3ZhciBzPXRbb107aVszK29dPWEsaS5zZXQocyxhKSxhKz1zLmxlbmd0aDt9cmV0dXJuIGlbMyt0Lmxlbmd0aF09YSxpLnNldCh0aGlzLmtleXMsYSksaVszK3QubGVuZ3RoKzFdPWErPXRoaXMua2V5cy5sZW5ndGgsaS5zZXQodGhpcy5iYm94ZXMsYSksYSs9dGhpcy5iYm94ZXMubGVuZ3RoLGkuYnVmZmVyfTt2YXIgUG49c2VsZi5JbWFnZURhdGEsQm49c2VsZi5JbWFnZUJpdG1hcCxWbj17fTtmdW5jdGlvbiBGbih0LGUscil7dm9pZCAwPT09ciYmKHI9e30pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfY2xhc3NSZWdpc3RyeUtleSIse3ZhbHVlOnQsd3JpdGVhYmxlOiExfSksVm5bdF09e2tsYXNzOmUsb21pdDpyLm9taXR8fFtdLHNoYWxsb3c6ci5zaGFsbG93fHxbXX07fWZvcih2YXIgRG4gaW4gRm4oIk9iamVjdCIsT2JqZWN0KSxFbi5zZXJpYWxpemU9ZnVuY3Rpb24odCxlKXt2YXIgcj10LnRvQXJyYXlCdWZmZXIoKTtyZXR1cm4gZSYmZS5wdXNoKHIpLHtidWZmZXI6cn19LEVuLmRlc2VyaWFsaXplPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgRW4odC5idWZmZXIpfSxGbigiR3JpZCIsRW4pLEZuKCJDb2xvciIsJHQpLEZuKCJFcnJvciIsRXJyb3IpLEZuKCJSZXNvbHZlZEltYWdlIixlZSksRm4oIlN0eWxlUHJvcGVydHlGdW5jdGlvbiIsWHIpLEZuKCJTdHlsZUV4cHJlc3Npb24iLGpyLHtvbWl0OlsiX2V2YWx1YXRvciJdfSksRm4oIlpvb21EZXBlbmRlbnRFeHByZXNzaW9uIixHciksRm4oIlpvb21Db25zdGFudEV4cHJlc3Npb24iLEtyKSxGbigiQ29tcG91bmRFeHByZXNzaW9uIixtZSx7b21pdDpbIl9ldmFsdWF0ZSJdfSksQXIpQXJbRG5dLl9jbGFzc1JlZ2lzdHJ5S2V5fHxGbigiRXhwcmVzc2lvbl8iK0RuLEFyW0RuXSk7ZnVuY3Rpb24gTG4odCl7cmV0dXJuIHQmJiJ1bmRlZmluZWQiIT10eXBlb2YgQXJyYXlCdWZmZXImJih0IGluc3RhbmNlb2YgQXJyYXlCdWZmZXJ8fHQuY29uc3RydWN0b3ImJiJBcnJheUJ1ZmZlciI9PT10LmNvbnN0cnVjdG9yLm5hbWUpfWZ1bmN0aW9uIFJuKHQpe3JldHVybiBCbiYmdCBpbnN0YW5jZW9mIEJufWZ1bmN0aW9uIE9uKHQsZSl7aWYobnVsbD09dHx8ImJvb2xlYW4iPT10eXBlb2YgdHx8Im51bWJlciI9PXR5cGVvZiB0fHwic3RyaW5nIj09dHlwZW9mIHR8fHQgaW5zdGFuY2VvZiBCb29sZWFufHx0IGluc3RhbmNlb2YgTnVtYmVyfHx0IGluc3RhbmNlb2YgU3RyaW5nfHx0IGluc3RhbmNlb2YgRGF0ZXx8dCBpbnN0YW5jZW9mIFJlZ0V4cClyZXR1cm4gdDtpZihMbih0KXx8Um4odCkpcmV0dXJuIGUmJmUucHVzaCh0KSx0O2lmKEFycmF5QnVmZmVyLmlzVmlldyh0KSl7dmFyIHI9dDtyZXR1cm4gZSYmZS5wdXNoKHIuYnVmZmVyKSxyfWlmKHQgaW5zdGFuY2VvZiBQbilyZXR1cm4gZSYmZS5wdXNoKHQuZGF0YS5idWZmZXIpLHQ7aWYoQXJyYXkuaXNBcnJheSh0KSl7Zm9yKHZhciBuPVtdLGk9MCxhPXQ7aTxhLmxlbmd0aDtpKz0xKW4ucHVzaChPbihhW2ldLGUpKTtyZXR1cm4gbn1pZigib2JqZWN0Ij09dHlwZW9mIHQpe3ZhciBvPXQuY29uc3RydWN0b3Iscz1vLl9jbGFzc1JlZ2lzdHJ5S2V5O2lmKCFzKXRocm93IG5ldyBFcnJvcigiY2FuJ3Qgc2VyaWFsaXplIG9iamVjdCBvZiB1bnJlZ2lzdGVyZWQgY2xhc3MiKTt2YXIgdT1vLnNlcmlhbGl6ZT9vLnNlcmlhbGl6ZSh0LGUpOnt9O2lmKCFvLnNlcmlhbGl6ZSl7Zm9yKHZhciBsIGluIHQpaWYodC5oYXNPd25Qcm9wZXJ0eShsKSYmIShWbltzXS5vbWl0LmluZGV4T2YobCk+PTApKXt2YXIgcD10W2xdO3VbbF09Vm5bc10uc2hhbGxvdy5pbmRleE9mKGwpPj0wP3A6T24ocCxlKTt9dCBpbnN0YW5jZW9mIEVycm9yJiYodS5tZXNzYWdlPXQubWVzc2FnZSk7fWlmKHUuJG5hbWUpdGhyb3cgbmV3IEVycm9yKCIkbmFtZSBwcm9wZXJ0eSBpcyByZXNlcnZlZCBmb3Igd29ya2VyIHNlcmlhbGl6YXRpb24gbG9naWMuIik7cmV0dXJuICJPYmplY3QiIT09cyYmKHUuJG5hbWU9cyksdX10aHJvdyBuZXcgRXJyb3IoImNhbid0IHNlcmlhbGl6ZSBvYmplY3Qgb2YgdHlwZSAiK3R5cGVvZiB0KX1mdW5jdGlvbiBVbih0KXtpZihudWxsPT10fHwiYm9vbGVhbiI9PXR5cGVvZiB0fHwibnVtYmVyIj09dHlwZW9mIHR8fCJzdHJpbmciPT10eXBlb2YgdHx8dCBpbnN0YW5jZW9mIEJvb2xlYW58fHQgaW5zdGFuY2VvZiBOdW1iZXJ8fHQgaW5zdGFuY2VvZiBTdHJpbmd8fHQgaW5zdGFuY2VvZiBEYXRlfHx0IGluc3RhbmNlb2YgUmVnRXhwfHxMbih0KXx8Um4odCl8fEFycmF5QnVmZmVyLmlzVmlldyh0KXx8dCBpbnN0YW5jZW9mIFBuKXJldHVybiB0O2lmKEFycmF5LmlzQXJyYXkodCkpcmV0dXJuIHQubWFwKFVuKTtpZigib2JqZWN0Ij09dHlwZW9mIHQpe3ZhciBlPXQuJG5hbWV8fCJPYmplY3QiLHI9Vm5bZV0ua2xhc3M7aWYoIXIpdGhyb3cgbmV3IEVycm9yKCJjYW4ndCBkZXNlcmlhbGl6ZSB1bnJlZ2lzdGVyZWQgY2xhc3MgIitlKTtpZihyLmRlc2VyaWFsaXplKXJldHVybiByLmRlc2VyaWFsaXplKHQpO2Zvcih2YXIgbj1PYmplY3QuY3JlYXRlKHIucHJvdG90eXBlKSxpPTAsYT1PYmplY3Qua2V5cyh0KTtpPGEubGVuZ3RoO2krPTEpe3ZhciBvPWFbaV07aWYoIiRuYW1lIiE9PW8pe3ZhciBzPXRbb107bltvXT1WbltlXS5zaGFsbG93LmluZGV4T2Yobyk+PTA/czpVbihzKTt9fXJldHVybiBufXRocm93IG5ldyBFcnJvcigiY2FuJ3QgZGVzZXJpYWxpemUgb2JqZWN0IG9mIHR5cGUgIit0eXBlb2YgdCl9dmFyIGpuPWZ1bmN0aW9uKCl7dGhpcy5maXJzdD0hMDt9O2puLnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24odCxlKXt2YXIgcj1NYXRoLmZsb29yKHQpO3JldHVybiB0aGlzLmZpcnN0Pyh0aGlzLmZpcnN0PSExLHRoaXMubGFzdEludGVnZXJab29tPXIsdGhpcy5sYXN0SW50ZWdlclpvb21UaW1lPTAsdGhpcy5sYXN0Wm9vbT10LHRoaXMubGFzdEZsb29yWm9vbT1yLCEwKToodGhpcy5sYXN0Rmxvb3Jab29tPnI/KHRoaXMubGFzdEludGVnZXJab29tPXIrMSx0aGlzLmxhc3RJbnRlZ2VyWm9vbVRpbWU9ZSk6dGhpcy5sYXN0Rmxvb3Jab29tPHImJih0aGlzLmxhc3RJbnRlZ2VyWm9vbT1yLHRoaXMubGFzdEludGVnZXJab29tVGltZT1lKSx0IT09dGhpcy5sYXN0Wm9vbSYmKHRoaXMubGFzdFpvb209dCx0aGlzLmxhc3RGbG9vclpvb209ciwhMCkpfTt2YXIgcW49eyJMYXRpbi0xIFN1cHBsZW1lbnQiOmZ1bmN0aW9uKHQpe3JldHVybiB0Pj0xMjgmJnQ8PTI1NX0sQXJhYmljOmZ1bmN0aW9uKHQpe3JldHVybiB0Pj0xNTM2JiZ0PD0xNzkxfSwiQXJhYmljIFN1cHBsZW1lbnQiOmZ1bmN0aW9uKHQpe3JldHVybiB0Pj0xODcyJiZ0PD0xOTE5fSwiQXJhYmljIEV4dGVuZGVkLUEiOmZ1bmN0aW9uKHQpe3JldHVybiB0Pj0yMjA4JiZ0PD0yMzAzfSwiSGFuZ3VsIEphbW8iOmZ1bmN0aW9uKHQpe3JldHVybiB0Pj00MzUyJiZ0PD00NjA3fSwiVW5pZmllZCBDYW5hZGlhbiBBYm9yaWdpbmFsIFN5bGxhYmljcyI6ZnVuY3Rpb24odCl7cmV0dXJuIHQ+PTUxMjAmJnQ8PTU3NTl9LEtobWVyOmZ1bmN0aW9uKHQpe3JldHVybiB0Pj02MDE2JiZ0PD02MTQzfSwiVW5pZmllZCBDYW5hZGlhbiBBYm9yaWdpbmFsIFN5bGxhYmljcyBFeHRlbmRlZCI6ZnVuY3Rpb24odCl7cmV0dXJuIHQ+PTYzMjAmJnQ8PTYzOTl9LCJHZW5lcmFsIFB1bmN0dWF0aW9uIjpmdW5jdGlvbih0KXtyZXR1cm4gdD49ODE5MiYmdDw9ODMwM30sIkxldHRlcmxpa2UgU3ltYm9scyI6ZnVuY3Rpb24odCl7cmV0dXJuIHQ+PTg0NDgmJnQ8PTg1Mjd9LCJOdW1iZXIgRm9ybXMiOmZ1bmN0aW9uKHQpe3JldHVybiB0Pj04NTI4JiZ0PD04NTkxfSwiTWlzY2VsbGFuZW91cyBUZWNobmljYWwiOmZ1bmN0aW9uKHQpe3JldHVybiB0Pj04OTYwJiZ0PD05MjE1fSwiQ29udHJvbCBQaWN0dXJlcyI6ZnVuY3Rpb24odCl7cmV0dXJuIHQ+PTkyMTYmJnQ8PTkyNzl9LCJPcHRpY2FsIENoYXJhY3RlciBSZWNvZ25pdGlvbiI6ZnVuY3Rpb24odCl7cmV0dXJuIHQ+PTkyODAmJnQ8PTkzMTF9LCJFbmNsb3NlZCBBbHBoYW51bWVyaWNzIjpmdW5jdGlvbih0KXtyZXR1cm4gdD49OTMxMiYmdDw9OTQ3MX0sIkdlb21ldHJpYyBTaGFwZXMiOmZ1bmN0aW9uKHQpe3JldHVybiB0Pj05NjMyJiZ0PD05NzI3fSwiTWlzY2VsbGFuZW91cyBTeW1ib2xzIjpmdW5jdGlvbih0KXtyZXR1cm4gdD49OTcyOCYmdDw9OTk4M30sIk1pc2NlbGxhbmVvdXMgU3ltYm9scyBhbmQgQXJyb3dzIjpmdW5jdGlvbih0KXtyZXR1cm4gdD49MTEwMDgmJnQ8PTExMjYzfSwiQ0pLIFJhZGljYWxzIFN1cHBsZW1lbnQiOmZ1bmN0aW9uKHQpe3JldHVybiB0Pj0xMTkwNCYmdDw9MTIwMzF9LCJLYW5neGkgUmFkaWNhbHMiOmZ1bmN0aW9uKHQpe3JldHVybiB0Pj0xMjAzMiYmdDw9MTIyNTV9LCJJZGVvZ3JhcGhpYyBEZXNjcmlwdGlvbiBDaGFyYWN0ZXJzIjpmdW5jdGlvbih0KXtyZXR1cm4gdD49MTIyNzImJnQ8PTEyMjg3fSwiQ0pLIFN5bWJvbHMgYW5kIFB1bmN0dWF0aW9uIjpmdW5jdGlvbih0KXtyZXR1cm4gdD49MTIyODgmJnQ8PTEyMzUxfSxIaXJhZ2FuYTpmdW5jdGlvbih0KXtyZXR1cm4gdD49MTIzNTImJnQ8PTEyNDQ3fSxLYXRha2FuYTpmdW5jdGlvbih0KXtyZXR1cm4gdD49MTI0NDgmJnQ8PTEyNTQzfSxCb3BvbW9mbzpmdW5jdGlvbih0KXtyZXR1cm4gdD49MTI1NDQmJnQ8PTEyNTkxfSwiSGFuZ3VsIENvbXBhdGliaWxpdHkgSmFtbyI6ZnVuY3Rpb24odCl7cmV0dXJuIHQ+PTEyNTkyJiZ0PD0xMjY4N30sS2FuYnVuOmZ1bmN0aW9uKHQpe3JldHVybiB0Pj0xMjY4OCYmdDw9MTI3MDN9LCJCb3BvbW9mbyBFeHRlbmRlZCI6ZnVuY3Rpb24odCl7cmV0dXJuIHQ+PTEyNzA0JiZ0PD0xMjczNX0sIkNKSyBTdHJva2VzIjpmdW5jdGlvbih0KXtyZXR1cm4gdD49MTI3MzYmJnQ8PTEyNzgzfSwiS2F0YWthbmEgUGhvbmV0aWMgRXh0ZW5zaW9ucyI6ZnVuY3Rpb24odCl7cmV0dXJuIHQ+PTEyNzg0JiZ0PD0xMjc5OX0sIkVuY2xvc2VkIENKSyBMZXR0ZXJzIGFuZCBNb250aHMiOmZ1bmN0aW9uKHQpe3JldHVybiB0Pj0xMjgwMCYmdDw9MTMwNTV9LCJDSksgQ29tcGF0aWJpbGl0eSI6ZnVuY3Rpb24odCl7cmV0dXJuIHQ+PTEzMDU2JiZ0PD0xMzMxMX0sIkNKSyBVbmlmaWVkIElkZW9ncmFwaHMgRXh0ZW5zaW9uIEEiOmZ1bmN0aW9uKHQpe3JldHVybiB0Pj0xMzMxMiYmdDw9MTk5MDN9LCJZaWppbmcgSGV4YWdyYW0gU3ltYm9scyI6ZnVuY3Rpb24odCl7cmV0dXJuIHQ+PTE5OTA0JiZ0PD0xOTk2N30sIkNKSyBVbmlmaWVkIElkZW9ncmFwaHMiOmZ1bmN0aW9uKHQpe3JldHVybiB0Pj0xOTk2OCYmdDw9NDA5NTl9LCJZaSBTeWxsYWJsZXMiOmZ1bmN0aW9uKHQpe3JldHVybiB0Pj00MDk2MCYmdDw9NDIxMjd9LCJZaSBSYWRpY2FscyI6ZnVuY3Rpb24odCl7cmV0dXJuIHQ+PTQyMTI4JiZ0PD00MjE5MX0sIkhhbmd1bCBKYW1vIEV4dGVuZGVkLUEiOmZ1bmN0aW9uKHQpe3JldHVybiB0Pj00MzM2MCYmdDw9NDMzOTF9LCJIYW5ndWwgU3lsbGFibGVzIjpmdW5jdGlvbih0KXtyZXR1cm4gdD49NDQwMzImJnQ8PTU1MjE1fSwiSGFuZ3VsIEphbW8gRXh0ZW5kZWQtQiI6ZnVuY3Rpb24odCl7cmV0dXJuIHQ+PTU1MjE2JiZ0PD01NTI5NX0sIlByaXZhdGUgVXNlIEFyZWEiOmZ1bmN0aW9uKHQpe3JldHVybiB0Pj01NzM0NCYmdDw9NjM3NDN9LCJDSksgQ29tcGF0aWJpbGl0eSBJZGVvZ3JhcGhzIjpmdW5jdGlvbih0KXtyZXR1cm4gdD49NjM3NDQmJnQ8PTY0MjU1fSwiQXJhYmljIFByZXNlbnRhdGlvbiBGb3Jtcy1BIjpmdW5jdGlvbih0KXtyZXR1cm4gdD49NjQzMzYmJnQ8PTY1MDIzfSwiVmVydGljYWwgRm9ybXMiOmZ1bmN0aW9uKHQpe3JldHVybiB0Pj02NTA0MCYmdDw9NjUwNTV9LCJDSksgQ29tcGF0aWJpbGl0eSBGb3JtcyI6ZnVuY3Rpb24odCl7cmV0dXJuIHQ+PTY1MDcyJiZ0PD02NTEwM30sIlNtYWxsIEZvcm0gVmFyaWFudHMiOmZ1bmN0aW9uKHQpe3JldHVybiB0Pj02NTEwNCYmdDw9NjUxMzV9LCJBcmFiaWMgUHJlc2VudGF0aW9uIEZvcm1zLUIiOmZ1bmN0aW9uKHQpe3JldHVybiB0Pj02NTEzNiYmdDw9NjUyNzl9LCJIYWxmd2lkdGggYW5kIEZ1bGx3aWR0aCBGb3JtcyI6ZnVuY3Rpb24odCl7cmV0dXJuIHQ+PTY1MjgwJiZ0PD02NTUxOX19O2Z1bmN0aW9uIE5uKHQpe2Zvcih2YXIgZT0wLHI9dDtlPHIubGVuZ3RoO2UrPTEpaWYoS24ocltlXS5jaGFyQ29kZUF0KDApKSlyZXR1cm4gITA7cmV0dXJuICExfWZ1bmN0aW9uIEtuKHQpe3JldHVybiAhKDc0NiE9PXQmJjc0NyE9PXQmJih0PDQzNTJ8fCEocW5bIkJvcG9tb2ZvIEV4dGVuZGVkIl0odCl8fHFuLkJvcG9tb2ZvKHQpfHxxblsiQ0pLIENvbXBhdGliaWxpdHkgRm9ybXMiXSh0KSYmISh0Pj02NTA5NyYmdDw9NjUxMDMpfHxxblsiQ0pLIENvbXBhdGliaWxpdHkgSWRlb2dyYXBocyJdKHQpfHxxblsiQ0pLIENvbXBhdGliaWxpdHkiXSh0KXx8cW5bIkNKSyBSYWRpY2FscyBTdXBwbGVtZW50Il0odCl8fHFuWyJDSksgU3Ryb2tlcyJdKHQpfHwhKCFxblsiQ0pLIFN5bWJvbHMgYW5kIFB1bmN0dWF0aW9uIl0odCl8fHQ+PTEyMjk2JiZ0PD0xMjMwNXx8dD49MTIzMDgmJnQ8PTEyMzE5fHwxMjMzNj09PXQpfHxxblsiQ0pLIFVuaWZpZWQgSWRlb2dyYXBocyBFeHRlbnNpb24gQSJdKHQpfHxxblsiQ0pLIFVuaWZpZWQgSWRlb2dyYXBocyJdKHQpfHxxblsiRW5jbG9zZWQgQ0pLIExldHRlcnMgYW5kIE1vbnRocyJdKHQpfHxxblsiSGFuZ3VsIENvbXBhdGliaWxpdHkgSmFtbyJdKHQpfHxxblsiSGFuZ3VsIEphbW8gRXh0ZW5kZWQtQSJdKHQpfHxxblsiSGFuZ3VsIEphbW8gRXh0ZW5kZWQtQiJdKHQpfHxxblsiSGFuZ3VsIEphbW8iXSh0KXx8cW5bIkhhbmd1bCBTeWxsYWJsZXMiXSh0KXx8cW4uSGlyYWdhbmEodCl8fHFuWyJJZGVvZ3JhcGhpYyBEZXNjcmlwdGlvbiBDaGFyYWN0ZXJzIl0odCl8fHFuLkthbmJ1bih0KXx8cW5bIkthbmd4aSBSYWRpY2FscyJdKHQpfHxxblsiS2F0YWthbmEgUGhvbmV0aWMgRXh0ZW5zaW9ucyJdKHQpfHxxbi5LYXRha2FuYSh0KSYmMTI1NDAhPT10fHwhKCFxblsiSGFsZndpZHRoIGFuZCBGdWxsd2lkdGggRm9ybXMiXSh0KXx8NjUyODg9PT10fHw2NTI4OT09PXR8fDY1MjkzPT09dHx8dD49NjUzMDYmJnQ8PTY1MzEwfHw2NTMzOT09PXR8fDY1MzQxPT09dHx8NjUzNDM9PT10fHx0Pj02NTM3MSYmdDw9NjU1MDN8fDY1NTA3PT09dHx8dD49NjU1MTImJnQ8PTY1NTE5KXx8ISghcW5bIlNtYWxsIEZvcm0gVmFyaWFudHMiXSh0KXx8dD49NjUxMTImJnQ8PTY1MTE4fHx0Pj02NTEyMyYmdDw9NjUxMjYpfHxxblsiVW5pZmllZCBDYW5hZGlhbiBBYm9yaWdpbmFsIFN5bGxhYmljcyJdKHQpfHxxblsiVW5pZmllZCBDYW5hZGlhbiBBYm9yaWdpbmFsIFN5bGxhYmljcyBFeHRlbmRlZCJdKHQpfHxxblsiVmVydGljYWwgRm9ybXMiXSh0KXx8cW5bIllpamluZyBIZXhhZ3JhbSBTeW1ib2xzIl0odCl8fHFuWyJZaSBTeWxsYWJsZXMiXSh0KXx8cW5bIllpIFJhZGljYWxzIl0odCkpKSl9ZnVuY3Rpb24gR24odCl7cmV0dXJuICEoS24odCl8fGZ1bmN0aW9uKHQpe3JldHVybiAhIShxblsiTGF0aW4tMSBTdXBwbGVtZW50Il0odCkmJigxNjc9PT10fHwxNjk9PT10fHwxNzQ9PT10fHwxNzc9PT10fHwxODg9PT10fHwxODk9PT10fHwxOTA9PT10fHwyMTU9PT10fHwyNDc9PT10KXx8cW5bIkdlbmVyYWwgUHVuY3R1YXRpb24iXSh0KSYmKDgyMTQ9PT10fHw4MjI0PT09dHx8ODIyNT09PXR8fDgyNDA9PT10fHw4MjQxPT09dHx8ODI1MT09PXR8fDgyNTI9PT10fHw4MjU4PT09dHx8ODI2Mz09PXR8fDgyNjQ9PT10fHw4MjY1PT09dHx8ODI3Mz09PXQpfHxxblsiTGV0dGVybGlrZSBTeW1ib2xzIl0odCl8fHFuWyJOdW1iZXIgRm9ybXMiXSh0KXx8cW5bIk1pc2NlbGxhbmVvdXMgVGVjaG5pY2FsIl0odCkmJih0Pj04OTYwJiZ0PD04OTY3fHx0Pj04OTcyJiZ0PD04OTkxfHx0Pj04OTk2JiZ0PD05ZTN8fDkwMDM9PT10fHx0Pj05MDg1JiZ0PD05MTE0fHx0Pj05MTUwJiZ0PD05MTY1fHw5MTY3PT09dHx8dD49OTE2OSYmdDw9OTE3OXx8dD49OTE4NiYmdDw9OTIxNSl8fHFuWyJDb250cm9sIFBpY3R1cmVzIl0odCkmJjkyNTEhPT10fHxxblsiT3B0aWNhbCBDaGFyYWN0ZXIgUmVjb2duaXRpb24iXSh0KXx8cW5bIkVuY2xvc2VkIEFscGhhbnVtZXJpY3MiXSh0KXx8cW5bIkdlb21ldHJpYyBTaGFwZXMiXSh0KXx8cW5bIk1pc2NlbGxhbmVvdXMgU3ltYm9scyJdKHQpJiYhKHQ+PTk3NTQmJnQ8PTk3NTkpfHxxblsiTWlzY2VsbGFuZW91cyBTeW1ib2xzIGFuZCBBcnJvd3MiXSh0KSYmKHQ+PTExMDI2JiZ0PD0xMTA1NXx8dD49MTEwODgmJnQ8PTExMDk3fHx0Pj0xMTE5MiYmdDw9MTEyNDMpfHxxblsiQ0pLIFN5bWJvbHMgYW5kIFB1bmN0dWF0aW9uIl0odCl8fHFuLkthdGFrYW5hKHQpfHxxblsiUHJpdmF0ZSBVc2UgQXJlYSJdKHQpfHxxblsiQ0pLIENvbXBhdGliaWxpdHkgRm9ybXMiXSh0KXx8cW5bIlNtYWxsIEZvcm0gVmFyaWFudHMiXSh0KXx8cW5bIkhhbGZ3aWR0aCBhbmQgRnVsbHdpZHRoIEZvcm1zIl0odCl8fDg3MzQ9PT10fHw4NzU2PT09dHx8ODc1Nz09PXR8fHQ+PTk5ODQmJnQ8PTEwMDg3fHx0Pj0xMDEwMiYmdDw9MTAxMzF8fDY1NTMyPT09dHx8NjU1MzM9PT10KX0odCkpfWZ1bmN0aW9uIFpuKHQpe3JldHVybiB0Pj0xNDI0JiZ0PD0yMzAzfHxxblsiQXJhYmljIFByZXNlbnRhdGlvbiBGb3Jtcy1BIl0odCl8fHFuWyJBcmFiaWMgUHJlc2VudGF0aW9uIEZvcm1zLUIiXSh0KX1mdW5jdGlvbiBYbih0LGUpe3JldHVybiAhKCFlJiZabih0KXx8dD49MjMwNCYmdDw9MzU4M3x8dD49Mzg0MCYmdDw9NDI1NXx8cW4uS2htZXIodCkpfWZ1bmN0aW9uIEpuKHQpe2Zvcih2YXIgZT0wLHI9dDtlPHIubGVuZ3RoO2UrPTEpaWYoWm4ocltlXS5jaGFyQ29kZUF0KDApKSlyZXR1cm4gITA7cmV0dXJuICExfXZhciBIbj1udWxsLFluPSJ1bmF2YWlsYWJsZSIsJG49bnVsbCxXbj1mdW5jdGlvbih0KXt0JiYic3RyaW5nIj09dHlwZW9mIHQmJnQuaW5kZXhPZigiTmV0d29ya0Vycm9yIik+LTEmJihZbj0iZXJyb3IiKSxIbiYmSG4odCk7fTtmdW5jdGlvbiBRbigpe3RpLmZpcmUobmV3IEF0KCJwbHVnaW5TdGF0ZUNoYW5nZSIse3BsdWdpblN0YXR1czpZbixwbHVnaW5VUkw6JG59KSk7fXZhciB0aT1uZXcga3QsZWk9ZnVuY3Rpb24oKXtyZXR1cm4gWW59LHJpPWZ1bmN0aW9uKCl7aWYoImRlZmVycmVkIiE9PVlufHwhJG4pdGhyb3cgbmV3IEVycm9yKCJydGwtdGV4dC1wbHVnaW4gY2Fubm90IGJlIGRvd25sb2FkZWQgdW5sZXNzIGEgcGx1Z2luVVJMIGlzIHNwZWNpZmllZCIpO1luPSJsb2FkaW5nIixRbigpLCRuJiZndCh7dXJsOiRufSwoZnVuY3Rpb24odCl7dD9Xbih0KTooWW49ImxvYWRlZCIsUW4oKSk7fSkpO30sbmk9e2FwcGx5QXJhYmljU2hhcGluZzpudWxsLHByb2Nlc3NCaWRpcmVjdGlvbmFsVGV4dDpudWxsLHByb2Nlc3NTdHlsZWRCaWRpcmVjdGlvbmFsVGV4dDpudWxsLGlzTG9hZGVkOmZ1bmN0aW9uKCl7cmV0dXJuICJsb2FkZWQiPT09WW58fG51bGwhPW5pLmFwcGx5QXJhYmljU2hhcGluZ30saXNMb2FkaW5nOmZ1bmN0aW9uKCl7cmV0dXJuICJsb2FkaW5nIj09PVlufSxzZXRTdGF0ZTpmdW5jdGlvbih0KXtZbj10LnBsdWdpblN0YXR1cywkbj10LnBsdWdpblVSTDt9LGlzUGFyc2VkOmZ1bmN0aW9uKCl7cmV0dXJuIG51bGwhPW5pLmFwcGx5QXJhYmljU2hhcGluZyYmbnVsbCE9bmkucHJvY2Vzc0JpZGlyZWN0aW9uYWxUZXh0JiZudWxsIT1uaS5wcm9jZXNzU3R5bGVkQmlkaXJlY3Rpb25hbFRleHR9LGdldFBsdWdpblVSTDpmdW5jdGlvbigpe3JldHVybiAkbn19LGlpPWZ1bmN0aW9uKHQsZSl7dGhpcy56b29tPXQsZT8odGhpcy5ub3c9ZS5ub3csdGhpcy5mYWRlRHVyYXRpb249ZS5mYWRlRHVyYXRpb24sdGhpcy56b29tSGlzdG9yeT1lLnpvb21IaXN0b3J5LHRoaXMudHJhbnNpdGlvbj1lLnRyYW5zaXRpb24pOih0aGlzLm5vdz0wLHRoaXMuZmFkZUR1cmF0aW9uPTAsdGhpcy56b29tSGlzdG9yeT1uZXcgam4sdGhpcy50cmFuc2l0aW9uPXt9KTt9O2lpLnByb3RvdHlwZS5pc1N1cHBvcnRlZFNjcmlwdD1mdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24odCxlKXtmb3IodmFyIHI9MCxuPXQ7cjxuLmxlbmd0aDtyKz0xKWlmKCFYbihuW3JdLmNoYXJDb2RlQXQoMCksZSkpcmV0dXJuICExO3JldHVybiAhMH0odCxuaS5pc0xvYWRlZCgpKX0saWkucHJvdG90eXBlLmNyb3NzRmFkaW5nRmFjdG9yPWZ1bmN0aW9uKCl7cmV0dXJuIDA9PT10aGlzLmZhZGVEdXJhdGlvbj8xOk1hdGgubWluKCh0aGlzLm5vdy10aGlzLnpvb21IaXN0b3J5Lmxhc3RJbnRlZ2VyWm9vbVRpbWUpL3RoaXMuZmFkZUR1cmF0aW9uLDEpfSxpaS5wcm90b3R5cGUuZ2V0Q3Jvc3NmYWRlUGFyYW1ldGVycz1mdW5jdGlvbigpe3ZhciB0PXRoaXMuem9vbSxlPXQtTWF0aC5mbG9vcih0KSxyPXRoaXMuY3Jvc3NGYWRpbmdGYWN0b3IoKTtyZXR1cm4gdD50aGlzLnpvb21IaXN0b3J5Lmxhc3RJbnRlZ2VyWm9vbT97ZnJvbVNjYWxlOjIsdG9TY2FsZToxLHQ6ZSsoMS1lKSpyfTp7ZnJvbVNjYWxlOi41LHRvU2NhbGU6MSx0OjEtKDEtcikqZX19O3ZhciBhaT1mdW5jdGlvbih0LGUpe3RoaXMucHJvcGVydHk9dCx0aGlzLnZhbHVlPWUsdGhpcy5leHByZXNzaW9uPWZ1bmN0aW9uKHQsZSl7aWYoVnIodCkpcmV0dXJuIG5ldyBYcih0LGUpO2lmKHFyKHQpKXt2YXIgcj1acih0LGUpO2lmKCJlcnJvciI9PT1yLnJlc3VsdCl0aHJvdyBuZXcgRXJyb3Ioci52YWx1ZS5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiB0LmtleSsiOiAiK3QubWVzc2FnZX0pKS5qb2luKCIsICIpKTtyZXR1cm4gci52YWx1ZX12YXIgbj10O3JldHVybiAic3RyaW5nIj09dHlwZW9mIHQmJiJjb2xvciI9PT1lLnR5cGUmJihuPSR0LnBhcnNlKHQpKSx7a2luZDoiY29uc3RhbnQiLGV2YWx1YXRlOmZ1bmN0aW9uKCl7cmV0dXJuIG59fX0odm9pZCAwPT09ZT90LnNwZWNpZmljYXRpb24uZGVmYXVsdDplLHQuc3BlY2lmaWNhdGlvbik7fTthaS5wcm90b3R5cGUuaXNEYXRhRHJpdmVuPWZ1bmN0aW9uKCl7cmV0dXJuICJzb3VyY2UiPT09dGhpcy5leHByZXNzaW9uLmtpbmR8fCJjb21wb3NpdGUiPT09dGhpcy5leHByZXNzaW9uLmtpbmR9LGFpLnByb3RvdHlwZS5wb3NzaWJseUV2YWx1YXRlPWZ1bmN0aW9uKHQsZSxyKXtyZXR1cm4gdGhpcy5wcm9wZXJ0eS5wb3NzaWJseUV2YWx1YXRlKHRoaXMsdCxlLHIpfTt2YXIgb2k9ZnVuY3Rpb24odCl7dGhpcy5wcm9wZXJ0eT10LHRoaXMudmFsdWU9bmV3IGFpKHQsdm9pZCAwKTt9O29pLnByb3RvdHlwZS50cmFuc2l0aW9uZWQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gbmV3IHVpKHRoaXMucHJvcGVydHksdGhpcy52YWx1ZSxlLHAoe30sdC50cmFuc2l0aW9uLHRoaXMudHJhbnNpdGlvbiksdC5ub3cpfSxvaS5wcm90b3R5cGUudW50cmFuc2l0aW9uZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHVpKHRoaXMucHJvcGVydHksdGhpcy52YWx1ZSxudWxsLHt9LDApfTt2YXIgc2k9ZnVuY3Rpb24odCl7dGhpcy5fcHJvcGVydGllcz10LHRoaXMuX3ZhbHVlcz1PYmplY3QuY3JlYXRlKHQuZGVmYXVsdFRyYW5zaXRpb25hYmxlUHJvcGVydHlWYWx1ZXMpO307c2kucHJvdG90eXBlLmdldFZhbHVlPWZ1bmN0aW9uKHQpe3JldHVybiB4KHRoaXMuX3ZhbHVlc1t0XS52YWx1ZS52YWx1ZSl9LHNpLnByb3RvdHlwZS5zZXRWYWx1ZT1mdW5jdGlvbih0LGUpe3RoaXMuX3ZhbHVlcy5oYXNPd25Qcm9wZXJ0eSh0KXx8KHRoaXMuX3ZhbHVlc1t0XT1uZXcgb2kodGhpcy5fdmFsdWVzW3RdLnByb3BlcnR5KSksdGhpcy5fdmFsdWVzW3RdLnZhbHVlPW5ldyBhaSh0aGlzLl92YWx1ZXNbdF0ucHJvcGVydHksbnVsbD09PWU/dm9pZCAwOngoZSkpO30sc2kucHJvdG90eXBlLmdldFRyYW5zaXRpb249ZnVuY3Rpb24odCl7cmV0dXJuIHgodGhpcy5fdmFsdWVzW3RdLnRyYW5zaXRpb24pfSxzaS5wcm90b3R5cGUuc2V0VHJhbnNpdGlvbj1mdW5jdGlvbih0LGUpe3RoaXMuX3ZhbHVlcy5oYXNPd25Qcm9wZXJ0eSh0KXx8KHRoaXMuX3ZhbHVlc1t0XT1uZXcgb2kodGhpcy5fdmFsdWVzW3RdLnByb3BlcnR5KSksdGhpcy5fdmFsdWVzW3RdLnRyYW5zaXRpb249eChlKXx8dm9pZCAwO30sc2kucHJvdG90eXBlLnNlcmlhbGl6ZT1mdW5jdGlvbigpe2Zvcih2YXIgdD17fSxlPTAscj1PYmplY3Qua2V5cyh0aGlzLl92YWx1ZXMpO2U8ci5sZW5ndGg7ZSs9MSl7dmFyIG49cltlXSxpPXRoaXMuZ2V0VmFsdWUobik7dm9pZCAwIT09aSYmKHRbbl09aSk7dmFyIGE9dGhpcy5nZXRUcmFuc2l0aW9uKG4pO3ZvaWQgMCE9PWEmJih0W24rIi10cmFuc2l0aW9uIl09YSk7fXJldHVybiB0fSxzaS5wcm90b3R5cGUudHJhbnNpdGlvbmVkPWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciByPW5ldyBsaSh0aGlzLl9wcm9wZXJ0aWVzKSxuPTAsaT1PYmplY3Qua2V5cyh0aGlzLl92YWx1ZXMpO248aS5sZW5ndGg7bis9MSl7dmFyIGE9aVtuXTtyLl92YWx1ZXNbYV09dGhpcy5fdmFsdWVzW2FdLnRyYW5zaXRpb25lZCh0LGUuX3ZhbHVlc1thXSk7fXJldHVybiByfSxzaS5wcm90b3R5cGUudW50cmFuc2l0aW9uZWQ9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9bmV3IGxpKHRoaXMuX3Byb3BlcnRpZXMpLGU9MCxyPU9iamVjdC5rZXlzKHRoaXMuX3ZhbHVlcyk7ZTxyLmxlbmd0aDtlKz0xKXt2YXIgbj1yW2VdO3QuX3ZhbHVlc1tuXT10aGlzLl92YWx1ZXNbbl0udW50cmFuc2l0aW9uZWQoKTt9cmV0dXJuIHR9O3ZhciB1aT1mdW5jdGlvbih0LGUscixuLGkpe3RoaXMucHJvcGVydHk9dCx0aGlzLnZhbHVlPWUsdGhpcy5iZWdpbj1pK24uZGVsYXl8fDAsdGhpcy5lbmQ9dGhpcy5iZWdpbituLmR1cmF0aW9ufHwwLHQuc3BlY2lmaWNhdGlvbi50cmFuc2l0aW9uJiYobi5kZWxheXx8bi5kdXJhdGlvbikmJih0aGlzLnByaW9yPXIpO307dWkucHJvdG90eXBlLnBvc3NpYmx5RXZhbHVhdGU9ZnVuY3Rpb24odCxlLHIpe3ZhciBuPXQubm93fHwwLGk9dGhpcy52YWx1ZS5wb3NzaWJseUV2YWx1YXRlKHQsZSxyKSxhPXRoaXMucHJpb3I7aWYoYSl7aWYobj50aGlzLmVuZClyZXR1cm4gdGhpcy5wcmlvcj1udWxsLGk7aWYodGhpcy52YWx1ZS5pc0RhdGFEcml2ZW4oKSlyZXR1cm4gdGhpcy5wcmlvcj1udWxsLGk7aWYobjx0aGlzLmJlZ2luKXJldHVybiBhLnBvc3NpYmx5RXZhbHVhdGUodCxlLHIpO3ZhciBvPShuLXRoaXMuYmVnaW4pLyh0aGlzLmVuZC10aGlzLmJlZ2luKTtyZXR1cm4gdGhpcy5wcm9wZXJ0eS5pbnRlcnBvbGF0ZShhLnBvc3NpYmx5RXZhbHVhdGUodCxlLHIpLGksZnVuY3Rpb24odCl7aWYodDw9MClyZXR1cm4gMDtpZih0Pj0xKXJldHVybiAxO3ZhciBlPXQqdCxyPWUqdDtyZXR1cm4gNCoodDwuNT9yOjMqKHQtZSkrci0uNzUpfShvKSl9cmV0dXJuIGl9O3ZhciBsaT1mdW5jdGlvbih0KXt0aGlzLl9wcm9wZXJ0aWVzPXQsdGhpcy5fdmFsdWVzPU9iamVjdC5jcmVhdGUodC5kZWZhdWx0VHJhbnNpdGlvbmluZ1Byb3BlcnR5VmFsdWVzKTt9O2xpLnByb3RvdHlwZS5wb3NzaWJseUV2YWx1YXRlPWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciByPW5ldyBoaSh0aGlzLl9wcm9wZXJ0aWVzKSxuPTAsaT1PYmplY3Qua2V5cyh0aGlzLl92YWx1ZXMpO248aS5sZW5ndGg7bis9MSl7dmFyIGE9aVtuXTtyLl92YWx1ZXNbYV09dGhpcy5fdmFsdWVzW2FdLnBvc3NpYmx5RXZhbHVhdGUodCxlKTt9cmV0dXJuIHJ9LGxpLnByb3RvdHlwZS5oYXNUcmFuc2l0aW9uPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PTAsZT1PYmplY3Qua2V5cyh0aGlzLl92YWx1ZXMpO3Q8ZS5sZW5ndGg7dCs9MSlpZih0aGlzLl92YWx1ZXNbZVt0XV0ucHJpb3IpcmV0dXJuICEwO3JldHVybiAhMX07dmFyIHBpPWZ1bmN0aW9uKHQpe3RoaXMuX3Byb3BlcnRpZXM9dCx0aGlzLl92YWx1ZXM9T2JqZWN0LmNyZWF0ZSh0LmRlZmF1bHRQcm9wZXJ0eVZhbHVlcyk7fTtwaS5wcm90b3R5cGUuZ2V0VmFsdWU9ZnVuY3Rpb24odCl7cmV0dXJuIHgodGhpcy5fdmFsdWVzW3RdLnZhbHVlKX0scGkucHJvdG90eXBlLnNldFZhbHVlPWZ1bmN0aW9uKHQsZSl7dGhpcy5fdmFsdWVzW3RdPW5ldyBhaSh0aGlzLl92YWx1ZXNbdF0ucHJvcGVydHksbnVsbD09PWU/dm9pZCAwOngoZSkpO30scGkucHJvdG90eXBlLnNlcmlhbGl6ZT1mdW5jdGlvbigpe2Zvcih2YXIgdD17fSxlPTAscj1PYmplY3Qua2V5cyh0aGlzLl92YWx1ZXMpO2U8ci5sZW5ndGg7ZSs9MSl7dmFyIG49cltlXSxpPXRoaXMuZ2V0VmFsdWUobik7dm9pZCAwIT09aSYmKHRbbl09aSk7fXJldHVybiB0fSxwaS5wcm90b3R5cGUucG9zc2libHlFdmFsdWF0ZT1mdW5jdGlvbih0LGUpe2Zvcih2YXIgcj1uZXcgaGkodGhpcy5fcHJvcGVydGllcyksbj0wLGk9T2JqZWN0LmtleXModGhpcy5fdmFsdWVzKTtuPGkubGVuZ3RoO24rPTEpe3ZhciBhPWlbbl07ci5fdmFsdWVzW2FdPXRoaXMuX3ZhbHVlc1thXS5wb3NzaWJseUV2YWx1YXRlKHQsZSk7fXJldHVybiByfTt2YXIgY2k9ZnVuY3Rpb24odCxlLHIpe3RoaXMucHJvcGVydHk9dCx0aGlzLnZhbHVlPWUsdGhpcy5wYXJhbWV0ZXJzPXI7fTtjaS5wcm90b3R5cGUuaXNDb25zdGFudD1mdW5jdGlvbigpe3JldHVybiAiY29uc3RhbnQiPT09dGhpcy52YWx1ZS5raW5kfSxjaS5wcm90b3R5cGUuY29uc3RhbnRPcj1mdW5jdGlvbih0KXtyZXR1cm4gImNvbnN0YW50Ij09PXRoaXMudmFsdWUua2luZD90aGlzLnZhbHVlLnZhbHVlOnR9LGNpLnByb3RvdHlwZS5ldmFsdWF0ZT1mdW5jdGlvbih0LGUscixuKXtyZXR1cm4gdGhpcy5wcm9wZXJ0eS5ldmFsdWF0ZSh0aGlzLnZhbHVlLHRoaXMucGFyYW1ldGVycyx0LGUscixuKX07dmFyIGhpPWZ1bmN0aW9uKHQpe3RoaXMuX3Byb3BlcnRpZXM9dCx0aGlzLl92YWx1ZXM9T2JqZWN0LmNyZWF0ZSh0LmRlZmF1bHRQb3NzaWJseUV2YWx1YXRlZFZhbHVlcyk7fTtoaS5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl92YWx1ZXNbdF19O3ZhciBmaT1mdW5jdGlvbih0KXt0aGlzLnNwZWNpZmljYXRpb249dDt9O2ZpLnByb3RvdHlwZS5wb3NzaWJseUV2YWx1YXRlPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuZXhwcmVzc2lvbi5ldmFsdWF0ZShlKX0sZmkucHJvdG90eXBlLmludGVycG9sYXRlPWZ1bmN0aW9uKHQsZSxyKXt2YXIgbj1xZVt0aGlzLnNwZWNpZmljYXRpb24udHlwZV07cmV0dXJuIG4/bih0LGUscik6dH07dmFyIHlpPWZ1bmN0aW9uKHQsZSl7dGhpcy5zcGVjaWZpY2F0aW9uPXQsdGhpcy5vdmVycmlkZXM9ZTt9O3lpLnByb3RvdHlwZS5wb3NzaWJseUV2YWx1YXRlPWZ1bmN0aW9uKHQsZSxyLG4pe3JldHVybiBuZXcgY2kodGhpcywiY29uc3RhbnQiPT09dC5leHByZXNzaW9uLmtpbmR8fCJjYW1lcmEiPT09dC5leHByZXNzaW9uLmtpbmQ/e2tpbmQ6ImNvbnN0YW50Iix2YWx1ZTp0LmV4cHJlc3Npb24uZXZhbHVhdGUoZSxudWxsLHt9LHIsbil9OnQuZXhwcmVzc2lvbixlKX0seWkucHJvdG90eXBlLmludGVycG9sYXRlPWZ1bmN0aW9uKHQsZSxyKXtpZigiY29uc3RhbnQiIT09dC52YWx1ZS5raW5kfHwiY29uc3RhbnQiIT09ZS52YWx1ZS5raW5kKXJldHVybiB0O2lmKHZvaWQgMD09PXQudmFsdWUudmFsdWV8fHZvaWQgMD09PWUudmFsdWUudmFsdWUpcmV0dXJuIG5ldyBjaSh0aGlzLHtraW5kOiJjb25zdGFudCIsdmFsdWU6dm9pZCAwfSx0LnBhcmFtZXRlcnMpO3ZhciBuPXFlW3RoaXMuc3BlY2lmaWNhdGlvbi50eXBlXTtyZXR1cm4gbj9uZXcgY2kodGhpcyx7a2luZDoiY29uc3RhbnQiLHZhbHVlOm4odC52YWx1ZS52YWx1ZSxlLnZhbHVlLnZhbHVlLHIpfSx0LnBhcmFtZXRlcnMpOnR9LHlpLnByb3RvdHlwZS5ldmFsdWF0ZT1mdW5jdGlvbih0LGUscixuLGksYSl7cmV0dXJuICJjb25zdGFudCI9PT10LmtpbmQ/dC52YWx1ZTp0LmV2YWx1YXRlKGUscixuLGksYSl9O3ZhciBkaT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7fXJldHVybiB0JiYoZS5fX3Byb3RvX189dCksKGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUpKS5jb25zdHJ1Y3Rvcj1lLGUucHJvdG90eXBlLnBvc3NpYmx5RXZhbHVhdGU9ZnVuY3Rpb24odCxlLHIsbil7aWYodm9pZCAwPT09dC52YWx1ZSlyZXR1cm4gbmV3IGNpKHRoaXMse2tpbmQ6ImNvbnN0YW50Iix2YWx1ZTp2b2lkIDB9LGUpO2lmKCJjb25zdGFudCI9PT10LmV4cHJlc3Npb24ua2luZCl7dmFyIGk9dC5leHByZXNzaW9uLmV2YWx1YXRlKGUsbnVsbCx7fSxyLG4pLGE9InJlc29sdmVkSW1hZ2UiPT09dC5wcm9wZXJ0eS5zcGVjaWZpY2F0aW9uLnR5cGUmJiJzdHJpbmciIT10eXBlb2YgaT9pLm5hbWU6aSxvPXRoaXMuX2NhbGN1bGF0ZShhLGEsYSxlKTtyZXR1cm4gbmV3IGNpKHRoaXMse2tpbmQ6ImNvbnN0YW50Iix2YWx1ZTpvfSxlKX1pZigiY2FtZXJhIj09PXQuZXhwcmVzc2lvbi5raW5kKXt2YXIgcz10aGlzLl9jYWxjdWxhdGUodC5leHByZXNzaW9uLmV2YWx1YXRlKHt6b29tOmUuem9vbS0xfSksdC5leHByZXNzaW9uLmV2YWx1YXRlKHt6b29tOmUuem9vbX0pLHQuZXhwcmVzc2lvbi5ldmFsdWF0ZSh7em9vbTplLnpvb20rMX0pLGUpO3JldHVybiBuZXcgY2kodGhpcyx7a2luZDoiY29uc3RhbnQiLHZhbHVlOnN9LGUpfXJldHVybiBuZXcgY2kodGhpcyx0LmV4cHJlc3Npb24sZSl9LGUucHJvdG90eXBlLmV2YWx1YXRlPWZ1bmN0aW9uKHQsZSxyLG4saSxhKXtpZigic291cmNlIj09PXQua2luZCl7dmFyIG89dC5ldmFsdWF0ZShlLHIsbixpLGEpO3JldHVybiB0aGlzLl9jYWxjdWxhdGUobyxvLG8sZSl9cmV0dXJuICJjb21wb3NpdGUiPT09dC5raW5kP3RoaXMuX2NhbGN1bGF0ZSh0LmV2YWx1YXRlKHt6b29tOk1hdGguZmxvb3IoZS56b29tKS0xfSxyLG4pLHQuZXZhbHVhdGUoe3pvb206TWF0aC5mbG9vcihlLnpvb20pfSxyLG4pLHQuZXZhbHVhdGUoe3pvb206TWF0aC5mbG9vcihlLnpvb20pKzF9LHIsbiksZSk6dC52YWx1ZX0sZS5wcm90b3R5cGUuX2NhbGN1bGF0ZT1mdW5jdGlvbih0LGUscixuKXtyZXR1cm4gbi56b29tPm4uem9vbUhpc3RvcnkubGFzdEludGVnZXJab29tP3tmcm9tOnQsdG86ZX06e2Zyb206cix0bzplfX0sZS5wcm90b3R5cGUuaW50ZXJwb2xhdGU9ZnVuY3Rpb24odCl7cmV0dXJuIHR9LGV9KHlpKSxtaT1mdW5jdGlvbih0KXt0aGlzLnNwZWNpZmljYXRpb249dDt9O21pLnByb3RvdHlwZS5wb3NzaWJseUV2YWx1YXRlPWZ1bmN0aW9uKHQsZSxyLG4pe2lmKHZvaWQgMCE9PXQudmFsdWUpe2lmKCJjb25zdGFudCI9PT10LmV4cHJlc3Npb24ua2luZCl7dmFyIGk9dC5leHByZXNzaW9uLmV2YWx1YXRlKGUsbnVsbCx7fSxyLG4pO3JldHVybiB0aGlzLl9jYWxjdWxhdGUoaSxpLGksZSl9cmV0dXJuIHRoaXMuX2NhbGN1bGF0ZSh0LmV4cHJlc3Npb24uZXZhbHVhdGUobmV3IGlpKE1hdGguZmxvb3IoZS56b29tLTEpLGUpKSx0LmV4cHJlc3Npb24uZXZhbHVhdGUobmV3IGlpKE1hdGguZmxvb3IoZS56b29tKSxlKSksdC5leHByZXNzaW9uLmV2YWx1YXRlKG5ldyBpaShNYXRoLmZsb29yKGUuem9vbSsxKSxlKSksZSl9fSxtaS5wcm90b3R5cGUuX2NhbGN1bGF0ZT1mdW5jdGlvbih0LGUscixuKXtyZXR1cm4gbi56b29tPm4uem9vbUhpc3RvcnkubGFzdEludGVnZXJab29tP3tmcm9tOnQsdG86ZX06e2Zyb206cix0bzplfX0sbWkucHJvdG90eXBlLmludGVycG9sYXRlPWZ1bmN0aW9uKHQpe3JldHVybiB0fTt2YXIgdmk9ZnVuY3Rpb24odCl7dGhpcy5zcGVjaWZpY2F0aW9uPXQ7fTt2aS5wcm90b3R5cGUucG9zc2libHlFdmFsdWF0ZT1mdW5jdGlvbih0LGUscixuKXtyZXR1cm4gISF0LmV4cHJlc3Npb24uZXZhbHVhdGUoZSxudWxsLHt9LHIsbil9LHZpLnByb3RvdHlwZS5pbnRlcnBvbGF0ZT1mdW5jdGlvbigpe3JldHVybiAhMX07dmFyIGdpPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZSBpbiB0aGlzLnByb3BlcnRpZXM9dCx0aGlzLmRlZmF1bHRQcm9wZXJ0eVZhbHVlcz17fSx0aGlzLmRlZmF1bHRUcmFuc2l0aW9uYWJsZVByb3BlcnR5VmFsdWVzPXt9LHRoaXMuZGVmYXVsdFRyYW5zaXRpb25pbmdQcm9wZXJ0eVZhbHVlcz17fSx0aGlzLmRlZmF1bHRQb3NzaWJseUV2YWx1YXRlZFZhbHVlcz17fSx0aGlzLm92ZXJyaWRhYmxlUHJvcGVydGllcz1bXSx0KXt2YXIgcj10W2VdO3Iuc3BlY2lmaWNhdGlvbi5vdmVycmlkYWJsZSYmdGhpcy5vdmVycmlkYWJsZVByb3BlcnRpZXMucHVzaChlKTt2YXIgbj10aGlzLmRlZmF1bHRQcm9wZXJ0eVZhbHVlc1tlXT1uZXcgYWkocix2b2lkIDApLGk9dGhpcy5kZWZhdWx0VHJhbnNpdGlvbmFibGVQcm9wZXJ0eVZhbHVlc1tlXT1uZXcgb2kocik7dGhpcy5kZWZhdWx0VHJhbnNpdGlvbmluZ1Byb3BlcnR5VmFsdWVzW2VdPWkudW50cmFuc2l0aW9uZWQoKSx0aGlzLmRlZmF1bHRQb3NzaWJseUV2YWx1YXRlZFZhbHVlc1tlXT1uLnBvc3NpYmx5RXZhbHVhdGUoe30pO319O0ZuKCJEYXRhRHJpdmVuUHJvcGVydHkiLHlpKSxGbigiRGF0YUNvbnN0YW50UHJvcGVydHkiLGZpKSxGbigiQ3Jvc3NGYWRlZERhdGFEcml2ZW5Qcm9wZXJ0eSIsZGkpLEZuKCJDcm9zc0ZhZGVkUHJvcGVydHkiLG1pKSxGbigiQ29sb3JSYW1wUHJvcGVydHkiLHZpKTt2YXIgeGk9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlLHIpe2lmKHQuY2FsbCh0aGlzKSx0aGlzLmlkPWUuaWQsdGhpcy50eXBlPWUudHlwZSx0aGlzLl9mZWF0dXJlRmlsdGVyPXtmaWx0ZXI6ZnVuY3Rpb24oKXtyZXR1cm4gITB9LG5lZWRHZW9tZXRyeTohMX0sImN1c3RvbSIhPT1lLnR5cGUmJih0aGlzLm1ldGFkYXRhPShlPWUpLm1ldGFkYXRhLHRoaXMubWluem9vbT1lLm1pbnpvb20sdGhpcy5tYXh6b29tPWUubWF4em9vbSwiYmFja2dyb3VuZCIhPT1lLnR5cGUmJih0aGlzLnNvdXJjZT1lLnNvdXJjZSx0aGlzLnNvdXJjZUxheWVyPWVbInNvdXJjZS1sYXllciJdLHRoaXMuZmlsdGVyPWUuZmlsdGVyKSxyLmxheW91dCYmKHRoaXMuX3VuZXZhbHVhdGVkTGF5b3V0PW5ldyBwaShyLmxheW91dCkpLHIucGFpbnQpKXtmb3IodmFyIG4gaW4gdGhpcy5fdHJhbnNpdGlvbmFibGVQYWludD1uZXcgc2koci5wYWludCksZS5wYWludCl0aGlzLnNldFBhaW50UHJvcGVydHkobixlLnBhaW50W25dLHt2YWxpZGF0ZTohMX0pO2Zvcih2YXIgaSBpbiBlLmxheW91dCl0aGlzLnNldExheW91dFByb3BlcnR5KGksZS5sYXlvdXRbaV0se3ZhbGlkYXRlOiExfSk7dGhpcy5fdHJhbnNpdGlvbmluZ1BhaW50PXRoaXMuX3RyYW5zaXRpb25hYmxlUGFpbnQudW50cmFuc2l0aW9uZWQoKTt9fXJldHVybiB0JiYoZS5fX3Byb3RvX189dCksKGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUpKS5jb25zdHJ1Y3Rvcj1lLGUucHJvdG90eXBlLmdldENyb3NzZmFkZVBhcmFtZXRlcnM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY3Jvc3NmYWRlUGFyYW1ldGVyc30sZS5wcm90b3R5cGUuZ2V0TGF5b3V0UHJvcGVydHk9ZnVuY3Rpb24odCl7cmV0dXJuICJ2aXNpYmlsaXR5Ij09PXQ/dGhpcy52aXNpYmlsaXR5OnRoaXMuX3VuZXZhbHVhdGVkTGF5b3V0LmdldFZhbHVlKHQpfSxlLnByb3RvdHlwZS5zZXRMYXlvdXRQcm9wZXJ0eT1mdW5jdGlvbih0LGUscil7dm9pZCAwPT09ciYmKHI9e30pLG51bGwhPWUmJnRoaXMuX3ZhbGlkYXRlKENuLCJsYXllcnMuIit0aGlzLmlkKyIubGF5b3V0LiIrdCx0LGUscil8fCgidmlzaWJpbGl0eSIhPT10P3RoaXMuX3VuZXZhbHVhdGVkTGF5b3V0LnNldFZhbHVlKHQsZSk6dGhpcy52aXNpYmlsaXR5PWUpO30sZS5wcm90b3R5cGUuZ2V0UGFpbnRQcm9wZXJ0eT1mdW5jdGlvbih0KXtyZXR1cm4gbSh0LCItdHJhbnNpdGlvbiIpP3RoaXMuX3RyYW5zaXRpb25hYmxlUGFpbnQuZ2V0VHJhbnNpdGlvbih0LnNsaWNlKDAsLSItdHJhbnNpdGlvbiIubGVuZ3RoKSk6dGhpcy5fdHJhbnNpdGlvbmFibGVQYWludC5nZXRWYWx1ZSh0KX0sZS5wcm90b3R5cGUuc2V0UGFpbnRQcm9wZXJ0eT1mdW5jdGlvbih0LGUscil7aWYodm9pZCAwPT09ciYmKHI9e30pLG51bGwhPWUmJnRoaXMuX3ZhbGlkYXRlKHpuLCJsYXllcnMuIit0aGlzLmlkKyIucGFpbnQuIit0LHQsZSxyKSlyZXR1cm4gITE7aWYobSh0LCItdHJhbnNpdGlvbiIpKXJldHVybiB0aGlzLl90cmFuc2l0aW9uYWJsZVBhaW50LnNldFRyYW5zaXRpb24odC5zbGljZSgwLC0iLXRyYW5zaXRpb24iLmxlbmd0aCksZXx8dm9pZCAwKSwhMTt2YXIgbj10aGlzLl90cmFuc2l0aW9uYWJsZVBhaW50Ll92YWx1ZXNbdF0saT0iY3Jvc3MtZmFkZWQtZGF0YS1kcml2ZW4iPT09bi5wcm9wZXJ0eS5zcGVjaWZpY2F0aW9uWyJwcm9wZXJ0eS10eXBlIl0sYT1uLnZhbHVlLmlzRGF0YURyaXZlbigpLG89bi52YWx1ZTt0aGlzLl90cmFuc2l0aW9uYWJsZVBhaW50LnNldFZhbHVlKHQsZSksdGhpcy5faGFuZGxlU3BlY2lhbFBhaW50UHJvcGVydHlVcGRhdGUodCk7dmFyIHM9dGhpcy5fdHJhbnNpdGlvbmFibGVQYWludC5fdmFsdWVzW3RdLnZhbHVlO3JldHVybiBzLmlzRGF0YURyaXZlbigpfHxhfHxpfHx0aGlzLl9oYW5kbGVPdmVycmlkYWJsZVBhaW50UHJvcGVydHlVcGRhdGUodCxvLHMpfSxlLnByb3RvdHlwZS5faGFuZGxlU3BlY2lhbFBhaW50UHJvcGVydHlVcGRhdGU9ZnVuY3Rpb24odCl7fSxlLnByb3RvdHlwZS5faGFuZGxlT3ZlcnJpZGFibGVQYWludFByb3BlcnR5VXBkYXRlPWZ1bmN0aW9uKHQsZSxyKXtyZXR1cm4gITF9LGUucHJvdG90eXBlLmlzSGlkZGVuPWZ1bmN0aW9uKHQpe3JldHVybiAhISh0aGlzLm1pbnpvb20mJnQ8dGhpcy5taW56b29tKXx8ISEodGhpcy5tYXh6b29tJiZ0Pj10aGlzLm1heHpvb20pfHwibm9uZSI9PT10aGlzLnZpc2liaWxpdHl9LGUucHJvdG90eXBlLnVwZGF0ZVRyYW5zaXRpb25zPWZ1bmN0aW9uKHQpe3RoaXMuX3RyYW5zaXRpb25pbmdQYWludD10aGlzLl90cmFuc2l0aW9uYWJsZVBhaW50LnRyYW5zaXRpb25lZCh0LHRoaXMuX3RyYW5zaXRpb25pbmdQYWludCk7fSxlLnByb3RvdHlwZS5oYXNUcmFuc2l0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3RyYW5zaXRpb25pbmdQYWludC5oYXNUcmFuc2l0aW9uKCl9LGUucHJvdG90eXBlLnJlY2FsY3VsYXRlPWZ1bmN0aW9uKHQsZSl7dC5nZXRDcm9zc2ZhZGVQYXJhbWV0ZXJzJiYodGhpcy5fY3Jvc3NmYWRlUGFyYW1ldGVycz10LmdldENyb3NzZmFkZVBhcmFtZXRlcnMoKSksdGhpcy5fdW5ldmFsdWF0ZWRMYXlvdXQmJih0aGlzLmxheW91dD10aGlzLl91bmV2YWx1YXRlZExheW91dC5wb3NzaWJseUV2YWx1YXRlKHQsZSkpLHRoaXMucGFpbnQ9dGhpcy5fdHJhbnNpdGlvbmluZ1BhaW50LnBvc3NpYmx5RXZhbHVhdGUodCxlKTt9LGUucHJvdG90eXBlLnNlcmlhbGl6ZT1mdW5jdGlvbigpe3ZhciB0PXtpZDp0aGlzLmlkLHR5cGU6dGhpcy50eXBlLHNvdXJjZTp0aGlzLnNvdXJjZSwic291cmNlLWxheWVyIjp0aGlzLnNvdXJjZUxheWVyLG1ldGFkYXRhOnRoaXMubWV0YWRhdGEsbWluem9vbTp0aGlzLm1pbnpvb20sbWF4em9vbTp0aGlzLm1heHpvb20sZmlsdGVyOnRoaXMuZmlsdGVyLGxheW91dDp0aGlzLl91bmV2YWx1YXRlZExheW91dCYmdGhpcy5fdW5ldmFsdWF0ZWRMYXlvdXQuc2VyaWFsaXplKCkscGFpbnQ6dGhpcy5fdHJhbnNpdGlvbmFibGVQYWludCYmdGhpcy5fdHJhbnNpdGlvbmFibGVQYWludC5zZXJpYWxpemUoKX07cmV0dXJuIHRoaXMudmlzaWJpbGl0eSYmKHQubGF5b3V0PXQubGF5b3V0fHx7fSx0LmxheW91dC52aXNpYmlsaXR5PXRoaXMudmlzaWJpbGl0eSksZyh0LChmdW5jdGlvbih0LGUpe3JldHVybiAhKHZvaWQgMD09PXR8fCJsYXlvdXQiPT09ZSYmIU9iamVjdC5rZXlzKHQpLmxlbmd0aHx8InBhaW50Ij09PWUmJiFPYmplY3Qua2V5cyh0KS5sZW5ndGgpfSkpfSxlLnByb3RvdHlwZS5fdmFsaWRhdGU9ZnVuY3Rpb24odCxlLHIsbixpKXtyZXR1cm4gdm9pZCAwPT09aSYmKGk9e30pLCghaXx8ITEhPT1pLnZhbGlkYXRlKSYmTW4odGhpcyx0LmNhbGwoa24se2tleTplLGxheWVyVHlwZTp0aGlzLnR5cGUsb2JqZWN0S2V5OnIsdmFsdWU6bixzdHlsZVNwZWM6SXQsc3R5bGU6e2dseXBoczohMCxzcHJpdGU6ITB9fSkpfSxlLnByb3RvdHlwZS5pczNEPWZ1bmN0aW9uKCl7cmV0dXJuICExfSxlLnByb3RvdHlwZS5pc1RpbGVDbGlwcGVkPWZ1bmN0aW9uKCl7cmV0dXJuICExfSxlLnByb3RvdHlwZS5oYXNPZmZzY3JlZW5QYXNzPWZ1bmN0aW9uKCl7cmV0dXJuICExfSxlLnByb3RvdHlwZS5yZXNpemU9ZnVuY3Rpb24oKXt9LGUucHJvdG90eXBlLmlzU3RhdGVEZXBlbmRlbnQ9ZnVuY3Rpb24oKXtmb3IodmFyIHQgaW4gdGhpcy5wYWludC5fdmFsdWVzKXt2YXIgZT10aGlzLnBhaW50LmdldCh0KTtpZihlIGluc3RhbmNlb2YgY2kmJkVyKGUucHJvcGVydHkuc3BlY2lmaWNhdGlvbikmJigic291cmNlIj09PWUudmFsdWUua2luZHx8ImNvbXBvc2l0ZSI9PT1lLnZhbHVlLmtpbmQpJiZlLnZhbHVlLmlzU3RhdGVEZXBlbmRlbnQpcmV0dXJuICEwfXJldHVybiAhMX0sZX0oa3QpLGJpPXtJbnQ4OkludDhBcnJheSxVaW50ODpVaW50OEFycmF5LEludDE2OkludDE2QXJyYXksVWludDE2OlVpbnQxNkFycmF5LEludDMyOkludDMyQXJyYXksVWludDMyOlVpbnQzMkFycmF5LEZsb2F0MzI6RmxvYXQzMkFycmF5fSx3aT1mdW5jdGlvbih0LGUpe3RoaXMuX3N0cnVjdEFycmF5PXQsdGhpcy5fcG9zMT1lKnRoaXMuc2l6ZSx0aGlzLl9wb3MyPXRoaXMuX3BvczEvMix0aGlzLl9wb3M0PXRoaXMuX3BvczEvNCx0aGlzLl9wb3M4PXRoaXMuX3BvczEvODt9LF9pPWZ1bmN0aW9uKCl7dGhpcy5pc1RyYW5zZmVycmVkPSExLHRoaXMuY2FwYWNpdHk9LTEsdGhpcy5yZXNpemUoMCk7fTtmdW5jdGlvbiBBaSh0LGUpe3ZvaWQgMD09PWUmJihlPTEpO3ZhciByPTAsbj0wO3JldHVybiB7bWVtYmVyczp0Lm1hcCgoZnVuY3Rpb24odCl7dmFyIGk9YmlbdC50eXBlXS5CWVRFU19QRVJfRUxFTUVOVCxhPXI9U2kocixNYXRoLm1heChlLGkpKSxvPXQuY29tcG9uZW50c3x8MTtyZXR1cm4gbj1NYXRoLm1heChuLGkpLHIrPWkqbyx7bmFtZTp0Lm5hbWUsdHlwZTp0LnR5cGUsY29tcG9uZW50czpvLG9mZnNldDphfX0pKSxzaXplOlNpKHIsTWF0aC5tYXgobixlKSksYWxpZ25tZW50OmV9fWZ1bmN0aW9uIFNpKHQsZSl7cmV0dXJuIE1hdGguY2VpbCh0L2UpKmV9X2kuc2VyaWFsaXplPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuX3RyaW0oKSxlJiYodC5pc1RyYW5zZmVycmVkPSEwLGUucHVzaCh0LmFycmF5QnVmZmVyKSkse2xlbmd0aDp0Lmxlbmd0aCxhcnJheUJ1ZmZlcjp0LmFycmF5QnVmZmVyfX0sX2kuZGVzZXJpYWxpemU9ZnVuY3Rpb24odCl7dmFyIGU9T2JqZWN0LmNyZWF0ZSh0aGlzLnByb3RvdHlwZSk7cmV0dXJuIGUuYXJyYXlCdWZmZXI9dC5hcnJheUJ1ZmZlcixlLmxlbmd0aD10Lmxlbmd0aCxlLmNhcGFjaXR5PXQuYXJyYXlCdWZmZXIuYnl0ZUxlbmd0aC9lLmJ5dGVzUGVyRWxlbWVudCxlLl9yZWZyZXNoVmlld3MoKSxlfSxfaS5wcm90b3R5cGUuX3RyaW09ZnVuY3Rpb24oKXt0aGlzLmxlbmd0aCE9PXRoaXMuY2FwYWNpdHkmJih0aGlzLmNhcGFjaXR5PXRoaXMubGVuZ3RoLHRoaXMuYXJyYXlCdWZmZXI9dGhpcy5hcnJheUJ1ZmZlci5zbGljZSgwLHRoaXMubGVuZ3RoKnRoaXMuYnl0ZXNQZXJFbGVtZW50KSx0aGlzLl9yZWZyZXNoVmlld3MoKSk7fSxfaS5wcm90b3R5cGUuY2xlYXI9ZnVuY3Rpb24oKXt0aGlzLmxlbmd0aD0wO30sX2kucHJvdG90eXBlLnJlc2l6ZT1mdW5jdGlvbih0KXt0aGlzLnJlc2VydmUodCksdGhpcy5sZW5ndGg9dDt9LF9pLnByb3RvdHlwZS5yZXNlcnZlPWZ1bmN0aW9uKHQpe2lmKHQ+dGhpcy5jYXBhY2l0eSl7dGhpcy5jYXBhY2l0eT1NYXRoLm1heCh0LE1hdGguZmxvb3IoNSp0aGlzLmNhcGFjaXR5KSwxMjgpLHRoaXMuYXJyYXlCdWZmZXI9bmV3IEFycmF5QnVmZmVyKHRoaXMuY2FwYWNpdHkqdGhpcy5ieXRlc1BlckVsZW1lbnQpO3ZhciBlPXRoaXMudWludDg7dGhpcy5fcmVmcmVzaFZpZXdzKCksZSYmdGhpcy51aW50OC5zZXQoZSk7fX0sX2kucHJvdG90eXBlLl9yZWZyZXNoVmlld3M9ZnVuY3Rpb24oKXt0aHJvdyBuZXcgRXJyb3IoIl9yZWZyZXNoVmlld3MoKSBtdXN0IGJlIGltcGxlbWVudGVkIGJ5IGVhY2ggY29uY3JldGUgU3RydWN0QXJyYXkgbGF5b3V0Iil9O3ZhciBraT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7fXJldHVybiB0JiYoZS5fX3Byb3RvX189dCksKGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUpKS5jb25zdHJ1Y3Rvcj1lLGUucHJvdG90eXBlLl9yZWZyZXNoVmlld3M9ZnVuY3Rpb24oKXt0aGlzLnVpbnQ4PW5ldyBVaW50OEFycmF5KHRoaXMuYXJyYXlCdWZmZXIpLHRoaXMuaW50MTY9bmV3IEludDE2QXJyYXkodGhpcy5hcnJheUJ1ZmZlcik7fSxlLnByb3RvdHlwZS5lbXBsYWNlQmFjaz1mdW5jdGlvbih0LGUpe3ZhciByPXRoaXMubGVuZ3RoO3JldHVybiB0aGlzLnJlc2l6ZShyKzEpLHRoaXMuZW1wbGFjZShyLHQsZSl9LGUucHJvdG90eXBlLmVtcGxhY2U9ZnVuY3Rpb24odCxlLHIpe3ZhciBuPTIqdDtyZXR1cm4gdGhpcy5pbnQxNltuKzBdPWUsdGhpcy5pbnQxNltuKzFdPXIsdH0sZX0oX2kpO2tpLnByb3RvdHlwZS5ieXRlc1BlckVsZW1lbnQ9NCxGbigiU3RydWN0QXJyYXlMYXlvdXQyaTQiLGtpKTt2YXIgSWk9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3QuYXBwbHkodGhpcyxhcmd1bWVudHMpO31yZXR1cm4gdCYmKGUuX19wcm90b19fPXQpLChlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlKSkuY29uc3RydWN0b3I9ZSxlLnByb3RvdHlwZS5fcmVmcmVzaFZpZXdzPWZ1bmN0aW9uKCl7dGhpcy51aW50OD1uZXcgVWludDhBcnJheSh0aGlzLmFycmF5QnVmZmVyKSx0aGlzLmludDE2PW5ldyBJbnQxNkFycmF5KHRoaXMuYXJyYXlCdWZmZXIpO30sZS5wcm90b3R5cGUuZW1wbGFjZUJhY2s9ZnVuY3Rpb24odCxlLHIsbil7dmFyIGk9dGhpcy5sZW5ndGg7cmV0dXJuIHRoaXMucmVzaXplKGkrMSksdGhpcy5lbXBsYWNlKGksdCxlLHIsbil9LGUucHJvdG90eXBlLmVtcGxhY2U9ZnVuY3Rpb24odCxlLHIsbixpKXt2YXIgYT00KnQ7cmV0dXJuIHRoaXMuaW50MTZbYSswXT1lLHRoaXMuaW50MTZbYSsxXT1yLHRoaXMuaW50MTZbYSsyXT1uLHRoaXMuaW50MTZbYSszXT1pLHR9LGV9KF9pKTtJaS5wcm90b3R5cGUuYnl0ZXNQZXJFbGVtZW50PTgsRm4oIlN0cnVjdEFycmF5TGF5b3V0NGk4IixJaSk7dmFyIHppPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt0LmFwcGx5KHRoaXMsYXJndW1lbnRzKTt9cmV0dXJuIHQmJihlLl9fcHJvdG9fXz10KSwoZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSkpLmNvbnN0cnVjdG9yPWUsZS5wcm90b3R5cGUuX3JlZnJlc2hWaWV3cz1mdW5jdGlvbigpe3RoaXMudWludDg9bmV3IFVpbnQ4QXJyYXkodGhpcy5hcnJheUJ1ZmZlciksdGhpcy5pbnQxNj1uZXcgSW50MTZBcnJheSh0aGlzLmFycmF5QnVmZmVyKTt9LGUucHJvdG90eXBlLmVtcGxhY2VCYWNrPWZ1bmN0aW9uKHQsZSxyLG4saSxhKXt2YXIgbz10aGlzLmxlbmd0aDtyZXR1cm4gdGhpcy5yZXNpemUobysxKSx0aGlzLmVtcGxhY2Uobyx0LGUscixuLGksYSl9LGUucHJvdG90eXBlLmVtcGxhY2U9ZnVuY3Rpb24odCxlLHIsbixpLGEsbyl7dmFyIHM9Nip0O3JldHVybiB0aGlzLmludDE2W3MrMF09ZSx0aGlzLmludDE2W3MrMV09cix0aGlzLmludDE2W3MrMl09bix0aGlzLmludDE2W3MrM109aSx0aGlzLmludDE2W3MrNF09YSx0aGlzLmludDE2W3MrNV09byx0fSxlfShfaSk7emkucHJvdG90eXBlLmJ5dGVzUGVyRWxlbWVudD0xMixGbigiU3RydWN0QXJyYXlMYXlvdXQyaTRpMTIiLHppKTt2YXIgQ2k9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3QuYXBwbHkodGhpcyxhcmd1bWVudHMpO31yZXR1cm4gdCYmKGUuX19wcm90b19fPXQpLChlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlKSkuY29uc3RydWN0b3I9ZSxlLnByb3RvdHlwZS5fcmVmcmVzaFZpZXdzPWZ1bmN0aW9uKCl7dGhpcy51aW50OD1uZXcgVWludDhBcnJheSh0aGlzLmFycmF5QnVmZmVyKSx0aGlzLmludDE2PW5ldyBJbnQxNkFycmF5KHRoaXMuYXJyYXlCdWZmZXIpO30sZS5wcm90b3R5cGUuZW1wbGFjZUJhY2s9ZnVuY3Rpb24odCxlLHIsbixpLGEpe3ZhciBvPXRoaXMubGVuZ3RoO3JldHVybiB0aGlzLnJlc2l6ZShvKzEpLHRoaXMuZW1wbGFjZShvLHQsZSxyLG4saSxhKX0sZS5wcm90b3R5cGUuZW1wbGFjZT1mdW5jdGlvbih0LGUscixuLGksYSxvKXt2YXIgcz00KnQsdT04KnQ7cmV0dXJuIHRoaXMuaW50MTZbcyswXT1lLHRoaXMuaW50MTZbcysxXT1yLHRoaXMudWludDhbdSs0XT1uLHRoaXMudWludDhbdSs1XT1pLHRoaXMudWludDhbdSs2XT1hLHRoaXMudWludDhbdSs3XT1vLHR9LGV9KF9pKTtDaS5wcm90b3R5cGUuYnl0ZXNQZXJFbGVtZW50PTgsRm4oIlN0cnVjdEFycmF5TGF5b3V0Mmk0dWI4IixDaSk7dmFyIE1pPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt0LmFwcGx5KHRoaXMsYXJndW1lbnRzKTt9cmV0dXJuIHQmJihlLl9fcHJvdG9fXz10KSwoZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSkpLmNvbnN0cnVjdG9yPWUsZS5wcm90b3R5cGUuX3JlZnJlc2hWaWV3cz1mdW5jdGlvbigpe3RoaXMudWludDg9bmV3IFVpbnQ4QXJyYXkodGhpcy5hcnJheUJ1ZmZlciksdGhpcy51aW50MTY9bmV3IFVpbnQxNkFycmF5KHRoaXMuYXJyYXlCdWZmZXIpO30sZS5wcm90b3R5cGUuZW1wbGFjZUJhY2s9ZnVuY3Rpb24odCxlLHIsbixpLGEsbyxzLHUsbCl7dmFyIHA9dGhpcy5sZW5ndGg7cmV0dXJuIHRoaXMucmVzaXplKHArMSksdGhpcy5lbXBsYWNlKHAsdCxlLHIsbixpLGEsbyxzLHUsbCl9LGUucHJvdG90eXBlLmVtcGxhY2U9ZnVuY3Rpb24odCxlLHIsbixpLGEsbyxzLHUsbCxwKXt2YXIgYz05KnQsaD0xOCp0O3JldHVybiB0aGlzLnVpbnQxNltjKzBdPWUsdGhpcy51aW50MTZbYysxXT1yLHRoaXMudWludDE2W2MrMl09bix0aGlzLnVpbnQxNltjKzNdPWksdGhpcy51aW50MTZbYys0XT1hLHRoaXMudWludDE2W2MrNV09byx0aGlzLnVpbnQxNltjKzZdPXMsdGhpcy51aW50MTZbYys3XT11LHRoaXMudWludDhbaCsxNl09bCx0aGlzLnVpbnQ4W2grMTddPXAsdH0sZX0oX2kpO01pLnByb3RvdHlwZS5ieXRlc1BlckVsZW1lbnQ9MTgsRm4oIlN0cnVjdEFycmF5TGF5b3V0OHVpMnViMTgiLE1pKTt2YXIgRWk9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3QuYXBwbHkodGhpcyxhcmd1bWVudHMpO31yZXR1cm4gdCYmKGUuX19wcm90b19fPXQpLChlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlKSkuY29uc3RydWN0b3I9ZSxlLnByb3RvdHlwZS5fcmVmcmVzaFZpZXdzPWZ1bmN0aW9uKCl7dGhpcy51aW50OD1uZXcgVWludDhBcnJheSh0aGlzLmFycmF5QnVmZmVyKSx0aGlzLmludDE2PW5ldyBJbnQxNkFycmF5KHRoaXMuYXJyYXlCdWZmZXIpLHRoaXMudWludDE2PW5ldyBVaW50MTZBcnJheSh0aGlzLmFycmF5QnVmZmVyKTt9LGUucHJvdG90eXBlLmVtcGxhY2VCYWNrPWZ1bmN0aW9uKHQsZSxyLG4saSxhLG8scyx1LGwscCxjKXt2YXIgaD10aGlzLmxlbmd0aDtyZXR1cm4gdGhpcy5yZXNpemUoaCsxKSx0aGlzLmVtcGxhY2UoaCx0LGUscixuLGksYSxvLHMsdSxsLHAsYyl9LGUucHJvdG90eXBlLmVtcGxhY2U9ZnVuY3Rpb24odCxlLHIsbixpLGEsbyxzLHUsbCxwLGMsaCl7dmFyIGY9MTIqdDtyZXR1cm4gdGhpcy5pbnQxNltmKzBdPWUsdGhpcy5pbnQxNltmKzFdPXIsdGhpcy5pbnQxNltmKzJdPW4sdGhpcy5pbnQxNltmKzNdPWksdGhpcy51aW50MTZbZis0XT1hLHRoaXMudWludDE2W2YrNV09byx0aGlzLnVpbnQxNltmKzZdPXMsdGhpcy51aW50MTZbZis3XT11LHRoaXMuaW50MTZbZis4XT1sLHRoaXMuaW50MTZbZis5XT1wLHRoaXMuaW50MTZbZisxMF09Yyx0aGlzLmludDE2W2YrMTFdPWgsdH0sZX0oX2kpO0VpLnByb3RvdHlwZS5ieXRlc1BlckVsZW1lbnQ9MjQsRm4oIlN0cnVjdEFycmF5TGF5b3V0NGk0dWk0aTI0IixFaSk7dmFyIFRpPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt0LmFwcGx5KHRoaXMsYXJndW1lbnRzKTt9cmV0dXJuIHQmJihlLl9fcHJvdG9fXz10KSwoZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSkpLmNvbnN0cnVjdG9yPWUsZS5wcm90b3R5cGUuX3JlZnJlc2hWaWV3cz1mdW5jdGlvbigpe3RoaXMudWludDg9bmV3IFVpbnQ4QXJyYXkodGhpcy5hcnJheUJ1ZmZlciksdGhpcy5mbG9hdDMyPW5ldyBGbG9hdDMyQXJyYXkodGhpcy5hcnJheUJ1ZmZlcik7fSxlLnByb3RvdHlwZS5lbXBsYWNlQmFjaz1mdW5jdGlvbih0LGUscil7dmFyIG49dGhpcy5sZW5ndGg7cmV0dXJuIHRoaXMucmVzaXplKG4rMSksdGhpcy5lbXBsYWNlKG4sdCxlLHIpfSxlLnByb3RvdHlwZS5lbXBsYWNlPWZ1bmN0aW9uKHQsZSxyLG4pe3ZhciBpPTMqdDtyZXR1cm4gdGhpcy5mbG9hdDMyW2krMF09ZSx0aGlzLmZsb2F0MzJbaSsxXT1yLHRoaXMuZmxvYXQzMltpKzJdPW4sdH0sZX0oX2kpO1RpLnByb3RvdHlwZS5ieXRlc1BlckVsZW1lbnQ9MTIsRm4oIlN0cnVjdEFycmF5TGF5b3V0M2YxMiIsVGkpO3ZhciBQaT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7fXJldHVybiB0JiYoZS5fX3Byb3RvX189dCksKGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUpKS5jb25zdHJ1Y3Rvcj1lLGUucHJvdG90eXBlLl9yZWZyZXNoVmlld3M9ZnVuY3Rpb24oKXt0aGlzLnVpbnQ4PW5ldyBVaW50OEFycmF5KHRoaXMuYXJyYXlCdWZmZXIpLHRoaXMudWludDMyPW5ldyBVaW50MzJBcnJheSh0aGlzLmFycmF5QnVmZmVyKTt9LGUucHJvdG90eXBlLmVtcGxhY2VCYWNrPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMubGVuZ3RoO3JldHVybiB0aGlzLnJlc2l6ZShlKzEpLHRoaXMuZW1wbGFjZShlLHQpfSxlLnByb3RvdHlwZS5lbXBsYWNlPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMudWludDMyWzEqdCswXT1lLHR9LGV9KF9pKTtQaS5wcm90b3R5cGUuYnl0ZXNQZXJFbGVtZW50PTQsRm4oIlN0cnVjdEFycmF5TGF5b3V0MXVsNCIsUGkpO3ZhciBCaT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7fXJldHVybiB0JiYoZS5fX3Byb3RvX189dCksKGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUpKS5jb25zdHJ1Y3Rvcj1lLGUucHJvdG90eXBlLl9yZWZyZXNoVmlld3M9ZnVuY3Rpb24oKXt0aGlzLnVpbnQ4PW5ldyBVaW50OEFycmF5KHRoaXMuYXJyYXlCdWZmZXIpLHRoaXMuaW50MTY9bmV3IEludDE2QXJyYXkodGhpcy5hcnJheUJ1ZmZlciksdGhpcy51aW50MzI9bmV3IFVpbnQzMkFycmF5KHRoaXMuYXJyYXlCdWZmZXIpLHRoaXMudWludDE2PW5ldyBVaW50MTZBcnJheSh0aGlzLmFycmF5QnVmZmVyKTt9LGUucHJvdG90eXBlLmVtcGxhY2VCYWNrPWZ1bmN0aW9uKHQsZSxyLG4saSxhLG8scyx1KXt2YXIgbD10aGlzLmxlbmd0aDtyZXR1cm4gdGhpcy5yZXNpemUobCsxKSx0aGlzLmVtcGxhY2UobCx0LGUscixuLGksYSxvLHMsdSl9LGUucHJvdG90eXBlLmVtcGxhY2U9ZnVuY3Rpb24odCxlLHIsbixpLGEsbyxzLHUsbCl7dmFyIHA9MTAqdCxjPTUqdDtyZXR1cm4gdGhpcy5pbnQxNltwKzBdPWUsdGhpcy5pbnQxNltwKzFdPXIsdGhpcy5pbnQxNltwKzJdPW4sdGhpcy5pbnQxNltwKzNdPWksdGhpcy5pbnQxNltwKzRdPWEsdGhpcy5pbnQxNltwKzVdPW8sdGhpcy51aW50MzJbYyszXT1zLHRoaXMudWludDE2W3ArOF09dSx0aGlzLnVpbnQxNltwKzldPWwsdH0sZX0oX2kpO0JpLnByb3RvdHlwZS5ieXRlc1BlckVsZW1lbnQ9MjAsRm4oIlN0cnVjdEFycmF5TGF5b3V0NmkxdWwydWkyMCIsQmkpO3ZhciBWaT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7fXJldHVybiB0JiYoZS5fX3Byb3RvX189dCksKGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUpKS5jb25zdHJ1Y3Rvcj1lLGUucHJvdG90eXBlLl9yZWZyZXNoVmlld3M9ZnVuY3Rpb24oKXt0aGlzLnVpbnQ4PW5ldyBVaW50OEFycmF5KHRoaXMuYXJyYXlCdWZmZXIpLHRoaXMuaW50MTY9bmV3IEludDE2QXJyYXkodGhpcy5hcnJheUJ1ZmZlcik7fSxlLnByb3RvdHlwZS5lbXBsYWNlQmFjaz1mdW5jdGlvbih0LGUscixuLGksYSl7dmFyIG89dGhpcy5sZW5ndGg7cmV0dXJuIHRoaXMucmVzaXplKG8rMSksdGhpcy5lbXBsYWNlKG8sdCxlLHIsbixpLGEpfSxlLnByb3RvdHlwZS5lbXBsYWNlPWZ1bmN0aW9uKHQsZSxyLG4saSxhLG8pe3ZhciBzPTYqdDtyZXR1cm4gdGhpcy5pbnQxNltzKzBdPWUsdGhpcy5pbnQxNltzKzFdPXIsdGhpcy5pbnQxNltzKzJdPW4sdGhpcy5pbnQxNltzKzNdPWksdGhpcy5pbnQxNltzKzRdPWEsdGhpcy5pbnQxNltzKzVdPW8sdH0sZX0oX2kpO1ZpLnByb3RvdHlwZS5ieXRlc1BlckVsZW1lbnQ9MTIsRm4oIlN0cnVjdEFycmF5TGF5b3V0MmkyaTJpMTIiLFZpKTt2YXIgRmk9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3QuYXBwbHkodGhpcyxhcmd1bWVudHMpO31yZXR1cm4gdCYmKGUuX19wcm90b19fPXQpLChlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlKSkuY29uc3RydWN0b3I9ZSxlLnByb3RvdHlwZS5fcmVmcmVzaFZpZXdzPWZ1bmN0aW9uKCl7dGhpcy51aW50OD1uZXcgVWludDhBcnJheSh0aGlzLmFycmF5QnVmZmVyKSx0aGlzLmZsb2F0MzI9bmV3IEZsb2F0MzJBcnJheSh0aGlzLmFycmF5QnVmZmVyKSx0aGlzLmludDE2PW5ldyBJbnQxNkFycmF5KHRoaXMuYXJyYXlCdWZmZXIpO30sZS5wcm90b3R5cGUuZW1wbGFjZUJhY2s9ZnVuY3Rpb24odCxlLHIsbixpKXt2YXIgYT10aGlzLmxlbmd0aDtyZXR1cm4gdGhpcy5yZXNpemUoYSsxKSx0aGlzLmVtcGxhY2UoYSx0LGUscixuLGkpfSxlLnByb3RvdHlwZS5lbXBsYWNlPWZ1bmN0aW9uKHQsZSxyLG4saSxhKXt2YXIgbz00KnQscz04KnQ7cmV0dXJuIHRoaXMuZmxvYXQzMltvKzBdPWUsdGhpcy5mbG9hdDMyW28rMV09cix0aGlzLmZsb2F0MzJbbysyXT1uLHRoaXMuaW50MTZbcys2XT1pLHRoaXMuaW50MTZbcys3XT1hLHR9LGV9KF9pKTtGaS5wcm90b3R5cGUuYnl0ZXNQZXJFbGVtZW50PTE2LEZuKCJTdHJ1Y3RBcnJheUxheW91dDJmMWYyaTE2IixGaSk7dmFyIERpPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt0LmFwcGx5KHRoaXMsYXJndW1lbnRzKTt9cmV0dXJuIHQmJihlLl9fcHJvdG9fXz10KSwoZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSkpLmNvbnN0cnVjdG9yPWUsZS5wcm90b3R5cGUuX3JlZnJlc2hWaWV3cz1mdW5jdGlvbigpe3RoaXMudWludDg9bmV3IFVpbnQ4QXJyYXkodGhpcy5hcnJheUJ1ZmZlciksdGhpcy5mbG9hdDMyPW5ldyBGbG9hdDMyQXJyYXkodGhpcy5hcnJheUJ1ZmZlcik7fSxlLnByb3RvdHlwZS5lbXBsYWNlQmFjaz1mdW5jdGlvbih0LGUscixuKXt2YXIgaT10aGlzLmxlbmd0aDtyZXR1cm4gdGhpcy5yZXNpemUoaSsxKSx0aGlzLmVtcGxhY2UoaSx0LGUscixuKX0sZS5wcm90b3R5cGUuZW1wbGFjZT1mdW5jdGlvbih0LGUscixuLGkpe3ZhciBhPTEyKnQsbz0zKnQ7cmV0dXJuIHRoaXMudWludDhbYSswXT1lLHRoaXMudWludDhbYSsxXT1yLHRoaXMuZmxvYXQzMltvKzFdPW4sdGhpcy5mbG9hdDMyW28rMl09aSx0fSxlfShfaSk7RGkucHJvdG90eXBlLmJ5dGVzUGVyRWxlbWVudD0xMixGbigiU3RydWN0QXJyYXlMYXlvdXQydWIyZjEyIixEaSk7dmFyIExpPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt0LmFwcGx5KHRoaXMsYXJndW1lbnRzKTt9cmV0dXJuIHQmJihlLl9fcHJvdG9fXz10KSwoZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSkpLmNvbnN0cnVjdG9yPWUsZS5wcm90b3R5cGUuX3JlZnJlc2hWaWV3cz1mdW5jdGlvbigpe3RoaXMudWludDg9bmV3IFVpbnQ4QXJyYXkodGhpcy5hcnJheUJ1ZmZlciksdGhpcy51aW50MTY9bmV3IFVpbnQxNkFycmF5KHRoaXMuYXJyYXlCdWZmZXIpO30sZS5wcm90b3R5cGUuZW1wbGFjZUJhY2s9ZnVuY3Rpb24odCxlLHIpe3ZhciBuPXRoaXMubGVuZ3RoO3JldHVybiB0aGlzLnJlc2l6ZShuKzEpLHRoaXMuZW1wbGFjZShuLHQsZSxyKX0sZS5wcm90b3R5cGUuZW1wbGFjZT1mdW5jdGlvbih0LGUscixuKXt2YXIgaT0zKnQ7cmV0dXJuIHRoaXMudWludDE2W2krMF09ZSx0aGlzLnVpbnQxNltpKzFdPXIsdGhpcy51aW50MTZbaSsyXT1uLHR9LGV9KF9pKTtMaS5wcm90b3R5cGUuYnl0ZXNQZXJFbGVtZW50PTYsRm4oIlN0cnVjdEFycmF5TGF5b3V0M3VpNiIsTGkpO3ZhciBSaT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7fXJldHVybiB0JiYoZS5fX3Byb3RvX189dCksKGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUpKS5jb25zdHJ1Y3Rvcj1lLGUucHJvdG90eXBlLl9yZWZyZXNoVmlld3M9ZnVuY3Rpb24oKXt0aGlzLnVpbnQ4PW5ldyBVaW50OEFycmF5KHRoaXMuYXJyYXlCdWZmZXIpLHRoaXMuaW50MTY9bmV3IEludDE2QXJyYXkodGhpcy5hcnJheUJ1ZmZlciksdGhpcy51aW50MTY9bmV3IFVpbnQxNkFycmF5KHRoaXMuYXJyYXlCdWZmZXIpLHRoaXMudWludDMyPW5ldyBVaW50MzJBcnJheSh0aGlzLmFycmF5QnVmZmVyKSx0aGlzLmZsb2F0MzI9bmV3IEZsb2F0MzJBcnJheSh0aGlzLmFycmF5QnVmZmVyKTt9LGUucHJvdG90eXBlLmVtcGxhY2VCYWNrPWZ1bmN0aW9uKHQsZSxyLG4saSxhLG8scyx1LGwscCxjLGgsZix5LGQsbSl7dmFyIHY9dGhpcy5sZW5ndGg7cmV0dXJuIHRoaXMucmVzaXplKHYrMSksdGhpcy5lbXBsYWNlKHYsdCxlLHIsbixpLGEsbyxzLHUsbCxwLGMsaCxmLHksZCxtKX0sZS5wcm90b3R5cGUuZW1wbGFjZT1mdW5jdGlvbih0LGUscixuLGksYSxvLHMsdSxsLHAsYyxoLGYseSxkLG0sdil7dmFyIGc9MjQqdCx4PTEyKnQsYj00OCp0O3JldHVybiB0aGlzLmludDE2W2crMF09ZSx0aGlzLmludDE2W2crMV09cix0aGlzLnVpbnQxNltnKzJdPW4sdGhpcy51aW50MTZbZyszXT1pLHRoaXMudWludDMyW3grMl09YSx0aGlzLnVpbnQzMlt4KzNdPW8sdGhpcy51aW50MzJbeCs0XT1zLHRoaXMudWludDE2W2crMTBdPXUsdGhpcy51aW50MTZbZysxMV09bCx0aGlzLnVpbnQxNltnKzEyXT1wLHRoaXMuZmxvYXQzMlt4KzddPWMsdGhpcy5mbG9hdDMyW3grOF09aCx0aGlzLnVpbnQ4W2IrMzZdPWYsdGhpcy51aW50OFtiKzM3XT15LHRoaXMudWludDhbYiszOF09ZCx0aGlzLnVpbnQzMlt4KzEwXT1tLHRoaXMuaW50MTZbZysyMl09dix0fSxlfShfaSk7UmkucHJvdG90eXBlLmJ5dGVzUGVyRWxlbWVudD00OCxGbigiU3RydWN0QXJyYXlMYXlvdXQyaTJ1aTN1bDN1aTJmM3ViMXVsMWk0OCIsUmkpO3ZhciBPaT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7fXJldHVybiB0JiYoZS5fX3Byb3RvX189dCksKGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUpKS5jb25zdHJ1Y3Rvcj1lLGUucHJvdG90eXBlLl9yZWZyZXNoVmlld3M9ZnVuY3Rpb24oKXt0aGlzLnVpbnQ4PW5ldyBVaW50OEFycmF5KHRoaXMuYXJyYXlCdWZmZXIpLHRoaXMuaW50MTY9bmV3IEludDE2QXJyYXkodGhpcy5hcnJheUJ1ZmZlciksdGhpcy51aW50MTY9bmV3IFVpbnQxNkFycmF5KHRoaXMuYXJyYXlCdWZmZXIpLHRoaXMudWludDMyPW5ldyBVaW50MzJBcnJheSh0aGlzLmFycmF5QnVmZmVyKSx0aGlzLmZsb2F0MzI9bmV3IEZsb2F0MzJBcnJheSh0aGlzLmFycmF5QnVmZmVyKTt9LGUucHJvdG90eXBlLmVtcGxhY2VCYWNrPWZ1bmN0aW9uKHQsZSxyLG4saSxhLG8scyx1LGwscCxjLGgsZix5LGQsbSx2LGcseCxiLHcsXyxBLFMsayxJLHope3ZhciBDPXRoaXMubGVuZ3RoO3JldHVybiB0aGlzLnJlc2l6ZShDKzEpLHRoaXMuZW1wbGFjZShDLHQsZSxyLG4saSxhLG8scyx1LGwscCxjLGgsZix5LGQsbSx2LGcseCxiLHcsXyxBLFMsayxJLHopfSxlLnByb3RvdHlwZS5lbXBsYWNlPWZ1bmN0aW9uKHQsZSxyLG4saSxhLG8scyx1LGwscCxjLGgsZix5LGQsbSx2LGcseCxiLHcsXyxBLFMsayxJLHosQyl7dmFyIE09MzQqdCxFPTE3KnQ7cmV0dXJuIHRoaXMuaW50MTZbTSswXT1lLHRoaXMuaW50MTZbTSsxXT1yLHRoaXMuaW50MTZbTSsyXT1uLHRoaXMuaW50MTZbTSszXT1pLHRoaXMuaW50MTZbTSs0XT1hLHRoaXMuaW50MTZbTSs1XT1vLHRoaXMuaW50MTZbTSs2XT1zLHRoaXMuaW50MTZbTSs3XT11LHRoaXMudWludDE2W00rOF09bCx0aGlzLnVpbnQxNltNKzldPXAsdGhpcy51aW50MTZbTSsxMF09Yyx0aGlzLnVpbnQxNltNKzExXT1oLHRoaXMudWludDE2W00rMTJdPWYsdGhpcy51aW50MTZbTSsxM109eSx0aGlzLnVpbnQxNltNKzE0XT1kLHRoaXMudWludDE2W00rMTVdPW0sdGhpcy51aW50MTZbTSsxNl09dix0aGlzLnVpbnQxNltNKzE3XT1nLHRoaXMudWludDE2W00rMThdPXgsdGhpcy51aW50MTZbTSsxOV09Yix0aGlzLnVpbnQxNltNKzIwXT13LHRoaXMudWludDE2W00rMjFdPV8sdGhpcy51aW50MTZbTSsyMl09QSx0aGlzLnVpbnQzMltFKzEyXT1TLHRoaXMuZmxvYXQzMltFKzEzXT1rLHRoaXMuZmxvYXQzMltFKzE0XT1JLHRoaXMuZmxvYXQzMltFKzE1XT16LHRoaXMuZmxvYXQzMltFKzE2XT1DLHR9LGV9KF9pKTtPaS5wcm90b3R5cGUuYnl0ZXNQZXJFbGVtZW50PTY4LEZuKCJTdHJ1Y3RBcnJheUxheW91dDhpMTV1aTF1bDRmNjgiLE9pKTt2YXIgVWk9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3QuYXBwbHkodGhpcyxhcmd1bWVudHMpO31yZXR1cm4gdCYmKGUuX19wcm90b19fPXQpLChlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlKSkuY29uc3RydWN0b3I9ZSxlLnByb3RvdHlwZS5fcmVmcmVzaFZpZXdzPWZ1bmN0aW9uKCl7dGhpcy51aW50OD1uZXcgVWludDhBcnJheSh0aGlzLmFycmF5QnVmZmVyKSx0aGlzLmZsb2F0MzI9bmV3IEZsb2F0MzJBcnJheSh0aGlzLmFycmF5QnVmZmVyKTt9LGUucHJvdG90eXBlLmVtcGxhY2VCYWNrPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMubGVuZ3RoO3JldHVybiB0aGlzLnJlc2l6ZShlKzEpLHRoaXMuZW1wbGFjZShlLHQpfSxlLnByb3RvdHlwZS5lbXBsYWNlPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuZmxvYXQzMlsxKnQrMF09ZSx0fSxlfShfaSk7VWkucHJvdG90eXBlLmJ5dGVzUGVyRWxlbWVudD00LEZuKCJTdHJ1Y3RBcnJheUxheW91dDFmNCIsVWkpO3ZhciBqaT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7fXJldHVybiB0JiYoZS5fX3Byb3RvX189dCksKGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUpKS5jb25zdHJ1Y3Rvcj1lLGUucHJvdG90eXBlLl9yZWZyZXNoVmlld3M9ZnVuY3Rpb24oKXt0aGlzLnVpbnQ4PW5ldyBVaW50OEFycmF5KHRoaXMuYXJyYXlCdWZmZXIpLHRoaXMuaW50MTY9bmV3IEludDE2QXJyYXkodGhpcy5hcnJheUJ1ZmZlcik7fSxlLnByb3RvdHlwZS5lbXBsYWNlQmFjaz1mdW5jdGlvbih0LGUscil7dmFyIG49dGhpcy5sZW5ndGg7cmV0dXJuIHRoaXMucmVzaXplKG4rMSksdGhpcy5lbXBsYWNlKG4sdCxlLHIpfSxlLnByb3RvdHlwZS5lbXBsYWNlPWZ1bmN0aW9uKHQsZSxyLG4pe3ZhciBpPTMqdDtyZXR1cm4gdGhpcy5pbnQxNltpKzBdPWUsdGhpcy5pbnQxNltpKzFdPXIsdGhpcy5pbnQxNltpKzJdPW4sdH0sZX0oX2kpO2ppLnByb3RvdHlwZS5ieXRlc1BlckVsZW1lbnQ9NixGbigiU3RydWN0QXJyYXlMYXlvdXQzaTYiLGppKTt2YXIgcWk9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3QuYXBwbHkodGhpcyxhcmd1bWVudHMpO31yZXR1cm4gdCYmKGUuX19wcm90b19fPXQpLChlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlKSkuY29uc3RydWN0b3I9ZSxlLnByb3RvdHlwZS5fcmVmcmVzaFZpZXdzPWZ1bmN0aW9uKCl7dGhpcy51aW50OD1uZXcgVWludDhBcnJheSh0aGlzLmFycmF5QnVmZmVyKSx0aGlzLnVpbnQzMj1uZXcgVWludDMyQXJyYXkodGhpcy5hcnJheUJ1ZmZlciksdGhpcy51aW50MTY9bmV3IFVpbnQxNkFycmF5KHRoaXMuYXJyYXlCdWZmZXIpO30sZS5wcm90b3R5cGUuZW1wbGFjZUJhY2s9ZnVuY3Rpb24odCxlLHIpe3ZhciBuPXRoaXMubGVuZ3RoO3JldHVybiB0aGlzLnJlc2l6ZShuKzEpLHRoaXMuZW1wbGFjZShuLHQsZSxyKX0sZS5wcm90b3R5cGUuZW1wbGFjZT1mdW5jdGlvbih0LGUscixuKXt2YXIgaT00KnQ7cmV0dXJuIHRoaXMudWludDMyWzIqdCswXT1lLHRoaXMudWludDE2W2krMl09cix0aGlzLnVpbnQxNltpKzNdPW4sdH0sZX0oX2kpO3FpLnByb3RvdHlwZS5ieXRlc1BlckVsZW1lbnQ9OCxGbigiU3RydWN0QXJyYXlMYXlvdXQxdWwydWk4IixxaSk7dmFyIE5pPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt0LmFwcGx5KHRoaXMsYXJndW1lbnRzKTt9cmV0dXJuIHQmJihlLl9fcHJvdG9fXz10KSwoZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSkpLmNvbnN0cnVjdG9yPWUsZS5wcm90b3R5cGUuX3JlZnJlc2hWaWV3cz1mdW5jdGlvbigpe3RoaXMudWludDg9bmV3IFVpbnQ4QXJyYXkodGhpcy5hcnJheUJ1ZmZlciksdGhpcy51aW50MTY9bmV3IFVpbnQxNkFycmF5KHRoaXMuYXJyYXlCdWZmZXIpO30sZS5wcm90b3R5cGUuZW1wbGFjZUJhY2s9ZnVuY3Rpb24odCxlKXt2YXIgcj10aGlzLmxlbmd0aDtyZXR1cm4gdGhpcy5yZXNpemUocisxKSx0aGlzLmVtcGxhY2Uocix0LGUpfSxlLnByb3RvdHlwZS5lbXBsYWNlPWZ1bmN0aW9uKHQsZSxyKXt2YXIgbj0yKnQ7cmV0dXJuIHRoaXMudWludDE2W24rMF09ZSx0aGlzLnVpbnQxNltuKzFdPXIsdH0sZX0oX2kpO05pLnByb3RvdHlwZS5ieXRlc1BlckVsZW1lbnQ9NCxGbigiU3RydWN0QXJyYXlMYXlvdXQydWk0IixOaSk7dmFyIEtpPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt0LmFwcGx5KHRoaXMsYXJndW1lbnRzKTt9cmV0dXJuIHQmJihlLl9fcHJvdG9fXz10KSwoZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSkpLmNvbnN0cnVjdG9yPWUsZS5wcm90b3R5cGUuX3JlZnJlc2hWaWV3cz1mdW5jdGlvbigpe3RoaXMudWludDg9bmV3IFVpbnQ4QXJyYXkodGhpcy5hcnJheUJ1ZmZlciksdGhpcy51aW50MTY9bmV3IFVpbnQxNkFycmF5KHRoaXMuYXJyYXlCdWZmZXIpO30sZS5wcm90b3R5cGUuZW1wbGFjZUJhY2s9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5sZW5ndGg7cmV0dXJuIHRoaXMucmVzaXplKGUrMSksdGhpcy5lbXBsYWNlKGUsdCl9LGUucHJvdG90eXBlLmVtcGxhY2U9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy51aW50MTZbMSp0KzBdPWUsdH0sZX0oX2kpO0tpLnByb3RvdHlwZS5ieXRlc1BlckVsZW1lbnQ9MixGbigiU3RydWN0QXJyYXlMYXlvdXQxdWkyIixLaSk7dmFyIEdpPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt0LmFwcGx5KHRoaXMsYXJndW1lbnRzKTt9cmV0dXJuIHQmJihlLl9fcHJvdG9fXz10KSwoZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSkpLmNvbnN0cnVjdG9yPWUsZS5wcm90b3R5cGUuX3JlZnJlc2hWaWV3cz1mdW5jdGlvbigpe3RoaXMudWludDg9bmV3IFVpbnQ4QXJyYXkodGhpcy5hcnJheUJ1ZmZlciksdGhpcy5mbG9hdDMyPW5ldyBGbG9hdDMyQXJyYXkodGhpcy5hcnJheUJ1ZmZlcik7fSxlLnByb3RvdHlwZS5lbXBsYWNlQmFjaz1mdW5jdGlvbih0LGUpe3ZhciByPXRoaXMubGVuZ3RoO3JldHVybiB0aGlzLnJlc2l6ZShyKzEpLHRoaXMuZW1wbGFjZShyLHQsZSl9LGUucHJvdG90eXBlLmVtcGxhY2U9ZnVuY3Rpb24odCxlLHIpe3ZhciBuPTIqdDtyZXR1cm4gdGhpcy5mbG9hdDMyW24rMF09ZSx0aGlzLmZsb2F0MzJbbisxXT1yLHR9LGV9KF9pKTtHaS5wcm90b3R5cGUuYnl0ZXNQZXJFbGVtZW50PTgsRm4oIlN0cnVjdEFycmF5TGF5b3V0MmY4IixHaSk7dmFyIFppPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt0LmFwcGx5KHRoaXMsYXJndW1lbnRzKTt9cmV0dXJuIHQmJihlLl9fcHJvdG9fXz10KSwoZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSkpLmNvbnN0cnVjdG9yPWUsZS5wcm90b3R5cGUuX3JlZnJlc2hWaWV3cz1mdW5jdGlvbigpe3RoaXMudWludDg9bmV3IFVpbnQ4QXJyYXkodGhpcy5hcnJheUJ1ZmZlciksdGhpcy5mbG9hdDMyPW5ldyBGbG9hdDMyQXJyYXkodGhpcy5hcnJheUJ1ZmZlcik7fSxlLnByb3RvdHlwZS5lbXBsYWNlQmFjaz1mdW5jdGlvbih0LGUscixuKXt2YXIgaT10aGlzLmxlbmd0aDtyZXR1cm4gdGhpcy5yZXNpemUoaSsxKSx0aGlzLmVtcGxhY2UoaSx0LGUscixuKX0sZS5wcm90b3R5cGUuZW1wbGFjZT1mdW5jdGlvbih0LGUscixuLGkpe3ZhciBhPTQqdDtyZXR1cm4gdGhpcy5mbG9hdDMyW2ErMF09ZSx0aGlzLmZsb2F0MzJbYSsxXT1yLHRoaXMuZmxvYXQzMlthKzJdPW4sdGhpcy5mbG9hdDMyW2ErM109aSx0fSxlfShfaSk7WmkucHJvdG90eXBlLmJ5dGVzUGVyRWxlbWVudD0xNixGbigiU3RydWN0QXJyYXlMYXlvdXQ0ZjE2IixaaSk7dmFyIFhpPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt0LmFwcGx5KHRoaXMsYXJndW1lbnRzKTt9dCYmKGUuX19wcm90b19fPXQpLChlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlKSkuY29uc3RydWN0b3I9ZTt2YXIgcj17YW5jaG9yUG9pbnRYOntjb25maWd1cmFibGU6ITB9LGFuY2hvclBvaW50WTp7Y29uZmlndXJhYmxlOiEwfSx4MTp7Y29uZmlndXJhYmxlOiEwfSx5MTp7Y29uZmlndXJhYmxlOiEwfSx4Mjp7Y29uZmlndXJhYmxlOiEwfSx5Mjp7Y29uZmlndXJhYmxlOiEwfSxmZWF0dXJlSW5kZXg6e2NvbmZpZ3VyYWJsZTohMH0sc291cmNlTGF5ZXJJbmRleDp7Y29uZmlndXJhYmxlOiEwfSxidWNrZXRJbmRleDp7Y29uZmlndXJhYmxlOiEwfSxhbmNob3JQb2ludDp7Y29uZmlndXJhYmxlOiEwfX07cmV0dXJuIHIuYW5jaG9yUG9pbnRYLmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS5pbnQxNlt0aGlzLl9wb3MyKzBdfSxyLmFuY2hvclBvaW50WS5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkuaW50MTZbdGhpcy5fcG9zMisxXX0sci54MS5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkuaW50MTZbdGhpcy5fcG9zMisyXX0sci55MS5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkuaW50MTZbdGhpcy5fcG9zMiszXX0sci54Mi5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkuaW50MTZbdGhpcy5fcG9zMis0XX0sci55Mi5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkuaW50MTZbdGhpcy5fcG9zMis1XX0sci5mZWF0dXJlSW5kZXguZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LnVpbnQzMlt0aGlzLl9wb3M0KzNdfSxyLnNvdXJjZUxheWVySW5kZXguZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LnVpbnQxNlt0aGlzLl9wb3MyKzhdfSxyLmJ1Y2tldEluZGV4LmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS51aW50MTZbdGhpcy5fcG9zMis5XX0sci5hbmNob3JQb2ludC5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGkodGhpcy5hbmNob3JQb2ludFgsdGhpcy5hbmNob3JQb2ludFkpfSxPYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLnByb3RvdHlwZSxyKSxlfSh3aSk7WGkucHJvdG90eXBlLnNpemU9MjA7dmFyIEppPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt0LmFwcGx5KHRoaXMsYXJndW1lbnRzKTt9cmV0dXJuIHQmJihlLl9fcHJvdG9fXz10KSwoZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSkpLmNvbnN0cnVjdG9yPWUsZS5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgWGkodGhpcyx0KX0sZX0oQmkpO0ZuKCJDb2xsaXNpb25Cb3hBcnJheSIsSmkpO3ZhciBIaT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7fXQmJihlLl9fcHJvdG9fXz10KSwoZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSkpLmNvbnN0cnVjdG9yPWU7dmFyIHI9e2FuY2hvclg6e2NvbmZpZ3VyYWJsZTohMH0sYW5jaG9yWTp7Y29uZmlndXJhYmxlOiEwfSxnbHlwaFN0YXJ0SW5kZXg6e2NvbmZpZ3VyYWJsZTohMH0sbnVtR2x5cGhzOntjb25maWd1cmFibGU6ITB9LHZlcnRleFN0YXJ0SW5kZXg6e2NvbmZpZ3VyYWJsZTohMH0sbGluZVN0YXJ0SW5kZXg6e2NvbmZpZ3VyYWJsZTohMH0sbGluZUxlbmd0aDp7Y29uZmlndXJhYmxlOiEwfSxzZWdtZW50Ontjb25maWd1cmFibGU6ITB9LGxvd2VyU2l6ZTp7Y29uZmlndXJhYmxlOiEwfSx1cHBlclNpemU6e2NvbmZpZ3VyYWJsZTohMH0sbGluZU9mZnNldFg6e2NvbmZpZ3VyYWJsZTohMH0sbGluZU9mZnNldFk6e2NvbmZpZ3VyYWJsZTohMH0sd3JpdGluZ01vZGU6e2NvbmZpZ3VyYWJsZTohMH0scGxhY2VkT3JpZW50YXRpb246e2NvbmZpZ3VyYWJsZTohMH0saGlkZGVuOntjb25maWd1cmFibGU6ITB9LGNyb3NzVGlsZUlEOntjb25maWd1cmFibGU6ITB9LGFzc29jaWF0ZWRJY29uSW5kZXg6e2NvbmZpZ3VyYWJsZTohMH19O3JldHVybiByLmFuY2hvclguZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LmludDE2W3RoaXMuX3BvczIrMF19LHIuYW5jaG9yWS5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkuaW50MTZbdGhpcy5fcG9zMisxXX0sci5nbHlwaFN0YXJ0SW5kZXguZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LnVpbnQxNlt0aGlzLl9wb3MyKzJdfSxyLm51bUdseXBocy5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkudWludDE2W3RoaXMuX3BvczIrM119LHIudmVydGV4U3RhcnRJbmRleC5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkudWludDMyW3RoaXMuX3BvczQrMl19LHIubGluZVN0YXJ0SW5kZXguZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LnVpbnQzMlt0aGlzLl9wb3M0KzNdfSxyLmxpbmVMZW5ndGguZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LnVpbnQzMlt0aGlzLl9wb3M0KzRdfSxyLnNlZ21lbnQuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LnVpbnQxNlt0aGlzLl9wb3MyKzEwXX0sci5sb3dlclNpemUuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LnVpbnQxNlt0aGlzLl9wb3MyKzExXX0sci51cHBlclNpemUuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LnVpbnQxNlt0aGlzLl9wb3MyKzEyXX0sci5saW5lT2Zmc2V0WC5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkuZmxvYXQzMlt0aGlzLl9wb3M0KzddfSxyLmxpbmVPZmZzZXRZLmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS5mbG9hdDMyW3RoaXMuX3BvczQrOF19LHIud3JpdGluZ01vZGUuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LnVpbnQ4W3RoaXMuX3BvczErMzZdfSxyLnBsYWNlZE9yaWVudGF0aW9uLmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS51aW50OFt0aGlzLl9wb3MxKzM3XX0sci5wbGFjZWRPcmllbnRhdGlvbi5zZXQ9ZnVuY3Rpb24odCl7dGhpcy5fc3RydWN0QXJyYXkudWludDhbdGhpcy5fcG9zMSszN109dDt9LHIuaGlkZGVuLmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS51aW50OFt0aGlzLl9wb3MxKzM4XX0sci5oaWRkZW4uc2V0PWZ1bmN0aW9uKHQpe3RoaXMuX3N0cnVjdEFycmF5LnVpbnQ4W3RoaXMuX3BvczErMzhdPXQ7fSxyLmNyb3NzVGlsZUlELmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS51aW50MzJbdGhpcy5fcG9zNCsxMF19LHIuY3Jvc3NUaWxlSUQuc2V0PWZ1bmN0aW9uKHQpe3RoaXMuX3N0cnVjdEFycmF5LnVpbnQzMlt0aGlzLl9wb3M0KzEwXT10O30sci5hc3NvY2lhdGVkSWNvbkluZGV4LmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS5pbnQxNlt0aGlzLl9wb3MyKzIyXX0sT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZS5wcm90b3R5cGUsciksZX0od2kpO0hpLnByb3RvdHlwZS5zaXplPTQ4O3ZhciBZaT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7fXJldHVybiB0JiYoZS5fX3Byb3RvX189dCksKGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUpKS5jb25zdHJ1Y3Rvcj1lLGUucHJvdG90eXBlLmdldD1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IEhpKHRoaXMsdCl9LGV9KFJpKTtGbigiUGxhY2VkU3ltYm9sQXJyYXkiLFlpKTt2YXIgJGk9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3QuYXBwbHkodGhpcyxhcmd1bWVudHMpO310JiYoZS5fX3Byb3RvX189dCksKGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUpKS5jb25zdHJ1Y3Rvcj1lO3ZhciByPXthbmNob3JYOntjb25maWd1cmFibGU6ITB9LGFuY2hvclk6e2NvbmZpZ3VyYWJsZTohMH0scmlnaHRKdXN0aWZpZWRUZXh0U3ltYm9sSW5kZXg6e2NvbmZpZ3VyYWJsZTohMH0sY2VudGVySnVzdGlmaWVkVGV4dFN5bWJvbEluZGV4Ontjb25maWd1cmFibGU6ITB9LGxlZnRKdXN0aWZpZWRUZXh0U3ltYm9sSW5kZXg6e2NvbmZpZ3VyYWJsZTohMH0sdmVydGljYWxQbGFjZWRUZXh0U3ltYm9sSW5kZXg6e2NvbmZpZ3VyYWJsZTohMH0scGxhY2VkSWNvblN5bWJvbEluZGV4Ontjb25maWd1cmFibGU6ITB9LHZlcnRpY2FsUGxhY2VkSWNvblN5bWJvbEluZGV4Ontjb25maWd1cmFibGU6ITB9LGtleTp7Y29uZmlndXJhYmxlOiEwfSx0ZXh0Qm94U3RhcnRJbmRleDp7Y29uZmlndXJhYmxlOiEwfSx0ZXh0Qm94RW5kSW5kZXg6e2NvbmZpZ3VyYWJsZTohMH0sdmVydGljYWxUZXh0Qm94U3RhcnRJbmRleDp7Y29uZmlndXJhYmxlOiEwfSx2ZXJ0aWNhbFRleHRCb3hFbmRJbmRleDp7Y29uZmlndXJhYmxlOiEwfSxpY29uQm94U3RhcnRJbmRleDp7Y29uZmlndXJhYmxlOiEwfSxpY29uQm94RW5kSW5kZXg6e2NvbmZpZ3VyYWJsZTohMH0sdmVydGljYWxJY29uQm94U3RhcnRJbmRleDp7Y29uZmlndXJhYmxlOiEwfSx2ZXJ0aWNhbEljb25Cb3hFbmRJbmRleDp7Y29uZmlndXJhYmxlOiEwfSxmZWF0dXJlSW5kZXg6e2NvbmZpZ3VyYWJsZTohMH0sbnVtSG9yaXpvbnRhbEdseXBoVmVydGljZXM6e2NvbmZpZ3VyYWJsZTohMH0sbnVtVmVydGljYWxHbHlwaFZlcnRpY2VzOntjb25maWd1cmFibGU6ITB9LG51bUljb25WZXJ0aWNlczp7Y29uZmlndXJhYmxlOiEwfSxudW1WZXJ0aWNhbEljb25WZXJ0aWNlczp7Y29uZmlndXJhYmxlOiEwfSx1c2VSdW50aW1lQ29sbGlzaW9uQ2lyY2xlczp7Y29uZmlndXJhYmxlOiEwfSxjcm9zc1RpbGVJRDp7Y29uZmlndXJhYmxlOiEwfSx0ZXh0Qm94U2NhbGU6e2NvbmZpZ3VyYWJsZTohMH0sdGV4dE9mZnNldDA6e2NvbmZpZ3VyYWJsZTohMH0sdGV4dE9mZnNldDE6e2NvbmZpZ3VyYWJsZTohMH0sY29sbGlzaW9uQ2lyY2xlRGlhbWV0ZXI6e2NvbmZpZ3VyYWJsZTohMH19O3JldHVybiByLmFuY2hvclguZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LmludDE2W3RoaXMuX3BvczIrMF19LHIuYW5jaG9yWS5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkuaW50MTZbdGhpcy5fcG9zMisxXX0sci5yaWdodEp1c3RpZmllZFRleHRTeW1ib2xJbmRleC5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkuaW50MTZbdGhpcy5fcG9zMisyXX0sci5jZW50ZXJKdXN0aWZpZWRUZXh0U3ltYm9sSW5kZXguZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LmludDE2W3RoaXMuX3BvczIrM119LHIubGVmdEp1c3RpZmllZFRleHRTeW1ib2xJbmRleC5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkuaW50MTZbdGhpcy5fcG9zMis0XX0sci52ZXJ0aWNhbFBsYWNlZFRleHRTeW1ib2xJbmRleC5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkuaW50MTZbdGhpcy5fcG9zMis1XX0sci5wbGFjZWRJY29uU3ltYm9sSW5kZXguZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LmludDE2W3RoaXMuX3BvczIrNl19LHIudmVydGljYWxQbGFjZWRJY29uU3ltYm9sSW5kZXguZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LmludDE2W3RoaXMuX3BvczIrN119LHIua2V5LmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS51aW50MTZbdGhpcy5fcG9zMis4XX0sci50ZXh0Qm94U3RhcnRJbmRleC5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkudWludDE2W3RoaXMuX3BvczIrOV19LHIudGV4dEJveEVuZEluZGV4LmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS51aW50MTZbdGhpcy5fcG9zMisxMF19LHIudmVydGljYWxUZXh0Qm94U3RhcnRJbmRleC5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkudWludDE2W3RoaXMuX3BvczIrMTFdfSxyLnZlcnRpY2FsVGV4dEJveEVuZEluZGV4LmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS51aW50MTZbdGhpcy5fcG9zMisxMl19LHIuaWNvbkJveFN0YXJ0SW5kZXguZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LnVpbnQxNlt0aGlzLl9wb3MyKzEzXX0sci5pY29uQm94RW5kSW5kZXguZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LnVpbnQxNlt0aGlzLl9wb3MyKzE0XX0sci52ZXJ0aWNhbEljb25Cb3hTdGFydEluZGV4LmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS51aW50MTZbdGhpcy5fcG9zMisxNV19LHIudmVydGljYWxJY29uQm94RW5kSW5kZXguZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LnVpbnQxNlt0aGlzLl9wb3MyKzE2XX0sci5mZWF0dXJlSW5kZXguZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LnVpbnQxNlt0aGlzLl9wb3MyKzE3XX0sci5udW1Ib3Jpem9udGFsR2x5cGhWZXJ0aWNlcy5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkudWludDE2W3RoaXMuX3BvczIrMThdfSxyLm51bVZlcnRpY2FsR2x5cGhWZXJ0aWNlcy5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkudWludDE2W3RoaXMuX3BvczIrMTldfSxyLm51bUljb25WZXJ0aWNlcy5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkudWludDE2W3RoaXMuX3BvczIrMjBdfSxyLm51bVZlcnRpY2FsSWNvblZlcnRpY2VzLmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS51aW50MTZbdGhpcy5fcG9zMisyMV19LHIudXNlUnVudGltZUNvbGxpc2lvbkNpcmNsZXMuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LnVpbnQxNlt0aGlzLl9wb3MyKzIyXX0sci5jcm9zc1RpbGVJRC5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkudWludDMyW3RoaXMuX3BvczQrMTJdfSxyLmNyb3NzVGlsZUlELnNldD1mdW5jdGlvbih0KXt0aGlzLl9zdHJ1Y3RBcnJheS51aW50MzJbdGhpcy5fcG9zNCsxMl09dDt9LHIudGV4dEJveFNjYWxlLmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS5mbG9hdDMyW3RoaXMuX3BvczQrMTNdfSxyLnRleHRPZmZzZXQwLmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS5mbG9hdDMyW3RoaXMuX3BvczQrMTRdfSxyLnRleHRPZmZzZXQxLmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS5mbG9hdDMyW3RoaXMuX3BvczQrMTVdfSxyLmNvbGxpc2lvbkNpcmNsZURpYW1ldGVyLmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS5mbG9hdDMyW3RoaXMuX3BvczQrMTZdfSxPYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLnByb3RvdHlwZSxyKSxlfSh3aSk7JGkucHJvdG90eXBlLnNpemU9Njg7dmFyIFdpPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt0LmFwcGx5KHRoaXMsYXJndW1lbnRzKTt9cmV0dXJuIHQmJihlLl9fcHJvdG9fXz10KSwoZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSkpLmNvbnN0cnVjdG9yPWUsZS5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgJGkodGhpcyx0KX0sZX0oT2kpO0ZuKCJTeW1ib2xJbnN0YW5jZUFycmF5IixXaSk7dmFyIFFpPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt0LmFwcGx5KHRoaXMsYXJndW1lbnRzKTt9cmV0dXJuIHQmJihlLl9fcHJvdG9fXz10KSwoZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSkpLmNvbnN0cnVjdG9yPWUsZS5wcm90b3R5cGUuZ2V0b2Zmc2V0WD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5mbG9hdDMyWzEqdCswXX0sZX0oVWkpO0ZuKCJHbHlwaE9mZnNldEFycmF5IixRaSk7dmFyIHRhPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt0LmFwcGx5KHRoaXMsYXJndW1lbnRzKTt9cmV0dXJuIHQmJihlLl9fcHJvdG9fXz10KSwoZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSkpLmNvbnN0cnVjdG9yPWUsZS5wcm90b3R5cGUuZ2V0eD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5pbnQxNlszKnQrMF19LGUucHJvdG90eXBlLmdldHk9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuaW50MTZbMyp0KzFdfSxlLnByb3RvdHlwZS5nZXR0aWxlVW5pdERpc3RhbmNlRnJvbUFuY2hvcj1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5pbnQxNlszKnQrMl19LGV9KGppKTtGbigiU3ltYm9sTGluZVZlcnRleEFycmF5Iix0YSk7dmFyIGVhPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt0LmFwcGx5KHRoaXMsYXJndW1lbnRzKTt9dCYmKGUuX19wcm90b19fPXQpLChlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlKSkuY29uc3RydWN0b3I9ZTt2YXIgcj17ZmVhdHVyZUluZGV4Ontjb25maWd1cmFibGU6ITB9LHNvdXJjZUxheWVySW5kZXg6e2NvbmZpZ3VyYWJsZTohMH0sYnVja2V0SW5kZXg6e2NvbmZpZ3VyYWJsZTohMH19O3JldHVybiByLmZlYXR1cmVJbmRleC5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkudWludDMyW3RoaXMuX3BvczQrMF19LHIuc291cmNlTGF5ZXJJbmRleC5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkudWludDE2W3RoaXMuX3BvczIrMl19LHIuYnVja2V0SW5kZXguZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LnVpbnQxNlt0aGlzLl9wb3MyKzNdfSxPYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLnByb3RvdHlwZSxyKSxlfSh3aSk7ZWEucHJvdG90eXBlLnNpemU9ODt2YXIgcmE9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3QuYXBwbHkodGhpcyxhcmd1bWVudHMpO31yZXR1cm4gdCYmKGUuX19wcm90b19fPXQpLChlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlKSkuY29uc3RydWN0b3I9ZSxlLnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBlYSh0aGlzLHQpfSxlfShxaSk7Rm4oIkZlYXR1cmVJbmRleEFycmF5IixyYSk7dmFyIG5hPUFpKFt7bmFtZToiYV9wb3MiLGNvbXBvbmVudHM6Mix0eXBlOiJJbnQxNiJ9XSw0KS5tZW1iZXJzLGlhPWZ1bmN0aW9uKHQpe3ZvaWQgMD09PXQmJih0PVtdKSx0aGlzLnNlZ21lbnRzPXQ7fTtmdW5jdGlvbiBhYSh0LGUpe3JldHVybiAyNTYqKHQ9dShNYXRoLmZsb29yKHQpLDAsMjU1KSkrdShNYXRoLmZsb29yKGUpLDAsMjU1KX1pYS5wcm90b3R5cGUucHJlcGFyZVNlZ21lbnQ9ZnVuY3Rpb24odCxlLHIsbil7dmFyIGk9dGhpcy5zZWdtZW50c1t0aGlzLnNlZ21lbnRzLmxlbmd0aC0xXTtyZXR1cm4gdD5pYS5NQVhfVkVSVEVYX0FSUkFZX0xFTkdUSCYmdygiTWF4IHZlcnRpY2VzIHBlciBzZWdtZW50IGlzICIraWEuTUFYX1ZFUlRFWF9BUlJBWV9MRU5HVEgrIjogYnVja2V0IHJlcXVlc3RlZCAiK3QpLCghaXx8aS52ZXJ0ZXhMZW5ndGgrdD5pYS5NQVhfVkVSVEVYX0FSUkFZX0xFTkdUSHx8aS5zb3J0S2V5IT09bikmJihpPXt2ZXJ0ZXhPZmZzZXQ6ZS5sZW5ndGgscHJpbWl0aXZlT2Zmc2V0OnIubGVuZ3RoLHZlcnRleExlbmd0aDowLHByaW1pdGl2ZUxlbmd0aDowfSx2b2lkIDAhPT1uJiYoaS5zb3J0S2V5PW4pLHRoaXMuc2VnbWVudHMucHVzaChpKSksaX0saWEucHJvdG90eXBlLmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnNlZ21lbnRzfSxpYS5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe2Zvcih2YXIgdD0wLGU9dGhpcy5zZWdtZW50czt0PGUubGVuZ3RoO3QrPTEpe3ZhciByPWVbdF07Zm9yKHZhciBuIGluIHIudmFvcylyLnZhb3Nbbl0uZGVzdHJveSgpO319LGlhLnNpbXBsZVNlZ21lbnQ9ZnVuY3Rpb24odCxlLHIsbil7cmV0dXJuIG5ldyBpYShbe3ZlcnRleE9mZnNldDp0LHByaW1pdGl2ZU9mZnNldDplLHZlcnRleExlbmd0aDpyLHByaW1pdGl2ZUxlbmd0aDpuLHZhb3M6e30sc29ydEtleTowfV0pfSxpYS5NQVhfVkVSVEVYX0FSUkFZX0xFTkdUSD1NYXRoLnBvdygyLDE2KS0xLEZuKCJTZWdtZW50VmVjdG9yIixpYSk7dmFyIG9hPUFpKFt7bmFtZToiYV9wYXR0ZXJuX2Zyb20iLGNvbXBvbmVudHM6NCx0eXBlOiJVaW50MTYifSx7bmFtZToiYV9wYXR0ZXJuX3RvIixjb21wb25lbnRzOjQsdHlwZToiVWludDE2In0se25hbWU6ImFfcGl4ZWxfcmF0aW9fZnJvbSIsY29tcG9uZW50czoxLHR5cGU6IlVpbnQ4In0se25hbWU6ImFfcGl4ZWxfcmF0aW9fdG8iLGNvbXBvbmVudHM6MSx0eXBlOiJVaW50OCJ9XSksc2E9ZSgoZnVuY3Rpb24odCl7dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSl7dmFyIHIsbixpLGEsbyxzLHUsbDtmb3Iobj10Lmxlbmd0aC0ocj0zJnQubGVuZ3RoKSxpPWUsbz0zNDMyOTE4MzUzLHM9NDYxODQ1OTA3LGw9MDtsPG47KXU9MjU1JnQuY2hhckNvZGVBdChsKXwoMjU1JnQuY2hhckNvZGVBdCgrK2wpKTw8OHwoMjU1JnQuY2hhckNvZGVBdCgrK2wpKTw8MTZ8KDI1NSZ0LmNoYXJDb2RlQXQoKytsKSk8PDI0LCsrbCxpPTI3NDkyKyg2NTUzNSYoYT01Kig2NTUzNSYoaT0oaV49dT0oNjU1MzUmKHU9KHU9KDY1NTM1JnUpKm8rKCgodT4+PjE2KSpvJjY1NTM1KTw8MTYpJjQyOTQ5NjcyOTUpPDwxNXx1Pj4+MTcpKSpzKygoKHU+Pj4xNikqcyY2NTUzNSk8PDE2KSY0Mjk0OTY3Mjk1KTw8MTN8aT4+PjE5KSkrKCg1KihpPj4+MTYpJjY1NTM1KTw8MTYpJjQyOTQ5NjcyOTUpKSsoKDU4OTY0KyhhPj4+MTYpJjY1NTM1KTw8MTYpO3N3aXRjaCh1PTAscil7Y2FzZSAzOnVePSgyNTUmdC5jaGFyQ29kZUF0KGwrMikpPDwxNjtjYXNlIDI6dV49KDI1NSZ0LmNoYXJDb2RlQXQobCsxKSk8PDg7Y2FzZSAxOmlePXU9KDY1NTM1Jih1PSh1PSg2NTUzNSYodV49MjU1JnQuY2hhckNvZGVBdChsKSkpKm8rKCgodT4+PjE2KSpvJjY1NTM1KTw8MTYpJjQyOTQ5NjcyOTUpPDwxNXx1Pj4+MTcpKSpzKygoKHU+Pj4xNikqcyY2NTUzNSk8PDE2KSY0Mjk0OTY3Mjk1O31yZXR1cm4gaV49dC5sZW5ndGgsaT0yMjQ2ODIyNTA3Kig2NTUzNSYoaV49aT4+PjE2KSkrKCgyMjQ2ODIyNTA3KihpPj4+MTYpJjY1NTM1KTw8MTYpJjQyOTQ5NjcyOTUsaT0zMjY2NDg5OTA5Kig2NTUzNSYoaV49aT4+PjEzKSkrKCgzMjY2NDg5OTA5KihpPj4+MTYpJjY1NTM1KTw8MTYpJjQyOTQ5NjcyOTUsKGlePWk+Pj4xNik+Pj4wfTt9KSksdWE9ZSgoZnVuY3Rpb24odCl7dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciByLG49dC5sZW5ndGgsaT1lXm4sYT0wO24+PTQ7KXI9MTU0MDQ4MzQ3NyooNjU1MzUmKHI9MjU1JnQuY2hhckNvZGVBdChhKXwoMjU1JnQuY2hhckNvZGVBdCgrK2EpKTw8OHwoMjU1JnQuY2hhckNvZGVBdCgrK2EpKTw8MTZ8KDI1NSZ0LmNoYXJDb2RlQXQoKythKSk8PDI0KSkrKCgxNTQwNDgzNDc3KihyPj4+MTYpJjY1NTM1KTw8MTYpLGk9MTU0MDQ4MzQ3NyooNjU1MzUmaSkrKCgxNTQwNDgzNDc3KihpPj4+MTYpJjY1NTM1KTw8MTYpXihyPTE1NDA0ODM0NzcqKDY1NTM1JihyXj1yPj4+MjQpKSsoKDE1NDA0ODM0NzcqKHI+Pj4xNikmNjU1MzUpPDwxNikpLG4tPTQsKythO3N3aXRjaChuKXtjYXNlIDM6aV49KDI1NSZ0LmNoYXJDb2RlQXQoYSsyKSk8PDE2O2Nhc2UgMjppXj0oMjU1JnQuY2hhckNvZGVBdChhKzEpKTw8ODtjYXNlIDE6aT0xNTQwNDgzNDc3Kig2NTUzNSYoaV49MjU1JnQuY2hhckNvZGVBdChhKSkpKygoMTU0MDQ4MzQ3NyooaT4+PjE2KSY2NTUzNSk8PDE2KTt9cmV0dXJuIGk9MTU0MDQ4MzQ3NyooNjU1MzUmKGlePWk+Pj4xMykpKygoMTU0MDQ4MzQ3NyooaT4+PjE2KSY2NTUzNSk8PDE2KSwoaV49aT4+PjE1KT4+PjB9O30pKSxsYT1zYSxwYT11YTtsYS5tdXJtdXIzPXNhLGxhLm11cm11cjI9cGE7dmFyIGNhPWZ1bmN0aW9uKCl7dGhpcy5pZHM9W10sdGhpcy5wb3NpdGlvbnM9W10sdGhpcy5pbmRleGVkPSExO307Y2EucHJvdG90eXBlLmFkZD1mdW5jdGlvbih0LGUscixuKXt0aGlzLmlkcy5wdXNoKGZhKHQpKSx0aGlzLnBvc2l0aW9ucy5wdXNoKGUscixuKTt9LGNhLnByb3RvdHlwZS5nZXRQb3NpdGlvbnM9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPWZhKHQpLHI9MCxuPXRoaXMuaWRzLmxlbmd0aC0xO3I8bjspe3ZhciBpPXIrbj4+MTt0aGlzLmlkc1tpXT49ZT9uPWk6cj1pKzE7fWZvcih2YXIgYT1bXTt0aGlzLmlkc1tyXT09PWU7KWEucHVzaCh7aW5kZXg6dGhpcy5wb3NpdGlvbnNbMypyXSxzdGFydDp0aGlzLnBvc2l0aW9uc1szKnIrMV0sZW5kOnRoaXMucG9zaXRpb25zWzMqcisyXX0pLHIrKztyZXR1cm4gYX0sY2Euc2VyaWFsaXplPWZ1bmN0aW9uKHQsZSl7dmFyIHI9bmV3IEZsb2F0NjRBcnJheSh0Lmlkcyksbj1uZXcgVWludDMyQXJyYXkodC5wb3NpdGlvbnMpO3JldHVybiBmdW5jdGlvbiB0KGUscixuLGkpe2Zvcig7bjxpOyl7Zm9yKHZhciBhPWVbbitpPj4xXSxvPW4tMSxzPWkrMTs7KXtkb3tvKys7fXdoaWxlKGVbb108YSk7ZG97cy0tO313aGlsZShlW3NdPmEpO2lmKG8+PXMpYnJlYWs7eWEoZSxvLHMpLHlhKHIsMypvLDMqcykseWEociwzKm8rMSwzKnMrMSkseWEociwzKm8rMiwzKnMrMik7fXMtbjxpLXM/KHQoZSxyLG4scyksbj1zKzEpOih0KGUscixzKzEsaSksaT1zKTt9fShyLG4sMCxyLmxlbmd0aC0xKSxlJiZlLnB1c2goci5idWZmZXIsbi5idWZmZXIpLHtpZHM6cixwb3NpdGlvbnM6bn19LGNhLmRlc2VyaWFsaXplPWZ1bmN0aW9uKHQpe3ZhciBlPW5ldyBjYTtyZXR1cm4gZS5pZHM9dC5pZHMsZS5wb3NpdGlvbnM9dC5wb3NpdGlvbnMsZS5pbmRleGVkPSEwLGV9O3ZhciBoYT1NYXRoLnBvdygyLDUzKS0xO2Z1bmN0aW9uIGZhKHQpe3ZhciBlPSt0O3JldHVybiAhaXNOYU4oZSkmJmU8PWhhP2U6bGEoU3RyaW5nKHQpKX1mdW5jdGlvbiB5YSh0LGUscil7dmFyIG49dFtlXTt0W2VdPXRbcl0sdFtyXT1uO31GbigiRmVhdHVyZVBvc2l0aW9uTWFwIixjYSk7dmFyIGRhPWZ1bmN0aW9uKHQsZSl7dGhpcy5nbD10LmdsLHRoaXMubG9jYXRpb249ZTt9LG1hPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxyKXt0LmNhbGwodGhpcyxlLHIpLHRoaXMuY3VycmVudD0wO31yZXR1cm4gdCYmKGUuX19wcm90b19fPXQpLChlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlKSkuY29uc3RydWN0b3I9ZSxlLnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24odCl7dGhpcy5jdXJyZW50IT09dCYmKHRoaXMuY3VycmVudD10LHRoaXMuZ2wudW5pZm9ybTFpKHRoaXMubG9jYXRpb24sdCkpO30sZX0oZGEpLHZhPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxyKXt0LmNhbGwodGhpcyxlLHIpLHRoaXMuY3VycmVudD0wO31yZXR1cm4gdCYmKGUuX19wcm90b19fPXQpLChlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlKSkuY29uc3RydWN0b3I9ZSxlLnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24odCl7dGhpcy5jdXJyZW50IT09dCYmKHRoaXMuY3VycmVudD10LHRoaXMuZ2wudW5pZm9ybTFmKHRoaXMubG9jYXRpb24sdCkpO30sZX0oZGEpLGdhPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxyKXt0LmNhbGwodGhpcyxlLHIpLHRoaXMuY3VycmVudD1bMCwwXTt9cmV0dXJuIHQmJihlLl9fcHJvdG9fXz10KSwoZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSkpLmNvbnN0cnVjdG9yPWUsZS5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKHQpe3RbMF09PT10aGlzLmN1cnJlbnRbMF0mJnRbMV09PT10aGlzLmN1cnJlbnRbMV18fCh0aGlzLmN1cnJlbnQ9dCx0aGlzLmdsLnVuaWZvcm0yZih0aGlzLmxvY2F0aW9uLHRbMF0sdFsxXSkpO30sZX0oZGEpLHhhPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxyKXt0LmNhbGwodGhpcyxlLHIpLHRoaXMuY3VycmVudD1bMCwwLDBdO31yZXR1cm4gdCYmKGUuX19wcm90b19fPXQpLChlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlKSkuY29uc3RydWN0b3I9ZSxlLnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24odCl7dFswXT09PXRoaXMuY3VycmVudFswXSYmdFsxXT09PXRoaXMuY3VycmVudFsxXSYmdFsyXT09PXRoaXMuY3VycmVudFsyXXx8KHRoaXMuY3VycmVudD10LHRoaXMuZ2wudW5pZm9ybTNmKHRoaXMubG9jYXRpb24sdFswXSx0WzFdLHRbMl0pKTt9LGV9KGRhKSxiYT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUscil7dC5jYWxsKHRoaXMsZSxyKSx0aGlzLmN1cnJlbnQ9WzAsMCwwLDBdO31yZXR1cm4gdCYmKGUuX19wcm90b19fPXQpLChlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlKSkuY29uc3RydWN0b3I9ZSxlLnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24odCl7dFswXT09PXRoaXMuY3VycmVudFswXSYmdFsxXT09PXRoaXMuY3VycmVudFsxXSYmdFsyXT09PXRoaXMuY3VycmVudFsyXSYmdFszXT09PXRoaXMuY3VycmVudFszXXx8KHRoaXMuY3VycmVudD10LHRoaXMuZ2wudW5pZm9ybTRmKHRoaXMubG9jYXRpb24sdFswXSx0WzFdLHRbMl0sdFszXSkpO30sZX0oZGEpLHdhPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxyKXt0LmNhbGwodGhpcyxlLHIpLHRoaXMuY3VycmVudD0kdC50cmFuc3BhcmVudDt9cmV0dXJuIHQmJihlLl9fcHJvdG9fXz10KSwoZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSkpLmNvbnN0cnVjdG9yPWUsZS5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKHQpe3Qucj09PXRoaXMuY3VycmVudC5yJiZ0Lmc9PT10aGlzLmN1cnJlbnQuZyYmdC5iPT09dGhpcy5jdXJyZW50LmImJnQuYT09PXRoaXMuY3VycmVudC5hfHwodGhpcy5jdXJyZW50PXQsdGhpcy5nbC51bmlmb3JtNGYodGhpcy5sb2NhdGlvbix0LnIsdC5nLHQuYix0LmEpKTt9LGV9KGRhKSxfYT1uZXcgRmxvYXQzMkFycmF5KDE2KSxBYT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUscil7dC5jYWxsKHRoaXMsZSxyKSx0aGlzLmN1cnJlbnQ9X2E7fXJldHVybiB0JiYoZS5fX3Byb3RvX189dCksKGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUpKS5jb25zdHJ1Y3Rvcj1lLGUucHJvdG90eXBlLnNldD1mdW5jdGlvbih0KXtpZih0WzEyXSE9PXRoaXMuY3VycmVudFsxMl18fHRbMF0hPT10aGlzLmN1cnJlbnRbMF0pcmV0dXJuIHRoaXMuY3VycmVudD10LHZvaWQgdGhpcy5nbC51bmlmb3JtTWF0cml4NGZ2KHRoaXMubG9jYXRpb24sITEsdCk7Zm9yKHZhciBlPTE7ZTwxNjtlKyspaWYodFtlXSE9PXRoaXMuY3VycmVudFtlXSl7dGhpcy5jdXJyZW50PXQsdGhpcy5nbC51bmlmb3JtTWF0cml4NGZ2KHRoaXMubG9jYXRpb24sITEsdCk7YnJlYWt9fSxlfShkYSk7ZnVuY3Rpb24gU2EodCl7cmV0dXJuIFthYSgyNTUqdC5yLDI1NSp0LmcpLGFhKDI1NSp0LmIsMjU1KnQuYSldfXZhciBrYT1mdW5jdGlvbih0LGUscil7dGhpcy52YWx1ZT10LHRoaXMudW5pZm9ybU5hbWVzPWUubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gInVfIit0fSkpLHRoaXMudHlwZT1yO307a2EucHJvdG90eXBlLnNldFVuaWZvcm09ZnVuY3Rpb24odCxlLHIpe3Quc2V0KHIuY29uc3RhbnRPcih0aGlzLnZhbHVlKSk7fSxrYS5wcm90b3R5cGUuZ2V0QmluZGluZz1mdW5jdGlvbih0LGUscil7cmV0dXJuICJjb2xvciI9PT10aGlzLnR5cGU/bmV3IHdhKHQsZSk6bmV3IHZhKHQsZSl9O3ZhciBJYT1mdW5jdGlvbih0LGUpe3RoaXMudW5pZm9ybU5hbWVzPWUubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gInVfIit0fSkpLHRoaXMucGF0dGVybkZyb209bnVsbCx0aGlzLnBhdHRlcm5Ubz1udWxsLHRoaXMucGl4ZWxSYXRpb0Zyb209MSx0aGlzLnBpeGVsUmF0aW9Ubz0xO307SWEucHJvdG90eXBlLnNldENvbnN0YW50UGF0dGVyblBvc2l0aW9ucz1mdW5jdGlvbih0LGUpe3RoaXMucGl4ZWxSYXRpb0Zyb209ZS5waXhlbFJhdGlvLHRoaXMucGl4ZWxSYXRpb1RvPXQucGl4ZWxSYXRpbyx0aGlzLnBhdHRlcm5Gcm9tPWUudGxicix0aGlzLnBhdHRlcm5Ubz10LnRsYnI7fSxJYS5wcm90b3R5cGUuc2V0VW5pZm9ybT1mdW5jdGlvbih0LGUscixuKXt2YXIgaT0idV9wYXR0ZXJuX3RvIj09PW4/dGhpcy5wYXR0ZXJuVG86InVfcGF0dGVybl9mcm9tIj09PW4/dGhpcy5wYXR0ZXJuRnJvbToidV9waXhlbF9yYXRpb190byI9PT1uP3RoaXMucGl4ZWxSYXRpb1RvOiJ1X3BpeGVsX3JhdGlvX2Zyb20iPT09bj90aGlzLnBpeGVsUmF0aW9Gcm9tOm51bGw7aSYmdC5zZXQoaSk7fSxJYS5wcm90b3R5cGUuZ2V0QmluZGluZz1mdW5jdGlvbih0LGUscil7cmV0dXJuICJ1X3BhdHRlcm4iPT09ci5zdWJzdHIoMCw5KT9uZXcgYmEodCxlKTpuZXcgdmEodCxlKX07dmFyIHphPWZ1bmN0aW9uKHQsZSxyLG4pe3RoaXMuZXhwcmVzc2lvbj10LHRoaXMudHlwZT1yLHRoaXMubWF4VmFsdWU9MCx0aGlzLnBhaW50VmVydGV4QXR0cmlidXRlcz1lLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIHtuYW1lOiJhXyIrdCx0eXBlOiJGbG9hdDMyIixjb21wb25lbnRzOiJjb2xvciI9PT1yPzI6MSxvZmZzZXQ6MH19KSksdGhpcy5wYWludFZlcnRleEFycmF5PW5ldyBuO307emEucHJvdG90eXBlLnBvcHVsYXRlUGFpbnRBcnJheT1mdW5jdGlvbih0LGUscixuLGkpe3ZhciBhPXRoaXMucGFpbnRWZXJ0ZXhBcnJheS5sZW5ndGgsbz10aGlzLmV4cHJlc3Npb24uZXZhbHVhdGUobmV3IGlpKDApLGUse30sbixbXSxpKTt0aGlzLnBhaW50VmVydGV4QXJyYXkucmVzaXplKHQpLHRoaXMuX3NldFBhaW50VmFsdWUoYSx0LG8pO30semEucHJvdG90eXBlLnVwZGF0ZVBhaW50QXJyYXk9ZnVuY3Rpb24odCxlLHIsbil7dmFyIGk9dGhpcy5leHByZXNzaW9uLmV2YWx1YXRlKHt6b29tOjB9LHIsbik7dGhpcy5fc2V0UGFpbnRWYWx1ZSh0LGUsaSk7fSx6YS5wcm90b3R5cGUuX3NldFBhaW50VmFsdWU9ZnVuY3Rpb24odCxlLHIpe2lmKCJjb2xvciI9PT10aGlzLnR5cGUpZm9yKHZhciBuPVNhKHIpLGk9dDtpPGU7aSsrKXRoaXMucGFpbnRWZXJ0ZXhBcnJheS5lbXBsYWNlKGksblswXSxuWzFdKTtlbHNlIHtmb3IodmFyIGE9dDthPGU7YSsrKXRoaXMucGFpbnRWZXJ0ZXhBcnJheS5lbXBsYWNlKGEscik7dGhpcy5tYXhWYWx1ZT1NYXRoLm1heCh0aGlzLm1heFZhbHVlLE1hdGguYWJzKHIpKTt9fSx6YS5wcm90b3R5cGUudXBsb2FkPWZ1bmN0aW9uKHQpe3RoaXMucGFpbnRWZXJ0ZXhBcnJheSYmdGhpcy5wYWludFZlcnRleEFycmF5LmFycmF5QnVmZmVyJiYodGhpcy5wYWludFZlcnRleEJ1ZmZlciYmdGhpcy5wYWludFZlcnRleEJ1ZmZlci5idWZmZXI/dGhpcy5wYWludFZlcnRleEJ1ZmZlci51cGRhdGVEYXRhKHRoaXMucGFpbnRWZXJ0ZXhBcnJheSk6dGhpcy5wYWludFZlcnRleEJ1ZmZlcj10LmNyZWF0ZVZlcnRleEJ1ZmZlcih0aGlzLnBhaW50VmVydGV4QXJyYXksdGhpcy5wYWludFZlcnRleEF0dHJpYnV0ZXMsdGhpcy5leHByZXNzaW9uLmlzU3RhdGVEZXBlbmRlbnQpKTt9LHphLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5wYWludFZlcnRleEJ1ZmZlciYmdGhpcy5wYWludFZlcnRleEJ1ZmZlci5kZXN0cm95KCk7fTt2YXIgQ2E9ZnVuY3Rpb24odCxlLHIsbixpLGEpe3RoaXMuZXhwcmVzc2lvbj10LHRoaXMudW5pZm9ybU5hbWVzPWUubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gInVfIit0KyJfdCJ9KSksdGhpcy50eXBlPXIsdGhpcy51c2VJbnRlZ2VyWm9vbT1uLHRoaXMuem9vbT1pLHRoaXMubWF4VmFsdWU9MCx0aGlzLnBhaW50VmVydGV4QXR0cmlidXRlcz1lLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIHtuYW1lOiJhXyIrdCx0eXBlOiJGbG9hdDMyIixjb21wb25lbnRzOiJjb2xvciI9PT1yPzQ6MixvZmZzZXQ6MH19KSksdGhpcy5wYWludFZlcnRleEFycmF5PW5ldyBhO307Q2EucHJvdG90eXBlLnBvcHVsYXRlUGFpbnRBcnJheT1mdW5jdGlvbih0LGUscixuLGkpe3ZhciBhPXRoaXMuZXhwcmVzc2lvbi5ldmFsdWF0ZShuZXcgaWkodGhpcy56b29tKSxlLHt9LG4sW10saSksbz10aGlzLmV4cHJlc3Npb24uZXZhbHVhdGUobmV3IGlpKHRoaXMuem9vbSsxKSxlLHt9LG4sW10saSkscz10aGlzLnBhaW50VmVydGV4QXJyYXkubGVuZ3RoO3RoaXMucGFpbnRWZXJ0ZXhBcnJheS5yZXNpemUodCksdGhpcy5fc2V0UGFpbnRWYWx1ZShzLHQsYSxvKTt9LENhLnByb3RvdHlwZS51cGRhdGVQYWludEFycmF5PWZ1bmN0aW9uKHQsZSxyLG4pe3ZhciBpPXRoaXMuZXhwcmVzc2lvbi5ldmFsdWF0ZSh7em9vbTp0aGlzLnpvb219LHIsbiksYT10aGlzLmV4cHJlc3Npb24uZXZhbHVhdGUoe3pvb206dGhpcy56b29tKzF9LHIsbik7dGhpcy5fc2V0UGFpbnRWYWx1ZSh0LGUsaSxhKTt9LENhLnByb3RvdHlwZS5fc2V0UGFpbnRWYWx1ZT1mdW5jdGlvbih0LGUscixuKXtpZigiY29sb3IiPT09dGhpcy50eXBlKWZvcih2YXIgaT1TYShyKSxhPVNhKG4pLG89dDtvPGU7bysrKXRoaXMucGFpbnRWZXJ0ZXhBcnJheS5lbXBsYWNlKG8saVswXSxpWzFdLGFbMF0sYVsxXSk7ZWxzZSB7Zm9yKHZhciBzPXQ7czxlO3MrKyl0aGlzLnBhaW50VmVydGV4QXJyYXkuZW1wbGFjZShzLHIsbik7dGhpcy5tYXhWYWx1ZT1NYXRoLm1heCh0aGlzLm1heFZhbHVlLE1hdGguYWJzKHIpLE1hdGguYWJzKG4pKTt9fSxDYS5wcm90b3R5cGUudXBsb2FkPWZ1bmN0aW9uKHQpe3RoaXMucGFpbnRWZXJ0ZXhBcnJheSYmdGhpcy5wYWludFZlcnRleEFycmF5LmFycmF5QnVmZmVyJiYodGhpcy5wYWludFZlcnRleEJ1ZmZlciYmdGhpcy5wYWludFZlcnRleEJ1ZmZlci5idWZmZXI/dGhpcy5wYWludFZlcnRleEJ1ZmZlci51cGRhdGVEYXRhKHRoaXMucGFpbnRWZXJ0ZXhBcnJheSk6dGhpcy5wYWludFZlcnRleEJ1ZmZlcj10LmNyZWF0ZVZlcnRleEJ1ZmZlcih0aGlzLnBhaW50VmVydGV4QXJyYXksdGhpcy5wYWludFZlcnRleEF0dHJpYnV0ZXMsdGhpcy5leHByZXNzaW9uLmlzU3RhdGVEZXBlbmRlbnQpKTt9LENhLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5wYWludFZlcnRleEJ1ZmZlciYmdGhpcy5wYWludFZlcnRleEJ1ZmZlci5kZXN0cm95KCk7fSxDYS5wcm90b3R5cGUuc2V0VW5pZm9ybT1mdW5jdGlvbih0LGUpe3ZhciByPXRoaXMudXNlSW50ZWdlclpvb20/TWF0aC5mbG9vcihlLnpvb20pOmUuem9vbSxuPXUodGhpcy5leHByZXNzaW9uLmludGVycG9sYXRpb25GYWN0b3Iocix0aGlzLnpvb20sdGhpcy56b29tKzEpLDAsMSk7dC5zZXQobik7fSxDYS5wcm90b3R5cGUuZ2V0QmluZGluZz1mdW5jdGlvbih0LGUscil7cmV0dXJuIG5ldyB2YSh0LGUpfTt2YXIgTWE9ZnVuY3Rpb24odCxlLHIsbixpLGEpe3RoaXMuZXhwcmVzc2lvbj10LHRoaXMudHlwZT1lLHRoaXMudXNlSW50ZWdlclpvb209cix0aGlzLnpvb209bix0aGlzLmxheWVySWQ9YSx0aGlzLnpvb21JblBhaW50VmVydGV4QXJyYXk9bmV3IGksdGhpcy56b29tT3V0UGFpbnRWZXJ0ZXhBcnJheT1uZXcgaTt9O01hLnByb3RvdHlwZS5wb3B1bGF0ZVBhaW50QXJyYXk9ZnVuY3Rpb24odCxlLHIpe3ZhciBuPXRoaXMuem9vbUluUGFpbnRWZXJ0ZXhBcnJheS5sZW5ndGg7dGhpcy56b29tSW5QYWludFZlcnRleEFycmF5LnJlc2l6ZSh0KSx0aGlzLnpvb21PdXRQYWludFZlcnRleEFycmF5LnJlc2l6ZSh0KSx0aGlzLl9zZXRQYWludFZhbHVlcyhuLHQsZS5wYXR0ZXJucyYmZS5wYXR0ZXJuc1t0aGlzLmxheWVySWRdLHIpO30sTWEucHJvdG90eXBlLnVwZGF0ZVBhaW50QXJyYXk9ZnVuY3Rpb24odCxlLHIsbixpKXt0aGlzLl9zZXRQYWludFZhbHVlcyh0LGUsci5wYXR0ZXJucyYmci5wYXR0ZXJuc1t0aGlzLmxheWVySWRdLGkpO30sTWEucHJvdG90eXBlLl9zZXRQYWludFZhbHVlcz1mdW5jdGlvbih0LGUscixuKXtpZihuJiZyKXt2YXIgaT1uW3IubWluXSxhPW5bci5taWRdLG89bltyLm1heF07aWYoaSYmYSYmbylmb3IodmFyIHM9dDtzPGU7cysrKXRoaXMuem9vbUluUGFpbnRWZXJ0ZXhBcnJheS5lbXBsYWNlKHMsYS50bFswXSxhLnRsWzFdLGEuYnJbMF0sYS5iclsxXSxpLnRsWzBdLGkudGxbMV0saS5iclswXSxpLmJyWzFdLGEucGl4ZWxSYXRpbyxpLnBpeGVsUmF0aW8pLHRoaXMuem9vbU91dFBhaW50VmVydGV4QXJyYXkuZW1wbGFjZShzLGEudGxbMF0sYS50bFsxXSxhLmJyWzBdLGEuYnJbMV0sby50bFswXSxvLnRsWzFdLG8uYnJbMF0sby5iclsxXSxhLnBpeGVsUmF0aW8sby5waXhlbFJhdGlvKTt9fSxNYS5wcm90b3R5cGUudXBsb2FkPWZ1bmN0aW9uKHQpe3RoaXMuem9vbUluUGFpbnRWZXJ0ZXhBcnJheSYmdGhpcy56b29tSW5QYWludFZlcnRleEFycmF5LmFycmF5QnVmZmVyJiZ0aGlzLnpvb21PdXRQYWludFZlcnRleEFycmF5JiZ0aGlzLnpvb21PdXRQYWludFZlcnRleEFycmF5LmFycmF5QnVmZmVyJiYodGhpcy56b29tSW5QYWludFZlcnRleEJ1ZmZlcj10LmNyZWF0ZVZlcnRleEJ1ZmZlcih0aGlzLnpvb21JblBhaW50VmVydGV4QXJyYXksb2EubWVtYmVycyx0aGlzLmV4cHJlc3Npb24uaXNTdGF0ZURlcGVuZGVudCksdGhpcy56b29tT3V0UGFpbnRWZXJ0ZXhCdWZmZXI9dC5jcmVhdGVWZXJ0ZXhCdWZmZXIodGhpcy56b29tT3V0UGFpbnRWZXJ0ZXhBcnJheSxvYS5tZW1iZXJzLHRoaXMuZXhwcmVzc2lvbi5pc1N0YXRlRGVwZW5kZW50KSk7fSxNYS5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuem9vbU91dFBhaW50VmVydGV4QnVmZmVyJiZ0aGlzLnpvb21PdXRQYWludFZlcnRleEJ1ZmZlci5kZXN0cm95KCksdGhpcy56b29tSW5QYWludFZlcnRleEJ1ZmZlciYmdGhpcy56b29tSW5QYWludFZlcnRleEJ1ZmZlci5kZXN0cm95KCk7fTt2YXIgRWE9ZnVuY3Rpb24odCxlLHIsbil7dGhpcy5iaW5kZXJzPXt9LHRoaXMubGF5b3V0QXR0cmlidXRlcz1uLHRoaXMuX2J1ZmZlcnM9W107dmFyIGk9W107Zm9yKHZhciBhIGluIHQucGFpbnQuX3ZhbHVlcylpZihyKGEpKXt2YXIgbz10LnBhaW50LmdldChhKTtpZihvIGluc3RhbmNlb2YgY2kmJkVyKG8ucHJvcGVydHkuc3BlY2lmaWNhdGlvbikpe3ZhciBzPVBhKGEsdC50eXBlKSx1PW8udmFsdWUsbD1vLnByb3BlcnR5LnNwZWNpZmljYXRpb24udHlwZSxwPW8ucHJvcGVydHkudXNlSW50ZWdlclpvb20sYz1vLnByb3BlcnR5LnNwZWNpZmljYXRpb25bInByb3BlcnR5LXR5cGUiXSxoPSJjcm9zcy1mYWRlZCI9PT1jfHwiY3Jvc3MtZmFkZWQtZGF0YS1kcml2ZW4iPT09YztpZigiY29uc3RhbnQiPT09dS5raW5kKXRoaXMuYmluZGVyc1thXT1oP25ldyBJYSh1LnZhbHVlLHMpOm5ldyBrYSh1LnZhbHVlLHMsbCksaS5wdXNoKCIvdV8iK2EpO2Vsc2UgaWYoInNvdXJjZSI9PT11LmtpbmR8fGgpe3ZhciBmPUJhKGEsbCwic291cmNlIik7dGhpcy5iaW5kZXJzW2FdPWg/bmV3IE1hKHUsbCxwLGUsZix0LmlkKTpuZXcgemEodSxzLGwsZiksaS5wdXNoKCIvYV8iK2EpO31lbHNlIHt2YXIgeT1CYShhLGwsImNvbXBvc2l0ZSIpO3RoaXMuYmluZGVyc1thXT1uZXcgQ2EodSxzLGwscCxlLHkpLGkucHVzaCgiL3pfIithKTt9fX10aGlzLmNhY2hlS2V5PWkuc29ydCgpLmpvaW4oIiIpO307RWEucHJvdG90eXBlLmdldE1heFZhbHVlPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuYmluZGVyc1t0XTtyZXR1cm4gZSBpbnN0YW5jZW9mIHphfHxlIGluc3RhbmNlb2YgQ2E/ZS5tYXhWYWx1ZTowfSxFYS5wcm90b3R5cGUucG9wdWxhdGVQYWludEFycmF5cz1mdW5jdGlvbih0LGUscixuLGkpe2Zvcih2YXIgYSBpbiB0aGlzLmJpbmRlcnMpe3ZhciBvPXRoaXMuYmluZGVyc1thXTsobyBpbnN0YW5jZW9mIHphfHxvIGluc3RhbmNlb2YgQ2F8fG8gaW5zdGFuY2VvZiBNYSkmJm8ucG9wdWxhdGVQYWludEFycmF5KHQsZSxyLG4saSk7fX0sRWEucHJvdG90eXBlLnNldENvbnN0YW50UGF0dGVyblBvc2l0aW9ucz1mdW5jdGlvbih0LGUpe2Zvcih2YXIgciBpbiB0aGlzLmJpbmRlcnMpe3ZhciBuPXRoaXMuYmluZGVyc1tyXTtuIGluc3RhbmNlb2YgSWEmJm4uc2V0Q29uc3RhbnRQYXR0ZXJuUG9zaXRpb25zKHQsZSk7fX0sRWEucHJvdG90eXBlLnVwZGF0ZVBhaW50QXJyYXlzPWZ1bmN0aW9uKHQsZSxyLG4saSl7dmFyIGE9ITE7Zm9yKHZhciBvIGluIHQpZm9yKHZhciBzPTAsdT1lLmdldFBvc2l0aW9ucyhvKTtzPHUubGVuZ3RoO3MrPTEpe3ZhciBsPXVbc10scD1yLmZlYXR1cmUobC5pbmRleCk7Zm9yKHZhciBjIGluIHRoaXMuYmluZGVycyl7dmFyIGg9dGhpcy5iaW5kZXJzW2NdO2lmKChoIGluc3RhbmNlb2YgemF8fGggaW5zdGFuY2VvZiBDYXx8aCBpbnN0YW5jZW9mIE1hKSYmITA9PT1oLmV4cHJlc3Npb24uaXNTdGF0ZURlcGVuZGVudCl7dmFyIGY9bi5wYWludC5nZXQoYyk7aC5leHByZXNzaW9uPWYudmFsdWUsaC51cGRhdGVQYWludEFycmF5KGwuc3RhcnQsbC5lbmQscCx0W29dLGkpLGE9ITA7fX19cmV0dXJuIGF9LEVhLnByb3RvdHlwZS5kZWZpbmVzPWZ1bmN0aW9uKCl7dmFyIHQ9W107Zm9yKHZhciBlIGluIHRoaXMuYmluZGVycyl7dmFyIHI9dGhpcy5iaW5kZXJzW2VdOyhyIGluc3RhbmNlb2Yga2F8fHIgaW5zdGFuY2VvZiBJYSkmJnQucHVzaC5hcHBseSh0LHIudW5pZm9ybU5hbWVzLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuICIjZGVmaW5lIEhBU19VTklGT1JNXyIrdH0pKSk7fXJldHVybiB0fSxFYS5wcm90b3R5cGUuZ2V0UGFpbnRWZXJ0ZXhCdWZmZXJzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2J1ZmZlcnN9LEVhLnByb3RvdHlwZS5nZXRVbmlmb3Jtcz1mdW5jdGlvbih0LGUpe3ZhciByPVtdO2Zvcih2YXIgbiBpbiB0aGlzLmJpbmRlcnMpe3ZhciBpPXRoaXMuYmluZGVyc1tuXTtpZihpIGluc3RhbmNlb2Yga2F8fGkgaW5zdGFuY2VvZiBJYXx8aSBpbnN0YW5jZW9mIENhKWZvcih2YXIgYT0wLG89aS51bmlmb3JtTmFtZXM7YTxvLmxlbmd0aDthKz0xKXt2YXIgcz1vW2FdO2lmKGVbc10pe3ZhciB1PWkuZ2V0QmluZGluZyh0LGVbc10scyk7ci5wdXNoKHtuYW1lOnMscHJvcGVydHk6bixiaW5kaW5nOnV9KTt9fX1yZXR1cm4gcn0sRWEucHJvdG90eXBlLnNldFVuaWZvcm1zPWZ1bmN0aW9uKHQsZSxyLG4pe2Zvcih2YXIgaT0wLGE9ZTtpPGEubGVuZ3RoO2krPTEpe3ZhciBvPWFbaV0scz1vLm5hbWUsdT1vLnByb3BlcnR5O3RoaXMuYmluZGVyc1t1XS5zZXRVbmlmb3JtKG8uYmluZGluZyxuLHIuZ2V0KHUpLHMpO319LEVhLnByb3RvdHlwZS51cGRhdGVQYWludEJ1ZmZlcnM9ZnVuY3Rpb24odCl7Zm9yKHZhciBlIGluIHRoaXMuX2J1ZmZlcnM9W10sdGhpcy5iaW5kZXJzKXt2YXIgcj10aGlzLmJpbmRlcnNbZV07aWYodCYmciBpbnN0YW5jZW9mIE1hKXt2YXIgbj0yPT09dC5mcm9tU2NhbGU/ci56b29tSW5QYWludFZlcnRleEJ1ZmZlcjpyLnpvb21PdXRQYWludFZlcnRleEJ1ZmZlcjtuJiZ0aGlzLl9idWZmZXJzLnB1c2gobik7fWVsc2UgKHIgaW5zdGFuY2VvZiB6YXx8ciBpbnN0YW5jZW9mIENhKSYmci5wYWludFZlcnRleEJ1ZmZlciYmdGhpcy5fYnVmZmVycy5wdXNoKHIucGFpbnRWZXJ0ZXhCdWZmZXIpO319LEVhLnByb3RvdHlwZS51cGxvYWQ9ZnVuY3Rpb24odCl7Zm9yKHZhciBlIGluIHRoaXMuYmluZGVycyl7dmFyIHI9dGhpcy5iaW5kZXJzW2VdOyhyIGluc3RhbmNlb2YgemF8fHIgaW5zdGFuY2VvZiBDYXx8ciBpbnN0YW5jZW9mIE1hKSYmci51cGxvYWQodCk7fXRoaXMudXBkYXRlUGFpbnRCdWZmZXJzKCk7fSxFYS5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe2Zvcih2YXIgdCBpbiB0aGlzLmJpbmRlcnMpe3ZhciBlPXRoaXMuYmluZGVyc1t0XTsoZSBpbnN0YW5jZW9mIHphfHxlIGluc3RhbmNlb2YgQ2F8fGUgaW5zdGFuY2VvZiBNYSkmJmUuZGVzdHJveSgpO319O3ZhciBUYT1mdW5jdGlvbih0LGUscixuKXt2b2lkIDA9PT1uJiYobj1mdW5jdGlvbigpe3JldHVybiAhMH0pLHRoaXMucHJvZ3JhbUNvbmZpZ3VyYXRpb25zPXt9O2Zvcih2YXIgaT0wLGE9ZTtpPGEubGVuZ3RoO2krPTEpe3ZhciBvPWFbaV07dGhpcy5wcm9ncmFtQ29uZmlndXJhdGlvbnNbby5pZF09bmV3IEVhKG8scixuLHQpO310aGlzLm5lZWRzVXBsb2FkPSExLHRoaXMuX2ZlYXR1cmVNYXA9bmV3IGNhLHRoaXMuX2J1ZmZlck9mZnNldD0wO307ZnVuY3Rpb24gUGEodCxlKXtyZXR1cm4geyJ0ZXh0LW9wYWNpdHkiOlsib3BhY2l0eSJdLCJpY29uLW9wYWNpdHkiOlsib3BhY2l0eSJdLCJ0ZXh0LWNvbG9yIjpbImZpbGxfY29sb3IiXSwiaWNvbi1jb2xvciI6WyJmaWxsX2NvbG9yIl0sInRleHQtaGFsby1jb2xvciI6WyJoYWxvX2NvbG9yIl0sImljb24taGFsby1jb2xvciI6WyJoYWxvX2NvbG9yIl0sInRleHQtaGFsby1ibHVyIjpbImhhbG9fYmx1ciJdLCJpY29uLWhhbG8tYmx1ciI6WyJoYWxvX2JsdXIiXSwidGV4dC1oYWxvLXdpZHRoIjpbImhhbG9fd2lkdGgiXSwiaWNvbi1oYWxvLXdpZHRoIjpbImhhbG9fd2lkdGgiXSwibGluZS1nYXAtd2lkdGgiOlsiZ2Fwd2lkdGgiXSwibGluZS1wYXR0ZXJuIjpbInBhdHRlcm5fdG8iLCJwYXR0ZXJuX2Zyb20iLCJwaXhlbF9yYXRpb190byIsInBpeGVsX3JhdGlvX2Zyb20iXSwiZmlsbC1wYXR0ZXJuIjpbInBhdHRlcm5fdG8iLCJwYXR0ZXJuX2Zyb20iLCJwaXhlbF9yYXRpb190byIsInBpeGVsX3JhdGlvX2Zyb20iXSwiZmlsbC1leHRydXNpb24tcGF0dGVybiI6WyJwYXR0ZXJuX3RvIiwicGF0dGVybl9mcm9tIiwicGl4ZWxfcmF0aW9fdG8iLCJwaXhlbF9yYXRpb19mcm9tIl19W3RdfHxbdC5yZXBsYWNlKGUrIi0iLCIiKS5yZXBsYWNlKC8tL2csIl8iKV19ZnVuY3Rpb24gQmEodCxlLHIpe3ZhciBuPXtjb2xvcjp7c291cmNlOkdpLGNvbXBvc2l0ZTpaaX0sbnVtYmVyOntzb3VyY2U6VWksY29tcG9zaXRlOkdpfX0saT1mdW5jdGlvbih0KXtyZXR1cm4geyJsaW5lLXBhdHRlcm4iOntzb3VyY2U6TWksY29tcG9zaXRlOk1pfSwiZmlsbC1wYXR0ZXJuIjp7c291cmNlOk1pLGNvbXBvc2l0ZTpNaX0sImZpbGwtZXh0cnVzaW9uLXBhdHRlcm4iOntzb3VyY2U6TWksY29tcG9zaXRlOk1pfX1bdF19KHQpO3JldHVybiBpJiZpW3JdfHxuW2VdW3JdfVRhLnByb3RvdHlwZS5wb3B1bGF0ZVBhaW50QXJyYXlzPWZ1bmN0aW9uKHQsZSxyLG4saSxhKXtmb3IodmFyIG8gaW4gdGhpcy5wcm9ncmFtQ29uZmlndXJhdGlvbnMpdGhpcy5wcm9ncmFtQ29uZmlndXJhdGlvbnNbb10ucG9wdWxhdGVQYWludEFycmF5cyh0LGUsbixpLGEpO3ZvaWQgMCE9PWUuaWQmJnRoaXMuX2ZlYXR1cmVNYXAuYWRkKGUuaWQscix0aGlzLl9idWZmZXJPZmZzZXQsdCksdGhpcy5fYnVmZmVyT2Zmc2V0PXQsdGhpcy5uZWVkc1VwbG9hZD0hMDt9LFRhLnByb3RvdHlwZS51cGRhdGVQYWludEFycmF5cz1mdW5jdGlvbih0LGUscixuKXtmb3IodmFyIGk9MCxhPXI7aTxhLmxlbmd0aDtpKz0xKXt2YXIgbz1hW2ldO3RoaXMubmVlZHNVcGxvYWQ9dGhpcy5wcm9ncmFtQ29uZmlndXJhdGlvbnNbby5pZF0udXBkYXRlUGFpbnRBcnJheXModCx0aGlzLl9mZWF0dXJlTWFwLGUsbyxuKXx8dGhpcy5uZWVkc1VwbG9hZDt9fSxUYS5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnByb2dyYW1Db25maWd1cmF0aW9uc1t0XX0sVGEucHJvdG90eXBlLnVwbG9hZD1mdW5jdGlvbih0KXtpZih0aGlzLm5lZWRzVXBsb2FkKXtmb3IodmFyIGUgaW4gdGhpcy5wcm9ncmFtQ29uZmlndXJhdGlvbnMpdGhpcy5wcm9ncmFtQ29uZmlndXJhdGlvbnNbZV0udXBsb2FkKHQpO3RoaXMubmVlZHNVcGxvYWQ9ITE7fX0sVGEucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXtmb3IodmFyIHQgaW4gdGhpcy5wcm9ncmFtQ29uZmlndXJhdGlvbnMpdGhpcy5wcm9ncmFtQ29uZmlndXJhdGlvbnNbdF0uZGVzdHJveSgpO30sRm4oIkNvbnN0YW50QmluZGVyIixrYSksRm4oIkNyb3NzRmFkZWRDb25zdGFudEJpbmRlciIsSWEpLEZuKCJTb3VyY2VFeHByZXNzaW9uQmluZGVyIix6YSksRm4oIkNyb3NzRmFkZWRDb21wb3NpdGVCaW5kZXIiLE1hKSxGbigiQ29tcG9zaXRlRXhwcmVzc2lvbkJpbmRlciIsQ2EpLEZuKCJQcm9ncmFtQ29uZmlndXJhdGlvbiIsRWEse29taXQ6WyJfYnVmZmVycyJdfSksRm4oIlByb2dyYW1Db25maWd1cmF0aW9uU2V0IixUYSk7dmFyIFZhPXttaW46LTEqTWF0aC5wb3coMiwxNCksbWF4Ok1hdGgucG93KDIsMTQpLTF9O2Z1bmN0aW9uIEZhKHQpe2Zvcih2YXIgZT04MTkyL3QuZXh0ZW50LHI9dC5sb2FkR2VvbWV0cnkoKSxuPTA7bjxyLmxlbmd0aDtuKyspZm9yKHZhciBpPXJbbl0sYT0wO2E8aS5sZW5ndGg7YSsrKXt2YXIgbz1pW2FdO28ueD1NYXRoLnJvdW5kKG8ueCplKSxvLnk9TWF0aC5yb3VuZChvLnkqZSksKG8ueDxWYS5taW58fG8ueD5WYS5tYXh8fG8ueTxWYS5taW58fG8ueT5WYS5tYXgpJiYodygiR2VvbWV0cnkgZXhjZWVkcyBhbGxvd2VkIGV4dGVudCwgcmVkdWNlIHlvdXIgdmVjdG9yIHRpbGUgYnVmZmVyIHNpemUiKSxvLng9dShvLngsVmEubWluLFZhLm1heCksby55PXUoby55LFZhLm1pbixWYS5tYXgpKTt9cmV0dXJuIHJ9ZnVuY3Rpb24gRGEodCxlLHIsbixpKXt0LmVtcGxhY2VCYWNrKDIqZSsobisxKS8yLDIqcisoaSsxKS8yKTt9dmFyIExhPWZ1bmN0aW9uKHQpe3RoaXMuem9vbT10Lnpvb20sdGhpcy5vdmVyc2NhbGluZz10Lm92ZXJzY2FsaW5nLHRoaXMubGF5ZXJzPXQubGF5ZXJzLHRoaXMubGF5ZXJJZHM9dGhpcy5sYXllcnMubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gdC5pZH0pKSx0aGlzLmluZGV4PXQuaW5kZXgsdGhpcy5oYXNQYXR0ZXJuPSExLHRoaXMubGF5b3V0VmVydGV4QXJyYXk9bmV3IGtpLHRoaXMuaW5kZXhBcnJheT1uZXcgTGksdGhpcy5zZWdtZW50cz1uZXcgaWEsdGhpcy5wcm9ncmFtQ29uZmlndXJhdGlvbnM9bmV3IFRhKG5hLHQubGF5ZXJzLHQuem9vbSksdGhpcy5zdGF0ZURlcGVuZGVudExheWVySWRzPXRoaXMubGF5ZXJzLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIHQuaXNTdGF0ZURlcGVuZGVudCgpfSkpLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIHQuaWR9KSk7fTtmdW5jdGlvbiBSYSh0LGUpe2Zvcih2YXIgcj0wO3I8dC5sZW5ndGg7cisrKWlmKFhhKGUsdFtyXSkpcmV0dXJuICEwO2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKWlmKFhhKHQsZVtuXSkpcmV0dXJuICEwO3JldHVybiAhIXFhKHQsZSl9ZnVuY3Rpb24gT2EodCxlLHIpe3JldHVybiAhIVhhKHQsZSl8fCEhS2EoZSx0LHIpfWZ1bmN0aW9uIFVhKHQsZSl7aWYoMT09PXQubGVuZ3RoKXJldHVybiBaYShlLHRbMF0pO2Zvcih2YXIgcj0wO3I8ZS5sZW5ndGg7cisrKWZvcih2YXIgbj1lW3JdLGk9MDtpPG4ubGVuZ3RoO2krKylpZihYYSh0LG5baV0pKXJldHVybiAhMDtmb3IodmFyIGE9MDthPHQubGVuZ3RoO2ErKylpZihaYShlLHRbYV0pKXJldHVybiAhMDtmb3IodmFyIG89MDtvPGUubGVuZ3RoO28rKylpZihxYSh0LGVbb10pKXJldHVybiAhMDtyZXR1cm4gITF9ZnVuY3Rpb24gamEodCxlLHIpe2lmKHQubGVuZ3RoPjEpe2lmKHFhKHQsZSkpcmV0dXJuICEwO2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKWlmKEthKGVbbl0sdCxyKSlyZXR1cm4gITB9Zm9yKHZhciBpPTA7aTx0Lmxlbmd0aDtpKyspaWYoS2EodFtpXSxlLHIpKXJldHVybiAhMDtyZXR1cm4gITF9ZnVuY3Rpb24gcWEodCxlKXtpZigwPT09dC5sZW5ndGh8fDA9PT1lLmxlbmd0aClyZXR1cm4gITE7Zm9yKHZhciByPTA7cjx0Lmxlbmd0aC0xO3IrKylmb3IodmFyIG49dFtyXSxpPXRbcisxXSxhPTA7YTxlLmxlbmd0aC0xO2ErKylpZihOYShuLGksZVthXSxlW2ErMV0pKXJldHVybiAhMDtyZXR1cm4gITF9ZnVuY3Rpb24gTmEodCxlLHIsbil7cmV0dXJuIF8odCxyLG4pIT09XyhlLHIsbikmJl8odCxlLHIpIT09Xyh0LGUsbil9ZnVuY3Rpb24gS2EodCxlLHIpe3ZhciBuPXIqcjtpZigxPT09ZS5sZW5ndGgpcmV0dXJuIHQuZGlzdFNxcihlWzBdKTxuO2Zvcih2YXIgaT0xO2k8ZS5sZW5ndGg7aSsrKWlmKEdhKHQsZVtpLTFdLGVbaV0pPG4pcmV0dXJuICEwO3JldHVybiAhMX1mdW5jdGlvbiBHYSh0LGUscil7dmFyIG49ZS5kaXN0U3FyKHIpO2lmKDA9PT1uKXJldHVybiB0LmRpc3RTcXIoZSk7dmFyIGk9KCh0LngtZS54KSooci54LWUueCkrKHQueS1lLnkpKihyLnktZS55KSkvbjtyZXR1cm4gdC5kaXN0U3FyKGk8MD9lOmk+MT9yOnIuc3ViKGUpLl9tdWx0KGkpLl9hZGQoZSkpfWZ1bmN0aW9uIFphKHQsZSl7Zm9yKHZhciByLG4saSxhPSExLG89MDtvPHQubGVuZ3RoO28rKylmb3IodmFyIHM9MCx1PShyPXRbb10pLmxlbmd0aC0xO3M8ci5sZW5ndGg7dT1zKyspKG49cltzXSkueT5lLnkhPShpPXJbdV0pLnk+ZS55JiZlLng8KGkueC1uLngpKihlLnktbi55KS8oaS55LW4ueSkrbi54JiYoYT0hYSk7cmV0dXJuIGF9ZnVuY3Rpb24gWGEodCxlKXtmb3IodmFyIHI9ITEsbj0wLGk9dC5sZW5ndGgtMTtuPHQubGVuZ3RoO2k9bisrKXt2YXIgYT10W25dLG89dFtpXTthLnk+ZS55IT1vLnk+ZS55JiZlLng8KG8ueC1hLngpKihlLnktYS55KS8oby55LWEueSkrYS54JiYocj0hcik7fXJldHVybiByfWZ1bmN0aW9uIEphKHQsZSxyKXt2YXIgbj1yWzBdLGk9clsyXTtpZih0Lng8bi54JiZlLng8bi54fHx0Lng+aS54JiZlLng+aS54fHx0Lnk8bi55JiZlLnk8bi55fHx0Lnk+aS55JiZlLnk+aS55KXJldHVybiAhMTt2YXIgYT1fKHQsZSxyWzBdKTtyZXR1cm4gYSE9PV8odCxlLHJbMV0pfHxhIT09Xyh0LGUsclsyXSl8fGEhPT1fKHQsZSxyWzNdKX1mdW5jdGlvbiBIYSh0LGUscil7dmFyIG49ZS5wYWludC5nZXQodCkudmFsdWU7cmV0dXJuICJjb25zdGFudCI9PT1uLmtpbmQ/bi52YWx1ZTpyLnByb2dyYW1Db25maWd1cmF0aW9ucy5nZXQoZS5pZCkuZ2V0TWF4VmFsdWUodCl9ZnVuY3Rpb24gWWEodCl7cmV0dXJuIE1hdGguc3FydCh0WzBdKnRbMF0rdFsxXSp0WzFdKX1mdW5jdGlvbiAkYSh0LGUscixuLGEpe2lmKCFlWzBdJiYhZVsxXSlyZXR1cm4gdDt2YXIgbz1pLmNvbnZlcnQoZSkuX211bHQoYSk7InZpZXdwb3J0Ij09PXImJm8uX3JvdGF0ZSgtbik7Zm9yKHZhciBzPVtdLHU9MDt1PHQubGVuZ3RoO3UrKylzLnB1c2godFt1XS5zdWIobykpO3JldHVybiBzfUxhLnByb3RvdHlwZS5wb3B1bGF0ZT1mdW5jdGlvbih0LGUscil7dmFyIG49dGhpcy5sYXllcnNbMF0saT1bXSxhPW51bGw7ImNpcmNsZSI9PT1uLnR5cGUmJihhPW4ubGF5b3V0LmdldCgiY2lyY2xlLXNvcnQta2V5IikpO2Zvcih2YXIgbz0wLHM9dDtvPHMubGVuZ3RoO28rPTEpe3ZhciB1PXNbb10sbD11LmZlYXR1cmUscD11LmlkLGM9dS5pbmRleCxoPXUuc291cmNlTGF5ZXJJbmRleCxmPXRoaXMubGF5ZXJzWzBdLl9mZWF0dXJlRmlsdGVyLm5lZWRHZW9tZXRyeSx5PXt0eXBlOmwudHlwZSxpZDpwLHByb3BlcnRpZXM6bC5wcm9wZXJ0aWVzLGdlb21ldHJ5OmY/RmEobCk6W119O2lmKHRoaXMubGF5ZXJzWzBdLl9mZWF0dXJlRmlsdGVyLmZpbHRlcihuZXcgaWkodGhpcy56b29tKSx5LHIpKXtmfHwoeS5nZW9tZXRyeT1GYShsKSk7dmFyIGQ9YT9hLmV2YWx1YXRlKHkse30scik6dm9pZCAwO2kucHVzaCh7aWQ6cCxwcm9wZXJ0aWVzOmwucHJvcGVydGllcyx0eXBlOmwudHlwZSxzb3VyY2VMYXllckluZGV4OmgsaW5kZXg6YyxnZW9tZXRyeTp5Lmdlb21ldHJ5LHBhdHRlcm5zOnt9LHNvcnRLZXk6ZH0pO319YSYmaS5zb3J0KChmdW5jdGlvbih0LGUpe3JldHVybiB0LnNvcnRLZXktZS5zb3J0S2V5fSkpO2Zvcih2YXIgbT0wLHY9aTttPHYubGVuZ3RoO20rPTEpe3ZhciBnPXZbbV0seD1nLmdlb21ldHJ5LGI9Zy5pbmRleCx3PWcuc291cmNlTGF5ZXJJbmRleCxfPXRbYl0uZmVhdHVyZTt0aGlzLmFkZEZlYXR1cmUoZyx4LGIsciksZS5mZWF0dXJlSW5kZXguaW5zZXJ0KF8seCxiLHcsdGhpcy5pbmRleCk7fX0sTGEucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbih0LGUscil7dGhpcy5zdGF0ZURlcGVuZGVudExheWVycy5sZW5ndGgmJnRoaXMucHJvZ3JhbUNvbmZpZ3VyYXRpb25zLnVwZGF0ZVBhaW50QXJyYXlzKHQsZSx0aGlzLnN0YXRlRGVwZW5kZW50TGF5ZXJzLHIpO30sTGEucHJvdG90eXBlLmlzRW1wdHk9ZnVuY3Rpb24oKXtyZXR1cm4gMD09PXRoaXMubGF5b3V0VmVydGV4QXJyYXkubGVuZ3RofSxMYS5wcm90b3R5cGUudXBsb2FkUGVuZGluZz1mdW5jdGlvbigpe3JldHVybiAhdGhpcy51cGxvYWRlZHx8dGhpcy5wcm9ncmFtQ29uZmlndXJhdGlvbnMubmVlZHNVcGxvYWR9LExhLnByb3RvdHlwZS51cGxvYWQ9ZnVuY3Rpb24odCl7dGhpcy51cGxvYWRlZHx8KHRoaXMubGF5b3V0VmVydGV4QnVmZmVyPXQuY3JlYXRlVmVydGV4QnVmZmVyKHRoaXMubGF5b3V0VmVydGV4QXJyYXksbmEpLHRoaXMuaW5kZXhCdWZmZXI9dC5jcmVhdGVJbmRleEJ1ZmZlcih0aGlzLmluZGV4QXJyYXkpKSx0aGlzLnByb2dyYW1Db25maWd1cmF0aW9ucy51cGxvYWQodCksdGhpcy51cGxvYWRlZD0hMDt9LExhLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5sYXlvdXRWZXJ0ZXhCdWZmZXImJih0aGlzLmxheW91dFZlcnRleEJ1ZmZlci5kZXN0cm95KCksdGhpcy5pbmRleEJ1ZmZlci5kZXN0cm95KCksdGhpcy5wcm9ncmFtQ29uZmlndXJhdGlvbnMuZGVzdHJveSgpLHRoaXMuc2VnbWVudHMuZGVzdHJveSgpKTt9LExhLnByb3RvdHlwZS5hZGRGZWF0dXJlPWZ1bmN0aW9uKHQsZSxyLG4pe2Zvcih2YXIgaT0wLGE9ZTtpPGEubGVuZ3RoO2krPTEpZm9yKHZhciBvPTAscz1hW2ldO288cy5sZW5ndGg7bys9MSl7dmFyIHU9c1tvXSxsPXUueCxwPXUueTtpZighKGw8MHx8bD49ODE5Mnx8cDwwfHxwPj04MTkyKSl7dmFyIGM9dGhpcy5zZWdtZW50cy5wcmVwYXJlU2VnbWVudCg0LHRoaXMubGF5b3V0VmVydGV4QXJyYXksdGhpcy5pbmRleEFycmF5LHQuc29ydEtleSksaD1jLnZlcnRleExlbmd0aDtEYSh0aGlzLmxheW91dFZlcnRleEFycmF5LGwscCwtMSwtMSksRGEodGhpcy5sYXlvdXRWZXJ0ZXhBcnJheSxsLHAsMSwtMSksRGEodGhpcy5sYXlvdXRWZXJ0ZXhBcnJheSxsLHAsMSwxKSxEYSh0aGlzLmxheW91dFZlcnRleEFycmF5LGwscCwtMSwxKSx0aGlzLmluZGV4QXJyYXkuZW1wbGFjZUJhY2soaCxoKzEsaCsyKSx0aGlzLmluZGV4QXJyYXkuZW1wbGFjZUJhY2soaCxoKzMsaCsyKSxjLnZlcnRleExlbmd0aCs9NCxjLnByaW1pdGl2ZUxlbmd0aCs9Mjt9fXRoaXMucHJvZ3JhbUNvbmZpZ3VyYXRpb25zLnBvcHVsYXRlUGFpbnRBcnJheXModGhpcy5sYXlvdXRWZXJ0ZXhBcnJheS5sZW5ndGgsdCxyLHt9LG4pO30sRm4oIkNpcmNsZUJ1Y2tldCIsTGEse29taXQ6WyJsYXllcnMiXX0pO3ZhciBXYT1uZXcgZ2koeyJjaXJjbGUtc29ydC1rZXkiOm5ldyB5aShJdC5sYXlvdXRfY2lyY2xlWyJjaXJjbGUtc29ydC1rZXkiXSl9KSxRYT17cGFpbnQ6bmV3IGdpKHsiY2lyY2xlLXJhZGl1cyI6bmV3IHlpKEl0LnBhaW50X2NpcmNsZVsiY2lyY2xlLXJhZGl1cyJdKSwiY2lyY2xlLWNvbG9yIjpuZXcgeWkoSXQucGFpbnRfY2lyY2xlWyJjaXJjbGUtY29sb3IiXSksImNpcmNsZS1ibHVyIjpuZXcgeWkoSXQucGFpbnRfY2lyY2xlWyJjaXJjbGUtYmx1ciJdKSwiY2lyY2xlLW9wYWNpdHkiOm5ldyB5aShJdC5wYWludF9jaXJjbGVbImNpcmNsZS1vcGFjaXR5Il0pLCJjaXJjbGUtdHJhbnNsYXRlIjpuZXcgZmkoSXQucGFpbnRfY2lyY2xlWyJjaXJjbGUtdHJhbnNsYXRlIl0pLCJjaXJjbGUtdHJhbnNsYXRlLWFuY2hvciI6bmV3IGZpKEl0LnBhaW50X2NpcmNsZVsiY2lyY2xlLXRyYW5zbGF0ZS1hbmNob3IiXSksImNpcmNsZS1waXRjaC1zY2FsZSI6bmV3IGZpKEl0LnBhaW50X2NpcmNsZVsiY2lyY2xlLXBpdGNoLXNjYWxlIl0pLCJjaXJjbGUtcGl0Y2gtYWxpZ25tZW50IjpuZXcgZmkoSXQucGFpbnRfY2lyY2xlWyJjaXJjbGUtcGl0Y2gtYWxpZ25tZW50Il0pLCJjaXJjbGUtc3Ryb2tlLXdpZHRoIjpuZXcgeWkoSXQucGFpbnRfY2lyY2xlWyJjaXJjbGUtc3Ryb2tlLXdpZHRoIl0pLCJjaXJjbGUtc3Ryb2tlLWNvbG9yIjpuZXcgeWkoSXQucGFpbnRfY2lyY2xlWyJjaXJjbGUtc3Ryb2tlLWNvbG9yIl0pLCJjaXJjbGUtc3Ryb2tlLW9wYWNpdHkiOm5ldyB5aShJdC5wYWludF9jaXJjbGVbImNpcmNsZS1zdHJva2Utb3BhY2l0eSJdKX0pLGxheW91dDpXYX0sdG89InVuZGVmaW5lZCIhPXR5cGVvZiBGbG9hdDMyQXJyYXk/RmxvYXQzMkFycmF5OkFycmF5O2Z1bmN0aW9uIGVvKHQpe3JldHVybiB0WzBdPTEsdFsxXT0wLHRbMl09MCx0WzNdPTAsdFs0XT0wLHRbNV09MSx0WzZdPTAsdFs3XT0wLHRbOF09MCx0WzldPTAsdFsxMF09MSx0WzExXT0wLHRbMTJdPTAsdFsxM109MCx0WzE0XT0wLHRbMTVdPTEsdH1mdW5jdGlvbiBybyh0LGUscil7dmFyIG49ZVswXSxpPWVbMV0sYT1lWzJdLG89ZVszXSxzPWVbNF0sdT1lWzVdLGw9ZVs2XSxwPWVbN10sYz1lWzhdLGg9ZVs5XSxmPWVbMTBdLHk9ZVsxMV0sZD1lWzEyXSxtPWVbMTNdLHY9ZVsxNF0sZz1lWzE1XSx4PXJbMF0sYj1yWzFdLHc9clsyXSxfPXJbM107cmV0dXJuIHRbMF09eCpuK2Iqcyt3KmMrXypkLHRbMV09eCppK2IqdSt3KmgrXyptLHRbMl09eCphK2IqbCt3KmYrXyp2LHRbM109eCpvK2IqcCt3KnkrXypnLHRbNF09KHg9cls0XSkqbisoYj1yWzVdKSpzKyh3PXJbNl0pKmMrKF89cls3XSkqZCx0WzVdPXgqaStiKnUrdypoK18qbSx0WzZdPXgqYStiKmwrdypmK18qdix0WzddPXgqbytiKnArdyp5K18qZyx0WzhdPSh4PXJbOF0pKm4rKGI9cls5XSkqcysodz1yWzEwXSkqYysoXz1yWzExXSkqZCx0WzldPXgqaStiKnUrdypoK18qbSx0WzEwXT14KmErYipsK3cqZitfKnYsdFsxMV09eCpvK2IqcCt3KnkrXypnLHRbMTJdPSh4PXJbMTJdKSpuKyhiPXJbMTNdKSpzKyh3PXJbMTRdKSpjKyhfPXJbMTVdKSpkLHRbMTNdPXgqaStiKnUrdypoK18qbSx0WzE0XT14KmErYipsK3cqZitfKnYsdFsxNV09eCpvK2IqcCt3KnkrXypnLHR9TWF0aC5oeXBvdHx8KE1hdGguaHlwb3Q9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9YXJndW1lbnRzLGU9MCxyPWFyZ3VtZW50cy5sZW5ndGg7ci0tOyllKz10W3JdKnRbcl07cmV0dXJuIE1hdGguc3FydChlKX0pO3ZhciBubyxpbz1ybztmdW5jdGlvbiBhbyh0LGUscil7dmFyIG49ZVswXSxpPWVbMV0sYT1lWzJdLG89ZVszXTtyZXR1cm4gdFswXT1yWzBdKm4rcls0XSppK3JbOF0qYStyWzEyXSpvLHRbMV09clsxXSpuK3JbNV0qaStyWzldKmErclsxM10qbyx0WzJdPXJbMl0qbityWzZdKmkrclsxMF0qYStyWzE0XSpvLHRbM109clszXSpuK3JbN10qaStyWzExXSphK3JbMTVdKm8sdH1ubz1uZXcgdG8oMyksdG8hPUZsb2F0MzJBcnJheSYmKG5vWzBdPTAsbm9bMV09MCxub1syXT0wKSxmdW5jdGlvbigpe3ZhciB0PW5ldyB0byg0KTt0byE9RmxvYXQzMkFycmF5JiYodFswXT0wLHRbMV09MCx0WzJdPTAsdFszXT0wKTt9KCk7dmFyIG9vPShmdW5jdGlvbigpe3ZhciB0PW5ldyB0bygyKTt0byE9RmxvYXQzMkFycmF5JiYodFswXT0wLHRbMV09MCk7fSgpLGZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSl7dC5jYWxsKHRoaXMsZSxRYSk7fXJldHVybiB0JiYoZS5fX3Byb3RvX189dCksKGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUpKS5jb25zdHJ1Y3Rvcj1lLGUucHJvdG90eXBlLmNyZWF0ZUJ1Y2tldD1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IExhKHQpfSxlLnByb3RvdHlwZS5xdWVyeVJhZGl1cz1mdW5jdGlvbih0KXt2YXIgZT10O3JldHVybiBIYSgiY2lyY2xlLXJhZGl1cyIsdGhpcyxlKStIYSgiY2lyY2xlLXN0cm9rZS13aWR0aCIsdGhpcyxlKStZYSh0aGlzLnBhaW50LmdldCgiY2lyY2xlLXRyYW5zbGF0ZSIpKX0sZS5wcm90b3R5cGUucXVlcnlJbnRlcnNlY3RzRmVhdHVyZT1mdW5jdGlvbih0LGUscixuLGksYSxvLHMpe2Zvcih2YXIgdT0kYSh0LHRoaXMucGFpbnQuZ2V0KCJjaXJjbGUtdHJhbnNsYXRlIiksdGhpcy5wYWludC5nZXQoImNpcmNsZS10cmFuc2xhdGUtYW5jaG9yIiksYS5hbmdsZSxvKSxsPXRoaXMucGFpbnQuZ2V0KCJjaXJjbGUtcmFkaXVzIikuZXZhbHVhdGUoZSxyKSt0aGlzLnBhaW50LmdldCgiY2lyY2xlLXN0cm9rZS13aWR0aCIpLmV2YWx1YXRlKGUscikscD0ibWFwIj09PXRoaXMucGFpbnQuZ2V0KCJjaXJjbGUtcGl0Y2gtYWxpZ25tZW50IiksYz1wP3U6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiBzbyh0LGUpfSkpfSh1LHMpLGg9cD9sKm86bCxmPTAseT1uO2Y8eS5sZW5ndGg7Zis9MSlmb3IodmFyIGQ9MCxtPXlbZl07ZDxtLmxlbmd0aDtkKz0xKXt2YXIgdj1tW2RdLGc9cD92OnNvKHYscykseD1oLGI9YW8oW10sW3YueCx2LnksMCwxXSxzKTtpZigidmlld3BvcnQiPT09dGhpcy5wYWludC5nZXQoImNpcmNsZS1waXRjaC1zY2FsZSIpJiYibWFwIj09PXRoaXMucGFpbnQuZ2V0KCJjaXJjbGUtcGl0Y2gtYWxpZ25tZW50Iik/eCo9YlszXS9hLmNhbWVyYVRvQ2VudGVyRGlzdGFuY2U6Im1hcCI9PT10aGlzLnBhaW50LmdldCgiY2lyY2xlLXBpdGNoLXNjYWxlIikmJiJ2aWV3cG9ydCI9PT10aGlzLnBhaW50LmdldCgiY2lyY2xlLXBpdGNoLWFsaWdubWVudCIpJiYoeCo9YS5jYW1lcmFUb0NlbnRlckRpc3RhbmNlL2JbM10pLE9hKGMsZyx4KSlyZXR1cm4gITB9cmV0dXJuICExfSxlfSh4aSkpO2Z1bmN0aW9uIHNvKHQsZSl7dmFyIHI9YW8oW10sW3QueCx0LnksMCwxXSxlKTtyZXR1cm4gbmV3IGkoclswXS9yWzNdLHJbMV0vclszXSl9dmFyIHVvPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt0LmFwcGx5KHRoaXMsYXJndW1lbnRzKTt9cmV0dXJuIHQmJihlLl9fcHJvdG9fXz10KSwoZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSkpLmNvbnN0cnVjdG9yPWUsZX0oTGEpO2Z1bmN0aW9uIGxvKHQsZSxyLG4pe3ZhciBpPWUud2lkdGgsYT1lLmhlaWdodDtpZihuKXtpZihuIGluc3RhbmNlb2YgVWludDhDbGFtcGVkQXJyYXkpbj1uZXcgVWludDhBcnJheShuLmJ1ZmZlcik7ZWxzZSBpZihuLmxlbmd0aCE9PWkqYSpyKXRocm93IG5ldyBSYW5nZUVycm9yKCJtaXNtYXRjaGVkIGltYWdlIHNpemUiKX1lbHNlIG49bmV3IFVpbnQ4QXJyYXkoaSphKnIpO3JldHVybiB0LndpZHRoPWksdC5oZWlnaHQ9YSx0LmRhdGE9bix0fWZ1bmN0aW9uIHBvKHQsZSxyKXt2YXIgbj1lLndpZHRoLGk9ZS5oZWlnaHQ7aWYobiE9PXQud2lkdGh8fGkhPT10LmhlaWdodCl7dmFyIGE9bG8oe30se3dpZHRoOm4saGVpZ2h0Oml9LHIpO2NvKHQsYSx7eDowLHk6MH0se3g6MCx5OjB9LHt3aWR0aDpNYXRoLm1pbih0LndpZHRoLG4pLGhlaWdodDpNYXRoLm1pbih0LmhlaWdodCxpKX0sciksdC53aWR0aD1uLHQuaGVpZ2h0PWksdC5kYXRhPWEuZGF0YTt9fWZ1bmN0aW9uIGNvKHQsZSxyLG4saSxhKXtpZigwPT09aS53aWR0aHx8MD09PWkuaGVpZ2h0KXJldHVybiBlO2lmKGkud2lkdGg+dC53aWR0aHx8aS5oZWlnaHQ+dC5oZWlnaHR8fHIueD50LndpZHRoLWkud2lkdGh8fHIueT50LmhlaWdodC1pLmhlaWdodCl0aHJvdyBuZXcgUmFuZ2VFcnJvcigib3V0IG9mIHJhbmdlIHNvdXJjZSBjb29yZGluYXRlcyBmb3IgaW1hZ2UgY29weSIpO2lmKGkud2lkdGg+ZS53aWR0aHx8aS5oZWlnaHQ+ZS5oZWlnaHR8fG4ueD5lLndpZHRoLWkud2lkdGh8fG4ueT5lLmhlaWdodC1pLmhlaWdodCl0aHJvdyBuZXcgUmFuZ2VFcnJvcigib3V0IG9mIHJhbmdlIGRlc3RpbmF0aW9uIGNvb3JkaW5hdGVzIGZvciBpbWFnZSBjb3B5Iik7Zm9yKHZhciBvPXQuZGF0YSxzPWUuZGF0YSx1PTA7dTxpLmhlaWdodDt1KyspZm9yKHZhciBsPSgoci55K3UpKnQud2lkdGgrci54KSphLHA9KChuLnkrdSkqZS53aWR0aCtuLngpKmEsYz0wO2M8aS53aWR0aCphO2MrKylzW3ArY109b1tsK2NdO3JldHVybiBlfUZuKCJIZWF0bWFwQnVja2V0Iix1byx7b21pdDpbImxheWVycyJdfSk7dmFyIGhvPWZ1bmN0aW9uKHQsZSl7bG8odGhpcyx0LDEsZSk7fTtoby5wcm90b3R5cGUucmVzaXplPWZ1bmN0aW9uKHQpe3BvKHRoaXMsdCwxKTt9LGhvLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3JldHVybiBuZXcgaG8oe3dpZHRoOnRoaXMud2lkdGgsaGVpZ2h0OnRoaXMuaGVpZ2h0fSxuZXcgVWludDhBcnJheSh0aGlzLmRhdGEpKX0saG8uY29weT1mdW5jdGlvbih0LGUscixuLGkpe2NvKHQsZSxyLG4saSwxKTt9O3ZhciBmbz1mdW5jdGlvbih0LGUpe2xvKHRoaXMsdCw0LGUpO307Zm8ucHJvdG90eXBlLnJlc2l6ZT1mdW5jdGlvbih0KXtwbyh0aGlzLHQsNCk7fSxmby5wcm90b3R5cGUucmVwbGFjZT1mdW5jdGlvbih0LGUpe2U/dGhpcy5kYXRhLnNldCh0KTp0aGlzLmRhdGE9dCBpbnN0YW5jZW9mIFVpbnQ4Q2xhbXBlZEFycmF5P25ldyBVaW50OEFycmF5KHQuYnVmZmVyKTp0O30sZm8ucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBmbyh7d2lkdGg6dGhpcy53aWR0aCxoZWlnaHQ6dGhpcy5oZWlnaHR9LG5ldyBVaW50OEFycmF5KHRoaXMuZGF0YSkpfSxmby5jb3B5PWZ1bmN0aW9uKHQsZSxyLG4saSl7Y28odCxlLHIsbixpLDQpO30sRm4oIkFscGhhSW1hZ2UiLGhvKSxGbigiUkdCQUltYWdlIixmbyk7dmFyIHlvPXtwYWludDpuZXcgZ2koeyJoZWF0bWFwLXJhZGl1cyI6bmV3IHlpKEl0LnBhaW50X2hlYXRtYXBbImhlYXRtYXAtcmFkaXVzIl0pLCJoZWF0bWFwLXdlaWdodCI6bmV3IHlpKEl0LnBhaW50X2hlYXRtYXBbImhlYXRtYXAtd2VpZ2h0Il0pLCJoZWF0bWFwLWludGVuc2l0eSI6bmV3IGZpKEl0LnBhaW50X2hlYXRtYXBbImhlYXRtYXAtaW50ZW5zaXR5Il0pLCJoZWF0bWFwLWNvbG9yIjpuZXcgdmkoSXQucGFpbnRfaGVhdG1hcFsiaGVhdG1hcC1jb2xvciJdKSwiaGVhdG1hcC1vcGFjaXR5IjpuZXcgZmkoSXQucGFpbnRfaGVhdG1hcFsiaGVhdG1hcC1vcGFjaXR5Il0pfSl9O2Z1bmN0aW9uIG1vKHQsZSl7Zm9yKHZhciByPW5ldyBVaW50OEFycmF5KDEwMjQpLG49e30saT0wLGE9MDtpPDI1NjtpKyssYSs9NCl7bltlXT1pLzI1NTt2YXIgbz10LmV2YWx1YXRlKG4pO3JbYSswXT1NYXRoLmZsb29yKDI1NSpvLnIvby5hKSxyW2ErMV09TWF0aC5mbG9vcigyNTUqby5nL28uYSksclthKzJdPU1hdGguZmxvb3IoMjU1Km8uYi9vLmEpLHJbYSszXT1NYXRoLmZsb29yKDI1NSpvLmEpO31yZXR1cm4gbmV3IGZvKHt3aWR0aDoyNTYsaGVpZ2h0OjF9LHIpfXZhciB2bz1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUpe3QuY2FsbCh0aGlzLGUseW8pLHRoaXMuX3VwZGF0ZUNvbG9yUmFtcCgpO31yZXR1cm4gdCYmKGUuX19wcm90b19fPXQpLChlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlKSkuY29uc3RydWN0b3I9ZSxlLnByb3RvdHlwZS5jcmVhdGVCdWNrZXQ9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyB1byh0KX0sZS5wcm90b3R5cGUuX2hhbmRsZVNwZWNpYWxQYWludFByb3BlcnR5VXBkYXRlPWZ1bmN0aW9uKHQpeyJoZWF0bWFwLWNvbG9yIj09PXQmJnRoaXMuX3VwZGF0ZUNvbG9yUmFtcCgpO30sZS5wcm90b3R5cGUuX3VwZGF0ZUNvbG9yUmFtcD1mdW5jdGlvbigpe3RoaXMuY29sb3JSYW1wPW1vKHRoaXMuX3RyYW5zaXRpb25hYmxlUGFpbnQuX3ZhbHVlc1siaGVhdG1hcC1jb2xvciJdLnZhbHVlLmV4cHJlc3Npb24sImhlYXRtYXBEZW5zaXR5IiksdGhpcy5jb2xvclJhbXBUZXh0dXJlPW51bGw7fSxlLnByb3RvdHlwZS5yZXNpemU9ZnVuY3Rpb24oKXt0aGlzLmhlYXRtYXBGYm8mJih0aGlzLmhlYXRtYXBGYm8uZGVzdHJveSgpLHRoaXMuaGVhdG1hcEZibz1udWxsKTt9LGUucHJvdG90eXBlLnF1ZXJ5UmFkaXVzPWZ1bmN0aW9uKCl7cmV0dXJuIDB9LGUucHJvdG90eXBlLnF1ZXJ5SW50ZXJzZWN0c0ZlYXR1cmU9ZnVuY3Rpb24oKXtyZXR1cm4gITF9LGUucHJvdG90eXBlLmhhc09mZnNjcmVlblBhc3M9ZnVuY3Rpb24oKXtyZXR1cm4gMCE9PXRoaXMucGFpbnQuZ2V0KCJoZWF0bWFwLW9wYWNpdHkiKSYmIm5vbmUiIT09dGhpcy52aXNpYmlsaXR5fSxlfSh4aSksZ289e3BhaW50Om5ldyBnaSh7ImhpbGxzaGFkZS1pbGx1bWluYXRpb24tZGlyZWN0aW9uIjpuZXcgZmkoSXQucGFpbnRfaGlsbHNoYWRlWyJoaWxsc2hhZGUtaWxsdW1pbmF0aW9uLWRpcmVjdGlvbiJdKSwiaGlsbHNoYWRlLWlsbHVtaW5hdGlvbi1hbmNob3IiOm5ldyBmaShJdC5wYWludF9oaWxsc2hhZGVbImhpbGxzaGFkZS1pbGx1bWluYXRpb24tYW5jaG9yIl0pLCJoaWxsc2hhZGUtZXhhZ2dlcmF0aW9uIjpuZXcgZmkoSXQucGFpbnRfaGlsbHNoYWRlWyJoaWxsc2hhZGUtZXhhZ2dlcmF0aW9uIl0pLCJoaWxsc2hhZGUtc2hhZG93LWNvbG9yIjpuZXcgZmkoSXQucGFpbnRfaGlsbHNoYWRlWyJoaWxsc2hhZGUtc2hhZG93LWNvbG9yIl0pLCJoaWxsc2hhZGUtaGlnaGxpZ2h0LWNvbG9yIjpuZXcgZmkoSXQucGFpbnRfaGlsbHNoYWRlWyJoaWxsc2hhZGUtaGlnaGxpZ2h0LWNvbG9yIl0pLCJoaWxsc2hhZGUtYWNjZW50LWNvbG9yIjpuZXcgZmkoSXQucGFpbnRfaGlsbHNoYWRlWyJoaWxsc2hhZGUtYWNjZW50LWNvbG9yIl0pfSl9LHhvPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSl7dC5jYWxsKHRoaXMsZSxnbyk7fXJldHVybiB0JiYoZS5fX3Byb3RvX189dCksKGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUpKS5jb25zdHJ1Y3Rvcj1lLGUucHJvdG90eXBlLmhhc09mZnNjcmVlblBhc3M9ZnVuY3Rpb24oKXtyZXR1cm4gMCE9PXRoaXMucGFpbnQuZ2V0KCJoaWxsc2hhZGUtZXhhZ2dlcmF0aW9uIikmJiJub25lIiE9PXRoaXMudmlzaWJpbGl0eX0sZX0oeGkpLGJvPUFpKFt7bmFtZToiYV9wb3MiLGNvbXBvbmVudHM6Mix0eXBlOiJJbnQxNiJ9XSw0KS5tZW1iZXJzLHdvPUFvLF9vPUFvO2Z1bmN0aW9uIEFvKHQsZSxyKXtyPXJ8fDI7dmFyIG4saSxhLG8scyx1LGwscD1lJiZlLmxlbmd0aCxjPXA/ZVswXSpyOnQubGVuZ3RoLGg9U28odCwwLGMsciwhMCksZj1bXTtpZighaHx8aC5uZXh0PT09aC5wcmV2KXJldHVybiBmO2lmKHAmJihoPWZ1bmN0aW9uKHQsZSxyLG4pe3ZhciBpLGEsbyxzPVtdO2ZvcihpPTAsYT1lLmxlbmd0aDtpPGE7aSsrKShvPVNvKHQsZVtpXSpuLGk8YS0xP2VbaSsxXSpuOnQubGVuZ3RoLG4sITEpKT09PW8ubmV4dCYmKG8uc3RlaW5lcj0hMCkscy5wdXNoKEZvKG8pKTtmb3Iocy5zb3J0KFRvKSxpPTA7aTxzLmxlbmd0aDtpKyspUG8oc1tpXSxyKSxyPWtvKHIsci5uZXh0KTtyZXR1cm4gcn0odCxlLGgscikpLHQubGVuZ3RoPjgwKnIpe249YT10WzBdLGk9bz10WzFdO2Zvcih2YXIgeT1yO3k8Yzt5Kz1yKShzPXRbeV0pPG4mJihuPXMpLCh1PXRbeSsxXSk8aSYmKGk9dSkscz5hJiYoYT1zKSx1Pm8mJihvPXUpO2w9MCE9PShsPU1hdGgubWF4KGEtbixvLWkpKT8xL2w6MDt9cmV0dXJuIElvKGgsZixyLG4saSxsKSxmfWZ1bmN0aW9uIFNvKHQsZSxyLG4saSl7dmFyIGEsbztpZihpPT09Sm8odCxlLHIsbik+MClmb3IoYT1lO2E8cjthKz1uKW89R28oYSx0W2FdLHRbYSsxXSxvKTtlbHNlIGZvcihhPXItbjthPj1lO2EtPW4pbz1HbyhhLHRbYV0sdFthKzFdLG8pO3JldHVybiBvJiZPbyhvLG8ubmV4dCkmJihabyhvKSxvPW8ubmV4dCksb31mdW5jdGlvbiBrbyh0LGUpe2lmKCF0KXJldHVybiB0O2V8fChlPXQpO3ZhciByLG49dDtkb3tpZihyPSExLG4uc3RlaW5lcnx8IU9vKG4sbi5uZXh0KSYmMCE9PVJvKG4ucHJldixuLG4ubmV4dCkpbj1uLm5leHQ7ZWxzZSB7aWYoWm8obiksKG49ZT1uLnByZXYpPT09bi5uZXh0KWJyZWFrO3I9ITA7fX13aGlsZShyfHxuIT09ZSk7cmV0dXJuIGV9ZnVuY3Rpb24gSW8odCxlLHIsbixpLGEsbyl7aWYodCl7IW8mJmEmJmZ1bmN0aW9uKHQsZSxyLG4pe3ZhciBpPXQ7ZG97bnVsbD09PWkueiYmKGkuej1WbyhpLngsaS55LGUscixuKSksaS5wcmV2Wj1pLnByZXYsaS5uZXh0Wj1pLm5leHQsaT1pLm5leHQ7fXdoaWxlKGkhPT10KTtpLnByZXZaLm5leHRaPW51bGwsaS5wcmV2Wj1udWxsLGZ1bmN0aW9uKHQpe3ZhciBlLHIsbixpLGEsbyxzLHUsbD0xO2Rve2ZvcihyPXQsdD1udWxsLGE9bnVsbCxvPTA7cjspe2ZvcihvKyssbj1yLHM9MCxlPTA7ZTxsJiYocysrLG49bi5uZXh0Wik7ZSsrKTtmb3IodT1sO3M+MHx8dT4wJiZuOykwIT09cyYmKDA9PT11fHwhbnx8ci56PD1uLnopPyhpPXIscj1yLm5leHRaLHMtLSk6KGk9bixuPW4ubmV4dFosdS0tKSxhP2EubmV4dFo9aTp0PWksaS5wcmV2Wj1hLGE9aTtyPW47fWEubmV4dFo9bnVsbCxsKj0yO313aGlsZShvPjEpfShpKTt9KHQsbixpLGEpO2Zvcih2YXIgcyx1LGw9dDt0LnByZXYhPT10Lm5leHQ7KWlmKHM9dC5wcmV2LHU9dC5uZXh0LGE/Q28odCxuLGksYSk6em8odCkpZS5wdXNoKHMuaS9yKSxlLnB1c2godC5pL3IpLGUucHVzaCh1LmkvciksWm8odCksdD11Lm5leHQsbD11Lm5leHQ7ZWxzZSBpZigodD11KT09PWwpe28/MT09PW8/SW8odD1Nbyhrbyh0KSxlLHIpLGUscixuLGksYSwyKToyPT09byYmRW8odCxlLHIsbixpLGEpOklvKGtvKHQpLGUscixuLGksYSwxKTticmVha319fWZ1bmN0aW9uIHpvKHQpe3ZhciBlPXQucHJldixyPXQsbj10Lm5leHQ7aWYoUm8oZSxyLG4pPj0wKXJldHVybiAhMTtmb3IodmFyIGk9dC5uZXh0Lm5leHQ7aSE9PXQucHJldjspe2lmKERvKGUueCxlLnksci54LHIueSxuLngsbi55LGkueCxpLnkpJiZSbyhpLnByZXYsaSxpLm5leHQpPj0wKXJldHVybiAhMTtpPWkubmV4dDt9cmV0dXJuICEwfWZ1bmN0aW9uIENvKHQsZSxyLG4pe3ZhciBpPXQucHJldixhPXQsbz10Lm5leHQ7aWYoUm8oaSxhLG8pPj0wKXJldHVybiAhMTtmb3IodmFyIHM9aS54PmEueD9pLng+by54P2kueDpvLng6YS54Pm8ueD9hLng6by54LHU9aS55PmEueT9pLnk+by55P2kueTpvLnk6YS55Pm8ueT9hLnk6by55LGw9Vm8oaS54PGEueD9pLng8by54P2kueDpvLng6YS54PG8ueD9hLng6by54LGkueTxhLnk/aS55PG8ueT9pLnk6by55OmEueTxvLnk/YS55Om8ueSxlLHIsbikscD1WbyhzLHUsZSxyLG4pLGM9dC5wcmV2WixoPXQubmV4dFo7YyYmYy56Pj1sJiZoJiZoLno8PXA7KXtpZihjIT09dC5wcmV2JiZjIT09dC5uZXh0JiZEbyhpLngsaS55LGEueCxhLnksby54LG8ueSxjLngsYy55KSYmUm8oYy5wcmV2LGMsYy5uZXh0KT49MClyZXR1cm4gITE7aWYoYz1jLnByZXZaLGghPT10LnByZXYmJmghPT10Lm5leHQmJkRvKGkueCxpLnksYS54LGEueSxvLngsby55LGgueCxoLnkpJiZSbyhoLnByZXYsaCxoLm5leHQpPj0wKXJldHVybiAhMTtoPWgubmV4dFo7fWZvcig7YyYmYy56Pj1sOyl7aWYoYyE9PXQucHJldiYmYyE9PXQubmV4dCYmRG8oaS54LGkueSxhLngsYS55LG8ueCxvLnksYy54LGMueSkmJlJvKGMucHJldixjLGMubmV4dCk+PTApcmV0dXJuICExO2M9Yy5wcmV2Wjt9Zm9yKDtoJiZoLno8PXA7KXtpZihoIT09dC5wcmV2JiZoIT09dC5uZXh0JiZEbyhpLngsaS55LGEueCxhLnksby54LG8ueSxoLngsaC55KSYmUm8oaC5wcmV2LGgsaC5uZXh0KT49MClyZXR1cm4gITE7aD1oLm5leHRaO31yZXR1cm4gITB9ZnVuY3Rpb24gTW8odCxlLHIpe3ZhciBuPXQ7ZG97dmFyIGk9bi5wcmV2LGE9bi5uZXh0Lm5leHQ7IU9vKGksYSkmJlVvKGksbixuLm5leHQsYSkmJk5vKGksYSkmJk5vKGEsaSkmJihlLnB1c2goaS5pL3IpLGUucHVzaChuLmkvciksZS5wdXNoKGEuaS9yKSxabyhuKSxabyhuLm5leHQpLG49dD1hKSxuPW4ubmV4dDt9d2hpbGUobiE9PXQpO3JldHVybiBrbyhuKX1mdW5jdGlvbiBFbyh0LGUscixuLGksYSl7dmFyIG89dDtkb3tmb3IodmFyIHM9by5uZXh0Lm5leHQ7cyE9PW8ucHJldjspe2lmKG8uaSE9PXMuaSYmTG8obyxzKSl7dmFyIHU9S28obyxzKTtyZXR1cm4gbz1rbyhvLG8ubmV4dCksdT1rbyh1LHUubmV4dCksSW8obyxlLHIsbixpLGEpLHZvaWQgSW8odSxlLHIsbixpLGEpfXM9cy5uZXh0O31vPW8ubmV4dDt9d2hpbGUobyE9PXQpfWZ1bmN0aW9uIFRvKHQsZSl7cmV0dXJuIHQueC1lLnh9ZnVuY3Rpb24gUG8odCxlKXtpZihlPWZ1bmN0aW9uKHQsZSl7dmFyIHIsbj1lLGk9dC54LGE9dC55LG89LTEvMDtkb3tpZihhPD1uLnkmJmE+PW4ubmV4dC55JiZuLm5leHQueSE9PW4ueSl7dmFyIHM9bi54KyhhLW4ueSkqKG4ubmV4dC54LW4ueCkvKG4ubmV4dC55LW4ueSk7aWYoczw9aSYmcz5vKXtpZihvPXMscz09PWkpe2lmKGE9PT1uLnkpcmV0dXJuIG47aWYoYT09PW4ubmV4dC55KXJldHVybiBuLm5leHR9cj1uLng8bi5uZXh0Lng/bjpuLm5leHQ7fX1uPW4ubmV4dDt9d2hpbGUobiE9PWUpO2lmKCFyKXJldHVybiBudWxsO2lmKGk9PT1vKXJldHVybiByO3ZhciB1LGw9cixwPXIueCxjPXIueSxoPTEvMDtuPXI7ZG97aT49bi54JiZuLng+PXAmJmkhPT1uLngmJkRvKGE8Yz9pOm8sYSxwLGMsYTxjP286aSxhLG4ueCxuLnkpJiYodT1NYXRoLmFicyhhLW4ueSkvKGktbi54KSxObyhuLHQpJiYodTxofHx1PT09aCYmKG4ueD5yLnh8fG4ueD09PXIueCYmQm8ocixuKSkpJiYocj1uLGg9dSkpLG49bi5uZXh0O313aGlsZShuIT09bCk7cmV0dXJuIHJ9KHQsZSkpe3ZhciByPUtvKGUsdCk7a28oZSxlLm5leHQpLGtvKHIsci5uZXh0KTt9fWZ1bmN0aW9uIEJvKHQsZSl7cmV0dXJuIFJvKHQucHJldix0LGUucHJldik8MCYmUm8oZS5uZXh0LHQsdC5uZXh0KTwwfWZ1bmN0aW9uIFZvKHQsZSxyLG4saSl7cmV0dXJuICh0PTE0MzE2NTU3NjUmKCh0PTg1ODk5MzQ1OSYoKHQ9MjUyNjQ1MTM1JigodD0xNjcxMTkzNSYoKHQ9MzI3NjcqKHQtcikqaSl8dDw8OCkpfHQ8PDQpKXx0PDwyKSl8dDw8MSkpfChlPTE0MzE2NTU3NjUmKChlPTg1ODk5MzQ1OSYoKGU9MjUyNjQ1MTM1JigoZT0xNjcxMTkzNSYoKGU9MzI3NjcqKGUtbikqaSl8ZTw8OCkpfGU8PDQpKXxlPDwyKSl8ZTw8MSkpPDwxfWZ1bmN0aW9uIEZvKHQpe3ZhciBlPXQscj10O2RveyhlLng8ci54fHxlLng9PT1yLngmJmUueTxyLnkpJiYocj1lKSxlPWUubmV4dDt9d2hpbGUoZSE9PXQpO3JldHVybiByfWZ1bmN0aW9uIERvKHQsZSxyLG4saSxhLG8scyl7cmV0dXJuIChpLW8pKihlLXMpLSh0LW8pKihhLXMpPj0wJiYodC1vKSoobi1zKS0oci1vKSooZS1zKT49MCYmKHItbykqKGEtcyktKGktbykqKG4tcyk+PTB9ZnVuY3Rpb24gTG8odCxlKXtyZXR1cm4gdC5uZXh0LmkhPT1lLmkmJnQucHJldi5pIT09ZS5pJiYhZnVuY3Rpb24odCxlKXt2YXIgcj10O2Rve2lmKHIuaSE9PXQuaSYmci5uZXh0LmkhPT10LmkmJnIuaSE9PWUuaSYmci5uZXh0LmkhPT1lLmkmJlVvKHIsci5uZXh0LHQsZSkpcmV0dXJuICEwO3I9ci5uZXh0O313aGlsZShyIT09dCk7cmV0dXJuICExfSh0LGUpJiYoTm8odCxlKSYmTm8oZSx0KSYmZnVuY3Rpb24odCxlKXt2YXIgcj10LG49ITEsaT0odC54K2UueCkvMixhPSh0LnkrZS55KS8yO2Rve3IueT5hIT1yLm5leHQueT5hJiZyLm5leHQueSE9PXIueSYmaTwoci5uZXh0Lngtci54KSooYS1yLnkpLyhyLm5leHQueS1yLnkpK3IueCYmKG49IW4pLHI9ci5uZXh0O313aGlsZShyIT09dCk7cmV0dXJuIG59KHQsZSkmJihSbyh0LnByZXYsdCxlLnByZXYpfHxSbyh0LGUucHJldixlKSl8fE9vKHQsZSkmJlJvKHQucHJldix0LHQubmV4dCk+MCYmUm8oZS5wcmV2LGUsZS5uZXh0KT4wKX1mdW5jdGlvbiBSbyh0LGUscil7cmV0dXJuIChlLnktdC55KSooci54LWUueCktKGUueC10LngpKihyLnktZS55KX1mdW5jdGlvbiBPbyh0LGUpe3JldHVybiB0Lng9PT1lLngmJnQueT09PWUueX1mdW5jdGlvbiBVbyh0LGUscixuKXt2YXIgaT1xbyhSbyh0LGUscikpLGE9cW8oUm8odCxlLG4pKSxvPXFvKFJvKHIsbix0KSkscz1xbyhSbyhyLG4sZSkpO3JldHVybiBpIT09YSYmbyE9PXN8fCEoMCE9PWl8fCFqbyh0LHIsZSkpfHwhKDAhPT1hfHwham8odCxuLGUpKXx8ISgwIT09b3x8IWpvKHIsdCxuKSl8fCEoMCE9PXN8fCFqbyhyLGUsbikpfWZ1bmN0aW9uIGpvKHQsZSxyKXtyZXR1cm4gZS54PD1NYXRoLm1heCh0Lngsci54KSYmZS54Pj1NYXRoLm1pbih0Lngsci54KSYmZS55PD1NYXRoLm1heCh0Lnksci55KSYmZS55Pj1NYXRoLm1pbih0Lnksci55KX1mdW5jdGlvbiBxbyh0KXtyZXR1cm4gdD4wPzE6dDwwPy0xOjB9ZnVuY3Rpb24gTm8odCxlKXtyZXR1cm4gUm8odC5wcmV2LHQsdC5uZXh0KTwwP1JvKHQsZSx0Lm5leHQpPj0wJiZSbyh0LHQucHJldixlKT49MDpSbyh0LGUsdC5wcmV2KTwwfHxSbyh0LHQubmV4dCxlKTwwfWZ1bmN0aW9uIEtvKHQsZSl7dmFyIHI9bmV3IFhvKHQuaSx0LngsdC55KSxuPW5ldyBYbyhlLmksZS54LGUueSksaT10Lm5leHQsYT1lLnByZXY7cmV0dXJuIHQubmV4dD1lLGUucHJldj10LHIubmV4dD1pLGkucHJldj1yLG4ubmV4dD1yLHIucHJldj1uLGEubmV4dD1uLG4ucHJldj1hLG59ZnVuY3Rpb24gR28odCxlLHIsbil7dmFyIGk9bmV3IFhvKHQsZSxyKTtyZXR1cm4gbj8oaS5uZXh0PW4ubmV4dCxpLnByZXY9bixuLm5leHQucHJldj1pLG4ubmV4dD1pKTooaS5wcmV2PWksaS5uZXh0PWkpLGl9ZnVuY3Rpb24gWm8odCl7dC5uZXh0LnByZXY9dC5wcmV2LHQucHJldi5uZXh0PXQubmV4dCx0LnByZXZaJiYodC5wcmV2Wi5uZXh0Wj10Lm5leHRaKSx0Lm5leHRaJiYodC5uZXh0Wi5wcmV2Wj10LnByZXZaKTt9ZnVuY3Rpb24gWG8odCxlLHIpe3RoaXMuaT10LHRoaXMueD1lLHRoaXMueT1yLHRoaXMucHJldj1udWxsLHRoaXMubmV4dD1udWxsLHRoaXMuej1udWxsLHRoaXMucHJldlo9bnVsbCx0aGlzLm5leHRaPW51bGwsdGhpcy5zdGVpbmVyPSExO31mdW5jdGlvbiBKbyh0LGUscixuKXtmb3IodmFyIGk9MCxhPWUsbz1yLW47YTxyO2ErPW4paSs9KHRbb10tdFthXSkqKHRbYSsxXSt0W28rMV0pLG89YTtyZXR1cm4gaX1mdW5jdGlvbiBIbyh0LGUscixuLGkpeyFmdW5jdGlvbiB0KGUscixuLGksYSl7Zm9yKDtpPm47KXtpZihpLW4+NjAwKXt2YXIgbz1pLW4rMSxzPXItbisxLHU9TWF0aC5sb2cobyksbD0uNSpNYXRoLmV4cCgyKnUvMykscD0uNSpNYXRoLnNxcnQodSpsKihvLWwpL28pKihzLW8vMjwwPy0xOjEpO3QoZSxyLE1hdGgubWF4KG4sTWF0aC5mbG9vcihyLXMqbC9vK3ApKSxNYXRoLm1pbihpLE1hdGguZmxvb3Iocisoby1zKSpsL28rcCkpLGEpO312YXIgYz1lW3JdLGg9bixmPWk7Zm9yKFlvKGUsbixyKSxhKGVbaV0sYyk+MCYmWW8oZSxuLGkpO2g8Zjspe2ZvcihZbyhlLGgsZiksaCsrLGYtLTthKGVbaF0sYyk8MDspaCsrO2Zvcig7YShlW2ZdLGMpPjA7KWYtLTt9MD09PWEoZVtuXSxjKT9ZbyhlLG4sZik6WW8oZSwrK2YsaSksZjw9ciYmKG49ZisxKSxyPD1mJiYoaT1mLTEpO319KHQsZSxyfHwwLG58fHQubGVuZ3RoLTEsaXx8JG8pO31mdW5jdGlvbiBZbyh0LGUscil7dmFyIG49dFtlXTt0W2VdPXRbcl0sdFtyXT1uO31mdW5jdGlvbiAkbyh0LGUpe3JldHVybiB0PGU/LTE6dD5lPzE6MH1mdW5jdGlvbiBXbyh0LGUpe3ZhciByPXQubGVuZ3RoO2lmKHI8PTEpcmV0dXJuIFt0XTtmb3IodmFyIG4saSxhPVtdLG89MDtvPHI7bysrKXt2YXIgcz1BKHRbb10pOzAhPT1zJiYodFtvXS5hcmVhPU1hdGguYWJzKHMpLHZvaWQgMD09PWkmJihpPXM8MCksaT09PXM8MD8obiYmYS5wdXNoKG4pLG49W3Rbb11dKTpuLnB1c2godFtvXSkpO31pZihuJiZhLnB1c2gobiksZT4xKWZvcih2YXIgdT0wO3U8YS5sZW5ndGg7dSsrKWFbdV0ubGVuZ3RoPD1lfHwoSG8oYVt1XSxlLDEsYVt1XS5sZW5ndGgtMSxRbyksYVt1XT1hW3VdLnNsaWNlKDAsZSkpO3JldHVybiBhfWZ1bmN0aW9uIFFvKHQsZSl7cmV0dXJuIGUuYXJlYS10LmFyZWF9ZnVuY3Rpb24gdHModCxlLHIpe2Zvcih2YXIgbj1yLnBhdHRlcm5EZXBlbmRlbmNpZXMsaT0hMSxhPTAsbz1lO2E8by5sZW5ndGg7YSs9MSl7dmFyIHM9b1thXS5wYWludC5nZXQodCsiLXBhdHRlcm4iKTtzLmlzQ29uc3RhbnQoKXx8KGk9ITApO3ZhciB1PXMuY29uc3RhbnRPcihudWxsKTt1JiYoaT0hMCxuW3UudG9dPSEwLG5bdS5mcm9tXT0hMCk7fXJldHVybiBpfWZ1bmN0aW9uIGVzKHQsZSxyLG4saSl7Zm9yKHZhciBhPWkucGF0dGVybkRlcGVuZGVuY2llcyxvPTAscz1lO288cy5sZW5ndGg7bys9MSl7dmFyIHU9c1tvXSxsPXUucGFpbnQuZ2V0KHQrIi1wYXR0ZXJuIikudmFsdWU7aWYoImNvbnN0YW50IiE9PWwua2luZCl7dmFyIHA9bC5ldmFsdWF0ZSh7em9vbTpuLTF9LHIse30saS5hdmFpbGFibGVJbWFnZXMpLGM9bC5ldmFsdWF0ZSh7em9vbTpufSxyLHt9LGkuYXZhaWxhYmxlSW1hZ2VzKSxoPWwuZXZhbHVhdGUoe3pvb206bisxfSxyLHt9LGkuYXZhaWxhYmxlSW1hZ2VzKTtjPWMmJmMubmFtZT9jLm5hbWU6YyxoPWgmJmgubmFtZT9oLm5hbWU6aCxhW3A9cCYmcC5uYW1lP3AubmFtZTpwXT0hMCxhW2NdPSEwLGFbaF09ITAsci5wYXR0ZXJuc1t1LmlkXT17bWluOnAsbWlkOmMsbWF4Omh9O319cmV0dXJuIHJ9QW8uZGV2aWF0aW9uPWZ1bmN0aW9uKHQsZSxyLG4pe3ZhciBpPWUmJmUubGVuZ3RoLGE9TWF0aC5hYnMoSm8odCwwLGk/ZVswXSpyOnQubGVuZ3RoLHIpKTtpZihpKWZvcih2YXIgbz0wLHM9ZS5sZW5ndGg7bzxzO28rKylhLT1NYXRoLmFicyhKbyh0LGVbb10qcixvPHMtMT9lW28rMV0qcjp0Lmxlbmd0aCxyKSk7dmFyIHU9MDtmb3Iobz0wO288bi5sZW5ndGg7bys9Myl7dmFyIGw9bltvXSpyLHA9bltvKzFdKnIsYz1uW28rMl0qcjt1Kz1NYXRoLmFicygodFtsXS10W2NdKSoodFtwKzFdLXRbbCsxXSktKHRbbF0tdFtwXSkqKHRbYysxXS10W2wrMV0pKTt9cmV0dXJuIDA9PT1hJiYwPT09dT8wOk1hdGguYWJzKCh1LWEpL2EpfSxBby5mbGF0dGVuPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10WzBdWzBdLmxlbmd0aCxyPXt2ZXJ0aWNlczpbXSxob2xlczpbXSxkaW1lbnNpb25zOmV9LG49MCxpPTA7aTx0Lmxlbmd0aDtpKyspe2Zvcih2YXIgYT0wO2E8dFtpXS5sZW5ndGg7YSsrKWZvcih2YXIgbz0wO288ZTtvKyspci52ZXJ0aWNlcy5wdXNoKHRbaV1bYV1bb10pO2k+MCYmci5ob2xlcy5wdXNoKG4rPXRbaS0xXS5sZW5ndGgpO31yZXR1cm4gcn0sd28uZGVmYXVsdD1fbzt2YXIgcnM9ZnVuY3Rpb24odCl7dGhpcy56b29tPXQuem9vbSx0aGlzLm92ZXJzY2FsaW5nPXQub3ZlcnNjYWxpbmcsdGhpcy5sYXllcnM9dC5sYXllcnMsdGhpcy5sYXllcklkcz10aGlzLmxheWVycy5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiB0LmlkfSkpLHRoaXMuaW5kZXg9dC5pbmRleCx0aGlzLmhhc1BhdHRlcm49ITEsdGhpcy5wYXR0ZXJuRmVhdHVyZXM9W10sdGhpcy5sYXlvdXRWZXJ0ZXhBcnJheT1uZXcga2ksdGhpcy5pbmRleEFycmF5PW5ldyBMaSx0aGlzLmluZGV4QXJyYXkyPW5ldyBOaSx0aGlzLnByb2dyYW1Db25maWd1cmF0aW9ucz1uZXcgVGEoYm8sdC5sYXllcnMsdC56b29tKSx0aGlzLnNlZ21lbnRzPW5ldyBpYSx0aGlzLnNlZ21lbnRzMj1uZXcgaWEsdGhpcy5zdGF0ZURlcGVuZGVudExheWVySWRzPXRoaXMubGF5ZXJzLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIHQuaXNTdGF0ZURlcGVuZGVudCgpfSkpLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIHQuaWR9KSk7fTtycy5wcm90b3R5cGUucG9wdWxhdGU9ZnVuY3Rpb24odCxlLHIpe3RoaXMuaGFzUGF0dGVybj10cygiZmlsbCIsdGhpcy5sYXllcnMsZSk7Zm9yKHZhciBuPXRoaXMubGF5ZXJzWzBdLmxheW91dC5nZXQoImZpbGwtc29ydC1rZXkiKSxpPVtdLGE9MCxvPXQ7YTxvLmxlbmd0aDthKz0xKXt2YXIgcz1vW2FdLHU9cy5mZWF0dXJlLGw9cy5pZCxwPXMuaW5kZXgsYz1zLnNvdXJjZUxheWVySW5kZXgsaD10aGlzLmxheWVyc1swXS5fZmVhdHVyZUZpbHRlci5uZWVkR2VvbWV0cnksZj17dHlwZTp1LnR5cGUsaWQ6bCxwcm9wZXJ0aWVzOnUucHJvcGVydGllcyxnZW9tZXRyeTpoP0ZhKHUpOltdfTtpZih0aGlzLmxheWVyc1swXS5fZmVhdHVyZUZpbHRlci5maWx0ZXIobmV3IGlpKHRoaXMuem9vbSksZixyKSl7aHx8KGYuZ2VvbWV0cnk9RmEodSkpO3ZhciB5PW4/bi5ldmFsdWF0ZShmLHt9LHIsZS5hdmFpbGFibGVJbWFnZXMpOnZvaWQgMDtpLnB1c2goe2lkOmwscHJvcGVydGllczp1LnByb3BlcnRpZXMsdHlwZTp1LnR5cGUsc291cmNlTGF5ZXJJbmRleDpjLGluZGV4OnAsZ2VvbWV0cnk6Zi5nZW9tZXRyeSxwYXR0ZXJuczp7fSxzb3J0S2V5Onl9KTt9fW4mJmkuc29ydCgoZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5zb3J0S2V5LWUuc29ydEtleX0pKTtmb3IodmFyIGQ9MCxtPWk7ZDxtLmxlbmd0aDtkKz0xKXt2YXIgdj1tW2RdLGc9di5nZW9tZXRyeSx4PXYuaW5kZXgsYj12LnNvdXJjZUxheWVySW5kZXg7aWYodGhpcy5oYXNQYXR0ZXJuKXt2YXIgdz1lcygiZmlsbCIsdGhpcy5sYXllcnMsdix0aGlzLnpvb20sZSk7dGhpcy5wYXR0ZXJuRmVhdHVyZXMucHVzaCh3KTt9ZWxzZSB0aGlzLmFkZEZlYXR1cmUodixnLHgscix7fSk7ZS5mZWF0dXJlSW5kZXguaW5zZXJ0KHRbeF0uZmVhdHVyZSxnLHgsYix0aGlzLmluZGV4KTt9fSxycy5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKHQsZSxyKXt0aGlzLnN0YXRlRGVwZW5kZW50TGF5ZXJzLmxlbmd0aCYmdGhpcy5wcm9ncmFtQ29uZmlndXJhdGlvbnMudXBkYXRlUGFpbnRBcnJheXModCxlLHRoaXMuc3RhdGVEZXBlbmRlbnRMYXllcnMscik7fSxycy5wcm90b3R5cGUuYWRkRmVhdHVyZXM9ZnVuY3Rpb24odCxlLHIpe2Zvcih2YXIgbj0wLGk9dGhpcy5wYXR0ZXJuRmVhdHVyZXM7bjxpLmxlbmd0aDtuKz0xKXt2YXIgYT1pW25dO3RoaXMuYWRkRmVhdHVyZShhLGEuZ2VvbWV0cnksYS5pbmRleCxlLHIpO319LHJzLnByb3RvdHlwZS5pc0VtcHR5PWZ1bmN0aW9uKCl7cmV0dXJuIDA9PT10aGlzLmxheW91dFZlcnRleEFycmF5Lmxlbmd0aH0scnMucHJvdG90eXBlLnVwbG9hZFBlbmRpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gIXRoaXMudXBsb2FkZWR8fHRoaXMucHJvZ3JhbUNvbmZpZ3VyYXRpb25zLm5lZWRzVXBsb2FkfSxycy5wcm90b3R5cGUudXBsb2FkPWZ1bmN0aW9uKHQpe3RoaXMudXBsb2FkZWR8fCh0aGlzLmxheW91dFZlcnRleEJ1ZmZlcj10LmNyZWF0ZVZlcnRleEJ1ZmZlcih0aGlzLmxheW91dFZlcnRleEFycmF5LGJvKSx0aGlzLmluZGV4QnVmZmVyPXQuY3JlYXRlSW5kZXhCdWZmZXIodGhpcy5pbmRleEFycmF5KSx0aGlzLmluZGV4QnVmZmVyMj10LmNyZWF0ZUluZGV4QnVmZmVyKHRoaXMuaW5kZXhBcnJheTIpKSx0aGlzLnByb2dyYW1Db25maWd1cmF0aW9ucy51cGxvYWQodCksdGhpcy51cGxvYWRlZD0hMDt9LHJzLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5sYXlvdXRWZXJ0ZXhCdWZmZXImJih0aGlzLmxheW91dFZlcnRleEJ1ZmZlci5kZXN0cm95KCksdGhpcy5pbmRleEJ1ZmZlci5kZXN0cm95KCksdGhpcy5pbmRleEJ1ZmZlcjIuZGVzdHJveSgpLHRoaXMucHJvZ3JhbUNvbmZpZ3VyYXRpb25zLmRlc3Ryb3koKSx0aGlzLnNlZ21lbnRzLmRlc3Ryb3koKSx0aGlzLnNlZ21lbnRzMi5kZXN0cm95KCkpO30scnMucHJvdG90eXBlLmFkZEZlYXR1cmU9ZnVuY3Rpb24odCxlLHIsbixpKXtmb3IodmFyIGE9MCxvPVdvKGUsNTAwKTthPG8ubGVuZ3RoO2ErPTEpe2Zvcih2YXIgcz1vW2FdLHU9MCxsPTAscD1zO2w8cC5sZW5ndGg7bCs9MSl1Kz1wW2xdLmxlbmd0aDtmb3IodmFyIGM9dGhpcy5zZWdtZW50cy5wcmVwYXJlU2VnbWVudCh1LHRoaXMubGF5b3V0VmVydGV4QXJyYXksdGhpcy5pbmRleEFycmF5KSxoPWMudmVydGV4TGVuZ3RoLGY9W10seT1bXSxkPTAsbT1zO2Q8bS5sZW5ndGg7ZCs9MSl7dmFyIHY9bVtkXTtpZigwIT09di5sZW5ndGgpe3YhPT1zWzBdJiZ5LnB1c2goZi5sZW5ndGgvMik7dmFyIGc9dGhpcy5zZWdtZW50czIucHJlcGFyZVNlZ21lbnQodi5sZW5ndGgsdGhpcy5sYXlvdXRWZXJ0ZXhBcnJheSx0aGlzLmluZGV4QXJyYXkyKSx4PWcudmVydGV4TGVuZ3RoO3RoaXMubGF5b3V0VmVydGV4QXJyYXkuZW1wbGFjZUJhY2sodlswXS54LHZbMF0ueSksdGhpcy5pbmRleEFycmF5Mi5lbXBsYWNlQmFjayh4K3YubGVuZ3RoLTEseCksZi5wdXNoKHZbMF0ueCksZi5wdXNoKHZbMF0ueSk7Zm9yKHZhciBiPTE7Yjx2Lmxlbmd0aDtiKyspdGhpcy5sYXlvdXRWZXJ0ZXhBcnJheS5lbXBsYWNlQmFjayh2W2JdLngsdltiXS55KSx0aGlzLmluZGV4QXJyYXkyLmVtcGxhY2VCYWNrKHgrYi0xLHgrYiksZi5wdXNoKHZbYl0ueCksZi5wdXNoKHZbYl0ueSk7Zy52ZXJ0ZXhMZW5ndGgrPXYubGVuZ3RoLGcucHJpbWl0aXZlTGVuZ3RoKz12Lmxlbmd0aDt9fWZvcih2YXIgdz13byhmLHkpLF89MDtfPHcubGVuZ3RoO18rPTMpdGhpcy5pbmRleEFycmF5LmVtcGxhY2VCYWNrKGgrd1tfXSxoK3dbXysxXSxoK3dbXysyXSk7Yy52ZXJ0ZXhMZW5ndGgrPXUsYy5wcmltaXRpdmVMZW5ndGgrPXcubGVuZ3RoLzM7fXRoaXMucHJvZ3JhbUNvbmZpZ3VyYXRpb25zLnBvcHVsYXRlUGFpbnRBcnJheXModGhpcy5sYXlvdXRWZXJ0ZXhBcnJheS5sZW5ndGgsdCxyLGksbik7fSxGbigiRmlsbEJ1Y2tldCIscnMse29taXQ6WyJsYXllcnMiLCJwYXR0ZXJuRmVhdHVyZXMiXX0pO3ZhciBucz1uZXcgZ2koeyJmaWxsLXNvcnQta2V5IjpuZXcgeWkoSXQubGF5b3V0X2ZpbGxbImZpbGwtc29ydC1rZXkiXSl9KSxpcz17cGFpbnQ6bmV3IGdpKHsiZmlsbC1hbnRpYWxpYXMiOm5ldyBmaShJdC5wYWludF9maWxsWyJmaWxsLWFudGlhbGlhcyJdKSwiZmlsbC1vcGFjaXR5IjpuZXcgeWkoSXQucGFpbnRfZmlsbFsiZmlsbC1vcGFjaXR5Il0pLCJmaWxsLWNvbG9yIjpuZXcgeWkoSXQucGFpbnRfZmlsbFsiZmlsbC1jb2xvciJdKSwiZmlsbC1vdXRsaW5lLWNvbG9yIjpuZXcgeWkoSXQucGFpbnRfZmlsbFsiZmlsbC1vdXRsaW5lLWNvbG9yIl0pLCJmaWxsLXRyYW5zbGF0ZSI6bmV3IGZpKEl0LnBhaW50X2ZpbGxbImZpbGwtdHJhbnNsYXRlIl0pLCJmaWxsLXRyYW5zbGF0ZS1hbmNob3IiOm5ldyBmaShJdC5wYWludF9maWxsWyJmaWxsLXRyYW5zbGF0ZS1hbmNob3IiXSksImZpbGwtcGF0dGVybiI6bmV3IGRpKEl0LnBhaW50X2ZpbGxbImZpbGwtcGF0dGVybiJdKX0pLGxheW91dDpuc30sYXM9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlKXt0LmNhbGwodGhpcyxlLGlzKTt9cmV0dXJuIHQmJihlLl9fcHJvdG9fXz10KSwoZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSkpLmNvbnN0cnVjdG9yPWUsZS5wcm90b3R5cGUucmVjYWxjdWxhdGU9ZnVuY3Rpb24oZSxyKXt0LnByb3RvdHlwZS5yZWNhbGN1bGF0ZS5jYWxsKHRoaXMsZSxyKTt2YXIgbj10aGlzLnBhaW50Ll92YWx1ZXNbImZpbGwtb3V0bGluZS1jb2xvciJdOyJjb25zdGFudCI9PT1uLnZhbHVlLmtpbmQmJnZvaWQgMD09PW4udmFsdWUudmFsdWUmJih0aGlzLnBhaW50Ll92YWx1ZXNbImZpbGwtb3V0bGluZS1jb2xvciJdPXRoaXMucGFpbnQuX3ZhbHVlc1siZmlsbC1jb2xvciJdKTt9LGUucHJvdG90eXBlLmNyZWF0ZUJ1Y2tldD1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IHJzKHQpfSxlLnByb3RvdHlwZS5xdWVyeVJhZGl1cz1mdW5jdGlvbigpe3JldHVybiBZYSh0aGlzLnBhaW50LmdldCgiZmlsbC10cmFuc2xhdGUiKSl9LGUucHJvdG90eXBlLnF1ZXJ5SW50ZXJzZWN0c0ZlYXR1cmU9ZnVuY3Rpb24odCxlLHIsbixpLGEsbyl7cmV0dXJuIFVhKCRhKHQsdGhpcy5wYWludC5nZXQoImZpbGwtdHJhbnNsYXRlIiksdGhpcy5wYWludC5nZXQoImZpbGwtdHJhbnNsYXRlLWFuY2hvciIpLGEuYW5nbGUsbyksbil9LGUucHJvdG90eXBlLmlzVGlsZUNsaXBwZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gITB9LGV9KHhpKSxvcz1BaShbe25hbWU6ImFfcG9zIixjb21wb25lbnRzOjIsdHlwZToiSW50MTYifSx7bmFtZToiYV9ub3JtYWxfZWQiLGNvbXBvbmVudHM6NCx0eXBlOiJJbnQxNiJ9XSw0KS5tZW1iZXJzLHNzPXVzO2Z1bmN0aW9uIHVzKHQsZSxyLG4saSl7dGhpcy5wcm9wZXJ0aWVzPXt9LHRoaXMuZXh0ZW50PXIsdGhpcy50eXBlPTAsdGhpcy5fcGJmPXQsdGhpcy5fZ2VvbWV0cnk9LTEsdGhpcy5fa2V5cz1uLHRoaXMuX3ZhbHVlcz1pLHQucmVhZEZpZWxkcyhscyx0aGlzLGUpO31mdW5jdGlvbiBscyh0LGUscil7MT09dD9lLmlkPXIucmVhZFZhcmludCgpOjI9PXQ/ZnVuY3Rpb24odCxlKXtmb3IodmFyIHI9dC5yZWFkVmFyaW50KCkrdC5wb3M7dC5wb3M8cjspe3ZhciBuPWUuX2tleXNbdC5yZWFkVmFyaW50KCldLGk9ZS5fdmFsdWVzW3QucmVhZFZhcmludCgpXTtlLnByb3BlcnRpZXNbbl09aTt9fShyLGUpOjM9PXQ/ZS50eXBlPXIucmVhZFZhcmludCgpOjQ9PXQmJihlLl9nZW9tZXRyeT1yLnBvcyk7fWZ1bmN0aW9uIHBzKHQpe2Zvcih2YXIgZSxyLG49MCxpPTAsYT10Lmxlbmd0aCxvPWEtMTtpPGE7bz1pKyspbis9KChyPXRbb10pLngtKGU9dFtpXSkueCkqKGUueStyLnkpO3JldHVybiBufXVzLnR5cGVzPVsiVW5rbm93biIsIlBvaW50IiwiTGluZVN0cmluZyIsIlBvbHlnb24iXSx1cy5wcm90b3R5cGUubG9hZEdlb21ldHJ5PWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fcGJmO3QucG9zPXRoaXMuX2dlb21ldHJ5O2Zvcih2YXIgZSxyPXQucmVhZFZhcmludCgpK3QucG9zLG49MSxhPTAsbz0wLHM9MCx1PVtdO3QucG9zPHI7KXtpZihhPD0wKXt2YXIgbD10LnJlYWRWYXJpbnQoKTtuPTcmbCxhPWw+PjM7fWlmKGEtLSwxPT09bnx8Mj09PW4pbys9dC5yZWFkU1ZhcmludCgpLHMrPXQucmVhZFNWYXJpbnQoKSwxPT09biYmKGUmJnUucHVzaChlKSxlPVtdKSxlLnB1c2gobmV3IGkobyxzKSk7ZWxzZSB7aWYoNyE9PW4pdGhyb3cgbmV3IEVycm9yKCJ1bmtub3duIGNvbW1hbmQgIituKTtlJiZlLnB1c2goZVswXS5jbG9uZSgpKTt9fXJldHVybiBlJiZ1LnB1c2goZSksdX0sdXMucHJvdG90eXBlLmJib3g9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9wYmY7dC5wb3M9dGhpcy5fZ2VvbWV0cnk7Zm9yKHZhciBlPXQucmVhZFZhcmludCgpK3QucG9zLHI9MSxuPTAsaT0wLGE9MCxvPTEvMCxzPS0xLzAsdT0xLzAsbD0tMS8wO3QucG9zPGU7KXtpZihuPD0wKXt2YXIgcD10LnJlYWRWYXJpbnQoKTtyPTcmcCxuPXA+PjM7fWlmKG4tLSwxPT09cnx8Mj09PXIpKGkrPXQucmVhZFNWYXJpbnQoKSk8byYmKG89aSksaT5zJiYocz1pKSwoYSs9dC5yZWFkU1ZhcmludCgpKTx1JiYodT1hKSxhPmwmJihsPWEpO2Vsc2UgaWYoNyE9PXIpdGhyb3cgbmV3IEVycm9yKCJ1bmtub3duIGNvbW1hbmQgIityKX1yZXR1cm4gW28sdSxzLGxdfSx1cy5wcm90b3R5cGUudG9HZW9KU09OPWZ1bmN0aW9uKHQsZSxyKXt2YXIgbixpLGE9dGhpcy5leHRlbnQqTWF0aC5wb3coMixyKSxvPXRoaXMuZXh0ZW50KnQscz10aGlzLmV4dGVudCplLHU9dGhpcy5sb2FkR2VvbWV0cnkoKSxsPXVzLnR5cGVzW3RoaXMudHlwZV07ZnVuY3Rpb24gcCh0KXtmb3IodmFyIGU9MDtlPHQubGVuZ3RoO2UrKyl7dmFyIHI9dFtlXTt0W2VdPVszNjAqKHIueCtvKS9hLTE4MCwzNjAvTWF0aC5QSSpNYXRoLmF0YW4oTWF0aC5leHAoKDE4MC0zNjAqKHIueStzKS9hKSpNYXRoLlBJLzE4MCkpLTkwXTt9fXN3aXRjaCh0aGlzLnR5cGUpe2Nhc2UgMTp2YXIgYz1bXTtmb3Iobj0wO248dS5sZW5ndGg7bisrKWNbbl09dVtuXVswXTtwKHU9Yyk7YnJlYWs7Y2FzZSAyOmZvcihuPTA7bjx1Lmxlbmd0aDtuKyspcCh1W25dKTticmVhaztjYXNlIDM6Zm9yKHU9ZnVuY3Rpb24odCl7dmFyIGU9dC5sZW5ndGg7aWYoZTw9MSlyZXR1cm4gW3RdO2Zvcih2YXIgcixuLGk9W10sYT0wO2E8ZTthKyspe3ZhciBvPXBzKHRbYV0pOzAhPT1vJiYodm9pZCAwPT09biYmKG49bzwwKSxuPT09bzwwPyhyJiZpLnB1c2gocikscj1bdFthXV0pOnIucHVzaCh0W2FdKSk7fXJldHVybiByJiZpLnB1c2gociksaX0odSksbj0wO248dS5sZW5ndGg7bisrKWZvcihpPTA7aTx1W25dLmxlbmd0aDtpKyspcCh1W25dW2ldKTt9MT09PXUubGVuZ3RoP3U9dVswXTpsPSJNdWx0aSIrbDt2YXIgaD17dHlwZToiRmVhdHVyZSIsZ2VvbWV0cnk6e3R5cGU6bCxjb29yZGluYXRlczp1fSxwcm9wZXJ0aWVzOnRoaXMucHJvcGVydGllc307cmV0dXJuICJpZCJpbiB0aGlzJiYoaC5pZD10aGlzLmlkKSxofTt2YXIgY3M9aHM7ZnVuY3Rpb24gaHModCxlKXt0aGlzLnZlcnNpb249MSx0aGlzLm5hbWU9bnVsbCx0aGlzLmV4dGVudD00MDk2LHRoaXMubGVuZ3RoPTAsdGhpcy5fcGJmPXQsdGhpcy5fa2V5cz1bXSx0aGlzLl92YWx1ZXM9W10sdGhpcy5fZmVhdHVyZXM9W10sdC5yZWFkRmllbGRzKGZzLHRoaXMsZSksdGhpcy5sZW5ndGg9dGhpcy5fZmVhdHVyZXMubGVuZ3RoO31mdW5jdGlvbiBmcyh0LGUscil7MTU9PT10P2UudmVyc2lvbj1yLnJlYWRWYXJpbnQoKToxPT09dD9lLm5hbWU9ci5yZWFkU3RyaW5nKCk6NT09PXQ/ZS5leHRlbnQ9ci5yZWFkVmFyaW50KCk6Mj09PXQ/ZS5fZmVhdHVyZXMucHVzaChyLnBvcyk6Mz09PXQ/ZS5fa2V5cy5wdXNoKHIucmVhZFN0cmluZygpKTo0PT09dCYmZS5fdmFsdWVzLnB1c2goZnVuY3Rpb24odCl7Zm9yKHZhciBlPW51bGwscj10LnJlYWRWYXJpbnQoKSt0LnBvczt0LnBvczxyOyl7dmFyIG49dC5yZWFkVmFyaW50KCk+PjM7ZT0xPT09bj90LnJlYWRTdHJpbmcoKToyPT09bj90LnJlYWRGbG9hdCgpOjM9PT1uP3QucmVhZERvdWJsZSgpOjQ9PT1uP3QucmVhZFZhcmludDY0KCk6NT09PW4/dC5yZWFkVmFyaW50KCk6Nj09PW4/dC5yZWFkU1ZhcmludCgpOjc9PT1uP3QucmVhZEJvb2xlYW4oKTpudWxsO31yZXR1cm4gZX0ocikpO31mdW5jdGlvbiB5cyh0LGUscil7aWYoMz09PXQpe3ZhciBuPW5ldyBjcyhyLHIucmVhZFZhcmludCgpK3IucG9zKTtuLmxlbmd0aCYmKGVbbi5uYW1lXT1uKTt9fWhzLnByb3RvdHlwZS5mZWF0dXJlPWZ1bmN0aW9uKHQpe2lmKHQ8MHx8dD49dGhpcy5fZmVhdHVyZXMubGVuZ3RoKXRocm93IG5ldyBFcnJvcigiZmVhdHVyZSBpbmRleCBvdXQgb2YgYm91bmRzIik7dGhpcy5fcGJmLnBvcz10aGlzLl9mZWF0dXJlc1t0XTt2YXIgZT10aGlzLl9wYmYucmVhZFZhcmludCgpK3RoaXMuX3BiZi5wb3M7cmV0dXJuIG5ldyBzcyh0aGlzLl9wYmYsZSx0aGlzLmV4dGVudCx0aGlzLl9rZXlzLHRoaXMuX3ZhbHVlcyl9O3ZhciBkcz17VmVjdG9yVGlsZTpmdW5jdGlvbih0LGUpe3RoaXMubGF5ZXJzPXQucmVhZEZpZWxkcyh5cyx7fSxlKTt9LFZlY3RvclRpbGVGZWF0dXJlOnNzLFZlY3RvclRpbGVMYXllcjpjc30sbXM9ZHMuVmVjdG9yVGlsZUZlYXR1cmUudHlwZXMsdnM9TWF0aC5wb3coMiwxMyk7ZnVuY3Rpb24gZ3ModCxlLHIsbixpLGEsbyxzKXt0LmVtcGxhY2VCYWNrKGUsciwyKk1hdGguZmxvb3Iobip2cykrbyxpKnZzKjIsYSp2cyoyLE1hdGgucm91bmQocykpO312YXIgeHM9ZnVuY3Rpb24odCl7dGhpcy56b29tPXQuem9vbSx0aGlzLm92ZXJzY2FsaW5nPXQub3ZlcnNjYWxpbmcsdGhpcy5sYXllcnM9dC5sYXllcnMsdGhpcy5sYXllcklkcz10aGlzLmxheWVycy5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiB0LmlkfSkpLHRoaXMuaW5kZXg9dC5pbmRleCx0aGlzLmhhc1BhdHRlcm49ITEsdGhpcy5sYXlvdXRWZXJ0ZXhBcnJheT1uZXcgemksdGhpcy5pbmRleEFycmF5PW5ldyBMaSx0aGlzLnByb2dyYW1Db25maWd1cmF0aW9ucz1uZXcgVGEob3MsdC5sYXllcnMsdC56b29tKSx0aGlzLnNlZ21lbnRzPW5ldyBpYSx0aGlzLnN0YXRlRGVwZW5kZW50TGF5ZXJJZHM9dGhpcy5sYXllcnMuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gdC5pc1N0YXRlRGVwZW5kZW50KCl9KSkubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gdC5pZH0pKTt9O2Z1bmN0aW9uIGJzKHQsZSl7cmV0dXJuIHQueD09PWUueCYmKHQueDwwfHx0Lng+ODE5Mil8fHQueT09PWUueSYmKHQueTwwfHx0Lnk+ODE5Mil9eHMucHJvdG90eXBlLnBvcHVsYXRlPWZ1bmN0aW9uKHQsZSxyKXt0aGlzLmZlYXR1cmVzPVtdLHRoaXMuaGFzUGF0dGVybj10cygiZmlsbC1leHRydXNpb24iLHRoaXMubGF5ZXJzLGUpO2Zvcih2YXIgbj0wLGk9dDtuPGkubGVuZ3RoO24rPTEpe3ZhciBhPWlbbl0sbz1hLmZlYXR1cmUscz1hLmlkLHU9YS5pbmRleCxsPWEuc291cmNlTGF5ZXJJbmRleCxwPXRoaXMubGF5ZXJzWzBdLl9mZWF0dXJlRmlsdGVyLm5lZWRHZW9tZXRyeSxjPXt0eXBlOm8udHlwZSxpZDpzLHByb3BlcnRpZXM6by5wcm9wZXJ0aWVzLGdlb21ldHJ5OnA/RmEobyk6W119O2lmKHRoaXMubGF5ZXJzWzBdLl9mZWF0dXJlRmlsdGVyLmZpbHRlcihuZXcgaWkodGhpcy56b29tKSxjLHIpKXt2YXIgaD17aWQ6cyxzb3VyY2VMYXllckluZGV4OmwsaW5kZXg6dSxnZW9tZXRyeTpwP2MuZ2VvbWV0cnk6RmEobykscHJvcGVydGllczpvLnByb3BlcnRpZXMsdHlwZTpvLnR5cGUscGF0dGVybnM6e319O3ZvaWQgMCE9PW8uaWQmJihoLmlkPW8uaWQpLHRoaXMuaGFzUGF0dGVybj90aGlzLmZlYXR1cmVzLnB1c2goZXMoImZpbGwtZXh0cnVzaW9uIix0aGlzLmxheWVycyxoLHRoaXMuem9vbSxlKSk6dGhpcy5hZGRGZWF0dXJlKGgsaC5nZW9tZXRyeSx1LHIse30pLGUuZmVhdHVyZUluZGV4Lmluc2VydChvLGguZ2VvbWV0cnksdSxsLHRoaXMuaW5kZXgsITApO319fSx4cy5wcm90b3R5cGUuYWRkRmVhdHVyZXM9ZnVuY3Rpb24odCxlLHIpe2Zvcih2YXIgbj0wLGk9dGhpcy5mZWF0dXJlcztuPGkubGVuZ3RoO24rPTEpe3ZhciBhPWlbbl07dGhpcy5hZGRGZWF0dXJlKGEsYS5nZW9tZXRyeSxhLmluZGV4LGUscik7fX0seHMucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbih0LGUscil7dGhpcy5zdGF0ZURlcGVuZGVudExheWVycy5sZW5ndGgmJnRoaXMucHJvZ3JhbUNvbmZpZ3VyYXRpb25zLnVwZGF0ZVBhaW50QXJyYXlzKHQsZSx0aGlzLnN0YXRlRGVwZW5kZW50TGF5ZXJzLHIpO30seHMucHJvdG90eXBlLmlzRW1wdHk9ZnVuY3Rpb24oKXtyZXR1cm4gMD09PXRoaXMubGF5b3V0VmVydGV4QXJyYXkubGVuZ3RofSx4cy5wcm90b3R5cGUudXBsb2FkUGVuZGluZz1mdW5jdGlvbigpe3JldHVybiAhdGhpcy51cGxvYWRlZHx8dGhpcy5wcm9ncmFtQ29uZmlndXJhdGlvbnMubmVlZHNVcGxvYWR9LHhzLnByb3RvdHlwZS51cGxvYWQ9ZnVuY3Rpb24odCl7dGhpcy51cGxvYWRlZHx8KHRoaXMubGF5b3V0VmVydGV4QnVmZmVyPXQuY3JlYXRlVmVydGV4QnVmZmVyKHRoaXMubGF5b3V0VmVydGV4QXJyYXksb3MpLHRoaXMuaW5kZXhCdWZmZXI9dC5jcmVhdGVJbmRleEJ1ZmZlcih0aGlzLmluZGV4QXJyYXkpKSx0aGlzLnByb2dyYW1Db25maWd1cmF0aW9ucy51cGxvYWQodCksdGhpcy51cGxvYWRlZD0hMDt9LHhzLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5sYXlvdXRWZXJ0ZXhCdWZmZXImJih0aGlzLmxheW91dFZlcnRleEJ1ZmZlci5kZXN0cm95KCksdGhpcy5pbmRleEJ1ZmZlci5kZXN0cm95KCksdGhpcy5wcm9ncmFtQ29uZmlndXJhdGlvbnMuZGVzdHJveSgpLHRoaXMuc2VnbWVudHMuZGVzdHJveSgpKTt9LHhzLnByb3RvdHlwZS5hZGRGZWF0dXJlPWZ1bmN0aW9uKHQsZSxyLG4saSl7Zm9yKHZhciBhPTAsbz1XbyhlLDUwMCk7YTxvLmxlbmd0aDthKz0xKXtmb3IodmFyIHM9b1thXSx1PTAsbD0wLHA9cztsPHAubGVuZ3RoO2wrPTEpdSs9cFtsXS5sZW5ndGg7Zm9yKHZhciBjPXRoaXMuc2VnbWVudHMucHJlcGFyZVNlZ21lbnQoNCx0aGlzLmxheW91dFZlcnRleEFycmF5LHRoaXMuaW5kZXhBcnJheSksaD0wLGY9cztoPGYubGVuZ3RoO2grPTEpe3ZhciB5PWZbaF07aWYoMCE9PXkubGVuZ3RoJiYhKChQPXkpLmV2ZXJ5KChmdW5jdGlvbih0KXtyZXR1cm4gdC54PDB9KSl8fFAuZXZlcnkoKGZ1bmN0aW9uKHQpe3JldHVybiB0Lng+ODE5Mn0pKXx8UC5ldmVyeSgoZnVuY3Rpb24odCl7cmV0dXJuIHQueTwwfSkpfHxQLmV2ZXJ5KChmdW5jdGlvbih0KXtyZXR1cm4gdC55PjgxOTJ9KSkpKWZvcih2YXIgZD0wLG09MDttPHkubGVuZ3RoO20rKyl7dmFyIHY9eVttXTtpZihtPj0xKXt2YXIgZz15W20tMV07aWYoIWJzKHYsZykpe2MudmVydGV4TGVuZ3RoKzQ+aWEuTUFYX1ZFUlRFWF9BUlJBWV9MRU5HVEgmJihjPXRoaXMuc2VnbWVudHMucHJlcGFyZVNlZ21lbnQoNCx0aGlzLmxheW91dFZlcnRleEFycmF5LHRoaXMuaW5kZXhBcnJheSkpO3ZhciB4PXYuc3ViKGcpLl9wZXJwKCkuX3VuaXQoKSxiPWcuZGlzdCh2KTtkK2I+MzI3NjgmJihkPTApLGdzKHRoaXMubGF5b3V0VmVydGV4QXJyYXksdi54LHYueSx4LngseC55LDAsMCxkKSxncyh0aGlzLmxheW91dFZlcnRleEFycmF5LHYueCx2LnkseC54LHgueSwwLDEsZCksZ3ModGhpcy5sYXlvdXRWZXJ0ZXhBcnJheSxnLngsZy55LHgueCx4LnksMCwwLGQrPWIpLGdzKHRoaXMubGF5b3V0VmVydGV4QXJyYXksZy54LGcueSx4LngseC55LDAsMSxkKTt2YXIgdz1jLnZlcnRleExlbmd0aDt0aGlzLmluZGV4QXJyYXkuZW1wbGFjZUJhY2sodyx3KzIsdysxKSx0aGlzLmluZGV4QXJyYXkuZW1wbGFjZUJhY2sodysxLHcrMix3KzMpLGMudmVydGV4TGVuZ3RoKz00LGMucHJpbWl0aXZlTGVuZ3RoKz0yO319fX1pZihjLnZlcnRleExlbmd0aCt1PmlhLk1BWF9WRVJURVhfQVJSQVlfTEVOR1RIJiYoYz10aGlzLnNlZ21lbnRzLnByZXBhcmVTZWdtZW50KHUsdGhpcy5sYXlvdXRWZXJ0ZXhBcnJheSx0aGlzLmluZGV4QXJyYXkpKSwiUG9seWdvbiI9PT1tc1t0LnR5cGVdKXtmb3IodmFyIF89W10sQT1bXSxTPWMudmVydGV4TGVuZ3RoLGs9MCxJPXM7azxJLmxlbmd0aDtrKz0xKXt2YXIgej1JW2tdO2lmKDAhPT16Lmxlbmd0aCl7eiE9PXNbMF0mJkEucHVzaChfLmxlbmd0aC8yKTtmb3IodmFyIEM9MDtDPHoubGVuZ3RoO0MrKyl7dmFyIE09eltDXTtncyh0aGlzLmxheW91dFZlcnRleEFycmF5LE0ueCxNLnksMCwwLDEsMSwwKSxfLnB1c2goTS54KSxfLnB1c2goTS55KTt9fX1mb3IodmFyIEU9d28oXyxBKSxUPTA7VDxFLmxlbmd0aDtUKz0zKXRoaXMuaW5kZXhBcnJheS5lbXBsYWNlQmFjayhTK0VbVF0sUytFW1QrMl0sUytFW1QrMV0pO2MucHJpbWl0aXZlTGVuZ3RoKz1FLmxlbmd0aC8zLGMudmVydGV4TGVuZ3RoKz11O319dmFyIFA7dGhpcy5wcm9ncmFtQ29uZmlndXJhdGlvbnMucG9wdWxhdGVQYWludEFycmF5cyh0aGlzLmxheW91dFZlcnRleEFycmF5Lmxlbmd0aCx0LHIsaSxuKTt9LEZuKCJGaWxsRXh0cnVzaW9uQnVja2V0Iix4cyx7b21pdDpbImxheWVycyIsImZlYXR1cmVzIl19KTt2YXIgd3M9e3BhaW50Om5ldyBnaSh7ImZpbGwtZXh0cnVzaW9uLW9wYWNpdHkiOm5ldyBmaShJdFsicGFpbnRfZmlsbC1leHRydXNpb24iXVsiZmlsbC1leHRydXNpb24tb3BhY2l0eSJdKSwiZmlsbC1leHRydXNpb24tY29sb3IiOm5ldyB5aShJdFsicGFpbnRfZmlsbC1leHRydXNpb24iXVsiZmlsbC1leHRydXNpb24tY29sb3IiXSksImZpbGwtZXh0cnVzaW9uLXRyYW5zbGF0ZSI6bmV3IGZpKEl0WyJwYWludF9maWxsLWV4dHJ1c2lvbiJdWyJmaWxsLWV4dHJ1c2lvbi10cmFuc2xhdGUiXSksImZpbGwtZXh0cnVzaW9uLXRyYW5zbGF0ZS1hbmNob3IiOm5ldyBmaShJdFsicGFpbnRfZmlsbC1leHRydXNpb24iXVsiZmlsbC1leHRydXNpb24tdHJhbnNsYXRlLWFuY2hvciJdKSwiZmlsbC1leHRydXNpb24tcGF0dGVybiI6bmV3IGRpKEl0WyJwYWludF9maWxsLWV4dHJ1c2lvbiJdWyJmaWxsLWV4dHJ1c2lvbi1wYXR0ZXJuIl0pLCJmaWxsLWV4dHJ1c2lvbi1oZWlnaHQiOm5ldyB5aShJdFsicGFpbnRfZmlsbC1leHRydXNpb24iXVsiZmlsbC1leHRydXNpb24taGVpZ2h0Il0pLCJmaWxsLWV4dHJ1c2lvbi1iYXNlIjpuZXcgeWkoSXRbInBhaW50X2ZpbGwtZXh0cnVzaW9uIl1bImZpbGwtZXh0cnVzaW9uLWJhc2UiXSksImZpbGwtZXh0cnVzaW9uLXZlcnRpY2FsLWdyYWRpZW50IjpuZXcgZmkoSXRbInBhaW50X2ZpbGwtZXh0cnVzaW9uIl1bImZpbGwtZXh0cnVzaW9uLXZlcnRpY2FsLWdyYWRpZW50Il0pfSl9LF9zPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSl7dC5jYWxsKHRoaXMsZSx3cyk7fXJldHVybiB0JiYoZS5fX3Byb3RvX189dCksKGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUpKS5jb25zdHJ1Y3Rvcj1lLGUucHJvdG90eXBlLmNyZWF0ZUJ1Y2tldD1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IHhzKHQpfSxlLnByb3RvdHlwZS5xdWVyeVJhZGl1cz1mdW5jdGlvbigpe3JldHVybiBZYSh0aGlzLnBhaW50LmdldCgiZmlsbC1leHRydXNpb24tdHJhbnNsYXRlIikpfSxlLnByb3RvdHlwZS5pczNEPWZ1bmN0aW9uKCl7cmV0dXJuICEwfSxlLnByb3RvdHlwZS5xdWVyeUludGVyc2VjdHNGZWF0dXJlPWZ1bmN0aW9uKHQsZSxyLG4sYSxvLHMsdSl7dmFyIGw9JGEodCx0aGlzLnBhaW50LmdldCgiZmlsbC1leHRydXNpb24tdHJhbnNsYXRlIiksdGhpcy5wYWludC5nZXQoImZpbGwtZXh0cnVzaW9uLXRyYW5zbGF0ZS1hbmNob3IiKSxvLmFuZ2xlLHMpLHA9dGhpcy5wYWludC5nZXQoImZpbGwtZXh0cnVzaW9uLWhlaWdodCIpLmV2YWx1YXRlKGUsciksYz10aGlzLnBhaW50LmdldCgiZmlsbC1leHRydXNpb24tYmFzZSIpLmV2YWx1YXRlKGUsciksaD1mdW5jdGlvbih0LGUscixuKXtmb3IodmFyIGE9W10sbz0wLHM9dDtvPHMubGVuZ3RoO28rPTEpe3ZhciB1PXNbb10sbD1bdS54LHUueSwwLDFdO2FvKGwsbCxlKSxhLnB1c2gobmV3IGkobFswXS9sWzNdLGxbMV0vbFszXSkpO31yZXR1cm4gYX0obCx1KSxmPWZ1bmN0aW9uKHQsZSxyLG4pe2Zvcih2YXIgYT1bXSxvPVtdLHM9bls4XSplLHU9bls5XSplLGw9blsxMF0qZSxwPW5bMTFdKmUsYz1uWzhdKnIsaD1uWzldKnIsZj1uWzEwXSpyLHk9blsxMV0qcixkPTAsbT10O2Q8bS5sZW5ndGg7ZCs9MSl7Zm9yKHZhciB2PVtdLGc9W10seD0wLGI9bVtkXTt4PGIubGVuZ3RoO3grPTEpe3ZhciB3PWJbeF0sXz13LngsQT13LnksUz1uWzBdKl8rbls0XSpBK25bMTJdLGs9blsxXSpfK25bNV0qQStuWzEzXSxJPW5bMl0qXytuWzZdKkErblsxNF0sej1uWzNdKl8rbls3XSpBK25bMTVdLEM9SStsLE09eitwLEU9UytjLFQ9aytoLFA9SStmLEI9eit5LFY9bmV3IGkoKFMrcykvTSwoayt1KS9NKTtWLno9Qy9NLHYucHVzaChWKTt2YXIgRj1uZXcgaShFL0IsVC9CKTtGLno9UC9CLGcucHVzaChGKTt9YS5wdXNoKHYpLG8ucHVzaChnKTt9cmV0dXJuIFthLG9dfShuLGMscCx1KTtyZXR1cm4gZnVuY3Rpb24odCxlLHIpe3ZhciBuPTEvMDtVYShyLGUpJiYobj1TcyhyLGVbMF0pKTtmb3IodmFyIGk9MDtpPGUubGVuZ3RoO2krKylmb3IodmFyIGE9ZVtpXSxvPXRbaV0scz0wO3M8YS5sZW5ndGgtMTtzKyspe3ZhciB1PWFbc10sbD1bdSxhW3MrMV0sb1tzKzFdLG9bc10sdV07UmEocixsKSYmKG49TWF0aC5taW4obixTcyhyLGwpKSk7fXJldHVybiBuIT09MS8wJiZufShmWzBdLGZbMV0saCl9LGV9KHhpKTtmdW5jdGlvbiBBcyh0LGUpe3JldHVybiB0LngqZS54K3QueSplLnl9ZnVuY3Rpb24gU3ModCxlKXtpZigxPT09dC5sZW5ndGgpe2Zvcih2YXIgcixuPTAsaT1lW24rK107IXJ8fGkuZXF1YWxzKHIpOylpZighKHI9ZVtuKytdKSlyZXR1cm4gMS8wO2Zvcig7bjxlLmxlbmd0aDtuKyspe3ZhciBhPWVbbl0sbz10WzBdLHM9ci5zdWIoaSksdT1hLnN1YihpKSxsPW8uc3ViKGkpLHA9QXMocyxzKSxjPUFzKHMsdSksaD1Bcyh1LHUpLGY9QXMobCxzKSx5PUFzKGwsdSksZD1wKmgtYypjLG09KGgqZi1jKnkpL2Qsdj0ocCp5LWMqZikvZCxnPWkueiooMS1tLXYpK3IueiptK2Eueip2O2lmKGlzRmluaXRlKGcpKXJldHVybiBnfXJldHVybiAxLzB9Zm9yKHZhciB4PTEvMCxiPTAsdz1lO2I8dy5sZW5ndGg7Yis9MSl4PU1hdGgubWluKHgsd1tiXS56KTtyZXR1cm4geH12YXIga3M9QWkoW3tuYW1lOiJhX3Bvc19ub3JtYWwiLGNvbXBvbmVudHM6Mix0eXBlOiJJbnQxNiJ9LHtuYW1lOiJhX2RhdGEiLGNvbXBvbmVudHM6NCx0eXBlOiJVaW50OCJ9XSw0KS5tZW1iZXJzLElzPWRzLlZlY3RvclRpbGVGZWF0dXJlLnR5cGVzLHpzPU1hdGguY29zKE1hdGguUEkvMTgwKjM3LjUpLENzPU1hdGgucG93KDIsMTQpLy41LE1zPWZ1bmN0aW9uKHQpe3RoaXMuem9vbT10Lnpvb20sdGhpcy5vdmVyc2NhbGluZz10Lm92ZXJzY2FsaW5nLHRoaXMubGF5ZXJzPXQubGF5ZXJzLHRoaXMubGF5ZXJJZHM9dGhpcy5sYXllcnMubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gdC5pZH0pKSx0aGlzLmluZGV4PXQuaW5kZXgsdGhpcy5oYXNQYXR0ZXJuPSExLHRoaXMucGF0dGVybkZlYXR1cmVzPVtdLHRoaXMubGF5b3V0VmVydGV4QXJyYXk9bmV3IENpLHRoaXMuaW5kZXhBcnJheT1uZXcgTGksdGhpcy5wcm9ncmFtQ29uZmlndXJhdGlvbnM9bmV3IFRhKGtzLHQubGF5ZXJzLHQuem9vbSksdGhpcy5zZWdtZW50cz1uZXcgaWEsdGhpcy5zdGF0ZURlcGVuZGVudExheWVySWRzPXRoaXMubGF5ZXJzLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIHQuaXNTdGF0ZURlcGVuZGVudCgpfSkpLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIHQuaWR9KSk7fTtNcy5wcm90b3R5cGUucG9wdWxhdGU9ZnVuY3Rpb24odCxlLHIpe3RoaXMuaGFzUGF0dGVybj10cygibGluZSIsdGhpcy5sYXllcnMsZSk7Zm9yKHZhciBuPXRoaXMubGF5ZXJzWzBdLmxheW91dC5nZXQoImxpbmUtc29ydC1rZXkiKSxpPVtdLGE9MCxvPXQ7YTxvLmxlbmd0aDthKz0xKXt2YXIgcz1vW2FdLHU9cy5mZWF0dXJlLGw9cy5pZCxwPXMuaW5kZXgsYz1zLnNvdXJjZUxheWVySW5kZXgsaD10aGlzLmxheWVyc1swXS5fZmVhdHVyZUZpbHRlci5uZWVkR2VvbWV0cnksZj17dHlwZTp1LnR5cGUsaWQ6bCxwcm9wZXJ0aWVzOnUucHJvcGVydGllcyxnZW9tZXRyeTpoP0ZhKHUpOltdfTtpZih0aGlzLmxheWVyc1swXS5fZmVhdHVyZUZpbHRlci5maWx0ZXIobmV3IGlpKHRoaXMuem9vbSksZixyKSl7aHx8KGYuZ2VvbWV0cnk9RmEodSkpO3ZhciB5PW4/bi5ldmFsdWF0ZShmLHt9LHIpOnZvaWQgMDtpLnB1c2goe2lkOmwscHJvcGVydGllczp1LnByb3BlcnRpZXMsdHlwZTp1LnR5cGUsc291cmNlTGF5ZXJJbmRleDpjLGluZGV4OnAsZ2VvbWV0cnk6Zi5nZW9tZXRyeSxwYXR0ZXJuczp7fSxzb3J0S2V5Onl9KTt9fW4mJmkuc29ydCgoZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5zb3J0S2V5LWUuc29ydEtleX0pKTtmb3IodmFyIGQ9MCxtPWk7ZDxtLmxlbmd0aDtkKz0xKXt2YXIgdj1tW2RdLGc9di5nZW9tZXRyeSx4PXYuaW5kZXgsYj12LnNvdXJjZUxheWVySW5kZXg7aWYodGhpcy5oYXNQYXR0ZXJuKXt2YXIgdz1lcygibGluZSIsdGhpcy5sYXllcnMsdix0aGlzLnpvb20sZSk7dGhpcy5wYXR0ZXJuRmVhdHVyZXMucHVzaCh3KTt9ZWxzZSB0aGlzLmFkZEZlYXR1cmUodixnLHgscix7fSk7ZS5mZWF0dXJlSW5kZXguaW5zZXJ0KHRbeF0uZmVhdHVyZSxnLHgsYix0aGlzLmluZGV4KTt9fSxNcy5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKHQsZSxyKXt0aGlzLnN0YXRlRGVwZW5kZW50TGF5ZXJzLmxlbmd0aCYmdGhpcy5wcm9ncmFtQ29uZmlndXJhdGlvbnMudXBkYXRlUGFpbnRBcnJheXModCxlLHRoaXMuc3RhdGVEZXBlbmRlbnRMYXllcnMscik7fSxNcy5wcm90b3R5cGUuYWRkRmVhdHVyZXM9ZnVuY3Rpb24odCxlLHIpe2Zvcih2YXIgbj0wLGk9dGhpcy5wYXR0ZXJuRmVhdHVyZXM7bjxpLmxlbmd0aDtuKz0xKXt2YXIgYT1pW25dO3RoaXMuYWRkRmVhdHVyZShhLGEuZ2VvbWV0cnksYS5pbmRleCxlLHIpO319LE1zLnByb3RvdHlwZS5pc0VtcHR5PWZ1bmN0aW9uKCl7cmV0dXJuIDA9PT10aGlzLmxheW91dFZlcnRleEFycmF5Lmxlbmd0aH0sTXMucHJvdG90eXBlLnVwbG9hZFBlbmRpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gIXRoaXMudXBsb2FkZWR8fHRoaXMucHJvZ3JhbUNvbmZpZ3VyYXRpb25zLm5lZWRzVXBsb2FkfSxNcy5wcm90b3R5cGUudXBsb2FkPWZ1bmN0aW9uKHQpe3RoaXMudXBsb2FkZWR8fCh0aGlzLmxheW91dFZlcnRleEJ1ZmZlcj10LmNyZWF0ZVZlcnRleEJ1ZmZlcih0aGlzLmxheW91dFZlcnRleEFycmF5LGtzKSx0aGlzLmluZGV4QnVmZmVyPXQuY3JlYXRlSW5kZXhCdWZmZXIodGhpcy5pbmRleEFycmF5KSksdGhpcy5wcm9ncmFtQ29uZmlndXJhdGlvbnMudXBsb2FkKHQpLHRoaXMudXBsb2FkZWQ9ITA7fSxNcy5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMubGF5b3V0VmVydGV4QnVmZmVyJiYodGhpcy5sYXlvdXRWZXJ0ZXhCdWZmZXIuZGVzdHJveSgpLHRoaXMuaW5kZXhCdWZmZXIuZGVzdHJveSgpLHRoaXMucHJvZ3JhbUNvbmZpZ3VyYXRpb25zLmRlc3Ryb3koKSx0aGlzLnNlZ21lbnRzLmRlc3Ryb3koKSk7fSxNcy5wcm90b3R5cGUuYWRkRmVhdHVyZT1mdW5jdGlvbih0LGUscixuLGkpe2Zvcih2YXIgYT10aGlzLmxheWVyc1swXS5sYXlvdXQsbz1hLmdldCgibGluZS1qb2luIikuZXZhbHVhdGUodCx7fSkscz1hLmdldCgibGluZS1jYXAiKSx1PWEuZ2V0KCJsaW5lLW1pdGVyLWxpbWl0IiksbD1hLmdldCgibGluZS1yb3VuZC1saW1pdCIpLHA9MCxjPWU7cDxjLmxlbmd0aDtwKz0xKXRoaXMuYWRkTGluZShjW3BdLHQsbyxzLHUsbCk7dGhpcy5wcm9ncmFtQ29uZmlndXJhdGlvbnMucG9wdWxhdGVQYWludEFycmF5cyh0aGlzLmxheW91dFZlcnRleEFycmF5Lmxlbmd0aCx0LHIsaSxuKTt9LE1zLnByb3RvdHlwZS5hZGRMaW5lPWZ1bmN0aW9uKHQsZSxyLG4saSxhKXtpZih0aGlzLmRpc3RhbmNlPTAsdGhpcy5zY2FsZWREaXN0YW5jZT0wLHRoaXMudG90YWxEaXN0YW5jZT0wLGUucHJvcGVydGllcyYmZS5wcm9wZXJ0aWVzLmhhc093blByb3BlcnR5KCJtYXBib3hfY2xpcF9zdGFydCIpJiZlLnByb3BlcnRpZXMuaGFzT3duUHJvcGVydHkoIm1hcGJveF9jbGlwX2VuZCIpKXt0aGlzLmNsaXBTdGFydD0rZS5wcm9wZXJ0aWVzLm1hcGJveF9jbGlwX3N0YXJ0LHRoaXMuY2xpcEVuZD0rZS5wcm9wZXJ0aWVzLm1hcGJveF9jbGlwX2VuZDtmb3IodmFyIG89MDtvPHQubGVuZ3RoLTE7bysrKXRoaXMudG90YWxEaXN0YW5jZSs9dFtvXS5kaXN0KHRbbysxXSk7dGhpcy51cGRhdGVTY2FsZWREaXN0YW5jZSgpO31mb3IodmFyIHM9IlBvbHlnb24iPT09SXNbZS50eXBlXSx1PXQubGVuZ3RoO3U+PTImJnRbdS0xXS5lcXVhbHModFt1LTJdKTspdS0tO2Zvcih2YXIgbD0wO2w8dS0xJiZ0W2xdLmVxdWFscyh0W2wrMV0pOylsKys7aWYoISh1PChzPzM6MikpKXsiYmV2ZWwiPT09ciYmKGk9MS4wNSk7dmFyIHAsYz10aGlzLm92ZXJzY2FsaW5nPD0xNj8xMjI4ODAvKDUxMip0aGlzLm92ZXJzY2FsaW5nKTowLGg9dGhpcy5zZWdtZW50cy5wcmVwYXJlU2VnbWVudCgxMCp1LHRoaXMubGF5b3V0VmVydGV4QXJyYXksdGhpcy5pbmRleEFycmF5KSxmPXZvaWQgMCx5PXZvaWQgMCxkPXZvaWQgMCxtPXZvaWQgMDt0aGlzLmUxPXRoaXMuZTI9LTEscyYmKG09dFtsXS5zdWIocD10W3UtMl0pLl91bml0KCkuX3BlcnAoKSk7Zm9yKHZhciB2PWw7djx1O3YrKylpZighKHk9dj09PXUtMT9zP3RbbCsxXTp2b2lkIDA6dFt2KzFdKXx8IXRbdl0uZXF1YWxzKHkpKXttJiYoZD1tKSxwJiYoZj1wKSxwPXRbdl0sbT15P3kuc3ViKHApLl91bml0KCkuX3BlcnAoKTpkO3ZhciBnPShkPWR8fG0pLmFkZChtKTswPT09Zy54JiYwPT09Zy55fHxnLl91bml0KCk7dmFyIHg9ZC54Km0ueCtkLnkqbS55LGI9Zy54Km0ueCtnLnkqbS55LHc9MCE9PWI/MS9iOjEvMCxfPTIqTWF0aC5zcXJ0KDItMipiKSxBPWI8enMmJmYmJnksUz1kLngqbS55LWQueSptLng+MDtpZihBJiZ2Pmwpe3ZhciBrPXAuZGlzdChmKTtpZihrPjIqYyl7dmFyIEk9cC5zdWIocC5zdWIoZikuX211bHQoYy9rKS5fcm91bmQoKSk7dGhpcy51cGRhdGVEaXN0YW5jZShmLEkpLHRoaXMuYWRkQ3VycmVudFZlcnRleChJLGQsMCwwLGgpLGY9STt9fXZhciB6PWYmJnksQz16P3I6cz8iYnV0dCI6bjtpZih6JiYicm91bmQiPT09QyYmKHc8YT9DPSJtaXRlciI6dzw9MiYmKEM9ImZha2Vyb3VuZCIpKSwibWl0ZXIiPT09QyYmdz5pJiYoQz0iYmV2ZWwiKSwiYmV2ZWwiPT09QyYmKHc+MiYmKEM9ImZsaXBiZXZlbCIpLHc8aSYmKEM9Im1pdGVyIikpLGYmJnRoaXMudXBkYXRlRGlzdGFuY2UoZixwKSwibWl0ZXIiPT09QylnLl9tdWx0KHcpLHRoaXMuYWRkQ3VycmVudFZlcnRleChwLGcsMCwwLGgpO2Vsc2UgaWYoImZsaXBiZXZlbCI9PT1DKXtpZih3PjEwMClnPW0ubXVsdCgtMSk7ZWxzZSB7dmFyIE09dypkLmFkZChtKS5tYWcoKS9kLnN1YihtKS5tYWcoKTtnLl9wZXJwKCkuX211bHQoTSooUz8tMToxKSk7fXRoaXMuYWRkQ3VycmVudFZlcnRleChwLGcsMCwwLGgpLHRoaXMuYWRkQ3VycmVudFZlcnRleChwLGcubXVsdCgtMSksMCwwLGgpO31lbHNlIGlmKCJiZXZlbCI9PT1DfHwiZmFrZXJvdW5kIj09PUMpe3ZhciBFPS1NYXRoLnNxcnQodyp3LTEpLFQ9Uz9FOjAsUD1TPzA6RTtpZihmJiZ0aGlzLmFkZEN1cnJlbnRWZXJ0ZXgocCxkLFQsUCxoKSwiZmFrZXJvdW5kIj09PUMpZm9yKHZhciBCPU1hdGgucm91bmQoMTgwKl8vTWF0aC5QSS8yMCksVj0xO1Y8QjtWKyspe3ZhciBGPVYvQjtpZiguNSE9PUYpe3ZhciBEPUYtLjU7Ris9RipEKihGLTEpKigoMS4wOTA0K3gqKHgqKDMuNTU2NDUtMS40MzUxOSp4KS0zLjI0NTIpKSpEKkQrKC44NDgwMTMreCooLjIxNTYzOCp4LTEuMDYwMjEpKSk7fXZhciBMPW0uc3ViKGQpLl9tdWx0KEYpLl9hZGQoZCkuX3VuaXQoKS5fbXVsdChTPy0xOjEpO3RoaXMuYWRkSGFsZlZlcnRleChwLEwueCxMLnksITEsUywwLGgpO315JiZ0aGlzLmFkZEN1cnJlbnRWZXJ0ZXgocCxtLC1ULC1QLGgpO31lbHNlIGlmKCJidXR0Ij09PUMpdGhpcy5hZGRDdXJyZW50VmVydGV4KHAsZywwLDAsaCk7ZWxzZSBpZigic3F1YXJlIj09PUMpe3ZhciBSPWY/MTotMTt0aGlzLmFkZEN1cnJlbnRWZXJ0ZXgocCxnLFIsUixoKTt9ZWxzZSAicm91bmQiPT09QyYmKGYmJih0aGlzLmFkZEN1cnJlbnRWZXJ0ZXgocCxkLDAsMCxoKSx0aGlzLmFkZEN1cnJlbnRWZXJ0ZXgocCxkLDEsMSxoLCEwKSkseSYmKHRoaXMuYWRkQ3VycmVudFZlcnRleChwLG0sLTEsLTEsaCwhMCksdGhpcy5hZGRDdXJyZW50VmVydGV4KHAsbSwwLDAsaCkpKTtpZihBJiZ2PHUtMSl7dmFyIE89cC5kaXN0KHkpO2lmKE8+MipjKXt2YXIgVT1wLmFkZCh5LnN1YihwKS5fbXVsdChjL08pLl9yb3VuZCgpKTt0aGlzLnVwZGF0ZURpc3RhbmNlKHAsVSksdGhpcy5hZGRDdXJyZW50VmVydGV4KFUsbSwwLDAsaCkscD1VO319fX19LE1zLnByb3RvdHlwZS5hZGRDdXJyZW50VmVydGV4PWZ1bmN0aW9uKHQsZSxyLG4saSxhKXt2b2lkIDA9PT1hJiYoYT0hMSk7dmFyIG89ZS55Km4tZS54LHM9LWUueS1lLngqbjt0aGlzLmFkZEhhbGZWZXJ0ZXgodCxlLngrZS55KnIsZS55LWUueCpyLGEsITEscixpKSx0aGlzLmFkZEhhbGZWZXJ0ZXgodCxvLHMsYSwhMCwtbixpKSx0aGlzLmRpc3RhbmNlPkNzLzImJjA9PT10aGlzLnRvdGFsRGlzdGFuY2UmJih0aGlzLmRpc3RhbmNlPTAsdGhpcy5hZGRDdXJyZW50VmVydGV4KHQsZSxyLG4saSxhKSk7fSxNcy5wcm90b3R5cGUuYWRkSGFsZlZlcnRleD1mdW5jdGlvbih0LGUscixuLGksYSxvKXt2YXIgcz0uNSp0aGlzLnNjYWxlZERpc3RhbmNlO3RoaXMubGF5b3V0VmVydGV4QXJyYXkuZW1wbGFjZUJhY2soKHQueDw8MSkrKG4/MTowKSwodC55PDwxKSsoaT8xOjApLE1hdGgucm91bmQoNjMqZSkrMTI4LE1hdGgucm91bmQoNjMqcikrMTI4LDErKDA9PT1hPzA6YTwwPy0xOjEpfCg2MyZzKTw8MixzPj42KTt2YXIgdT1vLnZlcnRleExlbmd0aCsrO3RoaXMuZTE+PTAmJnRoaXMuZTI+PTAmJih0aGlzLmluZGV4QXJyYXkuZW1wbGFjZUJhY2sodGhpcy5lMSx0aGlzLmUyLHUpLG8ucHJpbWl0aXZlTGVuZ3RoKyspLGk/dGhpcy5lMj11OnRoaXMuZTE9dTt9LE1zLnByb3RvdHlwZS51cGRhdGVTY2FsZWREaXN0YW5jZT1mdW5jdGlvbigpe3RoaXMuc2NhbGVkRGlzdGFuY2U9dGhpcy50b3RhbERpc3RhbmNlPjA/KHRoaXMuY2xpcFN0YXJ0Kyh0aGlzLmNsaXBFbmQtdGhpcy5jbGlwU3RhcnQpKnRoaXMuZGlzdGFuY2UvdGhpcy50b3RhbERpc3RhbmNlKSooQ3MtMSk6dGhpcy5kaXN0YW5jZTt9LE1zLnByb3RvdHlwZS51cGRhdGVEaXN0YW5jZT1mdW5jdGlvbih0LGUpe3RoaXMuZGlzdGFuY2UrPXQuZGlzdChlKSx0aGlzLnVwZGF0ZVNjYWxlZERpc3RhbmNlKCk7fSxGbigiTGluZUJ1Y2tldCIsTXMse29taXQ6WyJsYXllcnMiLCJwYXR0ZXJuRmVhdHVyZXMiXX0pO3ZhciBFcz1uZXcgZ2koeyJsaW5lLWNhcCI6bmV3IGZpKEl0LmxheW91dF9saW5lWyJsaW5lLWNhcCJdKSwibGluZS1qb2luIjpuZXcgeWkoSXQubGF5b3V0X2xpbmVbImxpbmUtam9pbiJdKSwibGluZS1taXRlci1saW1pdCI6bmV3IGZpKEl0LmxheW91dF9saW5lWyJsaW5lLW1pdGVyLWxpbWl0Il0pLCJsaW5lLXJvdW5kLWxpbWl0IjpuZXcgZmkoSXQubGF5b3V0X2xpbmVbImxpbmUtcm91bmQtbGltaXQiXSksImxpbmUtc29ydC1rZXkiOm5ldyB5aShJdC5sYXlvdXRfbGluZVsibGluZS1zb3J0LWtleSJdKX0pLFRzPXtwYWludDpuZXcgZ2koeyJsaW5lLW9wYWNpdHkiOm5ldyB5aShJdC5wYWludF9saW5lWyJsaW5lLW9wYWNpdHkiXSksImxpbmUtY29sb3IiOm5ldyB5aShJdC5wYWludF9saW5lWyJsaW5lLWNvbG9yIl0pLCJsaW5lLXRyYW5zbGF0ZSI6bmV3IGZpKEl0LnBhaW50X2xpbmVbImxpbmUtdHJhbnNsYXRlIl0pLCJsaW5lLXRyYW5zbGF0ZS1hbmNob3IiOm5ldyBmaShJdC5wYWludF9saW5lWyJsaW5lLXRyYW5zbGF0ZS1hbmNob3IiXSksImxpbmUtd2lkdGgiOm5ldyB5aShJdC5wYWludF9saW5lWyJsaW5lLXdpZHRoIl0pLCJsaW5lLWdhcC13aWR0aCI6bmV3IHlpKEl0LnBhaW50X2xpbmVbImxpbmUtZ2FwLXdpZHRoIl0pLCJsaW5lLW9mZnNldCI6bmV3IHlpKEl0LnBhaW50X2xpbmVbImxpbmUtb2Zmc2V0Il0pLCJsaW5lLWJsdXIiOm5ldyB5aShJdC5wYWludF9saW5lWyJsaW5lLWJsdXIiXSksImxpbmUtZGFzaGFycmF5IjpuZXcgbWkoSXQucGFpbnRfbGluZVsibGluZS1kYXNoYXJyYXkiXSksImxpbmUtcGF0dGVybiI6bmV3IGRpKEl0LnBhaW50X2xpbmVbImxpbmUtcGF0dGVybiJdKSwibGluZS1ncmFkaWVudCI6bmV3IHZpKEl0LnBhaW50X2xpbmVbImxpbmUtZ3JhZGllbnQiXSl9KSxsYXlvdXQ6RXN9LFBzPW5ldyhmdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7fXJldHVybiB0JiYoZS5fX3Byb3RvX189dCksKGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUpKS5jb25zdHJ1Y3Rvcj1lLGUucHJvdG90eXBlLnBvc3NpYmx5RXZhbHVhdGU9ZnVuY3Rpb24oZSxyKXtyZXR1cm4gcj1uZXcgaWkoTWF0aC5mbG9vcihyLnpvb20pLHtub3c6ci5ub3csZmFkZUR1cmF0aW9uOnIuZmFkZUR1cmF0aW9uLHpvb21IaXN0b3J5OnIuem9vbUhpc3RvcnksdHJhbnNpdGlvbjpyLnRyYW5zaXRpb259KSx0LnByb3RvdHlwZS5wb3NzaWJseUV2YWx1YXRlLmNhbGwodGhpcyxlLHIpfSxlLnByb3RvdHlwZS5ldmFsdWF0ZT1mdW5jdGlvbihlLHIsbixpKXtyZXR1cm4gcj1wKHt9LHIse3pvb206TWF0aC5mbG9vcihyLnpvb20pfSksdC5wcm90b3R5cGUuZXZhbHVhdGUuY2FsbCh0aGlzLGUscixuLGkpfSxlfSh5aSkpKFRzLnBhaW50LnByb3BlcnRpZXNbImxpbmUtd2lkdGgiXS5zcGVjaWZpY2F0aW9uKTtQcy51c2VJbnRlZ2VyWm9vbT0hMDt2YXIgQnM9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlKXt0LmNhbGwodGhpcyxlLFRzKTt9cmV0dXJuIHQmJihlLl9fcHJvdG9fXz10KSwoZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSkpLmNvbnN0cnVjdG9yPWUsZS5wcm90b3R5cGUuX2hhbmRsZVNwZWNpYWxQYWludFByb3BlcnR5VXBkYXRlPWZ1bmN0aW9uKHQpeyJsaW5lLWdyYWRpZW50Ij09PXQmJnRoaXMuX3VwZGF0ZUdyYWRpZW50KCk7fSxlLnByb3RvdHlwZS5fdXBkYXRlR3JhZGllbnQ9ZnVuY3Rpb24oKXt0aGlzLmdyYWRpZW50PW1vKHRoaXMuX3RyYW5zaXRpb25hYmxlUGFpbnQuX3ZhbHVlc1sibGluZS1ncmFkaWVudCJdLnZhbHVlLmV4cHJlc3Npb24sImxpbmVQcm9ncmVzcyIpLHRoaXMuZ3JhZGllbnRUZXh0dXJlPW51bGw7fSxlLnByb3RvdHlwZS5yZWNhbGN1bGF0ZT1mdW5jdGlvbihlLHIpe3QucHJvdG90eXBlLnJlY2FsY3VsYXRlLmNhbGwodGhpcyxlLHIpLHRoaXMucGFpbnQuX3ZhbHVlc1sibGluZS1mbG9vcndpZHRoIl09UHMucG9zc2libHlFdmFsdWF0ZSh0aGlzLl90cmFuc2l0aW9uaW5nUGFpbnQuX3ZhbHVlc1sibGluZS13aWR0aCJdLnZhbHVlLGUpO30sZS5wcm90b3R5cGUuY3JlYXRlQnVja2V0PWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgTXModCl9LGUucHJvdG90eXBlLnF1ZXJ5UmFkaXVzPWZ1bmN0aW9uKHQpe3ZhciBlPXQscj1WcyhIYSgibGluZS13aWR0aCIsdGhpcyxlKSxIYSgibGluZS1nYXAtd2lkdGgiLHRoaXMsZSkpLG49SGEoImxpbmUtb2Zmc2V0Iix0aGlzLGUpO3JldHVybiByLzIrTWF0aC5hYnMobikrWWEodGhpcy5wYWludC5nZXQoImxpbmUtdHJhbnNsYXRlIikpfSxlLnByb3RvdHlwZS5xdWVyeUludGVyc2VjdHNGZWF0dXJlPWZ1bmN0aW9uKHQsZSxyLG4sYSxvLHMpe3ZhciB1PSRhKHQsdGhpcy5wYWludC5nZXQoImxpbmUtdHJhbnNsYXRlIiksdGhpcy5wYWludC5nZXQoImxpbmUtdHJhbnNsYXRlLWFuY2hvciIpLG8uYW5nbGUscyksbD1zLzIqVnModGhpcy5wYWludC5nZXQoImxpbmUtd2lkdGgiKS5ldmFsdWF0ZShlLHIpLHRoaXMucGFpbnQuZ2V0KCJsaW5lLWdhcC13aWR0aCIpLmV2YWx1YXRlKGUscikpLHA9dGhpcy5wYWludC5nZXQoImxpbmUtb2Zmc2V0IikuZXZhbHVhdGUoZSxyKTtyZXR1cm4gcCYmKG49ZnVuY3Rpb24odCxlKXtmb3IodmFyIHI9W10sbj1uZXcgaSgwLDApLGE9MDthPHQubGVuZ3RoO2ErKyl7Zm9yKHZhciBvPXRbYV0scz1bXSx1PTA7dTxvLmxlbmd0aDt1Kyspe3ZhciBsPW9bdV0scD1vW3UrMV0sYz0wPT09dT9uOmwuc3ViKG9bdS0xXSkuX3VuaXQoKS5fcGVycCgpLGg9dT09PW8ubGVuZ3RoLTE/bjpwLnN1YihsKS5fdW5pdCgpLl9wZXJwKCksZj1jLl9hZGQoaCkuX3VuaXQoKTtmLl9tdWx0KDEvKGYueCpoLngrZi55KmgueSkpLHMucHVzaChmLl9tdWx0KGUpLl9hZGQobCkpO31yLnB1c2gocyk7fXJldHVybiByfShuLHAqcykpLGZ1bmN0aW9uKHQsZSxyKXtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIGk9ZVtuXTtpZih0Lmxlbmd0aD49Mylmb3IodmFyIGE9MDthPGkubGVuZ3RoO2ErKylpZihYYSh0LGlbYV0pKXJldHVybiAhMDtpZihqYSh0LGkscikpcmV0dXJuICEwfXJldHVybiAhMX0odSxuLGwpfSxlLnByb3RvdHlwZS5pc1RpbGVDbGlwcGVkPWZ1bmN0aW9uKCl7cmV0dXJuICEwfSxlfSh4aSk7ZnVuY3Rpb24gVnModCxlKXtyZXR1cm4gZT4wP2UrMip0OnR9dmFyIEZzPUFpKFt7bmFtZToiYV9wb3Nfb2Zmc2V0Iixjb21wb25lbnRzOjQsdHlwZToiSW50MTYifSx7bmFtZToiYV9kYXRhIixjb21wb25lbnRzOjQsdHlwZToiVWludDE2In0se25hbWU6ImFfcGl4ZWxvZmZzZXQiLGNvbXBvbmVudHM6NCx0eXBlOiJJbnQxNiJ9XSw0KSxEcz1BaShbe25hbWU6ImFfcHJvamVjdGVkX3BvcyIsY29tcG9uZW50czozLHR5cGU6IkZsb2F0MzIifV0sNCksTHM9KEFpKFt7bmFtZToiYV9mYWRlX29wYWNpdHkiLGNvbXBvbmVudHM6MSx0eXBlOiJVaW50MzIifV0sNCksQWkoW3tuYW1lOiJhX3BsYWNlZCIsY29tcG9uZW50czoyLHR5cGU6IlVpbnQ4In0se25hbWU6ImFfc2hpZnQiLGNvbXBvbmVudHM6Mix0eXBlOiJGbG9hdDMyIn1dKSksUnM9KEFpKFt7dHlwZToiSW50MTYiLG5hbWU6ImFuY2hvclBvaW50WCJ9LHt0eXBlOiJJbnQxNiIsbmFtZToiYW5jaG9yUG9pbnRZIn0se3R5cGU6IkludDE2IixuYW1lOiJ4MSJ9LHt0eXBlOiJJbnQxNiIsbmFtZToieTEifSx7dHlwZToiSW50MTYiLG5hbWU6IngyIn0se3R5cGU6IkludDE2IixuYW1lOiJ5MiJ9LHt0eXBlOiJVaW50MzIiLG5hbWU6ImZlYXR1cmVJbmRleCJ9LHt0eXBlOiJVaW50MTYiLG5hbWU6InNvdXJjZUxheWVySW5kZXgifSx7dHlwZToiVWludDE2IixuYW1lOiJidWNrZXRJbmRleCJ9XSksQWkoW3tuYW1lOiJhX3BvcyIsY29tcG9uZW50czoyLHR5cGU6IkludDE2In0se25hbWU6ImFfYW5jaG9yX3BvcyIsY29tcG9uZW50czoyLHR5cGU6IkludDE2In0se25hbWU6ImFfZXh0cnVkZSIsY29tcG9uZW50czoyLHR5cGU6IkludDE2In1dLDQpKSxPcz1BaShbe25hbWU6ImFfcG9zIixjb21wb25lbnRzOjIsdHlwZToiRmxvYXQzMiJ9LHtuYW1lOiJhX3JhZGl1cyIsY29tcG9uZW50czoxLHR5cGU6IkZsb2F0MzIifSx7bmFtZToiYV9mbGFncyIsY29tcG9uZW50czoyLHR5cGU6IkludDE2In1dLDQpO2Z1bmN0aW9uIFVzKHQsZSxyKXtyZXR1cm4gdC5zZWN0aW9ucy5mb3JFYWNoKChmdW5jdGlvbih0KXt0LnRleHQ9ZnVuY3Rpb24odCxlLHIpe3ZhciBuPWUubGF5b3V0LmdldCgidGV4dC10cmFuc2Zvcm0iKS5ldmFsdWF0ZShyLHt9KTtyZXR1cm4gInVwcGVyY2FzZSI9PT1uP3Q9dC50b0xvY2FsZVVwcGVyQ2FzZSgpOiJsb3dlcmNhc2UiPT09biYmKHQ9dC50b0xvY2FsZUxvd2VyQ2FzZSgpKSxuaS5hcHBseUFyYWJpY1NoYXBpbmcmJih0PW5pLmFwcGx5QXJhYmljU2hhcGluZyh0KSksdH0odC50ZXh0LGUscik7fSkpLHR9QWkoW3tuYW1lOiJ0cmlhbmdsZSIsY29tcG9uZW50czozLHR5cGU6IlVpbnQxNiJ9XSksQWkoW3t0eXBlOiJJbnQxNiIsbmFtZToiYW5jaG9yWCJ9LHt0eXBlOiJJbnQxNiIsbmFtZToiYW5jaG9yWSJ9LHt0eXBlOiJVaW50MTYiLG5hbWU6ImdseXBoU3RhcnRJbmRleCJ9LHt0eXBlOiJVaW50MTYiLG5hbWU6Im51bUdseXBocyJ9LHt0eXBlOiJVaW50MzIiLG5hbWU6InZlcnRleFN0YXJ0SW5kZXgifSx7dHlwZToiVWludDMyIixuYW1lOiJsaW5lU3RhcnRJbmRleCJ9LHt0eXBlOiJVaW50MzIiLG5hbWU6ImxpbmVMZW5ndGgifSx7dHlwZToiVWludDE2IixuYW1lOiJzZWdtZW50In0se3R5cGU6IlVpbnQxNiIsbmFtZToibG93ZXJTaXplIn0se3R5cGU6IlVpbnQxNiIsbmFtZToidXBwZXJTaXplIn0se3R5cGU6IkZsb2F0MzIiLG5hbWU6ImxpbmVPZmZzZXRYIn0se3R5cGU6IkZsb2F0MzIiLG5hbWU6ImxpbmVPZmZzZXRZIn0se3R5cGU6IlVpbnQ4IixuYW1lOiJ3cml0aW5nTW9kZSJ9LHt0eXBlOiJVaW50OCIsbmFtZToicGxhY2VkT3JpZW50YXRpb24ifSx7dHlwZToiVWludDgiLG5hbWU6ImhpZGRlbiJ9LHt0eXBlOiJVaW50MzIiLG5hbWU6ImNyb3NzVGlsZUlEIn0se3R5cGU6IkludDE2IixuYW1lOiJhc3NvY2lhdGVkSWNvbkluZGV4In1dKSxBaShbe3R5cGU6IkludDE2IixuYW1lOiJhbmNob3JYIn0se3R5cGU6IkludDE2IixuYW1lOiJhbmNob3JZIn0se3R5cGU6IkludDE2IixuYW1lOiJyaWdodEp1c3RpZmllZFRleHRTeW1ib2xJbmRleCJ9LHt0eXBlOiJJbnQxNiIsbmFtZToiY2VudGVySnVzdGlmaWVkVGV4dFN5bWJvbEluZGV4In0se3R5cGU6IkludDE2IixuYW1lOiJsZWZ0SnVzdGlmaWVkVGV4dFN5bWJvbEluZGV4In0se3R5cGU6IkludDE2IixuYW1lOiJ2ZXJ0aWNhbFBsYWNlZFRleHRTeW1ib2xJbmRleCJ9LHt0eXBlOiJJbnQxNiIsbmFtZToicGxhY2VkSWNvblN5bWJvbEluZGV4In0se3R5cGU6IkludDE2IixuYW1lOiJ2ZXJ0aWNhbFBsYWNlZEljb25TeW1ib2xJbmRleCJ9LHt0eXBlOiJVaW50MTYiLG5hbWU6ImtleSJ9LHt0eXBlOiJVaW50MTYiLG5hbWU6InRleHRCb3hTdGFydEluZGV4In0se3R5cGU6IlVpbnQxNiIsbmFtZToidGV4dEJveEVuZEluZGV4In0se3R5cGU6IlVpbnQxNiIsbmFtZToidmVydGljYWxUZXh0Qm94U3RhcnRJbmRleCJ9LHt0eXBlOiJVaW50MTYiLG5hbWU6InZlcnRpY2FsVGV4dEJveEVuZEluZGV4In0se3R5cGU6IlVpbnQxNiIsbmFtZToiaWNvbkJveFN0YXJ0SW5kZXgifSx7dHlwZToiVWludDE2IixuYW1lOiJpY29uQm94RW5kSW5kZXgifSx7dHlwZToiVWludDE2IixuYW1lOiJ2ZXJ0aWNhbEljb25Cb3hTdGFydEluZGV4In0se3R5cGU6IlVpbnQxNiIsbmFtZToidmVydGljYWxJY29uQm94RW5kSW5kZXgifSx7dHlwZToiVWludDE2IixuYW1lOiJmZWF0dXJlSW5kZXgifSx7dHlwZToiVWludDE2IixuYW1lOiJudW1Ib3Jpem9udGFsR2x5cGhWZXJ0aWNlcyJ9LHt0eXBlOiJVaW50MTYiLG5hbWU6Im51bVZlcnRpY2FsR2x5cGhWZXJ0aWNlcyJ9LHt0eXBlOiJVaW50MTYiLG5hbWU6Im51bUljb25WZXJ0aWNlcyJ9LHt0eXBlOiJVaW50MTYiLG5hbWU6Im51bVZlcnRpY2FsSWNvblZlcnRpY2VzIn0se3R5cGU6IlVpbnQxNiIsbmFtZToidXNlUnVudGltZUNvbGxpc2lvbkNpcmNsZXMifSx7dHlwZToiVWludDMyIixuYW1lOiJjcm9zc1RpbGVJRCJ9LHt0eXBlOiJGbG9hdDMyIixuYW1lOiJ0ZXh0Qm94U2NhbGUifSx7dHlwZToiRmxvYXQzMiIsY29tcG9uZW50czoyLG5hbWU6InRleHRPZmZzZXQifSx7dHlwZToiRmxvYXQzMiIsbmFtZToiY29sbGlzaW9uQ2lyY2xlRGlhbWV0ZXIifV0pLEFpKFt7dHlwZToiRmxvYXQzMiIsbmFtZToib2Zmc2V0WCJ9XSksQWkoW3t0eXBlOiJJbnQxNiIsbmFtZToieCJ9LHt0eXBlOiJJbnQxNiIsbmFtZToieSJ9LHt0eXBlOiJJbnQxNiIsbmFtZToidGlsZVVuaXREaXN0YW5jZUZyb21BbmNob3IifV0pO3ZhciBqcz17IiEiOiLvuJUiLCIjIjoi77yDIiwkOiLvvIQiLCIlIjoi77yFIiwiJiI6Iu+8hiIsIigiOiLvuLUiLCIpIjoi77i2IiwiKiI6Iu+8iiIsIisiOiLvvIsiLCIsIjoi77iQIiwiLSI6Iu+4siIsIi4iOiLjg7siLCIvIjoi77yPIiwiOiI6Iu+4kyIsIjsiOiLvuJQiLCI8Ijoi77i/IiwiPSI6Iu+8nSIsIj4iOiLvuYAiLCI/Ijoi77iWIiwiQCI6Iu+8oCIsIlsiOiLvuYciLCJcXCI6Iu+8vCIsIl0iOiLvuYgiLCJeIjoi77y+IixfOiLvuLMiLCJgIjoi772AIiwieyI6Iu+4tyIsInwiOiLigJUiLCJ9Ijoi77i4IiwifiI6Iu+9niIsIsKiIjoi77+gIiwiwqMiOiLvv6EiLCLCpSI6Iu+/pSIsIsKmIjoi77+kIiwiwqwiOiLvv6IiLCLCryI6Iu+/oyIsIuKAkyI6Iu+4siIsIuKAlCI6Iu+4sSIsIuKAmCI6Iu+5gyIsIuKAmSI6Iu+5hCIsIuKAnCI6Iu+5gSIsIuKAnSI6Iu+5giIsIuKApiI6Iu+4mSIsIuKApyI6IuODuyIsIuKCqSI6Iu+/piIsIuOAgSI6Iu+4kSIsIuOAgiI6Iu+4kiIsIuOAiCI6Iu+4vyIsIuOAiSI6Iu+5gCIsIuOAiiI6Iu+4vSIsIuOAiyI6Iu+4viIsIuOAjCI6Iu+5gSIsIuOAjSI6Iu+5giIsIuOAjiI6Iu+5gyIsIuOAjyI6Iu+5hCIsIuOAkCI6Iu+4uyIsIuOAkSI6Iu+4vCIsIuOAlCI6Iu+4uSIsIuOAlSI6Iu+4uiIsIuOAliI6Iu+4lyIsIuOAlyI6Iu+4mCIsIu+8gSI6Iu+4lSIsIu+8iCI6Iu+4tSIsIu+8iSI6Iu+4tiIsIu+8jCI6Iu+4kCIsIu+8jSI6Iu+4siIsIu+8jiI6IuODuyIsIu+8miI6Iu+4kyIsIu+8myI6Iu+4lCIsIu+8nCI6Iu+4vyIsIu+8niI6Iu+5gCIsIu+8nyI6Iu+4liIsIu+8uyI6Iu+5hyIsIu+8vSI6Iu+5iCIsIu+8vyI6Iu+4syIsIu+9myI6Iu+4tyIsIu+9nCI6IuKAlSIsIu+9nSI6Iu+4uCIsIu+9nyI6Iu+4tSIsIu+9oCI6Iu+4tiIsIu+9oSI6Iu+4kiIsIu+9oiI6Iu+5gSIsIu+9oyI6Iu+5giJ9LHFzPWZ1bmN0aW9uKHQsZSxyLG4saSl7dmFyIGEsbyxzPTgqaS1uLTEsdT0oMTw8cyktMSxsPXU+PjEscD0tNyxjPXI/aS0xOjAsaD1yPy0xOjEsZj10W2UrY107Zm9yKGMrPWgsYT1mJigxPDwtcCktMSxmPj49LXAscCs9cztwPjA7YT0yNTYqYSt0W2UrY10sYys9aCxwLT04KTtmb3Iobz1hJigxPDwtcCktMSxhPj49LXAscCs9bjtwPjA7bz0yNTYqbyt0W2UrY10sYys9aCxwLT04KTtpZigwPT09YSlhPTEtbDtlbHNlIHtpZihhPT09dSlyZXR1cm4gbz9OYU46MS8wKihmPy0xOjEpO28rPU1hdGgucG93KDIsbiksYS09bDt9cmV0dXJuIChmPy0xOjEpKm8qTWF0aC5wb3coMixhLW4pfSxOcz1mdW5jdGlvbih0LGUscixuLGksYSl7dmFyIG8scyx1LGw9OCphLWktMSxwPSgxPDxsKS0xLGM9cD4+MSxoPTIzPT09aT9NYXRoLnBvdygyLC0yNCktTWF0aC5wb3coMiwtNzcpOjAsZj1uPzA6YS0xLHk9bj8xOi0xLGQ9ZTwwfHwwPT09ZSYmMS9lPDA/MTowO2ZvcihlPU1hdGguYWJzKGUpLGlzTmFOKGUpfHxlPT09MS8wPyhzPWlzTmFOKGUpPzE6MCxvPXApOihvPU1hdGguZmxvb3IoTWF0aC5sb2coZSkvTWF0aC5MTjIpLGUqKHU9TWF0aC5wb3coMiwtbykpPDEmJihvLS0sdSo9MiksKGUrPW8rYz49MT9oL3U6aCpNYXRoLnBvdygyLDEtYykpKnU+PTImJihvKyssdS89MiksbytjPj1wPyhzPTAsbz1wKTpvK2M+PTE/KHM9KGUqdS0xKSpNYXRoLnBvdygyLGkpLG8rPWMpOihzPWUqTWF0aC5wb3coMixjLTEpKk1hdGgucG93KDIsaSksbz0wKSk7aT49ODt0W3IrZl09MjU1JnMsZis9eSxzLz0yNTYsaS09OCk7Zm9yKG89bzw8aXxzLGwrPWk7bD4wO3RbcitmXT0yNTUmbyxmKz15LG8vPTI1NixsLT04KTt0W3IrZi15XXw9MTI4KmQ7fSxLcz1HcztmdW5jdGlvbiBHcyh0KXt0aGlzLmJ1Zj1BcnJheUJ1ZmZlci5pc1ZpZXcmJkFycmF5QnVmZmVyLmlzVmlldyh0KT90Om5ldyBVaW50OEFycmF5KHR8fDApLHRoaXMucG9zPTAsdGhpcy50eXBlPTAsdGhpcy5sZW5ndGg9dGhpcy5idWYubGVuZ3RoO31Hcy5WYXJpbnQ9MCxHcy5GaXhlZDY0PTEsR3MuQnl0ZXM9MixHcy5GaXhlZDMyPTU7dmFyIFpzPSJ1bmRlZmluZWQiPT10eXBlb2YgVGV4dERlY29kZXI/bnVsbDpuZXcgVGV4dERlY29kZXIoInV0ZjgiKTtmdW5jdGlvbiBYcyh0KXtyZXR1cm4gdC50eXBlPT09R3MuQnl0ZXM/dC5yZWFkVmFyaW50KCkrdC5wb3M6dC5wb3MrMX1mdW5jdGlvbiBKcyh0LGUscil7cmV0dXJuIHI/NDI5NDk2NzI5NiplKyh0Pj4+MCk6NDI5NDk2NzI5NiooZT4+PjApKyh0Pj4+MCl9ZnVuY3Rpb24gSHModCxlLHIpe3ZhciBuPWU8PTE2MzgzPzE6ZTw9MjA5NzE1MT8yOmU8PTI2ODQzNTQ1NT8zOk1hdGguZmxvb3IoTWF0aC5sb2coZSkvKDcqTWF0aC5MTjIpKTtyLnJlYWxsb2Mobik7Zm9yKHZhciBpPXIucG9zLTE7aT49dDtpLS0pci5idWZbaStuXT1yLmJ1ZltpXTt9ZnVuY3Rpb24gWXModCxlKXtmb3IodmFyIHI9MDtyPHQubGVuZ3RoO3IrKyllLndyaXRlVmFyaW50KHRbcl0pO31mdW5jdGlvbiAkcyh0LGUpe2Zvcih2YXIgcj0wO3I8dC5sZW5ndGg7cisrKWUud3JpdGVTVmFyaW50KHRbcl0pO31mdW5jdGlvbiBXcyh0LGUpe2Zvcih2YXIgcj0wO3I8dC5sZW5ndGg7cisrKWUud3JpdGVGbG9hdCh0W3JdKTt9ZnVuY3Rpb24gUXModCxlKXtmb3IodmFyIHI9MDtyPHQubGVuZ3RoO3IrKyllLndyaXRlRG91YmxlKHRbcl0pO31mdW5jdGlvbiB0dSh0LGUpe2Zvcih2YXIgcj0wO3I8dC5sZW5ndGg7cisrKWUud3JpdGVCb29sZWFuKHRbcl0pO31mdW5jdGlvbiBldSh0LGUpe2Zvcih2YXIgcj0wO3I8dC5sZW5ndGg7cisrKWUud3JpdGVGaXhlZDMyKHRbcl0pO31mdW5jdGlvbiBydSh0LGUpe2Zvcih2YXIgcj0wO3I8dC5sZW5ndGg7cisrKWUud3JpdGVTRml4ZWQzMih0W3JdKTt9ZnVuY3Rpb24gbnUodCxlKXtmb3IodmFyIHI9MDtyPHQubGVuZ3RoO3IrKyllLndyaXRlRml4ZWQ2NCh0W3JdKTt9ZnVuY3Rpb24gaXUodCxlKXtmb3IodmFyIHI9MDtyPHQubGVuZ3RoO3IrKyllLndyaXRlU0ZpeGVkNjQodFtyXSk7fWZ1bmN0aW9uIGF1KHQsZSl7cmV0dXJuICh0W2VdfHRbZSsxXTw8OHx0W2UrMl08PDE2KSsxNjc3NzIxNip0W2UrM119ZnVuY3Rpb24gb3UodCxlLHIpe3Rbcl09ZSx0W3IrMV09ZT4+PjgsdFtyKzJdPWU+Pj4xNix0W3IrM109ZT4+PjI0O31mdW5jdGlvbiBzdSh0LGUpe3JldHVybiAodFtlXXx0W2UrMV08PDh8dFtlKzJdPDwxNikrKHRbZSszXTw8MjQpfWZ1bmN0aW9uIHV1KHQsZSxyKXsxPT09dCYmci5yZWFkTWVzc2FnZShsdSxlKTt9ZnVuY3Rpb24gbHUodCxlLHIpe2lmKDM9PT10KXt2YXIgbj1yLnJlYWRNZXNzYWdlKHB1LHt9KSxpPW4ud2lkdGgsYT1uLmhlaWdodCxvPW4ubGVmdCxzPW4udG9wLHU9bi5hZHZhbmNlO2UucHVzaCh7aWQ6bi5pZCxiaXRtYXA6bmV3IGhvKHt3aWR0aDppKzYsaGVpZ2h0OmErNn0sbi5iaXRtYXApLG1ldHJpY3M6e3dpZHRoOmksaGVpZ2h0OmEsbGVmdDpvLHRvcDpzLGFkdmFuY2U6dX19KTt9fWZ1bmN0aW9uIHB1KHQsZSxyKXsxPT09dD9lLmlkPXIucmVhZFZhcmludCgpOjI9PT10P2UuYml0bWFwPXIucmVhZEJ5dGVzKCk6Mz09PXQ/ZS53aWR0aD1yLnJlYWRWYXJpbnQoKTo0PT09dD9lLmhlaWdodD1yLnJlYWRWYXJpbnQoKTo1PT09dD9lLmxlZnQ9ci5yZWFkU1ZhcmludCgpOjY9PT10P2UudG9wPXIucmVhZFNWYXJpbnQoKTo3PT09dCYmKGUuYWR2YW5jZT1yLnJlYWRWYXJpbnQoKSk7fWZ1bmN0aW9uIGN1KHQpe2Zvcih2YXIgZT0wLHI9MCxuPTAsaT10O248aS5sZW5ndGg7bis9MSl7dmFyIGE9aVtuXTtlKz1hLncqYS5oLHI9TWF0aC5tYXgocixhLncpO310LnNvcnQoKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIGUuaC10Lmh9KSk7Zm9yKHZhciBvPVt7eDowLHk6MCx3Ok1hdGgubWF4KE1hdGguY2VpbChNYXRoLnNxcnQoZS8uOTUpKSxyKSxoOjEvMH1dLHM9MCx1PTAsbD0wLHA9dDtsPHAubGVuZ3RoO2wrPTEpZm9yKHZhciBjPXBbbF0saD1vLmxlbmd0aC0xO2g+PTA7aC0tKXt2YXIgZj1vW2hdO2lmKCEoYy53PmYud3x8Yy5oPmYuaCkpe2lmKGMueD1mLngsYy55PWYueSx1PU1hdGgubWF4KHUsYy55K2MuaCkscz1NYXRoLm1heChzLGMueCtjLncpLGMudz09PWYudyYmYy5oPT09Zi5oKXt2YXIgeT1vLnBvcCgpO2g8by5sZW5ndGgmJihvW2hdPXkpO31lbHNlIGMuaD09PWYuaD8oZi54Kz1jLncsZi53LT1jLncpOmMudz09PWYudz8oZi55Kz1jLmgsZi5oLT1jLmgpOihvLnB1c2goe3g6Zi54K2Mudyx5OmYueSx3OmYudy1jLncsaDpjLmh9KSxmLnkrPWMuaCxmLmgtPWMuaCk7YnJlYWt9fXJldHVybiB7dzpzLGg6dSxmaWxsOmUvKHMqdSl8fDB9fUdzLnByb3RvdHlwZT17ZGVzdHJveTpmdW5jdGlvbigpe3RoaXMuYnVmPW51bGw7fSxyZWFkRmllbGRzOmZ1bmN0aW9uKHQsZSxyKXtmb3Iocj1yfHx0aGlzLmxlbmd0aDt0aGlzLnBvczxyOyl7dmFyIG49dGhpcy5yZWFkVmFyaW50KCksaT1uPj4zLGE9dGhpcy5wb3M7dGhpcy50eXBlPTcmbix0KGksZSx0aGlzKSx0aGlzLnBvcz09PWEmJnRoaXMuc2tpcChuKTt9cmV0dXJuIGV9LHJlYWRNZXNzYWdlOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMucmVhZEZpZWxkcyh0LGUsdGhpcy5yZWFkVmFyaW50KCkrdGhpcy5wb3MpfSxyZWFkRml4ZWQzMjpmdW5jdGlvbigpe3ZhciB0PWF1KHRoaXMuYnVmLHRoaXMucG9zKTtyZXR1cm4gdGhpcy5wb3MrPTQsdH0scmVhZFNGaXhlZDMyOmZ1bmN0aW9uKCl7dmFyIHQ9c3UodGhpcy5idWYsdGhpcy5wb3MpO3JldHVybiB0aGlzLnBvcys9NCx0fSxyZWFkRml4ZWQ2NDpmdW5jdGlvbigpe3ZhciB0PWF1KHRoaXMuYnVmLHRoaXMucG9zKSs0Mjk0OTY3Mjk2KmF1KHRoaXMuYnVmLHRoaXMucG9zKzQpO3JldHVybiB0aGlzLnBvcys9OCx0fSxyZWFkU0ZpeGVkNjQ6ZnVuY3Rpb24oKXt2YXIgdD1hdSh0aGlzLmJ1Zix0aGlzLnBvcykrNDI5NDk2NzI5NipzdSh0aGlzLmJ1Zix0aGlzLnBvcys0KTtyZXR1cm4gdGhpcy5wb3MrPTgsdH0scmVhZEZsb2F0OmZ1bmN0aW9uKCl7dmFyIHQ9cXModGhpcy5idWYsdGhpcy5wb3MsITAsMjMsNCk7cmV0dXJuIHRoaXMucG9zKz00LHR9LHJlYWREb3VibGU6ZnVuY3Rpb24oKXt2YXIgdD1xcyh0aGlzLmJ1Zix0aGlzLnBvcywhMCw1Miw4KTtyZXR1cm4gdGhpcy5wb3MrPTgsdH0scmVhZFZhcmludDpmdW5jdGlvbih0KXt2YXIgZSxyLG49dGhpcy5idWY7cmV0dXJuIGU9MTI3JihyPW5bdGhpcy5wb3MrK10pLHI8MTI4P2U6KGV8PSgxMjcmKHI9blt0aGlzLnBvcysrXSkpPDw3LHI8MTI4P2U6KGV8PSgxMjcmKHI9blt0aGlzLnBvcysrXSkpPDwxNCxyPDEyOD9lOihlfD0oMTI3JihyPW5bdGhpcy5wb3MrK10pKTw8MjEscjwxMjg/ZTpmdW5jdGlvbih0LGUscil7dmFyIG4saSxhPXIuYnVmO2lmKG49KDExMiYoaT1hW3IucG9zKytdKSk+PjQsaTwxMjgpcmV0dXJuIEpzKHQsbixlKTtpZihufD0oMTI3JihpPWFbci5wb3MrK10pKTw8MyxpPDEyOClyZXR1cm4gSnModCxuLGUpO2lmKG58PSgxMjcmKGk9YVtyLnBvcysrXSkpPDwxMCxpPDEyOClyZXR1cm4gSnModCxuLGUpO2lmKG58PSgxMjcmKGk9YVtyLnBvcysrXSkpPDwxNyxpPDEyOClyZXR1cm4gSnModCxuLGUpO2lmKG58PSgxMjcmKGk9YVtyLnBvcysrXSkpPDwyNCxpPDEyOClyZXR1cm4gSnModCxuLGUpO2lmKG58PSgxJihpPWFbci5wb3MrK10pKTw8MzEsaTwxMjgpcmV0dXJuIEpzKHQsbixlKTt0aHJvdyBuZXcgRXJyb3IoIkV4cGVjdGVkIHZhcmludCBub3QgbW9yZSB0aGFuIDEwIGJ5dGVzIil9KGV8PSgxNSYocj1uW3RoaXMucG9zXSkpPDwyOCx0LHRoaXMpKSkpfSxyZWFkVmFyaW50NjQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5yZWFkVmFyaW50KCEwKX0scmVhZFNWYXJpbnQ6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnJlYWRWYXJpbnQoKTtyZXR1cm4gdCUyPT0xPyh0KzEpLy0yOnQvMn0scmVhZEJvb2xlYW46ZnVuY3Rpb24oKXtyZXR1cm4gQm9vbGVhbih0aGlzLnJlYWRWYXJpbnQoKSl9LHJlYWRTdHJpbmc6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnJlYWRWYXJpbnQoKSt0aGlzLnBvcyxlPXRoaXMucG9zO3JldHVybiB0aGlzLnBvcz10LHQtZT49MTImJlpzP2Z1bmN0aW9uKHQsZSxyKXtyZXR1cm4gWnMuZGVjb2RlKHQuc3ViYXJyYXkoZSxyKSl9KHRoaXMuYnVmLGUsdCk6ZnVuY3Rpb24odCxlLHIpe2Zvcih2YXIgbj0iIixpPWU7aTxyOyl7dmFyIGEsbyxzLHU9dFtpXSxsPW51bGwscD11PjIzOT80OnU+MjIzPzM6dT4xOTE/MjoxO2lmKGkrcD5yKWJyZWFrOzE9PT1wP3U8MTI4JiYobD11KToyPT09cD8xMjg9PSgxOTImKGE9dFtpKzFdKSkmJihsPSgzMSZ1KTw8Nnw2MyZhKTw9MTI3JiYobD1udWxsKTozPT09cD8obz10W2krMl0sMTI4PT0oMTkyJihhPXRbaSsxXSkpJiYxMjg9PSgxOTImbykmJigobD0oMTUmdSk8PDEyfCg2MyZhKTw8Nnw2MyZvKTw9MjA0N3x8bD49NTUyOTYmJmw8PTU3MzQzKSYmKGw9bnVsbCkpOjQ9PT1wJiYobz10W2krMl0scz10W2krM10sMTI4PT0oMTkyJihhPXRbaSsxXSkpJiYxMjg9PSgxOTImbykmJjEyOD09KDE5MiZzKSYmKChsPSgxNSZ1KTw8MTh8KDYzJmEpPDwxMnwoNjMmbyk8PDZ8NjMmcyk8PTY1NTM1fHxsPj0xMTE0MTEyKSYmKGw9bnVsbCkpLG51bGw9PT1sPyhsPTY1NTMzLHA9MSk6bD42NTUzNSYmKGwtPTY1NTM2LG4rPVN0cmluZy5mcm9tQ2hhckNvZGUobD4+PjEwJjEwMjN8NTUyOTYpLGw9NTYzMjB8MTAyMyZsKSxuKz1TdHJpbmcuZnJvbUNoYXJDb2RlKGwpLGkrPXA7fXJldHVybiBufSh0aGlzLmJ1ZixlLHQpfSxyZWFkQnl0ZXM6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnJlYWRWYXJpbnQoKSt0aGlzLnBvcyxlPXRoaXMuYnVmLnN1YmFycmF5KHRoaXMucG9zLHQpO3JldHVybiB0aGlzLnBvcz10LGV9LHJlYWRQYWNrZWRWYXJpbnQ6ZnVuY3Rpb24odCxlKXtpZih0aGlzLnR5cGUhPT1Hcy5CeXRlcylyZXR1cm4gdC5wdXNoKHRoaXMucmVhZFZhcmludChlKSk7dmFyIHI9WHModGhpcyk7Zm9yKHQ9dHx8W107dGhpcy5wb3M8cjspdC5wdXNoKHRoaXMucmVhZFZhcmludChlKSk7cmV0dXJuIHR9LHJlYWRQYWNrZWRTVmFyaW50OmZ1bmN0aW9uKHQpe2lmKHRoaXMudHlwZSE9PUdzLkJ5dGVzKXJldHVybiB0LnB1c2godGhpcy5yZWFkU1ZhcmludCgpKTt2YXIgZT1Ycyh0aGlzKTtmb3IodD10fHxbXTt0aGlzLnBvczxlOyl0LnB1c2godGhpcy5yZWFkU1ZhcmludCgpKTtyZXR1cm4gdH0scmVhZFBhY2tlZEJvb2xlYW46ZnVuY3Rpb24odCl7aWYodGhpcy50eXBlIT09R3MuQnl0ZXMpcmV0dXJuIHQucHVzaCh0aGlzLnJlYWRCb29sZWFuKCkpO3ZhciBlPVhzKHRoaXMpO2Zvcih0PXR8fFtdO3RoaXMucG9zPGU7KXQucHVzaCh0aGlzLnJlYWRCb29sZWFuKCkpO3JldHVybiB0fSxyZWFkUGFja2VkRmxvYXQ6ZnVuY3Rpb24odCl7aWYodGhpcy50eXBlIT09R3MuQnl0ZXMpcmV0dXJuIHQucHVzaCh0aGlzLnJlYWRGbG9hdCgpKTt2YXIgZT1Ycyh0aGlzKTtmb3IodD10fHxbXTt0aGlzLnBvczxlOyl0LnB1c2godGhpcy5yZWFkRmxvYXQoKSk7cmV0dXJuIHR9LHJlYWRQYWNrZWREb3VibGU6ZnVuY3Rpb24odCl7aWYodGhpcy50eXBlIT09R3MuQnl0ZXMpcmV0dXJuIHQucHVzaCh0aGlzLnJlYWREb3VibGUoKSk7dmFyIGU9WHModGhpcyk7Zm9yKHQ9dHx8W107dGhpcy5wb3M8ZTspdC5wdXNoKHRoaXMucmVhZERvdWJsZSgpKTtyZXR1cm4gdH0scmVhZFBhY2tlZEZpeGVkMzI6ZnVuY3Rpb24odCl7aWYodGhpcy50eXBlIT09R3MuQnl0ZXMpcmV0dXJuIHQucHVzaCh0aGlzLnJlYWRGaXhlZDMyKCkpO3ZhciBlPVhzKHRoaXMpO2Zvcih0PXR8fFtdO3RoaXMucG9zPGU7KXQucHVzaCh0aGlzLnJlYWRGaXhlZDMyKCkpO3JldHVybiB0fSxyZWFkUGFja2VkU0ZpeGVkMzI6ZnVuY3Rpb24odCl7aWYodGhpcy50eXBlIT09R3MuQnl0ZXMpcmV0dXJuIHQucHVzaCh0aGlzLnJlYWRTRml4ZWQzMigpKTt2YXIgZT1Ycyh0aGlzKTtmb3IodD10fHxbXTt0aGlzLnBvczxlOyl0LnB1c2godGhpcy5yZWFkU0ZpeGVkMzIoKSk7cmV0dXJuIHR9LHJlYWRQYWNrZWRGaXhlZDY0OmZ1bmN0aW9uKHQpe2lmKHRoaXMudHlwZSE9PUdzLkJ5dGVzKXJldHVybiB0LnB1c2godGhpcy5yZWFkRml4ZWQ2NCgpKTt2YXIgZT1Ycyh0aGlzKTtmb3IodD10fHxbXTt0aGlzLnBvczxlOyl0LnB1c2godGhpcy5yZWFkRml4ZWQ2NCgpKTtyZXR1cm4gdH0scmVhZFBhY2tlZFNGaXhlZDY0OmZ1bmN0aW9uKHQpe2lmKHRoaXMudHlwZSE9PUdzLkJ5dGVzKXJldHVybiB0LnB1c2godGhpcy5yZWFkU0ZpeGVkNjQoKSk7dmFyIGU9WHModGhpcyk7Zm9yKHQ9dHx8W107dGhpcy5wb3M8ZTspdC5wdXNoKHRoaXMucmVhZFNGaXhlZDY0KCkpO3JldHVybiB0fSxza2lwOmZ1bmN0aW9uKHQpe3ZhciBlPTcmdDtpZihlPT09R3MuVmFyaW50KWZvcig7dGhpcy5idWZbdGhpcy5wb3MrK10+MTI3Oyk7ZWxzZSBpZihlPT09R3MuQnl0ZXMpdGhpcy5wb3M9dGhpcy5yZWFkVmFyaW50KCkrdGhpcy5wb3M7ZWxzZSBpZihlPT09R3MuRml4ZWQzMil0aGlzLnBvcys9NDtlbHNlIHtpZihlIT09R3MuRml4ZWQ2NCl0aHJvdyBuZXcgRXJyb3IoIlVuaW1wbGVtZW50ZWQgdHlwZTogIitlKTt0aGlzLnBvcys9ODt9fSx3cml0ZVRhZzpmdW5jdGlvbih0LGUpe3RoaXMud3JpdGVWYXJpbnQodDw8M3xlKTt9LHJlYWxsb2M6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXRoaXMubGVuZ3RofHwxNjtlPHRoaXMucG9zK3Q7KWUqPTI7aWYoZSE9PXRoaXMubGVuZ3RoKXt2YXIgcj1uZXcgVWludDhBcnJheShlKTtyLnNldCh0aGlzLmJ1ZiksdGhpcy5idWY9cix0aGlzLmxlbmd0aD1lO319LGZpbmlzaDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmxlbmd0aD10aGlzLnBvcyx0aGlzLnBvcz0wLHRoaXMuYnVmLnN1YmFycmF5KDAsdGhpcy5sZW5ndGgpfSx3cml0ZUZpeGVkMzI6ZnVuY3Rpb24odCl7dGhpcy5yZWFsbG9jKDQpLG91KHRoaXMuYnVmLHQsdGhpcy5wb3MpLHRoaXMucG9zKz00O30sd3JpdGVTRml4ZWQzMjpmdW5jdGlvbih0KXt0aGlzLnJlYWxsb2MoNCksb3UodGhpcy5idWYsdCx0aGlzLnBvcyksdGhpcy5wb3MrPTQ7fSx3cml0ZUZpeGVkNjQ6ZnVuY3Rpb24odCl7dGhpcy5yZWFsbG9jKDgpLG91KHRoaXMuYnVmLC0xJnQsdGhpcy5wb3MpLG91KHRoaXMuYnVmLE1hdGguZmxvb3IodCooMS80Mjk0OTY3Mjk2KSksdGhpcy5wb3MrNCksdGhpcy5wb3MrPTg7fSx3cml0ZVNGaXhlZDY0OmZ1bmN0aW9uKHQpe3RoaXMucmVhbGxvYyg4KSxvdSh0aGlzLmJ1ZiwtMSZ0LHRoaXMucG9zKSxvdSh0aGlzLmJ1ZixNYXRoLmZsb29yKHQqKDEvNDI5NDk2NzI5NikpLHRoaXMucG9zKzQpLHRoaXMucG9zKz04O30sd3JpdGVWYXJpbnQ6ZnVuY3Rpb24odCl7KHQ9K3R8fDApPjI2ODQzNTQ1NXx8dDwwP2Z1bmN0aW9uKHQsZSl7dmFyIHIsbjtpZih0Pj0wPyhyPXQlNDI5NDk2NzI5NnwwLG49dC80Mjk0OTY3Mjk2fDApOihuPX4oLXQvNDI5NDk2NzI5NiksNDI5NDk2NzI5NV4ocj1+KC10JTQyOTQ5NjcyOTYpKT9yPXIrMXwwOihyPTAsbj1uKzF8MCkpLHQ+PTB4MTAwMDAwMDAwMDAwMDAwMDB8fHQ8LTB4MTAwMDAwMDAwMDAwMDAwMDApdGhyb3cgbmV3IEVycm9yKCJHaXZlbiB2YXJpbnQgZG9lc24ndCBmaXQgaW50byAxMCBieXRlcyIpO2UucmVhbGxvYygxMCksZnVuY3Rpb24odCxlLHIpe3IuYnVmW3IucG9zKytdPTEyNyZ0fDEyOCx0Pj4+PTcsci5idWZbci5wb3MrK109MTI3JnR8MTI4LHQ+Pj49NyxyLmJ1ZltyLnBvcysrXT0xMjcmdHwxMjgsdD4+Pj03LHIuYnVmW3IucG9zKytdPTEyNyZ0fDEyOCxyLmJ1ZltyLnBvc109MTI3Jih0Pj4+PTcpO30ociwwLGUpLGZ1bmN0aW9uKHQsZSl7dmFyIHI9KDcmdCk8PDQ7ZS5idWZbZS5wb3MrK118PXJ8KCh0Pj4+PTMpPzEyODowKSx0JiYoZS5idWZbZS5wb3MrK109MTI3JnR8KCh0Pj4+PTcpPzEyODowKSx0JiYoZS5idWZbZS5wb3MrK109MTI3JnR8KCh0Pj4+PTcpPzEyODowKSx0JiYoZS5idWZbZS5wb3MrK109MTI3JnR8KCh0Pj4+PTcpPzEyODowKSx0JiYoZS5idWZbZS5wb3MrK109MTI3JnR8KCh0Pj4+PTcpPzEyODowKSx0JiYoZS5idWZbZS5wb3MrK109MTI3JnQpKSkpKTt9KG4sZSk7fSh0LHRoaXMpOih0aGlzLnJlYWxsb2MoNCksdGhpcy5idWZbdGhpcy5wb3MrK109MTI3JnR8KHQ+MTI3PzEyODowKSx0PD0xMjd8fCh0aGlzLmJ1Zlt0aGlzLnBvcysrXT0xMjcmKHQ+Pj49Nyl8KHQ+MTI3PzEyODowKSx0PD0xMjd8fCh0aGlzLmJ1Zlt0aGlzLnBvcysrXT0xMjcmKHQ+Pj49Nyl8KHQ+MTI3PzEyODowKSx0PD0xMjd8fCh0aGlzLmJ1Zlt0aGlzLnBvcysrXT10Pj4+NyYxMjcpKSkpO30sd3JpdGVTVmFyaW50OmZ1bmN0aW9uKHQpe3RoaXMud3JpdGVWYXJpbnQodDwwPzIqLXQtMToyKnQpO30sd3JpdGVCb29sZWFuOmZ1bmN0aW9uKHQpe3RoaXMud3JpdGVWYXJpbnQoQm9vbGVhbih0KSk7fSx3cml0ZVN0cmluZzpmdW5jdGlvbih0KXt0PVN0cmluZyh0KSx0aGlzLnJlYWxsb2MoNCp0Lmxlbmd0aCksdGhpcy5wb3MrKzt2YXIgZT10aGlzLnBvczt0aGlzLnBvcz1mdW5jdGlvbih0LGUscil7Zm9yKHZhciBuLGksYT0wO2E8ZS5sZW5ndGg7YSsrKXtpZigobj1lLmNoYXJDb2RlQXQoYSkpPjU1Mjk1JiZuPDU3MzQ0KXtpZighaSl7bj41NjMxOXx8YSsxPT09ZS5sZW5ndGg/KHRbcisrXT0yMzksdFtyKytdPTE5MSx0W3IrK109MTg5KTppPW47Y29udGludWV9aWYobjw1NjMyMCl7dFtyKytdPTIzOSx0W3IrK109MTkxLHRbcisrXT0xODksaT1uO2NvbnRpbnVlfW49aS01NTI5Njw8MTB8bi01NjMyMHw2NTUzNixpPW51bGw7fWVsc2UgaSYmKHRbcisrXT0yMzksdFtyKytdPTE5MSx0W3IrK109MTg5LGk9bnVsbCk7bjwxMjg/dFtyKytdPW46KG48MjA0OD90W3IrK109bj4+NnwxOTI6KG48NjU1MzY/dFtyKytdPW4+PjEyfDIyNDoodFtyKytdPW4+PjE4fDI0MCx0W3IrK109bj4+MTImNjN8MTI4KSx0W3IrK109bj4+NiY2M3wxMjgpLHRbcisrXT02MyZufDEyOCk7fXJldHVybiByfSh0aGlzLmJ1Zix0LHRoaXMucG9zKTt2YXIgcj10aGlzLnBvcy1lO3I+PTEyOCYmSHMoZSxyLHRoaXMpLHRoaXMucG9zPWUtMSx0aGlzLndyaXRlVmFyaW50KHIpLHRoaXMucG9zKz1yO30sd3JpdGVGbG9hdDpmdW5jdGlvbih0KXt0aGlzLnJlYWxsb2MoNCksTnModGhpcy5idWYsdCx0aGlzLnBvcywhMCwyMyw0KSx0aGlzLnBvcys9NDt9LHdyaXRlRG91YmxlOmZ1bmN0aW9uKHQpe3RoaXMucmVhbGxvYyg4KSxOcyh0aGlzLmJ1Zix0LHRoaXMucG9zLCEwLDUyLDgpLHRoaXMucG9zKz04O30sd3JpdGVCeXRlczpmdW5jdGlvbih0KXt2YXIgZT10Lmxlbmd0aDt0aGlzLndyaXRlVmFyaW50KGUpLHRoaXMucmVhbGxvYyhlKTtmb3IodmFyIHI9MDtyPGU7cisrKXRoaXMuYnVmW3RoaXMucG9zKytdPXRbcl07fSx3cml0ZVJhd01lc3NhZ2U6ZnVuY3Rpb24odCxlKXt0aGlzLnBvcysrO3ZhciByPXRoaXMucG9zO3QoZSx0aGlzKTt2YXIgbj10aGlzLnBvcy1yO24+PTEyOCYmSHMocixuLHRoaXMpLHRoaXMucG9zPXItMSx0aGlzLndyaXRlVmFyaW50KG4pLHRoaXMucG9zKz1uO30sd3JpdGVNZXNzYWdlOmZ1bmN0aW9uKHQsZSxyKXt0aGlzLndyaXRlVGFnKHQsR3MuQnl0ZXMpLHRoaXMud3JpdGVSYXdNZXNzYWdlKGUscik7fSx3cml0ZVBhY2tlZFZhcmludDpmdW5jdGlvbih0LGUpe2UubGVuZ3RoJiZ0aGlzLndyaXRlTWVzc2FnZSh0LFlzLGUpO30sd3JpdGVQYWNrZWRTVmFyaW50OmZ1bmN0aW9uKHQsZSl7ZS5sZW5ndGgmJnRoaXMud3JpdGVNZXNzYWdlKHQsJHMsZSk7fSx3cml0ZVBhY2tlZEJvb2xlYW46ZnVuY3Rpb24odCxlKXtlLmxlbmd0aCYmdGhpcy53cml0ZU1lc3NhZ2UodCx0dSxlKTt9LHdyaXRlUGFja2VkRmxvYXQ6ZnVuY3Rpb24odCxlKXtlLmxlbmd0aCYmdGhpcy53cml0ZU1lc3NhZ2UodCxXcyxlKTt9LHdyaXRlUGFja2VkRG91YmxlOmZ1bmN0aW9uKHQsZSl7ZS5sZW5ndGgmJnRoaXMud3JpdGVNZXNzYWdlKHQsUXMsZSk7fSx3cml0ZVBhY2tlZEZpeGVkMzI6ZnVuY3Rpb24odCxlKXtlLmxlbmd0aCYmdGhpcy53cml0ZU1lc3NhZ2UodCxldSxlKTt9LHdyaXRlUGFja2VkU0ZpeGVkMzI6ZnVuY3Rpb24odCxlKXtlLmxlbmd0aCYmdGhpcy53cml0ZU1lc3NhZ2UodCxydSxlKTt9LHdyaXRlUGFja2VkRml4ZWQ2NDpmdW5jdGlvbih0LGUpe2UubGVuZ3RoJiZ0aGlzLndyaXRlTWVzc2FnZSh0LG51LGUpO30sd3JpdGVQYWNrZWRTRml4ZWQ2NDpmdW5jdGlvbih0LGUpe2UubGVuZ3RoJiZ0aGlzLndyaXRlTWVzc2FnZSh0LGl1LGUpO30sd3JpdGVCeXRlc0ZpZWxkOmZ1bmN0aW9uKHQsZSl7dGhpcy53cml0ZVRhZyh0LEdzLkJ5dGVzKSx0aGlzLndyaXRlQnl0ZXMoZSk7fSx3cml0ZUZpeGVkMzJGaWVsZDpmdW5jdGlvbih0LGUpe3RoaXMud3JpdGVUYWcodCxHcy5GaXhlZDMyKSx0aGlzLndyaXRlRml4ZWQzMihlKTt9LHdyaXRlU0ZpeGVkMzJGaWVsZDpmdW5jdGlvbih0LGUpe3RoaXMud3JpdGVUYWcodCxHcy5GaXhlZDMyKSx0aGlzLndyaXRlU0ZpeGVkMzIoZSk7fSx3cml0ZUZpeGVkNjRGaWVsZDpmdW5jdGlvbih0LGUpe3RoaXMud3JpdGVUYWcodCxHcy5GaXhlZDY0KSx0aGlzLndyaXRlRml4ZWQ2NChlKTt9LHdyaXRlU0ZpeGVkNjRGaWVsZDpmdW5jdGlvbih0LGUpe3RoaXMud3JpdGVUYWcodCxHcy5GaXhlZDY0KSx0aGlzLndyaXRlU0ZpeGVkNjQoZSk7fSx3cml0ZVZhcmludEZpZWxkOmZ1bmN0aW9uKHQsZSl7dGhpcy53cml0ZVRhZyh0LEdzLlZhcmludCksdGhpcy53cml0ZVZhcmludChlKTt9LHdyaXRlU1ZhcmludEZpZWxkOmZ1bmN0aW9uKHQsZSl7dGhpcy53cml0ZVRhZyh0LEdzLlZhcmludCksdGhpcy53cml0ZVNWYXJpbnQoZSk7fSx3cml0ZVN0cmluZ0ZpZWxkOmZ1bmN0aW9uKHQsZSl7dGhpcy53cml0ZVRhZyh0LEdzLkJ5dGVzKSx0aGlzLndyaXRlU3RyaW5nKGUpO30sd3JpdGVGbG9hdEZpZWxkOmZ1bmN0aW9uKHQsZSl7dGhpcy53cml0ZVRhZyh0LEdzLkZpeGVkMzIpLHRoaXMud3JpdGVGbG9hdChlKTt9LHdyaXRlRG91YmxlRmllbGQ6ZnVuY3Rpb24odCxlKXt0aGlzLndyaXRlVGFnKHQsR3MuRml4ZWQ2NCksdGhpcy53cml0ZURvdWJsZShlKTt9LHdyaXRlQm9vbGVhbkZpZWxkOmZ1bmN0aW9uKHQsZSl7dGhpcy53cml0ZVZhcmludEZpZWxkKHQsQm9vbGVhbihlKSk7fX07dmFyIGh1PWZ1bmN0aW9uKHQsZSl7dmFyIHI9ZS5waXhlbFJhdGlvLG49ZS52ZXJzaW9uLGk9ZS5zdHJldGNoWCxhPWUuc3RyZXRjaFksbz1lLmNvbnRlbnQ7dGhpcy5wYWRkZWRSZWN0PXQsdGhpcy5waXhlbFJhdGlvPXIsdGhpcy5zdHJldGNoWD1pLHRoaXMuc3RyZXRjaFk9YSx0aGlzLmNvbnRlbnQ9byx0aGlzLnZlcnNpb249bjt9LGZ1PXt0bDp7Y29uZmlndXJhYmxlOiEwfSxicjp7Y29uZmlndXJhYmxlOiEwfSx0bGJyOntjb25maWd1cmFibGU6ITB9LGRpc3BsYXlTaXplOntjb25maWd1cmFibGU6ITB9fTtmdS50bC5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gW3RoaXMucGFkZGVkUmVjdC54KzEsdGhpcy5wYWRkZWRSZWN0LnkrMV19LGZ1LmJyLmdldD1mdW5jdGlvbigpe3JldHVybiBbdGhpcy5wYWRkZWRSZWN0LngrdGhpcy5wYWRkZWRSZWN0LnctMSx0aGlzLnBhZGRlZFJlY3QueSt0aGlzLnBhZGRlZFJlY3QuaC0xXX0sZnUudGxici5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50bC5jb25jYXQodGhpcy5icil9LGZ1LmRpc3BsYXlTaXplLmdldD1mdW5jdGlvbigpe3JldHVybiBbKHRoaXMucGFkZGVkUmVjdC53LTIpL3RoaXMucGl4ZWxSYXRpbywodGhpcy5wYWRkZWRSZWN0LmgtMikvdGhpcy5waXhlbFJhdGlvXX0sT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoaHUucHJvdG90eXBlLGZ1KTt2YXIgeXU9ZnVuY3Rpb24odCxlKXt2YXIgcj17fSxuPXt9O3RoaXMuaGF2ZVJlbmRlckNhbGxiYWNrcz1bXTt2YXIgaT1bXTt0aGlzLmFkZEltYWdlcyh0LHIsaSksdGhpcy5hZGRJbWFnZXMoZSxuLGkpO3ZhciBhPWN1KGkpLG89bmV3IGZvKHt3aWR0aDphLnd8fDEsaGVpZ2h0OmEuaHx8MX0pO2Zvcih2YXIgcyBpbiB0KXt2YXIgdT10W3NdLGw9cltzXS5wYWRkZWRSZWN0O2ZvLmNvcHkodS5kYXRhLG8se3g6MCx5OjB9LHt4OmwueCsxLHk6bC55KzF9LHUuZGF0YSk7fWZvcih2YXIgcCBpbiBlKXt2YXIgYz1lW3BdLGg9bltwXS5wYWRkZWRSZWN0LGY9aC54KzEseT1oLnkrMSxkPWMuZGF0YS53aWR0aCxtPWMuZGF0YS5oZWlnaHQ7Zm8uY29weShjLmRhdGEsbyx7eDowLHk6MH0se3g6Zix5Onl9LGMuZGF0YSksZm8uY29weShjLmRhdGEsbyx7eDowLHk6bS0xfSx7eDpmLHk6eS0xfSx7d2lkdGg6ZCxoZWlnaHQ6MX0pLGZvLmNvcHkoYy5kYXRhLG8se3g6MCx5OjB9LHt4OmYseTp5K219LHt3aWR0aDpkLGhlaWdodDoxfSksZm8uY29weShjLmRhdGEsbyx7eDpkLTEseTowfSx7eDpmLTEseTp5fSx7d2lkdGg6MSxoZWlnaHQ6bX0pLGZvLmNvcHkoYy5kYXRhLG8se3g6MCx5OjB9LHt4OmYrZCx5Onl9LHt3aWR0aDoxLGhlaWdodDptfSk7fXRoaXMuaW1hZ2U9byx0aGlzLmljb25Qb3NpdGlvbnM9cix0aGlzLnBhdHRlcm5Qb3NpdGlvbnM9bjt9O3l1LnByb3RvdHlwZS5hZGRJbWFnZXM9ZnVuY3Rpb24odCxlLHIpe2Zvcih2YXIgbiBpbiB0KXt2YXIgaT10W25dLGE9e3g6MCx5OjAsdzppLmRhdGEud2lkdGgrMixoOmkuZGF0YS5oZWlnaHQrMn07ci5wdXNoKGEpLGVbbl09bmV3IGh1KGEsaSksaS5oYXNSZW5kZXJDYWxsYmFjayYmdGhpcy5oYXZlUmVuZGVyQ2FsbGJhY2tzLnB1c2gobik7fX0seXUucHJvdG90eXBlLnBhdGNoVXBkYXRlZEltYWdlcz1mdW5jdGlvbih0LGUpe2Zvcih2YXIgciBpbiB0LmRpc3BhdGNoUmVuZGVyQ2FsbGJhY2tzKHRoaXMuaGF2ZVJlbmRlckNhbGxiYWNrcyksdC51cGRhdGVkSW1hZ2VzKXRoaXMucGF0Y2hVcGRhdGVkSW1hZ2UodGhpcy5pY29uUG9zaXRpb25zW3JdLHQuZ2V0SW1hZ2UociksZSksdGhpcy5wYXRjaFVwZGF0ZWRJbWFnZSh0aGlzLnBhdHRlcm5Qb3NpdGlvbnNbcl0sdC5nZXRJbWFnZShyKSxlKTt9LHl1LnByb3RvdHlwZS5wYXRjaFVwZGF0ZWRJbWFnZT1mdW5jdGlvbih0LGUscil7aWYodCYmZSYmdC52ZXJzaW9uIT09ZS52ZXJzaW9uKXt0LnZlcnNpb249ZS52ZXJzaW9uO3ZhciBuPXQudGw7ci51cGRhdGUoZS5kYXRhLHZvaWQgMCx7eDpuWzBdLHk6blsxXX0pO319LEZuKCJJbWFnZVBvc2l0aW9uIixodSksRm4oIkltYWdlQXRsYXMiLHl1KTt2YXIgZHU9e2hvcml6b250YWw6MSx2ZXJ0aWNhbDoyLGhvcml6b250YWxPbmx5OjN9LG11PWZ1bmN0aW9uKCl7dGhpcy5zY2FsZT0xLHRoaXMuZm9udFN0YWNrPSIiLHRoaXMuaW1hZ2VOYW1lPW51bGw7fTttdS5mb3JUZXh0PWZ1bmN0aW9uKHQsZSl7dmFyIHI9bmV3IG11O3JldHVybiByLnNjYWxlPXR8fDEsci5mb250U3RhY2s9ZSxyfSxtdS5mb3JJbWFnZT1mdW5jdGlvbih0KXt2YXIgZT1uZXcgbXU7cmV0dXJuIGUuaW1hZ2VOYW1lPXQsZX07dmFyIHZ1PWZ1bmN0aW9uKCl7dGhpcy50ZXh0PSIiLHRoaXMuc2VjdGlvbkluZGV4PVtdLHRoaXMuc2VjdGlvbnM9W10sdGhpcy5pbWFnZVNlY3Rpb25JRD1udWxsO307ZnVuY3Rpb24gZ3UodCxlLHIsbixpLGEsbyxzLHUsbCxwLGMsaCxmLHksZCl7dmFyIG0sdj12dS5mcm9tRmVhdHVyZSh0LGkpO2M9PT1kdS52ZXJ0aWNhbCYmdi52ZXJ0aWNhbGl6ZVB1bmN0dWF0aW9uKCk7dmFyIGc9bmkucHJvY2Vzc0JpZGlyZWN0aW9uYWxUZXh0LHg9bmkucHJvY2Vzc1N0eWxlZEJpZGlyZWN0aW9uYWxUZXh0O2lmKGcmJjE9PT12LnNlY3Rpb25zLmxlbmd0aCl7bT1bXTtmb3IodmFyIGI9MCx3PWcodi50b1N0cmluZygpLGt1KHYsbCxhLGUsbixmLHkpKTtiPHcubGVuZ3RoO2IrPTEpe3ZhciBfPXdbYl0sQT1uZXcgdnU7QS50ZXh0PV8sQS5zZWN0aW9ucz12LnNlY3Rpb25zO2Zvcih2YXIgUz0wO1M8Xy5sZW5ndGg7UysrKUEuc2VjdGlvbkluZGV4LnB1c2goMCk7bS5wdXNoKEEpO319ZWxzZSBpZih4KXttPVtdO2Zvcih2YXIgaz0wLEk9eCh2LnRleHQsdi5zZWN0aW9uSW5kZXgsa3UodixsLGEsZSxuLGYseSkpO2s8SS5sZW5ndGg7ays9MSl7dmFyIHo9SVtrXSxDPW5ldyB2dTtDLnRleHQ9elswXSxDLnNlY3Rpb25JbmRleD16WzFdLEMuc2VjdGlvbnM9di5zZWN0aW9ucyxtLnB1c2goQyk7fX1lbHNlIG09ZnVuY3Rpb24odCxlKXtmb3IodmFyIHI9W10sbj10LnRleHQsaT0wLGE9MCxvPWU7YTxvLmxlbmd0aDthKz0xKXt2YXIgcz1vW2FdO3IucHVzaCh0LnN1YnN0cmluZyhpLHMpKSxpPXM7fXJldHVybiBpPG4ubGVuZ3RoJiZyLnB1c2godC5zdWJzdHJpbmcoaSxuLmxlbmd0aCkpLHJ9KHYsa3UodixsLGEsZSxuLGYseSkpO3ZhciBNPVtdLEU9e3Bvc2l0aW9uZWRMaW5lczpNLHRleHQ6di50b1N0cmluZygpLHRvcDpwWzFdLGJvdHRvbTpwWzFdLGxlZnQ6cFswXSxyaWdodDpwWzBdLHdyaXRpbmdNb2RlOmMsaWNvbnNJblRleHQ6ITEsdmVydGljYWxpemFibGU6ITF9O3JldHVybiBmdW5jdGlvbih0LGUscixuLGksYSxvLHMsdSxsLHAsYyl7Zm9yKHZhciBoPTAsZj0tMTcseT0wLGQ9MCxtPSJyaWdodCI9PT1zPzE6ImxlZnQiPT09cz8wOi41LHY9MCxnPTAseD1pO2c8eC5sZW5ndGg7Zys9MSl7dmFyIGI9eFtnXTtiLnRyaW0oKTt2YXIgdz1iLmdldE1heFNjYWxlKCksXz0yNCoody0xKSxBPXtwb3NpdGlvbmVkR2x5cGhzOltdLGxpbmVPZmZzZXQ6MH07dC5wb3NpdGlvbmVkTGluZXNbdl09QTt2YXIgUz1BLnBvc2l0aW9uZWRHbHlwaHMsaz0wO2lmKGIubGVuZ3RoKCkpe2Zvcih2YXIgST0wO0k8Yi5sZW5ndGgoKTtJKyspe3ZhciB6PWIuZ2V0U2VjdGlvbihJKSxDPWIuZ2V0U2VjdGlvbkluZGV4KEkpLE09Yi5nZXRDaGFyQ29kZShJKSxFPTAsVD1udWxsLFA9bnVsbCxCPW51bGwsVj0yNCxGPSEodT09PWR1Lmhvcml6b250YWx8fCFwJiYhS24oTSl8fHAmJih4dVtNXXx8KEs9TSxxbi5BcmFiaWMoSyl8fHFuWyJBcmFiaWMgU3VwcGxlbWVudCJdKEspfHxxblsiQXJhYmljIEV4dGVuZGVkLUEiXShLKXx8cW5bIkFyYWJpYyBQcmVzZW50YXRpb24gRm9ybXMtQSJdKEspfHxxblsiQXJhYmljIFByZXNlbnRhdGlvbiBGb3Jtcy1CIl0oSykpKSk7aWYoei5pbWFnZU5hbWUpe3ZhciBEPW5bei5pbWFnZU5hbWVdO2lmKCFEKWNvbnRpbnVlO0I9ei5pbWFnZU5hbWUsdC5pY29uc0luVGV4dD10Lmljb25zSW5UZXh0fHwhMCxQPUQucGFkZGVkUmVjdDt2YXIgTD1ELmRpc3BsYXlTaXplO3ouc2NhbGU9MjQqei5zY2FsZS9jLEU9XysoMjQtTFsxXSp6LnNjYWxlKSxWPShUPXt3aWR0aDpMWzBdLGhlaWdodDpMWzFdLGxlZnQ6MSx0b3A6LTMsYWR2YW5jZTpGP0xbMV06TFswXX0pLmFkdmFuY2U7dmFyIFI9Rj9MWzBdKnouc2NhbGUtMjQqdzpMWzFdKnouc2NhbGUtMjQqdztSPjAmJlI+ayYmKGs9Uik7fWVsc2Uge3ZhciBPPXJbei5mb250U3RhY2tdLFU9TyYmT1tNXTtpZihVJiZVLnJlY3QpUD1VLnJlY3QsVD1VLm1ldHJpY3M7ZWxzZSB7dmFyIGo9ZVt6LmZvbnRTdGFja10scT1qJiZqW01dO2lmKCFxKWNvbnRpbnVlO1Q9cS5tZXRyaWNzO31FPTI0Kih3LXouc2NhbGUpO31GPyh0LnZlcnRpY2FsaXphYmxlPSEwLFMucHVzaCh7Z2x5cGg6TSxpbWFnZU5hbWU6Qix4OmgseTpmK0UsdmVydGljYWw6RixzY2FsZTp6LnNjYWxlLGZvbnRTdGFjazp6LmZvbnRTdGFjayxzZWN0aW9uSW5kZXg6QyxtZXRyaWNzOlQscmVjdDpQfSksaCs9Vip6LnNjYWxlK2wpOihTLnB1c2goe2dseXBoOk0saW1hZ2VOYW1lOkIseDpoLHk6ZitFLHZlcnRpY2FsOkYsc2NhbGU6ei5zY2FsZSxmb250U3RhY2s6ei5mb250U3RhY2ssc2VjdGlvbkluZGV4OkMsbWV0cmljczpULHJlY3Q6UH0pLGgrPVQuYWR2YW5jZSp6LnNjYWxlK2wpO30wIT09Uy5sZW5ndGgmJih5PU1hdGgubWF4KGgtbCx5KSx6dShTLDAsUy5sZW5ndGgtMSxtLGspKSxoPTA7dmFyIE49YSp3K2s7QS5saW5lT2Zmc2V0PU1hdGgubWF4KGssXyksZis9TixkPU1hdGgubWF4KE4sZCksKyt2O31lbHNlIGYrPWEsKyt2O312YXIgSyxHPWYtIC0xNyxaPUl1KG8pLFg9Wi5ob3Jpem9udGFsQWxpZ24sSj1aLnZlcnRpY2FsQWxpZ247KGZ1bmN0aW9uKHQsZSxyLG4saSxhLG8scyx1KXt2YXIgbCxwPShlLXIpKmk7bD1hIT09bz8tcypuLSAtMTc6KC1uKnUrLjUpKm87Zm9yKHZhciBjPTAsaD10O2M8aC5sZW5ndGg7Yys9MSlmb3IodmFyIGY9MCx5PWhbY10ucG9zaXRpb25lZEdseXBocztmPHkubGVuZ3RoO2YrPTEpe3ZhciBkPXlbZl07ZC54Kz1wLGQueSs9bDt9fSkodC5wb3NpdGlvbmVkTGluZXMsbSxYLEoseSxkLGEsRyxpLmxlbmd0aCksdC50b3ArPS1KKkcsdC5ib3R0b209dC50b3ArRyx0LmxlZnQrPS1YKnksdC5yaWdodD10LmxlZnQreTt9KEUsZSxyLG4sbSxvLHMsdSxjLGwsaCxkKSwhZnVuY3Rpb24odCl7Zm9yKHZhciBlPTAscj10O2U8ci5sZW5ndGg7ZSs9MSlpZigwIT09cltlXS5wb3NpdGlvbmVkR2x5cGhzLmxlbmd0aClyZXR1cm4gITE7cmV0dXJuICEwfShNKSYmRX12dS5mcm9tRmVhdHVyZT1mdW5jdGlvbih0LGUpe2Zvcih2YXIgcj1uZXcgdnUsbj0wO248dC5zZWN0aW9ucy5sZW5ndGg7bisrKXt2YXIgaT10LnNlY3Rpb25zW25dO2kuaW1hZ2U/ci5hZGRJbWFnZVNlY3Rpb24oaSk6ci5hZGRUZXh0U2VjdGlvbihpLGUpO31yZXR1cm4gcn0sdnUucHJvdG90eXBlLmxlbmd0aD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnRleHQubGVuZ3RofSx2dS5wcm90b3R5cGUuZ2V0U2VjdGlvbj1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5zZWN0aW9uc1t0aGlzLnNlY3Rpb25JbmRleFt0XV19LHZ1LnByb3RvdHlwZS5nZXRTZWN0aW9uSW5kZXg9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuc2VjdGlvbkluZGV4W3RdfSx2dS5wcm90b3R5cGUuZ2V0Q2hhckNvZGU9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMudGV4dC5jaGFyQ29kZUF0KHQpfSx2dS5wcm90b3R5cGUudmVydGljYWxpemVQdW5jdHVhdGlvbj1mdW5jdGlvbigpe3RoaXMudGV4dD1mdW5jdGlvbih0KXtmb3IodmFyIGU9IiIscj0wO3I8dC5sZW5ndGg7cisrKXt2YXIgbj10LmNoYXJDb2RlQXQocisxKXx8bnVsbCxpPXQuY2hhckNvZGVBdChyLTEpfHxudWxsO2UrPW4mJkduKG4pJiYhanNbdFtyKzFdXXx8aSYmR24oaSkmJiFqc1t0W3ItMV1dfHwhanNbdFtyXV0/dFtyXTpqc1t0W3JdXTt9cmV0dXJuIGV9KHRoaXMudGV4dCk7fSx2dS5wcm90b3R5cGUudHJpbT1mdW5jdGlvbigpe2Zvcih2YXIgdD0wLGU9MDtlPHRoaXMudGV4dC5sZW5ndGgmJnh1W3RoaXMudGV4dC5jaGFyQ29kZUF0KGUpXTtlKyspdCsrO2Zvcih2YXIgcj10aGlzLnRleHQubGVuZ3RoLG49dGhpcy50ZXh0Lmxlbmd0aC0xO24+PTAmJm4+PXQmJnh1W3RoaXMudGV4dC5jaGFyQ29kZUF0KG4pXTtuLS0pci0tO3RoaXMudGV4dD10aGlzLnRleHQuc3Vic3RyaW5nKHQsciksdGhpcy5zZWN0aW9uSW5kZXg9dGhpcy5zZWN0aW9uSW5kZXguc2xpY2UodCxyKTt9LHZ1LnByb3RvdHlwZS5zdWJzdHJpbmc9ZnVuY3Rpb24odCxlKXt2YXIgcj1uZXcgdnU7cmV0dXJuIHIudGV4dD10aGlzLnRleHQuc3Vic3RyaW5nKHQsZSksci5zZWN0aW9uSW5kZXg9dGhpcy5zZWN0aW9uSW5kZXguc2xpY2UodCxlKSxyLnNlY3Rpb25zPXRoaXMuc2VjdGlvbnMscn0sdnUucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudGV4dH0sdnUucHJvdG90eXBlLmdldE1heFNjYWxlPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcztyZXR1cm4gdGhpcy5zZWN0aW9uSW5kZXgucmVkdWNlKChmdW5jdGlvbihlLHIpe3JldHVybiBNYXRoLm1heChlLHQuc2VjdGlvbnNbcl0uc2NhbGUpfSksMCl9LHZ1LnByb3RvdHlwZS5hZGRUZXh0U2VjdGlvbj1mdW5jdGlvbih0LGUpe3RoaXMudGV4dCs9dC50ZXh0LHRoaXMuc2VjdGlvbnMucHVzaChtdS5mb3JUZXh0KHQuc2NhbGUsdC5mb250U3RhY2t8fGUpKTtmb3IodmFyIHI9dGhpcy5zZWN0aW9ucy5sZW5ndGgtMSxuPTA7bjx0LnRleHQubGVuZ3RoOysrbil0aGlzLnNlY3Rpb25JbmRleC5wdXNoKHIpO30sdnUucHJvdG90eXBlLmFkZEltYWdlU2VjdGlvbj1mdW5jdGlvbih0KXt2YXIgZT10LmltYWdlP3QuaW1hZ2UubmFtZToiIjtpZigwIT09ZS5sZW5ndGgpe3ZhciByPXRoaXMuZ2V0TmV4dEltYWdlU2VjdGlvbkNoYXJDb2RlKCk7cj8odGhpcy50ZXh0Kz1TdHJpbmcuZnJvbUNoYXJDb2RlKHIpLHRoaXMuc2VjdGlvbnMucHVzaChtdS5mb3JJbWFnZShlKSksdGhpcy5zZWN0aW9uSW5kZXgucHVzaCh0aGlzLnNlY3Rpb25zLmxlbmd0aC0xKSk6dygiUmVhY2hlZCBtYXhpbXVtIG51bWJlciBvZiBpbWFnZXMgNjQwMSIpO31lbHNlIHcoIkNhbid0IGFkZCBGb3JtYXR0ZWRTZWN0aW9uIHdpdGggYW4gZW1wdHkgaW1hZ2UuIik7fSx2dS5wcm90b3R5cGUuZ2V0TmV4dEltYWdlU2VjdGlvbkNoYXJDb2RlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaW1hZ2VTZWN0aW9uSUQ/dGhpcy5pbWFnZVNlY3Rpb25JRD49NjM3NDM/bnVsbDorK3RoaXMuaW1hZ2VTZWN0aW9uSUQ6KHRoaXMuaW1hZ2VTZWN0aW9uSUQ9NTczNDQsdGhpcy5pbWFnZVNlY3Rpb25JRCl9O3ZhciB4dT17OTohMCwxMDohMCwxMTohMCwxMjohMCwxMzohMCwzMjohMH0sYnU9e307ZnVuY3Rpb24gd3UodCxlLHIsbixpLGEpe2lmKGUuaW1hZ2VOYW1lKXt2YXIgbz1uW2UuaW1hZ2VOYW1lXTtyZXR1cm4gbz9vLmRpc3BsYXlTaXplWzBdKmUuc2NhbGUqMjQvYStpOjB9dmFyIHM9cltlLmZvbnRTdGFja10sdT1zJiZzW3RdO3JldHVybiB1P3UubWV0cmljcy5hZHZhbmNlKmUuc2NhbGUraTowfWZ1bmN0aW9uIF91KHQsZSxyLG4pe3ZhciBpPU1hdGgucG93KHQtZSwyKTtyZXR1cm4gbj90PGU/aS8yOjIqaTppK01hdGguYWJzKHIpKnJ9ZnVuY3Rpb24gQXUodCxlLHIpe3ZhciBuPTA7cmV0dXJuIDEwPT09dCYmKG4tPTFlNCksciYmKG4rPTE1MCksNDAhPT10JiY2NTI4OCE9PXR8fChuKz01MCksNDEhPT1lJiY2NTI4OSE9PWV8fChuKz01MCksbn1mdW5jdGlvbiBTdSh0LGUscixuLGksYSl7Zm9yKHZhciBvPW51bGwscz1fdShlLHIsaSxhKSx1PTAsbD1uO3U8bC5sZW5ndGg7dSs9MSl7dmFyIHA9bFt1XSxjPV91KGUtcC54LHIsaSxhKStwLmJhZG5lc3M7Yzw9cyYmKG89cCxzPWMpO31yZXR1cm4ge2luZGV4OnQseDplLHByaW9yQnJlYWs6byxiYWRuZXNzOnN9fWZ1bmN0aW9uIGt1KHQsZSxyLG4saSxhLG8pe2lmKCJwb2ludCIhPT1hKXJldHVybiBbXTtpZighdClyZXR1cm4gW107Zm9yKHZhciBzLHU9W10sbD1mdW5jdGlvbih0LGUscixuLGksYSl7Zm9yKHZhciBvPTAscz0wO3M8dC5sZW5ndGgoKTtzKyspe3ZhciB1PXQuZ2V0U2VjdGlvbihzKTtvKz13dSh0LmdldENoYXJDb2RlKHMpLHUsbixpLGUsYSk7fXJldHVybiBvL01hdGgubWF4KDEsTWF0aC5jZWlsKG8vcikpfSh0LGUscixuLGksbykscD10LnRleHQuaW5kZXhPZigi4oCLIik+PTAsYz0wLGg9MDtoPHQubGVuZ3RoKCk7aCsrKXt2YXIgZj10LmdldFNlY3Rpb24oaCkseT10LmdldENoYXJDb2RlKGgpO2lmKHh1W3ldfHwoYys9d3UoeSxmLG4saSxlLG8pKSxoPHQubGVuZ3RoKCktMSl7dmFyIGQ9ISgocz15KTwxMTkwNHx8IShxblsiQm9wb21vZm8gRXh0ZW5kZWQiXShzKXx8cW4uQm9wb21vZm8ocyl8fHFuWyJDSksgQ29tcGF0aWJpbGl0eSBGb3JtcyJdKHMpfHxxblsiQ0pLIENvbXBhdGliaWxpdHkgSWRlb2dyYXBocyJdKHMpfHxxblsiQ0pLIENvbXBhdGliaWxpdHkiXShzKXx8cW5bIkNKSyBSYWRpY2FscyBTdXBwbGVtZW50Il0ocyl8fHFuWyJDSksgU3Ryb2tlcyJdKHMpfHxxblsiQ0pLIFN5bWJvbHMgYW5kIFB1bmN0dWF0aW9uIl0ocyl8fHFuWyJDSksgVW5pZmllZCBJZGVvZ3JhcGhzIEV4dGVuc2lvbiBBIl0ocyl8fHFuWyJDSksgVW5pZmllZCBJZGVvZ3JhcGhzIl0ocyl8fHFuWyJFbmNsb3NlZCBDSksgTGV0dGVycyBhbmQgTW9udGhzIl0ocyl8fHFuWyJIYWxmd2lkdGggYW5kIEZ1bGx3aWR0aCBGb3JtcyJdKHMpfHxxbi5IaXJhZ2FuYShzKXx8cW5bIklkZW9ncmFwaGljIERlc2NyaXB0aW9uIENoYXJhY3RlcnMiXShzKXx8cW5bIkthbmd4aSBSYWRpY2FscyJdKHMpfHxxblsiS2F0YWthbmEgUGhvbmV0aWMgRXh0ZW5zaW9ucyJdKHMpfHxxbi5LYXRha2FuYShzKXx8cW5bIlZlcnRpY2FsIEZvcm1zIl0ocyl8fHFuWyJZaSBSYWRpY2FscyJdKHMpfHxxblsiWWkgU3lsbGFibGVzIl0ocykpKTsoYnVbeV18fGR8fGYuaW1hZ2VOYW1lKSYmdS5wdXNoKFN1KGgrMSxjLGwsdSxBdSh5LHQuZ2V0Q2hhckNvZGUoaCsxKSxkJiZwKSwhMSkpO319cmV0dXJuIGZ1bmN0aW9uIHQoZSl7cmV0dXJuIGU/dChlLnByaW9yQnJlYWspLmNvbmNhdChlLmluZGV4KTpbXX0oU3UodC5sZW5ndGgoKSxjLGwsdSwwLCEwKSl9ZnVuY3Rpb24gSXUodCl7dmFyIGU9LjUscj0uNTtzd2l0Y2godCl7Y2FzZSJyaWdodCI6Y2FzZSJ0b3AtcmlnaHQiOmNhc2UiYm90dG9tLXJpZ2h0IjplPTE7YnJlYWs7Y2FzZSJsZWZ0IjpjYXNlInRvcC1sZWZ0IjpjYXNlImJvdHRvbS1sZWZ0IjplPTA7fXN3aXRjaCh0KXtjYXNlImJvdHRvbSI6Y2FzZSJib3R0b20tcmlnaHQiOmNhc2UiYm90dG9tLWxlZnQiOnI9MTticmVhaztjYXNlInRvcCI6Y2FzZSJ0b3AtcmlnaHQiOmNhc2UidG9wLWxlZnQiOnI9MDt9cmV0dXJuIHtob3Jpem9udGFsQWxpZ246ZSx2ZXJ0aWNhbEFsaWduOnJ9fWZ1bmN0aW9uIHp1KHQsZSxyLG4saSl7aWYobnx8aSlmb3IodmFyIGE9dFtyXSxvPSh0W3JdLngrYS5tZXRyaWNzLmFkdmFuY2UqYS5zY2FsZSkqbixzPWU7czw9cjtzKyspdFtzXS54LT1vLHRbc10ueSs9aTt9ZnVuY3Rpb24gQ3UodCxlLHIsbixpLGEpe3ZhciBvLHM9dC5pbWFnZTtpZihzLmNvbnRlbnQpe3ZhciB1PXMuY29udGVudCxsPXMucGl4ZWxSYXRpb3x8MTtvPVt1WzBdL2wsdVsxXS9sLHMuZGlzcGxheVNpemVbMF0tdVsyXS9sLHMuZGlzcGxheVNpemVbMV0tdVszXS9sXTt9dmFyIHAsYyxoLGYseT1lLmxlZnQqYSxkPWUucmlnaHQqYTsid2lkdGgiPT09cnx8ImJvdGgiPT09cj8oZj1pWzBdK3ktblszXSxjPWlbMF0rZCtuWzFdKTpjPShmPWlbMF0rKHkrZC1zLmRpc3BsYXlTaXplWzBdKS8yKStzLmRpc3BsYXlTaXplWzBdO3ZhciBtPWUudG9wKmEsdj1lLmJvdHRvbSphO3JldHVybiAiaGVpZ2h0Ij09PXJ8fCJib3RoIj09PXI/KHA9aVsxXSttLW5bMF0saD1pWzFdK3YrblsyXSk6aD0ocD1pWzFdKyhtK3Ytcy5kaXNwbGF5U2l6ZVsxXSkvMikrcy5kaXNwbGF5U2l6ZVsxXSx7aW1hZ2U6cyx0b3A6cCxyaWdodDpjLGJvdHRvbTpoLGxlZnQ6Zixjb2xsaXNpb25QYWRkaW5nOm99fWJ1WzEwXT0hMCxidVszMl09ITAsYnVbMzhdPSEwLGJ1WzQwXT0hMCxidVs0MV09ITAsYnVbNDNdPSEwLGJ1WzQ1XT0hMCxidVs0N109ITAsYnVbMTczXT0hMCxidVsxODNdPSEwLGJ1WzgyMDNdPSEwLGJ1WzgyMDhdPSEwLGJ1WzgyMTFdPSEwLGJ1WzgyMzFdPSEwO3ZhciBNdT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUscixuLGkpe3QuY2FsbCh0aGlzLGUsciksdGhpcy5hbmdsZT1uLHZvaWQgMCE9PWkmJih0aGlzLnNlZ21lbnQ9aSk7fXJldHVybiB0JiYoZS5fX3Byb3RvX189dCksKGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUpKS5jb25zdHJ1Y3Rvcj1lLGUucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBlKHRoaXMueCx0aGlzLnksdGhpcy5hbmdsZSx0aGlzLnNlZ21lbnQpfSxlfShpKTtmdW5jdGlvbiBFdSh0LGUpe3ZhciByPWUuZXhwcmVzc2lvbjtpZigiY29uc3RhbnQiPT09ci5raW5kKXJldHVybiB7a2luZDoiY29uc3RhbnQiLGxheW91dFNpemU6ci5ldmFsdWF0ZShuZXcgaWkodCsxKSl9O2lmKCJzb3VyY2UiPT09ci5raW5kKXJldHVybiB7a2luZDoic291cmNlIn07Zm9yKHZhciBuPXIuem9vbVN0b3BzLGk9ci5pbnRlcnBvbGF0aW9uVHlwZSxhPTA7YTxuLmxlbmd0aCYmblthXTw9dDspYSsrO2Zvcih2YXIgbz1hPU1hdGgubWF4KDAsYS0xKTtvPG4ubGVuZ3RoJiZuW29dPHQrMTspbysrO289TWF0aC5taW4obi5sZW5ndGgtMSxvKTt2YXIgcz1uW2FdLHU9bltvXTtyZXR1cm4gImNvbXBvc2l0ZSI9PT1yLmtpbmQ/e2tpbmQ6ImNvbXBvc2l0ZSIsbWluWm9vbTpzLG1heFpvb206dSxpbnRlcnBvbGF0aW9uVHlwZTppfTp7a2luZDoiY2FtZXJhIixtaW5ab29tOnMsbWF4Wm9vbTp1LG1pblNpemU6ci5ldmFsdWF0ZShuZXcgaWkocykpLG1heFNpemU6ci5ldmFsdWF0ZShuZXcgaWkodSkpLGludGVycG9sYXRpb25UeXBlOml9fWZ1bmN0aW9uIFR1KHQsZSxyKXt2YXIgbj1lLnVTaXplLGk9ci5sb3dlclNpemU7cmV0dXJuICJzb3VyY2UiPT09dC5raW5kP2kvMTI4OiJjb21wb3NpdGUiPT09dC5raW5kP2plKGkvMTI4LHIudXBwZXJTaXplLzEyOCxlLnVTaXplVCk6bn1mdW5jdGlvbiBQdSh0LGUpe3ZhciByPTAsbj0wO2lmKCJjb25zdGFudCI9PT10LmtpbmQpbj10LmxheW91dFNpemU7ZWxzZSBpZigic291cmNlIiE9PXQua2luZCl7dmFyIGk9dC5pbnRlcnBvbGF0aW9uVHlwZSxhPWk/dShyci5pbnRlcnBvbGF0aW9uRmFjdG9yKGksZSx0Lm1pblpvb20sdC5tYXhab29tKSwwLDEpOjA7ImNhbWVyYSI9PT10LmtpbmQ/bj1qZSh0Lm1pblNpemUsdC5tYXhTaXplLGEpOnI9YTt9cmV0dXJuIHt1U2l6ZVQ6cix1U2l6ZTpufX1GbigiQW5jaG9yIixNdSk7dmFyIEJ1PU9iamVjdC5mcmVlemUoe19fcHJvdG9fXzpudWxsLGdldFNpemVEYXRhOkV1LGV2YWx1YXRlU2l6ZUZvckZlYXR1cmU6VHUsZXZhbHVhdGVTaXplRm9yWm9vbTpQdSxTSVpFX1BBQ0tfRkFDVE9SOjEyOH0pO2Z1bmN0aW9uIFZ1KHQsZSxyLG4saSl7aWYodm9pZCAwPT09ZS5zZWdtZW50KXJldHVybiAhMDtmb3IodmFyIGE9ZSxvPWUuc2VnbWVudCsxLHM9MDtzPi1yLzI7KXtpZigtLW88MClyZXR1cm4gITE7cy09dFtvXS5kaXN0KGEpLGE9dFtvXTt9cys9dFtvXS5kaXN0KHRbbysxXSksbysrO2Zvcih2YXIgdT1bXSxsPTA7czxyLzI7KXt2YXIgcD10W29dLGM9dFtvKzFdO2lmKCFjKXJldHVybiAhMTt2YXIgaD10W28tMV0uYW5nbGVUbyhwKS1wLmFuZ2xlVG8oYyk7Zm9yKGg9TWF0aC5hYnMoKGgrMypNYXRoLlBJKSUoMipNYXRoLlBJKS1NYXRoLlBJKSx1LnB1c2goe2Rpc3RhbmNlOnMsYW5nbGVEZWx0YTpofSksbCs9aDtzLXVbMF0uZGlzdGFuY2U+bjspbC09dS5zaGlmdCgpLmFuZ2xlRGVsdGE7aWYobD5pKXJldHVybiAhMTtvKysscys9cC5kaXN0KGMpO31yZXR1cm4gITB9ZnVuY3Rpb24gRnUodCl7Zm9yKHZhciBlPTAscj0wO3I8dC5sZW5ndGgtMTtyKyspZSs9dFtyXS5kaXN0KHRbcisxXSk7cmV0dXJuIGV9ZnVuY3Rpb24gRHUodCxlLHIpe3JldHVybiB0Py42KmUqcjowfWZ1bmN0aW9uIEx1KHQsZSl7cmV0dXJuIE1hdGgubWF4KHQ/dC5yaWdodC10LmxlZnQ6MCxlP2UucmlnaHQtZS5sZWZ0OjApfWZ1bmN0aW9uIFJ1KHQsZSxyLG4saSxhKXtmb3IodmFyIG89RHUocixpLGEpLHM9THUocixuKSphLHU9MCxsPUZ1KHQpLzIscD0wO3A8dC5sZW5ndGgtMTtwKyspe3ZhciBjPXRbcF0saD10W3ArMV0sZj1jLmRpc3QoaCk7aWYodStmPmwpe3ZhciB5PShsLXUpL2YsZD1qZShjLngsaC54LHkpLG09amUoYy55LGgueSx5KSx2PW5ldyBNdShkLG0saC5hbmdsZVRvKGMpLHApO3JldHVybiB2Ll9yb3VuZCgpLCFvfHxWdSh0LHYscyxvLGUpP3Y6dm9pZCAwfXUrPWY7fX1mdW5jdGlvbiBPdSh0LGUscixuLGksYSxvLHMsdSl7dmFyIGw9RHUobixhLG8pLHA9THUobixpKSxjPXAqbyxoPTA9PT10WzBdLnh8fHRbMF0ueD09PXV8fDA9PT10WzBdLnl8fHRbMF0ueT09PXU7cmV0dXJuIGUtYzxlLzQmJihlPWMrZS80KSxmdW5jdGlvbiB0KGUscixuLGksYSxvLHMsdSxsKXtmb3IodmFyIHA9by8yLGM9RnUoZSksaD0wLGY9ci1uLHk9W10sZD0wO2Q8ZS5sZW5ndGgtMTtkKyspe2Zvcih2YXIgbT1lW2RdLHY9ZVtkKzFdLGc9bS5kaXN0KHYpLHg9di5hbmdsZVRvKG0pO2YrbjxoK2c7KXt2YXIgYj0oKGYrPW4pLWgpL2csdz1qZShtLngsdi54LGIpLF89amUobS55LHYueSxiKTtpZih3Pj0wJiZ3PGwmJl8+PTAmJl88bCYmZi1wPj0wJiZmK3A8PWMpe3ZhciBBPW5ldyBNdSh3LF8seCxkKTtBLl9yb3VuZCgpLGkmJiFWdShlLEEsbyxpLGEpfHx5LnB1c2goQSk7fX1oKz1nO31yZXR1cm4gdXx8eS5sZW5ndGh8fHN8fCh5PXQoZSxoLzIsbixpLGEsbyxzLCEwLGwpKSx5fSh0LGg/ZS8yKnMlZToocC8yKzIqYSkqbypzJWUsZSxsLHIsYyxoLCExLHUpfWZ1bmN0aW9uIFV1KHQsZSxyLG4sYSl7Zm9yKHZhciBvPVtdLHM9MDtzPHQubGVuZ3RoO3MrKylmb3IodmFyIHU9dFtzXSxsPXZvaWQgMCxwPTA7cDx1Lmxlbmd0aC0xO3ArKyl7dmFyIGM9dVtwXSxoPXVbcCsxXTtjLng8ZSYmaC54PGV8fChjLng8ZT9jPW5ldyBpKGUsYy55KyhlLWMueCkvKGgueC1jLngpKihoLnktYy55KSkuX3JvdW5kKCk6aC54PGUmJihoPW5ldyBpKGUsYy55KyhlLWMueCkvKGgueC1jLngpKihoLnktYy55KSkuX3JvdW5kKCkpLGMueTxyJiZoLnk8cnx8KGMueTxyP2M9bmV3IGkoYy54KyhyLWMueSkvKGgueS1jLnkpKihoLngtYy54KSxyKS5fcm91bmQoKTpoLnk8ciYmKGg9bmV3IGkoYy54KyhyLWMueSkvKGgueS1jLnkpKihoLngtYy54KSxyKS5fcm91bmQoKSksYy54Pj1uJiZoLng+PW58fChjLng+PW4/Yz1uZXcgaShuLGMueSsobi1jLngpLyhoLngtYy54KSooaC55LWMueSkpLl9yb3VuZCgpOmgueD49biYmKGg9bmV3IGkobixjLnkrKG4tYy54KS8oaC54LWMueCkqKGgueS1jLnkpKS5fcm91bmQoKSksYy55Pj1hJiZoLnk+PWF8fChjLnk+PWE/Yz1uZXcgaShjLngrKGEtYy55KS8oaC55LWMueSkqKGgueC1jLngpLGEpLl9yb3VuZCgpOmgueT49YSYmKGg9bmV3IGkoYy54KyhhLWMueSkvKGgueS1jLnkpKihoLngtYy54KSxhKS5fcm91bmQoKSksbCYmYy5lcXVhbHMobFtsLmxlbmd0aC0xXSl8fG8ucHVzaChsPVtjXSksbC5wdXNoKGgpKSkpKTt9cmV0dXJuIG99ZnVuY3Rpb24ganUodCxlLHIsbil7dmFyIGE9W10sbz10LmltYWdlLHM9by5waXhlbFJhdGlvLHU9by5wYWRkZWRSZWN0LnctMixsPW8ucGFkZGVkUmVjdC5oLTIscD10LnJpZ2h0LXQubGVmdCxjPXQuYm90dG9tLXQudG9wLGg9by5zdHJldGNoWHx8W1swLHVdXSxmPW8uc3RyZXRjaFl8fFtbMCxsXV0seT1mdW5jdGlvbih0LGUpe3JldHVybiB0K2VbMV0tZVswXX0sZD1oLnJlZHVjZSh5LDApLG09Zi5yZWR1Y2UoeSwwKSx2PXUtZCxnPWwtbSx4PTAsYj1kLHc9MCxfPW0sQT0wLFM9dixrPTAsST1nO2lmKG8uY29udGVudCYmbil7dmFyIHo9by5jb250ZW50O3g9cXUoaCwwLHpbMF0pLHc9cXUoZiwwLHpbMV0pLGI9cXUoaCx6WzBdLHpbMl0pLF89cXUoZix6WzFdLHpbM10pLEE9elswXS14LGs9elsxXS13LFM9elsyXS16WzBdLWIsST16WzNdLXpbMV0tXzt9dmFyIEM9ZnVuY3Rpb24obixhLHUsbCl7dmFyIGg9S3Uobi5zdHJldGNoLXgsYixwLHQubGVmdCksZj1HdShuLmZpeGVkLUEsUyxuLnN0cmV0Y2gsZCkseT1LdShhLnN0cmV0Y2gtdyxfLGMsdC50b3ApLHY9R3UoYS5maXhlZC1rLEksYS5zdHJldGNoLG0pLGc9S3UodS5zdHJldGNoLXgsYixwLHQubGVmdCksej1HdSh1LmZpeGVkLUEsUyx1LnN0cmV0Y2gsZCksQz1LdShsLnN0cmV0Y2gtdyxfLGMsdC50b3ApLE09R3UobC5maXhlZC1rLEksbC5zdHJldGNoLG0pLEU9bmV3IGkoaCx5KSxUPW5ldyBpKGcseSksUD1uZXcgaShnLEMpLEI9bmV3IGkoaCxDKSxWPW5ldyBpKGYvcyx2L3MpLEY9bmV3IGkoei9zLE0vcyksRD1lKk1hdGguUEkvMTgwO2lmKEQpe3ZhciBMPU1hdGguc2luKEQpLFI9TWF0aC5jb3MoRCksTz1bUiwtTCxMLFJdO0UuX21hdE11bHQoTyksVC5fbWF0TXVsdChPKSxCLl9tYXRNdWx0KE8pLFAuX21hdE11bHQoTyk7fXZhciBVPW4uc3RyZXRjaCtuLmZpeGVkLGo9YS5zdHJldGNoK2EuZml4ZWQ7cmV0dXJuIHt0bDpFLHRyOlQsYmw6QixicjpQLHRleDp7eDpvLnBhZGRlZFJlY3QueCsxK1UseTpvLnBhZGRlZFJlY3QueSsxK2osdzp1LnN0cmV0Y2grdS5maXhlZC1VLGg6bC5zdHJldGNoK2wuZml4ZWQtan0sd3JpdGluZ01vZGU6dm9pZCAwLGdseXBoT2Zmc2V0OlswLDBdLHNlY3Rpb25JbmRleDowLHBpeGVsT2Zmc2V0VEw6VixwaXhlbE9mZnNldEJSOkYsbWluRm9udFNjYWxlWDpTL3MvcCxtaW5Gb250U2NhbGVZOkkvcy9jLGlzU0RGOnJ9fTtpZihuJiYoby5zdHJldGNoWHx8by5zdHJldGNoWSkpZm9yKHZhciBNPU51KGgsdixkKSxFPU51KGYsZyxtKSxUPTA7VDxNLmxlbmd0aC0xO1QrKylmb3IodmFyIFA9TVtUXSxCPU1bVCsxXSxWPTA7VjxFLmxlbmd0aC0xO1YrKylhLnB1c2goQyhQLEVbVl0sQixFW1YrMV0pKTtlbHNlIGEucHVzaChDKHtmaXhlZDowLHN0cmV0Y2g6LTF9LHtmaXhlZDowLHN0cmV0Y2g6LTF9LHtmaXhlZDowLHN0cmV0Y2g6dSsxfSx7Zml4ZWQ6MCxzdHJldGNoOmwrMX0pKTtyZXR1cm4gYX1mdW5jdGlvbiBxdSh0LGUscil7Zm9yKHZhciBuPTAsaT0wLGE9dDtpPGEubGVuZ3RoO2krPTEpe3ZhciBvPWFbaV07bis9TWF0aC5tYXgoZSxNYXRoLm1pbihyLG9bMV0pKS1NYXRoLm1heChlLE1hdGgubWluKHIsb1swXSkpO31yZXR1cm4gbn1mdW5jdGlvbiBOdSh0LGUscil7Zm9yKHZhciBuPVt7Zml4ZWQ6LTEsc3RyZXRjaDowfV0saT0wLGE9dDtpPGEubGVuZ3RoO2krPTEpe3ZhciBvPWFbaV0scz1vWzBdLHU9b1sxXSxsPW5bbi5sZW5ndGgtMV07bi5wdXNoKHtmaXhlZDpzLWwuc3RyZXRjaCxzdHJldGNoOmwuc3RyZXRjaH0pLG4ucHVzaCh7Zml4ZWQ6cy1sLnN0cmV0Y2gsc3RyZXRjaDpsLnN0cmV0Y2grKHUtcyl9KTt9cmV0dXJuIG4ucHVzaCh7Zml4ZWQ6ZSsxLHN0cmV0Y2g6cn0pLG59ZnVuY3Rpb24gS3UodCxlLHIsbil7cmV0dXJuIHQvZSpyK259ZnVuY3Rpb24gR3UodCxlLHIsbil7cmV0dXJuIHQtZSpyL259dmFyIFp1PWZ1bmN0aW9uKHQsZSxyLG4sYSxvLHMsdSxsLHApe2lmKHRoaXMuYm94U3RhcnRJbmRleD10Lmxlbmd0aCxsKXt2YXIgYz1vLnRvcCxoPW8uYm90dG9tLGY9by5jb2xsaXNpb25QYWRkaW5nO2YmJihjLT1mWzFdLGgrPWZbM10pO3ZhciB5PWgtYzt5PjAmJih5PU1hdGgubWF4KDEwLHkpLHRoaXMuY2lyY2xlRGlhbWV0ZXI9eSk7fWVsc2Uge3ZhciBkPW8udG9wKnMtdSxtPW8uYm90dG9tKnMrdSx2PW8ubGVmdCpzLXUsZz1vLnJpZ2h0KnMrdSx4PW8uY29sbGlzaW9uUGFkZGluZztpZih4JiYodi09eFswXSpzLGQtPXhbMV0qcyxnKz14WzJdKnMsbSs9eFszXSpzKSxwKXt2YXIgYj1uZXcgaSh2LGQpLHc9bmV3IGkoZyxkKSxfPW5ldyBpKHYsbSksQT1uZXcgaShnLG0pLFM9cCpNYXRoLlBJLzE4MDtiLl9yb3RhdGUoUyksdy5fcm90YXRlKFMpLF8uX3JvdGF0ZShTKSxBLl9yb3RhdGUoUyksdj1NYXRoLm1pbihiLngsdy54LF8ueCxBLngpLGc9TWF0aC5tYXgoYi54LHcueCxfLngsQS54KSxkPU1hdGgubWluKGIueSx3LnksXy55LEEueSksbT1NYXRoLm1heChiLnksdy55LF8ueSxBLnkpO310LmVtcGxhY2VCYWNrKGUueCxlLnksdixkLGcsbSxyLG4sYSk7fXRoaXMuYm94RW5kSW5kZXg9dC5sZW5ndGg7fSxYdT1mdW5jdGlvbih0LGUpe2lmKHZvaWQgMD09PXQmJih0PVtdKSx2b2lkIDA9PT1lJiYoZT1KdSksdGhpcy5kYXRhPXQsdGhpcy5sZW5ndGg9dGhpcy5kYXRhLmxlbmd0aCx0aGlzLmNvbXBhcmU9ZSx0aGlzLmxlbmd0aD4wKWZvcih2YXIgcj0odGhpcy5sZW5ndGg+PjEpLTE7cj49MDtyLS0pdGhpcy5fZG93bihyKTt9O2Z1bmN0aW9uIEp1KHQsZSl7cmV0dXJuIHQ8ZT8tMTp0PmU/MTowfWZ1bmN0aW9uIEh1KHQsZSxyKXt2b2lkIDA9PT1lJiYoZT0xKSx2b2lkIDA9PT1yJiYocj0hMSk7Zm9yKHZhciBuPTEvMCxhPTEvMCxvPS0xLzAscz0tMS8wLHU9dFswXSxsPTA7bDx1Lmxlbmd0aDtsKyspe3ZhciBwPXVbbF07KCFsfHxwLng8bikmJihuPXAueCksKCFsfHxwLnk8YSkmJihhPXAueSksKCFsfHxwLng+bykmJihvPXAueCksKCFsfHxwLnk+cykmJihzPXAueSk7fXZhciBjPU1hdGgubWluKG8tbixzLWEpLGg9Yy8yLGY9bmV3IFh1KFtdLFl1KTtpZigwPT09YylyZXR1cm4gbmV3IGkobixhKTtmb3IodmFyIHk9bjt5PG87eSs9Yylmb3IodmFyIGQ9YTtkPHM7ZCs9YylmLnB1c2gobmV3ICR1KHkraCxkK2gsaCx0KSk7Zm9yKHZhciBtPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0wLHI9MCxuPTAsaT10WzBdLGE9MCxvPWkubGVuZ3RoLHM9by0xO2E8bztzPWErKyl7dmFyIHU9aVthXSxsPWlbc10scD11LngqbC55LWwueCp1Lnk7cis9KHUueCtsLngpKnAsbis9KHUueStsLnkpKnAsZSs9MypwO31yZXR1cm4gbmV3ICR1KHIvZSxuL2UsMCx0KX0odCksdj1mLmxlbmd0aDtmLmxlbmd0aDspe3ZhciBnPWYucG9wKCk7KGcuZD5tLmR8fCFtLmQpJiYobT1nLHImJmNvbnNvbGUubG9nKCJmb3VuZCBiZXN0ICVkIGFmdGVyICVkIHByb2JlcyIsTWF0aC5yb3VuZCgxZTQqZy5kKS8xZTQsdikpLGcubWF4LW0uZDw9ZXx8KGYucHVzaChuZXcgJHUoZy5wLngtKGg9Zy5oLzIpLGcucC55LWgsaCx0KSksZi5wdXNoKG5ldyAkdShnLnAueCtoLGcucC55LWgsaCx0KSksZi5wdXNoKG5ldyAkdShnLnAueC1oLGcucC55K2gsaCx0KSksZi5wdXNoKG5ldyAkdShnLnAueCtoLGcucC55K2gsaCx0KSksdis9NCk7fXJldHVybiByJiYoY29uc29sZS5sb2coIm51bSBwcm9iZXM6ICIrdiksY29uc29sZS5sb2coImJlc3QgZGlzdGFuY2U6ICIrbS5kKSksbS5wfWZ1bmN0aW9uIFl1KHQsZSl7cmV0dXJuIGUubWF4LXQubWF4fWZ1bmN0aW9uICR1KHQsZSxyLG4pe3RoaXMucD1uZXcgaSh0LGUpLHRoaXMuaD1yLHRoaXMuZD1mdW5jdGlvbih0LGUpe2Zvcih2YXIgcj0hMSxuPTEvMCxpPTA7aTxlLmxlbmd0aDtpKyspZm9yKHZhciBhPWVbaV0sbz0wLHM9YS5sZW5ndGgsdT1zLTE7bzxzO3U9bysrKXt2YXIgbD1hW29dLHA9YVt1XTtsLnk+dC55IT1wLnk+dC55JiZ0Lng8KHAueC1sLngpKih0LnktbC55KS8ocC55LWwueSkrbC54JiYocj0hciksbj1NYXRoLm1pbihuLEdhKHQsbCxwKSk7fXJldHVybiAocj8xOi0xKSpNYXRoLnNxcnQobil9KHRoaXMucCxuKSx0aGlzLm1heD10aGlzLmQrdGhpcy5oKk1hdGguU1FSVDI7fVh1LnByb3RvdHlwZS5wdXNoPWZ1bmN0aW9uKHQpe3RoaXMuZGF0YS5wdXNoKHQpLHRoaXMubGVuZ3RoKyssdGhpcy5fdXAodGhpcy5sZW5ndGgtMSk7fSxYdS5wcm90b3R5cGUucG9wPWZ1bmN0aW9uKCl7aWYoMCE9PXRoaXMubGVuZ3RoKXt2YXIgdD10aGlzLmRhdGFbMF0sZT10aGlzLmRhdGEucG9wKCk7cmV0dXJuIHRoaXMubGVuZ3RoLS0sdGhpcy5sZW5ndGg+MCYmKHRoaXMuZGF0YVswXT1lLHRoaXMuX2Rvd24oMCkpLHR9fSxYdS5wcm90b3R5cGUucGVlaz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmRhdGFbMF19LFh1LnByb3RvdHlwZS5fdXA9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXRoaXMuZGF0YSxyPXRoaXMuY29tcGFyZSxuPWVbdF07dD4wOyl7dmFyIGk9dC0xPj4xLGE9ZVtpXTtpZihyKG4sYSk+PTApYnJlYWs7ZVt0XT1hLHQ9aTt9ZVt0XT1uO30sWHUucHJvdG90eXBlLl9kb3duPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10aGlzLmRhdGEscj10aGlzLmNvbXBhcmUsbj10aGlzLmxlbmd0aD4+MSxpPWVbdF07dDxuOyl7dmFyIGE9MSsodDw8MSksbz1lW2FdLHM9YSsxO2lmKHM8dGhpcy5sZW5ndGgmJnIoZVtzXSxvKTwwJiYoYT1zLG89ZVtzXSkscihvLGkpPj0wKWJyZWFrO2VbdF09byx0PWE7fWVbdF09aTt9O3ZhciBXdT1OdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFk7ZnVuY3Rpb24gUXUodCxlKXtyZXR1cm4gZVsxXSE9PVd1P2Z1bmN0aW9uKHQsZSxyKXt2YXIgbj0wLGk9MDtzd2l0Y2goZT1NYXRoLmFicyhlKSxyPU1hdGguYWJzKHIpLHQpe2Nhc2UidG9wLXJpZ2h0IjpjYXNlInRvcC1sZWZ0IjpjYXNlInRvcCI6aT1yLTc7YnJlYWs7Y2FzZSJib3R0b20tcmlnaHQiOmNhc2UiYm90dG9tLWxlZnQiOmNhc2UiYm90dG9tIjppPTctcjt9c3dpdGNoKHQpe2Nhc2UidG9wLXJpZ2h0IjpjYXNlImJvdHRvbS1yaWdodCI6Y2FzZSJyaWdodCI6bj0tZTticmVhaztjYXNlInRvcC1sZWZ0IjpjYXNlImJvdHRvbS1sZWZ0IjpjYXNlImxlZnQiOm49ZTt9cmV0dXJuIFtuLGldfSh0LGVbMF0sZVsxXSk6ZnVuY3Rpb24odCxlKXt2YXIgcj0wLG49MDtlPDAmJihlPTApO3ZhciBpPWUvTWF0aC5zcXJ0KDIpO3N3aXRjaCh0KXtjYXNlInRvcC1yaWdodCI6Y2FzZSJ0b3AtbGVmdCI6bj1pLTc7YnJlYWs7Y2FzZSJib3R0b20tcmlnaHQiOmNhc2UiYm90dG9tLWxlZnQiOm49Ny1pO2JyZWFrO2Nhc2UiYm90dG9tIjpuPTctZTticmVhaztjYXNlInRvcCI6bj1lLTc7fXN3aXRjaCh0KXtjYXNlInRvcC1yaWdodCI6Y2FzZSJib3R0b20tcmlnaHQiOnI9LWk7YnJlYWs7Y2FzZSJ0b3AtbGVmdCI6Y2FzZSJib3R0b20tbGVmdCI6cj1pO2JyZWFrO2Nhc2UibGVmdCI6cj1lO2JyZWFrO2Nhc2UicmlnaHQiOnI9LWU7fXJldHVybiBbcixuXX0odCxlWzBdKX1mdW5jdGlvbiB0bCh0KXtzd2l0Y2godCl7Y2FzZSJyaWdodCI6Y2FzZSJ0b3AtcmlnaHQiOmNhc2UiYm90dG9tLXJpZ2h0IjpyZXR1cm4gInJpZ2h0IjtjYXNlImxlZnQiOmNhc2UidG9wLWxlZnQiOmNhc2UiYm90dG9tLWxlZnQiOnJldHVybiAibGVmdCJ9cmV0dXJuICJjZW50ZXIifWZ1bmN0aW9uIGVsKHQsZSxyLG4sYSxvLHMsdSxsLHAsYyxoLGYseSxkKXt2YXIgbT1mdW5jdGlvbih0LGUscixuLGEsbyxzLHUpe2Zvcih2YXIgbD1uLmxheW91dC5nZXQoInRleHQtcm90YXRlIikuZXZhbHVhdGUobyx7fSkqTWF0aC5QSS8xODAscD1bXSxjPTAsaD1lLnBvc2l0aW9uZWRMaW5lcztjPGgubGVuZ3RoO2MrPTEpZm9yKHZhciBmPWhbY10seT0wLGQ9Zi5wb3NpdGlvbmVkR2x5cGhzO3k8ZC5sZW5ndGg7eSs9MSl7dmFyIG09ZFt5XTtpZihtLnJlY3Qpe3ZhciB2PW0ucmVjdHx8e30sZz00LHg9ITAsYj0xLHc9MCxfPShhfHx1KSYmbS52ZXJ0aWNhbCxBPW0ubWV0cmljcy5hZHZhbmNlKm0uc2NhbGUvMjtpZih1JiZlLnZlcnRpY2FsaXphYmxlJiYodz1mLmxpbmVPZmZzZXQvMi0obS5pbWFnZU5hbWU/LSgyNC1tLm1ldHJpY3Mud2lkdGgqbS5zY2FsZSkvMjoyNCoobS5zY2FsZS0xKSkpLG0uaW1hZ2VOYW1lKXt2YXIgUz1zW20uaW1hZ2VOYW1lXTt4PVMuc2RmLGc9MS8oYj1TLnBpeGVsUmF0aW8pO312YXIgaz1hP1ttLngrQSxtLnldOlswLDBdLEk9YT9bMCwwXTpbbS54K0ErclswXSxtLnkrclsxXS13XSx6PVswLDBdO18mJih6PUksST1bMCwwXSk7dmFyIEM9KG0ubWV0cmljcy5sZWZ0LWcpKm0uc2NhbGUtQStJWzBdLE09KC1tLm1ldHJpY3MudG9wLWcpKm0uc2NhbGUrSVsxXSxFPUMrdi53Km0uc2NhbGUvYixUPU0rdi5oKm0uc2NhbGUvYixQPW5ldyBpKEMsTSksQj1uZXcgaShFLE0pLFY9bmV3IGkoQyxUKSxGPW5ldyBpKEUsVCk7aWYoXyl7dmFyIEQ9bmV3IGkoLUEsQS0gLTE3KSxMPS1NYXRoLlBJLzIsUj0xMi1BLE89bmV3IGkoMjItUiwtKG0uaW1hZ2VOYW1lP1I6MCkpLFU9bmV3KEZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kLmFwcGx5KGksW251bGxdLmNvbmNhdCh6KSkpO1AuX3JvdGF0ZUFyb3VuZChMLEQpLl9hZGQoTykuX2FkZChVKSxCLl9yb3RhdGVBcm91bmQoTCxEKS5fYWRkKE8pLl9hZGQoVSksVi5fcm90YXRlQXJvdW5kKEwsRCkuX2FkZChPKS5fYWRkKFUpLEYuX3JvdGF0ZUFyb3VuZChMLEQpLl9hZGQoTykuX2FkZChVKTt9aWYobCl7dmFyIGo9TWF0aC5zaW4obCkscT1NYXRoLmNvcyhsKSxOPVtxLC1qLGoscV07UC5fbWF0TXVsdChOKSxCLl9tYXRNdWx0KE4pLFYuX21hdE11bHQoTiksRi5fbWF0TXVsdChOKTt9dmFyIEs9bmV3IGkoMCwwKSxHPW5ldyBpKDAsMCk7cC5wdXNoKHt0bDpQLHRyOkIsYmw6VixicjpGLHRleDp2LHdyaXRpbmdNb2RlOmUud3JpdGluZ01vZGUsZ2x5cGhPZmZzZXQ6ayxzZWN0aW9uSW5kZXg6bS5zZWN0aW9uSW5kZXgsaXNTREY6eCxwaXhlbE9mZnNldFRMOksscGl4ZWxPZmZzZXRCUjpHLG1pbkZvbnRTY2FsZVg6MCxtaW5Gb250U2NhbGVZOjB9KTt9fXJldHVybiBwfSgwLHIsdSxhLG8scyxuLHQuYWxsb3dWZXJ0aWNhbFBsYWNlbWVudCksdj10LnRleHRTaXplRGF0YSxnPW51bGw7InNvdXJjZSI9PT12LmtpbmQ/KGc9WzEyOCphLmxheW91dC5nZXQoInRleHQtc2l6ZSIpLmV2YWx1YXRlKHMse30pXSlbMF0+MzI2NDAmJncodC5sYXllcklkc1swXSsnOiBWYWx1ZSBmb3IgInRleHQtc2l6ZSIgaXMgPj0gMjU1LiBSZWR1Y2UgeW91ciAidGV4dC1zaXplIi4nKToiY29tcG9zaXRlIj09PXYua2luZCYmKChnPVsxMjgqeS5jb21wb3NpdGVUZXh0U2l6ZXNbMF0uZXZhbHVhdGUocyx7fSxkKSwxMjgqeS5jb21wb3NpdGVUZXh0U2l6ZXNbMV0uZXZhbHVhdGUocyx7fSxkKV0pWzBdPjMyNjQwfHxnWzFdPjMyNjQwKSYmdyh0LmxheWVySWRzWzBdKyc6IFZhbHVlIGZvciAidGV4dC1zaXplIiBpcyA+PSAyNTUuIFJlZHVjZSB5b3VyICJ0ZXh0LXNpemUiLicpLHQuYWRkU3ltYm9scyh0LnRleHQsbSxnLHUsbyxzLHAsZSxsLmxpbmVTdGFydEluZGV4LGwubGluZUxlbmd0aCxmLGQpO2Zvcih2YXIgeD0wLGI9Yzt4PGIubGVuZ3RoO3grPTEpaFtiW3hdXT10LnRleHQucGxhY2VkU3ltYm9sQXJyYXkubGVuZ3RoLTE7cmV0dXJuIDQqbS5sZW5ndGh9ZnVuY3Rpb24gcmwodCl7Zm9yKHZhciBlIGluIHQpcmV0dXJuIHRbZV07cmV0dXJuIG51bGx9ZnVuY3Rpb24gbmwodCxlLHIsbil7dmFyIGk9dC5jb21wYXJlVGV4dDtpZihlIGluIGkpe2Zvcih2YXIgYT1pW2VdLG89YS5sZW5ndGgtMTtvPj0wO28tLSlpZihuLmRpc3QoYVtvXSk8cilyZXR1cm4gITB9ZWxzZSBpW2VdPVtdO3JldHVybiBpW2VdLnB1c2gobiksITF9dmFyIGlsPWRzLlZlY3RvclRpbGVGZWF0dXJlLnR5cGVzLGFsPVt7bmFtZToiYV9mYWRlX29wYWNpdHkiLGNvbXBvbmVudHM6MSx0eXBlOiJVaW50OCIsb2Zmc2V0OjB9XTtmdW5jdGlvbiBvbCh0LGUscixuLGksYSxvLHMsdSxsLHAsYyxoKXt2YXIgZj1zP01hdGgubWluKDMyNjQwLE1hdGgucm91bmQoc1swXSkpOjAseT1zP01hdGgubWluKDMyNjQwLE1hdGgucm91bmQoc1sxXSkpOjA7dC5lbXBsYWNlQmFjayhlLHIsTWF0aC5yb3VuZCgzMipuKSxNYXRoLnJvdW5kKDMyKmkpLGEsbywoZjw8MSkrKHU/MTowKSx5LDE2KmwsMTYqcCwyNTYqYywyNTYqaCk7fWZ1bmN0aW9uIHNsKHQsZSxyKXt0LmVtcGxhY2VCYWNrKGUueCxlLnksciksdC5lbXBsYWNlQmFjayhlLngsZS55LHIpLHQuZW1wbGFjZUJhY2soZS54LGUueSxyKSx0LmVtcGxhY2VCYWNrKGUueCxlLnkscik7fWZ1bmN0aW9uIHVsKHQpe2Zvcih2YXIgZT0wLHI9dC5zZWN0aW9ucztlPHIubGVuZ3RoO2UrPTEpaWYoSm4ocltlXS50ZXh0KSlyZXR1cm4gITA7cmV0dXJuICExfXZhciBsbD1mdW5jdGlvbih0KXt0aGlzLmxheW91dFZlcnRleEFycmF5PW5ldyBFaSx0aGlzLmluZGV4QXJyYXk9bmV3IExpLHRoaXMucHJvZ3JhbUNvbmZpZ3VyYXRpb25zPXQsdGhpcy5zZWdtZW50cz1uZXcgaWEsdGhpcy5keW5hbWljTGF5b3V0VmVydGV4QXJyYXk9bmV3IFRpLHRoaXMub3BhY2l0eVZlcnRleEFycmF5PW5ldyBQaSx0aGlzLnBsYWNlZFN5bWJvbEFycmF5PW5ldyBZaTt9O2xsLnByb3RvdHlwZS5pc0VtcHR5PWZ1bmN0aW9uKCl7cmV0dXJuIDA9PT10aGlzLmxheW91dFZlcnRleEFycmF5Lmxlbmd0aCYmMD09PXRoaXMuaW5kZXhBcnJheS5sZW5ndGgmJjA9PT10aGlzLmR5bmFtaWNMYXlvdXRWZXJ0ZXhBcnJheS5sZW5ndGgmJjA9PT10aGlzLm9wYWNpdHlWZXJ0ZXhBcnJheS5sZW5ndGh9LGxsLnByb3RvdHlwZS51cGxvYWQ9ZnVuY3Rpb24odCxlLHIsbil7dGhpcy5pc0VtcHR5KCl8fChyJiYodGhpcy5sYXlvdXRWZXJ0ZXhCdWZmZXI9dC5jcmVhdGVWZXJ0ZXhCdWZmZXIodGhpcy5sYXlvdXRWZXJ0ZXhBcnJheSxGcy5tZW1iZXJzKSx0aGlzLmluZGV4QnVmZmVyPXQuY3JlYXRlSW5kZXhCdWZmZXIodGhpcy5pbmRleEFycmF5LGUpLHRoaXMuZHluYW1pY0xheW91dFZlcnRleEJ1ZmZlcj10LmNyZWF0ZVZlcnRleEJ1ZmZlcih0aGlzLmR5bmFtaWNMYXlvdXRWZXJ0ZXhBcnJheSxEcy5tZW1iZXJzLCEwKSx0aGlzLm9wYWNpdHlWZXJ0ZXhCdWZmZXI9dC5jcmVhdGVWZXJ0ZXhCdWZmZXIodGhpcy5vcGFjaXR5VmVydGV4QXJyYXksYWwsITApLHRoaXMub3BhY2l0eVZlcnRleEJ1ZmZlci5pdGVtU2l6ZT0xKSwocnx8bikmJnRoaXMucHJvZ3JhbUNvbmZpZ3VyYXRpb25zLnVwbG9hZCh0KSk7fSxsbC5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMubGF5b3V0VmVydGV4QnVmZmVyJiYodGhpcy5sYXlvdXRWZXJ0ZXhCdWZmZXIuZGVzdHJveSgpLHRoaXMuaW5kZXhCdWZmZXIuZGVzdHJveSgpLHRoaXMucHJvZ3JhbUNvbmZpZ3VyYXRpb25zLmRlc3Ryb3koKSx0aGlzLnNlZ21lbnRzLmRlc3Ryb3koKSx0aGlzLmR5bmFtaWNMYXlvdXRWZXJ0ZXhCdWZmZXIuZGVzdHJveSgpLHRoaXMub3BhY2l0eVZlcnRleEJ1ZmZlci5kZXN0cm95KCkpO30sRm4oIlN5bWJvbEJ1ZmZlcnMiLGxsKTt2YXIgcGw9ZnVuY3Rpb24odCxlLHIpe3RoaXMubGF5b3V0VmVydGV4QXJyYXk9bmV3IHQsdGhpcy5sYXlvdXRBdHRyaWJ1dGVzPWUsdGhpcy5pbmRleEFycmF5PW5ldyByLHRoaXMuc2VnbWVudHM9bmV3IGlhLHRoaXMuY29sbGlzaW9uVmVydGV4QXJyYXk9bmV3IERpO307cGwucHJvdG90eXBlLnVwbG9hZD1mdW5jdGlvbih0KXt0aGlzLmxheW91dFZlcnRleEJ1ZmZlcj10LmNyZWF0ZVZlcnRleEJ1ZmZlcih0aGlzLmxheW91dFZlcnRleEFycmF5LHRoaXMubGF5b3V0QXR0cmlidXRlcyksdGhpcy5pbmRleEJ1ZmZlcj10LmNyZWF0ZUluZGV4QnVmZmVyKHRoaXMuaW5kZXhBcnJheSksdGhpcy5jb2xsaXNpb25WZXJ0ZXhCdWZmZXI9dC5jcmVhdGVWZXJ0ZXhCdWZmZXIodGhpcy5jb2xsaXNpb25WZXJ0ZXhBcnJheSxMcy5tZW1iZXJzLCEwKTt9LHBsLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5sYXlvdXRWZXJ0ZXhCdWZmZXImJih0aGlzLmxheW91dFZlcnRleEJ1ZmZlci5kZXN0cm95KCksdGhpcy5pbmRleEJ1ZmZlci5kZXN0cm95KCksdGhpcy5zZWdtZW50cy5kZXN0cm95KCksdGhpcy5jb2xsaXNpb25WZXJ0ZXhCdWZmZXIuZGVzdHJveSgpKTt9LEZuKCJDb2xsaXNpb25CdWZmZXJzIixwbCk7dmFyIGNsPWZ1bmN0aW9uKHQpe3RoaXMuY29sbGlzaW9uQm94QXJyYXk9dC5jb2xsaXNpb25Cb3hBcnJheSx0aGlzLnpvb209dC56b29tLHRoaXMub3ZlcnNjYWxpbmc9dC5vdmVyc2NhbGluZyx0aGlzLmxheWVycz10LmxheWVycyx0aGlzLmxheWVySWRzPXRoaXMubGF5ZXJzLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIHQuaWR9KSksdGhpcy5pbmRleD10LmluZGV4LHRoaXMucGl4ZWxSYXRpbz10LnBpeGVsUmF0aW8sdGhpcy5zb3VyY2VMYXllckluZGV4PXQuc291cmNlTGF5ZXJJbmRleCx0aGlzLmhhc1BhdHRlcm49ITEsdGhpcy5oYXNSVExUZXh0PSExLHRoaXMuc29ydEtleVJhbmdlcz1bXSx0aGlzLmNvbGxpc2lvbkNpcmNsZUFycmF5PVtdLHRoaXMucGxhY2VtZW50SW52UHJvak1hdHJpeD1lbyhbXSksdGhpcy5wbGFjZW1lbnRWaWV3cG9ydE1hdHJpeD1lbyhbXSk7dmFyIGU9dGhpcy5sYXllcnNbMF0uX3VuZXZhbHVhdGVkTGF5b3V0Ll92YWx1ZXM7dGhpcy50ZXh0U2l6ZURhdGE9RXUodGhpcy56b29tLGVbInRleHQtc2l6ZSJdKSx0aGlzLmljb25TaXplRGF0YT1FdSh0aGlzLnpvb20sZVsiaWNvbi1zaXplIl0pO3ZhciByPXRoaXMubGF5ZXJzWzBdLmxheW91dCxuPXIuZ2V0KCJzeW1ib2wtc29ydC1rZXkiKSxpPXIuZ2V0KCJzeW1ib2wtei1vcmRlciIpO3RoaXMuc29ydEZlYXR1cmVzQnlLZXk9InZpZXdwb3J0LXkiIT09aSYmdm9pZCAwIT09bi5jb25zdGFudE9yKDEpLHRoaXMuc29ydEZlYXR1cmVzQnlZPSgidmlld3BvcnQteSI9PT1pfHwiYXV0byI9PT1pJiYhdGhpcy5zb3J0RmVhdHVyZXNCeUtleSkmJihyLmdldCgidGV4dC1hbGxvdy1vdmVybGFwIil8fHIuZ2V0KCJpY29uLWFsbG93LW92ZXJsYXAiKXx8ci5nZXQoInRleHQtaWdub3JlLXBsYWNlbWVudCIpfHxyLmdldCgiaWNvbi1pZ25vcmUtcGxhY2VtZW50IikpLCJwb2ludCI9PT1yLmdldCgic3ltYm9sLXBsYWNlbWVudCIpJiYodGhpcy53cml0aW5nTW9kZXM9ci5nZXQoInRleHQtd3JpdGluZy1tb2RlIikubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gZHVbdF19KSkpLHRoaXMuc3RhdGVEZXBlbmRlbnRMYXllcklkcz10aGlzLmxheWVycy5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiB0LmlzU3RhdGVEZXBlbmRlbnQoKX0pKS5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiB0LmlkfSkpLHRoaXMuc291cmNlSUQ9dC5zb3VyY2VJRDt9O2NsLnByb3RvdHlwZS5jcmVhdGVBcnJheXM9ZnVuY3Rpb24oKXt0aGlzLnRleHQ9bmV3IGxsKG5ldyBUYShGcy5tZW1iZXJzLHRoaXMubGF5ZXJzLHRoaXMuem9vbSwoZnVuY3Rpb24odCl7cmV0dXJuIC9edGV4dC8udGVzdCh0KX0pKSksdGhpcy5pY29uPW5ldyBsbChuZXcgVGEoRnMubWVtYmVycyx0aGlzLmxheWVycyx0aGlzLnpvb20sKGZ1bmN0aW9uKHQpe3JldHVybiAvXmljb24vLnRlc3QodCl9KSkpLHRoaXMuZ2x5cGhPZmZzZXRBcnJheT1uZXcgUWksdGhpcy5saW5lVmVydGV4QXJyYXk9bmV3IHRhLHRoaXMuc3ltYm9sSW5zdGFuY2VzPW5ldyBXaTt9LGNsLnByb3RvdHlwZS5jYWxjdWxhdGVHbHlwaERlcGVuZGVuY2llcz1mdW5jdGlvbih0LGUscixuLGkpe2Zvcih2YXIgYT0wO2E8dC5sZW5ndGg7YSsrKWlmKGVbdC5jaGFyQ29kZUF0KGEpXT0hMCwocnx8bikmJmkpe3ZhciBvPWpzW3QuY2hhckF0KGEpXTtvJiYoZVtvLmNoYXJDb2RlQXQoMCldPSEwKTt9fSxjbC5wcm90b3R5cGUucG9wdWxhdGU9ZnVuY3Rpb24odCxlLHIpe3ZhciBuPXRoaXMubGF5ZXJzWzBdLGk9bi5sYXlvdXQsYT1pLmdldCgidGV4dC1mb250Iiksbz1pLmdldCgidGV4dC1maWVsZCIpLHM9aS5nZXQoImljb24taW1hZ2UiKSx1PSgiY29uc3RhbnQiIT09by52YWx1ZS5raW5kfHxvLnZhbHVlLnZhbHVlIGluc3RhbmNlb2YgdGUmJiFvLnZhbHVlLnZhbHVlLmlzRW1wdHkoKXx8by52YWx1ZS52YWx1ZS50b1N0cmluZygpLmxlbmd0aD4wKSYmKCJjb25zdGFudCIhPT1hLnZhbHVlLmtpbmR8fGEudmFsdWUudmFsdWUubGVuZ3RoPjApLGw9ImNvbnN0YW50IiE9PXMudmFsdWUua2luZHx8ISFzLnZhbHVlLnZhbHVlfHxPYmplY3Qua2V5cyhzLnBhcmFtZXRlcnMpLmxlbmd0aD4wLHA9aS5nZXQoInN5bWJvbC1zb3J0LWtleSIpO2lmKHRoaXMuZmVhdHVyZXM9W10sdXx8bCl7Zm9yKHZhciBjPWUuaWNvbkRlcGVuZGVuY2llcyxoPWUuZ2x5cGhEZXBlbmRlbmNpZXMsZj1lLmF2YWlsYWJsZUltYWdlcyx5PW5ldyBpaSh0aGlzLnpvb20pLGQ9MCxtPXQ7ZDxtLmxlbmd0aDtkKz0xKXt2YXIgdj1tW2RdLGc9di5mZWF0dXJlLHg9di5pZCxiPXYuaW5kZXgsdz12LnNvdXJjZUxheWVySW5kZXgsXz1uLl9mZWF0dXJlRmlsdGVyLm5lZWRHZW9tZXRyeSxBPXt0eXBlOmcudHlwZSxpZDp4LHByb3BlcnRpZXM6Zy5wcm9wZXJ0aWVzLGdlb21ldHJ5Ol8/RmEoZyk6W119O2lmKG4uX2ZlYXR1cmVGaWx0ZXIuZmlsdGVyKHksQSxyKSl7X3x8KEEuZ2VvbWV0cnk9RmEoZykpO3ZhciBTPXZvaWQgMDtpZih1KXt2YXIgaz1uLmdldFZhbHVlQW5kUmVzb2x2ZVRva2VucygidGV4dC1maWVsZCIsQSxyLGYpLEk9dGUuZmFjdG9yeShrKTt1bChJKSYmKHRoaXMuaGFzUlRMVGV4dD0hMCksKCF0aGlzLmhhc1JUTFRleHR8fCJ1bmF2YWlsYWJsZSI9PT1laSgpfHx0aGlzLmhhc1JUTFRleHQmJm5pLmlzUGFyc2VkKCkpJiYoUz1VcyhJLG4sQSkpO312YXIgej12b2lkIDA7aWYobCl7dmFyIEM9bi5nZXRWYWx1ZUFuZFJlc29sdmVUb2tlbnMoImljb24taW1hZ2UiLEEscixmKTt6PUMgaW5zdGFuY2VvZiBlZT9DOmVlLmZyb21TdHJpbmcoQyk7fWlmKFN8fHope3ZhciBNPXRoaXMuc29ydEZlYXR1cmVzQnlLZXk/cC5ldmFsdWF0ZShBLHt9LHIpOnZvaWQgMCxFPXtpZDp4LHRleHQ6UyxpY29uOnosaW5kZXg6Yixzb3VyY2VMYXllckluZGV4OncsZ2VvbWV0cnk6RmEoZykscHJvcGVydGllczpnLnByb3BlcnRpZXMsdHlwZTppbFtnLnR5cGVdLHNvcnRLZXk6TX07aWYodGhpcy5mZWF0dXJlcy5wdXNoKEUpLHomJihjW3oubmFtZV09ITApLFMpe3ZhciBUPWEuZXZhbHVhdGUoQSx7fSxyKS5qb2luKCIsIiksUD0ibWFwIj09PWkuZ2V0KCJ0ZXh0LXJvdGF0aW9uLWFsaWdubWVudCIpJiYicG9pbnQiIT09aS5nZXQoInN5bWJvbC1wbGFjZW1lbnQiKTt0aGlzLmFsbG93VmVydGljYWxQbGFjZW1lbnQ9dGhpcy53cml0aW5nTW9kZXMmJnRoaXMud3JpdGluZ01vZGVzLmluZGV4T2YoZHUudmVydGljYWwpPj0wO2Zvcih2YXIgQj0wLFY9Uy5zZWN0aW9ucztCPFYubGVuZ3RoO0IrPTEpe3ZhciBGPVZbQl07aWYoRi5pbWFnZSljW0YuaW1hZ2UubmFtZV09ITA7ZWxzZSB7dmFyIEQ9Tm4oUy50b1N0cmluZygpKSxMPUYuZm9udFN0YWNrfHxULFI9aFtMXT1oW0xdfHx7fTt0aGlzLmNhbGN1bGF0ZUdseXBoRGVwZW5kZW5jaWVzKEYudGV4dCxSLFAsdGhpcy5hbGxvd1ZlcnRpY2FsUGxhY2VtZW50LEQpO319fX19fSJsaW5lIj09PWkuZ2V0KCJzeW1ib2wtcGxhY2VtZW50IikmJih0aGlzLmZlYXR1cmVzPWZ1bmN0aW9uKHQpe3ZhciBlPXt9LHI9e30sbj1bXSxpPTA7ZnVuY3Rpb24gYShlKXtuLnB1c2godFtlXSksaSsrO31mdW5jdGlvbiBvKHQsZSxpKXt2YXIgYT1yW3RdO3JldHVybiBkZWxldGUgclt0XSxyW2VdPWEsblthXS5nZW9tZXRyeVswXS5wb3AoKSxuW2FdLmdlb21ldHJ5WzBdPW5bYV0uZ2VvbWV0cnlbMF0uY29uY2F0KGlbMF0pLGF9ZnVuY3Rpb24gcyh0LHIsaSl7dmFyIGE9ZVtyXTtyZXR1cm4gZGVsZXRlIGVbcl0sZVt0XT1hLG5bYV0uZ2VvbWV0cnlbMF0uc2hpZnQoKSxuW2FdLmdlb21ldHJ5WzBdPWlbMF0uY29uY2F0KG5bYV0uZ2VvbWV0cnlbMF0pLGF9ZnVuY3Rpb24gdSh0LGUscil7dmFyIG49cj9lWzBdW2VbMF0ubGVuZ3RoLTFdOmVbMF1bMF07cmV0dXJuIHQrIjoiK24ueCsiOiIrbi55fWZvcih2YXIgbD0wO2w8dC5sZW5ndGg7bCsrKXt2YXIgcD10W2xdLGM9cC5nZW9tZXRyeSxoPXAudGV4dD9wLnRleHQudG9TdHJpbmcoKTpudWxsO2lmKGgpe3ZhciBmPXUoaCxjKSx5PXUoaCxjLCEwKTtpZihmIGluIHImJnkgaW4gZSYmcltmXSE9PWVbeV0pe3ZhciBkPXMoZix5LGMpLG09byhmLHksbltkXS5nZW9tZXRyeSk7ZGVsZXRlIGVbZl0sZGVsZXRlIHJbeV0sclt1KGgsblttXS5nZW9tZXRyeSwhMCldPW0sbltkXS5nZW9tZXRyeT1udWxsO31lbHNlIGYgaW4gcj9vKGYseSxjKTp5IGluIGU/cyhmLHksYyk6KGEobCksZVtmXT1pLTEsclt5XT1pLTEpO31lbHNlIGEobCk7fXJldHVybiBuLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIHQuZ2VvbWV0cnl9KSl9KHRoaXMuZmVhdHVyZXMpKSx0aGlzLnNvcnRGZWF0dXJlc0J5S2V5JiZ0aGlzLmZlYXR1cmVzLnNvcnQoKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuc29ydEtleS1lLnNvcnRLZXl9KSk7fX0sY2wucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbih0LGUscil7dGhpcy5zdGF0ZURlcGVuZGVudExheWVycy5sZW5ndGgmJih0aGlzLnRleHQucHJvZ3JhbUNvbmZpZ3VyYXRpb25zLnVwZGF0ZVBhaW50QXJyYXlzKHQsZSx0aGlzLmxheWVycyxyKSx0aGlzLmljb24ucHJvZ3JhbUNvbmZpZ3VyYXRpb25zLnVwZGF0ZVBhaW50QXJyYXlzKHQsZSx0aGlzLmxheWVycyxyKSk7fSxjbC5wcm90b3R5cGUuaXNFbXB0eT1mdW5jdGlvbigpe3JldHVybiAwPT09dGhpcy5zeW1ib2xJbnN0YW5jZXMubGVuZ3RoJiYhdGhpcy5oYXNSVExUZXh0fSxjbC5wcm90b3R5cGUudXBsb2FkUGVuZGluZz1mdW5jdGlvbigpe3JldHVybiAhdGhpcy51cGxvYWRlZHx8dGhpcy50ZXh0LnByb2dyYW1Db25maWd1cmF0aW9ucy5uZWVkc1VwbG9hZHx8dGhpcy5pY29uLnByb2dyYW1Db25maWd1cmF0aW9ucy5uZWVkc1VwbG9hZH0sY2wucHJvdG90eXBlLnVwbG9hZD1mdW5jdGlvbih0KXshdGhpcy51cGxvYWRlZCYmdGhpcy5oYXNEZWJ1Z0RhdGEoKSYmKHRoaXMudGV4dENvbGxpc2lvbkJveC51cGxvYWQodCksdGhpcy5pY29uQ29sbGlzaW9uQm94LnVwbG9hZCh0KSksdGhpcy50ZXh0LnVwbG9hZCh0LHRoaXMuc29ydEZlYXR1cmVzQnlZLCF0aGlzLnVwbG9hZGVkLHRoaXMudGV4dC5wcm9ncmFtQ29uZmlndXJhdGlvbnMubmVlZHNVcGxvYWQpLHRoaXMuaWNvbi51cGxvYWQodCx0aGlzLnNvcnRGZWF0dXJlc0J5WSwhdGhpcy51cGxvYWRlZCx0aGlzLmljb24ucHJvZ3JhbUNvbmZpZ3VyYXRpb25zLm5lZWRzVXBsb2FkKSx0aGlzLnVwbG9hZGVkPSEwO30sY2wucHJvdG90eXBlLmRlc3Ryb3lEZWJ1Z0RhdGE9ZnVuY3Rpb24oKXt0aGlzLnRleHRDb2xsaXNpb25Cb3guZGVzdHJveSgpLHRoaXMuaWNvbkNvbGxpc2lvbkJveC5kZXN0cm95KCk7fSxjbC5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMudGV4dC5kZXN0cm95KCksdGhpcy5pY29uLmRlc3Ryb3koKSx0aGlzLmhhc0RlYnVnRGF0YSgpJiZ0aGlzLmRlc3Ryb3lEZWJ1Z0RhdGEoKTt9LGNsLnByb3RvdHlwZS5hZGRUb0xpbmVWZXJ0ZXhBcnJheT1mdW5jdGlvbih0LGUpe3ZhciByPXRoaXMubGluZVZlcnRleEFycmF5Lmxlbmd0aDtpZih2b2lkIDAhPT10LnNlZ21lbnQpe2Zvcih2YXIgbj10LmRpc3QoZVt0LnNlZ21lbnQrMV0pLGk9dC5kaXN0KGVbdC5zZWdtZW50XSksYT17fSxvPXQuc2VnbWVudCsxO288ZS5sZW5ndGg7bysrKWFbb109e3g6ZVtvXS54LHk6ZVtvXS55LHRpbGVVbml0RGlzdGFuY2VGcm9tQW5jaG9yOm59LG88ZS5sZW5ndGgtMSYmKG4rPWVbbysxXS5kaXN0KGVbb10pKTtmb3IodmFyIHM9dC5zZWdtZW50fHwwO3M+PTA7cy0tKWFbc109e3g6ZVtzXS54LHk6ZVtzXS55LHRpbGVVbml0RGlzdGFuY2VGcm9tQW5jaG9yOml9LHM+MCYmKGkrPWVbcy0xXS5kaXN0KGVbc10pKTtmb3IodmFyIHU9MDt1PGUubGVuZ3RoO3UrKyl7dmFyIGw9YVt1XTt0aGlzLmxpbmVWZXJ0ZXhBcnJheS5lbXBsYWNlQmFjayhsLngsbC55LGwudGlsZVVuaXREaXN0YW5jZUZyb21BbmNob3IpO319cmV0dXJuIHtsaW5lU3RhcnRJbmRleDpyLGxpbmVMZW5ndGg6dGhpcy5saW5lVmVydGV4QXJyYXkubGVuZ3RoLXJ9fSxjbC5wcm90b3R5cGUuYWRkU3ltYm9scz1mdW5jdGlvbih0LGUscixuLGksYSxvLHMsdSxsLHAsYyl7Zm9yKHZhciBoPXQuaW5kZXhBcnJheSxmPXQubGF5b3V0VmVydGV4QXJyYXkseT10LnNlZ21lbnRzLnByZXBhcmVTZWdtZW50KDQqZS5sZW5ndGgsZixoLGEuc29ydEtleSksZD10aGlzLmdseXBoT2Zmc2V0QXJyYXkubGVuZ3RoLG09eS52ZXJ0ZXhMZW5ndGgsdj10aGlzLmFsbG93VmVydGljYWxQbGFjZW1lbnQmJm89PT1kdS52ZXJ0aWNhbD9NYXRoLlBJLzI6MCxnPWEudGV4dCYmYS50ZXh0LnNlY3Rpb25zLHg9MDt4PGUubGVuZ3RoO3grKyl7dmFyIGI9ZVt4XSx3PWIudGwsXz1iLnRyLEE9Yi5ibCxTPWIuYnIsaz1iLnRleCxJPWIucGl4ZWxPZmZzZXRUTCx6PWIucGl4ZWxPZmZzZXRCUixDPWIubWluRm9udFNjYWxlWCxNPWIubWluRm9udFNjYWxlWSxFPWIuZ2x5cGhPZmZzZXQsVD1iLmlzU0RGLFA9Yi5zZWN0aW9uSW5kZXgsQj15LnZlcnRleExlbmd0aCxWPUVbMV07b2woZixzLngscy55LHcueCxWK3cueSxrLngsay55LHIsVCxJLngsSS55LEMsTSksb2woZixzLngscy55LF8ueCxWK18ueSxrLngray53LGsueSxyLFQsei54LEkueSxDLE0pLG9sKGYscy54LHMueSxBLngsVitBLnksay54LGsueStrLmgscixULEkueCx6LnksQyxNKSxvbChmLHMueCxzLnksUy54LFYrUy55LGsueCtrLncsay55K2suaCxyLFQsei54LHoueSxDLE0pLHNsKHQuZHluYW1pY0xheW91dFZlcnRleEFycmF5LHMsdiksaC5lbXBsYWNlQmFjayhCLEIrMSxCKzIpLGguZW1wbGFjZUJhY2soQisxLEIrMixCKzMpLHkudmVydGV4TGVuZ3RoKz00LHkucHJpbWl0aXZlTGVuZ3RoKz0yLHRoaXMuZ2x5cGhPZmZzZXRBcnJheS5lbXBsYWNlQmFjayhFWzBdKSx4IT09ZS5sZW5ndGgtMSYmUD09PWVbeCsxXS5zZWN0aW9uSW5kZXh8fHQucHJvZ3JhbUNvbmZpZ3VyYXRpb25zLnBvcHVsYXRlUGFpbnRBcnJheXMoZi5sZW5ndGgsYSxhLmluZGV4LHt9LGMsZyYmZ1tQXSk7fXQucGxhY2VkU3ltYm9sQXJyYXkuZW1wbGFjZUJhY2socy54LHMueSxkLHRoaXMuZ2x5cGhPZmZzZXRBcnJheS5sZW5ndGgtZCxtLHUsbCxzLnNlZ21lbnQscj9yWzBdOjAscj9yWzFdOjAsblswXSxuWzFdLG8sMCwhMSwwLHApO30sY2wucHJvdG90eXBlLl9hZGRDb2xsaXNpb25EZWJ1Z1ZlcnRleD1mdW5jdGlvbih0LGUscixuLGksYSl7cmV0dXJuIGUuZW1wbGFjZUJhY2soMCwwKSx0LmVtcGxhY2VCYWNrKHIueCxyLnksbixpLE1hdGgucm91bmQoYS54KSxNYXRoLnJvdW5kKGEueSkpfSxjbC5wcm90b3R5cGUuYWRkQ29sbGlzaW9uRGVidWdWZXJ0aWNlcz1mdW5jdGlvbih0LGUscixuLGEsbyxzKXt2YXIgdT1hLnNlZ21lbnRzLnByZXBhcmVTZWdtZW50KDQsYS5sYXlvdXRWZXJ0ZXhBcnJheSxhLmluZGV4QXJyYXkpLGw9dS52ZXJ0ZXhMZW5ndGgscD1hLmxheW91dFZlcnRleEFycmF5LGM9YS5jb2xsaXNpb25WZXJ0ZXhBcnJheSxoPXMuYW5jaG9yWCxmPXMuYW5jaG9yWTt0aGlzLl9hZGRDb2xsaXNpb25EZWJ1Z1ZlcnRleChwLGMsbyxoLGYsbmV3IGkodCxlKSksdGhpcy5fYWRkQ29sbGlzaW9uRGVidWdWZXJ0ZXgocCxjLG8saCxmLG5ldyBpKHIsZSkpLHRoaXMuX2FkZENvbGxpc2lvbkRlYnVnVmVydGV4KHAsYyxvLGgsZixuZXcgaShyLG4pKSx0aGlzLl9hZGRDb2xsaXNpb25EZWJ1Z1ZlcnRleChwLGMsbyxoLGYsbmV3IGkodCxuKSksdS52ZXJ0ZXhMZW5ndGgrPTQ7dmFyIHk9YS5pbmRleEFycmF5O3kuZW1wbGFjZUJhY2sobCxsKzEpLHkuZW1wbGFjZUJhY2sobCsxLGwrMikseS5lbXBsYWNlQmFjayhsKzIsbCszKSx5LmVtcGxhY2VCYWNrKGwrMyxsKSx1LnByaW1pdGl2ZUxlbmd0aCs9NDt9LGNsLnByb3RvdHlwZS5hZGREZWJ1Z0NvbGxpc2lvbkJveGVzPWZ1bmN0aW9uKHQsZSxyLG4pe2Zvcih2YXIgaT10O2k8ZTtpKyspe3ZhciBhPXRoaXMuY29sbGlzaW9uQm94QXJyYXkuZ2V0KGkpO3RoaXMuYWRkQ29sbGlzaW9uRGVidWdWZXJ0aWNlcyhhLngxLGEueTEsYS54MixhLnkyLG4/dGhpcy50ZXh0Q29sbGlzaW9uQm94OnRoaXMuaWNvbkNvbGxpc2lvbkJveCxhLmFuY2hvclBvaW50LHIpO319LGNsLnByb3RvdHlwZS5nZW5lcmF0ZUNvbGxpc2lvbkRlYnVnQnVmZmVycz1mdW5jdGlvbigpe3RoaXMuaGFzRGVidWdEYXRhKCkmJnRoaXMuZGVzdHJveURlYnVnRGF0YSgpLHRoaXMudGV4dENvbGxpc2lvbkJveD1uZXcgcGwoVmksUnMubWVtYmVycyxOaSksdGhpcy5pY29uQ29sbGlzaW9uQm94PW5ldyBwbChWaSxScy5tZW1iZXJzLE5pKTtmb3IodmFyIHQ9MDt0PHRoaXMuc3ltYm9sSW5zdGFuY2VzLmxlbmd0aDt0Kyspe3ZhciBlPXRoaXMuc3ltYm9sSW5zdGFuY2VzLmdldCh0KTt0aGlzLmFkZERlYnVnQ29sbGlzaW9uQm94ZXMoZS50ZXh0Qm94U3RhcnRJbmRleCxlLnRleHRCb3hFbmRJbmRleCxlLCEwKSx0aGlzLmFkZERlYnVnQ29sbGlzaW9uQm94ZXMoZS52ZXJ0aWNhbFRleHRCb3hTdGFydEluZGV4LGUudmVydGljYWxUZXh0Qm94RW5kSW5kZXgsZSwhMCksdGhpcy5hZGREZWJ1Z0NvbGxpc2lvbkJveGVzKGUuaWNvbkJveFN0YXJ0SW5kZXgsZS5pY29uQm94RW5kSW5kZXgsZSwhMSksdGhpcy5hZGREZWJ1Z0NvbGxpc2lvbkJveGVzKGUudmVydGljYWxJY29uQm94U3RhcnRJbmRleCxlLnZlcnRpY2FsSWNvbkJveEVuZEluZGV4LGUsITEpO319LGNsLnByb3RvdHlwZS5fZGVzZXJpYWxpemVDb2xsaXNpb25Cb3hlc0ZvclN5bWJvbD1mdW5jdGlvbih0LGUscixuLGksYSxvLHMsdSl7Zm9yKHZhciBsPXt9LHA9ZTtwPHI7cCsrKXt2YXIgYz10LmdldChwKTtsLnRleHRCb3g9e3gxOmMueDEseTE6Yy55MSx4MjpjLngyLHkyOmMueTIsYW5jaG9yUG9pbnRYOmMuYW5jaG9yUG9pbnRYLGFuY2hvclBvaW50WTpjLmFuY2hvclBvaW50WX0sbC50ZXh0RmVhdHVyZUluZGV4PWMuZmVhdHVyZUluZGV4O2JyZWFrfWZvcih2YXIgaD1uO2g8aTtoKyspe3ZhciBmPXQuZ2V0KGgpO2wudmVydGljYWxUZXh0Qm94PXt4MTpmLngxLHkxOmYueTEseDI6Zi54Mix5MjpmLnkyLGFuY2hvclBvaW50WDpmLmFuY2hvclBvaW50WCxhbmNob3JQb2ludFk6Zi5hbmNob3JQb2ludFl9LGwudmVydGljYWxUZXh0RmVhdHVyZUluZGV4PWYuZmVhdHVyZUluZGV4O2JyZWFrfWZvcih2YXIgeT1hO3k8bzt5Kyspe3ZhciBkPXQuZ2V0KHkpO2wuaWNvbkJveD17eDE6ZC54MSx5MTpkLnkxLHgyOmQueDIseTI6ZC55MixhbmNob3JQb2ludFg6ZC5hbmNob3JQb2ludFgsYW5jaG9yUG9pbnRZOmQuYW5jaG9yUG9pbnRZfSxsLmljb25GZWF0dXJlSW5kZXg9ZC5mZWF0dXJlSW5kZXg7YnJlYWt9Zm9yKHZhciBtPXM7bTx1O20rKyl7dmFyIHY9dC5nZXQobSk7bC52ZXJ0aWNhbEljb25Cb3g9e3gxOnYueDEseTE6di55MSx4Mjp2LngyLHkyOnYueTIsYW5jaG9yUG9pbnRYOnYuYW5jaG9yUG9pbnRYLGFuY2hvclBvaW50WTp2LmFuY2hvclBvaW50WX0sbC52ZXJ0aWNhbEljb25GZWF0dXJlSW5kZXg9di5mZWF0dXJlSW5kZXg7YnJlYWt9cmV0dXJuIGx9LGNsLnByb3RvdHlwZS5kZXNlcmlhbGl6ZUNvbGxpc2lvbkJveGVzPWZ1bmN0aW9uKHQpe3RoaXMuY29sbGlzaW9uQXJyYXlzPVtdO2Zvcih2YXIgZT0wO2U8dGhpcy5zeW1ib2xJbnN0YW5jZXMubGVuZ3RoO2UrKyl7dmFyIHI9dGhpcy5zeW1ib2xJbnN0YW5jZXMuZ2V0KGUpO3RoaXMuY29sbGlzaW9uQXJyYXlzLnB1c2godGhpcy5fZGVzZXJpYWxpemVDb2xsaXNpb25Cb3hlc0ZvclN5bWJvbCh0LHIudGV4dEJveFN0YXJ0SW5kZXgsci50ZXh0Qm94RW5kSW5kZXgsci52ZXJ0aWNhbFRleHRCb3hTdGFydEluZGV4LHIudmVydGljYWxUZXh0Qm94RW5kSW5kZXgsci5pY29uQm94U3RhcnRJbmRleCxyLmljb25Cb3hFbmRJbmRleCxyLnZlcnRpY2FsSWNvbkJveFN0YXJ0SW5kZXgsci52ZXJ0aWNhbEljb25Cb3hFbmRJbmRleCkpO319LGNsLnByb3RvdHlwZS5oYXNUZXh0RGF0YT1mdW5jdGlvbigpe3JldHVybiB0aGlzLnRleHQuc2VnbWVudHMuZ2V0KCkubGVuZ3RoPjB9LGNsLnByb3RvdHlwZS5oYXNJY29uRGF0YT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmljb24uc2VnbWVudHMuZ2V0KCkubGVuZ3RoPjB9LGNsLnByb3RvdHlwZS5oYXNEZWJ1Z0RhdGE9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50ZXh0Q29sbGlzaW9uQm94JiZ0aGlzLmljb25Db2xsaXNpb25Cb3h9LGNsLnByb3RvdHlwZS5oYXNUZXh0Q29sbGlzaW9uQm94RGF0YT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmhhc0RlYnVnRGF0YSgpJiZ0aGlzLnRleHRDb2xsaXNpb25Cb3guc2VnbWVudHMuZ2V0KCkubGVuZ3RoPjB9LGNsLnByb3RvdHlwZS5oYXNJY29uQ29sbGlzaW9uQm94RGF0YT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmhhc0RlYnVnRGF0YSgpJiZ0aGlzLmljb25Db2xsaXNpb25Cb3guc2VnbWVudHMuZ2V0KCkubGVuZ3RoPjB9LGNsLnByb3RvdHlwZS5hZGRJbmRpY2VzRm9yUGxhY2VkU3ltYm9sPWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciByPXQucGxhY2VkU3ltYm9sQXJyYXkuZ2V0KGUpLG49ci52ZXJ0ZXhTdGFydEluZGV4KzQqci5udW1HbHlwaHMsaT1yLnZlcnRleFN0YXJ0SW5kZXg7aTxuO2krPTQpdC5pbmRleEFycmF5LmVtcGxhY2VCYWNrKGksaSsxLGkrMiksdC5pbmRleEFycmF5LmVtcGxhY2VCYWNrKGkrMSxpKzIsaSszKTt9LGNsLnByb3RvdHlwZS5nZXRTb3J0ZWRTeW1ib2xJbmRleGVzPWZ1bmN0aW9uKHQpe2lmKHRoaXMuc29ydGVkQW5nbGU9PT10JiZ2b2lkIDAhPT10aGlzLnN5bWJvbEluc3RhbmNlSW5kZXhlcylyZXR1cm4gdGhpcy5zeW1ib2xJbnN0YW5jZUluZGV4ZXM7Zm9yKHZhciBlPU1hdGguc2luKHQpLHI9TWF0aC5jb3ModCksbj1bXSxpPVtdLGE9W10sbz0wO288dGhpcy5zeW1ib2xJbnN0YW5jZXMubGVuZ3RoOysrbyl7YS5wdXNoKG8pO3ZhciBzPXRoaXMuc3ltYm9sSW5zdGFuY2VzLmdldChvKTtuLnB1c2goMHxNYXRoLnJvdW5kKGUqcy5hbmNob3JYK3Iqcy5hbmNob3JZKSksaS5wdXNoKHMuZmVhdHVyZUluZGV4KTt9cmV0dXJuIGEuc29ydCgoZnVuY3Rpb24odCxlKXtyZXR1cm4gblt0XS1uW2VdfHxpW2VdLWlbdF19KSksYX0sY2wucHJvdG90eXBlLmFkZFRvU29ydEtleVJhbmdlcz1mdW5jdGlvbih0LGUpe3ZhciByPXRoaXMuc29ydEtleVJhbmdlc1t0aGlzLnNvcnRLZXlSYW5nZXMubGVuZ3RoLTFdO3ImJnIuc29ydEtleT09PWU/ci5zeW1ib2xJbnN0YW5jZUVuZD10KzE6dGhpcy5zb3J0S2V5UmFuZ2VzLnB1c2goe3NvcnRLZXk6ZSxzeW1ib2xJbnN0YW5jZVN0YXJ0OnQsc3ltYm9sSW5zdGFuY2VFbmQ6dCsxfSk7fSxjbC5wcm90b3R5cGUuc29ydEZlYXR1cmVzPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7aWYodGhpcy5zb3J0RmVhdHVyZXNCeVkmJnRoaXMuc29ydGVkQW5nbGUhPT10JiYhKHRoaXMudGV4dC5zZWdtZW50cy5nZXQoKS5sZW5ndGg+MXx8dGhpcy5pY29uLnNlZ21lbnRzLmdldCgpLmxlbmd0aD4xKSl7dGhpcy5zeW1ib2xJbnN0YW5jZUluZGV4ZXM9dGhpcy5nZXRTb3J0ZWRTeW1ib2xJbmRleGVzKHQpLHRoaXMuc29ydGVkQW5nbGU9dCx0aGlzLnRleHQuaW5kZXhBcnJheS5jbGVhcigpLHRoaXMuaWNvbi5pbmRleEFycmF5LmNsZWFyKCksdGhpcy5mZWF0dXJlU29ydE9yZGVyPVtdO2Zvcih2YXIgcj0wLG49dGhpcy5zeW1ib2xJbnN0YW5jZUluZGV4ZXM7cjxuLmxlbmd0aDtyKz0xKXt2YXIgaT10aGlzLnN5bWJvbEluc3RhbmNlcy5nZXQobltyXSk7dGhpcy5mZWF0dXJlU29ydE9yZGVyLnB1c2goaS5mZWF0dXJlSW5kZXgpLFtpLnJpZ2h0SnVzdGlmaWVkVGV4dFN5bWJvbEluZGV4LGkuY2VudGVySnVzdGlmaWVkVGV4dFN5bWJvbEluZGV4LGkubGVmdEp1c3RpZmllZFRleHRTeW1ib2xJbmRleF0uZm9yRWFjaCgoZnVuY3Rpb24odCxyLG4pe3Q+PTAmJm4uaW5kZXhPZih0KT09PXImJmUuYWRkSW5kaWNlc0ZvclBsYWNlZFN5bWJvbChlLnRleHQsdCk7fSkpLGkudmVydGljYWxQbGFjZWRUZXh0U3ltYm9sSW5kZXg+PTAmJnRoaXMuYWRkSW5kaWNlc0ZvclBsYWNlZFN5bWJvbCh0aGlzLnRleHQsaS52ZXJ0aWNhbFBsYWNlZFRleHRTeW1ib2xJbmRleCksaS5wbGFjZWRJY29uU3ltYm9sSW5kZXg+PTAmJnRoaXMuYWRkSW5kaWNlc0ZvclBsYWNlZFN5bWJvbCh0aGlzLmljb24saS5wbGFjZWRJY29uU3ltYm9sSW5kZXgpLGkudmVydGljYWxQbGFjZWRJY29uU3ltYm9sSW5kZXg+PTAmJnRoaXMuYWRkSW5kaWNlc0ZvclBsYWNlZFN5bWJvbCh0aGlzLmljb24saS52ZXJ0aWNhbFBsYWNlZEljb25TeW1ib2xJbmRleCk7fXRoaXMudGV4dC5pbmRleEJ1ZmZlciYmdGhpcy50ZXh0LmluZGV4QnVmZmVyLnVwZGF0ZURhdGEodGhpcy50ZXh0LmluZGV4QXJyYXkpLHRoaXMuaWNvbi5pbmRleEJ1ZmZlciYmdGhpcy5pY29uLmluZGV4QnVmZmVyLnVwZGF0ZURhdGEodGhpcy5pY29uLmluZGV4QXJyYXkpO319LEZuKCJTeW1ib2xCdWNrZXQiLGNsLHtvbWl0OlsibGF5ZXJzIiwiY29sbGlzaW9uQm94QXJyYXkiLCJmZWF0dXJlcyIsImNvbXBhcmVUZXh0Il19KSxjbC5NQVhfR0xZUEhTPTY1NTM1LGNsLmFkZER5bmFtaWNBdHRyaWJ1dGVzPXNsO3ZhciBobD1uZXcgZ2koeyJzeW1ib2wtcGxhY2VtZW50IjpuZXcgZmkoSXQubGF5b3V0X3N5bWJvbFsic3ltYm9sLXBsYWNlbWVudCJdKSwic3ltYm9sLXNwYWNpbmciOm5ldyBmaShJdC5sYXlvdXRfc3ltYm9sWyJzeW1ib2wtc3BhY2luZyJdKSwic3ltYm9sLWF2b2lkLWVkZ2VzIjpuZXcgZmkoSXQubGF5b3V0X3N5bWJvbFsic3ltYm9sLWF2b2lkLWVkZ2VzIl0pLCJzeW1ib2wtc29ydC1rZXkiOm5ldyB5aShJdC5sYXlvdXRfc3ltYm9sWyJzeW1ib2wtc29ydC1rZXkiXSksInN5bWJvbC16LW9yZGVyIjpuZXcgZmkoSXQubGF5b3V0X3N5bWJvbFsic3ltYm9sLXotb3JkZXIiXSksImljb24tYWxsb3ctb3ZlcmxhcCI6bmV3IGZpKEl0LmxheW91dF9zeW1ib2xbImljb24tYWxsb3ctb3ZlcmxhcCJdKSwiaWNvbi1pZ25vcmUtcGxhY2VtZW50IjpuZXcgZmkoSXQubGF5b3V0X3N5bWJvbFsiaWNvbi1pZ25vcmUtcGxhY2VtZW50Il0pLCJpY29uLW9wdGlvbmFsIjpuZXcgZmkoSXQubGF5b3V0X3N5bWJvbFsiaWNvbi1vcHRpb25hbCJdKSwiaWNvbi1yb3RhdGlvbi1hbGlnbm1lbnQiOm5ldyBmaShJdC5sYXlvdXRfc3ltYm9sWyJpY29uLXJvdGF0aW9uLWFsaWdubWVudCJdKSwiaWNvbi1zaXplIjpuZXcgeWkoSXQubGF5b3V0X3N5bWJvbFsiaWNvbi1zaXplIl0pLCJpY29uLXRleHQtZml0IjpuZXcgZmkoSXQubGF5b3V0X3N5bWJvbFsiaWNvbi10ZXh0LWZpdCJdKSwiaWNvbi10ZXh0LWZpdC1wYWRkaW5nIjpuZXcgZmkoSXQubGF5b3V0X3N5bWJvbFsiaWNvbi10ZXh0LWZpdC1wYWRkaW5nIl0pLCJpY29uLWltYWdlIjpuZXcgeWkoSXQubGF5b3V0X3N5bWJvbFsiaWNvbi1pbWFnZSJdKSwiaWNvbi1yb3RhdGUiOm5ldyB5aShJdC5sYXlvdXRfc3ltYm9sWyJpY29uLXJvdGF0ZSJdKSwiaWNvbi1wYWRkaW5nIjpuZXcgZmkoSXQubGF5b3V0X3N5bWJvbFsiaWNvbi1wYWRkaW5nIl0pLCJpY29uLWtlZXAtdXByaWdodCI6bmV3IGZpKEl0LmxheW91dF9zeW1ib2xbImljb24ta2VlcC11cHJpZ2h0Il0pLCJpY29uLW9mZnNldCI6bmV3IHlpKEl0LmxheW91dF9zeW1ib2xbImljb24tb2Zmc2V0Il0pLCJpY29uLWFuY2hvciI6bmV3IHlpKEl0LmxheW91dF9zeW1ib2xbImljb24tYW5jaG9yIl0pLCJpY29uLXBpdGNoLWFsaWdubWVudCI6bmV3IGZpKEl0LmxheW91dF9zeW1ib2xbImljb24tcGl0Y2gtYWxpZ25tZW50Il0pLCJ0ZXh0LXBpdGNoLWFsaWdubWVudCI6bmV3IGZpKEl0LmxheW91dF9zeW1ib2xbInRleHQtcGl0Y2gtYWxpZ25tZW50Il0pLCJ0ZXh0LXJvdGF0aW9uLWFsaWdubWVudCI6bmV3IGZpKEl0LmxheW91dF9zeW1ib2xbInRleHQtcm90YXRpb24tYWxpZ25tZW50Il0pLCJ0ZXh0LWZpZWxkIjpuZXcgeWkoSXQubGF5b3V0X3N5bWJvbFsidGV4dC1maWVsZCJdKSwidGV4dC1mb250IjpuZXcgeWkoSXQubGF5b3V0X3N5bWJvbFsidGV4dC1mb250Il0pLCJ0ZXh0LXNpemUiOm5ldyB5aShJdC5sYXlvdXRfc3ltYm9sWyJ0ZXh0LXNpemUiXSksInRleHQtbWF4LXdpZHRoIjpuZXcgeWkoSXQubGF5b3V0X3N5bWJvbFsidGV4dC1tYXgtd2lkdGgiXSksInRleHQtbGluZS1oZWlnaHQiOm5ldyBmaShJdC5sYXlvdXRfc3ltYm9sWyJ0ZXh0LWxpbmUtaGVpZ2h0Il0pLCJ0ZXh0LWxldHRlci1zcGFjaW5nIjpuZXcgeWkoSXQubGF5b3V0X3N5bWJvbFsidGV4dC1sZXR0ZXItc3BhY2luZyJdKSwidGV4dC1qdXN0aWZ5IjpuZXcgeWkoSXQubGF5b3V0X3N5bWJvbFsidGV4dC1qdXN0aWZ5Il0pLCJ0ZXh0LXJhZGlhbC1vZmZzZXQiOm5ldyB5aShJdC5sYXlvdXRfc3ltYm9sWyJ0ZXh0LXJhZGlhbC1vZmZzZXQiXSksInRleHQtdmFyaWFibGUtYW5jaG9yIjpuZXcgZmkoSXQubGF5b3V0X3N5bWJvbFsidGV4dC12YXJpYWJsZS1hbmNob3IiXSksInRleHQtYW5jaG9yIjpuZXcgeWkoSXQubGF5b3V0X3N5bWJvbFsidGV4dC1hbmNob3IiXSksInRleHQtbWF4LWFuZ2xlIjpuZXcgZmkoSXQubGF5b3V0X3N5bWJvbFsidGV4dC1tYXgtYW5nbGUiXSksInRleHQtd3JpdGluZy1tb2RlIjpuZXcgZmkoSXQubGF5b3V0X3N5bWJvbFsidGV4dC13cml0aW5nLW1vZGUiXSksInRleHQtcm90YXRlIjpuZXcgeWkoSXQubGF5b3V0X3N5bWJvbFsidGV4dC1yb3RhdGUiXSksInRleHQtcGFkZGluZyI6bmV3IGZpKEl0LmxheW91dF9zeW1ib2xbInRleHQtcGFkZGluZyJdKSwidGV4dC1rZWVwLXVwcmlnaHQiOm5ldyBmaShJdC5sYXlvdXRfc3ltYm9sWyJ0ZXh0LWtlZXAtdXByaWdodCJdKSwidGV4dC10cmFuc2Zvcm0iOm5ldyB5aShJdC5sYXlvdXRfc3ltYm9sWyJ0ZXh0LXRyYW5zZm9ybSJdKSwidGV4dC1vZmZzZXQiOm5ldyB5aShJdC5sYXlvdXRfc3ltYm9sWyJ0ZXh0LW9mZnNldCJdKSwidGV4dC1hbGxvdy1vdmVybGFwIjpuZXcgZmkoSXQubGF5b3V0X3N5bWJvbFsidGV4dC1hbGxvdy1vdmVybGFwIl0pLCJ0ZXh0LWlnbm9yZS1wbGFjZW1lbnQiOm5ldyBmaShJdC5sYXlvdXRfc3ltYm9sWyJ0ZXh0LWlnbm9yZS1wbGFjZW1lbnQiXSksInRleHQtb3B0aW9uYWwiOm5ldyBmaShJdC5sYXlvdXRfc3ltYm9sWyJ0ZXh0LW9wdGlvbmFsIl0pfSksZmw9e3BhaW50Om5ldyBnaSh7Imljb24tb3BhY2l0eSI6bmV3IHlpKEl0LnBhaW50X3N5bWJvbFsiaWNvbi1vcGFjaXR5Il0pLCJpY29uLWNvbG9yIjpuZXcgeWkoSXQucGFpbnRfc3ltYm9sWyJpY29uLWNvbG9yIl0pLCJpY29uLWhhbG8tY29sb3IiOm5ldyB5aShJdC5wYWludF9zeW1ib2xbImljb24taGFsby1jb2xvciJdKSwiaWNvbi1oYWxvLXdpZHRoIjpuZXcgeWkoSXQucGFpbnRfc3ltYm9sWyJpY29uLWhhbG8td2lkdGgiXSksImljb24taGFsby1ibHVyIjpuZXcgeWkoSXQucGFpbnRfc3ltYm9sWyJpY29uLWhhbG8tYmx1ciJdKSwiaWNvbi10cmFuc2xhdGUiOm5ldyBmaShJdC5wYWludF9zeW1ib2xbImljb24tdHJhbnNsYXRlIl0pLCJpY29uLXRyYW5zbGF0ZS1hbmNob3IiOm5ldyBmaShJdC5wYWludF9zeW1ib2xbImljb24tdHJhbnNsYXRlLWFuY2hvciJdKSwidGV4dC1vcGFjaXR5IjpuZXcgeWkoSXQucGFpbnRfc3ltYm9sWyJ0ZXh0LW9wYWNpdHkiXSksInRleHQtY29sb3IiOm5ldyB5aShJdC5wYWludF9zeW1ib2xbInRleHQtY29sb3IiXSx7cnVudGltZVR5cGU6UnQsZ2V0T3ZlcnJpZGU6ZnVuY3Rpb24odCl7cmV0dXJuIHQudGV4dENvbG9yfSxoYXNPdmVycmlkZTpmdW5jdGlvbih0KXtyZXR1cm4gISF0LnRleHRDb2xvcn19KSwidGV4dC1oYWxvLWNvbG9yIjpuZXcgeWkoSXQucGFpbnRfc3ltYm9sWyJ0ZXh0LWhhbG8tY29sb3IiXSksInRleHQtaGFsby13aWR0aCI6bmV3IHlpKEl0LnBhaW50X3N5bWJvbFsidGV4dC1oYWxvLXdpZHRoIl0pLCJ0ZXh0LWhhbG8tYmx1ciI6bmV3IHlpKEl0LnBhaW50X3N5bWJvbFsidGV4dC1oYWxvLWJsdXIiXSksInRleHQtdHJhbnNsYXRlIjpuZXcgZmkoSXQucGFpbnRfc3ltYm9sWyJ0ZXh0LXRyYW5zbGF0ZSJdKSwidGV4dC10cmFuc2xhdGUtYW5jaG9yIjpuZXcgZmkoSXQucGFpbnRfc3ltYm9sWyJ0ZXh0LXRyYW5zbGF0ZS1hbmNob3IiXSl9KSxsYXlvdXQ6aGx9LHlsPWZ1bmN0aW9uKHQpe3RoaXMudHlwZT10LnByb3BlcnR5Lm92ZXJyaWRlcz90LnByb3BlcnR5Lm92ZXJyaWRlcy5ydW50aW1lVHlwZTpWdCx0aGlzLmRlZmF1bHRWYWx1ZT10O307eWwucHJvdG90eXBlLmV2YWx1YXRlPWZ1bmN0aW9uKHQpe2lmKHQuZm9ybWF0dGVkU2VjdGlvbil7dmFyIGU9dGhpcy5kZWZhdWx0VmFsdWUucHJvcGVydHkub3ZlcnJpZGVzO2lmKGUmJmUuaGFzT3ZlcnJpZGUodC5mb3JtYXR0ZWRTZWN0aW9uKSlyZXR1cm4gZS5nZXRPdmVycmlkZSh0LmZvcm1hdHRlZFNlY3Rpb24pfXJldHVybiB0LmZlYXR1cmUmJnQuZmVhdHVyZVN0YXRlP3RoaXMuZGVmYXVsdFZhbHVlLmV2YWx1YXRlKHQuZmVhdHVyZSx0LmZlYXR1cmVTdGF0ZSk6dGhpcy5kZWZhdWx0VmFsdWUucHJvcGVydHkuc3BlY2lmaWNhdGlvbi5kZWZhdWx0fSx5bC5wcm90b3R5cGUuZWFjaENoaWxkPWZ1bmN0aW9uKHQpe3RoaXMuZGVmYXVsdFZhbHVlLmlzQ29uc3RhbnQoKXx8dCh0aGlzLmRlZmF1bHRWYWx1ZS52YWx1ZS5fc3R5bGVFeHByZXNzaW9uLmV4cHJlc3Npb24pO30seWwucHJvdG90eXBlLm91dHB1dERlZmluZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gITF9LHlsLnByb3RvdHlwZS5zZXJpYWxpemU9ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbH0sRm4oIkZvcm1hdFNlY3Rpb25PdmVycmlkZSIseWwse29taXQ6WyJkZWZhdWx0VmFsdWUiXX0pO3ZhciBkbD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUpe3QuY2FsbCh0aGlzLGUsZmwpO31yZXR1cm4gdCYmKGUuX19wcm90b19fPXQpLChlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlKSkuY29uc3RydWN0b3I9ZSxlLnByb3RvdHlwZS5yZWNhbGN1bGF0ZT1mdW5jdGlvbihlLHIpe2lmKHQucHJvdG90eXBlLnJlY2FsY3VsYXRlLmNhbGwodGhpcyxlLHIpLCJhdXRvIj09PXRoaXMubGF5b3V0LmdldCgiaWNvbi1yb3RhdGlvbi1hbGlnbm1lbnQiKSYmKHRoaXMubGF5b3V0Ll92YWx1ZXNbImljb24tcm90YXRpb24tYWxpZ25tZW50Il09InBvaW50IiE9PXRoaXMubGF5b3V0LmdldCgic3ltYm9sLXBsYWNlbWVudCIpPyJtYXAiOiJ2aWV3cG9ydCIpLCJhdXRvIj09PXRoaXMubGF5b3V0LmdldCgidGV4dC1yb3RhdGlvbi1hbGlnbm1lbnQiKSYmKHRoaXMubGF5b3V0Ll92YWx1ZXNbInRleHQtcm90YXRpb24tYWxpZ25tZW50Il09InBvaW50IiE9PXRoaXMubGF5b3V0LmdldCgic3ltYm9sLXBsYWNlbWVudCIpPyJtYXAiOiJ2aWV3cG9ydCIpLCJhdXRvIj09PXRoaXMubGF5b3V0LmdldCgidGV4dC1waXRjaC1hbGlnbm1lbnQiKSYmKHRoaXMubGF5b3V0Ll92YWx1ZXNbInRleHQtcGl0Y2gtYWxpZ25tZW50Il09dGhpcy5sYXlvdXQuZ2V0KCJ0ZXh0LXJvdGF0aW9uLWFsaWdubWVudCIpKSwiYXV0byI9PT10aGlzLmxheW91dC5nZXQoImljb24tcGl0Y2gtYWxpZ25tZW50IikmJih0aGlzLmxheW91dC5fdmFsdWVzWyJpY29uLXBpdGNoLWFsaWdubWVudCJdPXRoaXMubGF5b3V0LmdldCgiaWNvbi1yb3RhdGlvbi1hbGlnbm1lbnQiKSksInBvaW50Ij09PXRoaXMubGF5b3V0LmdldCgic3ltYm9sLXBsYWNlbWVudCIpKXt2YXIgbj10aGlzLmxheW91dC5nZXQoInRleHQtd3JpdGluZy1tb2RlIik7aWYobil7Zm9yKHZhciBpPVtdLGE9MCxvPW47YTxvLmxlbmd0aDthKz0xKXt2YXIgcz1vW2FdO2kuaW5kZXhPZihzKTwwJiZpLnB1c2gocyk7fXRoaXMubGF5b3V0Ll92YWx1ZXNbInRleHQtd3JpdGluZy1tb2RlIl09aTt9ZWxzZSB0aGlzLmxheW91dC5fdmFsdWVzWyJ0ZXh0LXdyaXRpbmctbW9kZSJdPVsiaG9yaXpvbnRhbCJdO310aGlzLl9zZXRQYWludE92ZXJyaWRlcygpO30sZS5wcm90b3R5cGUuZ2V0VmFsdWVBbmRSZXNvbHZlVG9rZW5zPWZ1bmN0aW9uKHQsZSxyLG4pe3ZhciBpPXRoaXMubGF5b3V0LmdldCh0KS5ldmFsdWF0ZShlLHt9LHIsbiksYT10aGlzLl91bmV2YWx1YXRlZExheW91dC5fdmFsdWVzW3RdO3JldHVybiBhLmlzRGF0YURyaXZlbigpfHxxcihhLnZhbHVlKXx8IWk/aTpmdW5jdGlvbih0LGUpe3JldHVybiBlLnJlcGxhY2UoL3soW157fV0rKX0vZywoZnVuY3Rpb24oZSxyKXtyZXR1cm4gciBpbiB0P1N0cmluZyh0W3JdKToiIn0pKX0oZS5wcm9wZXJ0aWVzLGkpfSxlLnByb3RvdHlwZS5jcmVhdGVCdWNrZXQ9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBjbCh0KX0sZS5wcm90b3R5cGUucXVlcnlSYWRpdXM9ZnVuY3Rpb24oKXtyZXR1cm4gMH0sZS5wcm90b3R5cGUucXVlcnlJbnRlcnNlY3RzRmVhdHVyZT1mdW5jdGlvbigpe3JldHVybiAhMX0sZS5wcm90b3R5cGUuX3NldFBhaW50T3ZlcnJpZGVzPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PTAscj1mbC5wYWludC5vdmVycmlkYWJsZVByb3BlcnRpZXM7dDxyLmxlbmd0aDt0Kz0xKXt2YXIgbj1yW3RdO2lmKGUuaGFzUGFpbnRPdmVycmlkZSh0aGlzLmxheW91dCxuKSl7dmFyIGksYT10aGlzLnBhaW50LmdldChuKSxvPW5ldyB5bChhKSxzPW5ldyBqcihvLGEucHJvcGVydHkuc3BlY2lmaWNhdGlvbik7aT0iY29uc3RhbnQiPT09YS52YWx1ZS5raW5kfHwic291cmNlIj09PWEudmFsdWUua2luZD9uZXcgS3IoInNvdXJjZSIscyk6bmV3IEdyKCJjb21wb3NpdGUiLHMsYS52YWx1ZS56b29tU3RvcHMsYS52YWx1ZS5faW50ZXJwb2xhdGlvblR5cGUpLHRoaXMucGFpbnQuX3ZhbHVlc1tuXT1uZXcgY2koYS5wcm9wZXJ0eSxpLGEucGFyYW1ldGVycyk7fX19LGUucHJvdG90eXBlLl9oYW5kbGVPdmVycmlkYWJsZVBhaW50UHJvcGVydHlVcGRhdGU9ZnVuY3Rpb24odCxyLG4pe3JldHVybiAhKCF0aGlzLmxheW91dHx8ci5pc0RhdGFEcml2ZW4oKXx8bi5pc0RhdGFEcml2ZW4oKSkmJmUuaGFzUGFpbnRPdmVycmlkZSh0aGlzLmxheW91dCx0KX0sZS5oYXNQYWludE92ZXJyaWRlPWZ1bmN0aW9uKHQsZSl7dmFyIHI9dC5nZXQoInRleHQtZmllbGQiKSxuPWZsLnBhaW50LnByb3BlcnRpZXNbZV0saT0hMSxhPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0wLHI9dDtlPHIubGVuZ3RoO2UrPTEpaWYobi5vdmVycmlkZXMmJm4ub3ZlcnJpZGVzLmhhc092ZXJyaWRlKHJbZV0pKXJldHVybiB2b2lkKGk9ITApfTtpZigiY29uc3RhbnQiPT09ci52YWx1ZS5raW5kJiZyLnZhbHVlLnZhbHVlIGluc3RhbmNlb2YgdGUpYShyLnZhbHVlLnZhbHVlLnNlY3Rpb25zKTtlbHNlIGlmKCJzb3VyY2UiPT09ci52YWx1ZS5raW5kKXt2YXIgbz1mdW5jdGlvbih0KXtpfHwodCBpbnN0YW5jZW9mIG9lJiZpZSh0LnZhbHVlKT09PXF0P2EodC52YWx1ZS5zZWN0aW9ucyk6dCBpbnN0YW5jZW9mIHBlP2EodC5zZWN0aW9ucyk6dC5lYWNoQ2hpbGQobykpO30scz1yLnZhbHVlO3MuX3N0eWxlRXhwcmVzc2lvbiYmbyhzLl9zdHlsZUV4cHJlc3Npb24uZXhwcmVzc2lvbik7fXJldHVybiBpfSxlfSh4aSksbWw9e3BhaW50Om5ldyBnaSh7ImJhY2tncm91bmQtY29sb3IiOm5ldyBmaShJdC5wYWludF9iYWNrZ3JvdW5kWyJiYWNrZ3JvdW5kLWNvbG9yIl0pLCJiYWNrZ3JvdW5kLXBhdHRlcm4iOm5ldyBtaShJdC5wYWludF9iYWNrZ3JvdW5kWyJiYWNrZ3JvdW5kLXBhdHRlcm4iXSksImJhY2tncm91bmQtb3BhY2l0eSI6bmV3IGZpKEl0LnBhaW50X2JhY2tncm91bmRbImJhY2tncm91bmQtb3BhY2l0eSJdKX0pfSx2bD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUpe3QuY2FsbCh0aGlzLGUsbWwpO31yZXR1cm4gdCYmKGUuX19wcm90b19fPXQpLChlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlKSkuY29uc3RydWN0b3I9ZSxlfSh4aSksZ2w9e3BhaW50Om5ldyBnaSh7InJhc3Rlci1vcGFjaXR5IjpuZXcgZmkoSXQucGFpbnRfcmFzdGVyWyJyYXN0ZXItb3BhY2l0eSJdKSwicmFzdGVyLWh1ZS1yb3RhdGUiOm5ldyBmaShJdC5wYWludF9yYXN0ZXJbInJhc3Rlci1odWUtcm90YXRlIl0pLCJyYXN0ZXItYnJpZ2h0bmVzcy1taW4iOm5ldyBmaShJdC5wYWludF9yYXN0ZXJbInJhc3Rlci1icmlnaHRuZXNzLW1pbiJdKSwicmFzdGVyLWJyaWdodG5lc3MtbWF4IjpuZXcgZmkoSXQucGFpbnRfcmFzdGVyWyJyYXN0ZXItYnJpZ2h0bmVzcy1tYXgiXSksInJhc3Rlci1zYXR1cmF0aW9uIjpuZXcgZmkoSXQucGFpbnRfcmFzdGVyWyJyYXN0ZXItc2F0dXJhdGlvbiJdKSwicmFzdGVyLWNvbnRyYXN0IjpuZXcgZmkoSXQucGFpbnRfcmFzdGVyWyJyYXN0ZXItY29udHJhc3QiXSksInJhc3Rlci1yZXNhbXBsaW5nIjpuZXcgZmkoSXQucGFpbnRfcmFzdGVyWyJyYXN0ZXItcmVzYW1wbGluZyJdKSwicmFzdGVyLWZhZGUtZHVyYXRpb24iOm5ldyBmaShJdC5wYWludF9yYXN0ZXJbInJhc3Rlci1mYWRlLWR1cmF0aW9uIl0pfSl9LHhsPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSl7dC5jYWxsKHRoaXMsZSxnbCk7fXJldHVybiB0JiYoZS5fX3Byb3RvX189dCksKGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUpKS5jb25zdHJ1Y3Rvcj1lLGV9KHhpKSxibD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUpe3QuY2FsbCh0aGlzLGUse30pLHRoaXMuaW1wbGVtZW50YXRpb249ZTt9cmV0dXJuIHQmJihlLl9fcHJvdG9fXz10KSwoZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSkpLmNvbnN0cnVjdG9yPWUsZS5wcm90b3R5cGUuaXMzRD1mdW5jdGlvbigpe3JldHVybiAiM2QiPT09dGhpcy5pbXBsZW1lbnRhdGlvbi5yZW5kZXJpbmdNb2RlfSxlLnByb3RvdHlwZS5oYXNPZmZzY3JlZW5QYXNzPWZ1bmN0aW9uKCl7cmV0dXJuIHZvaWQgMCE9PXRoaXMuaW1wbGVtZW50YXRpb24ucHJlcmVuZGVyfSxlLnByb3RvdHlwZS5yZWNhbGN1bGF0ZT1mdW5jdGlvbigpe30sZS5wcm90b3R5cGUudXBkYXRlVHJhbnNpdGlvbnM9ZnVuY3Rpb24oKXt9LGUucHJvdG90eXBlLmhhc1RyYW5zaXRpb249ZnVuY3Rpb24oKXt9LGUucHJvdG90eXBlLnNlcmlhbGl6ZT1mdW5jdGlvbigpe30sZS5wcm90b3R5cGUub25BZGQ9ZnVuY3Rpb24odCl7dGhpcy5pbXBsZW1lbnRhdGlvbi5vbkFkZCYmdGhpcy5pbXBsZW1lbnRhdGlvbi5vbkFkZCh0LHQucGFpbnRlci5jb250ZXh0LmdsKTt9LGUucHJvdG90eXBlLm9uUmVtb3ZlPWZ1bmN0aW9uKHQpe3RoaXMuaW1wbGVtZW50YXRpb24ub25SZW1vdmUmJnRoaXMuaW1wbGVtZW50YXRpb24ub25SZW1vdmUodCx0LnBhaW50ZXIuY29udGV4dC5nbCk7fSxlfSh4aSksd2w9e2NpcmNsZTpvbyxoZWF0bWFwOnZvLGhpbGxzaGFkZTp4byxmaWxsOmFzLCJmaWxsLWV4dHJ1c2lvbiI6X3MsbGluZTpCcyxzeW1ib2w6ZGwsYmFja2dyb3VuZDp2bCxyYXN0ZXI6eGx9LF9sPXNlbGYuSFRNTEltYWdlRWxlbWVudCxBbD1zZWxmLkhUTUxDYW52YXNFbGVtZW50LFNsPXNlbGYuSFRNTFZpZGVvRWxlbWVudCxrbD1zZWxmLkltYWdlRGF0YSxJbD1zZWxmLkltYWdlQml0bWFwLHpsPWZ1bmN0aW9uKHQsZSxyLG4pe3RoaXMuY29udGV4dD10LHRoaXMuZm9ybWF0PXIsdGhpcy50ZXh0dXJlPXQuZ2wuY3JlYXRlVGV4dHVyZSgpLHRoaXMudXBkYXRlKGUsbik7fTt6bC5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKHQsZSxyKXt2YXIgbj10LndpZHRoLGk9dC5oZWlnaHQsYT0hKHRoaXMuc2l6ZSYmdGhpcy5zaXplWzBdPT09biYmdGhpcy5zaXplWzFdPT09aXx8ciksbz10aGlzLmNvbnRleHQscz1vLmdsO2lmKHRoaXMudXNlTWlwbWFwPUJvb2xlYW4oZSYmZS51c2VNaXBtYXApLHMuYmluZFRleHR1cmUocy5URVhUVVJFXzJELHRoaXMudGV4dHVyZSksby5waXhlbFN0b3JlVW5wYWNrRmxpcFkuc2V0KCExKSxvLnBpeGVsU3RvcmVVbnBhY2suc2V0KDEpLG8ucGl4ZWxTdG9yZVVucGFja1ByZW11bHRpcGx5QWxwaGEuc2V0KHRoaXMuZm9ybWF0PT09cy5SR0JBJiYoIWV8fCExIT09ZS5wcmVtdWx0aXBseSkpLGEpdGhpcy5zaXplPVtuLGldLHQgaW5zdGFuY2VvZiBfbHx8dCBpbnN0YW5jZW9mIEFsfHx0IGluc3RhbmNlb2YgU2x8fHQgaW5zdGFuY2VvZiBrbHx8SWwmJnQgaW5zdGFuY2VvZiBJbD9zLnRleEltYWdlMkQocy5URVhUVVJFXzJELDAsdGhpcy5mb3JtYXQsdGhpcy5mb3JtYXQscy5VTlNJR05FRF9CWVRFLHQpOnMudGV4SW1hZ2UyRChzLlRFWFRVUkVfMkQsMCx0aGlzLmZvcm1hdCxuLGksMCx0aGlzLmZvcm1hdCxzLlVOU0lHTkVEX0JZVEUsdC5kYXRhKTtlbHNlIHt2YXIgdT1yfHx7eDowLHk6MH0sbD11LngscD11Lnk7dCBpbnN0YW5jZW9mIF9sfHx0IGluc3RhbmNlb2YgQWx8fHQgaW5zdGFuY2VvZiBTbHx8dCBpbnN0YW5jZW9mIGtsfHxJbCYmdCBpbnN0YW5jZW9mIElsP3MudGV4U3ViSW1hZ2UyRChzLlRFWFRVUkVfMkQsMCxsLHAscy5SR0JBLHMuVU5TSUdORURfQllURSx0KTpzLnRleFN1YkltYWdlMkQocy5URVhUVVJFXzJELDAsbCxwLG4saSxzLlJHQkEscy5VTlNJR05FRF9CWVRFLHQuZGF0YSk7fXRoaXMudXNlTWlwbWFwJiZ0aGlzLmlzU2l6ZVBvd2VyT2ZUd28oKSYmcy5nZW5lcmF0ZU1pcG1hcChzLlRFWFRVUkVfMkQpO30semwucHJvdG90eXBlLmJpbmQ9ZnVuY3Rpb24odCxlLHIpe3ZhciBuPXRoaXMuY29udGV4dC5nbDtuLmJpbmRUZXh0dXJlKG4uVEVYVFVSRV8yRCx0aGlzLnRleHR1cmUpLHIhPT1uLkxJTkVBUl9NSVBNQVBfTkVBUkVTVHx8dGhpcy5pc1NpemVQb3dlck9mVHdvKCl8fChyPW4uTElORUFSKSx0IT09dGhpcy5maWx0ZXImJihuLnRleFBhcmFtZXRlcmkobi5URVhUVVJFXzJELG4uVEVYVFVSRV9NQUdfRklMVEVSLHQpLG4udGV4UGFyYW1ldGVyaShuLlRFWFRVUkVfMkQsbi5URVhUVVJFX01JTl9GSUxURVIscnx8dCksdGhpcy5maWx0ZXI9dCksZSE9PXRoaXMud3JhcCYmKG4udGV4UGFyYW1ldGVyaShuLlRFWFRVUkVfMkQsbi5URVhUVVJFX1dSQVBfUyxlKSxuLnRleFBhcmFtZXRlcmkobi5URVhUVVJFXzJELG4uVEVYVFVSRV9XUkFQX1QsZSksdGhpcy53cmFwPWUpO30semwucHJvdG90eXBlLmlzU2l6ZVBvd2VyT2ZUd289ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zaXplWzBdPT09dGhpcy5zaXplWzFdJiZNYXRoLmxvZyh0aGlzLnNpemVbMF0pL01hdGguTE4yJTE9PTB9LHpsLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5jb250ZXh0LmdsLmRlbGV0ZVRleHR1cmUodGhpcy50ZXh0dXJlKSx0aGlzLnRleHR1cmU9bnVsbDt9O3ZhciBDbD1mdW5jdGlvbih0KXt2YXIgZT10aGlzO3RoaXMuX2NhbGxiYWNrPXQsdGhpcy5fdHJpZ2dlcmVkPSExLCJ1bmRlZmluZWQiIT10eXBlb2YgTWVzc2FnZUNoYW5uZWwmJih0aGlzLl9jaGFubmVsPW5ldyBNZXNzYWdlQ2hhbm5lbCx0aGlzLl9jaGFubmVsLnBvcnQyLm9ubWVzc2FnZT1mdW5jdGlvbigpe2UuX3RyaWdnZXJlZD0hMSxlLl9jYWxsYmFjaygpO30pO307Q2wucHJvdG90eXBlLnRyaWdnZXI9ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3RoaXMuX3RyaWdnZXJlZHx8KHRoaXMuX3RyaWdnZXJlZD0hMCx0aGlzLl9jaGFubmVsP3RoaXMuX2NoYW5uZWwucG9ydDEucG9zdE1lc3NhZ2UoITApOnNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7dC5fdHJpZ2dlcmVkPSExLHQuX2NhbGxiYWNrKCk7fSksMCkpO30sQ2wucHJvdG90eXBlLnJlbW92ZT1mdW5jdGlvbigpe2RlbGV0ZSB0aGlzLl9jaGFubmVsLHRoaXMuX2NhbGxiYWNrPWZ1bmN0aW9uKCl7fTt9O3ZhciBNbD1mdW5jdGlvbih0LGUscil7dGhpcy50YXJnZXQ9dCx0aGlzLnBhcmVudD1lLHRoaXMubWFwSWQ9cix0aGlzLmNhbGxiYWNrcz17fSx0aGlzLnRhc2tzPXt9LHRoaXMudGFza1F1ZXVlPVtdLHRoaXMuY2FuY2VsQ2FsbGJhY2tzPXt9LGQoWyJyZWNlaXZlIiwicHJvY2VzcyJdLHRoaXMpLHRoaXMuaW52b2tlcj1uZXcgQ2wodGhpcy5wcm9jZXNzKSx0aGlzLnRhcmdldC5hZGRFdmVudExpc3RlbmVyKCJtZXNzYWdlIix0aGlzLnJlY2VpdmUsITEpLHRoaXMuZ2xvYmFsU2NvcGU9UygpP3Q6c2VsZjt9O2Z1bmN0aW9uIEVsKHQsZSxyKXt2YXIgbj0yKk1hdGguUEkqNjM3ODEzNy8yNTYvTWF0aC5wb3coMixyKTtyZXR1cm4gW3Qqbi0yKk1hdGguUEkqNjM3ODEzNy8yLGUqbi0yKk1hdGguUEkqNjM3ODEzNy8yXX1NbC5wcm90b3R5cGUuc2VuZD1mdW5jdGlvbih0LGUscixuLGkpe3ZhciBhPXRoaXM7dm9pZCAwPT09aSYmKGk9ITEpO3ZhciBvPU1hdGgucm91bmQoMWUxOCpNYXRoLnJhbmRvbSgpKS50b1N0cmluZygzNikuc3Vic3RyaW5nKDAsMTApO3ImJih0aGlzLmNhbGxiYWNrc1tvXT1yKTt2YXIgcz16KHRoaXMuZ2xvYmFsU2NvcGUpP3ZvaWQgMDpbXTtyZXR1cm4gdGhpcy50YXJnZXQucG9zdE1lc3NhZ2Uoe2lkOm8sdHlwZTp0LGhhc0NhbGxiYWNrOiEhcix0YXJnZXRNYXBJZDpuLG11c3RRdWV1ZTppLHNvdXJjZU1hcElkOnRoaXMubWFwSWQsZGF0YTpPbihlLHMpfSxzKSx7Y2FuY2VsOmZ1bmN0aW9uKCl7ciYmZGVsZXRlIGEuY2FsbGJhY2tzW29dLGEudGFyZ2V0LnBvc3RNZXNzYWdlKHtpZDpvLHR5cGU6IjxjYW5jZWw+Iix0YXJnZXRNYXBJZDpuLHNvdXJjZU1hcElkOmEubWFwSWR9KTt9fX0sTWwucHJvdG90eXBlLnJlY2VpdmU9ZnVuY3Rpb24odCl7dmFyIGU9dC5kYXRhLHI9ZS5pZDtpZihyJiYoIWUudGFyZ2V0TWFwSWR8fHRoaXMubWFwSWQ9PT1lLnRhcmdldE1hcElkKSlpZigiPGNhbmNlbD4iPT09ZS50eXBlKXtkZWxldGUgdGhpcy50YXNrc1tyXTt2YXIgbj10aGlzLmNhbmNlbENhbGxiYWNrc1tyXTtkZWxldGUgdGhpcy5jYW5jZWxDYWxsYmFja3Nbcl0sbiYmbigpO31lbHNlIFMoKXx8ZS5tdXN0UXVldWU/KHRoaXMudGFza3Nbcl09ZSx0aGlzLnRhc2tRdWV1ZS5wdXNoKHIpLHRoaXMuaW52b2tlci50cmlnZ2VyKCkpOnRoaXMucHJvY2Vzc1Rhc2socixlKTt9LE1sLnByb3RvdHlwZS5wcm9jZXNzPWZ1bmN0aW9uKCl7aWYodGhpcy50YXNrUXVldWUubGVuZ3RoKXt2YXIgdD10aGlzLnRhc2tRdWV1ZS5zaGlmdCgpLGU9dGhpcy50YXNrc1t0XTtkZWxldGUgdGhpcy50YXNrc1t0XSx0aGlzLnRhc2tRdWV1ZS5sZW5ndGgmJnRoaXMuaW52b2tlci50cmlnZ2VyKCksZSYmdGhpcy5wcm9jZXNzVGFzayh0LGUpO319LE1sLnByb3RvdHlwZS5wcm9jZXNzVGFzaz1mdW5jdGlvbih0LGUpe3ZhciByPXRoaXM7aWYoIjxyZXNwb25zZT4iPT09ZS50eXBlKXt2YXIgbj10aGlzLmNhbGxiYWNrc1t0XTtkZWxldGUgdGhpcy5jYWxsYmFja3NbdF0sbiYmKGUuZXJyb3I/bihVbihlLmVycm9yKSk6bihudWxsLFVuKGUuZGF0YSkpKTt9ZWxzZSB7dmFyIGk9ITEsYT16KHRoaXMuZ2xvYmFsU2NvcGUpP3ZvaWQgMDpbXSxvPWUuaGFzQ2FsbGJhY2s/ZnVuY3Rpb24oZSxuKXtpPSEwLGRlbGV0ZSByLmNhbmNlbENhbGxiYWNrc1t0XSxyLnRhcmdldC5wb3N0TWVzc2FnZSh7aWQ6dCx0eXBlOiI8cmVzcG9uc2U+Iixzb3VyY2VNYXBJZDpyLm1hcElkLGVycm9yOmU/T24oZSk6bnVsbCxkYXRhOk9uKG4sYSl9LGEpO306ZnVuY3Rpb24odCl7aT0hMDt9LHM9bnVsbCx1PVVuKGUuZGF0YSk7aWYodGhpcy5wYXJlbnRbZS50eXBlXSlzPXRoaXMucGFyZW50W2UudHlwZV0oZS5zb3VyY2VNYXBJZCx1LG8pO2Vsc2UgaWYodGhpcy5wYXJlbnQuZ2V0V29ya2VyU291cmNlKXt2YXIgbD1lLnR5cGUuc3BsaXQoIi4iKTtzPXRoaXMucGFyZW50LmdldFdvcmtlclNvdXJjZShlLnNvdXJjZU1hcElkLGxbMF0sdS5zb3VyY2UpW2xbMV1dKHUsbyk7fWVsc2UgbyhuZXcgRXJyb3IoIkNvdWxkIG5vdCBmaW5kIGZ1bmN0aW9uICIrZS50eXBlKSk7IWkmJnMmJnMuY2FuY2VsJiYodGhpcy5jYW5jZWxDYWxsYmFja3NbdF09cy5jYW5jZWwpO319LE1sLnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24oKXt0aGlzLmludm9rZXIucmVtb3ZlKCksdGhpcy50YXJnZXQucmVtb3ZlRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsdGhpcy5yZWNlaXZlLCExKTt9O3ZhciBUbD1mdW5jdGlvbih0LGUpe3QmJihlP3RoaXMuc2V0U291dGhXZXN0KHQpLnNldE5vcnRoRWFzdChlKTo0PT09dC5sZW5ndGg/dGhpcy5zZXRTb3V0aFdlc3QoW3RbMF0sdFsxXV0pLnNldE5vcnRoRWFzdChbdFsyXSx0WzNdXSk6dGhpcy5zZXRTb3V0aFdlc3QodFswXSkuc2V0Tm9ydGhFYXN0KHRbMV0pKTt9O1RsLnByb3RvdHlwZS5zZXROb3J0aEVhc3Q9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX25lPXQgaW5zdGFuY2VvZiBQbD9uZXcgUGwodC5sbmcsdC5sYXQpOlBsLmNvbnZlcnQodCksdGhpc30sVGwucHJvdG90eXBlLnNldFNvdXRoV2VzdD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fc3c9dCBpbnN0YW5jZW9mIFBsP25ldyBQbCh0LmxuZyx0LmxhdCk6UGwuY29udmVydCh0KSx0aGlzfSxUbC5wcm90b3R5cGUuZXh0ZW5kPWZ1bmN0aW9uKHQpe3ZhciBlLHIsbj10aGlzLl9zdyxpPXRoaXMuX25lO2lmKHQgaW5zdGFuY2VvZiBQbCllPXQscj10O2Vsc2Uge2lmKCEodCBpbnN0YW5jZW9mIFRsKSlyZXR1cm4gQXJyYXkuaXNBcnJheSh0KT80PT09dC5sZW5ndGh8fHQuZXZlcnkoQXJyYXkuaXNBcnJheSk/dGhpcy5leHRlbmQoVGwuY29udmVydCh0KSk6dGhpcy5leHRlbmQoUGwuY29udmVydCh0KSk6dGhpcztpZihyPXQuX25lLCEoZT10Ll9zdyl8fCFyKXJldHVybiB0aGlzfXJldHVybiBufHxpPyhuLmxuZz1NYXRoLm1pbihlLmxuZyxuLmxuZyksbi5sYXQ9TWF0aC5taW4oZS5sYXQsbi5sYXQpLGkubG5nPU1hdGgubWF4KHIubG5nLGkubG5nKSxpLmxhdD1NYXRoLm1heChyLmxhdCxpLmxhdCkpOih0aGlzLl9zdz1uZXcgUGwoZS5sbmcsZS5sYXQpLHRoaXMuX25lPW5ldyBQbChyLmxuZyxyLmxhdCkpLHRoaXN9LFRsLnByb3RvdHlwZS5nZXRDZW50ZXI9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IFBsKCh0aGlzLl9zdy5sbmcrdGhpcy5fbmUubG5nKS8yLCh0aGlzLl9zdy5sYXQrdGhpcy5fbmUubGF0KS8yKX0sVGwucHJvdG90eXBlLmdldFNvdXRoV2VzdD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9zd30sVGwucHJvdG90eXBlLmdldE5vcnRoRWFzdD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9uZX0sVGwucHJvdG90eXBlLmdldE5vcnRoV2VzdD1mdW5jdGlvbigpe3JldHVybiBuZXcgUGwodGhpcy5nZXRXZXN0KCksdGhpcy5nZXROb3J0aCgpKX0sVGwucHJvdG90eXBlLmdldFNvdXRoRWFzdD1mdW5jdGlvbigpe3JldHVybiBuZXcgUGwodGhpcy5nZXRFYXN0KCksdGhpcy5nZXRTb3V0aCgpKX0sVGwucHJvdG90eXBlLmdldFdlc3Q9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3cubG5nfSxUbC5wcm90b3R5cGUuZ2V0U291dGg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3cubGF0fSxUbC5wcm90b3R5cGUuZ2V0RWFzdD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9uZS5sbmd9LFRsLnByb3RvdHlwZS5nZXROb3J0aD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9uZS5sYXR9LFRsLnByb3RvdHlwZS50b0FycmF5PWZ1bmN0aW9uKCl7cmV0dXJuIFt0aGlzLl9zdy50b0FycmF5KCksdGhpcy5fbmUudG9BcnJheSgpXX0sVGwucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuICJMbmdMYXRCb3VuZHMoIit0aGlzLl9zdy50b1N0cmluZygpKyIsICIrdGhpcy5fbmUudG9TdHJpbmcoKSsiKSJ9LFRsLnByb3RvdHlwZS5pc0VtcHR5PWZ1bmN0aW9uKCl7cmV0dXJuICEodGhpcy5fc3cmJnRoaXMuX25lKX0sVGwucHJvdG90eXBlLmNvbnRhaW5zPWZ1bmN0aW9uKHQpe3ZhciBlPVBsLmNvbnZlcnQodCkscj1lLmxuZyxuPWUubGF0LGk9dGhpcy5fc3cubG5nPD1yJiZyPD10aGlzLl9uZS5sbmc7cmV0dXJuIHRoaXMuX3N3LmxuZz50aGlzLl9uZS5sbmcmJihpPXRoaXMuX3N3LmxuZz49ciYmcj49dGhpcy5fbmUubG5nKSx0aGlzLl9zdy5sYXQ8PW4mJm48PXRoaXMuX25lLmxhdCYmaX0sVGwuY29udmVydD1mdW5jdGlvbih0KXtyZXR1cm4gIXR8fHQgaW5zdGFuY2VvZiBUbD90Om5ldyBUbCh0KX07dmFyIFBsPWZ1bmN0aW9uKHQsZSl7aWYoaXNOYU4odCl8fGlzTmFOKGUpKXRocm93IG5ldyBFcnJvcigiSW52YWxpZCBMbmdMYXQgb2JqZWN0OiAoIit0KyIsICIrZSsiKSIpO2lmKHRoaXMubG5nPSt0LHRoaXMubGF0PStlLHRoaXMubGF0PjkwfHx0aGlzLmxhdDwtOTApdGhyb3cgbmV3IEVycm9yKCJJbnZhbGlkIExuZ0xhdCBsYXRpdHVkZSB2YWx1ZTogbXVzdCBiZSBiZXR3ZWVuIC05MCBhbmQgOTAiKX07UGwucHJvdG90eXBlLndyYXA9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IFBsKGwodGhpcy5sbmcsLTE4MCwxODApLHRoaXMubGF0KX0sUGwucHJvdG90eXBlLnRvQXJyYXk9ZnVuY3Rpb24oKXtyZXR1cm4gW3RoaXMubG5nLHRoaXMubGF0XX0sUGwucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuICJMbmdMYXQoIit0aGlzLmxuZysiLCAiK3RoaXMubGF0KyIpIn0sUGwucHJvdG90eXBlLmRpc3RhbmNlVG89ZnVuY3Rpb24odCl7dmFyIGU9TWF0aC5QSS8xODAscj10aGlzLmxhdCplLG49dC5sYXQqZSxpPU1hdGguc2luKHIpKk1hdGguc2luKG4pK01hdGguY29zKHIpKk1hdGguY29zKG4pKk1hdGguY29zKCh0LmxuZy10aGlzLmxuZykqZSk7cmV0dXJuIDYzNzEwMDguOCpNYXRoLmFjb3MoTWF0aC5taW4oaSwxKSl9LFBsLnByb3RvdHlwZS50b0JvdW5kcz1mdW5jdGlvbih0KXt2b2lkIDA9PT10JiYodD0wKTt2YXIgZT0zNjAqdC80MDA3NTAxNyxyPWUvTWF0aC5jb3MoTWF0aC5QSS8xODAqdGhpcy5sYXQpO3JldHVybiBuZXcgVGwobmV3IFBsKHRoaXMubG5nLXIsdGhpcy5sYXQtZSksbmV3IFBsKHRoaXMubG5nK3IsdGhpcy5sYXQrZSkpfSxQbC5jb252ZXJ0PWZ1bmN0aW9uKHQpe2lmKHQgaW5zdGFuY2VvZiBQbClyZXR1cm4gdDtpZihBcnJheS5pc0FycmF5KHQpJiYoMj09PXQubGVuZ3RofHwzPT09dC5sZW5ndGgpKXJldHVybiBuZXcgUGwoTnVtYmVyKHRbMF0pLE51bWJlcih0WzFdKSk7aWYoIUFycmF5LmlzQXJyYXkodCkmJiJvYmplY3QiPT10eXBlb2YgdCYmbnVsbCE9PXQpcmV0dXJuIG5ldyBQbChOdW1iZXIoImxuZyJpbiB0P3QubG5nOnQubG9uKSxOdW1iZXIodC5sYXQpKTt0aHJvdyBuZXcgRXJyb3IoImBMbmdMYXRMaWtlYCBhcmd1bWVudCBtdXN0IGJlIHNwZWNpZmllZCBhcyBhIExuZ0xhdCBpbnN0YW5jZSwgYW4gb2JqZWN0IHtsbmc6IDxsbmc+LCBsYXQ6IDxsYXQ+fSwgYW4gb2JqZWN0IHtsb246IDxsbmc+LCBsYXQ6IDxsYXQ+fSwgb3IgYW4gYXJyYXkgb2YgWzxsbmc+LCA8bGF0Pl0iKX07dmFyIEJsPTIqTWF0aC5QSSo2MzcxMDA4Ljg7ZnVuY3Rpb24gVmwodCl7cmV0dXJuIEJsKk1hdGguY29zKHQqTWF0aC5QSS8xODApfWZ1bmN0aW9uIEZsKHQpe3JldHVybiAoMTgwK3QpLzM2MH1mdW5jdGlvbiBEbCh0KXtyZXR1cm4gKDE4MC0xODAvTWF0aC5QSSpNYXRoLmxvZyhNYXRoLnRhbihNYXRoLlBJLzQrdCpNYXRoLlBJLzM2MCkpKS8zNjB9ZnVuY3Rpb24gTGwodCxlKXtyZXR1cm4gdC9WbChlKX1mdW5jdGlvbiBSbCh0KXtyZXR1cm4gMzYwL01hdGguUEkqTWF0aC5hdGFuKE1hdGguZXhwKCgxODAtMzYwKnQpKk1hdGguUEkvMTgwKSktOTB9dmFyIE9sPWZ1bmN0aW9uKHQsZSxyKXt2b2lkIDA9PT1yJiYocj0wKSx0aGlzLng9K3QsdGhpcy55PStlLHRoaXMuej0rcjt9O09sLmZyb21MbmdMYXQ9ZnVuY3Rpb24odCxlKXt2b2lkIDA9PT1lJiYoZT0wKTt2YXIgcj1QbC5jb252ZXJ0KHQpO3JldHVybiBuZXcgT2woRmwoci5sbmcpLERsKHIubGF0KSxMbChlLHIubGF0KSl9LE9sLnByb3RvdHlwZS50b0xuZ0xhdD1mdW5jdGlvbigpe3JldHVybiBuZXcgUGwoMzYwKnRoaXMueC0xODAsUmwodGhpcy55KSl9LE9sLnByb3RvdHlwZS50b0FsdGl0dWRlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMueipWbChSbCh0aGlzLnkpKX0sT2wucHJvdG90eXBlLm1ldGVySW5NZXJjYXRvckNvb3JkaW5hdGVVbml0cz1mdW5jdGlvbigpe3JldHVybiAxL0JsKih0PVJsKHRoaXMueSksMS9NYXRoLmNvcyh0Kk1hdGguUEkvMTgwKSk7dmFyIHQ7fTt2YXIgVWw9ZnVuY3Rpb24odCxlLHIpe3RoaXMuej10LHRoaXMueD1lLHRoaXMueT1yLHRoaXMua2V5PU5sKDAsdCx0LGUscik7fTtVbC5wcm90b3R5cGUuZXF1YWxzPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLno9PT10LnomJnRoaXMueD09PXQueCYmdGhpcy55PT09dC55fSxVbC5wcm90b3R5cGUudXJsPWZ1bmN0aW9uKHQsZSl7dmFyIHIsbixpLGEsbyxzPShuPXRoaXMueSxpPXRoaXMueixhPUVsKDI1Nioocj10aGlzLngpLDI1Nioobj1NYXRoLnBvdygyLGkpLW4tMSksaSksbz1FbCgyNTYqKHIrMSksMjU2KihuKzEpLGkpLGFbMF0rIiwiK2FbMV0rIiwiK29bMF0rIiwiK29bMV0pLHU9ZnVuY3Rpb24odCxlLHIpe2Zvcih2YXIgbixpPSIiLGE9dDthPjA7YS0tKWkrPShlJihuPTE8PGEtMSk/MTowKSsociZuPzI6MCk7cmV0dXJuIGl9KHRoaXMueix0aGlzLngsdGhpcy55KTtyZXR1cm4gdFsodGhpcy54K3RoaXMueSkldC5sZW5ndGhdLnJlcGxhY2UoIntwcmVmaXh9IiwodGhpcy54JTE2KS50b1N0cmluZygxNikrKHRoaXMueSUxNikudG9TdHJpbmcoMTYpKS5yZXBsYWNlKCJ7en0iLFN0cmluZyh0aGlzLnopKS5yZXBsYWNlKCJ7eH0iLFN0cmluZyh0aGlzLngpKS5yZXBsYWNlKCJ7eX0iLFN0cmluZygidG1zIj09PWU/TWF0aC5wb3coMix0aGlzLnopLXRoaXMueS0xOnRoaXMueSkpLnJlcGxhY2UoIntxdWFka2V5fSIsdSkucmVwbGFjZSgie2Jib3gtZXBzZy0zODU3fSIscyl9LFVsLnByb3RvdHlwZS5nZXRUaWxlUG9pbnQ9ZnVuY3Rpb24odCl7dmFyIGU9TWF0aC5wb3coMix0aGlzLnopO3JldHVybiBuZXcgaSg4MTkyKih0LngqZS10aGlzLngpLDgxOTIqKHQueSplLXRoaXMueSkpfSxVbC5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy56KyIvIit0aGlzLngrIi8iK3RoaXMueX07dmFyIGpsPWZ1bmN0aW9uKHQsZSl7dGhpcy53cmFwPXQsdGhpcy5jYW5vbmljYWw9ZSx0aGlzLmtleT1ObCh0LGUueixlLnosZS54LGUueSk7fSxxbD1mdW5jdGlvbih0LGUscixuLGkpe3RoaXMub3ZlcnNjYWxlZFo9dCx0aGlzLndyYXA9ZSx0aGlzLmNhbm9uaWNhbD1uZXcgVWwociwrbiwraSksdGhpcy5rZXk9TmwoZSx0LHIsbixpKTt9O2Z1bmN0aW9uIE5sKHQsZSxyLG4saSl7KHQqPTIpPDAmJih0PS0xKnQtMSk7dmFyIGE9MTw8cjtyZXR1cm4gKGEqYSp0K2EqaStuKS50b1N0cmluZygzNikrci50b1N0cmluZygzNikrZS50b1N0cmluZygzNil9cWwucHJvdG90eXBlLmVxdWFscz1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5vdmVyc2NhbGVkWj09PXQub3ZlcnNjYWxlZFomJnRoaXMud3JhcD09PXQud3JhcCYmdGhpcy5jYW5vbmljYWwuZXF1YWxzKHQuY2Fub25pY2FsKX0scWwucHJvdG90eXBlLnNjYWxlZFRvPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuY2Fub25pY2FsLnotdDtyZXR1cm4gdD50aGlzLmNhbm9uaWNhbC56P25ldyBxbCh0LHRoaXMud3JhcCx0aGlzLmNhbm9uaWNhbC56LHRoaXMuY2Fub25pY2FsLngsdGhpcy5jYW5vbmljYWwueSk6bmV3IHFsKHQsdGhpcy53cmFwLHQsdGhpcy5jYW5vbmljYWwueD4+ZSx0aGlzLmNhbm9uaWNhbC55Pj5lKX0scWwucHJvdG90eXBlLmNhbGN1bGF0ZVNjYWxlZEtleT1mdW5jdGlvbih0LGUpe3ZhciByPXRoaXMuY2Fub25pY2FsLnotdDtyZXR1cm4gdD50aGlzLmNhbm9uaWNhbC56P05sKHRoaXMud3JhcCorZSx0LHRoaXMuY2Fub25pY2FsLnosdGhpcy5jYW5vbmljYWwueCx0aGlzLmNhbm9uaWNhbC55KTpObCh0aGlzLndyYXAqK2UsdCx0LHRoaXMuY2Fub25pY2FsLng+PnIsdGhpcy5jYW5vbmljYWwueT4+cil9LHFsLnByb3RvdHlwZS5pc0NoaWxkT2Y9ZnVuY3Rpb24odCl7aWYodC53cmFwIT09dGhpcy53cmFwKXJldHVybiAhMTt2YXIgZT10aGlzLmNhbm9uaWNhbC56LXQuY2Fub25pY2FsLno7cmV0dXJuIDA9PT10Lm92ZXJzY2FsZWRafHx0Lm92ZXJzY2FsZWRaPHRoaXMub3ZlcnNjYWxlZFomJnQuY2Fub25pY2FsLng9PT10aGlzLmNhbm9uaWNhbC54Pj5lJiZ0LmNhbm9uaWNhbC55PT09dGhpcy5jYW5vbmljYWwueT4+ZX0scWwucHJvdG90eXBlLmNoaWxkcmVuPWZ1bmN0aW9uKHQpe2lmKHRoaXMub3ZlcnNjYWxlZFo+PXQpcmV0dXJuIFtuZXcgcWwodGhpcy5vdmVyc2NhbGVkWisxLHRoaXMud3JhcCx0aGlzLmNhbm9uaWNhbC56LHRoaXMuY2Fub25pY2FsLngsdGhpcy5jYW5vbmljYWwueSldO3ZhciBlPXRoaXMuY2Fub25pY2FsLnorMSxyPTIqdGhpcy5jYW5vbmljYWwueCxuPTIqdGhpcy5jYW5vbmljYWwueTtyZXR1cm4gW25ldyBxbChlLHRoaXMud3JhcCxlLHIsbiksbmV3IHFsKGUsdGhpcy53cmFwLGUscisxLG4pLG5ldyBxbChlLHRoaXMud3JhcCxlLHIsbisxKSxuZXcgcWwoZSx0aGlzLndyYXAsZSxyKzEsbisxKV19LHFsLnByb3RvdHlwZS5pc0xlc3NUaGFuPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLndyYXA8dC53cmFwfHwhKHRoaXMud3JhcD50LndyYXApJiYodGhpcy5vdmVyc2NhbGVkWjx0Lm92ZXJzY2FsZWRafHwhKHRoaXMub3ZlcnNjYWxlZFo+dC5vdmVyc2NhbGVkWikmJih0aGlzLmNhbm9uaWNhbC54PHQuY2Fub25pY2FsLnh8fCEodGhpcy5jYW5vbmljYWwueD50LmNhbm9uaWNhbC54KSYmdGhpcy5jYW5vbmljYWwueTx0LmNhbm9uaWNhbC55KSl9LHFsLnByb3RvdHlwZS53cmFwcGVkPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBxbCh0aGlzLm92ZXJzY2FsZWRaLDAsdGhpcy5jYW5vbmljYWwueix0aGlzLmNhbm9uaWNhbC54LHRoaXMuY2Fub25pY2FsLnkpfSxxbC5wcm90b3R5cGUudW53cmFwVG89ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBxbCh0aGlzLm92ZXJzY2FsZWRaLHQsdGhpcy5jYW5vbmljYWwueix0aGlzLmNhbm9uaWNhbC54LHRoaXMuY2Fub25pY2FsLnkpfSxxbC5wcm90b3R5cGUub3ZlcnNjYWxlRmFjdG9yPWZ1bmN0aW9uKCl7cmV0dXJuIE1hdGgucG93KDIsdGhpcy5vdmVyc2NhbGVkWi10aGlzLmNhbm9uaWNhbC56KX0scWwucHJvdG90eXBlLnRvVW53cmFwcGVkPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBqbCh0aGlzLndyYXAsdGhpcy5jYW5vbmljYWwpfSxxbC5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5vdmVyc2NhbGVkWisiLyIrdGhpcy5jYW5vbmljYWwueCsiLyIrdGhpcy5jYW5vbmljYWwueX0scWwucHJvdG90eXBlLmdldFRpbGVQb2ludD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5jYW5vbmljYWwuZ2V0VGlsZVBvaW50KG5ldyBPbCh0LngtdGhpcy53cmFwLHQueSkpfSxGbigiQ2Fub25pY2FsVGlsZUlEIixVbCksRm4oIk92ZXJzY2FsZWRUaWxlSUQiLHFsLHtvbWl0OlsicG9zTWF0cml4Il19KTt2YXIgS2w9ZnVuY3Rpb24odCxlLHIpe2lmKHRoaXMudWlkPXQsZS5oZWlnaHQhPT1lLndpZHRoKXRocm93IG5ldyBSYW5nZUVycm9yKCJERU0gdGlsZXMgbXVzdCBiZSBzcXVhcmUiKTtpZihyJiYibWFwYm94IiE9PXImJiJ0ZXJyYXJpdW0iIT09cilyZXR1cm4gdygnIicrcisnIiBpcyBub3QgYSB2YWxpZCBlbmNvZGluZyB0eXBlLiBWYWxpZCB0eXBlcyBpbmNsdWRlICJtYXBib3giIGFuZCAidGVycmFyaXVtIi4nKTt0aGlzLnN0cmlkZT1lLmhlaWdodDt2YXIgbj10aGlzLmRpbT1lLmhlaWdodC0yO3RoaXMuZGF0YT1uZXcgVWludDMyQXJyYXkoZS5kYXRhLmJ1ZmZlciksdGhpcy5lbmNvZGluZz1yfHwibWFwYm94Ijtmb3IodmFyIGk9MDtpPG47aSsrKXRoaXMuZGF0YVt0aGlzLl9pZHgoLTEsaSldPXRoaXMuZGF0YVt0aGlzLl9pZHgoMCxpKV0sdGhpcy5kYXRhW3RoaXMuX2lkeChuLGkpXT10aGlzLmRhdGFbdGhpcy5faWR4KG4tMSxpKV0sdGhpcy5kYXRhW3RoaXMuX2lkeChpLC0xKV09dGhpcy5kYXRhW3RoaXMuX2lkeChpLDApXSx0aGlzLmRhdGFbdGhpcy5faWR4KGksbildPXRoaXMuZGF0YVt0aGlzLl9pZHgoaSxuLTEpXTt0aGlzLmRhdGFbdGhpcy5faWR4KC0xLC0xKV09dGhpcy5kYXRhW3RoaXMuX2lkeCgwLDApXSx0aGlzLmRhdGFbdGhpcy5faWR4KG4sLTEpXT10aGlzLmRhdGFbdGhpcy5faWR4KG4tMSwwKV0sdGhpcy5kYXRhW3RoaXMuX2lkeCgtMSxuKV09dGhpcy5kYXRhW3RoaXMuX2lkeCgwLG4tMSldLHRoaXMuZGF0YVt0aGlzLl9pZHgobixuKV09dGhpcy5kYXRhW3RoaXMuX2lkeChuLTEsbi0xKV07fTtLbC5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKHQsZSl7dmFyIHI9bmV3IFVpbnQ4QXJyYXkodGhpcy5kYXRhLmJ1ZmZlciksbj00KnRoaXMuX2lkeCh0LGUpO3JldHVybiAoInRlcnJhcml1bSI9PT10aGlzLmVuY29kaW5nP3RoaXMuX3VucGFja1RlcnJhcml1bTp0aGlzLl91bnBhY2tNYXBib3gpKHJbbl0scltuKzFdLHJbbisyXSl9LEtsLnByb3RvdHlwZS5nZXRVbnBhY2tWZWN0b3I9ZnVuY3Rpb24oKXtyZXR1cm4gInRlcnJhcml1bSI9PT10aGlzLmVuY29kaW5nP1syNTYsMSwxLzI1NiwzMjc2OF06WzY1NTMuNiwyNS42LC4xLDFlNF19LEtsLnByb3RvdHlwZS5faWR4PWZ1bmN0aW9uKHQsZSl7aWYodDwtMXx8dD49dGhpcy5kaW0rMXx8ZTwtMXx8ZT49dGhpcy5kaW0rMSl0aHJvdyBuZXcgUmFuZ2VFcnJvcigib3V0IG9mIHJhbmdlIHNvdXJjZSBjb29yZGluYXRlcyBmb3IgREVNIGRhdGEiKTtyZXR1cm4gKGUrMSkqdGhpcy5zdHJpZGUrKHQrMSl9LEtsLnByb3RvdHlwZS5fdW5wYWNrTWFwYm94PWZ1bmN0aW9uKHQsZSxyKXtyZXR1cm4gKDI1Nip0KjI1NisyNTYqZStyKS8xMC0xZTR9LEtsLnByb3RvdHlwZS5fdW5wYWNrVGVycmFyaXVtPWZ1bmN0aW9uKHQsZSxyKXtyZXR1cm4gMjU2KnQrZStyLzI1Ni0zMjc2OH0sS2wucHJvdG90eXBlLmdldFBpeGVscz1mdW5jdGlvbigpe3JldHVybiBuZXcgZm8oe3dpZHRoOnRoaXMuc3RyaWRlLGhlaWdodDp0aGlzLnN0cmlkZX0sbmV3IFVpbnQ4QXJyYXkodGhpcy5kYXRhLmJ1ZmZlcikpfSxLbC5wcm90b3R5cGUuYmFja2ZpbGxCb3JkZXI9ZnVuY3Rpb24odCxlLHIpe2lmKHRoaXMuZGltIT09dC5kaW0pdGhyb3cgbmV3IEVycm9yKCJkZW0gZGltZW5zaW9uIG1pc21hdGNoIik7dmFyIG49ZSp0aGlzLmRpbSxpPWUqdGhpcy5kaW0rdGhpcy5kaW0sYT1yKnRoaXMuZGltLG89cip0aGlzLmRpbSt0aGlzLmRpbTtzd2l0Y2goZSl7Y2FzZS0xOm49aS0xO2JyZWFrO2Nhc2UgMTppPW4rMTt9c3dpdGNoKHIpe2Nhc2UtMTphPW8tMTticmVhaztjYXNlIDE6bz1hKzE7fWZvcih2YXIgcz0tZSp0aGlzLmRpbSx1PS1yKnRoaXMuZGltLGw9YTtsPG87bCsrKWZvcih2YXIgcD1uO3A8aTtwKyspdGhpcy5kYXRhW3RoaXMuX2lkeChwLGwpXT10LmRhdGFbdGhpcy5faWR4KHArcyxsK3UpXTt9LEZuKCJERU1EYXRhIixLbCk7dmFyIEdsPWZ1bmN0aW9uKHQpe3RoaXMuX3N0cmluZ1RvTnVtYmVyPXt9LHRoaXMuX251bWJlclRvU3RyaW5nPVtdO2Zvcih2YXIgZT0wO2U8dC5sZW5ndGg7ZSsrKXt2YXIgcj10W2VdO3RoaXMuX3N0cmluZ1RvTnVtYmVyW3JdPWUsdGhpcy5fbnVtYmVyVG9TdHJpbmdbZV09cjt9fTtHbC5wcm90b3R5cGUuZW5jb2RlPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9zdHJpbmdUb051bWJlclt0XX0sR2wucHJvdG90eXBlLmRlY29kZT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fbnVtYmVyVG9TdHJpbmdbdF19O3ZhciBabD1mdW5jdGlvbih0LGUscixuLGkpe3RoaXMudHlwZT0iRmVhdHVyZSIsdGhpcy5fdmVjdG9yVGlsZUZlYXR1cmU9dCx0Ll96PWUsdC5feD1yLHQuX3k9bix0aGlzLnByb3BlcnRpZXM9dC5wcm9wZXJ0aWVzLHRoaXMuaWQ9aTt9LFhsPXtnZW9tZXRyeTp7Y29uZmlndXJhYmxlOiEwfX07WGwuZ2VvbWV0cnkuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHZvaWQgMD09PXRoaXMuX2dlb21ldHJ5JiYodGhpcy5fZ2VvbWV0cnk9dGhpcy5fdmVjdG9yVGlsZUZlYXR1cmUudG9HZW9KU09OKHRoaXMuX3ZlY3RvclRpbGVGZWF0dXJlLl94LHRoaXMuX3ZlY3RvclRpbGVGZWF0dXJlLl95LHRoaXMuX3ZlY3RvclRpbGVGZWF0dXJlLl96KS5nZW9tZXRyeSksdGhpcy5fZ2VvbWV0cnl9LFhsLmdlb21ldHJ5LnNldD1mdW5jdGlvbih0KXt0aGlzLl9nZW9tZXRyeT10O30sWmwucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3ZhciB0PXtnZW9tZXRyeTp0aGlzLmdlb21ldHJ5fTtmb3IodmFyIGUgaW4gdGhpcykiX2dlb21ldHJ5IiE9PWUmJiJfdmVjdG9yVGlsZUZlYXR1cmUiIT09ZSYmKHRbZV09dGhpc1tlXSk7cmV0dXJuIHR9LE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKFpsLnByb3RvdHlwZSxYbCk7dmFyIEpsPWZ1bmN0aW9uKCl7dGhpcy5zdGF0ZT17fSx0aGlzLnN0YXRlQ2hhbmdlcz17fSx0aGlzLmRlbGV0ZWRTdGF0ZXM9e307fTtKbC5wcm90b3R5cGUudXBkYXRlU3RhdGU9ZnVuY3Rpb24odCxlLHIpe3ZhciBuPVN0cmluZyhlKTtpZih0aGlzLnN0YXRlQ2hhbmdlc1t0XT10aGlzLnN0YXRlQ2hhbmdlc1t0XXx8e30sdGhpcy5zdGF0ZUNoYW5nZXNbdF1bbl09dGhpcy5zdGF0ZUNoYW5nZXNbdF1bbl18fHt9LHAodGhpcy5zdGF0ZUNoYW5nZXNbdF1bbl0sciksbnVsbD09PXRoaXMuZGVsZXRlZFN0YXRlc1t0XSlmb3IodmFyIGkgaW4gdGhpcy5kZWxldGVkU3RhdGVzW3RdPXt9LHRoaXMuc3RhdGVbdF0paSE9PW4mJih0aGlzLmRlbGV0ZWRTdGF0ZXNbdF1baV09bnVsbCk7ZWxzZSBpZih0aGlzLmRlbGV0ZWRTdGF0ZXNbdF0mJm51bGw9PT10aGlzLmRlbGV0ZWRTdGF0ZXNbdF1bbl0pZm9yKHZhciBhIGluIHRoaXMuZGVsZXRlZFN0YXRlc1t0XVtuXT17fSx0aGlzLnN0YXRlW3RdW25dKXJbYV18fCh0aGlzLmRlbGV0ZWRTdGF0ZXNbdF1bbl1bYV09bnVsbCk7ZWxzZSBmb3IodmFyIG8gaW4gcil0aGlzLmRlbGV0ZWRTdGF0ZXNbdF0mJnRoaXMuZGVsZXRlZFN0YXRlc1t0XVtuXSYmbnVsbD09PXRoaXMuZGVsZXRlZFN0YXRlc1t0XVtuXVtvXSYmZGVsZXRlIHRoaXMuZGVsZXRlZFN0YXRlc1t0XVtuXVtvXTt9LEpsLnByb3RvdHlwZS5yZW1vdmVGZWF0dXJlU3RhdGU9ZnVuY3Rpb24odCxlLHIpe2lmKG51bGwhPT10aGlzLmRlbGV0ZWRTdGF0ZXNbdF0pe3ZhciBuPVN0cmluZyhlKTtpZih0aGlzLmRlbGV0ZWRTdGF0ZXNbdF09dGhpcy5kZWxldGVkU3RhdGVzW3RdfHx7fSxyJiZ2b2lkIDAhPT1lKW51bGwhPT10aGlzLmRlbGV0ZWRTdGF0ZXNbdF1bbl0mJih0aGlzLmRlbGV0ZWRTdGF0ZXNbdF1bbl09dGhpcy5kZWxldGVkU3RhdGVzW3RdW25dfHx7fSx0aGlzLmRlbGV0ZWRTdGF0ZXNbdF1bbl1bcl09bnVsbCk7ZWxzZSBpZih2b2lkIDAhPT1lKWlmKHRoaXMuc3RhdGVDaGFuZ2VzW3RdJiZ0aGlzLnN0YXRlQ2hhbmdlc1t0XVtuXSlmb3IociBpbiB0aGlzLmRlbGV0ZWRTdGF0ZXNbdF1bbl09e30sdGhpcy5zdGF0ZUNoYW5nZXNbdF1bbl0pdGhpcy5kZWxldGVkU3RhdGVzW3RdW25dW3JdPW51bGw7ZWxzZSB0aGlzLmRlbGV0ZWRTdGF0ZXNbdF1bbl09bnVsbDtlbHNlIHRoaXMuZGVsZXRlZFN0YXRlc1t0XT1udWxsO319LEpsLnByb3RvdHlwZS5nZXRTdGF0ZT1mdW5jdGlvbih0LGUpe3ZhciByPVN0cmluZyhlKSxuPXAoe30sKHRoaXMuc3RhdGVbdF18fHt9KVtyXSwodGhpcy5zdGF0ZUNoYW5nZXNbdF18fHt9KVtyXSk7aWYobnVsbD09PXRoaXMuZGVsZXRlZFN0YXRlc1t0XSlyZXR1cm4ge307aWYodGhpcy5kZWxldGVkU3RhdGVzW3RdKXt2YXIgaT10aGlzLmRlbGV0ZWRTdGF0ZXNbdF1bZV07aWYobnVsbD09PWkpcmV0dXJuIHt9O2Zvcih2YXIgYSBpbiBpKWRlbGV0ZSBuW2FdO31yZXR1cm4gbn0sSmwucHJvdG90eXBlLmluaXRpYWxpemVUaWxlU3RhdGU9ZnVuY3Rpb24odCxlKXt0LnNldEZlYXR1cmVTdGF0ZSh0aGlzLnN0YXRlLGUpO30sSmwucHJvdG90eXBlLmNvYWxlc2NlQ2hhbmdlcz1mdW5jdGlvbih0LGUpe3ZhciByPXt9O2Zvcih2YXIgbiBpbiB0aGlzLnN0YXRlQ2hhbmdlcyl7dGhpcy5zdGF0ZVtuXT10aGlzLnN0YXRlW25dfHx7fTt2YXIgaT17fTtmb3IodmFyIGEgaW4gdGhpcy5zdGF0ZUNoYW5nZXNbbl0pdGhpcy5zdGF0ZVtuXVthXXx8KHRoaXMuc3RhdGVbbl1bYV09e30pLHAodGhpcy5zdGF0ZVtuXVthXSx0aGlzLnN0YXRlQ2hhbmdlc1tuXVthXSksaVthXT10aGlzLnN0YXRlW25dW2FdO3Jbbl09aTt9Zm9yKHZhciBvIGluIHRoaXMuZGVsZXRlZFN0YXRlcyl7dGhpcy5zdGF0ZVtvXT10aGlzLnN0YXRlW29dfHx7fTt2YXIgcz17fTtpZihudWxsPT09dGhpcy5kZWxldGVkU3RhdGVzW29dKWZvcih2YXIgdSBpbiB0aGlzLnN0YXRlW29dKXNbdV09e30sdGhpcy5zdGF0ZVtvXVt1XT17fTtlbHNlIGZvcih2YXIgbCBpbiB0aGlzLmRlbGV0ZWRTdGF0ZXNbb10pe2lmKG51bGw9PT10aGlzLmRlbGV0ZWRTdGF0ZXNbb11bbF0pdGhpcy5zdGF0ZVtvXVtsXT17fTtlbHNlIGZvcih2YXIgYz0wLGg9T2JqZWN0LmtleXModGhpcy5kZWxldGVkU3RhdGVzW29dW2xdKTtjPGgubGVuZ3RoO2MrPTEpZGVsZXRlIHRoaXMuc3RhdGVbb11bbF1baFtjXV07c1tsXT10aGlzLnN0YXRlW29dW2xdO31yW29dPXJbb118fHt9LHAocltvXSxzKTt9aWYodGhpcy5zdGF0ZUNoYW5nZXM9e30sdGhpcy5kZWxldGVkU3RhdGVzPXt9LDAhPT1PYmplY3Qua2V5cyhyKS5sZW5ndGgpZm9yKHZhciBmIGluIHQpdFtmXS5zZXRGZWF0dXJlU3RhdGUocixlKTt9O3ZhciBIbD1mdW5jdGlvbih0LGUpe3RoaXMudGlsZUlEPXQsdGhpcy54PXQuY2Fub25pY2FsLngsdGhpcy55PXQuY2Fub25pY2FsLnksdGhpcy56PXQuY2Fub25pY2FsLnosdGhpcy5ncmlkPW5ldyBFbig4MTkyLDE2LDApLHRoaXMuZ3JpZDNEPW5ldyBFbig4MTkyLDE2LDApLHRoaXMuZmVhdHVyZUluZGV4QXJyYXk9bmV3IHJhLHRoaXMucHJvbW90ZUlkPWU7fTtmdW5jdGlvbiBZbCh0LGUscixuLGkpe3JldHVybiB2KHQsKGZ1bmN0aW9uKHQsYSl7dmFyIG89ZSBpbnN0YW5jZW9mIGhpP2UuZ2V0KGEpOm51bGw7cmV0dXJuIG8mJm8uZXZhbHVhdGU/by5ldmFsdWF0ZShyLG4saSk6b30pKX1mdW5jdGlvbiAkbCh0KXtmb3IodmFyIGU9MS8wLHI9MS8wLG49LTEvMCxpPS0xLzAsYT0wLG89dDthPG8ubGVuZ3RoO2ErPTEpe3ZhciBzPW9bYV07ZT1NYXRoLm1pbihlLHMueCkscj1NYXRoLm1pbihyLHMueSksbj1NYXRoLm1heChuLHMueCksaT1NYXRoLm1heChpLHMueSk7fXJldHVybiB7bWluWDplLG1pblk6cixtYXhYOm4sbWF4WTppfX1mdW5jdGlvbiBXbCh0LGUpe3JldHVybiBlLXR9SGwucHJvdG90eXBlLmluc2VydD1mdW5jdGlvbih0LGUscixuLGksYSl7dmFyIG89dGhpcy5mZWF0dXJlSW5kZXhBcnJheS5sZW5ndGg7dGhpcy5mZWF0dXJlSW5kZXhBcnJheS5lbXBsYWNlQmFjayhyLG4saSk7Zm9yKHZhciBzPWE/dGhpcy5ncmlkM0Q6dGhpcy5ncmlkLHU9MDt1PGUubGVuZ3RoO3UrKyl7Zm9yKHZhciBsPWVbdV0scD1bMS8wLDEvMCwtMS8wLC0xLzBdLGM9MDtjPGwubGVuZ3RoO2MrKyl7dmFyIGg9bFtjXTtwWzBdPU1hdGgubWluKHBbMF0saC54KSxwWzFdPU1hdGgubWluKHBbMV0saC55KSxwWzJdPU1hdGgubWF4KHBbMl0saC54KSxwWzNdPU1hdGgubWF4KHBbM10saC55KTt9cFswXTw4MTkyJiZwWzFdPDgxOTImJnBbMl0+PTAmJnBbM10+PTAmJnMuaW5zZXJ0KG8scFswXSxwWzFdLHBbMl0scFszXSk7fX0sSGwucHJvdG90eXBlLmxvYWRWVExheWVycz1mdW5jdGlvbigpe3JldHVybiB0aGlzLnZ0TGF5ZXJzfHwodGhpcy52dExheWVycz1uZXcgZHMuVmVjdG9yVGlsZShuZXcgS3ModGhpcy5yYXdUaWxlRGF0YSkpLmxheWVycyx0aGlzLnNvdXJjZUxheWVyQ29kZXI9bmV3IEdsKHRoaXMudnRMYXllcnM/T2JqZWN0LmtleXModGhpcy52dExheWVycykuc29ydCgpOlsiX2dlb2pzb25UaWxlTGF5ZXIiXSkpLHRoaXMudnRMYXllcnN9LEhsLnByb3RvdHlwZS5xdWVyeT1mdW5jdGlvbih0LGUscixuKXt2YXIgYT10aGlzO3RoaXMubG9hZFZUTGF5ZXJzKCk7Zm9yKHZhciBvPXQucGFyYW1zfHx7fSxzPTgxOTIvdC50aWxlU2l6ZS90LnNjYWxlLHU9cm4oby5maWx0ZXIpLGw9dC5xdWVyeUdlb21ldHJ5LHA9dC5xdWVyeVBhZGRpbmcqcyxjPSRsKGwpLGg9dGhpcy5ncmlkLnF1ZXJ5KGMubWluWC1wLGMubWluWS1wLGMubWF4WCtwLGMubWF4WStwKSxmPSRsKHQuY2FtZXJhUXVlcnlHZW9tZXRyeSkseT10aGlzLmdyaWQzRC5xdWVyeShmLm1pblgtcCxmLm1pblktcCxmLm1heFgrcCxmLm1heFkrcCwoZnVuY3Rpb24oZSxyLG4sYSl7cmV0dXJuIGZ1bmN0aW9uKHQsZSxyLG4sYSl7Zm9yKHZhciBvPTAscz10O288cy5sZW5ndGg7bys9MSl7dmFyIHU9c1tvXTtpZihlPD11LngmJnI8PXUueSYmbj49dS54JiZhPj11LnkpcmV0dXJuICEwfXZhciBsPVtuZXcgaShlLHIpLG5ldyBpKGUsYSksbmV3IGkobixhKSxuZXcgaShuLHIpXTtpZih0Lmxlbmd0aD4yKWZvcih2YXIgcD0wLGM9bDtwPGMubGVuZ3RoO3ArPTEpaWYoWGEodCxjW3BdKSlyZXR1cm4gITA7Zm9yKHZhciBoPTA7aDx0Lmxlbmd0aC0xO2grKylpZihKYSh0W2hdLHRbaCsxXSxsKSlyZXR1cm4gITA7cmV0dXJuICExfSh0LmNhbWVyYVF1ZXJ5R2VvbWV0cnksZS1wLHItcCxuK3AsYStwKX0pKSxkPTAsbT15O2Q8bS5sZW5ndGg7ZCs9MSloLnB1c2gobVtkXSk7aC5zb3J0KFdsKTtmb3IodmFyIHYsZz17fSx4PWZ1bmN0aW9uKGkpe3ZhciBwPWhbaV07aWYocCE9PXYpe3Y9cDt2YXIgYz1hLmZlYXR1cmVJbmRleEFycmF5LmdldChwKSxmPW51bGw7YS5sb2FkTWF0Y2hpbmdGZWF0dXJlKGcsYy5idWNrZXRJbmRleCxjLnNvdXJjZUxheWVySW5kZXgsYy5mZWF0dXJlSW5kZXgsdSxvLmxheWVycyxvLmF2YWlsYWJsZUltYWdlcyxlLHIsbiwoZnVuY3Rpb24oZSxyLG4pe3JldHVybiBmfHwoZj1GYShlKSksci5xdWVyeUludGVyc2VjdHNGZWF0dXJlKGwsZSxuLGYsYS56LHQudHJhbnNmb3JtLHMsdC5waXhlbFBvc01hdHJpeCl9KSk7fX0sYj0wO2I8aC5sZW5ndGg7YisrKXgoYik7cmV0dXJuIGd9LEhsLnByb3RvdHlwZS5sb2FkTWF0Y2hpbmdGZWF0dXJlPWZ1bmN0aW9uKHQsZSxyLG4saSxhLG8scyx1LGwscCl7dmFyIGM9dGhpcy5idWNrZXRMYXllcklEc1tlXTtpZighYXx8ZnVuY3Rpb24odCxlKXtmb3IodmFyIHI9MDtyPHQubGVuZ3RoO3IrKylpZihlLmluZGV4T2YodFtyXSk+PTApcmV0dXJuICEwO3JldHVybiAhMX0oYSxjKSl7dmFyIGg9dGhpcy5zb3VyY2VMYXllckNvZGVyLmRlY29kZShyKSxmPXRoaXMudnRMYXllcnNbaF0uZmVhdHVyZShuKTtpZihpLmZpbHRlcihuZXcgaWkodGhpcy50aWxlSUQub3ZlcnNjYWxlZFopLGYpKWZvcih2YXIgeT10aGlzLmdldElkKGYsaCksZD0wO2Q8Yy5sZW5ndGg7ZCsrKXt2YXIgbT1jW2RdO2lmKCEoYSYmYS5pbmRleE9mKG0pPDApKXt2YXIgdj1zW21dO2lmKHYpe3ZhciBnPXt9O3ZvaWQgMCE9PXkmJmwmJihnPWwuZ2V0U3RhdGUodi5zb3VyY2VMYXllcnx8Il9nZW9qc29uVGlsZUxheWVyIix5KSk7dmFyIHg9dVttXTt4LnBhaW50PVlsKHgucGFpbnQsdi5wYWludCxmLGcsbykseC5sYXlvdXQ9WWwoeC5sYXlvdXQsdi5sYXlvdXQsZixnLG8pO3ZhciBiPSFwfHxwKGYsdixnKTtpZihiKXt2YXIgdz1uZXcgWmwoZix0aGlzLnosdGhpcy54LHRoaXMueSx5KTt3LmxheWVyPXg7dmFyIF89dFttXTt2b2lkIDA9PT1fJiYoXz10W21dPVtdKSxfLnB1c2goe2ZlYXR1cmVJbmRleDpuLGZlYXR1cmU6dyxpbnRlcnNlY3Rpb25aOmJ9KTt9fX19fX0sSGwucHJvdG90eXBlLmxvb2t1cFN5bWJvbEZlYXR1cmVzPWZ1bmN0aW9uKHQsZSxyLG4saSxhLG8scyl7dmFyIHU9e307dGhpcy5sb2FkVlRMYXllcnMoKTtmb3IodmFyIGw9cm4oaSkscD0wLGM9dDtwPGMubGVuZ3RoO3ArPTEpdGhpcy5sb2FkTWF0Y2hpbmdGZWF0dXJlKHUscixuLGNbcF0sbCxhLG8scyxlKTtyZXR1cm4gdX0sSGwucHJvdG90eXBlLmhhc0xheWVyPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0wLHI9dGhpcy5idWNrZXRMYXllcklEcztlPHIubGVuZ3RoO2UrPTEpZm9yKHZhciBuPTAsaT1yW2VdO248aS5sZW5ndGg7bis9MSlpZih0PT09aVtuXSlyZXR1cm4gITA7cmV0dXJuICExfSxIbC5wcm90b3R5cGUuZ2V0SWQ9ZnVuY3Rpb24odCxlKXt2YXIgcj10LmlkO3JldHVybiB0aGlzLnByb21vdGVJZCYmImJvb2xlYW4iPT10eXBlb2Yocj10LnByb3BlcnRpZXNbInN0cmluZyI9PXR5cGVvZiB0aGlzLnByb21vdGVJZD90aGlzLnByb21vdGVJZDp0aGlzLnByb21vdGVJZFtlXV0pJiYocj1OdW1iZXIocikpLHJ9LEZuKCJGZWF0dXJlSW5kZXgiLEhsLHtvbWl0OlsicmF3VGlsZURhdGEiLCJzb3VyY2VMYXllckNvZGVyIl19KTt2YXIgUWw9ZnVuY3Rpb24odCxlKXt0aGlzLnRpbGVJRD10LHRoaXMudWlkPWgoKSx0aGlzLnVzZXM9MCx0aGlzLnRpbGVTaXplPWUsdGhpcy5idWNrZXRzPXt9LHRoaXMuZXhwaXJhdGlvblRpbWU9bnVsbCx0aGlzLnF1ZXJ5UGFkZGluZz0wLHRoaXMuaGFzU3ltYm9sQnVja2V0cz0hMSx0aGlzLmhhc1JUTFRleHQ9ITEsdGhpcy5kZXBlbmRlbmNpZXM9e30sdGhpcy5leHBpcmVkUmVxdWVzdENvdW50PTAsdGhpcy5zdGF0ZT0ibG9hZGluZyI7fTtRbC5wcm90b3R5cGUucmVnaXN0ZXJGYWRlRHVyYXRpb249ZnVuY3Rpb24odCl7dmFyIGU9dCt0aGlzLnRpbWVBZGRlZDtlPEQubm93KCl8fHRoaXMuZmFkZUVuZFRpbWUmJmU8dGhpcy5mYWRlRW5kVGltZXx8KHRoaXMuZmFkZUVuZFRpbWU9ZSk7fSxRbC5wcm90b3R5cGUud2FzUmVxdWVzdGVkPWZ1bmN0aW9uKCl7cmV0dXJuICJlcnJvcmVkIj09PXRoaXMuc3RhdGV8fCJsb2FkZWQiPT09dGhpcy5zdGF0ZXx8InJlbG9hZGluZyI9PT10aGlzLnN0YXRlfSxRbC5wcm90b3R5cGUubG9hZFZlY3RvckRhdGE9ZnVuY3Rpb24odCxlLHIpe2lmKHRoaXMuaGFzRGF0YSgpJiZ0aGlzLnVubG9hZFZlY3RvckRhdGEoKSx0aGlzLnN0YXRlPSJsb2FkZWQiLHQpe2Zvcih2YXIgbiBpbiB0LmZlYXR1cmVJbmRleCYmKHRoaXMubGF0ZXN0RmVhdHVyZUluZGV4PXQuZmVhdHVyZUluZGV4LHQucmF3VGlsZURhdGE/KHRoaXMubGF0ZXN0UmF3VGlsZURhdGE9dC5yYXdUaWxlRGF0YSx0aGlzLmxhdGVzdEZlYXR1cmVJbmRleC5yYXdUaWxlRGF0YT10LnJhd1RpbGVEYXRhKTp0aGlzLmxhdGVzdFJhd1RpbGVEYXRhJiYodGhpcy5sYXRlc3RGZWF0dXJlSW5kZXgucmF3VGlsZURhdGE9dGhpcy5sYXRlc3RSYXdUaWxlRGF0YSkpLHRoaXMuY29sbGlzaW9uQm94QXJyYXk9dC5jb2xsaXNpb25Cb3hBcnJheSx0aGlzLmJ1Y2tldHM9ZnVuY3Rpb24odCxlKXt2YXIgcj17fTtpZighZSlyZXR1cm4gcjtmb3IodmFyIG49ZnVuY3Rpb24oKXt2YXIgdD1hW2ldLG49dC5sYXllcklkcy5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiBlLmdldExheWVyKHQpfSkpLmZpbHRlcihCb29sZWFuKTtpZigwIT09bi5sZW5ndGgpe3QubGF5ZXJzPW4sdC5zdGF0ZURlcGVuZGVudExheWVySWRzJiYodC5zdGF0ZURlcGVuZGVudExheWVycz10LnN0YXRlRGVwZW5kZW50TGF5ZXJJZHMubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gbi5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmlkPT09dH0pKVswXX0pKSk7Zm9yKHZhciBvPTAscz1uO288cy5sZW5ndGg7bys9MSlyW3Nbb10uaWRdPXQ7fX0saT0wLGE9dDtpPGEubGVuZ3RoO2krPTEpbigpO3JldHVybiByfSh0LmJ1Y2tldHMsZS5zdHlsZSksdGhpcy5oYXNTeW1ib2xCdWNrZXRzPSExLHRoaXMuYnVja2V0cyl7dmFyIGk9dGhpcy5idWNrZXRzW25dO2lmKGkgaW5zdGFuY2VvZiBjbCl7aWYodGhpcy5oYXNTeW1ib2xCdWNrZXRzPSEwLCFyKWJyZWFrO2kuanVzdFJlbG9hZGVkPSEwO319aWYodGhpcy5oYXNSVExUZXh0PSExLHRoaXMuaGFzU3ltYm9sQnVja2V0cylmb3IodmFyIGEgaW4gdGhpcy5idWNrZXRzKXt2YXIgbz10aGlzLmJ1Y2tldHNbYV07aWYobyBpbnN0YW5jZW9mIGNsJiZvLmhhc1JUTFRleHQpe3RoaXMuaGFzUlRMVGV4dD0hMCxuaS5pc0xvYWRpbmcoKXx8bmkuaXNMb2FkZWQoKXx8ImRlZmVycmVkIiE9PWVpKCl8fHJpKCk7YnJlYWt9fWZvcih2YXIgcyBpbiB0aGlzLnF1ZXJ5UGFkZGluZz0wLHRoaXMuYnVja2V0cyl7dmFyIHU9dGhpcy5idWNrZXRzW3NdO3RoaXMucXVlcnlQYWRkaW5nPU1hdGgubWF4KHRoaXMucXVlcnlQYWRkaW5nLGUuc3R5bGUuZ2V0TGF5ZXIocykucXVlcnlSYWRpdXModSkpO310LmltYWdlQXRsYXMmJih0aGlzLmltYWdlQXRsYXM9dC5pbWFnZUF0bGFzKSx0LmdseXBoQXRsYXNJbWFnZSYmKHRoaXMuZ2x5cGhBdGxhc0ltYWdlPXQuZ2x5cGhBdGxhc0ltYWdlKTt9ZWxzZSB0aGlzLmNvbGxpc2lvbkJveEFycmF5PW5ldyBKaTt9LFFsLnByb3RvdHlwZS51bmxvYWRWZWN0b3JEYXRhPWZ1bmN0aW9uKCl7Zm9yKHZhciB0IGluIHRoaXMuYnVja2V0cyl0aGlzLmJ1Y2tldHNbdF0uZGVzdHJveSgpO3RoaXMuYnVja2V0cz17fSx0aGlzLmltYWdlQXRsYXNUZXh0dXJlJiZ0aGlzLmltYWdlQXRsYXNUZXh0dXJlLmRlc3Ryb3koKSx0aGlzLmltYWdlQXRsYXMmJih0aGlzLmltYWdlQXRsYXM9bnVsbCksdGhpcy5nbHlwaEF0bGFzVGV4dHVyZSYmdGhpcy5nbHlwaEF0bGFzVGV4dHVyZS5kZXN0cm95KCksdGhpcy5sYXRlc3RGZWF0dXJlSW5kZXg9bnVsbCx0aGlzLnN0YXRlPSJ1bmxvYWRlZCI7fSxRbC5wcm90b3R5cGUuZ2V0QnVja2V0PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmJ1Y2tldHNbdC5pZF19LFFsLnByb3RvdHlwZS51cGxvYWQ9ZnVuY3Rpb24odCl7Zm9yKHZhciBlIGluIHRoaXMuYnVja2V0cyl7dmFyIHI9dGhpcy5idWNrZXRzW2VdO3IudXBsb2FkUGVuZGluZygpJiZyLnVwbG9hZCh0KTt9dmFyIG49dC5nbDt0aGlzLmltYWdlQXRsYXMmJiF0aGlzLmltYWdlQXRsYXMudXBsb2FkZWQmJih0aGlzLmltYWdlQXRsYXNUZXh0dXJlPW5ldyB6bCh0LHRoaXMuaW1hZ2VBdGxhcy5pbWFnZSxuLlJHQkEpLHRoaXMuaW1hZ2VBdGxhcy51cGxvYWRlZD0hMCksdGhpcy5nbHlwaEF0bGFzSW1hZ2UmJih0aGlzLmdseXBoQXRsYXNUZXh0dXJlPW5ldyB6bCh0LHRoaXMuZ2x5cGhBdGxhc0ltYWdlLG4uQUxQSEEpLHRoaXMuZ2x5cGhBdGxhc0ltYWdlPW51bGwpO30sUWwucHJvdG90eXBlLnByZXBhcmU9ZnVuY3Rpb24odCl7dGhpcy5pbWFnZUF0bGFzJiZ0aGlzLmltYWdlQXRsYXMucGF0Y2hVcGRhdGVkSW1hZ2VzKHQsdGhpcy5pbWFnZUF0bGFzVGV4dHVyZSk7fSxRbC5wcm90b3R5cGUucXVlcnlSZW5kZXJlZEZlYXR1cmVzPWZ1bmN0aW9uKHQsZSxyLG4saSxhLG8scyx1LGwpe3JldHVybiB0aGlzLmxhdGVzdEZlYXR1cmVJbmRleCYmdGhpcy5sYXRlc3RGZWF0dXJlSW5kZXgucmF3VGlsZURhdGE/dGhpcy5sYXRlc3RGZWF0dXJlSW5kZXgucXVlcnkoe3F1ZXJ5R2VvbWV0cnk6bixjYW1lcmFRdWVyeUdlb21ldHJ5Omksc2NhbGU6YSx0aWxlU2l6ZTp0aGlzLnRpbGVTaXplLHBpeGVsUG9zTWF0cml4OmwsdHJhbnNmb3JtOnMscGFyYW1zOm8scXVlcnlQYWRkaW5nOnRoaXMucXVlcnlQYWRkaW5nKnV9LHQsZSxyKTp7fX0sUWwucHJvdG90eXBlLnF1ZXJ5U291cmNlRmVhdHVyZXM9ZnVuY3Rpb24odCxlKXt2YXIgcj10aGlzLmxhdGVzdEZlYXR1cmVJbmRleDtpZihyJiZyLnJhd1RpbGVEYXRhKXt2YXIgbj1yLmxvYWRWVExheWVycygpLGk9ZT9lLnNvdXJjZUxheWVyOiIiLGE9bi5fZ2VvanNvblRpbGVMYXllcnx8bltpXTtpZihhKWZvcih2YXIgbz1ybihlJiZlLmZpbHRlcikscz10aGlzLnRpbGVJRC5jYW5vbmljYWwsdT1zLnosbD1zLngscD1zLnksYz17ejp1LHg6bCx5OnB9LGg9MDtoPGEubGVuZ3RoO2grKyl7dmFyIGY9YS5mZWF0dXJlKGgpO2lmKG8uZmlsdGVyKG5ldyBpaSh0aGlzLnRpbGVJRC5vdmVyc2NhbGVkWiksZikpe3ZhciB5PXIuZ2V0SWQoZixpKSxkPW5ldyBabChmLHUsbCxwLHkpO2QudGlsZT1jLHQucHVzaChkKTt9fX19LFFsLnByb3RvdHlwZS5oYXNEYXRhPWZ1bmN0aW9uKCl7cmV0dXJuICJsb2FkZWQiPT09dGhpcy5zdGF0ZXx8InJlbG9hZGluZyI9PT10aGlzLnN0YXRlfHwiZXhwaXJlZCI9PT10aGlzLnN0YXRlfSxRbC5wcm90b3R5cGUucGF0dGVybnNMb2FkZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pbWFnZUF0bGFzJiYhIU9iamVjdC5rZXlzKHRoaXMuaW1hZ2VBdGxhcy5wYXR0ZXJuUG9zaXRpb25zKS5sZW5ndGh9LFFsLnByb3RvdHlwZS5zZXRFeHBpcnlEYXRhPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuZXhwaXJhdGlvblRpbWU7aWYodC5jYWNoZUNvbnRyb2wpe3ZhciByPWsodC5jYWNoZUNvbnRyb2wpO3JbIm1heC1hZ2UiXSYmKHRoaXMuZXhwaXJhdGlvblRpbWU9RGF0ZS5ub3coKSsxZTMqclsibWF4LWFnZSJdKTt9ZWxzZSB0LmV4cGlyZXMmJih0aGlzLmV4cGlyYXRpb25UaW1lPW5ldyBEYXRlKHQuZXhwaXJlcykuZ2V0VGltZSgpKTtpZih0aGlzLmV4cGlyYXRpb25UaW1lKXt2YXIgbj1EYXRlLm5vdygpLGk9ITE7aWYodGhpcy5leHBpcmF0aW9uVGltZT5uKWk9ITE7ZWxzZSBpZihlKWlmKHRoaXMuZXhwaXJhdGlvblRpbWU8ZSlpPSEwO2Vsc2Uge3ZhciBhPXRoaXMuZXhwaXJhdGlvblRpbWUtZTthP3RoaXMuZXhwaXJhdGlvblRpbWU9bitNYXRoLm1heChhLDNlNCk6aT0hMDt9ZWxzZSBpPSEwO2k/KHRoaXMuZXhwaXJlZFJlcXVlc3RDb3VudCsrLHRoaXMuc3RhdGU9ImV4cGlyZWQiKTp0aGlzLmV4cGlyZWRSZXF1ZXN0Q291bnQ9MDt9fSxRbC5wcm90b3R5cGUuZ2V0RXhwaXJ5VGltZW91dD1mdW5jdGlvbigpe2lmKHRoaXMuZXhwaXJhdGlvblRpbWUpcmV0dXJuIHRoaXMuZXhwaXJlZFJlcXVlc3RDb3VudD8xZTMqKDE8PE1hdGgubWluKHRoaXMuZXhwaXJlZFJlcXVlc3RDb3VudC0xLDMxKSk6TWF0aC5taW4odGhpcy5leHBpcmF0aW9uVGltZS0obmV3IERhdGUpLmdldFRpbWUoKSxNYXRoLnBvdygyLDMxKS0xKX0sUWwucHJvdG90eXBlLnNldEZlYXR1cmVTdGF0ZT1mdW5jdGlvbih0LGUpe2lmKHRoaXMubGF0ZXN0RmVhdHVyZUluZGV4JiZ0aGlzLmxhdGVzdEZlYXR1cmVJbmRleC5yYXdUaWxlRGF0YSYmMCE9PU9iamVjdC5rZXlzKHQpLmxlbmd0aCl7dmFyIHI9dGhpcy5sYXRlc3RGZWF0dXJlSW5kZXgubG9hZFZUTGF5ZXJzKCk7Zm9yKHZhciBuIGluIHRoaXMuYnVja2V0cylpZihlLnN0eWxlLmhhc0xheWVyKG4pKXt2YXIgaT10aGlzLmJ1Y2tldHNbbl0sYT1pLmxheWVyc1swXS5zb3VyY2VMYXllcnx8Il9nZW9qc29uVGlsZUxheWVyIixvPXJbYV0scz10W2FdO2lmKG8mJnMmJjAhPT1PYmplY3Qua2V5cyhzKS5sZW5ndGgpe2kudXBkYXRlKHMsbyx0aGlzLmltYWdlQXRsYXMmJnRoaXMuaW1hZ2VBdGxhcy5wYXR0ZXJuUG9zaXRpb25zfHx7fSk7dmFyIHU9ZSYmZS5zdHlsZSYmZS5zdHlsZS5nZXRMYXllcihuKTt1JiZ1LnBhaW50JiYodGhpcy5xdWVyeVBhZGRpbmc9TWF0aC5tYXgodGhpcy5xdWVyeVBhZGRpbmcsdS5xdWVyeVJhZGl1cyhpKSkpO319fX0sUWwucHJvdG90eXBlLmhvbGRpbmdGb3JGYWRlPWZ1bmN0aW9uKCl7cmV0dXJuIHZvaWQgMCE9PXRoaXMuc3ltYm9sRmFkZUhvbGRVbnRpbH0sUWwucHJvdG90eXBlLnN5bWJvbEZhZGVGaW5pc2hlZD1mdW5jdGlvbigpe3JldHVybiAhdGhpcy5zeW1ib2xGYWRlSG9sZFVudGlsfHx0aGlzLnN5bWJvbEZhZGVIb2xkVW50aWw8RC5ub3coKX0sUWwucHJvdG90eXBlLmNsZWFyRmFkZUhvbGQ9ZnVuY3Rpb24oKXt0aGlzLnN5bWJvbEZhZGVIb2xkVW50aWw9dm9pZCAwO30sUWwucHJvdG90eXBlLnNldEhvbGREdXJhdGlvbj1mdW5jdGlvbih0KXt0aGlzLnN5bWJvbEZhZGVIb2xkVW50aWw9RC5ub3coKSt0O30sUWwucHJvdG90eXBlLnNldERlcGVuZGVuY2llcz1mdW5jdGlvbih0LGUpe2Zvcih2YXIgcj17fSxuPTAsaT1lO248aS5sZW5ndGg7bis9MSlyW2lbbl1dPSEwO3RoaXMuZGVwZW5kZW5jaWVzW3RdPXI7fSxRbC5wcm90b3R5cGUuaGFzRGVwZW5kZW5jeT1mdW5jdGlvbih0LGUpe2Zvcih2YXIgcj0wLG49dDtyPG4ubGVuZ3RoO3IrPTEpe3ZhciBpPXRoaXMuZGVwZW5kZW5jaWVzW25bcl1dO2lmKGkpZm9yKHZhciBhPTAsbz1lO2E8by5sZW5ndGg7YSs9MSlpZihpW29bYV1dKXJldHVybiAhMH1yZXR1cm4gITF9O3ZhciB0cD1zZWxmLnBlcmZvcm1hbmNlLGVwPWZ1bmN0aW9uKHQpe3RoaXMuX21hcmtzPXtzdGFydDpbdC51cmwsInN0YXJ0Il0uam9pbigiIyIpLGVuZDpbdC51cmwsImVuZCJdLmpvaW4oIiMiKSxtZWFzdXJlOnQudXJsLnRvU3RyaW5nKCl9LHRwLm1hcmsodGhpcy5fbWFya3Muc3RhcnQpO307ZXAucHJvdG90eXBlLmZpbmlzaD1mdW5jdGlvbigpe3RwLm1hcmsodGhpcy5fbWFya3MuZW5kKTt2YXIgdD10cC5nZXRFbnRyaWVzQnlOYW1lKHRoaXMuX21hcmtzLm1lYXN1cmUpO3JldHVybiAwPT09dC5sZW5ndGgmJih0cC5tZWFzdXJlKHRoaXMuX21hcmtzLm1lYXN1cmUsdGhpcy5fbWFya3Muc3RhcnQsdGhpcy5fbWFya3MuZW5kKSx0PXRwLmdldEVudHJpZXNCeU5hbWUodGhpcy5fbWFya3MubWVhc3VyZSksdHAuY2xlYXJNYXJrcyh0aGlzLl9tYXJrcy5zdGFydCksdHAuY2xlYXJNYXJrcyh0aGlzLl9tYXJrcy5lbmQpLHRwLmNsZWFyTWVhc3VyZXModGhpcy5fbWFya3MubWVhc3VyZSkpLHR9LHQuQWN0b3I9TWwsdC5BbHBoYUltYWdlPWhvLHQuQ2Fub25pY2FsVGlsZUlEPVVsLHQuQ29sbGlzaW9uQm94QXJyYXk9SmksdC5Db2xvcj0kdCx0LkRFTURhdGE9S2wsdC5EYXRhQ29uc3RhbnRQcm9wZXJ0eT1maSx0LkRpY3Rpb25hcnlDb2Rlcj1HbCx0LkVYVEVOVD04MTkyLHQuRXJyb3JFdmVudD1TdCx0LkV2YWx1YXRpb25QYXJhbWV0ZXJzPWlpLHQuRXZlbnQ9QXQsdC5FdmVudGVkPWt0LHQuRmVhdHVyZUluZGV4PUhsLHQuRmlsbEJ1Y2tldD1ycyx0LkZpbGxFeHRydXNpb25CdWNrZXQ9eHMsdC5JbWFnZUF0bGFzPXl1LHQuSW1hZ2VQb3NpdGlvbj1odSx0LkxpbmVCdWNrZXQ9TXMsdC5MbmdMYXQ9UGwsdC5MbmdMYXRCb3VuZHM9VGwsdC5NZXJjYXRvckNvb3JkaW5hdGU9T2wsdC5PTkVfRU09MjQsdC5PdmVyc2NhbGVkVGlsZUlEPXFsLHQuUG9pbnQ9aSx0LlBvaW50JDE9aSx0LlByb3BlcnRpZXM9Z2ksdC5Qcm90b2J1Zj1Lcyx0LlJHQkFJbWFnZT1mbyx0LlJlcXVlc3RNYW5hZ2VyPU4sdC5SZXF1ZXN0UGVyZm9ybWFuY2U9ZXAsdC5SZXNvdXJjZVR5cGU9aHQsdC5TZWdtZW50VmVjdG9yPWlhLHQuU291cmNlRmVhdHVyZVN0YXRlPUpsLHQuU3RydWN0QXJyYXlMYXlvdXQxdWkyPUtpLHQuU3RydWN0QXJyYXlMYXlvdXQyZjFmMmkxNj1GaSx0LlN0cnVjdEFycmF5TGF5b3V0Mmk0PWtpLHQuU3RydWN0QXJyYXlMYXlvdXQzdWk2PUxpLHQuU3RydWN0QXJyYXlMYXlvdXQ0aTg9SWksdC5TeW1ib2xCdWNrZXQ9Y2wsdC5UZXh0dXJlPXpsLHQuVGlsZT1RbCx0LlRyYW5zaXRpb25hYmxlPXNpLHQuVW5pZm9ybTFmPXZhLHQuVW5pZm9ybTFpPW1hLHQuVW5pZm9ybTJmPWdhLHQuVW5pZm9ybTNmPXhhLHQuVW5pZm9ybTRmPWJhLHQuVW5pZm9ybUNvbG9yPXdhLHQuVW5pZm9ybU1hdHJpeDRmPUFhLHQuVW53cmFwcGVkVGlsZUlEPWpsLHQuVmFsaWRhdGlvbkVycm9yPXp0LHQuV3JpdGluZ01vZGU9ZHUsdC5ab29tSGlzdG9yeT1qbix0LmFkZD1mdW5jdGlvbih0LGUscil7cmV0dXJuIHRbMF09ZVswXStyWzBdLHRbMV09ZVsxXStyWzFdLHRbMl09ZVsyXStyWzJdLHR9LHQuYWRkRHluYW1pY0F0dHJpYnV0ZXM9c2wsdC5hc3luY0FsbD1mdW5jdGlvbih0LGUscil7aWYoIXQubGVuZ3RoKXJldHVybiByKG51bGwsW10pO3ZhciBuPXQubGVuZ3RoLGk9bmV3IEFycmF5KHQubGVuZ3RoKSxhPW51bGw7dC5mb3JFYWNoKChmdW5jdGlvbih0LG8pe2UodCwoZnVuY3Rpb24odCxlKXt0JiYoYT10KSxpW29dPWUsMD09LS1uJiZyKGEsaSk7fSkpO30pKTt9LHQuYmV6aWVyPW8sdC5iaW5kQWxsPWQsdC5icm93c2VyPUQsdC5jYWNoZUVudHJ5UG9zc2libHlBZGRlZD1mdW5jdGlvbih0KXsrK3B0Pm90JiYodC5nZXRBY3RvcigpLnNlbmQoImVuZm9yY2VDYWNoZVNpemVMaW1pdCIsYXQpLHB0PTApO30sdC5jbGFtcD11LHQuY2xlYXJUaWxlQ2FjaGU9ZnVuY3Rpb24odCl7dmFyIGU9c2VsZi5jYWNoZXMuZGVsZXRlKCJtYXBib3gtdGlsZXMiKTt0JiZlLmNhdGNoKHQpLnRoZW4oKGZ1bmN0aW9uKCl7cmV0dXJuIHQoKX0pKTt9LHQuY2xpcExpbmU9VXUsdC5jbG9uZT1mdW5jdGlvbih0KXt2YXIgZT1uZXcgdG8oMTYpO3JldHVybiBlWzBdPXRbMF0sZVsxXT10WzFdLGVbMl09dFsyXSxlWzNdPXRbM10sZVs0XT10WzRdLGVbNV09dFs1XSxlWzZdPXRbNl0sZVs3XT10WzddLGVbOF09dFs4XSxlWzldPXRbOV0sZVsxMF09dFsxMF0sZVsxMV09dFsxMV0sZVsxMl09dFsxMl0sZVsxM109dFsxM10sZVsxNF09dFsxNF0sZVsxNV09dFsxNV0sZX0sdC5jbG9uZSQxPXgsdC5jbG9uZSQyPWZ1bmN0aW9uKHQpe3ZhciBlPW5ldyB0bygzKTtyZXR1cm4gZVswXT10WzBdLGVbMV09dFsxXSxlWzJdPXRbMl0sZX0sdC5jb2xsaXNpb25DaXJjbGVMYXlvdXQ9T3MsdC5jb25maWc9TCx0LmNyZWF0ZT1mdW5jdGlvbigpe3ZhciB0PW5ldyB0bygxNik7cmV0dXJuIHRvIT1GbG9hdDMyQXJyYXkmJih0WzFdPTAsdFsyXT0wLHRbM109MCx0WzRdPTAsdFs2XT0wLHRbN109MCx0WzhdPTAsdFs5XT0wLHRbMTFdPTAsdFsxMl09MCx0WzEzXT0wLHRbMTRdPTApLHRbMF09MSx0WzVdPTEsdFsxMF09MSx0WzE1XT0xLHR9LHQuY3JlYXRlJDE9ZnVuY3Rpb24oKXt2YXIgdD1uZXcgdG8oOSk7cmV0dXJuIHRvIT1GbG9hdDMyQXJyYXkmJih0WzFdPTAsdFsyXT0wLHRbM109MCx0WzVdPTAsdFs2XT0wLHRbN109MCksdFswXT0xLHRbNF09MSx0WzhdPTEsdH0sdC5jcmVhdGUkMj1mdW5jdGlvbigpe3ZhciB0PW5ldyB0byg0KTtyZXR1cm4gdG8hPUZsb2F0MzJBcnJheSYmKHRbMV09MCx0WzJdPTApLHRbMF09MSx0WzNdPTEsdH0sdC5jcmVhdGVDb21tb25qc01vZHVsZT1lLHQuY3JlYXRlRXhwcmVzc2lvbj1Ocix0LmNyZWF0ZUxheW91dD1BaSx0LmNyZWF0ZVN0eWxlTGF5ZXI9ZnVuY3Rpb24odCl7cmV0dXJuICJjdXN0b20iPT09dC50eXBlP25ldyBibCh0KTpuZXcgd2xbdC50eXBlXSh0KX0sdC5jcm9zcz1mdW5jdGlvbih0LGUscil7dmFyIG49ZVswXSxpPWVbMV0sYT1lWzJdLG89clswXSxzPXJbMV0sdT1yWzJdO3JldHVybiB0WzBdPWkqdS1hKnMsdFsxXT1hKm8tbip1LHRbMl09bipzLWkqbyx0fSx0LmRlZXBFcXVhbD1mdW5jdGlvbiB0KGUscil7aWYoQXJyYXkuaXNBcnJheShlKSl7aWYoIUFycmF5LmlzQXJyYXkocil8fGUubGVuZ3RoIT09ci5sZW5ndGgpcmV0dXJuICExO2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKWlmKCF0KGVbbl0scltuXSkpcmV0dXJuICExO3JldHVybiAhMH1pZigib2JqZWN0Ij09dHlwZW9mIGUmJm51bGwhPT1lJiZudWxsIT09cil7aWYoIm9iamVjdCIhPXR5cGVvZiByKXJldHVybiAhMTtpZihPYmplY3Qua2V5cyhlKS5sZW5ndGghPT1PYmplY3Qua2V5cyhyKS5sZW5ndGgpcmV0dXJuICExO2Zvcih2YXIgaSBpbiBlKWlmKCF0KGVbaV0scltpXSkpcmV0dXJuICExO3JldHVybiAhMH1yZXR1cm4gZT09PXJ9LHQuZG90PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRbMF0qZVswXSt0WzFdKmVbMV0rdFsyXSplWzJdfSx0LmRvdCQxPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRbMF0qZVswXSt0WzFdKmVbMV0rdFsyXSplWzJdK3RbM10qZVszXX0sdC5lYXNlPXMsdC5lbWl0VmFsaWRhdGlvbkVycm9ycz1Nbix0LmVuZHNXaXRoPW0sdC5lbmZvcmNlQ2FjaGVTaXplTGltaXQ9ZnVuY3Rpb24odCl7c3QoKSxXJiZXLnRoZW4oKGZ1bmN0aW9uKGUpe2Uua2V5cygpLnRoZW4oKGZ1bmN0aW9uKHIpe2Zvcih2YXIgbj0wO248ci5sZW5ndGgtdDtuKyspZS5kZWxldGUocltuXSk7fSkpO30pKTt9LHQuZXZhbHVhdGVTaXplRm9yRmVhdHVyZT1UdSx0LmV2YWx1YXRlU2l6ZUZvclpvb209UHUsdC5ldmFsdWF0ZVZhcmlhYmxlT2Zmc2V0PVF1LHQuZXZlbnRlZD10aSx0LmV4dGVuZD1wLHQuZmVhdHVyZUZpbHRlcj1ybix0LmZpbHRlck9iamVjdD1nLHQuZnJvbVJvdGF0aW9uPWZ1bmN0aW9uKHQsZSl7dmFyIHI9TWF0aC5zaW4oZSksbj1NYXRoLmNvcyhlKTtyZXR1cm4gdFswXT1uLHRbMV09cix0WzJdPTAsdFszXT0tcix0WzRdPW4sdFs1XT0wLHRbNl09MCx0WzddPTAsdFs4XT0xLHR9LHQuZ2V0QW5jaG9yQWxpZ25tZW50PUl1LHQuZ2V0QW5jaG9ySnVzdGlmaWNhdGlvbj10bCx0LmdldEFycmF5QnVmZmVyPWd0LHQuZ2V0SW1hZ2U9YnQsdC5nZXRKU09OPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHZ0KHAodCx7dHlwZToianNvbiJ9KSxlKX0sdC5nZXRSVExUZXh0UGx1Z2luU3RhdHVzPWVpLHQuZ2V0UmVmZXJyZXI9eXQsdC5nZXRWaWRlbz1mdW5jdGlvbih0LGUpe3ZhciByLG4saT1zZWxmLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInZpZGVvIik7aS5tdXRlZD0hMCxpLm9ubG9hZHN0YXJ0PWZ1bmN0aW9uKCl7ZShudWxsLGkpO307Zm9yKHZhciBhPTA7YTx0Lmxlbmd0aDthKyspe3ZhciBvPXNlbGYuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic291cmNlIik7cj10W2FdLG49dm9pZCAwLChuPXNlbGYuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYSIpKS5ocmVmPXIsKG4ucHJvdG9jb2whPT1zZWxmLmRvY3VtZW50LmxvY2F0aW9uLnByb3RvY29sfHxuLmhvc3QhPT1zZWxmLmRvY3VtZW50LmxvY2F0aW9uLmhvc3QpJiYoaS5jcm9zc09yaWdpbj0iQW5vbnltb3VzIiksby5zcmM9dFthXSxpLmFwcGVuZENoaWxkKG8pO31yZXR1cm4ge2NhbmNlbDpmdW5jdGlvbigpe319fSx0LmlkZW50aXR5PWVvLHQuaW52ZXJ0PWZ1bmN0aW9uKHQsZSl7dmFyIHI9ZVswXSxuPWVbMV0saT1lWzJdLGE9ZVszXSxvPWVbNF0scz1lWzVdLHU9ZVs2XSxsPWVbN10scD1lWzhdLGM9ZVs5XSxoPWVbMTBdLGY9ZVsxMV0seT1lWzEyXSxkPWVbMTNdLG09ZVsxNF0sdj1lWzE1XSxnPXIqcy1uKm8seD1yKnUtaSpvLGI9cipsLWEqbyx3PW4qdS1pKnMsXz1uKmwtYSpzLEE9aSpsLWEqdSxTPXAqZC1jKnksaz1wKm0taCp5LEk9cCp2LWYqeSx6PWMqbS1oKmQsQz1jKnYtZipkLE09aCp2LWYqbSxFPWcqTS14KkMrYip6K3cqSS1fKmsrQSpTO3JldHVybiBFPyh0WzBdPShzKk0tdSpDK2wqeikqKEU9MS9FKSx0WzFdPShpKkMtbipNLWEqeikqRSx0WzJdPShkKkEtbSpfK3YqdykqRSx0WzNdPShoKl8tYypBLWYqdykqRSx0WzRdPSh1KkktbypNLWwqaykqRSx0WzVdPShyKk0taSpJK2EqaykqRSx0WzZdPShtKmIteSpBLXYqeCkqRSx0WzddPShwKkEtaCpiK2YqeCkqRSx0WzhdPShvKkMtcypJK2wqUykqRSx0WzldPShuKkktcipDLWEqUykqRSx0WzEwXT0oeSpfLWQqYit2KmcpKkUsdFsxMV09KGMqYi1wKl8tZipnKSpFLHRbMTJdPShzKmstbyp6LXUqUykqRSx0WzEzXT0ocip6LW4qaytpKlMpKkUsdFsxNF09KGQqeC15KnctbSpnKSpFLHRbMTVdPShwKnctYyp4K2gqZykqRSx0KTpudWxsfSx0LmlzQ2hhcj1xbix0LmlzTWFwYm94VVJMPUssdC5rZXlzRGlmZmVyZW5jZT1mdW5jdGlvbih0LGUpe3ZhciByPVtdO2Zvcih2YXIgbiBpbiB0KW4gaW4gZXx8ci5wdXNoKG4pO3JldHVybiByfSx0Lm1ha2VSZXF1ZXN0PXZ0LHQubWFwT2JqZWN0PXYsdC5tZXJjYXRvclhmcm9tTG5nPUZsLHQubWVyY2F0b3JZZnJvbUxhdD1EbCx0Lm1lcmNhdG9yWmZyb21BbHRpdHVkZT1MbCx0Lm11bD1pbyx0Lm11bHRpcGx5PXJvLHQubXZ0PWRzLHQubm9ybWFsaXplPWZ1bmN0aW9uKHQsZSl7dmFyIHI9ZVswXSxuPWVbMV0saT1lWzJdLGE9cipyK24qbitpKmk7cmV0dXJuIGE+MCYmKGE9MS9NYXRoLnNxcnQoYSkpLHRbMF09ZVswXSphLHRbMV09ZVsxXSphLHRbMl09ZVsyXSphLHR9LHQubnVtYmVyPWplLHQub2Zmc2NyZWVuQ2FudmFzU3VwcG9ydGVkPWN0LHQub3J0aG89ZnVuY3Rpb24odCxlLHIsbixpLGEsbyl7dmFyIHM9MS8oZS1yKSx1PTEvKG4taSksbD0xLyhhLW8pO3JldHVybiB0WzBdPS0yKnMsdFsxXT0wLHRbMl09MCx0WzNdPTAsdFs0XT0wLHRbNV09LTIqdSx0WzZdPTAsdFs3XT0wLHRbOF09MCx0WzldPTAsdFsxMF09MipsLHRbMTFdPTAsdFsxMl09KGUrcikqcyx0WzEzXT0oaStuKSp1LHRbMTRdPShvK2EpKmwsdFsxNV09MSx0fSx0LnBhcnNlR2x5cGhQQkY9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBLcyh0KS5yZWFkRmllbGRzKHV1LFtdKX0sdC5wYmY9S3MsdC5wZXJmb3JtU3ltYm9sTGF5b3V0PWZ1bmN0aW9uKHQsZSxyLG4saSxhLG8pe3QuY3JlYXRlQXJyYXlzKCksdC50aWxlUGl4ZWxSYXRpbz04MTkyLyg1MTIqdC5vdmVyc2NhbGluZyksdC5jb21wYXJlVGV4dD17fSx0Lmljb25zTmVlZExpbmVhcj0hMTt2YXIgcz10LmxheWVyc1swXS5sYXlvdXQsdT10LmxheWVyc1swXS5fdW5ldmFsdWF0ZWRMYXlvdXQuX3ZhbHVlcyxsPXt9O2lmKCJjb21wb3NpdGUiPT09dC50ZXh0U2l6ZURhdGEua2luZCl7dmFyIHA9dC50ZXh0U2l6ZURhdGEsYz1wLm1heFpvb207bC5jb21wb3NpdGVUZXh0U2l6ZXM9W3VbInRleHQtc2l6ZSJdLnBvc3NpYmx5RXZhbHVhdGUobmV3IGlpKHAubWluWm9vbSksbyksdVsidGV4dC1zaXplIl0ucG9zc2libHlFdmFsdWF0ZShuZXcgaWkoYyksbyldO31pZigiY29tcG9zaXRlIj09PXQuaWNvblNpemVEYXRhLmtpbmQpe3ZhciBoPXQuaWNvblNpemVEYXRhLGY9aC5tYXhab29tO2wuY29tcG9zaXRlSWNvblNpemVzPVt1WyJpY29uLXNpemUiXS5wb3NzaWJseUV2YWx1YXRlKG5ldyBpaShoLm1pblpvb20pLG8pLHVbImljb24tc2l6ZSJdLnBvc3NpYmx5RXZhbHVhdGUobmV3IGlpKGYpLG8pXTt9bC5sYXlvdXRUZXh0U2l6ZT11WyJ0ZXh0LXNpemUiXS5wb3NzaWJseUV2YWx1YXRlKG5ldyBpaSh0Lnpvb20rMSksbyksbC5sYXlvdXRJY29uU2l6ZT11WyJpY29uLXNpemUiXS5wb3NzaWJseUV2YWx1YXRlKG5ldyBpaSh0Lnpvb20rMSksbyksbC50ZXh0TWF4U2l6ZT11WyJ0ZXh0LXNpemUiXS5wb3NzaWJseUV2YWx1YXRlKG5ldyBpaSgxOCkpO2Zvcih2YXIgeT0yNCpzLmdldCgidGV4dC1saW5lLWhlaWdodCIpLGQ9Im1hcCI9PT1zLmdldCgidGV4dC1yb3RhdGlvbi1hbGlnbm1lbnQiKSYmInBvaW50IiE9PXMuZ2V0KCJzeW1ib2wtcGxhY2VtZW50IiksbT1zLmdldCgidGV4dC1rZWVwLXVwcmlnaHQiKSx2PXMuZ2V0KCJ0ZXh0LXNpemUiKSxnPWZ1bmN0aW9uKCl7dmFyIGE9Ylt4XSx1PXMuZ2V0KCJ0ZXh0LWZvbnQiKS5ldmFsdWF0ZShhLHt9LG8pLmpvaW4oIiwiKSxwPXYuZXZhbHVhdGUoYSx7fSxvKSxjPWwubGF5b3V0VGV4dFNpemUuZXZhbHVhdGUoYSx7fSxvKSxoPWwubGF5b3V0SWNvblNpemUuZXZhbHVhdGUoYSx7fSxvKSxmPXtob3Jpem9udGFsOnt9LHZlcnRpY2FsOnZvaWQgMH0sZz1hLnRleHQsXz1bMCwwXTtpZihnKXt2YXIgQT1nLnRvU3RyaW5nKCksUz0yNCpzLmdldCgidGV4dC1sZXR0ZXItc3BhY2luZyIpLmV2YWx1YXRlKGEse30sbyksaz1mdW5jdGlvbih0KXtmb3IodmFyIGU9MCxyPXQ7ZTxyLmxlbmd0aDtlKz0xKWlmKG49cltlXS5jaGFyQ29kZUF0KDApLHFuLkFyYWJpYyhuKXx8cW5bIkFyYWJpYyBTdXBwbGVtZW50Il0obil8fHFuWyJBcmFiaWMgRXh0ZW5kZWQtQSJdKG4pfHxxblsiQXJhYmljIFByZXNlbnRhdGlvbiBGb3Jtcy1BIl0obil8fHFuWyJBcmFiaWMgUHJlc2VudGF0aW9uIEZvcm1zLUIiXShuKSlyZXR1cm4gITE7dmFyIG47cmV0dXJuICEwfShBKT9TOjAsST1zLmdldCgidGV4dC1hbmNob3IiKS5ldmFsdWF0ZShhLHt9LG8pLHo9cy5nZXQoInRleHQtdmFyaWFibGUtYW5jaG9yIik7aWYoIXope3ZhciBDPXMuZ2V0KCJ0ZXh0LXJhZGlhbC1vZmZzZXQiKS5ldmFsdWF0ZShhLHt9LG8pO189Qz9RdShJLFsyNCpDLFd1XSk6cy5nZXQoInRleHQtb2Zmc2V0IikuZXZhbHVhdGUoYSx7fSxvKS5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiAyNCp0fSkpO312YXIgTT1kPyJjZW50ZXIiOnMuZ2V0KCJ0ZXh0LWp1c3RpZnkiKS5ldmFsdWF0ZShhLHt9LG8pLEU9cy5nZXQoInN5bWJvbC1wbGFjZW1lbnQiKSxUPSJwb2ludCI9PT1FPzI0KnMuZ2V0KCJ0ZXh0LW1heC13aWR0aCIpLmV2YWx1YXRlKGEse30sbyk6MCxQPWZ1bmN0aW9uKCl7dC5hbGxvd1ZlcnRpY2FsUGxhY2VtZW50JiZObihBKSYmKGYudmVydGljYWw9Z3UoZyxlLHIsaSx1LFQseSxJLCJsZWZ0IixrLF8sZHUudmVydGljYWwsITAsRSxjLHApKTt9O2lmKCFkJiZ6KXtmb3IodmFyIEI9ImF1dG8iPT09TT96Lm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIHRsKHQpfSkpOltNXSxWPSExLEY9MDtGPEIubGVuZ3RoO0YrKyl7dmFyIEQ9QltGXTtpZighZi5ob3Jpem9udGFsW0RdKWlmKFYpZi5ob3Jpem9udGFsW0RdPWYuaG9yaXpvbnRhbFswXTtlbHNlIHt2YXIgTD1ndShnLGUscixpLHUsVCx5LCJjZW50ZXIiLEQsayxfLGR1Lmhvcml6b250YWwsITEsRSxjLHApO0wmJihmLmhvcml6b250YWxbRF09TCxWPTE9PT1MLnBvc2l0aW9uZWRMaW5lcy5sZW5ndGgpO319UCgpO31lbHNlIHsiYXV0byI9PT1NJiYoTT10bChJKSk7dmFyIFI9Z3UoZyxlLHIsaSx1LFQseSxJLE0sayxfLGR1Lmhvcml6b250YWwsITEsRSxjLHApO1ImJihmLmhvcml6b250YWxbTV09UiksUCgpLE5uKEEpJiZkJiZtJiYoZi52ZXJ0aWNhbD1ndShnLGUscixpLHUsVCx5LEksTSxrLF8sZHUudmVydGljYWwsITEsRSxjLHApKTt9fXZhciBPPXZvaWQgMCxVPSExO2lmKGEuaWNvbiYmYS5pY29uLm5hbWUpe3ZhciBqPW5bYS5pY29uLm5hbWVdO2omJihPPWZ1bmN0aW9uKHQsZSxyKXt2YXIgbj1JdShyKSxpPWVbMF0tdC5kaXNwbGF5U2l6ZVswXSpuLmhvcml6b250YWxBbGlnbixhPWVbMV0tdC5kaXNwbGF5U2l6ZVsxXSpuLnZlcnRpY2FsQWxpZ247cmV0dXJuIHtpbWFnZTp0LHRvcDphLGJvdHRvbTphK3QuZGlzcGxheVNpemVbMV0sbGVmdDppLHJpZ2h0OmkrdC5kaXNwbGF5U2l6ZVswXX19KGlbYS5pY29uLm5hbWVdLHMuZ2V0KCJpY29uLW9mZnNldCIpLmV2YWx1YXRlKGEse30sbykscy5nZXQoImljb24tYW5jaG9yIikuZXZhbHVhdGUoYSx7fSxvKSksVT1qLnNkZix2b2lkIDA9PT10LnNkZkljb25zP3Quc2RmSWNvbnM9ai5zZGY6dC5zZGZJY29ucyE9PWouc2RmJiZ3KCJTdHlsZSBzaGVldCB3YXJuaW5nOiBDYW5ub3QgbWl4IFNERiBhbmQgbm9uLVNERiBpY29ucyBpbiBvbmUgYnVmZmVyIiksKGoucGl4ZWxSYXRpbyE9PXQucGl4ZWxSYXRpb3x8MCE9PXMuZ2V0KCJpY29uLXJvdGF0ZSIpLmNvbnN0YW50T3IoMSkpJiYodC5pY29uc05lZWRMaW5lYXI9ITApKTt9dmFyIHE9cmwoZi5ob3Jpem9udGFsKXx8Zi52ZXJ0aWNhbDt0Lmljb25zSW5UZXh0PSEhcSYmcS5pY29uc0luVGV4dCwocXx8TykmJmZ1bmN0aW9uKHQsZSxyLG4saSxhLG8scyx1LGwscCl7dmFyIGM9YS50ZXh0TWF4U2l6ZS5ldmFsdWF0ZShlLHt9KTt2b2lkIDA9PT1jJiYoYz1vKTt2YXIgaCxmPXQubGF5ZXJzWzBdLmxheW91dCx5PWYuZ2V0KCJpY29uLW9mZnNldCIpLmV2YWx1YXRlKGUse30scCksZD1ybChyLmhvcml6b250YWwpLG09by8yNCx2PXQudGlsZVBpeGVsUmF0aW8qbSxnPXQudGlsZVBpeGVsUmF0aW8qYy8yNCx4PXQudGlsZVBpeGVsUmF0aW8qcyxiPXQudGlsZVBpeGVsUmF0aW8qZi5nZXQoInN5bWJvbC1zcGFjaW5nIiksXz1mLmdldCgidGV4dC1wYWRkaW5nIikqdC50aWxlUGl4ZWxSYXRpbyxBPWYuZ2V0KCJpY29uLXBhZGRpbmciKSp0LnRpbGVQaXhlbFJhdGlvLFM9Zi5nZXQoInRleHQtbWF4LWFuZ2xlIikvMTgwKk1hdGguUEksaz0ibWFwIj09PWYuZ2V0KCJ0ZXh0LXJvdGF0aW9uLWFsaWdubWVudCIpJiYicG9pbnQiIT09Zi5nZXQoInN5bWJvbC1wbGFjZW1lbnQiKSxJPSJtYXAiPT09Zi5nZXQoImljb24tcm90YXRpb24tYWxpZ25tZW50IikmJiJwb2ludCIhPT1mLmdldCgic3ltYm9sLXBsYWNlbWVudCIpLHo9Zi5nZXQoInN5bWJvbC1wbGFjZW1lbnQiKSxDPWIvMixNPWYuZ2V0KCJpY29uLXRleHQtZml0Iik7biYmIm5vbmUiIT09TSYmKHQuYWxsb3dWZXJ0aWNhbFBsYWNlbWVudCYmci52ZXJ0aWNhbCYmKGg9Q3UobixyLnZlcnRpY2FsLE0sZi5nZXQoImljb24tdGV4dC1maXQtcGFkZGluZyIpLHksbSkpLGQmJihuPUN1KG4sZCxNLGYuZ2V0KCJpY29uLXRleHQtZml0LXBhZGRpbmciKSx5LG0pKSk7dmFyIEU9ZnVuY3Rpb24ocyxjKXtjLng8MHx8Yy54Pj04MTkyfHxjLnk8MHx8Yy55Pj04MTkyfHxmdW5jdGlvbih0LGUscixuLGksYSxvLHMsdSxsLHAsYyxoLGYseSxkLG0sdixnLHgsYixfLEEsUyxrKXt2YXIgSSx6LEMsTSxFLFQ9dC5hZGRUb0xpbmVWZXJ0ZXhBcnJheShlLHIpLFA9MCxCPTAsVj0wLEY9MCxEPS0xLEw9LTEsUj17fSxPPWxhKCIiKSxVPTAsaj0wO2lmKHZvaWQgMD09PXMuX3VuZXZhbHVhdGVkTGF5b3V0LmdldFZhbHVlKCJ0ZXh0LXJhZGlhbC1vZmZzZXQiKT8oVT0oST1zLmxheW91dC5nZXQoInRleHQtb2Zmc2V0IikuZXZhbHVhdGUoYix7fSxTKS5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiAyNCp0fSkpKVswXSxqPUlbMV0pOihVPTI0KnMubGF5b3V0LmdldCgidGV4dC1yYWRpYWwtb2Zmc2V0IikuZXZhbHVhdGUoYix7fSxTKSxqPVd1KSx0LmFsbG93VmVydGljYWxQbGFjZW1lbnQmJm4udmVydGljYWwpe3ZhciBxPXMubGF5b3V0LmdldCgidGV4dC1yb3RhdGUiKS5ldmFsdWF0ZShiLHt9LFMpKzkwO009bmV3IFp1KHUsZSxsLHAsYyxuLnZlcnRpY2FsLGgsZix5LHEpLG8mJihFPW5ldyBadSh1LGUsbCxwLGMsbyxtLHYseSxxKSk7fWlmKGkpe3ZhciBOPXMubGF5b3V0LmdldCgiaWNvbi1yb3RhdGUiKS5ldmFsdWF0ZShiLHt9KSxLPSJub25lIiE9PXMubGF5b3V0LmdldCgiaWNvbi10ZXh0LWZpdCIpLEc9anUoaSxOLEEsSyksWj1vP2p1KG8sTixBLEspOnZvaWQgMDtDPW5ldyBadSh1LGUsbCxwLGMsaSxtLHYsITEsTiksUD00KkcubGVuZ3RoO3ZhciBYPXQuaWNvblNpemVEYXRhLEo9bnVsbDsic291cmNlIj09PVgua2luZD8oSj1bMTI4KnMubGF5b3V0LmdldCgiaWNvbi1zaXplIikuZXZhbHVhdGUoYix7fSldKVswXT4zMjY0MCYmdyh0LmxheWVySWRzWzBdKyc6IFZhbHVlIGZvciAiaWNvbi1zaXplIiBpcyA+PSAyNTUuIFJlZHVjZSB5b3VyICJpY29uLXNpemUiLicpOiJjb21wb3NpdGUiPT09WC5raW5kJiYoKEo9WzEyOCpfLmNvbXBvc2l0ZUljb25TaXplc1swXS5ldmFsdWF0ZShiLHt9LFMpLDEyOCpfLmNvbXBvc2l0ZUljb25TaXplc1sxXS5ldmFsdWF0ZShiLHt9LFMpXSlbMF0+MzI2NDB8fEpbMV0+MzI2NDApJiZ3KHQubGF5ZXJJZHNbMF0rJzogVmFsdWUgZm9yICJpY29uLXNpemUiIGlzID49IDI1NS4gUmVkdWNlIHlvdXIgImljb24tc2l6ZSIuJyksdC5hZGRTeW1ib2xzKHQuaWNvbixHLEoseCxnLGIsITEsZSxULmxpbmVTdGFydEluZGV4LFQubGluZUxlbmd0aCwtMSxTKSxEPXQuaWNvbi5wbGFjZWRTeW1ib2xBcnJheS5sZW5ndGgtMSxaJiYoQj00KloubGVuZ3RoLHQuYWRkU3ltYm9scyh0Lmljb24sWixKLHgsZyxiLGR1LnZlcnRpY2FsLGUsVC5saW5lU3RhcnRJbmRleCxULmxpbmVMZW5ndGgsLTEsUyksTD10Lmljb24ucGxhY2VkU3ltYm9sQXJyYXkubGVuZ3RoLTEpO31mb3IodmFyIEggaW4gbi5ob3Jpem9udGFsKXt2YXIgWT1uLmhvcml6b250YWxbSF07aWYoIXope089bGEoWS50ZXh0KTt2YXIgJD1zLmxheW91dC5nZXQoInRleHQtcm90YXRlIikuZXZhbHVhdGUoYix7fSxTKTt6PW5ldyBadSh1LGUsbCxwLGMsWSxoLGYseSwkKTt9dmFyIFc9MT09PVkucG9zaXRpb25lZExpbmVzLmxlbmd0aDtpZihWKz1lbCh0LGUsWSxhLHMseSxiLGQsVCxuLnZlcnRpY2FsP2R1Lmhvcml6b250YWw6ZHUuaG9yaXpvbnRhbE9ubHksVz9PYmplY3Qua2V5cyhuLmhvcml6b250YWwpOltIXSxSLEQsXyxTKSxXKWJyZWFrfW4udmVydGljYWwmJihGKz1lbCh0LGUsbi52ZXJ0aWNhbCxhLHMseSxiLGQsVCxkdS52ZXJ0aWNhbCxbInZlcnRpY2FsIl0sUixMLF8sUykpO3ZhciBRPXo/ei5ib3hTdGFydEluZGV4OnQuY29sbGlzaW9uQm94QXJyYXkubGVuZ3RoLHR0PXo/ei5ib3hFbmRJbmRleDp0LmNvbGxpc2lvbkJveEFycmF5Lmxlbmd0aCxldD1NP00uYm94U3RhcnRJbmRleDp0LmNvbGxpc2lvbkJveEFycmF5Lmxlbmd0aCxydD1NP00uYm94RW5kSW5kZXg6dC5jb2xsaXNpb25Cb3hBcnJheS5sZW5ndGgsbnQ9Qz9DLmJveFN0YXJ0SW5kZXg6dC5jb2xsaXNpb25Cb3hBcnJheS5sZW5ndGgsaXQ9Qz9DLmJveEVuZEluZGV4OnQuY29sbGlzaW9uQm94QXJyYXkubGVuZ3RoLGF0PUU/RS5ib3hTdGFydEluZGV4OnQuY29sbGlzaW9uQm94QXJyYXkubGVuZ3RoLG90PUU/RS5ib3hFbmRJbmRleDp0LmNvbGxpc2lvbkJveEFycmF5Lmxlbmd0aCxzdD0tMSx1dD1mdW5jdGlvbih0LGUpe3JldHVybiB0JiZ0LmNpcmNsZURpYW1ldGVyP01hdGgubWF4KHQuY2lyY2xlRGlhbWV0ZXIsZSk6ZX07c3Q9dXQoeixzdCksc3Q9dXQoTSxzdCksc3Q9dXQoQyxzdCk7dmFyIGx0PShzdD11dChFLHN0KSk+LTE/MTowO2x0JiYoc3QqPWsvMjQpLHQuZ2x5cGhPZmZzZXRBcnJheS5sZW5ndGg+PWNsLk1BWF9HTFlQSFMmJncoIlRvbyBtYW55IGdseXBocyBiZWluZyByZW5kZXJlZCBpbiBhIHRpbGUuIFNlZSBodHRwczovL2dpdGh1Yi5jb20vbWFwYm94L21hcGJveC1nbC1qcy9pc3N1ZXMvMjkwNyIpLHZvaWQgMCE9PWIuc29ydEtleSYmdC5hZGRUb1NvcnRLZXlSYW5nZXModC5zeW1ib2xJbnN0YW5jZXMubGVuZ3RoLGIuc29ydEtleSksdC5zeW1ib2xJbnN0YW5jZXMuZW1wbGFjZUJhY2soZS54LGUueSxSLnJpZ2h0Pj0wP1IucmlnaHQ6LTEsUi5jZW50ZXI+PTA/Ui5jZW50ZXI6LTEsUi5sZWZ0Pj0wP1IubGVmdDotMSxSLnZlcnRpY2FsfHwtMSxELEwsTyxRLHR0LGV0LHJ0LG50LGl0LGF0LG90LGwsVixGLFAsQixsdCwwLGgsVSxqLHN0KTt9KHQsYyxzLHIsbixpLGgsdC5sYXllcnNbMF0sdC5jb2xsaXNpb25Cb3hBcnJheSxlLmluZGV4LGUuc291cmNlTGF5ZXJJbmRleCx0LmluZGV4LHYsXyxrLHUseCxBLEkseSxlLGEsbCxwLG8pO307aWYoImxpbmUiPT09eilmb3IodmFyIFQ9MCxQPVV1KGUuZ2VvbWV0cnksMCwwLDgxOTIsODE5Mik7VDxQLmxlbmd0aDtUKz0xKWZvcih2YXIgQj1QW1RdLFY9MCxGPU91KEIsYixTLHIudmVydGljYWx8fGQsbiwyNCxnLHQub3ZlcnNjYWxpbmcsODE5Mik7VjxGLmxlbmd0aDtWKz0xKXt2YXIgRD1GW1ZdO2QmJm5sKHQsZC50ZXh0LEMsRCl8fEUoQixEKTt9ZWxzZSBpZigibGluZS1jZW50ZXIiPT09eilmb3IodmFyIEw9MCxSPWUuZ2VvbWV0cnk7TDxSLmxlbmd0aDtMKz0xKXt2YXIgTz1SW0xdO2lmKE8ubGVuZ3RoPjEpe3ZhciBVPVJ1KE8sUyxyLnZlcnRpY2FsfHxkLG4sMjQsZyk7VSYmRShPLFUpO319ZWxzZSBpZigiUG9seWdvbiI9PT1lLnR5cGUpZm9yKHZhciBqPTAscT1XbyhlLmdlb21ldHJ5LDApO2o8cS5sZW5ndGg7ais9MSl7dmFyIE49cVtqXSxLPUh1KE4sMTYpO0UoTlswXSxuZXcgTXUoSy54LEsueSwwKSk7fWVsc2UgaWYoIkxpbmVTdHJpbmciPT09ZS50eXBlKWZvcih2YXIgRz0wLFo9ZS5nZW9tZXRyeTtHPFoubGVuZ3RoO0crPTEpe3ZhciBYPVpbR107RShYLG5ldyBNdShYWzBdLngsWFswXS55LDApKTt9ZWxzZSBpZigiUG9pbnQiPT09ZS50eXBlKWZvcih2YXIgSj0wLEg9ZS5nZW9tZXRyeTtKPEgubGVuZ3RoO0orPTEpZm9yKHZhciBZPTAsJD1IW0pdO1k8JC5sZW5ndGg7WSs9MSl7dmFyIFc9JFtZXTtFKFtXXSxuZXcgTXUoVy54LFcueSwwKSk7fX0odCxhLGYsTyxuLGwsYyxoLF8sVSxvKTt9LHg9MCxiPXQuZmVhdHVyZXM7eDxiLmxlbmd0aDt4Kz0xKWcoKTthJiZ0LmdlbmVyYXRlQ29sbGlzaW9uRGVidWdCdWZmZXJzKCk7fSx0LnBlcnNwZWN0aXZlPWZ1bmN0aW9uKHQsZSxyLG4saSl7dmFyIGEsbz0xL01hdGgudGFuKGUvMik7cmV0dXJuIHRbMF09by9yLHRbMV09MCx0WzJdPTAsdFszXT0wLHRbNF09MCx0WzVdPW8sdFs2XT0wLHRbN109MCx0WzhdPTAsdFs5XT0wLHRbMTFdPS0xLHRbMTJdPTAsdFsxM109MCx0WzE1XT0wLG51bGwhPWkmJmkhPT0xLzA/KHRbMTBdPShpK24pKihhPTEvKG4taSkpLHRbMTRdPTIqaSpuKmEpOih0WzEwXT0tMSx0WzE0XT0tMipuKSx0fSx0LnBpY2s9ZnVuY3Rpb24odCxlKXtmb3IodmFyIHI9e30sbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgaT1lW25dO2kgaW4gdCYmKHJbaV09dFtpXSk7fXJldHVybiByfSx0LnBsdWdpbj1uaSx0LnBvbHlnb25JbnRlcnNlY3RzUG9seWdvbj1SYSx0LnBvc3RNYXBMb2FkRXZlbnQ9aXQsdC5wb3N0VHVybnN0aWxlRXZlbnQ9cnQsdC5wb3RwYWNrPWN1LHQucmVmUHJvcGVydGllcz1bInR5cGUiLCJzb3VyY2UiLCJzb3VyY2UtbGF5ZXIiLCJtaW56b29tIiwibWF4em9vbSIsImZpbHRlciIsImxheW91dCJdLHQucmVnaXN0ZXI9Rm4sdC5yZWdpc3RlckZvclBsdWdpblN0YXRlQ2hhbmdlPWZ1bmN0aW9uKHQpe3JldHVybiB0KHtwbHVnaW5TdGF0dXM6WW4scGx1Z2luVVJMOiRufSksdGkub24oInBsdWdpblN0YXRlQ2hhbmdlIix0KSx0fSx0LnJvdGF0ZT1mdW5jdGlvbih0LGUscil7dmFyIG49ZVswXSxpPWVbMV0sYT1lWzJdLG89ZVszXSxzPU1hdGguc2luKHIpLHU9TWF0aC5jb3Mocik7cmV0dXJuIHRbMF09bip1K2Eqcyx0WzFdPWkqdStvKnMsdFsyXT1uKi1zK2EqdSx0WzNdPWkqLXMrbyp1LHR9LHQucm90YXRlWD1mdW5jdGlvbih0LGUscil7dmFyIG49TWF0aC5zaW4ociksaT1NYXRoLmNvcyhyKSxhPWVbNF0sbz1lWzVdLHM9ZVs2XSx1PWVbN10sbD1lWzhdLHA9ZVs5XSxjPWVbMTBdLGg9ZVsxMV07cmV0dXJuIGUhPT10JiYodFswXT1lWzBdLHRbMV09ZVsxXSx0WzJdPWVbMl0sdFszXT1lWzNdLHRbMTJdPWVbMTJdLHRbMTNdPWVbMTNdLHRbMTRdPWVbMTRdLHRbMTVdPWVbMTVdKSx0WzRdPWEqaStsKm4sdFs1XT1vKmkrcCpuLHRbNl09cyppK2Mqbix0WzddPXUqaStoKm4sdFs4XT1sKmktYSpuLHRbOV09cCppLW8qbix0WzEwXT1jKmktcypuLHRbMTFdPWgqaS11Km4sdH0sdC5yb3RhdGVaPWZ1bmN0aW9uKHQsZSxyKXt2YXIgbj1NYXRoLnNpbihyKSxpPU1hdGguY29zKHIpLGE9ZVswXSxvPWVbMV0scz1lWzJdLHU9ZVszXSxsPWVbNF0scD1lWzVdLGM9ZVs2XSxoPWVbN107cmV0dXJuIGUhPT10JiYodFs4XT1lWzhdLHRbOV09ZVs5XSx0WzEwXT1lWzEwXSx0WzExXT1lWzExXSx0WzEyXT1lWzEyXSx0WzEzXT1lWzEzXSx0WzE0XT1lWzE0XSx0WzE1XT1lWzE1XSksdFswXT1hKmkrbCpuLHRbMV09byppK3Aqbix0WzJdPXMqaStjKm4sdFszXT11KmkraCpuLHRbNF09bCppLWEqbix0WzVdPXAqaS1vKm4sdFs2XT1jKmktcypuLHRbN109aCppLXUqbix0fSx0LnNjYWxlPWZ1bmN0aW9uKHQsZSxyKXt2YXIgbj1yWzBdLGk9clsxXSxhPXJbMl07cmV0dXJuIHRbMF09ZVswXSpuLHRbMV09ZVsxXSpuLHRbMl09ZVsyXSpuLHRbM109ZVszXSpuLHRbNF09ZVs0XSppLHRbNV09ZVs1XSppLHRbNl09ZVs2XSppLHRbN109ZVs3XSppLHRbOF09ZVs4XSphLHRbOV09ZVs5XSphLHRbMTBdPWVbMTBdKmEsdFsxMV09ZVsxMV0qYSx0WzEyXT1lWzEyXSx0WzEzXT1lWzEzXSx0WzE0XT1lWzE0XSx0WzE1XT1lWzE1XSx0fSx0LnNjYWxlJDE9ZnVuY3Rpb24odCxlLHIpe3JldHVybiB0WzBdPWVbMF0qcix0WzFdPWVbMV0qcix0WzJdPWVbMl0qcix0WzNdPWVbM10qcix0fSx0LnNjYWxlJDI9ZnVuY3Rpb24odCxlLHIpe3JldHVybiB0WzBdPWVbMF0qcix0WzFdPWVbMV0qcix0WzJdPWVbMl0qcix0fSx0LnNldENhY2hlTGltaXRzPWZ1bmN0aW9uKHQsZSl7YXQ9dCxvdD1lO30sdC5zZXRSVExUZXh0UGx1Z2luPWZ1bmN0aW9uKHQsZSxyKXtpZih2b2lkIDA9PT1yJiYocj0hMSksImRlZmVycmVkIj09PVlufHwibG9hZGluZyI9PT1Zbnx8ImxvYWRlZCI9PT1Zbil0aHJvdyBuZXcgRXJyb3IoInNldFJUTFRleHRQbHVnaW4gY2Fubm90IGJlIGNhbGxlZCBtdWx0aXBsZSB0aW1lcy4iKTskbj1ELnJlc29sdmVVUkwodCksWW49ImRlZmVycmVkIixIbj1lLFFuKCkscnx8cmkoKTt9LHQuc3BoZXJpY2FsVG9DYXJ0ZXNpYW49ZnVuY3Rpb24odCl7dmFyIGU9dFswXSxyPXRbMV0sbj10WzJdO3JldHVybiByKz05MCxyKj1NYXRoLlBJLzE4MCxuKj1NYXRoLlBJLzE4MCx7eDplKk1hdGguY29zKHIpKk1hdGguc2luKG4pLHk6ZSpNYXRoLnNpbihyKSpNYXRoLnNpbihuKSx6OmUqTWF0aC5jb3Mobil9fSx0LnNxckxlbj1mdW5jdGlvbih0KXt2YXIgZT10WzBdLHI9dFsxXTtyZXR1cm4gZSplK3Iqcn0sdC5zdHlsZVNwZWM9SXQsdC5zdWI9ZnVuY3Rpb24odCxlLHIpe3JldHVybiB0WzBdPWVbMF0tclswXSx0WzFdPWVbMV0tclsxXSx0WzJdPWVbMl0tclsyXSx0fSx0LnN5bWJvbFNpemU9QnUsdC50cmFuc2Zvcm1NYXQzPWZ1bmN0aW9uKHQsZSxyKXt2YXIgbj1lWzBdLGk9ZVsxXSxhPWVbMl07cmV0dXJuIHRbMF09bipyWzBdK2kqclszXSthKnJbNl0sdFsxXT1uKnJbMV0raSpyWzRdK2Eqcls3XSx0WzJdPW4qclsyXStpKnJbNV0rYSpyWzhdLHR9LHQudHJhbnNmb3JtTWF0ND1hbyx0LnRyYW5zbGF0ZT1mdW5jdGlvbih0LGUscil7dmFyIG4saSxhLG8scyx1LGwscCxjLGgsZix5LGQ9clswXSxtPXJbMV0sdj1yWzJdO3JldHVybiBlPT09dD8odFsxMl09ZVswXSpkK2VbNF0qbStlWzhdKnYrZVsxMl0sdFsxM109ZVsxXSpkK2VbNV0qbStlWzldKnYrZVsxM10sdFsxNF09ZVsyXSpkK2VbNl0qbStlWzEwXSp2K2VbMTRdLHRbMTVdPWVbM10qZCtlWzddKm0rZVsxMV0qditlWzE1XSk6KGk9ZVsxXSxhPWVbMl0sbz1lWzNdLHM9ZVs0XSx1PWVbNV0sbD1lWzZdLHA9ZVs3XSxjPWVbOF0saD1lWzldLGY9ZVsxMF0seT1lWzExXSx0WzBdPW49ZVswXSx0WzFdPWksdFsyXT1hLHRbM109byx0WzRdPXMsdFs1XT11LHRbNl09bCx0WzddPXAsdFs4XT1jLHRbOV09aCx0WzEwXT1mLHRbMTFdPXksdFsxMl09bipkK3MqbStjKnYrZVsxMl0sdFsxM109aSpkK3UqbStoKnYrZVsxM10sdFsxNF09YSpkK2wqbStmKnYrZVsxNF0sdFsxNV09bypkK3AqbSt5KnYrZVsxNV0pLHR9LHQudHJpZ2dlclBsdWdpbkNvbXBsZXRpb25FdmVudD1Xbix0LnVuaXF1ZUlkPWgsdC52YWxpZGF0ZUN1c3RvbVN0eWxlTGF5ZXI9ZnVuY3Rpb24odCl7dmFyIGU9W10scj10LmlkO3JldHVybiB2b2lkIDA9PT1yJiZlLnB1c2goe21lc3NhZ2U6ImxheWVycy4iK3IrJzogbWlzc2luZyByZXF1aXJlZCBwcm9wZXJ0eSAiaWQiJ30pLHZvaWQgMD09PXQucmVuZGVyJiZlLnB1c2goe21lc3NhZ2U6ImxheWVycy4iK3IrJzogbWlzc2luZyByZXF1aXJlZCBtZXRob2QgInJlbmRlciInfSksdC5yZW5kZXJpbmdNb2RlJiYiMmQiIT09dC5yZW5kZXJpbmdNb2RlJiYiM2QiIT09dC5yZW5kZXJpbmdNb2RlJiZlLnB1c2goe21lc3NhZ2U6ImxheWVycy4iK3IrJzogcHJvcGVydHkgInJlbmRlcmluZ01vZGUiIG11c3QgYmUgZWl0aGVyICIyZCIgb3IgIjNkIid9KSxlfSx0LnZhbGlkYXRlTGlnaHQ9SW4sdC52YWxpZGF0ZVN0eWxlPWtuLHQudmFsdWVzPWZ1bmN0aW9uKHQpe3ZhciBlPVtdO2Zvcih2YXIgciBpbiB0KWUucHVzaCh0W3JdKTtyZXR1cm4gZX0sdC52ZWN0b3JUaWxlPWRzLHQudmVyc2lvbj0iMS4xMC4wIix0Lndhcm5PbmNlPXcsdC53ZWJwU3VwcG9ydGVkPVIsdC53aW5kb3c9c2VsZix0LndyYXA9bDt9KSk7CgpkZWZpbmUoWyIuL3NoYXJlZCJdLChmdW5jdGlvbihlKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gdChlKXt2YXIgcj10eXBlb2YgZTtpZigibnVtYmVyIj09PXJ8fCJib29sZWFuIj09PXJ8fCJzdHJpbmciPT09cnx8bnVsbD09ZSlyZXR1cm4gSlNPTi5zdHJpbmdpZnkoZSk7aWYoQXJyYXkuaXNBcnJheShlKSl7Zm9yKHZhciBpPSJbIixvPTAsbj1lO288bi5sZW5ndGg7bys9MSlpKz10KG5bb10pKyIsIjtyZXR1cm4gaSsiXSJ9Zm9yKHZhciBzPU9iamVjdC5rZXlzKGUpLnNvcnQoKSxhPSJ7IixsPTA7bDxzLmxlbmd0aDtsKyspYSs9SlNPTi5zdHJpbmdpZnkoc1tsXSkrIjoiK3QoZVtzW2xdXSkrIiwiO3JldHVybiBhKyJ9In1mdW5jdGlvbiByKHIpe2Zvcih2YXIgaT0iIixvPTAsbj1lLnJlZlByb3BlcnRpZXM7bzxuLmxlbmd0aDtvKz0xKWkrPSIvIit0KHJbbltvXV0pO3JldHVybiBpfXZhciBpPWZ1bmN0aW9uKGUpe3RoaXMua2V5Q2FjaGU9e30sZSYmdGhpcy5yZXBsYWNlKGUpO307aS5wcm90b3R5cGUucmVwbGFjZT1mdW5jdGlvbihlKXt0aGlzLl9sYXllckNvbmZpZ3M9e30sdGhpcy5fbGF5ZXJzPXt9LHRoaXMudXBkYXRlKGUsW10pO30saS5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKHQsaSl7Zm9yKHZhciBvPXRoaXMsbj0wLHM9dDtuPHMubGVuZ3RoO24rPTEpe3ZhciBhPXNbbl07dGhpcy5fbGF5ZXJDb25maWdzW2EuaWRdPWE7dmFyIGw9dGhpcy5fbGF5ZXJzW2EuaWRdPWUuY3JlYXRlU3R5bGVMYXllcihhKTtsLl9mZWF0dXJlRmlsdGVyPWUuZmVhdHVyZUZpbHRlcihsLmZpbHRlciksdGhpcy5rZXlDYWNoZVthLmlkXSYmZGVsZXRlIHRoaXMua2V5Q2FjaGVbYS5pZF07fWZvcih2YXIgdT0wLGg9aTt1PGgubGVuZ3RoO3UrPTEpe3ZhciBjPWhbdV07ZGVsZXRlIHRoaXMua2V5Q2FjaGVbY10sZGVsZXRlIHRoaXMuX2xheWVyQ29uZmlnc1tjXSxkZWxldGUgdGhpcy5fbGF5ZXJzW2NdO310aGlzLmZhbWlsaWVzQnlTb3VyY2U9e307Zm9yKHZhciBwPTAsZj1mdW5jdGlvbihlLHQpe2Zvcih2YXIgaT17fSxvPTA7bzxlLmxlbmd0aDtvKyspe3ZhciBuPXQmJnRbZVtvXS5pZF18fHIoZVtvXSk7dCYmKHRbZVtvXS5pZF09bik7dmFyIHM9aVtuXTtzfHwocz1pW25dPVtdKSxzLnB1c2goZVtvXSk7fXZhciBhPVtdO2Zvcih2YXIgbCBpbiBpKWEucHVzaChpW2xdKTtyZXR1cm4gYX0oZS52YWx1ZXModGhpcy5fbGF5ZXJDb25maWdzKSx0aGlzLmtleUNhY2hlKTtwPGYubGVuZ3RoO3ArPTEpe3ZhciBkPWZbcF0ubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gby5fbGF5ZXJzW2UuaWRdfSkpLGc9ZFswXTtpZigibm9uZSIhPT1nLnZpc2liaWxpdHkpe3ZhciBtPWcuc291cmNlfHwiIix2PXRoaXMuZmFtaWxpZXNCeVNvdXJjZVttXTt2fHwodj10aGlzLmZhbWlsaWVzQnlTb3VyY2VbbV09e30pO3ZhciB5PWcuc291cmNlTGF5ZXJ8fCJfZ2VvanNvblRpbGVMYXllciIseD12W3ldO3h8fCh4PXZbeV09W10pLHgucHVzaChkKTt9fX07dmFyIG89ZnVuY3Rpb24odCl7dmFyIHI9e30saT1bXTtmb3IodmFyIG8gaW4gdCl7dmFyIG49dFtvXSxzPXJbb109e307Zm9yKHZhciBhIGluIG4pe3ZhciBsPW5bK2FdO2lmKGwmJjAhPT1sLmJpdG1hcC53aWR0aCYmMCE9PWwuYml0bWFwLmhlaWdodCl7dmFyIHU9e3g6MCx5OjAsdzpsLmJpdG1hcC53aWR0aCsyLGg6bC5iaXRtYXAuaGVpZ2h0KzJ9O2kucHVzaCh1KSxzW2FdPXtyZWN0OnUsbWV0cmljczpsLm1ldHJpY3N9O319fXZhciBoPWUucG90cGFjayhpKSxjPW5ldyBlLkFscGhhSW1hZ2Uoe3dpZHRoOmgud3x8MSxoZWlnaHQ6aC5ofHwxfSk7Zm9yKHZhciBwIGluIHQpe3ZhciBmPXRbcF07Zm9yKHZhciBkIGluIGYpe3ZhciBnPWZbK2RdO2lmKGcmJjAhPT1nLmJpdG1hcC53aWR0aCYmMCE9PWcuYml0bWFwLmhlaWdodCl7dmFyIG09cltwXVtkXS5yZWN0O2UuQWxwaGFJbWFnZS5jb3B5KGcuYml0bWFwLGMse3g6MCx5OjB9LHt4Om0ueCsxLHk6bS55KzF9LGcuYml0bWFwKTt9fX10aGlzLmltYWdlPWMsdGhpcy5wb3NpdGlvbnM9cjt9O2UucmVnaXN0ZXIoIkdseXBoQXRsYXMiLG8pO3ZhciBuPWZ1bmN0aW9uKHQpe3RoaXMudGlsZUlEPW5ldyBlLk92ZXJzY2FsZWRUaWxlSUQodC50aWxlSUQub3ZlcnNjYWxlZFosdC50aWxlSUQud3JhcCx0LnRpbGVJRC5jYW5vbmljYWwueix0LnRpbGVJRC5jYW5vbmljYWwueCx0LnRpbGVJRC5jYW5vbmljYWwueSksdGhpcy51aWQ9dC51aWQsdGhpcy56b29tPXQuem9vbSx0aGlzLnBpeGVsUmF0aW89dC5waXhlbFJhdGlvLHRoaXMudGlsZVNpemU9dC50aWxlU2l6ZSx0aGlzLnNvdXJjZT10LnNvdXJjZSx0aGlzLm92ZXJzY2FsaW5nPXRoaXMudGlsZUlELm92ZXJzY2FsZUZhY3RvcigpLHRoaXMuc2hvd0NvbGxpc2lvbkJveGVzPXQuc2hvd0NvbGxpc2lvbkJveGVzLHRoaXMuY29sbGVjdFJlc291cmNlVGltaW5nPSEhdC5jb2xsZWN0UmVzb3VyY2VUaW1pbmcsdGhpcy5yZXR1cm5EZXBlbmRlbmNpZXM9ISF0LnJldHVybkRlcGVuZGVuY2llcyx0aGlzLnByb21vdGVJZD10LnByb21vdGVJZDt9O2Z1bmN0aW9uIHModCxyLGkpe2Zvcih2YXIgbz1uZXcgZS5FdmFsdWF0aW9uUGFyYW1ldGVycyhyKSxuPTAscz10O248cy5sZW5ndGg7bis9MSlzW25dLnJlY2FsY3VsYXRlKG8saSk7fWZ1bmN0aW9uIGEodCxyKXt2YXIgaT1lLmdldEFycmF5QnVmZmVyKHQucmVxdWVzdCwoZnVuY3Rpb24odCxpLG8sbil7dD9yKHQpOmkmJnIobnVsbCx7dmVjdG9yVGlsZTpuZXcgZS52ZWN0b3JUaWxlLlZlY3RvclRpbGUobmV3IGUucGJmKGkpKSxyYXdEYXRhOmksY2FjaGVDb250cm9sOm8sZXhwaXJlczpufSk7fSkpO3JldHVybiBmdW5jdGlvbigpe2kuY2FuY2VsKCkscigpO319bi5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24odCxyLGksbixhKXt2YXIgbD10aGlzO3RoaXMuc3RhdHVzPSJwYXJzaW5nIix0aGlzLmRhdGE9dCx0aGlzLmNvbGxpc2lvbkJveEFycmF5PW5ldyBlLkNvbGxpc2lvbkJveEFycmF5O3ZhciB1PW5ldyBlLkRpY3Rpb25hcnlDb2RlcihPYmplY3Qua2V5cyh0LmxheWVycykuc29ydCgpKSxoPW5ldyBlLkZlYXR1cmVJbmRleCh0aGlzLnRpbGVJRCx0aGlzLnByb21vdGVJZCk7aC5idWNrZXRMYXllcklEcz1bXTt2YXIgYyxwLGYsZCxnPXt9LG09e2ZlYXR1cmVJbmRleDpoLGljb25EZXBlbmRlbmNpZXM6e30scGF0dGVybkRlcGVuZGVuY2llczp7fSxnbHlwaERlcGVuZGVuY2llczp7fSxhdmFpbGFibGVJbWFnZXM6aX0sdj1yLmZhbWlsaWVzQnlTb3VyY2VbdGhpcy5zb3VyY2VdO2Zvcih2YXIgeSBpbiB2KXt2YXIgeD10LmxheWVyc1t5XTtpZih4KXsxPT09eC52ZXJzaW9uJiZlLndhcm5PbmNlKCdWZWN0b3IgdGlsZSBzb3VyY2UgIicrdGhpcy5zb3VyY2UrJyIgbGF5ZXIgIicreSsnIiBkb2VzIG5vdCB1c2UgdmVjdG9yIHRpbGUgc3BlYyB2MiBhbmQgdGhlcmVmb3JlIG1heSBoYXZlIHNvbWUgcmVuZGVyaW5nIGVycm9ycy4nKTtmb3IodmFyIHc9dS5lbmNvZGUoeSksUz1bXSxJPTA7STx4Lmxlbmd0aDtJKyspe3ZhciBNPXguZmVhdHVyZShJKSxiPWguZ2V0SWQoTSx5KTtTLnB1c2goe2ZlYXR1cmU6TSxpZDpiLGluZGV4Okksc291cmNlTGF5ZXJJbmRleDp3fSk7fWZvcih2YXIgXz0wLGs9dlt5XTtfPGsubGVuZ3RoO18rPTEpe3ZhciBQPWtbX10sVD1QWzBdO1QubWluem9vbSYmdGhpcy56b29tPE1hdGguZmxvb3IoVC5taW56b29tKXx8VC5tYXh6b29tJiZ0aGlzLnpvb20+PVQubWF4em9vbXx8Im5vbmUiIT09VC52aXNpYmlsaXR5JiYocyhQLHRoaXMuem9vbSxpKSwoZ1tULmlkXT1ULmNyZWF0ZUJ1Y2tldCh7aW5kZXg6aC5idWNrZXRMYXllcklEcy5sZW5ndGgsbGF5ZXJzOlAsem9vbTp0aGlzLnpvb20scGl4ZWxSYXRpbzp0aGlzLnBpeGVsUmF0aW8sb3ZlcnNjYWxpbmc6dGhpcy5vdmVyc2NhbGluZyxjb2xsaXNpb25Cb3hBcnJheTp0aGlzLmNvbGxpc2lvbkJveEFycmF5LHNvdXJjZUxheWVySW5kZXg6dyxzb3VyY2VJRDp0aGlzLnNvdXJjZX0pKS5wb3B1bGF0ZShTLG0sdGhpcy50aWxlSUQuY2Fub25pY2FsKSxoLmJ1Y2tldExheWVySURzLnB1c2goUC5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmlkfSkpKSk7fX19dmFyIEM9ZS5tYXBPYmplY3QobS5nbHlwaERlcGVuZGVuY2llcywoZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdC5rZXlzKGUpLm1hcChOdW1iZXIpfSkpO09iamVjdC5rZXlzKEMpLmxlbmd0aD9uLnNlbmQoImdldEdseXBocyIse3VpZDp0aGlzLnVpZCxzdGFja3M6Q30sKGZ1bmN0aW9uKGUsdCl7Y3x8KGM9ZSxwPXQsTy5jYWxsKGwpKTt9KSk6cD17fTt2YXIgRD1PYmplY3Qua2V5cyhtLmljb25EZXBlbmRlbmNpZXMpO0QubGVuZ3RoP24uc2VuZCgiZ2V0SW1hZ2VzIix7aWNvbnM6RCxzb3VyY2U6dGhpcy5zb3VyY2UsdGlsZUlEOnRoaXMudGlsZUlELHR5cGU6Imljb25zIn0sKGZ1bmN0aW9uKGUsdCl7Y3x8KGM9ZSxmPXQsTy5jYWxsKGwpKTt9KSk6Zj17fTt2YXIgTD1PYmplY3Qua2V5cyhtLnBhdHRlcm5EZXBlbmRlbmNpZXMpO2Z1bmN0aW9uIE8oKXtpZihjKXJldHVybiBhKGMpO2lmKHAmJmYmJmQpe3ZhciB0PW5ldyBvKHApLHI9bmV3IGUuSW1hZ2VBdGxhcyhmLGQpO2Zvcih2YXIgbiBpbiBnKXt2YXIgbD1nW25dO2wgaW5zdGFuY2VvZiBlLlN5bWJvbEJ1Y2tldD8ocyhsLmxheWVycyx0aGlzLnpvb20saSksZS5wZXJmb3JtU3ltYm9sTGF5b3V0KGwscCx0LnBvc2l0aW9ucyxmLHIuaWNvblBvc2l0aW9ucyx0aGlzLnNob3dDb2xsaXNpb25Cb3hlcyx0aGlzLnRpbGVJRC5jYW5vbmljYWwpKTpsLmhhc1BhdHRlcm4mJihsIGluc3RhbmNlb2YgZS5MaW5lQnVja2V0fHxsIGluc3RhbmNlb2YgZS5GaWxsQnVja2V0fHxsIGluc3RhbmNlb2YgZS5GaWxsRXh0cnVzaW9uQnVja2V0KSYmKHMobC5sYXllcnMsdGhpcy56b29tLGkpLGwuYWRkRmVhdHVyZXMobSx0aGlzLnRpbGVJRC5jYW5vbmljYWwsci5wYXR0ZXJuUG9zaXRpb25zKSk7fXRoaXMuc3RhdHVzPSJkb25lIixhKG51bGwse2J1Y2tldHM6ZS52YWx1ZXMoZykuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gIWUuaXNFbXB0eSgpfSkpLGZlYXR1cmVJbmRleDpoLGNvbGxpc2lvbkJveEFycmF5OnRoaXMuY29sbGlzaW9uQm94QXJyYXksZ2x5cGhBdGxhc0ltYWdlOnQuaW1hZ2UsaW1hZ2VBdGxhczpyLGdseXBoTWFwOnRoaXMucmV0dXJuRGVwZW5kZW5jaWVzP3A6bnVsbCxpY29uTWFwOnRoaXMucmV0dXJuRGVwZW5kZW5jaWVzP2Y6bnVsbCxnbHlwaFBvc2l0aW9uczp0aGlzLnJldHVybkRlcGVuZGVuY2llcz90LnBvc2l0aW9uczpudWxsfSk7fX1MLmxlbmd0aD9uLnNlbmQoImdldEltYWdlcyIse2ljb25zOkwsc291cmNlOnRoaXMuc291cmNlLHRpbGVJRDp0aGlzLnRpbGVJRCx0eXBlOiJwYXR0ZXJucyJ9LChmdW5jdGlvbihlLHQpe2N8fChjPWUsZD10LE8uY2FsbChsKSk7fSkpOmQ9e30sTy5jYWxsKHRoaXMpO307dmFyIGw9ZnVuY3Rpb24oZSx0LHIsaSl7dGhpcy5hY3Rvcj1lLHRoaXMubGF5ZXJJbmRleD10LHRoaXMuYXZhaWxhYmxlSW1hZ2VzPXIsdGhpcy5sb2FkVmVjdG9yRGF0YT1pfHxhLHRoaXMubG9hZGluZz17fSx0aGlzLmxvYWRlZD17fTt9O2wucHJvdG90eXBlLmxvYWRUaWxlPWZ1bmN0aW9uKHQscil7dmFyIGk9dGhpcyxvPXQudWlkO3RoaXMubG9hZGluZ3x8KHRoaXMubG9hZGluZz17fSk7dmFyIHM9ISEodCYmdC5yZXF1ZXN0JiZ0LnJlcXVlc3QuY29sbGVjdFJlc291cmNlVGltaW5nKSYmbmV3IGUuUmVxdWVzdFBlcmZvcm1hbmNlKHQucmVxdWVzdCksYT10aGlzLmxvYWRpbmdbb109bmV3IG4odCk7YS5hYm9ydD10aGlzLmxvYWRWZWN0b3JEYXRhKHQsKGZ1bmN0aW9uKHQsbil7aWYoZGVsZXRlIGkubG9hZGluZ1tvXSx0fHwhbilyZXR1cm4gYS5zdGF0dXM9ImRvbmUiLGkubG9hZGVkW29dPWEscih0KTt2YXIgbD1uLnJhd0RhdGEsdT17fTtuLmV4cGlyZXMmJih1LmV4cGlyZXM9bi5leHBpcmVzKSxuLmNhY2hlQ29udHJvbCYmKHUuY2FjaGVDb250cm9sPW4uY2FjaGVDb250cm9sKTt2YXIgaD17fTtpZihzKXt2YXIgYz1zLmZpbmlzaCgpO2MmJihoLnJlc291cmNlVGltaW5nPUpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoYykpKTt9YS52ZWN0b3JUaWxlPW4udmVjdG9yVGlsZSxhLnBhcnNlKG4udmVjdG9yVGlsZSxpLmxheWVySW5kZXgsaS5hdmFpbGFibGVJbWFnZXMsaS5hY3RvciwoZnVuY3Rpb24odCxpKXtpZih0fHwhaSlyZXR1cm4gcih0KTtyKG51bGwsZS5leHRlbmQoe3Jhd1RpbGVEYXRhOmwuc2xpY2UoMCl9LGksdSxoKSk7fSkpLGkubG9hZGVkPWkubG9hZGVkfHx7fSxpLmxvYWRlZFtvXT1hO30pKTt9LGwucHJvdG90eXBlLnJlbG9hZFRpbGU9ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLGk9dGhpcy5sb2FkZWQsbz1lLnVpZCxuPXRoaXM7aWYoaSYmaVtvXSl7dmFyIHM9aVtvXTtzLnNob3dDb2xsaXNpb25Cb3hlcz1lLnNob3dDb2xsaXNpb25Cb3hlczt2YXIgYT1mdW5jdGlvbihlLGkpe3ZhciBvPXMucmVsb2FkQ2FsbGJhY2s7byYmKGRlbGV0ZSBzLnJlbG9hZENhbGxiYWNrLHMucGFyc2Uocy52ZWN0b3JUaWxlLG4ubGF5ZXJJbmRleCxyLmF2YWlsYWJsZUltYWdlcyxuLmFjdG9yLG8pKSx0KGUsaSk7fTsicGFyc2luZyI9PT1zLnN0YXR1cz9zLnJlbG9hZENhbGxiYWNrPWE6ImRvbmUiPT09cy5zdGF0dXMmJihzLnZlY3RvclRpbGU/cy5wYXJzZShzLnZlY3RvclRpbGUsdGhpcy5sYXllckluZGV4LHRoaXMuYXZhaWxhYmxlSW1hZ2VzLHRoaXMuYWN0b3IsYSk6YSgpKTt9fSxsLnByb3RvdHlwZS5hYm9ydFRpbGU9ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLmxvYWRpbmcsaT1lLnVpZDtyJiZyW2ldJiZyW2ldLmFib3J0JiYocltpXS5hYm9ydCgpLGRlbGV0ZSByW2ldKSx0KCk7fSxsLnByb3RvdHlwZS5yZW1vdmVUaWxlPWZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcy5sb2FkZWQsaT1lLnVpZDtyJiZyW2ldJiZkZWxldGUgcltpXSx0KCk7fTt2YXIgdT1lLndpbmRvdy5JbWFnZUJpdG1hcCxoPWZ1bmN0aW9uKCl7dGhpcy5sb2FkZWQ9e307fTtmdW5jdGlvbiBjKGUsdCl7aWYoMCE9PWUubGVuZ3RoKXtwKGVbMF0sdCk7Zm9yKHZhciByPTE7cjxlLmxlbmd0aDtyKyspcChlW3JdLCF0KTt9fWZ1bmN0aW9uIHAoZSx0KXtmb3IodmFyIHI9MCxpPTAsbz1lLmxlbmd0aCxuPW8tMTtpPG87bj1pKyspcis9KGVbaV1bMF0tZVtuXVswXSkqKGVbbl1bMV0rZVtpXVsxXSk7cj49MCE9ISF0JiZlLnJldmVyc2UoKTt9aC5wcm90b3R5cGUubG9hZFRpbGU9ZnVuY3Rpb24odCxyKXt2YXIgaT10LnVpZCxvPXQuZW5jb2Rpbmcsbj10LnJhd0ltYWdlRGF0YSxzPXUmJm4gaW5zdGFuY2VvZiB1P3RoaXMuZ2V0SW1hZ2VEYXRhKG4pOm4sYT1uZXcgZS5ERU1EYXRhKGkscyxvKTt0aGlzLmxvYWRlZD10aGlzLmxvYWRlZHx8e30sdGhpcy5sb2FkZWRbaV09YSxyKG51bGwsYSk7fSxoLnByb3RvdHlwZS5nZXRJbWFnZURhdGE9ZnVuY3Rpb24odCl7dGhpcy5vZmZzY3JlZW5DYW52YXMmJnRoaXMub2Zmc2NyZWVuQ2FudmFzQ29udGV4dHx8KHRoaXMub2Zmc2NyZWVuQ2FudmFzPW5ldyBPZmZzY3JlZW5DYW52YXModC53aWR0aCx0LmhlaWdodCksdGhpcy5vZmZzY3JlZW5DYW52YXNDb250ZXh0PXRoaXMub2Zmc2NyZWVuQ2FudmFzLmdldENvbnRleHQoIjJkIikpLHRoaXMub2Zmc2NyZWVuQ2FudmFzLndpZHRoPXQud2lkdGgsdGhpcy5vZmZzY3JlZW5DYW52YXMuaGVpZ2h0PXQuaGVpZ2h0LHRoaXMub2Zmc2NyZWVuQ2FudmFzQ29udGV4dC5kcmF3SW1hZ2UodCwwLDAsdC53aWR0aCx0LmhlaWdodCk7dmFyIHI9dGhpcy5vZmZzY3JlZW5DYW52YXNDb250ZXh0LmdldEltYWdlRGF0YSgtMSwtMSx0LndpZHRoKzIsdC5oZWlnaHQrMik7cmV0dXJuIHRoaXMub2Zmc2NyZWVuQ2FudmFzQ29udGV4dC5jbGVhclJlY3QoMCwwLHRoaXMub2Zmc2NyZWVuQ2FudmFzLndpZHRoLHRoaXMub2Zmc2NyZWVuQ2FudmFzLmhlaWdodCksbmV3IGUuUkdCQUltYWdlKHt3aWR0aDpyLndpZHRoLGhlaWdodDpyLmhlaWdodH0sci5kYXRhKX0saC5wcm90b3R5cGUucmVtb3ZlVGlsZT1mdW5jdGlvbihlKXt2YXIgdD10aGlzLmxvYWRlZCxyPWUudWlkO3QmJnRbcl0mJmRlbGV0ZSB0W3JdO307dmFyIGY9ZS52ZWN0b3JUaWxlLlZlY3RvclRpbGVGZWF0dXJlLnByb3RvdHlwZS50b0dlb0pTT04sZD1mdW5jdGlvbih0KXt0aGlzLl9mZWF0dXJlPXQsdGhpcy5leHRlbnQ9ZS5FWFRFTlQsdGhpcy50eXBlPXQudHlwZSx0aGlzLnByb3BlcnRpZXM9dC50YWdzLCJpZCJpbiB0JiYhaXNOYU4odC5pZCkmJih0aGlzLmlkPXBhcnNlSW50KHQuaWQsMTApKTt9O2QucHJvdG90eXBlLmxvYWRHZW9tZXRyeT1mdW5jdGlvbigpe2lmKDE9PT10aGlzLl9mZWF0dXJlLnR5cGUpe2Zvcih2YXIgdD1bXSxyPTAsaT10aGlzLl9mZWF0dXJlLmdlb21ldHJ5O3I8aS5sZW5ndGg7cis9MSl7dmFyIG89aVtyXTt0LnB1c2goW25ldyBlLlBvaW50JDEob1swXSxvWzFdKV0pO31yZXR1cm4gdH1mb3IodmFyIG49W10scz0wLGE9dGhpcy5fZmVhdHVyZS5nZW9tZXRyeTtzPGEubGVuZ3RoO3MrPTEpe2Zvcih2YXIgbD1bXSx1PTAsaD1hW3NdO3U8aC5sZW5ndGg7dSs9MSl7dmFyIGM9aFt1XTtsLnB1c2gobmV3IGUuUG9pbnQkMShjWzBdLGNbMV0pKTt9bi5wdXNoKGwpO31yZXR1cm4gbn0sZC5wcm90b3R5cGUudG9HZW9KU09OPWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gZi5jYWxsKHRoaXMsZSx0LHIpfTt2YXIgZz1mdW5jdGlvbih0KXt0aGlzLmxheWVycz17X2dlb2pzb25UaWxlTGF5ZXI6dGhpc30sdGhpcy5uYW1lPSJfZ2VvanNvblRpbGVMYXllciIsdGhpcy5leHRlbnQ9ZS5FWFRFTlQsdGhpcy5sZW5ndGg9dC5sZW5ndGgsdGhpcy5fZmVhdHVyZXM9dDt9O2cucHJvdG90eXBlLmZlYXR1cmU9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBkKHRoaXMuX2ZlYXR1cmVzW2VdKX07dmFyIG09ZS52ZWN0b3JUaWxlLlZlY3RvclRpbGVGZWF0dXJlLHY9eTtmdW5jdGlvbiB5KGUsdCl7dGhpcy5vcHRpb25zPXR8fHt9LHRoaXMuZmVhdHVyZXM9ZSx0aGlzLmxlbmd0aD1lLmxlbmd0aDt9ZnVuY3Rpb24geChlLHQpe3RoaXMuaWQ9Im51bWJlciI9PXR5cGVvZiBlLmlkP2UuaWQ6dm9pZCAwLHRoaXMudHlwZT1lLnR5cGUsdGhpcy5yYXdHZW9tZXRyeT0xPT09ZS50eXBlP1tlLmdlb21ldHJ5XTplLmdlb21ldHJ5LHRoaXMucHJvcGVydGllcz1lLnRhZ3MsdGhpcy5leHRlbnQ9dHx8NDA5Njt9eS5wcm90b3R5cGUuZmVhdHVyZT1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IHgodGhpcy5mZWF0dXJlc1tlXSx0aGlzLm9wdGlvbnMuZXh0ZW50KX0seC5wcm90b3R5cGUubG9hZEdlb21ldHJ5PWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5yYXdHZW9tZXRyeTt0aGlzLmdlb21ldHJ5PVtdO2Zvcih2YXIgcj0wO3I8dC5sZW5ndGg7cisrKXtmb3IodmFyIGk9dFtyXSxvPVtdLG49MDtuPGkubGVuZ3RoO24rKylvLnB1c2gobmV3IGUuUG9pbnQkMShpW25dWzBdLGlbbl1bMV0pKTt0aGlzLmdlb21ldHJ5LnB1c2gobyk7fXJldHVybiB0aGlzLmdlb21ldHJ5fSx4LnByb3RvdHlwZS5iYm94PWZ1bmN0aW9uKCl7dGhpcy5nZW9tZXRyeXx8dGhpcy5sb2FkR2VvbWV0cnkoKTtmb3IodmFyIGU9dGhpcy5nZW9tZXRyeSx0PTEvMCxyPS0xLzAsaT0xLzAsbz0tMS8wLG49MDtuPGUubGVuZ3RoO24rKylmb3IodmFyIHM9ZVtuXSxhPTA7YTxzLmxlbmd0aDthKyspe3ZhciBsPXNbYV07dD1NYXRoLm1pbih0LGwueCkscj1NYXRoLm1heChyLGwueCksaT1NYXRoLm1pbihpLGwueSksbz1NYXRoLm1heChvLGwueSk7fXJldHVybiBbdCxpLHIsb119LHgucHJvdG90eXBlLnRvR2VvSlNPTj1tLnByb3RvdHlwZS50b0dlb0pTT047dmFyIHc9SSxTPXY7ZnVuY3Rpb24gSSh0KXt2YXIgcj1uZXcgZS5wYmY7cmV0dXJuIGZ1bmN0aW9uKGUsdCl7Zm9yKHZhciByIGluIGUubGF5ZXJzKXQud3JpdGVNZXNzYWdlKDMsTSxlLmxheWVyc1tyXSk7fSh0LHIpLHIuZmluaXNoKCl9ZnVuY3Rpb24gTShlLHQpe3ZhciByO3Qud3JpdGVWYXJpbnRGaWVsZCgxNSxlLnZlcnNpb258fDEpLHQud3JpdGVTdHJpbmdGaWVsZCgxLGUubmFtZXx8IiIpLHQud3JpdGVWYXJpbnRGaWVsZCg1LGUuZXh0ZW50fHw0MDk2KTt2YXIgaT17a2V5czpbXSx2YWx1ZXM6W10sa2V5Y2FjaGU6e30sdmFsdWVjYWNoZTp7fX07Zm9yKHI9MDtyPGUubGVuZ3RoO3IrKylpLmZlYXR1cmU9ZS5mZWF0dXJlKHIpLHQud3JpdGVNZXNzYWdlKDIsYixpKTt2YXIgbz1pLmtleXM7Zm9yKHI9MDtyPG8ubGVuZ3RoO3IrKyl0LndyaXRlU3RyaW5nRmllbGQoMyxvW3JdKTt2YXIgbj1pLnZhbHVlcztmb3Iocj0wO3I8bi5sZW5ndGg7cisrKXQud3JpdGVNZXNzYWdlKDQsQyxuW3JdKTt9ZnVuY3Rpb24gYihlLHQpe3ZhciByPWUuZmVhdHVyZTt2b2lkIDAhPT1yLmlkJiZ0LndyaXRlVmFyaW50RmllbGQoMSxyLmlkKSx0LndyaXRlTWVzc2FnZSgyLF8sZSksdC53cml0ZVZhcmludEZpZWxkKDMsci50eXBlKSx0LndyaXRlTWVzc2FnZSg0LFQscik7fWZ1bmN0aW9uIF8oZSx0KXt2YXIgcj1lLmZlYXR1cmUsaT1lLmtleXMsbz1lLnZhbHVlcyxuPWUua2V5Y2FjaGUscz1lLnZhbHVlY2FjaGU7Zm9yKHZhciBhIGluIHIucHJvcGVydGllcyl7dmFyIGw9blthXTt2b2lkIDA9PT1sJiYoaS5wdXNoKGEpLG5bYV09bD1pLmxlbmd0aC0xKSx0LndyaXRlVmFyaW50KGwpO3ZhciB1PXIucHJvcGVydGllc1thXSxoPXR5cGVvZiB1OyJzdHJpbmciIT09aCYmImJvb2xlYW4iIT09aCYmIm51bWJlciIhPT1oJiYodT1KU09OLnN0cmluZ2lmeSh1KSk7dmFyIGM9aCsiOiIrdSxwPXNbY107dm9pZCAwPT09cCYmKG8ucHVzaCh1KSxzW2NdPXA9by5sZW5ndGgtMSksdC53cml0ZVZhcmludChwKTt9fWZ1bmN0aW9uIGsoZSx0KXtyZXR1cm4gKHQ8PDMpKyg3JmUpfWZ1bmN0aW9uIFAoZSl7cmV0dXJuIGU8PDFeZT4+MzF9ZnVuY3Rpb24gVChlLHQpe2Zvcih2YXIgcj1lLmxvYWRHZW9tZXRyeSgpLGk9ZS50eXBlLG89MCxuPTAscz1yLmxlbmd0aCxhPTA7YTxzO2ErKyl7dmFyIGw9clthXSx1PTE7MT09PWkmJih1PWwubGVuZ3RoKSx0LndyaXRlVmFyaW50KGsoMSx1KSk7Zm9yKHZhciBoPTM9PT1pP2wubGVuZ3RoLTE6bC5sZW5ndGgsYz0wO2M8aDtjKyspezE9PT1jJiYxIT09aSYmdC53cml0ZVZhcmludChrKDIsaC0xKSk7dmFyIHA9bFtjXS54LW8sZj1sW2NdLnktbjt0LndyaXRlVmFyaW50KFAocCkpLHQud3JpdGVWYXJpbnQoUChmKSksbys9cCxuKz1mO30zPT09aSYmdC53cml0ZVZhcmludChrKDcsMSkpO319ZnVuY3Rpb24gQyhlLHQpe3ZhciByPXR5cGVvZiBlOyJzdHJpbmciPT09cj90LndyaXRlU3RyaW5nRmllbGQoMSxlKToiYm9vbGVhbiI9PT1yP3Qud3JpdGVCb29sZWFuRmllbGQoNyxlKToibnVtYmVyIj09PXImJihlJTEhPTA/dC53cml0ZURvdWJsZUZpZWxkKDMsZSk6ZTwwP3Qud3JpdGVTVmFyaW50RmllbGQoNixlKTp0LndyaXRlVmFyaW50RmllbGQoNSxlKSk7fWZ1bmN0aW9uIEQoZSx0LHIsaSl7TChlLHIsaSksTCh0LDIqciwyKmkpLEwodCwyKnIrMSwyKmkrMSk7fWZ1bmN0aW9uIEwoZSx0LHIpe3ZhciBpPWVbdF07ZVt0XT1lW3JdLGVbcl09aTt9ZnVuY3Rpb24gTyhlLHQscixpKXt2YXIgbz1lLXIsbj10LWk7cmV0dXJuIG8qbytuKm59dy5mcm9tVmVjdG9yVGlsZUpzPUksdy5mcm9tR2VvanNvblZ0PWZ1bmN0aW9uKGUsdCl7dD10fHx7fTt2YXIgcj17fTtmb3IodmFyIGkgaW4gZSlyW2ldPW5ldyB2KGVbaV0uZmVhdHVyZXMsdCkscltpXS5uYW1lPWkscltpXS52ZXJzaW9uPXQudmVyc2lvbixyW2ldLmV4dGVudD10LmV4dGVudDtyZXR1cm4gSSh7bGF5ZXJzOnJ9KX0sdy5HZW9KU09OV3JhcHBlcj1TO3ZhciB6PWZ1bmN0aW9uKGUpe3JldHVybiBlWzBdfSxFPWZ1bmN0aW9uKGUpe3JldHVybiBlWzFdfSxGPWZ1bmN0aW9uKGUsdCxyLGksbyl7dm9pZCAwPT09dCYmKHQ9eiksdm9pZCAwPT09ciYmKHI9RSksdm9pZCAwPT09aSYmKGk9NjQpLHZvaWQgMD09PW8mJihvPUZsb2F0NjRBcnJheSksdGhpcy5ub2RlU2l6ZT1pLHRoaXMucG9pbnRzPWU7Zm9yKHZhciBuPWUubGVuZ3RoPDY1NTM2P1VpbnQxNkFycmF5OlVpbnQzMkFycmF5LHM9dGhpcy5pZHM9bmV3IG4oZS5sZW5ndGgpLGE9dGhpcy5jb29yZHM9bmV3IG8oMiplLmxlbmd0aCksbD0wO2w8ZS5sZW5ndGg7bCsrKXNbbF09bCxhWzIqbF09dChlW2xdKSxhWzIqbCsxXT1yKGVbbF0pOyFmdW5jdGlvbiBlKHQscixpLG8sbixzKXtpZighKG4tbzw9aSkpe3ZhciBhPW8rbj4+MTshZnVuY3Rpb24gZSh0LHIsaSxvLG4scyl7Zm9yKDtuPm87KXtpZihuLW8+NjAwKXt2YXIgYT1uLW8rMSxsPWktbysxLHU9TWF0aC5sb2coYSksaD0uNSpNYXRoLmV4cCgyKnUvMyksYz0uNSpNYXRoLnNxcnQodSpoKihhLWgpL2EpKihsLWEvMjwwPy0xOjEpO2UodCxyLGksTWF0aC5tYXgobyxNYXRoLmZsb29yKGktbCpoL2ErYykpLE1hdGgubWluKG4sTWF0aC5mbG9vcihpKyhhLWwpKmgvYStjKSkscyk7fXZhciBwPXJbMippK3NdLGY9byxkPW47Zm9yKEQodCxyLG8saSksclsyKm4rc10+cCYmRCh0LHIsbyxuKTtmPGQ7KXtmb3IoRCh0LHIsZixkKSxmKyssZC0tO3JbMipmK3NdPHA7KWYrKztmb3IoO3JbMipkK3NdPnA7KWQtLTt9clsyKm8rc109PT1wP0QodCxyLG8sZCk6RCh0LHIsKytkLG4pLGQ8PWkmJihvPWQrMSksaTw9ZCYmKG49ZC0xKTt9fSh0LHIsYSxvLG4scyUyKSxlKHQscixpLG8sYS0xLHMrMSksZSh0LHIsaSxhKzEsbixzKzEpO319KHMsYSxpLDAscy5sZW5ndGgtMSwwKTt9O0YucHJvdG90eXBlLnJhbmdlPWZ1bmN0aW9uKGUsdCxyLGkpe3JldHVybiBmdW5jdGlvbihlLHQscixpLG8sbixzKXtmb3IodmFyIGEsbCx1PVswLGUubGVuZ3RoLTEsMF0saD1bXTt1Lmxlbmd0aDspe3ZhciBjPXUucG9wKCkscD11LnBvcCgpLGY9dS5wb3AoKTtpZihwLWY8PXMpZm9yKHZhciBkPWY7ZDw9cDtkKyspbD10WzIqZCsxXSwoYT10WzIqZF0pPj1yJiZhPD1vJiZsPj1pJiZsPD1uJiZoLnB1c2goZVtkXSk7ZWxzZSB7dmFyIGc9TWF0aC5mbG9vcigoZitwKS8yKTtsPXRbMipnKzFdLChhPXRbMipnXSk+PXImJmE8PW8mJmw+PWkmJmw8PW4mJmgucHVzaChlW2ddKTt2YXIgbT0oYysxKSUyOygwPT09Yz9yPD1hOmk8PWwpJiYodS5wdXNoKGYpLHUucHVzaChnLTEpLHUucHVzaChtKSksKDA9PT1jP28+PWE6bj49bCkmJih1LnB1c2goZysxKSx1LnB1c2gocCksdS5wdXNoKG0pKTt9fXJldHVybiBofSh0aGlzLmlkcyx0aGlzLmNvb3JkcyxlLHQscixpLHRoaXMubm9kZVNpemUpfSxGLnByb3RvdHlwZS53aXRoaW49ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBmdW5jdGlvbihlLHQscixpLG8sbil7Zm9yKHZhciBzPVswLGUubGVuZ3RoLTEsMF0sYT1bXSxsPW8qbztzLmxlbmd0aDspe3ZhciB1PXMucG9wKCksaD1zLnBvcCgpLGM9cy5wb3AoKTtpZihoLWM8PW4pZm9yKHZhciBwPWM7cDw9aDtwKyspTyh0WzIqcF0sdFsyKnArMV0scixpKTw9bCYmYS5wdXNoKGVbcF0pO2Vsc2Uge3ZhciBmPU1hdGguZmxvb3IoKGMraCkvMiksZD10WzIqZl0sZz10WzIqZisxXTtPKGQsZyxyLGkpPD1sJiZhLnB1c2goZVtmXSk7dmFyIG09KHUrMSklMjsoMD09PXU/ci1vPD1kOmktbzw9ZykmJihzLnB1c2goYykscy5wdXNoKGYtMSkscy5wdXNoKG0pKSwoMD09PXU/citvPj1kOmkrbz49ZykmJihzLnB1c2goZisxKSxzLnB1c2goaCkscy5wdXNoKG0pKTt9fXJldHVybiBhfSh0aGlzLmlkcyx0aGlzLmNvb3JkcyxlLHQscix0aGlzLm5vZGVTaXplKX07dmFyIE49e21pblpvb206MCxtYXhab29tOjE2LHJhZGl1czo0MCxleHRlbnQ6NTEyLG5vZGVTaXplOjY0LGxvZzohMSxnZW5lcmF0ZUlkOiExLHJlZHVjZTpudWxsLG1hcDpmdW5jdGlvbihlKXtyZXR1cm4gZX19LEo9ZnVuY3Rpb24oZSl7dGhpcy5vcHRpb25zPVYoT2JqZWN0LmNyZWF0ZShOKSxlKSx0aGlzLnRyZWVzPW5ldyBBcnJheSh0aGlzLm9wdGlvbnMubWF4Wm9vbSsxKTt9O2Z1bmN0aW9uIFooZSx0LHIsaSxvKXtyZXR1cm4ge3g6ZSx5OnQsem9vbToxLzAsaWQ6cixwYXJlbnRJZDotMSxudW1Qb2ludHM6aSxwcm9wZXJ0aWVzOm99fWZ1bmN0aW9uIEEoZSx0KXt2YXIgcj1lLmdlb21ldHJ5LmNvb3JkaW5hdGVzLGk9clsxXTtyZXR1cm4ge3g6WShyWzBdKSx5OmooaSksem9vbToxLzAsaW5kZXg6dCxwYXJlbnRJZDotMX19ZnVuY3Rpb24gQihlKXtyZXR1cm4ge3R5cGU6IkZlYXR1cmUiLGlkOmUuaWQscHJvcGVydGllczpHKGUpLGdlb21ldHJ5Ont0eXBlOiJQb2ludCIsY29vcmRpbmF0ZXM6WyhpPWUueCwzNjAqKGktLjUpKSwodD1lLnkscj0oMTgwLTM2MCp0KSpNYXRoLlBJLzE4MCwzNjAqTWF0aC5hdGFuKE1hdGguZXhwKHIpKS9NYXRoLlBJLTkwKV19fTt2YXIgdCxyLGk7fWZ1bmN0aW9uIEcoZSl7dmFyIHQ9ZS5udW1Qb2ludHMscj10Pj0xZTQ/TWF0aC5yb3VuZCh0LzFlMykrImsiOnQ+PTFlMz9NYXRoLnJvdW5kKHQvMTAwKS8xMCsiayI6dDtyZXR1cm4gVihWKHt9LGUucHJvcGVydGllcykse2NsdXN0ZXI6ITAsY2x1c3Rlcl9pZDplLmlkLHBvaW50X2NvdW50OnQscG9pbnRfY291bnRfYWJicmV2aWF0ZWQ6cn0pfWZ1bmN0aW9uIFkoZSl7cmV0dXJuIGUvMzYwKy41fWZ1bmN0aW9uIGooZSl7dmFyIHQ9TWF0aC5zaW4oZSpNYXRoLlBJLzE4MCkscj0uNS0uMjUqTWF0aC5sb2coKDErdCkvKDEtdCkpL01hdGguUEk7cmV0dXJuIHI8MD8wOnI+MT8xOnJ9ZnVuY3Rpb24gVihlLHQpe2Zvcih2YXIgciBpbiB0KWVbcl09dFtyXTtyZXR1cm4gZX1mdW5jdGlvbiBYKGUpe3JldHVybiBlLnh9ZnVuY3Rpb24gVyhlKXtyZXR1cm4gZS55fWZ1bmN0aW9uIFIoZSx0LHIsaSxvLG4pe3ZhciBzPW8tcixhPW4taTtpZigwIT09c3x8MCE9PWEpe3ZhciBsPSgoZS1yKSpzKyh0LWkpKmEpLyhzKnMrYSphKTtsPjE/KHI9byxpPW4pOmw+MCYmKHIrPXMqbCxpKz1hKmwpO31yZXR1cm4gKHM9ZS1yKSpzKyhhPXQtaSkqYX1mdW5jdGlvbiBxKGUsdCxyLGkpe3ZhciBvPXtpZDp2b2lkIDA9PT1lP251bGw6ZSx0eXBlOnQsZ2VvbWV0cnk6cix0YWdzOmksbWluWDoxLzAsbWluWToxLzAsbWF4WDotMS8wLG1heFk6LTEvMH07cmV0dXJuIGZ1bmN0aW9uKGUpe3ZhciB0PWUuZ2VvbWV0cnkscj1lLnR5cGU7aWYoIlBvaW50Ij09PXJ8fCJNdWx0aVBvaW50Ij09PXJ8fCJMaW5lU3RyaW5nIj09PXIpVShlLHQpO2Vsc2UgaWYoIlBvbHlnb24iPT09cnx8Ik11bHRpTGluZVN0cmluZyI9PT1yKWZvcih2YXIgaT0wO2k8dC5sZW5ndGg7aSsrKVUoZSx0W2ldKTtlbHNlIGlmKCJNdWx0aVBvbHlnb24iPT09cilmb3IoaT0wO2k8dC5sZW5ndGg7aSsrKWZvcih2YXIgbz0wO288dFtpXS5sZW5ndGg7bysrKVUoZSx0W2ldW29dKTt9KG8pLG99ZnVuY3Rpb24gVShlLHQpe2Zvcih2YXIgcj0wO3I8dC5sZW5ndGg7cis9MyllLm1pblg9TWF0aC5taW4oZS5taW5YLHRbcl0pLGUubWluWT1NYXRoLm1pbihlLm1pblksdFtyKzFdKSxlLm1heFg9TWF0aC5tYXgoZS5tYXhYLHRbcl0pLGUubWF4WT1NYXRoLm1heChlLm1heFksdFtyKzFdKTt9ZnVuY3Rpb24gJChlLHQscixpKXtpZih0Lmdlb21ldHJ5KXt2YXIgbz10Lmdlb21ldHJ5LmNvb3JkaW5hdGVzLG49dC5nZW9tZXRyeS50eXBlLHM9TWF0aC5wb3coci50b2xlcmFuY2UvKCgxPDxyLm1heFpvb20pKnIuZXh0ZW50KSwyKSxhPVtdLGw9dC5pZDtpZihyLnByb21vdGVJZD9sPXQucHJvcGVydGllc1tyLnByb21vdGVJZF06ci5nZW5lcmF0ZUlkJiYobD1pfHwwKSwiUG9pbnQiPT09bilIKG8sYSk7ZWxzZSBpZigiTXVsdGlQb2ludCI9PT1uKWZvcih2YXIgdT0wO3U8by5sZW5ndGg7dSsrKUgob1t1XSxhKTtlbHNlIGlmKCJMaW5lU3RyaW5nIj09PW4pSyhvLGEscywhMSk7ZWxzZSBpZigiTXVsdGlMaW5lU3RyaW5nIj09PW4pe2lmKHIubGluZU1ldHJpY3Mpe2Zvcih1PTA7dTxvLmxlbmd0aDt1KyspSyhvW3VdLGE9W10scywhMSksZS5wdXNoKHEobCwiTGluZVN0cmluZyIsYSx0LnByb3BlcnRpZXMpKTtyZXR1cm59UShvLGEscywhMSk7fWVsc2UgaWYoIlBvbHlnb24iPT09bilRKG8sYSxzLCEwKTtlbHNlIHtpZigiTXVsdGlQb2x5Z29uIiE9PW4pe2lmKCJHZW9tZXRyeUNvbGxlY3Rpb24iPT09bil7Zm9yKHU9MDt1PHQuZ2VvbWV0cnkuZ2VvbWV0cmllcy5sZW5ndGg7dSsrKSQoZSx7aWQ6bCxnZW9tZXRyeTp0Lmdlb21ldHJ5Lmdlb21ldHJpZXNbdV0scHJvcGVydGllczp0LnByb3BlcnRpZXN9LHIsaSk7cmV0dXJufXRocm93IG5ldyBFcnJvcigiSW5wdXQgZGF0YSBpcyBub3QgYSB2YWxpZCBHZW9KU09OIG9iamVjdC4iKX1mb3IodT0wO3U8by5sZW5ndGg7dSsrKXt2YXIgaD1bXTtRKG9bdV0saCxzLCEwKSxhLnB1c2goaCk7fX1lLnB1c2gocShsLG4sYSx0LnByb3BlcnRpZXMpKTt9fWZ1bmN0aW9uIEgoZSx0KXt0LnB1c2goZWUoZVswXSkpLHQucHVzaCh0ZShlWzFdKSksdC5wdXNoKDApO31mdW5jdGlvbiBLKGUsdCxyLGkpe2Zvcih2YXIgbyxuLHM9MCxhPTA7YTxlLmxlbmd0aDthKyspe3ZhciBsPWVlKGVbYV1bMF0pLHU9dGUoZVthXVsxXSk7dC5wdXNoKGwpLHQucHVzaCh1KSx0LnB1c2goMCksYT4wJiYocys9aT8obyp1LWwqbikvMjpNYXRoLnNxcnQoTWF0aC5wb3cobC1vLDIpK01hdGgucG93KHUtbiwyKSkpLG89bCxuPXU7fXZhciBoPXQubGVuZ3RoLTM7dFsyXT0xLGZ1bmN0aW9uIGUodCxyLGksbyl7Zm9yKHZhciBuLHM9byxhPWktcj4+MSxsPWktcix1PXRbcl0saD10W3IrMV0sYz10W2ldLHA9dFtpKzFdLGY9ciszO2Y8aTtmKz0zKXt2YXIgZD1SKHRbZl0sdFtmKzFdLHUsaCxjLHApO2lmKGQ+cyluPWYscz1kO2Vsc2UgaWYoZD09PXMpe3ZhciBnPU1hdGguYWJzKGYtYSk7ZzxsJiYobj1mLGw9Zyk7fX1zPm8mJihuLXI+MyYmZSh0LHIsbixvKSx0W24rMl09cyxpLW4+MyYmZSh0LG4saSxvKSk7fSh0LDAsaCxyKSx0W2grMl09MSx0LnNpemU9TWF0aC5hYnMocyksdC5zdGFydD0wLHQuZW5kPXQuc2l6ZTt9ZnVuY3Rpb24gUShlLHQscixpKXtmb3IodmFyIG89MDtvPGUubGVuZ3RoO28rKyl7dmFyIG49W107SyhlW29dLG4scixpKSx0LnB1c2gobik7fX1mdW5jdGlvbiBlZShlKXtyZXR1cm4gZS8zNjArLjV9ZnVuY3Rpb24gdGUoZSl7dmFyIHQ9TWF0aC5zaW4oZSpNYXRoLlBJLzE4MCkscj0uNS0uMjUqTWF0aC5sb2coKDErdCkvKDEtdCkpL01hdGguUEk7cmV0dXJuIHI8MD8wOnI+MT8xOnJ9ZnVuY3Rpb24gcmUoZSx0LHIsaSxvLG4scyxhKXtpZihpLz10LG4+PShyLz10KSYmczxpKXJldHVybiBlO2lmKHM8cnx8bj49aSlyZXR1cm4gbnVsbDtmb3IodmFyIGw9W10sdT0wO3U8ZS5sZW5ndGg7dSsrKXt2YXIgaD1lW3VdLGM9aC5nZW9tZXRyeSxwPWgudHlwZSxmPTA9PT1vP2gubWluWDpoLm1pblksZD0wPT09bz9oLm1heFg6aC5tYXhZO2lmKGY+PXImJmQ8aSlsLnB1c2goaCk7ZWxzZSBpZighKGQ8cnx8Zj49aSkpe3ZhciBnPVtdO2lmKCJQb2ludCI9PT1wfHwiTXVsdGlQb2ludCI9PT1wKWllKGMsZyxyLGksbyk7ZWxzZSBpZigiTGluZVN0cmluZyI9PT1wKW9lKGMsZyxyLGksbywhMSxhLmxpbmVNZXRyaWNzKTtlbHNlIGlmKCJNdWx0aUxpbmVTdHJpbmciPT09cClzZShjLGcscixpLG8sITEpO2Vsc2UgaWYoIlBvbHlnb24iPT09cClzZShjLGcscixpLG8sITApO2Vsc2UgaWYoIk11bHRpUG9seWdvbiI9PT1wKWZvcih2YXIgbT0wO208Yy5sZW5ndGg7bSsrKXt2YXIgdj1bXTtzZShjW21dLHYscixpLG8sITApLHYubGVuZ3RoJiZnLnB1c2godik7fWlmKGcubGVuZ3RoKXtpZihhLmxpbmVNZXRyaWNzJiYiTGluZVN0cmluZyI9PT1wKXtmb3IobT0wO208Zy5sZW5ndGg7bSsrKWwucHVzaChxKGguaWQscCxnW21dLGgudGFncykpO2NvbnRpbnVlfSJMaW5lU3RyaW5nIiE9PXAmJiJNdWx0aUxpbmVTdHJpbmciIT09cHx8KDE9PT1nLmxlbmd0aD8ocD0iTGluZVN0cmluZyIsZz1nWzBdKTpwPSJNdWx0aUxpbmVTdHJpbmciKSwiUG9pbnQiIT09cCYmIk11bHRpUG9pbnQiIT09cHx8KHA9Mz09PWcubGVuZ3RoPyJQb2ludCI6Ik11bHRpUG9pbnQiKSxsLnB1c2gocShoLmlkLHAsZyxoLnRhZ3MpKTt9fX1yZXR1cm4gbC5sZW5ndGg/bDpudWxsfWZ1bmN0aW9uIGllKGUsdCxyLGksbyl7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKz0zKXt2YXIgcz1lW24rb107cz49ciYmczw9aSYmKHQucHVzaChlW25dKSx0LnB1c2goZVtuKzFdKSx0LnB1c2goZVtuKzJdKSk7fX1mdW5jdGlvbiBvZShlLHQscixpLG8sbixzKXtmb3IodmFyIGEsbCx1PW5lKGUpLGg9MD09PW8/bGU6dWUsYz1lLnN0YXJ0LHA9MDtwPGUubGVuZ3RoLTM7cCs9Myl7dmFyIGY9ZVtwXSxkPWVbcCsxXSxnPWVbcCsyXSxtPWVbcCszXSx2PWVbcCs0XSx5PTA9PT1vP2Y6ZCx4PTA9PT1vP206dix3PSExO3MmJihhPU1hdGguc3FydChNYXRoLnBvdyhmLW0sMikrTWF0aC5wb3coZC12LDIpKSkseTxyP3g+ciYmKGw9aCh1LGYsZCxtLHYscikscyYmKHUuc3RhcnQ9YythKmwpKTp5Pmk/eDxpJiYobD1oKHUsZixkLG0sdixpKSxzJiYodS5zdGFydD1jK2EqbCkpOmFlKHUsZixkLGcpLHg8ciYmeT49ciYmKGw9aCh1LGYsZCxtLHYsciksdz0hMCkseD5pJiZ5PD1pJiYobD1oKHUsZixkLG0sdixpKSx3PSEwKSwhbiYmdyYmKHMmJih1LmVuZD1jK2EqbCksdC5wdXNoKHUpLHU9bmUoZSkpLHMmJihjKz1hKTt9dmFyIFM9ZS5sZW5ndGgtMztmPWVbU10sZD1lW1MrMV0sZz1lW1MrMl0sKHk9MD09PW8/ZjpkKT49ciYmeTw9aSYmYWUodSxmLGQsZyksUz11Lmxlbmd0aC0zLG4mJlM+PTMmJih1W1NdIT09dVswXXx8dVtTKzFdIT09dVsxXSkmJmFlKHUsdVswXSx1WzFdLHVbMl0pLHUubGVuZ3RoJiZ0LnB1c2godSk7fWZ1bmN0aW9uIG5lKGUpe3ZhciB0PVtdO3JldHVybiB0LnNpemU9ZS5zaXplLHQuc3RhcnQ9ZS5zdGFydCx0LmVuZD1lLmVuZCx0fWZ1bmN0aW9uIHNlKGUsdCxyLGksbyxuKXtmb3IodmFyIHM9MDtzPGUubGVuZ3RoO3MrKylvZShlW3NdLHQscixpLG8sbiwhMSk7fWZ1bmN0aW9uIGFlKGUsdCxyLGkpe2UucHVzaCh0KSxlLnB1c2gociksZS5wdXNoKGkpO31mdW5jdGlvbiBsZShlLHQscixpLG8sbil7dmFyIHM9KG4tdCkvKGktdCk7cmV0dXJuIGUucHVzaChuKSxlLnB1c2gocisoby1yKSpzKSxlLnB1c2goMSksc31mdW5jdGlvbiB1ZShlLHQscixpLG8sbil7dmFyIHM9KG4tcikvKG8tcik7cmV0dXJuIGUucHVzaCh0KyhpLXQpKnMpLGUucHVzaChuKSxlLnB1c2goMSksc31mdW5jdGlvbiBoZShlLHQpe2Zvcih2YXIgcj1bXSxpPTA7aTxlLmxlbmd0aDtpKyspe3ZhciBvLG49ZVtpXSxzPW4udHlwZTtpZigiUG9pbnQiPT09c3x8Ik11bHRpUG9pbnQiPT09c3x8IkxpbmVTdHJpbmciPT09cylvPWNlKG4uZ2VvbWV0cnksdCk7ZWxzZSBpZigiTXVsdGlMaW5lU3RyaW5nIj09PXN8fCJQb2x5Z29uIj09PXMpe289W107Zm9yKHZhciBhPTA7YTxuLmdlb21ldHJ5Lmxlbmd0aDthKyspby5wdXNoKGNlKG4uZ2VvbWV0cnlbYV0sdCkpO31lbHNlIGlmKCJNdWx0aVBvbHlnb24iPT09cylmb3Iobz1bXSxhPTA7YTxuLmdlb21ldHJ5Lmxlbmd0aDthKyspe2Zvcih2YXIgbD1bXSx1PTA7dTxuLmdlb21ldHJ5W2FdLmxlbmd0aDt1KyspbC5wdXNoKGNlKG4uZ2VvbWV0cnlbYV1bdV0sdCkpO28ucHVzaChsKTt9ci5wdXNoKHEobi5pZCxzLG8sbi50YWdzKSk7fXJldHVybiByfWZ1bmN0aW9uIGNlKGUsdCl7dmFyIHI9W107ci5zaXplPWUuc2l6ZSx2b2lkIDAhPT1lLnN0YXJ0JiYoci5zdGFydD1lLnN0YXJ0LHIuZW5kPWUuZW5kKTtmb3IodmFyIGk9MDtpPGUubGVuZ3RoO2krPTMpci5wdXNoKGVbaV0rdCxlW2krMV0sZVtpKzJdKTtyZXR1cm4gcn1mdW5jdGlvbiBwZShlLHQpe2lmKGUudHJhbnNmb3JtZWQpcmV0dXJuIGU7dmFyIHIsaSxvLG49MTw8ZS56LHM9ZS54LGE9ZS55O2ZvcihyPTA7cjxlLmZlYXR1cmVzLmxlbmd0aDtyKyspe3ZhciBsPWUuZmVhdHVyZXNbcl0sdT1sLmdlb21ldHJ5LGg9bC50eXBlO2lmKGwuZ2VvbWV0cnk9W10sMT09PWgpZm9yKGk9MDtpPHUubGVuZ3RoO2krPTIpbC5nZW9tZXRyeS5wdXNoKGZlKHVbaV0sdVtpKzFdLHQsbixzLGEpKTtlbHNlIGZvcihpPTA7aTx1Lmxlbmd0aDtpKyspe3ZhciBjPVtdO2ZvcihvPTA7bzx1W2ldLmxlbmd0aDtvKz0yKWMucHVzaChmZSh1W2ldW29dLHVbaV1bbysxXSx0LG4scyxhKSk7bC5nZW9tZXRyeS5wdXNoKGMpO319cmV0dXJuIGUudHJhbnNmb3JtZWQ9ITAsZX1mdW5jdGlvbiBmZShlLHQscixpLG8sbil7cmV0dXJuIFtNYXRoLnJvdW5kKHIqKGUqaS1vKSksTWF0aC5yb3VuZChyKih0KmktbikpXX1mdW5jdGlvbiBkZShlLHQscixpLG8pe2Zvcih2YXIgbj10PT09by5tYXhab29tPzA6by50b2xlcmFuY2UvKCgxPDx0KSpvLmV4dGVudCkscz17ZmVhdHVyZXM6W10sbnVtUG9pbnRzOjAsbnVtU2ltcGxpZmllZDowLG51bUZlYXR1cmVzOjAsc291cmNlOm51bGwseDpyLHk6aSx6OnQsdHJhbnNmb3JtZWQ6ITEsbWluWDoyLG1pblk6MSxtYXhYOi0xLG1heFk6MH0sYT0wO2E8ZS5sZW5ndGg7YSsrKXtzLm51bUZlYXR1cmVzKyssZ2UocyxlW2FdLG4sbyk7dmFyIGw9ZVthXS5taW5YLHU9ZVthXS5taW5ZLGg9ZVthXS5tYXhYLGM9ZVthXS5tYXhZO2w8cy5taW5YJiYocy5taW5YPWwpLHU8cy5taW5ZJiYocy5taW5ZPXUpLGg+cy5tYXhYJiYocy5tYXhYPWgpLGM+cy5tYXhZJiYocy5tYXhZPWMpO31yZXR1cm4gc31mdW5jdGlvbiBnZShlLHQscixpKXt2YXIgbz10Lmdlb21ldHJ5LG49dC50eXBlLHM9W107aWYoIlBvaW50Ij09PW58fCJNdWx0aVBvaW50Ij09PW4pZm9yKHZhciBhPTA7YTxvLmxlbmd0aDthKz0zKXMucHVzaChvW2FdKSxzLnB1c2gob1thKzFdKSxlLm51bVBvaW50cysrLGUubnVtU2ltcGxpZmllZCsrO2Vsc2UgaWYoIkxpbmVTdHJpbmciPT09biltZShzLG8sZSxyLCExLCExKTtlbHNlIGlmKCJNdWx0aUxpbmVTdHJpbmciPT09bnx8IlBvbHlnb24iPT09bilmb3IoYT0wO2E8by5sZW5ndGg7YSsrKW1lKHMsb1thXSxlLHIsIlBvbHlnb24iPT09biwwPT09YSk7ZWxzZSBpZigiTXVsdGlQb2x5Z29uIj09PW4pZm9yKHZhciBsPTA7bDxvLmxlbmd0aDtsKyspe3ZhciB1PW9bbF07Zm9yKGE9MDthPHUubGVuZ3RoO2ErKyltZShzLHVbYV0sZSxyLCEwLDA9PT1hKTt9aWYocy5sZW5ndGgpe3ZhciBoPXQudGFnc3x8bnVsbDtpZigiTGluZVN0cmluZyI9PT1uJiZpLmxpbmVNZXRyaWNzKXtmb3IodmFyIGMgaW4gaD17fSx0LnRhZ3MpaFtjXT10LnRhZ3NbY107aC5tYXBib3hfY2xpcF9zdGFydD1vLnN0YXJ0L28uc2l6ZSxoLm1hcGJveF9jbGlwX2VuZD1vLmVuZC9vLnNpemU7fXZhciBwPXtnZW9tZXRyeTpzLHR5cGU6IlBvbHlnb24iPT09bnx8Ik11bHRpUG9seWdvbiI9PT1uPzM6IkxpbmVTdHJpbmciPT09bnx8Ik11bHRpTGluZVN0cmluZyI9PT1uPzI6MSx0YWdzOmh9O251bGwhPT10LmlkJiYocC5pZD10LmlkKSxlLmZlYXR1cmVzLnB1c2gocCk7fX1mdW5jdGlvbiBtZShlLHQscixpLG8sbil7dmFyIHM9aSppO2lmKGk+MCYmdC5zaXplPChvP3M6aSkpci5udW1Qb2ludHMrPXQubGVuZ3RoLzM7ZWxzZSB7Zm9yKHZhciBhPVtdLGw9MDtsPHQubGVuZ3RoO2wrPTMpKDA9PT1pfHx0W2wrMl0+cykmJihyLm51bVNpbXBsaWZpZWQrKyxhLnB1c2godFtsXSksYS5wdXNoKHRbbCsxXSkpLHIubnVtUG9pbnRzKys7byYmZnVuY3Rpb24oZSx0KXtmb3IodmFyIHI9MCxpPTAsbz1lLmxlbmd0aCxuPW8tMjtpPG87bj1pLGkrPTIpcis9KGVbaV0tZVtuXSkqKGVbaSsxXStlW24rMV0pO2lmKHI+MD09PXQpZm9yKGk9MCxvPWUubGVuZ3RoO2k8by8yO2krPTIpe3ZhciBzPWVbaV0sYT1lW2krMV07ZVtpXT1lW28tMi1pXSxlW2krMV09ZVtvLTEtaV0sZVtvLTItaV09cyxlW28tMS1pXT1hO319KGEsbiksZS5wdXNoKGEpO319ZnVuY3Rpb24gdmUoZSx0KXt2YXIgcj0odD10aGlzLm9wdGlvbnM9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIHIgaW4gdCllW3JdPXRbcl07cmV0dXJuIGV9KE9iamVjdC5jcmVhdGUodGhpcy5vcHRpb25zKSx0KSkuZGVidWc7aWYociYmY29uc29sZS50aW1lKCJwcmVwcm9jZXNzIGRhdGEiKSx0Lm1heFpvb208MHx8dC5tYXhab29tPjI0KXRocm93IG5ldyBFcnJvcigibWF4Wm9vbSBzaG91bGQgYmUgaW4gdGhlIDAtMjQgcmFuZ2UiKTtpZih0LnByb21vdGVJZCYmdC5nZW5lcmF0ZUlkKXRocm93IG5ldyBFcnJvcigicHJvbW90ZUlkIGFuZCBnZW5lcmF0ZUlkIGNhbm5vdCBiZSB1c2VkIHRvZ2V0aGVyLiIpO3ZhciBpPWZ1bmN0aW9uKGUsdCl7dmFyIHI9W107aWYoIkZlYXR1cmVDb2xsZWN0aW9uIj09PWUudHlwZSlmb3IodmFyIGk9MDtpPGUuZmVhdHVyZXMubGVuZ3RoO2krKykkKHIsZS5mZWF0dXJlc1tpXSx0LGkpO2Vsc2UgJChyLCJGZWF0dXJlIj09PWUudHlwZT9lOntnZW9tZXRyeTplfSx0KTtyZXR1cm4gcn0oZSx0KTt0aGlzLnRpbGVzPXt9LHRoaXMudGlsZUNvb3Jkcz1bXSxyJiYoY29uc29sZS50aW1lRW5kKCJwcmVwcm9jZXNzIGRhdGEiKSxjb25zb2xlLmxvZygiaW5kZXg6IG1heFpvb206ICVkLCBtYXhQb2ludHM6ICVkIix0LmluZGV4TWF4Wm9vbSx0LmluZGV4TWF4UG9pbnRzKSxjb25zb2xlLnRpbWUoImdlbmVyYXRlIHRpbGVzIiksdGhpcy5zdGF0cz17fSx0aGlzLnRvdGFsPTApLChpPWZ1bmN0aW9uKGUsdCl7dmFyIHI9dC5idWZmZXIvdC5leHRlbnQsaT1lLG89cmUoZSwxLC0xLXIsciwwLC0xLDIsdCksbj1yZShlLDEsMS1yLDIrciwwLC0xLDIsdCk7cmV0dXJuIChvfHxuKSYmKGk9cmUoZSwxLC1yLDErciwwLC0xLDIsdCl8fFtdLG8mJihpPWhlKG8sMSkuY29uY2F0KGkpKSxuJiYoaT1pLmNvbmNhdChoZShuLC0xKSkpKSxpfShpLHQpKS5sZW5ndGgmJnRoaXMuc3BsaXRUaWxlKGksMCwwLDApLHImJihpLmxlbmd0aCYmY29uc29sZS5sb2coImZlYXR1cmVzOiAlZCwgcG9pbnRzOiAlZCIsdGhpcy50aWxlc1swXS5udW1GZWF0dXJlcyx0aGlzLnRpbGVzWzBdLm51bVBvaW50cyksY29uc29sZS50aW1lRW5kKCJnZW5lcmF0ZSB0aWxlcyIpLGNvbnNvbGUubG9nKCJ0aWxlcyBnZW5lcmF0ZWQ6Iix0aGlzLnRvdGFsLEpTT04uc3RyaW5naWZ5KHRoaXMuc3RhdHMpKSk7fWZ1bmN0aW9uIHllKGUsdCxyKXtyZXR1cm4gMzIqKCgxPDxlKSpyK3QpK2V9ZnVuY3Rpb24geGUoZSx0KXt2YXIgcj1lLnRpbGVJRC5jYW5vbmljYWw7aWYoIXRoaXMuX2dlb0pTT05JbmRleClyZXR1cm4gdChudWxsLG51bGwpO3ZhciBpPXRoaXMuX2dlb0pTT05JbmRleC5nZXRUaWxlKHIueixyLngsci55KTtpZighaSlyZXR1cm4gdChudWxsLG51bGwpO3ZhciBvPW5ldyBnKGkuZmVhdHVyZXMpLG49dyhvKTswPT09bi5ieXRlT2Zmc2V0JiZuLmJ5dGVMZW5ndGg9PT1uLmJ1ZmZlci5ieXRlTGVuZ3RofHwobj1uZXcgVWludDhBcnJheShuKSksdChudWxsLHt2ZWN0b3JUaWxlOm8scmF3RGF0YTpuLmJ1ZmZlcn0pO31KLnByb3RvdHlwZS5sb2FkPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMub3B0aW9ucyxyPXQubG9nLGk9dC5taW5ab29tLG89dC5tYXhab29tLG49dC5ub2RlU2l6ZTtyJiZjb25zb2xlLnRpbWUoInRvdGFsIHRpbWUiKTt2YXIgcz0icHJlcGFyZSAiK2UubGVuZ3RoKyIgcG9pbnRzIjtyJiZjb25zb2xlLnRpbWUocyksdGhpcy5wb2ludHM9ZTtmb3IodmFyIGE9W10sbD0wO2w8ZS5sZW5ndGg7bCsrKWVbbF0uZ2VvbWV0cnkmJmEucHVzaChBKGVbbF0sbCkpO3RoaXMudHJlZXNbbysxXT1uZXcgRihhLFgsVyxuLEZsb2F0MzJBcnJheSksciYmY29uc29sZS50aW1lRW5kKHMpO2Zvcih2YXIgdT1vO3U+PWk7dS0tKXt2YXIgaD0rRGF0ZS5ub3coKTthPXRoaXMuX2NsdXN0ZXIoYSx1KSx0aGlzLnRyZWVzW3VdPW5ldyBGKGEsWCxXLG4sRmxvYXQzMkFycmF5KSxyJiZjb25zb2xlLmxvZygieiVkOiAlZCBjbHVzdGVycyBpbiAlZG1zIix1LGEubGVuZ3RoLCtEYXRlLm5vdygpLWgpO31yZXR1cm4gciYmY29uc29sZS50aW1lRW5kKCJ0b3RhbCB0aW1lIiksdGhpc30sSi5wcm90b3R5cGUuZ2V0Q2x1c3RlcnM9ZnVuY3Rpb24oZSx0KXt2YXIgcj0oKGVbMF0rMTgwKSUzNjArMzYwKSUzNjAtMTgwLGk9TWF0aC5tYXgoLTkwLE1hdGgubWluKDkwLGVbMV0pKSxvPTE4MD09PWVbMl0/MTgwOigoZVsyXSsxODApJTM2MCszNjApJTM2MC0xODAsbj1NYXRoLm1heCgtOTAsTWF0aC5taW4oOTAsZVszXSkpO2lmKGVbMl0tZVswXT49MzYwKXI9LTE4MCxvPTE4MDtlbHNlIGlmKHI+byl7dmFyIHM9dGhpcy5nZXRDbHVzdGVycyhbcixpLDE4MCxuXSx0KSxhPXRoaXMuZ2V0Q2x1c3RlcnMoWy0xODAsaSxvLG5dLHQpO3JldHVybiBzLmNvbmNhdChhKX1mb3IodmFyIGw9dGhpcy50cmVlc1t0aGlzLl9saW1pdFpvb20odCldLHU9W10saD0wLGM9bC5yYW5nZShZKHIpLGoobiksWShvKSxqKGkpKTtoPGMubGVuZ3RoO2grPTEpe3ZhciBwPWwucG9pbnRzW2NbaF1dO3UucHVzaChwLm51bVBvaW50cz9CKHApOnRoaXMucG9pbnRzW3AuaW5kZXhdKTt9cmV0dXJuIHV9LEoucHJvdG90eXBlLmdldENoaWxkcmVuPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuX2dldE9yaWdpbklkKGUpLHI9dGhpcy5fZ2V0T3JpZ2luWm9vbShlKSxpPSJObyBjbHVzdGVyIHdpdGggdGhlIHNwZWNpZmllZCBpZC4iLG89dGhpcy50cmVlc1tyXTtpZighbyl0aHJvdyBuZXcgRXJyb3IoaSk7dmFyIG49by5wb2ludHNbdF07aWYoIW4pdGhyb3cgbmV3IEVycm9yKGkpO2Zvcih2YXIgcz10aGlzLm9wdGlvbnMucmFkaXVzLyh0aGlzLm9wdGlvbnMuZXh0ZW50Kk1hdGgucG93KDIsci0xKSksYT1bXSxsPTAsdT1vLndpdGhpbihuLngsbi55LHMpO2w8dS5sZW5ndGg7bCs9MSl7dmFyIGg9by5wb2ludHNbdVtsXV07aC5wYXJlbnRJZD09PWUmJmEucHVzaChoLm51bVBvaW50cz9CKGgpOnRoaXMucG9pbnRzW2guaW5kZXhdKTt9aWYoMD09PWEubGVuZ3RoKXRocm93IG5ldyBFcnJvcihpKTtyZXR1cm4gYX0sSi5wcm90b3R5cGUuZ2V0TGVhdmVzPWZ1bmN0aW9uKGUsdCxyKXt2YXIgaT1bXTtyZXR1cm4gdGhpcy5fYXBwZW5kTGVhdmVzKGksZSx0PXR8fDEwLHI9cnx8MCwwKSxpfSxKLnByb3RvdHlwZS5nZXRUaWxlPWZ1bmN0aW9uKGUsdCxyKXt2YXIgaT10aGlzLnRyZWVzW3RoaXMuX2xpbWl0Wm9vbShlKV0sbz1NYXRoLnBvdygyLGUpLG49dGhpcy5vcHRpb25zLHM9bi5yYWRpdXMvbi5leHRlbnQsYT0oci1zKS9vLGw9KHIrMStzKS9vLHU9e2ZlYXR1cmVzOltdfTtyZXR1cm4gdGhpcy5fYWRkVGlsZUZlYXR1cmVzKGkucmFuZ2UoKHQtcykvbyxhLCh0KzErcykvbyxsKSxpLnBvaW50cyx0LHIsbyx1KSwwPT09dCYmdGhpcy5fYWRkVGlsZUZlYXR1cmVzKGkucmFuZ2UoMS1zL28sYSwxLGwpLGkucG9pbnRzLG8scixvLHUpLHQ9PT1vLTEmJnRoaXMuX2FkZFRpbGVGZWF0dXJlcyhpLnJhbmdlKDAsYSxzL28sbCksaS5wb2ludHMsLTEscixvLHUpLHUuZmVhdHVyZXMubGVuZ3RoP3U6bnVsbH0sSi5wcm90b3R5cGUuZ2V0Q2x1c3RlckV4cGFuc2lvblpvb209ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PXRoaXMuX2dldE9yaWdpblpvb20oZSktMTt0PD10aGlzLm9wdGlvbnMubWF4Wm9vbTspe3ZhciByPXRoaXMuZ2V0Q2hpbGRyZW4oZSk7aWYodCsrLDEhPT1yLmxlbmd0aClicmVhaztlPXJbMF0ucHJvcGVydGllcy5jbHVzdGVyX2lkO31yZXR1cm4gdH0sSi5wcm90b3R5cGUuX2FwcGVuZExlYXZlcz1mdW5jdGlvbihlLHQscixpLG8pe2Zvcih2YXIgbj0wLHM9dGhpcy5nZXRDaGlsZHJlbih0KTtuPHMubGVuZ3RoO24rPTEpe3ZhciBhPXNbbl0sbD1hLnByb3BlcnRpZXM7aWYobCYmbC5jbHVzdGVyP28rbC5wb2ludF9jb3VudDw9aT9vKz1sLnBvaW50X2NvdW50Om89dGhpcy5fYXBwZW5kTGVhdmVzKGUsbC5jbHVzdGVyX2lkLHIsaSxvKTpvPGk/bysrOmUucHVzaChhKSxlLmxlbmd0aD09PXIpYnJlYWt9cmV0dXJuIG99LEoucHJvdG90eXBlLl9hZGRUaWxlRmVhdHVyZXM9ZnVuY3Rpb24oZSx0LHIsaSxvLG4pe2Zvcih2YXIgcz0wLGE9ZTtzPGEubGVuZ3RoO3MrPTEpe3ZhciBsPXRbYVtzXV0sdT1sLm51bVBvaW50cyxoPXt0eXBlOjEsZ2VvbWV0cnk6W1tNYXRoLnJvdW5kKHRoaXMub3B0aW9ucy5leHRlbnQqKGwueCpvLXIpKSxNYXRoLnJvdW5kKHRoaXMub3B0aW9ucy5leHRlbnQqKGwueSpvLWkpKV1dLHRhZ3M6dT9HKGwpOnRoaXMucG9pbnRzW2wuaW5kZXhdLnByb3BlcnRpZXN9LGM9dm9pZCAwO3U/Yz1sLmlkOnRoaXMub3B0aW9ucy5nZW5lcmF0ZUlkP2M9bC5pbmRleDp0aGlzLnBvaW50c1tsLmluZGV4XS5pZCYmKGM9dGhpcy5wb2ludHNbbC5pbmRleF0uaWQpLHZvaWQgMCE9PWMmJihoLmlkPWMpLG4uZmVhdHVyZXMucHVzaChoKTt9fSxKLnByb3RvdHlwZS5fbGltaXRab29tPWZ1bmN0aW9uKGUpe3JldHVybiBNYXRoLm1heCh0aGlzLm9wdGlvbnMubWluWm9vbSxNYXRoLm1pbihlLHRoaXMub3B0aW9ucy5tYXhab29tKzEpKX0sSi5wcm90b3R5cGUuX2NsdXN0ZXI9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIHI9W10saT10aGlzLm9wdGlvbnMsbz1pLnJlZHVjZSxuPWkucmFkaXVzLyhpLmV4dGVudCpNYXRoLnBvdygyLHQpKSxzPTA7czxlLmxlbmd0aDtzKyspe3ZhciBhPWVbc107aWYoIShhLnpvb208PXQpKXthLnpvb209dDtmb3IodmFyIGw9dGhpcy50cmVlc1t0KzFdLHU9bC53aXRoaW4oYS54LGEueSxuKSxoPWEubnVtUG9pbnRzfHwxLGM9YS54KmgscD1hLnkqaCxmPW8mJmg+MT90aGlzLl9tYXAoYSwhMCk6bnVsbCxkPShzPDw1KSsodCsxKSt0aGlzLnBvaW50cy5sZW5ndGgsZz0wLG09dTtnPG0ubGVuZ3RoO2crPTEpe3ZhciB2PWwucG9pbnRzW21bZ11dO2lmKCEodi56b29tPD10KSl7di56b29tPXQ7dmFyIHk9di5udW1Qb2ludHN8fDE7Yys9di54KnkscCs9di55KnksaCs9eSx2LnBhcmVudElkPWQsbyYmKGZ8fChmPXRoaXMuX21hcChhLCEwKSksbyhmLHRoaXMuX21hcCh2KSkpO319MT09PWg/ci5wdXNoKGEpOihhLnBhcmVudElkPWQsci5wdXNoKFooYy9oLHAvaCxkLGgsZikpKTt9fXJldHVybiByfSxKLnByb3RvdHlwZS5fZ2V0T3JpZ2luSWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGUtdGhpcy5wb2ludHMubGVuZ3RoPj41fSxKLnByb3RvdHlwZS5fZ2V0T3JpZ2luWm9vbT1mdW5jdGlvbihlKXtyZXR1cm4gKGUtdGhpcy5wb2ludHMubGVuZ3RoKSUzMn0sSi5wcm90b3R5cGUuX21hcD1mdW5jdGlvbihlLHQpe2lmKGUubnVtUG9pbnRzKXJldHVybiB0P1Yoe30sZS5wcm9wZXJ0aWVzKTplLnByb3BlcnRpZXM7dmFyIHI9dGhpcy5wb2ludHNbZS5pbmRleF0ucHJvcGVydGllcyxpPXRoaXMub3B0aW9ucy5tYXAocik7cmV0dXJuIHQmJmk9PT1yP1Yoe30saSk6aX0sdmUucHJvdG90eXBlLm9wdGlvbnM9e21heFpvb206MTQsaW5kZXhNYXhab29tOjUsaW5kZXhNYXhQb2ludHM6MWU1LHRvbGVyYW5jZTozLGV4dGVudDo0MDk2LGJ1ZmZlcjo2NCxsaW5lTWV0cmljczohMSxwcm9tb3RlSWQ6bnVsbCxnZW5lcmF0ZUlkOiExLGRlYnVnOjB9LHZlLnByb3RvdHlwZS5zcGxpdFRpbGU9ZnVuY3Rpb24oZSx0LHIsaSxvLG4scyl7Zm9yKHZhciBhPVtlLHQscixpXSxsPXRoaXMub3B0aW9ucyx1PWwuZGVidWc7YS5sZW5ndGg7KXtpPWEucG9wKCkscj1hLnBvcCgpLHQ9YS5wb3AoKSxlPWEucG9wKCk7dmFyIGg9MTw8dCxjPXllKHQscixpKSxwPXRoaXMudGlsZXNbY107aWYoIXAmJih1PjEmJmNvbnNvbGUudGltZSgiY3JlYXRpb24iKSxwPXRoaXMudGlsZXNbY109ZGUoZSx0LHIsaSxsKSx0aGlzLnRpbGVDb29yZHMucHVzaCh7ejp0LHg6cix5Oml9KSx1KSl7dT4xJiYoY29uc29sZS5sb2coInRpbGUgeiVkLSVkLSVkIChmZWF0dXJlczogJWQsIHBvaW50czogJWQsIHNpbXBsaWZpZWQ6ICVkKSIsdCxyLGkscC5udW1GZWF0dXJlcyxwLm51bVBvaW50cyxwLm51bVNpbXBsaWZpZWQpLGNvbnNvbGUudGltZUVuZCgiY3JlYXRpb24iKSk7dmFyIGY9InoiK3Q7dGhpcy5zdGF0c1tmXT0odGhpcy5zdGF0c1tmXXx8MCkrMSx0aGlzLnRvdGFsKys7fWlmKHAuc291cmNlPWUsbyl7aWYodD09PWwubWF4Wm9vbXx8dD09PW8pY29udGludWU7dmFyIGQ9MTw8by10O2lmKHIhPT1NYXRoLmZsb29yKG4vZCl8fGkhPT1NYXRoLmZsb29yKHMvZCkpY29udGludWV9ZWxzZSBpZih0PT09bC5pbmRleE1heFpvb218fHAubnVtUG9pbnRzPD1sLmluZGV4TWF4UG9pbnRzKWNvbnRpbnVlO2lmKHAuc291cmNlPW51bGwsMCE9PWUubGVuZ3RoKXt1PjEmJmNvbnNvbGUudGltZSgiY2xpcHBpbmciKTt2YXIgZyxtLHYseSx4LHcsUz0uNSpsLmJ1ZmZlci9sLmV4dGVudCxJPS41LVMsTT0uNStTLGI9MStTO2c9bT12PXk9bnVsbCx4PXJlKGUsaCxyLVMscitNLDAscC5taW5YLHAubWF4WCxsKSx3PXJlKGUsaCxyK0kscitiLDAscC5taW5YLHAubWF4WCxsKSxlPW51bGwseCYmKGc9cmUoeCxoLGktUyxpK00sMSxwLm1pblkscC5tYXhZLGwpLG09cmUoeCxoLGkrSSxpK2IsMSxwLm1pblkscC5tYXhZLGwpLHg9bnVsbCksdyYmKHY9cmUodyxoLGktUyxpK00sMSxwLm1pblkscC5tYXhZLGwpLHk9cmUodyxoLGkrSSxpK2IsMSxwLm1pblkscC5tYXhZLGwpLHc9bnVsbCksdT4xJiZjb25zb2xlLnRpbWVFbmQoImNsaXBwaW5nIiksYS5wdXNoKGd8fFtdLHQrMSwyKnIsMippKSxhLnB1c2gobXx8W10sdCsxLDIqciwyKmkrMSksYS5wdXNoKHZ8fFtdLHQrMSwyKnIrMSwyKmkpLGEucHVzaCh5fHxbXSx0KzEsMipyKzEsMippKzEpO319fSx2ZS5wcm90b3R5cGUuZ2V0VGlsZT1mdW5jdGlvbihlLHQscil7dmFyIGk9dGhpcy5vcHRpb25zLG89aS5leHRlbnQsbj1pLmRlYnVnO2lmKGU8MHx8ZT4yNClyZXR1cm4gbnVsbDt2YXIgcz0xPDxlLGE9eWUoZSx0PSh0JXMrcyklcyxyKTtpZih0aGlzLnRpbGVzW2FdKXJldHVybiBwZSh0aGlzLnRpbGVzW2FdLG8pO24+MSYmY29uc29sZS5sb2coImRyaWxsaW5nIGRvd24gdG8geiVkLSVkLSVkIixlLHQscik7Zm9yKHZhciBsLHU9ZSxoPXQsYz1yOyFsJiZ1PjA7KXUtLSxoPU1hdGguZmxvb3IoaC8yKSxjPU1hdGguZmxvb3IoYy8yKSxsPXRoaXMudGlsZXNbeWUodSxoLGMpXTtyZXR1cm4gbCYmbC5zb3VyY2U/KG4+MSYmY29uc29sZS5sb2coImZvdW5kIHBhcmVudCB0aWxlIHolZC0lZC0lZCIsdSxoLGMpLG4+MSYmY29uc29sZS50aW1lKCJkcmlsbGluZyBkb3duIiksdGhpcy5zcGxpdFRpbGUobC5zb3VyY2UsdSxoLGMsZSx0LHIpLG4+MSYmY29uc29sZS50aW1lRW5kKCJkcmlsbGluZyBkb3duIiksdGhpcy50aWxlc1thXT9wZSh0aGlzLnRpbGVzW2FdLG8pOm51bGwpOm51bGx9O3ZhciB3ZT1mdW5jdGlvbih0KXtmdW5jdGlvbiByKGUscixpLG8pe3QuY2FsbCh0aGlzLGUscixpLHhlKSxvJiYodGhpcy5sb2FkR2VvSlNPTj1vKTt9cmV0dXJuIHQmJihyLl9fcHJvdG9fXz10KSwoci5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSkpLmNvbnN0cnVjdG9yPXIsci5wcm90b3R5cGUubG9hZERhdGE9ZnVuY3Rpb24oZSx0KXt0aGlzLl9wZW5kaW5nQ2FsbGJhY2smJnRoaXMuX3BlbmRpbmdDYWxsYmFjayhudWxsLHthYmFuZG9uZWQ6ITB9KSx0aGlzLl9wZW5kaW5nQ2FsbGJhY2s9dCx0aGlzLl9wZW5kaW5nTG9hZERhdGFQYXJhbXM9ZSx0aGlzLl9zdGF0ZSYmIklkbGUiIT09dGhpcy5fc3RhdGU/dGhpcy5fc3RhdGU9Ik5lZWRzTG9hZERhdGEiOih0aGlzLl9zdGF0ZT0iQ29hbGVzY2luZyIsdGhpcy5fbG9hZERhdGEoKSk7fSxyLnByb3RvdHlwZS5fbG9hZERhdGE9ZnVuY3Rpb24oKXt2YXIgdD10aGlzO2lmKHRoaXMuX3BlbmRpbmdDYWxsYmFjayYmdGhpcy5fcGVuZGluZ0xvYWREYXRhUGFyYW1zKXt2YXIgcj10aGlzLl9wZW5kaW5nQ2FsbGJhY2ssaT10aGlzLl9wZW5kaW5nTG9hZERhdGFQYXJhbXM7ZGVsZXRlIHRoaXMuX3BlbmRpbmdDYWxsYmFjayxkZWxldGUgdGhpcy5fcGVuZGluZ0xvYWREYXRhUGFyYW1zO3ZhciBvPSEhKGkmJmkucmVxdWVzdCYmaS5yZXF1ZXN0LmNvbGxlY3RSZXNvdXJjZVRpbWluZykmJm5ldyBlLlJlcXVlc3RQZXJmb3JtYW5jZShpLnJlcXVlc3QpO3RoaXMubG9hZEdlb0pTT04oaSwoZnVuY3Rpb24obixzKXtpZihufHwhcylyZXR1cm4gcihuKTtpZigib2JqZWN0IiE9dHlwZW9mIHMpcmV0dXJuIHIobmV3IEVycm9yKCJJbnB1dCBkYXRhIGdpdmVuIHRvICciK2kuc291cmNlKyInIGlzIG5vdCBhIHZhbGlkIEdlb0pTT04gb2JqZWN0LiIpKTshZnVuY3Rpb24gZSh0LHIpe3ZhciBpLG89dCYmdC50eXBlO2lmKCJGZWF0dXJlQ29sbGVjdGlvbiI9PT1vKWZvcihpPTA7aTx0LmZlYXR1cmVzLmxlbmd0aDtpKyspZSh0LmZlYXR1cmVzW2ldLHIpO2Vsc2UgaWYoIkdlb21ldHJ5Q29sbGVjdGlvbiI9PT1vKWZvcihpPTA7aTx0Lmdlb21ldHJpZXMubGVuZ3RoO2krKyllKHQuZ2VvbWV0cmllc1tpXSxyKTtlbHNlIGlmKCJGZWF0dXJlIj09PW8pZSh0Lmdlb21ldHJ5LHIpO2Vsc2UgaWYoIlBvbHlnb24iPT09byljKHQuY29vcmRpbmF0ZXMscik7ZWxzZSBpZigiTXVsdGlQb2x5Z29uIj09PW8pZm9yKGk9MDtpPHQuY29vcmRpbmF0ZXMubGVuZ3RoO2krKyljKHQuY29vcmRpbmF0ZXNbaV0scik7cmV0dXJuIHR9KHMsITApO3RyeXt0Ll9nZW9KU09OSW5kZXg9aS5jbHVzdGVyP25ldyBKKGZ1bmN0aW9uKHQpe3ZhciByPXQuc3VwZXJjbHVzdGVyT3B0aW9ucyxpPXQuY2x1c3RlclByb3BlcnRpZXM7aWYoIWl8fCFyKXJldHVybiByO2Zvcih2YXIgbz17fSxuPXt9LHM9e2FjY3VtdWxhdGVkOm51bGwsem9vbTowfSxhPXtwcm9wZXJ0aWVzOm51bGx9LGw9T2JqZWN0LmtleXMoaSksdT0wLGg9bDt1PGgubGVuZ3RoO3UrPTEpe3ZhciBjPWhbdV0scD1pW2NdLGY9cFswXSxkPWUuY3JlYXRlRXhwcmVzc2lvbihwWzFdKSxnPWUuY3JlYXRlRXhwcmVzc2lvbigic3RyaW5nIj09dHlwZW9mIGY/W2YsWyJhY2N1bXVsYXRlZCJdLFsiZ2V0IixjXV06Zik7b1tjXT1kLnZhbHVlLG5bY109Zy52YWx1ZTt9cmV0dXJuIHIubWFwPWZ1bmN0aW9uKGUpe2EucHJvcGVydGllcz1lO2Zvcih2YXIgdD17fSxyPTAsaT1sO3I8aS5sZW5ndGg7cis9MSl7dmFyIG49aVtyXTt0W25dPW9bbl0uZXZhbHVhdGUocyxhKTt9cmV0dXJuIHR9LHIucmVkdWNlPWZ1bmN0aW9uKGUsdCl7YS5wcm9wZXJ0aWVzPXQ7Zm9yKHZhciByPTAsaT1sO3I8aS5sZW5ndGg7cis9MSl7dmFyIG89aVtyXTtzLmFjY3VtdWxhdGVkPWVbb10sZVtvXT1uW29dLmV2YWx1YXRlKHMsYSk7fX0scn0oaSkpLmxvYWQocy5mZWF0dXJlcyk6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbmV3IHZlKGUsdCl9KHMsaS5nZW9qc29uVnRPcHRpb25zKTt9Y2F0Y2gobil7cmV0dXJuIHIobil9dC5sb2FkZWQ9e307dmFyIGE9e307aWYobyl7dmFyIGw9by5maW5pc2goKTtsJiYoYS5yZXNvdXJjZVRpbWluZz17fSxhLnJlc291cmNlVGltaW5nW2kuc291cmNlXT1KU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGwpKSk7fXIobnVsbCxhKTt9KSk7fX0sci5wcm90b3R5cGUuY29hbGVzY2U9ZnVuY3Rpb24oKXsiQ29hbGVzY2luZyI9PT10aGlzLl9zdGF0ZT90aGlzLl9zdGF0ZT0iSWRsZSI6Ik5lZWRzTG9hZERhdGEiPT09dGhpcy5fc3RhdGUmJih0aGlzLl9zdGF0ZT0iQ29hbGVzY2luZyIsdGhpcy5fbG9hZERhdGEoKSk7fSxyLnByb3RvdHlwZS5yZWxvYWRUaWxlPWZ1bmN0aW9uKGUscil7dmFyIGk9dGhpcy5sb2FkZWQ7cmV0dXJuIGkmJmlbZS51aWRdP3QucHJvdG90eXBlLnJlbG9hZFRpbGUuY2FsbCh0aGlzLGUscik6dGhpcy5sb2FkVGlsZShlLHIpfSxyLnByb3RvdHlwZS5sb2FkR2VvSlNPTj1mdW5jdGlvbih0LHIpe2lmKHQucmVxdWVzdCllLmdldEpTT04odC5yZXF1ZXN0LHIpO2Vsc2Uge2lmKCJzdHJpbmciIT10eXBlb2YgdC5kYXRhKXJldHVybiByKG5ldyBFcnJvcigiSW5wdXQgZGF0YSBnaXZlbiB0byAnIit0LnNvdXJjZSsiJyBpcyBub3QgYSB2YWxpZCBHZW9KU09OIG9iamVjdC4iKSk7dHJ5e3JldHVybiByKG51bGwsSlNPTi5wYXJzZSh0LmRhdGEpKX1jYXRjaChlKXtyZXR1cm4gcihuZXcgRXJyb3IoIklucHV0IGRhdGEgZ2l2ZW4gdG8gJyIrdC5zb3VyY2UrIicgaXMgbm90IGEgdmFsaWQgR2VvSlNPTiBvYmplY3QuIikpfX19LHIucHJvdG90eXBlLnJlbW92ZVNvdXJjZT1mdW5jdGlvbihlLHQpe3RoaXMuX3BlbmRpbmdDYWxsYmFjayYmdGhpcy5fcGVuZGluZ0NhbGxiYWNrKG51bGwse2FiYW5kb25lZDohMH0pLHQoKTt9LHIucHJvdG90eXBlLmdldENsdXN0ZXJFeHBhbnNpb25ab29tPWZ1bmN0aW9uKGUsdCl7dHJ5e3QobnVsbCx0aGlzLl9nZW9KU09OSW5kZXguZ2V0Q2x1c3RlckV4cGFuc2lvblpvb20oZS5jbHVzdGVySWQpKTt9Y2F0Y2goZSl7dChlKTt9fSxyLnByb3RvdHlwZS5nZXRDbHVzdGVyQ2hpbGRyZW49ZnVuY3Rpb24oZSx0KXt0cnl7dChudWxsLHRoaXMuX2dlb0pTT05JbmRleC5nZXRDaGlsZHJlbihlLmNsdXN0ZXJJZCkpO31jYXRjaChlKXt0KGUpO319LHIucHJvdG90eXBlLmdldENsdXN0ZXJMZWF2ZXM9ZnVuY3Rpb24oZSx0KXt0cnl7dChudWxsLHRoaXMuX2dlb0pTT05JbmRleC5nZXRMZWF2ZXMoZS5jbHVzdGVySWQsZS5saW1pdCxlLm9mZnNldCkpO31jYXRjaChlKXt0KGUpO319LHJ9KGwpLFNlPWZ1bmN0aW9uKHQpe3ZhciByPXRoaXM7dGhpcy5zZWxmPXQsdGhpcy5hY3Rvcj1uZXcgZS5BY3Rvcih0LHRoaXMpLHRoaXMubGF5ZXJJbmRleGVzPXt9LHRoaXMuYXZhaWxhYmxlSW1hZ2VzPXt9LHRoaXMud29ya2VyU291cmNlVHlwZXM9e3ZlY3RvcjpsLGdlb2pzb246d2V9LHRoaXMud29ya2VyU291cmNlcz17fSx0aGlzLmRlbVdvcmtlclNvdXJjZXM9e30sdGhpcy5zZWxmLnJlZ2lzdGVyV29ya2VyU291cmNlPWZ1bmN0aW9uKGUsdCl7aWYoci53b3JrZXJTb3VyY2VUeXBlc1tlXSl0aHJvdyBuZXcgRXJyb3IoJ1dvcmtlciBzb3VyY2Ugd2l0aCBuYW1lICInK2UrJyIgYWxyZWFkeSByZWdpc3RlcmVkLicpO3Iud29ya2VyU291cmNlVHlwZXNbZV09dDt9LHRoaXMuc2VsZi5yZWdpc3RlclJUTFRleHRQbHVnaW49ZnVuY3Rpb24odCl7aWYoZS5wbHVnaW4uaXNQYXJzZWQoKSl0aHJvdyBuZXcgRXJyb3IoIlJUTCB0ZXh0IHBsdWdpbiBhbHJlYWR5IHJlZ2lzdGVyZWQuIik7ZS5wbHVnaW4uYXBwbHlBcmFiaWNTaGFwaW5nPXQuYXBwbHlBcmFiaWNTaGFwaW5nLGUucGx1Z2luLnByb2Nlc3NCaWRpcmVjdGlvbmFsVGV4dD10LnByb2Nlc3NCaWRpcmVjdGlvbmFsVGV4dCxlLnBsdWdpbi5wcm9jZXNzU3R5bGVkQmlkaXJlY3Rpb25hbFRleHQ9dC5wcm9jZXNzU3R5bGVkQmlkaXJlY3Rpb25hbFRleHQ7fTt9O3JldHVybiBTZS5wcm90b3R5cGUuc2V0UmVmZXJyZXI9ZnVuY3Rpb24oZSx0KXt0aGlzLnJlZmVycmVyPXQ7fSxTZS5wcm90b3R5cGUuc2V0SW1hZ2VzPWZ1bmN0aW9uKGUsdCxyKXt0aGlzLmF2YWlsYWJsZUltYWdlc1tlXT10LHIoKTt9LFNlLnByb3RvdHlwZS5zZXRMYXllcnM9ZnVuY3Rpb24oZSx0LHIpe3RoaXMuZ2V0TGF5ZXJJbmRleChlKS5yZXBsYWNlKHQpLHIoKTt9LFNlLnByb3RvdHlwZS51cGRhdGVMYXllcnM9ZnVuY3Rpb24oZSx0LHIpe3RoaXMuZ2V0TGF5ZXJJbmRleChlKS51cGRhdGUodC5sYXllcnMsdC5yZW1vdmVkSWRzKSxyKCk7fSxTZS5wcm90b3R5cGUubG9hZFRpbGU9ZnVuY3Rpb24oZSx0LHIpe3RoaXMuZ2V0V29ya2VyU291cmNlKGUsdC50eXBlLHQuc291cmNlKS5sb2FkVGlsZSh0LHIpO30sU2UucHJvdG90eXBlLmxvYWRERU1UaWxlPWZ1bmN0aW9uKGUsdCxyKXt0aGlzLmdldERFTVdvcmtlclNvdXJjZShlLHQuc291cmNlKS5sb2FkVGlsZSh0LHIpO30sU2UucHJvdG90eXBlLnJlbG9hZFRpbGU9ZnVuY3Rpb24oZSx0LHIpe3RoaXMuZ2V0V29ya2VyU291cmNlKGUsdC50eXBlLHQuc291cmNlKS5yZWxvYWRUaWxlKHQscik7fSxTZS5wcm90b3R5cGUuYWJvcnRUaWxlPWZ1bmN0aW9uKGUsdCxyKXt0aGlzLmdldFdvcmtlclNvdXJjZShlLHQudHlwZSx0LnNvdXJjZSkuYWJvcnRUaWxlKHQscik7fSxTZS5wcm90b3R5cGUucmVtb3ZlVGlsZT1mdW5jdGlvbihlLHQscil7dGhpcy5nZXRXb3JrZXJTb3VyY2UoZSx0LnR5cGUsdC5zb3VyY2UpLnJlbW92ZVRpbGUodCxyKTt9LFNlLnByb3RvdHlwZS5yZW1vdmVERU1UaWxlPWZ1bmN0aW9uKGUsdCl7dGhpcy5nZXRERU1Xb3JrZXJTb3VyY2UoZSx0LnNvdXJjZSkucmVtb3ZlVGlsZSh0KTt9LFNlLnByb3RvdHlwZS5yZW1vdmVTb3VyY2U9ZnVuY3Rpb24oZSx0LHIpe2lmKHRoaXMud29ya2VyU291cmNlc1tlXSYmdGhpcy53b3JrZXJTb3VyY2VzW2VdW3QudHlwZV0mJnRoaXMud29ya2VyU291cmNlc1tlXVt0LnR5cGVdW3Quc291cmNlXSl7dmFyIGk9dGhpcy53b3JrZXJTb3VyY2VzW2VdW3QudHlwZV1bdC5zb3VyY2VdO2RlbGV0ZSB0aGlzLndvcmtlclNvdXJjZXNbZV1bdC50eXBlXVt0LnNvdXJjZV0sdm9pZCAwIT09aS5yZW1vdmVTb3VyY2U/aS5yZW1vdmVTb3VyY2UodCxyKTpyKCk7fX0sU2UucHJvdG90eXBlLmxvYWRXb3JrZXJTb3VyY2U9ZnVuY3Rpb24oZSx0LHIpe3RyeXt0aGlzLnNlbGYuaW1wb3J0U2NyaXB0cyh0LnVybCkscigpO31jYXRjaChlKXtyKGUudG9TdHJpbmcoKSk7fX0sU2UucHJvdG90eXBlLnN5bmNSVExQbHVnaW5TdGF0ZT1mdW5jdGlvbih0LHIsaSl7dHJ5e2UucGx1Z2luLnNldFN0YXRlKHIpO3ZhciBvPWUucGx1Z2luLmdldFBsdWdpblVSTCgpO2lmKGUucGx1Z2luLmlzTG9hZGVkKCkmJiFlLnBsdWdpbi5pc1BhcnNlZCgpJiZudWxsIT1vKXt0aGlzLnNlbGYuaW1wb3J0U2NyaXB0cyhvKTt2YXIgbj1lLnBsdWdpbi5pc1BhcnNlZCgpO2kobj92b2lkIDA6bmV3IEVycm9yKCJSVEwgVGV4dCBQbHVnaW4gZmFpbGVkIHRvIGltcG9ydCBzY3JpcHRzIGZyb20gIitvKSxuKTt9fWNhdGNoKGUpe2koZS50b1N0cmluZygpKTt9fSxTZS5wcm90b3R5cGUuZ2V0QXZhaWxhYmxlSW1hZ2VzPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuYXZhaWxhYmxlSW1hZ2VzW2VdO3JldHVybiB0fHwodD1bXSksdH0sU2UucHJvdG90eXBlLmdldExheWVySW5kZXg9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5sYXllckluZGV4ZXNbZV07cmV0dXJuIHR8fCh0PXRoaXMubGF5ZXJJbmRleGVzW2VdPW5ldyBpKSx0fSxTZS5wcm90b3R5cGUuZ2V0V29ya2VyU291cmNlPWZ1bmN0aW9uKGUsdCxyKXt2YXIgaT10aGlzO3JldHVybiB0aGlzLndvcmtlclNvdXJjZXNbZV18fCh0aGlzLndvcmtlclNvdXJjZXNbZV09e30pLHRoaXMud29ya2VyU291cmNlc1tlXVt0XXx8KHRoaXMud29ya2VyU291cmNlc1tlXVt0XT17fSksdGhpcy53b3JrZXJTb3VyY2VzW2VdW3RdW3JdfHwodGhpcy53b3JrZXJTb3VyY2VzW2VdW3RdW3JdPW5ldyB0aGlzLndvcmtlclNvdXJjZVR5cGVzW3RdKHtzZW5kOmZ1bmN0aW9uKHQscixvKXtpLmFjdG9yLnNlbmQodCxyLG8sZSk7fX0sdGhpcy5nZXRMYXllckluZGV4KGUpLHRoaXMuZ2V0QXZhaWxhYmxlSW1hZ2VzKGUpKSksdGhpcy53b3JrZXJTb3VyY2VzW2VdW3RdW3JdfSxTZS5wcm90b3R5cGUuZ2V0REVNV29ya2VyU291cmNlPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuZGVtV29ya2VyU291cmNlc1tlXXx8KHRoaXMuZGVtV29ya2VyU291cmNlc1tlXT17fSksdGhpcy5kZW1Xb3JrZXJTb3VyY2VzW2VdW3RdfHwodGhpcy5kZW1Xb3JrZXJTb3VyY2VzW2VdW3RdPW5ldyBoKSx0aGlzLmRlbVdvcmtlclNvdXJjZXNbZV1bdF19LFNlLnByb3RvdHlwZS5lbmZvcmNlQ2FjaGVTaXplTGltaXQ9ZnVuY3Rpb24odCxyKXtlLmVuZm9yY2VDYWNoZVNpemVMaW1pdChyKTt9LCJ1bmRlZmluZWQiIT10eXBlb2YgV29ya2VyR2xvYmFsU2NvcGUmJnZvaWQgMCE9PWUud2luZG93JiZlLndpbmRvdyBpbnN0YW5jZW9mIFdvcmtlckdsb2JhbFNjb3BlJiYoZS53aW5kb3cud29ya2VyPW5ldyBTZShlLndpbmRvdykpLFNlfSkpOwoKZGVmaW5lKFsiLi9zaGFyZWQiXSwoZnVuY3Rpb24odCl7InVzZSBzdHJpY3QiO3ZhciBlPXQuY3JlYXRlQ29tbW9uanNNb2R1bGUoKGZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUodCl7cmV0dXJuICFpKHQpfWZ1bmN0aW9uIGkodCl7cmV0dXJuICJ1bmRlZmluZWQiPT10eXBlb2Ygd2luZG93fHwidW5kZWZpbmVkIj09dHlwZW9mIGRvY3VtZW50PyJub3QgYSBicm93c2VyIjpBcnJheS5wcm90b3R5cGUmJkFycmF5LnByb3RvdHlwZS5ldmVyeSYmQXJyYXkucHJvdG90eXBlLmZpbHRlciYmQXJyYXkucHJvdG90eXBlLmZvckVhY2gmJkFycmF5LnByb3RvdHlwZS5pbmRleE9mJiZBcnJheS5wcm90b3R5cGUubGFzdEluZGV4T2YmJkFycmF5LnByb3RvdHlwZS5tYXAmJkFycmF5LnByb3RvdHlwZS5zb21lJiZBcnJheS5wcm90b3R5cGUucmVkdWNlJiZBcnJheS5wcm90b3R5cGUucmVkdWNlUmlnaHQmJkFycmF5LmlzQXJyYXk/RnVuY3Rpb24ucHJvdG90eXBlJiZGdW5jdGlvbi5wcm90b3R5cGUuYmluZD9PYmplY3Qua2V5cyYmT2JqZWN0LmNyZWF0ZSYmT2JqZWN0LmdldFByb3RvdHlwZU9mJiZPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyYmT2JqZWN0LmlzU2VhbGVkJiZPYmplY3QuaXNGcm96ZW4mJk9iamVjdC5pc0V4dGVuc2libGUmJk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3ImJk9iamVjdC5kZWZpbmVQcm9wZXJ0eSYmT2JqZWN0LmRlZmluZVByb3BlcnRpZXMmJk9iamVjdC5zZWFsJiZPYmplY3QuZnJlZXplJiZPYmplY3QucHJldmVudEV4dGVuc2lvbnM/IkpTT04iaW4gd2luZG93JiYicGFyc2UiaW4gSlNPTiYmInN0cmluZ2lmeSJpbiBKU09OP2Z1bmN0aW9uKCl7aWYoISgiV29ya2VyImluIHdpbmRvdyYmIkJsb2IiaW4gd2luZG93JiYiVVJMImluIHdpbmRvdykpcmV0dXJuICExO3ZhciB0LGUsaT1uZXcgQmxvYihbIiJdLHt0eXBlOiJ0ZXh0L2phdmFzY3JpcHQifSksbz1VUkwuY3JlYXRlT2JqZWN0VVJMKGkpO3RyeXtlPW5ldyBXb3JrZXIobyksdD0hMDt9Y2F0Y2goZSl7dD0hMTt9cmV0dXJuIGUmJmUudGVybWluYXRlKCksVVJMLnJldm9rZU9iamVjdFVSTChvKSx0fSgpPyJVaW50OENsYW1wZWRBcnJheSJpbiB3aW5kb3c/QXJyYXlCdWZmZXIuaXNWaWV3P2Z1bmN0aW9uKCl7dmFyIHQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiY2FudmFzIik7dC53aWR0aD10LmhlaWdodD0xO3ZhciBlPXQuZ2V0Q29udGV4dCgiMmQiKTtpZighZSlyZXR1cm4gITE7dmFyIGk9ZS5nZXRJbWFnZURhdGEoMCwwLDEsMSk7cmV0dXJuIGkmJmkud2lkdGg9PT10LndpZHRofSgpPyh2b2lkIDA9PT1vW2k9dCYmdC5mYWlsSWZNYWpvclBlcmZvcm1hbmNlQ2F2ZWF0XSYmKG9baV09ZnVuY3Rpb24odCl7dmFyIGk9ZnVuY3Rpb24odCl7dmFyIGk9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiY2FudmFzIiksbz1PYmplY3QuY3JlYXRlKGUud2ViR0xDb250ZXh0QXR0cmlidXRlcyk7cmV0dXJuIG8uZmFpbElmTWFqb3JQZXJmb3JtYW5jZUNhdmVhdD10LGkucHJvYmFibHlTdXBwb3J0c0NvbnRleHQ/aS5wcm9iYWJseVN1cHBvcnRzQ29udGV4dCgid2ViZ2wiLG8pfHxpLnByb2JhYmx5U3VwcG9ydHNDb250ZXh0KCJleHBlcmltZW50YWwtd2ViZ2wiLG8pOmkuc3VwcG9ydHNDb250ZXh0P2kuc3VwcG9ydHNDb250ZXh0KCJ3ZWJnbCIsbyl8fGkuc3VwcG9ydHNDb250ZXh0KCJleHBlcmltZW50YWwtd2ViZ2wiLG8pOmkuZ2V0Q29udGV4dCgid2ViZ2wiLG8pfHxpLmdldENvbnRleHQoImV4cGVyaW1lbnRhbC13ZWJnbCIsbyl9KHQpO2lmKCFpKXJldHVybiAhMTt2YXIgbz1pLmNyZWF0ZVNoYWRlcihpLlZFUlRFWF9TSEFERVIpO3JldHVybiAhKCFvfHxpLmlzQ29udGV4dExvc3QoKSkmJihpLnNoYWRlclNvdXJjZShvLCJ2b2lkIG1haW4oKSB7fSIpLGkuY29tcGlsZVNoYWRlcihvKSwhMD09PWkuZ2V0U2hhZGVyUGFyYW1ldGVyKG8saS5DT01QSUxFX1NUQVRVUykpfShpKSksb1tpXT92b2lkIDA6Imluc3VmZmljaWVudCBXZWJHTCBzdXBwb3J0Iik6Imluc3VmZmljaWVudCBDYW52YXMvZ2V0SW1hZ2VEYXRhIHN1cHBvcnQiOiJpbnN1ZmZpY2llbnQgQXJyYXlCdWZmZXIgc3VwcG9ydCI6Imluc3VmZmljaWVudCBVaW50OENsYW1wZWRBcnJheSBzdXBwb3J0IjoiaW5zdWZmaWNpZW50IHdvcmtlciBzdXBwb3J0IjoiaW5zdWZmaWNpZW50IEpTT04gc3VwcG9ydCI6Imluc3VmZmljaWVudCBPYmplY3Qgc3VwcG9ydCI6Imluc3VmZmljaWVudCBGdW5jdGlvbiBzdXBwb3J0IjoiaW5zdWZmaWNlbnQgQXJyYXkgc3VwcG9ydCI7dmFyIGk7fXQuZXhwb3J0cz90LmV4cG9ydHM9ZTp3aW5kb3cmJih3aW5kb3cubWFwYm94Z2w9d2luZG93Lm1hcGJveGdsfHx7fSx3aW5kb3cubWFwYm94Z2wuc3VwcG9ydGVkPWUsd2luZG93Lm1hcGJveGdsLm5vdFN1cHBvcnRlZFJlYXNvbj1pKTt2YXIgbz17fTtlLndlYkdMQ29udGV4dEF0dHJpYnV0ZXM9e2FudGlhbGlhczohMSxhbHBoYTohMCxzdGVuY2lsOiEwLGRlcHRoOiEwfTt9KSksaT17Y3JlYXRlOmZ1bmN0aW9uKGUsaSxvKXt2YXIgcj10LndpbmRvdy5kb2N1bWVudC5jcmVhdGVFbGVtZW50KGUpO3JldHVybiB2b2lkIDAhPT1pJiYoci5jbGFzc05hbWU9aSksbyYmby5hcHBlbmRDaGlsZChyKSxyfSxjcmVhdGVOUzpmdW5jdGlvbihlLGkpe3JldHVybiB0LndpbmRvdy5kb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoZSxpKX19LG89dC53aW5kb3cuZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlO2Z1bmN0aW9uIHIodCl7aWYoIW8pcmV0dXJuIHRbMF07Zm9yKHZhciBlPTA7ZTx0Lmxlbmd0aDtlKyspaWYodFtlXWluIG8pcmV0dXJuIHRbZV07cmV0dXJuIHRbMF19dmFyIGEsbj1yKFsidXNlclNlbGVjdCIsIk1velVzZXJTZWxlY3QiLCJXZWJraXRVc2VyU2VsZWN0IiwibXNVc2VyU2VsZWN0Il0pO2kuZGlzYWJsZURyYWc9ZnVuY3Rpb24oKXtvJiZuJiYoYT1vW25dLG9bbl09Im5vbmUiKTt9LGkuZW5hYmxlRHJhZz1mdW5jdGlvbigpe28mJm4mJihvW25dPWEpO307dmFyIHM9cihbInRyYW5zZm9ybSIsIldlYmtpdFRyYW5zZm9ybSJdKTtpLnNldFRyYW5zZm9ybT1mdW5jdGlvbih0LGUpe3Quc3R5bGVbc109ZTt9O3ZhciBsPSExO3RyeXt2YXIgYz1PYmplY3QuZGVmaW5lUHJvcGVydHkoe30sInBhc3NpdmUiLHtnZXQ6ZnVuY3Rpb24oKXtsPSEwO319KTt0LndpbmRvdy5hZGRFdmVudExpc3RlbmVyKCJ0ZXN0IixjLGMpLHQud2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoInRlc3QiLGMsYyk7fWNhdGNoKHQpe2w9ITE7fWkuYWRkRXZlbnRMaXN0ZW5lcj1mdW5jdGlvbih0LGUsaSxvKXt2b2lkIDA9PT1vJiYobz17fSksdC5hZGRFdmVudExpc3RlbmVyKGUsaSwicGFzc2l2ZSJpbiBvJiZsP286by5jYXB0dXJlKTt9LGkucmVtb3ZlRXZlbnRMaXN0ZW5lcj1mdW5jdGlvbih0LGUsaSxvKXt2b2lkIDA9PT1vJiYobz17fSksdC5yZW1vdmVFdmVudExpc3RlbmVyKGUsaSwicGFzc2l2ZSJpbiBvJiZsP286by5jYXB0dXJlKTt9O3ZhciB1PWZ1bmN0aW9uKGUpe2UucHJldmVudERlZmF1bHQoKSxlLnN0b3BQcm9wYWdhdGlvbigpLHQud2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoImNsaWNrIix1LCEwKTt9O2Z1bmN0aW9uIGgodCl7dmFyIGU9dC51c2VySW1hZ2U7cmV0dXJuICEhKGUmJmUucmVuZGVyJiZlLnJlbmRlcigpKSYmKHQuZGF0YS5yZXBsYWNlKG5ldyBVaW50OEFycmF5KGUuZGF0YS5idWZmZXIpKSwhMCl9aS5zdXBwcmVzc0NsaWNrPWZ1bmN0aW9uKCl7dC53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLHUsITApLHQud2luZG93LnNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7dC53aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigiY2xpY2siLHUsITApO30pLDApO30saS5tb3VzZVBvcz1mdW5jdGlvbihlLGkpe3ZhciBvPWUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7cmV0dXJuIG5ldyB0LlBvaW50KGkuY2xpZW50WC1vLmxlZnQtZS5jbGllbnRMZWZ0LGkuY2xpZW50WS1vLnRvcC1lLmNsaWVudFRvcCl9LGkudG91Y2hQb3M9ZnVuY3Rpb24oZSxpKXtmb3IodmFyIG89ZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxyPVtdLGE9MDthPGkubGVuZ3RoO2ErKylyLnB1c2gobmV3IHQuUG9pbnQoaVthXS5jbGllbnRYLW8ubGVmdC1lLmNsaWVudExlZnQsaVthXS5jbGllbnRZLW8udG9wLWUuY2xpZW50VG9wKSk7cmV0dXJuIHJ9LGkubW91c2VCdXR0b249ZnVuY3Rpb24oZSl7cmV0dXJuIHZvaWQgMCE9PXQud2luZG93Lkluc3RhbGxUcmlnZ2VyJiYyPT09ZS5idXR0b24mJmUuY3RybEtleSYmdC53aW5kb3cubmF2aWdhdG9yLnBsYXRmb3JtLnRvVXBwZXJDYXNlKCkuaW5kZXhPZigiTUFDIik+PTA/MDplLmJ1dHRvbn0saS5yZW1vdmU9ZnVuY3Rpb24odCl7dC5wYXJlbnROb2RlJiZ0LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodCk7fTt2YXIgcD1mdW5jdGlvbihlKXtmdW5jdGlvbiBpKCl7ZS5jYWxsKHRoaXMpLHRoaXMuaW1hZ2VzPXt9LHRoaXMudXBkYXRlZEltYWdlcz17fSx0aGlzLmNhbGxiYWNrRGlzcGF0Y2hlZFRoaXNGcmFtZT17fSx0aGlzLmxvYWRlZD0hMSx0aGlzLnJlcXVlc3RvcnM9W10sdGhpcy5wYXR0ZXJucz17fSx0aGlzLmF0bGFzSW1hZ2U9bmV3IHQuUkdCQUltYWdlKHt3aWR0aDoxLGhlaWdodDoxfSksdGhpcy5kaXJ0eT0hMDt9cmV0dXJuIGUmJihpLl9fcHJvdG9fXz1lKSwoaS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlJiZlLnByb3RvdHlwZSkpLmNvbnN0cnVjdG9yPWksaS5wcm90b3R5cGUuaXNMb2FkZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5sb2FkZWR9LGkucHJvdG90eXBlLnNldExvYWRlZD1mdW5jdGlvbih0KXtpZih0aGlzLmxvYWRlZCE9PXQmJih0aGlzLmxvYWRlZD10LHQpKXtmb3IodmFyIGU9MCxpPXRoaXMucmVxdWVzdG9ycztlPGkubGVuZ3RoO2UrPTEpe3ZhciBvPWlbZV07dGhpcy5fbm90aWZ5KG8uaWRzLG8uY2FsbGJhY2spO310aGlzLnJlcXVlc3RvcnM9W107fX0saS5wcm90b3R5cGUuZ2V0SW1hZ2U9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuaW1hZ2VzW3RdfSxpLnByb3RvdHlwZS5hZGRJbWFnZT1mdW5jdGlvbih0LGUpe3RoaXMuX3ZhbGlkYXRlKHQsZSkmJih0aGlzLmltYWdlc1t0XT1lKTt9LGkucHJvdG90eXBlLl92YWxpZGF0ZT1mdW5jdGlvbihlLGkpe3ZhciBvPSEwO3JldHVybiB0aGlzLl92YWxpZGF0ZVN0cmV0Y2goaS5zdHJldGNoWCxpLmRhdGEmJmkuZGF0YS53aWR0aCl8fCh0aGlzLmZpcmUobmV3IHQuRXJyb3JFdmVudChuZXcgRXJyb3IoJ0ltYWdlICInK2UrJyIgaGFzIGludmFsaWQgInN0cmV0Y2hYIiB2YWx1ZScpKSksbz0hMSksdGhpcy5fdmFsaWRhdGVTdHJldGNoKGkuc3RyZXRjaFksaS5kYXRhJiZpLmRhdGEuaGVpZ2h0KXx8KHRoaXMuZmlyZShuZXcgdC5FcnJvckV2ZW50KG5ldyBFcnJvcignSW1hZ2UgIicrZSsnIiBoYXMgaW52YWxpZCAic3RyZXRjaFkiIHZhbHVlJykpKSxvPSExKSx0aGlzLl92YWxpZGF0ZUNvbnRlbnQoaS5jb250ZW50LGkpfHwodGhpcy5maXJlKG5ldyB0LkVycm9yRXZlbnQobmV3IEVycm9yKCdJbWFnZSAiJytlKyciIGhhcyBpbnZhbGlkICJjb250ZW50IiB2YWx1ZScpKSksbz0hMSksb30saS5wcm90b3R5cGUuX3ZhbGlkYXRlU3RyZXRjaD1mdW5jdGlvbih0LGUpe2lmKCF0KXJldHVybiAhMDtmb3IodmFyIGk9MCxvPTAscj10O288ci5sZW5ndGg7bys9MSl7dmFyIGE9cltvXTtpZihhWzBdPGl8fGFbMV08YVswXXx8ZTxhWzFdKXJldHVybiAhMTtpPWFbMV07fXJldHVybiAhMH0saS5wcm90b3R5cGUuX3ZhbGlkYXRlQ29udGVudD1mdW5jdGlvbih0LGUpe3JldHVybiAhKHQmJig0IT09dC5sZW5ndGh8fHRbMF08MHx8ZS5kYXRhLndpZHRoPHRbMF18fHRbMV08MHx8ZS5kYXRhLmhlaWdodDx0WzFdfHx0WzJdPDB8fGUuZGF0YS53aWR0aDx0WzJdfHx0WzNdPDB8fGUuZGF0YS5oZWlnaHQ8dFszXXx8dFsyXTx0WzBdfHx0WzNdPHRbMV0pKX0saS5wcm90b3R5cGUudXBkYXRlSW1hZ2U9ZnVuY3Rpb24odCxlKXtlLnZlcnNpb249dGhpcy5pbWFnZXNbdF0udmVyc2lvbisxLHRoaXMuaW1hZ2VzW3RdPWUsdGhpcy51cGRhdGVkSW1hZ2VzW3RdPSEwO30saS5wcm90b3R5cGUucmVtb3ZlSW1hZ2U9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5pbWFnZXNbdF07ZGVsZXRlIHRoaXMuaW1hZ2VzW3RdLGRlbGV0ZSB0aGlzLnBhdHRlcm5zW3RdLGUudXNlckltYWdlJiZlLnVzZXJJbWFnZS5vblJlbW92ZSYmZS51c2VySW1hZ2Uub25SZW1vdmUoKTt9LGkucHJvdG90eXBlLmxpc3RJbWFnZXM9ZnVuY3Rpb24oKXtyZXR1cm4gT2JqZWN0LmtleXModGhpcy5pbWFnZXMpfSxpLnByb3RvdHlwZS5nZXRJbWFnZXM9ZnVuY3Rpb24odCxlKXt2YXIgaT0hMDtpZighdGhpcy5pc0xvYWRlZCgpKWZvcih2YXIgbz0wLHI9dDtvPHIubGVuZ3RoO28rPTEpdGhpcy5pbWFnZXNbcltvXV18fChpPSExKTt0aGlzLmlzTG9hZGVkKCl8fGk/dGhpcy5fbm90aWZ5KHQsZSk6dGhpcy5yZXF1ZXN0b3JzLnB1c2goe2lkczp0LGNhbGxiYWNrOmV9KTt9LGkucHJvdG90eXBlLl9ub3RpZnk9ZnVuY3Rpb24oZSxpKXtmb3IodmFyIG89e30scj0wLGE9ZTtyPGEubGVuZ3RoO3IrPTEpe3ZhciBuPWFbcl07dGhpcy5pbWFnZXNbbl18fHRoaXMuZmlyZShuZXcgdC5FdmVudCgic3R5bGVpbWFnZW1pc3NpbmciLHtpZDpufSkpO3ZhciBzPXRoaXMuaW1hZ2VzW25dO3M/b1tuXT17ZGF0YTpzLmRhdGEuY2xvbmUoKSxwaXhlbFJhdGlvOnMucGl4ZWxSYXRpbyxzZGY6cy5zZGYsdmVyc2lvbjpzLnZlcnNpb24sc3RyZXRjaFg6cy5zdHJldGNoWCxzdHJldGNoWTpzLnN0cmV0Y2hZLGNvbnRlbnQ6cy5jb250ZW50LGhhc1JlbmRlckNhbGxiYWNrOkJvb2xlYW4ocy51c2VySW1hZ2UmJnMudXNlckltYWdlLnJlbmRlcil9OnQud2Fybk9uY2UoJ0ltYWdlICInK24rJyIgY291bGQgbm90IGJlIGxvYWRlZC4gUGxlYXNlIG1ha2Ugc3VyZSB5b3UgaGF2ZSBhZGRlZCB0aGUgaW1hZ2Ugd2l0aCBtYXAuYWRkSW1hZ2UoKSBvciBhICJzcHJpdGUiIHByb3BlcnR5IGluIHlvdXIgc3R5bGUuIFlvdSBjYW4gcHJvdmlkZSBtaXNzaW5nIGltYWdlcyBieSBsaXN0ZW5pbmcgZm9yIHRoZSAic3R5bGVpbWFnZW1pc3NpbmciIG1hcCBldmVudC4nKTt9aShudWxsLG8pO30saS5wcm90b3R5cGUuZ2V0UGl4ZWxTaXplPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5hdGxhc0ltYWdlO3JldHVybiB7d2lkdGg6dC53aWR0aCxoZWlnaHQ6dC5oZWlnaHR9fSxpLnByb3RvdHlwZS5nZXRQYXR0ZXJuPWZ1bmN0aW9uKGUpe3ZhciBpPXRoaXMucGF0dGVybnNbZV0sbz10aGlzLmdldEltYWdlKGUpO2lmKCFvKXJldHVybiBudWxsO2lmKGkmJmkucG9zaXRpb24udmVyc2lvbj09PW8udmVyc2lvbilyZXR1cm4gaS5wb3NpdGlvbjtpZihpKWkucG9zaXRpb24udmVyc2lvbj1vLnZlcnNpb247ZWxzZSB7dmFyIHI9e3c6by5kYXRhLndpZHRoKzIsaDpvLmRhdGEuaGVpZ2h0KzIseDowLHk6MH0sYT1uZXcgdC5JbWFnZVBvc2l0aW9uKHIsbyk7dGhpcy5wYXR0ZXJuc1tlXT17YmluOnIscG9zaXRpb246YX07fXJldHVybiB0aGlzLl91cGRhdGVQYXR0ZXJuQXRsYXMoKSx0aGlzLnBhdHRlcm5zW2VdLnBvc2l0aW9ufSxpLnByb3RvdHlwZS5iaW5kPWZ1bmN0aW9uKGUpe3ZhciBpPWUuZ2w7dGhpcy5hdGxhc1RleHR1cmU/dGhpcy5kaXJ0eSYmKHRoaXMuYXRsYXNUZXh0dXJlLnVwZGF0ZSh0aGlzLmF0bGFzSW1hZ2UpLHRoaXMuZGlydHk9ITEpOnRoaXMuYXRsYXNUZXh0dXJlPW5ldyB0LlRleHR1cmUoZSx0aGlzLmF0bGFzSW1hZ2UsaS5SR0JBKSx0aGlzLmF0bGFzVGV4dHVyZS5iaW5kKGkuTElORUFSLGkuQ0xBTVBfVE9fRURHRSk7fSxpLnByb3RvdHlwZS5fdXBkYXRlUGF0dGVybkF0bGFzPWZ1bmN0aW9uKCl7dmFyIGU9W107Zm9yKHZhciBpIGluIHRoaXMucGF0dGVybnMpZS5wdXNoKHRoaXMucGF0dGVybnNbaV0uYmluKTt2YXIgbz10LnBvdHBhY2soZSkscj1vLncsYT1vLmgsbj10aGlzLmF0bGFzSW1hZ2U7Zm9yKHZhciBzIGluIG4ucmVzaXplKHt3aWR0aDpyfHwxLGhlaWdodDphfHwxfSksdGhpcy5wYXR0ZXJucyl7dmFyIGw9dGhpcy5wYXR0ZXJuc1tzXS5iaW4sYz1sLngrMSx1PWwueSsxLGg9dGhpcy5pbWFnZXNbc10uZGF0YSxwPWgud2lkdGgsZD1oLmhlaWdodDt0LlJHQkFJbWFnZS5jb3B5KGgsbix7eDowLHk6MH0se3g6Yyx5OnV9LHt3aWR0aDpwLGhlaWdodDpkfSksdC5SR0JBSW1hZ2UuY29weShoLG4se3g6MCx5OmQtMX0se3g6Yyx5OnUtMX0se3dpZHRoOnAsaGVpZ2h0OjF9KSx0LlJHQkFJbWFnZS5jb3B5KGgsbix7eDowLHk6MH0se3g6Yyx5OnUrZH0se3dpZHRoOnAsaGVpZ2h0OjF9KSx0LlJHQkFJbWFnZS5jb3B5KGgsbix7eDpwLTEseTowfSx7eDpjLTEseTp1fSx7d2lkdGg6MSxoZWlnaHQ6ZH0pLHQuUkdCQUltYWdlLmNvcHkoaCxuLHt4OjAseTowfSx7eDpjK3AseTp1fSx7d2lkdGg6MSxoZWlnaHQ6ZH0pO310aGlzLmRpcnR5PSEwO30saS5wcm90b3R5cGUuYmVnaW5GcmFtZT1mdW5jdGlvbigpe3RoaXMuY2FsbGJhY2tEaXNwYXRjaGVkVGhpc0ZyYW1lPXt9O30saS5wcm90b3R5cGUuZGlzcGF0Y2hSZW5kZXJDYWxsYmFja3M9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPTAsaT10O2U8aS5sZW5ndGg7ZSs9MSl7dmFyIG89aVtlXTtpZighdGhpcy5jYWxsYmFja0Rpc3BhdGNoZWRUaGlzRnJhbWVbb10pe3RoaXMuY2FsbGJhY2tEaXNwYXRjaGVkVGhpc0ZyYW1lW29dPSEwO3ZhciByPXRoaXMuaW1hZ2VzW29dO2gocikmJnRoaXMudXBkYXRlSW1hZ2UobyxyKTt9fX0saX0odC5FdmVudGVkKSxkPW0sXz1tLGY9MWUyMDtmdW5jdGlvbiBtKHQsZSxpLG8scixhKXt0aGlzLmZvbnRTaXplPXR8fDI0LHRoaXMuYnVmZmVyPXZvaWQgMD09PWU/MzplLHRoaXMuY3V0b2ZmPW98fC4yNSx0aGlzLmZvbnRGYW1pbHk9cnx8InNhbnMtc2VyaWYiLHRoaXMuZm9udFdlaWdodD1hfHwibm9ybWFsIix0aGlzLnJhZGl1cz1pfHw4O3ZhciBuPXRoaXMuc2l6ZT10aGlzLmZvbnRTaXplKzIqdGhpcy5idWZmZXI7dGhpcy5jYW52YXM9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiY2FudmFzIiksdGhpcy5jYW52YXMud2lkdGg9dGhpcy5jYW52YXMuaGVpZ2h0PW4sdGhpcy5jdHg9dGhpcy5jYW52YXMuZ2V0Q29udGV4dCgiMmQiKSx0aGlzLmN0eC5mb250PXRoaXMuZm9udFdlaWdodCsiICIrdGhpcy5mb250U2l6ZSsicHggIit0aGlzLmZvbnRGYW1pbHksdGhpcy5jdHgudGV4dEJhc2VsaW5lPSJtaWRkbGUiLHRoaXMuY3R4LmZpbGxTdHlsZT0iYmxhY2siLHRoaXMuZ3JpZE91dGVyPW5ldyBGbG9hdDY0QXJyYXkobipuKSx0aGlzLmdyaWRJbm5lcj1uZXcgRmxvYXQ2NEFycmF5KG4qbiksdGhpcy5mPW5ldyBGbG9hdDY0QXJyYXkobiksdGhpcy5kPW5ldyBGbG9hdDY0QXJyYXkobiksdGhpcy56PW5ldyBGbG9hdDY0QXJyYXkobisxKSx0aGlzLnY9bmV3IEludDE2QXJyYXkobiksdGhpcy5taWRkbGU9TWF0aC5yb3VuZChuLzIqKG5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZigiR2Vja28vIik+PTA/MS4yOjEpKTt9ZnVuY3Rpb24gZyh0LGUsaSxvLHIsYSxuKXtmb3IodmFyIHM9MDtzPGU7cysrKXtmb3IodmFyIGw9MDtsPGk7bCsrKW9bbF09dFtsKmUrc107Zm9yKHYobyxyLGEsbixpKSxsPTA7bDxpO2wrKyl0W2wqZStzXT1yW2xdO31mb3IobD0wO2w8aTtsKyspe2ZvcihzPTA7czxlO3MrKylvW3NdPXRbbCplK3NdO2Zvcih2KG8scixhLG4sZSkscz0wO3M8ZTtzKyspdFtsKmUrc109TWF0aC5zcXJ0KHJbc10pO319ZnVuY3Rpb24gdih0LGUsaSxvLHIpe2lbMF09MCxvWzBdPS1mLG9bMV09K2Y7Zm9yKHZhciBhPTEsbj0wO2E8cjthKyspe2Zvcih2YXIgcz0odFthXSthKmEtKHRbaVtuXV0raVtuXSppW25dKSkvKDIqYS0yKmlbbl0pO3M8PW9bbl07KW4tLSxzPSh0W2FdK2EqYS0odFtpW25dXStpW25dKmlbbl0pKS8oMiphLTIqaVtuXSk7aVsrK25dPWEsb1tuXT1zLG9bbisxXT0rZjt9Zm9yKGE9MCxuPTA7YTxyO2ErKyl7Zm9yKDtvW24rMV08YTspbisrO2VbYV09KGEtaVtuXSkqKGEtaVtuXSkrdFtpW25dXTt9fW0ucHJvdG90eXBlLmRyYXc9ZnVuY3Rpb24odCl7dGhpcy5jdHguY2xlYXJSZWN0KDAsMCx0aGlzLnNpemUsdGhpcy5zaXplKSx0aGlzLmN0eC5maWxsVGV4dCh0LHRoaXMuYnVmZmVyLHRoaXMubWlkZGxlKTtmb3IodmFyIGU9dGhpcy5jdHguZ2V0SW1hZ2VEYXRhKDAsMCx0aGlzLnNpemUsdGhpcy5zaXplKSxpPW5ldyBVaW50OENsYW1wZWRBcnJheSh0aGlzLnNpemUqdGhpcy5zaXplKSxvPTA7bzx0aGlzLnNpemUqdGhpcy5zaXplO28rKyl7dmFyIHI9ZS5kYXRhWzQqbyszXS8yNTU7dGhpcy5ncmlkT3V0ZXJbb109MT09PXI/MDowPT09cj9mOk1hdGgucG93KE1hdGgubWF4KDAsLjUtciksMiksdGhpcy5ncmlkSW5uZXJbb109MT09PXI/ZjowPT09cj8wOk1hdGgucG93KE1hdGgubWF4KDAsci0uNSksMik7fWZvcihnKHRoaXMuZ3JpZE91dGVyLHRoaXMuc2l6ZSx0aGlzLnNpemUsdGhpcy5mLHRoaXMuZCx0aGlzLnYsdGhpcy56KSxnKHRoaXMuZ3JpZElubmVyLHRoaXMuc2l6ZSx0aGlzLnNpemUsdGhpcy5mLHRoaXMuZCx0aGlzLnYsdGhpcy56KSxvPTA7bzx0aGlzLnNpemUqdGhpcy5zaXplO28rKylpW29dPU1hdGgubWF4KDAsTWF0aC5taW4oMjU1LE1hdGgucm91bmQoMjU1LTI1NSooKHRoaXMuZ3JpZE91dGVyW29dLXRoaXMuZ3JpZElubmVyW29dKS90aGlzLnJhZGl1cyt0aGlzLmN1dG9mZikpKSk7cmV0dXJuIGl9LGQuZGVmYXVsdD1fO3ZhciB5PWZ1bmN0aW9uKHQsZSl7dGhpcy5yZXF1ZXN0TWFuYWdlcj10LHRoaXMubG9jYWxJZGVvZ3JhcGhGb250RmFtaWx5PWUsdGhpcy5lbnRyaWVzPXt9O307eS5wcm90b3R5cGUuc2V0VVJMPWZ1bmN0aW9uKHQpe3RoaXMudXJsPXQ7fSx5LnByb3RvdHlwZS5nZXRHbHlwaHM9ZnVuY3Rpb24oZSxpKXt2YXIgbz10aGlzLHI9W107Zm9yKHZhciBhIGluIGUpZm9yKHZhciBuPTAscz1lW2FdO248cy5sZW5ndGg7bis9MSlyLnB1c2goe3N0YWNrOmEsaWQ6c1tuXX0pO3QuYXN5bmNBbGwociwoZnVuY3Rpb24odCxlKXt2YXIgaT10LnN0YWNrLHI9dC5pZCxhPW8uZW50cmllc1tpXTthfHwoYT1vLmVudHJpZXNbaV09e2dseXBoczp7fSxyZXF1ZXN0czp7fSxyYW5nZXM6e319KTt2YXIgbj1hLmdseXBoc1tyXTtpZih2b2lkIDA9PT1uKXtpZihuPW8uX3RpbnlTREYoYSxpLHIpKXJldHVybiBhLmdseXBoc1tyXT1uLHZvaWQgZShudWxsLHtzdGFjazppLGlkOnIsZ2x5cGg6bn0pO3ZhciBzPU1hdGguZmxvb3Ioci8yNTYpO2lmKDI1NipzPjY1NTM1KWUobmV3IEVycm9yKCJnbHlwaHMgPiA2NTUzNSBub3Qgc3VwcG9ydGVkIikpO2Vsc2UgaWYoYS5yYW5nZXNbc10pZShudWxsLHtzdGFjazppLGlkOnIsZ2x5cGg6bn0pO2Vsc2Uge3ZhciBsPWEucmVxdWVzdHNbc107bHx8KGw9YS5yZXF1ZXN0c1tzXT1bXSx5LmxvYWRHbHlwaFJhbmdlKGkscyxvLnVybCxvLnJlcXVlc3RNYW5hZ2VyLChmdW5jdGlvbih0LGUpe2lmKGUpe2Zvcih2YXIgaSBpbiBlKW8uX2RvZXNDaGFyU3VwcG9ydExvY2FsR2x5cGgoK2kpfHwoYS5nbHlwaHNbK2ldPWVbK2ldKTthLnJhbmdlc1tzXT0hMDt9Zm9yKHZhciByPTAsbj1sO3I8bi5sZW5ndGg7cis9MSkoMCxuW3JdKSh0LGUpO2RlbGV0ZSBhLnJlcXVlc3RzW3NdO30pKSksbC5wdXNoKChmdW5jdGlvbih0LG8pe3Q/ZSh0KTpvJiZlKG51bGwse3N0YWNrOmksaWQ6cixnbHlwaDpvW3JdfHxudWxsfSk7fSkpO319ZWxzZSBlKG51bGwse3N0YWNrOmksaWQ6cixnbHlwaDpufSk7fSksKGZ1bmN0aW9uKHQsZSl7aWYodClpKHQpO2Vsc2UgaWYoZSl7Zm9yKHZhciBvPXt9LHI9MCxhPWU7cjxhLmxlbmd0aDtyKz0xKXt2YXIgbj1hW3JdLHM9bi5zdGFjayxsPW4uaWQsYz1uLmdseXBoOyhvW3NdfHwob1tzXT17fSkpW2xdPWMmJntpZDpjLmlkLGJpdG1hcDpjLmJpdG1hcC5jbG9uZSgpLG1ldHJpY3M6Yy5tZXRyaWNzfTt9aShudWxsLG8pO319KSk7fSx5LnByb3RvdHlwZS5fZG9lc0NoYXJTdXBwb3J0TG9jYWxHbHlwaD1mdW5jdGlvbihlKXtyZXR1cm4gISF0aGlzLmxvY2FsSWRlb2dyYXBoRm9udEZhbWlseSYmKHQuaXNDaGFyWyJDSksgVW5pZmllZCBJZGVvZ3JhcGhzIl0oZSl8fHQuaXNDaGFyWyJIYW5ndWwgU3lsbGFibGVzIl0oZSl8fHQuaXNDaGFyLkhpcmFnYW5hKGUpfHx0LmlzQ2hhci5LYXRha2FuYShlKSl9LHkucHJvdG90eXBlLl90aW55U0RGPWZ1bmN0aW9uKGUsaSxvKXt2YXIgcj10aGlzLmxvY2FsSWRlb2dyYXBoRm9udEZhbWlseTtpZihyJiZ0aGlzLl9kb2VzQ2hhclN1cHBvcnRMb2NhbEdseXBoKG8pKXt2YXIgYT1lLnRpbnlTREY7aWYoIWEpe3ZhciBuPSI0MDAiOy9ib2xkL2kudGVzdChpKT9uPSI5MDAiOi9tZWRpdW0vaS50ZXN0KGkpP249IjUwMCI6L2xpZ2h0L2kudGVzdChpKSYmKG49IjIwMCIpLGE9ZS50aW55U0RGPW5ldyB5LlRpbnlTREYoMjQsMyw4LC4yNSxyLG4pO31yZXR1cm4ge2lkOm8sYml0bWFwOm5ldyB0LkFscGhhSW1hZ2Uoe3dpZHRoOjMwLGhlaWdodDozMH0sYS5kcmF3KFN0cmluZy5mcm9tQ2hhckNvZGUobykpKSxtZXRyaWNzOnt3aWR0aDoyNCxoZWlnaHQ6MjQsbGVmdDowLHRvcDotOCxhZHZhbmNlOjI0fX19fSx5LmxvYWRHbHlwaFJhbmdlPWZ1bmN0aW9uKGUsaSxvLHIsYSl7dmFyIG49MjU2Kmkscz1uKzI1NSxsPXIudHJhbnNmb3JtUmVxdWVzdChyLm5vcm1hbGl6ZUdseXBoc1VSTChvKS5yZXBsYWNlKCJ7Zm9udHN0YWNrfSIsZSkucmVwbGFjZSgie3JhbmdlfSIsbisiLSIrcyksdC5SZXNvdXJjZVR5cGUuR2x5cGhzKTt0LmdldEFycmF5QnVmZmVyKGwsKGZ1bmN0aW9uKGUsaSl7aWYoZSlhKGUpO2Vsc2UgaWYoaSl7Zm9yKHZhciBvPXt9LHI9MCxuPXQucGFyc2VHbHlwaFBCRihpKTtyPG4ubGVuZ3RoO3IrPTEpe3ZhciBzPW5bcl07b1tzLmlkXT1zO31hKG51bGwsbyk7fX0pKTt9LHkuVGlueVNERj1kO3ZhciB4PWZ1bmN0aW9uKCl7dGhpcy5zcGVjaWZpY2F0aW9uPXQuc3R5bGVTcGVjLmxpZ2h0LnBvc2l0aW9uO307eC5wcm90b3R5cGUucG9zc2libHlFdmFsdWF0ZT1mdW5jdGlvbihlLGkpe3JldHVybiB0LnNwaGVyaWNhbFRvQ2FydGVzaWFuKGUuZXhwcmVzc2lvbi5ldmFsdWF0ZShpKSl9LHgucHJvdG90eXBlLmludGVycG9sYXRlPWZ1bmN0aW9uKGUsaSxvKXtyZXR1cm4ge3g6dC5udW1iZXIoZS54LGkueCxvKSx5OnQubnVtYmVyKGUueSxpLnksbyksejp0Lm51bWJlcihlLnosaS56LG8pfX07dmFyIGI9bmV3IHQuUHJvcGVydGllcyh7YW5jaG9yOm5ldyB0LkRhdGFDb25zdGFudFByb3BlcnR5KHQuc3R5bGVTcGVjLmxpZ2h0LmFuY2hvcikscG9zaXRpb246bmV3IHgsY29sb3I6bmV3IHQuRGF0YUNvbnN0YW50UHJvcGVydHkodC5zdHlsZVNwZWMubGlnaHQuY29sb3IpLGludGVuc2l0eTpuZXcgdC5EYXRhQ29uc3RhbnRQcm9wZXJ0eSh0LnN0eWxlU3BlYy5saWdodC5pbnRlbnNpdHkpfSksdz1mdW5jdGlvbihlKXtmdW5jdGlvbiBpKGkpe2UuY2FsbCh0aGlzKSx0aGlzLl90cmFuc2l0aW9uYWJsZT1uZXcgdC5UcmFuc2l0aW9uYWJsZShiKSx0aGlzLnNldExpZ2h0KGkpLHRoaXMuX3RyYW5zaXRpb25pbmc9dGhpcy5fdHJhbnNpdGlvbmFibGUudW50cmFuc2l0aW9uZWQoKTt9cmV0dXJuIGUmJihpLl9fcHJvdG9fXz1lKSwoaS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlJiZlLnByb3RvdHlwZSkpLmNvbnN0cnVjdG9yPWksaS5wcm90b3R5cGUuZ2V0TGlnaHQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdHJhbnNpdGlvbmFibGUuc2VyaWFsaXplKCl9LGkucHJvdG90eXBlLnNldExpZ2h0PWZ1bmN0aW9uKGUsaSl7aWYodm9pZCAwPT09aSYmKGk9e30pLCF0aGlzLl92YWxpZGF0ZSh0LnZhbGlkYXRlTGlnaHQsZSxpKSlmb3IodmFyIG8gaW4gZSl7dmFyIHI9ZVtvXTt0LmVuZHNXaXRoKG8sIi10cmFuc2l0aW9uIik/dGhpcy5fdHJhbnNpdGlvbmFibGUuc2V0VHJhbnNpdGlvbihvLnNsaWNlKDAsLSItdHJhbnNpdGlvbiIubGVuZ3RoKSxyKTp0aGlzLl90cmFuc2l0aW9uYWJsZS5zZXRWYWx1ZShvLHIpO319LGkucHJvdG90eXBlLnVwZGF0ZVRyYW5zaXRpb25zPWZ1bmN0aW9uKHQpe3RoaXMuX3RyYW5zaXRpb25pbmc9dGhpcy5fdHJhbnNpdGlvbmFibGUudHJhbnNpdGlvbmVkKHQsdGhpcy5fdHJhbnNpdGlvbmluZyk7fSxpLnByb3RvdHlwZS5oYXNUcmFuc2l0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3RyYW5zaXRpb25pbmcuaGFzVHJhbnNpdGlvbigpfSxpLnByb3RvdHlwZS5yZWNhbGN1bGF0ZT1mdW5jdGlvbih0KXt0aGlzLnByb3BlcnRpZXM9dGhpcy5fdHJhbnNpdGlvbmluZy5wb3NzaWJseUV2YWx1YXRlKHQpO30saS5wcm90b3R5cGUuX3ZhbGlkYXRlPWZ1bmN0aW9uKGUsaSxvKXtyZXR1cm4gKCFvfHwhMSE9PW8udmFsaWRhdGUpJiZ0LmVtaXRWYWxpZGF0aW9uRXJyb3JzKHRoaXMsZS5jYWxsKHQudmFsaWRhdGVTdHlsZSx0LmV4dGVuZCh7dmFsdWU6aSxzdHlsZTp7Z2x5cGhzOiEwLHNwcml0ZTohMH0sc3R5bGVTcGVjOnQuc3R5bGVTcGVjfSkpKX0saX0odC5FdmVudGVkKSxUPWZ1bmN0aW9uKHQsZSl7dGhpcy53aWR0aD10LHRoaXMuaGVpZ2h0PWUsdGhpcy5uZXh0Um93PTAsdGhpcy5kYXRhPW5ldyBVaW50OEFycmF5KHRoaXMud2lkdGgqdGhpcy5oZWlnaHQpLHRoaXMuZGFzaEVudHJ5PXt9O307VC5wcm90b3R5cGUuZ2V0RGFzaD1mdW5jdGlvbih0LGUpe3ZhciBpPXQuam9pbigiLCIpK1N0cmluZyhlKTtyZXR1cm4gdGhpcy5kYXNoRW50cnlbaV18fCh0aGlzLmRhc2hFbnRyeVtpXT10aGlzLmFkZERhc2godCxlKSksdGhpcy5kYXNoRW50cnlbaV19LFQucHJvdG90eXBlLmdldERhc2hSYW5nZXM9ZnVuY3Rpb24odCxlLGkpe3ZhciBvPVtdLHI9dC5sZW5ndGglMj09MT8tdFt0Lmxlbmd0aC0xXSppOjAsYT10WzBdKmksbj0hMDtvLnB1c2goe2xlZnQ6cixyaWdodDphLGlzRGFzaDpuLHplcm9MZW5ndGg6MD09PXRbMF19KTtmb3IodmFyIHM9dFswXSxsPTE7bDx0Lmxlbmd0aDtsKyspe3ZhciBjPXRbbF07by5wdXNoKHtsZWZ0OnI9cyppLHJpZ2h0OmE9KHMrPWMpKmksaXNEYXNoOm49IW4semVyb0xlbmd0aDowPT09Y30pO31yZXR1cm4gb30sVC5wcm90b3R5cGUuYWRkUm91bmREYXNoPWZ1bmN0aW9uKHQsZSxpKXtmb3IodmFyIG89ZS8yLHI9LWk7cjw9aTtyKyspZm9yKHZhciBhPXRoaXMud2lkdGgqKHRoaXMubmV4dFJvdytpK3IpLG49MCxzPXRbbl0sbD0wO2w8dGhpcy53aWR0aDtsKyspe2wvcy5yaWdodD4xJiYocz10Wysrbl0pO3ZhciBjPU1hdGguYWJzKGwtcy5sZWZ0KSx1PU1hdGguYWJzKGwtcy5yaWdodCksaD1NYXRoLm1pbihjLHUpLHA9dm9pZCAwLGQ9ci9pKihvKzEpO2lmKHMuaXNEYXNoKXt2YXIgXz1vLU1hdGguYWJzKGQpO3A9TWF0aC5zcXJ0KGgqaCtfKl8pO31lbHNlIHA9by1NYXRoLnNxcnQoaCpoK2QqZCk7dGhpcy5kYXRhW2ErbF09TWF0aC5tYXgoMCxNYXRoLm1pbigyNTUscCsxMjgpKTt9fSxULnByb3RvdHlwZS5hZGRSZWd1bGFyRGFzaD1mdW5jdGlvbih0KXtmb3IodmFyIGU9dC5sZW5ndGgtMTtlPj0wOy0tZSl7dmFyIGk9dFtlXSxvPXRbZSsxXTtpLnplcm9MZW5ndGg/dC5zcGxpY2UoZSwxKTpvJiZvLmlzRGFzaD09PWkuaXNEYXNoJiYoby5sZWZ0PWkubGVmdCx0LnNwbGljZShlLDEpKTt9dmFyIHI9dFswXSxhPXRbdC5sZW5ndGgtMV07ci5pc0Rhc2g9PT1hLmlzRGFzaCYmKHIubGVmdD1hLmxlZnQtdGhpcy53aWR0aCxhLnJpZ2h0PXIucmlnaHQrdGhpcy53aWR0aCk7Zm9yKHZhciBuPXRoaXMud2lkdGgqdGhpcy5uZXh0Um93LHM9MCxsPXRbc10sYz0wO2M8dGhpcy53aWR0aDtjKyspe2MvbC5yaWdodD4xJiYobD10Wysrc10pO3ZhciB1PU1hdGguYWJzKGMtbC5sZWZ0KSxoPU1hdGguYWJzKGMtbC5yaWdodCkscD1NYXRoLm1pbih1LGgpO3RoaXMuZGF0YVtuK2NdPU1hdGgubWF4KDAsTWF0aC5taW4oMjU1LChsLmlzRGFzaD9wOi1wKSsxMjgpKTt9fSxULnByb3RvdHlwZS5hZGREYXNoPWZ1bmN0aW9uKGUsaSl7dmFyIG89aT83OjAscj0yKm8rMTtpZih0aGlzLm5leHRSb3crcj50aGlzLmhlaWdodClyZXR1cm4gdC53YXJuT25jZSgiTGluZUF0bGFzIG91dCBvZiBzcGFjZSIpLG51bGw7Zm9yKHZhciBhPTAsbj0wO248ZS5sZW5ndGg7bisrKWErPWVbbl07aWYoMCE9PWEpe3ZhciBzPXRoaXMud2lkdGgvYSxsPXRoaXMuZ2V0RGFzaFJhbmdlcyhlLHRoaXMud2lkdGgscyk7aT90aGlzLmFkZFJvdW5kRGFzaChsLHMsbyk6dGhpcy5hZGRSZWd1bGFyRGFzaChsKTt9dmFyIGM9e3k6KHRoaXMubmV4dFJvdytvKy41KS90aGlzLmhlaWdodCxoZWlnaHQ6MipvL3RoaXMuaGVpZ2h0LHdpZHRoOmF9O3JldHVybiB0aGlzLm5leHRSb3crPXIsdGhpcy5kaXJ0eT0hMCxjfSxULnByb3RvdHlwZS5iaW5kPWZ1bmN0aW9uKHQpe3ZhciBlPXQuZ2w7dGhpcy50ZXh0dXJlPyhlLmJpbmRUZXh0dXJlKGUuVEVYVFVSRV8yRCx0aGlzLnRleHR1cmUpLHRoaXMuZGlydHkmJih0aGlzLmRpcnR5PSExLGUudGV4U3ViSW1hZ2UyRChlLlRFWFRVUkVfMkQsMCwwLDAsdGhpcy53aWR0aCx0aGlzLmhlaWdodCxlLkFMUEhBLGUuVU5TSUdORURfQllURSx0aGlzLmRhdGEpKSk6KHRoaXMudGV4dHVyZT1lLmNyZWF0ZVRleHR1cmUoKSxlLmJpbmRUZXh0dXJlKGUuVEVYVFVSRV8yRCx0aGlzLnRleHR1cmUpLGUudGV4UGFyYW1ldGVyaShlLlRFWFRVUkVfMkQsZS5URVhUVVJFX1dSQVBfUyxlLlJFUEVBVCksZS50ZXhQYXJhbWV0ZXJpKGUuVEVYVFVSRV8yRCxlLlRFWFRVUkVfV1JBUF9ULGUuUkVQRUFUKSxlLnRleFBhcmFtZXRlcmkoZS5URVhUVVJFXzJELGUuVEVYVFVSRV9NSU5fRklMVEVSLGUuTElORUFSKSxlLnRleFBhcmFtZXRlcmkoZS5URVhUVVJFXzJELGUuVEVYVFVSRV9NQUdfRklMVEVSLGUuTElORUFSKSxlLnRleEltYWdlMkQoZS5URVhUVVJFXzJELDAsZS5BTFBIQSx0aGlzLndpZHRoLHRoaXMuaGVpZ2h0LDAsZS5BTFBIQSxlLlVOU0lHTkVEX0JZVEUsdGhpcy5kYXRhKSk7fTt2YXIgRT1mdW5jdGlvbiBlKGksbyl7dGhpcy53b3JrZXJQb29sPWksdGhpcy5hY3RvcnM9W10sdGhpcy5jdXJyZW50QWN0b3I9MCx0aGlzLmlkPXQudW5pcXVlSWQoKTtmb3IodmFyIHI9dGhpcy53b3JrZXJQb29sLmFjcXVpcmUodGhpcy5pZCksYT0wO2E8ci5sZW5ndGg7YSsrKXt2YXIgbj1uZXcgZS5BY3RvcihyW2FdLG8sdGhpcy5pZCk7bi5uYW1lPSJXb3JrZXIgIithLHRoaXMuYWN0b3JzLnB1c2gobik7fX07ZnVuY3Rpb24gSShlLGksbyl7dmFyIHI9ZnVuY3Rpb24ocixhKXtpZihyKXJldHVybiBvKHIpO2lmKGEpe3ZhciBuPXQucGljayh0LmV4dGVuZChhLGUpLFsidGlsZXMiLCJtaW56b29tIiwibWF4em9vbSIsImF0dHJpYnV0aW9uIiwibWFwYm94X2xvZ28iLCJib3VuZHMiLCJzY2hlbWUiLCJ0aWxlU2l6ZSIsImVuY29kaW5nIl0pO2EudmVjdG9yX2xheWVycyYmKG4udmVjdG9yTGF5ZXJzPWEudmVjdG9yX2xheWVycyxuLnZlY3RvckxheWVySWRzPW4udmVjdG9yTGF5ZXJzLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIHQuaWR9KSkpLG4udGlsZXM9aS5jYW5vbmljYWxpemVUaWxlc2V0KG4sZS51cmwpLG8obnVsbCxuKTt9fTtyZXR1cm4gZS51cmw/dC5nZXRKU09OKGkudHJhbnNmb3JtUmVxdWVzdChpLm5vcm1hbGl6ZVNvdXJjZVVSTChlLnVybCksdC5SZXNvdXJjZVR5cGUuU291cmNlKSxyKTp0LmJyb3dzZXIuZnJhbWUoKGZ1bmN0aW9uKCl7cmV0dXJuIHIobnVsbCxlKX0pKX1FLnByb3RvdHlwZS5icm9hZGNhc3Q9ZnVuY3Rpb24oZSxpLG8pe3QuYXN5bmNBbGwodGhpcy5hY3RvcnMsKGZ1bmN0aW9uKHQsbyl7dC5zZW5kKGUsaSxvKTt9KSxvPW98fGZ1bmN0aW9uKCl7fSk7fSxFLnByb3RvdHlwZS5nZXRBY3Rvcj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmN1cnJlbnRBY3Rvcj0odGhpcy5jdXJyZW50QWN0b3IrMSkldGhpcy5hY3RvcnMubGVuZ3RoLHRoaXMuYWN0b3JzW3RoaXMuY3VycmVudEFjdG9yXX0sRS5wcm90b3R5cGUucmVtb3ZlPWZ1bmN0aW9uKCl7dGhpcy5hY3RvcnMuZm9yRWFjaCgoZnVuY3Rpb24odCl7dC5yZW1vdmUoKTt9KSksdGhpcy5hY3RvcnM9W10sdGhpcy53b3JrZXJQb29sLnJlbGVhc2UodGhpcy5pZCk7fSxFLkFjdG9yPXQuQWN0b3I7dmFyIFA9ZnVuY3Rpb24oZSxpLG8pe3RoaXMuYm91bmRzPXQuTG5nTGF0Qm91bmRzLmNvbnZlcnQodGhpcy52YWxpZGF0ZUJvdW5kcyhlKSksdGhpcy5taW56b29tPWl8fDAsdGhpcy5tYXh6b29tPW98fDI0O307UC5wcm90b3R5cGUudmFsaWRhdGVCb3VuZHM9ZnVuY3Rpb24odCl7cmV0dXJuIEFycmF5LmlzQXJyYXkodCkmJjQ9PT10Lmxlbmd0aD9bTWF0aC5tYXgoLTE4MCx0WzBdKSxNYXRoLm1heCgtOTAsdFsxXSksTWF0aC5taW4oMTgwLHRbMl0pLE1hdGgubWluKDkwLHRbM10pXTpbLTE4MCwtOTAsMTgwLDkwXX0sUC5wcm90b3R5cGUuY29udGFpbnM9ZnVuY3Rpb24oZSl7dmFyIGk9TWF0aC5wb3coMixlLnopLG89TWF0aC5mbG9vcih0Lm1lcmNhdG9yWGZyb21MbmcodGhpcy5ib3VuZHMuZ2V0V2VzdCgpKSppKSxyPU1hdGguZmxvb3IodC5tZXJjYXRvcllmcm9tTGF0KHRoaXMuYm91bmRzLmdldE5vcnRoKCkpKmkpLGE9TWF0aC5jZWlsKHQubWVyY2F0b3JYZnJvbUxuZyh0aGlzLmJvdW5kcy5nZXRFYXN0KCkpKmkpLG49TWF0aC5jZWlsKHQubWVyY2F0b3JZZnJvbUxhdCh0aGlzLmJvdW5kcy5nZXRTb3V0aCgpKSppKTtyZXR1cm4gZS54Pj1vJiZlLng8YSYmZS55Pj1yJiZlLnk8bn07dmFyIFM9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gaShpLG8scixhKXtpZihlLmNhbGwodGhpcyksdGhpcy5pZD1pLHRoaXMuZGlzcGF0Y2hlcj1yLHRoaXMudHlwZT0idmVjdG9yIix0aGlzLm1pbnpvb209MCx0aGlzLm1heHpvb209MjIsdGhpcy5zY2hlbWU9Inh5eiIsdGhpcy50aWxlU2l6ZT01MTIsdGhpcy5yZXBhcnNlT3ZlcnNjYWxlZD0hMCx0aGlzLmlzVGlsZUNsaXBwZWQ9ITAsdGhpcy5fbG9hZGVkPSExLHQuZXh0ZW5kKHRoaXMsdC5waWNrKG8sWyJ1cmwiLCJzY2hlbWUiLCJ0aWxlU2l6ZSIsInByb21vdGVJZCJdKSksdGhpcy5fb3B0aW9ucz10LmV4dGVuZCh7dHlwZToidmVjdG9yIn0sbyksdGhpcy5fY29sbGVjdFJlc291cmNlVGltaW5nPW8uY29sbGVjdFJlc291cmNlVGltaW5nLDUxMiE9PXRoaXMudGlsZVNpemUpdGhyb3cgbmV3IEVycm9yKCJ2ZWN0b3IgdGlsZSBzb3VyY2VzIG11c3QgaGF2ZSBhIHRpbGVTaXplIG9mIDUxMiIpO3RoaXMuc2V0RXZlbnRlZFBhcmVudChhKTt9cmV0dXJuIGUmJihpLl9fcHJvdG9fXz1lKSwoaS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlJiZlLnByb3RvdHlwZSkpLmNvbnN0cnVjdG9yPWksaS5wcm90b3R5cGUubG9hZD1mdW5jdGlvbigpe3ZhciBlPXRoaXM7dGhpcy5fbG9hZGVkPSExLHRoaXMuZmlyZShuZXcgdC5FdmVudCgiZGF0YWxvYWRpbmciLHtkYXRhVHlwZToic291cmNlIn0pKSx0aGlzLl90aWxlSlNPTlJlcXVlc3Q9SSh0aGlzLl9vcHRpb25zLHRoaXMubWFwLl9yZXF1ZXN0TWFuYWdlciwoZnVuY3Rpb24oaSxvKXtlLl90aWxlSlNPTlJlcXVlc3Q9bnVsbCxlLl9sb2FkZWQ9ITAsaT9lLmZpcmUobmV3IHQuRXJyb3JFdmVudChpKSk6byYmKHQuZXh0ZW5kKGUsbyksby5ib3VuZHMmJihlLnRpbGVCb3VuZHM9bmV3IFAoby5ib3VuZHMsZS5taW56b29tLGUubWF4em9vbSkpLHQucG9zdFR1cm5zdGlsZUV2ZW50KG8udGlsZXMsZS5tYXAuX3JlcXVlc3RNYW5hZ2VyLl9jdXN0b21BY2Nlc3NUb2tlbiksdC5wb3N0TWFwTG9hZEV2ZW50KG8udGlsZXMsZS5tYXAuX2dldE1hcElkKCksZS5tYXAuX3JlcXVlc3RNYW5hZ2VyLl9za3VUb2tlbixlLm1hcC5fcmVxdWVzdE1hbmFnZXIuX2N1c3RvbUFjY2Vzc1Rva2VuKSxlLmZpcmUobmV3IHQuRXZlbnQoImRhdGEiLHtkYXRhVHlwZToic291cmNlIixzb3VyY2VEYXRhVHlwZToibWV0YWRhdGEifSkpLGUuZmlyZShuZXcgdC5FdmVudCgiZGF0YSIse2RhdGFUeXBlOiJzb3VyY2UiLHNvdXJjZURhdGFUeXBlOiJjb250ZW50In0pKSk7fSkpO30saS5wcm90b3R5cGUubG9hZGVkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2xvYWRlZH0saS5wcm90b3R5cGUuaGFzVGlsZT1mdW5jdGlvbih0KXtyZXR1cm4gIXRoaXMudGlsZUJvdW5kc3x8dGhpcy50aWxlQm91bmRzLmNvbnRhaW5zKHQuY2Fub25pY2FsKX0saS5wcm90b3R5cGUub25BZGQ9ZnVuY3Rpb24odCl7dGhpcy5tYXA9dCx0aGlzLmxvYWQoKTt9LGkucHJvdG90eXBlLm9uUmVtb3ZlPWZ1bmN0aW9uKCl7dGhpcy5fdGlsZUpTT05SZXF1ZXN0JiYodGhpcy5fdGlsZUpTT05SZXF1ZXN0LmNhbmNlbCgpLHRoaXMuX3RpbGVKU09OUmVxdWVzdD1udWxsKTt9LGkucHJvdG90eXBlLnNlcmlhbGl6ZT1mdW5jdGlvbigpe3JldHVybiB0LmV4dGVuZCh7fSx0aGlzLl9vcHRpb25zKX0saS5wcm90b3R5cGUubG9hZFRpbGU9ZnVuY3Rpb24oZSxpKXt2YXIgbz10aGlzLm1hcC5fcmVxdWVzdE1hbmFnZXIubm9ybWFsaXplVGlsZVVSTChlLnRpbGVJRC5jYW5vbmljYWwudXJsKHRoaXMudGlsZXMsdGhpcy5zY2hlbWUpKSxyPXtyZXF1ZXN0OnRoaXMubWFwLl9yZXF1ZXN0TWFuYWdlci50cmFuc2Zvcm1SZXF1ZXN0KG8sdC5SZXNvdXJjZVR5cGUuVGlsZSksdWlkOmUudWlkLHRpbGVJRDplLnRpbGVJRCx6b29tOmUudGlsZUlELm92ZXJzY2FsZWRaLHRpbGVTaXplOnRoaXMudGlsZVNpemUqZS50aWxlSUQub3ZlcnNjYWxlRmFjdG9yKCksdHlwZTp0aGlzLnR5cGUsc291cmNlOnRoaXMuaWQscGl4ZWxSYXRpbzp0LmJyb3dzZXIuZGV2aWNlUGl4ZWxSYXRpbyxzaG93Q29sbGlzaW9uQm94ZXM6dGhpcy5tYXAuc2hvd0NvbGxpc2lvbkJveGVzLHByb21vdGVJZDp0aGlzLnByb21vdGVJZH07ZnVuY3Rpb24gYShvLHIpe3JldHVybiBkZWxldGUgZS5yZXF1ZXN0LGUuYWJvcnRlZD9pKG51bGwpOm8mJjQwNCE9PW8uc3RhdHVzP2kobyk6KHImJnIucmVzb3VyY2VUaW1pbmcmJihlLnJlc291cmNlVGltaW5nPXIucmVzb3VyY2VUaW1pbmcpLHRoaXMubWFwLl9yZWZyZXNoRXhwaXJlZFRpbGVzJiZyJiZlLnNldEV4cGlyeURhdGEociksZS5sb2FkVmVjdG9yRGF0YShyLHRoaXMubWFwLnBhaW50ZXIpLHQuY2FjaGVFbnRyeVBvc3NpYmx5QWRkZWQodGhpcy5kaXNwYXRjaGVyKSxpKG51bGwpLHZvaWQoZS5yZWxvYWRDYWxsYmFjayYmKHRoaXMubG9hZFRpbGUoZSxlLnJlbG9hZENhbGxiYWNrKSxlLnJlbG9hZENhbGxiYWNrPW51bGwpKSl9ci5yZXF1ZXN0LmNvbGxlY3RSZXNvdXJjZVRpbWluZz10aGlzLl9jb2xsZWN0UmVzb3VyY2VUaW1pbmcsZS5hY3RvciYmImV4cGlyZWQiIT09ZS5zdGF0ZT8ibG9hZGluZyI9PT1lLnN0YXRlP2UucmVsb2FkQ2FsbGJhY2s9aTplLnJlcXVlc3Q9ZS5hY3Rvci5zZW5kKCJyZWxvYWRUaWxlIixyLGEuYmluZCh0aGlzKSk6KGUuYWN0b3I9dGhpcy5kaXNwYXRjaGVyLmdldEFjdG9yKCksZS5yZXF1ZXN0PWUuYWN0b3Iuc2VuZCgibG9hZFRpbGUiLHIsYS5iaW5kKHRoaXMpKSk7fSxpLnByb3RvdHlwZS5hYm9ydFRpbGU9ZnVuY3Rpb24odCl7dC5yZXF1ZXN0JiYodC5yZXF1ZXN0LmNhbmNlbCgpLGRlbGV0ZSB0LnJlcXVlc3QpLHQuYWN0b3ImJnQuYWN0b3Iuc2VuZCgiYWJvcnRUaWxlIix7dWlkOnQudWlkLHR5cGU6dGhpcy50eXBlLHNvdXJjZTp0aGlzLmlkfSx2b2lkIDApO30saS5wcm90b3R5cGUudW5sb2FkVGlsZT1mdW5jdGlvbih0KXt0LnVubG9hZFZlY3RvckRhdGEoKSx0LmFjdG9yJiZ0LmFjdG9yLnNlbmQoInJlbW92ZVRpbGUiLHt1aWQ6dC51aWQsdHlwZTp0aGlzLnR5cGUsc291cmNlOnRoaXMuaWR9LHZvaWQgMCk7fSxpLnByb3RvdHlwZS5oYXNUcmFuc2l0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuICExfSxpfSh0LkV2ZW50ZWQpLEM9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gaShpLG8scixhKXtlLmNhbGwodGhpcyksdGhpcy5pZD1pLHRoaXMuZGlzcGF0Y2hlcj1yLHRoaXMuc2V0RXZlbnRlZFBhcmVudChhKSx0aGlzLnR5cGU9InJhc3RlciIsdGhpcy5taW56b29tPTAsdGhpcy5tYXh6b29tPTIyLHRoaXMucm91bmRab29tPSEwLHRoaXMuc2NoZW1lPSJ4eXoiLHRoaXMudGlsZVNpemU9NTEyLHRoaXMuX2xvYWRlZD0hMSx0aGlzLl9vcHRpb25zPXQuZXh0ZW5kKHt0eXBlOiJyYXN0ZXIifSxvKSx0LmV4dGVuZCh0aGlzLHQucGljayhvLFsidXJsIiwic2NoZW1lIiwidGlsZVNpemUiXSkpO31yZXR1cm4gZSYmKGkuX19wcm90b19fPWUpLChpLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGUmJmUucHJvdG90eXBlKSkuY29uc3RydWN0b3I9aSxpLnByb3RvdHlwZS5sb2FkPWZ1bmN0aW9uKCl7dmFyIGU9dGhpczt0aGlzLl9sb2FkZWQ9ITEsdGhpcy5maXJlKG5ldyB0LkV2ZW50KCJkYXRhbG9hZGluZyIse2RhdGFUeXBlOiJzb3VyY2UifSkpLHRoaXMuX3RpbGVKU09OUmVxdWVzdD1JKHRoaXMuX29wdGlvbnMsdGhpcy5tYXAuX3JlcXVlc3RNYW5hZ2VyLChmdW5jdGlvbihpLG8pe2UuX3RpbGVKU09OUmVxdWVzdD1udWxsLGUuX2xvYWRlZD0hMCxpP2UuZmlyZShuZXcgdC5FcnJvckV2ZW50KGkpKTpvJiYodC5leHRlbmQoZSxvKSxvLmJvdW5kcyYmKGUudGlsZUJvdW5kcz1uZXcgUChvLmJvdW5kcyxlLm1pbnpvb20sZS5tYXh6b29tKSksdC5wb3N0VHVybnN0aWxlRXZlbnQoby50aWxlcyksdC5wb3N0TWFwTG9hZEV2ZW50KG8udGlsZXMsZS5tYXAuX2dldE1hcElkKCksZS5tYXAuX3JlcXVlc3RNYW5hZ2VyLl9za3VUb2tlbiksZS5maXJlKG5ldyB0LkV2ZW50KCJkYXRhIix7ZGF0YVR5cGU6InNvdXJjZSIsc291cmNlRGF0YVR5cGU6Im1ldGFkYXRhIn0pKSxlLmZpcmUobmV3IHQuRXZlbnQoImRhdGEiLHtkYXRhVHlwZToic291cmNlIixzb3VyY2VEYXRhVHlwZToiY29udGVudCJ9KSkpO30pKTt9LGkucHJvdG90eXBlLmxvYWRlZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9sb2FkZWR9LGkucHJvdG90eXBlLm9uQWRkPWZ1bmN0aW9uKHQpe3RoaXMubWFwPXQsdGhpcy5sb2FkKCk7fSxpLnByb3RvdHlwZS5vblJlbW92ZT1mdW5jdGlvbigpe3RoaXMuX3RpbGVKU09OUmVxdWVzdCYmKHRoaXMuX3RpbGVKU09OUmVxdWVzdC5jYW5jZWwoKSx0aGlzLl90aWxlSlNPTlJlcXVlc3Q9bnVsbCk7fSxpLnByb3RvdHlwZS5zZXJpYWxpemU9ZnVuY3Rpb24oKXtyZXR1cm4gdC5leHRlbmQoe30sdGhpcy5fb3B0aW9ucyl9LGkucHJvdG90eXBlLmhhc1RpbGU9ZnVuY3Rpb24odCl7cmV0dXJuICF0aGlzLnRpbGVCb3VuZHN8fHRoaXMudGlsZUJvdW5kcy5jb250YWlucyh0LmNhbm9uaWNhbCl9LGkucHJvdG90eXBlLmxvYWRUaWxlPWZ1bmN0aW9uKGUsaSl7dmFyIG89dGhpcyxyPXRoaXMubWFwLl9yZXF1ZXN0TWFuYWdlci5ub3JtYWxpemVUaWxlVVJMKGUudGlsZUlELmNhbm9uaWNhbC51cmwodGhpcy50aWxlcyx0aGlzLnNjaGVtZSksdGhpcy50aWxlU2l6ZSk7ZS5yZXF1ZXN0PXQuZ2V0SW1hZ2UodGhpcy5tYXAuX3JlcXVlc3RNYW5hZ2VyLnRyYW5zZm9ybVJlcXVlc3Qocix0LlJlc291cmNlVHlwZS5UaWxlKSwoZnVuY3Rpb24ocixhKXtpZihkZWxldGUgZS5yZXF1ZXN0LGUuYWJvcnRlZCllLnN0YXRlPSJ1bmxvYWRlZCIsaShudWxsKTtlbHNlIGlmKHIpZS5zdGF0ZT0iZXJyb3JlZCIsaShyKTtlbHNlIGlmKGEpe28ubWFwLl9yZWZyZXNoRXhwaXJlZFRpbGVzJiZlLnNldEV4cGlyeURhdGEoYSksZGVsZXRlIGEuY2FjaGVDb250cm9sLGRlbGV0ZSBhLmV4cGlyZXM7dmFyIG49by5tYXAucGFpbnRlci5jb250ZXh0LHM9bi5nbDtlLnRleHR1cmU9by5tYXAucGFpbnRlci5nZXRUaWxlVGV4dHVyZShhLndpZHRoKSxlLnRleHR1cmU/ZS50ZXh0dXJlLnVwZGF0ZShhLHt1c2VNaXBtYXA6ITB9KTooZS50ZXh0dXJlPW5ldyB0LlRleHR1cmUobixhLHMuUkdCQSx7dXNlTWlwbWFwOiEwfSksZS50ZXh0dXJlLmJpbmQocy5MSU5FQVIscy5DTEFNUF9UT19FREdFLHMuTElORUFSX01JUE1BUF9ORUFSRVNUKSxuLmV4dFRleHR1cmVGaWx0ZXJBbmlzb3Ryb3BpYyYmcy50ZXhQYXJhbWV0ZXJmKHMuVEVYVFVSRV8yRCxuLmV4dFRleHR1cmVGaWx0ZXJBbmlzb3Ryb3BpYy5URVhUVVJFX01BWF9BTklTT1RST1BZX0VYVCxuLmV4dFRleHR1cmVGaWx0ZXJBbmlzb3Ryb3BpY01heCkpLGUuc3RhdGU9ImxvYWRlZCIsdC5jYWNoZUVudHJ5UG9zc2libHlBZGRlZChvLmRpc3BhdGNoZXIpLGkobnVsbCk7fX0pKTt9LGkucHJvdG90eXBlLmFib3J0VGlsZT1mdW5jdGlvbih0LGUpe3QucmVxdWVzdCYmKHQucmVxdWVzdC5jYW5jZWwoKSxkZWxldGUgdC5yZXF1ZXN0KSxlKCk7fSxpLnByb3RvdHlwZS51bmxvYWRUaWxlPWZ1bmN0aW9uKHQsZSl7dC50ZXh0dXJlJiZ0aGlzLm1hcC5wYWludGVyLnNhdmVUaWxlVGV4dHVyZSh0LnRleHR1cmUpLGUoKTt9LGkucHJvdG90eXBlLmhhc1RyYW5zaXRpb249ZnVuY3Rpb24oKXtyZXR1cm4gITF9LGl9KHQuRXZlbnRlZCksej1mdW5jdGlvbihlKXtmdW5jdGlvbiBpKGksbyxyLGEpe2UuY2FsbCh0aGlzLGksbyxyLGEpLHRoaXMudHlwZT0icmFzdGVyLWRlbSIsdGhpcy5tYXh6b29tPTIyLHRoaXMuX29wdGlvbnM9dC5leHRlbmQoe3R5cGU6InJhc3Rlci1kZW0ifSxvKSx0aGlzLmVuY29kaW5nPW8uZW5jb2Rpbmd8fCJtYXBib3giO31yZXR1cm4gZSYmKGkuX19wcm90b19fPWUpLChpLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGUmJmUucHJvdG90eXBlKSkuY29uc3RydWN0b3I9aSxpLnByb3RvdHlwZS5zZXJpYWxpemU9ZnVuY3Rpb24oKXtyZXR1cm4ge3R5cGU6InJhc3Rlci1kZW0iLHVybDp0aGlzLnVybCx0aWxlU2l6ZTp0aGlzLnRpbGVTaXplLHRpbGVzOnRoaXMudGlsZXMsYm91bmRzOnRoaXMuYm91bmRzLGVuY29kaW5nOnRoaXMuZW5jb2Rpbmd9fSxpLnByb3RvdHlwZS5sb2FkVGlsZT1mdW5jdGlvbihlLGkpe3ZhciBvPXRoaXMubWFwLl9yZXF1ZXN0TWFuYWdlci5ub3JtYWxpemVUaWxlVVJMKGUudGlsZUlELmNhbm9uaWNhbC51cmwodGhpcy50aWxlcyx0aGlzLnNjaGVtZSksdGhpcy50aWxlU2l6ZSk7ZnVuY3Rpb24gcih0LG8pe3QmJihlLnN0YXRlPSJlcnJvcmVkIixpKHQpKSxvJiYoZS5kZW09byxlLm5lZWRzSGlsbHNoYWRlUHJlcGFyZT0hMCxlLnN0YXRlPSJsb2FkZWQiLGkobnVsbCkpO31lLnJlcXVlc3Q9dC5nZXRJbWFnZSh0aGlzLm1hcC5fcmVxdWVzdE1hbmFnZXIudHJhbnNmb3JtUmVxdWVzdChvLHQuUmVzb3VyY2VUeXBlLlRpbGUpLGZ1bmN0aW9uKG8sYSl7aWYoZGVsZXRlIGUucmVxdWVzdCxlLmFib3J0ZWQpZS5zdGF0ZT0idW5sb2FkZWQiLGkobnVsbCk7ZWxzZSBpZihvKWUuc3RhdGU9ImVycm9yZWQiLGkobyk7ZWxzZSBpZihhKXt0aGlzLm1hcC5fcmVmcmVzaEV4cGlyZWRUaWxlcyYmZS5zZXRFeHBpcnlEYXRhKGEpLGRlbGV0ZSBhLmNhY2hlQ29udHJvbCxkZWxldGUgYS5leHBpcmVzO3ZhciBuPXQud2luZG93LkltYWdlQml0bWFwJiZhIGluc3RhbmNlb2YgdC53aW5kb3cuSW1hZ2VCaXRtYXAmJnQub2Zmc2NyZWVuQ2FudmFzU3VwcG9ydGVkKCk/YTp0LmJyb3dzZXIuZ2V0SW1hZ2VEYXRhKGEsMSkscz17dWlkOmUudWlkLGNvb3JkOmUudGlsZUlELHNvdXJjZTp0aGlzLmlkLHJhd0ltYWdlRGF0YTpuLGVuY29kaW5nOnRoaXMuZW5jb2Rpbmd9O2UuYWN0b3ImJiJleHBpcmVkIiE9PWUuc3RhdGV8fChlLmFjdG9yPXRoaXMuZGlzcGF0Y2hlci5nZXRBY3RvcigpLGUuYWN0b3Iuc2VuZCgibG9hZERFTVRpbGUiLHMsci5iaW5kKHRoaXMpKSk7fX0uYmluZCh0aGlzKSksZS5uZWlnaGJvcmluZ1RpbGVzPXRoaXMuX2dldE5laWdoYm9yaW5nVGlsZXMoZS50aWxlSUQpO30saS5wcm90b3R5cGUuX2dldE5laWdoYm9yaW5nVGlsZXM9ZnVuY3Rpb24oZSl7dmFyIGk9ZS5jYW5vbmljYWwsbz1NYXRoLnBvdygyLGkueikscj0oaS54LTErbyklbyxhPTA9PT1pLng/ZS53cmFwLTE6ZS53cmFwLG49KGkueCsxK28pJW8scz1pLngrMT09PW8/ZS53cmFwKzE6ZS53cmFwLGw9e307cmV0dXJuIGxbbmV3IHQuT3ZlcnNjYWxlZFRpbGVJRChlLm92ZXJzY2FsZWRaLGEsaS56LHIsaS55KS5rZXldPXtiYWNrZmlsbGVkOiExfSxsW25ldyB0Lk92ZXJzY2FsZWRUaWxlSUQoZS5vdmVyc2NhbGVkWixzLGkueixuLGkueSkua2V5XT17YmFja2ZpbGxlZDohMX0saS55PjAmJihsW25ldyB0Lk92ZXJzY2FsZWRUaWxlSUQoZS5vdmVyc2NhbGVkWixhLGkueixyLGkueS0xKS5rZXldPXtiYWNrZmlsbGVkOiExfSxsW25ldyB0Lk92ZXJzY2FsZWRUaWxlSUQoZS5vdmVyc2NhbGVkWixlLndyYXAsaS56LGkueCxpLnktMSkua2V5XT17YmFja2ZpbGxlZDohMX0sbFtuZXcgdC5PdmVyc2NhbGVkVGlsZUlEKGUub3ZlcnNjYWxlZFoscyxpLnosbixpLnktMSkua2V5XT17YmFja2ZpbGxlZDohMX0pLGkueSsxPG8mJihsW25ldyB0Lk92ZXJzY2FsZWRUaWxlSUQoZS5vdmVyc2NhbGVkWixhLGkueixyLGkueSsxKS5rZXldPXtiYWNrZmlsbGVkOiExfSxsW25ldyB0Lk92ZXJzY2FsZWRUaWxlSUQoZS5vdmVyc2NhbGVkWixlLndyYXAsaS56LGkueCxpLnkrMSkua2V5XT17YmFja2ZpbGxlZDohMX0sbFtuZXcgdC5PdmVyc2NhbGVkVGlsZUlEKGUub3ZlcnNjYWxlZFoscyxpLnosbixpLnkrMSkua2V5XT17YmFja2ZpbGxlZDohMX0pLGx9LGkucHJvdG90eXBlLnVubG9hZFRpbGU9ZnVuY3Rpb24odCl7dC5kZW1UZXh0dXJlJiZ0aGlzLm1hcC5wYWludGVyLnNhdmVUaWxlVGV4dHVyZSh0LmRlbVRleHR1cmUpLHQuZmJvJiYodC5mYm8uZGVzdHJveSgpLGRlbGV0ZSB0LmZibyksdC5kZW0mJmRlbGV0ZSB0LmRlbSxkZWxldGUgdC5uZWlnaGJvcmluZ1RpbGVzLHQuc3RhdGU9InVubG9hZGVkIix0LmFjdG9yJiZ0LmFjdG9yLnNlbmQoInJlbW92ZURFTVRpbGUiLHt1aWQ6dC51aWQsc291cmNlOnRoaXMuaWR9KTt9LGl9KEMpLEQ9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gaShpLG8scixhKXtlLmNhbGwodGhpcyksdGhpcy5pZD1pLHRoaXMudHlwZT0iZ2VvanNvbiIsdGhpcy5taW56b29tPTAsdGhpcy5tYXh6b29tPTE4LHRoaXMudGlsZVNpemU9NTEyLHRoaXMuaXNUaWxlQ2xpcHBlZD0hMCx0aGlzLnJlcGFyc2VPdmVyc2NhbGVkPSEwLHRoaXMuX3JlbW92ZWQ9ITEsdGhpcy5fbG9hZGVkPSExLHRoaXMuYWN0b3I9ci5nZXRBY3RvcigpLHRoaXMuc2V0RXZlbnRlZFBhcmVudChhKSx0aGlzLl9kYXRhPW8uZGF0YSx0aGlzLl9vcHRpb25zPXQuZXh0ZW5kKHt9LG8pLHRoaXMuX2NvbGxlY3RSZXNvdXJjZVRpbWluZz1vLmNvbGxlY3RSZXNvdXJjZVRpbWluZyx0aGlzLl9yZXNvdXJjZVRpbWluZz1bXSx2b2lkIDAhPT1vLm1heHpvb20mJih0aGlzLm1heHpvb209by5tYXh6b29tKSxvLnR5cGUmJih0aGlzLnR5cGU9by50eXBlKSxvLmF0dHJpYnV0aW9uJiYodGhpcy5hdHRyaWJ1dGlvbj1vLmF0dHJpYnV0aW9uKSx0aGlzLnByb21vdGVJZD1vLnByb21vdGVJZDt2YXIgbj10LkVYVEVOVC90aGlzLnRpbGVTaXplO3RoaXMud29ya2VyT3B0aW9ucz10LmV4dGVuZCh7c291cmNlOnRoaXMuaWQsY2x1c3RlcjpvLmNsdXN0ZXJ8fCExLGdlb2pzb25WdE9wdGlvbnM6e2J1ZmZlcjoodm9pZCAwIT09by5idWZmZXI/by5idWZmZXI6MTI4KSpuLHRvbGVyYW5jZToodm9pZCAwIT09by50b2xlcmFuY2U/by50b2xlcmFuY2U6LjM3NSkqbixleHRlbnQ6dC5FWFRFTlQsbWF4Wm9vbTp0aGlzLm1heHpvb20sbGluZU1ldHJpY3M6by5saW5lTWV0cmljc3x8ITEsZ2VuZXJhdGVJZDpvLmdlbmVyYXRlSWR8fCExfSxzdXBlcmNsdXN0ZXJPcHRpb25zOnttYXhab29tOnZvaWQgMCE9PW8uY2x1c3Rlck1heFpvb20/TWF0aC5taW4oby5jbHVzdGVyTWF4Wm9vbSx0aGlzLm1heHpvb20tMSk6dGhpcy5tYXh6b29tLTEsZXh0ZW50OnQuRVhURU5ULHJhZGl1czooby5jbHVzdGVyUmFkaXVzfHw1MCkqbixsb2c6ITEsZ2VuZXJhdGVJZDpvLmdlbmVyYXRlSWR8fCExfSxjbHVzdGVyUHJvcGVydGllczpvLmNsdXN0ZXJQcm9wZXJ0aWVzfSxvLndvcmtlck9wdGlvbnMpO31yZXR1cm4gZSYmKGkuX19wcm90b19fPWUpLChpLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGUmJmUucHJvdG90eXBlKSkuY29uc3RydWN0b3I9aSxpLnByb3RvdHlwZS5sb2FkPWZ1bmN0aW9uKCl7dmFyIGU9dGhpczt0aGlzLmZpcmUobmV3IHQuRXZlbnQoImRhdGFsb2FkaW5nIix7ZGF0YVR5cGU6InNvdXJjZSJ9KSksdGhpcy5fdXBkYXRlV29ya2VyRGF0YSgoZnVuY3Rpb24oaSl7aWYoaSllLmZpcmUobmV3IHQuRXJyb3JFdmVudChpKSk7ZWxzZSB7dmFyIG89e2RhdGFUeXBlOiJzb3VyY2UiLHNvdXJjZURhdGFUeXBlOiJtZXRhZGF0YSJ9O2UuX2NvbGxlY3RSZXNvdXJjZVRpbWluZyYmZS5fcmVzb3VyY2VUaW1pbmcmJmUuX3Jlc291cmNlVGltaW5nLmxlbmd0aD4wJiYoby5yZXNvdXJjZVRpbWluZz1lLl9yZXNvdXJjZVRpbWluZyxlLl9yZXNvdXJjZVRpbWluZz1bXSksZS5maXJlKG5ldyB0LkV2ZW50KCJkYXRhIixvKSk7fX0pKTt9LGkucHJvdG90eXBlLm9uQWRkPWZ1bmN0aW9uKHQpe3RoaXMubWFwPXQsdGhpcy5sb2FkKCk7fSxpLnByb3RvdHlwZS5zZXREYXRhPWZ1bmN0aW9uKGUpe3ZhciBpPXRoaXM7cmV0dXJuIHRoaXMuX2RhdGE9ZSx0aGlzLmZpcmUobmV3IHQuRXZlbnQoImRhdGFsb2FkaW5nIix7ZGF0YVR5cGU6InNvdXJjZSJ9KSksdGhpcy5fdXBkYXRlV29ya2VyRGF0YSgoZnVuY3Rpb24oZSl7aWYoZSlpLmZpcmUobmV3IHQuRXJyb3JFdmVudChlKSk7ZWxzZSB7dmFyIG89e2RhdGFUeXBlOiJzb3VyY2UiLHNvdXJjZURhdGFUeXBlOiJjb250ZW50In07aS5fY29sbGVjdFJlc291cmNlVGltaW5nJiZpLl9yZXNvdXJjZVRpbWluZyYmaS5fcmVzb3VyY2VUaW1pbmcubGVuZ3RoPjAmJihvLnJlc291cmNlVGltaW5nPWkuX3Jlc291cmNlVGltaW5nLGkuX3Jlc291cmNlVGltaW5nPVtdKSxpLmZpcmUobmV3IHQuRXZlbnQoImRhdGEiLG8pKTt9fSkpLHRoaXN9LGkucHJvdG90eXBlLmdldENsdXN0ZXJFeHBhbnNpb25ab29tPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuYWN0b3Iuc2VuZCgiZ2VvanNvbi5nZXRDbHVzdGVyRXhwYW5zaW9uWm9vbSIse2NsdXN0ZXJJZDp0LHNvdXJjZTp0aGlzLmlkfSxlKSx0aGlzfSxpLnByb3RvdHlwZS5nZXRDbHVzdGVyQ2hpbGRyZW49ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5hY3Rvci5zZW5kKCJnZW9qc29uLmdldENsdXN0ZXJDaGlsZHJlbiIse2NsdXN0ZXJJZDp0LHNvdXJjZTp0aGlzLmlkfSxlKSx0aGlzfSxpLnByb3RvdHlwZS5nZXRDbHVzdGVyTGVhdmVzPWZ1bmN0aW9uKHQsZSxpLG8pe3JldHVybiB0aGlzLmFjdG9yLnNlbmQoImdlb2pzb24uZ2V0Q2x1c3RlckxlYXZlcyIse3NvdXJjZTp0aGlzLmlkLGNsdXN0ZXJJZDp0LGxpbWl0OmUsb2Zmc2V0Oml9LG8pLHRoaXN9LGkucHJvdG90eXBlLl91cGRhdGVXb3JrZXJEYXRhPWZ1bmN0aW9uKGUpe3ZhciBpPXRoaXM7dGhpcy5fbG9hZGVkPSExO3ZhciBvPXQuZXh0ZW5kKHt9LHRoaXMud29ya2VyT3B0aW9ucykscj10aGlzLl9kYXRhOyJzdHJpbmciPT10eXBlb2Ygcj8oby5yZXF1ZXN0PXRoaXMubWFwLl9yZXF1ZXN0TWFuYWdlci50cmFuc2Zvcm1SZXF1ZXN0KHQuYnJvd3Nlci5yZXNvbHZlVVJMKHIpLHQuUmVzb3VyY2VUeXBlLlNvdXJjZSksby5yZXF1ZXN0LmNvbGxlY3RSZXNvdXJjZVRpbWluZz10aGlzLl9jb2xsZWN0UmVzb3VyY2VUaW1pbmcpOm8uZGF0YT1KU09OLnN0cmluZ2lmeShyKSx0aGlzLmFjdG9yLnNlbmQodGhpcy50eXBlKyIubG9hZERhdGEiLG8sKGZ1bmN0aW9uKHQscil7aS5fcmVtb3ZlZHx8ciYmci5hYmFuZG9uZWR8fChpLl9sb2FkZWQ9ITAsciYmci5yZXNvdXJjZVRpbWluZyYmci5yZXNvdXJjZVRpbWluZ1tpLmlkXSYmKGkuX3Jlc291cmNlVGltaW5nPXIucmVzb3VyY2VUaW1pbmdbaS5pZF0uc2xpY2UoMCkpLGkuYWN0b3Iuc2VuZChpLnR5cGUrIi5jb2FsZXNjZSIse3NvdXJjZTpvLnNvdXJjZX0sbnVsbCksZSh0KSk7fSkpO30saS5wcm90b3R5cGUubG9hZGVkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2xvYWRlZH0saS5wcm90b3R5cGUubG9hZFRpbGU9ZnVuY3Rpb24oZSxpKXt2YXIgbz10aGlzLHI9ZS5hY3Rvcj8icmVsb2FkVGlsZSI6ImxvYWRUaWxlIjtlLmFjdG9yPXRoaXMuYWN0b3IsZS5yZXF1ZXN0PXRoaXMuYWN0b3Iuc2VuZChyLHt0eXBlOnRoaXMudHlwZSx1aWQ6ZS51aWQsdGlsZUlEOmUudGlsZUlELHpvb206ZS50aWxlSUQub3ZlcnNjYWxlZFosbWF4Wm9vbTp0aGlzLm1heHpvb20sdGlsZVNpemU6dGhpcy50aWxlU2l6ZSxzb3VyY2U6dGhpcy5pZCxwaXhlbFJhdGlvOnQuYnJvd3Nlci5kZXZpY2VQaXhlbFJhdGlvLHNob3dDb2xsaXNpb25Cb3hlczp0aGlzLm1hcC5zaG93Q29sbGlzaW9uQm94ZXMscHJvbW90ZUlkOnRoaXMucHJvbW90ZUlkfSwoZnVuY3Rpb24odCxhKXtyZXR1cm4gZGVsZXRlIGUucmVxdWVzdCxlLnVubG9hZFZlY3RvckRhdGEoKSxlLmFib3J0ZWQ/aShudWxsKTp0P2kodCk6KGUubG9hZFZlY3RvckRhdGEoYSxvLm1hcC5wYWludGVyLCJyZWxvYWRUaWxlIj09PXIpLGkobnVsbCkpfSkpO30saS5wcm90b3R5cGUuYWJvcnRUaWxlPWZ1bmN0aW9uKHQpe3QucmVxdWVzdCYmKHQucmVxdWVzdC5jYW5jZWwoKSxkZWxldGUgdC5yZXF1ZXN0KSx0LmFib3J0ZWQ9ITA7fSxpLnByb3RvdHlwZS51bmxvYWRUaWxlPWZ1bmN0aW9uKHQpe3QudW5sb2FkVmVjdG9yRGF0YSgpLHRoaXMuYWN0b3Iuc2VuZCgicmVtb3ZlVGlsZSIse3VpZDp0LnVpZCx0eXBlOnRoaXMudHlwZSxzb3VyY2U6dGhpcy5pZH0pO30saS5wcm90b3R5cGUub25SZW1vdmU9ZnVuY3Rpb24oKXt0aGlzLl9yZW1vdmVkPSEwLHRoaXMuYWN0b3Iuc2VuZCgicmVtb3ZlU291cmNlIix7dHlwZTp0aGlzLnR5cGUsc291cmNlOnRoaXMuaWR9KTt9LGkucHJvdG90eXBlLnNlcmlhbGl6ZT1mdW5jdGlvbigpe3JldHVybiB0LmV4dGVuZCh7fSx0aGlzLl9vcHRpb25zLHt0eXBlOnRoaXMudHlwZSxkYXRhOnRoaXMuX2RhdGF9KX0saS5wcm90b3R5cGUuaGFzVHJhbnNpdGlvbj1mdW5jdGlvbigpe3JldHVybiAhMX0saX0odC5FdmVudGVkKSxNPXQuY3JlYXRlTGF5b3V0KFt7bmFtZToiYV9wb3MiLHR5cGU6IkludDE2Iixjb21wb25lbnRzOjJ9LHtuYW1lOiJhX3RleHR1cmVfcG9zIix0eXBlOiJJbnQxNiIsY29tcG9uZW50czoyfV0pLEE9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gaSh0LGksbyxyKXtlLmNhbGwodGhpcyksdGhpcy5pZD10LHRoaXMuZGlzcGF0Y2hlcj1vLHRoaXMuY29vcmRpbmF0ZXM9aS5jb29yZGluYXRlcyx0aGlzLnR5cGU9ImltYWdlIix0aGlzLm1pbnpvb209MCx0aGlzLm1heHpvb209MjIsdGhpcy50aWxlU2l6ZT01MTIsdGhpcy50aWxlcz17fSx0aGlzLl9sb2FkZWQ9ITEsdGhpcy5zZXRFdmVudGVkUGFyZW50KHIpLHRoaXMub3B0aW9ucz1pO31yZXR1cm4gZSYmKGkuX19wcm90b19fPWUpLChpLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGUmJmUucHJvdG90eXBlKSkuY29uc3RydWN0b3I9aSxpLnByb3RvdHlwZS5sb2FkPWZ1bmN0aW9uKGUsaSl7dmFyIG89dGhpczt0aGlzLl9sb2FkZWQ9ITEsdGhpcy5maXJlKG5ldyB0LkV2ZW50KCJkYXRhbG9hZGluZyIse2RhdGFUeXBlOiJzb3VyY2UifSkpLHRoaXMudXJsPXRoaXMub3B0aW9ucy51cmwsdC5nZXRJbWFnZSh0aGlzLm1hcC5fcmVxdWVzdE1hbmFnZXIudHJhbnNmb3JtUmVxdWVzdCh0aGlzLnVybCx0LlJlc291cmNlVHlwZS5JbWFnZSksKGZ1bmN0aW9uKHIsYSl7by5fbG9hZGVkPSEwLHI/by5maXJlKG5ldyB0LkVycm9yRXZlbnQocikpOmEmJihvLmltYWdlPWEsZSYmKG8uY29vcmRpbmF0ZXM9ZSksaSYmaSgpLG8uX2ZpbmlzaExvYWRpbmcoKSk7fSkpO30saS5wcm90b3R5cGUubG9hZGVkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2xvYWRlZH0saS5wcm90b3R5cGUudXBkYXRlSW1hZ2U9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcztyZXR1cm4gdGhpcy5pbWFnZSYmdC51cmw/KHRoaXMub3B0aW9ucy51cmw9dC51cmwsdGhpcy5sb2FkKHQuY29vcmRpbmF0ZXMsKGZ1bmN0aW9uKCl7ZS50ZXh0dXJlPW51bGw7fSkpLHRoaXMpOnRoaXN9LGkucHJvdG90eXBlLl9maW5pc2hMb2FkaW5nPWZ1bmN0aW9uKCl7dGhpcy5tYXAmJih0aGlzLnNldENvb3JkaW5hdGVzKHRoaXMuY29vcmRpbmF0ZXMpLHRoaXMuZmlyZShuZXcgdC5FdmVudCgiZGF0YSIse2RhdGFUeXBlOiJzb3VyY2UiLHNvdXJjZURhdGFUeXBlOiJtZXRhZGF0YSJ9KSkpO30saS5wcm90b3R5cGUub25BZGQ9ZnVuY3Rpb24odCl7dGhpcy5tYXA9dCx0aGlzLmxvYWQoKTt9LGkucHJvdG90eXBlLnNldENvb3JkaW5hdGVzPWZ1bmN0aW9uKGUpe3ZhciBpPXRoaXM7dGhpcy5jb29yZGluYXRlcz1lO3ZhciBvPWUubWFwKHQuTWVyY2F0b3JDb29yZGluYXRlLmZyb21MbmdMYXQpO3RoaXMudGlsZUlEPWZ1bmN0aW9uKGUpe2Zvcih2YXIgaT0xLzAsbz0xLzAscj0tMS8wLGE9LTEvMCxuPTAscz1lO248cy5sZW5ndGg7bis9MSl7dmFyIGw9c1tuXTtpPU1hdGgubWluKGksbC54KSxvPU1hdGgubWluKG8sbC55KSxyPU1hdGgubWF4KHIsbC54KSxhPU1hdGgubWF4KGEsbC55KTt9dmFyIGM9TWF0aC5tYXgoci1pLGEtbyksdT1NYXRoLm1heCgwLE1hdGguZmxvb3IoLU1hdGgubG9nKGMpL01hdGguTE4yKSksaD1NYXRoLnBvdygyLHUpO3JldHVybiBuZXcgdC5DYW5vbmljYWxUaWxlSUQodSxNYXRoLmZsb29yKChpK3IpLzIqaCksTWF0aC5mbG9vcigobythKS8yKmgpKX0obyksdGhpcy5taW56b29tPXRoaXMubWF4em9vbT10aGlzLnRpbGVJRC56O3ZhciByPW8ubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gaS50aWxlSUQuZ2V0VGlsZVBvaW50KHQpLl9yb3VuZCgpfSkpO3JldHVybiB0aGlzLl9ib3VuZHNBcnJheT1uZXcgdC5TdHJ1Y3RBcnJheUxheW91dDRpOCx0aGlzLl9ib3VuZHNBcnJheS5lbXBsYWNlQmFjayhyWzBdLngsclswXS55LDAsMCksdGhpcy5fYm91bmRzQXJyYXkuZW1wbGFjZUJhY2soclsxXS54LHJbMV0ueSx0LkVYVEVOVCwwKSx0aGlzLl9ib3VuZHNBcnJheS5lbXBsYWNlQmFjayhyWzNdLngsclszXS55LDAsdC5FWFRFTlQpLHRoaXMuX2JvdW5kc0FycmF5LmVtcGxhY2VCYWNrKHJbMl0ueCxyWzJdLnksdC5FWFRFTlQsdC5FWFRFTlQpLHRoaXMuYm91bmRzQnVmZmVyJiYodGhpcy5ib3VuZHNCdWZmZXIuZGVzdHJveSgpLGRlbGV0ZSB0aGlzLmJvdW5kc0J1ZmZlciksdGhpcy5maXJlKG5ldyB0LkV2ZW50KCJkYXRhIix7ZGF0YVR5cGU6InNvdXJjZSIsc291cmNlRGF0YVR5cGU6ImNvbnRlbnQifSkpLHRoaXN9LGkucHJvdG90eXBlLnByZXBhcmU9ZnVuY3Rpb24oKXtpZigwIT09T2JqZWN0LmtleXModGhpcy50aWxlcykubGVuZ3RoJiZ0aGlzLmltYWdlKXt2YXIgZT10aGlzLm1hcC5wYWludGVyLmNvbnRleHQsaT1lLmdsO2Zvcih2YXIgbyBpbiB0aGlzLmJvdW5kc0J1ZmZlcnx8KHRoaXMuYm91bmRzQnVmZmVyPWUuY3JlYXRlVmVydGV4QnVmZmVyKHRoaXMuX2JvdW5kc0FycmF5LE0ubWVtYmVycykpLHRoaXMuYm91bmRzU2VnbWVudHN8fCh0aGlzLmJvdW5kc1NlZ21lbnRzPXQuU2VnbWVudFZlY3Rvci5zaW1wbGVTZWdtZW50KDAsMCw0LDIpKSx0aGlzLnRleHR1cmV8fCh0aGlzLnRleHR1cmU9bmV3IHQuVGV4dHVyZShlLHRoaXMuaW1hZ2UsaS5SR0JBKSx0aGlzLnRleHR1cmUuYmluZChpLkxJTkVBUixpLkNMQU1QX1RPX0VER0UpKSx0aGlzLnRpbGVzKXt2YXIgcj10aGlzLnRpbGVzW29dOyJsb2FkZWQiIT09ci5zdGF0ZSYmKHIuc3RhdGU9ImxvYWRlZCIsci50ZXh0dXJlPXRoaXMudGV4dHVyZSk7fX19LGkucHJvdG90eXBlLmxvYWRUaWxlPWZ1bmN0aW9uKHQsZSl7dGhpcy50aWxlSUQmJnRoaXMudGlsZUlELmVxdWFscyh0LnRpbGVJRC5jYW5vbmljYWwpPyh0aGlzLnRpbGVzW1N0cmluZyh0LnRpbGVJRC53cmFwKV09dCx0LmJ1Y2tldHM9e30sZShudWxsKSk6KHQuc3RhdGU9ImVycm9yZWQiLGUobnVsbCkpO30saS5wcm90b3R5cGUuc2VyaWFsaXplPWZ1bmN0aW9uKCl7cmV0dXJuIHt0eXBlOiJpbWFnZSIsdXJsOnRoaXMub3B0aW9ucy51cmwsY29vcmRpbmF0ZXM6dGhpcy5jb29yZGluYXRlc319LGkucHJvdG90eXBlLmhhc1RyYW5zaXRpb249ZnVuY3Rpb24oKXtyZXR1cm4gITF9LGl9KHQuRXZlbnRlZCksTD1mdW5jdGlvbihlKXtmdW5jdGlvbiBpKHQsaSxvLHIpe2UuY2FsbCh0aGlzLHQsaSxvLHIpLHRoaXMucm91bmRab29tPSEwLHRoaXMudHlwZT0idmlkZW8iLHRoaXMub3B0aW9ucz1pO31yZXR1cm4gZSYmKGkuX19wcm90b19fPWUpLChpLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGUmJmUucHJvdG90eXBlKSkuY29uc3RydWN0b3I9aSxpLnByb3RvdHlwZS5sb2FkPWZ1bmN0aW9uKCl7dmFyIGU9dGhpczt0aGlzLl9sb2FkZWQ9ITE7dmFyIGk9dGhpcy5vcHRpb25zO3RoaXMudXJscz1bXTtmb3IodmFyIG89MCxyPWkudXJscztvPHIubGVuZ3RoO28rPTEpdGhpcy51cmxzLnB1c2godGhpcy5tYXAuX3JlcXVlc3RNYW5hZ2VyLnRyYW5zZm9ybVJlcXVlc3QocltvXSx0LlJlc291cmNlVHlwZS5Tb3VyY2UpLnVybCk7dC5nZXRWaWRlbyh0aGlzLnVybHMsKGZ1bmN0aW9uKGksbyl7ZS5fbG9hZGVkPSEwLGk/ZS5maXJlKG5ldyB0LkVycm9yRXZlbnQoaSkpOm8mJihlLnZpZGVvPW8sZS52aWRlby5sb29wPSEwLGUudmlkZW8uYWRkRXZlbnRMaXN0ZW5lcigicGxheWluZyIsKGZ1bmN0aW9uKCl7ZS5tYXAudHJpZ2dlclJlcGFpbnQoKTt9KSksZS5tYXAmJmUudmlkZW8ucGxheSgpLGUuX2ZpbmlzaExvYWRpbmcoKSk7fSkpO30saS5wcm90b3R5cGUucGF1c2U9ZnVuY3Rpb24oKXt0aGlzLnZpZGVvJiZ0aGlzLnZpZGVvLnBhdXNlKCk7fSxpLnByb3RvdHlwZS5wbGF5PWZ1bmN0aW9uKCl7dGhpcy52aWRlbyYmdGhpcy52aWRlby5wbGF5KCk7fSxpLnByb3RvdHlwZS5zZWVrPWZ1bmN0aW9uKGUpe2lmKHRoaXMudmlkZW8pe3ZhciBpPXRoaXMudmlkZW8uc2Vla2FibGU7ZTxpLnN0YXJ0KDApfHxlPmkuZW5kKDApP3RoaXMuZmlyZShuZXcgdC5FcnJvckV2ZW50KG5ldyB0LlZhbGlkYXRpb25FcnJvcigic291cmNlcy4iK3RoaXMuaWQsbnVsbCwiUGxheWJhY2sgZm9yIHRoaXMgdmlkZW8gY2FuIGJlIHNldCBvbmx5IGJldHdlZW4gdGhlICIraS5zdGFydCgwKSsiIGFuZCAiK2kuZW5kKDApKyItc2Vjb25kIG1hcmsuIikpKTp0aGlzLnZpZGVvLmN1cnJlbnRUaW1lPWU7fX0saS5wcm90b3R5cGUuZ2V0VmlkZW89ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy52aWRlb30saS5wcm90b3R5cGUub25BZGQ9ZnVuY3Rpb24odCl7dGhpcy5tYXB8fCh0aGlzLm1hcD10LHRoaXMubG9hZCgpLHRoaXMudmlkZW8mJih0aGlzLnZpZGVvLnBsYXkoKSx0aGlzLnNldENvb3JkaW5hdGVzKHRoaXMuY29vcmRpbmF0ZXMpKSk7fSxpLnByb3RvdHlwZS5wcmVwYXJlPWZ1bmN0aW9uKCl7aWYoISgwPT09T2JqZWN0LmtleXModGhpcy50aWxlcykubGVuZ3RofHx0aGlzLnZpZGVvLnJlYWR5U3RhdGU8Mikpe3ZhciBlPXRoaXMubWFwLnBhaW50ZXIuY29udGV4dCxpPWUuZ2w7Zm9yKHZhciBvIGluIHRoaXMuYm91bmRzQnVmZmVyfHwodGhpcy5ib3VuZHNCdWZmZXI9ZS5jcmVhdGVWZXJ0ZXhCdWZmZXIodGhpcy5fYm91bmRzQXJyYXksTS5tZW1iZXJzKSksdGhpcy5ib3VuZHNTZWdtZW50c3x8KHRoaXMuYm91bmRzU2VnbWVudHM9dC5TZWdtZW50VmVjdG9yLnNpbXBsZVNlZ21lbnQoMCwwLDQsMikpLHRoaXMudGV4dHVyZT90aGlzLnZpZGVvLnBhdXNlZHx8KHRoaXMudGV4dHVyZS5iaW5kKGkuTElORUFSLGkuQ0xBTVBfVE9fRURHRSksaS50ZXhTdWJJbWFnZTJEKGkuVEVYVFVSRV8yRCwwLDAsMCxpLlJHQkEsaS5VTlNJR05FRF9CWVRFLHRoaXMudmlkZW8pKToodGhpcy50ZXh0dXJlPW5ldyB0LlRleHR1cmUoZSx0aGlzLnZpZGVvLGkuUkdCQSksdGhpcy50ZXh0dXJlLmJpbmQoaS5MSU5FQVIsaS5DTEFNUF9UT19FREdFKSksdGhpcy50aWxlcyl7dmFyIHI9dGhpcy50aWxlc1tvXTsibG9hZGVkIiE9PXIuc3RhdGUmJihyLnN0YXRlPSJsb2FkZWQiLHIudGV4dHVyZT10aGlzLnRleHR1cmUpO319fSxpLnByb3RvdHlwZS5zZXJpYWxpemU9ZnVuY3Rpb24oKXtyZXR1cm4ge3R5cGU6InZpZGVvIix1cmxzOnRoaXMudXJscyxjb29yZGluYXRlczp0aGlzLmNvb3JkaW5hdGVzfX0saS5wcm90b3R5cGUuaGFzVHJhbnNpdGlvbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLnZpZGVvJiYhdGhpcy52aWRlby5wYXVzZWR9LGl9KEEpLFI9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gaShpLG8scixhKXtlLmNhbGwodGhpcyxpLG8scixhKSxvLmNvb3JkaW5hdGVzP0FycmF5LmlzQXJyYXkoby5jb29yZGluYXRlcykmJjQ9PT1vLmNvb3JkaW5hdGVzLmxlbmd0aCYmIW8uY29vcmRpbmF0ZXMuc29tZSgoZnVuY3Rpb24odCl7cmV0dXJuICFBcnJheS5pc0FycmF5KHQpfHwyIT09dC5sZW5ndGh8fHQuc29tZSgoZnVuY3Rpb24odCl7cmV0dXJuICJudW1iZXIiIT10eXBlb2YgdH0pKX0pKXx8dGhpcy5maXJlKG5ldyB0LkVycm9yRXZlbnQobmV3IHQuVmFsaWRhdGlvbkVycm9yKCJzb3VyY2VzLiIraSxudWxsLCciY29vcmRpbmF0ZXMiIHByb3BlcnR5IG11c3QgYmUgYW4gYXJyYXkgb2YgNCBsb25naXR1ZGUvbGF0aXR1ZGUgYXJyYXkgcGFpcnMnKSkpOnRoaXMuZmlyZShuZXcgdC5FcnJvckV2ZW50KG5ldyB0LlZhbGlkYXRpb25FcnJvcigic291cmNlcy4iK2ksbnVsbCwnbWlzc2luZyByZXF1aXJlZCBwcm9wZXJ0eSAiY29vcmRpbmF0ZXMiJykpKSxvLmFuaW1hdGUmJiJib29sZWFuIiE9dHlwZW9mIG8uYW5pbWF0ZSYmdGhpcy5maXJlKG5ldyB0LkVycm9yRXZlbnQobmV3IHQuVmFsaWRhdGlvbkVycm9yKCJzb3VyY2VzLiIraSxudWxsLCdvcHRpb25hbCAiYW5pbWF0ZSIgcHJvcGVydHkgbXVzdCBiZSBhIGJvb2xlYW4gdmFsdWUnKSkpLG8uY2FudmFzPyJzdHJpbmciPT10eXBlb2Ygby5jYW52YXN8fG8uY2FudmFzIGluc3RhbmNlb2YgdC53aW5kb3cuSFRNTENhbnZhc0VsZW1lbnR8fHRoaXMuZmlyZShuZXcgdC5FcnJvckV2ZW50KG5ldyB0LlZhbGlkYXRpb25FcnJvcigic291cmNlcy4iK2ksbnVsbCwnImNhbnZhcyIgbXVzdCBiZSBlaXRoZXIgYSBzdHJpbmcgcmVwcmVzZW50aW5nIHRoZSBJRCBvZiB0aGUgY2FudmFzIGVsZW1lbnQgZnJvbSB3aGljaCB0byByZWFkLCBvciBhbiBIVE1MQ2FudmFzRWxlbWVudCBpbnN0YW5jZScpKSk6dGhpcy5maXJlKG5ldyB0LkVycm9yRXZlbnQobmV3IHQuVmFsaWRhdGlvbkVycm9yKCJzb3VyY2VzLiIraSxudWxsLCdtaXNzaW5nIHJlcXVpcmVkIHByb3BlcnR5ICJjYW52YXMiJykpKSx0aGlzLm9wdGlvbnM9byx0aGlzLmFuaW1hdGU9dm9pZCAwPT09by5hbmltYXRlfHxvLmFuaW1hdGU7fXJldHVybiBlJiYoaS5fX3Byb3RvX189ZSksKGkucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZSYmZS5wcm90b3R5cGUpKS5jb25zdHJ1Y3Rvcj1pLGkucHJvdG90eXBlLmxvYWQ9ZnVuY3Rpb24oKXt0aGlzLl9sb2FkZWQ9ITAsdGhpcy5jYW52YXN8fCh0aGlzLmNhbnZhcz10aGlzLm9wdGlvbnMuY2FudmFzIGluc3RhbmNlb2YgdC53aW5kb3cuSFRNTENhbnZhc0VsZW1lbnQ/dGhpcy5vcHRpb25zLmNhbnZhczp0LndpbmRvdy5kb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLm9wdGlvbnMuY2FudmFzKSksdGhpcy53aWR0aD10aGlzLmNhbnZhcy53aWR0aCx0aGlzLmhlaWdodD10aGlzLmNhbnZhcy5oZWlnaHQsdGhpcy5faGFzSW52YWxpZERpbWVuc2lvbnMoKT90aGlzLmZpcmUobmV3IHQuRXJyb3JFdmVudChuZXcgRXJyb3IoIkNhbnZhcyBkaW1lbnNpb25zIGNhbm5vdCBiZSBsZXNzIHRoYW4gb3IgZXF1YWwgdG8gemVyby4iKSkpOih0aGlzLnBsYXk9ZnVuY3Rpb24oKXt0aGlzLl9wbGF5aW5nPSEwLHRoaXMubWFwLnRyaWdnZXJSZXBhaW50KCk7fSx0aGlzLnBhdXNlPWZ1bmN0aW9uKCl7dGhpcy5fcGxheWluZyYmKHRoaXMucHJlcGFyZSgpLHRoaXMuX3BsYXlpbmc9ITEpO30sdGhpcy5fZmluaXNoTG9hZGluZygpKTt9LGkucHJvdG90eXBlLmdldENhbnZhcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNhbnZhc30saS5wcm90b3R5cGUub25BZGQ9ZnVuY3Rpb24odCl7dGhpcy5tYXA9dCx0aGlzLmxvYWQoKSx0aGlzLmNhbnZhcyYmdGhpcy5hbmltYXRlJiZ0aGlzLnBsYXkoKTt9LGkucHJvdG90eXBlLm9uUmVtb3ZlPWZ1bmN0aW9uKCl7dGhpcy5wYXVzZSgpO30saS5wcm90b3R5cGUucHJlcGFyZT1mdW5jdGlvbigpe3ZhciBlPSExO2lmKHRoaXMuY2FudmFzLndpZHRoIT09dGhpcy53aWR0aCYmKHRoaXMud2lkdGg9dGhpcy5jYW52YXMud2lkdGgsZT0hMCksdGhpcy5jYW52YXMuaGVpZ2h0IT09dGhpcy5oZWlnaHQmJih0aGlzLmhlaWdodD10aGlzLmNhbnZhcy5oZWlnaHQsZT0hMCksIXRoaXMuX2hhc0ludmFsaWREaW1lbnNpb25zKCkmJjAhPT1PYmplY3Qua2V5cyh0aGlzLnRpbGVzKS5sZW5ndGgpe3ZhciBpPXRoaXMubWFwLnBhaW50ZXIuY29udGV4dCxvPWkuZ2w7Zm9yKHZhciByIGluIHRoaXMuYm91bmRzQnVmZmVyfHwodGhpcy5ib3VuZHNCdWZmZXI9aS5jcmVhdGVWZXJ0ZXhCdWZmZXIodGhpcy5fYm91bmRzQXJyYXksTS5tZW1iZXJzKSksdGhpcy5ib3VuZHNTZWdtZW50c3x8KHRoaXMuYm91bmRzU2VnbWVudHM9dC5TZWdtZW50VmVjdG9yLnNpbXBsZVNlZ21lbnQoMCwwLDQsMikpLHRoaXMudGV4dHVyZT8oZXx8dGhpcy5fcGxheWluZykmJnRoaXMudGV4dHVyZS51cGRhdGUodGhpcy5jYW52YXMse3ByZW11bHRpcGx5OiEwfSk6dGhpcy50ZXh0dXJlPW5ldyB0LlRleHR1cmUoaSx0aGlzLmNhbnZhcyxvLlJHQkEse3ByZW11bHRpcGx5OiEwfSksdGhpcy50aWxlcyl7dmFyIGE9dGhpcy50aWxlc1tyXTsibG9hZGVkIiE9PWEuc3RhdGUmJihhLnN0YXRlPSJsb2FkZWQiLGEudGV4dHVyZT10aGlzLnRleHR1cmUpO319fSxpLnByb3RvdHlwZS5zZXJpYWxpemU9ZnVuY3Rpb24oKXtyZXR1cm4ge3R5cGU6ImNhbnZhcyIsY29vcmRpbmF0ZXM6dGhpcy5jb29yZGluYXRlc319LGkucHJvdG90eXBlLmhhc1RyYW5zaXRpb249ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcGxheWluZ30saS5wcm90b3R5cGUuX2hhc0ludmFsaWREaW1lbnNpb25zPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PTAsZT1bdGhpcy5jYW52YXMud2lkdGgsdGhpcy5jYW52YXMuaGVpZ2h0XTt0PGUubGVuZ3RoO3QrPTEpe3ZhciBpPWVbdF07aWYoaXNOYU4oaSl8fGk8PTApcmV0dXJuICEwfXJldHVybiAhMX0saX0oQSksaz17dmVjdG9yOlMscmFzdGVyOkMsInJhc3Rlci1kZW0iOnosZ2VvanNvbjpELHZpZGVvOkwsaW1hZ2U6QSxjYW52YXM6Un07ZnVuY3Rpb24gQihlLGkpe3ZhciBvPXQuaWRlbnRpdHkoW10pO3JldHVybiB0LnRyYW5zbGF0ZShvLG8sWzEsMSwwXSksdC5zY2FsZShvLG8sWy41KmUud2lkdGgsLjUqZS5oZWlnaHQsMV0pLHQubXVsdGlwbHkobyxvLGUuY2FsY3VsYXRlUG9zTWF0cml4KGkudG9VbndyYXBwZWQoKSkpfWZ1bmN0aW9uIE8odCxlLGksbyxyLGEpe3ZhciBuPWZ1bmN0aW9uKHQsZSxpKXtpZih0KWZvcih2YXIgbz0wLHI9dDtvPHIubGVuZ3RoO28rPTEpe3ZhciBhPWVbcltvXV07aWYoYSYmYS5zb3VyY2U9PT1pJiYiZmlsbC1leHRydXNpb24iPT09YS50eXBlKXJldHVybiAhMH1lbHNlIGZvcih2YXIgbiBpbiBlKXt2YXIgcz1lW25dO2lmKHMuc291cmNlPT09aSYmImZpbGwtZXh0cnVzaW9uIj09PXMudHlwZSlyZXR1cm4gITB9cmV0dXJuICExfShyJiZyLmxheWVycyxlLHQuaWQpLHM9YS5tYXhQaXRjaFNjYWxlRmFjdG9yKCksbD10LnRpbGVzSW4obyxzLG4pO2wuc29ydChGKTtmb3IodmFyIGM9W10sdT0wLGg9bDt1PGgubGVuZ3RoO3UrPTEpe3ZhciBwPWhbdV07Yy5wdXNoKHt3cmFwcGVkVGlsZUlEOnAudGlsZUlELndyYXBwZWQoKS5rZXkscXVlcnlSZXN1bHRzOnAudGlsZS5xdWVyeVJlbmRlcmVkRmVhdHVyZXMoZSxpLHQuX3N0YXRlLHAucXVlcnlHZW9tZXRyeSxwLmNhbWVyYVF1ZXJ5R2VvbWV0cnkscC5zY2FsZSxyLGEscyxCKHQudHJhbnNmb3JtLHAudGlsZUlEKSl9KTt9dmFyIGQ9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXt9LGk9e30sbz0wLHI9dDtvPHIubGVuZ3RoO28rPTEpe3ZhciBhPXJbb10sbj1hLnF1ZXJ5UmVzdWx0cyxzPWEud3JhcHBlZFRpbGVJRCxsPWlbc109aVtzXXx8e307Zm9yKHZhciBjIGluIG4pZm9yKHZhciB1PW5bY10saD1sW2NdPWxbY118fHt9LHA9ZVtjXT1lW2NdfHxbXSxkPTAsXz11O2Q8Xy5sZW5ndGg7ZCs9MSl7dmFyIGY9X1tkXTtoW2YuZmVhdHVyZUluZGV4XXx8KGhbZi5mZWF0dXJlSW5kZXhdPSEwLHAucHVzaChmKSk7fX1yZXR1cm4gZX0oYyk7Zm9yKHZhciBfIGluIGQpZFtfXS5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgaT1lLmZlYXR1cmUsbz10LmdldEZlYXR1cmVTdGF0ZShpLmxheWVyWyJzb3VyY2UtbGF5ZXIiXSxpLmlkKTtpLnNvdXJjZT1pLmxheWVyLnNvdXJjZSxpLmxheWVyWyJzb3VyY2UtbGF5ZXIiXSYmKGkuc291cmNlTGF5ZXI9aS5sYXllclsic291cmNlLWxheWVyIl0pLGkuc3RhdGU9bzt9KSk7cmV0dXJuIGR9ZnVuY3Rpb24gRih0LGUpe3ZhciBpPXQudGlsZUlELG89ZS50aWxlSUQ7cmV0dXJuIGkub3ZlcnNjYWxlZFotby5vdmVyc2NhbGVkWnx8aS5jYW5vbmljYWwueS1vLmNhbm9uaWNhbC55fHxpLndyYXAtby53cmFwfHxpLmNhbm9uaWNhbC54LW8uY2Fub25pY2FsLnh9dmFyIFU9ZnVuY3Rpb24odCxlKXt0aGlzLm1heD10LHRoaXMub25SZW1vdmU9ZSx0aGlzLnJlc2V0KCk7fTtVLnByb3RvdHlwZS5yZXNldD1mdW5jdGlvbigpe2Zvcih2YXIgdCBpbiB0aGlzLmRhdGEpZm9yKHZhciBlPTAsaT10aGlzLmRhdGFbdF07ZTxpLmxlbmd0aDtlKz0xKXt2YXIgbz1pW2VdO28udGltZW91dCYmY2xlYXJUaW1lb3V0KG8udGltZW91dCksdGhpcy5vblJlbW92ZShvLnZhbHVlKTt9cmV0dXJuIHRoaXMuZGF0YT17fSx0aGlzLm9yZGVyPVtdLHRoaXN9LFUucHJvdG90eXBlLmFkZD1mdW5jdGlvbih0LGUsaSl7dmFyIG89dGhpcyxyPXQud3JhcHBlZCgpLmtleTt2b2lkIDA9PT10aGlzLmRhdGFbcl0mJih0aGlzLmRhdGFbcl09W10pO3ZhciBhPXt2YWx1ZTplLHRpbWVvdXQ6dm9pZCAwfTtpZih2b2lkIDAhPT1pJiYoYS50aW1lb3V0PXNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7by5yZW1vdmUodCxhKTt9KSxpKSksdGhpcy5kYXRhW3JdLnB1c2goYSksdGhpcy5vcmRlci5wdXNoKHIpLHRoaXMub3JkZXIubGVuZ3RoPnRoaXMubWF4KXt2YXIgbj10aGlzLl9nZXRBbmRSZW1vdmVCeUtleSh0aGlzLm9yZGVyWzBdKTtuJiZ0aGlzLm9uUmVtb3ZlKG4pO31yZXR1cm4gdGhpc30sVS5wcm90b3R5cGUuaGFzPWZ1bmN0aW9uKHQpe3JldHVybiB0LndyYXBwZWQoKS5rZXkgaW4gdGhpcy5kYXRhfSxVLnByb3RvdHlwZS5nZXRBbmRSZW1vdmU9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuaGFzKHQpP3RoaXMuX2dldEFuZFJlbW92ZUJ5S2V5KHQud3JhcHBlZCgpLmtleSk6bnVsbH0sVS5wcm90b3R5cGUuX2dldEFuZFJlbW92ZUJ5S2V5PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuZGF0YVt0XS5zaGlmdCgpO3JldHVybiBlLnRpbWVvdXQmJmNsZWFyVGltZW91dChlLnRpbWVvdXQpLDA9PT10aGlzLmRhdGFbdF0ubGVuZ3RoJiZkZWxldGUgdGhpcy5kYXRhW3RdLHRoaXMub3JkZXIuc3BsaWNlKHRoaXMub3JkZXIuaW5kZXhPZih0KSwxKSxlLnZhbHVlfSxVLnByb3RvdHlwZS5nZXRCeUtleT1mdW5jdGlvbih0KXt2YXIgZT10aGlzLmRhdGFbdF07cmV0dXJuIGU/ZVswXS52YWx1ZTpudWxsfSxVLnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuaGFzKHQpP3RoaXMuZGF0YVt0LndyYXBwZWQoKS5rZXldWzBdLnZhbHVlOm51bGx9LFUucHJvdG90eXBlLnJlbW92ZT1mdW5jdGlvbih0LGUpe2lmKCF0aGlzLmhhcyh0KSlyZXR1cm4gdGhpczt2YXIgaT10LndyYXBwZWQoKS5rZXksbz12b2lkIDA9PT1lPzA6dGhpcy5kYXRhW2ldLmluZGV4T2YoZSkscj10aGlzLmRhdGFbaV1bb107cmV0dXJuIHRoaXMuZGF0YVtpXS5zcGxpY2UobywxKSxyLnRpbWVvdXQmJmNsZWFyVGltZW91dChyLnRpbWVvdXQpLDA9PT10aGlzLmRhdGFbaV0ubGVuZ3RoJiZkZWxldGUgdGhpcy5kYXRhW2ldLHRoaXMub25SZW1vdmUoci52YWx1ZSksdGhpcy5vcmRlci5zcGxpY2UodGhpcy5vcmRlci5pbmRleE9mKGkpLDEpLHRoaXN9LFUucHJvdG90eXBlLnNldE1heFNpemU9ZnVuY3Rpb24odCl7Zm9yKHRoaXMubWF4PXQ7dGhpcy5vcmRlci5sZW5ndGg+dGhpcy5tYXg7KXt2YXIgZT10aGlzLl9nZXRBbmRSZW1vdmVCeUtleSh0aGlzLm9yZGVyWzBdKTtlJiZ0aGlzLm9uUmVtb3ZlKGUpO31yZXR1cm4gdGhpc30sVS5wcm90b3R5cGUuZmlsdGVyPWZ1bmN0aW9uKHQpe3ZhciBlPVtdO2Zvcih2YXIgaSBpbiB0aGlzLmRhdGEpZm9yKHZhciBvPTAscj10aGlzLmRhdGFbaV07bzxyLmxlbmd0aDtvKz0xKXt2YXIgYT1yW29dO3QoYS52YWx1ZSl8fGUucHVzaChhKTt9Zm9yKHZhciBuPTAscz1lO248cy5sZW5ndGg7bis9MSl7dmFyIGw9c1tuXTt0aGlzLnJlbW92ZShsLnZhbHVlLnRpbGVJRCxsKTt9fTt2YXIgTj1mdW5jdGlvbih0LGUsaSl7dGhpcy5jb250ZXh0PXQ7dmFyIG89dC5nbDt0aGlzLmJ1ZmZlcj1vLmNyZWF0ZUJ1ZmZlcigpLHRoaXMuZHluYW1pY0RyYXc9Qm9vbGVhbihpKSx0aGlzLmNvbnRleHQudW5iaW5kVkFPKCksdC5iaW5kRWxlbWVudEJ1ZmZlci5zZXQodGhpcy5idWZmZXIpLG8uYnVmZmVyRGF0YShvLkVMRU1FTlRfQVJSQVlfQlVGRkVSLGUuYXJyYXlCdWZmZXIsdGhpcy5keW5hbWljRHJhdz9vLkRZTkFNSUNfRFJBVzpvLlNUQVRJQ19EUkFXKSx0aGlzLmR5bmFtaWNEcmF3fHxkZWxldGUgZS5hcnJheUJ1ZmZlcjt9O04ucHJvdG90eXBlLmJpbmQ9ZnVuY3Rpb24oKXt0aGlzLmNvbnRleHQuYmluZEVsZW1lbnRCdWZmZXIuc2V0KHRoaXMuYnVmZmVyKTt9LE4ucHJvdG90eXBlLnVwZGF0ZURhdGE9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5jb250ZXh0LmdsO3RoaXMuY29udGV4dC51bmJpbmRWQU8oKSx0aGlzLmJpbmQoKSxlLmJ1ZmZlclN1YkRhdGEoZS5FTEVNRU5UX0FSUkFZX0JVRkZFUiwwLHQuYXJyYXlCdWZmZXIpO30sTi5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuYnVmZmVyJiYodGhpcy5jb250ZXh0LmdsLmRlbGV0ZUJ1ZmZlcih0aGlzLmJ1ZmZlciksZGVsZXRlIHRoaXMuYnVmZmVyKTt9O3ZhciBaPXtJbnQ4OiJCWVRFIixVaW50ODoiVU5TSUdORURfQllURSIsSW50MTY6IlNIT1JUIixVaW50MTY6IlVOU0lHTkVEX1NIT1JUIixJbnQzMjoiSU5UIixVaW50MzI6IlVOU0lHTkVEX0lOVCIsRmxvYXQzMjoiRkxPQVQifSxqPWZ1bmN0aW9uKHQsZSxpLG8pe3RoaXMubGVuZ3RoPWUubGVuZ3RoLHRoaXMuYXR0cmlidXRlcz1pLHRoaXMuaXRlbVNpemU9ZS5ieXRlc1BlckVsZW1lbnQsdGhpcy5keW5hbWljRHJhdz1vLHRoaXMuY29udGV4dD10O3ZhciByPXQuZ2w7dGhpcy5idWZmZXI9ci5jcmVhdGVCdWZmZXIoKSx0LmJpbmRWZXJ0ZXhCdWZmZXIuc2V0KHRoaXMuYnVmZmVyKSxyLmJ1ZmZlckRhdGEoci5BUlJBWV9CVUZGRVIsZS5hcnJheUJ1ZmZlcix0aGlzLmR5bmFtaWNEcmF3P3IuRFlOQU1JQ19EUkFXOnIuU1RBVElDX0RSQVcpLHRoaXMuZHluYW1pY0RyYXd8fGRlbGV0ZSBlLmFycmF5QnVmZmVyO307ai5wcm90b3R5cGUuYmluZD1mdW5jdGlvbigpe3RoaXMuY29udGV4dC5iaW5kVmVydGV4QnVmZmVyLnNldCh0aGlzLmJ1ZmZlcik7fSxqLnByb3RvdHlwZS51cGRhdGVEYXRhPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuY29udGV4dC5nbDt0aGlzLmJpbmQoKSxlLmJ1ZmZlclN1YkRhdGEoZS5BUlJBWV9CVUZGRVIsMCx0LmFycmF5QnVmZmVyKTt9LGoucHJvdG90eXBlLmVuYWJsZUF0dHJpYnV0ZXM9ZnVuY3Rpb24odCxlKXtmb3IodmFyIGk9MDtpPHRoaXMuYXR0cmlidXRlcy5sZW5ndGg7aSsrKXt2YXIgbz1lLmF0dHJpYnV0ZXNbdGhpcy5hdHRyaWJ1dGVzW2ldLm5hbWVdO3ZvaWQgMCE9PW8mJnQuZW5hYmxlVmVydGV4QXR0cmliQXJyYXkobyk7fX0sai5wcm90b3R5cGUuc2V0VmVydGV4QXR0cmliUG9pbnRlcnM9ZnVuY3Rpb24odCxlLGkpe2Zvcih2YXIgbz0wO288dGhpcy5hdHRyaWJ1dGVzLmxlbmd0aDtvKyspe3ZhciByPXRoaXMuYXR0cmlidXRlc1tvXSxhPWUuYXR0cmlidXRlc1tyLm5hbWVdO3ZvaWQgMCE9PWEmJnQudmVydGV4QXR0cmliUG9pbnRlcihhLHIuY29tcG9uZW50cyx0W1pbci50eXBlXV0sITEsdGhpcy5pdGVtU2l6ZSxyLm9mZnNldCt0aGlzLml0ZW1TaXplKihpfHwwKSk7fX0sai5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuYnVmZmVyJiYodGhpcy5jb250ZXh0LmdsLmRlbGV0ZUJ1ZmZlcih0aGlzLmJ1ZmZlciksZGVsZXRlIHRoaXMuYnVmZmVyKTt9O3ZhciBxPWZ1bmN0aW9uKHQpe3RoaXMuZ2w9dC5nbCx0aGlzLmRlZmF1bHQ9dGhpcy5nZXREZWZhdWx0KCksdGhpcy5jdXJyZW50PXRoaXMuZGVmYXVsdCx0aGlzLmRpcnR5PSExO307cS5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY3VycmVudH0scS5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKHQpe30scS5wcm90b3R5cGUuZ2V0RGVmYXVsdD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmRlZmF1bHR9LHEucHJvdG90eXBlLnNldERlZmF1bHQ9ZnVuY3Rpb24oKXt0aGlzLnNldCh0aGlzLmRlZmF1bHQpO307dmFyIFY9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gaSgpe2UuYXBwbHkodGhpcyxhcmd1bWVudHMpO31yZXR1cm4gZSYmKGkuX19wcm90b19fPWUpLChpLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGUmJmUucHJvdG90eXBlKSkuY29uc3RydWN0b3I9aSxpLnByb3RvdHlwZS5nZXREZWZhdWx0PWZ1bmN0aW9uKCl7cmV0dXJuIHQuQ29sb3IudHJhbnNwYXJlbnR9LGkucHJvdG90eXBlLnNldD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLmN1cnJlbnQ7KHQuciE9PWUucnx8dC5nIT09ZS5nfHx0LmIhPT1lLmJ8fHQuYSE9PWUuYXx8dGhpcy5kaXJ0eSkmJih0aGlzLmdsLmNsZWFyQ29sb3IodC5yLHQuZyx0LmIsdC5hKSx0aGlzLmN1cnJlbnQ9dCx0aGlzLmRpcnR5PSExKTt9LGl9KHEpLEc9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3QuYXBwbHkodGhpcyxhcmd1bWVudHMpO31yZXR1cm4gdCYmKGUuX19wcm90b19fPXQpLChlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlKSkuY29uc3RydWN0b3I9ZSxlLnByb3RvdHlwZS5nZXREZWZhdWx0PWZ1bmN0aW9uKCl7cmV0dXJuIDF9LGUucHJvdG90eXBlLnNldD1mdW5jdGlvbih0KXsodCE9PXRoaXMuY3VycmVudHx8dGhpcy5kaXJ0eSkmJih0aGlzLmdsLmNsZWFyRGVwdGgodCksdGhpcy5jdXJyZW50PXQsdGhpcy5kaXJ0eT0hMSk7fSxlfShxKSxXPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt0LmFwcGx5KHRoaXMsYXJndW1lbnRzKTt9cmV0dXJuIHQmJihlLl9fcHJvdG9fXz10KSwoZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSkpLmNvbnN0cnVjdG9yPWUsZS5wcm90b3R5cGUuZ2V0RGVmYXVsdD1mdW5jdGlvbigpe3JldHVybiAwfSxlLnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24odCl7KHQhPT10aGlzLmN1cnJlbnR8fHRoaXMuZGlydHkpJiYodGhpcy5nbC5jbGVhclN0ZW5jaWwodCksdGhpcy5jdXJyZW50PXQsdGhpcy5kaXJ0eT0hMSk7fSxlfShxKSxYPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt0LmFwcGx5KHRoaXMsYXJndW1lbnRzKTt9cmV0dXJuIHQmJihlLl9fcHJvdG9fXz10KSwoZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSkpLmNvbnN0cnVjdG9yPWUsZS5wcm90b3R5cGUuZ2V0RGVmYXVsdD1mdW5jdGlvbigpe3JldHVybiBbITAsITAsITAsITBdfSxlLnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5jdXJyZW50Oyh0WzBdIT09ZVswXXx8dFsxXSE9PWVbMV18fHRbMl0hPT1lWzJdfHx0WzNdIT09ZVszXXx8dGhpcy5kaXJ0eSkmJih0aGlzLmdsLmNvbG9yTWFzayh0WzBdLHRbMV0sdFsyXSx0WzNdKSx0aGlzLmN1cnJlbnQ9dCx0aGlzLmRpcnR5PSExKTt9LGV9KHEpLEg9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3QuYXBwbHkodGhpcyxhcmd1bWVudHMpO31yZXR1cm4gdCYmKGUuX19wcm90b19fPXQpLChlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlKSkuY29uc3RydWN0b3I9ZSxlLnByb3RvdHlwZS5nZXREZWZhdWx0PWZ1bmN0aW9uKCl7cmV0dXJuICEwfSxlLnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24odCl7KHQhPT10aGlzLmN1cnJlbnR8fHRoaXMuZGlydHkpJiYodGhpcy5nbC5kZXB0aE1hc2sodCksdGhpcy5jdXJyZW50PXQsdGhpcy5kaXJ0eT0hMSk7fSxlfShxKSxLPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt0LmFwcGx5KHRoaXMsYXJndW1lbnRzKTt9cmV0dXJuIHQmJihlLl9fcHJvdG9fXz10KSwoZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSkpLmNvbnN0cnVjdG9yPWUsZS5wcm90b3R5cGUuZ2V0RGVmYXVsdD1mdW5jdGlvbigpe3JldHVybiAyNTV9LGUucHJvdG90eXBlLnNldD1mdW5jdGlvbih0KXsodCE9PXRoaXMuY3VycmVudHx8dGhpcy5kaXJ0eSkmJih0aGlzLmdsLnN0ZW5jaWxNYXNrKHQpLHRoaXMuY3VycmVudD10LHRoaXMuZGlydHk9ITEpO30sZX0ocSksWT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7fXJldHVybiB0JiYoZS5fX3Byb3RvX189dCksKGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUpKS5jb25zdHJ1Y3Rvcj1lLGUucHJvdG90eXBlLmdldERlZmF1bHQ9ZnVuY3Rpb24oKXtyZXR1cm4ge2Z1bmM6dGhpcy5nbC5BTFdBWVMscmVmOjAsbWFzazoyNTV9fSxlLnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5jdXJyZW50Oyh0LmZ1bmMhPT1lLmZ1bmN8fHQucmVmIT09ZS5yZWZ8fHQubWFzayE9PWUubWFza3x8dGhpcy5kaXJ0eSkmJih0aGlzLmdsLnN0ZW5jaWxGdW5jKHQuZnVuYyx0LnJlZix0Lm1hc2spLHRoaXMuY3VycmVudD10LHRoaXMuZGlydHk9ITEpO30sZX0ocSksSj1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7fXJldHVybiB0JiYoZS5fX3Byb3RvX189dCksKGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUpKS5jb25zdHJ1Y3Rvcj1lLGUucHJvdG90eXBlLmdldERlZmF1bHQ9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmdsO3JldHVybiBbdC5LRUVQLHQuS0VFUCx0LktFRVBdfSxlLnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5jdXJyZW50Oyh0WzBdIT09ZVswXXx8dFsxXSE9PWVbMV18fHRbMl0hPT1lWzJdfHx0aGlzLmRpcnR5KSYmKHRoaXMuZ2wuc3RlbmNpbE9wKHRbMF0sdFsxXSx0WzJdKSx0aGlzLmN1cnJlbnQ9dCx0aGlzLmRpcnR5PSExKTt9LGV9KHEpLFE9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3QuYXBwbHkodGhpcyxhcmd1bWVudHMpO31yZXR1cm4gdCYmKGUuX19wcm90b19fPXQpLChlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlKSkuY29uc3RydWN0b3I9ZSxlLnByb3RvdHlwZS5nZXREZWZhdWx0PWZ1bmN0aW9uKCl7cmV0dXJuICExfSxlLnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24odCl7aWYodCE9PXRoaXMuY3VycmVudHx8dGhpcy5kaXJ0eSl7dmFyIGU9dGhpcy5nbDt0P2UuZW5hYmxlKGUuU1RFTkNJTF9URVNUKTplLmRpc2FibGUoZS5TVEVOQ0lMX1RFU1QpLHRoaXMuY3VycmVudD10LHRoaXMuZGlydHk9ITE7fX0sZX0ocSksJD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7fXJldHVybiB0JiYoZS5fX3Byb3RvX189dCksKGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUpKS5jb25zdHJ1Y3Rvcj1lLGUucHJvdG90eXBlLmdldERlZmF1bHQ9ZnVuY3Rpb24oKXtyZXR1cm4gWzAsMV19LGUucHJvdG90eXBlLnNldD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLmN1cnJlbnQ7KHRbMF0hPT1lWzBdfHx0WzFdIT09ZVsxXXx8dGhpcy5kaXJ0eSkmJih0aGlzLmdsLmRlcHRoUmFuZ2UodFswXSx0WzFdKSx0aGlzLmN1cnJlbnQ9dCx0aGlzLmRpcnR5PSExKTt9LGV9KHEpLHR0PWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt0LmFwcGx5KHRoaXMsYXJndW1lbnRzKTt9cmV0dXJuIHQmJihlLl9fcHJvdG9fXz10KSwoZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSkpLmNvbnN0cnVjdG9yPWUsZS5wcm90b3R5cGUuZ2V0RGVmYXVsdD1mdW5jdGlvbigpe3JldHVybiAhMX0sZS5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKHQpe2lmKHQhPT10aGlzLmN1cnJlbnR8fHRoaXMuZGlydHkpe3ZhciBlPXRoaXMuZ2w7dD9lLmVuYWJsZShlLkRFUFRIX1RFU1QpOmUuZGlzYWJsZShlLkRFUFRIX1RFU1QpLHRoaXMuY3VycmVudD10LHRoaXMuZGlydHk9ITE7fX0sZX0ocSksZXQ9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3QuYXBwbHkodGhpcyxhcmd1bWVudHMpO31yZXR1cm4gdCYmKGUuX19wcm90b19fPXQpLChlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlKSkuY29uc3RydWN0b3I9ZSxlLnByb3RvdHlwZS5nZXREZWZhdWx0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2wuTEVTU30sZS5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKHQpeyh0IT09dGhpcy5jdXJyZW50fHx0aGlzLmRpcnR5KSYmKHRoaXMuZ2wuZGVwdGhGdW5jKHQpLHRoaXMuY3VycmVudD10LHRoaXMuZGlydHk9ITEpO30sZX0ocSksaXQ9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3QuYXBwbHkodGhpcyxhcmd1bWVudHMpO31yZXR1cm4gdCYmKGUuX19wcm90b19fPXQpLChlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlKSkuY29uc3RydWN0b3I9ZSxlLnByb3RvdHlwZS5nZXREZWZhdWx0PWZ1bmN0aW9uKCl7cmV0dXJuICExfSxlLnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24odCl7aWYodCE9PXRoaXMuY3VycmVudHx8dGhpcy5kaXJ0eSl7dmFyIGU9dGhpcy5nbDt0P2UuZW5hYmxlKGUuQkxFTkQpOmUuZGlzYWJsZShlLkJMRU5EKSx0aGlzLmN1cnJlbnQ9dCx0aGlzLmRpcnR5PSExO319LGV9KHEpLG90PWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt0LmFwcGx5KHRoaXMsYXJndW1lbnRzKTt9cmV0dXJuIHQmJihlLl9fcHJvdG9fXz10KSwoZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSkpLmNvbnN0cnVjdG9yPWUsZS5wcm90b3R5cGUuZ2V0RGVmYXVsdD1mdW5jdGlvbigpe3ZhciB0PXRoaXMuZ2w7cmV0dXJuIFt0Lk9ORSx0LlpFUk9dfSxlLnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5jdXJyZW50Oyh0WzBdIT09ZVswXXx8dFsxXSE9PWVbMV18fHRoaXMuZGlydHkpJiYodGhpcy5nbC5ibGVuZEZ1bmModFswXSx0WzFdKSx0aGlzLmN1cnJlbnQ9dCx0aGlzLmRpcnR5PSExKTt9LGV9KHEpLHJ0PWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIGkoKXtlLmFwcGx5KHRoaXMsYXJndW1lbnRzKTt9cmV0dXJuIGUmJihpLl9fcHJvdG9fXz1lKSwoaS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlJiZlLnByb3RvdHlwZSkpLmNvbnN0cnVjdG9yPWksaS5wcm90b3R5cGUuZ2V0RGVmYXVsdD1mdW5jdGlvbigpe3JldHVybiB0LkNvbG9yLnRyYW5zcGFyZW50fSxpLnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5jdXJyZW50Oyh0LnIhPT1lLnJ8fHQuZyE9PWUuZ3x8dC5iIT09ZS5ifHx0LmEhPT1lLmF8fHRoaXMuZGlydHkpJiYodGhpcy5nbC5ibGVuZENvbG9yKHQucix0LmcsdC5iLHQuYSksdGhpcy5jdXJyZW50PXQsdGhpcy5kaXJ0eT0hMSk7fSxpfShxKSxhdD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7fXJldHVybiB0JiYoZS5fX3Byb3RvX189dCksKGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUpKS5jb25zdHJ1Y3Rvcj1lLGUucHJvdG90eXBlLmdldERlZmF1bHQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nbC5GVU5DX0FERH0sZS5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKHQpeyh0IT09dGhpcy5jdXJyZW50fHx0aGlzLmRpcnR5KSYmKHRoaXMuZ2wuYmxlbmRFcXVhdGlvbih0KSx0aGlzLmN1cnJlbnQ9dCx0aGlzLmRpcnR5PSExKTt9LGV9KHEpLG50PWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt0LmFwcGx5KHRoaXMsYXJndW1lbnRzKTt9cmV0dXJuIHQmJihlLl9fcHJvdG9fXz10KSwoZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSkpLmNvbnN0cnVjdG9yPWUsZS5wcm90b3R5cGUuZ2V0RGVmYXVsdD1mdW5jdGlvbigpe3JldHVybiAhMX0sZS5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKHQpe2lmKHQhPT10aGlzLmN1cnJlbnR8fHRoaXMuZGlydHkpe3ZhciBlPXRoaXMuZ2w7dD9lLmVuYWJsZShlLkNVTExfRkFDRSk6ZS5kaXNhYmxlKGUuQ1VMTF9GQUNFKSx0aGlzLmN1cnJlbnQ9dCx0aGlzLmRpcnR5PSExO319LGV9KHEpLHN0PWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt0LmFwcGx5KHRoaXMsYXJndW1lbnRzKTt9cmV0dXJuIHQmJihlLl9fcHJvdG9fXz10KSwoZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSkpLmNvbnN0cnVjdG9yPWUsZS5wcm90b3R5cGUuZ2V0RGVmYXVsdD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdsLkJBQ0t9LGUucHJvdG90eXBlLnNldD1mdW5jdGlvbih0KXsodCE9PXRoaXMuY3VycmVudHx8dGhpcy5kaXJ0eSkmJih0aGlzLmdsLmN1bGxGYWNlKHQpLHRoaXMuY3VycmVudD10LHRoaXMuZGlydHk9ITEpO30sZX0ocSksbHQ9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3QuYXBwbHkodGhpcyxhcmd1bWVudHMpO31yZXR1cm4gdCYmKGUuX19wcm90b19fPXQpLChlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlKSkuY29uc3RydWN0b3I9ZSxlLnByb3RvdHlwZS5nZXREZWZhdWx0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2wuQ0NXfSxlLnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24odCl7KHQhPT10aGlzLmN1cnJlbnR8fHRoaXMuZGlydHkpJiYodGhpcy5nbC5mcm9udEZhY2UodCksdGhpcy5jdXJyZW50PXQsdGhpcy5kaXJ0eT0hMSk7fSxlfShxKSxjdD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7fXJldHVybiB0JiYoZS5fX3Byb3RvX189dCksKGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUpKS5jb25zdHJ1Y3Rvcj1lLGUucHJvdG90eXBlLmdldERlZmF1bHQ9ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbH0sZS5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKHQpeyh0IT09dGhpcy5jdXJyZW50fHx0aGlzLmRpcnR5KSYmKHRoaXMuZ2wudXNlUHJvZ3JhbSh0KSx0aGlzLmN1cnJlbnQ9dCx0aGlzLmRpcnR5PSExKTt9LGV9KHEpLHV0PWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt0LmFwcGx5KHRoaXMsYXJndW1lbnRzKTt9cmV0dXJuIHQmJihlLl9fcHJvdG9fXz10KSwoZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSkpLmNvbnN0cnVjdG9yPWUsZS5wcm90b3R5cGUuZ2V0RGVmYXVsdD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdsLlRFWFRVUkUwfSxlLnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24odCl7KHQhPT10aGlzLmN1cnJlbnR8fHRoaXMuZGlydHkpJiYodGhpcy5nbC5hY3RpdmVUZXh0dXJlKHQpLHRoaXMuY3VycmVudD10LHRoaXMuZGlydHk9ITEpO30sZX0ocSksaHQ9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3QuYXBwbHkodGhpcyxhcmd1bWVudHMpO31yZXR1cm4gdCYmKGUuX19wcm90b19fPXQpLChlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlKSkuY29uc3RydWN0b3I9ZSxlLnByb3RvdHlwZS5nZXREZWZhdWx0PWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5nbDtyZXR1cm4gWzAsMCx0LmRyYXdpbmdCdWZmZXJXaWR0aCx0LmRyYXdpbmdCdWZmZXJIZWlnaHRdfSxlLnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5jdXJyZW50Oyh0WzBdIT09ZVswXXx8dFsxXSE9PWVbMV18fHRbMl0hPT1lWzJdfHx0WzNdIT09ZVszXXx8dGhpcy5kaXJ0eSkmJih0aGlzLmdsLnZpZXdwb3J0KHRbMF0sdFsxXSx0WzJdLHRbM10pLHRoaXMuY3VycmVudD10LHRoaXMuZGlydHk9ITEpO30sZX0ocSkscHQ9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3QuYXBwbHkodGhpcyxhcmd1bWVudHMpO31yZXR1cm4gdCYmKGUuX19wcm90b19fPXQpLChlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlKSkuY29uc3RydWN0b3I9ZSxlLnByb3RvdHlwZS5nZXREZWZhdWx0PWZ1bmN0aW9uKCl7cmV0dXJuIG51bGx9LGUucHJvdG90eXBlLnNldD1mdW5jdGlvbih0KXtpZih0IT09dGhpcy5jdXJyZW50fHx0aGlzLmRpcnR5KXt2YXIgZT10aGlzLmdsO2UuYmluZEZyYW1lYnVmZmVyKGUuRlJBTUVCVUZGRVIsdCksdGhpcy5jdXJyZW50PXQsdGhpcy5kaXJ0eT0hMTt9fSxlfShxKSxkdD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7fXJldHVybiB0JiYoZS5fX3Byb3RvX189dCksKGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUpKS5jb25zdHJ1Y3Rvcj1lLGUucHJvdG90eXBlLmdldERlZmF1bHQ9ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbH0sZS5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKHQpe2lmKHQhPT10aGlzLmN1cnJlbnR8fHRoaXMuZGlydHkpe3ZhciBlPXRoaXMuZ2w7ZS5iaW5kUmVuZGVyYnVmZmVyKGUuUkVOREVSQlVGRkVSLHQpLHRoaXMuY3VycmVudD10LHRoaXMuZGlydHk9ITE7fX0sZX0ocSksX3Q9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3QuYXBwbHkodGhpcyxhcmd1bWVudHMpO31yZXR1cm4gdCYmKGUuX19wcm90b19fPXQpLChlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlKSkuY29uc3RydWN0b3I9ZSxlLnByb3RvdHlwZS5nZXREZWZhdWx0PWZ1bmN0aW9uKCl7cmV0dXJuIG51bGx9LGUucHJvdG90eXBlLnNldD1mdW5jdGlvbih0KXtpZih0IT09dGhpcy5jdXJyZW50fHx0aGlzLmRpcnR5KXt2YXIgZT10aGlzLmdsO2UuYmluZFRleHR1cmUoZS5URVhUVVJFXzJELHQpLHRoaXMuY3VycmVudD10LHRoaXMuZGlydHk9ITE7fX0sZX0ocSksZnQ9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3QuYXBwbHkodGhpcyxhcmd1bWVudHMpO31yZXR1cm4gdCYmKGUuX19wcm90b19fPXQpLChlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlKSkuY29uc3RydWN0b3I9ZSxlLnByb3RvdHlwZS5nZXREZWZhdWx0PWZ1bmN0aW9uKCl7cmV0dXJuIG51bGx9LGUucHJvdG90eXBlLnNldD1mdW5jdGlvbih0KXtpZih0IT09dGhpcy5jdXJyZW50fHx0aGlzLmRpcnR5KXt2YXIgZT10aGlzLmdsO2UuYmluZEJ1ZmZlcihlLkFSUkFZX0JVRkZFUix0KSx0aGlzLmN1cnJlbnQ9dCx0aGlzLmRpcnR5PSExO319LGV9KHEpLG10PWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt0LmFwcGx5KHRoaXMsYXJndW1lbnRzKTt9cmV0dXJuIHQmJihlLl9fcHJvdG9fXz10KSwoZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSkpLmNvbnN0cnVjdG9yPWUsZS5wcm90b3R5cGUuZ2V0RGVmYXVsdD1mdW5jdGlvbigpe3JldHVybiBudWxsfSxlLnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5nbDtlLmJpbmRCdWZmZXIoZS5FTEVNRU5UX0FSUkFZX0JVRkZFUix0KSx0aGlzLmN1cnJlbnQ9dCx0aGlzLmRpcnR5PSExO30sZX0ocSksZ3Q9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlKXt0LmNhbGwodGhpcyxlKSx0aGlzLnZhbz1lLmV4dFZlcnRleEFycmF5T2JqZWN0O31yZXR1cm4gdCYmKGUuX19wcm90b19fPXQpLChlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlKSkuY29uc3RydWN0b3I9ZSxlLnByb3RvdHlwZS5nZXREZWZhdWx0PWZ1bmN0aW9uKCl7cmV0dXJuIG51bGx9LGUucHJvdG90eXBlLnNldD1mdW5jdGlvbih0KXt0aGlzLnZhbyYmKHQhPT10aGlzLmN1cnJlbnR8fHRoaXMuZGlydHkpJiYodGhpcy52YW8uYmluZFZlcnRleEFycmF5T0VTKHQpLHRoaXMuY3VycmVudD10LHRoaXMuZGlydHk9ITEpO30sZX0ocSksdnQ9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3QuYXBwbHkodGhpcyxhcmd1bWVudHMpO31yZXR1cm4gdCYmKGUuX19wcm90b19fPXQpLChlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlKSkuY29uc3RydWN0b3I9ZSxlLnByb3RvdHlwZS5nZXREZWZhdWx0PWZ1bmN0aW9uKCl7cmV0dXJuIDR9LGUucHJvdG90eXBlLnNldD1mdW5jdGlvbih0KXtpZih0IT09dGhpcy5jdXJyZW50fHx0aGlzLmRpcnR5KXt2YXIgZT10aGlzLmdsO2UucGl4ZWxTdG9yZWkoZS5VTlBBQ0tfQUxJR05NRU5ULHQpLHRoaXMuY3VycmVudD10LHRoaXMuZGlydHk9ITE7fX0sZX0ocSkseXQ9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3QuYXBwbHkodGhpcyxhcmd1bWVudHMpO31yZXR1cm4gdCYmKGUuX19wcm90b19fPXQpLChlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlKSkuY29uc3RydWN0b3I9ZSxlLnByb3RvdHlwZS5nZXREZWZhdWx0PWZ1bmN0aW9uKCl7cmV0dXJuICExfSxlLnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24odCl7aWYodCE9PXRoaXMuY3VycmVudHx8dGhpcy5kaXJ0eSl7dmFyIGU9dGhpcy5nbDtlLnBpeGVsU3RvcmVpKGUuVU5QQUNLX1BSRU1VTFRJUExZX0FMUEhBX1dFQkdMLHQpLHRoaXMuY3VycmVudD10LHRoaXMuZGlydHk9ITE7fX0sZX0ocSkseHQ9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3QuYXBwbHkodGhpcyxhcmd1bWVudHMpO31yZXR1cm4gdCYmKGUuX19wcm90b19fPXQpLChlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlKSkuY29uc3RydWN0b3I9ZSxlLnByb3RvdHlwZS5nZXREZWZhdWx0PWZ1bmN0aW9uKCl7cmV0dXJuICExfSxlLnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24odCl7aWYodCE9PXRoaXMuY3VycmVudHx8dGhpcy5kaXJ0eSl7dmFyIGU9dGhpcy5nbDtlLnBpeGVsU3RvcmVpKGUuVU5QQUNLX0ZMSVBfWV9XRUJHTCx0KSx0aGlzLmN1cnJlbnQ9dCx0aGlzLmRpcnR5PSExO319LGV9KHEpLGJ0PWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxpKXt0LmNhbGwodGhpcyxlKSx0aGlzLmNvbnRleHQ9ZSx0aGlzLnBhcmVudD1pO31yZXR1cm4gdCYmKGUuX19wcm90b19fPXQpLChlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlKSkuY29uc3RydWN0b3I9ZSxlLnByb3RvdHlwZS5nZXREZWZhdWx0PWZ1bmN0aW9uKCl7cmV0dXJuIG51bGx9LGV9KHEpLHd0PWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt0LmFwcGx5KHRoaXMsYXJndW1lbnRzKTt9cmV0dXJuIHQmJihlLl9fcHJvdG9fXz10KSwoZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSkpLmNvbnN0cnVjdG9yPWUsZS5wcm90b3R5cGUuc2V0RGlydHk9ZnVuY3Rpb24oKXt0aGlzLmRpcnR5PSEwO30sZS5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKHQpe2lmKHQhPT10aGlzLmN1cnJlbnR8fHRoaXMuZGlydHkpe3RoaXMuY29udGV4dC5iaW5kRnJhbWVidWZmZXIuc2V0KHRoaXMucGFyZW50KTt2YXIgZT10aGlzLmdsO2UuZnJhbWVidWZmZXJUZXh0dXJlMkQoZS5GUkFNRUJVRkZFUixlLkNPTE9SX0FUVEFDSE1FTlQwLGUuVEVYVFVSRV8yRCx0LDApLHRoaXMuY3VycmVudD10LHRoaXMuZGlydHk9ITE7fX0sZX0oYnQpLFR0PWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt0LmFwcGx5KHRoaXMsYXJndW1lbnRzKTt9cmV0dXJuIHQmJihlLl9fcHJvdG9fXz10KSwoZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSkpLmNvbnN0cnVjdG9yPWUsZS5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKHQpe2lmKHQhPT10aGlzLmN1cnJlbnR8fHRoaXMuZGlydHkpe3RoaXMuY29udGV4dC5iaW5kRnJhbWVidWZmZXIuc2V0KHRoaXMucGFyZW50KTt2YXIgZT10aGlzLmdsO2UuZnJhbWVidWZmZXJSZW5kZXJidWZmZXIoZS5GUkFNRUJVRkZFUixlLkRFUFRIX0FUVEFDSE1FTlQsZS5SRU5ERVJCVUZGRVIsdCksdGhpcy5jdXJyZW50PXQsdGhpcy5kaXJ0eT0hMTt9fSxlfShidCksRXQ9ZnVuY3Rpb24odCxlLGksbyl7dGhpcy5jb250ZXh0PXQsdGhpcy53aWR0aD1lLHRoaXMuaGVpZ2h0PWk7dmFyIHI9dGhpcy5mcmFtZWJ1ZmZlcj10LmdsLmNyZWF0ZUZyYW1lYnVmZmVyKCk7dGhpcy5jb2xvckF0dGFjaG1lbnQ9bmV3IHd0KHQsciksbyYmKHRoaXMuZGVwdGhBdHRhY2htZW50PW5ldyBUdCh0LHIpKTt9O0V0LnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5jb250ZXh0LmdsLGU9dGhpcy5jb2xvckF0dGFjaG1lbnQuZ2V0KCk7aWYoZSYmdC5kZWxldGVUZXh0dXJlKGUpLHRoaXMuZGVwdGhBdHRhY2htZW50KXt2YXIgaT10aGlzLmRlcHRoQXR0YWNobWVudC5nZXQoKTtpJiZ0LmRlbGV0ZVJlbmRlcmJ1ZmZlcihpKTt9dC5kZWxldGVGcmFtZWJ1ZmZlcih0aGlzLmZyYW1lYnVmZmVyKTt9O3ZhciBJdD1mdW5jdGlvbih0LGUsaSl7dGhpcy5mdW5jPXQsdGhpcy5tYXNrPWUsdGhpcy5yYW5nZT1pO307SXQuUmVhZE9ubHk9ITEsSXQuUmVhZFdyaXRlPSEwLEl0LmRpc2FibGVkPW5ldyBJdCg1MTksSXQuUmVhZE9ubHksWzAsMV0pO3ZhciBQdD1mdW5jdGlvbih0LGUsaSxvLHIsYSl7dGhpcy50ZXN0PXQsdGhpcy5yZWY9ZSx0aGlzLm1hc2s9aSx0aGlzLmZhaWw9byx0aGlzLmRlcHRoRmFpbD1yLHRoaXMucGFzcz1hO307UHQuZGlzYWJsZWQ9bmV3IFB0KHtmdW5jOjUxOSxtYXNrOjB9LDAsMCw3NjgwLDc2ODAsNzY4MCk7dmFyIFN0PWZ1bmN0aW9uKHQsZSxpKXt0aGlzLmJsZW5kRnVuY3Rpb249dCx0aGlzLmJsZW5kQ29sb3I9ZSx0aGlzLm1hc2s9aTt9O1N0LmRpc2FibGVkPW5ldyBTdChTdC5SZXBsYWNlPVsxLDBdLHQuQ29sb3IudHJhbnNwYXJlbnQsWyExLCExLCExLCExXSksU3QudW5ibGVuZGVkPW5ldyBTdChTdC5SZXBsYWNlLHQuQ29sb3IudHJhbnNwYXJlbnQsWyEwLCEwLCEwLCEwXSksU3QuYWxwaGFCbGVuZGVkPW5ldyBTdChbMSw3NzFdLHQuQ29sb3IudHJhbnNwYXJlbnQsWyEwLCEwLCEwLCEwXSk7dmFyIEN0PWZ1bmN0aW9uKHQsZSxpKXt0aGlzLmVuYWJsZT10LHRoaXMubW9kZT1lLHRoaXMuZnJvbnRGYWNlPWk7fTtDdC5kaXNhYmxlZD1uZXcgQ3QoITEsMTAyOSwyMzA1KSxDdC5iYWNrQ0NXPW5ldyBDdCghMCwxMDI5LDIzMDUpO3ZhciB6dD1mdW5jdGlvbih0KXt0aGlzLmdsPXQsdGhpcy5leHRWZXJ0ZXhBcnJheU9iamVjdD10aGlzLmdsLmdldEV4dGVuc2lvbigiT0VTX3ZlcnRleF9hcnJheV9vYmplY3QiKSx0aGlzLmNsZWFyQ29sb3I9bmV3IFYodGhpcyksdGhpcy5jbGVhckRlcHRoPW5ldyBHKHRoaXMpLHRoaXMuY2xlYXJTdGVuY2lsPW5ldyBXKHRoaXMpLHRoaXMuY29sb3JNYXNrPW5ldyBYKHRoaXMpLHRoaXMuZGVwdGhNYXNrPW5ldyBIKHRoaXMpLHRoaXMuc3RlbmNpbE1hc2s9bmV3IEsodGhpcyksdGhpcy5zdGVuY2lsRnVuYz1uZXcgWSh0aGlzKSx0aGlzLnN0ZW5jaWxPcD1uZXcgSih0aGlzKSx0aGlzLnN0ZW5jaWxUZXN0PW5ldyBRKHRoaXMpLHRoaXMuZGVwdGhSYW5nZT1uZXcgJCh0aGlzKSx0aGlzLmRlcHRoVGVzdD1uZXcgdHQodGhpcyksdGhpcy5kZXB0aEZ1bmM9bmV3IGV0KHRoaXMpLHRoaXMuYmxlbmQ9bmV3IGl0KHRoaXMpLHRoaXMuYmxlbmRGdW5jPW5ldyBvdCh0aGlzKSx0aGlzLmJsZW5kQ29sb3I9bmV3IHJ0KHRoaXMpLHRoaXMuYmxlbmRFcXVhdGlvbj1uZXcgYXQodGhpcyksdGhpcy5jdWxsRmFjZT1uZXcgbnQodGhpcyksdGhpcy5jdWxsRmFjZVNpZGU9bmV3IHN0KHRoaXMpLHRoaXMuZnJvbnRGYWNlPW5ldyBsdCh0aGlzKSx0aGlzLnByb2dyYW09bmV3IGN0KHRoaXMpLHRoaXMuYWN0aXZlVGV4dHVyZT1uZXcgdXQodGhpcyksdGhpcy52aWV3cG9ydD1uZXcgaHQodGhpcyksdGhpcy5iaW5kRnJhbWVidWZmZXI9bmV3IHB0KHRoaXMpLHRoaXMuYmluZFJlbmRlcmJ1ZmZlcj1uZXcgZHQodGhpcyksdGhpcy5iaW5kVGV4dHVyZT1uZXcgX3QodGhpcyksdGhpcy5iaW5kVmVydGV4QnVmZmVyPW5ldyBmdCh0aGlzKSx0aGlzLmJpbmRFbGVtZW50QnVmZmVyPW5ldyBtdCh0aGlzKSx0aGlzLmJpbmRWZXJ0ZXhBcnJheU9FUz10aGlzLmV4dFZlcnRleEFycmF5T2JqZWN0JiZuZXcgZ3QodGhpcyksdGhpcy5waXhlbFN0b3JlVW5wYWNrPW5ldyB2dCh0aGlzKSx0aGlzLnBpeGVsU3RvcmVVbnBhY2tQcmVtdWx0aXBseUFscGhhPW5ldyB5dCh0aGlzKSx0aGlzLnBpeGVsU3RvcmVVbnBhY2tGbGlwWT1uZXcgeHQodGhpcyksdGhpcy5leHRUZXh0dXJlRmlsdGVyQW5pc290cm9waWM9dC5nZXRFeHRlbnNpb24oIkVYVF90ZXh0dXJlX2ZpbHRlcl9hbmlzb3Ryb3BpYyIpfHx0LmdldEV4dGVuc2lvbigiTU9aX0VYVF90ZXh0dXJlX2ZpbHRlcl9hbmlzb3Ryb3BpYyIpfHx0LmdldEV4dGVuc2lvbigiV0VCS0lUX0VYVF90ZXh0dXJlX2ZpbHRlcl9hbmlzb3Ryb3BpYyIpLHRoaXMuZXh0VGV4dHVyZUZpbHRlckFuaXNvdHJvcGljJiYodGhpcy5leHRUZXh0dXJlRmlsdGVyQW5pc290cm9waWNNYXg9dC5nZXRQYXJhbWV0ZXIodGhpcy5leHRUZXh0dXJlRmlsdGVyQW5pc290cm9waWMuTUFYX1RFWFRVUkVfTUFYX0FOSVNPVFJPUFlfRVhUKSksdGhpcy5leHRUZXh0dXJlSGFsZkZsb2F0PXQuZ2V0RXh0ZW5zaW9uKCJPRVNfdGV4dHVyZV9oYWxmX2Zsb2F0IiksdGhpcy5leHRUZXh0dXJlSGFsZkZsb2F0JiYodC5nZXRFeHRlbnNpb24oIk9FU190ZXh0dXJlX2hhbGZfZmxvYXRfbGluZWFyIiksdGhpcy5leHRSZW5kZXJUb1RleHR1cmVIYWxmRmxvYXQ9dC5nZXRFeHRlbnNpb24oIkVYVF9jb2xvcl9idWZmZXJfaGFsZl9mbG9hdCIpKSx0aGlzLmV4dFRpbWVyUXVlcnk9dC5nZXRFeHRlbnNpb24oIkVYVF9kaXNqb2ludF90aW1lcl9xdWVyeSIpO307enQucHJvdG90eXBlLnNldERlZmF1bHQ9ZnVuY3Rpb24oKXt0aGlzLnVuYmluZFZBTygpLHRoaXMuY2xlYXJDb2xvci5zZXREZWZhdWx0KCksdGhpcy5jbGVhckRlcHRoLnNldERlZmF1bHQoKSx0aGlzLmNsZWFyU3RlbmNpbC5zZXREZWZhdWx0KCksdGhpcy5jb2xvck1hc2suc2V0RGVmYXVsdCgpLHRoaXMuZGVwdGhNYXNrLnNldERlZmF1bHQoKSx0aGlzLnN0ZW5jaWxNYXNrLnNldERlZmF1bHQoKSx0aGlzLnN0ZW5jaWxGdW5jLnNldERlZmF1bHQoKSx0aGlzLnN0ZW5jaWxPcC5zZXREZWZhdWx0KCksdGhpcy5zdGVuY2lsVGVzdC5zZXREZWZhdWx0KCksdGhpcy5kZXB0aFJhbmdlLnNldERlZmF1bHQoKSx0aGlzLmRlcHRoVGVzdC5zZXREZWZhdWx0KCksdGhpcy5kZXB0aEZ1bmMuc2V0RGVmYXVsdCgpLHRoaXMuYmxlbmQuc2V0RGVmYXVsdCgpLHRoaXMuYmxlbmRGdW5jLnNldERlZmF1bHQoKSx0aGlzLmJsZW5kQ29sb3Iuc2V0RGVmYXVsdCgpLHRoaXMuYmxlbmRFcXVhdGlvbi5zZXREZWZhdWx0KCksdGhpcy5jdWxsRmFjZS5zZXREZWZhdWx0KCksdGhpcy5jdWxsRmFjZVNpZGUuc2V0RGVmYXVsdCgpLHRoaXMuZnJvbnRGYWNlLnNldERlZmF1bHQoKSx0aGlzLnByb2dyYW0uc2V0RGVmYXVsdCgpLHRoaXMuYWN0aXZlVGV4dHVyZS5zZXREZWZhdWx0KCksdGhpcy5iaW5kRnJhbWVidWZmZXIuc2V0RGVmYXVsdCgpLHRoaXMucGl4ZWxTdG9yZVVucGFjay5zZXREZWZhdWx0KCksdGhpcy5waXhlbFN0b3JlVW5wYWNrUHJlbXVsdGlwbHlBbHBoYS5zZXREZWZhdWx0KCksdGhpcy5waXhlbFN0b3JlVW5wYWNrRmxpcFkuc2V0RGVmYXVsdCgpO30senQucHJvdG90eXBlLnNldERpcnR5PWZ1bmN0aW9uKCl7dGhpcy5jbGVhckNvbG9yLmRpcnR5PSEwLHRoaXMuY2xlYXJEZXB0aC5kaXJ0eT0hMCx0aGlzLmNsZWFyU3RlbmNpbC5kaXJ0eT0hMCx0aGlzLmNvbG9yTWFzay5kaXJ0eT0hMCx0aGlzLmRlcHRoTWFzay5kaXJ0eT0hMCx0aGlzLnN0ZW5jaWxNYXNrLmRpcnR5PSEwLHRoaXMuc3RlbmNpbEZ1bmMuZGlydHk9ITAsdGhpcy5zdGVuY2lsT3AuZGlydHk9ITAsdGhpcy5zdGVuY2lsVGVzdC5kaXJ0eT0hMCx0aGlzLmRlcHRoUmFuZ2UuZGlydHk9ITAsdGhpcy5kZXB0aFRlc3QuZGlydHk9ITAsdGhpcy5kZXB0aEZ1bmMuZGlydHk9ITAsdGhpcy5ibGVuZC5kaXJ0eT0hMCx0aGlzLmJsZW5kRnVuYy5kaXJ0eT0hMCx0aGlzLmJsZW5kQ29sb3IuZGlydHk9ITAsdGhpcy5ibGVuZEVxdWF0aW9uLmRpcnR5PSEwLHRoaXMuY3VsbEZhY2UuZGlydHk9ITAsdGhpcy5jdWxsRmFjZVNpZGUuZGlydHk9ITAsdGhpcy5mcm9udEZhY2UuZGlydHk9ITAsdGhpcy5wcm9ncmFtLmRpcnR5PSEwLHRoaXMuYWN0aXZlVGV4dHVyZS5kaXJ0eT0hMCx0aGlzLnZpZXdwb3J0LmRpcnR5PSEwLHRoaXMuYmluZEZyYW1lYnVmZmVyLmRpcnR5PSEwLHRoaXMuYmluZFJlbmRlcmJ1ZmZlci5kaXJ0eT0hMCx0aGlzLmJpbmRUZXh0dXJlLmRpcnR5PSEwLHRoaXMuYmluZFZlcnRleEJ1ZmZlci5kaXJ0eT0hMCx0aGlzLmJpbmRFbGVtZW50QnVmZmVyLmRpcnR5PSEwLHRoaXMuZXh0VmVydGV4QXJyYXlPYmplY3QmJih0aGlzLmJpbmRWZXJ0ZXhBcnJheU9FUy5kaXJ0eT0hMCksdGhpcy5waXhlbFN0b3JlVW5wYWNrLmRpcnR5PSEwLHRoaXMucGl4ZWxTdG9yZVVucGFja1ByZW11bHRpcGx5QWxwaGEuZGlydHk9ITAsdGhpcy5waXhlbFN0b3JlVW5wYWNrRmxpcFkuZGlydHk9ITA7fSx6dC5wcm90b3R5cGUuY3JlYXRlSW5kZXhCdWZmZXI9ZnVuY3Rpb24odCxlKXtyZXR1cm4gbmV3IE4odGhpcyx0LGUpfSx6dC5wcm90b3R5cGUuY3JlYXRlVmVydGV4QnVmZmVyPWZ1bmN0aW9uKHQsZSxpKXtyZXR1cm4gbmV3IGoodGhpcyx0LGUsaSl9LHp0LnByb3RvdHlwZS5jcmVhdGVSZW5kZXJidWZmZXI9ZnVuY3Rpb24odCxlLGkpe3ZhciBvPXRoaXMuZ2wscj1vLmNyZWF0ZVJlbmRlcmJ1ZmZlcigpO3JldHVybiB0aGlzLmJpbmRSZW5kZXJidWZmZXIuc2V0KHIpLG8ucmVuZGVyYnVmZmVyU3RvcmFnZShvLlJFTkRFUkJVRkZFUix0LGUsaSksdGhpcy5iaW5kUmVuZGVyYnVmZmVyLnNldChudWxsKSxyfSx6dC5wcm90b3R5cGUuY3JlYXRlRnJhbWVidWZmZXI9ZnVuY3Rpb24odCxlLGkpe3JldHVybiBuZXcgRXQodGhpcyx0LGUsaSl9LHp0LnByb3RvdHlwZS5jbGVhcj1mdW5jdGlvbih0KXt2YXIgZT10LmNvbG9yLGk9dC5kZXB0aCxvPXRoaXMuZ2wscj0wO2UmJihyfD1vLkNPTE9SX0JVRkZFUl9CSVQsdGhpcy5jbGVhckNvbG9yLnNldChlKSx0aGlzLmNvbG9yTWFzay5zZXQoWyEwLCEwLCEwLCEwXSkpLHZvaWQgMCE9PWkmJihyfD1vLkRFUFRIX0JVRkZFUl9CSVQsdGhpcy5kZXB0aFJhbmdlLnNldChbMCwxXSksdGhpcy5jbGVhckRlcHRoLnNldChpKSx0aGlzLmRlcHRoTWFzay5zZXQoITApKSxvLmNsZWFyKHIpO30senQucHJvdG90eXBlLnNldEN1bGxGYWNlPWZ1bmN0aW9uKHQpeyExPT09dC5lbmFibGU/dGhpcy5jdWxsRmFjZS5zZXQoITEpOih0aGlzLmN1bGxGYWNlLnNldCghMCksdGhpcy5jdWxsRmFjZVNpZGUuc2V0KHQubW9kZSksdGhpcy5mcm9udEZhY2Uuc2V0KHQuZnJvbnRGYWNlKSk7fSx6dC5wcm90b3R5cGUuc2V0RGVwdGhNb2RlPWZ1bmN0aW9uKHQpe3QuZnVuYyE9PXRoaXMuZ2wuQUxXQVlTfHx0Lm1hc2s/KHRoaXMuZGVwdGhUZXN0LnNldCghMCksdGhpcy5kZXB0aEZ1bmMuc2V0KHQuZnVuYyksdGhpcy5kZXB0aE1hc2suc2V0KHQubWFzayksdGhpcy5kZXB0aFJhbmdlLnNldCh0LnJhbmdlKSk6dGhpcy5kZXB0aFRlc3Quc2V0KCExKTt9LHp0LnByb3RvdHlwZS5zZXRTdGVuY2lsTW9kZT1mdW5jdGlvbih0KXt0LnRlc3QuZnVuYyE9PXRoaXMuZ2wuQUxXQVlTfHx0Lm1hc2s/KHRoaXMuc3RlbmNpbFRlc3Quc2V0KCEwKSx0aGlzLnN0ZW5jaWxNYXNrLnNldCh0Lm1hc2spLHRoaXMuc3RlbmNpbE9wLnNldChbdC5mYWlsLHQuZGVwdGhGYWlsLHQucGFzc10pLHRoaXMuc3RlbmNpbEZ1bmMuc2V0KHtmdW5jOnQudGVzdC5mdW5jLHJlZjp0LnJlZixtYXNrOnQudGVzdC5tYXNrfSkpOnRoaXMuc3RlbmNpbFRlc3Quc2V0KCExKTt9LHp0LnByb3RvdHlwZS5zZXRDb2xvck1vZGU9ZnVuY3Rpb24oZSl7dC5kZWVwRXF1YWwoZS5ibGVuZEZ1bmN0aW9uLFN0LlJlcGxhY2UpP3RoaXMuYmxlbmQuc2V0KCExKToodGhpcy5ibGVuZC5zZXQoITApLHRoaXMuYmxlbmRGdW5jLnNldChlLmJsZW5kRnVuY3Rpb24pLHRoaXMuYmxlbmRDb2xvci5zZXQoZS5ibGVuZENvbG9yKSksdGhpcy5jb2xvck1hc2suc2V0KGUubWFzayk7fSx6dC5wcm90b3R5cGUudW5iaW5kVkFPPWZ1bmN0aW9uKCl7dGhpcy5leHRWZXJ0ZXhBcnJheU9iamVjdCYmdGhpcy5iaW5kVmVydGV4QXJyYXlPRVMuc2V0KG51bGwpO307dmFyIER0PWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIGkoaSxvLHIpe3ZhciBhPXRoaXM7ZS5jYWxsKHRoaXMpLHRoaXMuaWQ9aSx0aGlzLmRpc3BhdGNoZXI9cix0aGlzLm9uKCJkYXRhIiwoZnVuY3Rpb24odCl7InNvdXJjZSI9PT10LmRhdGFUeXBlJiYibWV0YWRhdGEiPT09dC5zb3VyY2VEYXRhVHlwZSYmKGEuX3NvdXJjZUxvYWRlZD0hMCksYS5fc291cmNlTG9hZGVkJiYhYS5fcGF1c2VkJiYic291cmNlIj09PXQuZGF0YVR5cGUmJiJjb250ZW50Ij09PXQuc291cmNlRGF0YVR5cGUmJihhLnJlbG9hZCgpLGEudHJhbnNmb3JtJiZhLnVwZGF0ZShhLnRyYW5zZm9ybSkpO30pKSx0aGlzLm9uKCJlcnJvciIsKGZ1bmN0aW9uKCl7YS5fc291cmNlRXJyb3JlZD0hMDt9KSksdGhpcy5fc291cmNlPWZ1bmN0aW9uKGUsaSxvLHIpe3ZhciBhPW5ldyBrW2kudHlwZV0oZSxpLG8scik7aWYoYS5pZCE9PWUpdGhyb3cgbmV3IEVycm9yKCJFeHBlY3RlZCBTb3VyY2UgaWQgdG8gYmUgIitlKyIgaW5zdGVhZCBvZiAiK2EuaWQpO3JldHVybiB0LmJpbmRBbGwoWyJsb2FkIiwiYWJvcnQiLCJ1bmxvYWQiLCJzZXJpYWxpemUiLCJwcmVwYXJlIl0sYSksYX0oaSxvLHIsdGhpcyksdGhpcy5fdGlsZXM9e30sdGhpcy5fY2FjaGU9bmV3IFUoMCx0aGlzLl91bmxvYWRUaWxlLmJpbmQodGhpcykpLHRoaXMuX3RpbWVycz17fSx0aGlzLl9jYWNoZVRpbWVycz17fSx0aGlzLl9tYXhUaWxlQ2FjaGVTaXplPW51bGwsdGhpcy5fbG9hZGVkUGFyZW50VGlsZXM9e30sdGhpcy5fY292ZXJlZFRpbGVzPXt9LHRoaXMuX3N0YXRlPW5ldyB0LlNvdXJjZUZlYXR1cmVTdGF0ZTt9cmV0dXJuIGUmJihpLl9fcHJvdG9fXz1lKSwoaS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlJiZlLnByb3RvdHlwZSkpLmNvbnN0cnVjdG9yPWksaS5wcm90b3R5cGUub25BZGQ9ZnVuY3Rpb24odCl7dGhpcy5tYXA9dCx0aGlzLl9tYXhUaWxlQ2FjaGVTaXplPXQ/dC5fbWF4VGlsZUNhY2hlU2l6ZTpudWxsLHRoaXMuX3NvdXJjZSYmdGhpcy5fc291cmNlLm9uQWRkJiZ0aGlzLl9zb3VyY2Uub25BZGQodCk7fSxpLnByb3RvdHlwZS5vblJlbW92ZT1mdW5jdGlvbih0KXt0aGlzLl9zb3VyY2UmJnRoaXMuX3NvdXJjZS5vblJlbW92ZSYmdGhpcy5fc291cmNlLm9uUmVtb3ZlKHQpO30saS5wcm90b3R5cGUubG9hZGVkPWZ1bmN0aW9uKCl7aWYodGhpcy5fc291cmNlRXJyb3JlZClyZXR1cm4gITA7aWYoIXRoaXMuX3NvdXJjZUxvYWRlZClyZXR1cm4gITE7aWYoIXRoaXMuX3NvdXJjZS5sb2FkZWQoKSlyZXR1cm4gITE7Zm9yKHZhciB0IGluIHRoaXMuX3RpbGVzKXt2YXIgZT10aGlzLl90aWxlc1t0XTtpZigibG9hZGVkIiE9PWUuc3RhdGUmJiJlcnJvcmVkIiE9PWUuc3RhdGUpcmV0dXJuICExfXJldHVybiAhMH0saS5wcm90b3R5cGUuZ2V0U291cmNlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NvdXJjZX0saS5wcm90b3R5cGUucGF1c2U9ZnVuY3Rpb24oKXt0aGlzLl9wYXVzZWQ9ITA7fSxpLnByb3RvdHlwZS5yZXN1bWU9ZnVuY3Rpb24oKXtpZih0aGlzLl9wYXVzZWQpe3ZhciB0PXRoaXMuX3Nob3VsZFJlbG9hZE9uUmVzdW1lO3RoaXMuX3BhdXNlZD0hMSx0aGlzLl9zaG91bGRSZWxvYWRPblJlc3VtZT0hMSx0JiZ0aGlzLnJlbG9hZCgpLHRoaXMudHJhbnNmb3JtJiZ0aGlzLnVwZGF0ZSh0aGlzLnRyYW5zZm9ybSk7fX0saS5wcm90b3R5cGUuX2xvYWRUaWxlPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuX3NvdXJjZS5sb2FkVGlsZSh0LGUpfSxpLnByb3RvdHlwZS5fdW5sb2FkVGlsZT1mdW5jdGlvbih0KXtpZih0aGlzLl9zb3VyY2UudW5sb2FkVGlsZSlyZXR1cm4gdGhpcy5fc291cmNlLnVubG9hZFRpbGUodCwoZnVuY3Rpb24oKXt9KSl9LGkucHJvdG90eXBlLl9hYm9ydFRpbGU9ZnVuY3Rpb24odCl7aWYodGhpcy5fc291cmNlLmFib3J0VGlsZSlyZXR1cm4gdGhpcy5fc291cmNlLmFib3J0VGlsZSh0LChmdW5jdGlvbigpe30pKX0saS5wcm90b3R5cGUuc2VyaWFsaXplPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NvdXJjZS5zZXJpYWxpemUoKX0saS5wcm90b3R5cGUucHJlcGFyZT1mdW5jdGlvbih0KXtmb3IodmFyIGUgaW4gdGhpcy5fc291cmNlLnByZXBhcmUmJnRoaXMuX3NvdXJjZS5wcmVwYXJlKCksdGhpcy5fc3RhdGUuY29hbGVzY2VDaGFuZ2VzKHRoaXMuX3RpbGVzLHRoaXMubWFwP3RoaXMubWFwLnBhaW50ZXI6bnVsbCksdGhpcy5fdGlsZXMpe3ZhciBpPXRoaXMuX3RpbGVzW2VdO2kudXBsb2FkKHQpLGkucHJlcGFyZSh0aGlzLm1hcC5zdHlsZS5pbWFnZU1hbmFnZXIpO319LGkucHJvdG90eXBlLmdldElkcz1mdW5jdGlvbigpe3JldHVybiB0LnZhbHVlcyh0aGlzLl90aWxlcykubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gdC50aWxlSUR9KSkuc29ydChNdCkubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gdC5rZXl9KSl9LGkucHJvdG90eXBlLmdldFJlbmRlcmFibGVJZHM9ZnVuY3Rpb24oZSl7dmFyIGk9dGhpcyxvPVtdO2Zvcih2YXIgciBpbiB0aGlzLl90aWxlcyl0aGlzLl9pc0lkUmVuZGVyYWJsZShyLGUpJiZvLnB1c2godGhpcy5fdGlsZXNbcl0pO3JldHVybiBlP28uc29ydCgoZnVuY3Rpb24oZSxvKXt2YXIgcj1lLnRpbGVJRCxhPW8udGlsZUlELG49bmV3IHQuUG9pbnQoci5jYW5vbmljYWwueCxyLmNhbm9uaWNhbC55KS5fcm90YXRlKGkudHJhbnNmb3JtLmFuZ2xlKSxzPW5ldyB0LlBvaW50KGEuY2Fub25pY2FsLngsYS5jYW5vbmljYWwueSkuX3JvdGF0ZShpLnRyYW5zZm9ybS5hbmdsZSk7cmV0dXJuIHIub3ZlcnNjYWxlZFotYS5vdmVyc2NhbGVkWnx8cy55LW4ueXx8cy54LW4ueH0pKS5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiB0LnRpbGVJRC5rZXl9KSk6by5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiB0LnRpbGVJRH0pKS5zb3J0KE10KS5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiB0LmtleX0pKX0saS5wcm90b3R5cGUuaGFzUmVuZGVyYWJsZVBhcmVudD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLmZpbmRMb2FkZWRQYXJlbnQodCwwKTtyZXR1cm4gISFlJiZ0aGlzLl9pc0lkUmVuZGVyYWJsZShlLnRpbGVJRC5rZXkpfSxpLnByb3RvdHlwZS5faXNJZFJlbmRlcmFibGU9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5fdGlsZXNbdF0mJnRoaXMuX3RpbGVzW3RdLmhhc0RhdGEoKSYmIXRoaXMuX2NvdmVyZWRUaWxlc1t0XSYmKGV8fCF0aGlzLl90aWxlc1t0XS5ob2xkaW5nRm9yRmFkZSgpKX0saS5wcm90b3R5cGUucmVsb2FkPWZ1bmN0aW9uKCl7aWYodGhpcy5fcGF1c2VkKXRoaXMuX3Nob3VsZFJlbG9hZE9uUmVzdW1lPSEwO2Vsc2UgZm9yKHZhciB0IGluIHRoaXMuX2NhY2hlLnJlc2V0KCksdGhpcy5fdGlsZXMpImVycm9yZWQiIT09dGhpcy5fdGlsZXNbdF0uc3RhdGUmJnRoaXMuX3JlbG9hZFRpbGUodCwicmVsb2FkaW5nIik7fSxpLnByb3RvdHlwZS5fcmVsb2FkVGlsZT1mdW5jdGlvbih0LGUpe3ZhciBpPXRoaXMuX3RpbGVzW3RdO2kmJigibG9hZGluZyIhPT1pLnN0YXRlJiYoaS5zdGF0ZT1lKSx0aGlzLl9sb2FkVGlsZShpLHRoaXMuX3RpbGVMb2FkZWQuYmluZCh0aGlzLGksdCxlKSkpO30saS5wcm90b3R5cGUuX3RpbGVMb2FkZWQ9ZnVuY3Rpb24oZSxpLG8scil7aWYocilyZXR1cm4gZS5zdGF0ZT0iZXJyb3JlZCIsdm9pZCg0MDQhPT1yLnN0YXR1cz90aGlzLl9zb3VyY2UuZmlyZShuZXcgdC5FcnJvckV2ZW50KHIse3RpbGU6ZX0pKTp0aGlzLnVwZGF0ZSh0aGlzLnRyYW5zZm9ybSkpO2UudGltZUFkZGVkPXQuYnJvd3Nlci5ub3coKSwiZXhwaXJlZCI9PT1vJiYoZS5yZWZyZXNoZWRVcG9uRXhwaXJhdGlvbj0hMCksdGhpcy5fc2V0VGlsZVJlbG9hZFRpbWVyKGksZSksInJhc3Rlci1kZW0iPT09dGhpcy5nZXRTb3VyY2UoKS50eXBlJiZlLmRlbSYmdGhpcy5fYmFja2ZpbGxERU0oZSksdGhpcy5fc3RhdGUuaW5pdGlhbGl6ZVRpbGVTdGF0ZShlLHRoaXMubWFwP3RoaXMubWFwLnBhaW50ZXI6bnVsbCksdGhpcy5fc291cmNlLmZpcmUobmV3IHQuRXZlbnQoImRhdGEiLHtkYXRhVHlwZToic291cmNlIix0aWxlOmUsY29vcmQ6ZS50aWxlSUR9KSk7fSxpLnByb3RvdHlwZS5fYmFja2ZpbGxERU09ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXRoaXMuZ2V0UmVuZGVyYWJsZUlkcygpLGk9MDtpPGUubGVuZ3RoO2krKyl7dmFyIG89ZVtpXTtpZih0Lm5laWdoYm9yaW5nVGlsZXMmJnQubmVpZ2hib3JpbmdUaWxlc1tvXSl7dmFyIHI9dGhpcy5nZXRUaWxlQnlJRChvKTthKHQsciksYShyLHQpO319ZnVuY3Rpb24gYSh0LGUpe3QubmVlZHNIaWxsc2hhZGVQcmVwYXJlPSEwO3ZhciBpPWUudGlsZUlELmNhbm9uaWNhbC54LXQudGlsZUlELmNhbm9uaWNhbC54LG89ZS50aWxlSUQuY2Fub25pY2FsLnktdC50aWxlSUQuY2Fub25pY2FsLnkscj1NYXRoLnBvdygyLHQudGlsZUlELmNhbm9uaWNhbC56KSxhPWUudGlsZUlELmtleTswPT09aSYmMD09PW98fE1hdGguYWJzKG8pPjF8fChNYXRoLmFicyhpKT4xJiYoMT09PU1hdGguYWJzKGkrcik/aSs9cjoxPT09TWF0aC5hYnMoaS1yKSYmKGktPXIpKSxlLmRlbSYmdC5kZW0mJih0LmRlbS5iYWNrZmlsbEJvcmRlcihlLmRlbSxpLG8pLHQubmVpZ2hib3JpbmdUaWxlcyYmdC5uZWlnaGJvcmluZ1RpbGVzW2FdJiYodC5uZWlnaGJvcmluZ1RpbGVzW2FdLmJhY2tmaWxsZWQ9ITApKSk7fX0saS5wcm90b3R5cGUuZ2V0VGlsZT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5nZXRUaWxlQnlJRCh0LmtleSl9LGkucHJvdG90eXBlLmdldFRpbGVCeUlEPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl90aWxlc1t0XX0saS5wcm90b3R5cGUuX3JldGFpbkxvYWRlZENoaWxkcmVuPWZ1bmN0aW9uKHQsZSxpLG8pe2Zvcih2YXIgciBpbiB0aGlzLl90aWxlcyl7dmFyIGE9dGhpcy5fdGlsZXNbcl07aWYoIShvW3JdfHwhYS5oYXNEYXRhKCl8fGEudGlsZUlELm92ZXJzY2FsZWRaPD1lfHxhLnRpbGVJRC5vdmVyc2NhbGVkWj5pKSl7Zm9yKHZhciBuPWEudGlsZUlEO2EmJmEudGlsZUlELm92ZXJzY2FsZWRaPmUrMTspe3ZhciBzPWEudGlsZUlELnNjYWxlZFRvKGEudGlsZUlELm92ZXJzY2FsZWRaLTEpOyhhPXRoaXMuX3RpbGVzW3Mua2V5XSkmJmEuaGFzRGF0YSgpJiYobj1zKTt9Zm9yKHZhciBsPW47bC5vdmVyc2NhbGVkWj5lOylpZih0WyhsPWwuc2NhbGVkVG8obC5vdmVyc2NhbGVkWi0xKSkua2V5XSl7b1tuLmtleV09bjticmVha319fX0saS5wcm90b3R5cGUuZmluZExvYWRlZFBhcmVudD1mdW5jdGlvbih0LGUpe2lmKHQua2V5IGluIHRoaXMuX2xvYWRlZFBhcmVudFRpbGVzKXt2YXIgaT10aGlzLl9sb2FkZWRQYXJlbnRUaWxlc1t0LmtleV07cmV0dXJuIGkmJmkudGlsZUlELm92ZXJzY2FsZWRaPj1lP2k6bnVsbH1mb3IodmFyIG89dC5vdmVyc2NhbGVkWi0xO28+PWU7by0tKXt2YXIgcj10LnNjYWxlZFRvKG8pLGE9dGhpcy5fZ2V0TG9hZGVkVGlsZShyKTtpZihhKXJldHVybiBhfX0saS5wcm90b3R5cGUuX2dldExvYWRlZFRpbGU9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fdGlsZXNbdC5rZXldO3JldHVybiBlJiZlLmhhc0RhdGEoKT9lOnRoaXMuX2NhY2hlLmdldEJ5S2V5KHQud3JhcHBlZCgpLmtleSl9LGkucHJvdG90eXBlLnVwZGF0ZUNhY2hlU2l6ZT1mdW5jdGlvbih0KXt2YXIgZT1NYXRoLmNlaWwodC53aWR0aC90aGlzLl9zb3VyY2UudGlsZVNpemUpKzEsaT1NYXRoLmNlaWwodC5oZWlnaHQvdGhpcy5fc291cmNlLnRpbGVTaXplKSsxLG89TWF0aC5mbG9vcihlKmkqNSkscj0ibnVtYmVyIj09dHlwZW9mIHRoaXMuX21heFRpbGVDYWNoZVNpemU/TWF0aC5taW4odGhpcy5fbWF4VGlsZUNhY2hlU2l6ZSxvKTpvO3RoaXMuX2NhY2hlLnNldE1heFNpemUocik7fSxpLnByb3RvdHlwZS5oYW5kbGVXcmFwSnVtcD1mdW5jdGlvbih0KXt2YXIgZT1NYXRoLnJvdW5kKCh0LSh2b2lkIDA9PT10aGlzLl9wcmV2TG5nP3Q6dGhpcy5fcHJldkxuZykpLzM2MCk7aWYodGhpcy5fcHJldkxuZz10LGUpe3ZhciBpPXt9O2Zvcih2YXIgbyBpbiB0aGlzLl90aWxlcyl7dmFyIHI9dGhpcy5fdGlsZXNbb107ci50aWxlSUQ9ci50aWxlSUQudW53cmFwVG8oci50aWxlSUQud3JhcCtlKSxpW3IudGlsZUlELmtleV09cjt9Zm9yKHZhciBhIGluIHRoaXMuX3RpbGVzPWksdGhpcy5fdGltZXJzKWNsZWFyVGltZW91dCh0aGlzLl90aW1lcnNbYV0pLGRlbGV0ZSB0aGlzLl90aW1lcnNbYV07Zm9yKHZhciBuIGluIHRoaXMuX3RpbGVzKXRoaXMuX3NldFRpbGVSZWxvYWRUaW1lcihuLHRoaXMuX3RpbGVzW25dKTt9fSxpLnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24oZSl7dmFyIG89dGhpcztpZih0aGlzLnRyYW5zZm9ybT1lLHRoaXMuX3NvdXJjZUxvYWRlZCYmIXRoaXMuX3BhdXNlZCl7dmFyIHI7dGhpcy51cGRhdGVDYWNoZVNpemUoZSksdGhpcy5oYW5kbGVXcmFwSnVtcCh0aGlzLnRyYW5zZm9ybS5jZW50ZXIubG5nKSx0aGlzLl9jb3ZlcmVkVGlsZXM9e30sdGhpcy51c2VkP3RoaXMuX3NvdXJjZS50aWxlSUQ/cj1lLmdldFZpc2libGVVbndyYXBwZWRDb29yZGluYXRlcyh0aGlzLl9zb3VyY2UudGlsZUlEKS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBuZXcgdC5PdmVyc2NhbGVkVGlsZUlEKGUuY2Fub25pY2FsLnosZS53cmFwLGUuY2Fub25pY2FsLnosZS5jYW5vbmljYWwueCxlLmNhbm9uaWNhbC55KX0pKToocj1lLmNvdmVyaW5nVGlsZXMoe3RpbGVTaXplOnRoaXMuX3NvdXJjZS50aWxlU2l6ZSxtaW56b29tOnRoaXMuX3NvdXJjZS5taW56b29tLG1heHpvb206dGhpcy5fc291cmNlLm1heHpvb20scm91bmRab29tOnRoaXMuX3NvdXJjZS5yb3VuZFpvb20scmVwYXJzZU92ZXJzY2FsZWQ6dGhpcy5fc291cmNlLnJlcGFyc2VPdmVyc2NhbGVkfSksdGhpcy5fc291cmNlLmhhc1RpbGUmJihyPXIuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gby5fc291cmNlLmhhc1RpbGUodCl9KSkpKTpyPVtdO3ZhciBhPWUuY292ZXJpbmdab29tTGV2ZWwodGhpcy5fc291cmNlKSxuPU1hdGgubWF4KGEtaS5tYXhPdmVyem9vbWluZyx0aGlzLl9zb3VyY2UubWluem9vbSkscz1NYXRoLm1heChhK2kubWF4VW5kZXJ6b29taW5nLHRoaXMuX3NvdXJjZS5taW56b29tKSxsPXRoaXMuX3VwZGF0ZVJldGFpbmVkVGlsZXMocixhKTtpZihBdCh0aGlzLl9zb3VyY2UudHlwZSkpe2Zvcih2YXIgYz17fSx1PXt9LGg9MCxwPU9iamVjdC5rZXlzKGwpO2g8cC5sZW5ndGg7aCs9MSl7dmFyIGQ9cFtoXSxfPWxbZF0sZj10aGlzLl90aWxlc1tkXTtpZihmJiYhKGYuZmFkZUVuZFRpbWUmJmYuZmFkZUVuZFRpbWU8PXQuYnJvd3Nlci5ub3coKSkpe3ZhciBtPXRoaXMuZmluZExvYWRlZFBhcmVudChfLG4pO20mJih0aGlzLl9hZGRUaWxlKG0udGlsZUlEKSxjW20udGlsZUlELmtleV09bS50aWxlSUQpLHVbZF09Xzt9fWZvcih2YXIgZyBpbiB0aGlzLl9yZXRhaW5Mb2FkZWRDaGlsZHJlbih1LGEscyxsKSxjKWxbZ118fCh0aGlzLl9jb3ZlcmVkVGlsZXNbZ109ITAsbFtnXT1jW2ddKTt9Zm9yKHZhciB2IGluIGwpdGhpcy5fdGlsZXNbdl0uY2xlYXJGYWRlSG9sZCgpO2Zvcih2YXIgeT0wLHg9dC5rZXlzRGlmZmVyZW5jZSh0aGlzLl90aWxlcyxsKTt5PHgubGVuZ3RoO3krPTEpe3ZhciBiPXhbeV0sdz10aGlzLl90aWxlc1tiXTt3Lmhhc1N5bWJvbEJ1Y2tldHMmJiF3LmhvbGRpbmdGb3JGYWRlKCk/dy5zZXRIb2xkRHVyYXRpb24odGhpcy5tYXAuX2ZhZGVEdXJhdGlvbik6dy5oYXNTeW1ib2xCdWNrZXRzJiYhdy5zeW1ib2xGYWRlRmluaXNoZWQoKXx8dGhpcy5fcmVtb3ZlVGlsZShiKTt9dGhpcy5fdXBkYXRlTG9hZGVkUGFyZW50VGlsZUNhY2hlKCk7fX0saS5wcm90b3R5cGUucmVsZWFzZVN5bWJvbEZhZGVUaWxlcz1mdW5jdGlvbigpe2Zvcih2YXIgdCBpbiB0aGlzLl90aWxlcyl0aGlzLl90aWxlc1t0XS5ob2xkaW5nRm9yRmFkZSgpJiZ0aGlzLl9yZW1vdmVUaWxlKHQpO30saS5wcm90b3R5cGUuX3VwZGF0ZVJldGFpbmVkVGlsZXM9ZnVuY3Rpb24odCxlKXtmb3IodmFyIG89e30scj17fSxhPU1hdGgubWF4KGUtaS5tYXhPdmVyem9vbWluZyx0aGlzLl9zb3VyY2UubWluem9vbSksbj1NYXRoLm1heChlK2kubWF4VW5kZXJ6b29taW5nLHRoaXMuX3NvdXJjZS5taW56b29tKSxzPXt9LGw9MCxjPXQ7bDxjLmxlbmd0aDtsKz0xKXt2YXIgdT1jW2xdLGg9dGhpcy5fYWRkVGlsZSh1KTtvW3Uua2V5XT11LGguaGFzRGF0YSgpfHxlPHRoaXMuX3NvdXJjZS5tYXh6b29tJiYoc1t1LmtleV09dSk7fXRoaXMuX3JldGFpbkxvYWRlZENoaWxkcmVuKHMsZSxuLG8pO2Zvcih2YXIgcD0wLGQ9dDtwPGQubGVuZ3RoO3ArPTEpe3ZhciBfPWRbcF0sZj10aGlzLl90aWxlc1tfLmtleV07aWYoIWYuaGFzRGF0YSgpKXtpZihlKzE+dGhpcy5fc291cmNlLm1heHpvb20pe3ZhciBtPV8uY2hpbGRyZW4odGhpcy5fc291cmNlLm1heHpvb20pWzBdLGc9dGhpcy5nZXRUaWxlKG0pO2lmKGcmJmcuaGFzRGF0YSgpKXtvW20ua2V5XT1tO2NvbnRpbnVlfX1lbHNlIHt2YXIgdj1fLmNoaWxkcmVuKHRoaXMuX3NvdXJjZS5tYXh6b29tKTtpZihvW3ZbMF0ua2V5XSYmb1t2WzFdLmtleV0mJm9bdlsyXS5rZXldJiZvW3ZbM10ua2V5XSljb250aW51ZX1mb3IodmFyIHk9Zi53YXNSZXF1ZXN0ZWQoKSx4PV8ub3ZlcnNjYWxlZFotMTt4Pj1hOy0teCl7dmFyIGI9Xy5zY2FsZWRUbyh4KTtpZihyW2Iua2V5XSlicmVhaztpZihyW2Iua2V5XT0hMCwhKGY9dGhpcy5nZXRUaWxlKGIpKSYmeSYmKGY9dGhpcy5fYWRkVGlsZShiKSksZiYmKG9bYi5rZXldPWIseT1mLndhc1JlcXVlc3RlZCgpLGYuaGFzRGF0YSgpKSlicmVha319fXJldHVybiBvfSxpLnByb3RvdHlwZS5fdXBkYXRlTG9hZGVkUGFyZW50VGlsZUNhY2hlPWZ1bmN0aW9uKCl7Zm9yKHZhciB0IGluIHRoaXMuX2xvYWRlZFBhcmVudFRpbGVzPXt9LHRoaXMuX3RpbGVzKXtmb3IodmFyIGU9W10saT12b2lkIDAsbz10aGlzLl90aWxlc1t0XS50aWxlSUQ7by5vdmVyc2NhbGVkWj4wOyl7aWYoby5rZXkgaW4gdGhpcy5fbG9hZGVkUGFyZW50VGlsZXMpe2k9dGhpcy5fbG9hZGVkUGFyZW50VGlsZXNbby5rZXldO2JyZWFrfWUucHVzaChvLmtleSk7dmFyIHI9by5zY2FsZWRUbyhvLm92ZXJzY2FsZWRaLTEpO2lmKGk9dGhpcy5fZ2V0TG9hZGVkVGlsZShyKSlicmVhaztvPXI7fWZvcih2YXIgYT0wLG49ZTthPG4ubGVuZ3RoO2ErPTEpdGhpcy5fbG9hZGVkUGFyZW50VGlsZXNbblthXV09aTt9fSxpLnByb3RvdHlwZS5fYWRkVGlsZT1mdW5jdGlvbihlKXt2YXIgaT10aGlzLl90aWxlc1tlLmtleV07aWYoaSlyZXR1cm4gaTsoaT10aGlzLl9jYWNoZS5nZXRBbmRSZW1vdmUoZSkpJiYodGhpcy5fc2V0VGlsZVJlbG9hZFRpbWVyKGUua2V5LGkpLGkudGlsZUlEPWUsdGhpcy5fc3RhdGUuaW5pdGlhbGl6ZVRpbGVTdGF0ZShpLHRoaXMubWFwP3RoaXMubWFwLnBhaW50ZXI6bnVsbCksdGhpcy5fY2FjaGVUaW1lcnNbZS5rZXldJiYoY2xlYXJUaW1lb3V0KHRoaXMuX2NhY2hlVGltZXJzW2Uua2V5XSksZGVsZXRlIHRoaXMuX2NhY2hlVGltZXJzW2Uua2V5XSx0aGlzLl9zZXRUaWxlUmVsb2FkVGltZXIoZS5rZXksaSkpKTt2YXIgbz1Cb29sZWFuKGkpO3JldHVybiBvfHwoaT1uZXcgdC5UaWxlKGUsdGhpcy5fc291cmNlLnRpbGVTaXplKmUub3ZlcnNjYWxlRmFjdG9yKCkpLHRoaXMuX2xvYWRUaWxlKGksdGhpcy5fdGlsZUxvYWRlZC5iaW5kKHRoaXMsaSxlLmtleSxpLnN0YXRlKSkpLGk/KGkudXNlcysrLHRoaXMuX3RpbGVzW2Uua2V5XT1pLG98fHRoaXMuX3NvdXJjZS5maXJlKG5ldyB0LkV2ZW50KCJkYXRhbG9hZGluZyIse3RpbGU6aSxjb29yZDppLnRpbGVJRCxkYXRhVHlwZToic291cmNlIn0pKSxpKTpudWxsfSxpLnByb3RvdHlwZS5fc2V0VGlsZVJlbG9hZFRpbWVyPWZ1bmN0aW9uKHQsZSl7dmFyIGk9dGhpczt0IGluIHRoaXMuX3RpbWVycyYmKGNsZWFyVGltZW91dCh0aGlzLl90aW1lcnNbdF0pLGRlbGV0ZSB0aGlzLl90aW1lcnNbdF0pO3ZhciBvPWUuZ2V0RXhwaXJ5VGltZW91dCgpO28mJih0aGlzLl90aW1lcnNbdF09c2V0VGltZW91dCgoZnVuY3Rpb24oKXtpLl9yZWxvYWRUaWxlKHQsImV4cGlyZWQiKSxkZWxldGUgaS5fdGltZXJzW3RdO30pLG8pKTt9LGkucHJvdG90eXBlLl9yZW1vdmVUaWxlPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX3RpbGVzW3RdO2UmJihlLnVzZXMtLSxkZWxldGUgdGhpcy5fdGlsZXNbdF0sdGhpcy5fdGltZXJzW3RdJiYoY2xlYXJUaW1lb3V0KHRoaXMuX3RpbWVyc1t0XSksZGVsZXRlIHRoaXMuX3RpbWVyc1t0XSksZS51c2VzPjB8fChlLmhhc0RhdGEoKSYmInJlbG9hZGluZyIhPT1lLnN0YXRlP3RoaXMuX2NhY2hlLmFkZChlLnRpbGVJRCxlLGUuZ2V0RXhwaXJ5VGltZW91dCgpKTooZS5hYm9ydGVkPSEwLHRoaXMuX2Fib3J0VGlsZShlKSx0aGlzLl91bmxvYWRUaWxlKGUpKSkpO30saS5wcm90b3R5cGUuY2xlYXJUaWxlcz1mdW5jdGlvbigpe2Zvcih2YXIgdCBpbiB0aGlzLl9zaG91bGRSZWxvYWRPblJlc3VtZT0hMSx0aGlzLl9wYXVzZWQ9ITEsdGhpcy5fdGlsZXMpdGhpcy5fcmVtb3ZlVGlsZSh0KTt0aGlzLl9jYWNoZS5yZXNldCgpO30saS5wcm90b3R5cGUudGlsZXNJbj1mdW5jdGlvbihlLGksbyl7dmFyIHI9dGhpcyxhPVtdLG49dGhpcy50cmFuc2Zvcm07aWYoIW4pcmV0dXJuIGE7Zm9yKHZhciBzPW8/bi5nZXRDYW1lcmFRdWVyeUdlb21ldHJ5KGUpOmUsbD1lLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIG4ucG9pbnRDb29yZGluYXRlKHQpfSkpLGM9cy5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiBuLnBvaW50Q29vcmRpbmF0ZSh0KX0pKSx1PXRoaXMuZ2V0SWRzKCksaD0xLzAscD0xLzAsZD0tMS8wLF89LTEvMCxmPTAsbT1jO2Y8bS5sZW5ndGg7Zis9MSl7dmFyIGc9bVtmXTtoPU1hdGgubWluKGgsZy54KSxwPU1hdGgubWluKHAsZy55KSxkPU1hdGgubWF4KGQsZy54KSxfPU1hdGgubWF4KF8sZy55KTt9Zm9yKHZhciB2PWZ1bmN0aW9uKGUpe3ZhciBvPXIuX3RpbGVzW3VbZV1dO2lmKCFvLmhvbGRpbmdGb3JGYWRlKCkpe3ZhciBzPW8udGlsZUlELGY9TWF0aC5wb3coMixuLnpvb20tby50aWxlSUQub3ZlcnNjYWxlZFopLG09aSpvLnF1ZXJ5UGFkZGluZyp0LkVYVEVOVC9vLnRpbGVTaXplL2YsZz1bcy5nZXRUaWxlUG9pbnQobmV3IHQuTWVyY2F0b3JDb29yZGluYXRlKGgscCkpLHMuZ2V0VGlsZVBvaW50KG5ldyB0Lk1lcmNhdG9yQ29vcmRpbmF0ZShkLF8pKV07aWYoZ1swXS54LW08dC5FWFRFTlQmJmdbMF0ueS1tPHQuRVhURU5UJiZnWzFdLngrbT49MCYmZ1sxXS55K20+PTApe3ZhciB2PWwubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gcy5nZXRUaWxlUG9pbnQodCl9KSkseT1jLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIHMuZ2V0VGlsZVBvaW50KHQpfSkpO2EucHVzaCh7dGlsZTpvLHRpbGVJRDpzLHF1ZXJ5R2VvbWV0cnk6dixjYW1lcmFRdWVyeUdlb21ldHJ5Onksc2NhbGU6Zn0pO319fSx5PTA7eTx1Lmxlbmd0aDt5Kyspdih5KTtyZXR1cm4gYX0saS5wcm90b3R5cGUuZ2V0VmlzaWJsZUNvb3JkaW5hdGVzPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10aGlzLGk9dGhpcy5nZXRSZW5kZXJhYmxlSWRzKHQpLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIGUuX3RpbGVzW3RdLnRpbGVJRH0pKSxvPTAscj1pO288ci5sZW5ndGg7bys9MSl7dmFyIGE9cltvXTthLnBvc01hdHJpeD10aGlzLnRyYW5zZm9ybS5jYWxjdWxhdGVQb3NNYXRyaXgoYS50b1Vud3JhcHBlZCgpKTt9cmV0dXJuIGl9LGkucHJvdG90eXBlLmhhc1RyYW5zaXRpb249ZnVuY3Rpb24oKXtpZih0aGlzLl9zb3VyY2UuaGFzVHJhbnNpdGlvbigpKXJldHVybiAhMDtpZihBdCh0aGlzLl9zb3VyY2UudHlwZSkpZm9yKHZhciBlIGluIHRoaXMuX3RpbGVzKXt2YXIgaT10aGlzLl90aWxlc1tlXTtpZih2b2lkIDAhPT1pLmZhZGVFbmRUaW1lJiZpLmZhZGVFbmRUaW1lPj10LmJyb3dzZXIubm93KCkpcmV0dXJuICEwfXJldHVybiAhMX0saS5wcm90b3R5cGUuc2V0RmVhdHVyZVN0YXRlPWZ1bmN0aW9uKHQsZSxpKXt0aGlzLl9zdGF0ZS51cGRhdGVTdGF0ZSh0PXR8fCJfZ2VvanNvblRpbGVMYXllciIsZSxpKTt9LGkucHJvdG90eXBlLnJlbW92ZUZlYXR1cmVTdGF0ZT1mdW5jdGlvbih0LGUsaSl7dGhpcy5fc3RhdGUucmVtb3ZlRmVhdHVyZVN0YXRlKHQ9dHx8Il9nZW9qc29uVGlsZUxheWVyIixlLGkpO30saS5wcm90b3R5cGUuZ2V0RmVhdHVyZVN0YXRlPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuX3N0YXRlLmdldFN0YXRlKHQ9dHx8Il9nZW9qc29uVGlsZUxheWVyIixlKX0saS5wcm90b3R5cGUuc2V0RGVwZW5kZW5jaWVzPWZ1bmN0aW9uKHQsZSxpKXt2YXIgbz10aGlzLl90aWxlc1t0XTtvJiZvLnNldERlcGVuZGVuY2llcyhlLGkpO30saS5wcm90b3R5cGUucmVsb2FkVGlsZXNGb3JEZXBlbmRlbmNpZXM9ZnVuY3Rpb24odCxlKXtmb3IodmFyIGkgaW4gdGhpcy5fdGlsZXMpdGhpcy5fdGlsZXNbaV0uaGFzRGVwZW5kZW5jeSh0LGUpJiZ0aGlzLl9yZWxvYWRUaWxlKGksInJlbG9hZGluZyIpO3RoaXMuX2NhY2hlLmZpbHRlcigoZnVuY3Rpb24oaSl7cmV0dXJuICFpLmhhc0RlcGVuZGVuY3kodCxlKX0pKTt9LGl9KHQuRXZlbnRlZCk7ZnVuY3Rpb24gTXQodCxlKXt2YXIgaT1NYXRoLmFicygyKnQud3JhcCktKyh0LndyYXA8MCksbz1NYXRoLmFicygyKmUud3JhcCktKyhlLndyYXA8MCk7cmV0dXJuIHQub3ZlcnNjYWxlZFotZS5vdmVyc2NhbGVkWnx8by1pfHxlLmNhbm9uaWNhbC55LXQuY2Fub25pY2FsLnl8fGUuY2Fub25pY2FsLngtdC5jYW5vbmljYWwueH1mdW5jdGlvbiBBdCh0KXtyZXR1cm4gInJhc3RlciI9PT10fHwiaW1hZ2UiPT09dHx8InZpZGVvIj09PXR9ZnVuY3Rpb24gTHQoKXtyZXR1cm4gbmV3IHQud2luZG93LldvcmtlcihXci53b3JrZXJVcmwpfUR0Lm1heE92ZXJ6b29taW5nPTEwLER0Lm1heFVuZGVyem9vbWluZz0zO3ZhciBSdD0ibWFwYm94Z2xfcHJlbG9hZGVkX3dvcmtlcl9wb29sIixrdD1mdW5jdGlvbigpe3RoaXMuYWN0aXZlPXt9O307a3QucHJvdG90eXBlLmFjcXVpcmU9ZnVuY3Rpb24odCl7aWYoIXRoaXMud29ya2Vycylmb3IodGhpcy53b3JrZXJzPVtdO3RoaXMud29ya2Vycy5sZW5ndGg8a3Qud29ya2VyQ291bnQ7KXRoaXMud29ya2Vycy5wdXNoKG5ldyBMdCk7cmV0dXJuIHRoaXMuYWN0aXZlW3RdPSEwLHRoaXMud29ya2Vycy5zbGljZSgpfSxrdC5wcm90b3R5cGUucmVsZWFzZT1mdW5jdGlvbih0KXtkZWxldGUgdGhpcy5hY3RpdmVbdF0sMD09PXRoaXMubnVtQWN0aXZlKCkmJih0aGlzLndvcmtlcnMuZm9yRWFjaCgoZnVuY3Rpb24odCl7dC50ZXJtaW5hdGUoKTt9KSksdGhpcy53b3JrZXJzPW51bGwpO30sa3QucHJvdG90eXBlLmlzUHJlbG9hZGVkPWZ1bmN0aW9uKCl7cmV0dXJuICEhdGhpcy5hY3RpdmVbUnRdfSxrdC5wcm90b3R5cGUubnVtQWN0aXZlPWZ1bmN0aW9uKCl7cmV0dXJuIE9iamVjdC5rZXlzKHRoaXMuYWN0aXZlKS5sZW5ndGh9O3ZhciBCdCxPdD1NYXRoLmZsb29yKHQuYnJvd3Nlci5oYXJkd2FyZUNvbmN1cnJlbmN5LzIpO2Z1bmN0aW9uIEZ0KCl7cmV0dXJuIEJ0fHwoQnQ9bmV3IGt0KSxCdH1mdW5jdGlvbiBVdChlLGkpe3ZhciBvPXt9O2Zvcih2YXIgciBpbiBlKSJyZWYiIT09ciYmKG9bcl09ZVtyXSk7cmV0dXJuIHQucmVmUHJvcGVydGllcy5mb3JFYWNoKChmdW5jdGlvbih0KXt0IGluIGkmJihvW3RdPWlbdF0pO30pKSxvfWZ1bmN0aW9uIE50KHQpe3Q9dC5zbGljZSgpO2Zvcih2YXIgZT1PYmplY3QuY3JlYXRlKG51bGwpLGk9MDtpPHQubGVuZ3RoO2krKyllW3RbaV0uaWRdPXRbaV07Zm9yKHZhciBvPTA7bzx0Lmxlbmd0aDtvKyspInJlZiJpbiB0W29dJiYodFtvXT1VdCh0W29dLGVbdFtvXS5yZWZdKSk7cmV0dXJuIHR9a3Qud29ya2VyQ291bnQ9TWF0aC5tYXgoTWF0aC5taW4oT3QsNiksMSk7dmFyIFp0PXtzZXRTdHlsZToic2V0U3R5bGUiLGFkZExheWVyOiJhZGRMYXllciIscmVtb3ZlTGF5ZXI6InJlbW92ZUxheWVyIixzZXRQYWludFByb3BlcnR5OiJzZXRQYWludFByb3BlcnR5IixzZXRMYXlvdXRQcm9wZXJ0eToic2V0TGF5b3V0UHJvcGVydHkiLHNldEZpbHRlcjoic2V0RmlsdGVyIixhZGRTb3VyY2U6ImFkZFNvdXJjZSIscmVtb3ZlU291cmNlOiJyZW1vdmVTb3VyY2UiLHNldEdlb0pTT05Tb3VyY2VEYXRhOiJzZXRHZW9KU09OU291cmNlRGF0YSIsc2V0TGF5ZXJab29tUmFuZ2U6InNldExheWVyWm9vbVJhbmdlIixzZXRMYXllclByb3BlcnR5OiJzZXRMYXllclByb3BlcnR5IixzZXRDZW50ZXI6InNldENlbnRlciIsc2V0Wm9vbToic2V0Wm9vbSIsc2V0QmVhcmluZzoic2V0QmVhcmluZyIsc2V0UGl0Y2g6InNldFBpdGNoIixzZXRTcHJpdGU6InNldFNwcml0ZSIsc2V0R2x5cGhzOiJzZXRHbHlwaHMiLHNldFRyYW5zaXRpb246InNldFRyYW5zaXRpb24iLHNldExpZ2h0OiJzZXRMaWdodCJ9O2Z1bmN0aW9uIGp0KHQsZSxpKXtpLnB1c2goe2NvbW1hbmQ6WnQuYWRkU291cmNlLGFyZ3M6W3QsZVt0XV19KTt9ZnVuY3Rpb24gcXQodCxlLGkpe2UucHVzaCh7Y29tbWFuZDpadC5yZW1vdmVTb3VyY2UsYXJnczpbdF19KSxpW3RdPSEwO31mdW5jdGlvbiBWdCh0LGUsaSxvKXtxdCh0LGksbyksanQodCxlLGkpO31mdW5jdGlvbiBHdChlLGksbyl7dmFyIHI7Zm9yKHIgaW4gZVtvXSlpZihlW29dLmhhc093blByb3BlcnR5KHIpJiYiZGF0YSIhPT1yJiYhdC5kZWVwRXF1YWwoZVtvXVtyXSxpW29dW3JdKSlyZXR1cm4gITE7Zm9yKHIgaW4gaVtvXSlpZihpW29dLmhhc093blByb3BlcnR5KHIpJiYiZGF0YSIhPT1yJiYhdC5kZWVwRXF1YWwoZVtvXVtyXSxpW29dW3JdKSlyZXR1cm4gITE7cmV0dXJuICEwfWZ1bmN0aW9uIFd0KGUsaSxvLHIsYSxuKXt2YXIgcztmb3IocyBpbiBpPWl8fHt9LGU9ZXx8e30pZS5oYXNPd25Qcm9wZXJ0eShzKSYmKHQuZGVlcEVxdWFsKGVbc10saVtzXSl8fG8ucHVzaCh7Y29tbWFuZDpuLGFyZ3M6W3IscyxpW3NdLGFdfSkpO2ZvcihzIGluIGkpaS5oYXNPd25Qcm9wZXJ0eShzKSYmIWUuaGFzT3duUHJvcGVydHkocykmJih0LmRlZXBFcXVhbChlW3NdLGlbc10pfHxvLnB1c2goe2NvbW1hbmQ6bixhcmdzOltyLHMsaVtzXSxhXX0pKTt9ZnVuY3Rpb24gWHQodCl7cmV0dXJuIHQuaWR9ZnVuY3Rpb24gSHQodCxlKXtyZXR1cm4gdFtlLmlkXT1lLHR9dmFyIEt0PWZ1bmN0aW9uKHQsZSl7dGhpcy5yZXNldCh0LGUpO307S3QucHJvdG90eXBlLnJlc2V0PWZ1bmN0aW9uKHQsZSl7dGhpcy5wb2ludHM9dHx8W10sdGhpcy5fZGlzdGFuY2VzPVswXTtmb3IodmFyIGk9MTtpPHRoaXMucG9pbnRzLmxlbmd0aDtpKyspdGhpcy5fZGlzdGFuY2VzW2ldPXRoaXMuX2Rpc3RhbmNlc1tpLTFdK3RoaXMucG9pbnRzW2ldLmRpc3QodGhpcy5wb2ludHNbaS0xXSk7dGhpcy5sZW5ndGg9dGhpcy5fZGlzdGFuY2VzW3RoaXMuX2Rpc3RhbmNlcy5sZW5ndGgtMV0sdGhpcy5wYWRkaW5nPU1hdGgubWluKGV8fDAsLjUqdGhpcy5sZW5ndGgpLHRoaXMucGFkZGVkTGVuZ3RoPXRoaXMubGVuZ3RoLTIqdGhpcy5wYWRkaW5nO30sS3QucHJvdG90eXBlLmxlcnA9ZnVuY3Rpb24oZSl7aWYoMT09PXRoaXMucG9pbnRzLmxlbmd0aClyZXR1cm4gdGhpcy5wb2ludHNbMF07ZT10LmNsYW1wKGUsMCwxKTtmb3IodmFyIGk9MSxvPXRoaXMuX2Rpc3RhbmNlc1tpXSxyPWUqdGhpcy5wYWRkZWRMZW5ndGgrdGhpcy5wYWRkaW5nO288ciYmaTx0aGlzLl9kaXN0YW5jZXMubGVuZ3RoOylvPXRoaXMuX2Rpc3RhbmNlc1srK2ldO3ZhciBhPWktMSxuPXRoaXMuX2Rpc3RhbmNlc1thXSxzPW8tbixsPXM+MD8oci1uKS9zOjA7cmV0dXJuIHRoaXMucG9pbnRzW2FdLm11bHQoMS1sKS5hZGQodGhpcy5wb2ludHNbaV0ubXVsdChsKSl9O3ZhciBZdD1mdW5jdGlvbih0LGUsaSl7dmFyIG89dGhpcy5ib3hDZWxscz1bXSxyPXRoaXMuY2lyY2xlQ2VsbHM9W107dGhpcy54Q2VsbENvdW50PU1hdGguY2VpbCh0L2kpLHRoaXMueUNlbGxDb3VudD1NYXRoLmNlaWwoZS9pKTtmb3IodmFyIGE9MDthPHRoaXMueENlbGxDb3VudCp0aGlzLnlDZWxsQ291bnQ7YSsrKW8ucHVzaChbXSksci5wdXNoKFtdKTt0aGlzLmNpcmNsZUtleXM9W10sdGhpcy5ib3hLZXlzPVtdLHRoaXMuYmJveGVzPVtdLHRoaXMuY2lyY2xlcz1bXSx0aGlzLndpZHRoPXQsdGhpcy5oZWlnaHQ9ZSx0aGlzLnhTY2FsZT10aGlzLnhDZWxsQ291bnQvdCx0aGlzLnlTY2FsZT10aGlzLnlDZWxsQ291bnQvZSx0aGlzLmJveFVpZD0wLHRoaXMuY2lyY2xlVWlkPTA7fTtmdW5jdGlvbiBKdChlLGksbyxyLGEpe3ZhciBuPXQuY3JlYXRlKCk7cmV0dXJuIGk/KHQuc2NhbGUobixuLFsxL2EsMS9hLDFdKSxvfHx0LnJvdGF0ZVoobixuLHIuYW5nbGUpKTp0Lm11bHRpcGx5KG4sci5sYWJlbFBsYW5lTWF0cml4LGUpLG59ZnVuY3Rpb24gUXQoZSxpLG8scixhKXtpZihpKXt2YXIgbj10LmNsb25lKGUpO3JldHVybiB0LnNjYWxlKG4sbixbYSxhLDFdKSxvfHx0LnJvdGF0ZVoobixuLC1yLmFuZ2xlKSxufXJldHVybiByLmdsQ29vcmRNYXRyaXh9ZnVuY3Rpb24gJHQoZSxpKXt2YXIgbz1bZS54LGUueSwwLDFdO3VlKG8sbyxpKTt2YXIgcj1vWzNdO3JldHVybiB7cG9pbnQ6bmV3IHQuUG9pbnQob1swXS9yLG9bMV0vciksc2lnbmVkRGlzdGFuY2VGcm9tQ2FtZXJhOnJ9fWZ1bmN0aW9uIHRlKHQsZSl7cmV0dXJuIC41K3QvZSouNX1mdW5jdGlvbiBlZSh0LGUpe3ZhciBpPXRbMF0vdFszXSxvPXRbMV0vdFszXTtyZXR1cm4gaT49LWVbMF0mJmk8PWVbMF0mJm8+PS1lWzFdJiZvPD1lWzFdfWZ1bmN0aW9uIGllKGUsaSxvLHIsYSxuLHMsbCl7dmFyIGM9cj9lLnRleHRTaXplRGF0YTplLmljb25TaXplRGF0YSx1PXQuZXZhbHVhdGVTaXplRm9yWm9vbShjLG8udHJhbnNmb3JtLnpvb20pLGg9WzI1Ni9vLndpZHRoKjIrMSwyNTYvby5oZWlnaHQqMisxXSxwPXI/ZS50ZXh0LmR5bmFtaWNMYXlvdXRWZXJ0ZXhBcnJheTplLmljb24uZHluYW1pY0xheW91dFZlcnRleEFycmF5O3AuY2xlYXIoKTtmb3IodmFyIGQ9ZS5saW5lVmVydGV4QXJyYXksXz1yP2UudGV4dC5wbGFjZWRTeW1ib2xBcnJheTplLmljb24ucGxhY2VkU3ltYm9sQXJyYXksZj1vLnRyYW5zZm9ybS53aWR0aC9vLnRyYW5zZm9ybS5oZWlnaHQsbT0hMSxnPTA7ZzxfLmxlbmd0aDtnKyspe3ZhciB2PV8uZ2V0KGcpO2lmKHYuaGlkZGVufHx2LndyaXRpbmdNb2RlPT09dC5Xcml0aW5nTW9kZS52ZXJ0aWNhbCYmIW0pY2Uodi5udW1HbHlwaHMscCk7ZWxzZSB7bT0hMTt2YXIgeT1bdi5hbmNob3JYLHYuYW5jaG9yWSwwLDFdO2lmKHQudHJhbnNmb3JtTWF0NCh5LHksaSksZWUoeSxoKSl7dmFyIHg9dGUoby50cmFuc2Zvcm0uY2FtZXJhVG9DZW50ZXJEaXN0YW5jZSx5WzNdKSxiPXQuZXZhbHVhdGVTaXplRm9yRmVhdHVyZShjLHUsdiksdz1zP2IveDpiKngsVD1uZXcgdC5Qb2ludCh2LmFuY2hvclgsdi5hbmNob3JZKSxFPSR0KFQsYSkucG9pbnQsST17fSxQPWFlKHYsdywhMSxsLGksYSxuLGUuZ2x5cGhPZmZzZXRBcnJheSxkLHAsRSxULEksZik7bT1QLnVzZVZlcnRpY2FsLChQLm5vdEVub3VnaFJvb218fG18fFAubmVlZHNGbGlwcGluZyYmYWUodix3LCEwLGwsaSxhLG4sZS5nbHlwaE9mZnNldEFycmF5LGQscCxFLFQsSSxmKS5ub3RFbm91Z2hSb29tKSYmY2Uodi5udW1HbHlwaHMscCk7fWVsc2UgY2Uodi5udW1HbHlwaHMscCk7fX1yP2UudGV4dC5keW5hbWljTGF5b3V0VmVydGV4QnVmZmVyLnVwZGF0ZURhdGEocCk6ZS5pY29uLmR5bmFtaWNMYXlvdXRWZXJ0ZXhCdWZmZXIudXBkYXRlRGF0YShwKTt9ZnVuY3Rpb24gb2UodCxlLGksbyxyLGEsbixzLGwsYyx1KXt2YXIgaD1zLmdseXBoU3RhcnRJbmRleCtzLm51bUdseXBocyxwPXMubGluZVN0YXJ0SW5kZXgsZD1zLmxpbmVTdGFydEluZGV4K3MubGluZUxlbmd0aCxfPWUuZ2V0b2Zmc2V0WChzLmdseXBoU3RhcnRJbmRleCksZj1lLmdldG9mZnNldFgoaC0xKSxtPXNlKHQqXyxpLG8scixhLG4scy5zZWdtZW50LHAsZCxsLGMsdSk7aWYoIW0pcmV0dXJuIG51bGw7dmFyIGc9c2UodCpmLGksbyxyLGEsbixzLnNlZ21lbnQscCxkLGwsYyx1KTtyZXR1cm4gZz97Zmlyc3Q6bSxsYXN0Omd9Om51bGx9ZnVuY3Rpb24gcmUoZSxpLG8scil7cmV0dXJuIGU9PT10LldyaXRpbmdNb2RlLmhvcml6b250YWwmJk1hdGguYWJzKG8ueS1pLnkpPk1hdGguYWJzKG8ueC1pLngpKnI/e3VzZVZlcnRpY2FsOiEwfTooZT09PXQuV3JpdGluZ01vZGUudmVydGljYWw/aS55PG8ueTppLng+by54KT97bmVlZHNGbGlwcGluZzohMH06bnVsbH1mdW5jdGlvbiBhZShlLGksbyxyLGEsbixzLGwsYyx1LGgscCxkLF8pe3ZhciBmLG09aS8yNCxnPWUubGluZU9mZnNldFgqbSx2PWUubGluZU9mZnNldFkqbTtpZihlLm51bUdseXBocz4xKXt2YXIgeT1lLmdseXBoU3RhcnRJbmRleCtlLm51bUdseXBocyx4PWUubGluZVN0YXJ0SW5kZXgsYj1lLmxpbmVTdGFydEluZGV4K2UubGluZUxlbmd0aCx3PW9lKG0sbCxnLHYsbyxoLHAsZSxjLG4sZCk7aWYoIXcpcmV0dXJuIHtub3RFbm91Z2hSb29tOiEwfTt2YXIgVD0kdCh3LmZpcnN0LnBvaW50LHMpLnBvaW50LEU9JHQody5sYXN0LnBvaW50LHMpLnBvaW50O2lmKHImJiFvKXt2YXIgST1yZShlLndyaXRpbmdNb2RlLFQsRSxfKTtpZihJKXJldHVybiBJfWY9W3cuZmlyc3RdO2Zvcih2YXIgUD1lLmdseXBoU3RhcnRJbmRleCsxO1A8eS0xO1ArKylmLnB1c2goc2UobSpsLmdldG9mZnNldFgoUCksZyx2LG8saCxwLGUuc2VnbWVudCx4LGIsYyxuLGQpKTtmLnB1c2gody5sYXN0KTt9ZWxzZSB7aWYociYmIW8pe3ZhciBTPSR0KHAsYSkucG9pbnQsQz1lLmxpbmVTdGFydEluZGV4K2Uuc2VnbWVudCsxLHo9bmV3IHQuUG9pbnQoYy5nZXR4KEMpLGMuZ2V0eShDKSksRD0kdCh6LGEpLE09RC5zaWduZWREaXN0YW5jZUZyb21DYW1lcmE+MD9ELnBvaW50Om5lKHAseixTLDEsYSksQT1yZShlLndyaXRpbmdNb2RlLFMsTSxfKTtpZihBKXJldHVybiBBfXZhciBMPXNlKG0qbC5nZXRvZmZzZXRYKGUuZ2x5cGhTdGFydEluZGV4KSxnLHYsbyxoLHAsZS5zZWdtZW50LGUubGluZVN0YXJ0SW5kZXgsZS5saW5lU3RhcnRJbmRleCtlLmxpbmVMZW5ndGgsYyxuLGQpO2lmKCFMKXJldHVybiB7bm90RW5vdWdoUm9vbTohMH07Zj1bTF07fWZvcih2YXIgUj0wLGs9ZjtSPGsubGVuZ3RoO1IrPTEpe3ZhciBCPWtbUl07dC5hZGREeW5hbWljQXR0cmlidXRlcyh1LEIucG9pbnQsQi5hbmdsZSk7fXJldHVybiB7fX1mdW5jdGlvbiBuZSh0LGUsaSxvLHIpe3ZhciBhPSR0KHQuYWRkKHQuc3ViKGUpLl91bml0KCkpLHIpLnBvaW50LG49aS5zdWIoYSk7cmV0dXJuIGkuYWRkKG4uX211bHQoby9uLm1hZygpKSl9ZnVuY3Rpb24gc2UoZSxpLG8scixhLG4scyxsLGMsdSxoLHApe3ZhciBkPXI/ZS1pOmUraSxfPWQ+MD8xOi0xLGY9MDtyJiYoXyo9LTEsZj1NYXRoLlBJKSxfPDAmJihmKz1NYXRoLlBJKTtmb3IodmFyIG09Xz4wP2wrczpsK3MrMSxnPWEsdj1hLHk9MCx4PTAsYj1NYXRoLmFicyhkKSx3PVtdO3kreDw9Yjspe2lmKChtKz1fKTxsfHxtPj1jKXJldHVybiBudWxsO2lmKHY9Zyx3LnB1c2goZyksdm9pZCAwPT09KGc9cFttXSkpe3ZhciBUPW5ldyB0LlBvaW50KHUuZ2V0eChtKSx1LmdldHkobSkpLEU9JHQoVCxoKTtpZihFLnNpZ25lZERpc3RhbmNlRnJvbUNhbWVyYT4wKWc9cFttXT1FLnBvaW50O2Vsc2Uge3ZhciBJPW0tXztnPW5lKDA9PT15P246bmV3IHQuUG9pbnQodS5nZXR4KEkpLHUuZ2V0eShJKSksVCx2LGIteSsxLGgpO319eSs9eCx4PXYuZGlzdChnKTt9dmFyIFA9KGIteSkveCxTPWcuc3ViKHYpLEM9Uy5tdWx0KFApLl9hZGQodik7Qy5fYWRkKFMuX3VuaXQoKS5fcGVycCgpLl9tdWx0KG8qXykpO3ZhciB6PWYrTWF0aC5hdGFuMihnLnktdi55LGcueC12LngpO3JldHVybiB3LnB1c2goQykse3BvaW50OkMsYW5nbGU6eixwYXRoOnd9fVl0LnByb3RvdHlwZS5rZXlzTGVuZ3RoPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYm94S2V5cy5sZW5ndGgrdGhpcy5jaXJjbGVLZXlzLmxlbmd0aH0sWXQucHJvdG90eXBlLmluc2VydD1mdW5jdGlvbih0LGUsaSxvLHIpe3RoaXMuX2ZvckVhY2hDZWxsKGUsaSxvLHIsdGhpcy5faW5zZXJ0Qm94Q2VsbCx0aGlzLmJveFVpZCsrKSx0aGlzLmJveEtleXMucHVzaCh0KSx0aGlzLmJib3hlcy5wdXNoKGUpLHRoaXMuYmJveGVzLnB1c2goaSksdGhpcy5iYm94ZXMucHVzaChvKSx0aGlzLmJib3hlcy5wdXNoKHIpO30sWXQucHJvdG90eXBlLmluc2VydENpcmNsZT1mdW5jdGlvbih0LGUsaSxvKXt0aGlzLl9mb3JFYWNoQ2VsbChlLW8saS1vLGUrbyxpK28sdGhpcy5faW5zZXJ0Q2lyY2xlQ2VsbCx0aGlzLmNpcmNsZVVpZCsrKSx0aGlzLmNpcmNsZUtleXMucHVzaCh0KSx0aGlzLmNpcmNsZXMucHVzaChlKSx0aGlzLmNpcmNsZXMucHVzaChpKSx0aGlzLmNpcmNsZXMucHVzaChvKTt9LFl0LnByb3RvdHlwZS5faW5zZXJ0Qm94Q2VsbD1mdW5jdGlvbih0LGUsaSxvLHIsYSl7dGhpcy5ib3hDZWxsc1tyXS5wdXNoKGEpO30sWXQucHJvdG90eXBlLl9pbnNlcnRDaXJjbGVDZWxsPWZ1bmN0aW9uKHQsZSxpLG8scixhKXt0aGlzLmNpcmNsZUNlbGxzW3JdLnB1c2goYSk7fSxZdC5wcm90b3R5cGUuX3F1ZXJ5PWZ1bmN0aW9uKHQsZSxpLG8scixhKXtpZihpPDB8fHQ+dGhpcy53aWR0aHx8bzwwfHxlPnRoaXMuaGVpZ2h0KXJldHVybiAhciYmW107dmFyIG49W107aWYodDw9MCYmZTw9MCYmdGhpcy53aWR0aDw9aSYmdGhpcy5oZWlnaHQ8PW8pe2lmKHIpcmV0dXJuICEwO2Zvcih2YXIgcz0wO3M8dGhpcy5ib3hLZXlzLmxlbmd0aDtzKyspbi5wdXNoKHtrZXk6dGhpcy5ib3hLZXlzW3NdLHgxOnRoaXMuYmJveGVzWzQqc10seTE6dGhpcy5iYm94ZXNbNCpzKzFdLHgyOnRoaXMuYmJveGVzWzQqcysyXSx5Mjp0aGlzLmJib3hlc1s0KnMrM119KTtmb3IodmFyIGw9MDtsPHRoaXMuY2lyY2xlS2V5cy5sZW5ndGg7bCsrKXt2YXIgYz10aGlzLmNpcmNsZXNbMypsXSx1PXRoaXMuY2lyY2xlc1szKmwrMV0saD10aGlzLmNpcmNsZXNbMypsKzJdO24ucHVzaCh7a2V5OnRoaXMuY2lyY2xlS2V5c1tsXSx4MTpjLWgseTE6dS1oLHgyOmMraCx5Mjp1K2h9KTt9cmV0dXJuIGE/bi5maWx0ZXIoYSk6bn1yZXR1cm4gdGhpcy5fZm9yRWFjaENlbGwodCxlLGksbyx0aGlzLl9xdWVyeUNlbGwsbix7aGl0VGVzdDpyLHNlZW5VaWRzOntib3g6e30sY2lyY2xlOnt9fX0sYSkscj9uLmxlbmd0aD4wOm59LFl0LnByb3RvdHlwZS5fcXVlcnlDaXJjbGU9ZnVuY3Rpb24odCxlLGksbyxyKXt2YXIgYT10LWksbj10K2kscz1lLWksbD1lK2k7aWYobjwwfHxhPnRoaXMud2lkdGh8fGw8MHx8cz50aGlzLmhlaWdodClyZXR1cm4gIW8mJltdO3ZhciBjPVtdO3JldHVybiB0aGlzLl9mb3JFYWNoQ2VsbChhLHMsbixsLHRoaXMuX3F1ZXJ5Q2VsbENpcmNsZSxjLHtoaXRUZXN0Om8sY2lyY2xlOnt4OnQseTplLHJhZGl1czppfSxzZWVuVWlkczp7Ym94Ont9LGNpcmNsZTp7fX19LHIpLG8/Yy5sZW5ndGg+MDpjfSxZdC5wcm90b3R5cGUucXVlcnk9ZnVuY3Rpb24odCxlLGksbyxyKXtyZXR1cm4gdGhpcy5fcXVlcnkodCxlLGksbywhMSxyKX0sWXQucHJvdG90eXBlLmhpdFRlc3Q9ZnVuY3Rpb24odCxlLGksbyxyKXtyZXR1cm4gdGhpcy5fcXVlcnkodCxlLGksbywhMCxyKX0sWXQucHJvdG90eXBlLmhpdFRlc3RDaXJjbGU9ZnVuY3Rpb24odCxlLGksbyl7cmV0dXJuIHRoaXMuX3F1ZXJ5Q2lyY2xlKHQsZSxpLCEwLG8pfSxZdC5wcm90b3R5cGUuX3F1ZXJ5Q2VsbD1mdW5jdGlvbih0LGUsaSxvLHIsYSxuLHMpe3ZhciBsPW4uc2VlblVpZHMsYz10aGlzLmJveENlbGxzW3JdO2lmKG51bGwhPT1jKWZvcih2YXIgdT10aGlzLmJib3hlcyxoPTAscD1jO2g8cC5sZW5ndGg7aCs9MSl7dmFyIGQ9cFtoXTtpZighbC5ib3hbZF0pe2wuYm94W2RdPSEwO3ZhciBfPTQqZDtpZih0PD11W18rMl0mJmU8PXVbXyszXSYmaT49dVtfKzBdJiZvPj11W18rMV0mJighc3x8cyh0aGlzLmJveEtleXNbZF0pKSl7aWYobi5oaXRUZXN0KXJldHVybiBhLnB1c2goITApLCEwO2EucHVzaCh7a2V5OnRoaXMuYm94S2V5c1tkXSx4MTp1W19dLHkxOnVbXysxXSx4Mjp1W18rMl0seTI6dVtfKzNdfSk7fX19dmFyIGY9dGhpcy5jaXJjbGVDZWxsc1tyXTtpZihudWxsIT09Zilmb3IodmFyIG09dGhpcy5jaXJjbGVzLGc9MCx2PWY7Zzx2Lmxlbmd0aDtnKz0xKXt2YXIgeT12W2ddO2lmKCFsLmNpcmNsZVt5XSl7bC5jaXJjbGVbeV09ITA7dmFyIHg9Myp5O2lmKHRoaXMuX2NpcmNsZUFuZFJlY3RDb2xsaWRlKG1beF0sbVt4KzFdLG1beCsyXSx0LGUsaSxvKSYmKCFzfHxzKHRoaXMuY2lyY2xlS2V5c1t5XSkpKXtpZihuLmhpdFRlc3QpcmV0dXJuIGEucHVzaCghMCksITA7dmFyIGI9bVt4XSx3PW1beCsxXSxUPW1beCsyXTthLnB1c2goe2tleTp0aGlzLmNpcmNsZUtleXNbeV0seDE6Yi1ULHkxOnctVCx4MjpiK1QseTI6dytUfSk7fX19fSxZdC5wcm90b3R5cGUuX3F1ZXJ5Q2VsbENpcmNsZT1mdW5jdGlvbih0LGUsaSxvLHIsYSxuLHMpe3ZhciBsPW4uY2lyY2xlLGM9bi5zZWVuVWlkcyx1PXRoaXMuYm94Q2VsbHNbcl07aWYobnVsbCE9PXUpZm9yKHZhciBoPXRoaXMuYmJveGVzLHA9MCxkPXU7cDxkLmxlbmd0aDtwKz0xKXt2YXIgXz1kW3BdO2lmKCFjLmJveFtfXSl7Yy5ib3hbX109ITA7dmFyIGY9NCpfO2lmKHRoaXMuX2NpcmNsZUFuZFJlY3RDb2xsaWRlKGwueCxsLnksbC5yYWRpdXMsaFtmKzBdLGhbZisxXSxoW2YrMl0saFtmKzNdKSYmKCFzfHxzKHRoaXMuYm94S2V5c1tfXSkpKXJldHVybiBhLnB1c2goITApLCEwfX12YXIgbT10aGlzLmNpcmNsZUNlbGxzW3JdO2lmKG51bGwhPT1tKWZvcih2YXIgZz10aGlzLmNpcmNsZXMsdj0wLHk9bTt2PHkubGVuZ3RoO3YrPTEpe3ZhciB4PXlbdl07aWYoIWMuY2lyY2xlW3hdKXtjLmNpcmNsZVt4XT0hMDt2YXIgYj0zKng7aWYodGhpcy5fY2lyY2xlc0NvbGxpZGUoZ1tiXSxnW2IrMV0sZ1tiKzJdLGwueCxsLnksbC5yYWRpdXMpJiYoIXN8fHModGhpcy5jaXJjbGVLZXlzW3hdKSkpcmV0dXJuIGEucHVzaCghMCksITB9fX0sWXQucHJvdG90eXBlLl9mb3JFYWNoQ2VsbD1mdW5jdGlvbih0LGUsaSxvLHIsYSxuLHMpe2Zvcih2YXIgbD10aGlzLl9jb252ZXJ0VG9YQ2VsbENvb3JkKHQpLGM9dGhpcy5fY29udmVydFRvWUNlbGxDb29yZChlKSx1PXRoaXMuX2NvbnZlcnRUb1hDZWxsQ29vcmQoaSksaD10aGlzLl9jb252ZXJ0VG9ZQ2VsbENvb3JkKG8pLHA9bDtwPD11O3ArKylmb3IodmFyIGQ9YztkPD1oO2QrKylpZihyLmNhbGwodGhpcyx0LGUsaSxvLHRoaXMueENlbGxDb3VudCpkK3AsYSxuLHMpKXJldHVybn0sWXQucHJvdG90eXBlLl9jb252ZXJ0VG9YQ2VsbENvb3JkPWZ1bmN0aW9uKHQpe3JldHVybiBNYXRoLm1heCgwLE1hdGgubWluKHRoaXMueENlbGxDb3VudC0xLE1hdGguZmxvb3IodCp0aGlzLnhTY2FsZSkpKX0sWXQucHJvdG90eXBlLl9jb252ZXJ0VG9ZQ2VsbENvb3JkPWZ1bmN0aW9uKHQpe3JldHVybiBNYXRoLm1heCgwLE1hdGgubWluKHRoaXMueUNlbGxDb3VudC0xLE1hdGguZmxvb3IodCp0aGlzLnlTY2FsZSkpKX0sWXQucHJvdG90eXBlLl9jaXJjbGVzQ29sbGlkZT1mdW5jdGlvbih0LGUsaSxvLHIsYSl7dmFyIG49by10LHM9ci1lLGw9aSthO3JldHVybiBsKmw+bipuK3Mqc30sWXQucHJvdG90eXBlLl9jaXJjbGVBbmRSZWN0Q29sbGlkZT1mdW5jdGlvbih0LGUsaSxvLHIsYSxuKXt2YXIgcz0oYS1vKS8yLGw9TWF0aC5hYnModC0obytzKSk7aWYobD5zK2kpcmV0dXJuICExO3ZhciBjPShuLXIpLzIsdT1NYXRoLmFicyhlLShyK2MpKTtpZih1PmMraSlyZXR1cm4gITE7aWYobDw9c3x8dTw9YylyZXR1cm4gITA7dmFyIGg9bC1zLHA9dS1jO3JldHVybiBoKmgrcCpwPD1pKml9O3ZhciBsZT1uZXcgRmxvYXQzMkFycmF5KFstMS8wLC0xLzAsMCwtMS8wLC0xLzAsMCwtMS8wLC0xLzAsMCwtMS8wLC0xLzAsMF0pO2Z1bmN0aW9uIGNlKHQsZSl7Zm9yKHZhciBpPTA7aTx0O2krKyl7dmFyIG89ZS5sZW5ndGg7ZS5yZXNpemUobys0KSxlLmZsb2F0MzIuc2V0KGxlLDMqbyk7fX1mdW5jdGlvbiB1ZSh0LGUsaSl7dmFyIG89ZVswXSxyPWVbMV07cmV0dXJuIHRbMF09aVswXSpvK2lbNF0qcitpWzEyXSx0WzFdPWlbMV0qbytpWzVdKnIraVsxM10sdFszXT1pWzNdKm8raVs3XSpyK2lbMTVdLHR9dmFyIGhlPWZ1bmN0aW9uKHQsZSxpKXt2b2lkIDA9PT1lJiYoZT1uZXcgWXQodC53aWR0aCsyMDAsdC5oZWlnaHQrMjAwLDI1KSksdm9pZCAwPT09aSYmKGk9bmV3IFl0KHQud2lkdGgrMjAwLHQuaGVpZ2h0KzIwMCwyNSkpLHRoaXMudHJhbnNmb3JtPXQsdGhpcy5ncmlkPWUsdGhpcy5pZ25vcmVkR3JpZD1pLHRoaXMucGl0Y2hmYWN0b3I9TWF0aC5jb3ModC5fcGl0Y2gpKnQuY2FtZXJhVG9DZW50ZXJEaXN0YW5jZSx0aGlzLnNjcmVlblJpZ2h0Qm91bmRhcnk9dC53aWR0aCsxMDAsdGhpcy5zY3JlZW5Cb3R0b21Cb3VuZGFyeT10LmhlaWdodCsxMDAsdGhpcy5ncmlkUmlnaHRCb3VuZGFyeT10LndpZHRoKzIwMCx0aGlzLmdyaWRCb3R0b21Cb3VuZGFyeT10LmhlaWdodCsyMDA7fTtmdW5jdGlvbiBwZShlLGksbyl7cmV0dXJuIGkqKHQuRVhURU5ULyhlLnRpbGVTaXplKk1hdGgucG93KDIsby1lLnRpbGVJRC5vdmVyc2NhbGVkWikpKX1oZS5wcm90b3R5cGUucGxhY2VDb2xsaXNpb25Cb3g9ZnVuY3Rpb24odCxlLGksbyxyKXt2YXIgYT10aGlzLnByb2plY3RBbmRHZXRQZXJzcGVjdGl2ZVJhdGlvKG8sdC5hbmNob3JQb2ludFgsdC5hbmNob3JQb2ludFkpLG49aSphLnBlcnNwZWN0aXZlUmF0aW8scz10LngxKm4rYS5wb2ludC54LGw9dC55MSpuK2EucG9pbnQueSxjPXQueDIqbithLnBvaW50LngsdT10LnkyKm4rYS5wb2ludC55O3JldHVybiAhdGhpcy5pc0luc2lkZUdyaWQocyxsLGMsdSl8fCFlJiZ0aGlzLmdyaWQuaGl0VGVzdChzLGwsYyx1LHIpP3tib3g6W10sb2Zmc2NyZWVuOiExfTp7Ym94OltzLGwsYyx1XSxvZmZzY3JlZW46dGhpcy5pc09mZnNjcmVlbihzLGwsYyx1KX19LGhlLnByb3RvdHlwZS5wbGFjZUNvbGxpc2lvbkNpcmNsZXM9ZnVuY3Rpb24oZSxpLG8scixhLG4scyxsLGMsdSxoLHAsZCl7dmFyIF89W10sZj1uZXcgdC5Qb2ludChpLmFuY2hvclgsaS5hbmNob3JZKSxtPSR0KGYsbiksZz10ZSh0aGlzLnRyYW5zZm9ybS5jYW1lcmFUb0NlbnRlckRpc3RhbmNlLG0uc2lnbmVkRGlzdGFuY2VGcm9tQ2FtZXJhKSx2PSh1P2EvZzphKmcpL3QuT05FX0VNLHk9JHQoZixzKS5wb2ludCx4PW9lKHYscixpLmxpbmVPZmZzZXRYKnYsaS5saW5lT2Zmc2V0WSp2LCExLHksZixpLG8scyx7fSksYj0hMSx3PSExLFQ9ITA7aWYoeCl7Zm9yKHZhciBFPS41KnAqZytkLEk9bmV3IHQuUG9pbnQoLTEwMCwtMTAwKSxQPW5ldyB0LlBvaW50KHRoaXMuc2NyZWVuUmlnaHRCb3VuZGFyeSx0aGlzLnNjcmVlbkJvdHRvbUJvdW5kYXJ5KSxTPW5ldyBLdCxDPXguZmlyc3Qsej14Lmxhc3QsRD1bXSxNPUMucGF0aC5sZW5ndGgtMTtNPj0xO00tLSlELnB1c2goQy5wYXRoW01dKTtmb3IodmFyIEE9MTtBPHoucGF0aC5sZW5ndGg7QSsrKUQucHVzaCh6LnBhdGhbQV0pO3ZhciBMPTIuNSpFO2lmKGwpe3ZhciBSPUQubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gJHQodCxsKX0pKTtEPVIuc29tZSgoZnVuY3Rpb24odCl7cmV0dXJuIHQuc2lnbmVkRGlzdGFuY2VGcm9tQ2FtZXJhPD0wfSkpP1tdOlIubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gdC5wb2ludH0pKTt9dmFyIGs9W107aWYoRC5sZW5ndGg+MCl7Zm9yKHZhciBCPURbMF0uY2xvbmUoKSxPPURbMF0uY2xvbmUoKSxGPTE7RjxELmxlbmd0aDtGKyspQi54PU1hdGgubWluKEIueCxEW0ZdLngpLEIueT1NYXRoLm1pbihCLnksRFtGXS55KSxPLng9TWF0aC5tYXgoTy54LERbRl0ueCksTy55PU1hdGgubWF4KE8ueSxEW0ZdLnkpO2s9Qi54Pj1JLngmJk8ueDw9UC54JiZCLnk+PUkueSYmTy55PD1QLnk/W0RdOk8ueDxJLnh8fEIueD5QLnh8fE8ueTxJLnl8fEIueT5QLnk/W106dC5jbGlwTGluZShbRF0sSS54LEkueSxQLngsUC55KTt9Zm9yKHZhciBVPTAsTj1rO1U8Ti5sZW5ndGg7VSs9MSl7dmFyIFo7Uy5yZXNldChOW1VdLC4yNSpFKSxaPVMubGVuZ3RoPD0uNSpFPzE6TWF0aC5jZWlsKFMucGFkZGVkTGVuZ3RoL0wpKzE7Zm9yKHZhciBqPTA7ajxaO2orKyl7dmFyIHE9ai9NYXRoLm1heChaLTEsMSksVj1TLmxlcnAocSksRz1WLngrMTAwLFc9Vi55KzEwMDtfLnB1c2goRyxXLEUsMCk7dmFyIFg9Ry1FLEg9Vy1FLEs9RytFLFk9VytFO2lmKFQ9VCYmdGhpcy5pc09mZnNjcmVlbihYLEgsSyxZKSx3PXd8fHRoaXMuaXNJbnNpZGVHcmlkKFgsSCxLLFkpLCFlJiZ0aGlzLmdyaWQuaGl0VGVzdENpcmNsZShHLFcsRSxoKSYmKGI9ITAsIWMpKXJldHVybiB7Y2lyY2xlczpbXSxvZmZzY3JlZW46ITEsY29sbGlzaW9uRGV0ZWN0ZWQ6Yn19fX1yZXR1cm4ge2NpcmNsZXM6IWMmJmJ8fCF3P1tdOl8sb2Zmc2NyZWVuOlQsY29sbGlzaW9uRGV0ZWN0ZWQ6Yn19LGhlLnByb3RvdHlwZS5xdWVyeVJlbmRlcmVkU3ltYm9scz1mdW5jdGlvbihlKXtpZigwPT09ZS5sZW5ndGh8fDA9PT10aGlzLmdyaWQua2V5c0xlbmd0aCgpJiYwPT09dGhpcy5pZ25vcmVkR3JpZC5rZXlzTGVuZ3RoKCkpcmV0dXJuIHt9O2Zvcih2YXIgaT1bXSxvPTEvMCxyPTEvMCxhPS0xLzAsbj0tMS8wLHM9MCxsPWU7czxsLmxlbmd0aDtzKz0xKXt2YXIgYz1sW3NdLHU9bmV3IHQuUG9pbnQoYy54KzEwMCxjLnkrMTAwKTtvPU1hdGgubWluKG8sdS54KSxyPU1hdGgubWluKHIsdS55KSxhPU1hdGgubWF4KGEsdS54KSxuPU1hdGgubWF4KG4sdS55KSxpLnB1c2godSk7fWZvcih2YXIgaD17fSxwPXt9LGQ9MCxfPXRoaXMuZ3JpZC5xdWVyeShvLHIsYSxuKS5jb25jYXQodGhpcy5pZ25vcmVkR3JpZC5xdWVyeShvLHIsYSxuKSk7ZDxfLmxlbmd0aDtkKz0xKXt2YXIgZj1fW2RdLG09Zi5rZXk7aWYodm9pZCAwPT09aFttLmJ1Y2tldEluc3RhbmNlSWRdJiYoaFttLmJ1Y2tldEluc3RhbmNlSWRdPXt9KSwhaFttLmJ1Y2tldEluc3RhbmNlSWRdW20uZmVhdHVyZUluZGV4XSl7dmFyIGc9W25ldyB0LlBvaW50KGYueDEsZi55MSksbmV3IHQuUG9pbnQoZi54MixmLnkxKSxuZXcgdC5Qb2ludChmLngyLGYueTIpLG5ldyB0LlBvaW50KGYueDEsZi55MildO3QucG9seWdvbkludGVyc2VjdHNQb2x5Z29uKGksZykmJihoW20uYnVja2V0SW5zdGFuY2VJZF1bbS5mZWF0dXJlSW5kZXhdPSEwLHZvaWQgMD09PXBbbS5idWNrZXRJbnN0YW5jZUlkXSYmKHBbbS5idWNrZXRJbnN0YW5jZUlkXT1bXSkscFttLmJ1Y2tldEluc3RhbmNlSWRdLnB1c2gobS5mZWF0dXJlSW5kZXgpKTt9fXJldHVybiBwfSxoZS5wcm90b3R5cGUuaW5zZXJ0Q29sbGlzaW9uQm94PWZ1bmN0aW9uKHQsZSxpLG8scil7KGU/dGhpcy5pZ25vcmVkR3JpZDp0aGlzLmdyaWQpLmluc2VydCh7YnVja2V0SW5zdGFuY2VJZDppLGZlYXR1cmVJbmRleDpvLGNvbGxpc2lvbkdyb3VwSUQ6cn0sdFswXSx0WzFdLHRbMl0sdFszXSk7fSxoZS5wcm90b3R5cGUuaW5zZXJ0Q29sbGlzaW9uQ2lyY2xlcz1mdW5jdGlvbih0LGUsaSxvLHIpe2Zvcih2YXIgYT1lP3RoaXMuaWdub3JlZEdyaWQ6dGhpcy5ncmlkLG49e2J1Y2tldEluc3RhbmNlSWQ6aSxmZWF0dXJlSW5kZXg6byxjb2xsaXNpb25Hcm91cElEOnJ9LHM9MDtzPHQubGVuZ3RoO3MrPTQpYS5pbnNlcnRDaXJjbGUobix0W3NdLHRbcysxXSx0W3MrMl0pO30saGUucHJvdG90eXBlLnByb2plY3RBbmRHZXRQZXJzcGVjdGl2ZVJhdGlvPWZ1bmN0aW9uKGUsaSxvKXt2YXIgcj1baSxvLDAsMV07cmV0dXJuIHVlKHIscixlKSx7cG9pbnQ6bmV3IHQuUG9pbnQoKHJbMF0vclszXSsxKS8yKnRoaXMudHJhbnNmb3JtLndpZHRoKzEwMCwoLXJbMV0vclszXSsxKS8yKnRoaXMudHJhbnNmb3JtLmhlaWdodCsxMDApLHBlcnNwZWN0aXZlUmF0aW86LjUrdGhpcy50cmFuc2Zvcm0uY2FtZXJhVG9DZW50ZXJEaXN0YW5jZS9yWzNdKi41fX0saGUucHJvdG90eXBlLmlzT2Zmc2NyZWVuPWZ1bmN0aW9uKHQsZSxpLG8pe3JldHVybiBpPDEwMHx8dD49dGhpcy5zY3JlZW5SaWdodEJvdW5kYXJ5fHxvPDEwMHx8ZT50aGlzLnNjcmVlbkJvdHRvbUJvdW5kYXJ5fSxoZS5wcm90b3R5cGUuaXNJbnNpZGVHcmlkPWZ1bmN0aW9uKHQsZSxpLG8pe3JldHVybiBpPj0wJiZ0PHRoaXMuZ3JpZFJpZ2h0Qm91bmRhcnkmJm8+PTAmJmU8dGhpcy5ncmlkQm90dG9tQm91bmRhcnl9LGhlLnByb3RvdHlwZS5nZXRWaWV3cG9ydE1hdHJpeD1mdW5jdGlvbigpe3ZhciBlPXQuaWRlbnRpdHkoW10pO3JldHVybiB0LnRyYW5zbGF0ZShlLGUsWy0xMDAsLTEwMCwwXSksZX07dmFyIGRlPWZ1bmN0aW9uKHQsZSxpLG8pe3RoaXMub3BhY2l0eT10P01hdGgubWF4KDAsTWF0aC5taW4oMSx0Lm9wYWNpdHkrKHQucGxhY2VkP2U6LWUpKSk6byYmaT8xOjAsdGhpcy5wbGFjZWQ9aTt9O2RlLnByb3RvdHlwZS5pc0hpZGRlbj1mdW5jdGlvbigpe3JldHVybiAwPT09dGhpcy5vcGFjaXR5JiYhdGhpcy5wbGFjZWR9O3ZhciBfZT1mdW5jdGlvbih0LGUsaSxvLHIpe3RoaXMudGV4dD1uZXcgZGUodD90LnRleHQ6bnVsbCxlLGksciksdGhpcy5pY29uPW5ldyBkZSh0P3QuaWNvbjpudWxsLGUsbyxyKTt9O19lLnByb3RvdHlwZS5pc0hpZGRlbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLnRleHQuaXNIaWRkZW4oKSYmdGhpcy5pY29uLmlzSGlkZGVuKCl9O3ZhciBmZT1mdW5jdGlvbih0LGUsaSl7dGhpcy50ZXh0PXQsdGhpcy5pY29uPWUsdGhpcy5za2lwRmFkZT1pO30sbWU9ZnVuY3Rpb24oKXt0aGlzLmludlByb2pNYXRyaXg9dC5jcmVhdGUoKSx0aGlzLnZpZXdwb3J0TWF0cml4PXQuY3JlYXRlKCksdGhpcy5jaXJjbGVzPVtdO30sZ2U9ZnVuY3Rpb24odCxlLGksbyxyKXt0aGlzLmJ1Y2tldEluc3RhbmNlSWQ9dCx0aGlzLmZlYXR1cmVJbmRleD1lLHRoaXMuc291cmNlTGF5ZXJJbmRleD1pLHRoaXMuYnVja2V0SW5kZXg9byx0aGlzLnRpbGVJRD1yO30sdmU9ZnVuY3Rpb24odCl7dGhpcy5jcm9zc1NvdXJjZUNvbGxpc2lvbnM9dCx0aGlzLm1heEdyb3VwSUQ9MCx0aGlzLmNvbGxpc2lvbkdyb3Vwcz17fTt9O2Z1bmN0aW9uIHllKGUsaSxvLHIsYSl7dmFyIG49dC5nZXRBbmNob3JBbGlnbm1lbnQoZSkscz0tKG4uaG9yaXpvbnRhbEFsaWduLS41KSppLGw9LShuLnZlcnRpY2FsQWxpZ24tLjUpKm8sYz10LmV2YWx1YXRlVmFyaWFibGVPZmZzZXQoZSxyKTtyZXR1cm4gbmV3IHQuUG9pbnQocytjWzBdKmEsbCtjWzFdKmEpfWZ1bmN0aW9uIHhlKGUsaSxvLHIsYSxuKXt2YXIgcz1lLngxLGw9ZS54MixjPWUueTEsdT1lLnkyLGg9ZS5hbmNob3JQb2ludFgscD1lLmFuY2hvclBvaW50WSxkPW5ldyB0LlBvaW50KGksbyk7cmV0dXJuIHImJmQuX3JvdGF0ZShhP246LW4pLHt4MTpzK2QueCx5MTpjK2QueSx4MjpsK2QueCx5Mjp1K2QueSxhbmNob3JQb2ludFg6aCxhbmNob3JQb2ludFk6cH19dmUucHJvdG90eXBlLmdldD1mdW5jdGlvbih0KXtpZih0aGlzLmNyb3NzU291cmNlQ29sbGlzaW9ucylyZXR1cm4ge0lEOjAscHJlZGljYXRlOm51bGx9O2lmKCF0aGlzLmNvbGxpc2lvbkdyb3Vwc1t0XSl7dmFyIGU9Kyt0aGlzLm1heEdyb3VwSUQ7dGhpcy5jb2xsaXNpb25Hcm91cHNbdF09e0lEOmUscHJlZGljYXRlOmZ1bmN0aW9uKHQpe3JldHVybiB0LmNvbGxpc2lvbkdyb3VwSUQ9PT1lfX07fXJldHVybiB0aGlzLmNvbGxpc2lvbkdyb3Vwc1t0XX07dmFyIGJlPWZ1bmN0aW9uKHQsZSxpLG8pe3RoaXMudHJhbnNmb3JtPXQuY2xvbmUoKSx0aGlzLmNvbGxpc2lvbkluZGV4PW5ldyBoZSh0aGlzLnRyYW5zZm9ybSksdGhpcy5wbGFjZW1lbnRzPXt9LHRoaXMub3BhY2l0aWVzPXt9LHRoaXMudmFyaWFibGVPZmZzZXRzPXt9LHRoaXMuc3RhbGU9ITEsdGhpcy5jb21taXRUaW1lPTAsdGhpcy5mYWRlRHVyYXRpb249ZSx0aGlzLnJldGFpbmVkUXVlcnlEYXRhPXt9LHRoaXMuY29sbGlzaW9uR3JvdXBzPW5ldyB2ZShpKSx0aGlzLmNvbGxpc2lvbkNpcmNsZUFycmF5cz17fSx0aGlzLnByZXZQbGFjZW1lbnQ9byxvJiYoby5wcmV2UGxhY2VtZW50PXZvaWQgMCksdGhpcy5wbGFjZWRPcmllbnRhdGlvbnM9e307fTtmdW5jdGlvbiB3ZSh0LGUsaSxvLHIpe3QuZW1wbGFjZUJhY2soZT8xOjAsaT8xOjAsb3x8MCxyfHwwKSx0LmVtcGxhY2VCYWNrKGU/MTowLGk/MTowLG98fDAscnx8MCksdC5lbXBsYWNlQmFjayhlPzE6MCxpPzE6MCxvfHwwLHJ8fDApLHQuZW1wbGFjZUJhY2soZT8xOjAsaT8xOjAsb3x8MCxyfHwwKTt9YmUucHJvdG90eXBlLmdldEJ1Y2tldFBhcnRzPWZ1bmN0aW9uKGUsaSxvLHIpe3ZhciBhPW8uZ2V0QnVja2V0KGkpLG49by5sYXRlc3RGZWF0dXJlSW5kZXg7aWYoYSYmbiYmaS5pZD09PWEubGF5ZXJJZHNbMF0pe3ZhciBzPW8uY29sbGlzaW9uQm94QXJyYXksbD1hLmxheWVyc1swXS5sYXlvdXQsYz1NYXRoLnBvdygyLHRoaXMudHJhbnNmb3JtLnpvb20tby50aWxlSUQub3ZlcnNjYWxlZFopLHU9by50aWxlU2l6ZS90LkVYVEVOVCxoPXRoaXMudHJhbnNmb3JtLmNhbGN1bGF0ZVBvc01hdHJpeChvLnRpbGVJRC50b1Vud3JhcHBlZCgpKSxwPSJtYXAiPT09bC5nZXQoInRleHQtcGl0Y2gtYWxpZ25tZW50IiksZD0ibWFwIj09PWwuZ2V0KCJ0ZXh0LXJvdGF0aW9uLWFsaWdubWVudCIpLF89cGUobywxLHRoaXMudHJhbnNmb3JtLnpvb20pLGY9SnQoaCxwLGQsdGhpcy50cmFuc2Zvcm0sXyksbT1udWxsO2lmKHApe3ZhciBnPVF0KGgscCxkLHRoaXMudHJhbnNmb3JtLF8pO209dC5tdWx0aXBseShbXSx0aGlzLnRyYW5zZm9ybS5sYWJlbFBsYW5lTWF0cml4LGcpO310aGlzLnJldGFpbmVkUXVlcnlEYXRhW2EuYnVja2V0SW5zdGFuY2VJZF09bmV3IGdlKGEuYnVja2V0SW5zdGFuY2VJZCxuLGEuc291cmNlTGF5ZXJJbmRleCxhLmluZGV4LG8udGlsZUlEKTt2YXIgdj17YnVja2V0OmEsbGF5b3V0OmwscG9zTWF0cml4OmgsdGV4dExhYmVsUGxhbmVNYXRyaXg6ZixsYWJlbFRvU2NyZWVuTWF0cml4Om0sc2NhbGU6Yyx0ZXh0UGl4ZWxSYXRpbzp1LGhvbGRpbmdGb3JGYWRlOm8uaG9sZGluZ0ZvckZhZGUoKSxjb2xsaXNpb25Cb3hBcnJheTpzLHBhcnRpYWxseUV2YWx1YXRlZFRleHRTaXplOnQuZXZhbHVhdGVTaXplRm9yWm9vbShhLnRleHRTaXplRGF0YSx0aGlzLnRyYW5zZm9ybS56b29tKSxjb2xsaXNpb25Hcm91cDp0aGlzLmNvbGxpc2lvbkdyb3Vwcy5nZXQoYS5zb3VyY2VJRCl9O2lmKHIpZm9yKHZhciB5PTAseD1hLnNvcnRLZXlSYW5nZXM7eTx4Lmxlbmd0aDt5Kz0xKXt2YXIgYj14W3ldO2UucHVzaCh7c29ydEtleTpiLnNvcnRLZXksc3ltYm9sSW5zdGFuY2VTdGFydDpiLnN5bWJvbEluc3RhbmNlU3RhcnQsc3ltYm9sSW5zdGFuY2VFbmQ6Yi5zeW1ib2xJbnN0YW5jZUVuZCxwYXJhbWV0ZXJzOnZ9KTt9ZWxzZSBlLnB1c2goe3N5bWJvbEluc3RhbmNlU3RhcnQ6MCxzeW1ib2xJbnN0YW5jZUVuZDphLnN5bWJvbEluc3RhbmNlcy5sZW5ndGgscGFyYW1ldGVyczp2fSk7fX0sYmUucHJvdG90eXBlLmF0dGVtcHRBbmNob3JQbGFjZW1lbnQ9ZnVuY3Rpb24odCxlLGksbyxyLGEsbixzLGwsYyx1LGgscCxkLF8pe3ZhciBmLG09W2gudGV4dE9mZnNldDAsaC50ZXh0T2Zmc2V0MV0sZz15ZSh0LGksbyxtLHIpLHY9dGhpcy5jb2xsaXNpb25JbmRleC5wbGFjZUNvbGxpc2lvbkJveCh4ZShlLGcueCxnLnksYSxuLHRoaXMudHJhbnNmb3JtLmFuZ2xlKSx1LHMsbCxjLnByZWRpY2F0ZSk7aWYoIV98fDAhPT10aGlzLmNvbGxpc2lvbkluZGV4LnBsYWNlQ29sbGlzaW9uQm94KHhlKF8sZy54LGcueSxhLG4sdGhpcy50cmFuc2Zvcm0uYW5nbGUpLHUscyxsLGMucHJlZGljYXRlKS5ib3gubGVuZ3RoKXJldHVybiB2LmJveC5sZW5ndGg+MD8odGhpcy5wcmV2UGxhY2VtZW50JiZ0aGlzLnByZXZQbGFjZW1lbnQudmFyaWFibGVPZmZzZXRzW2guY3Jvc3NUaWxlSURdJiZ0aGlzLnByZXZQbGFjZW1lbnQucGxhY2VtZW50c1toLmNyb3NzVGlsZUlEXSYmdGhpcy5wcmV2UGxhY2VtZW50LnBsYWNlbWVudHNbaC5jcm9zc1RpbGVJRF0udGV4dCYmKGY9dGhpcy5wcmV2UGxhY2VtZW50LnZhcmlhYmxlT2Zmc2V0c1toLmNyb3NzVGlsZUlEXS5hbmNob3IpLHRoaXMudmFyaWFibGVPZmZzZXRzW2guY3Jvc3NUaWxlSURdPXt0ZXh0T2Zmc2V0Om0sd2lkdGg6aSxoZWlnaHQ6byxhbmNob3I6dCx0ZXh0Qm94U2NhbGU6cixwcmV2QW5jaG9yOmZ9LHRoaXMubWFya1VzZWRKdXN0aWZpY2F0aW9uKHAsdCxoLGQpLHAuYWxsb3dWZXJ0aWNhbFBsYWNlbWVudCYmKHRoaXMubWFya1VzZWRPcmllbnRhdGlvbihwLGQsaCksdGhpcy5wbGFjZWRPcmllbnRhdGlvbnNbaC5jcm9zc1RpbGVJRF09ZCkse3NoaWZ0OmcscGxhY2VkR2x5cGhCb3hlczp2fSk6dm9pZCAwfSxiZS5wcm90b3R5cGUucGxhY2VMYXllckJ1Y2tldFBhcnQ9ZnVuY3Rpb24oZSxpLG8pe3ZhciByPXRoaXMsYT1lLnBhcmFtZXRlcnMsbj1hLmJ1Y2tldCxzPWEubGF5b3V0LGw9YS5wb3NNYXRyaXgsYz1hLnRleHRMYWJlbFBsYW5lTWF0cml4LHU9YS5sYWJlbFRvU2NyZWVuTWF0cml4LGg9YS50ZXh0UGl4ZWxSYXRpbyxwPWEuaG9sZGluZ0ZvckZhZGUsZD1hLmNvbGxpc2lvbkJveEFycmF5LF89YS5wYXJ0aWFsbHlFdmFsdWF0ZWRUZXh0U2l6ZSxmPWEuY29sbGlzaW9uR3JvdXAsbT1zLmdldCgidGV4dC1vcHRpb25hbCIpLGc9cy5nZXQoImljb24tb3B0aW9uYWwiKSx2PXMuZ2V0KCJ0ZXh0LWFsbG93LW92ZXJsYXAiKSx5PXMuZ2V0KCJpY29uLWFsbG93LW92ZXJsYXAiKSx4PSJtYXAiPT09cy5nZXQoInRleHQtcm90YXRpb24tYWxpZ25tZW50IiksYj0ibWFwIj09PXMuZ2V0KCJ0ZXh0LXBpdGNoLWFsaWdubWVudCIpLHc9Im5vbmUiIT09cy5nZXQoImljb24tdGV4dC1maXQiKSxUPSJ2aWV3cG9ydC15Ij09PXMuZ2V0KCJzeW1ib2wtei1vcmRlciIpLEU9diYmKHl8fCFuLmhhc0ljb25EYXRhKCl8fGcpLEk9eSYmKHZ8fCFuLmhhc1RleHREYXRhKCl8fG0pOyFuLmNvbGxpc2lvbkFycmF5cyYmZCYmbi5kZXNlcmlhbGl6ZUNvbGxpc2lvbkJveGVzKGQpO3ZhciBQPWZ1bmN0aW9uKGUsYSl7aWYoIWlbZS5jcm9zc1RpbGVJRF0paWYocClyLnBsYWNlbWVudHNbZS5jcm9zc1RpbGVJRF09bmV3IGZlKCExLCExLCExKTtlbHNlIHt2YXIgZCxUPSExLFA9ITEsUz0hMCxDPW51bGwsej17Ym94Om51bGwsb2Zmc2NyZWVuOm51bGx9LEQ9e2JveDpudWxsLG9mZnNjcmVlbjpudWxsfSxNPW51bGwsQT1udWxsLEw9MCxSPTAsaz0wO2EudGV4dEZlYXR1cmVJbmRleD9MPWEudGV4dEZlYXR1cmVJbmRleDplLnVzZVJ1bnRpbWVDb2xsaXNpb25DaXJjbGVzJiYoTD1lLmZlYXR1cmVJbmRleCksYS52ZXJ0aWNhbFRleHRGZWF0dXJlSW5kZXgmJihSPWEudmVydGljYWxUZXh0RmVhdHVyZUluZGV4KTt2YXIgQj1hLnRleHRCb3g7aWYoQil7dmFyIE89ZnVuY3Rpb24oaSl7dmFyIG89dC5Xcml0aW5nTW9kZS5ob3Jpem9udGFsO2lmKG4uYWxsb3dWZXJ0aWNhbFBsYWNlbWVudCYmIWkmJnIucHJldlBsYWNlbWVudCl7dmFyIGE9ci5wcmV2UGxhY2VtZW50LnBsYWNlZE9yaWVudGF0aW9uc1tlLmNyb3NzVGlsZUlEXTthJiYoci5wbGFjZWRPcmllbnRhdGlvbnNbZS5jcm9zc1RpbGVJRF09YSxyLm1hcmtVc2VkT3JpZW50YXRpb24obixvPWEsZSkpO31yZXR1cm4gb30sRj1mdW5jdGlvbihpLG8pe2lmKG4uYWxsb3dWZXJ0aWNhbFBsYWNlbWVudCYmZS5udW1WZXJ0aWNhbEdseXBoVmVydGljZXM+MCYmYS52ZXJ0aWNhbFRleHRCb3gpZm9yKHZhciByPTAscz1uLndyaXRpbmdNb2RlcztyPHMubGVuZ3RoJiYoc1tyXT09PXQuV3JpdGluZ01vZGUudmVydGljYWw/KHo9bygpLEQ9eik6ej1pKCksISh6JiZ6LmJveCYmei5ib3gubGVuZ3RoKSk7cis9MSk7ZWxzZSB6PWkoKTt9O2lmKHMuZ2V0KCJ0ZXh0LXZhcmlhYmxlLWFuY2hvciIpKXt2YXIgVT1zLmdldCgidGV4dC12YXJpYWJsZS1hbmNob3IiKTtpZihyLnByZXZQbGFjZW1lbnQmJnIucHJldlBsYWNlbWVudC52YXJpYWJsZU9mZnNldHNbZS5jcm9zc1RpbGVJRF0pe3ZhciBOPXIucHJldlBsYWNlbWVudC52YXJpYWJsZU9mZnNldHNbZS5jcm9zc1RpbGVJRF07VS5pbmRleE9mKE4uYW5jaG9yKT4wJiYoVT1VLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIHQhPT1OLmFuY2hvcn0pKSkudW5zaGlmdChOLmFuY2hvcik7fXZhciBaPWZ1bmN0aW9uKHQsaSxvKXtmb3IodmFyIGE9dC54Mi10LngxLHM9dC55Mi10LnkxLGM9ZS50ZXh0Qm94U2NhbGUsdT13JiYheT9pOm51bGwscD17Ym94OltdLG9mZnNjcmVlbjohMX0sZD12PzIqVS5sZW5ndGg6VS5sZW5ndGgsXz0wO188ZDsrK18pe3ZhciBtPXIuYXR0ZW1wdEFuY2hvclBsYWNlbWVudChVW18lVS5sZW5ndGhdLHQsYSxzLGMseCxiLGgsbCxmLF8+PVUubGVuZ3RoLGUsbixvLHUpO2lmKG0mJihwPW0ucGxhY2VkR2x5cGhCb3hlcykmJnAuYm94JiZwLmJveC5sZW5ndGgpe1Q9ITAsQz1tLnNoaWZ0O2JyZWFrfX1yZXR1cm4gcH07RigoZnVuY3Rpb24oKXtyZXR1cm4gWihCLGEuaWNvbkJveCx0LldyaXRpbmdNb2RlLmhvcml6b250YWwpfSksKGZ1bmN0aW9uKCl7dmFyIGk9YS52ZXJ0aWNhbFRleHRCb3g7cmV0dXJuIG4uYWxsb3dWZXJ0aWNhbFBsYWNlbWVudCYmISh6JiZ6LmJveCYmei5ib3gubGVuZ3RoKSYmZS5udW1WZXJ0aWNhbEdseXBoVmVydGljZXM+MCYmaT9aKGksYS52ZXJ0aWNhbEljb25Cb3gsdC5Xcml0aW5nTW9kZS52ZXJ0aWNhbCk6e2JveDpudWxsLG9mZnNjcmVlbjpudWxsfX0pKSx6JiYoVD16LmJveCxTPXoub2Zmc2NyZWVuKTt2YXIgaj1PKHomJnouYm94KTtpZighVCYmci5wcmV2UGxhY2VtZW50KXt2YXIgcT1yLnByZXZQbGFjZW1lbnQudmFyaWFibGVPZmZzZXRzW2UuY3Jvc3NUaWxlSURdO3EmJihyLnZhcmlhYmxlT2Zmc2V0c1tlLmNyb3NzVGlsZUlEXT1xLHIubWFya1VzZWRKdXN0aWZpY2F0aW9uKG4scS5hbmNob3IsZSxqKSk7fX1lbHNlIHt2YXIgVj1mdW5jdGlvbih0LGkpe3ZhciBvPXIuY29sbGlzaW9uSW5kZXgucGxhY2VDb2xsaXNpb25Cb3godCx2LGgsbCxmLnByZWRpY2F0ZSk7cmV0dXJuIG8mJm8uYm94JiZvLmJveC5sZW5ndGgmJihyLm1hcmtVc2VkT3JpZW50YXRpb24obixpLGUpLHIucGxhY2VkT3JpZW50YXRpb25zW2UuY3Jvc3NUaWxlSURdPWkpLG99O0YoKGZ1bmN0aW9uKCl7cmV0dXJuIFYoQix0LldyaXRpbmdNb2RlLmhvcml6b250YWwpfSksKGZ1bmN0aW9uKCl7dmFyIGk9YS52ZXJ0aWNhbFRleHRCb3g7cmV0dXJuIG4uYWxsb3dWZXJ0aWNhbFBsYWNlbWVudCYmZS5udW1WZXJ0aWNhbEdseXBoVmVydGljZXM+MCYmaT9WKGksdC5Xcml0aW5nTW9kZS52ZXJ0aWNhbCk6e2JveDpudWxsLG9mZnNjcmVlbjpudWxsfX0pKSxPKHomJnouYm94JiZ6LmJveC5sZW5ndGgpO319aWYoVD0oZD16KSYmZC5ib3gmJmQuYm94Lmxlbmd0aD4wLFM9ZCYmZC5vZmZzY3JlZW4sZS51c2VSdW50aW1lQ29sbGlzaW9uQ2lyY2xlcyl7dmFyIEc9bi50ZXh0LnBsYWNlZFN5bWJvbEFycmF5LmdldChlLmNlbnRlckp1c3RpZmllZFRleHRTeW1ib2xJbmRleCksVz10LmV2YWx1YXRlU2l6ZUZvckZlYXR1cmUobi50ZXh0U2l6ZURhdGEsXyxHKSxYPXMuZ2V0KCJ0ZXh0LXBhZGRpbmciKTtNPXIuY29sbGlzaW9uSW5kZXgucGxhY2VDb2xsaXNpb25DaXJjbGVzKHYsRyxuLmxpbmVWZXJ0ZXhBcnJheSxuLmdseXBoT2Zmc2V0QXJyYXksVyxsLGMsdSxvLGIsZi5wcmVkaWNhdGUsZS5jb2xsaXNpb25DaXJjbGVEaWFtZXRlcixYKSxUPXZ8fE0uY2lyY2xlcy5sZW5ndGg+MCYmIU0uY29sbGlzaW9uRGV0ZWN0ZWQsUz1TJiZNLm9mZnNjcmVlbjt9aWYoYS5pY29uRmVhdHVyZUluZGV4JiYoaz1hLmljb25GZWF0dXJlSW5kZXgpLGEuaWNvbkJveCl7dmFyIEg9ZnVuY3Rpb24odCl7dmFyIGU9dyYmQz94ZSh0LEMueCxDLnkseCxiLHIudHJhbnNmb3JtLmFuZ2xlKTp0O3JldHVybiByLmNvbGxpc2lvbkluZGV4LnBsYWNlQ29sbGlzaW9uQm94KGUseSxoLGwsZi5wcmVkaWNhdGUpfTtQPUQmJkQuYm94JiZELmJveC5sZW5ndGgmJmEudmVydGljYWxJY29uQm94PyhBPUgoYS52ZXJ0aWNhbEljb25Cb3gpKS5ib3gubGVuZ3RoPjA6KEE9SChhLmljb25Cb3gpKS5ib3gubGVuZ3RoPjAsUz1TJiZBLm9mZnNjcmVlbjt9dmFyIEs9bXx8MD09PWUubnVtSG9yaXpvbnRhbEdseXBoVmVydGljZXMmJjA9PT1lLm51bVZlcnRpY2FsR2x5cGhWZXJ0aWNlcyxZPWd8fDA9PT1lLm51bUljb25WZXJ0aWNlcztpZihLfHxZP1k/S3x8KFA9UCYmVCk6VD1QJiZUOlA9VD1QJiZULFQmJmQmJmQuYm94JiZyLmNvbGxpc2lvbkluZGV4Lmluc2VydENvbGxpc2lvbkJveChkLmJveCxzLmdldCgidGV4dC1pZ25vcmUtcGxhY2VtZW50Iiksbi5idWNrZXRJbnN0YW5jZUlkLEQmJkQuYm94JiZSP1I6TCxmLklEKSxQJiZBJiZyLmNvbGxpc2lvbkluZGV4Lmluc2VydENvbGxpc2lvbkJveChBLmJveCxzLmdldCgiaWNvbi1pZ25vcmUtcGxhY2VtZW50Iiksbi5idWNrZXRJbnN0YW5jZUlkLGssZi5JRCksTSYmKFQmJnIuY29sbGlzaW9uSW5kZXguaW5zZXJ0Q29sbGlzaW9uQ2lyY2xlcyhNLmNpcmNsZXMscy5nZXQoInRleHQtaWdub3JlLXBsYWNlbWVudCIpLG4uYnVja2V0SW5zdGFuY2VJZCxMLGYuSUQpLG8pKXt2YXIgSj1uLmJ1Y2tldEluc3RhbmNlSWQsUT1yLmNvbGxpc2lvbkNpcmNsZUFycmF5c1tKXTt2b2lkIDA9PT1RJiYoUT1yLmNvbGxpc2lvbkNpcmNsZUFycmF5c1tKXT1uZXcgbWUpO2Zvcih2YXIgJD0wOyQ8TS5jaXJjbGVzLmxlbmd0aDskKz00KVEuY2lyY2xlcy5wdXNoKE0uY2lyY2xlc1skKzBdKSxRLmNpcmNsZXMucHVzaChNLmNpcmNsZXNbJCsxXSksUS5jaXJjbGVzLnB1c2goTS5jaXJjbGVzWyQrMl0pLFEuY2lyY2xlcy5wdXNoKE0uY29sbGlzaW9uRGV0ZWN0ZWQ/MTowKTt9ci5wbGFjZW1lbnRzW2UuY3Jvc3NUaWxlSURdPW5ldyBmZShUfHxFLFB8fEksU3x8bi5qdXN0UmVsb2FkZWQpLGlbZS5jcm9zc1RpbGVJRF09ITA7fX07aWYoVClmb3IodmFyIFM9bi5nZXRTb3J0ZWRTeW1ib2xJbmRleGVzKHRoaXMudHJhbnNmb3JtLmFuZ2xlKSxDPVMubGVuZ3RoLTE7Qz49MDstLUMpe3ZhciB6PVNbQ107UChuLnN5bWJvbEluc3RhbmNlcy5nZXQoeiksbi5jb2xsaXNpb25BcnJheXNbel0pO31lbHNlIGZvcih2YXIgRD1lLnN5bWJvbEluc3RhbmNlU3RhcnQ7RDxlLnN5bWJvbEluc3RhbmNlRW5kO0QrKylQKG4uc3ltYm9sSW5zdGFuY2VzLmdldChEKSxuLmNvbGxpc2lvbkFycmF5c1tEXSk7aWYobyYmbi5idWNrZXRJbnN0YW5jZUlkIGluIHRoaXMuY29sbGlzaW9uQ2lyY2xlQXJyYXlzKXt2YXIgTT10aGlzLmNvbGxpc2lvbkNpcmNsZUFycmF5c1tuLmJ1Y2tldEluc3RhbmNlSWRdO3QuaW52ZXJ0KE0uaW52UHJvak1hdHJpeCxsKSxNLnZpZXdwb3J0TWF0cml4PXRoaXMuY29sbGlzaW9uSW5kZXguZ2V0Vmlld3BvcnRNYXRyaXgoKTt9bi5qdXN0UmVsb2FkZWQ9ITE7fSxiZS5wcm90b3R5cGUubWFya1VzZWRKdXN0aWZpY2F0aW9uPWZ1bmN0aW9uKGUsaSxvLHIpe3ZhciBhO2E9cj09PXQuV3JpdGluZ01vZGUudmVydGljYWw/by52ZXJ0aWNhbFBsYWNlZFRleHRTeW1ib2xJbmRleDp7bGVmdDpvLmxlZnRKdXN0aWZpZWRUZXh0U3ltYm9sSW5kZXgsY2VudGVyOm8uY2VudGVySnVzdGlmaWVkVGV4dFN5bWJvbEluZGV4LHJpZ2h0Om8ucmlnaHRKdXN0aWZpZWRUZXh0U3ltYm9sSW5kZXh9W3QuZ2V0QW5jaG9ySnVzdGlmaWNhdGlvbihpKV07Zm9yKHZhciBuPTAscz1bby5sZWZ0SnVzdGlmaWVkVGV4dFN5bWJvbEluZGV4LG8uY2VudGVySnVzdGlmaWVkVGV4dFN5bWJvbEluZGV4LG8ucmlnaHRKdXN0aWZpZWRUZXh0U3ltYm9sSW5kZXgsby52ZXJ0aWNhbFBsYWNlZFRleHRTeW1ib2xJbmRleF07bjxzLmxlbmd0aDtuKz0xKXt2YXIgbD1zW25dO2w+PTAmJihlLnRleHQucGxhY2VkU3ltYm9sQXJyYXkuZ2V0KGwpLmNyb3NzVGlsZUlEPWE+PTAmJmwhPT1hPzA6by5jcm9zc1RpbGVJRCk7fX0sYmUucHJvdG90eXBlLm1hcmtVc2VkT3JpZW50YXRpb249ZnVuY3Rpb24oZSxpLG8pe2Zvcih2YXIgcj1pPT09dC5Xcml0aW5nTW9kZS5ob3Jpem9udGFsfHxpPT09dC5Xcml0aW5nTW9kZS5ob3Jpem9udGFsT25seT9pOjAsYT1pPT09dC5Xcml0aW5nTW9kZS52ZXJ0aWNhbD9pOjAsbj0wLHM9W28ubGVmdEp1c3RpZmllZFRleHRTeW1ib2xJbmRleCxvLmNlbnRlckp1c3RpZmllZFRleHRTeW1ib2xJbmRleCxvLnJpZ2h0SnVzdGlmaWVkVGV4dFN5bWJvbEluZGV4XTtuPHMubGVuZ3RoO24rPTEpZS50ZXh0LnBsYWNlZFN5bWJvbEFycmF5LmdldChzW25dKS5wbGFjZWRPcmllbnRhdGlvbj1yO28udmVydGljYWxQbGFjZWRUZXh0U3ltYm9sSW5kZXgmJihlLnRleHQucGxhY2VkU3ltYm9sQXJyYXkuZ2V0KG8udmVydGljYWxQbGFjZWRUZXh0U3ltYm9sSW5kZXgpLnBsYWNlZE9yaWVudGF0aW9uPWEpO30sYmUucHJvdG90eXBlLmNvbW1pdD1mdW5jdGlvbih0KXt0aGlzLmNvbW1pdFRpbWU9dCx0aGlzLnpvb21BdExhc3RSZWNlbmN5Q2hlY2s9dGhpcy50cmFuc2Zvcm0uem9vbTt2YXIgZT10aGlzLnByZXZQbGFjZW1lbnQsaT0hMTt0aGlzLnByZXZab29tQWRqdXN0bWVudD1lP2Uuem9vbUFkanVzdG1lbnQodGhpcy50cmFuc2Zvcm0uem9vbSk6MDt2YXIgbz1lP2Uuc3ltYm9sRmFkZUNoYW5nZSh0KToxLHI9ZT9lLm9wYWNpdGllczp7fSxhPWU/ZS52YXJpYWJsZU9mZnNldHM6e30sbj1lP2UucGxhY2VkT3JpZW50YXRpb25zOnt9O2Zvcih2YXIgcyBpbiB0aGlzLnBsYWNlbWVudHMpe3ZhciBsPXRoaXMucGxhY2VtZW50c1tzXSxjPXJbc107Yz8odGhpcy5vcGFjaXRpZXNbc109bmV3IF9lKGMsbyxsLnRleHQsbC5pY29uKSxpPWl8fGwudGV4dCE9PWMudGV4dC5wbGFjZWR8fGwuaWNvbiE9PWMuaWNvbi5wbGFjZWQpOih0aGlzLm9wYWNpdGllc1tzXT1uZXcgX2UobnVsbCxvLGwudGV4dCxsLmljb24sbC5za2lwRmFkZSksaT1pfHxsLnRleHR8fGwuaWNvbik7fWZvcih2YXIgdSBpbiByKXt2YXIgaD1yW3VdO2lmKCF0aGlzLm9wYWNpdGllc1t1XSl7dmFyIHA9bmV3IF9lKGgsbywhMSwhMSk7cC5pc0hpZGRlbigpfHwodGhpcy5vcGFjaXRpZXNbdV09cCxpPWl8fGgudGV4dC5wbGFjZWR8fGguaWNvbi5wbGFjZWQpO319Zm9yKHZhciBkIGluIGEpdGhpcy52YXJpYWJsZU9mZnNldHNbZF18fCF0aGlzLm9wYWNpdGllc1tkXXx8dGhpcy5vcGFjaXRpZXNbZF0uaXNIaWRkZW4oKXx8KHRoaXMudmFyaWFibGVPZmZzZXRzW2RdPWFbZF0pO2Zvcih2YXIgXyBpbiBuKXRoaXMucGxhY2VkT3JpZW50YXRpb25zW19dfHwhdGhpcy5vcGFjaXRpZXNbX118fHRoaXMub3BhY2l0aWVzW19dLmlzSGlkZGVuKCl8fCh0aGlzLnBsYWNlZE9yaWVudGF0aW9uc1tfXT1uW19dKTtpP3RoaXMubGFzdFBsYWNlbWVudENoYW5nZVRpbWU9dDoibnVtYmVyIiE9dHlwZW9mIHRoaXMubGFzdFBsYWNlbWVudENoYW5nZVRpbWUmJih0aGlzLmxhc3RQbGFjZW1lbnRDaGFuZ2VUaW1lPWU/ZS5sYXN0UGxhY2VtZW50Q2hhbmdlVGltZTp0KTt9LGJlLnByb3RvdHlwZS51cGRhdGVMYXllck9wYWNpdGllcz1mdW5jdGlvbih0LGUpe2Zvcih2YXIgaT17fSxvPTAscj1lO288ci5sZW5ndGg7bys9MSl7dmFyIGE9cltvXSxuPWEuZ2V0QnVja2V0KHQpO24mJmEubGF0ZXN0RmVhdHVyZUluZGV4JiZ0LmlkPT09bi5sYXllcklkc1swXSYmdGhpcy51cGRhdGVCdWNrZXRPcGFjaXRpZXMobixpLGEuY29sbGlzaW9uQm94QXJyYXkpO319LGJlLnByb3RvdHlwZS51cGRhdGVCdWNrZXRPcGFjaXRpZXM9ZnVuY3Rpb24oZSxpLG8pe3ZhciByPXRoaXM7ZS5oYXNUZXh0RGF0YSgpJiZlLnRleHQub3BhY2l0eVZlcnRleEFycmF5LmNsZWFyKCksZS5oYXNJY29uRGF0YSgpJiZlLmljb24ub3BhY2l0eVZlcnRleEFycmF5LmNsZWFyKCksZS5oYXNJY29uQ29sbGlzaW9uQm94RGF0YSgpJiZlLmljb25Db2xsaXNpb25Cb3guY29sbGlzaW9uVmVydGV4QXJyYXkuY2xlYXIoKSxlLmhhc1RleHRDb2xsaXNpb25Cb3hEYXRhKCkmJmUudGV4dENvbGxpc2lvbkJveC5jb2xsaXNpb25WZXJ0ZXhBcnJheS5jbGVhcigpO3ZhciBhPWUubGF5ZXJzWzBdLmxheW91dCxuPW5ldyBfZShudWxsLDAsITEsITEsITApLHM9YS5nZXQoInRleHQtYWxsb3ctb3ZlcmxhcCIpLGw9YS5nZXQoImljb24tYWxsb3ctb3ZlcmxhcCIpLGM9YS5nZXQoInRleHQtdmFyaWFibGUtYW5jaG9yIiksdT0ibWFwIj09PWEuZ2V0KCJ0ZXh0LXJvdGF0aW9uLWFsaWdubWVudCIpLGg9Im1hcCI9PT1hLmdldCgidGV4dC1waXRjaC1hbGlnbm1lbnQiKSxwPSJub25lIiE9PWEuZ2V0KCJpY29uLXRleHQtZml0IiksZD1uZXcgX2UobnVsbCwwLHMmJihsfHwhZS5oYXNJY29uRGF0YSgpfHxhLmdldCgiaWNvbi1vcHRpb25hbCIpKSxsJiYoc3x8IWUuaGFzVGV4dERhdGEoKXx8YS5nZXQoInRleHQtb3B0aW9uYWwiKSksITApOyFlLmNvbGxpc2lvbkFycmF5cyYmbyYmKGUuaGFzSWNvbkNvbGxpc2lvbkJveERhdGEoKXx8ZS5oYXNUZXh0Q29sbGlzaW9uQm94RGF0YSgpKSYmZS5kZXNlcmlhbGl6ZUNvbGxpc2lvbkJveGVzKG8pO2Zvcih2YXIgXz1mdW5jdGlvbih0LGUsaSl7Zm9yKHZhciBvPTA7bzxlLzQ7bysrKXQub3BhY2l0eVZlcnRleEFycmF5LmVtcGxhY2VCYWNrKGkpO30sZj1mdW5jdGlvbihvKXt2YXIgYT1lLnN5bWJvbEluc3RhbmNlcy5nZXQobykscz1hLm51bUhvcml6b250YWxHbHlwaFZlcnRpY2VzLGw9YS5udW1WZXJ0aWNhbEdseXBoVmVydGljZXMsZj1hLmNyb3NzVGlsZUlELG09ci5vcGFjaXRpZXNbZl07aVtmXT9tPW46bXx8KHIub3BhY2l0aWVzW2ZdPW09ZCksaVtmXT0hMDt2YXIgZz1hLm51bUljb25WZXJ0aWNlcz4wLHY9ci5wbGFjZWRPcmllbnRhdGlvbnNbYS5jcm9zc1RpbGVJRF0seT12PT09dC5Xcml0aW5nTW9kZS52ZXJ0aWNhbCx4PXY9PT10LldyaXRpbmdNb2RlLmhvcml6b250YWx8fHY9PT10LldyaXRpbmdNb2RlLmhvcml6b250YWxPbmx5O2lmKHM+MHx8bD4wKXt2YXIgYj1EZShtLnRleHQpO18oZS50ZXh0LHMseT9NZTpiKSxfKGUudGV4dCxsLHg/TWU6Yik7dmFyIHc9bS50ZXh0LmlzSGlkZGVuKCk7W2EucmlnaHRKdXN0aWZpZWRUZXh0U3ltYm9sSW5kZXgsYS5jZW50ZXJKdXN0aWZpZWRUZXh0U3ltYm9sSW5kZXgsYS5sZWZ0SnVzdGlmaWVkVGV4dFN5bWJvbEluZGV4XS5mb3JFYWNoKChmdW5jdGlvbih0KXt0Pj0wJiYoZS50ZXh0LnBsYWNlZFN5bWJvbEFycmF5LmdldCh0KS5oaWRkZW49d3x8eT8xOjApO30pKSxhLnZlcnRpY2FsUGxhY2VkVGV4dFN5bWJvbEluZGV4Pj0wJiYoZS50ZXh0LnBsYWNlZFN5bWJvbEFycmF5LmdldChhLnZlcnRpY2FsUGxhY2VkVGV4dFN5bWJvbEluZGV4KS5oaWRkZW49d3x8eD8xOjApO3ZhciBUPXIudmFyaWFibGVPZmZzZXRzW2EuY3Jvc3NUaWxlSURdO1QmJnIubWFya1VzZWRKdXN0aWZpY2F0aW9uKGUsVC5hbmNob3IsYSx2KTt2YXIgRT1yLnBsYWNlZE9yaWVudGF0aW9uc1thLmNyb3NzVGlsZUlEXTtFJiYoci5tYXJrVXNlZEp1c3RpZmljYXRpb24oZSwibGVmdCIsYSxFKSxyLm1hcmtVc2VkT3JpZW50YXRpb24oZSxFLGEpKTt9aWYoZyl7dmFyIEk9RGUobS5pY29uKSxQPSEocCYmYS52ZXJ0aWNhbFBsYWNlZEljb25TeW1ib2xJbmRleCYmeSk7YS5wbGFjZWRJY29uU3ltYm9sSW5kZXg+PTAmJihfKGUuaWNvbixhLm51bUljb25WZXJ0aWNlcyxQP0k6TWUpLGUuaWNvbi5wbGFjZWRTeW1ib2xBcnJheS5nZXQoYS5wbGFjZWRJY29uU3ltYm9sSW5kZXgpLmhpZGRlbj1tLmljb24uaXNIaWRkZW4oKSksYS52ZXJ0aWNhbFBsYWNlZEljb25TeW1ib2xJbmRleD49MCYmKF8oZS5pY29uLGEubnVtVmVydGljYWxJY29uVmVydGljZXMsUD9NZTpJKSxlLmljb24ucGxhY2VkU3ltYm9sQXJyYXkuZ2V0KGEudmVydGljYWxQbGFjZWRJY29uU3ltYm9sSW5kZXgpLmhpZGRlbj1tLmljb24uaXNIaWRkZW4oKSk7fWlmKGUuaGFzSWNvbkNvbGxpc2lvbkJveERhdGEoKXx8ZS5oYXNUZXh0Q29sbGlzaW9uQm94RGF0YSgpKXt2YXIgUz1lLmNvbGxpc2lvbkFycmF5c1tvXTtpZihTKXt2YXIgQz1uZXcgdC5Qb2ludCgwLDApO2lmKFMudGV4dEJveHx8Uy52ZXJ0aWNhbFRleHRCb3gpe3ZhciB6PSEwO2lmKGMpe3ZhciBEPXIudmFyaWFibGVPZmZzZXRzW2ZdO0Q/KEM9eWUoRC5hbmNob3IsRC53aWR0aCxELmhlaWdodCxELnRleHRPZmZzZXQsRC50ZXh0Qm94U2NhbGUpLHUmJkMuX3JvdGF0ZShoP3IudHJhbnNmb3JtLmFuZ2xlOi1yLnRyYW5zZm9ybS5hbmdsZSkpOno9ITE7fVMudGV4dEJveCYmd2UoZS50ZXh0Q29sbGlzaW9uQm94LmNvbGxpc2lvblZlcnRleEFycmF5LG0udGV4dC5wbGFjZWQsIXp8fHksQy54LEMueSksUy52ZXJ0aWNhbFRleHRCb3gmJndlKGUudGV4dENvbGxpc2lvbkJveC5jb2xsaXNpb25WZXJ0ZXhBcnJheSxtLnRleHQucGxhY2VkLCF6fHx4LEMueCxDLnkpO312YXIgTT1Cb29sZWFuKCF4JiZTLnZlcnRpY2FsSWNvbkJveCk7Uy5pY29uQm94JiZ3ZShlLmljb25Db2xsaXNpb25Cb3guY29sbGlzaW9uVmVydGV4QXJyYXksbS5pY29uLnBsYWNlZCxNLHA/Qy54OjAscD9DLnk6MCksUy52ZXJ0aWNhbEljb25Cb3gmJndlKGUuaWNvbkNvbGxpc2lvbkJveC5jb2xsaXNpb25WZXJ0ZXhBcnJheSxtLmljb24ucGxhY2VkLCFNLHA/Qy54OjAscD9DLnk6MCk7fX19LG09MDttPGUuc3ltYm9sSW5zdGFuY2VzLmxlbmd0aDttKyspZihtKTtpZihlLnNvcnRGZWF0dXJlcyh0aGlzLnRyYW5zZm9ybS5hbmdsZSksdGhpcy5yZXRhaW5lZFF1ZXJ5RGF0YVtlLmJ1Y2tldEluc3RhbmNlSWRdJiYodGhpcy5yZXRhaW5lZFF1ZXJ5RGF0YVtlLmJ1Y2tldEluc3RhbmNlSWRdLmZlYXR1cmVTb3J0T3JkZXI9ZS5mZWF0dXJlU29ydE9yZGVyKSxlLmhhc1RleHREYXRhKCkmJmUudGV4dC5vcGFjaXR5VmVydGV4QnVmZmVyJiZlLnRleHQub3BhY2l0eVZlcnRleEJ1ZmZlci51cGRhdGVEYXRhKGUudGV4dC5vcGFjaXR5VmVydGV4QXJyYXkpLGUuaGFzSWNvbkRhdGEoKSYmZS5pY29uLm9wYWNpdHlWZXJ0ZXhCdWZmZXImJmUuaWNvbi5vcGFjaXR5VmVydGV4QnVmZmVyLnVwZGF0ZURhdGEoZS5pY29uLm9wYWNpdHlWZXJ0ZXhBcnJheSksZS5oYXNJY29uQ29sbGlzaW9uQm94RGF0YSgpJiZlLmljb25Db2xsaXNpb25Cb3guY29sbGlzaW9uVmVydGV4QnVmZmVyJiZlLmljb25Db2xsaXNpb25Cb3guY29sbGlzaW9uVmVydGV4QnVmZmVyLnVwZGF0ZURhdGEoZS5pY29uQ29sbGlzaW9uQm94LmNvbGxpc2lvblZlcnRleEFycmF5KSxlLmhhc1RleHRDb2xsaXNpb25Cb3hEYXRhKCkmJmUudGV4dENvbGxpc2lvbkJveC5jb2xsaXNpb25WZXJ0ZXhCdWZmZXImJmUudGV4dENvbGxpc2lvbkJveC5jb2xsaXNpb25WZXJ0ZXhCdWZmZXIudXBkYXRlRGF0YShlLnRleHRDb2xsaXNpb25Cb3guY29sbGlzaW9uVmVydGV4QXJyYXkpLGUuYnVja2V0SW5zdGFuY2VJZCBpbiB0aGlzLmNvbGxpc2lvbkNpcmNsZUFycmF5cyl7dmFyIGc9dGhpcy5jb2xsaXNpb25DaXJjbGVBcnJheXNbZS5idWNrZXRJbnN0YW5jZUlkXTtlLnBsYWNlbWVudEludlByb2pNYXRyaXg9Zy5pbnZQcm9qTWF0cml4LGUucGxhY2VtZW50Vmlld3BvcnRNYXRyaXg9Zy52aWV3cG9ydE1hdHJpeCxlLmNvbGxpc2lvbkNpcmNsZUFycmF5PWcuY2lyY2xlcyxkZWxldGUgdGhpcy5jb2xsaXNpb25DaXJjbGVBcnJheXNbZS5idWNrZXRJbnN0YW5jZUlkXTt9fSxiZS5wcm90b3R5cGUuc3ltYm9sRmFkZUNoYW5nZT1mdW5jdGlvbih0KXtyZXR1cm4gMD09PXRoaXMuZmFkZUR1cmF0aW9uPzE6KHQtdGhpcy5jb21taXRUaW1lKS90aGlzLmZhZGVEdXJhdGlvbit0aGlzLnByZXZab29tQWRqdXN0bWVudH0sYmUucHJvdG90eXBlLnpvb21BZGp1c3RtZW50PWZ1bmN0aW9uKHQpe3JldHVybiBNYXRoLm1heCgwLCh0aGlzLnRyYW5zZm9ybS56b29tLXQpLzEuNSl9LGJlLnByb3RvdHlwZS5oYXNUcmFuc2l0aW9ucz1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5zdGFsZXx8dC10aGlzLmxhc3RQbGFjZW1lbnRDaGFuZ2VUaW1lPHRoaXMuZmFkZUR1cmF0aW9ufSxiZS5wcm90b3R5cGUuc3RpbGxSZWNlbnQ9ZnVuY3Rpb24odCxlKXt2YXIgaT10aGlzLnpvb21BdExhc3RSZWNlbmN5Q2hlY2s9PT1lPzEtdGhpcy56b29tQWRqdXN0bWVudChlKToxO3JldHVybiB0aGlzLnpvb21BdExhc3RSZWNlbmN5Q2hlY2s9ZSx0aGlzLmNvbW1pdFRpbWUrdGhpcy5mYWRlRHVyYXRpb24qaT50fSxiZS5wcm90b3R5cGUuc2V0U3RhbGU9ZnVuY3Rpb24oKXt0aGlzLnN0YWxlPSEwO307dmFyIFRlPU1hdGgucG93KDIsMjUpLEVlPU1hdGgucG93KDIsMjQpLEllPU1hdGgucG93KDIsMTcpLFBlPU1hdGgucG93KDIsMTYpLFNlPU1hdGgucG93KDIsOSksQ2U9TWF0aC5wb3coMiw4KSx6ZT1NYXRoLnBvdygyLDEpO2Z1bmN0aW9uIERlKHQpe2lmKDA9PT10Lm9wYWNpdHkmJiF0LnBsYWNlZClyZXR1cm4gMDtpZigxPT09dC5vcGFjaXR5JiZ0LnBsYWNlZClyZXR1cm4gNDI5NDk2NzI5NTt2YXIgZT10LnBsYWNlZD8xOjAsaT1NYXRoLmZsb29yKDEyNyp0Lm9wYWNpdHkpO3JldHVybiBpKlRlK2UqRWUraSpJZStlKlBlK2kqU2UrZSpDZStpKnplK2V9dmFyIE1lPTAsQWU9ZnVuY3Rpb24odCl7dGhpcy5fc29ydEFjcm9zc1RpbGVzPSJ2aWV3cG9ydC15IiE9PXQubGF5b3V0LmdldCgic3ltYm9sLXotb3JkZXIiKSYmdm9pZCAwIT09dC5sYXlvdXQuZ2V0KCJzeW1ib2wtc29ydC1rZXkiKS5jb25zdGFudE9yKDEpLHRoaXMuX2N1cnJlbnRUaWxlSW5kZXg9MCx0aGlzLl9jdXJyZW50UGFydEluZGV4PTAsdGhpcy5fc2VlbkNyb3NzVGlsZUlEcz17fSx0aGlzLl9idWNrZXRQYXJ0cz1bXTt9O0FlLnByb3RvdHlwZS5jb250aW51ZVBsYWNlbWVudD1mdW5jdGlvbih0LGUsaSxvLHIpe2Zvcih2YXIgYT10aGlzLl9idWNrZXRQYXJ0czt0aGlzLl9jdXJyZW50VGlsZUluZGV4PHQubGVuZ3RoOylpZihlLmdldEJ1Y2tldFBhcnRzKGEsbyx0W3RoaXMuX2N1cnJlbnRUaWxlSW5kZXhdLHRoaXMuX3NvcnRBY3Jvc3NUaWxlcyksdGhpcy5fY3VycmVudFRpbGVJbmRleCsrLHIoKSlyZXR1cm4gITA7Zm9yKHRoaXMuX3NvcnRBY3Jvc3NUaWxlcyYmKHRoaXMuX3NvcnRBY3Jvc3NUaWxlcz0hMSxhLnNvcnQoKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuc29ydEtleS1lLnNvcnRLZXl9KSkpO3RoaXMuX2N1cnJlbnRQYXJ0SW5kZXg8YS5sZW5ndGg7KWlmKGUucGxhY2VMYXllckJ1Y2tldFBhcnQoYVt0aGlzLl9jdXJyZW50UGFydEluZGV4XSx0aGlzLl9zZWVuQ3Jvc3NUaWxlSURzLGkpLHRoaXMuX2N1cnJlbnRQYXJ0SW5kZXgrKyxyKCkpcmV0dXJuICEwO3JldHVybiAhMX07dmFyIExlPWZ1bmN0aW9uKHQsZSxpLG8scixhLG4pe3RoaXMucGxhY2VtZW50PW5ldyBiZSh0LHIsYSxuKSx0aGlzLl9jdXJyZW50UGxhY2VtZW50SW5kZXg9ZS5sZW5ndGgtMSx0aGlzLl9mb3JjZUZ1bGxQbGFjZW1lbnQ9aSx0aGlzLl9zaG93Q29sbGlzaW9uQm94ZXM9byx0aGlzLl9kb25lPSExO307TGUucHJvdG90eXBlLmlzRG9uZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9kb25lfSxMZS5wcm90b3R5cGUuY29udGludWVQbGFjZW1lbnQ9ZnVuY3Rpb24oZSxpLG8pe2Zvcih2YXIgcj10aGlzLGE9dC5icm93c2VyLm5vdygpLG49ZnVuY3Rpb24oKXt2YXIgZT10LmJyb3dzZXIubm93KCktYTtyZXR1cm4gIXIuX2ZvcmNlRnVsbFBsYWNlbWVudCYmZT4yfTt0aGlzLl9jdXJyZW50UGxhY2VtZW50SW5kZXg+PTA7KXt2YXIgcz1pW2VbdGhpcy5fY3VycmVudFBsYWNlbWVudEluZGV4XV0sbD10aGlzLnBsYWNlbWVudC5jb2xsaXNpb25JbmRleC50cmFuc2Zvcm0uem9vbTtpZigic3ltYm9sIj09PXMudHlwZSYmKCFzLm1pbnpvb218fHMubWluem9vbTw9bCkmJighcy5tYXh6b29tfHxzLm1heHpvb20+bCkpe2lmKHRoaXMuX2luUHJvZ3Jlc3NMYXllcnx8KHRoaXMuX2luUHJvZ3Jlc3NMYXllcj1uZXcgQWUocykpLHRoaXMuX2luUHJvZ3Jlc3NMYXllci5jb250aW51ZVBsYWNlbWVudChvW3Muc291cmNlXSx0aGlzLnBsYWNlbWVudCx0aGlzLl9zaG93Q29sbGlzaW9uQm94ZXMscyxuKSlyZXR1cm47ZGVsZXRlIHRoaXMuX2luUHJvZ3Jlc3NMYXllcjt9dGhpcy5fY3VycmVudFBsYWNlbWVudEluZGV4LS07fXRoaXMuX2RvbmU9ITA7fSxMZS5wcm90b3R5cGUuY29tbWl0PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnBsYWNlbWVudC5jb21taXQodCksdGhpcy5wbGFjZW1lbnR9O3ZhciBSZT01MTIvdC5FWFRFTlQvMixrZT1mdW5jdGlvbih0LGUsaSl7dGhpcy50aWxlSUQ9dCx0aGlzLmluZGV4ZWRTeW1ib2xJbnN0YW5jZXM9e30sdGhpcy5idWNrZXRJbnN0YW5jZUlkPWk7Zm9yKHZhciBvPTA7bzxlLmxlbmd0aDtvKyspe3ZhciByPWUuZ2V0KG8pLGE9ci5rZXk7dGhpcy5pbmRleGVkU3ltYm9sSW5zdGFuY2VzW2FdfHwodGhpcy5pbmRleGVkU3ltYm9sSW5zdGFuY2VzW2FdPVtdKSx0aGlzLmluZGV4ZWRTeW1ib2xJbnN0YW5jZXNbYV0ucHVzaCh7Y3Jvc3NUaWxlSUQ6ci5jcm9zc1RpbGVJRCxjb29yZDp0aGlzLmdldFNjYWxlZENvb3JkaW5hdGVzKHIsdCl9KTt9fTtrZS5wcm90b3R5cGUuZ2V0U2NhbGVkQ29vcmRpbmF0ZXM9ZnVuY3Rpb24oZSxpKXt2YXIgbz1SZS9NYXRoLnBvdygyLGkuY2Fub25pY2FsLnotdGhpcy50aWxlSUQuY2Fub25pY2FsLnopO3JldHVybiB7eDpNYXRoLmZsb29yKChpLmNhbm9uaWNhbC54KnQuRVhURU5UK2UuYW5jaG9yWCkqbykseTpNYXRoLmZsb29yKChpLmNhbm9uaWNhbC55KnQuRVhURU5UK2UuYW5jaG9yWSkqbyl9fSxrZS5wcm90b3R5cGUuZmluZE1hdGNoZXM9ZnVuY3Rpb24odCxlLGkpe2Zvcih2YXIgbz10aGlzLnRpbGVJRC5jYW5vbmljYWwuejxlLmNhbm9uaWNhbC56PzE6TWF0aC5wb3coMix0aGlzLnRpbGVJRC5jYW5vbmljYWwuei1lLmNhbm9uaWNhbC56KSxyPTA7cjx0Lmxlbmd0aDtyKyspe3ZhciBhPXQuZ2V0KHIpO2lmKCFhLmNyb3NzVGlsZUlEKXt2YXIgbj10aGlzLmluZGV4ZWRTeW1ib2xJbnN0YW5jZXNbYS5rZXldO2lmKG4pZm9yKHZhciBzPXRoaXMuZ2V0U2NhbGVkQ29vcmRpbmF0ZXMoYSxlKSxsPTAsYz1uO2w8Yy5sZW5ndGg7bCs9MSl7dmFyIHU9Y1tsXTtpZihNYXRoLmFicyh1LmNvb3JkLngtcy54KTw9byYmTWF0aC5hYnModS5jb29yZC55LXMueSk8PW8mJiFpW3UuY3Jvc3NUaWxlSURdKXtpW3UuY3Jvc3NUaWxlSURdPSEwLGEuY3Jvc3NUaWxlSUQ9dS5jcm9zc1RpbGVJRDticmVha319fX19O3ZhciBCZT1mdW5jdGlvbigpe3RoaXMubWF4Q3Jvc3NUaWxlSUQ9MDt9O0JlLnByb3RvdHlwZS5nZW5lcmF0ZT1mdW5jdGlvbigpe3JldHVybiArK3RoaXMubWF4Q3Jvc3NUaWxlSUR9O3ZhciBPZT1mdW5jdGlvbigpe3RoaXMuaW5kZXhlcz17fSx0aGlzLnVzZWRDcm9zc1RpbGVJRHM9e30sdGhpcy5sbmc9MDt9O09lLnByb3RvdHlwZS5oYW5kbGVXcmFwSnVtcD1mdW5jdGlvbih0KXt2YXIgZT1NYXRoLnJvdW5kKCh0LXRoaXMubG5nKS8zNjApO2lmKDAhPT1lKWZvcih2YXIgaSBpbiB0aGlzLmluZGV4ZXMpe3ZhciBvPXRoaXMuaW5kZXhlc1tpXSxyPXt9O2Zvcih2YXIgYSBpbiBvKXt2YXIgbj1vW2FdO24udGlsZUlEPW4udGlsZUlELnVud3JhcFRvKG4udGlsZUlELndyYXArZSkscltuLnRpbGVJRC5rZXldPW47fXRoaXMuaW5kZXhlc1tpXT1yO310aGlzLmxuZz10O30sT2UucHJvdG90eXBlLmFkZEJ1Y2tldD1mdW5jdGlvbih0LGUsaSl7aWYodGhpcy5pbmRleGVzW3Qub3ZlcnNjYWxlZFpdJiZ0aGlzLmluZGV4ZXNbdC5vdmVyc2NhbGVkWl1bdC5rZXldKXtpZih0aGlzLmluZGV4ZXNbdC5vdmVyc2NhbGVkWl1bdC5rZXldLmJ1Y2tldEluc3RhbmNlSWQ9PT1lLmJ1Y2tldEluc3RhbmNlSWQpcmV0dXJuICExO3RoaXMucmVtb3ZlQnVja2V0Q3Jvc3NUaWxlSURzKHQub3ZlcnNjYWxlZFosdGhpcy5pbmRleGVzW3Qub3ZlcnNjYWxlZFpdW3Qua2V5XSk7fWZvcih2YXIgbz0wO288ZS5zeW1ib2xJbnN0YW5jZXMubGVuZ3RoO28rKyllLnN5bWJvbEluc3RhbmNlcy5nZXQobykuY3Jvc3NUaWxlSUQ9MDt0aGlzLnVzZWRDcm9zc1RpbGVJRHNbdC5vdmVyc2NhbGVkWl18fCh0aGlzLnVzZWRDcm9zc1RpbGVJRHNbdC5vdmVyc2NhbGVkWl09e30pO3ZhciByPXRoaXMudXNlZENyb3NzVGlsZUlEc1t0Lm92ZXJzY2FsZWRaXTtmb3IodmFyIGEgaW4gdGhpcy5pbmRleGVzKXt2YXIgbj10aGlzLmluZGV4ZXNbYV07aWYoTnVtYmVyKGEpPnQub3ZlcnNjYWxlZFopZm9yKHZhciBzIGluIG4pe3ZhciBsPW5bc107bC50aWxlSUQuaXNDaGlsZE9mKHQpJiZsLmZpbmRNYXRjaGVzKGUuc3ltYm9sSW5zdGFuY2VzLHQscik7fWVsc2Uge3ZhciBjPW5bdC5zY2FsZWRUbyhOdW1iZXIoYSkpLmtleV07YyYmYy5maW5kTWF0Y2hlcyhlLnN5bWJvbEluc3RhbmNlcyx0LHIpO319Zm9yKHZhciB1PTA7dTxlLnN5bWJvbEluc3RhbmNlcy5sZW5ndGg7dSsrKXt2YXIgaD1lLnN5bWJvbEluc3RhbmNlcy5nZXQodSk7aC5jcm9zc1RpbGVJRHx8KGguY3Jvc3NUaWxlSUQ9aS5nZW5lcmF0ZSgpLHJbaC5jcm9zc1RpbGVJRF09ITApO31yZXR1cm4gdm9pZCAwPT09dGhpcy5pbmRleGVzW3Qub3ZlcnNjYWxlZFpdJiYodGhpcy5pbmRleGVzW3Qub3ZlcnNjYWxlZFpdPXt9KSx0aGlzLmluZGV4ZXNbdC5vdmVyc2NhbGVkWl1bdC5rZXldPW5ldyBrZSh0LGUuc3ltYm9sSW5zdGFuY2VzLGUuYnVja2V0SW5zdGFuY2VJZCksITB9LE9lLnByb3RvdHlwZS5yZW1vdmVCdWNrZXRDcm9zc1RpbGVJRHM9ZnVuY3Rpb24odCxlKXtmb3IodmFyIGkgaW4gZS5pbmRleGVkU3ltYm9sSW5zdGFuY2VzKWZvcih2YXIgbz0wLHI9ZS5pbmRleGVkU3ltYm9sSW5zdGFuY2VzW2ldO288ci5sZW5ndGg7bys9MSlkZWxldGUgdGhpcy51c2VkQ3Jvc3NUaWxlSURzW3RdW3Jbb10uY3Jvc3NUaWxlSURdO30sT2UucHJvdG90eXBlLnJlbW92ZVN0YWxlQnVja2V0cz1mdW5jdGlvbih0KXt2YXIgZT0hMTtmb3IodmFyIGkgaW4gdGhpcy5pbmRleGVzKXt2YXIgbz10aGlzLmluZGV4ZXNbaV07Zm9yKHZhciByIGluIG8pdFtvW3JdLmJ1Y2tldEluc3RhbmNlSWRdfHwodGhpcy5yZW1vdmVCdWNrZXRDcm9zc1RpbGVJRHMoaSxvW3JdKSxkZWxldGUgb1tyXSxlPSEwKTt9cmV0dXJuIGV9O3ZhciBGZT1mdW5jdGlvbigpe3RoaXMubGF5ZXJJbmRleGVzPXt9LHRoaXMuY3Jvc3NUaWxlSURzPW5ldyBCZSx0aGlzLm1heEJ1Y2tldEluc3RhbmNlSWQ9MCx0aGlzLmJ1Y2tldHNJbkN1cnJlbnRQbGFjZW1lbnQ9e307fTtGZS5wcm90b3R5cGUuYWRkTGF5ZXI9ZnVuY3Rpb24odCxlLGkpe3ZhciBvPXRoaXMubGF5ZXJJbmRleGVzW3QuaWRdO3ZvaWQgMD09PW8mJihvPXRoaXMubGF5ZXJJbmRleGVzW3QuaWRdPW5ldyBPZSk7dmFyIHI9ITEsYT17fTtvLmhhbmRsZVdyYXBKdW1wKGkpO2Zvcih2YXIgbj0wLHM9ZTtuPHMubGVuZ3RoO24rPTEpe3ZhciBsPXNbbl0sYz1sLmdldEJ1Y2tldCh0KTtjJiZ0LmlkPT09Yy5sYXllcklkc1swXSYmKGMuYnVja2V0SW5zdGFuY2VJZHx8KGMuYnVja2V0SW5zdGFuY2VJZD0rK3RoaXMubWF4QnVja2V0SW5zdGFuY2VJZCksby5hZGRCdWNrZXQobC50aWxlSUQsYyx0aGlzLmNyb3NzVGlsZUlEcykmJihyPSEwKSxhW2MuYnVja2V0SW5zdGFuY2VJZF09ITApO31yZXR1cm4gby5yZW1vdmVTdGFsZUJ1Y2tldHMoYSkmJihyPSEwKSxyfSxGZS5wcm90b3R5cGUucHJ1bmVVbnVzZWRMYXllcnM9ZnVuY3Rpb24odCl7dmFyIGU9e307Zm9yKHZhciBpIGluIHQuZm9yRWFjaCgoZnVuY3Rpb24odCl7ZVt0XT0hMDt9KSksdGhpcy5sYXllckluZGV4ZXMpZVtpXXx8ZGVsZXRlIHRoaXMubGF5ZXJJbmRleGVzW2ldO307dmFyIFVlPWZ1bmN0aW9uKGUsaSl7cmV0dXJuIHQuZW1pdFZhbGlkYXRpb25FcnJvcnMoZSxpJiZpLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuICJzb3VyY2UuY2FudmFzIiE9PXQuaWRlbnRpZmllcn0pKSl9LE5lPXQucGljayhadCxbImFkZExheWVyIiwicmVtb3ZlTGF5ZXIiLCJzZXRQYWludFByb3BlcnR5Iiwic2V0TGF5b3V0UHJvcGVydHkiLCJzZXRGaWx0ZXIiLCJhZGRTb3VyY2UiLCJyZW1vdmVTb3VyY2UiLCJzZXRMYXllclpvb21SYW5nZSIsInNldExpZ2h0Iiwic2V0VHJhbnNpdGlvbiIsInNldEdlb0pTT05Tb3VyY2VEYXRhIl0pLFplPXQucGljayhadCxbInNldENlbnRlciIsInNldFpvb20iLCJzZXRCZWFyaW5nIiwic2V0UGl0Y2giXSksamU9ZnVuY3Rpb24oKXt2YXIgZT17fSxpPXQuc3R5bGVTcGVjLiR2ZXJzaW9uO2Zvcih2YXIgbyBpbiB0LnN0eWxlU3BlYy4kcm9vdCl7dmFyIHIsYT10LnN0eWxlU3BlYy4kcm9vdFtvXTtpZihhLnJlcXVpcmVkKW51bGwhPShyPSJ2ZXJzaW9uIj09PW8/aToiYXJyYXkiPT09YS50eXBlP1tdOnt9KSYmKGVbb109cik7fXJldHVybiBlfSgpLHFlPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIGkobyxyKXt2YXIgYT10aGlzO3ZvaWQgMD09PXImJihyPXt9KSxlLmNhbGwodGhpcyksdGhpcy5tYXA9byx0aGlzLmRpc3BhdGNoZXI9bmV3IEUoRnQoKSx0aGlzKSx0aGlzLmltYWdlTWFuYWdlcj1uZXcgcCx0aGlzLmltYWdlTWFuYWdlci5zZXRFdmVudGVkUGFyZW50KHRoaXMpLHRoaXMuZ2x5cGhNYW5hZ2VyPW5ldyB5KG8uX3JlcXVlc3RNYW5hZ2VyLHIubG9jYWxJZGVvZ3JhcGhGb250RmFtaWx5KSx0aGlzLmxpbmVBdGxhcz1uZXcgVCgyNTYsNTEyKSx0aGlzLmNyb3NzVGlsZVN5bWJvbEluZGV4PW5ldyBGZSx0aGlzLl9sYXllcnM9e30sdGhpcy5fc2VyaWFsaXplZExheWVycz17fSx0aGlzLl9vcmRlcj1bXSx0aGlzLnNvdXJjZUNhY2hlcz17fSx0aGlzLnpvb21IaXN0b3J5PW5ldyB0Llpvb21IaXN0b3J5LHRoaXMuX2xvYWRlZD0hMSx0aGlzLl9hdmFpbGFibGVJbWFnZXM9W10sdGhpcy5fcmVzZXRVcGRhdGVzKCksdGhpcy5kaXNwYXRjaGVyLmJyb2FkY2FzdCgic2V0UmVmZXJyZXIiLHQuZ2V0UmVmZXJyZXIoKSk7dmFyIG49dGhpczt0aGlzLl9ydGxUZXh0UGx1Z2luQ2FsbGJhY2s9aS5yZWdpc3RlckZvclBsdWdpblN0YXRlQ2hhbmdlKChmdW5jdGlvbihlKXtuLmRpc3BhdGNoZXIuYnJvYWRjYXN0KCJzeW5jUlRMUGx1Z2luU3RhdGUiLHtwbHVnaW5TdGF0dXM6ZS5wbHVnaW5TdGF0dXMscGx1Z2luVVJMOmUucGx1Z2luVVJMfSwoZnVuY3Rpb24oZSxpKXtpZih0LnRyaWdnZXJQbHVnaW5Db21wbGV0aW9uRXZlbnQoZSksaSYmaS5ldmVyeSgoZnVuY3Rpb24odCl7cmV0dXJuIHR9KSkpZm9yKHZhciBvIGluIG4uc291cmNlQ2FjaGVzKW4uc291cmNlQ2FjaGVzW29dLnJlbG9hZCgpO30pKTt9KSksdGhpcy5vbigiZGF0YSIsKGZ1bmN0aW9uKHQpe2lmKCJzb3VyY2UiPT09dC5kYXRhVHlwZSYmIm1ldGFkYXRhIj09PXQuc291cmNlRGF0YVR5cGUpe3ZhciBlPWEuc291cmNlQ2FjaGVzW3Quc291cmNlSWRdO2lmKGUpe3ZhciBpPWUuZ2V0U291cmNlKCk7aWYoaSYmaS52ZWN0b3JMYXllcklkcylmb3IodmFyIG8gaW4gYS5fbGF5ZXJzKXt2YXIgcj1hLl9sYXllcnNbb107ci5zb3VyY2U9PT1pLmlkJiZhLl92YWxpZGF0ZUxheWVyKHIpO319fX0pKTt9cmV0dXJuIGUmJihpLl9fcHJvdG9fXz1lKSwoaS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlJiZlLnByb3RvdHlwZSkpLmNvbnN0cnVjdG9yPWksaS5wcm90b3R5cGUubG9hZFVSTD1mdW5jdGlvbihlLGkpe3ZhciBvPXRoaXM7dm9pZCAwPT09aSYmKGk9e30pLHRoaXMuZmlyZShuZXcgdC5FdmVudCgiZGF0YWxvYWRpbmciLHtkYXRhVHlwZToic3R5bGUifSkpO3ZhciByPSJib29sZWFuIj09dHlwZW9mIGkudmFsaWRhdGU/aS52YWxpZGF0ZTohdC5pc01hcGJveFVSTChlKTtlPXRoaXMubWFwLl9yZXF1ZXN0TWFuYWdlci5ub3JtYWxpemVTdHlsZVVSTChlLGkuYWNjZXNzVG9rZW4pO3ZhciBhPXRoaXMubWFwLl9yZXF1ZXN0TWFuYWdlci50cmFuc2Zvcm1SZXF1ZXN0KGUsdC5SZXNvdXJjZVR5cGUuU3R5bGUpO3RoaXMuX3JlcXVlc3Q9dC5nZXRKU09OKGEsKGZ1bmN0aW9uKGUsaSl7by5fcmVxdWVzdD1udWxsLGU/by5maXJlKG5ldyB0LkVycm9yRXZlbnQoZSkpOmkmJm8uX2xvYWQoaSxyKTt9KSk7fSxpLnByb3RvdHlwZS5sb2FkSlNPTj1mdW5jdGlvbihlLGkpe3ZhciBvPXRoaXM7dm9pZCAwPT09aSYmKGk9e30pLHRoaXMuZmlyZShuZXcgdC5FdmVudCgiZGF0YWxvYWRpbmciLHtkYXRhVHlwZToic3R5bGUifSkpLHRoaXMuX3JlcXVlc3Q9dC5icm93c2VyLmZyYW1lKChmdW5jdGlvbigpe28uX3JlcXVlc3Q9bnVsbCxvLl9sb2FkKGUsITEhPT1pLnZhbGlkYXRlKTt9KSk7fSxpLnByb3RvdHlwZS5sb2FkRW1wdHk9ZnVuY3Rpb24oKXt0aGlzLmZpcmUobmV3IHQuRXZlbnQoImRhdGFsb2FkaW5nIix7ZGF0YVR5cGU6InN0eWxlIn0pKSx0aGlzLl9sb2FkKGplLCExKTt9LGkucHJvdG90eXBlLl9sb2FkPWZ1bmN0aW9uKGUsaSl7aWYoIWl8fCFVZSh0aGlzLHQudmFsaWRhdGVTdHlsZShlKSkpe2Zvcih2YXIgbyBpbiB0aGlzLl9sb2FkZWQ9ITAsdGhpcy5zdHlsZXNoZWV0PWUsZS5zb3VyY2VzKXRoaXMuYWRkU291cmNlKG8sZS5zb3VyY2VzW29dLHt2YWxpZGF0ZTohMX0pO2Uuc3ByaXRlP3RoaXMuX2xvYWRTcHJpdGUoZS5zcHJpdGUpOnRoaXMuaW1hZ2VNYW5hZ2VyLnNldExvYWRlZCghMCksdGhpcy5nbHlwaE1hbmFnZXIuc2V0VVJMKGUuZ2x5cGhzKTt2YXIgcj1OdCh0aGlzLnN0eWxlc2hlZXQubGF5ZXJzKTt0aGlzLl9vcmRlcj1yLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIHQuaWR9KSksdGhpcy5fbGF5ZXJzPXt9LHRoaXMuX3NlcmlhbGl6ZWRMYXllcnM9e307Zm9yKHZhciBhPTAsbj1yO2E8bi5sZW5ndGg7YSs9MSl7dmFyIHM9blthXTsocz10LmNyZWF0ZVN0eWxlTGF5ZXIocykpLnNldEV2ZW50ZWRQYXJlbnQodGhpcyx7bGF5ZXI6e2lkOnMuaWR9fSksdGhpcy5fbGF5ZXJzW3MuaWRdPXMsdGhpcy5fc2VyaWFsaXplZExheWVyc1tzLmlkXT1zLnNlcmlhbGl6ZSgpO310aGlzLmRpc3BhdGNoZXIuYnJvYWRjYXN0KCJzZXRMYXllcnMiLHRoaXMuX3NlcmlhbGl6ZUxheWVycyh0aGlzLl9vcmRlcikpLHRoaXMubGlnaHQ9bmV3IHcodGhpcy5zdHlsZXNoZWV0LmxpZ2h0KSx0aGlzLmZpcmUobmV3IHQuRXZlbnQoImRhdGEiLHtkYXRhVHlwZToic3R5bGUifSkpLHRoaXMuZmlyZShuZXcgdC5FdmVudCgic3R5bGUubG9hZCIpKTt9fSxpLnByb3RvdHlwZS5fbG9hZFNwcml0ZT1mdW5jdGlvbihlKXt2YXIgaT10aGlzO3RoaXMuX3Nwcml0ZVJlcXVlc3Q9ZnVuY3Rpb24oZSxpLG8pe3ZhciByLGEsbixzPXQuYnJvd3Nlci5kZXZpY2VQaXhlbFJhdGlvPjE/IkAyeCI6IiIsbD10LmdldEpTT04oaS50cmFuc2Zvcm1SZXF1ZXN0KGkubm9ybWFsaXplU3ByaXRlVVJMKGUscywiLmpzb24iKSx0LlJlc291cmNlVHlwZS5TcHJpdGVKU09OKSwoZnVuY3Rpb24odCxlKXtsPW51bGwsbnx8KG49dCxyPWUsdSgpKTt9KSksYz10LmdldEltYWdlKGkudHJhbnNmb3JtUmVxdWVzdChpLm5vcm1hbGl6ZVNwcml0ZVVSTChlLHMsIi5wbmciKSx0LlJlc291cmNlVHlwZS5TcHJpdGVJbWFnZSksKGZ1bmN0aW9uKHQsZSl7Yz1udWxsLG58fChuPXQsYT1lLHUoKSk7fSkpO2Z1bmN0aW9uIHUoKXtpZihuKW8obik7ZWxzZSBpZihyJiZhKXt2YXIgZT10LmJyb3dzZXIuZ2V0SW1hZ2VEYXRhKGEpLGk9e307Zm9yKHZhciBzIGluIHIpe3ZhciBsPXJbc10sYz1sLndpZHRoLHU9bC5oZWlnaHQsaD1sLngscD1sLnksZD1sLnNkZixfPWwucGl4ZWxSYXRpbyxmPWwuc3RyZXRjaFgsbT1sLnN0cmV0Y2hZLGc9bC5jb250ZW50LHY9bmV3IHQuUkdCQUltYWdlKHt3aWR0aDpjLGhlaWdodDp1fSk7dC5SR0JBSW1hZ2UuY29weShlLHYse3g6aCx5OnB9LHt4OjAseTowfSx7d2lkdGg6YyxoZWlnaHQ6dX0pLGlbc109e2RhdGE6dixwaXhlbFJhdGlvOl8sc2RmOmQsc3RyZXRjaFg6ZixzdHJldGNoWTptLGNvbnRlbnQ6Z307fW8obnVsbCxpKTt9fXJldHVybiB7Y2FuY2VsOmZ1bmN0aW9uKCl7bCYmKGwuY2FuY2VsKCksbD1udWxsKSxjJiYoYy5jYW5jZWwoKSxjPW51bGwpO319fShlLHRoaXMubWFwLl9yZXF1ZXN0TWFuYWdlciwoZnVuY3Rpb24oZSxvKXtpZihpLl9zcHJpdGVSZXF1ZXN0PW51bGwsZSlpLmZpcmUobmV3IHQuRXJyb3JFdmVudChlKSk7ZWxzZSBpZihvKWZvcih2YXIgciBpbiBvKWkuaW1hZ2VNYW5hZ2VyLmFkZEltYWdlKHIsb1tyXSk7aS5pbWFnZU1hbmFnZXIuc2V0TG9hZGVkKCEwKSxpLl9hdmFpbGFibGVJbWFnZXM9aS5pbWFnZU1hbmFnZXIubGlzdEltYWdlcygpLGkuZGlzcGF0Y2hlci5icm9hZGNhc3QoInNldEltYWdlcyIsaS5fYXZhaWxhYmxlSW1hZ2VzKSxpLmZpcmUobmV3IHQuRXZlbnQoImRhdGEiLHtkYXRhVHlwZToic3R5bGUifSkpO30pKTt9LGkucHJvdG90eXBlLl92YWxpZGF0ZUxheWVyPWZ1bmN0aW9uKGUpe3ZhciBpPXRoaXMuc291cmNlQ2FjaGVzW2Uuc291cmNlXTtpZihpKXt2YXIgbz1lLnNvdXJjZUxheWVyO2lmKG8pe3ZhciByPWkuZ2V0U291cmNlKCk7KCJnZW9qc29uIj09PXIudHlwZXx8ci52ZWN0b3JMYXllcklkcyYmLTE9PT1yLnZlY3RvckxheWVySWRzLmluZGV4T2YobykpJiZ0aGlzLmZpcmUobmV3IHQuRXJyb3JFdmVudChuZXcgRXJyb3IoJ1NvdXJjZSBsYXllciAiJytvKyciIGRvZXMgbm90IGV4aXN0IG9uIHNvdXJjZSAiJytyLmlkKyciIGFzIHNwZWNpZmllZCBieSBzdHlsZSBsYXllciAiJytlLmlkKyciJykpKTt9fX0saS5wcm90b3R5cGUubG9hZGVkPWZ1bmN0aW9uKCl7aWYoIXRoaXMuX2xvYWRlZClyZXR1cm4gITE7aWYoT2JqZWN0LmtleXModGhpcy5fdXBkYXRlZFNvdXJjZXMpLmxlbmd0aClyZXR1cm4gITE7Zm9yKHZhciB0IGluIHRoaXMuc291cmNlQ2FjaGVzKWlmKCF0aGlzLnNvdXJjZUNhY2hlc1t0XS5sb2FkZWQoKSlyZXR1cm4gITE7cmV0dXJuICEhdGhpcy5pbWFnZU1hbmFnZXIuaXNMb2FkZWQoKX0saS5wcm90b3R5cGUuX3NlcmlhbGl6ZUxheWVycz1mdW5jdGlvbih0KXtmb3IodmFyIGU9W10saT0wLG89dDtpPG8ubGVuZ3RoO2krPTEpe3ZhciByPXRoaXMuX2xheWVyc1tvW2ldXTsiY3VzdG9tIiE9PXIudHlwZSYmZS5wdXNoKHIuc2VyaWFsaXplKCkpO31yZXR1cm4gZX0saS5wcm90b3R5cGUuaGFzVHJhbnNpdGlvbnM9ZnVuY3Rpb24oKXtpZih0aGlzLmxpZ2h0JiZ0aGlzLmxpZ2h0Lmhhc1RyYW5zaXRpb24oKSlyZXR1cm4gITA7Zm9yKHZhciB0IGluIHRoaXMuc291cmNlQ2FjaGVzKWlmKHRoaXMuc291cmNlQ2FjaGVzW3RdLmhhc1RyYW5zaXRpb24oKSlyZXR1cm4gITA7Zm9yKHZhciBlIGluIHRoaXMuX2xheWVycylpZih0aGlzLl9sYXllcnNbZV0uaGFzVHJhbnNpdGlvbigpKXJldHVybiAhMDtyZXR1cm4gITF9LGkucHJvdG90eXBlLl9jaGVja0xvYWRlZD1mdW5jdGlvbigpe2lmKCF0aGlzLl9sb2FkZWQpdGhyb3cgbmV3IEVycm9yKCJTdHlsZSBpcyBub3QgZG9uZSBsb2FkaW5nIil9LGkucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbihlKXtpZih0aGlzLl9sb2FkZWQpe3ZhciBpPXRoaXMuX2NoYW5nZWQ7aWYodGhpcy5fY2hhbmdlZCl7dmFyIG89T2JqZWN0LmtleXModGhpcy5fdXBkYXRlZExheWVycykscj1PYmplY3Qua2V5cyh0aGlzLl9yZW1vdmVkTGF5ZXJzKTtmb3IodmFyIGEgaW4gKG8ubGVuZ3RofHxyLmxlbmd0aCkmJnRoaXMuX3VwZGF0ZVdvcmtlckxheWVycyhvLHIpLHRoaXMuX3VwZGF0ZWRTb3VyY2VzKXt2YXIgbj10aGlzLl91cGRhdGVkU291cmNlc1thXTsicmVsb2FkIj09PW4/dGhpcy5fcmVsb2FkU291cmNlKGEpOiJjbGVhciI9PT1uJiZ0aGlzLl9jbGVhclNvdXJjZShhKTt9Zm9yKHZhciBzIGluIHRoaXMuX3VwZGF0ZVRpbGVzRm9yQ2hhbmdlZEltYWdlcygpLHRoaXMuX3VwZGF0ZWRQYWludFByb3BzKXRoaXMuX2xheWVyc1tzXS51cGRhdGVUcmFuc2l0aW9ucyhlKTt0aGlzLmxpZ2h0LnVwZGF0ZVRyYW5zaXRpb25zKGUpLHRoaXMuX3Jlc2V0VXBkYXRlcygpO31mb3IodmFyIGwgaW4gdGhpcy5zb3VyY2VDYWNoZXMpdGhpcy5zb3VyY2VDYWNoZXNbbF0udXNlZD0hMTtmb3IodmFyIGM9MCx1PXRoaXMuX29yZGVyO2M8dS5sZW5ndGg7Yys9MSl7dmFyIGg9dGhpcy5fbGF5ZXJzW3VbY11dO2gucmVjYWxjdWxhdGUoZSx0aGlzLl9hdmFpbGFibGVJbWFnZXMpLCFoLmlzSGlkZGVuKGUuem9vbSkmJmguc291cmNlJiYodGhpcy5zb3VyY2VDYWNoZXNbaC5zb3VyY2VdLnVzZWQ9ITApO310aGlzLmxpZ2h0LnJlY2FsY3VsYXRlKGUpLHRoaXMuej1lLnpvb20saSYmdGhpcy5maXJlKG5ldyB0LkV2ZW50KCJkYXRhIix7ZGF0YVR5cGU6InN0eWxlIn0pKTt9fSxpLnByb3RvdHlwZS5fdXBkYXRlVGlsZXNGb3JDaGFuZ2VkSW1hZ2VzPWZ1bmN0aW9uKCl7dmFyIHQ9T2JqZWN0LmtleXModGhpcy5fY2hhbmdlZEltYWdlcyk7aWYodC5sZW5ndGgpe2Zvcih2YXIgZSBpbiB0aGlzLnNvdXJjZUNhY2hlcyl0aGlzLnNvdXJjZUNhY2hlc1tlXS5yZWxvYWRUaWxlc0ZvckRlcGVuZGVuY2llcyhbImljb25zIiwicGF0dGVybnMiXSx0KTt0aGlzLl9jaGFuZ2VkSW1hZ2VzPXt9O319LGkucHJvdG90eXBlLl91cGRhdGVXb3JrZXJMYXllcnM9ZnVuY3Rpb24odCxlKXt0aGlzLmRpc3BhdGNoZXIuYnJvYWRjYXN0KCJ1cGRhdGVMYXllcnMiLHtsYXllcnM6dGhpcy5fc2VyaWFsaXplTGF5ZXJzKHQpLHJlbW92ZWRJZHM6ZX0pO30saS5wcm90b3R5cGUuX3Jlc2V0VXBkYXRlcz1mdW5jdGlvbigpe3RoaXMuX2NoYW5nZWQ9ITEsdGhpcy5fdXBkYXRlZExheWVycz17fSx0aGlzLl9yZW1vdmVkTGF5ZXJzPXt9LHRoaXMuX3VwZGF0ZWRTb3VyY2VzPXt9LHRoaXMuX3VwZGF0ZWRQYWludFByb3BzPXt9LHRoaXMuX2NoYW5nZWRJbWFnZXM9e307fSxpLnByb3RvdHlwZS5zZXRTdGF0ZT1mdW5jdGlvbihlKXt2YXIgaT10aGlzO2lmKHRoaXMuX2NoZWNrTG9hZGVkKCksVWUodGhpcyx0LnZhbGlkYXRlU3R5bGUoZSkpKXJldHVybiAhMTsoZT10LmNsb25lJDEoZSkpLmxheWVycz1OdChlLmxheWVycyk7dmFyIG89ZnVuY3Rpb24oZSxpKXtpZighZSlyZXR1cm4gW3tjb21tYW5kOlp0LnNldFN0eWxlLGFyZ3M6W2ldfV07dmFyIG89W107dHJ5e2lmKCF0LmRlZXBFcXVhbChlLnZlcnNpb24saS52ZXJzaW9uKSlyZXR1cm4gW3tjb21tYW5kOlp0LnNldFN0eWxlLGFyZ3M6W2ldfV07dC5kZWVwRXF1YWwoZS5jZW50ZXIsaS5jZW50ZXIpfHxvLnB1c2goe2NvbW1hbmQ6WnQuc2V0Q2VudGVyLGFyZ3M6W2kuY2VudGVyXX0pLHQuZGVlcEVxdWFsKGUuem9vbSxpLnpvb20pfHxvLnB1c2goe2NvbW1hbmQ6WnQuc2V0Wm9vbSxhcmdzOltpLnpvb21dfSksdC5kZWVwRXF1YWwoZS5iZWFyaW5nLGkuYmVhcmluZyl8fG8ucHVzaCh7Y29tbWFuZDpadC5zZXRCZWFyaW5nLGFyZ3M6W2kuYmVhcmluZ119KSx0LmRlZXBFcXVhbChlLnBpdGNoLGkucGl0Y2gpfHxvLnB1c2goe2NvbW1hbmQ6WnQuc2V0UGl0Y2gsYXJnczpbaS5waXRjaF19KSx0LmRlZXBFcXVhbChlLnNwcml0ZSxpLnNwcml0ZSl8fG8ucHVzaCh7Y29tbWFuZDpadC5zZXRTcHJpdGUsYXJnczpbaS5zcHJpdGVdfSksdC5kZWVwRXF1YWwoZS5nbHlwaHMsaS5nbHlwaHMpfHxvLnB1c2goe2NvbW1hbmQ6WnQuc2V0R2x5cGhzLGFyZ3M6W2kuZ2x5cGhzXX0pLHQuZGVlcEVxdWFsKGUudHJhbnNpdGlvbixpLnRyYW5zaXRpb24pfHxvLnB1c2goe2NvbW1hbmQ6WnQuc2V0VHJhbnNpdGlvbixhcmdzOltpLnRyYW5zaXRpb25dfSksdC5kZWVwRXF1YWwoZS5saWdodCxpLmxpZ2h0KXx8by5wdXNoKHtjb21tYW5kOlp0LnNldExpZ2h0LGFyZ3M6W2kubGlnaHRdfSk7dmFyIHI9e30sYT1bXTshZnVuY3Rpb24oZSxpLG8scil7dmFyIGE7Zm9yKGEgaW4gaT1pfHx7fSxlPWV8fHt9KWUuaGFzT3duUHJvcGVydHkoYSkmJihpLmhhc093blByb3BlcnR5KGEpfHxxdChhLG8scikpO2ZvcihhIGluIGkpaS5oYXNPd25Qcm9wZXJ0eShhKSYmKGUuaGFzT3duUHJvcGVydHkoYSk/dC5kZWVwRXF1YWwoZVthXSxpW2FdKXx8KCJnZW9qc29uIj09PWVbYV0udHlwZSYmImdlb2pzb24iPT09aVthXS50eXBlJiZHdChlLGksYSk/by5wdXNoKHtjb21tYW5kOlp0LnNldEdlb0pTT05Tb3VyY2VEYXRhLGFyZ3M6W2EsaVthXS5kYXRhXX0pOlZ0KGEsaSxvLHIpKTpqdChhLGksbykpO30oZS5zb3VyY2VzLGkuc291cmNlcyxhLHIpO3ZhciBuPVtdO2UubGF5ZXJzJiZlLmxheWVycy5mb3JFYWNoKChmdW5jdGlvbih0KXtyW3Quc291cmNlXT9vLnB1c2goe2NvbW1hbmQ6WnQucmVtb3ZlTGF5ZXIsYXJnczpbdC5pZF19KTpuLnB1c2godCk7fSkpLG89by5jb25jYXQoYSksZnVuY3Rpb24oZSxpLG8pe2k9aXx8W107dmFyIHIsYSxuLHMsbCxjLHUsaD0oZT1lfHxbXSkubWFwKFh0KSxwPWkubWFwKFh0KSxkPWUucmVkdWNlKEh0LHt9KSxfPWkucmVkdWNlKEh0LHt9KSxmPWguc2xpY2UoKSxtPU9iamVjdC5jcmVhdGUobnVsbCk7Zm9yKHI9MCxhPTA7cjxoLmxlbmd0aDtyKyspXy5oYXNPd25Qcm9wZXJ0eShuPWhbcl0pP2ErKzooby5wdXNoKHtjb21tYW5kOlp0LnJlbW92ZUxheWVyLGFyZ3M6W25dfSksZi5zcGxpY2UoZi5pbmRleE9mKG4sYSksMSkpO2ZvcihyPTAsYT0wO3I8cC5sZW5ndGg7cisrKWZbZi5sZW5ndGgtMS1yXSE9PShuPXBbcC5sZW5ndGgtMS1yXSkmJihkLmhhc093blByb3BlcnR5KG4pPyhvLnB1c2goe2NvbW1hbmQ6WnQucmVtb3ZlTGF5ZXIsYXJnczpbbl19KSxmLnNwbGljZShmLmxhc3RJbmRleE9mKG4sZi5sZW5ndGgtYSksMSkpOmErKyxvLnB1c2goe2NvbW1hbmQ6WnQuYWRkTGF5ZXIsYXJnczpbX1tuXSxjPWZbZi5sZW5ndGgtcl1dfSksZi5zcGxpY2UoZi5sZW5ndGgtciwwLG4pLG1bbl09ITApO2ZvcihyPTA7cjxwLmxlbmd0aDtyKyspaWYocz1kW249cFtyXV0sbD1fW25dLCFtW25dJiYhdC5kZWVwRXF1YWwocyxsKSlpZih0LmRlZXBFcXVhbChzLnNvdXJjZSxsLnNvdXJjZSkmJnQuZGVlcEVxdWFsKHNbInNvdXJjZS1sYXllciJdLGxbInNvdXJjZS1sYXllciJdKSYmdC5kZWVwRXF1YWwocy50eXBlLGwudHlwZSkpe2Zvcih1IGluIFd0KHMubGF5b3V0LGwubGF5b3V0LG8sbixudWxsLFp0LnNldExheW91dFByb3BlcnR5KSxXdChzLnBhaW50LGwucGFpbnQsbyxuLG51bGwsWnQuc2V0UGFpbnRQcm9wZXJ0eSksdC5kZWVwRXF1YWwocy5maWx0ZXIsbC5maWx0ZXIpfHxvLnB1c2goe2NvbW1hbmQ6WnQuc2V0RmlsdGVyLGFyZ3M6W24sbC5maWx0ZXJdfSksdC5kZWVwRXF1YWwocy5taW56b29tLGwubWluem9vbSkmJnQuZGVlcEVxdWFsKHMubWF4em9vbSxsLm1heHpvb20pfHxvLnB1c2goe2NvbW1hbmQ6WnQuc2V0TGF5ZXJab29tUmFuZ2UsYXJnczpbbixsLm1pbnpvb20sbC5tYXh6b29tXX0pLHMpcy5oYXNPd25Qcm9wZXJ0eSh1KSYmImxheW91dCIhPT11JiYicGFpbnQiIT09dSYmImZpbHRlciIhPT11JiYibWV0YWRhdGEiIT09dSYmIm1pbnpvb20iIT09dSYmIm1heHpvb20iIT09dSYmKDA9PT11LmluZGV4T2YoInBhaW50LiIpP1d0KHNbdV0sbFt1XSxvLG4sdS5zbGljZSg2KSxadC5zZXRQYWludFByb3BlcnR5KTp0LmRlZXBFcXVhbChzW3VdLGxbdV0pfHxvLnB1c2goe2NvbW1hbmQ6WnQuc2V0TGF5ZXJQcm9wZXJ0eSxhcmdzOltuLHUsbFt1XV19KSk7Zm9yKHUgaW4gbClsLmhhc093blByb3BlcnR5KHUpJiYhcy5oYXNPd25Qcm9wZXJ0eSh1KSYmImxheW91dCIhPT11JiYicGFpbnQiIT09dSYmImZpbHRlciIhPT11JiYibWV0YWRhdGEiIT09dSYmIm1pbnpvb20iIT09dSYmIm1heHpvb20iIT09dSYmKDA9PT11LmluZGV4T2YoInBhaW50LiIpP1d0KHNbdV0sbFt1XSxvLG4sdS5zbGljZSg2KSxadC5zZXRQYWludFByb3BlcnR5KTp0LmRlZXBFcXVhbChzW3VdLGxbdV0pfHxvLnB1c2goe2NvbW1hbmQ6WnQuc2V0TGF5ZXJQcm9wZXJ0eSxhcmdzOltuLHUsbFt1XV19KSk7fWVsc2Ugby5wdXNoKHtjb21tYW5kOlp0LnJlbW92ZUxheWVyLGFyZ3M6W25dfSksYz1mW2YubGFzdEluZGV4T2YobikrMV0sby5wdXNoKHtjb21tYW5kOlp0LmFkZExheWVyLGFyZ3M6W2wsY119KTt9KG4saS5sYXllcnMsbyk7fWNhdGNoKHQpe2NvbnNvbGUud2FybigiVW5hYmxlIHRvIGNvbXB1dGUgc3R5bGUgZGlmZjoiLHQpLG89W3tjb21tYW5kOlp0LnNldFN0eWxlLGFyZ3M6W2ldfV07fXJldHVybiBvfSh0aGlzLnNlcmlhbGl6ZSgpLGUpLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuICEodC5jb21tYW5kIGluIFplKX0pKTtpZigwPT09by5sZW5ndGgpcmV0dXJuICExO3ZhciByPW8uZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gISh0LmNvbW1hbmQgaW4gTmUpfSkpO2lmKHIubGVuZ3RoPjApdGhyb3cgbmV3IEVycm9yKCJVbmltcGxlbWVudGVkOiAiK3IubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gdC5jb21tYW5kfSkpLmpvaW4oIiwgIikrIi4iKTtyZXR1cm4gby5mb3JFYWNoKChmdW5jdGlvbih0KXsic2V0VHJhbnNpdGlvbiIhPT10LmNvbW1hbmQmJmlbdC5jb21tYW5kXS5hcHBseShpLHQuYXJncyk7fSkpLHRoaXMuc3R5bGVzaGVldD1lLCEwfSxpLnByb3RvdHlwZS5hZGRJbWFnZT1mdW5jdGlvbihlLGkpe2lmKHRoaXMuZ2V0SW1hZ2UoZSkpcmV0dXJuIHRoaXMuZmlyZShuZXcgdC5FcnJvckV2ZW50KG5ldyBFcnJvcigiQW4gaW1hZ2Ugd2l0aCB0aGlzIG5hbWUgYWxyZWFkeSBleGlzdHMuIikpKTt0aGlzLmltYWdlTWFuYWdlci5hZGRJbWFnZShlLGkpLHRoaXMuX2F2YWlsYWJsZUltYWdlcz10aGlzLmltYWdlTWFuYWdlci5saXN0SW1hZ2VzKCksdGhpcy5fY2hhbmdlZEltYWdlc1tlXT0hMCx0aGlzLl9jaGFuZ2VkPSEwLHRoaXMuZmlyZShuZXcgdC5FdmVudCgiZGF0YSIse2RhdGFUeXBlOiJzdHlsZSJ9KSk7fSxpLnByb3RvdHlwZS51cGRhdGVJbWFnZT1mdW5jdGlvbih0LGUpe3RoaXMuaW1hZ2VNYW5hZ2VyLnVwZGF0ZUltYWdlKHQsZSk7fSxpLnByb3RvdHlwZS5nZXRJbWFnZT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5pbWFnZU1hbmFnZXIuZ2V0SW1hZ2UodCl9LGkucHJvdG90eXBlLnJlbW92ZUltYWdlPWZ1bmN0aW9uKGUpe2lmKCF0aGlzLmdldEltYWdlKGUpKXJldHVybiB0aGlzLmZpcmUobmV3IHQuRXJyb3JFdmVudChuZXcgRXJyb3IoIk5vIGltYWdlIHdpdGggdGhpcyBuYW1lIGV4aXN0cy4iKSkpO3RoaXMuaW1hZ2VNYW5hZ2VyLnJlbW92ZUltYWdlKGUpLHRoaXMuX2F2YWlsYWJsZUltYWdlcz10aGlzLmltYWdlTWFuYWdlci5saXN0SW1hZ2VzKCksdGhpcy5fY2hhbmdlZEltYWdlc1tlXT0hMCx0aGlzLl9jaGFuZ2VkPSEwLHRoaXMuZmlyZShuZXcgdC5FdmVudCgiZGF0YSIse2RhdGFUeXBlOiJzdHlsZSJ9KSk7fSxpLnByb3RvdHlwZS5saXN0SW1hZ2VzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NoZWNrTG9hZGVkKCksdGhpcy5pbWFnZU1hbmFnZXIubGlzdEltYWdlcygpfSxpLnByb3RvdHlwZS5hZGRTb3VyY2U9ZnVuY3Rpb24oZSxpLG8pe3ZhciByPXRoaXM7aWYodm9pZCAwPT09byYmKG89e30pLHRoaXMuX2NoZWNrTG9hZGVkKCksdm9pZCAwIT09dGhpcy5zb3VyY2VDYWNoZXNbZV0pdGhyb3cgbmV3IEVycm9yKCJUaGVyZSBpcyBhbHJlYWR5IGEgc291cmNlIHdpdGggdGhpcyBJRCIpO2lmKCFpLnR5cGUpdGhyb3cgbmV3IEVycm9yKCJUaGUgdHlwZSBwcm9wZXJ0eSBtdXN0IGJlIGRlZmluZWQsIGJ1dCB0aGUgb25seSB0aGUgZm9sbG93aW5nIHByb3BlcnRpZXMgd2VyZSBnaXZlbjogIitPYmplY3Qua2V5cyhpKS5qb2luKCIsICIpKyIuIik7aWYoIShbInZlY3RvciIsInJhc3RlciIsImdlb2pzb24iLCJ2aWRlbyIsImltYWdlIl0uaW5kZXhPZihpLnR5cGUpPj0wJiZ0aGlzLl92YWxpZGF0ZSh0LnZhbGlkYXRlU3R5bGUuc291cmNlLCJzb3VyY2VzLiIrZSxpLG51bGwsbykpKXt0aGlzLm1hcCYmdGhpcy5tYXAuX2NvbGxlY3RSZXNvdXJjZVRpbWluZyYmKGkuY29sbGVjdFJlc291cmNlVGltaW5nPSEwKTt2YXIgYT10aGlzLnNvdXJjZUNhY2hlc1tlXT1uZXcgRHQoZSxpLHRoaXMuZGlzcGF0Y2hlcik7YS5zdHlsZT10aGlzLGEuc2V0RXZlbnRlZFBhcmVudCh0aGlzLChmdW5jdGlvbigpe3JldHVybiB7aXNTb3VyY2VMb2FkZWQ6ci5sb2FkZWQoKSxzb3VyY2U6YS5zZXJpYWxpemUoKSxzb3VyY2VJZDplfX0pKSxhLm9uQWRkKHRoaXMubWFwKSx0aGlzLl9jaGFuZ2VkPSEwO319LGkucHJvdG90eXBlLnJlbW92ZVNvdXJjZT1mdW5jdGlvbihlKXtpZih0aGlzLl9jaGVja0xvYWRlZCgpLHZvaWQgMD09PXRoaXMuc291cmNlQ2FjaGVzW2VdKXRocm93IG5ldyBFcnJvcigiVGhlcmUgaXMgbm8gc291cmNlIHdpdGggdGhpcyBJRCIpO2Zvcih2YXIgaSBpbiB0aGlzLl9sYXllcnMpaWYodGhpcy5fbGF5ZXJzW2ldLnNvdXJjZT09PWUpcmV0dXJuIHRoaXMuZmlyZShuZXcgdC5FcnJvckV2ZW50KG5ldyBFcnJvcignU291cmNlICInK2UrJyIgY2Fubm90IGJlIHJlbW92ZWQgd2hpbGUgbGF5ZXIgIicraSsnIiBpcyB1c2luZyBpdC4nKSkpO3ZhciBvPXRoaXMuc291cmNlQ2FjaGVzW2VdO2RlbGV0ZSB0aGlzLnNvdXJjZUNhY2hlc1tlXSxkZWxldGUgdGhpcy5fdXBkYXRlZFNvdXJjZXNbZV0sby5maXJlKG5ldyB0LkV2ZW50KCJkYXRhIix7c291cmNlRGF0YVR5cGU6Im1ldGFkYXRhIixkYXRhVHlwZToic291cmNlIixzb3VyY2VJZDplfSkpLG8uc2V0RXZlbnRlZFBhcmVudChudWxsKSxvLmNsZWFyVGlsZXMoKSxvLm9uUmVtb3ZlJiZvLm9uUmVtb3ZlKHRoaXMubWFwKSx0aGlzLl9jaGFuZ2VkPSEwO30saS5wcm90b3R5cGUuc2V0R2VvSlNPTlNvdXJjZURhdGE9ZnVuY3Rpb24odCxlKXt0aGlzLl9jaGVja0xvYWRlZCgpLHRoaXMuc291cmNlQ2FjaGVzW3RdLmdldFNvdXJjZSgpLnNldERhdGEoZSksdGhpcy5fY2hhbmdlZD0hMDt9LGkucHJvdG90eXBlLmdldFNvdXJjZT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5zb3VyY2VDYWNoZXNbdF0mJnRoaXMuc291cmNlQ2FjaGVzW3RdLmdldFNvdXJjZSgpfSxpLnByb3RvdHlwZS5hZGRMYXllcj1mdW5jdGlvbihlLGksbyl7dm9pZCAwPT09byYmKG89e30pLHRoaXMuX2NoZWNrTG9hZGVkKCk7dmFyIHI9ZS5pZDtpZih0aGlzLmdldExheWVyKHIpKXRoaXMuZmlyZShuZXcgdC5FcnJvckV2ZW50KG5ldyBFcnJvcignTGF5ZXIgd2l0aCBpZCAiJytyKyciIGFscmVhZHkgZXhpc3RzIG9uIHRoaXMgbWFwJykpKTtlbHNlIHt2YXIgYTtpZigiY3VzdG9tIj09PWUudHlwZSl7aWYoVWUodGhpcyx0LnZhbGlkYXRlQ3VzdG9tU3R5bGVMYXllcihlKSkpcmV0dXJuO2E9dC5jcmVhdGVTdHlsZUxheWVyKGUpO31lbHNlIHtpZigib2JqZWN0Ij09dHlwZW9mIGUuc291cmNlJiYodGhpcy5hZGRTb3VyY2UocixlLnNvdXJjZSksZT10LmNsb25lJDEoZSksZT10LmV4dGVuZChlLHtzb3VyY2U6cn0pKSx0aGlzLl92YWxpZGF0ZSh0LnZhbGlkYXRlU3R5bGUubGF5ZXIsImxheWVycy4iK3IsZSx7YXJyYXlJbmRleDotMX0sbykpcmV0dXJuO2E9dC5jcmVhdGVTdHlsZUxheWVyKGUpLHRoaXMuX3ZhbGlkYXRlTGF5ZXIoYSksYS5zZXRFdmVudGVkUGFyZW50KHRoaXMse2xheWVyOntpZDpyfX0pLHRoaXMuX3NlcmlhbGl6ZWRMYXllcnNbYS5pZF09YS5zZXJpYWxpemUoKTt9dmFyIG49aT90aGlzLl9vcmRlci5pbmRleE9mKGkpOnRoaXMuX29yZGVyLmxlbmd0aDtpZihpJiYtMT09PW4pdGhpcy5maXJlKG5ldyB0LkVycm9yRXZlbnQobmV3IEVycm9yKCdMYXllciB3aXRoIGlkICInK2krJyIgZG9lcyBub3QgZXhpc3Qgb24gdGhpcyBtYXAuJykpKTtlbHNlIHtpZih0aGlzLl9vcmRlci5zcGxpY2UobiwwLHIpLHRoaXMuX2xheWVyT3JkZXJDaGFuZ2VkPSEwLHRoaXMuX2xheWVyc1tyXT1hLHRoaXMuX3JlbW92ZWRMYXllcnNbcl0mJmEuc291cmNlJiYiY3VzdG9tIiE9PWEudHlwZSl7dmFyIHM9dGhpcy5fcmVtb3ZlZExheWVyc1tyXTtkZWxldGUgdGhpcy5fcmVtb3ZlZExheWVyc1tyXSxzLnR5cGUhPT1hLnR5cGU/dGhpcy5fdXBkYXRlZFNvdXJjZXNbYS5zb3VyY2VdPSJjbGVhciI6KHRoaXMuX3VwZGF0ZWRTb3VyY2VzW2Euc291cmNlXT0icmVsb2FkIix0aGlzLnNvdXJjZUNhY2hlc1thLnNvdXJjZV0ucGF1c2UoKSk7fXRoaXMuX3VwZGF0ZUxheWVyKGEpLGEub25BZGQmJmEub25BZGQodGhpcy5tYXApO319fSxpLnByb3RvdHlwZS5tb3ZlTGF5ZXI9ZnVuY3Rpb24oZSxpKXtpZih0aGlzLl9jaGVja0xvYWRlZCgpLHRoaXMuX2NoYW5nZWQ9ITAsdGhpcy5fbGF5ZXJzW2VdKXtpZihlIT09aSl7dmFyIG89dGhpcy5fb3JkZXIuaW5kZXhPZihlKTt0aGlzLl9vcmRlci5zcGxpY2UobywxKTt2YXIgcj1pP3RoaXMuX29yZGVyLmluZGV4T2YoaSk6dGhpcy5fb3JkZXIubGVuZ3RoO2kmJi0xPT09cj90aGlzLmZpcmUobmV3IHQuRXJyb3JFdmVudChuZXcgRXJyb3IoJ0xheWVyIHdpdGggaWQgIicraSsnIiBkb2VzIG5vdCBleGlzdCBvbiB0aGlzIG1hcC4nKSkpOih0aGlzLl9vcmRlci5zcGxpY2UociwwLGUpLHRoaXMuX2xheWVyT3JkZXJDaGFuZ2VkPSEwKTt9fWVsc2UgdGhpcy5maXJlKG5ldyB0LkVycm9yRXZlbnQobmV3IEVycm9yKCJUaGUgbGF5ZXIgJyIrZSsiJyBkb2VzIG5vdCBleGlzdCBpbiB0aGUgbWFwJ3Mgc3R5bGUgYW5kIGNhbm5vdCBiZSBtb3ZlZC4iKSkpO30saS5wcm90b3R5cGUucmVtb3ZlTGF5ZXI9ZnVuY3Rpb24oZSl7dGhpcy5fY2hlY2tMb2FkZWQoKTt2YXIgaT10aGlzLl9sYXllcnNbZV07aWYoaSl7aS5zZXRFdmVudGVkUGFyZW50KG51bGwpO3ZhciBvPXRoaXMuX29yZGVyLmluZGV4T2YoZSk7dGhpcy5fb3JkZXIuc3BsaWNlKG8sMSksdGhpcy5fbGF5ZXJPcmRlckNoYW5nZWQ9ITAsdGhpcy5fY2hhbmdlZD0hMCx0aGlzLl9yZW1vdmVkTGF5ZXJzW2VdPWksZGVsZXRlIHRoaXMuX2xheWVyc1tlXSxkZWxldGUgdGhpcy5fc2VyaWFsaXplZExheWVyc1tlXSxkZWxldGUgdGhpcy5fdXBkYXRlZExheWVyc1tlXSxkZWxldGUgdGhpcy5fdXBkYXRlZFBhaW50UHJvcHNbZV0saS5vblJlbW92ZSYmaS5vblJlbW92ZSh0aGlzLm1hcCk7fWVsc2UgdGhpcy5maXJlKG5ldyB0LkVycm9yRXZlbnQobmV3IEVycm9yKCJUaGUgbGF5ZXIgJyIrZSsiJyBkb2VzIG5vdCBleGlzdCBpbiB0aGUgbWFwJ3Mgc3R5bGUgYW5kIGNhbm5vdCBiZSByZW1vdmVkLiIpKSk7fSxpLnByb3RvdHlwZS5nZXRMYXllcj1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fbGF5ZXJzW3RdfSxpLnByb3RvdHlwZS5oYXNMYXllcj1mdW5jdGlvbih0KXtyZXR1cm4gdCBpbiB0aGlzLl9sYXllcnN9LGkucHJvdG90eXBlLnNldExheWVyWm9vbVJhbmdlPWZ1bmN0aW9uKGUsaSxvKXt0aGlzLl9jaGVja0xvYWRlZCgpO3ZhciByPXRoaXMuZ2V0TGF5ZXIoZSk7cj9yLm1pbnpvb209PT1pJiZyLm1heHpvb209PT1vfHwobnVsbCE9aSYmKHIubWluem9vbT1pKSxudWxsIT1vJiYoci5tYXh6b29tPW8pLHRoaXMuX3VwZGF0ZUxheWVyKHIpKTp0aGlzLmZpcmUobmV3IHQuRXJyb3JFdmVudChuZXcgRXJyb3IoIlRoZSBsYXllciAnIitlKyInIGRvZXMgbm90IGV4aXN0IGluIHRoZSBtYXAncyBzdHlsZSBhbmQgY2Fubm90IGhhdmUgem9vbSBleHRlbnQuIikpKTt9LGkucHJvdG90eXBlLnNldEZpbHRlcj1mdW5jdGlvbihlLGksbyl7dm9pZCAwPT09byYmKG89e30pLHRoaXMuX2NoZWNrTG9hZGVkKCk7dmFyIHI9dGhpcy5nZXRMYXllcihlKTtpZihyKXtpZighdC5kZWVwRXF1YWwoci5maWx0ZXIsaSkpcmV0dXJuIG51bGw9PWk/KHIuZmlsdGVyPXZvaWQgMCx2b2lkIHRoaXMuX3VwZGF0ZUxheWVyKHIpKTp2b2lkKHRoaXMuX3ZhbGlkYXRlKHQudmFsaWRhdGVTdHlsZS5maWx0ZXIsImxheWVycy4iK3IuaWQrIi5maWx0ZXIiLGksbnVsbCxvKXx8KHIuZmlsdGVyPXQuY2xvbmUkMShpKSx0aGlzLl91cGRhdGVMYXllcihyKSkpfWVsc2UgdGhpcy5maXJlKG5ldyB0LkVycm9yRXZlbnQobmV3IEVycm9yKCJUaGUgbGF5ZXIgJyIrZSsiJyBkb2VzIG5vdCBleGlzdCBpbiB0aGUgbWFwJ3Mgc3R5bGUgYW5kIGNhbm5vdCBiZSBmaWx0ZXJlZC4iKSkpO30saS5wcm90b3R5cGUuZ2V0RmlsdGVyPWZ1bmN0aW9uKGUpe3JldHVybiB0LmNsb25lJDEodGhpcy5nZXRMYXllcihlKS5maWx0ZXIpfSxpLnByb3RvdHlwZS5zZXRMYXlvdXRQcm9wZXJ0eT1mdW5jdGlvbihlLGksbyxyKXt2b2lkIDA9PT1yJiYocj17fSksdGhpcy5fY2hlY2tMb2FkZWQoKTt2YXIgYT10aGlzLmdldExheWVyKGUpO2E/dC5kZWVwRXF1YWwoYS5nZXRMYXlvdXRQcm9wZXJ0eShpKSxvKXx8KGEuc2V0TGF5b3V0UHJvcGVydHkoaSxvLHIpLHRoaXMuX3VwZGF0ZUxheWVyKGEpKTp0aGlzLmZpcmUobmV3IHQuRXJyb3JFdmVudChuZXcgRXJyb3IoIlRoZSBsYXllciAnIitlKyInIGRvZXMgbm90IGV4aXN0IGluIHRoZSBtYXAncyBzdHlsZSBhbmQgY2Fubm90IGJlIHN0eWxlZC4iKSkpO30saS5wcm90b3R5cGUuZ2V0TGF5b3V0UHJvcGVydHk9ZnVuY3Rpb24oZSxpKXt2YXIgbz10aGlzLmdldExheWVyKGUpO2lmKG8pcmV0dXJuIG8uZ2V0TGF5b3V0UHJvcGVydHkoaSk7dGhpcy5maXJlKG5ldyB0LkVycm9yRXZlbnQobmV3IEVycm9yKCJUaGUgbGF5ZXIgJyIrZSsiJyBkb2VzIG5vdCBleGlzdCBpbiB0aGUgbWFwJ3Mgc3R5bGUuIikpKTt9LGkucHJvdG90eXBlLnNldFBhaW50UHJvcGVydHk9ZnVuY3Rpb24oZSxpLG8scil7dm9pZCAwPT09ciYmKHI9e30pLHRoaXMuX2NoZWNrTG9hZGVkKCk7dmFyIGE9dGhpcy5nZXRMYXllcihlKTthP3QuZGVlcEVxdWFsKGEuZ2V0UGFpbnRQcm9wZXJ0eShpKSxvKXx8KGEuc2V0UGFpbnRQcm9wZXJ0eShpLG8scikmJnRoaXMuX3VwZGF0ZUxheWVyKGEpLHRoaXMuX2NoYW5nZWQ9ITAsdGhpcy5fdXBkYXRlZFBhaW50UHJvcHNbZV09ITApOnRoaXMuZmlyZShuZXcgdC5FcnJvckV2ZW50KG5ldyBFcnJvcigiVGhlIGxheWVyICciK2UrIicgZG9lcyBub3QgZXhpc3QgaW4gdGhlIG1hcCdzIHN0eWxlIGFuZCBjYW5ub3QgYmUgc3R5bGVkLiIpKSk7fSxpLnByb3RvdHlwZS5nZXRQYWludFByb3BlcnR5PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuZ2V0TGF5ZXIodCkuZ2V0UGFpbnRQcm9wZXJ0eShlKX0saS5wcm90b3R5cGUuc2V0RmVhdHVyZVN0YXRlPWZ1bmN0aW9uKGUsaSl7dGhpcy5fY2hlY2tMb2FkZWQoKTt2YXIgbz1lLnNvdXJjZSxyPWUuc291cmNlTGF5ZXIsYT10aGlzLnNvdXJjZUNhY2hlc1tvXTtpZih2b2lkIDAhPT1hKXt2YXIgbj1hLmdldFNvdXJjZSgpLnR5cGU7Imdlb2pzb24iPT09biYmcj90aGlzLmZpcmUobmV3IHQuRXJyb3JFdmVudChuZXcgRXJyb3IoIkdlb0pTT04gc291cmNlcyBjYW5ub3QgaGF2ZSBhIHNvdXJjZUxheWVyIHBhcmFtZXRlci4iKSkpOiJ2ZWN0b3IiIT09bnx8cj8odm9pZCAwPT09ZS5pZCYmdGhpcy5maXJlKG5ldyB0LkVycm9yRXZlbnQobmV3IEVycm9yKCJUaGUgZmVhdHVyZSBpZCBwYXJhbWV0ZXIgbXVzdCBiZSBwcm92aWRlZC4iKSkpLGEuc2V0RmVhdHVyZVN0YXRlKHIsZS5pZCxpKSk6dGhpcy5maXJlKG5ldyB0LkVycm9yRXZlbnQobmV3IEVycm9yKCJUaGUgc291cmNlTGF5ZXIgcGFyYW1ldGVyIG11c3QgYmUgcHJvdmlkZWQgZm9yIHZlY3RvciBzb3VyY2UgdHlwZXMuIikpKTt9ZWxzZSB0aGlzLmZpcmUobmV3IHQuRXJyb3JFdmVudChuZXcgRXJyb3IoIlRoZSBzb3VyY2UgJyIrbysiJyBkb2VzIG5vdCBleGlzdCBpbiB0aGUgbWFwJ3Mgc3R5bGUuIikpKTt9LGkucHJvdG90eXBlLnJlbW92ZUZlYXR1cmVTdGF0ZT1mdW5jdGlvbihlLGkpe3RoaXMuX2NoZWNrTG9hZGVkKCk7dmFyIG89ZS5zb3VyY2Uscj10aGlzLnNvdXJjZUNhY2hlc1tvXTtpZih2b2lkIDAhPT1yKXt2YXIgYT1yLmdldFNvdXJjZSgpLnR5cGUsbj0idmVjdG9yIj09PWE/ZS5zb3VyY2VMYXllcjp2b2lkIDA7InZlY3RvciIhPT1hfHxuP2kmJiJzdHJpbmciIT10eXBlb2YgZS5pZCYmIm51bWJlciIhPXR5cGVvZiBlLmlkP3RoaXMuZmlyZShuZXcgdC5FcnJvckV2ZW50KG5ldyBFcnJvcigiQSBmZWF0dXJlIGlkIGlzIHJlcXVyZWQgdG8gcmVtb3ZlIGl0cyBzcGVjaWZpYyBzdGF0ZSBwcm9wZXJ0eS4iKSkpOnIucmVtb3ZlRmVhdHVyZVN0YXRlKG4sZS5pZCxpKTp0aGlzLmZpcmUobmV3IHQuRXJyb3JFdmVudChuZXcgRXJyb3IoIlRoZSBzb3VyY2VMYXllciBwYXJhbWV0ZXIgbXVzdCBiZSBwcm92aWRlZCBmb3IgdmVjdG9yIHNvdXJjZSB0eXBlcy4iKSkpO31lbHNlIHRoaXMuZmlyZShuZXcgdC5FcnJvckV2ZW50KG5ldyBFcnJvcigiVGhlIHNvdXJjZSAnIitvKyInIGRvZXMgbm90IGV4aXN0IGluIHRoZSBtYXAncyBzdHlsZS4iKSkpO30saS5wcm90b3R5cGUuZ2V0RmVhdHVyZVN0YXRlPWZ1bmN0aW9uKGUpe3RoaXMuX2NoZWNrTG9hZGVkKCk7dmFyIGk9ZS5zb3VyY2Usbz1lLnNvdXJjZUxheWVyLHI9dGhpcy5zb3VyY2VDYWNoZXNbaV07aWYodm9pZCAwIT09cil7aWYoInZlY3RvciIhPT1yLmdldFNvdXJjZSgpLnR5cGV8fG8pcmV0dXJuIHZvaWQgMD09PWUuaWQmJnRoaXMuZmlyZShuZXcgdC5FcnJvckV2ZW50KG5ldyBFcnJvcigiVGhlIGZlYXR1cmUgaWQgcGFyYW1ldGVyIG11c3QgYmUgcHJvdmlkZWQuIikpKSxyLmdldEZlYXR1cmVTdGF0ZShvLGUuaWQpO3RoaXMuZmlyZShuZXcgdC5FcnJvckV2ZW50KG5ldyBFcnJvcigiVGhlIHNvdXJjZUxheWVyIHBhcmFtZXRlciBtdXN0IGJlIHByb3ZpZGVkIGZvciB2ZWN0b3Igc291cmNlIHR5cGVzLiIpKSk7fWVsc2UgdGhpcy5maXJlKG5ldyB0LkVycm9yRXZlbnQobmV3IEVycm9yKCJUaGUgc291cmNlICciK2krIicgZG9lcyBub3QgZXhpc3QgaW4gdGhlIG1hcCdzIHN0eWxlLiIpKSk7fSxpLnByb3RvdHlwZS5nZXRUcmFuc2l0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIHQuZXh0ZW5kKHtkdXJhdGlvbjozMDAsZGVsYXk6MH0sdGhpcy5zdHlsZXNoZWV0JiZ0aGlzLnN0eWxlc2hlZXQudHJhbnNpdGlvbil9LGkucHJvdG90eXBlLnNlcmlhbGl6ZT1mdW5jdGlvbigpe3JldHVybiB0LmZpbHRlck9iamVjdCh7dmVyc2lvbjp0aGlzLnN0eWxlc2hlZXQudmVyc2lvbixuYW1lOnRoaXMuc3R5bGVzaGVldC5uYW1lLG1ldGFkYXRhOnRoaXMuc3R5bGVzaGVldC5tZXRhZGF0YSxsaWdodDp0aGlzLnN0eWxlc2hlZXQubGlnaHQsY2VudGVyOnRoaXMuc3R5bGVzaGVldC5jZW50ZXIsem9vbTp0aGlzLnN0eWxlc2hlZXQuem9vbSxiZWFyaW5nOnRoaXMuc3R5bGVzaGVldC5iZWFyaW5nLHBpdGNoOnRoaXMuc3R5bGVzaGVldC5waXRjaCxzcHJpdGU6dGhpcy5zdHlsZXNoZWV0LnNwcml0ZSxnbHlwaHM6dGhpcy5zdHlsZXNoZWV0LmdseXBocyx0cmFuc2l0aW9uOnRoaXMuc3R5bGVzaGVldC50cmFuc2l0aW9uLHNvdXJjZXM6dC5tYXBPYmplY3QodGhpcy5zb3VyY2VDYWNoZXMsKGZ1bmN0aW9uKHQpe3JldHVybiB0LnNlcmlhbGl6ZSgpfSkpLGxheWVyczp0aGlzLl9zZXJpYWxpemVMYXllcnModGhpcy5fb3JkZXIpfSwoZnVuY3Rpb24odCl7cmV0dXJuIHZvaWQgMCE9PXR9KSl9LGkucHJvdG90eXBlLl91cGRhdGVMYXllcj1mdW5jdGlvbih0KXt0aGlzLl91cGRhdGVkTGF5ZXJzW3QuaWRdPSEwLHQuc291cmNlJiYhdGhpcy5fdXBkYXRlZFNvdXJjZXNbdC5zb3VyY2VdJiYicmFzdGVyIiE9PXRoaXMuc291cmNlQ2FjaGVzW3Quc291cmNlXS5nZXRTb3VyY2UoKS50eXBlJiYodGhpcy5fdXBkYXRlZFNvdXJjZXNbdC5zb3VyY2VdPSJyZWxvYWQiLHRoaXMuc291cmNlQ2FjaGVzW3Quc291cmNlXS5wYXVzZSgpKSx0aGlzLl9jaGFuZ2VkPSEwO30saS5wcm90b3R5cGUuX2ZsYXR0ZW5BbmRTb3J0UmVuZGVyZWRGZWF0dXJlcz1mdW5jdGlvbih0KXtmb3IodmFyIGU9dGhpcyxpPWZ1bmN0aW9uKHQpe3JldHVybiAiZmlsbC1leHRydXNpb24iPT09ZS5fbGF5ZXJzW3RdLnR5cGV9LG89e30scj1bXSxhPXRoaXMuX29yZGVyLmxlbmd0aC0xO2E+PTA7YS0tKXt2YXIgbj10aGlzLl9vcmRlclthXTtpZihpKG4pKXtvW25dPWE7Zm9yKHZhciBzPTAsbD10O3M8bC5sZW5ndGg7cys9MSl7dmFyIGM9bFtzXVtuXTtpZihjKWZvcih2YXIgdT0wLGg9Yzt1PGgubGVuZ3RoO3UrPTEpci5wdXNoKGhbdV0pO319fXIuc29ydCgoZnVuY3Rpb24odCxlKXtyZXR1cm4gZS5pbnRlcnNlY3Rpb25aLXQuaW50ZXJzZWN0aW9uWn0pKTtmb3IodmFyIHA9W10sZD10aGlzLl9vcmRlci5sZW5ndGgtMTtkPj0wO2QtLSl7dmFyIF89dGhpcy5fb3JkZXJbZF07aWYoaShfKSlmb3IodmFyIGY9ci5sZW5ndGgtMTtmPj0wO2YtLSl7dmFyIG09cltmXS5mZWF0dXJlO2lmKG9bbS5sYXllci5pZF08ZClicmVhaztwLnB1c2gobSksci5wb3AoKTt9ZWxzZSBmb3IodmFyIGc9MCx2PXQ7Zzx2Lmxlbmd0aDtnKz0xKXt2YXIgeT12W2ddW19dO2lmKHkpZm9yKHZhciB4PTAsYj15O3g8Yi5sZW5ndGg7eCs9MSlwLnB1c2goYlt4XS5mZWF0dXJlKTt9fXJldHVybiBwfSxpLnByb3RvdHlwZS5xdWVyeVJlbmRlcmVkRmVhdHVyZXM9ZnVuY3Rpb24oZSxpLG8pe2kmJmkuZmlsdGVyJiZ0aGlzLl92YWxpZGF0ZSh0LnZhbGlkYXRlU3R5bGUuZmlsdGVyLCJxdWVyeVJlbmRlcmVkRmVhdHVyZXMuZmlsdGVyIixpLmZpbHRlcixudWxsLGkpO3ZhciByPXt9O2lmKGkmJmkubGF5ZXJzKXtpZighQXJyYXkuaXNBcnJheShpLmxheWVycykpcmV0dXJuIHRoaXMuZmlyZShuZXcgdC5FcnJvckV2ZW50KG5ldyBFcnJvcigicGFyYW1ldGVycy5sYXllcnMgbXVzdCBiZSBhbiBBcnJheS4iKSkpLFtdO2Zvcih2YXIgYT0wLG49aS5sYXllcnM7YTxuLmxlbmd0aDthKz0xKXt2YXIgcz1uW2FdLGw9dGhpcy5fbGF5ZXJzW3NdO2lmKCFsKXJldHVybiB0aGlzLmZpcmUobmV3IHQuRXJyb3JFdmVudChuZXcgRXJyb3IoIlRoZSBsYXllciAnIitzKyInIGRvZXMgbm90IGV4aXN0IGluIHRoZSBtYXAncyBzdHlsZSBhbmQgY2Fubm90IGJlIHF1ZXJpZWQgZm9yIGZlYXR1cmVzLiIpKSksW107cltsLnNvdXJjZV09ITA7fX12YXIgYz1bXTtmb3IodmFyIHUgaW4gaS5hdmFpbGFibGVJbWFnZXM9dGhpcy5fYXZhaWxhYmxlSW1hZ2VzLHRoaXMuc291cmNlQ2FjaGVzKWkubGF5ZXJzJiYhclt1XXx8Yy5wdXNoKE8odGhpcy5zb3VyY2VDYWNoZXNbdV0sdGhpcy5fbGF5ZXJzLHRoaXMuX3NlcmlhbGl6ZWRMYXllcnMsZSxpLG8pKTtyZXR1cm4gdGhpcy5wbGFjZW1lbnQmJmMucHVzaChmdW5jdGlvbih0LGUsaSxvLHIsYSxuKXtmb3IodmFyIHM9e30sbD1hLnF1ZXJ5UmVuZGVyZWRTeW1ib2xzKG8pLGM9W10sdT0wLGg9T2JqZWN0LmtleXMobCkubWFwKE51bWJlcik7dTxoLmxlbmd0aDt1Kz0xKWMucHVzaChuW2hbdV1dKTtjLnNvcnQoRik7Zm9yKHZhciBwPWZ1bmN0aW9uKCl7dmFyIGk9X1tkXSxvPWkuZmVhdHVyZUluZGV4Lmxvb2t1cFN5bWJvbEZlYXR1cmVzKGxbaS5idWNrZXRJbnN0YW5jZUlkXSxlLGkuYnVja2V0SW5kZXgsaS5zb3VyY2VMYXllckluZGV4LHIuZmlsdGVyLHIubGF5ZXJzLHIuYXZhaWxhYmxlSW1hZ2VzLHQpO2Zvcih2YXIgYSBpbiBvKXt2YXIgbj1zW2FdPXNbYV18fFtdLGM9b1thXTtjLnNvcnQoKGZ1bmN0aW9uKHQsZSl7dmFyIG89aS5mZWF0dXJlU29ydE9yZGVyO2lmKG8pe3ZhciByPW8uaW5kZXhPZih0LmZlYXR1cmVJbmRleCk7cmV0dXJuIG8uaW5kZXhPZihlLmZlYXR1cmVJbmRleCktcn1yZXR1cm4gZS5mZWF0dXJlSW5kZXgtdC5mZWF0dXJlSW5kZXh9KSk7Zm9yKHZhciB1PTAsaD1jO3U8aC5sZW5ndGg7dSs9MSluLnB1c2goaFt1XSk7fX0sZD0wLF89YztkPF8ubGVuZ3RoO2QrPTEpcCgpO3ZhciBmPWZ1bmN0aW9uKGUpe3NbZV0uZm9yRWFjaCgoZnVuY3Rpb24obyl7dmFyIHI9by5mZWF0dXJlLGE9aVt0W2VdLnNvdXJjZV0uZ2V0RmVhdHVyZVN0YXRlKHIubGF5ZXJbInNvdXJjZS1sYXllciJdLHIuaWQpO3Iuc291cmNlPXIubGF5ZXIuc291cmNlLHIubGF5ZXJbInNvdXJjZS1sYXllciJdJiYoci5zb3VyY2VMYXllcj1yLmxheWVyWyJzb3VyY2UtbGF5ZXIiXSksci5zdGF0ZT1hO30pKTt9O2Zvcih2YXIgbSBpbiBzKWYobSk7cmV0dXJuIHN9KHRoaXMuX2xheWVycyx0aGlzLl9zZXJpYWxpemVkTGF5ZXJzLHRoaXMuc291cmNlQ2FjaGVzLGUsaSx0aGlzLnBsYWNlbWVudC5jb2xsaXNpb25JbmRleCx0aGlzLnBsYWNlbWVudC5yZXRhaW5lZFF1ZXJ5RGF0YSkpLHRoaXMuX2ZsYXR0ZW5BbmRTb3J0UmVuZGVyZWRGZWF0dXJlcyhjKX0saS5wcm90b3R5cGUucXVlcnlTb3VyY2VGZWF0dXJlcz1mdW5jdGlvbihlLGkpe2kmJmkuZmlsdGVyJiZ0aGlzLl92YWxpZGF0ZSh0LnZhbGlkYXRlU3R5bGUuZmlsdGVyLCJxdWVyeVNvdXJjZUZlYXR1cmVzLmZpbHRlciIsaS5maWx0ZXIsbnVsbCxpKTt2YXIgbz10aGlzLnNvdXJjZUNhY2hlc1tlXTtyZXR1cm4gbz9mdW5jdGlvbih0LGUpe2Zvcih2YXIgaT10LmdldFJlbmRlcmFibGVJZHMoKS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiB0LmdldFRpbGVCeUlEKGUpfSkpLG89W10scj17fSxhPTA7YTxpLmxlbmd0aDthKyspe3ZhciBuPWlbYV0scz1uLnRpbGVJRC5jYW5vbmljYWwua2V5O3Jbc118fChyW3NdPSEwLG4ucXVlcnlTb3VyY2VGZWF0dXJlcyhvLGUpKTt9cmV0dXJuIG99KG8saSk6W119LGkucHJvdG90eXBlLmFkZFNvdXJjZVR5cGU9ZnVuY3Rpb24odCxlLG8pe3JldHVybiBpLmdldFNvdXJjZVR5cGUodCk/byhuZXcgRXJyb3IoJ0Egc291cmNlIHR5cGUgY2FsbGVkICInK3QrJyIgYWxyZWFkeSBleGlzdHMuJykpOihpLnNldFNvdXJjZVR5cGUodCxlKSxlLndvcmtlclNvdXJjZVVSTD92b2lkIHRoaXMuZGlzcGF0Y2hlci5icm9hZGNhc3QoImxvYWRXb3JrZXJTb3VyY2UiLHtuYW1lOnQsdXJsOmUud29ya2VyU291cmNlVVJMfSxvKTpvKG51bGwsbnVsbCkpfSxpLnByb3RvdHlwZS5nZXRMaWdodD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmxpZ2h0LmdldExpZ2h0KCl9LGkucHJvdG90eXBlLnNldExpZ2h0PWZ1bmN0aW9uKGUsaSl7dm9pZCAwPT09aSYmKGk9e30pLHRoaXMuX2NoZWNrTG9hZGVkKCk7dmFyIG89dGhpcy5saWdodC5nZXRMaWdodCgpLHI9ITE7Zm9yKHZhciBhIGluIGUpaWYoIXQuZGVlcEVxdWFsKGVbYV0sb1thXSkpe3I9ITA7YnJlYWt9aWYocil7dmFyIG49e25vdzp0LmJyb3dzZXIubm93KCksdHJhbnNpdGlvbjp0LmV4dGVuZCh7ZHVyYXRpb246MzAwLGRlbGF5OjB9LHRoaXMuc3R5bGVzaGVldC50cmFuc2l0aW9uKX07dGhpcy5saWdodC5zZXRMaWdodChlLGkpLHRoaXMubGlnaHQudXBkYXRlVHJhbnNpdGlvbnMobik7fX0saS5wcm90b3R5cGUuX3ZhbGlkYXRlPWZ1bmN0aW9uKGUsaSxvLHIsYSl7cmV0dXJuIHZvaWQgMD09PWEmJihhPXt9KSwoIWF8fCExIT09YS52YWxpZGF0ZSkmJlVlKHRoaXMsZS5jYWxsKHQudmFsaWRhdGVTdHlsZSx0LmV4dGVuZCh7a2V5Omksc3R5bGU6dGhpcy5zZXJpYWxpemUoKSx2YWx1ZTpvLHN0eWxlU3BlYzp0LnN0eWxlU3BlY30scikpKX0saS5wcm90b3R5cGUuX3JlbW92ZT1mdW5jdGlvbigpe2Zvcih2YXIgZSBpbiB0aGlzLl9yZXF1ZXN0JiYodGhpcy5fcmVxdWVzdC5jYW5jZWwoKSx0aGlzLl9yZXF1ZXN0PW51bGwpLHRoaXMuX3Nwcml0ZVJlcXVlc3QmJih0aGlzLl9zcHJpdGVSZXF1ZXN0LmNhbmNlbCgpLHRoaXMuX3Nwcml0ZVJlcXVlc3Q9bnVsbCksdC5ldmVudGVkLm9mZigicGx1Z2luU3RhdGVDaGFuZ2UiLHRoaXMuX3J0bFRleHRQbHVnaW5DYWxsYmFjayksdGhpcy5fbGF5ZXJzKXRoaXMuX2xheWVyc1tlXS5zZXRFdmVudGVkUGFyZW50KG51bGwpO2Zvcih2YXIgaSBpbiB0aGlzLnNvdXJjZUNhY2hlcyl0aGlzLnNvdXJjZUNhY2hlc1tpXS5jbGVhclRpbGVzKCksdGhpcy5zb3VyY2VDYWNoZXNbaV0uc2V0RXZlbnRlZFBhcmVudChudWxsKTt0aGlzLmltYWdlTWFuYWdlci5zZXRFdmVudGVkUGFyZW50KG51bGwpLHRoaXMuc2V0RXZlbnRlZFBhcmVudChudWxsKSx0aGlzLmRpc3BhdGNoZXIucmVtb3ZlKCk7fSxpLnByb3RvdHlwZS5fY2xlYXJTb3VyY2U9ZnVuY3Rpb24odCl7dGhpcy5zb3VyY2VDYWNoZXNbdF0uY2xlYXJUaWxlcygpO30saS5wcm90b3R5cGUuX3JlbG9hZFNvdXJjZT1mdW5jdGlvbih0KXt0aGlzLnNvdXJjZUNhY2hlc1t0XS5yZXN1bWUoKSx0aGlzLnNvdXJjZUNhY2hlc1t0XS5yZWxvYWQoKTt9LGkucHJvdG90eXBlLl91cGRhdGVTb3VyY2VzPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZSBpbiB0aGlzLnNvdXJjZUNhY2hlcyl0aGlzLnNvdXJjZUNhY2hlc1tlXS51cGRhdGUodCk7fSxpLnByb3RvdHlwZS5fZ2VuZXJhdGVDb2xsaXNpb25Cb3hlcz1mdW5jdGlvbigpe2Zvcih2YXIgdCBpbiB0aGlzLnNvdXJjZUNhY2hlcyl0aGlzLl9yZWxvYWRTb3VyY2UodCk7fSxpLnByb3RvdHlwZS5fdXBkYXRlUGxhY2VtZW50PWZ1bmN0aW9uKGUsaSxvLHIsYSl7dm9pZCAwPT09YSYmKGE9ITEpO2Zvcih2YXIgbj0hMSxzPSExLGw9e30sYz0wLHU9dGhpcy5fb3JkZXI7Yzx1Lmxlbmd0aDtjKz0xKXt2YXIgaD10aGlzLl9sYXllcnNbdVtjXV07aWYoInN5bWJvbCI9PT1oLnR5cGUpe2lmKCFsW2guc291cmNlXSl7dmFyIHA9dGhpcy5zb3VyY2VDYWNoZXNbaC5zb3VyY2VdO2xbaC5zb3VyY2VdPXAuZ2V0UmVuZGVyYWJsZUlkcyghMCkubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gcC5nZXRUaWxlQnlJRCh0KX0pKS5zb3J0KChmdW5jdGlvbih0LGUpe3JldHVybiBlLnRpbGVJRC5vdmVyc2NhbGVkWi10LnRpbGVJRC5vdmVyc2NhbGVkWnx8KHQudGlsZUlELmlzTGVzc1RoYW4oZS50aWxlSUQpPy0xOjEpfSkpO312YXIgZD10aGlzLmNyb3NzVGlsZVN5bWJvbEluZGV4LmFkZExheWVyKGgsbFtoLnNvdXJjZV0sZS5jZW50ZXIubG5nKTtuPW58fGQ7fX1pZih0aGlzLmNyb3NzVGlsZVN5bWJvbEluZGV4LnBydW5lVW51c2VkTGF5ZXJzKHRoaXMuX29yZGVyKSwoKGE9YXx8dGhpcy5fbGF5ZXJPcmRlckNoYW5nZWR8fDA9PT1vKXx8IXRoaXMucGF1c2VhYmxlUGxhY2VtZW50fHx0aGlzLnBhdXNlYWJsZVBsYWNlbWVudC5pc0RvbmUoKSYmIXRoaXMucGxhY2VtZW50LnN0aWxsUmVjZW50KHQuYnJvd3Nlci5ub3coKSxlLnpvb20pKSYmKHRoaXMucGF1c2VhYmxlUGxhY2VtZW50PW5ldyBMZShlLHRoaXMuX29yZGVyLGEsaSxvLHIsdGhpcy5wbGFjZW1lbnQpLHRoaXMuX2xheWVyT3JkZXJDaGFuZ2VkPSExKSx0aGlzLnBhdXNlYWJsZVBsYWNlbWVudC5pc0RvbmUoKT90aGlzLnBsYWNlbWVudC5zZXRTdGFsZSgpOih0aGlzLnBhdXNlYWJsZVBsYWNlbWVudC5jb250aW51ZVBsYWNlbWVudCh0aGlzLl9vcmRlcix0aGlzLl9sYXllcnMsbCksdGhpcy5wYXVzZWFibGVQbGFjZW1lbnQuaXNEb25lKCkmJih0aGlzLnBsYWNlbWVudD10aGlzLnBhdXNlYWJsZVBsYWNlbWVudC5jb21taXQodC5icm93c2VyLm5vdygpKSxzPSEwKSxuJiZ0aGlzLnBhdXNlYWJsZVBsYWNlbWVudC5wbGFjZW1lbnQuc2V0U3RhbGUoKSksc3x8bilmb3IodmFyIF89MCxmPXRoaXMuX29yZGVyO188Zi5sZW5ndGg7Xys9MSl7dmFyIG09dGhpcy5fbGF5ZXJzW2ZbX11dOyJzeW1ib2wiPT09bS50eXBlJiZ0aGlzLnBsYWNlbWVudC51cGRhdGVMYXllck9wYWNpdGllcyhtLGxbbS5zb3VyY2VdKTt9cmV0dXJuICF0aGlzLnBhdXNlYWJsZVBsYWNlbWVudC5pc0RvbmUoKXx8dGhpcy5wbGFjZW1lbnQuaGFzVHJhbnNpdGlvbnModC5icm93c2VyLm5vdygpKX0saS5wcm90b3R5cGUuX3JlbGVhc2VTeW1ib2xGYWRlVGlsZXM9ZnVuY3Rpb24oKXtmb3IodmFyIHQgaW4gdGhpcy5zb3VyY2VDYWNoZXMpdGhpcy5zb3VyY2VDYWNoZXNbdF0ucmVsZWFzZVN5bWJvbEZhZGVUaWxlcygpO30saS5wcm90b3R5cGUuZ2V0SW1hZ2VzPWZ1bmN0aW9uKHQsZSxpKXt0aGlzLmltYWdlTWFuYWdlci5nZXRJbWFnZXMoZS5pY29ucyxpKSx0aGlzLl91cGRhdGVUaWxlc0ZvckNoYW5nZWRJbWFnZXMoKTt2YXIgbz10aGlzLnNvdXJjZUNhY2hlc1tlLnNvdXJjZV07byYmby5zZXREZXBlbmRlbmNpZXMoZS50aWxlSUQua2V5LGUudHlwZSxlLmljb25zKTt9LGkucHJvdG90eXBlLmdldEdseXBocz1mdW5jdGlvbih0LGUsaSl7dGhpcy5nbHlwaE1hbmFnZXIuZ2V0R2x5cGhzKGUuc3RhY2tzLGkpO30saS5wcm90b3R5cGUuZ2V0UmVzb3VyY2U9ZnVuY3Rpb24oZSxpLG8pe3JldHVybiB0Lm1ha2VSZXF1ZXN0KGksbyl9LGl9KHQuRXZlbnRlZCk7cWUuZ2V0U291cmNlVHlwZT1mdW5jdGlvbih0KXtyZXR1cm4ga1t0XX0scWUuc2V0U291cmNlVHlwZT1mdW5jdGlvbih0LGUpe2tbdF09ZTt9LHFlLnJlZ2lzdGVyRm9yUGx1Z2luU3RhdGVDaGFuZ2U9dC5yZWdpc3RlckZvclBsdWdpblN0YXRlQ2hhbmdlO3ZhciBWZT10LmNyZWF0ZUxheW91dChbe25hbWU6ImFfcG9zIix0eXBlOiJJbnQxNiIsY29tcG9uZW50czoyfV0pLEdlPWdpKCIjaWZkZWYgR0xfRVNcbnByZWNpc2lvbiBtZWRpdW1wIGZsb2F0O1xuI2Vsc2VcbiNpZiAhZGVmaW5lZChsb3dwKVxuI2RlZmluZSBsb3dwXG4jZW5kaWZcbiNpZiAhZGVmaW5lZChtZWRpdW1wKVxuI2RlZmluZSBtZWRpdW1wXG4jZW5kaWZcbiNpZiAhZGVmaW5lZChoaWdocClcbiNkZWZpbmUgaGlnaHBcbiNlbmRpZlxuI2VuZGlmIiwiI2lmZGVmIEdMX0VTXG5wcmVjaXNpb24gaGlnaHAgZmxvYXQ7XG4jZWxzZVxuI2lmICFkZWZpbmVkKGxvd3ApXG4jZGVmaW5lIGxvd3BcbiNlbmRpZlxuI2lmICFkZWZpbmVkKG1lZGl1bXApXG4jZGVmaW5lIG1lZGl1bXBcbiNlbmRpZlxuI2lmICFkZWZpbmVkKGhpZ2hwKVxuI2RlZmluZSBoaWdocFxuI2VuZGlmXG4jZW5kaWZcbnZlYzIgdW5wYWNrX2Zsb2F0KGNvbnN0IGZsb2F0IHBhY2tlZFZhbHVlKSB7aW50IHBhY2tlZEludFZhbHVlPWludChwYWNrZWRWYWx1ZSk7aW50IHYwPXBhY2tlZEludFZhbHVlLzI1NjtyZXR1cm4gdmVjMih2MCxwYWNrZWRJbnRWYWx1ZS12MCoyNTYpO312ZWMyIHVucGFja19vcGFjaXR5KGNvbnN0IGZsb2F0IHBhY2tlZE9wYWNpdHkpIHtpbnQgaW50T3BhY2l0eT1pbnQocGFja2VkT3BhY2l0eSkvMjtyZXR1cm4gdmVjMihmbG9hdChpbnRPcGFjaXR5KS8xMjcuMCxtb2QocGFja2VkT3BhY2l0eSwyLjApKTt9dmVjNCBkZWNvZGVfY29sb3IoY29uc3QgdmVjMiBlbmNvZGVkQ29sb3IpIHtyZXR1cm4gdmVjNCh1bnBhY2tfZmxvYXQoZW5jb2RlZENvbG9yWzBdKS8yNTUuMCx1bnBhY2tfZmxvYXQoZW5jb2RlZENvbG9yWzFdKS8yNTUuMFxuKTt9ZmxvYXQgdW5wYWNrX21peF92ZWMyKGNvbnN0IHZlYzIgcGFja2VkVmFsdWUsY29uc3QgZmxvYXQgdCkge3JldHVybiBtaXgocGFja2VkVmFsdWVbMF0scGFja2VkVmFsdWVbMV0sdCk7fXZlYzQgdW5wYWNrX21peF9jb2xvcihjb25zdCB2ZWM0IHBhY2tlZENvbG9ycyxjb25zdCBmbG9hdCB0KSB7dmVjNCBtaW5Db2xvcj1kZWNvZGVfY29sb3IodmVjMihwYWNrZWRDb2xvcnNbMF0scGFja2VkQ29sb3JzWzFdKSk7dmVjNCBtYXhDb2xvcj1kZWNvZGVfY29sb3IodmVjMihwYWNrZWRDb2xvcnNbMl0scGFja2VkQ29sb3JzWzNdKSk7cmV0dXJuIG1peChtaW5Db2xvcixtYXhDb2xvcix0KTt9dmVjMiBnZXRfcGF0dGVybl9wb3MoY29uc3QgdmVjMiBwaXhlbF9jb29yZF91cHBlcixjb25zdCB2ZWMyIHBpeGVsX2Nvb3JkX2xvd2VyLGNvbnN0IHZlYzIgcGF0dGVybl9zaXplLGNvbnN0IGZsb2F0IHRpbGVfdW5pdHNfdG9fcGl4ZWxzLGNvbnN0IHZlYzIgcG9zKSB7dmVjMiBvZmZzZXQ9bW9kKG1vZChtb2QocGl4ZWxfY29vcmRfdXBwZXIscGF0dGVybl9zaXplKSoyNTYuMCxwYXR0ZXJuX3NpemUpKjI1Ni4wK3BpeGVsX2Nvb3JkX2xvd2VyLHBhdHRlcm5fc2l6ZSk7cmV0dXJuICh0aWxlX3VuaXRzX3RvX3BpeGVscypwb3Mrb2Zmc2V0KS9wYXR0ZXJuX3NpemU7fSIpLFdlPWdpKCJ1bmlmb3JtIHZlYzQgdV9jb2xvcjt1bmlmb3JtIGZsb2F0IHVfb3BhY2l0eTt2b2lkIG1haW4oKSB7Z2xfRnJhZ0NvbG9yPXVfY29sb3IqdV9vcGFjaXR5O1xuI2lmZGVmIE9WRVJEUkFXX0lOU1BFQ1RPUlxuZ2xfRnJhZ0NvbG9yPXZlYzQoMS4wKTtcbiNlbmRpZlxufSIsImF0dHJpYnV0ZSB2ZWMyIGFfcG9zO3VuaWZvcm0gbWF0NCB1X21hdHJpeDt2b2lkIG1haW4oKSB7Z2xfUG9zaXRpb249dV9tYXRyaXgqdmVjNChhX3BvcywwLDEpO30iKSxYZT1naSgidW5pZm9ybSB2ZWMyIHVfcGF0dGVybl90bF9hO3VuaWZvcm0gdmVjMiB1X3BhdHRlcm5fYnJfYTt1bmlmb3JtIHZlYzIgdV9wYXR0ZXJuX3RsX2I7dW5pZm9ybSB2ZWMyIHVfcGF0dGVybl9icl9iO3VuaWZvcm0gdmVjMiB1X3RleHNpemU7dW5pZm9ybSBmbG9hdCB1X21peDt1bmlmb3JtIGZsb2F0IHVfb3BhY2l0eTt1bmlmb3JtIHNhbXBsZXIyRCB1X2ltYWdlO3ZhcnlpbmcgdmVjMiB2X3Bvc19hO3ZhcnlpbmcgdmVjMiB2X3Bvc19iO3ZvaWQgbWFpbigpIHt2ZWMyIGltYWdlY29vcmQ9bW9kKHZfcG9zX2EsMS4wKTt2ZWMyIHBvcz1taXgodV9wYXR0ZXJuX3RsX2EvdV90ZXhzaXplLHVfcGF0dGVybl9icl9hL3VfdGV4c2l6ZSxpbWFnZWNvb3JkKTt2ZWM0IGNvbG9yMT10ZXh0dXJlMkQodV9pbWFnZSxwb3MpO3ZlYzIgaW1hZ2Vjb29yZF9iPW1vZCh2X3Bvc19iLDEuMCk7dmVjMiBwb3MyPW1peCh1X3BhdHRlcm5fdGxfYi91X3RleHNpemUsdV9wYXR0ZXJuX2JyX2IvdV90ZXhzaXplLGltYWdlY29vcmRfYik7dmVjNCBjb2xvcjI9dGV4dHVyZTJEKHVfaW1hZ2UscG9zMik7Z2xfRnJhZ0NvbG9yPW1peChjb2xvcjEsY29sb3IyLHVfbWl4KSp1X29wYWNpdHk7XG4jaWZkZWYgT1ZFUkRSQVdfSU5TUEVDVE9SXG5nbF9GcmFnQ29sb3I9dmVjNCgxLjApO1xuI2VuZGlmXG59IiwidW5pZm9ybSBtYXQ0IHVfbWF0cml4O3VuaWZvcm0gdmVjMiB1X3BhdHRlcm5fc2l6ZV9hO3VuaWZvcm0gdmVjMiB1X3BhdHRlcm5fc2l6ZV9iO3VuaWZvcm0gdmVjMiB1X3BpeGVsX2Nvb3JkX3VwcGVyO3VuaWZvcm0gdmVjMiB1X3BpeGVsX2Nvb3JkX2xvd2VyO3VuaWZvcm0gZmxvYXQgdV9zY2FsZV9hO3VuaWZvcm0gZmxvYXQgdV9zY2FsZV9iO3VuaWZvcm0gZmxvYXQgdV90aWxlX3VuaXRzX3RvX3BpeGVsczthdHRyaWJ1dGUgdmVjMiBhX3Bvczt2YXJ5aW5nIHZlYzIgdl9wb3NfYTt2YXJ5aW5nIHZlYzIgdl9wb3NfYjt2b2lkIG1haW4oKSB7Z2xfUG9zaXRpb249dV9tYXRyaXgqdmVjNChhX3BvcywwLDEpO3ZfcG9zX2E9Z2V0X3BhdHRlcm5fcG9zKHVfcGl4ZWxfY29vcmRfdXBwZXIsdV9waXhlbF9jb29yZF9sb3dlcix1X3NjYWxlX2EqdV9wYXR0ZXJuX3NpemVfYSx1X3RpbGVfdW5pdHNfdG9fcGl4ZWxzLGFfcG9zKTt2X3Bvc19iPWdldF9wYXR0ZXJuX3Bvcyh1X3BpeGVsX2Nvb3JkX3VwcGVyLHVfcGl4ZWxfY29vcmRfbG93ZXIsdV9zY2FsZV9iKnVfcGF0dGVybl9zaXplX2IsdV90aWxlX3VuaXRzX3RvX3BpeGVscyxhX3Bvcyk7fSIpLEhlPWdpKCJ2YXJ5aW5nIHZlYzMgdl9kYXRhO1xuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBoaWdocCB2ZWM0IGNvbG9yXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIG1lZGl1bXAgZmxvYXQgcmFkaXVzXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgYmx1clxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IG9wYWNpdHlcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgaGlnaHAgdmVjNCBzdHJva2VfY29sb3JcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbWVkaXVtcCBmbG9hdCBzdHJva2Vfd2lkdGhcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBzdHJva2Vfb3BhY2l0eVxudm9pZCBtYWluKCkge1xuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgaGlnaHAgdmVjNCBjb2xvclxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbWVkaXVtcCBmbG9hdCByYWRpdXNcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgYmx1clxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBvcGFjaXR5XG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBoaWdocCB2ZWM0IHN0cm9rZV9jb2xvclxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbWVkaXVtcCBmbG9hdCBzdHJva2Vfd2lkdGhcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgc3Ryb2tlX29wYWNpdHlcbnZlYzIgZXh0cnVkZT12X2RhdGEueHk7ZmxvYXQgZXh0cnVkZV9sZW5ndGg9bGVuZ3RoKGV4dHJ1ZGUpO2xvd3AgZmxvYXQgYW50aWFsaWFzYmx1cj12X2RhdGEuejtmbG9hdCBhbnRpYWxpYXNlZF9ibHVyPS1tYXgoYmx1cixhbnRpYWxpYXNibHVyKTtmbG9hdCBvcGFjaXR5X3Q9c21vb3Roc3RlcCgwLjAsYW50aWFsaWFzZWRfYmx1cixleHRydWRlX2xlbmd0aC0xLjApO2Zsb2F0IGNvbG9yX3Q9c3Ryb2tlX3dpZHRoIDwgMC4wMSA/IDAuMCA6IHNtb290aHN0ZXAoYW50aWFsaWFzZWRfYmx1ciwwLjAsZXh0cnVkZV9sZW5ndGgtcmFkaXVzLyhyYWRpdXMrc3Ryb2tlX3dpZHRoKSk7Z2xfRnJhZ0NvbG9yPW9wYWNpdHlfdCptaXgoY29sb3Iqb3BhY2l0eSxzdHJva2VfY29sb3Iqc3Ryb2tlX29wYWNpdHksY29sb3JfdCk7XG4jaWZkZWYgT1ZFUkRSQVdfSU5TUEVDVE9SXG5nbF9GcmFnQ29sb3I9dmVjNCgxLjApO1xuI2VuZGlmXG59IiwidW5pZm9ybSBtYXQ0IHVfbWF0cml4O3VuaWZvcm0gYm9vbCB1X3NjYWxlX3dpdGhfbWFwO3VuaWZvcm0gYm9vbCB1X3BpdGNoX3dpdGhfbWFwO3VuaWZvcm0gdmVjMiB1X2V4dHJ1ZGVfc2NhbGU7dW5pZm9ybSBsb3dwIGZsb2F0IHVfZGV2aWNlX3BpeGVsX3JhdGlvO3VuaWZvcm0gaGlnaHAgZmxvYXQgdV9jYW1lcmFfdG9fY2VudGVyX2Rpc3RhbmNlO2F0dHJpYnV0ZSB2ZWMyIGFfcG9zO3ZhcnlpbmcgdmVjMyB2X2RhdGE7XG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGhpZ2hwIHZlYzQgY29sb3JcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbWVkaXVtcCBmbG9hdCByYWRpdXNcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBibHVyXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgb3BhY2l0eVxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBoaWdocCB2ZWM0IHN0cm9rZV9jb2xvclxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBtZWRpdW1wIGZsb2F0IHN0cm9rZV93aWR0aFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IHN0cm9rZV9vcGFjaXR5XG52b2lkIG1haW4odm9pZCkge1xuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgaGlnaHAgdmVjNCBjb2xvclxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbWVkaXVtcCBmbG9hdCByYWRpdXNcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgYmx1clxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBvcGFjaXR5XG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBoaWdocCB2ZWM0IHN0cm9rZV9jb2xvclxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbWVkaXVtcCBmbG9hdCBzdHJva2Vfd2lkdGhcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgc3Ryb2tlX29wYWNpdHlcbnZlYzIgZXh0cnVkZT12ZWMyKG1vZChhX3BvcywyLjApKjIuMC0xLjApO3ZlYzIgY2lyY2xlX2NlbnRlcj1mbG9vcihhX3BvcyowLjUpO2lmICh1X3BpdGNoX3dpdGhfbWFwKSB7dmVjMiBjb3JuZXJfcG9zaXRpb249Y2lyY2xlX2NlbnRlcjtpZiAodV9zY2FsZV93aXRoX21hcCkge2Nvcm5lcl9wb3NpdGlvbis9ZXh0cnVkZSoocmFkaXVzK3N0cm9rZV93aWR0aCkqdV9leHRydWRlX3NjYWxlO30gZWxzZSB7dmVjNCBwcm9qZWN0ZWRfY2VudGVyPXVfbWF0cml4KnZlYzQoY2lyY2xlX2NlbnRlciwwLDEpO2Nvcm5lcl9wb3NpdGlvbis9ZXh0cnVkZSoocmFkaXVzK3N0cm9rZV93aWR0aCkqdV9leHRydWRlX3NjYWxlKihwcm9qZWN0ZWRfY2VudGVyLncvdV9jYW1lcmFfdG9fY2VudGVyX2Rpc3RhbmNlKTt9Z2xfUG9zaXRpb249dV9tYXRyaXgqdmVjNChjb3JuZXJfcG9zaXRpb24sMCwxKTt9IGVsc2Uge2dsX1Bvc2l0aW9uPXVfbWF0cml4KnZlYzQoY2lyY2xlX2NlbnRlciwwLDEpO2lmICh1X3NjYWxlX3dpdGhfbWFwKSB7Z2xfUG9zaXRpb24ueHkrPWV4dHJ1ZGUqKHJhZGl1cytzdHJva2Vfd2lkdGgpKnVfZXh0cnVkZV9zY2FsZSp1X2NhbWVyYV90b19jZW50ZXJfZGlzdGFuY2U7fSBlbHNlIHtnbF9Qb3NpdGlvbi54eSs9ZXh0cnVkZSoocmFkaXVzK3N0cm9rZV93aWR0aCkqdV9leHRydWRlX3NjYWxlKmdsX1Bvc2l0aW9uLnc7fX1sb3dwIGZsb2F0IGFudGlhbGlhc2JsdXI9MS4wL3VfZGV2aWNlX3BpeGVsX3JhdGlvLyhyYWRpdXMrc3Ryb2tlX3dpZHRoKTt2X2RhdGE9dmVjMyhleHRydWRlLngsZXh0cnVkZS55LGFudGlhbGlhc2JsdXIpO30iKSxLZT1naSgidm9pZCBtYWluKCkge2dsX0ZyYWdDb2xvcj12ZWM0KDEuMCk7fSIsImF0dHJpYnV0ZSB2ZWMyIGFfcG9zO3VuaWZvcm0gbWF0NCB1X21hdHJpeDt2b2lkIG1haW4oKSB7Z2xfUG9zaXRpb249dV9tYXRyaXgqdmVjNChhX3BvcywwLDEpO30iKSxZZT1naSgidW5pZm9ybSBoaWdocCBmbG9hdCB1X2ludGVuc2l0eTt2YXJ5aW5nIHZlYzIgdl9leHRydWRlO1xuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBoaWdocCBmbG9hdCB3ZWlnaHRcbiNkZWZpbmUgR0FVU1NfQ09FRiAwLjM5ODk0MjI4MDQwMTQzMjdcbnZvaWQgbWFpbigpIHtcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGhpZ2hwIGZsb2F0IHdlaWdodFxuZmxvYXQgZD0tMC41KjMuMCozLjAqZG90KHZfZXh0cnVkZSx2X2V4dHJ1ZGUpO2Zsb2F0IHZhbD13ZWlnaHQqdV9pbnRlbnNpdHkqR0FVU1NfQ09FRipleHAoZCk7Z2xfRnJhZ0NvbG9yPXZlYzQodmFsLDEuMCwxLjAsMS4wKTtcbiNpZmRlZiBPVkVSRFJBV19JTlNQRUNUT1JcbmdsX0ZyYWdDb2xvcj12ZWM0KDEuMCk7XG4jZW5kaWZcbn0iLCJ1bmlmb3JtIG1hdDQgdV9tYXRyaXg7dW5pZm9ybSBmbG9hdCB1X2V4dHJ1ZGVfc2NhbGU7dW5pZm9ybSBmbG9hdCB1X29wYWNpdHk7dW5pZm9ybSBmbG9hdCB1X2ludGVuc2l0eTthdHRyaWJ1dGUgdmVjMiBhX3Bvczt2YXJ5aW5nIHZlYzIgdl9leHRydWRlO1xuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBoaWdocCBmbG9hdCB3ZWlnaHRcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbWVkaXVtcCBmbG9hdCByYWRpdXNcbmNvbnN0IGhpZ2hwIGZsb2F0IFpFUk89MS4wLzI1NS4wLzE2LjA7XG4jZGVmaW5lIEdBVVNTX0NPRUYgMC4zOTg5NDIyODA0MDE0MzI3XG52b2lkIG1haW4odm9pZCkge1xuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgaGlnaHAgZmxvYXQgd2VpZ2h0XG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBtZWRpdW1wIGZsb2F0IHJhZGl1c1xudmVjMiB1bnNjYWxlZF9leHRydWRlPXZlYzIobW9kKGFfcG9zLDIuMCkqMi4wLTEuMCk7ZmxvYXQgUz1zcXJ0KC0yLjAqbG9nKFpFUk8vd2VpZ2h0L3VfaW50ZW5zaXR5L0dBVVNTX0NPRUYpKS8zLjA7dl9leHRydWRlPVMqdW5zY2FsZWRfZXh0cnVkZTt2ZWMyIGV4dHJ1ZGU9dl9leHRydWRlKnJhZGl1cyp1X2V4dHJ1ZGVfc2NhbGU7dmVjNCBwb3M9dmVjNChmbG9vcihhX3BvcyowLjUpK2V4dHJ1ZGUsMCwxKTtnbF9Qb3NpdGlvbj11X21hdHJpeCpwb3M7fSIpLEplPWdpKCJ1bmlmb3JtIHNhbXBsZXIyRCB1X2ltYWdlO3VuaWZvcm0gc2FtcGxlcjJEIHVfY29sb3JfcmFtcDt1bmlmb3JtIGZsb2F0IHVfb3BhY2l0eTt2YXJ5aW5nIHZlYzIgdl9wb3M7dm9pZCBtYWluKCkge2Zsb2F0IHQ9dGV4dHVyZTJEKHVfaW1hZ2Usdl9wb3MpLnI7dmVjNCBjb2xvcj10ZXh0dXJlMkQodV9jb2xvcl9yYW1wLHZlYzIodCwwLjUpKTtnbF9GcmFnQ29sb3I9Y29sb3IqdV9vcGFjaXR5O1xuI2lmZGVmIE9WRVJEUkFXX0lOU1BFQ1RPUlxuZ2xfRnJhZ0NvbG9yPXZlYzQoMC4wKTtcbiNlbmRpZlxufSIsInVuaWZvcm0gbWF0NCB1X21hdHJpeDt1bmlmb3JtIHZlYzIgdV93b3JsZDthdHRyaWJ1dGUgdmVjMiBhX3Bvczt2YXJ5aW5nIHZlYzIgdl9wb3M7dm9pZCBtYWluKCkge2dsX1Bvc2l0aW9uPXVfbWF0cml4KnZlYzQoYV9wb3MqdV93b3JsZCwwLDEpO3ZfcG9zLng9YV9wb3MueDt2X3Bvcy55PTEuMC1hX3Bvcy55O30iKSxRZT1naSgidmFyeWluZyBmbG9hdCB2X3BsYWNlZDt2YXJ5aW5nIGZsb2F0IHZfbm90VXNlZDt2b2lkIG1haW4oKSB7ZmxvYXQgYWxwaGE9MC41O2dsX0ZyYWdDb2xvcj12ZWM0KDEuMCwwLjAsMC4wLDEuMCkqYWxwaGE7aWYgKHZfcGxhY2VkID4gMC41KSB7Z2xfRnJhZ0NvbG9yPXZlYzQoMC4wLDAuMCwxLjAsMC41KSphbHBoYTt9aWYgKHZfbm90VXNlZCA+IDAuNSkge2dsX0ZyYWdDb2xvcio9LjE7fX0iLCJhdHRyaWJ1dGUgdmVjMiBhX3BvczthdHRyaWJ1dGUgdmVjMiBhX2FuY2hvcl9wb3M7YXR0cmlidXRlIHZlYzIgYV9leHRydWRlO2F0dHJpYnV0ZSB2ZWMyIGFfcGxhY2VkO2F0dHJpYnV0ZSB2ZWMyIGFfc2hpZnQ7dW5pZm9ybSBtYXQ0IHVfbWF0cml4O3VuaWZvcm0gdmVjMiB1X2V4dHJ1ZGVfc2NhbGU7dW5pZm9ybSBmbG9hdCB1X2NhbWVyYV90b19jZW50ZXJfZGlzdGFuY2U7dmFyeWluZyBmbG9hdCB2X3BsYWNlZDt2YXJ5aW5nIGZsb2F0IHZfbm90VXNlZDt2b2lkIG1haW4oKSB7dmVjNCBwcm9qZWN0ZWRQb2ludD11X21hdHJpeCp2ZWM0KGFfYW5jaG9yX3BvcywwLDEpO2hpZ2hwIGZsb2F0IGNhbWVyYV90b19hbmNob3JfZGlzdGFuY2U9cHJvamVjdGVkUG9pbnQudztoaWdocCBmbG9hdCBjb2xsaXNpb25fcGVyc3BlY3RpdmVfcmF0aW89Y2xhbXAoMC41KzAuNSoodV9jYW1lcmFfdG9fY2VudGVyX2Rpc3RhbmNlL2NhbWVyYV90b19hbmNob3JfZGlzdGFuY2UpLDAuMCw0LjApO2dsX1Bvc2l0aW9uPXVfbWF0cml4KnZlYzQoYV9wb3MsMC4wLDEuMCk7Z2xfUG9zaXRpb24ueHkrPShhX2V4dHJ1ZGUrYV9zaGlmdCkqdV9leHRydWRlX3NjYWxlKmdsX1Bvc2l0aW9uLncqY29sbGlzaW9uX3BlcnNwZWN0aXZlX3JhdGlvO3ZfcGxhY2VkPWFfcGxhY2VkLng7dl9ub3RVc2VkPWFfcGxhY2VkLnk7fSIpLCRlPWdpKCJ2YXJ5aW5nIGZsb2F0IHZfcmFkaXVzO3ZhcnlpbmcgdmVjMiB2X2V4dHJ1ZGU7dmFyeWluZyBmbG9hdCB2X3BlcnNwZWN0aXZlX3JhdGlvO3ZhcnlpbmcgZmxvYXQgdl9jb2xsaXNpb247dm9pZCBtYWluKCkge2Zsb2F0IGFscGhhPTAuNSptaW4odl9wZXJzcGVjdGl2ZV9yYXRpbywxLjApO2Zsb2F0IHN0cm9rZV9yYWRpdXM9MC45Km1heCh2X3BlcnNwZWN0aXZlX3JhdGlvLDEuMCk7ZmxvYXQgZGlzdGFuY2VfdG9fY2VudGVyPWxlbmd0aCh2X2V4dHJ1ZGUpO2Zsb2F0IGRpc3RhbmNlX3RvX2VkZ2U9YWJzKGRpc3RhbmNlX3RvX2NlbnRlci12X3JhZGl1cyk7ZmxvYXQgb3BhY2l0eV90PXNtb290aHN0ZXAoLXN0cm9rZV9yYWRpdXMsMC4wLC1kaXN0YW5jZV90b19lZGdlKTt2ZWM0IGNvbG9yPW1peCh2ZWM0KDAuMCwwLjAsMS4wLDAuNSksdmVjNCgxLjAsMC4wLDAuMCwxLjApLHZfY29sbGlzaW9uKTtnbF9GcmFnQ29sb3I9Y29sb3IqYWxwaGEqb3BhY2l0eV90O30iLCJhdHRyaWJ1dGUgdmVjMiBhX3BvczthdHRyaWJ1dGUgZmxvYXQgYV9yYWRpdXM7YXR0cmlidXRlIHZlYzIgYV9mbGFnczt1bmlmb3JtIG1hdDQgdV9tYXRyaXg7dW5pZm9ybSBtYXQ0IHVfaW52X21hdHJpeDt1bmlmb3JtIHZlYzIgdV92aWV3cG9ydF9zaXplO3VuaWZvcm0gZmxvYXQgdV9jYW1lcmFfdG9fY2VudGVyX2Rpc3RhbmNlO3ZhcnlpbmcgZmxvYXQgdl9yYWRpdXM7dmFyeWluZyB2ZWMyIHZfZXh0cnVkZTt2YXJ5aW5nIGZsb2F0IHZfcGVyc3BlY3RpdmVfcmF0aW87dmFyeWluZyBmbG9hdCB2X2NvbGxpc2lvbjt2ZWMzIHRvVGlsZVBvc2l0aW9uKHZlYzIgc2NyZWVuUG9zKSB7dmVjNCByYXlTdGFydD11X2ludl9tYXRyaXgqdmVjNChzY3JlZW5Qb3MsLTEuMCwxLjApO3ZlYzQgcmF5RW5kICA9dV9pbnZfbWF0cml4KnZlYzQoc2NyZWVuUG9zLCAxLjAsMS4wKTtyYXlTdGFydC54eXovPXJheVN0YXJ0Lnc7cmF5RW5kLnh5eiAgLz1yYXlFbmQudztoaWdocCBmbG9hdCB0PSgwLjAtcmF5U3RhcnQueikvKHJheUVuZC56LXJheVN0YXJ0LnopO3JldHVybiBtaXgocmF5U3RhcnQueHl6LHJheUVuZC54eXosdCk7fXZvaWQgbWFpbigpIHt2ZWMyIHF1YWRDZW50ZXJQb3M9YV9wb3M7ZmxvYXQgcmFkaXVzPWFfcmFkaXVzO2Zsb2F0IGNvbGxpc2lvbj1hX2ZsYWdzLng7ZmxvYXQgdmVydGV4SWR4PWFfZmxhZ3MueTt2ZWMyIHF1YWRWZXJ0ZXhPZmZzZXQ9dmVjMihtaXgoLTEuMCwxLjAsZmxvYXQodmVydGV4SWR4ID49Mi4wKSksbWl4KC0xLjAsMS4wLGZsb2F0KHZlcnRleElkeCA+PTEuMCAmJiB2ZXJ0ZXhJZHggPD0yLjApKSk7dmVjMiBxdWFkVmVydGV4RXh0ZW50PXF1YWRWZXJ0ZXhPZmZzZXQqcmFkaXVzO3ZlYzMgdGlsZVBvcz10b1RpbGVQb3NpdGlvbihxdWFkQ2VudGVyUG9zKTt2ZWM0IGNsaXBQb3M9dV9tYXRyaXgqdmVjNCh0aWxlUG9zLDEuMCk7aGlnaHAgZmxvYXQgY2FtZXJhX3RvX2FuY2hvcl9kaXN0YW5jZT1jbGlwUG9zLnc7aGlnaHAgZmxvYXQgY29sbGlzaW9uX3BlcnNwZWN0aXZlX3JhdGlvPWNsYW1wKDAuNSswLjUqKHVfY2FtZXJhX3RvX2NlbnRlcl9kaXN0YW5jZS9jYW1lcmFfdG9fYW5jaG9yX2Rpc3RhbmNlKSwwLjAsNC4wKTtmbG9hdCBwYWRkaW5nX2ZhY3Rvcj0xLjI7dl9yYWRpdXM9cmFkaXVzO3ZfZXh0cnVkZT1xdWFkVmVydGV4RXh0ZW50KnBhZGRpbmdfZmFjdG9yO3ZfcGVyc3BlY3RpdmVfcmF0aW89Y29sbGlzaW9uX3BlcnNwZWN0aXZlX3JhdGlvO3ZfY29sbGlzaW9uPWNvbGxpc2lvbjtnbF9Qb3NpdGlvbj12ZWM0KGNsaXBQb3MueHl6L2NsaXBQb3MudywxLjApK3ZlYzQocXVhZFZlcnRleEV4dGVudCpwYWRkaW5nX2ZhY3Rvci91X3ZpZXdwb3J0X3NpemUqMi4wLDAuMCwwLjApO30iKSx0aT1naSgidW5pZm9ybSBoaWdocCB2ZWM0IHVfY29sb3I7dW5pZm9ybSBzYW1wbGVyMkQgdV9vdmVybGF5O3ZhcnlpbmcgdmVjMiB2X3V2O3ZvaWQgbWFpbigpIHt2ZWM0IG92ZXJsYXlfY29sb3I9dGV4dHVyZTJEKHVfb3ZlcmxheSx2X3V2KTtnbF9GcmFnQ29sb3I9bWl4KHVfY29sb3Isb3ZlcmxheV9jb2xvcixvdmVybGF5X2NvbG9yLmEpO30iLCJhdHRyaWJ1dGUgdmVjMiBhX3Bvczt2YXJ5aW5nIHZlYzIgdl91djt1bmlmb3JtIG1hdDQgdV9tYXRyaXg7dW5pZm9ybSBmbG9hdCB1X292ZXJsYXlfc2NhbGU7dm9pZCBtYWluKCkge3ZfdXY9YV9wb3MvODE5Mi4wO2dsX1Bvc2l0aW9uPXVfbWF0cml4KnZlYzQoYV9wb3MqdV9vdmVybGF5X3NjYWxlLDAsMSk7fSIpLGVpPWdpKCIjcHJhZ21hIG1hcGJveDogZGVmaW5lIGhpZ2hwIHZlYzQgY29sb3JcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBvcGFjaXR5XG52b2lkIG1haW4oKSB7XG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBoaWdocCB2ZWM0IGNvbG9yXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IG9wYWNpdHlcbmdsX0ZyYWdDb2xvcj1jb2xvcipvcGFjaXR5O1xuI2lmZGVmIE9WRVJEUkFXX0lOU1BFQ1RPUlxuZ2xfRnJhZ0NvbG9yPXZlYzQoMS4wKTtcbiNlbmRpZlxufSIsImF0dHJpYnV0ZSB2ZWMyIGFfcG9zO3VuaWZvcm0gbWF0NCB1X21hdHJpeDtcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgaGlnaHAgdmVjNCBjb2xvclxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IG9wYWNpdHlcbnZvaWQgbWFpbigpIHtcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGhpZ2hwIHZlYzQgY29sb3JcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgb3BhY2l0eVxuZ2xfUG9zaXRpb249dV9tYXRyaXgqdmVjNChhX3BvcywwLDEpO30iKSxpaT1naSgidmFyeWluZyB2ZWMyIHZfcG9zO1xuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBoaWdocCB2ZWM0IG91dGxpbmVfY29sb3JcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBvcGFjaXR5XG52b2lkIG1haW4oKSB7XG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBoaWdocCB2ZWM0IG91dGxpbmVfY29sb3JcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgb3BhY2l0eVxuZmxvYXQgZGlzdD1sZW5ndGgodl9wb3MtZ2xfRnJhZ0Nvb3JkLnh5KTtmbG9hdCBhbHBoYT0xLjAtc21vb3Roc3RlcCgwLjAsMS4wLGRpc3QpO2dsX0ZyYWdDb2xvcj1vdXRsaW5lX2NvbG9yKihhbHBoYSpvcGFjaXR5KTtcbiNpZmRlZiBPVkVSRFJBV19JTlNQRUNUT1JcbmdsX0ZyYWdDb2xvcj12ZWM0KDEuMCk7XG4jZW5kaWZcbn0iLCJhdHRyaWJ1dGUgdmVjMiBhX3Bvczt1bmlmb3JtIG1hdDQgdV9tYXRyaXg7dW5pZm9ybSB2ZWMyIHVfd29ybGQ7dmFyeWluZyB2ZWMyIHZfcG9zO1xuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBoaWdocCB2ZWM0IG91dGxpbmVfY29sb3JcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBvcGFjaXR5XG52b2lkIG1haW4oKSB7XG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBoaWdocCB2ZWM0IG91dGxpbmVfY29sb3JcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgb3BhY2l0eVxuZ2xfUG9zaXRpb249dV9tYXRyaXgqdmVjNChhX3BvcywwLDEpO3ZfcG9zPShnbF9Qb3NpdGlvbi54eS9nbF9Qb3NpdGlvbi53KzEuMCkvMi4wKnVfd29ybGQ7fSIpLG9pPWdpKCJ1bmlmb3JtIHZlYzIgdV90ZXhzaXplO3VuaWZvcm0gc2FtcGxlcjJEIHVfaW1hZ2U7dW5pZm9ybSBmbG9hdCB1X2ZhZGU7dmFyeWluZyB2ZWMyIHZfcG9zX2E7dmFyeWluZyB2ZWMyIHZfcG9zX2I7dmFyeWluZyB2ZWMyIHZfcG9zO1xuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IG9wYWNpdHlcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCB2ZWM0IHBhdHRlcm5fZnJvbVxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIHZlYzQgcGF0dGVybl90b1xudm9pZCBtYWluKCkge1xuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBvcGFjaXR5XG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBtZWRpdW1wIHZlYzQgcGF0dGVybl9mcm9tXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBtZWRpdW1wIHZlYzQgcGF0dGVybl90b1xudmVjMiBwYXR0ZXJuX3RsX2E9cGF0dGVybl9mcm9tLnh5O3ZlYzIgcGF0dGVybl9icl9hPXBhdHRlcm5fZnJvbS56dzt2ZWMyIHBhdHRlcm5fdGxfYj1wYXR0ZXJuX3RvLnh5O3ZlYzIgcGF0dGVybl9icl9iPXBhdHRlcm5fdG8uenc7dmVjMiBpbWFnZWNvb3JkPW1vZCh2X3Bvc19hLDEuMCk7dmVjMiBwb3M9bWl4KHBhdHRlcm5fdGxfYS91X3RleHNpemUscGF0dGVybl9icl9hL3VfdGV4c2l6ZSxpbWFnZWNvb3JkKTt2ZWM0IGNvbG9yMT10ZXh0dXJlMkQodV9pbWFnZSxwb3MpO3ZlYzIgaW1hZ2Vjb29yZF9iPW1vZCh2X3Bvc19iLDEuMCk7dmVjMiBwb3MyPW1peChwYXR0ZXJuX3RsX2IvdV90ZXhzaXplLHBhdHRlcm5fYnJfYi91X3RleHNpemUsaW1hZ2Vjb29yZF9iKTt2ZWM0IGNvbG9yMj10ZXh0dXJlMkQodV9pbWFnZSxwb3MyKTtmbG9hdCBkaXN0PWxlbmd0aCh2X3Bvcy1nbF9GcmFnQ29vcmQueHkpO2Zsb2F0IGFscGhhPTEuMC1zbW9vdGhzdGVwKDAuMCwxLjAsZGlzdCk7Z2xfRnJhZ0NvbG9yPW1peChjb2xvcjEsY29sb3IyLHVfZmFkZSkqYWxwaGEqb3BhY2l0eTtcbiNpZmRlZiBPVkVSRFJBV19JTlNQRUNUT1JcbmdsX0ZyYWdDb2xvcj12ZWM0KDEuMCk7XG4jZW5kaWZcbn0iLCJ1bmlmb3JtIG1hdDQgdV9tYXRyaXg7dW5pZm9ybSB2ZWMyIHVfd29ybGQ7dW5pZm9ybSB2ZWMyIHVfcGl4ZWxfY29vcmRfdXBwZXI7dW5pZm9ybSB2ZWMyIHVfcGl4ZWxfY29vcmRfbG93ZXI7dW5pZm9ybSB2ZWMzIHVfc2NhbGU7YXR0cmlidXRlIHZlYzIgYV9wb3M7dmFyeWluZyB2ZWMyIHZfcG9zX2E7dmFyeWluZyB2ZWMyIHZfcG9zX2I7dmFyeWluZyB2ZWMyIHZfcG9zO1xuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IG9wYWNpdHlcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCB2ZWM0IHBhdHRlcm5fZnJvbVxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIHZlYzQgcGF0dGVybl90b1xuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IHBpeGVsX3JhdGlvX2Zyb21cbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBwaXhlbF9yYXRpb190b1xudm9pZCBtYWluKCkge1xuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBvcGFjaXR5XG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBtZWRpdW1wIHZlYzQgcGF0dGVybl9mcm9tXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBtZWRpdW1wIHZlYzQgcGF0dGVybl90b1xuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBwaXhlbF9yYXRpb19mcm9tXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IHBpeGVsX3JhdGlvX3RvXG52ZWMyIHBhdHRlcm5fdGxfYT1wYXR0ZXJuX2Zyb20ueHk7dmVjMiBwYXR0ZXJuX2JyX2E9cGF0dGVybl9mcm9tLnp3O3ZlYzIgcGF0dGVybl90bF9iPXBhdHRlcm5fdG8ueHk7dmVjMiBwYXR0ZXJuX2JyX2I9cGF0dGVybl90by56dztmbG9hdCB0aWxlUmF0aW89dV9zY2FsZS54O2Zsb2F0IGZyb21TY2FsZT11X3NjYWxlLnk7ZmxvYXQgdG9TY2FsZT11X3NjYWxlLno7Z2xfUG9zaXRpb249dV9tYXRyaXgqdmVjNChhX3BvcywwLDEpO3ZlYzIgZGlzcGxheV9zaXplX2E9KHBhdHRlcm5fYnJfYS1wYXR0ZXJuX3RsX2EpL3BpeGVsX3JhdGlvX2Zyb207dmVjMiBkaXNwbGF5X3NpemVfYj0ocGF0dGVybl9icl9iLXBhdHRlcm5fdGxfYikvcGl4ZWxfcmF0aW9fdG87dl9wb3NfYT1nZXRfcGF0dGVybl9wb3ModV9waXhlbF9jb29yZF91cHBlcix1X3BpeGVsX2Nvb3JkX2xvd2VyLGZyb21TY2FsZSpkaXNwbGF5X3NpemVfYSx0aWxlUmF0aW8sYV9wb3MpO3ZfcG9zX2I9Z2V0X3BhdHRlcm5fcG9zKHVfcGl4ZWxfY29vcmRfdXBwZXIsdV9waXhlbF9jb29yZF9sb3dlcix0b1NjYWxlKmRpc3BsYXlfc2l6ZV9iLHRpbGVSYXRpbyxhX3Bvcyk7dl9wb3M9KGdsX1Bvc2l0aW9uLnh5L2dsX1Bvc2l0aW9uLncrMS4wKS8yLjAqdV93b3JsZDt9Iikscmk9Z2koInVuaWZvcm0gdmVjMiB1X3RleHNpemU7dW5pZm9ybSBmbG9hdCB1X2ZhZGU7dW5pZm9ybSBzYW1wbGVyMkQgdV9pbWFnZTt2YXJ5aW5nIHZlYzIgdl9wb3NfYTt2YXJ5aW5nIHZlYzIgdl9wb3NfYjtcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBvcGFjaXR5XG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgdmVjNCBwYXR0ZXJuX2Zyb21cbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCB2ZWM0IHBhdHRlcm5fdG9cbnZvaWQgbWFpbigpIHtcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgb3BhY2l0eVxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbWVkaXVtcCB2ZWM0IHBhdHRlcm5fZnJvbVxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbWVkaXVtcCB2ZWM0IHBhdHRlcm5fdG9cbnZlYzIgcGF0dGVybl90bF9hPXBhdHRlcm5fZnJvbS54eTt2ZWMyIHBhdHRlcm5fYnJfYT1wYXR0ZXJuX2Zyb20uenc7dmVjMiBwYXR0ZXJuX3RsX2I9cGF0dGVybl90by54eTt2ZWMyIHBhdHRlcm5fYnJfYj1wYXR0ZXJuX3RvLnp3O3ZlYzIgaW1hZ2Vjb29yZD1tb2Qodl9wb3NfYSwxLjApO3ZlYzIgcG9zPW1peChwYXR0ZXJuX3RsX2EvdV90ZXhzaXplLHBhdHRlcm5fYnJfYS91X3RleHNpemUsaW1hZ2Vjb29yZCk7dmVjNCBjb2xvcjE9dGV4dHVyZTJEKHVfaW1hZ2UscG9zKTt2ZWMyIGltYWdlY29vcmRfYj1tb2Qodl9wb3NfYiwxLjApO3ZlYzIgcG9zMj1taXgocGF0dGVybl90bF9iL3VfdGV4c2l6ZSxwYXR0ZXJuX2JyX2IvdV90ZXhzaXplLGltYWdlY29vcmRfYik7dmVjNCBjb2xvcjI9dGV4dHVyZTJEKHVfaW1hZ2UscG9zMik7Z2xfRnJhZ0NvbG9yPW1peChjb2xvcjEsY29sb3IyLHVfZmFkZSkqb3BhY2l0eTtcbiNpZmRlZiBPVkVSRFJBV19JTlNQRUNUT1JcbmdsX0ZyYWdDb2xvcj12ZWM0KDEuMCk7XG4jZW5kaWZcbn0iLCJ1bmlmb3JtIG1hdDQgdV9tYXRyaXg7dW5pZm9ybSB2ZWMyIHVfcGl4ZWxfY29vcmRfdXBwZXI7dW5pZm9ybSB2ZWMyIHVfcGl4ZWxfY29vcmRfbG93ZXI7dW5pZm9ybSB2ZWMzIHVfc2NhbGU7YXR0cmlidXRlIHZlYzIgYV9wb3M7dmFyeWluZyB2ZWMyIHZfcG9zX2E7dmFyeWluZyB2ZWMyIHZfcG9zX2I7XG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgb3BhY2l0eVxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIHZlYzQgcGF0dGVybl9mcm9tXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgdmVjNCBwYXR0ZXJuX3RvXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgcGl4ZWxfcmF0aW9fZnJvbVxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IHBpeGVsX3JhdGlvX3RvXG52b2lkIG1haW4oKSB7XG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IG9wYWNpdHlcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIG1lZGl1bXAgdmVjNCBwYXR0ZXJuX2Zyb21cbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIG1lZGl1bXAgdmVjNCBwYXR0ZXJuX3RvXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IHBpeGVsX3JhdGlvX2Zyb21cbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgcGl4ZWxfcmF0aW9fdG9cbnZlYzIgcGF0dGVybl90bF9hPXBhdHRlcm5fZnJvbS54eTt2ZWMyIHBhdHRlcm5fYnJfYT1wYXR0ZXJuX2Zyb20uenc7dmVjMiBwYXR0ZXJuX3RsX2I9cGF0dGVybl90by54eTt2ZWMyIHBhdHRlcm5fYnJfYj1wYXR0ZXJuX3RvLnp3O2Zsb2F0IHRpbGVab29tUmF0aW89dV9zY2FsZS54O2Zsb2F0IGZyb21TY2FsZT11X3NjYWxlLnk7ZmxvYXQgdG9TY2FsZT11X3NjYWxlLno7dmVjMiBkaXNwbGF5X3NpemVfYT0ocGF0dGVybl9icl9hLXBhdHRlcm5fdGxfYSkvcGl4ZWxfcmF0aW9fZnJvbTt2ZWMyIGRpc3BsYXlfc2l6ZV9iPShwYXR0ZXJuX2JyX2ItcGF0dGVybl90bF9iKS9waXhlbF9yYXRpb190bztnbF9Qb3NpdGlvbj11X21hdHJpeCp2ZWM0KGFfcG9zLDAsMSk7dl9wb3NfYT1nZXRfcGF0dGVybl9wb3ModV9waXhlbF9jb29yZF91cHBlcix1X3BpeGVsX2Nvb3JkX2xvd2VyLGZyb21TY2FsZSpkaXNwbGF5X3NpemVfYSx0aWxlWm9vbVJhdGlvLGFfcG9zKTt2X3Bvc19iPWdldF9wYXR0ZXJuX3Bvcyh1X3BpeGVsX2Nvb3JkX3VwcGVyLHVfcGl4ZWxfY29vcmRfbG93ZXIsdG9TY2FsZSpkaXNwbGF5X3NpemVfYix0aWxlWm9vbVJhdGlvLGFfcG9zKTt9IiksYWk9Z2koInZhcnlpbmcgdmVjNCB2X2NvbG9yO3ZvaWQgbWFpbigpIHtnbF9GcmFnQ29sb3I9dl9jb2xvcjtcbiNpZmRlZiBPVkVSRFJBV19JTlNQRUNUT1JcbmdsX0ZyYWdDb2xvcj12ZWM0KDEuMCk7XG4jZW5kaWZcbn0iLCJ1bmlmb3JtIG1hdDQgdV9tYXRyaXg7dW5pZm9ybSB2ZWMzIHVfbGlnaHRjb2xvcjt1bmlmb3JtIGxvd3AgdmVjMyB1X2xpZ2h0cG9zO3VuaWZvcm0gbG93cCBmbG9hdCB1X2xpZ2h0aW50ZW5zaXR5O3VuaWZvcm0gZmxvYXQgdV92ZXJ0aWNhbF9ncmFkaWVudDt1bmlmb3JtIGxvd3AgZmxvYXQgdV9vcGFjaXR5O2F0dHJpYnV0ZSB2ZWMyIGFfcG9zO2F0dHJpYnV0ZSB2ZWM0IGFfbm9ybWFsX2VkO3ZhcnlpbmcgdmVjNCB2X2NvbG9yO1xuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBoaWdocCBmbG9hdCBiYXNlXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGhpZ2hwIGZsb2F0IGhlaWdodFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBoaWdocCB2ZWM0IGNvbG9yXG52b2lkIG1haW4oKSB7XG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBoaWdocCBmbG9hdCBiYXNlXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBoaWdocCBmbG9hdCBoZWlnaHRcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGhpZ2hwIHZlYzQgY29sb3JcbnZlYzMgbm9ybWFsPWFfbm9ybWFsX2VkLnh5ejtiYXNlPW1heCgwLjAsYmFzZSk7aGVpZ2h0PW1heCgwLjAsaGVpZ2h0KTtmbG9hdCB0PW1vZChub3JtYWwueCwyLjApO2dsX1Bvc2l0aW9uPXVfbWF0cml4KnZlYzQoYV9wb3MsdCA+IDAuMCA/IGhlaWdodCA6IGJhc2UsMSk7ZmxvYXQgY29sb3J2YWx1ZT1jb2xvci5yKjAuMjEyNitjb2xvci5nKjAuNzE1Mitjb2xvci5iKjAuMDcyMjt2X2NvbG9yPXZlYzQoMC4wLDAuMCwwLjAsMS4wKTt2ZWM0IGFtYmllbnRsaWdodD12ZWM0KDAuMDMsMC4wMywwLjAzLDEuMCk7Y29sb3IrPWFtYmllbnRsaWdodDtmbG9hdCBkaXJlY3Rpb25hbD1jbGFtcChkb3Qobm9ybWFsLzE2Mzg0LjAsdV9saWdodHBvcyksMC4wLDEuMCk7ZGlyZWN0aW9uYWw9bWl4KCgxLjAtdV9saWdodGludGVuc2l0eSksbWF4KCgxLjAtY29sb3J2YWx1ZSt1X2xpZ2h0aW50ZW5zaXR5KSwxLjApLGRpcmVjdGlvbmFsKTtpZiAobm9ybWFsLnkgIT0wLjApIHtkaXJlY3Rpb25hbCo9KCgxLjAtdV92ZXJ0aWNhbF9ncmFkaWVudCkrKHVfdmVydGljYWxfZ3JhZGllbnQqY2xhbXAoKHQrYmFzZSkqcG93KGhlaWdodC8xNTAuMCwwLjUpLG1peCgwLjcsMC45OCwxLjAtdV9saWdodGludGVuc2l0eSksMS4wKSkpO312X2NvbG9yLnIrPWNsYW1wKGNvbG9yLnIqZGlyZWN0aW9uYWwqdV9saWdodGNvbG9yLnIsbWl4KDAuMCwwLjMsMS4wLXVfbGlnaHRjb2xvci5yKSwxLjApO3ZfY29sb3IuZys9Y2xhbXAoY29sb3IuZypkaXJlY3Rpb25hbCp1X2xpZ2h0Y29sb3IuZyxtaXgoMC4wLDAuMywxLjAtdV9saWdodGNvbG9yLmcpLDEuMCk7dl9jb2xvci5iKz1jbGFtcChjb2xvci5iKmRpcmVjdGlvbmFsKnVfbGlnaHRjb2xvci5iLG1peCgwLjAsMC4zLDEuMC11X2xpZ2h0Y29sb3IuYiksMS4wKTt2X2NvbG9yKj11X29wYWNpdHk7fSIpLG5pPWdpKCJ1bmlmb3JtIHZlYzIgdV90ZXhzaXplO3VuaWZvcm0gZmxvYXQgdV9mYWRlO3VuaWZvcm0gc2FtcGxlcjJEIHVfaW1hZ2U7dmFyeWluZyB2ZWMyIHZfcG9zX2E7dmFyeWluZyB2ZWMyIHZfcG9zX2I7dmFyeWluZyB2ZWM0IHZfbGlnaHRpbmc7XG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgYmFzZVxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IGhlaWdodFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIHZlYzQgcGF0dGVybl9mcm9tXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgdmVjNCBwYXR0ZXJuX3RvXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgcGl4ZWxfcmF0aW9fZnJvbVxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IHBpeGVsX3JhdGlvX3RvXG52b2lkIG1haW4oKSB7XG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IGJhc2VcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgaGVpZ2h0XG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBtZWRpdW1wIHZlYzQgcGF0dGVybl9mcm9tXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBtZWRpdW1wIHZlYzQgcGF0dGVybl90b1xuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBwaXhlbF9yYXRpb19mcm9tXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IHBpeGVsX3JhdGlvX3RvXG52ZWMyIHBhdHRlcm5fdGxfYT1wYXR0ZXJuX2Zyb20ueHk7dmVjMiBwYXR0ZXJuX2JyX2E9cGF0dGVybl9mcm9tLnp3O3ZlYzIgcGF0dGVybl90bF9iPXBhdHRlcm5fdG8ueHk7dmVjMiBwYXR0ZXJuX2JyX2I9cGF0dGVybl90by56dzt2ZWMyIGltYWdlY29vcmQ9bW9kKHZfcG9zX2EsMS4wKTt2ZWMyIHBvcz1taXgocGF0dGVybl90bF9hL3VfdGV4c2l6ZSxwYXR0ZXJuX2JyX2EvdV90ZXhzaXplLGltYWdlY29vcmQpO3ZlYzQgY29sb3IxPXRleHR1cmUyRCh1X2ltYWdlLHBvcyk7dmVjMiBpbWFnZWNvb3JkX2I9bW9kKHZfcG9zX2IsMS4wKTt2ZWMyIHBvczI9bWl4KHBhdHRlcm5fdGxfYi91X3RleHNpemUscGF0dGVybl9icl9iL3VfdGV4c2l6ZSxpbWFnZWNvb3JkX2IpO3ZlYzQgY29sb3IyPXRleHR1cmUyRCh1X2ltYWdlLHBvczIpO3ZlYzQgbWl4ZWRDb2xvcj1taXgoY29sb3IxLGNvbG9yMix1X2ZhZGUpO2dsX0ZyYWdDb2xvcj1taXhlZENvbG9yKnZfbGlnaHRpbmc7XG4jaWZkZWYgT1ZFUkRSQVdfSU5TUEVDVE9SXG5nbF9GcmFnQ29sb3I9dmVjNCgxLjApO1xuI2VuZGlmXG59IiwidW5pZm9ybSBtYXQ0IHVfbWF0cml4O3VuaWZvcm0gdmVjMiB1X3BpeGVsX2Nvb3JkX3VwcGVyO3VuaWZvcm0gdmVjMiB1X3BpeGVsX2Nvb3JkX2xvd2VyO3VuaWZvcm0gZmxvYXQgdV9oZWlnaHRfZmFjdG9yO3VuaWZvcm0gdmVjMyB1X3NjYWxlO3VuaWZvcm0gZmxvYXQgdV92ZXJ0aWNhbF9ncmFkaWVudDt1bmlmb3JtIGxvd3AgZmxvYXQgdV9vcGFjaXR5O3VuaWZvcm0gdmVjMyB1X2xpZ2h0Y29sb3I7dW5pZm9ybSBsb3dwIHZlYzMgdV9saWdodHBvczt1bmlmb3JtIGxvd3AgZmxvYXQgdV9saWdodGludGVuc2l0eTthdHRyaWJ1dGUgdmVjMiBhX3BvczthdHRyaWJ1dGUgdmVjNCBhX25vcm1hbF9lZDt2YXJ5aW5nIHZlYzIgdl9wb3NfYTt2YXJ5aW5nIHZlYzIgdl9wb3NfYjt2YXJ5aW5nIHZlYzQgdl9saWdodGluZztcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBiYXNlXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgaGVpZ2h0XG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgdmVjNCBwYXR0ZXJuX2Zyb21cbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCB2ZWM0IHBhdHRlcm5fdG9cbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBwaXhlbF9yYXRpb19mcm9tXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgcGl4ZWxfcmF0aW9fdG9cbnZvaWQgbWFpbigpIHtcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgYmFzZVxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBoZWlnaHRcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIG1lZGl1bXAgdmVjNCBwYXR0ZXJuX2Zyb21cbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIG1lZGl1bXAgdmVjNCBwYXR0ZXJuX3RvXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IHBpeGVsX3JhdGlvX2Zyb21cbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgcGl4ZWxfcmF0aW9fdG9cbnZlYzIgcGF0dGVybl90bF9hPXBhdHRlcm5fZnJvbS54eTt2ZWMyIHBhdHRlcm5fYnJfYT1wYXR0ZXJuX2Zyb20uenc7dmVjMiBwYXR0ZXJuX3RsX2I9cGF0dGVybl90by54eTt2ZWMyIHBhdHRlcm5fYnJfYj1wYXR0ZXJuX3RvLnp3O2Zsb2F0IHRpbGVSYXRpbz11X3NjYWxlLng7ZmxvYXQgZnJvbVNjYWxlPXVfc2NhbGUueTtmbG9hdCB0b1NjYWxlPXVfc2NhbGUuejt2ZWMzIG5vcm1hbD1hX25vcm1hbF9lZC54eXo7ZmxvYXQgZWRnZWRpc3RhbmNlPWFfbm9ybWFsX2VkLnc7dmVjMiBkaXNwbGF5X3NpemVfYT0ocGF0dGVybl9icl9hLXBhdHRlcm5fdGxfYSkvcGl4ZWxfcmF0aW9fZnJvbTt2ZWMyIGRpc3BsYXlfc2l6ZV9iPShwYXR0ZXJuX2JyX2ItcGF0dGVybl90bF9iKS9waXhlbF9yYXRpb190bztiYXNlPW1heCgwLjAsYmFzZSk7aGVpZ2h0PW1heCgwLjAsaGVpZ2h0KTtmbG9hdCB0PW1vZChub3JtYWwueCwyLjApO2Zsb2F0IHo9dCA+IDAuMCA/IGhlaWdodCA6IGJhc2U7Z2xfUG9zaXRpb249dV9tYXRyaXgqdmVjNChhX3Bvcyx6LDEpO3ZlYzIgcG9zPW5vcm1hbC54PT0xLjAgJiYgbm9ybWFsLnk9PTAuMCAmJiBub3JtYWwuej09MTYzODQuMFxuPyBhX3Bvc1xuOiB2ZWMyKGVkZ2VkaXN0YW5jZSx6KnVfaGVpZ2h0X2ZhY3Rvcik7dl9wb3NfYT1nZXRfcGF0dGVybl9wb3ModV9waXhlbF9jb29yZF91cHBlcix1X3BpeGVsX2Nvb3JkX2xvd2VyLGZyb21TY2FsZSpkaXNwbGF5X3NpemVfYSx0aWxlUmF0aW8scG9zKTt2X3Bvc19iPWdldF9wYXR0ZXJuX3Bvcyh1X3BpeGVsX2Nvb3JkX3VwcGVyLHVfcGl4ZWxfY29vcmRfbG93ZXIsdG9TY2FsZSpkaXNwbGF5X3NpemVfYix0aWxlUmF0aW8scG9zKTt2X2xpZ2h0aW5nPXZlYzQoMC4wLDAuMCwwLjAsMS4wKTtmbG9hdCBkaXJlY3Rpb25hbD1jbGFtcChkb3Qobm9ybWFsLzE2MzgzLjAsdV9saWdodHBvcyksMC4wLDEuMCk7ZGlyZWN0aW9uYWw9bWl4KCgxLjAtdV9saWdodGludGVuc2l0eSksbWF4KCgwLjUrdV9saWdodGludGVuc2l0eSksMS4wKSxkaXJlY3Rpb25hbCk7aWYgKG5vcm1hbC55ICE9MC4wKSB7ZGlyZWN0aW9uYWwqPSgoMS4wLXVfdmVydGljYWxfZ3JhZGllbnQpKyh1X3ZlcnRpY2FsX2dyYWRpZW50KmNsYW1wKCh0K2Jhc2UpKnBvdyhoZWlnaHQvMTUwLjAsMC41KSxtaXgoMC43LDAuOTgsMS4wLXVfbGlnaHRpbnRlbnNpdHkpLDEuMCkpKTt9dl9saWdodGluZy5yZ2IrPWNsYW1wKGRpcmVjdGlvbmFsKnVfbGlnaHRjb2xvcixtaXgodmVjMygwLjApLHZlYzMoMC4zKSwxLjAtdV9saWdodGNvbG9yKSx2ZWMzKDEuMCkpO3ZfbGlnaHRpbmcqPXVfb3BhY2l0eTt9Iiksc2k9Z2koIiNpZmRlZiBHTF9FU1xucHJlY2lzaW9uIGhpZ2hwIGZsb2F0O1xuI2VuZGlmXG51bmlmb3JtIHNhbXBsZXIyRCB1X2ltYWdlO3ZhcnlpbmcgdmVjMiB2X3Bvczt1bmlmb3JtIHZlYzIgdV9kaW1lbnNpb247dW5pZm9ybSBmbG9hdCB1X3pvb207dW5pZm9ybSBmbG9hdCB1X21heHpvb207dW5pZm9ybSB2ZWM0IHVfdW5wYWNrO2Zsb2F0IGdldEVsZXZhdGlvbih2ZWMyIGNvb3JkLGZsb2F0IGJpYXMpIHt2ZWM0IGRhdGE9dGV4dHVyZTJEKHVfaW1hZ2UsY29vcmQpKjI1NS4wO2RhdGEuYT0tMS4wO3JldHVybiBkb3QoZGF0YSx1X3VucGFjaykvNC4wO312b2lkIG1haW4oKSB7dmVjMiBlcHNpbG9uPTEuMC91X2RpbWVuc2lvbjtmbG9hdCBhPWdldEVsZXZhdGlvbih2X3Bvcyt2ZWMyKC1lcHNpbG9uLngsLWVwc2lsb24ueSksMC4wKTtmbG9hdCBiPWdldEVsZXZhdGlvbih2X3Bvcyt2ZWMyKDAsLWVwc2lsb24ueSksMC4wKTtmbG9hdCBjPWdldEVsZXZhdGlvbih2X3Bvcyt2ZWMyKGVwc2lsb24ueCwtZXBzaWxvbi55KSwwLjApO2Zsb2F0IGQ9Z2V0RWxldmF0aW9uKHZfcG9zK3ZlYzIoLWVwc2lsb24ueCwwKSwwLjApO2Zsb2F0IGU9Z2V0RWxldmF0aW9uKHZfcG9zLDAuMCk7ZmxvYXQgZj1nZXRFbGV2YXRpb24odl9wb3MrdmVjMihlcHNpbG9uLngsMCksMC4wKTtmbG9hdCBnPWdldEVsZXZhdGlvbih2X3Bvcyt2ZWMyKC1lcHNpbG9uLngsZXBzaWxvbi55KSwwLjApO2Zsb2F0IGg9Z2V0RWxldmF0aW9uKHZfcG9zK3ZlYzIoMCxlcHNpbG9uLnkpLDAuMCk7ZmxvYXQgaT1nZXRFbGV2YXRpb24odl9wb3MrdmVjMihlcHNpbG9uLngsZXBzaWxvbi55KSwwLjApO2Zsb2F0IGV4YWdnZXJhdGlvbj11X3pvb20gPCAyLjAgPyAwLjQgOiB1X3pvb20gPCA0LjUgPyAwLjM1IDogMC4zO3ZlYzIgZGVyaXY9dmVjMigoYytmK2YraSktKGErZCtkK2cpLChnK2graCtpKS0oYStiK2IrYykpLyBwb3coMi4wLCh1X3pvb20tdV9tYXh6b29tKSpleGFnZ2VyYXRpb24rMTkuMjU2Mi11X3pvb20pO2dsX0ZyYWdDb2xvcj1jbGFtcCh2ZWM0KGRlcml2LngvMi4wKzAuNSxkZXJpdi55LzIuMCswLjUsMS4wLDEuMCksMC4wLDEuMCk7XG4jaWZkZWYgT1ZFUkRSQVdfSU5TUEVDVE9SXG5nbF9GcmFnQ29sb3I9dmVjNCgxLjApO1xuI2VuZGlmXG59IiwidW5pZm9ybSBtYXQ0IHVfbWF0cml4O3VuaWZvcm0gdmVjMiB1X2RpbWVuc2lvbjthdHRyaWJ1dGUgdmVjMiBhX3BvczthdHRyaWJ1dGUgdmVjMiBhX3RleHR1cmVfcG9zO3ZhcnlpbmcgdmVjMiB2X3Bvczt2b2lkIG1haW4oKSB7Z2xfUG9zaXRpb249dV9tYXRyaXgqdmVjNChhX3BvcywwLDEpO2hpZ2hwIHZlYzIgZXBzaWxvbj0xLjAvdV9kaW1lbnNpb247ZmxvYXQgc2NhbGU9KHVfZGltZW5zaW9uLngtMi4wKS91X2RpbWVuc2lvbi54O3ZfcG9zPShhX3RleHR1cmVfcG9zLzgxOTIuMCkqc2NhbGUrZXBzaWxvbjt9IiksbGk9Z2koInVuaWZvcm0gc2FtcGxlcjJEIHVfaW1hZ2U7dmFyeWluZyB2ZWMyIHZfcG9zO3VuaWZvcm0gdmVjMiB1X2xhdHJhbmdlO3VuaWZvcm0gdmVjMiB1X2xpZ2h0O3VuaWZvcm0gdmVjNCB1X3NoYWRvdzt1bmlmb3JtIHZlYzQgdV9oaWdobGlnaHQ7dW5pZm9ybSB2ZWM0IHVfYWNjZW50O1xuI2RlZmluZSBQSSAzLjE0MTU5MjY1MzU4OTc5M1xudm9pZCBtYWluKCkge3ZlYzQgcGl4ZWw9dGV4dHVyZTJEKHVfaW1hZ2Usdl9wb3MpO3ZlYzIgZGVyaXY9KChwaXhlbC5yZyoyLjApLTEuMCk7ZmxvYXQgc2NhbGVGYWN0b3I9Y29zKHJhZGlhbnMoKHVfbGF0cmFuZ2VbMF0tdV9sYXRyYW5nZVsxXSkqKDEuMC12X3Bvcy55KSt1X2xhdHJhbmdlWzFdKSk7ZmxvYXQgc2xvcGU9YXRhbigxLjI1Kmxlbmd0aChkZXJpdikvc2NhbGVGYWN0b3IpO2Zsb2F0IGFzcGVjdD1kZXJpdi54ICE9MC4wID8gYXRhbihkZXJpdi55LC1kZXJpdi54KSA6IFBJLzIuMCooZGVyaXYueSA+IDAuMCA/IDEuMCA6LTEuMCk7ZmxvYXQgaW50ZW5zaXR5PXVfbGlnaHQueDtmbG9hdCBhemltdXRoPXVfbGlnaHQueStQSTtmbG9hdCBiYXNlPTEuODc1LWludGVuc2l0eSoxLjc1O2Zsb2F0IG1heFZhbHVlPTAuNSpQSTtmbG9hdCBzY2FsZWRTbG9wZT1pbnRlbnNpdHkgIT0wLjUgPyAoKHBvdyhiYXNlLHNsb3BlKS0xLjApLyhwb3coYmFzZSxtYXhWYWx1ZSktMS4wKSkqbWF4VmFsdWUgOiBzbG9wZTtmbG9hdCBhY2NlbnQ9Y29zKHNjYWxlZFNsb3BlKTt2ZWM0IGFjY2VudF9jb2xvcj0oMS4wLWFjY2VudCkqdV9hY2NlbnQqY2xhbXAoaW50ZW5zaXR5KjIuMCwwLjAsMS4wKTtmbG9hdCBzaGFkZT1hYnMobW9kKChhc3BlY3QrYXppbXV0aCkvUEkrMC41LDIuMCktMS4wKTt2ZWM0IHNoYWRlX2NvbG9yPW1peCh1X3NoYWRvdyx1X2hpZ2hsaWdodCxzaGFkZSkqc2luKHNjYWxlZFNsb3BlKSpjbGFtcChpbnRlbnNpdHkqMi4wLDAuMCwxLjApO2dsX0ZyYWdDb2xvcj1hY2NlbnRfY29sb3IqKDEuMC1zaGFkZV9jb2xvci5hKStzaGFkZV9jb2xvcjtcbiNpZmRlZiBPVkVSRFJBV19JTlNQRUNUT1JcbmdsX0ZyYWdDb2xvcj12ZWM0KDEuMCk7XG4jZW5kaWZcbn0iLCJ1bmlmb3JtIG1hdDQgdV9tYXRyaXg7YXR0cmlidXRlIHZlYzIgYV9wb3M7YXR0cmlidXRlIHZlYzIgYV90ZXh0dXJlX3Bvczt2YXJ5aW5nIHZlYzIgdl9wb3M7dm9pZCBtYWluKCkge2dsX1Bvc2l0aW9uPXVfbWF0cml4KnZlYzQoYV9wb3MsMCwxKTt2X3Bvcz1hX3RleHR1cmVfcG9zLzgxOTIuMDt9IiksY2k9Z2koInVuaWZvcm0gbG93cCBmbG9hdCB1X2RldmljZV9waXhlbF9yYXRpbzt2YXJ5aW5nIHZlYzIgdl93aWR0aDI7dmFyeWluZyB2ZWMyIHZfbm9ybWFsO3ZhcnlpbmcgZmxvYXQgdl9nYW1tYV9zY2FsZTtcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgaGlnaHAgdmVjNCBjb2xvclxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IGJsdXJcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBvcGFjaXR5XG52b2lkIG1haW4oKSB7XG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBoaWdocCB2ZWM0IGNvbG9yXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IGJsdXJcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgb3BhY2l0eVxuZmxvYXQgZGlzdD1sZW5ndGgodl9ub3JtYWwpKnZfd2lkdGgyLnM7ZmxvYXQgYmx1cjI9KGJsdXIrMS4wL3VfZGV2aWNlX3BpeGVsX3JhdGlvKSp2X2dhbW1hX3NjYWxlO2Zsb2F0IGFscGhhPWNsYW1wKG1pbihkaXN0LSh2X3dpZHRoMi50LWJsdXIyKSx2X3dpZHRoMi5zLWRpc3QpL2JsdXIyLDAuMCwxLjApO2dsX0ZyYWdDb2xvcj1jb2xvciooYWxwaGEqb3BhY2l0eSk7XG4jaWZkZWYgT1ZFUkRSQVdfSU5TUEVDVE9SXG5nbF9GcmFnQ29sb3I9dmVjNCgxLjApO1xuI2VuZGlmXG59IiwiXG4jZGVmaW5lIHNjYWxlIDAuMDE1ODczMDE2XG5hdHRyaWJ1dGUgdmVjMiBhX3Bvc19ub3JtYWw7YXR0cmlidXRlIHZlYzQgYV9kYXRhO3VuaWZvcm0gbWF0NCB1X21hdHJpeDt1bmlmb3JtIG1lZGl1bXAgZmxvYXQgdV9yYXRpbzt1bmlmb3JtIHZlYzIgdV91bml0c190b19waXhlbHM7dW5pZm9ybSBsb3dwIGZsb2F0IHVfZGV2aWNlX3BpeGVsX3JhdGlvO3ZhcnlpbmcgdmVjMiB2X25vcm1hbDt2YXJ5aW5nIHZlYzIgdl93aWR0aDI7dmFyeWluZyBmbG9hdCB2X2dhbW1hX3NjYWxlO3ZhcnlpbmcgaGlnaHAgZmxvYXQgdl9saW5lc29mYXI7XG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGhpZ2hwIHZlYzQgY29sb3JcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBibHVyXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgb3BhY2l0eVxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBtZWRpdW1wIGZsb2F0IGdhcHdpZHRoXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgb2Zmc2V0XG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIG1lZGl1bXAgZmxvYXQgd2lkdGhcbnZvaWQgbWFpbigpIHtcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGhpZ2hwIHZlYzQgY29sb3JcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgYmx1clxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBvcGFjaXR5XG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBtZWRpdW1wIGZsb2F0IGdhcHdpZHRoXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IG9mZnNldFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbWVkaXVtcCBmbG9hdCB3aWR0aFxuZmxvYXQgQU5USUFMSUFTSU5HPTEuMC91X2RldmljZV9waXhlbF9yYXRpby8yLjA7dmVjMiBhX2V4dHJ1ZGU9YV9kYXRhLnh5LTEyOC4wO2Zsb2F0IGFfZGlyZWN0aW9uPW1vZChhX2RhdGEueiw0LjApLTEuMDt2X2xpbmVzb2Zhcj0oZmxvb3IoYV9kYXRhLnovNC4wKSthX2RhdGEudyo2NC4wKSoyLjA7dmVjMiBwb3M9Zmxvb3IoYV9wb3Nfbm9ybWFsKjAuNSk7bWVkaXVtcCB2ZWMyIG5vcm1hbD1hX3Bvc19ub3JtYWwtMi4wKnBvcztub3JtYWwueT1ub3JtYWwueSoyLjAtMS4wO3Zfbm9ybWFsPW5vcm1hbDtnYXB3aWR0aD1nYXB3aWR0aC8yLjA7ZmxvYXQgaGFsZndpZHRoPXdpZHRoLzIuMDtvZmZzZXQ9LTEuMCpvZmZzZXQ7ZmxvYXQgaW5zZXQ9Z2Fwd2lkdGgrKGdhcHdpZHRoID4gMC4wID8gQU5USUFMSUFTSU5HIDogMC4wKTtmbG9hdCBvdXRzZXQ9Z2Fwd2lkdGgraGFsZndpZHRoKihnYXB3aWR0aCA+IDAuMCA/IDIuMCA6IDEuMCkrKGhhbGZ3aWR0aD09MC4wID8gMC4wIDogQU5USUFMSUFTSU5HKTttZWRpdW1wIHZlYzIgZGlzdD1vdXRzZXQqYV9leHRydWRlKnNjYWxlO21lZGl1bXAgZmxvYXQgdT0wLjUqYV9kaXJlY3Rpb247bWVkaXVtcCBmbG9hdCB0PTEuMC1hYnModSk7bWVkaXVtcCB2ZWMyIG9mZnNldDI9b2Zmc2V0KmFfZXh0cnVkZSpzY2FsZSpub3JtYWwueSptYXQyKHQsLXUsdSx0KTt2ZWM0IHByb2plY3RlZF9leHRydWRlPXVfbWF0cml4KnZlYzQoZGlzdC91X3JhdGlvLDAuMCwwLjApO2dsX1Bvc2l0aW9uPXVfbWF0cml4KnZlYzQocG9zK29mZnNldDIvdV9yYXRpbywwLjAsMS4wKStwcm9qZWN0ZWRfZXh0cnVkZTtmbG9hdCBleHRydWRlX2xlbmd0aF93aXRob3V0X3BlcnNwZWN0aXZlPWxlbmd0aChkaXN0KTtmbG9hdCBleHRydWRlX2xlbmd0aF93aXRoX3BlcnNwZWN0aXZlPWxlbmd0aChwcm9qZWN0ZWRfZXh0cnVkZS54eS9nbF9Qb3NpdGlvbi53KnVfdW5pdHNfdG9fcGl4ZWxzKTt2X2dhbW1hX3NjYWxlPWV4dHJ1ZGVfbGVuZ3RoX3dpdGhvdXRfcGVyc3BlY3RpdmUvZXh0cnVkZV9sZW5ndGhfd2l0aF9wZXJzcGVjdGl2ZTt2X3dpZHRoMj12ZWMyKG91dHNldCxpbnNldCk7fSIpLHVpPWdpKCJ1bmlmb3JtIGxvd3AgZmxvYXQgdV9kZXZpY2VfcGl4ZWxfcmF0aW87dW5pZm9ybSBzYW1wbGVyMkQgdV9pbWFnZTt2YXJ5aW5nIHZlYzIgdl93aWR0aDI7dmFyeWluZyB2ZWMyIHZfbm9ybWFsO3ZhcnlpbmcgZmxvYXQgdl9nYW1tYV9zY2FsZTt2YXJ5aW5nIGhpZ2hwIGZsb2F0IHZfbGluZXByb2dyZXNzO1xuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IGJsdXJcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBvcGFjaXR5XG52b2lkIG1haW4oKSB7XG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IGJsdXJcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgb3BhY2l0eVxuZmxvYXQgZGlzdD1sZW5ndGgodl9ub3JtYWwpKnZfd2lkdGgyLnM7ZmxvYXQgYmx1cjI9KGJsdXIrMS4wL3VfZGV2aWNlX3BpeGVsX3JhdGlvKSp2X2dhbW1hX3NjYWxlO2Zsb2F0IGFscGhhPWNsYW1wKG1pbihkaXN0LSh2X3dpZHRoMi50LWJsdXIyKSx2X3dpZHRoMi5zLWRpc3QpL2JsdXIyLDAuMCwxLjApO3ZlYzQgY29sb3I9dGV4dHVyZTJEKHVfaW1hZ2UsdmVjMih2X2xpbmVwcm9ncmVzcywwLjUpKTtnbF9GcmFnQ29sb3I9Y29sb3IqKGFscGhhKm9wYWNpdHkpO1xuI2lmZGVmIE9WRVJEUkFXX0lOU1BFQ1RPUlxuZ2xfRnJhZ0NvbG9yPXZlYzQoMS4wKTtcbiNlbmRpZlxufSIsIlxuI2RlZmluZSBNQVhfTElORV9ESVNUQU5DRSAzMjc2Ny4wXG4jZGVmaW5lIHNjYWxlIDAuMDE1ODczMDE2XG5hdHRyaWJ1dGUgdmVjMiBhX3Bvc19ub3JtYWw7YXR0cmlidXRlIHZlYzQgYV9kYXRhO3VuaWZvcm0gbWF0NCB1X21hdHJpeDt1bmlmb3JtIG1lZGl1bXAgZmxvYXQgdV9yYXRpbzt1bmlmb3JtIGxvd3AgZmxvYXQgdV9kZXZpY2VfcGl4ZWxfcmF0aW87dW5pZm9ybSB2ZWMyIHVfdW5pdHNfdG9fcGl4ZWxzO3ZhcnlpbmcgdmVjMiB2X25vcm1hbDt2YXJ5aW5nIHZlYzIgdl93aWR0aDI7dmFyeWluZyBmbG9hdCB2X2dhbW1hX3NjYWxlO3ZhcnlpbmcgaGlnaHAgZmxvYXQgdl9saW5lcHJvZ3Jlc3M7XG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgYmx1clxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IG9wYWNpdHlcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbWVkaXVtcCBmbG9hdCBnYXB3aWR0aFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IG9mZnNldFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBtZWRpdW1wIGZsb2F0IHdpZHRoXG52b2lkIG1haW4oKSB7XG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IGJsdXJcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgb3BhY2l0eVxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbWVkaXVtcCBmbG9hdCBnYXB3aWR0aFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBvZmZzZXRcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIG1lZGl1bXAgZmxvYXQgd2lkdGhcbmZsb2F0IEFOVElBTElBU0lORz0xLjAvdV9kZXZpY2VfcGl4ZWxfcmF0aW8vMi4wO3ZlYzIgYV9leHRydWRlPWFfZGF0YS54eS0xMjguMDtmbG9hdCBhX2RpcmVjdGlvbj1tb2QoYV9kYXRhLnosNC4wKS0xLjA7dl9saW5lcHJvZ3Jlc3M9KGZsb29yKGFfZGF0YS56LzQuMCkrYV9kYXRhLncqNjQuMCkqMi4wL01BWF9MSU5FX0RJU1RBTkNFO3ZlYzIgcG9zPWZsb29yKGFfcG9zX25vcm1hbCowLjUpO21lZGl1bXAgdmVjMiBub3JtYWw9YV9wb3Nfbm9ybWFsLTIuMCpwb3M7bm9ybWFsLnk9bm9ybWFsLnkqMi4wLTEuMDt2X25vcm1hbD1ub3JtYWw7Z2Fwd2lkdGg9Z2Fwd2lkdGgvMi4wO2Zsb2F0IGhhbGZ3aWR0aD13aWR0aC8yLjA7b2Zmc2V0PS0xLjAqb2Zmc2V0O2Zsb2F0IGluc2V0PWdhcHdpZHRoKyhnYXB3aWR0aCA+IDAuMCA/IEFOVElBTElBU0lORyA6IDAuMCk7ZmxvYXQgb3V0c2V0PWdhcHdpZHRoK2hhbGZ3aWR0aCooZ2Fwd2lkdGggPiAwLjAgPyAyLjAgOiAxLjApKyhoYWxmd2lkdGg9PTAuMCA/IDAuMCA6IEFOVElBTElBU0lORyk7bWVkaXVtcCB2ZWMyIGRpc3Q9b3V0c2V0KmFfZXh0cnVkZSpzY2FsZTttZWRpdW1wIGZsb2F0IHU9MC41KmFfZGlyZWN0aW9uO21lZGl1bXAgZmxvYXQgdD0xLjAtYWJzKHUpO21lZGl1bXAgdmVjMiBvZmZzZXQyPW9mZnNldCphX2V4dHJ1ZGUqc2NhbGUqbm9ybWFsLnkqbWF0Mih0LC11LHUsdCk7dmVjNCBwcm9qZWN0ZWRfZXh0cnVkZT11X21hdHJpeCp2ZWM0KGRpc3QvdV9yYXRpbywwLjAsMC4wKTtnbF9Qb3NpdGlvbj11X21hdHJpeCp2ZWM0KHBvcytvZmZzZXQyL3VfcmF0aW8sMC4wLDEuMCkrcHJvamVjdGVkX2V4dHJ1ZGU7ZmxvYXQgZXh0cnVkZV9sZW5ndGhfd2l0aG91dF9wZXJzcGVjdGl2ZT1sZW5ndGgoZGlzdCk7ZmxvYXQgZXh0cnVkZV9sZW5ndGhfd2l0aF9wZXJzcGVjdGl2ZT1sZW5ndGgocHJvamVjdGVkX2V4dHJ1ZGUueHkvZ2xfUG9zaXRpb24udyp1X3VuaXRzX3RvX3BpeGVscyk7dl9nYW1tYV9zY2FsZT1leHRydWRlX2xlbmd0aF93aXRob3V0X3BlcnNwZWN0aXZlL2V4dHJ1ZGVfbGVuZ3RoX3dpdGhfcGVyc3BlY3RpdmU7dl93aWR0aDI9dmVjMihvdXRzZXQsaW5zZXQpO30iKSxoaT1naSgidW5pZm9ybSBsb3dwIGZsb2F0IHVfZGV2aWNlX3BpeGVsX3JhdGlvO3VuaWZvcm0gdmVjMiB1X3RleHNpemU7dW5pZm9ybSBmbG9hdCB1X2ZhZGU7dW5pZm9ybSBtZWRpdW1wIHZlYzMgdV9zY2FsZTt1bmlmb3JtIHNhbXBsZXIyRCB1X2ltYWdlO3ZhcnlpbmcgdmVjMiB2X25vcm1hbDt2YXJ5aW5nIHZlYzIgdl93aWR0aDI7dmFyeWluZyBmbG9hdCB2X2xpbmVzb2Zhcjt2YXJ5aW5nIGZsb2F0IHZfZ2FtbWFfc2NhbGU7dmFyeWluZyBmbG9hdCB2X3dpZHRoO1xuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIHZlYzQgcGF0dGVybl9mcm9tXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgdmVjNCBwYXR0ZXJuX3RvXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgcGl4ZWxfcmF0aW9fZnJvbVxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IHBpeGVsX3JhdGlvX3RvXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgYmx1clxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IG9wYWNpdHlcbnZvaWQgbWFpbigpIHtcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIG1lZGl1bXAgdmVjNCBwYXR0ZXJuX2Zyb21cbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIG1lZGl1bXAgdmVjNCBwYXR0ZXJuX3RvXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IHBpeGVsX3JhdGlvX2Zyb21cbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgcGl4ZWxfcmF0aW9fdG9cbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgYmx1clxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBvcGFjaXR5XG52ZWMyIHBhdHRlcm5fdGxfYT1wYXR0ZXJuX2Zyb20ueHk7dmVjMiBwYXR0ZXJuX2JyX2E9cGF0dGVybl9mcm9tLnp3O3ZlYzIgcGF0dGVybl90bF9iPXBhdHRlcm5fdG8ueHk7dmVjMiBwYXR0ZXJuX2JyX2I9cGF0dGVybl90by56dztmbG9hdCB0aWxlWm9vbVJhdGlvPXVfc2NhbGUueDtmbG9hdCBmcm9tU2NhbGU9dV9zY2FsZS55O2Zsb2F0IHRvU2NhbGU9dV9zY2FsZS56O3ZlYzIgZGlzcGxheV9zaXplX2E9KHBhdHRlcm5fYnJfYS1wYXR0ZXJuX3RsX2EpL3BpeGVsX3JhdGlvX2Zyb207dmVjMiBkaXNwbGF5X3NpemVfYj0ocGF0dGVybl9icl9iLXBhdHRlcm5fdGxfYikvcGl4ZWxfcmF0aW9fdG87dmVjMiBwYXR0ZXJuX3NpemVfYT12ZWMyKGRpc3BsYXlfc2l6ZV9hLngqZnJvbVNjYWxlL3RpbGVab29tUmF0aW8sZGlzcGxheV9zaXplX2EueSk7dmVjMiBwYXR0ZXJuX3NpemVfYj12ZWMyKGRpc3BsYXlfc2l6ZV9iLngqdG9TY2FsZS90aWxlWm9vbVJhdGlvLGRpc3BsYXlfc2l6ZV9iLnkpO2Zsb2F0IGFzcGVjdF9hPWRpc3BsYXlfc2l6ZV9hLnkvdl93aWR0aDtmbG9hdCBhc3BlY3RfYj1kaXNwbGF5X3NpemVfYi55L3Zfd2lkdGg7ZmxvYXQgZGlzdD1sZW5ndGgodl9ub3JtYWwpKnZfd2lkdGgyLnM7ZmxvYXQgYmx1cjI9KGJsdXIrMS4wL3VfZGV2aWNlX3BpeGVsX3JhdGlvKSp2X2dhbW1hX3NjYWxlO2Zsb2F0IGFscGhhPWNsYW1wKG1pbihkaXN0LSh2X3dpZHRoMi50LWJsdXIyKSx2X3dpZHRoMi5zLWRpc3QpL2JsdXIyLDAuMCwxLjApO2Zsb2F0IHhfYT1tb2Qodl9saW5lc29mYXIvcGF0dGVybl9zaXplX2EueCphc3BlY3RfYSwxLjApO2Zsb2F0IHhfYj1tb2Qodl9saW5lc29mYXIvcGF0dGVybl9zaXplX2IueCphc3BlY3RfYiwxLjApO2Zsb2F0IHk9MC41KnZfbm9ybWFsLnkrMC41O3ZlYzIgdGV4ZWxfc2l6ZT0xLjAvdV90ZXhzaXplO3ZlYzIgcG9zX2E9bWl4KHBhdHRlcm5fdGxfYSp0ZXhlbF9zaXplLXRleGVsX3NpemUscGF0dGVybl9icl9hKnRleGVsX3NpemUrdGV4ZWxfc2l6ZSx2ZWMyKHhfYSx5KSk7dmVjMiBwb3NfYj1taXgocGF0dGVybl90bF9iKnRleGVsX3NpemUtdGV4ZWxfc2l6ZSxwYXR0ZXJuX2JyX2IqdGV4ZWxfc2l6ZSt0ZXhlbF9zaXplLHZlYzIoeF9iLHkpKTt2ZWM0IGNvbG9yPW1peCh0ZXh0dXJlMkQodV9pbWFnZSxwb3NfYSksdGV4dHVyZTJEKHVfaW1hZ2UscG9zX2IpLHVfZmFkZSk7Z2xfRnJhZ0NvbG9yPWNvbG9yKmFscGhhKm9wYWNpdHk7XG4jaWZkZWYgT1ZFUkRSQVdfSU5TUEVDVE9SXG5nbF9GcmFnQ29sb3I9dmVjNCgxLjApO1xuI2VuZGlmXG59IiwiXG4jZGVmaW5lIHNjYWxlIDAuMDE1ODczMDE2XG4jZGVmaW5lIExJTkVfRElTVEFOQ0VfU0NBTEUgMi4wXG5hdHRyaWJ1dGUgdmVjMiBhX3Bvc19ub3JtYWw7YXR0cmlidXRlIHZlYzQgYV9kYXRhO3VuaWZvcm0gbWF0NCB1X21hdHJpeDt1bmlmb3JtIHZlYzIgdV91bml0c190b19waXhlbHM7dW5pZm9ybSBtZWRpdW1wIGZsb2F0IHVfcmF0aW87dW5pZm9ybSBsb3dwIGZsb2F0IHVfZGV2aWNlX3BpeGVsX3JhdGlvO3ZhcnlpbmcgdmVjMiB2X25vcm1hbDt2YXJ5aW5nIHZlYzIgdl93aWR0aDI7dmFyeWluZyBmbG9hdCB2X2xpbmVzb2Zhcjt2YXJ5aW5nIGZsb2F0IHZfZ2FtbWFfc2NhbGU7dmFyeWluZyBmbG9hdCB2X3dpZHRoO1xuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IGJsdXJcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBvcGFjaXR5XG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgb2Zmc2V0XG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIG1lZGl1bXAgZmxvYXQgZ2Fwd2lkdGhcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbWVkaXVtcCBmbG9hdCB3aWR0aFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IGZsb29yd2lkdGhcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCB2ZWM0IHBhdHRlcm5fZnJvbVxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIHZlYzQgcGF0dGVybl90b1xuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IHBpeGVsX3JhdGlvX2Zyb21cbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBwaXhlbF9yYXRpb190b1xudm9pZCBtYWluKCkge1xuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBibHVyXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IG9wYWNpdHlcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgb2Zmc2V0XG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBtZWRpdW1wIGZsb2F0IGdhcHdpZHRoXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBtZWRpdW1wIGZsb2F0IHdpZHRoXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IGZsb29yd2lkdGhcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIG1lZGl1bXAgdmVjNCBwYXR0ZXJuX2Zyb21cbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIG1lZGl1bXAgdmVjNCBwYXR0ZXJuX3RvXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IHBpeGVsX3JhdGlvX2Zyb21cbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgcGl4ZWxfcmF0aW9fdG9cbmZsb2F0IEFOVElBTElBU0lORz0xLjAvdV9kZXZpY2VfcGl4ZWxfcmF0aW8vMi4wO3ZlYzIgYV9leHRydWRlPWFfZGF0YS54eS0xMjguMDtmbG9hdCBhX2RpcmVjdGlvbj1tb2QoYV9kYXRhLnosNC4wKS0xLjA7ZmxvYXQgYV9saW5lc29mYXI9KGZsb29yKGFfZGF0YS56LzQuMCkrYV9kYXRhLncqNjQuMCkqTElORV9ESVNUQU5DRV9TQ0FMRTt2ZWMyIHBvcz1mbG9vcihhX3Bvc19ub3JtYWwqMC41KTttZWRpdW1wIHZlYzIgbm9ybWFsPWFfcG9zX25vcm1hbC0yLjAqcG9zO25vcm1hbC55PW5vcm1hbC55KjIuMC0xLjA7dl9ub3JtYWw9bm9ybWFsO2dhcHdpZHRoPWdhcHdpZHRoLzIuMDtmbG9hdCBoYWxmd2lkdGg9d2lkdGgvMi4wO29mZnNldD0tMS4wKm9mZnNldDtmbG9hdCBpbnNldD1nYXB3aWR0aCsoZ2Fwd2lkdGggPiAwLjAgPyBBTlRJQUxJQVNJTkcgOiAwLjApO2Zsb2F0IG91dHNldD1nYXB3aWR0aCtoYWxmd2lkdGgqKGdhcHdpZHRoID4gMC4wID8gMi4wIDogMS4wKSsoaGFsZndpZHRoPT0wLjAgPyAwLjAgOiBBTlRJQUxJQVNJTkcpO21lZGl1bXAgdmVjMiBkaXN0PW91dHNldCphX2V4dHJ1ZGUqc2NhbGU7bWVkaXVtcCBmbG9hdCB1PTAuNSphX2RpcmVjdGlvbjttZWRpdW1wIGZsb2F0IHQ9MS4wLWFicyh1KTttZWRpdW1wIHZlYzIgb2Zmc2V0Mj1vZmZzZXQqYV9leHRydWRlKnNjYWxlKm5vcm1hbC55Km1hdDIodCwtdSx1LHQpO3ZlYzQgcHJvamVjdGVkX2V4dHJ1ZGU9dV9tYXRyaXgqdmVjNChkaXN0L3VfcmF0aW8sMC4wLDAuMCk7Z2xfUG9zaXRpb249dV9tYXRyaXgqdmVjNChwb3Mrb2Zmc2V0Mi91X3JhdGlvLDAuMCwxLjApK3Byb2plY3RlZF9leHRydWRlO2Zsb2F0IGV4dHJ1ZGVfbGVuZ3RoX3dpdGhvdXRfcGVyc3BlY3RpdmU9bGVuZ3RoKGRpc3QpO2Zsb2F0IGV4dHJ1ZGVfbGVuZ3RoX3dpdGhfcGVyc3BlY3RpdmU9bGVuZ3RoKHByb2plY3RlZF9leHRydWRlLnh5L2dsX1Bvc2l0aW9uLncqdV91bml0c190b19waXhlbHMpO3ZfZ2FtbWFfc2NhbGU9ZXh0cnVkZV9sZW5ndGhfd2l0aG91dF9wZXJzcGVjdGl2ZS9leHRydWRlX2xlbmd0aF93aXRoX3BlcnNwZWN0aXZlO3ZfbGluZXNvZmFyPWFfbGluZXNvZmFyO3Zfd2lkdGgyPXZlYzIob3V0c2V0LGluc2V0KTt2X3dpZHRoPWZsb29yd2lkdGg7fSIpLHBpPWdpKCJ1bmlmb3JtIGxvd3AgZmxvYXQgdV9kZXZpY2VfcGl4ZWxfcmF0aW87dW5pZm9ybSBzYW1wbGVyMkQgdV9pbWFnZTt1bmlmb3JtIGZsb2F0IHVfc2RmZ2FtbWE7dW5pZm9ybSBmbG9hdCB1X21peDt2YXJ5aW5nIHZlYzIgdl9ub3JtYWw7dmFyeWluZyB2ZWMyIHZfd2lkdGgyO3ZhcnlpbmcgdmVjMiB2X3RleF9hO3ZhcnlpbmcgdmVjMiB2X3RleF9iO3ZhcnlpbmcgZmxvYXQgdl9nYW1tYV9zY2FsZTtcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgaGlnaHAgdmVjNCBjb2xvclxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IGJsdXJcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBvcGFjaXR5XG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIG1lZGl1bXAgZmxvYXQgd2lkdGhcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBmbG9vcndpZHRoXG52b2lkIG1haW4oKSB7XG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBoaWdocCB2ZWM0IGNvbG9yXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IGJsdXJcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgb3BhY2l0eVxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbWVkaXVtcCBmbG9hdCB3aWR0aFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBmbG9vcndpZHRoXG5mbG9hdCBkaXN0PWxlbmd0aCh2X25vcm1hbCkqdl93aWR0aDIucztmbG9hdCBibHVyMj0oYmx1cisxLjAvdV9kZXZpY2VfcGl4ZWxfcmF0aW8pKnZfZ2FtbWFfc2NhbGU7ZmxvYXQgYWxwaGE9Y2xhbXAobWluKGRpc3QtKHZfd2lkdGgyLnQtYmx1cjIpLHZfd2lkdGgyLnMtZGlzdCkvYmx1cjIsMC4wLDEuMCk7ZmxvYXQgc2RmZGlzdF9hPXRleHR1cmUyRCh1X2ltYWdlLHZfdGV4X2EpLmE7ZmxvYXQgc2RmZGlzdF9iPXRleHR1cmUyRCh1X2ltYWdlLHZfdGV4X2IpLmE7ZmxvYXQgc2RmZGlzdD1taXgoc2RmZGlzdF9hLHNkZmRpc3RfYix1X21peCk7YWxwaGEqPXNtb290aHN0ZXAoMC41LXVfc2RmZ2FtbWEvZmxvb3J3aWR0aCwwLjUrdV9zZGZnYW1tYS9mbG9vcndpZHRoLHNkZmRpc3QpO2dsX0ZyYWdDb2xvcj1jb2xvciooYWxwaGEqb3BhY2l0eSk7XG4jaWZkZWYgT1ZFUkRSQVdfSU5TUEVDVE9SXG5nbF9GcmFnQ29sb3I9dmVjNCgxLjApO1xuI2VuZGlmXG59IiwiXG4jZGVmaW5lIHNjYWxlIDAuMDE1ODczMDE2XG4jZGVmaW5lIExJTkVfRElTVEFOQ0VfU0NBTEUgMi4wXG5hdHRyaWJ1dGUgdmVjMiBhX3Bvc19ub3JtYWw7YXR0cmlidXRlIHZlYzQgYV9kYXRhO3VuaWZvcm0gbWF0NCB1X21hdHJpeDt1bmlmb3JtIG1lZGl1bXAgZmxvYXQgdV9yYXRpbzt1bmlmb3JtIGxvd3AgZmxvYXQgdV9kZXZpY2VfcGl4ZWxfcmF0aW87dW5pZm9ybSB2ZWMyIHVfcGF0dGVybnNjYWxlX2E7dW5pZm9ybSBmbG9hdCB1X3RleF95X2E7dW5pZm9ybSB2ZWMyIHVfcGF0dGVybnNjYWxlX2I7dW5pZm9ybSBmbG9hdCB1X3RleF95X2I7dW5pZm9ybSB2ZWMyIHVfdW5pdHNfdG9fcGl4ZWxzO3ZhcnlpbmcgdmVjMiB2X25vcm1hbDt2YXJ5aW5nIHZlYzIgdl93aWR0aDI7dmFyeWluZyB2ZWMyIHZfdGV4X2E7dmFyeWluZyB2ZWMyIHZfdGV4X2I7dmFyeWluZyBmbG9hdCB2X2dhbW1hX3NjYWxlO1xuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBoaWdocCB2ZWM0IGNvbG9yXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgYmx1clxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IG9wYWNpdHlcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbWVkaXVtcCBmbG9hdCBnYXB3aWR0aFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IG9mZnNldFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBtZWRpdW1wIGZsb2F0IHdpZHRoXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgZmxvb3J3aWR0aFxudm9pZCBtYWluKCkge1xuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgaGlnaHAgdmVjNCBjb2xvclxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBibHVyXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IG9wYWNpdHlcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIG1lZGl1bXAgZmxvYXQgZ2Fwd2lkdGhcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgb2Zmc2V0XG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBtZWRpdW1wIGZsb2F0IHdpZHRoXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IGZsb29yd2lkdGhcbmZsb2F0IEFOVElBTElBU0lORz0xLjAvdV9kZXZpY2VfcGl4ZWxfcmF0aW8vMi4wO3ZlYzIgYV9leHRydWRlPWFfZGF0YS54eS0xMjguMDtmbG9hdCBhX2RpcmVjdGlvbj1tb2QoYV9kYXRhLnosNC4wKS0xLjA7ZmxvYXQgYV9saW5lc29mYXI9KGZsb29yKGFfZGF0YS56LzQuMCkrYV9kYXRhLncqNjQuMCkqTElORV9ESVNUQU5DRV9TQ0FMRTt2ZWMyIHBvcz1mbG9vcihhX3Bvc19ub3JtYWwqMC41KTttZWRpdW1wIHZlYzIgbm9ybWFsPWFfcG9zX25vcm1hbC0yLjAqcG9zO25vcm1hbC55PW5vcm1hbC55KjIuMC0xLjA7dl9ub3JtYWw9bm9ybWFsO2dhcHdpZHRoPWdhcHdpZHRoLzIuMDtmbG9hdCBoYWxmd2lkdGg9d2lkdGgvMi4wO29mZnNldD0tMS4wKm9mZnNldDtmbG9hdCBpbnNldD1nYXB3aWR0aCsoZ2Fwd2lkdGggPiAwLjAgPyBBTlRJQUxJQVNJTkcgOiAwLjApO2Zsb2F0IG91dHNldD1nYXB3aWR0aCtoYWxmd2lkdGgqKGdhcHdpZHRoID4gMC4wID8gMi4wIDogMS4wKSsoaGFsZndpZHRoPT0wLjAgPyAwLjAgOiBBTlRJQUxJQVNJTkcpO21lZGl1bXAgdmVjMiBkaXN0PW91dHNldCphX2V4dHJ1ZGUqc2NhbGU7bWVkaXVtcCBmbG9hdCB1PTAuNSphX2RpcmVjdGlvbjttZWRpdW1wIGZsb2F0IHQ9MS4wLWFicyh1KTttZWRpdW1wIHZlYzIgb2Zmc2V0Mj1vZmZzZXQqYV9leHRydWRlKnNjYWxlKm5vcm1hbC55Km1hdDIodCwtdSx1LHQpO3ZlYzQgcHJvamVjdGVkX2V4dHJ1ZGU9dV9tYXRyaXgqdmVjNChkaXN0L3VfcmF0aW8sMC4wLDAuMCk7Z2xfUG9zaXRpb249dV9tYXRyaXgqdmVjNChwb3Mrb2Zmc2V0Mi91X3JhdGlvLDAuMCwxLjApK3Byb2plY3RlZF9leHRydWRlO2Zsb2F0IGV4dHJ1ZGVfbGVuZ3RoX3dpdGhvdXRfcGVyc3BlY3RpdmU9bGVuZ3RoKGRpc3QpO2Zsb2F0IGV4dHJ1ZGVfbGVuZ3RoX3dpdGhfcGVyc3BlY3RpdmU9bGVuZ3RoKHByb2plY3RlZF9leHRydWRlLnh5L2dsX1Bvc2l0aW9uLncqdV91bml0c190b19waXhlbHMpO3ZfZ2FtbWFfc2NhbGU9ZXh0cnVkZV9sZW5ndGhfd2l0aG91dF9wZXJzcGVjdGl2ZS9leHRydWRlX2xlbmd0aF93aXRoX3BlcnNwZWN0aXZlO3ZfdGV4X2E9dmVjMihhX2xpbmVzb2Zhcip1X3BhdHRlcm5zY2FsZV9hLngvZmxvb3J3aWR0aCxub3JtYWwueSp1X3BhdHRlcm5zY2FsZV9hLnkrdV90ZXhfeV9hKTt2X3RleF9iPXZlYzIoYV9saW5lc29mYXIqdV9wYXR0ZXJuc2NhbGVfYi54L2Zsb29yd2lkdGgsbm9ybWFsLnkqdV9wYXR0ZXJuc2NhbGVfYi55K3VfdGV4X3lfYik7dl93aWR0aDI9dmVjMihvdXRzZXQsaW5zZXQpO30iKSxkaT1naSgidW5pZm9ybSBmbG9hdCB1X2ZhZGVfdDt1bmlmb3JtIGZsb2F0IHVfb3BhY2l0eTt1bmlmb3JtIHNhbXBsZXIyRCB1X2ltYWdlMDt1bmlmb3JtIHNhbXBsZXIyRCB1X2ltYWdlMTt2YXJ5aW5nIHZlYzIgdl9wb3MwO3ZhcnlpbmcgdmVjMiB2X3BvczE7dW5pZm9ybSBmbG9hdCB1X2JyaWdodG5lc3NfbG93O3VuaWZvcm0gZmxvYXQgdV9icmlnaHRuZXNzX2hpZ2g7dW5pZm9ybSBmbG9hdCB1X3NhdHVyYXRpb25fZmFjdG9yO3VuaWZvcm0gZmxvYXQgdV9jb250cmFzdF9mYWN0b3I7dW5pZm9ybSB2ZWMzIHVfc3Bpbl93ZWlnaHRzO3ZvaWQgbWFpbigpIHt2ZWM0IGNvbG9yMD10ZXh0dXJlMkQodV9pbWFnZTAsdl9wb3MwKTt2ZWM0IGNvbG9yMT10ZXh0dXJlMkQodV9pbWFnZTEsdl9wb3MxKTtpZiAoY29sb3IwLmEgPiAwLjApIHtjb2xvcjAucmdiPWNvbG9yMC5yZ2IvY29sb3IwLmE7fWlmIChjb2xvcjEuYSA+IDAuMCkge2NvbG9yMS5yZ2I9Y29sb3IxLnJnYi9jb2xvcjEuYTt9dmVjNCBjb2xvcj1taXgoY29sb3IwLGNvbG9yMSx1X2ZhZGVfdCk7Y29sb3IuYSo9dV9vcGFjaXR5O3ZlYzMgcmdiPWNvbG9yLnJnYjtyZ2I9dmVjMyhkb3QocmdiLHVfc3Bpbl93ZWlnaHRzLnh5eiksZG90KHJnYix1X3NwaW5fd2VpZ2h0cy56eHkpLGRvdChyZ2IsdV9zcGluX3dlaWdodHMueXp4KSk7ZmxvYXQgYXZlcmFnZT0oY29sb3Iucitjb2xvci5nK2NvbG9yLmIpLzMuMDtyZ2IrPShhdmVyYWdlLXJnYikqdV9zYXR1cmF0aW9uX2ZhY3RvcjtyZ2I9KHJnYi0wLjUpKnVfY29udHJhc3RfZmFjdG9yKzAuNTt2ZWMzIHVfaGlnaF92ZWM9dmVjMyh1X2JyaWdodG5lc3NfbG93LHVfYnJpZ2h0bmVzc19sb3csdV9icmlnaHRuZXNzX2xvdyk7dmVjMyB1X2xvd192ZWM9dmVjMyh1X2JyaWdodG5lc3NfaGlnaCx1X2JyaWdodG5lc3NfaGlnaCx1X2JyaWdodG5lc3NfaGlnaCk7Z2xfRnJhZ0NvbG9yPXZlYzQobWl4KHVfaGlnaF92ZWMsdV9sb3dfdmVjLHJnYikqY29sb3IuYSxjb2xvci5hKTtcbiNpZmRlZiBPVkVSRFJBV19JTlNQRUNUT1JcbmdsX0ZyYWdDb2xvcj12ZWM0KDEuMCk7XG4jZW5kaWZcbn0iLCJ1bmlmb3JtIG1hdDQgdV9tYXRyaXg7dW5pZm9ybSB2ZWMyIHVfdGxfcGFyZW50O3VuaWZvcm0gZmxvYXQgdV9zY2FsZV9wYXJlbnQ7dW5pZm9ybSBmbG9hdCB1X2J1ZmZlcl9zY2FsZTthdHRyaWJ1dGUgdmVjMiBhX3BvczthdHRyaWJ1dGUgdmVjMiBhX3RleHR1cmVfcG9zO3ZhcnlpbmcgdmVjMiB2X3BvczA7dmFyeWluZyB2ZWMyIHZfcG9zMTt2b2lkIG1haW4oKSB7Z2xfUG9zaXRpb249dV9tYXRyaXgqdmVjNChhX3BvcywwLDEpO3ZfcG9zMD0oKChhX3RleHR1cmVfcG9zLzgxOTIuMCktMC41KS91X2J1ZmZlcl9zY2FsZSApKzAuNTt2X3BvczE9KHZfcG9zMCp1X3NjYWxlX3BhcmVudCkrdV90bF9wYXJlbnQ7fSIpLF9pPWdpKCJ1bmlmb3JtIHNhbXBsZXIyRCB1X3RleHR1cmU7dmFyeWluZyB2ZWMyIHZfdGV4O3ZhcnlpbmcgZmxvYXQgdl9mYWRlX29wYWNpdHk7XG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgb3BhY2l0eVxudm9pZCBtYWluKCkge1xuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBvcGFjaXR5XG5sb3dwIGZsb2F0IGFscGhhPW9wYWNpdHkqdl9mYWRlX29wYWNpdHk7Z2xfRnJhZ0NvbG9yPXRleHR1cmUyRCh1X3RleHR1cmUsdl90ZXgpKmFscGhhO1xuI2lmZGVmIE9WRVJEUkFXX0lOU1BFQ1RPUlxuZ2xfRnJhZ0NvbG9yPXZlYzQoMS4wKTtcbiNlbmRpZlxufSIsImNvbnN0IGZsb2F0IFBJPTMuMTQxNTkyNjUzNTg5NzkzO2F0dHJpYnV0ZSB2ZWM0IGFfcG9zX29mZnNldDthdHRyaWJ1dGUgdmVjNCBhX2RhdGE7YXR0cmlidXRlIHZlYzQgYV9waXhlbG9mZnNldDthdHRyaWJ1dGUgdmVjMyBhX3Byb2plY3RlZF9wb3M7YXR0cmlidXRlIGZsb2F0IGFfZmFkZV9vcGFjaXR5O3VuaWZvcm0gYm9vbCB1X2lzX3NpemVfem9vbV9jb25zdGFudDt1bmlmb3JtIGJvb2wgdV9pc19zaXplX2ZlYXR1cmVfY29uc3RhbnQ7dW5pZm9ybSBoaWdocCBmbG9hdCB1X3NpemVfdDt1bmlmb3JtIGhpZ2hwIGZsb2F0IHVfc2l6ZTt1bmlmb3JtIGhpZ2hwIGZsb2F0IHVfY2FtZXJhX3RvX2NlbnRlcl9kaXN0YW5jZTt1bmlmb3JtIGhpZ2hwIGZsb2F0IHVfcGl0Y2g7dW5pZm9ybSBib29sIHVfcm90YXRlX3N5bWJvbDt1bmlmb3JtIGhpZ2hwIGZsb2F0IHVfYXNwZWN0X3JhdGlvO3VuaWZvcm0gZmxvYXQgdV9mYWRlX2NoYW5nZTt1bmlmb3JtIG1hdDQgdV9tYXRyaXg7dW5pZm9ybSBtYXQ0IHVfbGFiZWxfcGxhbmVfbWF0cml4O3VuaWZvcm0gbWF0NCB1X2Nvb3JkX21hdHJpeDt1bmlmb3JtIGJvb2wgdV9pc190ZXh0O3VuaWZvcm0gYm9vbCB1X3BpdGNoX3dpdGhfbWFwO3VuaWZvcm0gdmVjMiB1X3RleHNpemU7dmFyeWluZyB2ZWMyIHZfdGV4O3ZhcnlpbmcgZmxvYXQgdl9mYWRlX29wYWNpdHk7XG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgb3BhY2l0eVxudm9pZCBtYWluKCkge1xuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBvcGFjaXR5XG52ZWMyIGFfcG9zPWFfcG9zX29mZnNldC54eTt2ZWMyIGFfb2Zmc2V0PWFfcG9zX29mZnNldC56dzt2ZWMyIGFfdGV4PWFfZGF0YS54eTt2ZWMyIGFfc2l6ZT1hX2RhdGEuenc7ZmxvYXQgYV9zaXplX21pbj1mbG9vcihhX3NpemVbMF0qMC41KTt2ZWMyIGFfcHhvZmZzZXQ9YV9waXhlbG9mZnNldC54eTt2ZWMyIGFfbWluRm9udFNjYWxlPWFfcGl4ZWxvZmZzZXQuencvMjU2LjA7aGlnaHAgZmxvYXQgc2VnbWVudF9hbmdsZT0tYV9wcm9qZWN0ZWRfcG9zWzJdO2Zsb2F0IHNpemU7aWYgKCF1X2lzX3NpemVfem9vbV9jb25zdGFudCAmJiAhdV9pc19zaXplX2ZlYXR1cmVfY29uc3RhbnQpIHtzaXplPW1peChhX3NpemVfbWluLGFfc2l6ZVsxXSx1X3NpemVfdCkvMTI4LjA7fSBlbHNlIGlmICh1X2lzX3NpemVfem9vbV9jb25zdGFudCAmJiAhdV9pc19zaXplX2ZlYXR1cmVfY29uc3RhbnQpIHtzaXplPWFfc2l6ZV9taW4vMTI4LjA7fSBlbHNlIHtzaXplPXVfc2l6ZTt9dmVjNCBwcm9qZWN0ZWRQb2ludD11X21hdHJpeCp2ZWM0KGFfcG9zLDAsMSk7aGlnaHAgZmxvYXQgY2FtZXJhX3RvX2FuY2hvcl9kaXN0YW5jZT1wcm9qZWN0ZWRQb2ludC53O2hpZ2hwIGZsb2F0IGRpc3RhbmNlX3JhdGlvPXVfcGl0Y2hfd2l0aF9tYXAgP1xuY2FtZXJhX3RvX2FuY2hvcl9kaXN0YW5jZS91X2NhbWVyYV90b19jZW50ZXJfZGlzdGFuY2UgOlxudV9jYW1lcmFfdG9fY2VudGVyX2Rpc3RhbmNlL2NhbWVyYV90b19hbmNob3JfZGlzdGFuY2U7aGlnaHAgZmxvYXQgcGVyc3BlY3RpdmVfcmF0aW89Y2xhbXAoMC41KzAuNSpkaXN0YW5jZV9yYXRpbywwLjAsNC4wKTtzaXplKj1wZXJzcGVjdGl2ZV9yYXRpbztmbG9hdCBmb250U2NhbGU9dV9pc190ZXh0ID8gc2l6ZS8yNC4wIDogc2l6ZTtoaWdocCBmbG9hdCBzeW1ib2xfcm90YXRpb249MC4wO2lmICh1X3JvdGF0ZV9zeW1ib2wpIHt2ZWM0IG9mZnNldFByb2plY3RlZFBvaW50PXVfbWF0cml4KnZlYzQoYV9wb3MrdmVjMigxLDApLDAsMSk7dmVjMiBhPXByb2plY3RlZFBvaW50Lnh5L3Byb2plY3RlZFBvaW50Lnc7dmVjMiBiPW9mZnNldFByb2plY3RlZFBvaW50Lnh5L29mZnNldFByb2plY3RlZFBvaW50Lnc7c3ltYm9sX3JvdGF0aW9uPWF0YW4oKGIueS1hLnkpL3VfYXNwZWN0X3JhdGlvLGIueC1hLngpO31oaWdocCBmbG9hdCBhbmdsZV9zaW49c2luKHNlZ21lbnRfYW5nbGUrc3ltYm9sX3JvdGF0aW9uKTtoaWdocCBmbG9hdCBhbmdsZV9jb3M9Y29zKHNlZ21lbnRfYW5nbGUrc3ltYm9sX3JvdGF0aW9uKTttYXQyIHJvdGF0aW9uX21hdHJpeD1tYXQyKGFuZ2xlX2NvcywtMS4wKmFuZ2xlX3NpbixhbmdsZV9zaW4sYW5nbGVfY29zKTt2ZWM0IHByb2plY3RlZF9wb3M9dV9sYWJlbF9wbGFuZV9tYXRyaXgqdmVjNChhX3Byb2plY3RlZF9wb3MueHksMC4wLDEuMCk7Z2xfUG9zaXRpb249dV9jb29yZF9tYXRyaXgqdmVjNChwcm9qZWN0ZWRfcG9zLnh5L3Byb2plY3RlZF9wb3Mudytyb3RhdGlvbl9tYXRyaXgqKGFfb2Zmc2V0LzMyLjAqbWF4KGFfbWluRm9udFNjYWxlLGZvbnRTY2FsZSkrYV9weG9mZnNldC8xNi4wKSwwLjAsMS4wKTt2X3RleD1hX3RleC91X3RleHNpemU7dmVjMiBmYWRlX29wYWNpdHk9dW5wYWNrX29wYWNpdHkoYV9mYWRlX29wYWNpdHkpO2Zsb2F0IGZhZGVfY2hhbmdlPWZhZGVfb3BhY2l0eVsxXSA+IDAuNSA/IHVfZmFkZV9jaGFuZ2UgOi11X2ZhZGVfY2hhbmdlO3ZfZmFkZV9vcGFjaXR5PW1heCgwLjAsbWluKDEuMCxmYWRlX29wYWNpdHlbMF0rZmFkZV9jaGFuZ2UpKTt9IiksZmk9Z2koIiNkZWZpbmUgU0RGX1BYIDguMFxudW5pZm9ybSBib29sIHVfaXNfaGFsbzt1bmlmb3JtIHNhbXBsZXIyRCB1X3RleHR1cmU7dW5pZm9ybSBoaWdocCBmbG9hdCB1X2dhbW1hX3NjYWxlO3VuaWZvcm0gbG93cCBmbG9hdCB1X2RldmljZV9waXhlbF9yYXRpbzt1bmlmb3JtIGJvb2wgdV9pc190ZXh0O3ZhcnlpbmcgdmVjMiB2X2RhdGEwO3ZhcnlpbmcgdmVjMyB2X2RhdGExO1xuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBoaWdocCB2ZWM0IGZpbGxfY29sb3JcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgaGlnaHAgdmVjNCBoYWxvX2NvbG9yXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgb3BhY2l0eVxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IGhhbG9fd2lkdGhcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBoYWxvX2JsdXJcbnZvaWQgbWFpbigpIHtcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGhpZ2hwIHZlYzQgZmlsbF9jb2xvclxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgaGlnaHAgdmVjNCBoYWxvX2NvbG9yXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IG9wYWNpdHlcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgaGFsb193aWR0aFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBoYWxvX2JsdXJcbmZsb2F0IEVER0VfR0FNTUE9MC4xMDUvdV9kZXZpY2VfcGl4ZWxfcmF0aW87dmVjMiB0ZXg9dl9kYXRhMC54eTtmbG9hdCBnYW1tYV9zY2FsZT12X2RhdGExLng7ZmxvYXQgc2l6ZT12X2RhdGExLnk7ZmxvYXQgZmFkZV9vcGFjaXR5PXZfZGF0YTFbMl07ZmxvYXQgZm9udFNjYWxlPXVfaXNfdGV4dCA/IHNpemUvMjQuMCA6IHNpemU7bG93cCB2ZWM0IGNvbG9yPWZpbGxfY29sb3I7aGlnaHAgZmxvYXQgZ2FtbWE9RURHRV9HQU1NQS8oZm9udFNjYWxlKnVfZ2FtbWFfc2NhbGUpO2xvd3AgZmxvYXQgYnVmZj0oMjU2LjAtNjQuMCkvMjU2LjA7aWYgKHVfaXNfaGFsbykge2NvbG9yPWhhbG9fY29sb3I7Z2FtbWE9KGhhbG9fYmx1cioxLjE5L1NERl9QWCtFREdFX0dBTU1BKS8oZm9udFNjYWxlKnVfZ2FtbWFfc2NhbGUpO2J1ZmY9KDYuMC1oYWxvX3dpZHRoL2ZvbnRTY2FsZSkvU0RGX1BYO31sb3dwIGZsb2F0IGRpc3Q9dGV4dHVyZTJEKHVfdGV4dHVyZSx0ZXgpLmE7aGlnaHAgZmxvYXQgZ2FtbWFfc2NhbGVkPWdhbW1hKmdhbW1hX3NjYWxlO2hpZ2hwIGZsb2F0IGFscGhhPXNtb290aHN0ZXAoYnVmZi1nYW1tYV9zY2FsZWQsYnVmZitnYW1tYV9zY2FsZWQsZGlzdCk7Z2xfRnJhZ0NvbG9yPWNvbG9yKihhbHBoYSpvcGFjaXR5KmZhZGVfb3BhY2l0eSk7XG4jaWZkZWYgT1ZFUkRSQVdfSU5TUEVDVE9SXG5nbF9GcmFnQ29sb3I9dmVjNCgxLjApO1xuI2VuZGlmXG59IiwiY29uc3QgZmxvYXQgUEk9My4xNDE1OTI2NTM1ODk3OTM7YXR0cmlidXRlIHZlYzQgYV9wb3Nfb2Zmc2V0O2F0dHJpYnV0ZSB2ZWM0IGFfZGF0YTthdHRyaWJ1dGUgdmVjNCBhX3BpeGVsb2Zmc2V0O2F0dHJpYnV0ZSB2ZWMzIGFfcHJvamVjdGVkX3BvczthdHRyaWJ1dGUgZmxvYXQgYV9mYWRlX29wYWNpdHk7dW5pZm9ybSBib29sIHVfaXNfc2l6ZV96b29tX2NvbnN0YW50O3VuaWZvcm0gYm9vbCB1X2lzX3NpemVfZmVhdHVyZV9jb25zdGFudDt1bmlmb3JtIGhpZ2hwIGZsb2F0IHVfc2l6ZV90O3VuaWZvcm0gaGlnaHAgZmxvYXQgdV9zaXplO3VuaWZvcm0gbWF0NCB1X21hdHJpeDt1bmlmb3JtIG1hdDQgdV9sYWJlbF9wbGFuZV9tYXRyaXg7dW5pZm9ybSBtYXQ0IHVfY29vcmRfbWF0cml4O3VuaWZvcm0gYm9vbCB1X2lzX3RleHQ7dW5pZm9ybSBib29sIHVfcGl0Y2hfd2l0aF9tYXA7dW5pZm9ybSBoaWdocCBmbG9hdCB1X3BpdGNoO3VuaWZvcm0gYm9vbCB1X3JvdGF0ZV9zeW1ib2w7dW5pZm9ybSBoaWdocCBmbG9hdCB1X2FzcGVjdF9yYXRpbzt1bmlmb3JtIGhpZ2hwIGZsb2F0IHVfY2FtZXJhX3RvX2NlbnRlcl9kaXN0YW5jZTt1bmlmb3JtIGZsb2F0IHVfZmFkZV9jaGFuZ2U7dW5pZm9ybSB2ZWMyIHVfdGV4c2l6ZTt2YXJ5aW5nIHZlYzIgdl9kYXRhMDt2YXJ5aW5nIHZlYzMgdl9kYXRhMTtcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgaGlnaHAgdmVjNCBmaWxsX2NvbG9yXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGhpZ2hwIHZlYzQgaGFsb19jb2xvclxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IG9wYWNpdHlcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBoYWxvX3dpZHRoXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgaGFsb19ibHVyXG52b2lkIG1haW4oKSB7XG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBoaWdocCB2ZWM0IGZpbGxfY29sb3JcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGhpZ2hwIHZlYzQgaGFsb19jb2xvclxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBvcGFjaXR5XG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IGhhbG9fd2lkdGhcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgaGFsb19ibHVyXG52ZWMyIGFfcG9zPWFfcG9zX29mZnNldC54eTt2ZWMyIGFfb2Zmc2V0PWFfcG9zX29mZnNldC56dzt2ZWMyIGFfdGV4PWFfZGF0YS54eTt2ZWMyIGFfc2l6ZT1hX2RhdGEuenc7ZmxvYXQgYV9zaXplX21pbj1mbG9vcihhX3NpemVbMF0qMC41KTt2ZWMyIGFfcHhvZmZzZXQ9YV9waXhlbG9mZnNldC54eTtoaWdocCBmbG9hdCBzZWdtZW50X2FuZ2xlPS1hX3Byb2plY3RlZF9wb3NbMl07ZmxvYXQgc2l6ZTtpZiAoIXVfaXNfc2l6ZV96b29tX2NvbnN0YW50ICYmICF1X2lzX3NpemVfZmVhdHVyZV9jb25zdGFudCkge3NpemU9bWl4KGFfc2l6ZV9taW4sYV9zaXplWzFdLHVfc2l6ZV90KS8xMjguMDt9IGVsc2UgaWYgKHVfaXNfc2l6ZV96b29tX2NvbnN0YW50ICYmICF1X2lzX3NpemVfZmVhdHVyZV9jb25zdGFudCkge3NpemU9YV9zaXplX21pbi8xMjguMDt9IGVsc2Uge3NpemU9dV9zaXplO312ZWM0IHByb2plY3RlZFBvaW50PXVfbWF0cml4KnZlYzQoYV9wb3MsMCwxKTtoaWdocCBmbG9hdCBjYW1lcmFfdG9fYW5jaG9yX2Rpc3RhbmNlPXByb2plY3RlZFBvaW50Lnc7aGlnaHAgZmxvYXQgZGlzdGFuY2VfcmF0aW89dV9waXRjaF93aXRoX21hcCA/XG5jYW1lcmFfdG9fYW5jaG9yX2Rpc3RhbmNlL3VfY2FtZXJhX3RvX2NlbnRlcl9kaXN0YW5jZSA6XG51X2NhbWVyYV90b19jZW50ZXJfZGlzdGFuY2UvY2FtZXJhX3RvX2FuY2hvcl9kaXN0YW5jZTtoaWdocCBmbG9hdCBwZXJzcGVjdGl2ZV9yYXRpbz1jbGFtcCgwLjUrMC41KmRpc3RhbmNlX3JhdGlvLDAuMCw0LjApO3NpemUqPXBlcnNwZWN0aXZlX3JhdGlvO2Zsb2F0IGZvbnRTY2FsZT11X2lzX3RleHQgPyBzaXplLzI0LjAgOiBzaXplO2hpZ2hwIGZsb2F0IHN5bWJvbF9yb3RhdGlvbj0wLjA7aWYgKHVfcm90YXRlX3N5bWJvbCkge3ZlYzQgb2Zmc2V0UHJvamVjdGVkUG9pbnQ9dV9tYXRyaXgqdmVjNChhX3Bvcyt2ZWMyKDEsMCksMCwxKTt2ZWMyIGE9cHJvamVjdGVkUG9pbnQueHkvcHJvamVjdGVkUG9pbnQudzt2ZWMyIGI9b2Zmc2V0UHJvamVjdGVkUG9pbnQueHkvb2Zmc2V0UHJvamVjdGVkUG9pbnQudztzeW1ib2xfcm90YXRpb249YXRhbigoYi55LWEueSkvdV9hc3BlY3RfcmF0aW8sYi54LWEueCk7fWhpZ2hwIGZsb2F0IGFuZ2xlX3Npbj1zaW4oc2VnbWVudF9hbmdsZStzeW1ib2xfcm90YXRpb24pO2hpZ2hwIGZsb2F0IGFuZ2xlX2Nvcz1jb3Moc2VnbWVudF9hbmdsZStzeW1ib2xfcm90YXRpb24pO21hdDIgcm90YXRpb25fbWF0cml4PW1hdDIoYW5nbGVfY29zLC0xLjAqYW5nbGVfc2luLGFuZ2xlX3NpbixhbmdsZV9jb3MpO3ZlYzQgcHJvamVjdGVkX3Bvcz11X2xhYmVsX3BsYW5lX21hdHJpeCp2ZWM0KGFfcHJvamVjdGVkX3Bvcy54eSwwLjAsMS4wKTtnbF9Qb3NpdGlvbj11X2Nvb3JkX21hdHJpeCp2ZWM0KHByb2plY3RlZF9wb3MueHkvcHJvamVjdGVkX3Bvcy53K3JvdGF0aW9uX21hdHJpeCooYV9vZmZzZXQvMzIuMCpmb250U2NhbGUrYV9weG9mZnNldCksMC4wLDEuMCk7ZmxvYXQgZ2FtbWFfc2NhbGU9Z2xfUG9zaXRpb24udzt2ZWMyIGZhZGVfb3BhY2l0eT11bnBhY2tfb3BhY2l0eShhX2ZhZGVfb3BhY2l0eSk7ZmxvYXQgZmFkZV9jaGFuZ2U9ZmFkZV9vcGFjaXR5WzFdID4gMC41ID8gdV9mYWRlX2NoYW5nZSA6LXVfZmFkZV9jaGFuZ2U7ZmxvYXQgaW50ZXJwb2xhdGVkX2ZhZGVfb3BhY2l0eT1tYXgoMC4wLG1pbigxLjAsZmFkZV9vcGFjaXR5WzBdK2ZhZGVfY2hhbmdlKSk7dl9kYXRhMD1hX3RleC91X3RleHNpemU7dl9kYXRhMT12ZWMzKGdhbW1hX3NjYWxlLHNpemUsaW50ZXJwb2xhdGVkX2ZhZGVfb3BhY2l0eSk7fSIpLG1pPWdpKCIjZGVmaW5lIFNERl9QWCA4LjBcbiNkZWZpbmUgU0RGIDEuMFxuI2RlZmluZSBJQ09OIDAuMFxudW5pZm9ybSBib29sIHVfaXNfaGFsbzt1bmlmb3JtIHNhbXBsZXIyRCB1X3RleHR1cmU7dW5pZm9ybSBzYW1wbGVyMkQgdV90ZXh0dXJlX2ljb247dW5pZm9ybSBoaWdocCBmbG9hdCB1X2dhbW1hX3NjYWxlO3VuaWZvcm0gbG93cCBmbG9hdCB1X2RldmljZV9waXhlbF9yYXRpbzt2YXJ5aW5nIHZlYzQgdl9kYXRhMDt2YXJ5aW5nIHZlYzQgdl9kYXRhMTtcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgaGlnaHAgdmVjNCBmaWxsX2NvbG9yXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGhpZ2hwIHZlYzQgaGFsb19jb2xvclxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IG9wYWNpdHlcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBoYWxvX3dpZHRoXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgaGFsb19ibHVyXG52b2lkIG1haW4oKSB7XG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBoaWdocCB2ZWM0IGZpbGxfY29sb3JcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGhpZ2hwIHZlYzQgaGFsb19jb2xvclxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBvcGFjaXR5XG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IGhhbG9fd2lkdGhcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgaGFsb19ibHVyXG5mbG9hdCBmYWRlX29wYWNpdHk9dl9kYXRhMVsyXTtpZiAodl9kYXRhMS53PT1JQ09OKSB7dmVjMiB0ZXhfaWNvbj12X2RhdGEwLnp3O2xvd3AgZmxvYXQgYWxwaGE9b3BhY2l0eSpmYWRlX29wYWNpdHk7Z2xfRnJhZ0NvbG9yPXRleHR1cmUyRCh1X3RleHR1cmVfaWNvbix0ZXhfaWNvbikqYWxwaGE7XG4jaWZkZWYgT1ZFUkRSQVdfSU5TUEVDVE9SXG5nbF9GcmFnQ29sb3I9dmVjNCgxLjApO1xuI2VuZGlmXG5yZXR1cm47fXZlYzIgdGV4PXZfZGF0YTAueHk7ZmxvYXQgRURHRV9HQU1NQT0wLjEwNS91X2RldmljZV9waXhlbF9yYXRpbztmbG9hdCBnYW1tYV9zY2FsZT12X2RhdGExLng7ZmxvYXQgc2l6ZT12X2RhdGExLnk7ZmxvYXQgZm9udFNjYWxlPXNpemUvMjQuMDtsb3dwIHZlYzQgY29sb3I9ZmlsbF9jb2xvcjtoaWdocCBmbG9hdCBnYW1tYT1FREdFX0dBTU1BLyhmb250U2NhbGUqdV9nYW1tYV9zY2FsZSk7bG93cCBmbG9hdCBidWZmPSgyNTYuMC02NC4wKS8yNTYuMDtpZiAodV9pc19oYWxvKSB7Y29sb3I9aGFsb19jb2xvcjtnYW1tYT0oaGFsb19ibHVyKjEuMTkvU0RGX1BYK0VER0VfR0FNTUEpLyhmb250U2NhbGUqdV9nYW1tYV9zY2FsZSk7YnVmZj0oNi4wLWhhbG9fd2lkdGgvZm9udFNjYWxlKS9TREZfUFg7fWxvd3AgZmxvYXQgZGlzdD10ZXh0dXJlMkQodV90ZXh0dXJlLHRleCkuYTtoaWdocCBmbG9hdCBnYW1tYV9zY2FsZWQ9Z2FtbWEqZ2FtbWFfc2NhbGU7aGlnaHAgZmxvYXQgYWxwaGE9c21vb3Roc3RlcChidWZmLWdhbW1hX3NjYWxlZCxidWZmK2dhbW1hX3NjYWxlZCxkaXN0KTtnbF9GcmFnQ29sb3I9Y29sb3IqKGFscGhhKm9wYWNpdHkqZmFkZV9vcGFjaXR5KTtcbiNpZmRlZiBPVkVSRFJBV19JTlNQRUNUT1JcbmdsX0ZyYWdDb2xvcj12ZWM0KDEuMCk7XG4jZW5kaWZcbn0iLCJjb25zdCBmbG9hdCBQST0zLjE0MTU5MjY1MzU4OTc5MzthdHRyaWJ1dGUgdmVjNCBhX3Bvc19vZmZzZXQ7YXR0cmlidXRlIHZlYzQgYV9kYXRhO2F0dHJpYnV0ZSB2ZWMzIGFfcHJvamVjdGVkX3BvczthdHRyaWJ1dGUgZmxvYXQgYV9mYWRlX29wYWNpdHk7dW5pZm9ybSBib29sIHVfaXNfc2l6ZV96b29tX2NvbnN0YW50O3VuaWZvcm0gYm9vbCB1X2lzX3NpemVfZmVhdHVyZV9jb25zdGFudDt1bmlmb3JtIGhpZ2hwIGZsb2F0IHVfc2l6ZV90O3VuaWZvcm0gaGlnaHAgZmxvYXQgdV9zaXplO3VuaWZvcm0gbWF0NCB1X21hdHJpeDt1bmlmb3JtIG1hdDQgdV9sYWJlbF9wbGFuZV9tYXRyaXg7dW5pZm9ybSBtYXQ0IHVfY29vcmRfbWF0cml4O3VuaWZvcm0gYm9vbCB1X2lzX3RleHQ7dW5pZm9ybSBib29sIHVfcGl0Y2hfd2l0aF9tYXA7dW5pZm9ybSBoaWdocCBmbG9hdCB1X3BpdGNoO3VuaWZvcm0gYm9vbCB1X3JvdGF0ZV9zeW1ib2w7dW5pZm9ybSBoaWdocCBmbG9hdCB1X2FzcGVjdF9yYXRpbzt1bmlmb3JtIGhpZ2hwIGZsb2F0IHVfY2FtZXJhX3RvX2NlbnRlcl9kaXN0YW5jZTt1bmlmb3JtIGZsb2F0IHVfZmFkZV9jaGFuZ2U7dW5pZm9ybSB2ZWMyIHVfdGV4c2l6ZTt1bmlmb3JtIHZlYzIgdV90ZXhzaXplX2ljb247dmFyeWluZyB2ZWM0IHZfZGF0YTA7dmFyeWluZyB2ZWM0IHZfZGF0YTE7XG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGhpZ2hwIHZlYzQgZmlsbF9jb2xvclxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBoaWdocCB2ZWM0IGhhbG9fY29sb3JcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBvcGFjaXR5XG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgaGFsb193aWR0aFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IGhhbG9fYmx1clxudm9pZCBtYWluKCkge1xuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgaGlnaHAgdmVjNCBmaWxsX2NvbG9yXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBoaWdocCB2ZWM0IGhhbG9fY29sb3JcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgb3BhY2l0eVxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBoYWxvX3dpZHRoXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IGhhbG9fYmx1clxudmVjMiBhX3Bvcz1hX3Bvc19vZmZzZXQueHk7dmVjMiBhX29mZnNldD1hX3Bvc19vZmZzZXQuenc7dmVjMiBhX3RleD1hX2RhdGEueHk7dmVjMiBhX3NpemU9YV9kYXRhLnp3O2Zsb2F0IGFfc2l6ZV9taW49Zmxvb3IoYV9zaXplWzBdKjAuNSk7ZmxvYXQgaXNfc2RmPWFfc2l6ZVswXS0yLjAqYV9zaXplX21pbjtoaWdocCBmbG9hdCBzZWdtZW50X2FuZ2xlPS1hX3Byb2plY3RlZF9wb3NbMl07ZmxvYXQgc2l6ZTtpZiAoIXVfaXNfc2l6ZV96b29tX2NvbnN0YW50ICYmICF1X2lzX3NpemVfZmVhdHVyZV9jb25zdGFudCkge3NpemU9bWl4KGFfc2l6ZV9taW4sYV9zaXplWzFdLHVfc2l6ZV90KS8xMjguMDt9IGVsc2UgaWYgKHVfaXNfc2l6ZV96b29tX2NvbnN0YW50ICYmICF1X2lzX3NpemVfZmVhdHVyZV9jb25zdGFudCkge3NpemU9YV9zaXplX21pbi8xMjguMDt9IGVsc2Uge3NpemU9dV9zaXplO312ZWM0IHByb2plY3RlZFBvaW50PXVfbWF0cml4KnZlYzQoYV9wb3MsMCwxKTtoaWdocCBmbG9hdCBjYW1lcmFfdG9fYW5jaG9yX2Rpc3RhbmNlPXByb2plY3RlZFBvaW50Lnc7aGlnaHAgZmxvYXQgZGlzdGFuY2VfcmF0aW89dV9waXRjaF93aXRoX21hcCA/XG5jYW1lcmFfdG9fYW5jaG9yX2Rpc3RhbmNlL3VfY2FtZXJhX3RvX2NlbnRlcl9kaXN0YW5jZSA6XG51X2NhbWVyYV90b19jZW50ZXJfZGlzdGFuY2UvY2FtZXJhX3RvX2FuY2hvcl9kaXN0YW5jZTtoaWdocCBmbG9hdCBwZXJzcGVjdGl2ZV9yYXRpbz1jbGFtcCgwLjUrMC41KmRpc3RhbmNlX3JhdGlvLDAuMCw0LjApO3NpemUqPXBlcnNwZWN0aXZlX3JhdGlvO2Zsb2F0IGZvbnRTY2FsZT1zaXplLzI0LjA7aGlnaHAgZmxvYXQgc3ltYm9sX3JvdGF0aW9uPTAuMDtpZiAodV9yb3RhdGVfc3ltYm9sKSB7dmVjNCBvZmZzZXRQcm9qZWN0ZWRQb2ludD11X21hdHJpeCp2ZWM0KGFfcG9zK3ZlYzIoMSwwKSwwLDEpO3ZlYzIgYT1wcm9qZWN0ZWRQb2ludC54eS9wcm9qZWN0ZWRQb2ludC53O3ZlYzIgYj1vZmZzZXRQcm9qZWN0ZWRQb2ludC54eS9vZmZzZXRQcm9qZWN0ZWRQb2ludC53O3N5bWJvbF9yb3RhdGlvbj1hdGFuKChiLnktYS55KS91X2FzcGVjdF9yYXRpbyxiLngtYS54KTt9aGlnaHAgZmxvYXQgYW5nbGVfc2luPXNpbihzZWdtZW50X2FuZ2xlK3N5bWJvbF9yb3RhdGlvbik7aGlnaHAgZmxvYXQgYW5nbGVfY29zPWNvcyhzZWdtZW50X2FuZ2xlK3N5bWJvbF9yb3RhdGlvbik7bWF0MiByb3RhdGlvbl9tYXRyaXg9bWF0MihhbmdsZV9jb3MsLTEuMCphbmdsZV9zaW4sYW5nbGVfc2luLGFuZ2xlX2Nvcyk7dmVjNCBwcm9qZWN0ZWRfcG9zPXVfbGFiZWxfcGxhbmVfbWF0cml4KnZlYzQoYV9wcm9qZWN0ZWRfcG9zLnh5LDAuMCwxLjApO2dsX1Bvc2l0aW9uPXVfY29vcmRfbWF0cml4KnZlYzQocHJvamVjdGVkX3Bvcy54eS9wcm9qZWN0ZWRfcG9zLncrcm90YXRpb25fbWF0cml4KihhX29mZnNldC8zMi4wKmZvbnRTY2FsZSksMC4wLDEuMCk7ZmxvYXQgZ2FtbWFfc2NhbGU9Z2xfUG9zaXRpb24udzt2ZWMyIGZhZGVfb3BhY2l0eT11bnBhY2tfb3BhY2l0eShhX2ZhZGVfb3BhY2l0eSk7ZmxvYXQgZmFkZV9jaGFuZ2U9ZmFkZV9vcGFjaXR5WzFdID4gMC41ID8gdV9mYWRlX2NoYW5nZSA6LXVfZmFkZV9jaGFuZ2U7ZmxvYXQgaW50ZXJwb2xhdGVkX2ZhZGVfb3BhY2l0eT1tYXgoMC4wLG1pbigxLjAsZmFkZV9vcGFjaXR5WzBdK2ZhZGVfY2hhbmdlKSk7dl9kYXRhMC54eT1hX3RleC91X3RleHNpemU7dl9kYXRhMC56dz1hX3RleC91X3RleHNpemVfaWNvbjt2X2RhdGExPXZlYzQoZ2FtbWFfc2NhbGUsc2l6ZSxpbnRlcnBvbGF0ZWRfZmFkZV9vcGFjaXR5LGlzX3NkZik7fSIpO2Z1bmN0aW9uIGdpKHQsZSl7dmFyIGk9LyNwcmFnbWEgbWFwYm94OiAoW1x3XSspIChbXHddKykgKFtcd10rKSAoW1x3XSspL2csbz17fTtyZXR1cm4ge2ZyYWdtZW50U291cmNlOnQ9dC5yZXBsYWNlKGksKGZ1bmN0aW9uKHQsZSxpLHIsYSl7cmV0dXJuIG9bYV09ITAsImRlZmluZSI9PT1lPyJcbiNpZm5kZWYgSEFTX1VOSUZPUk1fdV8iK2ErIlxudmFyeWluZyAiK2krIiAiK3IrIiAiK2ErIjtcbiNlbHNlXG51bmlmb3JtICIraSsiICIrcisiIHVfIithKyI7XG4jZW5kaWZcbiI6IlxuI2lmZGVmIEhBU19VTklGT1JNX3VfIithKyJcbiAgICAiK2krIiAiK3IrIiAiK2ErIiA9IHVfIithKyI7XG4jZW5kaWZcbiJ9KSksdmVydGV4U291cmNlOmU9ZS5yZXBsYWNlKGksKGZ1bmN0aW9uKHQsZSxpLHIsYSl7dmFyIG49ImZsb2F0Ij09PXI/InZlYzIiOiJ2ZWM0IixzPWEubWF0Y2goL2NvbG9yLyk/ImNvbG9yIjpuO3JldHVybiBvW2FdPyJkZWZpbmUiPT09ZT8iXG4jaWZuZGVmIEhBU19VTklGT1JNX3VfIithKyJcbnVuaWZvcm0gbG93cCBmbG9hdCB1XyIrYSsiX3Q7XG5hdHRyaWJ1dGUgIitpKyIgIituKyIgYV8iK2ErIjtcbnZhcnlpbmcgIitpKyIgIityKyIgIithKyI7XG4jZWxzZVxudW5pZm9ybSAiK2krIiAiK3IrIiB1XyIrYSsiO1xuI2VuZGlmXG4iOiJ2ZWM0Ij09PXM/IlxuI2lmbmRlZiBIQVNfVU5JRk9STV91XyIrYSsiXG4gICAgIithKyIgPSBhXyIrYSsiO1xuI2Vsc2VcbiAgICAiK2krIiAiK3IrIiAiK2ErIiA9IHVfIithKyI7XG4jZW5kaWZcbiI6IlxuI2lmbmRlZiBIQVNfVU5JRk9STV91XyIrYSsiXG4gICAgIithKyIgPSB1bnBhY2tfbWl4XyIrcysiKGFfIithKyIsIHVfIithKyJfdCk7XG4jZWxzZVxuICAgICIraSsiICIrcisiICIrYSsiID0gdV8iK2ErIjtcbiNlbmRpZlxuIjoiZGVmaW5lIj09PWU/IlxuI2lmbmRlZiBIQVNfVU5JRk9STV91XyIrYSsiXG51bmlmb3JtIGxvd3AgZmxvYXQgdV8iK2ErIl90O1xuYXR0cmlidXRlICIraSsiICIrbisiIGFfIithKyI7XG4jZWxzZVxudW5pZm9ybSAiK2krIiAiK3IrIiB1XyIrYSsiO1xuI2VuZGlmXG4iOiJ2ZWM0Ij09PXM/IlxuI2lmbmRlZiBIQVNfVU5JRk9STV91XyIrYSsiXG4gICAgIitpKyIgIityKyIgIithKyIgPSBhXyIrYSsiO1xuI2Vsc2VcbiAgICAiK2krIiAiK3IrIiAiK2ErIiA9IHVfIithKyI7XG4jZW5kaWZcbiI6IlxuI2lmbmRlZiBIQVNfVU5JRk9STV91XyIrYSsiXG4gICAgIitpKyIgIityKyIgIithKyIgPSB1bnBhY2tfbWl4XyIrcysiKGFfIithKyIsIHVfIithKyJfdCk7XG4jZWxzZVxuICAgICIraSsiICIrcisiICIrYSsiID0gdV8iK2ErIjtcbiNlbmRpZlxuIn0pKX19dmFyIHZpPU9iamVjdC5mcmVlemUoe19fcHJvdG9fXzpudWxsLHByZWx1ZGU6R2UsYmFja2dyb3VuZDpXZSxiYWNrZ3JvdW5kUGF0dGVybjpYZSxjaXJjbGU6SGUsY2xpcHBpbmdNYXNrOktlLGhlYXRtYXA6WWUsaGVhdG1hcFRleHR1cmU6SmUsY29sbGlzaW9uQm94OlFlLGNvbGxpc2lvbkNpcmNsZTokZSxkZWJ1Zzp0aSxmaWxsOmVpLGZpbGxPdXRsaW5lOmlpLGZpbGxPdXRsaW5lUGF0dGVybjpvaSxmaWxsUGF0dGVybjpyaSxmaWxsRXh0cnVzaW9uOmFpLGZpbGxFeHRydXNpb25QYXR0ZXJuOm5pLGhpbGxzaGFkZVByZXBhcmU6c2ksaGlsbHNoYWRlOmxpLGxpbmU6Y2ksbGluZUdyYWRpZW50OnVpLGxpbmVQYXR0ZXJuOmhpLGxpbmVTREY6cGkscmFzdGVyOmRpLHN5bWJvbEljb246X2ksc3ltYm9sU0RGOmZpLHN5bWJvbFRleHRBbmRJY29uOm1pfSkseWk9ZnVuY3Rpb24oKXt0aGlzLmJvdW5kUHJvZ3JhbT1udWxsLHRoaXMuYm91bmRMYXlvdXRWZXJ0ZXhCdWZmZXI9bnVsbCx0aGlzLmJvdW5kUGFpbnRWZXJ0ZXhCdWZmZXJzPVtdLHRoaXMuYm91bmRJbmRleEJ1ZmZlcj1udWxsLHRoaXMuYm91bmRWZXJ0ZXhPZmZzZXQ9bnVsbCx0aGlzLmJvdW5kRHluYW1pY1ZlcnRleEJ1ZmZlcj1udWxsLHRoaXMudmFvPW51bGw7fTt5aS5wcm90b3R5cGUuYmluZD1mdW5jdGlvbih0LGUsaSxvLHIsYSxuLHMpe3RoaXMuY29udGV4dD10O2Zvcih2YXIgbD10aGlzLmJvdW5kUGFpbnRWZXJ0ZXhCdWZmZXJzLmxlbmd0aCE9PW8ubGVuZ3RoLGM9MDshbCYmYzxvLmxlbmd0aDtjKyspdGhpcy5ib3VuZFBhaW50VmVydGV4QnVmZmVyc1tjXSE9PW9bY10mJihsPSEwKTt0LmV4dFZlcnRleEFycmF5T2JqZWN0JiZ0aGlzLnZhbyYmdGhpcy5ib3VuZFByb2dyYW09PT1lJiZ0aGlzLmJvdW5kTGF5b3V0VmVydGV4QnVmZmVyPT09aSYmIWwmJnRoaXMuYm91bmRJbmRleEJ1ZmZlcj09PXImJnRoaXMuYm91bmRWZXJ0ZXhPZmZzZXQ9PT1hJiZ0aGlzLmJvdW5kRHluYW1pY1ZlcnRleEJ1ZmZlcj09PW4mJnRoaXMuYm91bmREeW5hbWljVmVydGV4QnVmZmVyMj09PXM/KHQuYmluZFZlcnRleEFycmF5T0VTLnNldCh0aGlzLnZhbyksbiYmbi5iaW5kKCksciYmci5keW5hbWljRHJhdyYmci5iaW5kKCkscyYmcy5iaW5kKCkpOnRoaXMuZnJlc2hCaW5kKGUsaSxvLHIsYSxuLHMpO30seWkucHJvdG90eXBlLmZyZXNoQmluZD1mdW5jdGlvbih0LGUsaSxvLHIsYSxuKXt2YXIgcyxsPXQubnVtQXR0cmlidXRlcyxjPXRoaXMuY29udGV4dCx1PWMuZ2w7aWYoYy5leHRWZXJ0ZXhBcnJheU9iamVjdCl0aGlzLnZhbyYmdGhpcy5kZXN0cm95KCksdGhpcy52YW89Yy5leHRWZXJ0ZXhBcnJheU9iamVjdC5jcmVhdGVWZXJ0ZXhBcnJheU9FUygpLGMuYmluZFZlcnRleEFycmF5T0VTLnNldCh0aGlzLnZhbykscz0wLHRoaXMuYm91bmRQcm9ncmFtPXQsdGhpcy5ib3VuZExheW91dFZlcnRleEJ1ZmZlcj1lLHRoaXMuYm91bmRQYWludFZlcnRleEJ1ZmZlcnM9aSx0aGlzLmJvdW5kSW5kZXhCdWZmZXI9byx0aGlzLmJvdW5kVmVydGV4T2Zmc2V0PXIsdGhpcy5ib3VuZER5bmFtaWNWZXJ0ZXhCdWZmZXI9YSx0aGlzLmJvdW5kRHluYW1pY1ZlcnRleEJ1ZmZlcjI9bjtlbHNlIHtzPWMuY3VycmVudE51bUF0dHJpYnV0ZXN8fDA7Zm9yKHZhciBoPWw7aDxzO2grKyl1LmRpc2FibGVWZXJ0ZXhBdHRyaWJBcnJheShoKTt9ZS5lbmFibGVBdHRyaWJ1dGVzKHUsdCk7Zm9yKHZhciBwPTAsZD1pO3A8ZC5sZW5ndGg7cCs9MSlkW3BdLmVuYWJsZUF0dHJpYnV0ZXModSx0KTthJiZhLmVuYWJsZUF0dHJpYnV0ZXModSx0KSxuJiZuLmVuYWJsZUF0dHJpYnV0ZXModSx0KSxlLmJpbmQoKSxlLnNldFZlcnRleEF0dHJpYlBvaW50ZXJzKHUsdCxyKTtmb3IodmFyIF89MCxmPWk7XzxmLmxlbmd0aDtfKz0xKXt2YXIgbT1mW19dO20uYmluZCgpLG0uc2V0VmVydGV4QXR0cmliUG9pbnRlcnModSx0LHIpO31hJiYoYS5iaW5kKCksYS5zZXRWZXJ0ZXhBdHRyaWJQb2ludGVycyh1LHQscikpLG8mJm8uYmluZCgpLG4mJihuLmJpbmQoKSxuLnNldFZlcnRleEF0dHJpYlBvaW50ZXJzKHUsdCxyKSksYy5jdXJyZW50TnVtQXR0cmlidXRlcz1sO30seWkucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLnZhbyYmKHRoaXMuY29udGV4dC5leHRWZXJ0ZXhBcnJheU9iamVjdC5kZWxldGVWZXJ0ZXhBcnJheU9FUyh0aGlzLnZhbyksdGhpcy52YW89bnVsbCk7fTt2YXIgeGk9ZnVuY3Rpb24odCxlLGksbyxyKXt2YXIgYT10LmdsO3RoaXMucHJvZ3JhbT1hLmNyZWF0ZVByb2dyYW0oKTt2YXIgbj1pP2kuZGVmaW5lcygpOltdO3ImJm4ucHVzaCgiI2RlZmluZSBPVkVSRFJBV19JTlNQRUNUT1I7Iik7dmFyIHM9bi5jb25jYXQoR2UuZnJhZ21lbnRTb3VyY2UsZS5mcmFnbWVudFNvdXJjZSkuam9pbigiXG4iKSxsPW4uY29uY2F0KEdlLnZlcnRleFNvdXJjZSxlLnZlcnRleFNvdXJjZSkuam9pbigiXG4iKSxjPWEuY3JlYXRlU2hhZGVyKGEuRlJBR01FTlRfU0hBREVSKTtpZihhLmlzQ29udGV4dExvc3QoKSl0aGlzLmZhaWxlZFRvQ3JlYXRlPSEwO2Vsc2Uge2Euc2hhZGVyU291cmNlKGMscyksYS5jb21waWxlU2hhZGVyKGMpLGEuYXR0YWNoU2hhZGVyKHRoaXMucHJvZ3JhbSxjKTt2YXIgdT1hLmNyZWF0ZVNoYWRlcihhLlZFUlRFWF9TSEFERVIpO2lmKGEuaXNDb250ZXh0TG9zdCgpKXRoaXMuZmFpbGVkVG9DcmVhdGU9ITA7ZWxzZSB7YS5zaGFkZXJTb3VyY2UodSxsKSxhLmNvbXBpbGVTaGFkZXIodSksYS5hdHRhY2hTaGFkZXIodGhpcy5wcm9ncmFtLHUpO2Zvcih2YXIgaD1pP2kubGF5b3V0QXR0cmlidXRlczpbXSxwPTA7cDxoLmxlbmd0aDtwKyspYS5iaW5kQXR0cmliTG9jYXRpb24odGhpcy5wcm9ncmFtLHAsaFtwXS5uYW1lKTthLmxpbmtQcm9ncmFtKHRoaXMucHJvZ3JhbSksYS5kZWxldGVTaGFkZXIodSksYS5kZWxldGVTaGFkZXIoYyksdGhpcy5udW1BdHRyaWJ1dGVzPWEuZ2V0UHJvZ3JhbVBhcmFtZXRlcih0aGlzLnByb2dyYW0sYS5BQ1RJVkVfQVRUUklCVVRFUyksdGhpcy5hdHRyaWJ1dGVzPXt9O2Zvcih2YXIgZD17fSxfPTA7Xzx0aGlzLm51bUF0dHJpYnV0ZXM7XysrKXt2YXIgZj1hLmdldEFjdGl2ZUF0dHJpYih0aGlzLnByb2dyYW0sXyk7ZiYmKHRoaXMuYXR0cmlidXRlc1tmLm5hbWVdPWEuZ2V0QXR0cmliTG9jYXRpb24odGhpcy5wcm9ncmFtLGYubmFtZSkpO31mb3IodmFyIG09YS5nZXRQcm9ncmFtUGFyYW1ldGVyKHRoaXMucHJvZ3JhbSxhLkFDVElWRV9VTklGT1JNUyksZz0wO2c8bTtnKyspe3ZhciB2PWEuZ2V0QWN0aXZlVW5pZm9ybSh0aGlzLnByb2dyYW0sZyk7diYmKGRbdi5uYW1lXT1hLmdldFVuaWZvcm1Mb2NhdGlvbih0aGlzLnByb2dyYW0sdi5uYW1lKSk7fXRoaXMuZml4ZWRVbmlmb3Jtcz1vKHQsZCksdGhpcy5iaW5kZXJVbmlmb3Jtcz1pP2kuZ2V0VW5pZm9ybXModCxkKTpbXTt9fX07ZnVuY3Rpb24gYmkodCxlLGkpe3ZhciBvPTEvcGUoaSwxLGUudHJhbnNmb3JtLnRpbGVab29tKSxyPU1hdGgucG93KDIsaS50aWxlSUQub3ZlcnNjYWxlZFopLGE9aS50aWxlU2l6ZSpNYXRoLnBvdygyLGUudHJhbnNmb3JtLnRpbGVab29tKS9yLG49YSooaS50aWxlSUQuY2Fub25pY2FsLngraS50aWxlSUQud3JhcCpyKSxzPWEqaS50aWxlSUQuY2Fub25pY2FsLnk7cmV0dXJuIHt1X2ltYWdlOjAsdV90ZXhzaXplOmkuaW1hZ2VBdGxhc1RleHR1cmUuc2l6ZSx1X3NjYWxlOltvLHQuZnJvbVNjYWxlLHQudG9TY2FsZV0sdV9mYWRlOnQudCx1X3BpeGVsX2Nvb3JkX3VwcGVyOltuPj4xNixzPj4xNl0sdV9waXhlbF9jb29yZF9sb3dlcjpbNjU1MzUmbiw2NTUzNSZzXX19eGkucHJvdG90eXBlLmRyYXc9ZnVuY3Rpb24odCxlLGksbyxyLGEsbixzLGwsYyx1LGgscCxkLF8sZil7dmFyIG0sZz10LmdsO2lmKCF0aGlzLmZhaWxlZFRvQ3JlYXRlKXtmb3IodmFyIHYgaW4gdC5wcm9ncmFtLnNldCh0aGlzLnByb2dyYW0pLHQuc2V0RGVwdGhNb2RlKGkpLHQuc2V0U3RlbmNpbE1vZGUobyksdC5zZXRDb2xvck1vZGUociksdC5zZXRDdWxsRmFjZShhKSx0aGlzLmZpeGVkVW5pZm9ybXMpdGhpcy5maXhlZFVuaWZvcm1zW3ZdLnNldChuW3ZdKTtkJiZkLnNldFVuaWZvcm1zKHQsdGhpcy5iaW5kZXJVbmlmb3JtcyxoLHt6b29tOnB9KTtmb3IodmFyIHk9KG09e30sbVtnLkxJTkVTXT0yLG1bZy5UUklBTkdMRVNdPTMsbVtnLkxJTkVfU1RSSVBdPTEsbSlbZV0seD0wLGI9dS5nZXQoKTt4PGIubGVuZ3RoO3grPTEpe3ZhciB3PWJbeF0sVD13LnZhb3N8fCh3LnZhb3M9e30pOyhUW3NdfHwoVFtzXT1uZXcgeWkpKS5iaW5kKHQsdGhpcyxsLGQ/ZC5nZXRQYWludFZlcnRleEJ1ZmZlcnMoKTpbXSxjLHcudmVydGV4T2Zmc2V0LF8sZiksZy5kcmF3RWxlbWVudHMoZSx3LnByaW1pdGl2ZUxlbmd0aCp5LGcuVU5TSUdORURfU0hPUlQsdy5wcmltaXRpdmVPZmZzZXQqeSoyKTt9fX07dmFyIHdpPWZ1bmN0aW9uKGUsaSxvLHIpe3ZhciBhPWkuc3R5bGUubGlnaHQsbj1hLnByb3BlcnRpZXMuZ2V0KCJwb3NpdGlvbiIpLHM9W24ueCxuLnksbi56XSxsPXQuY3JlYXRlJDEoKTsidmlld3BvcnQiPT09YS5wcm9wZXJ0aWVzLmdldCgiYW5jaG9yIikmJnQuZnJvbVJvdGF0aW9uKGwsLWkudHJhbnNmb3JtLmFuZ2xlKSx0LnRyYW5zZm9ybU1hdDMocyxzLGwpO3ZhciBjPWEucHJvcGVydGllcy5nZXQoImNvbG9yIik7cmV0dXJuIHt1X21hdHJpeDplLHVfbGlnaHRwb3M6cyx1X2xpZ2h0aW50ZW5zaXR5OmEucHJvcGVydGllcy5nZXQoImludGVuc2l0eSIpLHVfbGlnaHRjb2xvcjpbYy5yLGMuZyxjLmJdLHVfdmVydGljYWxfZ3JhZGllbnQ6K28sdV9vcGFjaXR5OnJ9fSxUaT1mdW5jdGlvbihlLGksbyxyLGEsbixzKXtyZXR1cm4gdC5leHRlbmQod2koZSxpLG8sciksYmkobixpLHMpLHt1X2hlaWdodF9mYWN0b3I6LU1hdGgucG93KDIsYS5vdmVyc2NhbGVkWikvcy50aWxlU2l6ZS84fSl9LEVpPWZ1bmN0aW9uKHQpe3JldHVybiB7dV9tYXRyaXg6dH19LElpPWZ1bmN0aW9uKGUsaSxvLHIpe3JldHVybiB0LmV4dGVuZChFaShlKSxiaShvLGkscikpfSxQaT1mdW5jdGlvbih0LGUpe3JldHVybiB7dV9tYXRyaXg6dCx1X3dvcmxkOmV9fSxTaT1mdW5jdGlvbihlLGksbyxyLGEpe3JldHVybiB0LmV4dGVuZChJaShlLGksbyxyKSx7dV93b3JsZDphfSl9LENpPWZ1bmN0aW9uKGUsaSxvLHIpe3ZhciBhLG4scz1lLnRyYW5zZm9ybTtpZigibWFwIj09PXIucGFpbnQuZ2V0KCJjaXJjbGUtcGl0Y2gtYWxpZ25tZW50Iikpe3ZhciBsPXBlKG8sMSxzLnpvb20pO2E9ITAsbj1bbCxsXTt9ZWxzZSBhPSExLG49cy5waXhlbHNUb0dMVW5pdHM7cmV0dXJuIHt1X2NhbWVyYV90b19jZW50ZXJfZGlzdGFuY2U6cy5jYW1lcmFUb0NlbnRlckRpc3RhbmNlLHVfc2NhbGVfd2l0aF9tYXA6KygibWFwIj09PXIucGFpbnQuZ2V0KCJjaXJjbGUtcGl0Y2gtc2NhbGUiKSksdV9tYXRyaXg6ZS50cmFuc2xhdGVQb3NNYXRyaXgoaS5wb3NNYXRyaXgsbyxyLnBhaW50LmdldCgiY2lyY2xlLXRyYW5zbGF0ZSIpLHIucGFpbnQuZ2V0KCJjaXJjbGUtdHJhbnNsYXRlLWFuY2hvciIpKSx1X3BpdGNoX3dpdGhfbWFwOithLHVfZGV2aWNlX3BpeGVsX3JhdGlvOnQuYnJvd3Nlci5kZXZpY2VQaXhlbFJhdGlvLHVfZXh0cnVkZV9zY2FsZTpufX0semk9ZnVuY3Rpb24odCxlLGkpe3ZhciBvPXBlKGksMSxlLnpvb20pLHI9TWF0aC5wb3coMixlLnpvb20taS50aWxlSUQub3ZlcnNjYWxlZFopLGE9aS50aWxlSUQub3ZlcnNjYWxlRmFjdG9yKCk7cmV0dXJuIHt1X21hdHJpeDp0LHVfY2FtZXJhX3RvX2NlbnRlcl9kaXN0YW5jZTplLmNhbWVyYVRvQ2VudGVyRGlzdGFuY2UsdV9waXhlbHNfdG9fdGlsZV91bml0czpvLHVfZXh0cnVkZV9zY2FsZTpbZS5waXhlbHNUb0dMVW5pdHNbMF0vKG8qciksZS5waXhlbHNUb0dMVW5pdHNbMV0vKG8qcildLHVfb3ZlcnNjYWxlX2ZhY3RvcjphfX0sRGk9ZnVuY3Rpb24odCxlLGkpe3JldHVybiB7dV9tYXRyaXg6dCx1X2ludl9tYXRyaXg6ZSx1X2NhbWVyYV90b19jZW50ZXJfZGlzdGFuY2U6aS5jYW1lcmFUb0NlbnRlckRpc3RhbmNlLHVfdmlld3BvcnRfc2l6ZTpbaS53aWR0aCxpLmhlaWdodF19fSxNaT1mdW5jdGlvbih0LGUsaSl7cmV0dXJuIHZvaWQgMD09PWkmJihpPTEpLHt1X21hdHJpeDp0LHVfY29sb3I6ZSx1X292ZXJsYXk6MCx1X292ZXJsYXlfc2NhbGU6aX19LEFpPWZ1bmN0aW9uKHQpe3JldHVybiB7dV9tYXRyaXg6dH19LExpPWZ1bmN0aW9uKHQsZSxpLG8pe3JldHVybiB7dV9tYXRyaXg6dCx1X2V4dHJ1ZGVfc2NhbGU6cGUoZSwxLGkpLHVfaW50ZW5zaXR5Om99fSxSaT1mdW5jdGlvbihlLGksbyl7dmFyIHI9ZS50cmFuc2Zvcm07cmV0dXJuIHt1X21hdHJpeDpVaShlLGksbyksdV9yYXRpbzoxL3BlKGksMSxyLnpvb20pLHVfZGV2aWNlX3BpeGVsX3JhdGlvOnQuYnJvd3Nlci5kZXZpY2VQaXhlbFJhdGlvLHVfdW5pdHNfdG9fcGl4ZWxzOlsxL3IucGl4ZWxzVG9HTFVuaXRzWzBdLDEvci5waXhlbHNUb0dMVW5pdHNbMV1dfX0sa2k9ZnVuY3Rpb24oZSxpLG8pe3JldHVybiB0LmV4dGVuZChSaShlLGksbykse3VfaW1hZ2U6MH0pfSxCaT1mdW5jdGlvbihlLGksbyxyKXt2YXIgYT1lLnRyYW5zZm9ybSxuPUZpKGksYSk7cmV0dXJuIHt1X21hdHJpeDpVaShlLGksbyksdV90ZXhzaXplOmkuaW1hZ2VBdGxhc1RleHR1cmUuc2l6ZSx1X3JhdGlvOjEvcGUoaSwxLGEuem9vbSksdV9kZXZpY2VfcGl4ZWxfcmF0aW86dC5icm93c2VyLmRldmljZVBpeGVsUmF0aW8sdV9pbWFnZTowLHVfc2NhbGU6W24sci5mcm9tU2NhbGUsci50b1NjYWxlXSx1X2ZhZGU6ci50LHVfdW5pdHNfdG9fcGl4ZWxzOlsxL2EucGl4ZWxzVG9HTFVuaXRzWzBdLDEvYS5waXhlbHNUb0dMVW5pdHNbMV1dfX0sT2k9ZnVuY3Rpb24oZSxpLG8scixhKXt2YXIgbj1lLmxpbmVBdGxhcyxzPUZpKGksZS50cmFuc2Zvcm0pLGw9InJvdW5kIj09PW8ubGF5b3V0LmdldCgibGluZS1jYXAiKSxjPW4uZ2V0RGFzaChyLmZyb20sbCksdT1uLmdldERhc2goci50byxsKSxoPWMud2lkdGgqYS5mcm9tU2NhbGUscD11LndpZHRoKmEudG9TY2FsZTtyZXR1cm4gdC5leHRlbmQoUmkoZSxpLG8pLHt1X3BhdHRlcm5zY2FsZV9hOltzL2gsLWMuaGVpZ2h0LzJdLHVfcGF0dGVybnNjYWxlX2I6W3MvcCwtdS5oZWlnaHQvMl0sdV9zZGZnYW1tYTpuLndpZHRoLygyNTYqTWF0aC5taW4oaCxwKSp0LmJyb3dzZXIuZGV2aWNlUGl4ZWxSYXRpbykvMix1X2ltYWdlOjAsdV90ZXhfeV9hOmMueSx1X3RleF95X2I6dS55LHVfbWl4OmEudH0pfTtmdW5jdGlvbiBGaSh0LGUpe3JldHVybiAxL3BlKHQsMSxlLnRpbGVab29tKX1mdW5jdGlvbiBVaSh0LGUsaSl7cmV0dXJuIHQudHJhbnNsYXRlUG9zTWF0cml4KGUudGlsZUlELnBvc01hdHJpeCxlLGkucGFpbnQuZ2V0KCJsaW5lLXRyYW5zbGF0ZSIpLGkucGFpbnQuZ2V0KCJsaW5lLXRyYW5zbGF0ZS1hbmNob3IiKSl9dmFyIE5pPWZ1bmN0aW9uKHQsZSxpLG8scil7cmV0dXJuIHt1X21hdHJpeDp0LHVfdGxfcGFyZW50OmUsdV9zY2FsZV9wYXJlbnQ6aSx1X2J1ZmZlcl9zY2FsZToxLHVfZmFkZV90Om8ubWl4LHVfb3BhY2l0eTpvLm9wYWNpdHkqci5wYWludC5nZXQoInJhc3Rlci1vcGFjaXR5IiksdV9pbWFnZTA6MCx1X2ltYWdlMToxLHVfYnJpZ2h0bmVzc19sb3c6ci5wYWludC5nZXQoInJhc3Rlci1icmlnaHRuZXNzLW1pbiIpLHVfYnJpZ2h0bmVzc19oaWdoOnIucGFpbnQuZ2V0KCJyYXN0ZXItYnJpZ2h0bmVzcy1tYXgiKSx1X3NhdHVyYXRpb25fZmFjdG9yOihuPXIucGFpbnQuZ2V0KCJyYXN0ZXItc2F0dXJhdGlvbiIpLG4+MD8xLTEvKDEuMDAxLW4pOi1uKSx1X2NvbnRyYXN0X2ZhY3RvcjooYT1yLnBhaW50LmdldCgicmFzdGVyLWNvbnRyYXN0IiksYT4wPzEvKDEtYSk6MSthKSx1X3NwaW5fd2VpZ2h0czpaaShyLnBhaW50LmdldCgicmFzdGVyLWh1ZS1yb3RhdGUiKSl9O3ZhciBhLG47fTtmdW5jdGlvbiBaaSh0KXt0Kj1NYXRoLlBJLzE4MDt2YXIgZT1NYXRoLnNpbih0KSxpPU1hdGguY29zKHQpO3JldHVybiBbKDIqaSsxKS8zLCgtTWF0aC5zcXJ0KDMpKmUtaSsxKS8zLChNYXRoLnNxcnQoMykqZS1pKzEpLzNdfXZhciBqaSxxaT1mdW5jdGlvbih0LGUsaSxvLHIsYSxuLHMsbCxjKXt2YXIgdT1yLnRyYW5zZm9ybTtyZXR1cm4ge3VfaXNfc2l6ZV96b29tX2NvbnN0YW50OisoImNvbnN0YW50Ij09PXR8fCJzb3VyY2UiPT09dCksdV9pc19zaXplX2ZlYXR1cmVfY29uc3RhbnQ6KygiY29uc3RhbnQiPT09dHx8ImNhbWVyYSI9PT10KSx1X3NpemVfdDplP2UudVNpemVUOjAsdV9zaXplOmU/ZS51U2l6ZTowLHVfY2FtZXJhX3RvX2NlbnRlcl9kaXN0YW5jZTp1LmNhbWVyYVRvQ2VudGVyRGlzdGFuY2UsdV9waXRjaDp1LnBpdGNoLzM2MCoyKk1hdGguUEksdV9yb3RhdGVfc3ltYm9sOitpLHVfYXNwZWN0X3JhdGlvOnUud2lkdGgvdS5oZWlnaHQsdV9mYWRlX2NoYW5nZTpyLm9wdGlvbnMuZmFkZUR1cmF0aW9uP3Iuc3ltYm9sRmFkZUNoYW5nZToxLHVfbWF0cml4OmEsdV9sYWJlbF9wbGFuZV9tYXRyaXg6bix1X2Nvb3JkX21hdHJpeDpzLHVfaXNfdGV4dDorbCx1X3BpdGNoX3dpdGhfbWFwOitvLHVfdGV4c2l6ZTpjLHVfdGV4dHVyZTowfX0sVmk9ZnVuY3Rpb24oZSxpLG8scixhLG4scyxsLGMsdSxoKXt2YXIgcD1hLnRyYW5zZm9ybTtyZXR1cm4gdC5leHRlbmQocWkoZSxpLG8scixhLG4scyxsLGMsdSkse3VfZ2FtbWFfc2NhbGU6cj9NYXRoLmNvcyhwLl9waXRjaCkqcC5jYW1lcmFUb0NlbnRlckRpc3RhbmNlOjEsdV9kZXZpY2VfcGl4ZWxfcmF0aW86dC5icm93c2VyLmRldmljZVBpeGVsUmF0aW8sdV9pc19oYWxvOitofSl9LEdpPWZ1bmN0aW9uKGUsaSxvLHIsYSxuLHMsbCxjLHUpe3JldHVybiB0LmV4dGVuZChWaShlLGksbyxyLGEsbixzLGwsITAsYywhMCkse3VfdGV4c2l6ZV9pY29uOnUsdV90ZXh0dXJlX2ljb246MX0pfSxXaT1mdW5jdGlvbih0LGUsaSl7cmV0dXJuIHt1X21hdHJpeDp0LHVfb3BhY2l0eTplLHVfY29sb3I6aX19LFhpPWZ1bmN0aW9uKGUsaSxvLHIsYSxuKXtyZXR1cm4gdC5leHRlbmQoZnVuY3Rpb24odCxlLGksbyl7dmFyIHI9aS5pbWFnZU1hbmFnZXIuZ2V0UGF0dGVybih0LmZyb20udG9TdHJpbmcoKSksYT1pLmltYWdlTWFuYWdlci5nZXRQYXR0ZXJuKHQudG8udG9TdHJpbmcoKSksbj1pLmltYWdlTWFuYWdlci5nZXRQaXhlbFNpemUoKSxzPW4ud2lkdGgsbD1uLmhlaWdodCxjPU1hdGgucG93KDIsby50aWxlSUQub3ZlcnNjYWxlZFopLHU9by50aWxlU2l6ZSpNYXRoLnBvdygyLGkudHJhbnNmb3JtLnRpbGVab29tKS9jLGg9dSooby50aWxlSUQuY2Fub25pY2FsLngrby50aWxlSUQud3JhcCpjKSxwPXUqby50aWxlSUQuY2Fub25pY2FsLnk7cmV0dXJuIHt1X2ltYWdlOjAsdV9wYXR0ZXJuX3RsX2E6ci50bCx1X3BhdHRlcm5fYnJfYTpyLmJyLHVfcGF0dGVybl90bF9iOmEudGwsdV9wYXR0ZXJuX2JyX2I6YS5icix1X3RleHNpemU6W3MsbF0sdV9taXg6ZS50LHVfcGF0dGVybl9zaXplX2E6ci5kaXNwbGF5U2l6ZSx1X3BhdHRlcm5fc2l6ZV9iOmEuZGlzcGxheVNpemUsdV9zY2FsZV9hOmUuZnJvbVNjYWxlLHVfc2NhbGVfYjplLnRvU2NhbGUsdV90aWxlX3VuaXRzX3RvX3BpeGVsczoxL3BlKG8sMSxpLnRyYW5zZm9ybS50aWxlWm9vbSksdV9waXhlbF9jb29yZF91cHBlcjpbaD4+MTYscD4+MTZdLHVfcGl4ZWxfY29vcmRfbG93ZXI6WzY1NTM1JmgsNjU1MzUmcF19fShyLG4sbyxhKSx7dV9tYXRyaXg6ZSx1X29wYWNpdHk6aX0pfSxIaT17ZmlsbEV4dHJ1c2lvbjpmdW5jdGlvbihlLGkpe3JldHVybiB7dV9tYXRyaXg6bmV3IHQuVW5pZm9ybU1hdHJpeDRmKGUsaS51X21hdHJpeCksdV9saWdodHBvczpuZXcgdC5Vbmlmb3JtM2YoZSxpLnVfbGlnaHRwb3MpLHVfbGlnaHRpbnRlbnNpdHk6bmV3IHQuVW5pZm9ybTFmKGUsaS51X2xpZ2h0aW50ZW5zaXR5KSx1X2xpZ2h0Y29sb3I6bmV3IHQuVW5pZm9ybTNmKGUsaS51X2xpZ2h0Y29sb3IpLHVfdmVydGljYWxfZ3JhZGllbnQ6bmV3IHQuVW5pZm9ybTFmKGUsaS51X3ZlcnRpY2FsX2dyYWRpZW50KSx1X29wYWNpdHk6bmV3IHQuVW5pZm9ybTFmKGUsaS51X29wYWNpdHkpfX0sZmlsbEV4dHJ1c2lvblBhdHRlcm46ZnVuY3Rpb24oZSxpKXtyZXR1cm4ge3VfbWF0cml4Om5ldyB0LlVuaWZvcm1NYXRyaXg0ZihlLGkudV9tYXRyaXgpLHVfbGlnaHRwb3M6bmV3IHQuVW5pZm9ybTNmKGUsaS51X2xpZ2h0cG9zKSx1X2xpZ2h0aW50ZW5zaXR5Om5ldyB0LlVuaWZvcm0xZihlLGkudV9saWdodGludGVuc2l0eSksdV9saWdodGNvbG9yOm5ldyB0LlVuaWZvcm0zZihlLGkudV9saWdodGNvbG9yKSx1X3ZlcnRpY2FsX2dyYWRpZW50Om5ldyB0LlVuaWZvcm0xZihlLGkudV92ZXJ0aWNhbF9ncmFkaWVudCksdV9oZWlnaHRfZmFjdG9yOm5ldyB0LlVuaWZvcm0xZihlLGkudV9oZWlnaHRfZmFjdG9yKSx1X2ltYWdlOm5ldyB0LlVuaWZvcm0xaShlLGkudV9pbWFnZSksdV90ZXhzaXplOm5ldyB0LlVuaWZvcm0yZihlLGkudV90ZXhzaXplKSx1X3BpeGVsX2Nvb3JkX3VwcGVyOm5ldyB0LlVuaWZvcm0yZihlLGkudV9waXhlbF9jb29yZF91cHBlciksdV9waXhlbF9jb29yZF9sb3dlcjpuZXcgdC5Vbmlmb3JtMmYoZSxpLnVfcGl4ZWxfY29vcmRfbG93ZXIpLHVfc2NhbGU6bmV3IHQuVW5pZm9ybTNmKGUsaS51X3NjYWxlKSx1X2ZhZGU6bmV3IHQuVW5pZm9ybTFmKGUsaS51X2ZhZGUpLHVfb3BhY2l0eTpuZXcgdC5Vbmlmb3JtMWYoZSxpLnVfb3BhY2l0eSl9fSxmaWxsOmZ1bmN0aW9uKGUsaSl7cmV0dXJuIHt1X21hdHJpeDpuZXcgdC5Vbmlmb3JtTWF0cml4NGYoZSxpLnVfbWF0cml4KX19LGZpbGxQYXR0ZXJuOmZ1bmN0aW9uKGUsaSl7cmV0dXJuIHt1X21hdHJpeDpuZXcgdC5Vbmlmb3JtTWF0cml4NGYoZSxpLnVfbWF0cml4KSx1X2ltYWdlOm5ldyB0LlVuaWZvcm0xaShlLGkudV9pbWFnZSksdV90ZXhzaXplOm5ldyB0LlVuaWZvcm0yZihlLGkudV90ZXhzaXplKSx1X3BpeGVsX2Nvb3JkX3VwcGVyOm5ldyB0LlVuaWZvcm0yZihlLGkudV9waXhlbF9jb29yZF91cHBlciksdV9waXhlbF9jb29yZF9sb3dlcjpuZXcgdC5Vbmlmb3JtMmYoZSxpLnVfcGl4ZWxfY29vcmRfbG93ZXIpLHVfc2NhbGU6bmV3IHQuVW5pZm9ybTNmKGUsaS51X3NjYWxlKSx1X2ZhZGU6bmV3IHQuVW5pZm9ybTFmKGUsaS51X2ZhZGUpfX0sZmlsbE91dGxpbmU6ZnVuY3Rpb24oZSxpKXtyZXR1cm4ge3VfbWF0cml4Om5ldyB0LlVuaWZvcm1NYXRyaXg0ZihlLGkudV9tYXRyaXgpLHVfd29ybGQ6bmV3IHQuVW5pZm9ybTJmKGUsaS51X3dvcmxkKX19LGZpbGxPdXRsaW5lUGF0dGVybjpmdW5jdGlvbihlLGkpe3JldHVybiB7dV9tYXRyaXg6bmV3IHQuVW5pZm9ybU1hdHJpeDRmKGUsaS51X21hdHJpeCksdV93b3JsZDpuZXcgdC5Vbmlmb3JtMmYoZSxpLnVfd29ybGQpLHVfaW1hZ2U6bmV3IHQuVW5pZm9ybTFpKGUsaS51X2ltYWdlKSx1X3RleHNpemU6bmV3IHQuVW5pZm9ybTJmKGUsaS51X3RleHNpemUpLHVfcGl4ZWxfY29vcmRfdXBwZXI6bmV3IHQuVW5pZm9ybTJmKGUsaS51X3BpeGVsX2Nvb3JkX3VwcGVyKSx1X3BpeGVsX2Nvb3JkX2xvd2VyOm5ldyB0LlVuaWZvcm0yZihlLGkudV9waXhlbF9jb29yZF9sb3dlciksdV9zY2FsZTpuZXcgdC5Vbmlmb3JtM2YoZSxpLnVfc2NhbGUpLHVfZmFkZTpuZXcgdC5Vbmlmb3JtMWYoZSxpLnVfZmFkZSl9fSxjaXJjbGU6ZnVuY3Rpb24oZSxpKXtyZXR1cm4ge3VfY2FtZXJhX3RvX2NlbnRlcl9kaXN0YW5jZTpuZXcgdC5Vbmlmb3JtMWYoZSxpLnVfY2FtZXJhX3RvX2NlbnRlcl9kaXN0YW5jZSksdV9zY2FsZV93aXRoX21hcDpuZXcgdC5Vbmlmb3JtMWkoZSxpLnVfc2NhbGVfd2l0aF9tYXApLHVfcGl0Y2hfd2l0aF9tYXA6bmV3IHQuVW5pZm9ybTFpKGUsaS51X3BpdGNoX3dpdGhfbWFwKSx1X2V4dHJ1ZGVfc2NhbGU6bmV3IHQuVW5pZm9ybTJmKGUsaS51X2V4dHJ1ZGVfc2NhbGUpLHVfZGV2aWNlX3BpeGVsX3JhdGlvOm5ldyB0LlVuaWZvcm0xZihlLGkudV9kZXZpY2VfcGl4ZWxfcmF0aW8pLHVfbWF0cml4Om5ldyB0LlVuaWZvcm1NYXRyaXg0ZihlLGkudV9tYXRyaXgpfX0sY29sbGlzaW9uQm94OmZ1bmN0aW9uKGUsaSl7cmV0dXJuIHt1X21hdHJpeDpuZXcgdC5Vbmlmb3JtTWF0cml4NGYoZSxpLnVfbWF0cml4KSx1X2NhbWVyYV90b19jZW50ZXJfZGlzdGFuY2U6bmV3IHQuVW5pZm9ybTFmKGUsaS51X2NhbWVyYV90b19jZW50ZXJfZGlzdGFuY2UpLHVfcGl4ZWxzX3RvX3RpbGVfdW5pdHM6bmV3IHQuVW5pZm9ybTFmKGUsaS51X3BpeGVsc190b190aWxlX3VuaXRzKSx1X2V4dHJ1ZGVfc2NhbGU6bmV3IHQuVW5pZm9ybTJmKGUsaS51X2V4dHJ1ZGVfc2NhbGUpLHVfb3ZlcnNjYWxlX2ZhY3RvcjpuZXcgdC5Vbmlmb3JtMWYoZSxpLnVfb3ZlcnNjYWxlX2ZhY3Rvcil9fSxjb2xsaXNpb25DaXJjbGU6ZnVuY3Rpb24oZSxpKXtyZXR1cm4ge3VfbWF0cml4Om5ldyB0LlVuaWZvcm1NYXRyaXg0ZihlLGkudV9tYXRyaXgpLHVfaW52X21hdHJpeDpuZXcgdC5Vbmlmb3JtTWF0cml4NGYoZSxpLnVfaW52X21hdHJpeCksdV9jYW1lcmFfdG9fY2VudGVyX2Rpc3RhbmNlOm5ldyB0LlVuaWZvcm0xZihlLGkudV9jYW1lcmFfdG9fY2VudGVyX2Rpc3RhbmNlKSx1X3ZpZXdwb3J0X3NpemU6bmV3IHQuVW5pZm9ybTJmKGUsaS51X3ZpZXdwb3J0X3NpemUpfX0sZGVidWc6ZnVuY3Rpb24oZSxpKXtyZXR1cm4ge3VfY29sb3I6bmV3IHQuVW5pZm9ybUNvbG9yKGUsaS51X2NvbG9yKSx1X21hdHJpeDpuZXcgdC5Vbmlmb3JtTWF0cml4NGYoZSxpLnVfbWF0cml4KSx1X292ZXJsYXk6bmV3IHQuVW5pZm9ybTFpKGUsaS51X292ZXJsYXkpLHVfb3ZlcmxheV9zY2FsZTpuZXcgdC5Vbmlmb3JtMWYoZSxpLnVfb3ZlcmxheV9zY2FsZSl9fSxjbGlwcGluZ01hc2s6ZnVuY3Rpb24oZSxpKXtyZXR1cm4ge3VfbWF0cml4Om5ldyB0LlVuaWZvcm1NYXRyaXg0ZihlLGkudV9tYXRyaXgpfX0saGVhdG1hcDpmdW5jdGlvbihlLGkpe3JldHVybiB7dV9leHRydWRlX3NjYWxlOm5ldyB0LlVuaWZvcm0xZihlLGkudV9leHRydWRlX3NjYWxlKSx1X2ludGVuc2l0eTpuZXcgdC5Vbmlmb3JtMWYoZSxpLnVfaW50ZW5zaXR5KSx1X21hdHJpeDpuZXcgdC5Vbmlmb3JtTWF0cml4NGYoZSxpLnVfbWF0cml4KX19LGhlYXRtYXBUZXh0dXJlOmZ1bmN0aW9uKGUsaSl7cmV0dXJuIHt1X21hdHJpeDpuZXcgdC5Vbmlmb3JtTWF0cml4NGYoZSxpLnVfbWF0cml4KSx1X3dvcmxkOm5ldyB0LlVuaWZvcm0yZihlLGkudV93b3JsZCksdV9pbWFnZTpuZXcgdC5Vbmlmb3JtMWkoZSxpLnVfaW1hZ2UpLHVfY29sb3JfcmFtcDpuZXcgdC5Vbmlmb3JtMWkoZSxpLnVfY29sb3JfcmFtcCksdV9vcGFjaXR5Om5ldyB0LlVuaWZvcm0xZihlLGkudV9vcGFjaXR5KX19LGhpbGxzaGFkZTpmdW5jdGlvbihlLGkpe3JldHVybiB7dV9tYXRyaXg6bmV3IHQuVW5pZm9ybU1hdHJpeDRmKGUsaS51X21hdHJpeCksdV9pbWFnZTpuZXcgdC5Vbmlmb3JtMWkoZSxpLnVfaW1hZ2UpLHVfbGF0cmFuZ2U6bmV3IHQuVW5pZm9ybTJmKGUsaS51X2xhdHJhbmdlKSx1X2xpZ2h0Om5ldyB0LlVuaWZvcm0yZihlLGkudV9saWdodCksdV9zaGFkb3c6bmV3IHQuVW5pZm9ybUNvbG9yKGUsaS51X3NoYWRvdyksdV9oaWdobGlnaHQ6bmV3IHQuVW5pZm9ybUNvbG9yKGUsaS51X2hpZ2hsaWdodCksdV9hY2NlbnQ6bmV3IHQuVW5pZm9ybUNvbG9yKGUsaS51X2FjY2VudCl9fSxoaWxsc2hhZGVQcmVwYXJlOmZ1bmN0aW9uKGUsaSl7cmV0dXJuIHt1X21hdHJpeDpuZXcgdC5Vbmlmb3JtTWF0cml4NGYoZSxpLnVfbWF0cml4KSx1X2ltYWdlOm5ldyB0LlVuaWZvcm0xaShlLGkudV9pbWFnZSksdV9kaW1lbnNpb246bmV3IHQuVW5pZm9ybTJmKGUsaS51X2RpbWVuc2lvbiksdV96b29tOm5ldyB0LlVuaWZvcm0xZihlLGkudV96b29tKSx1X21heHpvb206bmV3IHQuVW5pZm9ybTFmKGUsaS51X21heHpvb20pLHVfdW5wYWNrOm5ldyB0LlVuaWZvcm00ZihlLGkudV91bnBhY2spfX0sbGluZTpmdW5jdGlvbihlLGkpe3JldHVybiB7dV9tYXRyaXg6bmV3IHQuVW5pZm9ybU1hdHJpeDRmKGUsaS51X21hdHJpeCksdV9yYXRpbzpuZXcgdC5Vbmlmb3JtMWYoZSxpLnVfcmF0aW8pLHVfZGV2aWNlX3BpeGVsX3JhdGlvOm5ldyB0LlVuaWZvcm0xZihlLGkudV9kZXZpY2VfcGl4ZWxfcmF0aW8pLHVfdW5pdHNfdG9fcGl4ZWxzOm5ldyB0LlVuaWZvcm0yZihlLGkudV91bml0c190b19waXhlbHMpfX0sbGluZUdyYWRpZW50OmZ1bmN0aW9uKGUsaSl7cmV0dXJuIHt1X21hdHJpeDpuZXcgdC5Vbmlmb3JtTWF0cml4NGYoZSxpLnVfbWF0cml4KSx1X3JhdGlvOm5ldyB0LlVuaWZvcm0xZihlLGkudV9yYXRpbyksdV9kZXZpY2VfcGl4ZWxfcmF0aW86bmV3IHQuVW5pZm9ybTFmKGUsaS51X2RldmljZV9waXhlbF9yYXRpbyksdV91bml0c190b19waXhlbHM6bmV3IHQuVW5pZm9ybTJmKGUsaS51X3VuaXRzX3RvX3BpeGVscyksdV9pbWFnZTpuZXcgdC5Vbmlmb3JtMWkoZSxpLnVfaW1hZ2UpfX0sbGluZVBhdHRlcm46ZnVuY3Rpb24oZSxpKXtyZXR1cm4ge3VfbWF0cml4Om5ldyB0LlVuaWZvcm1NYXRyaXg0ZihlLGkudV9tYXRyaXgpLHVfdGV4c2l6ZTpuZXcgdC5Vbmlmb3JtMmYoZSxpLnVfdGV4c2l6ZSksdV9yYXRpbzpuZXcgdC5Vbmlmb3JtMWYoZSxpLnVfcmF0aW8pLHVfZGV2aWNlX3BpeGVsX3JhdGlvOm5ldyB0LlVuaWZvcm0xZihlLGkudV9kZXZpY2VfcGl4ZWxfcmF0aW8pLHVfaW1hZ2U6bmV3IHQuVW5pZm9ybTFpKGUsaS51X2ltYWdlKSx1X3VuaXRzX3RvX3BpeGVsczpuZXcgdC5Vbmlmb3JtMmYoZSxpLnVfdW5pdHNfdG9fcGl4ZWxzKSx1X3NjYWxlOm5ldyB0LlVuaWZvcm0zZihlLGkudV9zY2FsZSksdV9mYWRlOm5ldyB0LlVuaWZvcm0xZihlLGkudV9mYWRlKX19LGxpbmVTREY6ZnVuY3Rpb24oZSxpKXtyZXR1cm4ge3VfbWF0cml4Om5ldyB0LlVuaWZvcm1NYXRyaXg0ZihlLGkudV9tYXRyaXgpLHVfcmF0aW86bmV3IHQuVW5pZm9ybTFmKGUsaS51X3JhdGlvKSx1X2RldmljZV9waXhlbF9yYXRpbzpuZXcgdC5Vbmlmb3JtMWYoZSxpLnVfZGV2aWNlX3BpeGVsX3JhdGlvKSx1X3VuaXRzX3RvX3BpeGVsczpuZXcgdC5Vbmlmb3JtMmYoZSxpLnVfdW5pdHNfdG9fcGl4ZWxzKSx1X3BhdHRlcm5zY2FsZV9hOm5ldyB0LlVuaWZvcm0yZihlLGkudV9wYXR0ZXJuc2NhbGVfYSksdV9wYXR0ZXJuc2NhbGVfYjpuZXcgdC5Vbmlmb3JtMmYoZSxpLnVfcGF0dGVybnNjYWxlX2IpLHVfc2RmZ2FtbWE6bmV3IHQuVW5pZm9ybTFmKGUsaS51X3NkZmdhbW1hKSx1X2ltYWdlOm5ldyB0LlVuaWZvcm0xaShlLGkudV9pbWFnZSksdV90ZXhfeV9hOm5ldyB0LlVuaWZvcm0xZihlLGkudV90ZXhfeV9hKSx1X3RleF95X2I6bmV3IHQuVW5pZm9ybTFmKGUsaS51X3RleF95X2IpLHVfbWl4Om5ldyB0LlVuaWZvcm0xZihlLGkudV9taXgpfX0scmFzdGVyOmZ1bmN0aW9uKGUsaSl7cmV0dXJuIHt1X21hdHJpeDpuZXcgdC5Vbmlmb3JtTWF0cml4NGYoZSxpLnVfbWF0cml4KSx1X3RsX3BhcmVudDpuZXcgdC5Vbmlmb3JtMmYoZSxpLnVfdGxfcGFyZW50KSx1X3NjYWxlX3BhcmVudDpuZXcgdC5Vbmlmb3JtMWYoZSxpLnVfc2NhbGVfcGFyZW50KSx1X2J1ZmZlcl9zY2FsZTpuZXcgdC5Vbmlmb3JtMWYoZSxpLnVfYnVmZmVyX3NjYWxlKSx1X2ZhZGVfdDpuZXcgdC5Vbmlmb3JtMWYoZSxpLnVfZmFkZV90KSx1X29wYWNpdHk6bmV3IHQuVW5pZm9ybTFmKGUsaS51X29wYWNpdHkpLHVfaW1hZ2UwOm5ldyB0LlVuaWZvcm0xaShlLGkudV9pbWFnZTApLHVfaW1hZ2UxOm5ldyB0LlVuaWZvcm0xaShlLGkudV9pbWFnZTEpLHVfYnJpZ2h0bmVzc19sb3c6bmV3IHQuVW5pZm9ybTFmKGUsaS51X2JyaWdodG5lc3NfbG93KSx1X2JyaWdodG5lc3NfaGlnaDpuZXcgdC5Vbmlmb3JtMWYoZSxpLnVfYnJpZ2h0bmVzc19oaWdoKSx1X3NhdHVyYXRpb25fZmFjdG9yOm5ldyB0LlVuaWZvcm0xZihlLGkudV9zYXR1cmF0aW9uX2ZhY3RvciksdV9jb250cmFzdF9mYWN0b3I6bmV3IHQuVW5pZm9ybTFmKGUsaS51X2NvbnRyYXN0X2ZhY3RvciksdV9zcGluX3dlaWdodHM6bmV3IHQuVW5pZm9ybTNmKGUsaS51X3NwaW5fd2VpZ2h0cyl9fSxzeW1ib2xJY29uOmZ1bmN0aW9uKGUsaSl7cmV0dXJuIHt1X2lzX3NpemVfem9vbV9jb25zdGFudDpuZXcgdC5Vbmlmb3JtMWkoZSxpLnVfaXNfc2l6ZV96b29tX2NvbnN0YW50KSx1X2lzX3NpemVfZmVhdHVyZV9jb25zdGFudDpuZXcgdC5Vbmlmb3JtMWkoZSxpLnVfaXNfc2l6ZV9mZWF0dXJlX2NvbnN0YW50KSx1X3NpemVfdDpuZXcgdC5Vbmlmb3JtMWYoZSxpLnVfc2l6ZV90KSx1X3NpemU6bmV3IHQuVW5pZm9ybTFmKGUsaS51X3NpemUpLHVfY2FtZXJhX3RvX2NlbnRlcl9kaXN0YW5jZTpuZXcgdC5Vbmlmb3JtMWYoZSxpLnVfY2FtZXJhX3RvX2NlbnRlcl9kaXN0YW5jZSksdV9waXRjaDpuZXcgdC5Vbmlmb3JtMWYoZSxpLnVfcGl0Y2gpLHVfcm90YXRlX3N5bWJvbDpuZXcgdC5Vbmlmb3JtMWkoZSxpLnVfcm90YXRlX3N5bWJvbCksdV9hc3BlY3RfcmF0aW86bmV3IHQuVW5pZm9ybTFmKGUsaS51X2FzcGVjdF9yYXRpbyksdV9mYWRlX2NoYW5nZTpuZXcgdC5Vbmlmb3JtMWYoZSxpLnVfZmFkZV9jaGFuZ2UpLHVfbWF0cml4Om5ldyB0LlVuaWZvcm1NYXRyaXg0ZihlLGkudV9tYXRyaXgpLHVfbGFiZWxfcGxhbmVfbWF0cml4Om5ldyB0LlVuaWZvcm1NYXRyaXg0ZihlLGkudV9sYWJlbF9wbGFuZV9tYXRyaXgpLHVfY29vcmRfbWF0cml4Om5ldyB0LlVuaWZvcm1NYXRyaXg0ZihlLGkudV9jb29yZF9tYXRyaXgpLHVfaXNfdGV4dDpuZXcgdC5Vbmlmb3JtMWkoZSxpLnVfaXNfdGV4dCksdV9waXRjaF93aXRoX21hcDpuZXcgdC5Vbmlmb3JtMWkoZSxpLnVfcGl0Y2hfd2l0aF9tYXApLHVfdGV4c2l6ZTpuZXcgdC5Vbmlmb3JtMmYoZSxpLnVfdGV4c2l6ZSksdV90ZXh0dXJlOm5ldyB0LlVuaWZvcm0xaShlLGkudV90ZXh0dXJlKX19LHN5bWJvbFNERjpmdW5jdGlvbihlLGkpe3JldHVybiB7dV9pc19zaXplX3pvb21fY29uc3RhbnQ6bmV3IHQuVW5pZm9ybTFpKGUsaS51X2lzX3NpemVfem9vbV9jb25zdGFudCksdV9pc19zaXplX2ZlYXR1cmVfY29uc3RhbnQ6bmV3IHQuVW5pZm9ybTFpKGUsaS51X2lzX3NpemVfZmVhdHVyZV9jb25zdGFudCksdV9zaXplX3Q6bmV3IHQuVW5pZm9ybTFmKGUsaS51X3NpemVfdCksdV9zaXplOm5ldyB0LlVuaWZvcm0xZihlLGkudV9zaXplKSx1X2NhbWVyYV90b19jZW50ZXJfZGlzdGFuY2U6bmV3IHQuVW5pZm9ybTFmKGUsaS51X2NhbWVyYV90b19jZW50ZXJfZGlzdGFuY2UpLHVfcGl0Y2g6bmV3IHQuVW5pZm9ybTFmKGUsaS51X3BpdGNoKSx1X3JvdGF0ZV9zeW1ib2w6bmV3IHQuVW5pZm9ybTFpKGUsaS51X3JvdGF0ZV9zeW1ib2wpLHVfYXNwZWN0X3JhdGlvOm5ldyB0LlVuaWZvcm0xZihlLGkudV9hc3BlY3RfcmF0aW8pLHVfZmFkZV9jaGFuZ2U6bmV3IHQuVW5pZm9ybTFmKGUsaS51X2ZhZGVfY2hhbmdlKSx1X21hdHJpeDpuZXcgdC5Vbmlmb3JtTWF0cml4NGYoZSxpLnVfbWF0cml4KSx1X2xhYmVsX3BsYW5lX21hdHJpeDpuZXcgdC5Vbmlmb3JtTWF0cml4NGYoZSxpLnVfbGFiZWxfcGxhbmVfbWF0cml4KSx1X2Nvb3JkX21hdHJpeDpuZXcgdC5Vbmlmb3JtTWF0cml4NGYoZSxpLnVfY29vcmRfbWF0cml4KSx1X2lzX3RleHQ6bmV3IHQuVW5pZm9ybTFpKGUsaS51X2lzX3RleHQpLHVfcGl0Y2hfd2l0aF9tYXA6bmV3IHQuVW5pZm9ybTFpKGUsaS51X3BpdGNoX3dpdGhfbWFwKSx1X3RleHNpemU6bmV3IHQuVW5pZm9ybTJmKGUsaS51X3RleHNpemUpLHVfdGV4dHVyZTpuZXcgdC5Vbmlmb3JtMWkoZSxpLnVfdGV4dHVyZSksdV9nYW1tYV9zY2FsZTpuZXcgdC5Vbmlmb3JtMWYoZSxpLnVfZ2FtbWFfc2NhbGUpLHVfZGV2aWNlX3BpeGVsX3JhdGlvOm5ldyB0LlVuaWZvcm0xZihlLGkudV9kZXZpY2VfcGl4ZWxfcmF0aW8pLHVfaXNfaGFsbzpuZXcgdC5Vbmlmb3JtMWkoZSxpLnVfaXNfaGFsbyl9fSxzeW1ib2xUZXh0QW5kSWNvbjpmdW5jdGlvbihlLGkpe3JldHVybiB7dV9pc19zaXplX3pvb21fY29uc3RhbnQ6bmV3IHQuVW5pZm9ybTFpKGUsaS51X2lzX3NpemVfem9vbV9jb25zdGFudCksdV9pc19zaXplX2ZlYXR1cmVfY29uc3RhbnQ6bmV3IHQuVW5pZm9ybTFpKGUsaS51X2lzX3NpemVfZmVhdHVyZV9jb25zdGFudCksdV9zaXplX3Q6bmV3IHQuVW5pZm9ybTFmKGUsaS51X3NpemVfdCksdV9zaXplOm5ldyB0LlVuaWZvcm0xZihlLGkudV9zaXplKSx1X2NhbWVyYV90b19jZW50ZXJfZGlzdGFuY2U6bmV3IHQuVW5pZm9ybTFmKGUsaS51X2NhbWVyYV90b19jZW50ZXJfZGlzdGFuY2UpLHVfcGl0Y2g6bmV3IHQuVW5pZm9ybTFmKGUsaS51X3BpdGNoKSx1X3JvdGF0ZV9zeW1ib2w6bmV3IHQuVW5pZm9ybTFpKGUsaS51X3JvdGF0ZV9zeW1ib2wpLHVfYXNwZWN0X3JhdGlvOm5ldyB0LlVuaWZvcm0xZihlLGkudV9hc3BlY3RfcmF0aW8pLHVfZmFkZV9jaGFuZ2U6bmV3IHQuVW5pZm9ybTFmKGUsaS51X2ZhZGVfY2hhbmdlKSx1X21hdHJpeDpuZXcgdC5Vbmlmb3JtTWF0cml4NGYoZSxpLnVfbWF0cml4KSx1X2xhYmVsX3BsYW5lX21hdHJpeDpuZXcgdC5Vbmlmb3JtTWF0cml4NGYoZSxpLnVfbGFiZWxfcGxhbmVfbWF0cml4KSx1X2Nvb3JkX21hdHJpeDpuZXcgdC5Vbmlmb3JtTWF0cml4NGYoZSxpLnVfY29vcmRfbWF0cml4KSx1X2lzX3RleHQ6bmV3IHQuVW5pZm9ybTFpKGUsaS51X2lzX3RleHQpLHVfcGl0Y2hfd2l0aF9tYXA6bmV3IHQuVW5pZm9ybTFpKGUsaS51X3BpdGNoX3dpdGhfbWFwKSx1X3RleHNpemU6bmV3IHQuVW5pZm9ybTJmKGUsaS51X3RleHNpemUpLHVfdGV4c2l6ZV9pY29uOm5ldyB0LlVuaWZvcm0yZihlLGkudV90ZXhzaXplX2ljb24pLHVfdGV4dHVyZTpuZXcgdC5Vbmlmb3JtMWkoZSxpLnVfdGV4dHVyZSksdV90ZXh0dXJlX2ljb246bmV3IHQuVW5pZm9ybTFpKGUsaS51X3RleHR1cmVfaWNvbiksdV9nYW1tYV9zY2FsZTpuZXcgdC5Vbmlmb3JtMWYoZSxpLnVfZ2FtbWFfc2NhbGUpLHVfZGV2aWNlX3BpeGVsX3JhdGlvOm5ldyB0LlVuaWZvcm0xZihlLGkudV9kZXZpY2VfcGl4ZWxfcmF0aW8pLHVfaXNfaGFsbzpuZXcgdC5Vbmlmb3JtMWkoZSxpLnVfaXNfaGFsbyl9fSxiYWNrZ3JvdW5kOmZ1bmN0aW9uKGUsaSl7cmV0dXJuIHt1X21hdHJpeDpuZXcgdC5Vbmlmb3JtTWF0cml4NGYoZSxpLnVfbWF0cml4KSx1X29wYWNpdHk6bmV3IHQuVW5pZm9ybTFmKGUsaS51X29wYWNpdHkpLHVfY29sb3I6bmV3IHQuVW5pZm9ybUNvbG9yKGUsaS51X2NvbG9yKX19LGJhY2tncm91bmRQYXR0ZXJuOmZ1bmN0aW9uKGUsaSl7cmV0dXJuIHt1X21hdHJpeDpuZXcgdC5Vbmlmb3JtTWF0cml4NGYoZSxpLnVfbWF0cml4KSx1X29wYWNpdHk6bmV3IHQuVW5pZm9ybTFmKGUsaS51X29wYWNpdHkpLHVfaW1hZ2U6bmV3IHQuVW5pZm9ybTFpKGUsaS51X2ltYWdlKSx1X3BhdHRlcm5fdGxfYTpuZXcgdC5Vbmlmb3JtMmYoZSxpLnVfcGF0dGVybl90bF9hKSx1X3BhdHRlcm5fYnJfYTpuZXcgdC5Vbmlmb3JtMmYoZSxpLnVfcGF0dGVybl9icl9hKSx1X3BhdHRlcm5fdGxfYjpuZXcgdC5Vbmlmb3JtMmYoZSxpLnVfcGF0dGVybl90bF9iKSx1X3BhdHRlcm5fYnJfYjpuZXcgdC5Vbmlmb3JtMmYoZSxpLnVfcGF0dGVybl9icl9iKSx1X3RleHNpemU6bmV3IHQuVW5pZm9ybTJmKGUsaS51X3RleHNpemUpLHVfbWl4Om5ldyB0LlVuaWZvcm0xZihlLGkudV9taXgpLHVfcGF0dGVybl9zaXplX2E6bmV3IHQuVW5pZm9ybTJmKGUsaS51X3BhdHRlcm5fc2l6ZV9hKSx1X3BhdHRlcm5fc2l6ZV9iOm5ldyB0LlVuaWZvcm0yZihlLGkudV9wYXR0ZXJuX3NpemVfYiksdV9zY2FsZV9hOm5ldyB0LlVuaWZvcm0xZihlLGkudV9zY2FsZV9hKSx1X3NjYWxlX2I6bmV3IHQuVW5pZm9ybTFmKGUsaS51X3NjYWxlX2IpLHVfcGl4ZWxfY29vcmRfdXBwZXI6bmV3IHQuVW5pZm9ybTJmKGUsaS51X3BpeGVsX2Nvb3JkX3VwcGVyKSx1X3BpeGVsX2Nvb3JkX2xvd2VyOm5ldyB0LlVuaWZvcm0yZihlLGkudV9waXhlbF9jb29yZF9sb3dlciksdV90aWxlX3VuaXRzX3RvX3BpeGVsczpuZXcgdC5Vbmlmb3JtMWYoZSxpLnVfdGlsZV91bml0c190b19waXhlbHMpfX19O2Z1bmN0aW9uIEtpKGUsaSxvLHIsYSxuLHMpe2Zvcih2YXIgbD1lLmNvbnRleHQsYz1sLmdsLHU9ZS51c2VQcm9ncmFtKCJjb2xsaXNpb25Cb3giKSxoPVtdLHA9MCxkPTAsXz0wO188ci5sZW5ndGg7XysrKXt2YXIgZj1yW19dLG09aS5nZXRUaWxlKGYpLGc9bS5nZXRCdWNrZXQobyk7aWYoZyl7dmFyIHY9Zi5wb3NNYXRyaXg7MD09PWFbMF0mJjA9PT1hWzFdfHwodj1lLnRyYW5zbGF0ZVBvc01hdHJpeChmLnBvc01hdHJpeCxtLGEsbikpO3ZhciB5PXM/Zy50ZXh0Q29sbGlzaW9uQm94OmcuaWNvbkNvbGxpc2lvbkJveCx4PWcuY29sbGlzaW9uQ2lyY2xlQXJyYXk7aWYoeC5sZW5ndGg+MCl7dmFyIGI9dC5jcmVhdGUoKSx3PXY7dC5tdWwoYixnLnBsYWNlbWVudEludlByb2pNYXRyaXgsZS50cmFuc2Zvcm0uZ2xDb29yZE1hdHJpeCksdC5tdWwoYixiLGcucGxhY2VtZW50Vmlld3BvcnRNYXRyaXgpLGgucHVzaCh7Y2lyY2xlQXJyYXk6eCxjaXJjbGVPZmZzZXQ6ZCx0cmFuc2Zvcm06dyxpbnZUcmFuc2Zvcm06Yn0pLGQ9cCs9eC5sZW5ndGgvNDt9eSYmdS5kcmF3KGwsYy5MSU5FUyxJdC5kaXNhYmxlZCxQdC5kaXNhYmxlZCxlLmNvbG9yTW9kZUZvclJlbmRlclBhc3MoKSxDdC5kaXNhYmxlZCx6aSh2LGUudHJhbnNmb3JtLG0pLG8uaWQseS5sYXlvdXRWZXJ0ZXhCdWZmZXIseS5pbmRleEJ1ZmZlcix5LnNlZ21lbnRzLG51bGwsZS50cmFuc2Zvcm0uem9vbSxudWxsLG51bGwseS5jb2xsaXNpb25WZXJ0ZXhCdWZmZXIpO319aWYocyYmaC5sZW5ndGgpe3ZhciBUPWUudXNlUHJvZ3JhbSgiY29sbGlzaW9uQ2lyY2xlIiksRT1uZXcgdC5TdHJ1Y3RBcnJheUxheW91dDJmMWYyaTE2O0UucmVzaXplKDQqcCksRS5fdHJpbSgpO2Zvcih2YXIgST0wLFA9MCxTPWg7UDxTLmxlbmd0aDtQKz0xKWZvcih2YXIgQz1TW1BdLHo9MDt6PEMuY2lyY2xlQXJyYXkubGVuZ3RoLzQ7eisrKXt2YXIgRD00KnosTT1DLmNpcmNsZUFycmF5W0QrMF0sQT1DLmNpcmNsZUFycmF5W0QrMV0sTD1DLmNpcmNsZUFycmF5W0QrMl0sUj1DLmNpcmNsZUFycmF5W0QrM107RS5lbXBsYWNlKEkrKyxNLEEsTCxSLDApLEUuZW1wbGFjZShJKyssTSxBLEwsUiwxKSxFLmVtcGxhY2UoSSsrLE0sQSxMLFIsMiksRS5lbXBsYWNlKEkrKyxNLEEsTCxSLDMpO30oIWppfHxqaS5sZW5ndGg8MipwKSYmKGppPWZ1bmN0aW9uKGUpe3ZhciBpPTIqZSxvPW5ldyB0LlN0cnVjdEFycmF5TGF5b3V0M3VpNjtvLnJlc2l6ZShpKSxvLl90cmltKCk7Zm9yKHZhciByPTA7cjxpO3IrKyl7dmFyIGE9NipyO28udWludDE2W2ErMF09NCpyKzAsby51aW50MTZbYSsxXT00KnIrMSxvLnVpbnQxNlthKzJdPTQqcisyLG8udWludDE2W2ErM109NCpyKzIsby51aW50MTZbYSs0XT00KnIrMyxvLnVpbnQxNlthKzVdPTQqciswO31yZXR1cm4gb30ocCkpO2Zvcih2YXIgaz1sLmNyZWF0ZUluZGV4QnVmZmVyKGppLCEwKSxCPWwuY3JlYXRlVmVydGV4QnVmZmVyKEUsdC5jb2xsaXNpb25DaXJjbGVMYXlvdXQubWVtYmVycywhMCksTz0wLEY9aDtPPEYubGVuZ3RoO08rPTEpe3ZhciBVPUZbT10sTj1EaShVLnRyYW5zZm9ybSxVLmludlRyYW5zZm9ybSxlLnRyYW5zZm9ybSk7VC5kcmF3KGwsYy5UUklBTkdMRVMsSXQuZGlzYWJsZWQsUHQuZGlzYWJsZWQsZS5jb2xvck1vZGVGb3JSZW5kZXJQYXNzKCksQ3QuZGlzYWJsZWQsTixvLmlkLEIsayx0LlNlZ21lbnRWZWN0b3Iuc2ltcGxlU2VnbWVudCgwLDIqVS5jaXJjbGVPZmZzZXQsVS5jaXJjbGVBcnJheS5sZW5ndGgsVS5jaXJjbGVBcnJheS5sZW5ndGgvMiksbnVsbCxlLnRyYW5zZm9ybS56b29tLG51bGwsbnVsbCxudWxsKTt9Qi5kZXN0cm95KCksay5kZXN0cm95KCk7fX12YXIgWWk9dC5pZGVudGl0eShuZXcgRmxvYXQzMkFycmF5KDE2KSk7ZnVuY3Rpb24gSmkoZSxpLG8scixhLG4pe3ZhciBzPXQuZ2V0QW5jaG9yQWxpZ25tZW50KGUpLGw9LShzLmhvcml6b250YWxBbGlnbi0uNSkqaSxjPS0ocy52ZXJ0aWNhbEFsaWduLS41KSpvLHU9dC5ldmFsdWF0ZVZhcmlhYmxlT2Zmc2V0KGUscik7cmV0dXJuIG5ldyB0LlBvaW50KChsL2ErdVswXSkqbiwoYy9hK3VbMV0pKm4pfWZ1bmN0aW9uIFFpKGUsaSxvLHIsYSxuLHMsbCxjLHUsaCl7dmFyIHA9ZS50ZXh0LnBsYWNlZFN5bWJvbEFycmF5LGQ9ZS50ZXh0LmR5bmFtaWNMYXlvdXRWZXJ0ZXhBcnJheSxfPWUuaWNvbi5keW5hbWljTGF5b3V0VmVydGV4QXJyYXksZj17fTtkLmNsZWFyKCk7Zm9yKHZhciBtPTA7bTxwLmxlbmd0aDttKyspe3ZhciBnPXAuZ2V0KG0pLHY9Zy5oaWRkZW58fCFnLmNyb3NzVGlsZUlEfHxlLmFsbG93VmVydGljYWxQbGFjZW1lbnQmJiFnLnBsYWNlZE9yaWVudGF0aW9uP251bGw6cltnLmNyb3NzVGlsZUlEXTtpZih2KXt2YXIgeT1uZXcgdC5Qb2ludChnLmFuY2hvclgsZy5hbmNob3JZKSx4PSR0KHksbz9sOnMpLGI9dGUobi5jYW1lcmFUb0NlbnRlckRpc3RhbmNlLHguc2lnbmVkRGlzdGFuY2VGcm9tQ2FtZXJhKSx3PWEuZXZhbHVhdGVTaXplRm9yRmVhdHVyZShlLnRleHRTaXplRGF0YSx1LGcpKmIvdC5PTkVfRU07byYmKHcqPWUudGlsZVBpeGVsUmF0aW8vYyk7Zm9yKHZhciBUPUppKHYuYW5jaG9yLHYud2lkdGgsdi5oZWlnaHQsdi50ZXh0T2Zmc2V0LHYudGV4dEJveFNjYWxlLHcpLEU9bz8kdCh5LmFkZChUKSxzKS5wb2ludDp4LnBvaW50LmFkZChpP1Qucm90YXRlKC1uLmFuZ2xlKTpUKSxJPWUuYWxsb3dWZXJ0aWNhbFBsYWNlbWVudCYmZy5wbGFjZWRPcmllbnRhdGlvbj09PXQuV3JpdGluZ01vZGUudmVydGljYWw/TWF0aC5QSS8yOjAsUD0wO1A8Zy5udW1HbHlwaHM7UCsrKXQuYWRkRHluYW1pY0F0dHJpYnV0ZXMoZCxFLEkpO2gmJmcuYXNzb2NpYXRlZEljb25JbmRleD49MCYmKGZbZy5hc3NvY2lhdGVkSWNvbkluZGV4XT17c2hpZnRlZEFuY2hvcjpFLGFuZ2xlOkl9KTt9ZWxzZSBjZShnLm51bUdseXBocyxkKTt9aWYoaCl7Xy5jbGVhcigpO2Zvcih2YXIgUz1lLmljb24ucGxhY2VkU3ltYm9sQXJyYXksQz0wO0M8Uy5sZW5ndGg7QysrKXt2YXIgej1TLmdldChDKTtpZih6LmhpZGRlbiljZSh6Lm51bUdseXBocyxfKTtlbHNlIHt2YXIgRD1mW0NdO2lmKEQpZm9yKHZhciBNPTA7TTx6Lm51bUdseXBocztNKyspdC5hZGREeW5hbWljQXR0cmlidXRlcyhfLEQuc2hpZnRlZEFuY2hvcixELmFuZ2xlKTtlbHNlIGNlKHoubnVtR2x5cGhzLF8pO319ZS5pY29uLmR5bmFtaWNMYXlvdXRWZXJ0ZXhCdWZmZXIudXBkYXRlRGF0YShfKTt9ZS50ZXh0LmR5bmFtaWNMYXlvdXRWZXJ0ZXhCdWZmZXIudXBkYXRlRGF0YShkKTt9ZnVuY3Rpb24gJGkodCxlLGkpe3JldHVybiBpLmljb25zSW5UZXh0JiZlPyJzeW1ib2xUZXh0QW5kSWNvbiI6dD8ic3ltYm9sU0RGIjoic3ltYm9sSWNvbiJ9ZnVuY3Rpb24gdG8oZSxpLG8scixhLG4scyxsLGMsdSxoLHApe2Zvcih2YXIgZD1lLmNvbnRleHQsXz1kLmdsLGY9ZS50cmFuc2Zvcm0sbT0ibWFwIj09PWwsZz0ibWFwIj09PWMsdj1tJiYicG9pbnQiIT09by5sYXlvdXQuZ2V0KCJzeW1ib2wtcGxhY2VtZW50IikseT1tJiYhZyYmIXYseD12b2lkIDAhPT1vLmxheW91dC5nZXQoInN5bWJvbC1zb3J0LWtleSIpLmNvbnN0YW50T3IoMSksYj1lLmRlcHRoTW9kZUZvclN1YmxheWVyKDAsSXQuUmVhZE9ubHkpLHc9by5sYXlvdXQuZ2V0KCJ0ZXh0LXZhcmlhYmxlLWFuY2hvciIpLFQ9W10sRT0wLEk9cjtFPEkubGVuZ3RoO0UrPTEpe3ZhciBQPUlbRV0sUz1pLmdldFRpbGUoUCksQz1TLmdldEJ1Y2tldChvKTtpZihDKXt2YXIgej1hP0MudGV4dDpDLmljb247aWYoeiYmei5zZWdtZW50cy5nZXQoKS5sZW5ndGgpe3ZhciBEPXoucHJvZ3JhbUNvbmZpZ3VyYXRpb25zLmdldChvLmlkKSxNPWF8fEMuc2RmSWNvbnMsQT1hP0MudGV4dFNpemVEYXRhOkMuaWNvblNpemVEYXRhLEw9Z3x8MCE9PWYucGl0Y2gsUj1lLnVzZVByb2dyYW0oJGkoTSxhLEMpLEQpLGs9dC5ldmFsdWF0ZVNpemVGb3Jab29tKEEsZi56b29tKSxCPXZvaWQgMCxPPVswLDBdLEY9dm9pZCAwLFU9dm9pZCAwLE49bnVsbCxaPXZvaWQgMDtpZihhKUY9Uy5nbHlwaEF0bGFzVGV4dHVyZSxVPV8uTElORUFSLEI9Uy5nbHlwaEF0bGFzVGV4dHVyZS5zaXplLEMuaWNvbnNJblRleHQmJihPPVMuaW1hZ2VBdGxhc1RleHR1cmUuc2l6ZSxOPVMuaW1hZ2VBdGxhc1RleHR1cmUsWj1MfHxlLm9wdGlvbnMucm90YXRpbmd8fGUub3B0aW9ucy56b29taW5nfHwiY29tcG9zaXRlIj09PUEua2luZHx8ImNhbWVyYSI9PT1BLmtpbmQ/Xy5MSU5FQVI6Xy5ORUFSRVNUKTtlbHNlIHt2YXIgaj0xIT09by5sYXlvdXQuZ2V0KCJpY29uLXNpemUiKS5jb25zdGFudE9yKDApfHxDLmljb25zTmVlZExpbmVhcjtGPVMuaW1hZ2VBdGxhc1RleHR1cmUsVT1NfHxlLm9wdGlvbnMucm90YXRpbmd8fGUub3B0aW9ucy56b29taW5nfHxqfHxMP18uTElORUFSOl8uTkVBUkVTVCxCPVMuaW1hZ2VBdGxhc1RleHR1cmUuc2l6ZTt9dmFyIHE9cGUoUywxLGUudHJhbnNmb3JtLnpvb20pLFY9SnQoUC5wb3NNYXRyaXgsZyxtLGUudHJhbnNmb3JtLHEpLEc9UXQoUC5wb3NNYXRyaXgsZyxtLGUudHJhbnNmb3JtLHEpLFc9dyYmQy5oYXNUZXh0RGF0YSgpLFg9Im5vbmUiIT09by5sYXlvdXQuZ2V0KCJpY29uLXRleHQtZml0IikmJlcmJkMuaGFzSWNvbkRhdGEoKTt2JiZpZShDLFAucG9zTWF0cml4LGUsYSxWLEcsZyx1KTt2YXIgSD1lLnRyYW5zbGF0ZVBvc01hdHJpeChQLnBvc01hdHJpeCxTLG4scyksSz12fHxhJiZ3fHxYP1lpOlYsWT1lLnRyYW5zbGF0ZVBvc01hdHJpeChHLFMsbixzLCEwKSxKPU0mJjAhPT1vLnBhaW50LmdldChhPyJ0ZXh0LWhhbG8td2lkdGgiOiJpY29uLWhhbG8td2lkdGgiKS5jb25zdGFudE9yKDEpLFE9e3Byb2dyYW06UixidWZmZXJzOnosdW5pZm9ybVZhbHVlczpNP0MuaWNvbnNJblRleHQ/R2koQS5raW5kLGsseSxnLGUsSCxLLFksQixPKTpWaShBLmtpbmQsayx5LGcsZSxILEssWSxhLEIsITApOnFpKEEua2luZCxrLHksZyxlLEgsSyxZLGEsQiksYXRsYXNUZXh0dXJlOkYsYXRsYXNUZXh0dXJlSWNvbjpOLGF0bGFzSW50ZXJwb2xhdGlvbjpVLGF0bGFzSW50ZXJwb2xhdGlvbkljb246Wixpc1NERjpNLGhhc0hhbG86Sn07aWYoeClmb3IodmFyICQ9MCx0dD16LnNlZ21lbnRzLmdldCgpOyQ8dHQubGVuZ3RoOyQrPTEpe3ZhciBldD10dFskXTtULnB1c2goe3NlZ21lbnRzOm5ldyB0LlNlZ21lbnRWZWN0b3IoW2V0XSksc29ydEtleTpldC5zb3J0S2V5LHN0YXRlOlF9KTt9ZWxzZSBULnB1c2goe3NlZ21lbnRzOnouc2VnbWVudHMsc29ydEtleTowLHN0YXRlOlF9KTt9fX14JiZULnNvcnQoKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuc29ydEtleS1lLnNvcnRLZXl9KSk7Zm9yKHZhciBpdD0wLG90PVQ7aXQ8b3QubGVuZ3RoO2l0Kz0xKXt2YXIgcnQ9b3RbaXRdLGF0PXJ0LnN0YXRlO2lmKGQuYWN0aXZlVGV4dHVyZS5zZXQoXy5URVhUVVJFMCksYXQuYXRsYXNUZXh0dXJlLmJpbmQoYXQuYXRsYXNJbnRlcnBvbGF0aW9uLF8uQ0xBTVBfVE9fRURHRSksYXQuYXRsYXNUZXh0dXJlSWNvbiYmKGQuYWN0aXZlVGV4dHVyZS5zZXQoXy5URVhUVVJFMSksYXQuYXRsYXNUZXh0dXJlSWNvbiYmYXQuYXRsYXNUZXh0dXJlSWNvbi5iaW5kKGF0LmF0bGFzSW50ZXJwb2xhdGlvbkljb24sXy5DTEFNUF9UT19FREdFKSksYXQuaXNTREYpe3ZhciBudD1hdC51bmlmb3JtVmFsdWVzO2F0Lmhhc0hhbG8mJihudC51X2lzX2hhbG89MSxlbyhhdC5idWZmZXJzLHJ0LnNlZ21lbnRzLG8sZSxhdC5wcm9ncmFtLGIsaCxwLG50KSksbnQudV9pc19oYWxvPTA7fWVvKGF0LmJ1ZmZlcnMscnQuc2VnbWVudHMsbyxlLGF0LnByb2dyYW0sYixoLHAsYXQudW5pZm9ybVZhbHVlcyk7fX1mdW5jdGlvbiBlbyh0LGUsaSxvLHIsYSxuLHMsbCl7dmFyIGM9by5jb250ZXh0O3IuZHJhdyhjLGMuZ2wuVFJJQU5HTEVTLGEsbixzLEN0LmRpc2FibGVkLGwsaS5pZCx0LmxheW91dFZlcnRleEJ1ZmZlcix0LmluZGV4QnVmZmVyLGUsaS5wYWludCxvLnRyYW5zZm9ybS56b29tLHQucHJvZ3JhbUNvbmZpZ3VyYXRpb25zLmdldChpLmlkKSx0LmR5bmFtaWNMYXlvdXRWZXJ0ZXhCdWZmZXIsdC5vcGFjaXR5VmVydGV4QnVmZmVyKTt9ZnVuY3Rpb24gaW8odCxlLGksbyxyLGEsbil7dmFyIHMsbCxjLHUsaCxwPXQuY29udGV4dC5nbCxkPWkucGFpbnQuZ2V0KCJmaWxsLXBhdHRlcm4iKSxfPWQmJmQuY29uc3RhbnRPcigxKSxmPWkuZ2V0Q3Jvc3NmYWRlUGFyYW1ldGVycygpO24/KGw9XyYmIWkuZ2V0UGFpbnRQcm9wZXJ0eSgiZmlsbC1vdXRsaW5lLWNvbG9yIik/ImZpbGxPdXRsaW5lUGF0dGVybiI6ImZpbGxPdXRsaW5lIixzPXAuTElORVMpOihsPV8/ImZpbGxQYXR0ZXJuIjoiZmlsbCIscz1wLlRSSUFOR0xFUyk7Zm9yKHZhciBtPTAsZz1vO208Zy5sZW5ndGg7bSs9MSl7dmFyIHY9Z1ttXSx5PWUuZ2V0VGlsZSh2KTtpZighX3x8eS5wYXR0ZXJuc0xvYWRlZCgpKXt2YXIgeD15LmdldEJ1Y2tldChpKTtpZih4KXt2YXIgYj14LnByb2dyYW1Db25maWd1cmF0aW9ucy5nZXQoaS5pZCksdz10LnVzZVByb2dyYW0obCxiKTtfJiYodC5jb250ZXh0LmFjdGl2ZVRleHR1cmUuc2V0KHAuVEVYVFVSRTApLHkuaW1hZ2VBdGxhc1RleHR1cmUuYmluZChwLkxJTkVBUixwLkNMQU1QX1RPX0VER0UpLGIudXBkYXRlUGFpbnRCdWZmZXJzKGYpKTt2YXIgVD1kLmNvbnN0YW50T3IobnVsbCk7aWYoVCYmeS5pbWFnZUF0bGFzKXt2YXIgRT15LmltYWdlQXRsYXMsST1FLnBhdHRlcm5Qb3NpdGlvbnNbVC50by50b1N0cmluZygpXSxQPUUucGF0dGVyblBvc2l0aW9uc1tULmZyb20udG9TdHJpbmcoKV07SSYmUCYmYi5zZXRDb25zdGFudFBhdHRlcm5Qb3NpdGlvbnMoSSxQKTt9dmFyIFM9dC50cmFuc2xhdGVQb3NNYXRyaXgodi5wb3NNYXRyaXgseSxpLnBhaW50LmdldCgiZmlsbC10cmFuc2xhdGUiKSxpLnBhaW50LmdldCgiZmlsbC10cmFuc2xhdGUtYW5jaG9yIikpO2lmKG4pe3U9eC5pbmRleEJ1ZmZlcjIsaD14LnNlZ21lbnRzMjt2YXIgQz1bcC5kcmF3aW5nQnVmZmVyV2lkdGgscC5kcmF3aW5nQnVmZmVySGVpZ2h0XTtjPSJmaWxsT3V0bGluZVBhdHRlcm4iPT09bCYmXz9TaShTLHQsZix5LEMpOlBpKFMsQyk7fWVsc2UgdT14LmluZGV4QnVmZmVyLGg9eC5zZWdtZW50cyxjPV8/SWkoUyx0LGYseSk6RWkoUyk7dy5kcmF3KHQuY29udGV4dCxzLHIsdC5zdGVuY2lsTW9kZUZvckNsaXBwaW5nKHYpLGEsQ3QuZGlzYWJsZWQsYyxpLmlkLHgubGF5b3V0VmVydGV4QnVmZmVyLHUsaCxpLnBhaW50LHQudHJhbnNmb3JtLnpvb20sYik7fX19fWZ1bmN0aW9uIG9vKHQsZSxpLG8scixhLG4pe2Zvcih2YXIgcz10LmNvbnRleHQsbD1zLmdsLGM9aS5wYWludC5nZXQoImZpbGwtZXh0cnVzaW9uLXBhdHRlcm4iKSx1PWMuY29uc3RhbnRPcigxKSxoPWkuZ2V0Q3Jvc3NmYWRlUGFyYW1ldGVycygpLHA9aS5wYWludC5nZXQoImZpbGwtZXh0cnVzaW9uLW9wYWNpdHkiKSxkPTAsXz1vO2Q8Xy5sZW5ndGg7ZCs9MSl7dmFyIGY9X1tkXSxtPWUuZ2V0VGlsZShmKSxnPW0uZ2V0QnVja2V0KGkpO2lmKGcpe3ZhciB2PWcucHJvZ3JhbUNvbmZpZ3VyYXRpb25zLmdldChpLmlkKSx5PXQudXNlUHJvZ3JhbSh1PyJmaWxsRXh0cnVzaW9uUGF0dGVybiI6ImZpbGxFeHRydXNpb24iLHYpO3UmJih0LmNvbnRleHQuYWN0aXZlVGV4dHVyZS5zZXQobC5URVhUVVJFMCksbS5pbWFnZUF0bGFzVGV4dHVyZS5iaW5kKGwuTElORUFSLGwuQ0xBTVBfVE9fRURHRSksdi51cGRhdGVQYWludEJ1ZmZlcnMoaCkpO3ZhciB4PWMuY29uc3RhbnRPcihudWxsKTtpZih4JiZtLmltYWdlQXRsYXMpe3ZhciBiPW0uaW1hZ2VBdGxhcyx3PWIucGF0dGVyblBvc2l0aW9uc1t4LnRvLnRvU3RyaW5nKCldLFQ9Yi5wYXR0ZXJuUG9zaXRpb25zW3guZnJvbS50b1N0cmluZygpXTt3JiZUJiZ2LnNldENvbnN0YW50UGF0dGVyblBvc2l0aW9ucyh3LFQpO312YXIgRT10LnRyYW5zbGF0ZVBvc01hdHJpeChmLnBvc01hdHJpeCxtLGkucGFpbnQuZ2V0KCJmaWxsLWV4dHJ1c2lvbi10cmFuc2xhdGUiKSxpLnBhaW50LmdldCgiZmlsbC1leHRydXNpb24tdHJhbnNsYXRlLWFuY2hvciIpKSxJPWkucGFpbnQuZ2V0KCJmaWxsLWV4dHJ1c2lvbi12ZXJ0aWNhbC1ncmFkaWVudCIpLFA9dT9UaShFLHQsSSxwLGYsaCxtKTp3aShFLHQsSSxwKTt5LmRyYXcocyxzLmdsLlRSSUFOR0xFUyxyLGEsbixDdC5iYWNrQ0NXLFAsaS5pZCxnLmxheW91dFZlcnRleEJ1ZmZlcixnLmluZGV4QnVmZmVyLGcuc2VnbWVudHMsaS5wYWludCx0LnRyYW5zZm9ybS56b29tLHYpO319fWZ1bmN0aW9uIHJvKGUsaSxvLHIsYSxuKXt2YXIgcz1lLmNvbnRleHQsbD1zLmdsLGM9aS5mYm87aWYoYyl7dmFyIHU9ZS51c2VQcm9ncmFtKCJoaWxsc2hhZGUiKTtzLmFjdGl2ZVRleHR1cmUuc2V0KGwuVEVYVFVSRTApLGwuYmluZFRleHR1cmUobC5URVhUVVJFXzJELGMuY29sb3JBdHRhY2htZW50LmdldCgpKTt2YXIgaD1mdW5jdGlvbihlLGksbyl7dmFyIHI9by5wYWludC5nZXQoImhpbGxzaGFkZS1zaGFkb3ctY29sb3IiKSxhPW8ucGFpbnQuZ2V0KCJoaWxsc2hhZGUtaGlnaGxpZ2h0LWNvbG9yIiksbj1vLnBhaW50LmdldCgiaGlsbHNoYWRlLWFjY2VudC1jb2xvciIpLHM9by5wYWludC5nZXQoImhpbGxzaGFkZS1pbGx1bWluYXRpb24tZGlyZWN0aW9uIikqKE1hdGguUEkvMTgwKTsidmlld3BvcnQiPT09by5wYWludC5nZXQoImhpbGxzaGFkZS1pbGx1bWluYXRpb24tYW5jaG9yIikmJihzLT1lLnRyYW5zZm9ybS5hbmdsZSk7dmFyIGwsYyx1LGg9IWUub3B0aW9ucy5tb3Zpbmc7cmV0dXJuIHt1X21hdHJpeDplLnRyYW5zZm9ybS5jYWxjdWxhdGVQb3NNYXRyaXgoaS50aWxlSUQudG9VbndyYXBwZWQoKSxoKSx1X2ltYWdlOjAsdV9sYXRyYW5nZToobD1pLnRpbGVJRCxjPU1hdGgucG93KDIsbC5jYW5vbmljYWwueiksdT1sLmNhbm9uaWNhbC55LFtuZXcgdC5NZXJjYXRvckNvb3JkaW5hdGUoMCx1L2MpLnRvTG5nTGF0KCkubGF0LG5ldyB0Lk1lcmNhdG9yQ29vcmRpbmF0ZSgwLCh1KzEpL2MpLnRvTG5nTGF0KCkubGF0XSksdV9saWdodDpbby5wYWludC5nZXQoImhpbGxzaGFkZS1leGFnZ2VyYXRpb24iKSxzXSx1X3NoYWRvdzpyLHVfaGlnaGxpZ2h0OmEsdV9hY2NlbnQ6bn19KGUsaSxvKTt1LmRyYXcocyxsLlRSSUFOR0xFUyxyLGEsbixDdC5kaXNhYmxlZCxoLG8uaWQsZS5yYXN0ZXJCb3VuZHNCdWZmZXIsZS5xdWFkVHJpYW5nbGVJbmRleEJ1ZmZlcixlLnJhc3RlckJvdW5kc1NlZ21lbnRzKTt9fWZ1bmN0aW9uIGFvKGUsaSxvLHIsYSxuLHMpe3ZhciBsPWUuY29udGV4dCxjPWwuZ2wsdT1pLmRlbTtpZih1JiZ1LmRhdGEpe3ZhciBoPXUuZGltLHA9dS5zdHJpZGUsZD11LmdldFBpeGVscygpO2lmKGwuYWN0aXZlVGV4dHVyZS5zZXQoYy5URVhUVVJFMSksbC5waXhlbFN0b3JlVW5wYWNrUHJlbXVsdGlwbHlBbHBoYS5zZXQoITEpLGkuZGVtVGV4dHVyZT1pLmRlbVRleHR1cmV8fGUuZ2V0VGlsZVRleHR1cmUocCksaS5kZW1UZXh0dXJlKXt2YXIgXz1pLmRlbVRleHR1cmU7Xy51cGRhdGUoZCx7cHJlbXVsdGlwbHk6ITF9KSxfLmJpbmQoYy5ORUFSRVNULGMuQ0xBTVBfVE9fRURHRSk7fWVsc2UgaS5kZW1UZXh0dXJlPW5ldyB0LlRleHR1cmUobCxkLGMuUkdCQSx7cHJlbXVsdGlwbHk6ITF9KSxpLmRlbVRleHR1cmUuYmluZChjLk5FQVJFU1QsYy5DTEFNUF9UT19FREdFKTtsLmFjdGl2ZVRleHR1cmUuc2V0KGMuVEVYVFVSRTApO3ZhciBmPWkuZmJvO2lmKCFmKXt2YXIgbT1uZXcgdC5UZXh0dXJlKGwse3dpZHRoOmgsaGVpZ2h0OmgsZGF0YTpudWxsfSxjLlJHQkEpO20uYmluZChjLkxJTkVBUixjLkNMQU1QX1RPX0VER0UpLChmPWkuZmJvPWwuY3JlYXRlRnJhbWVidWZmZXIoaCxoLCEwKSkuY29sb3JBdHRhY2htZW50LnNldChtLnRleHR1cmUpO31sLmJpbmRGcmFtZWJ1ZmZlci5zZXQoZi5mcmFtZWJ1ZmZlciksbC52aWV3cG9ydC5zZXQoWzAsMCxoLGhdKSxlLnVzZVByb2dyYW0oImhpbGxzaGFkZVByZXBhcmUiKS5kcmF3KGwsYy5UUklBTkdMRVMsYSxuLHMsQ3QuZGlzYWJsZWQsZnVuY3Rpb24oZSxpLG8pe3ZhciByPWkuc3RyaWRlLGE9dC5jcmVhdGUoKTtyZXR1cm4gdC5vcnRobyhhLDAsdC5FWFRFTlQsLXQuRVhURU5ULDAsMCwxKSx0LnRyYW5zbGF0ZShhLGEsWzAsLXQuRVhURU5ULDBdKSx7dV9tYXRyaXg6YSx1X2ltYWdlOjEsdV9kaW1lbnNpb246W3Iscl0sdV96b29tOmUub3ZlcnNjYWxlZFosdV9tYXh6b29tOm8sdV91bnBhY2s6aS5nZXRVbnBhY2tWZWN0b3IoKX19KGkudGlsZUlELHUsciksby5pZCxlLnJhc3RlckJvdW5kc0J1ZmZlcixlLnF1YWRUcmlhbmdsZUluZGV4QnVmZmVyLGUucmFzdGVyQm91bmRzU2VnbWVudHMpLGkubmVlZHNIaWxsc2hhZGVQcmVwYXJlPSExO319ZnVuY3Rpb24gbm8oZSxpLG8scixhKXt2YXIgbj1yLnBhaW50LmdldCgicmFzdGVyLWZhZGUtZHVyYXRpb24iKTtpZihuPjApe3ZhciBzPXQuYnJvd3Nlci5ub3coKSxsPShzLWUudGltZUFkZGVkKS9uLGM9aT8ocy1pLnRpbWVBZGRlZCkvbjotMSx1PW8uZ2V0U291cmNlKCksaD1hLmNvdmVyaW5nWm9vbUxldmVsKHt0aWxlU2l6ZTp1LnRpbGVTaXplLHJvdW5kWm9vbTp1LnJvdW5kWm9vbX0pLHA9IWl8fE1hdGguYWJzKGkudGlsZUlELm92ZXJzY2FsZWRaLWgpPk1hdGguYWJzKGUudGlsZUlELm92ZXJzY2FsZWRaLWgpLGQ9cCYmZS5yZWZyZXNoZWRVcG9uRXhwaXJhdGlvbj8xOnQuY2xhbXAocD9sOjEtYywwLDEpO3JldHVybiBlLnJlZnJlc2hlZFVwb25FeHBpcmF0aW9uJiZsPj0xJiYoZS5yZWZyZXNoZWRVcG9uRXhwaXJhdGlvbj0hMSksaT97b3BhY2l0eToxLG1peDoxLWR9OntvcGFjaXR5OmQsbWl4OjB9fXJldHVybiB7b3BhY2l0eToxLG1peDowfX12YXIgc289bmV3IHQuQ29sb3IoMSwwLDAsMSksbG89bmV3IHQuQ29sb3IoMCwxLDAsMSksY289bmV3IHQuQ29sb3IoMCwwLDEsMSksdW89bmV3IHQuQ29sb3IoMSwwLDEsMSksaG89bmV3IHQuQ29sb3IoMCwxLDEsMSk7ZnVuY3Rpb24gcG8odCxlLGksbyl7Zm8odCwwLGUraS8yLHQudHJhbnNmb3JtLndpZHRoLGksbyk7fWZ1bmN0aW9uIF9vKHQsZSxpLG8pe2ZvKHQsZS1pLzIsMCxpLHQudHJhbnNmb3JtLmhlaWdodCxvKTt9ZnVuY3Rpb24gZm8oZSxpLG8scixhLG4pe3ZhciBzPWUuY29udGV4dCxsPXMuZ2w7bC5lbmFibGUobC5TQ0lTU09SX1RFU1QpLGwuc2Npc3NvcihpKnQuYnJvd3Nlci5kZXZpY2VQaXhlbFJhdGlvLG8qdC5icm93c2VyLmRldmljZVBpeGVsUmF0aW8scip0LmJyb3dzZXIuZGV2aWNlUGl4ZWxSYXRpbyxhKnQuYnJvd3Nlci5kZXZpY2VQaXhlbFJhdGlvKSxzLmNsZWFyKHtjb2xvcjpufSksbC5kaXNhYmxlKGwuU0NJU1NPUl9URVNUKTt9ZnVuY3Rpb24gbW8oZSxpLG8pe3ZhciByPWUuY29udGV4dCxhPXIuZ2wsbj1vLnBvc01hdHJpeCxzPWUudXNlUHJvZ3JhbSgiZGVidWciKSxsPUl0LmRpc2FibGVkLGM9UHQuZGlzYWJsZWQsdT1lLmNvbG9yTW9kZUZvclJlbmRlclBhc3MoKTtyLmFjdGl2ZVRleHR1cmUuc2V0KGEuVEVYVFVSRTApLGUuZW1wdHlUZXh0dXJlLmJpbmQoYS5MSU5FQVIsYS5DTEFNUF9UT19FREdFKSxzLmRyYXcocixhLkxJTkVfU1RSSVAsbCxjLHUsQ3QuZGlzYWJsZWQsTWkobix0LkNvbG9yLnJlZCksIiRkZWJ1ZyIsZS5kZWJ1Z0J1ZmZlcixlLnRpbGVCb3JkZXJJbmRleEJ1ZmZlcixlLmRlYnVnU2VnbWVudHMpO3ZhciBoPWkuZ2V0VGlsZUJ5SUQoby5rZXkpLmxhdGVzdFJhd1RpbGVEYXRhLHA9TWF0aC5mbG9vcigoaCYmaC5ieXRlTGVuZ3RofHwwKS8xMDI0KSxkPWkuZ2V0VGlsZShvKS50aWxlU2l6ZSxfPTUxMi9NYXRoLm1pbihkLDUxMikqKG8ub3ZlcnNjYWxlZFovZS50cmFuc2Zvcm0uem9vbSkqLjUsZj1vLmNhbm9uaWNhbC50b1N0cmluZygpO28ub3ZlcnNjYWxlZFohPT1vLmNhbm9uaWNhbC56JiYoZis9IiA9PiAiK28ub3ZlcnNjYWxlZFopLGZ1bmN0aW9uKHQsZSl7dC5pbml0RGVidWdPdmVybGF5Q2FudmFzKCk7dmFyIGk9dC5kZWJ1Z092ZXJsYXlDYW52YXMsbz10LmNvbnRleHQuZ2wscj10LmRlYnVnT3ZlcmxheUNhbnZhcy5nZXRDb250ZXh0KCIyZCIpO3IuY2xlYXJSZWN0KDAsMCxpLndpZHRoLGkuaGVpZ2h0KSxyLnNoYWRvd0NvbG9yPSJ3aGl0ZSIsci5zaGFkb3dCbHVyPTIsci5saW5lV2lkdGg9MS41LHIuc3Ryb2tlU3R5bGU9IndoaXRlIixyLnRleHRCYXNlbGluZT0idG9wIixyLmZvbnQ9ImJvbGQgMzZweCBPcGVuIFNhbnMsIHNhbnMtc2VyaWYiLHIuZmlsbFRleHQoZSw1LDUpLHIuc3Ryb2tlVGV4dChlLDUsNSksdC5kZWJ1Z092ZXJsYXlUZXh0dXJlLnVwZGF0ZShpKSx0LmRlYnVnT3ZlcmxheVRleHR1cmUuYmluZChvLkxJTkVBUixvLkNMQU1QX1RPX0VER0UpO30oZSxmKyIgIitwKyJrYiIpLHMuZHJhdyhyLGEuVFJJQU5HTEVTLGwsYyxTdC5hbHBoYUJsZW5kZWQsQ3QuZGlzYWJsZWQsTWkobix0LkNvbG9yLnRyYW5zcGFyZW50LF8pLCIkZGVidWciLGUuZGVidWdCdWZmZXIsZS5xdWFkVHJpYW5nbGVJbmRleEJ1ZmZlcixlLmRlYnVnU2VnbWVudHMpO312YXIgZ289e3N5bWJvbDpmdW5jdGlvbihlLGksbyxyLGEpe2lmKCJ0cmFuc2x1Y2VudCI9PT1lLnJlbmRlclBhc3Mpe3ZhciBuPVB0LmRpc2FibGVkLHM9ZS5jb2xvck1vZGVGb3JSZW5kZXJQYXNzKCk7by5sYXlvdXQuZ2V0KCJ0ZXh0LXZhcmlhYmxlLWFuY2hvciIpJiZmdW5jdGlvbihlLGksbyxyLGEsbixzKXtmb3IodmFyIGw9aS50cmFuc2Zvcm0sYz0ibWFwIj09PWEsdT0ibWFwIj09PW4saD0wLHA9ZTtoPHAubGVuZ3RoO2grPTEpe3ZhciBkPXBbaF0sXz1yLmdldFRpbGUoZCksZj1fLmdldEJ1Y2tldChvKTtpZihmJiZmLnRleHQmJmYudGV4dC5zZWdtZW50cy5nZXQoKS5sZW5ndGgpe3ZhciBtPXQuZXZhbHVhdGVTaXplRm9yWm9vbShmLnRleHRTaXplRGF0YSxsLnpvb20pLGc9cGUoXywxLGkudHJhbnNmb3JtLnpvb20pLHY9SnQoZC5wb3NNYXRyaXgsdSxjLGkudHJhbnNmb3JtLGcpLHk9Im5vbmUiIT09by5sYXlvdXQuZ2V0KCJpY29uLXRleHQtZml0IikmJmYuaGFzSWNvbkRhdGEoKTtpZihtKXt2YXIgeD1NYXRoLnBvdygyLGwuem9vbS1fLnRpbGVJRC5vdmVyc2NhbGVkWik7UWkoZixjLHUscyx0LnN5bWJvbFNpemUsbCx2LGQucG9zTWF0cml4LHgsbSx5KTt9fX19KHIsZSxvLGksby5sYXlvdXQuZ2V0KCJ0ZXh0LXJvdGF0aW9uLWFsaWdubWVudCIpLG8ubGF5b3V0LmdldCgidGV4dC1waXRjaC1hbGlnbm1lbnQiKSxhKSwwIT09by5wYWludC5nZXQoImljb24tb3BhY2l0eSIpLmNvbnN0YW50T3IoMSkmJnRvKGUsaSxvLHIsITEsby5wYWludC5nZXQoImljb24tdHJhbnNsYXRlIiksby5wYWludC5nZXQoImljb24tdHJhbnNsYXRlLWFuY2hvciIpLG8ubGF5b3V0LmdldCgiaWNvbi1yb3RhdGlvbi1hbGlnbm1lbnQiKSxvLmxheW91dC5nZXQoImljb24tcGl0Y2gtYWxpZ25tZW50Iiksby5sYXlvdXQuZ2V0KCJpY29uLWtlZXAtdXByaWdodCIpLG4scyksMCE9PW8ucGFpbnQuZ2V0KCJ0ZXh0LW9wYWNpdHkiKS5jb25zdGFudE9yKDEpJiZ0byhlLGksbyxyLCEwLG8ucGFpbnQuZ2V0KCJ0ZXh0LXRyYW5zbGF0ZSIpLG8ucGFpbnQuZ2V0KCJ0ZXh0LXRyYW5zbGF0ZS1hbmNob3IiKSxvLmxheW91dC5nZXQoInRleHQtcm90YXRpb24tYWxpZ25tZW50Iiksby5sYXlvdXQuZ2V0KCJ0ZXh0LXBpdGNoLWFsaWdubWVudCIpLG8ubGF5b3V0LmdldCgidGV4dC1rZWVwLXVwcmlnaHQiKSxuLHMpLGkubWFwLnNob3dDb2xsaXNpb25Cb3hlcyYmKEtpKGUsaSxvLHIsby5wYWludC5nZXQoInRleHQtdHJhbnNsYXRlIiksby5wYWludC5nZXQoInRleHQtdHJhbnNsYXRlLWFuY2hvciIpLCEwKSxLaShlLGksbyxyLG8ucGFpbnQuZ2V0KCJpY29uLXRyYW5zbGF0ZSIpLG8ucGFpbnQuZ2V0KCJpY29uLXRyYW5zbGF0ZS1hbmNob3IiKSwhMSkpO319LGNpcmNsZTpmdW5jdGlvbihlLGksbyxyKXtpZigidHJhbnNsdWNlbnQiPT09ZS5yZW5kZXJQYXNzKXt2YXIgYT1vLnBhaW50LmdldCgiY2lyY2xlLW9wYWNpdHkiKSxuPW8ucGFpbnQuZ2V0KCJjaXJjbGUtc3Ryb2tlLXdpZHRoIikscz1vLnBhaW50LmdldCgiY2lyY2xlLXN0cm9rZS1vcGFjaXR5IiksbD12b2lkIDAhPT1vLmxheW91dC5nZXQoImNpcmNsZS1zb3J0LWtleSIpLmNvbnN0YW50T3IoMSk7aWYoMCE9PWEuY29uc3RhbnRPcigxKXx8MCE9PW4uY29uc3RhbnRPcigxKSYmMCE9PXMuY29uc3RhbnRPcigxKSl7Zm9yKHZhciBjPWUuY29udGV4dCx1PWMuZ2wsaD1lLmRlcHRoTW9kZUZvclN1YmxheWVyKDAsSXQuUmVhZE9ubHkpLHA9UHQuZGlzYWJsZWQsZD1lLmNvbG9yTW9kZUZvclJlbmRlclBhc3MoKSxfPVtdLGY9MDtmPHIubGVuZ3RoO2YrKyl7dmFyIG09cltmXSxnPWkuZ2V0VGlsZShtKSx2PWcuZ2V0QnVja2V0KG8pO2lmKHYpe3ZhciB5PXYucHJvZ3JhbUNvbmZpZ3VyYXRpb25zLmdldChvLmlkKSx4PXtwcm9ncmFtQ29uZmlndXJhdGlvbjp5LHByb2dyYW06ZS51c2VQcm9ncmFtKCJjaXJjbGUiLHkpLGxheW91dFZlcnRleEJ1ZmZlcjp2LmxheW91dFZlcnRleEJ1ZmZlcixpbmRleEJ1ZmZlcjp2LmluZGV4QnVmZmVyLHVuaWZvcm1WYWx1ZXM6Q2koZSxtLGcsbyl9O2lmKGwpZm9yKHZhciBiPTAsdz12LnNlZ21lbnRzLmdldCgpO2I8dy5sZW5ndGg7Yis9MSl7dmFyIFQ9d1tiXTtfLnB1c2goe3NlZ21lbnRzOm5ldyB0LlNlZ21lbnRWZWN0b3IoW1RdKSxzb3J0S2V5OlQuc29ydEtleSxzdGF0ZTp4fSk7fWVsc2UgXy5wdXNoKHtzZWdtZW50czp2LnNlZ21lbnRzLHNvcnRLZXk6MCxzdGF0ZTp4fSk7fX1sJiZfLnNvcnQoKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuc29ydEtleS1lLnNvcnRLZXl9KSk7Zm9yKHZhciBFPTAsST1fO0U8SS5sZW5ndGg7RSs9MSl7dmFyIFA9SVtFXSxTPVAuc3RhdGU7Uy5wcm9ncmFtLmRyYXcoYyx1LlRSSUFOR0xFUyxoLHAsZCxDdC5kaXNhYmxlZCxTLnVuaWZvcm1WYWx1ZXMsby5pZCxTLmxheW91dFZlcnRleEJ1ZmZlcixTLmluZGV4QnVmZmVyLFAuc2VnbWVudHMsby5wYWludCxlLnRyYW5zZm9ybS56b29tLFMucHJvZ3JhbUNvbmZpZ3VyYXRpb24pO319fX0saGVhdG1hcDpmdW5jdGlvbihlLGksbyxyKXtpZigwIT09by5wYWludC5nZXQoImhlYXRtYXAtb3BhY2l0eSIpKWlmKCJvZmZzY3JlZW4iPT09ZS5yZW5kZXJQYXNzKXt2YXIgYT1lLmNvbnRleHQsbj1hLmdsLHM9UHQuZGlzYWJsZWQsbD1uZXcgU3QoW24uT05FLG4uT05FXSx0LkNvbG9yLnRyYW5zcGFyZW50LFshMCwhMCwhMCwhMF0pOyFmdW5jdGlvbih0LGUsaSl7dmFyIG89dC5nbDt0LmFjdGl2ZVRleHR1cmUuc2V0KG8uVEVYVFVSRTEpLHQudmlld3BvcnQuc2V0KFswLDAsZS53aWR0aC80LGUuaGVpZ2h0LzRdKTt2YXIgcj1pLmhlYXRtYXBGYm87aWYocilvLmJpbmRUZXh0dXJlKG8uVEVYVFVSRV8yRCxyLmNvbG9yQXR0YWNobWVudC5nZXQoKSksdC5iaW5kRnJhbWVidWZmZXIuc2V0KHIuZnJhbWVidWZmZXIpO2Vsc2Uge3ZhciBhPW8uY3JlYXRlVGV4dHVyZSgpO28uYmluZFRleHR1cmUoby5URVhUVVJFXzJELGEpLG8udGV4UGFyYW1ldGVyaShvLlRFWFRVUkVfMkQsby5URVhUVVJFX1dSQVBfUyxvLkNMQU1QX1RPX0VER0UpLG8udGV4UGFyYW1ldGVyaShvLlRFWFRVUkVfMkQsby5URVhUVVJFX1dSQVBfVCxvLkNMQU1QX1RPX0VER0UpLG8udGV4UGFyYW1ldGVyaShvLlRFWFRVUkVfMkQsby5URVhUVVJFX01JTl9GSUxURVIsby5MSU5FQVIpLG8udGV4UGFyYW1ldGVyaShvLlRFWFRVUkVfMkQsby5URVhUVVJFX01BR19GSUxURVIsby5MSU5FQVIpLHI9aS5oZWF0bWFwRmJvPXQuY3JlYXRlRnJhbWVidWZmZXIoZS53aWR0aC80LGUuaGVpZ2h0LzQsITEpLGZ1bmN0aW9uKHQsZSxpLG8pe3ZhciByPXQuZ2w7ci50ZXhJbWFnZTJEKHIuVEVYVFVSRV8yRCwwLHIuUkdCQSxlLndpZHRoLzQsZS5oZWlnaHQvNCwwLHIuUkdCQSx0LmV4dFJlbmRlclRvVGV4dHVyZUhhbGZGbG9hdD90LmV4dFRleHR1cmVIYWxmRmxvYXQuSEFMRl9GTE9BVF9PRVM6ci5VTlNJR05FRF9CWVRFLG51bGwpLG8uY29sb3JBdHRhY2htZW50LnNldChpKTt9KHQsZSxhLHIpO319KGEsZSxvKSxhLmNsZWFyKHtjb2xvcjp0LkNvbG9yLnRyYW5zcGFyZW50fSk7Zm9yKHZhciBjPTA7YzxyLmxlbmd0aDtjKyspe3ZhciB1PXJbY107aWYoIWkuaGFzUmVuZGVyYWJsZVBhcmVudCh1KSl7dmFyIGg9aS5nZXRUaWxlKHUpLHA9aC5nZXRCdWNrZXQobyk7aWYocCl7dmFyIGQ9cC5wcm9ncmFtQ29uZmlndXJhdGlvbnMuZ2V0KG8uaWQpO2UudXNlUHJvZ3JhbSgiaGVhdG1hcCIsZCkuZHJhdyhhLG4uVFJJQU5HTEVTLEl0LmRpc2FibGVkLHMsbCxDdC5kaXNhYmxlZCxMaSh1LnBvc01hdHJpeCxoLGUudHJhbnNmb3JtLnpvb20sby5wYWludC5nZXQoImhlYXRtYXAtaW50ZW5zaXR5IikpLG8uaWQscC5sYXlvdXRWZXJ0ZXhCdWZmZXIscC5pbmRleEJ1ZmZlcixwLnNlZ21lbnRzLG8ucGFpbnQsZS50cmFuc2Zvcm0uem9vbSxkKTt9fX1hLnZpZXdwb3J0LnNldChbMCwwLGUud2lkdGgsZS5oZWlnaHRdKTt9ZWxzZSAidHJhbnNsdWNlbnQiPT09ZS5yZW5kZXJQYXNzJiYoZS5jb250ZXh0LnNldENvbG9yTW9kZShlLmNvbG9yTW9kZUZvclJlbmRlclBhc3MoKSksZnVuY3Rpb24oZSxpKXt2YXIgbz1lLmNvbnRleHQscj1vLmdsLGE9aS5oZWF0bWFwRmJvO2lmKGEpe28uYWN0aXZlVGV4dHVyZS5zZXQoci5URVhUVVJFMCksci5iaW5kVGV4dHVyZShyLlRFWFRVUkVfMkQsYS5jb2xvckF0dGFjaG1lbnQuZ2V0KCkpLG8uYWN0aXZlVGV4dHVyZS5zZXQoci5URVhUVVJFMSk7dmFyIG49aS5jb2xvclJhbXBUZXh0dXJlO258fChuPWkuY29sb3JSYW1wVGV4dHVyZT1uZXcgdC5UZXh0dXJlKG8saS5jb2xvclJhbXAsci5SR0JBKSksbi5iaW5kKHIuTElORUFSLHIuQ0xBTVBfVE9fRURHRSksZS51c2VQcm9ncmFtKCJoZWF0bWFwVGV4dHVyZSIpLmRyYXcobyxyLlRSSUFOR0xFUyxJdC5kaXNhYmxlZCxQdC5kaXNhYmxlZCxlLmNvbG9yTW9kZUZvclJlbmRlclBhc3MoKSxDdC5kaXNhYmxlZCxmdW5jdGlvbihlLGksbyxyKXt2YXIgYT10LmNyZWF0ZSgpO3Qub3J0aG8oYSwwLGUud2lkdGgsZS5oZWlnaHQsMCwwLDEpO3ZhciBuPWUuY29udGV4dC5nbDtyZXR1cm4ge3VfbWF0cml4OmEsdV93b3JsZDpbbi5kcmF3aW5nQnVmZmVyV2lkdGgsbi5kcmF3aW5nQnVmZmVySGVpZ2h0XSx1X2ltYWdlOjAsdV9jb2xvcl9yYW1wOjEsdV9vcGFjaXR5OmkucGFpbnQuZ2V0KCJoZWF0bWFwLW9wYWNpdHkiKX19KGUsaSksaS5pZCxlLnZpZXdwb3J0QnVmZmVyLGUucXVhZFRyaWFuZ2xlSW5kZXhCdWZmZXIsZS52aWV3cG9ydFNlZ21lbnRzLGkucGFpbnQsZS50cmFuc2Zvcm0uem9vbSk7fX0oZSxvKSk7fSxsaW5lOmZ1bmN0aW9uKGUsaSxvLHIpe2lmKCJ0cmFuc2x1Y2VudCI9PT1lLnJlbmRlclBhc3Mpe3ZhciBhPW8ucGFpbnQuZ2V0KCJsaW5lLW9wYWNpdHkiKSxuPW8ucGFpbnQuZ2V0KCJsaW5lLXdpZHRoIik7aWYoMCE9PWEuY29uc3RhbnRPcigxKSYmMCE9PW4uY29uc3RhbnRPcigxKSl7dmFyIHM9ZS5kZXB0aE1vZGVGb3JTdWJsYXllcigwLEl0LlJlYWRPbmx5KSxsPWUuY29sb3JNb2RlRm9yUmVuZGVyUGFzcygpLGM9by5wYWludC5nZXQoImxpbmUtZGFzaGFycmF5IiksdT1vLnBhaW50LmdldCgibGluZS1wYXR0ZXJuIiksaD11LmNvbnN0YW50T3IoMSkscD1vLnBhaW50LmdldCgibGluZS1ncmFkaWVudCIpLGQ9by5nZXRDcm9zc2ZhZGVQYXJhbWV0ZXJzKCksXz1oPyJsaW5lUGF0dGVybiI6Yz8ibGluZVNERiI6cD8ibGluZUdyYWRpZW50IjoibGluZSIsZj1lLmNvbnRleHQsbT1mLmdsLGc9ITA7aWYocCl7Zi5hY3RpdmVUZXh0dXJlLnNldChtLlRFWFRVUkUwKTt2YXIgdj1vLmdyYWRpZW50VGV4dHVyZTtpZighby5ncmFkaWVudClyZXR1cm47dnx8KHY9by5ncmFkaWVudFRleHR1cmU9bmV3IHQuVGV4dHVyZShmLG8uZ3JhZGllbnQsbS5SR0JBKSksdi5iaW5kKG0uTElORUFSLG0uQ0xBTVBfVE9fRURHRSk7fWZvcih2YXIgeT0wLHg9cjt5PHgubGVuZ3RoO3krPTEpe3ZhciBiPXhbeV0sdz1pLmdldFRpbGUoYik7aWYoIWh8fHcucGF0dGVybnNMb2FkZWQoKSl7dmFyIFQ9dy5nZXRCdWNrZXQobyk7aWYoVCl7dmFyIEU9VC5wcm9ncmFtQ29uZmlndXJhdGlvbnMuZ2V0KG8uaWQpLEk9ZS5jb250ZXh0LnByb2dyYW0uZ2V0KCksUD1lLnVzZVByb2dyYW0oXyxFKSxTPWd8fFAucHJvZ3JhbSE9PUksQz11LmNvbnN0YW50T3IobnVsbCk7aWYoQyYmdy5pbWFnZUF0bGFzKXt2YXIgej13LmltYWdlQXRsYXMsRD16LnBhdHRlcm5Qb3NpdGlvbnNbQy50by50b1N0cmluZygpXSxNPXoucGF0dGVyblBvc2l0aW9uc1tDLmZyb20udG9TdHJpbmcoKV07RCYmTSYmRS5zZXRDb25zdGFudFBhdHRlcm5Qb3NpdGlvbnMoRCxNKTt9dmFyIEE9aD9CaShlLHcsbyxkKTpjP09pKGUsdyxvLGMsZCk6cD9raShlLHcsbyk6UmkoZSx3LG8pO2g/KGYuYWN0aXZlVGV4dHVyZS5zZXQobS5URVhUVVJFMCksdy5pbWFnZUF0bGFzVGV4dHVyZS5iaW5kKG0uTElORUFSLG0uQ0xBTVBfVE9fRURHRSksRS51cGRhdGVQYWludEJ1ZmZlcnMoZCkpOmMmJihTfHxlLmxpbmVBdGxhcy5kaXJ0eSkmJihmLmFjdGl2ZVRleHR1cmUuc2V0KG0uVEVYVFVSRTApLGUubGluZUF0bGFzLmJpbmQoZikpLFAuZHJhdyhmLG0uVFJJQU5HTEVTLHMsZS5zdGVuY2lsTW9kZUZvckNsaXBwaW5nKGIpLGwsQ3QuZGlzYWJsZWQsQSxvLmlkLFQubGF5b3V0VmVydGV4QnVmZmVyLFQuaW5kZXhCdWZmZXIsVC5zZWdtZW50cyxvLnBhaW50LGUudHJhbnNmb3JtLnpvb20sRSksZz0hMTt9fX19fX0sZmlsbDpmdW5jdGlvbihlLGksbyxyKXt2YXIgYT1vLnBhaW50LmdldCgiZmlsbC1jb2xvciIpLG49by5wYWludC5nZXQoImZpbGwtb3BhY2l0eSIpO2lmKDAhPT1uLmNvbnN0YW50T3IoMSkpe3ZhciBzPWUuY29sb3JNb2RlRm9yUmVuZGVyUGFzcygpLGw9by5wYWludC5nZXQoImZpbGwtcGF0dGVybiIpLGM9ZS5vcGFxdWVQYXNzRW5hYmxlZEZvckxheWVyKCkmJiFsLmNvbnN0YW50T3IoMSkmJjE9PT1hLmNvbnN0YW50T3IodC5Db2xvci50cmFuc3BhcmVudCkuYSYmMT09PW4uY29uc3RhbnRPcigwKT8ib3BhcXVlIjoidHJhbnNsdWNlbnQiO2lmKGUucmVuZGVyUGFzcz09PWMpe3ZhciB1PWUuZGVwdGhNb2RlRm9yU3VibGF5ZXIoMSwib3BhcXVlIj09PWUucmVuZGVyUGFzcz9JdC5SZWFkV3JpdGU6SXQuUmVhZE9ubHkpO2lvKGUsaSxvLHIsdSxzLCExKTt9aWYoInRyYW5zbHVjZW50Ij09PWUucmVuZGVyUGFzcyYmby5wYWludC5nZXQoImZpbGwtYW50aWFsaWFzIikpe3ZhciBoPWUuZGVwdGhNb2RlRm9yU3VibGF5ZXIoby5nZXRQYWludFByb3BlcnR5KCJmaWxsLW91dGxpbmUtY29sb3IiKT8yOjAsSXQuUmVhZE9ubHkpO2lvKGUsaSxvLHIsaCxzLCEwKTt9fX0sImZpbGwtZXh0cnVzaW9uIjpmdW5jdGlvbih0LGUsaSxvKXt2YXIgcj1pLnBhaW50LmdldCgiZmlsbC1leHRydXNpb24tb3BhY2l0eSIpO2lmKDAhPT1yJiYidHJhbnNsdWNlbnQiPT09dC5yZW5kZXJQYXNzKXt2YXIgYT1uZXcgSXQodC5jb250ZXh0LmdsLkxFUVVBTCxJdC5SZWFkV3JpdGUsdC5kZXB0aFJhbmdlRm9yM0QpO2lmKDEhPT1yfHxpLnBhaW50LmdldCgiZmlsbC1leHRydXNpb24tcGF0dGVybiIpLmNvbnN0YW50T3IoMSkpb28odCxlLGksbyxhLFB0LmRpc2FibGVkLFN0LmRpc2FibGVkKSxvbyh0LGUsaSxvLGEsdC5zdGVuY2lsTW9kZUZvcjNEKCksdC5jb2xvck1vZGVGb3JSZW5kZXJQYXNzKCkpO2Vsc2Uge3ZhciBuPXQuY29sb3JNb2RlRm9yUmVuZGVyUGFzcygpO29vKHQsZSxpLG8sYSxQdC5kaXNhYmxlZCxuKTt9fX0saGlsbHNoYWRlOmZ1bmN0aW9uKHQsZSxpLG8pe2lmKCJvZmZzY3JlZW4iPT09dC5yZW5kZXJQYXNzfHwidHJhbnNsdWNlbnQiPT09dC5yZW5kZXJQYXNzKXtmb3IodmFyIHI9dC5jb250ZXh0LGE9ZS5nZXRTb3VyY2UoKS5tYXh6b29tLG49dC5kZXB0aE1vZGVGb3JTdWJsYXllcigwLEl0LlJlYWRPbmx5KSxzPXQuY29sb3JNb2RlRm9yUmVuZGVyUGFzcygpLGw9InRyYW5zbHVjZW50Ij09PXQucmVuZGVyUGFzcz90LnN0ZW5jaWxDb25maWdGb3JPdmVybGFwKG8pOlt7fSxvXSxjPWxbMF0sdT0wLGg9bFsxXTt1PGgubGVuZ3RoO3UrPTEpe3ZhciBwPWhbdV0sZD1lLmdldFRpbGUocCk7ZC5uZWVkc0hpbGxzaGFkZVByZXBhcmUmJiJvZmZzY3JlZW4iPT09dC5yZW5kZXJQYXNzP2FvKHQsZCxpLGEsbixQdC5kaXNhYmxlZCxzKToidHJhbnNsdWNlbnQiPT09dC5yZW5kZXJQYXNzJiZybyh0LGQsaSxuLGNbcC5vdmVyc2NhbGVkWl0scyk7fXIudmlld3BvcnQuc2V0KFswLDAsdC53aWR0aCx0LmhlaWdodF0pO319LHJhc3RlcjpmdW5jdGlvbih0LGUsaSxvKXtpZigidHJhbnNsdWNlbnQiPT09dC5yZW5kZXJQYXNzJiYwIT09aS5wYWludC5nZXQoInJhc3Rlci1vcGFjaXR5IikmJm8ubGVuZ3RoKWZvcih2YXIgcj10LmNvbnRleHQsYT1yLmdsLG49ZS5nZXRTb3VyY2UoKSxzPXQudXNlUHJvZ3JhbSgicmFzdGVyIiksbD10LmNvbG9yTW9kZUZvclJlbmRlclBhc3MoKSxjPW4gaW5zdGFuY2VvZiBBP1t7fSxvXTp0LnN0ZW5jaWxDb25maWdGb3JPdmVybGFwKG8pLHU9Y1swXSxoPWNbMV0scD1oW2gubGVuZ3RoLTFdLm92ZXJzY2FsZWRaLGQ9IXQub3B0aW9ucy5tb3ZpbmcsXz0wLGY9aDtfPGYubGVuZ3RoO18rPTEpe3ZhciBtPWZbX10sZz10LmRlcHRoTW9kZUZvclN1YmxheWVyKG0ub3ZlcnNjYWxlZFotcCwxPT09aS5wYWludC5nZXQoInJhc3Rlci1vcGFjaXR5Iik/SXQuUmVhZFdyaXRlOkl0LlJlYWRPbmx5LGEuTEVTUyksdj1lLmdldFRpbGUobSkseT10LnRyYW5zZm9ybS5jYWxjdWxhdGVQb3NNYXRyaXgobS50b1Vud3JhcHBlZCgpLGQpO3YucmVnaXN0ZXJGYWRlRHVyYXRpb24oaS5wYWludC5nZXQoInJhc3Rlci1mYWRlLWR1cmF0aW9uIikpO3ZhciB4PWUuZmluZExvYWRlZFBhcmVudChtLDApLGI9bm8odix4LGUsaSx0LnRyYW5zZm9ybSksdz12b2lkIDAsVD12b2lkIDAsRT0ibmVhcmVzdCI9PT1pLnBhaW50LmdldCgicmFzdGVyLXJlc2FtcGxpbmciKT9hLk5FQVJFU1Q6YS5MSU5FQVI7ci5hY3RpdmVUZXh0dXJlLnNldChhLlRFWFRVUkUwKSx2LnRleHR1cmUuYmluZChFLGEuQ0xBTVBfVE9fRURHRSxhLkxJTkVBUl9NSVBNQVBfTkVBUkVTVCksci5hY3RpdmVUZXh0dXJlLnNldChhLlRFWFRVUkUxKSx4Pyh4LnRleHR1cmUuYmluZChFLGEuQ0xBTVBfVE9fRURHRSxhLkxJTkVBUl9NSVBNQVBfTkVBUkVTVCksdz1NYXRoLnBvdygyLHgudGlsZUlELm92ZXJzY2FsZWRaLXYudGlsZUlELm92ZXJzY2FsZWRaKSxUPVt2LnRpbGVJRC5jYW5vbmljYWwueCp3JTEsdi50aWxlSUQuY2Fub25pY2FsLnkqdyUxXSk6di50ZXh0dXJlLmJpbmQoRSxhLkNMQU1QX1RPX0VER0UsYS5MSU5FQVJfTUlQTUFQX05FQVJFU1QpO3ZhciBJPU5pKHksVHx8WzAsMF0sd3x8MSxiLGkpO24gaW5zdGFuY2VvZiBBP3MuZHJhdyhyLGEuVFJJQU5HTEVTLGcsUHQuZGlzYWJsZWQsbCxDdC5kaXNhYmxlZCxJLGkuaWQsbi5ib3VuZHNCdWZmZXIsdC5xdWFkVHJpYW5nbGVJbmRleEJ1ZmZlcixuLmJvdW5kc1NlZ21lbnRzKTpzLmRyYXcocixhLlRSSUFOR0xFUyxnLHVbbS5vdmVyc2NhbGVkWl0sbCxDdC5kaXNhYmxlZCxJLGkuaWQsdC5yYXN0ZXJCb3VuZHNCdWZmZXIsdC5xdWFkVHJpYW5nbGVJbmRleEJ1ZmZlcix0LnJhc3RlckJvdW5kc1NlZ21lbnRzKTt9fSxiYWNrZ3JvdW5kOmZ1bmN0aW9uKHQsZSxpKXt2YXIgbz1pLnBhaW50LmdldCgiYmFja2dyb3VuZC1jb2xvciIpLHI9aS5wYWludC5nZXQoImJhY2tncm91bmQtb3BhY2l0eSIpO2lmKDAhPT1yKXt2YXIgYT10LmNvbnRleHQsbj1hLmdsLHM9dC50cmFuc2Zvcm0sbD1zLnRpbGVTaXplLGM9aS5wYWludC5nZXQoImJhY2tncm91bmQtcGF0dGVybiIpO2lmKCF0LmlzUGF0dGVybk1pc3NpbmcoYykpe3ZhciB1PSFjJiYxPT09by5hJiYxPT09ciYmdC5vcGFxdWVQYXNzRW5hYmxlZEZvckxheWVyKCk/Im9wYXF1ZSI6InRyYW5zbHVjZW50IjtpZih0LnJlbmRlclBhc3M9PT11KXt2YXIgaD1QdC5kaXNhYmxlZCxwPXQuZGVwdGhNb2RlRm9yU3VibGF5ZXIoMCwib3BhcXVlIj09PXU/SXQuUmVhZFdyaXRlOkl0LlJlYWRPbmx5KSxkPXQuY29sb3JNb2RlRm9yUmVuZGVyUGFzcygpLF89dC51c2VQcm9ncmFtKGM/ImJhY2tncm91bmRQYXR0ZXJuIjoiYmFja2dyb3VuZCIpLGY9cy5jb3ZlcmluZ1RpbGVzKHt0aWxlU2l6ZTpsfSk7YyYmKGEuYWN0aXZlVGV4dHVyZS5zZXQobi5URVhUVVJFMCksdC5pbWFnZU1hbmFnZXIuYmluZCh0LmNvbnRleHQpKTtmb3IodmFyIG09aS5nZXRDcm9zc2ZhZGVQYXJhbWV0ZXJzKCksZz0wLHY9ZjtnPHYubGVuZ3RoO2crPTEpe3ZhciB5PXZbZ10seD10LnRyYW5zZm9ybS5jYWxjdWxhdGVQb3NNYXRyaXgoeS50b1Vud3JhcHBlZCgpKSxiPWM/WGkoeCxyLHQsYyx7dGlsZUlEOnksdGlsZVNpemU6bH0sbSk6V2koeCxyLG8pO18uZHJhdyhhLG4uVFJJQU5HTEVTLHAsaCxkLEN0LmRpc2FibGVkLGIsaS5pZCx0LnRpbGVFeHRlbnRCdWZmZXIsdC5xdWFkVHJpYW5nbGVJbmRleEJ1ZmZlcix0LnRpbGVFeHRlbnRTZWdtZW50cyk7fX19fX0sZGVidWc6ZnVuY3Rpb24odCxlLGkpe2Zvcih2YXIgbz0wO288aS5sZW5ndGg7bysrKW1vKHQsZSxpW29dKTt9LGN1c3RvbTpmdW5jdGlvbih0LGUsaSl7dmFyIG89dC5jb250ZXh0LHI9aS5pbXBsZW1lbnRhdGlvbjtpZigib2Zmc2NyZWVuIj09PXQucmVuZGVyUGFzcyl7dmFyIGE9ci5wcmVyZW5kZXI7YSYmKHQuc2V0Q3VzdG9tTGF5ZXJEZWZhdWx0cygpLG8uc2V0Q29sb3JNb2RlKHQuY29sb3JNb2RlRm9yUmVuZGVyUGFzcygpKSxhLmNhbGwocixvLmdsLHQudHJhbnNmb3JtLmN1c3RvbUxheWVyTWF0cml4KCkpLG8uc2V0RGlydHkoKSx0LnNldEJhc2VTdGF0ZSgpKTt9ZWxzZSBpZigidHJhbnNsdWNlbnQiPT09dC5yZW5kZXJQYXNzKXt0LnNldEN1c3RvbUxheWVyRGVmYXVsdHMoKSxvLnNldENvbG9yTW9kZSh0LmNvbG9yTW9kZUZvclJlbmRlclBhc3MoKSksby5zZXRTdGVuY2lsTW9kZShQdC5kaXNhYmxlZCk7dmFyIG49IjNkIj09PXIucmVuZGVyaW5nTW9kZT9uZXcgSXQodC5jb250ZXh0LmdsLkxFUVVBTCxJdC5SZWFkV3JpdGUsdC5kZXB0aFJhbmdlRm9yM0QpOnQuZGVwdGhNb2RlRm9yU3VibGF5ZXIoMCxJdC5SZWFkT25seSk7by5zZXREZXB0aE1vZGUobiksci5yZW5kZXIoby5nbCx0LnRyYW5zZm9ybS5jdXN0b21MYXllck1hdHJpeCgpKSxvLnNldERpcnR5KCksdC5zZXRCYXNlU3RhdGUoKSxvLmJpbmRGcmFtZWJ1ZmZlci5zZXQobnVsbCk7fX19LHZvPWZ1bmN0aW9uKHQsZSl7dGhpcy5jb250ZXh0PW5ldyB6dCh0KSx0aGlzLnRyYW5zZm9ybT1lLHRoaXMuX3RpbGVUZXh0dXJlcz17fSx0aGlzLnNldHVwKCksdGhpcy5udW1TdWJsYXllcnM9RHQubWF4VW5kZXJ6b29taW5nK0R0Lm1heE92ZXJ6b29taW5nKzEsdGhpcy5kZXB0aEVwc2lsb249MS9NYXRoLnBvdygyLDE2KSx0aGlzLmNyb3NzVGlsZVN5bWJvbEluZGV4PW5ldyBGZSx0aGlzLmdwdVRpbWVycz17fTt9O3ZvLnByb3RvdHlwZS5yZXNpemU9ZnVuY3Rpb24oZSxpKXtpZih0aGlzLndpZHRoPWUqdC5icm93c2VyLmRldmljZVBpeGVsUmF0aW8sdGhpcy5oZWlnaHQ9aSp0LmJyb3dzZXIuZGV2aWNlUGl4ZWxSYXRpbyx0aGlzLmNvbnRleHQudmlld3BvcnQuc2V0KFswLDAsdGhpcy53aWR0aCx0aGlzLmhlaWdodF0pLHRoaXMuc3R5bGUpZm9yKHZhciBvPTAscj10aGlzLnN0eWxlLl9vcmRlcjtvPHIubGVuZ3RoO28rPTEpdGhpcy5zdHlsZS5fbGF5ZXJzW3Jbb11dLnJlc2l6ZSgpO30sdm8ucHJvdG90eXBlLnNldHVwPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5jb250ZXh0LGk9bmV3IHQuU3RydWN0QXJyYXlMYXlvdXQyaTQ7aS5lbXBsYWNlQmFjaygwLDApLGkuZW1wbGFjZUJhY2sodC5FWFRFTlQsMCksaS5lbXBsYWNlQmFjaygwLHQuRVhURU5UKSxpLmVtcGxhY2VCYWNrKHQuRVhURU5ULHQuRVhURU5UKSx0aGlzLnRpbGVFeHRlbnRCdWZmZXI9ZS5jcmVhdGVWZXJ0ZXhCdWZmZXIoaSxWZS5tZW1iZXJzKSx0aGlzLnRpbGVFeHRlbnRTZWdtZW50cz10LlNlZ21lbnRWZWN0b3Iuc2ltcGxlU2VnbWVudCgwLDAsNCwyKTt2YXIgbz1uZXcgdC5TdHJ1Y3RBcnJheUxheW91dDJpNDtvLmVtcGxhY2VCYWNrKDAsMCksby5lbXBsYWNlQmFjayh0LkVYVEVOVCwwKSxvLmVtcGxhY2VCYWNrKDAsdC5FWFRFTlQpLG8uZW1wbGFjZUJhY2sodC5FWFRFTlQsdC5FWFRFTlQpLHRoaXMuZGVidWdCdWZmZXI9ZS5jcmVhdGVWZXJ0ZXhCdWZmZXIobyxWZS5tZW1iZXJzKSx0aGlzLmRlYnVnU2VnbWVudHM9dC5TZWdtZW50VmVjdG9yLnNpbXBsZVNlZ21lbnQoMCwwLDQsNSk7dmFyIHI9bmV3IHQuU3RydWN0QXJyYXlMYXlvdXQ0aTg7ci5lbXBsYWNlQmFjaygwLDAsMCwwKSxyLmVtcGxhY2VCYWNrKHQuRVhURU5ULDAsdC5FWFRFTlQsMCksci5lbXBsYWNlQmFjaygwLHQuRVhURU5ULDAsdC5FWFRFTlQpLHIuZW1wbGFjZUJhY2sodC5FWFRFTlQsdC5FWFRFTlQsdC5FWFRFTlQsdC5FWFRFTlQpLHRoaXMucmFzdGVyQm91bmRzQnVmZmVyPWUuY3JlYXRlVmVydGV4QnVmZmVyKHIsTS5tZW1iZXJzKSx0aGlzLnJhc3RlckJvdW5kc1NlZ21lbnRzPXQuU2VnbWVudFZlY3Rvci5zaW1wbGVTZWdtZW50KDAsMCw0LDIpO3ZhciBhPW5ldyB0LlN0cnVjdEFycmF5TGF5b3V0Mmk0O2EuZW1wbGFjZUJhY2soMCwwKSxhLmVtcGxhY2VCYWNrKDEsMCksYS5lbXBsYWNlQmFjaygwLDEpLGEuZW1wbGFjZUJhY2soMSwxKSx0aGlzLnZpZXdwb3J0QnVmZmVyPWUuY3JlYXRlVmVydGV4QnVmZmVyKGEsVmUubWVtYmVycyksdGhpcy52aWV3cG9ydFNlZ21lbnRzPXQuU2VnbWVudFZlY3Rvci5zaW1wbGVTZWdtZW50KDAsMCw0LDIpO3ZhciBuPW5ldyB0LlN0cnVjdEFycmF5TGF5b3V0MXVpMjtuLmVtcGxhY2VCYWNrKDApLG4uZW1wbGFjZUJhY2soMSksbi5lbXBsYWNlQmFjaygzKSxuLmVtcGxhY2VCYWNrKDIpLG4uZW1wbGFjZUJhY2soMCksdGhpcy50aWxlQm9yZGVySW5kZXhCdWZmZXI9ZS5jcmVhdGVJbmRleEJ1ZmZlcihuKTt2YXIgcz1uZXcgdC5TdHJ1Y3RBcnJheUxheW91dDN1aTY7cy5lbXBsYWNlQmFjaygwLDEsMikscy5lbXBsYWNlQmFjaygyLDEsMyksdGhpcy5xdWFkVHJpYW5nbGVJbmRleEJ1ZmZlcj1lLmNyZWF0ZUluZGV4QnVmZmVyKHMpLHRoaXMuZW1wdHlUZXh0dXJlPW5ldyB0LlRleHR1cmUoZSx7d2lkdGg6MSxoZWlnaHQ6MSxkYXRhOm5ldyBVaW50OEFycmF5KFswLDAsMCwwXSl9LGUuZ2wuUkdCQSk7dmFyIGw9dGhpcy5jb250ZXh0LmdsO3RoaXMuc3RlbmNpbENsZWFyTW9kZT1uZXcgUHQoe2Z1bmM6bC5BTFdBWVMsbWFzazowfSwwLDI1NSxsLlpFUk8sbC5aRVJPLGwuWkVSTyk7fSx2by5wcm90b3R5cGUuY2xlYXJTdGVuY2lsPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5jb250ZXh0LGk9ZS5nbDt0aGlzLm5leHRTdGVuY2lsSUQ9MSx0aGlzLmN1cnJlbnRTdGVuY2lsU291cmNlPXZvaWQgMDt2YXIgbz10LmNyZWF0ZSgpO3Qub3J0aG8obywwLHRoaXMud2lkdGgsdGhpcy5oZWlnaHQsMCwwLDEpLHQuc2NhbGUobyxvLFtpLmRyYXdpbmdCdWZmZXJXaWR0aCxpLmRyYXdpbmdCdWZmZXJIZWlnaHQsMF0pLHRoaXMudXNlUHJvZ3JhbSgiY2xpcHBpbmdNYXNrIikuZHJhdyhlLGkuVFJJQU5HTEVTLEl0LmRpc2FibGVkLHRoaXMuc3RlbmNpbENsZWFyTW9kZSxTdC5kaXNhYmxlZCxDdC5kaXNhYmxlZCxBaShvKSwiJGNsaXBwaW5nIix0aGlzLnZpZXdwb3J0QnVmZmVyLHRoaXMucXVhZFRyaWFuZ2xlSW5kZXhCdWZmZXIsdGhpcy52aWV3cG9ydFNlZ21lbnRzKTt9LHZvLnByb3RvdHlwZS5fcmVuZGVyVGlsZUNsaXBwaW5nTWFza3M9ZnVuY3Rpb24odCxlKXtpZih0aGlzLmN1cnJlbnRTdGVuY2lsU291cmNlIT09dC5zb3VyY2UmJnQuaXNUaWxlQ2xpcHBlZCgpJiZlJiZlLmxlbmd0aCl7dGhpcy5jdXJyZW50U3RlbmNpbFNvdXJjZT10LnNvdXJjZTt2YXIgaT10aGlzLmNvbnRleHQsbz1pLmdsO3RoaXMubmV4dFN0ZW5jaWxJRCtlLmxlbmd0aD4yNTYmJnRoaXMuY2xlYXJTdGVuY2lsKCksaS5zZXRDb2xvck1vZGUoU3QuZGlzYWJsZWQpLGkuc2V0RGVwdGhNb2RlKEl0LmRpc2FibGVkKTt2YXIgcj10aGlzLnVzZVByb2dyYW0oImNsaXBwaW5nTWFzayIpO3RoaXMuX3RpbGVDbGlwcGluZ01hc2tJRHM9e307Zm9yKHZhciBhPTAsbj1lO2E8bi5sZW5ndGg7YSs9MSl7dmFyIHM9blthXSxsPXRoaXMuX3RpbGVDbGlwcGluZ01hc2tJRHNbcy5rZXldPXRoaXMubmV4dFN0ZW5jaWxJRCsrO3IuZHJhdyhpLG8uVFJJQU5HTEVTLEl0LmRpc2FibGVkLG5ldyBQdCh7ZnVuYzpvLkFMV0FZUyxtYXNrOjB9LGwsMjU1LG8uS0VFUCxvLktFRVAsby5SRVBMQUNFKSxTdC5kaXNhYmxlZCxDdC5kaXNhYmxlZCxBaShzLnBvc01hdHJpeCksIiRjbGlwcGluZyIsdGhpcy50aWxlRXh0ZW50QnVmZmVyLHRoaXMucXVhZFRyaWFuZ2xlSW5kZXhCdWZmZXIsdGhpcy50aWxlRXh0ZW50U2VnbWVudHMpO319fSx2by5wcm90b3R5cGUuc3RlbmNpbE1vZGVGb3IzRD1mdW5jdGlvbigpe3RoaXMuY3VycmVudFN0ZW5jaWxTb3VyY2U9dm9pZCAwLHRoaXMubmV4dFN0ZW5jaWxJRCsxPjI1NiYmdGhpcy5jbGVhclN0ZW5jaWwoKTt2YXIgdD10aGlzLm5leHRTdGVuY2lsSUQrKyxlPXRoaXMuY29udGV4dC5nbDtyZXR1cm4gbmV3IFB0KHtmdW5jOmUuTk9URVFVQUwsbWFzazoyNTV9LHQsMjU1LGUuS0VFUCxlLktFRVAsZS5SRVBMQUNFKX0sdm8ucHJvdG90eXBlLnN0ZW5jaWxNb2RlRm9yQ2xpcHBpbmc9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5jb250ZXh0LmdsO3JldHVybiBuZXcgUHQoe2Z1bmM6ZS5FUVVBTCxtYXNrOjI1NX0sdGhpcy5fdGlsZUNsaXBwaW5nTWFza0lEc1t0LmtleV0sMCxlLktFRVAsZS5LRUVQLGUuUkVQTEFDRSl9LHZvLnByb3RvdHlwZS5zdGVuY2lsQ29uZmlnRm9yT3ZlcmxhcD1mdW5jdGlvbih0KXt2YXIgZSxpPXRoaXMuY29udGV4dC5nbCxvPXQuc29ydCgoZnVuY3Rpb24odCxlKXtyZXR1cm4gZS5vdmVyc2NhbGVkWi10Lm92ZXJzY2FsZWRafSkpLHI9b1tvLmxlbmd0aC0xXS5vdmVyc2NhbGVkWixhPW9bMF0ub3ZlcnNjYWxlZFotcisxO2lmKGE+MSl7dGhpcy5jdXJyZW50U3RlbmNpbFNvdXJjZT12b2lkIDAsdGhpcy5uZXh0U3RlbmNpbElEK2E+MjU2JiZ0aGlzLmNsZWFyU3RlbmNpbCgpO2Zvcih2YXIgbj17fSxzPTA7czxhO3MrKyluW3Mrcl09bmV3IFB0KHtmdW5jOmkuR0VRVUFMLG1hc2s6MjU1fSxzK3RoaXMubmV4dFN0ZW5jaWxJRCwyNTUsaS5LRUVQLGkuS0VFUCxpLlJFUExBQ0UpO3JldHVybiB0aGlzLm5leHRTdGVuY2lsSUQrPWEsW24sb119cmV0dXJuIFsoZT17fSxlW3JdPVB0LmRpc2FibGVkLGUpLG9dfSx2by5wcm90b3R5cGUuY29sb3JNb2RlRm9yUmVuZGVyUGFzcz1mdW5jdGlvbigpe3ZhciBlPXRoaXMuY29udGV4dC5nbDtyZXR1cm4gdGhpcy5fc2hvd092ZXJkcmF3SW5zcGVjdG9yP25ldyBTdChbZS5DT05TVEFOVF9DT0xPUixlLk9ORV0sbmV3IHQuQ29sb3IoMS84LDEvOCwxLzgsMCksWyEwLCEwLCEwLCEwXSk6Im9wYXF1ZSI9PT10aGlzLnJlbmRlclBhc3M/U3QudW5ibGVuZGVkOlN0LmFscGhhQmxlbmRlZH0sdm8ucHJvdG90eXBlLmRlcHRoTW9kZUZvclN1YmxheWVyPWZ1bmN0aW9uKHQsZSxpKXtpZighdGhpcy5vcGFxdWVQYXNzRW5hYmxlZEZvckxheWVyKCkpcmV0dXJuIEl0LmRpc2FibGVkO3ZhciBvPTEtKCgxK3RoaXMuY3VycmVudExheWVyKSp0aGlzLm51bVN1YmxheWVycyt0KSp0aGlzLmRlcHRoRXBzaWxvbjtyZXR1cm4gbmV3IEl0KGl8fHRoaXMuY29udGV4dC5nbC5MRVFVQUwsZSxbbyxvXSl9LHZvLnByb3RvdHlwZS5vcGFxdWVQYXNzRW5hYmxlZEZvckxheWVyPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY3VycmVudExheWVyPHRoaXMub3BhcXVlUGFzc0N1dG9mZn0sdm8ucHJvdG90eXBlLnJlbmRlcj1mdW5jdGlvbihlLGkpe3ZhciBvPXRoaXM7dGhpcy5zdHlsZT1lLHRoaXMub3B0aW9ucz1pLHRoaXMubGluZUF0bGFzPWUubGluZUF0bGFzLHRoaXMuaW1hZ2VNYW5hZ2VyPWUuaW1hZ2VNYW5hZ2VyLHRoaXMuZ2x5cGhNYW5hZ2VyPWUuZ2x5cGhNYW5hZ2VyLHRoaXMuc3ltYm9sRmFkZUNoYW5nZT1lLnBsYWNlbWVudC5zeW1ib2xGYWRlQ2hhbmdlKHQuYnJvd3Nlci5ub3coKSksdGhpcy5pbWFnZU1hbmFnZXIuYmVnaW5GcmFtZSgpO3ZhciByPXRoaXMuc3R5bGUuX29yZGVyLGE9dGhpcy5zdHlsZS5zb3VyY2VDYWNoZXM7Zm9yKHZhciBuIGluIGEpe3ZhciBzPWFbbl07cy51c2VkJiZzLnByZXBhcmUodGhpcy5jb250ZXh0KTt9dmFyIGwsYyx1PXt9LGg9e30scD17fTtmb3IodmFyIGQgaW4gYSl7dmFyIF89YVtkXTt1W2RdPV8uZ2V0VmlzaWJsZUNvb3JkaW5hdGVzKCksaFtkXT11W2RdLnNsaWNlKCkucmV2ZXJzZSgpLHBbZF09Xy5nZXRWaXNpYmxlQ29vcmRpbmF0ZXMoITApLnJldmVyc2UoKTt9dGhpcy5vcGFxdWVQYXNzQ3V0b2ZmPTEvMDtmb3IodmFyIGY9MDtmPHIubGVuZ3RoO2YrKylpZih0aGlzLnN0eWxlLl9sYXllcnNbcltmXV0uaXMzRCgpKXt0aGlzLm9wYXF1ZVBhc3NDdXRvZmY9ZjticmVha310aGlzLnJlbmRlclBhc3M9Im9mZnNjcmVlbiI7Zm9yKHZhciBtPTAsZz1yO208Zy5sZW5ndGg7bSs9MSl7dmFyIHY9dGhpcy5zdHlsZS5fbGF5ZXJzW2dbbV1dO2lmKHYuaGFzT2Zmc2NyZWVuUGFzcygpJiYhdi5pc0hpZGRlbih0aGlzLnRyYW5zZm9ybS56b29tKSl7dmFyIHk9aFt2LnNvdXJjZV07KCJjdXN0b20iPT09di50eXBlfHx5Lmxlbmd0aCkmJnRoaXMucmVuZGVyTGF5ZXIodGhpcyxhW3Yuc291cmNlXSx2LHkpO319Zm9yKHRoaXMuY29udGV4dC5iaW5kRnJhbWVidWZmZXIuc2V0KG51bGwpLHRoaXMuY29udGV4dC5jbGVhcih7Y29sb3I6aS5zaG93T3ZlcmRyYXdJbnNwZWN0b3I/dC5Db2xvci5ibGFjazp0LkNvbG9yLnRyYW5zcGFyZW50LGRlcHRoOjF9KSx0aGlzLmNsZWFyU3RlbmNpbCgpLHRoaXMuX3Nob3dPdmVyZHJhd0luc3BlY3Rvcj1pLnNob3dPdmVyZHJhd0luc3BlY3Rvcix0aGlzLmRlcHRoUmFuZ2VGb3IzRD1bMCwxLShlLl9vcmRlci5sZW5ndGgrMikqdGhpcy5udW1TdWJsYXllcnMqdGhpcy5kZXB0aEVwc2lsb25dLHRoaXMucmVuZGVyUGFzcz0ib3BhcXVlIix0aGlzLmN1cnJlbnRMYXllcj1yLmxlbmd0aC0xO3RoaXMuY3VycmVudExheWVyPj0wO3RoaXMuY3VycmVudExheWVyLS0pe3ZhciB4PXRoaXMuc3R5bGUuX2xheWVyc1tyW3RoaXMuY3VycmVudExheWVyXV0sYj1hW3guc291cmNlXSx3PXVbeC5zb3VyY2VdO3RoaXMuX3JlbmRlclRpbGVDbGlwcGluZ01hc2tzKHgsdyksdGhpcy5yZW5kZXJMYXllcih0aGlzLGIseCx3KTt9Zm9yKHRoaXMucmVuZGVyUGFzcz0idHJhbnNsdWNlbnQiLHRoaXMuY3VycmVudExheWVyPTA7dGhpcy5jdXJyZW50TGF5ZXI8ci5sZW5ndGg7dGhpcy5jdXJyZW50TGF5ZXIrKyl7dmFyIFQ9dGhpcy5zdHlsZS5fbGF5ZXJzW3JbdGhpcy5jdXJyZW50TGF5ZXJdXSxFPWFbVC5zb3VyY2VdLEk9KCJzeW1ib2wiPT09VC50eXBlP3A6aClbVC5zb3VyY2VdO3RoaXMuX3JlbmRlclRpbGVDbGlwcGluZ01hc2tzKFQsdVtULnNvdXJjZV0pLHRoaXMucmVuZGVyTGF5ZXIodGhpcyxFLFQsSSk7fXRoaXMub3B0aW9ucy5zaG93VGlsZUJvdW5kYXJpZXMmJih0LnZhbHVlcyh0aGlzLnN0eWxlLl9sYXllcnMpLmZvckVhY2goKGZ1bmN0aW9uKHQpe3Quc291cmNlJiYhdC5pc0hpZGRlbihvLnRyYW5zZm9ybS56b29tKSYmKHQuc291cmNlIT09KGMmJmMuaWQpJiYoYz1vLnN0eWxlLnNvdXJjZUNhY2hlc1t0LnNvdXJjZV0pLCghbHx8bC5nZXRTb3VyY2UoKS5tYXh6b29tPGMuZ2V0U291cmNlKCkubWF4em9vbSkmJihsPWMpKTt9KSksbCYmZ28uZGVidWcodGhpcyxsLGwuZ2V0VmlzaWJsZUNvb3JkaW5hdGVzKCkpKSx0aGlzLm9wdGlvbnMuc2hvd1BhZGRpbmcmJmZ1bmN0aW9uKHQpe3ZhciBlPXQudHJhbnNmb3JtLnBhZGRpbmc7cG8odCx0LnRyYW5zZm9ybS5oZWlnaHQtKGUudG9wfHwwKSwzLHNvKSxwbyh0LGUuYm90dG9tfHwwLDMsbG8pLF9vKHQsZS5sZWZ0fHwwLDMsY28pLF9vKHQsdC50cmFuc2Zvcm0ud2lkdGgtKGUucmlnaHR8fDApLDMsdW8pO3ZhciBpPXQudHJhbnNmb3JtLmNlbnRlclBvaW50OyFmdW5jdGlvbih0LGUsaSxvKXtmbyh0LGUtMSxpLTEwLDIsMjAsbyksZm8odCxlLTEwLGktMSwyMCwyLG8pO30odCxpLngsdC50cmFuc2Zvcm0uaGVpZ2h0LWkueSxobyk7fSh0aGlzKSx0aGlzLmNvbnRleHQuc2V0RGVmYXVsdCgpO30sdm8ucHJvdG90eXBlLnJlbmRlckxheWVyPWZ1bmN0aW9uKHQsZSxpLG8pe2kuaXNIaWRkZW4odGhpcy50cmFuc2Zvcm0uem9vbSl8fCgiYmFja2dyb3VuZCI9PT1pLnR5cGV8fCJjdXN0b20iPT09aS50eXBlfHxvLmxlbmd0aCkmJih0aGlzLmlkPWkuaWQsdGhpcy5ncHVUaW1pbmdTdGFydChpKSxnb1tpLnR5cGVdKHQsZSxpLG8sdGhpcy5zdHlsZS5wbGFjZW1lbnQudmFyaWFibGVPZmZzZXRzKSx0aGlzLmdwdVRpbWluZ0VuZCgpKTt9LHZvLnByb3RvdHlwZS5ncHVUaW1pbmdTdGFydD1mdW5jdGlvbih0KXtpZih0aGlzLm9wdGlvbnMuZ3B1VGltaW5nKXt2YXIgZT10aGlzLmNvbnRleHQuZXh0VGltZXJRdWVyeSxpPXRoaXMuZ3B1VGltZXJzW3QuaWRdO2l8fChpPXRoaXMuZ3B1VGltZXJzW3QuaWRdPXtjYWxsczowLGNwdVRpbWU6MCxxdWVyeTplLmNyZWF0ZVF1ZXJ5RVhUKCl9KSxpLmNhbGxzKyssZS5iZWdpblF1ZXJ5RVhUKGUuVElNRV9FTEFQU0VEX0VYVCxpLnF1ZXJ5KTt9fSx2by5wcm90b3R5cGUuZ3B1VGltaW5nRW5kPWZ1bmN0aW9uKCl7aWYodGhpcy5vcHRpb25zLmdwdVRpbWluZyl7dmFyIHQ9dGhpcy5jb250ZXh0LmV4dFRpbWVyUXVlcnk7dC5lbmRRdWVyeUVYVCh0LlRJTUVfRUxBUFNFRF9FWFQpO319LHZvLnByb3RvdHlwZS5jb2xsZWN0R3B1VGltZXJzPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5ncHVUaW1lcnM7cmV0dXJuIHRoaXMuZ3B1VGltZXJzPXt9LHR9LHZvLnByb3RvdHlwZS5xdWVyeUdwdVRpbWVycz1mdW5jdGlvbih0KXt2YXIgZT17fTtmb3IodmFyIGkgaW4gdCl7dmFyIG89dFtpXSxyPXRoaXMuY29udGV4dC5leHRUaW1lclF1ZXJ5LGE9ci5nZXRRdWVyeU9iamVjdEVYVChvLnF1ZXJ5LHIuUVVFUllfUkVTVUxUX0VYVCkvMWU2O3IuZGVsZXRlUXVlcnlFWFQoby5xdWVyeSksZVtpXT1hO31yZXR1cm4gZX0sdm8ucHJvdG90eXBlLnRyYW5zbGF0ZVBvc01hdHJpeD1mdW5jdGlvbihlLGksbyxyLGEpe2lmKCFvWzBdJiYhb1sxXSlyZXR1cm4gZTt2YXIgbj1hPyJtYXAiPT09cj90aGlzLnRyYW5zZm9ybS5hbmdsZTowOiJ2aWV3cG9ydCI9PT1yPy10aGlzLnRyYW5zZm9ybS5hbmdsZTowO2lmKG4pe3ZhciBzPU1hdGguc2luKG4pLGw9TWF0aC5jb3Mobik7bz1bb1swXSpsLW9bMV0qcyxvWzBdKnMrb1sxXSpsXTt9dmFyIGM9W2E/b1swXTpwZShpLG9bMF0sdGhpcy50cmFuc2Zvcm0uem9vbSksYT9vWzFdOnBlKGksb1sxXSx0aGlzLnRyYW5zZm9ybS56b29tKSwwXSx1PW5ldyBGbG9hdDMyQXJyYXkoMTYpO3JldHVybiB0LnRyYW5zbGF0ZSh1LGUsYyksdX0sdm8ucHJvdG90eXBlLnNhdmVUaWxlVGV4dHVyZT1mdW5jdGlvbih0KXt2YXIgZT10aGlzLl90aWxlVGV4dHVyZXNbdC5zaXplWzBdXTtlP2UucHVzaCh0KTp0aGlzLl90aWxlVGV4dHVyZXNbdC5zaXplWzBdXT1bdF07fSx2by5wcm90b3R5cGUuZ2V0VGlsZVRleHR1cmU9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fdGlsZVRleHR1cmVzW3RdO3JldHVybiBlJiZlLmxlbmd0aD4wP2UucG9wKCk6bnVsbH0sdm8ucHJvdG90eXBlLmlzUGF0dGVybk1pc3Npbmc9ZnVuY3Rpb24odCl7aWYoIXQpcmV0dXJuICExO2lmKCF0LmZyb218fCF0LnRvKXJldHVybiAhMDt2YXIgZT10aGlzLmltYWdlTWFuYWdlci5nZXRQYXR0ZXJuKHQuZnJvbS50b1N0cmluZygpKSxpPXRoaXMuaW1hZ2VNYW5hZ2VyLmdldFBhdHRlcm4odC50by50b1N0cmluZygpKTtyZXR1cm4gIWV8fCFpfSx2by5wcm90b3R5cGUudXNlUHJvZ3JhbT1mdW5jdGlvbih0LGUpe3RoaXMuY2FjaGU9dGhpcy5jYWNoZXx8e307dmFyIGk9IiIrdCsoZT9lLmNhY2hlS2V5OiIiKSsodGhpcy5fc2hvd092ZXJkcmF3SW5zcGVjdG9yPyIvb3ZlcmRyYXciOiIiKTtyZXR1cm4gdGhpcy5jYWNoZVtpXXx8KHRoaXMuY2FjaGVbaV09bmV3IHhpKHRoaXMuY29udGV4dCx2aVt0XSxlLEhpW3RdLHRoaXMuX3Nob3dPdmVyZHJhd0luc3BlY3RvcikpLHRoaXMuY2FjaGVbaV19LHZvLnByb3RvdHlwZS5zZXRDdXN0b21MYXllckRlZmF1bHRzPWZ1bmN0aW9uKCl7dGhpcy5jb250ZXh0LnVuYmluZFZBTygpLHRoaXMuY29udGV4dC5jdWxsRmFjZS5zZXREZWZhdWx0KCksdGhpcy5jb250ZXh0LmFjdGl2ZVRleHR1cmUuc2V0RGVmYXVsdCgpLHRoaXMuY29udGV4dC5waXhlbFN0b3JlVW5wYWNrLnNldERlZmF1bHQoKSx0aGlzLmNvbnRleHQucGl4ZWxTdG9yZVVucGFja1ByZW11bHRpcGx5QWxwaGEuc2V0RGVmYXVsdCgpLHRoaXMuY29udGV4dC5waXhlbFN0b3JlVW5wYWNrRmxpcFkuc2V0RGVmYXVsdCgpO30sdm8ucHJvdG90eXBlLnNldEJhc2VTdGF0ZT1mdW5jdGlvbigpe3ZhciB0PXRoaXMuY29udGV4dC5nbDt0aGlzLmNvbnRleHQuY3VsbEZhY2Uuc2V0KCExKSx0aGlzLmNvbnRleHQudmlld3BvcnQuc2V0KFswLDAsdGhpcy53aWR0aCx0aGlzLmhlaWdodF0pLHRoaXMuY29udGV4dC5ibGVuZEVxdWF0aW9uLnNldCh0LkZVTkNfQUREKTt9LHZvLnByb3RvdHlwZS5pbml0RGVidWdPdmVybGF5Q2FudmFzPWZ1bmN0aW9uKCl7bnVsbD09dGhpcy5kZWJ1Z092ZXJsYXlDYW52YXMmJih0aGlzLmRlYnVnT3ZlcmxheUNhbnZhcz10LndpbmRvdy5kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJjYW52YXMiKSx0aGlzLmRlYnVnT3ZlcmxheUNhbnZhcy53aWR0aD01MTIsdGhpcy5kZWJ1Z092ZXJsYXlDYW52YXMuaGVpZ2h0PTUxMix0aGlzLmRlYnVnT3ZlcmxheVRleHR1cmU9bmV3IHQuVGV4dHVyZSh0aGlzLmNvbnRleHQsdGhpcy5kZWJ1Z092ZXJsYXlDYW52YXMsdGhpcy5jb250ZXh0LmdsLlJHQkEpKTt9LHZvLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5lbXB0eVRleHR1cmUuZGVzdHJveSgpLHRoaXMuZGVidWdPdmVybGF5VGV4dHVyZSYmdGhpcy5kZWJ1Z092ZXJsYXlUZXh0dXJlLmRlc3Ryb3koKTt9O3ZhciB5bz1mdW5jdGlvbih0LGUpe3RoaXMucG9pbnRzPXQsdGhpcy5wbGFuZXM9ZTt9O3lvLmZyb21JbnZQcm9qZWN0aW9uTWF0cml4PWZ1bmN0aW9uKGUsaSxvKXt2YXIgcj1NYXRoLnBvdygyLG8pLGE9W1stMSwxLC0xLDFdLFsxLDEsLTEsMV0sWzEsLTEsLTEsMV0sWy0xLC0xLC0xLDFdLFstMSwxLDEsMV0sWzEsMSwxLDFdLFsxLC0xLDEsMV0sWy0xLC0xLDEsMV1dLm1hcCgoZnVuY3Rpb24oaSl7cmV0dXJuIHQudHJhbnNmb3JtTWF0NChbXSxpLGUpfSkpLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIHQuc2NhbGUkMShbXSxlLDEvZVszXS9pKnIpfSkpLG49W1swLDEsMl0sWzYsNSw0XSxbMCwzLDddLFsyLDEsNV0sWzMsMiw2XSxbMCw0LDVdXS5tYXAoKGZ1bmN0aW9uKGUpe3ZhciBpPXQuc3ViKFtdLGFbZVswXV0sYVtlWzFdXSksbz10LnN1YihbXSxhW2VbMl1dLGFbZVsxXV0pLHI9dC5ub3JtYWxpemUoW10sdC5jcm9zcyhbXSxpLG8pKSxuPS10LmRvdChyLGFbZVsxXV0pO3JldHVybiByLmNvbmNhdChuKX0pKTtyZXR1cm4gbmV3IHlvKGEsbil9O3ZhciB4bz1mdW5jdGlvbihlLGkpe3RoaXMubWluPWUsdGhpcy5tYXg9aSx0aGlzLmNlbnRlcj10LnNjYWxlJDIoW10sdC5hZGQoW10sdGhpcy5taW4sdGhpcy5tYXgpLC41KTt9O3hvLnByb3RvdHlwZS5xdWFkcmFudD1mdW5jdGlvbihlKXtmb3IodmFyIGk9W2UlMj09MCxlPDJdLG89dC5jbG9uZSQyKHRoaXMubWluKSxyPXQuY2xvbmUkMih0aGlzLm1heCksYT0wO2E8aS5sZW5ndGg7YSsrKW9bYV09aVthXT90aGlzLm1pblthXTp0aGlzLmNlbnRlclthXSxyW2FdPWlbYV0/dGhpcy5jZW50ZXJbYV06dGhpcy5tYXhbYV07cmV0dXJuIHJbMl09dGhpcy5tYXhbMl0sbmV3IHhvKG8scil9LHhvLnByb3RvdHlwZS5kaXN0YW5jZVg9ZnVuY3Rpb24odCl7cmV0dXJuIE1hdGgubWF4KE1hdGgubWluKHRoaXMubWF4WzBdLHRbMF0pLHRoaXMubWluWzBdKS10WzBdfSx4by5wcm90b3R5cGUuZGlzdGFuY2VZPWZ1bmN0aW9uKHQpe3JldHVybiBNYXRoLm1heChNYXRoLm1pbih0aGlzLm1heFsxXSx0WzFdKSx0aGlzLm1pblsxXSktdFsxXX0seG8ucHJvdG90eXBlLmludGVyc2VjdHM9ZnVuY3Rpb24oZSl7Zm9yKHZhciBpPVtbdGhpcy5taW5bMF0sdGhpcy5taW5bMV0sMCwxXSxbdGhpcy5tYXhbMF0sdGhpcy5taW5bMV0sMCwxXSxbdGhpcy5tYXhbMF0sdGhpcy5tYXhbMV0sMCwxXSxbdGhpcy5taW5bMF0sdGhpcy5tYXhbMV0sMCwxXV0sbz0hMCxyPTA7cjxlLnBsYW5lcy5sZW5ndGg7cisrKXtmb3IodmFyIGE9ZS5wbGFuZXNbcl0sbj0wLHM9MDtzPGkubGVuZ3RoO3MrKyluKz10LmRvdCQxKGEsaVtzXSk+PTA7aWYoMD09PW4pcmV0dXJuIDA7biE9PWkubGVuZ3RoJiYobz0hMSk7fWlmKG8pcmV0dXJuIDI7Zm9yKHZhciBsPTA7bDwzO2wrKyl7Zm9yKHZhciBjPU51bWJlci5NQVhfVkFMVUUsdT0tTnVtYmVyLk1BWF9WQUxVRSxoPTA7aDxlLnBvaW50cy5sZW5ndGg7aCsrKXt2YXIgcD1lLnBvaW50c1toXVtsXS10aGlzLm1pbltsXTtjPU1hdGgubWluKGMscCksdT1NYXRoLm1heCh1LHApO31pZih1PDB8fGM+dGhpcy5tYXhbbF0tdGhpcy5taW5bbF0pcmV0dXJuIDB9cmV0dXJuIDF9O3ZhciBibz1mdW5jdGlvbih0LGUsaSxvKXtpZih2b2lkIDA9PT10JiYodD0wKSx2b2lkIDA9PT1lJiYoZT0wKSx2b2lkIDA9PT1pJiYoaT0wKSx2b2lkIDA9PT1vJiYobz0wKSxpc05hTih0KXx8dDwwfHxpc05hTihlKXx8ZTwwfHxpc05hTihpKXx8aTwwfHxpc05hTihvKXx8bzwwKXRocm93IG5ldyBFcnJvcigiSW52YWxpZCB2YWx1ZSBmb3IgZWRnZS1pbnNldHMsIHRvcCwgYm90dG9tLCBsZWZ0IGFuZCByaWdodCBtdXN0IGFsbCBiZSBudW1iZXJzIik7dGhpcy50b3A9dCx0aGlzLmJvdHRvbT1lLHRoaXMubGVmdD1pLHRoaXMucmlnaHQ9bzt9O2JvLnByb3RvdHlwZS5pbnRlcnBvbGF0ZT1mdW5jdGlvbihlLGksbyl7cmV0dXJuIG51bGwhPWkudG9wJiZudWxsIT1lLnRvcCYmKHRoaXMudG9wPXQubnVtYmVyKGUudG9wLGkudG9wLG8pKSxudWxsIT1pLmJvdHRvbSYmbnVsbCE9ZS5ib3R0b20mJih0aGlzLmJvdHRvbT10Lm51bWJlcihlLmJvdHRvbSxpLmJvdHRvbSxvKSksbnVsbCE9aS5sZWZ0JiZudWxsIT1lLmxlZnQmJih0aGlzLmxlZnQ9dC5udW1iZXIoZS5sZWZ0LGkubGVmdCxvKSksbnVsbCE9aS5yaWdodCYmbnVsbCE9ZS5yaWdodCYmKHRoaXMucmlnaHQ9dC5udW1iZXIoZS5yaWdodCxpLnJpZ2h0LG8pKSx0aGlzfSxiby5wcm90b3R5cGUuZ2V0Q2VudGVyPWZ1bmN0aW9uKGUsaSl7dmFyIG89dC5jbGFtcCgodGhpcy5sZWZ0K2UtdGhpcy5yaWdodCkvMiwwLGUpLHI9dC5jbGFtcCgodGhpcy50b3AraS10aGlzLmJvdHRvbSkvMiwwLGkpO3JldHVybiBuZXcgdC5Qb2ludChvLHIpfSxiby5wcm90b3R5cGUuZXF1YWxzPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnRvcD09PXQudG9wJiZ0aGlzLmJvdHRvbT09PXQuYm90dG9tJiZ0aGlzLmxlZnQ9PT10LmxlZnQmJnRoaXMucmlnaHQ9PT10LnJpZ2h0fSxiby5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGJvKHRoaXMudG9wLHRoaXMuYm90dG9tLHRoaXMubGVmdCx0aGlzLnJpZ2h0KX0sYm8ucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3JldHVybiB7dG9wOnRoaXMudG9wLGJvdHRvbTp0aGlzLmJvdHRvbSxsZWZ0OnRoaXMubGVmdCxyaWdodDp0aGlzLnJpZ2h0fX07dmFyIHdvPWZ1bmN0aW9uKGUsaSxvLHIsYSl7dGhpcy50aWxlU2l6ZT01MTIsdGhpcy5tYXhWYWxpZExhdGl0dWRlPTg1LjA1MTEyOSx0aGlzLl9yZW5kZXJXb3JsZENvcGllcz12b2lkIDA9PT1hfHxhLHRoaXMuX21pblpvb209ZXx8MCx0aGlzLl9tYXhab29tPWl8fDIyLHRoaXMuX21pblBpdGNoPW51bGw9PW8/MDpvLHRoaXMuX21heFBpdGNoPW51bGw9PXI/NjA6cix0aGlzLnNldE1heEJvdW5kcygpLHRoaXMud2lkdGg9MCx0aGlzLmhlaWdodD0wLHRoaXMuX2NlbnRlcj1uZXcgdC5MbmdMYXQoMCwwKSx0aGlzLnpvb209MCx0aGlzLmFuZ2xlPTAsdGhpcy5fZm92PS42NDM1MDExMDg3OTMyODQ0LHRoaXMuX3BpdGNoPTAsdGhpcy5fdW5tb2RpZmllZD0hMCx0aGlzLl9lZGdlSW5zZXRzPW5ldyBibyx0aGlzLl9wb3NNYXRyaXhDYWNoZT17fSx0aGlzLl9hbGlnbmVkUG9zTWF0cml4Q2FjaGU9e307fSxUbz17bWluWm9vbTp7Y29uZmlndXJhYmxlOiEwfSxtYXhab29tOntjb25maWd1cmFibGU6ITB9LG1pblBpdGNoOntjb25maWd1cmFibGU6ITB9LG1heFBpdGNoOntjb25maWd1cmFibGU6ITB9LHJlbmRlcldvcmxkQ29waWVzOntjb25maWd1cmFibGU6ITB9LHdvcmxkU2l6ZTp7Y29uZmlndXJhYmxlOiEwfSxjZW50ZXJPZmZzZXQ6e2NvbmZpZ3VyYWJsZTohMH0sc2l6ZTp7Y29uZmlndXJhYmxlOiEwfSxiZWFyaW5nOntjb25maWd1cmFibGU6ITB9LHBpdGNoOntjb25maWd1cmFibGU6ITB9LGZvdjp7Y29uZmlndXJhYmxlOiEwfSx6b29tOntjb25maWd1cmFibGU6ITB9LGNlbnRlcjp7Y29uZmlndXJhYmxlOiEwfSxwYWRkaW5nOntjb25maWd1cmFibGU6ITB9LGNlbnRlclBvaW50Ontjb25maWd1cmFibGU6ITB9LHVubW9kaWZpZWQ6e2NvbmZpZ3VyYWJsZTohMH0scG9pbnQ6e2NvbmZpZ3VyYWJsZTohMH19O3dvLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3ZhciB0PW5ldyB3byh0aGlzLl9taW5ab29tLHRoaXMuX21heFpvb20sdGhpcy5fbWluUGl0Y2gsdGhpcy5tYXhQaXRjaCx0aGlzLl9yZW5kZXJXb3JsZENvcGllcyk7cmV0dXJuIHQudGlsZVNpemU9dGhpcy50aWxlU2l6ZSx0LmxhdFJhbmdlPXRoaXMubGF0UmFuZ2UsdC53aWR0aD10aGlzLndpZHRoLHQuaGVpZ2h0PXRoaXMuaGVpZ2h0LHQuX2NlbnRlcj10aGlzLl9jZW50ZXIsdC56b29tPXRoaXMuem9vbSx0LmFuZ2xlPXRoaXMuYW5nbGUsdC5fZm92PXRoaXMuX2Zvdix0Ll9waXRjaD10aGlzLl9waXRjaCx0Ll91bm1vZGlmaWVkPXRoaXMuX3VubW9kaWZpZWQsdC5fZWRnZUluc2V0cz10aGlzLl9lZGdlSW5zZXRzLmNsb25lKCksdC5fY2FsY01hdHJpY2VzKCksdH0sVG8ubWluWm9vbS5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbWluWm9vbX0sVG8ubWluWm9vbS5zZXQ9ZnVuY3Rpb24odCl7dGhpcy5fbWluWm9vbSE9PXQmJih0aGlzLl9taW5ab29tPXQsdGhpcy56b29tPU1hdGgubWF4KHRoaXMuem9vbSx0KSk7fSxUby5tYXhab29tLmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9tYXhab29tfSxUby5tYXhab29tLnNldD1mdW5jdGlvbih0KXt0aGlzLl9tYXhab29tIT09dCYmKHRoaXMuX21heFpvb209dCx0aGlzLnpvb209TWF0aC5taW4odGhpcy56b29tLHQpKTt9LFRvLm1pblBpdGNoLmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9taW5QaXRjaH0sVG8ubWluUGl0Y2guc2V0PWZ1bmN0aW9uKHQpe3RoaXMuX21pblBpdGNoIT09dCYmKHRoaXMuX21pblBpdGNoPXQsdGhpcy5waXRjaD1NYXRoLm1heCh0aGlzLnBpdGNoLHQpKTt9LFRvLm1heFBpdGNoLmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9tYXhQaXRjaH0sVG8ubWF4UGl0Y2guc2V0PWZ1bmN0aW9uKHQpe3RoaXMuX21heFBpdGNoIT09dCYmKHRoaXMuX21heFBpdGNoPXQsdGhpcy5waXRjaD1NYXRoLm1pbih0aGlzLnBpdGNoLHQpKTt9LFRvLnJlbmRlcldvcmxkQ29waWVzLmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9yZW5kZXJXb3JsZENvcGllc30sVG8ucmVuZGVyV29ybGRDb3BpZXMuc2V0PWZ1bmN0aW9uKHQpe3ZvaWQgMD09PXQ/dD0hMDpudWxsPT09dCYmKHQ9ITEpLHRoaXMuX3JlbmRlcldvcmxkQ29waWVzPXQ7fSxUby53b3JsZFNpemUuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudGlsZVNpemUqdGhpcy5zY2FsZX0sVG8uY2VudGVyT2Zmc2V0LmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNlbnRlclBvaW50Ll9zdWIodGhpcy5zaXplLl9kaXYoMikpfSxUby5zaXplLmdldD1mdW5jdGlvbigpe3JldHVybiBuZXcgdC5Qb2ludCh0aGlzLndpZHRoLHRoaXMuaGVpZ2h0KX0sVG8uYmVhcmluZy5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gLXRoaXMuYW5nbGUvTWF0aC5QSSoxODB9LFRvLmJlYXJpbmcuc2V0PWZ1bmN0aW9uKGUpe3ZhciBpPS10LndyYXAoZSwtMTgwLDE4MCkqTWF0aC5QSS8xODA7dGhpcy5hbmdsZSE9PWkmJih0aGlzLl91bm1vZGlmaWVkPSExLHRoaXMuYW5nbGU9aSx0aGlzLl9jYWxjTWF0cmljZXMoKSx0aGlzLnJvdGF0aW9uTWF0cml4PXQuY3JlYXRlJDIoKSx0LnJvdGF0ZSh0aGlzLnJvdGF0aW9uTWF0cml4LHRoaXMucm90YXRpb25NYXRyaXgsdGhpcy5hbmdsZSkpO30sVG8ucGl0Y2guZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3BpdGNoL01hdGguUEkqMTgwfSxUby5waXRjaC5zZXQ9ZnVuY3Rpb24oZSl7dmFyIGk9dC5jbGFtcChlLHRoaXMubWluUGl0Y2gsdGhpcy5tYXhQaXRjaCkvMTgwKk1hdGguUEk7dGhpcy5fcGl0Y2ghPT1pJiYodGhpcy5fdW5tb2RpZmllZD0hMSx0aGlzLl9waXRjaD1pLHRoaXMuX2NhbGNNYXRyaWNlcygpKTt9LFRvLmZvdi5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZm92L01hdGguUEkqMTgwfSxUby5mb3Yuc2V0PWZ1bmN0aW9uKHQpe3Q9TWF0aC5tYXgoLjAxLE1hdGgubWluKDYwLHQpKSx0aGlzLl9mb3YhPT10JiYodGhpcy5fdW5tb2RpZmllZD0hMSx0aGlzLl9mb3Y9dC8xODAqTWF0aC5QSSx0aGlzLl9jYWxjTWF0cmljZXMoKSk7fSxUby56b29tLmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl96b29tfSxUby56b29tLnNldD1mdW5jdGlvbih0KXt2YXIgZT1NYXRoLm1pbihNYXRoLm1heCh0LHRoaXMubWluWm9vbSksdGhpcy5tYXhab29tKTt0aGlzLl96b29tIT09ZSYmKHRoaXMuX3VubW9kaWZpZWQ9ITEsdGhpcy5fem9vbT1lLHRoaXMuc2NhbGU9dGhpcy56b29tU2NhbGUoZSksdGhpcy50aWxlWm9vbT1NYXRoLmZsb29yKGUpLHRoaXMuem9vbUZyYWN0aW9uPWUtdGhpcy50aWxlWm9vbSx0aGlzLl9jb25zdHJhaW4oKSx0aGlzLl9jYWxjTWF0cmljZXMoKSk7fSxUby5jZW50ZXIuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NlbnRlcn0sVG8uY2VudGVyLnNldD1mdW5jdGlvbih0KXt0LmxhdD09PXRoaXMuX2NlbnRlci5sYXQmJnQubG5nPT09dGhpcy5fY2VudGVyLmxuZ3x8KHRoaXMuX3VubW9kaWZpZWQ9ITEsdGhpcy5fY2VudGVyPXQsdGhpcy5fY29uc3RyYWluKCksdGhpcy5fY2FsY01hdHJpY2VzKCkpO30sVG8ucGFkZGluZy5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZWRnZUluc2V0cy50b0pTT04oKX0sVG8ucGFkZGluZy5zZXQ9ZnVuY3Rpb24odCl7dGhpcy5fZWRnZUluc2V0cy5lcXVhbHModCl8fCh0aGlzLl91bm1vZGlmaWVkPSExLHRoaXMuX2VkZ2VJbnNldHMuaW50ZXJwb2xhdGUodGhpcy5fZWRnZUluc2V0cyx0LDEpLHRoaXMuX2NhbGNNYXRyaWNlcygpKTt9LFRvLmNlbnRlclBvaW50LmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9lZGdlSW5zZXRzLmdldENlbnRlcih0aGlzLndpZHRoLHRoaXMuaGVpZ2h0KX0sd28ucHJvdG90eXBlLmlzUGFkZGluZ0VxdWFsPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9lZGdlSW5zZXRzLmVxdWFscyh0KX0sd28ucHJvdG90eXBlLmludGVycG9sYXRlUGFkZGluZz1mdW5jdGlvbih0LGUsaSl7dGhpcy5fdW5tb2RpZmllZD0hMSx0aGlzLl9lZGdlSW5zZXRzLmludGVycG9sYXRlKHQsZSxpKSx0aGlzLl9jb25zdHJhaW4oKSx0aGlzLl9jYWxjTWF0cmljZXMoKTt9LHdvLnByb3RvdHlwZS5jb3ZlcmluZ1pvb21MZXZlbD1mdW5jdGlvbih0KXt2YXIgZT0odC5yb3VuZFpvb20/TWF0aC5yb3VuZDpNYXRoLmZsb29yKSh0aGlzLnpvb20rdGhpcy5zY2FsZVpvb20odGhpcy50aWxlU2l6ZS90LnRpbGVTaXplKSk7cmV0dXJuIE1hdGgubWF4KDAsZSl9LHdvLnByb3RvdHlwZS5nZXRWaXNpYmxlVW53cmFwcGVkQ29vcmRpbmF0ZXM9ZnVuY3Rpb24oZSl7dmFyIGk9W25ldyB0LlVud3JhcHBlZFRpbGVJRCgwLGUpXTtpZih0aGlzLl9yZW5kZXJXb3JsZENvcGllcylmb3IodmFyIG89dGhpcy5wb2ludENvb3JkaW5hdGUobmV3IHQuUG9pbnQoMCwwKSkscj10aGlzLnBvaW50Q29vcmRpbmF0ZShuZXcgdC5Qb2ludCh0aGlzLndpZHRoLDApKSxhPXRoaXMucG9pbnRDb29yZGluYXRlKG5ldyB0LlBvaW50KHRoaXMud2lkdGgsdGhpcy5oZWlnaHQpKSxuPXRoaXMucG9pbnRDb29yZGluYXRlKG5ldyB0LlBvaW50KDAsdGhpcy5oZWlnaHQpKSxzPU1hdGguZmxvb3IoTWF0aC5taW4oby54LHIueCxhLngsbi54KSksbD1NYXRoLmZsb29yKE1hdGgubWF4KG8ueCxyLngsYS54LG4ueCkpLGM9cy0xO2M8PWwrMTtjKyspMCE9PWMmJmkucHVzaChuZXcgdC5VbndyYXBwZWRUaWxlSUQoYyxlKSk7cmV0dXJuIGl9LHdvLnByb3RvdHlwZS5jb3ZlcmluZ1RpbGVzPWZ1bmN0aW9uKGUpe3ZhciBpPXRoaXMuY292ZXJpbmdab29tTGV2ZWwoZSksbz1pO2lmKHZvaWQgMCE9PWUubWluem9vbSYmaTxlLm1pbnpvb20pcmV0dXJuIFtdO3ZvaWQgMCE9PWUubWF4em9vbSYmaT5lLm1heHpvb20mJihpPWUubWF4em9vbSk7dmFyIHI9dC5NZXJjYXRvckNvb3JkaW5hdGUuZnJvbUxuZ0xhdCh0aGlzLmNlbnRlciksYT1NYXRoLnBvdygyLGkpLG49W2Eqci54LGEqci55LDBdLHM9eW8uZnJvbUludlByb2plY3Rpb25NYXRyaXgodGhpcy5pbnZQcm9qTWF0cml4LHRoaXMud29ybGRTaXplLGkpLGw9ZS5taW56b29tfHwwO3RoaXMucGl0Y2g8PTYwJiZ0aGlzLl9lZGdlSW5zZXRzLnRvcDwuMSYmKGw9aSk7dmFyIGM9ZnVuY3Rpb24odCl7cmV0dXJuIHthYWJiOm5ldyB4byhbdCphLDAsMF0sWyh0KzEpKmEsYSwwXSksem9vbTowLHg6MCx5OjAsd3JhcDp0LGZ1bGx5VmlzaWJsZTohMX19LHU9W10saD1bXSxwPWksZD1lLnJlcGFyc2VPdmVyc2NhbGVkP286aTtpZih0aGlzLl9yZW5kZXJXb3JsZENvcGllcylmb3IodmFyIF89MTtfPD0zO18rKyl1LnB1c2goYygtXykpLHUucHVzaChjKF8pKTtmb3IodS5wdXNoKGMoMCkpO3UubGVuZ3RoPjA7KXt2YXIgZj11LnBvcCgpLG09Zi54LGc9Zi55LHY9Zi5mdWxseVZpc2libGU7aWYoIXYpe3ZhciB5PWYuYWFiYi5pbnRlcnNlY3RzKHMpO2lmKDA9PT15KWNvbnRpbnVlO3Y9Mj09PXk7fXZhciB4PWYuYWFiYi5kaXN0YW5jZVgobiksYj1mLmFhYmIuZGlzdGFuY2VZKG4pLHc9TWF0aC5tYXgoTWF0aC5hYnMoeCksTWF0aC5hYnMoYikpO2lmKGYuem9vbT09PXB8fHc+MysoMTw8cC1mLnpvb20pLTImJmYuem9vbT49bCloLnB1c2goe3RpbGVJRDpuZXcgdC5PdmVyc2NhbGVkVGlsZUlEKGYuem9vbT09PXA/ZDpmLnpvb20sZi53cmFwLGYuem9vbSxtLGcpLGRpc3RhbmNlU3E6dC5zcXJMZW4oW25bMF0tLjUtbSxuWzFdLS41LWddKX0pO2Vsc2UgZm9yKHZhciBUPTA7VDw0O1QrKyl7dmFyIEU9KG08PDEpK1QlMixJPShnPDwxKSsoVD4+MSk7dS5wdXNoKHthYWJiOmYuYWFiYi5xdWFkcmFudChUKSx6b29tOmYuem9vbSsxLHg6RSx5Okksd3JhcDpmLndyYXAsZnVsbHlWaXNpYmxlOnZ9KTt9fXJldHVybiBoLnNvcnQoKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuZGlzdGFuY2VTcS1lLmRpc3RhbmNlU3F9KSkubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gdC50aWxlSUR9KSl9LHdvLnByb3RvdHlwZS5yZXNpemU9ZnVuY3Rpb24odCxlKXt0aGlzLndpZHRoPXQsdGhpcy5oZWlnaHQ9ZSx0aGlzLnBpeGVsc1RvR0xVbml0cz1bMi90LC0yL2VdLHRoaXMuX2NvbnN0cmFpbigpLHRoaXMuX2NhbGNNYXRyaWNlcygpO30sVG8udW5tb2RpZmllZC5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdW5tb2RpZmllZH0sd28ucHJvdG90eXBlLnpvb21TY2FsZT1mdW5jdGlvbih0KXtyZXR1cm4gTWF0aC5wb3coMix0KX0sd28ucHJvdG90eXBlLnNjYWxlWm9vbT1mdW5jdGlvbih0KXtyZXR1cm4gTWF0aC5sb2codCkvTWF0aC5MTjJ9LHdvLnByb3RvdHlwZS5wcm9qZWN0PWZ1bmN0aW9uKGUpe3ZhciBpPXQuY2xhbXAoZS5sYXQsLXRoaXMubWF4VmFsaWRMYXRpdHVkZSx0aGlzLm1heFZhbGlkTGF0aXR1ZGUpO3JldHVybiBuZXcgdC5Qb2ludCh0Lm1lcmNhdG9yWGZyb21MbmcoZS5sbmcpKnRoaXMud29ybGRTaXplLHQubWVyY2F0b3JZZnJvbUxhdChpKSp0aGlzLndvcmxkU2l6ZSl9LHdvLnByb3RvdHlwZS51bnByb2plY3Q9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyB0Lk1lcmNhdG9yQ29vcmRpbmF0ZShlLngvdGhpcy53b3JsZFNpemUsZS55L3RoaXMud29ybGRTaXplKS50b0xuZ0xhdCgpfSxUby5wb2ludC5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wcm9qZWN0KHRoaXMuY2VudGVyKX0sd28ucHJvdG90eXBlLnNldExvY2F0aW9uQXRQb2ludD1mdW5jdGlvbihlLGkpe3ZhciBvPXRoaXMucG9pbnRDb29yZGluYXRlKGkpLHI9dGhpcy5wb2ludENvb3JkaW5hdGUodGhpcy5jZW50ZXJQb2ludCksYT10aGlzLmxvY2F0aW9uQ29vcmRpbmF0ZShlKSxuPW5ldyB0Lk1lcmNhdG9yQ29vcmRpbmF0ZShhLngtKG8ueC1yLngpLGEueS0oby55LXIueSkpO3RoaXMuY2VudGVyPXRoaXMuY29vcmRpbmF0ZUxvY2F0aW9uKG4pLHRoaXMuX3JlbmRlcldvcmxkQ29waWVzJiYodGhpcy5jZW50ZXI9dGhpcy5jZW50ZXIud3JhcCgpKTt9LHdvLnByb3RvdHlwZS5sb2NhdGlvblBvaW50PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmNvb3JkaW5hdGVQb2ludCh0aGlzLmxvY2F0aW9uQ29vcmRpbmF0ZSh0KSl9LHdvLnByb3RvdHlwZS5wb2ludExvY2F0aW9uPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmNvb3JkaW5hdGVMb2NhdGlvbih0aGlzLnBvaW50Q29vcmRpbmF0ZSh0KSl9LHdvLnByb3RvdHlwZS5sb2NhdGlvbkNvb3JkaW5hdGU9ZnVuY3Rpb24oZSl7cmV0dXJuIHQuTWVyY2F0b3JDb29yZGluYXRlLmZyb21MbmdMYXQoZSl9LHdvLnByb3RvdHlwZS5jb29yZGluYXRlTG9jYXRpb249ZnVuY3Rpb24odCl7cmV0dXJuIHQudG9MbmdMYXQoKX0sd28ucHJvdG90eXBlLnBvaW50Q29vcmRpbmF0ZT1mdW5jdGlvbihlKXt2YXIgaT1bZS54LGUueSwwLDFdLG89W2UueCxlLnksMSwxXTt0LnRyYW5zZm9ybU1hdDQoaSxpLHRoaXMucGl4ZWxNYXRyaXhJbnZlcnNlKSx0LnRyYW5zZm9ybU1hdDQobyxvLHRoaXMucGl4ZWxNYXRyaXhJbnZlcnNlKTt2YXIgcj1pWzNdLGE9b1szXSxuPWlbMV0vcixzPW9bMV0vYSxsPWlbMl0vcixjPW9bMl0vYSx1PWw9PT1jPzA6KDAtbCkvKGMtbCk7cmV0dXJuIG5ldyB0Lk1lcmNhdG9yQ29vcmRpbmF0ZSh0Lm51bWJlcihpWzBdL3Isb1swXS9hLHUpL3RoaXMud29ybGRTaXplLHQubnVtYmVyKG4scyx1KS90aGlzLndvcmxkU2l6ZSl9LHdvLnByb3RvdHlwZS5jb29yZGluYXRlUG9pbnQ9ZnVuY3Rpb24oZSl7dmFyIGk9W2UueCp0aGlzLndvcmxkU2l6ZSxlLnkqdGhpcy53b3JsZFNpemUsMCwxXTtyZXR1cm4gdC50cmFuc2Zvcm1NYXQ0KGksaSx0aGlzLnBpeGVsTWF0cml4KSxuZXcgdC5Qb2ludChpWzBdL2lbM10saVsxXS9pWzNdKX0sd28ucHJvdG90eXBlLmdldEJvdW5kcz1mdW5jdGlvbigpe3JldHVybiAobmV3IHQuTG5nTGF0Qm91bmRzKS5leHRlbmQodGhpcy5wb2ludExvY2F0aW9uKG5ldyB0LlBvaW50KDAsMCkpKS5leHRlbmQodGhpcy5wb2ludExvY2F0aW9uKG5ldyB0LlBvaW50KHRoaXMud2lkdGgsMCkpKS5leHRlbmQodGhpcy5wb2ludExvY2F0aW9uKG5ldyB0LlBvaW50KHRoaXMud2lkdGgsdGhpcy5oZWlnaHQpKSkuZXh0ZW5kKHRoaXMucG9pbnRMb2NhdGlvbihuZXcgdC5Qb2ludCgwLHRoaXMuaGVpZ2h0KSkpfSx3by5wcm90b3R5cGUuZ2V0TWF4Qm91bmRzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubGF0UmFuZ2UmJjI9PT10aGlzLmxhdFJhbmdlLmxlbmd0aCYmdGhpcy5sbmdSYW5nZSYmMj09PXRoaXMubG5nUmFuZ2UubGVuZ3RoP25ldyB0LkxuZ0xhdEJvdW5kcyhbdGhpcy5sbmdSYW5nZVswXSx0aGlzLmxhdFJhbmdlWzBdXSxbdGhpcy5sbmdSYW5nZVsxXSx0aGlzLmxhdFJhbmdlWzFdXSk6bnVsbH0sd28ucHJvdG90eXBlLnNldE1heEJvdW5kcz1mdW5jdGlvbih0KXt0Pyh0aGlzLmxuZ1JhbmdlPVt0LmdldFdlc3QoKSx0LmdldEVhc3QoKV0sdGhpcy5sYXRSYW5nZT1bdC5nZXRTb3V0aCgpLHQuZ2V0Tm9ydGgoKV0sdGhpcy5fY29uc3RyYWluKCkpOih0aGlzLmxuZ1JhbmdlPW51bGwsdGhpcy5sYXRSYW5nZT1bLXRoaXMubWF4VmFsaWRMYXRpdHVkZSx0aGlzLm1heFZhbGlkTGF0aXR1ZGVdKTt9LHdvLnByb3RvdHlwZS5jYWxjdWxhdGVQb3NNYXRyaXg9ZnVuY3Rpb24oZSxpKXt2b2lkIDA9PT1pJiYoaT0hMSk7dmFyIG89ZS5rZXkscj1pP3RoaXMuX2FsaWduZWRQb3NNYXRyaXhDYWNoZTp0aGlzLl9wb3NNYXRyaXhDYWNoZTtpZihyW29dKXJldHVybiByW29dO3ZhciBhPWUuY2Fub25pY2FsLG49dGhpcy53b3JsZFNpemUvdGhpcy56b29tU2NhbGUoYS56KSxzPWEueCtNYXRoLnBvdygyLGEueikqZS53cmFwLGw9dC5pZGVudGl0eShuZXcgRmxvYXQ2NEFycmF5KDE2KSk7cmV0dXJuIHQudHJhbnNsYXRlKGwsbCxbcypuLGEueSpuLDBdKSx0LnNjYWxlKGwsbCxbbi90LkVYVEVOVCxuL3QuRVhURU5ULDFdKSx0Lm11bHRpcGx5KGwsaT90aGlzLmFsaWduZWRQcm9qTWF0cml4OnRoaXMucHJvak1hdHJpeCxsKSxyW29dPW5ldyBGbG9hdDMyQXJyYXkobCkscltvXX0sd28ucHJvdG90eXBlLmN1c3RvbUxheWVyTWF0cml4PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubWVyY2F0b3JNYXRyaXguc2xpY2UoKX0sd28ucHJvdG90eXBlLl9jb25zdHJhaW49ZnVuY3Rpb24oKXtpZih0aGlzLmNlbnRlciYmdGhpcy53aWR0aCYmdGhpcy5oZWlnaHQmJiF0aGlzLl9jb25zdHJhaW5pbmcpe3RoaXMuX2NvbnN0cmFpbmluZz0hMDt2YXIgZSxpLG8scixhPS05MCxuPTkwLHM9LTE4MCxsPTE4MCxjPXRoaXMuc2l6ZSx1PXRoaXMuX3VubW9kaWZpZWQ7aWYodGhpcy5sYXRSYW5nZSl7dmFyIGg9dGhpcy5sYXRSYW5nZTthPXQubWVyY2F0b3JZZnJvbUxhdChoWzFdKSp0aGlzLndvcmxkU2l6ZSxlPShuPXQubWVyY2F0b3JZZnJvbUxhdChoWzBdKSp0aGlzLndvcmxkU2l6ZSktYTxjLnk/Yy55LyhuLWEpOjA7fWlmKHRoaXMubG5nUmFuZ2Upe3ZhciBwPXRoaXMubG5nUmFuZ2U7cz10Lm1lcmNhdG9yWGZyb21MbmcocFswXSkqdGhpcy53b3JsZFNpemUsaT0obD10Lm1lcmNhdG9yWGZyb21MbmcocFsxXSkqdGhpcy53b3JsZFNpemUpLXM8Yy54P2MueC8obC1zKTowO312YXIgZD10aGlzLnBvaW50LF89TWF0aC5tYXgoaXx8MCxlfHwwKTtpZihfKXJldHVybiB0aGlzLmNlbnRlcj10aGlzLnVucHJvamVjdChuZXcgdC5Qb2ludChpPyhsK3MpLzI6ZC54LGU/KG4rYSkvMjpkLnkpKSx0aGlzLnpvb20rPXRoaXMuc2NhbGVab29tKF8pLHRoaXMuX3VubW9kaWZpZWQ9dSx2b2lkKHRoaXMuX2NvbnN0cmFpbmluZz0hMSk7aWYodGhpcy5sYXRSYW5nZSl7dmFyIGY9ZC55LG09Yy55LzI7Zi1tPGEmJihyPWErbSksZittPm4mJihyPW4tbSk7fWlmKHRoaXMubG5nUmFuZ2Upe3ZhciBnPWQueCx2PWMueC8yO2ctdjxzJiYobz1zK3YpLGcrdj5sJiYobz1sLXYpO312b2lkIDA9PT1vJiZ2b2lkIDA9PT1yfHwodGhpcy5jZW50ZXI9dGhpcy51bnByb2plY3QobmV3IHQuUG9pbnQodm9pZCAwIT09bz9vOmQueCx2b2lkIDAhPT1yP3I6ZC55KSkpLHRoaXMuX3VubW9kaWZpZWQ9dSx0aGlzLl9jb25zdHJhaW5pbmc9ITE7fX0sd28ucHJvdG90eXBlLl9jYWxjTWF0cmljZXM9ZnVuY3Rpb24oKXtpZih0aGlzLmhlaWdodCl7dmFyIGU9dGhpcy5jZW50ZXJPZmZzZXQ7dGhpcy5jYW1lcmFUb0NlbnRlckRpc3RhbmNlPS41L01hdGgudGFuKHRoaXMuX2Zvdi8yKSp0aGlzLmhlaWdodDt2YXIgaT1NYXRoLlBJLzIrdGhpcy5fcGl0Y2gsbz10aGlzLl9mb3YqKC41K2UueS90aGlzLmhlaWdodCkscj1NYXRoLnNpbihvKSp0aGlzLmNhbWVyYVRvQ2VudGVyRGlzdGFuY2UvTWF0aC5zaW4odC5jbGFtcChNYXRoLlBJLWktbywuMDEsTWF0aC5QSS0uMDEpKSxhPXRoaXMucG9pbnQsbj1hLngscz1hLnksbD0xLjAxKihNYXRoLmNvcyhNYXRoLlBJLzItdGhpcy5fcGl0Y2gpKnIrdGhpcy5jYW1lcmFUb0NlbnRlckRpc3RhbmNlKSxjPXRoaXMuaGVpZ2h0LzUwLHU9bmV3IEZsb2F0NjRBcnJheSgxNik7dC5wZXJzcGVjdGl2ZSh1LHRoaXMuX2Zvdix0aGlzLndpZHRoL3RoaXMuaGVpZ2h0LGMsbCksdVs4XT0yKi1lLngvdGhpcy53aWR0aCx1WzldPTIqZS55L3RoaXMuaGVpZ2h0LHQuc2NhbGUodSx1LFsxLC0xLDFdKSx0LnRyYW5zbGF0ZSh1LHUsWzAsMCwtdGhpcy5jYW1lcmFUb0NlbnRlckRpc3RhbmNlXSksdC5yb3RhdGVYKHUsdSx0aGlzLl9waXRjaCksdC5yb3RhdGVaKHUsdSx0aGlzLmFuZ2xlKSx0LnRyYW5zbGF0ZSh1LHUsWy1uLC1zLDBdKSx0aGlzLm1lcmNhdG9yTWF0cml4PXQuc2NhbGUoW10sdSxbdGhpcy53b3JsZFNpemUsdGhpcy53b3JsZFNpemUsdGhpcy53b3JsZFNpemVdKSx0LnNjYWxlKHUsdSxbMSwxLHQubWVyY2F0b3JaZnJvbUFsdGl0dWRlKDEsdGhpcy5jZW50ZXIubGF0KSp0aGlzLndvcmxkU2l6ZSwxXSksdGhpcy5wcm9qTWF0cml4PXUsdGhpcy5pbnZQcm9qTWF0cml4PXQuaW52ZXJ0KFtdLHRoaXMucHJvak1hdHJpeCk7dmFyIGg9dGhpcy53aWR0aCUyLzIscD10aGlzLmhlaWdodCUyLzIsZD1NYXRoLmNvcyh0aGlzLmFuZ2xlKSxfPU1hdGguc2luKHRoaXMuYW5nbGUpLGY9bi1NYXRoLnJvdW5kKG4pK2QqaCtfKnAsbT1zLU1hdGgucm91bmQocykrZCpwK18qaCxnPW5ldyBGbG9hdDY0QXJyYXkodSk7aWYodC50cmFuc2xhdGUoZyxnLFtmPi41P2YtMTpmLG0+LjU/bS0xOm0sMF0pLHRoaXMuYWxpZ25lZFByb2pNYXRyaXg9Zyx1PXQuY3JlYXRlKCksdC5zY2FsZSh1LHUsW3RoaXMud2lkdGgvMiwtdGhpcy5oZWlnaHQvMiwxXSksdC50cmFuc2xhdGUodSx1LFsxLC0xLDBdKSx0aGlzLmxhYmVsUGxhbmVNYXRyaXg9dSx1PXQuY3JlYXRlKCksdC5zY2FsZSh1LHUsWzEsLTEsMV0pLHQudHJhbnNsYXRlKHUsdSxbLTEsLTEsMF0pLHQuc2NhbGUodSx1LFsyL3RoaXMud2lkdGgsMi90aGlzLmhlaWdodCwxXSksdGhpcy5nbENvb3JkTWF0cml4PXUsdGhpcy5waXhlbE1hdHJpeD10Lm11bHRpcGx5KG5ldyBGbG9hdDY0QXJyYXkoMTYpLHRoaXMubGFiZWxQbGFuZU1hdHJpeCx0aGlzLnByb2pNYXRyaXgpLCEodT10LmludmVydChuZXcgRmxvYXQ2NEFycmF5KDE2KSx0aGlzLnBpeGVsTWF0cml4KSkpdGhyb3cgbmV3IEVycm9yKCJmYWlsZWQgdG8gaW52ZXJ0IG1hdHJpeCIpO3RoaXMucGl4ZWxNYXRyaXhJbnZlcnNlPXUsdGhpcy5fcG9zTWF0cml4Q2FjaGU9e30sdGhpcy5fYWxpZ25lZFBvc01hdHJpeENhY2hlPXt9O319LHdvLnByb3RvdHlwZS5tYXhQaXRjaFNjYWxlRmFjdG9yPWZ1bmN0aW9uKCl7aWYoIXRoaXMucGl4ZWxNYXRyaXhJbnZlcnNlKXJldHVybiAxO3ZhciBlPXRoaXMucG9pbnRDb29yZGluYXRlKG5ldyB0LlBvaW50KDAsMCkpLGk9W2UueCp0aGlzLndvcmxkU2l6ZSxlLnkqdGhpcy53b3JsZFNpemUsMCwxXTtyZXR1cm4gdC50cmFuc2Zvcm1NYXQ0KGksaSx0aGlzLnBpeGVsTWF0cml4KVszXS90aGlzLmNhbWVyYVRvQ2VudGVyRGlzdGFuY2V9LHdvLnByb3RvdHlwZS5nZXRDYW1lcmFQb2ludD1mdW5jdGlvbigpe3ZhciBlPU1hdGgudGFuKHRoaXMuX3BpdGNoKSoodGhpcy5jYW1lcmFUb0NlbnRlckRpc3RhbmNlfHwxKTtyZXR1cm4gdGhpcy5jZW50ZXJQb2ludC5hZGQobmV3IHQuUG9pbnQoMCxlKSl9LHdvLnByb3RvdHlwZS5nZXRDYW1lcmFRdWVyeUdlb21ldHJ5PWZ1bmN0aW9uKGUpe3ZhciBpPXRoaXMuZ2V0Q2FtZXJhUG9pbnQoKTtpZigxPT09ZS5sZW5ndGgpcmV0dXJuIFtlWzBdLGldO2Zvcih2YXIgbz1pLngscj1pLnksYT1pLngsbj1pLnkscz0wLGw9ZTtzPGwubGVuZ3RoO3MrPTEpe3ZhciBjPWxbc107bz1NYXRoLm1pbihvLGMueCkscj1NYXRoLm1pbihyLGMueSksYT1NYXRoLm1heChhLGMueCksbj1NYXRoLm1heChuLGMueSk7fXJldHVybiBbbmV3IHQuUG9pbnQobyxyKSxuZXcgdC5Qb2ludChhLHIpLG5ldyB0LlBvaW50KGEsbiksbmV3IHQuUG9pbnQobyxuKSxuZXcgdC5Qb2ludChvLHIpXX0sT2JqZWN0LmRlZmluZVByb3BlcnRpZXMod28ucHJvdG90eXBlLFRvKTt2YXIgRW89ZnVuY3Rpb24oZSl7dmFyIGksbyxyLGE7dGhpcy5faGFzaE5hbWU9ZSYmZW5jb2RlVVJJQ29tcG9uZW50KGUpLHQuYmluZEFsbChbIl9nZXRDdXJyZW50SGFzaCIsIl9vbkhhc2hDaGFuZ2UiLCJfdXBkYXRlSGFzaCJdLHRoaXMpLHRoaXMuX3VwZGF0ZUhhc2g9KGk9dGhpcy5fdXBkYXRlSGFzaFVudGhyb3R0bGVkLmJpbmQodGhpcyksbz0hMSxyPW51bGwsYT1mdW5jdGlvbigpe3I9bnVsbCxvJiYoaSgpLHI9c2V0VGltZW91dChhLDMwMCksbz0hMSk7fSxmdW5jdGlvbigpe3JldHVybiBvPSEwLHJ8fGEoKSxyfSk7fTtFby5wcm90b3R5cGUuYWRkVG89ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX21hcD1lLHQud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoImhhc2hjaGFuZ2UiLHRoaXMuX29uSGFzaENoYW5nZSwhMSksdGhpcy5fbWFwLm9uKCJtb3ZlZW5kIix0aGlzLl91cGRhdGVIYXNoKSx0aGlzfSxFby5wcm90b3R5cGUucmVtb3ZlPWZ1bmN0aW9uKCl7cmV0dXJuIHQud2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoImhhc2hjaGFuZ2UiLHRoaXMuX29uSGFzaENoYW5nZSwhMSksdGhpcy5fbWFwLm9mZigibW92ZWVuZCIsdGhpcy5fdXBkYXRlSGFzaCksY2xlYXJUaW1lb3V0KHRoaXMuX3VwZGF0ZUhhc2goKSksZGVsZXRlIHRoaXMuX21hcCx0aGlzfSxFby5wcm90b3R5cGUuZ2V0SGFzaFN0cmluZz1mdW5jdGlvbihlKXt2YXIgaT10aGlzLl9tYXAuZ2V0Q2VudGVyKCksbz1NYXRoLnJvdW5kKDEwMCp0aGlzLl9tYXAuZ2V0Wm9vbSgpKS8xMDAscj1NYXRoLmNlaWwoKG8qTWF0aC5MTjIrTWF0aC5sb2coNTEyLzM2MC8uNSkpL01hdGguTE4xMCksYT1NYXRoLnBvdygxMCxyKSxuPU1hdGgucm91bmQoaS5sbmcqYSkvYSxzPU1hdGgucm91bmQoaS5sYXQqYSkvYSxsPXRoaXMuX21hcC5nZXRCZWFyaW5nKCksYz10aGlzLl9tYXAuZ2V0UGl0Y2goKSx1PSIiO2lmKHUrPWU/Ii8iK24rIi8iK3MrIi8iK286bysiLyIrcysiLyIrbiwobHx8YykmJih1Kz0iLyIrTWF0aC5yb3VuZCgxMCpsKS8xMCksYyYmKHUrPSIvIitNYXRoLnJvdW5kKGMpKSx0aGlzLl9oYXNoTmFtZSl7dmFyIGg9dGhpcy5faGFzaE5hbWUscD0hMSxkPXQud2luZG93LmxvY2F0aW9uLmhhc2guc2xpY2UoMSkuc3BsaXQoIiYiKS5tYXAoKGZ1bmN0aW9uKHQpe3ZhciBlPXQuc3BsaXQoIj0iKVswXTtyZXR1cm4gZT09PWg/KHA9ITAsZSsiPSIrdSk6dH0pKS5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiB0fSkpO3JldHVybiBwfHxkLnB1c2goaCsiPSIrdSksIiMiK2Quam9pbigiJiIpfXJldHVybiAiIyIrdX0sRW8ucHJvdG90eXBlLl9nZXRDdXJyZW50SGFzaD1mdW5jdGlvbigpe3ZhciBlLGk9dGhpcyxvPXQud2luZG93LmxvY2F0aW9uLmhhc2gucmVwbGFjZSgiIyIsIiIpO3JldHVybiB0aGlzLl9oYXNoTmFtZT8oby5zcGxpdCgiJiIpLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIHQuc3BsaXQoIj0iKX0pKS5mb3JFYWNoKChmdW5jdGlvbih0KXt0WzBdPT09aS5faGFzaE5hbWUmJihlPXQpO30pKSwoZSYmZVsxXXx8IiIpLnNwbGl0KCIvIikpOm8uc3BsaXQoIi8iKX0sRW8ucHJvdG90eXBlLl9vbkhhc2hDaGFuZ2U9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9nZXRDdXJyZW50SGFzaCgpO2lmKHQubGVuZ3RoPj0zJiYhdC5zb21lKChmdW5jdGlvbih0KXtyZXR1cm4gaXNOYU4odCl9KSkpe3ZhciBlPXRoaXMuX21hcC5kcmFnUm90YXRlLmlzRW5hYmxlZCgpJiZ0aGlzLl9tYXAudG91Y2hab29tUm90YXRlLmlzRW5hYmxlZCgpPysodFszXXx8MCk6dGhpcy5fbWFwLmdldEJlYXJpbmcoKTtyZXR1cm4gdGhpcy5fbWFwLmp1bXBUbyh7Y2VudGVyOlsrdFsyXSwrdFsxXV0sem9vbTordFswXSxiZWFyaW5nOmUscGl0Y2g6Kyh0WzRdfHwwKX0pLCEwfXJldHVybiAhMX0sRW8ucHJvdG90eXBlLl91cGRhdGVIYXNoVW50aHJvdHRsZWQ9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmdldEhhc2hTdHJpbmcoKTt0cnl7dC53aW5kb3cuaGlzdG9yeS5yZXBsYWNlU3RhdGUodC53aW5kb3cuaGlzdG9yeS5zdGF0ZSwiIixlKTt9Y2F0Y2godCl7fX07dmFyIElvPXtsaW5lYXJpdHk6LjMsZWFzaW5nOnQuYmV6aWVyKDAsMCwuMywxKX0sUG89dC5leHRlbmQoe2RlY2VsZXJhdGlvbjoyNTAwLG1heFNwZWVkOjE0MDB9LElvKSxTbz10LmV4dGVuZCh7ZGVjZWxlcmF0aW9uOjIwLG1heFNwZWVkOjE0MDB9LElvKSxDbz10LmV4dGVuZCh7ZGVjZWxlcmF0aW9uOjFlMyxtYXhTcGVlZDozNjB9LElvKSx6bz10LmV4dGVuZCh7ZGVjZWxlcmF0aW9uOjFlMyxtYXhTcGVlZDo5MH0sSW8pLERvPWZ1bmN0aW9uKHQpe3RoaXMuX21hcD10LHRoaXMuY2xlYXIoKTt9O2Z1bmN0aW9uIE1vKHQsZSl7KCF0LmR1cmF0aW9ufHx0LmR1cmF0aW9uPGUuZHVyYXRpb24pJiYodC5kdXJhdGlvbj1lLmR1cmF0aW9uLHQuZWFzaW5nPWUuZWFzaW5nKTt9ZnVuY3Rpb24gQW8oZSxpLG8pe3ZhciByPW8ubWF4U3BlZWQsYT1vLmxpbmVhcml0eSxuPW8uZGVjZWxlcmF0aW9uLHM9dC5jbGFtcChlKmEvKGkvMWUzKSwtcixyKSxsPU1hdGguYWJzKHMpLyhuKmEpO3JldHVybiB7ZWFzaW5nOm8uZWFzaW5nLGR1cmF0aW9uOjFlMypsLGFtb3VudDpzKihsLzIpfX1Eby5wcm90b3R5cGUuY2xlYXI9ZnVuY3Rpb24oKXt0aGlzLl9pbmVydGlhQnVmZmVyPVtdO30sRG8ucHJvdG90eXBlLnJlY29yZD1mdW5jdGlvbihlKXt0aGlzLl9kcmFpbkluZXJ0aWFCdWZmZXIoKSx0aGlzLl9pbmVydGlhQnVmZmVyLnB1c2goe3RpbWU6dC5icm93c2VyLm5vdygpLHNldHRpbmdzOmV9KTt9LERvLnByb3RvdHlwZS5fZHJhaW5JbmVydGlhQnVmZmVyPWZ1bmN0aW9uKCl7Zm9yKHZhciBlPXRoaXMuX2luZXJ0aWFCdWZmZXIsaT10LmJyb3dzZXIubm93KCk7ZS5sZW5ndGg+MCYmaS1lWzBdLnRpbWU+MTYwOyllLnNoaWZ0KCk7fSxEby5wcm90b3R5cGUuX29uTW92ZUVuZD1mdW5jdGlvbihlKXtpZih0aGlzLl9kcmFpbkluZXJ0aWFCdWZmZXIoKSwhKHRoaXMuX2luZXJ0aWFCdWZmZXIubGVuZ3RoPDIpKXtmb3IodmFyIGk9e3pvb206MCxiZWFyaW5nOjAscGl0Y2g6MCxwYW46bmV3IHQuUG9pbnQoMCwwKSxwaW5jaEFyb3VuZDp2b2lkIDAsYXJvdW5kOnZvaWQgMH0sbz0wLHI9dGhpcy5faW5lcnRpYUJ1ZmZlcjtvPHIubGVuZ3RoO28rPTEpe3ZhciBhPXJbb10uc2V0dGluZ3M7aS56b29tKz1hLnpvb21EZWx0YXx8MCxpLmJlYXJpbmcrPWEuYmVhcmluZ0RlbHRhfHwwLGkucGl0Y2grPWEucGl0Y2hEZWx0YXx8MCxhLnBhbkRlbHRhJiZpLnBhbi5fYWRkKGEucGFuRGVsdGEpLGEuYXJvdW5kJiYoaS5hcm91bmQ9YS5hcm91bmQpLGEucGluY2hBcm91bmQmJihpLnBpbmNoQXJvdW5kPWEucGluY2hBcm91bmQpO312YXIgbj10aGlzLl9pbmVydGlhQnVmZmVyW3RoaXMuX2luZXJ0aWFCdWZmZXIubGVuZ3RoLTFdLnRpbWUtdGhpcy5faW5lcnRpYUJ1ZmZlclswXS50aW1lLHM9e307aWYoaS5wYW4ubWFnKCkpe3ZhciBsPUFvKGkucGFuLm1hZygpLG4sdC5leHRlbmQoe30sUG8sZXx8e30pKTtzLm9mZnNldD1pLnBhbi5tdWx0KGwuYW1vdW50L2kucGFuLm1hZygpKSxzLmNlbnRlcj10aGlzLl9tYXAudHJhbnNmb3JtLmNlbnRlcixNbyhzLGwpO31pZihpLnpvb20pe3ZhciBjPUFvKGkuem9vbSxuLFNvKTtzLnpvb209dGhpcy5fbWFwLnRyYW5zZm9ybS56b29tK2MuYW1vdW50LE1vKHMsYyk7fWlmKGkuYmVhcmluZyl7dmFyIHU9QW8oaS5iZWFyaW5nLG4sQ28pO3MuYmVhcmluZz10aGlzLl9tYXAudHJhbnNmb3JtLmJlYXJpbmcrdC5jbGFtcCh1LmFtb3VudCwtMTc5LDE3OSksTW8ocyx1KTt9aWYoaS5waXRjaCl7dmFyIGg9QW8oaS5waXRjaCxuLHpvKTtzLnBpdGNoPXRoaXMuX21hcC50cmFuc2Zvcm0ucGl0Y2graC5hbW91bnQsTW8ocyxoKTt9aWYocy56b29tfHxzLmJlYXJpbmcpe3ZhciBwPXZvaWQgMD09PWkucGluY2hBcm91bmQ/aS5hcm91bmQ6aS5waW5jaEFyb3VuZDtzLmFyb3VuZD1wP3RoaXMuX21hcC51bnByb2plY3QocCk6dGhpcy5fbWFwLmdldENlbnRlcigpO31yZXR1cm4gdGhpcy5jbGVhcigpLHQuZXh0ZW5kKHMse25vTW92ZVN0YXJ0OiEwfSl9fTt2YXIgTG89ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gbyhvLHIsYSxuKXt2b2lkIDA9PT1uJiYobj17fSk7dmFyIHM9aS5tb3VzZVBvcyhyLmdldENhbnZhc0NvbnRhaW5lcigpLGEpLGw9ci51bnByb2plY3Qocyk7ZS5jYWxsKHRoaXMsbyx0LmV4dGVuZCh7cG9pbnQ6cyxsbmdMYXQ6bCxvcmlnaW5hbEV2ZW50OmF9LG4pKSx0aGlzLl9kZWZhdWx0UHJldmVudGVkPSExLHRoaXMudGFyZ2V0PXI7fWUmJihvLl9fcHJvdG9fXz1lKSwoby5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlJiZlLnByb3RvdHlwZSkpLmNvbnN0cnVjdG9yPW87dmFyIHI9e2RlZmF1bHRQcmV2ZW50ZWQ6e2NvbmZpZ3VyYWJsZTohMH19O3JldHVybiBvLnByb3RvdHlwZS5wcmV2ZW50RGVmYXVsdD1mdW5jdGlvbigpe3RoaXMuX2RlZmF1bHRQcmV2ZW50ZWQ9ITA7fSxyLmRlZmF1bHRQcmV2ZW50ZWQuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2RlZmF1bHRQcmV2ZW50ZWR9LE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG8ucHJvdG90eXBlLHIpLG99KHQuRXZlbnQpLFJvPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIG8obyxyLGEpe3ZhciBuPSJ0b3VjaGVuZCI9PT1vP2EuY2hhbmdlZFRvdWNoZXM6YS50b3VjaGVzLHM9aS50b3VjaFBvcyhyLmdldENhbnZhc0NvbnRhaW5lcigpLG4pLGw9cy5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiByLnVucHJvamVjdCh0KX0pKSxjPXMucmVkdWNlKChmdW5jdGlvbih0LGUsaSxvKXtyZXR1cm4gdC5hZGQoZS5kaXYoby5sZW5ndGgpKX0pLG5ldyB0LlBvaW50KDAsMCkpLHU9ci51bnByb2plY3QoYyk7ZS5jYWxsKHRoaXMsbyx7cG9pbnRzOnMscG9pbnQ6YyxsbmdMYXRzOmwsbG5nTGF0OnUsb3JpZ2luYWxFdmVudDphfSksdGhpcy5fZGVmYXVsdFByZXZlbnRlZD0hMTt9ZSYmKG8uX19wcm90b19fPWUpLChvLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGUmJmUucHJvdG90eXBlKSkuY29uc3RydWN0b3I9bzt2YXIgcj17ZGVmYXVsdFByZXZlbnRlZDp7Y29uZmlndXJhYmxlOiEwfX07cmV0dXJuIG8ucHJvdG90eXBlLnByZXZlbnREZWZhdWx0PWZ1bmN0aW9uKCl7dGhpcy5fZGVmYXVsdFByZXZlbnRlZD0hMDt9LHIuZGVmYXVsdFByZXZlbnRlZC5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZGVmYXVsdFByZXZlbnRlZH0sT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoby5wcm90b3R5cGUsciksb30odC5FdmVudCksa289ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlLGksbyl7dC5jYWxsKHRoaXMsZSx7b3JpZ2luYWxFdmVudDpvfSksdGhpcy5fZGVmYXVsdFByZXZlbnRlZD0hMTt9dCYmKGUuX19wcm90b19fPXQpLChlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlKSkuY29uc3RydWN0b3I9ZTt2YXIgaT17ZGVmYXVsdFByZXZlbnRlZDp7Y29uZmlndXJhYmxlOiEwfX07cmV0dXJuIGUucHJvdG90eXBlLnByZXZlbnREZWZhdWx0PWZ1bmN0aW9uKCl7dGhpcy5fZGVmYXVsdFByZXZlbnRlZD0hMDt9LGkuZGVmYXVsdFByZXZlbnRlZC5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZGVmYXVsdFByZXZlbnRlZH0sT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZS5wcm90b3R5cGUsaSksZX0odC5FdmVudCksQm89ZnVuY3Rpb24odCxlKXt0aGlzLl9tYXA9dCx0aGlzLl9jbGlja1RvbGVyYW5jZT1lLmNsaWNrVG9sZXJhbmNlO307Qm8ucHJvdG90eXBlLnJlc2V0PWZ1bmN0aW9uKCl7ZGVsZXRlIHRoaXMuX21vdXNlZG93blBvczt9LEJvLnByb3RvdHlwZS53aGVlbD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fZmlyZVByZXZlbnRhYmxlKG5ldyBrbyh0LnR5cGUsdGhpcy5fbWFwLHQpKX0sQm8ucHJvdG90eXBlLm1vdXNlZG93bj1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLl9tb3VzZWRvd25Qb3M9ZSx0aGlzLl9maXJlUHJldmVudGFibGUobmV3IExvKHQudHlwZSx0aGlzLl9tYXAsdCkpfSxCby5wcm90b3R5cGUubW91c2V1cD1mdW5jdGlvbih0KXt0aGlzLl9tYXAuZmlyZShuZXcgTG8odC50eXBlLHRoaXMuX21hcCx0KSk7fSxCby5wcm90b3R5cGUuY2xpY2s9ZnVuY3Rpb24odCxlKXt0aGlzLl9tb3VzZWRvd25Qb3MmJnRoaXMuX21vdXNlZG93blBvcy5kaXN0KGUpPj10aGlzLl9jbGlja1RvbGVyYW5jZXx8dGhpcy5fbWFwLmZpcmUobmV3IExvKHQudHlwZSx0aGlzLl9tYXAsdCkpO30sQm8ucHJvdG90eXBlLmRibGNsaWNrPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9maXJlUHJldmVudGFibGUobmV3IExvKHQudHlwZSx0aGlzLl9tYXAsdCkpfSxCby5wcm90b3R5cGUubW91c2VvdmVyPWZ1bmN0aW9uKHQpe3RoaXMuX21hcC5maXJlKG5ldyBMbyh0LnR5cGUsdGhpcy5fbWFwLHQpKTt9LEJvLnByb3RvdHlwZS5tb3VzZW91dD1mdW5jdGlvbih0KXt0aGlzLl9tYXAuZmlyZShuZXcgTG8odC50eXBlLHRoaXMuX21hcCx0KSk7fSxCby5wcm90b3R5cGUudG91Y2hzdGFydD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fZmlyZVByZXZlbnRhYmxlKG5ldyBSbyh0LnR5cGUsdGhpcy5fbWFwLHQpKX0sQm8ucHJvdG90eXBlLnRvdWNoZW5kPWZ1bmN0aW9uKHQpe3RoaXMuX21hcC5maXJlKG5ldyBSbyh0LnR5cGUsdGhpcy5fbWFwLHQpKTt9LEJvLnByb3RvdHlwZS50b3VjaGNhbmNlbD1mdW5jdGlvbih0KXt0aGlzLl9tYXAuZmlyZShuZXcgUm8odC50eXBlLHRoaXMuX21hcCx0KSk7fSxCby5wcm90b3R5cGUuX2ZpcmVQcmV2ZW50YWJsZT1mdW5jdGlvbih0KXtpZih0aGlzLl9tYXAuZmlyZSh0KSx0LmRlZmF1bHRQcmV2ZW50ZWQpcmV0dXJuIHt9fSxCby5wcm90b3R5cGUuaXNFbmFibGVkPWZ1bmN0aW9uKCl7cmV0dXJuICEwfSxCby5wcm90b3R5cGUuaXNBY3RpdmU9ZnVuY3Rpb24oKXtyZXR1cm4gITF9LEJvLnByb3RvdHlwZS5lbmFibGU9ZnVuY3Rpb24oKXt9LEJvLnByb3RvdHlwZS5kaXNhYmxlPWZ1bmN0aW9uKCl7fTt2YXIgT289ZnVuY3Rpb24odCl7dGhpcy5fbWFwPXQ7fTtPby5wcm90b3R5cGUucmVzZXQ9ZnVuY3Rpb24oKXt0aGlzLl9kZWxheUNvbnRleHRNZW51PSExLGRlbGV0ZSB0aGlzLl9jb250ZXh0TWVudUV2ZW50O30sT28ucHJvdG90eXBlLm1vdXNlbW92ZT1mdW5jdGlvbih0KXt0aGlzLl9tYXAuZmlyZShuZXcgTG8odC50eXBlLHRoaXMuX21hcCx0KSk7fSxPby5wcm90b3R5cGUudG91Y2htb3ZlPWZ1bmN0aW9uKHQpe3RoaXMuX21hcC5maXJlKG5ldyBSbyh0LnR5cGUsdGhpcy5fbWFwLHQpKTt9LE9vLnByb3RvdHlwZS5tb3VzZWRvd249ZnVuY3Rpb24oKXt0aGlzLl9kZWxheUNvbnRleHRNZW51PSEwO30sT28ucHJvdG90eXBlLm1vdXNldXA9ZnVuY3Rpb24oKXt0aGlzLl9kZWxheUNvbnRleHRNZW51PSExLHRoaXMuX2NvbnRleHRNZW51RXZlbnQmJih0aGlzLl9tYXAuZmlyZShuZXcgTG8oImNvbnRleHRtZW51Iix0aGlzLl9tYXAsdGhpcy5fY29udGV4dE1lbnVFdmVudCkpLGRlbGV0ZSB0aGlzLl9jb250ZXh0TWVudUV2ZW50KTt9LE9vLnByb3RvdHlwZS5jb250ZXh0bWVudT1mdW5jdGlvbih0KXt0aGlzLl9kZWxheUNvbnRleHRNZW51P3RoaXMuX2NvbnRleHRNZW51RXZlbnQ9dDp0aGlzLl9tYXAuZmlyZShuZXcgTG8odC50eXBlLHRoaXMuX21hcCx0KSksdGhpcy5fbWFwLmxpc3RlbnMoImNvbnRleHRtZW51IikmJnQucHJldmVudERlZmF1bHQoKTt9LE9vLnByb3RvdHlwZS5pc0VuYWJsZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gITB9LE9vLnByb3RvdHlwZS5pc0FjdGl2ZT1mdW5jdGlvbigpe3JldHVybiAhMX0sT28ucHJvdG90eXBlLmVuYWJsZT1mdW5jdGlvbigpe30sT28ucHJvdG90eXBlLmRpc2FibGU9ZnVuY3Rpb24oKXt9O3ZhciBGbz1mdW5jdGlvbih0LGUpe3RoaXMuX21hcD10LHRoaXMuX2VsPXQuZ2V0Q2FudmFzQ29udGFpbmVyKCksdGhpcy5fY29udGFpbmVyPXQuZ2V0Q29udGFpbmVyKCksdGhpcy5fY2xpY2tUb2xlcmFuY2U9ZS5jbGlja1RvbGVyYW5jZXx8MTt9O2Z1bmN0aW9uIFVvKHQsZSl7Zm9yKHZhciBpPXt9LG89MDtvPHQubGVuZ3RoO28rKylpW3Rbb10uaWRlbnRpZmllcl09ZVtvXTtyZXR1cm4gaX1Gby5wcm90b3R5cGUuaXNFbmFibGVkPWZ1bmN0aW9uKCl7cmV0dXJuICEhdGhpcy5fZW5hYmxlZH0sRm8ucHJvdG90eXBlLmlzQWN0aXZlPWZ1bmN0aW9uKCl7cmV0dXJuICEhdGhpcy5fYWN0aXZlfSxGby5wcm90b3R5cGUuZW5hYmxlPWZ1bmN0aW9uKCl7dGhpcy5pc0VuYWJsZWQoKXx8KHRoaXMuX2VuYWJsZWQ9ITApO30sRm8ucHJvdG90eXBlLmRpc2FibGU9ZnVuY3Rpb24oKXt0aGlzLmlzRW5hYmxlZCgpJiYodGhpcy5fZW5hYmxlZD0hMSk7fSxGby5wcm90b3R5cGUubW91c2Vkb3duPWZ1bmN0aW9uKHQsZSl7dGhpcy5pc0VuYWJsZWQoKSYmdC5zaGlmdEtleSYmMD09PXQuYnV0dG9uJiYoaS5kaXNhYmxlRHJhZygpLHRoaXMuX3N0YXJ0UG9zPXRoaXMuX2xhc3RQb3M9ZSx0aGlzLl9hY3RpdmU9ITApO30sRm8ucHJvdG90eXBlLm1vdXNlbW92ZVdpbmRvdz1mdW5jdGlvbih0LGUpe2lmKHRoaXMuX2FjdGl2ZSl7dmFyIG89ZTtpZighKHRoaXMuX2xhc3RQb3MuZXF1YWxzKG8pfHwhdGhpcy5fYm94JiZvLmRpc3QodGhpcy5fc3RhcnRQb3MpPHRoaXMuX2NsaWNrVG9sZXJhbmNlKSl7dmFyIHI9dGhpcy5fc3RhcnRQb3M7dGhpcy5fbGFzdFBvcz1vLHRoaXMuX2JveHx8KHRoaXMuX2JveD1pLmNyZWF0ZSgiZGl2IiwibWFwYm94Z2wtYm94em9vbSIsdGhpcy5fY29udGFpbmVyKSx0aGlzLl9jb250YWluZXIuY2xhc3NMaXN0LmFkZCgibWFwYm94Z2wtY3Jvc3NoYWlyIiksdGhpcy5fZmlyZUV2ZW50KCJib3h6b29tc3RhcnQiLHQpKTt2YXIgYT1NYXRoLm1pbihyLngsby54KSxuPU1hdGgubWF4KHIueCxvLngpLHM9TWF0aC5taW4oci55LG8ueSksbD1NYXRoLm1heChyLnksby55KTtpLnNldFRyYW5zZm9ybSh0aGlzLl9ib3gsInRyYW5zbGF0ZSgiK2ErInB4LCIrcysicHgpIiksdGhpcy5fYm94LnN0eWxlLndpZHRoPW4tYSsicHgiLHRoaXMuX2JveC5zdHlsZS5oZWlnaHQ9bC1zKyJweCI7fX19LEZvLnByb3RvdHlwZS5tb3VzZXVwV2luZG93PWZ1bmN0aW9uKGUsbyl7dmFyIHI9dGhpcztpZih0aGlzLl9hY3RpdmUmJjA9PT1lLmJ1dHRvbil7dmFyIGE9dGhpcy5fc3RhcnRQb3Msbj1vO2lmKHRoaXMucmVzZXQoKSxpLnN1cHByZXNzQ2xpY2soKSxhLnghPT1uLnh8fGEueSE9PW4ueSlyZXR1cm4gdGhpcy5fbWFwLmZpcmUobmV3IHQuRXZlbnQoImJveHpvb21lbmQiLHtvcmlnaW5hbEV2ZW50OmV9KSkse2NhbWVyYUFuaW1hdGlvbjpmdW5jdGlvbih0KXtyZXR1cm4gdC5maXRTY3JlZW5Db29yZGluYXRlcyhhLG4sci5fbWFwLmdldEJlYXJpbmcoKSx7bGluZWFyOiEwfSl9fTt0aGlzLl9maXJlRXZlbnQoImJveHpvb21jYW5jZWwiLGUpO319LEZvLnByb3RvdHlwZS5rZXlkb3duPWZ1bmN0aW9uKHQpe3RoaXMuX2FjdGl2ZSYmMjc9PT10LmtleUNvZGUmJih0aGlzLnJlc2V0KCksdGhpcy5fZmlyZUV2ZW50KCJib3h6b29tY2FuY2VsIix0KSk7fSxGby5wcm90b3R5cGUucmVzZXQ9ZnVuY3Rpb24oKXt0aGlzLl9hY3RpdmU9ITEsdGhpcy5fY29udGFpbmVyLmNsYXNzTGlzdC5yZW1vdmUoIm1hcGJveGdsLWNyb3NzaGFpciIpLHRoaXMuX2JveCYmKGkucmVtb3ZlKHRoaXMuX2JveCksdGhpcy5fYm94PW51bGwpLGkuZW5hYmxlRHJhZygpLGRlbGV0ZSB0aGlzLl9zdGFydFBvcyxkZWxldGUgdGhpcy5fbGFzdFBvczt9LEZvLnByb3RvdHlwZS5fZmlyZUV2ZW50PWZ1bmN0aW9uKGUsaSl7cmV0dXJuIHRoaXMuX21hcC5maXJlKG5ldyB0LkV2ZW50KGUse29yaWdpbmFsRXZlbnQ6aX0pKX07dmFyIE5vPWZ1bmN0aW9uKHQpe3RoaXMucmVzZXQoKSx0aGlzLm51bVRvdWNoZXM9dC5udW1Ub3VjaGVzO307Tm8ucHJvdG90eXBlLnJlc2V0PWZ1bmN0aW9uKCl7ZGVsZXRlIHRoaXMuY2VudHJvaWQsZGVsZXRlIHRoaXMuc3RhcnRUaW1lLGRlbGV0ZSB0aGlzLnRvdWNoZXMsdGhpcy5hYm9ydGVkPSExO30sTm8ucHJvdG90eXBlLnRvdWNoc3RhcnQ9ZnVuY3Rpb24oZSxpKXsodGhpcy5jZW50cm9pZHx8ZS50YXJnZXRUb3VjaGVzLmxlbmd0aD50aGlzLm51bVRvdWNoZXMpJiYodGhpcy5hYm9ydGVkPSEwKSx0aGlzLmFib3J0ZWR8fCh2b2lkIDA9PT10aGlzLnN0YXJ0VGltZSYmKHRoaXMuc3RhcnRUaW1lPWUudGltZVN0YW1wKSxlLnRhcmdldFRvdWNoZXMubGVuZ3RoPT09dGhpcy5udW1Ub3VjaGVzJiYodGhpcy5jZW50cm9pZD1mdW5jdGlvbihlKXtmb3IodmFyIGk9bmV3IHQuUG9pbnQoMCwwKSxvPTAscj1lO288ci5sZW5ndGg7bys9MSlpLl9hZGQocltvXSk7cmV0dXJuIGkuZGl2KGUubGVuZ3RoKX0oaSksdGhpcy50b3VjaGVzPVVvKGUudGFyZ2V0VG91Y2hlcyxpKSkpO30sTm8ucHJvdG90eXBlLnRvdWNobW92ZT1mdW5jdGlvbih0LGUpe2lmKCF0aGlzLmFib3J0ZWQmJnRoaXMuY2VudHJvaWQpe3ZhciBpPVVvKHQudGFyZ2V0VG91Y2hlcyxlKTtmb3IodmFyIG8gaW4gdGhpcy50b3VjaGVzKXt2YXIgcj1pW29dOyghcnx8ci5kaXN0KHRoaXMudG91Y2hlc1tvXSk+MzApJiYodGhpcy5hYm9ydGVkPSEwKTt9fX0sTm8ucHJvdG90eXBlLnRvdWNoZW5kPWZ1bmN0aW9uKHQpe2lmKCghdGhpcy5jZW50cm9pZHx8dC50aW1lU3RhbXAtdGhpcy5zdGFydFRpbWU+NTAwKSYmKHRoaXMuYWJvcnRlZD0hMCksMD09PXQudGFyZ2V0VG91Y2hlcy5sZW5ndGgpe3ZhciBlPSF0aGlzLmFib3J0ZWQmJnRoaXMuY2VudHJvaWQ7aWYodGhpcy5yZXNldCgpLGUpcmV0dXJuIGV9fTt2YXIgWm89ZnVuY3Rpb24odCl7dGhpcy5zaW5nbGVUYXA9bmV3IE5vKHQpLHRoaXMubnVtVGFwcz10Lm51bVRhcHMsdGhpcy5yZXNldCgpO307Wm8ucHJvdG90eXBlLnJlc2V0PWZ1bmN0aW9uKCl7dGhpcy5sYXN0VGltZT0xLzAsZGVsZXRlIHRoaXMubGFzdFRhcCx0aGlzLmNvdW50PTAsdGhpcy5zaW5nbGVUYXAucmVzZXQoKTt9LFpvLnByb3RvdHlwZS50b3VjaHN0YXJ0PWZ1bmN0aW9uKHQsZSl7dGhpcy5zaW5nbGVUYXAudG91Y2hzdGFydCh0LGUpO30sWm8ucHJvdG90eXBlLnRvdWNobW92ZT1mdW5jdGlvbih0LGUpe3RoaXMuc2luZ2xlVGFwLnRvdWNobW92ZSh0LGUpO30sWm8ucHJvdG90eXBlLnRvdWNoZW5kPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuc2luZ2xlVGFwLnRvdWNoZW5kKHQpO2lmKGUpe3ZhciBpPXQudGltZVN0YW1wLXRoaXMubGFzdFRpbWU8NTAwLG89IXRoaXMubGFzdFRhcHx8dGhpcy5sYXN0VGFwLmRpc3QoZSk8MzA7aWYoaSYmb3x8dGhpcy5yZXNldCgpLHRoaXMuY291bnQrKyx0aGlzLmxhc3RUaW1lPXQudGltZVN0YW1wLHRoaXMubGFzdFRhcD1lLHRoaXMuY291bnQ9PT10aGlzLm51bVRhcHMpcmV0dXJuIHRoaXMucmVzZXQoKSxlfX07dmFyIGpvPWZ1bmN0aW9uKCl7dGhpcy5fem9vbUluPW5ldyBabyh7bnVtVG91Y2hlczoxLG51bVRhcHM6Mn0pLHRoaXMuX3pvb21PdXQ9bmV3IFpvKHtudW1Ub3VjaGVzOjIsbnVtVGFwczoxfSksdGhpcy5yZXNldCgpO307am8ucHJvdG90eXBlLnJlc2V0PWZ1bmN0aW9uKCl7dGhpcy5fYWN0aXZlPSExLHRoaXMuX3pvb21Jbi5yZXNldCgpLHRoaXMuX3pvb21PdXQucmVzZXQoKTt9LGpvLnByb3RvdHlwZS50b3VjaHN0YXJ0PWZ1bmN0aW9uKHQsZSl7dGhpcy5fem9vbUluLnRvdWNoc3RhcnQodCxlKSx0aGlzLl96b29tT3V0LnRvdWNoc3RhcnQodCxlKTt9LGpvLnByb3RvdHlwZS50b3VjaG1vdmU9ZnVuY3Rpb24odCxlKXt0aGlzLl96b29tSW4udG91Y2htb3ZlKHQsZSksdGhpcy5fem9vbU91dC50b3VjaG1vdmUodCxlKTt9LGpvLnByb3RvdHlwZS50b3VjaGVuZD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLGk9dGhpcy5fem9vbUluLnRvdWNoZW5kKHQpLG89dGhpcy5fem9vbU91dC50b3VjaGVuZCh0KTtyZXR1cm4gaT8odGhpcy5fYWN0aXZlPSEwLHQucHJldmVudERlZmF1bHQoKSxzZXRUaW1lb3V0KChmdW5jdGlvbigpe3JldHVybiBlLnJlc2V0KCl9KSwwKSx7Y2FtZXJhQW5pbWF0aW9uOmZ1bmN0aW9uKGUpe3JldHVybiBlLmVhc2VUbyh7ZHVyYXRpb246MzAwLHpvb206ZS5nZXRab29tKCkrMSxhcm91bmQ6ZS51bnByb2plY3QoaSl9LHtvcmlnaW5hbEV2ZW50OnR9KX19KTpvPyh0aGlzLl9hY3RpdmU9ITAsdC5wcmV2ZW50RGVmYXVsdCgpLHNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7cmV0dXJuIGUucmVzZXQoKX0pLDApLHtjYW1lcmFBbmltYXRpb246ZnVuY3Rpb24oZSl7cmV0dXJuIGUuZWFzZVRvKHtkdXJhdGlvbjozMDAsem9vbTplLmdldFpvb20oKS0xLGFyb3VuZDplLnVucHJvamVjdChvKX0se29yaWdpbmFsRXZlbnQ6dH0pfX0pOnZvaWQgMH0sam8ucHJvdG90eXBlLnRvdWNoY2FuY2VsPWZ1bmN0aW9uKCl7dGhpcy5yZXNldCgpO30sam8ucHJvdG90eXBlLmVuYWJsZT1mdW5jdGlvbigpe3RoaXMuX2VuYWJsZWQ9ITA7fSxqby5wcm90b3R5cGUuZGlzYWJsZT1mdW5jdGlvbigpe3RoaXMuX2VuYWJsZWQ9ITEsdGhpcy5yZXNldCgpO30sam8ucHJvdG90eXBlLmlzRW5hYmxlZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9lbmFibGVkfSxqby5wcm90b3R5cGUuaXNBY3RpdmU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYWN0aXZlfTt2YXIgcW89ZnVuY3Rpb24odCl7dGhpcy5yZXNldCgpLHRoaXMuX2NsaWNrVG9sZXJhbmNlPXQuY2xpY2tUb2xlcmFuY2V8fDE7fTtxby5wcm90b3R5cGUucmVzZXQ9ZnVuY3Rpb24oKXt0aGlzLl9hY3RpdmU9ITEsdGhpcy5fbW92ZWQ9ITEsZGVsZXRlIHRoaXMuX2xhc3RQb2ludCxkZWxldGUgdGhpcy5fZXZlbnRCdXR0b247fSxxby5wcm90b3R5cGUuX2NvcnJlY3RCdXR0b249ZnVuY3Rpb24odCxlKXtyZXR1cm4gITF9LHFvLnByb3RvdHlwZS5fbW92ZT1mdW5jdGlvbih0LGUpe3JldHVybiB7fX0scW8ucHJvdG90eXBlLm1vdXNlZG93bj1mdW5jdGlvbih0LGUpe2lmKCF0aGlzLl9sYXN0UG9pbnQpe3ZhciBvPWkubW91c2VCdXR0b24odCk7dGhpcy5fY29ycmVjdEJ1dHRvbih0LG8pJiYodGhpcy5fbGFzdFBvaW50PWUsdGhpcy5fZXZlbnRCdXR0b249byk7fX0scW8ucHJvdG90eXBlLm1vdXNlbW92ZVdpbmRvdz1mdW5jdGlvbih0LGUpe3ZhciBpPXRoaXMuX2xhc3RQb2ludDtpZihpJiYodC5wcmV2ZW50RGVmYXVsdCgpLHRoaXMuX21vdmVkfHwhKGUuZGlzdChpKTx0aGlzLl9jbGlja1RvbGVyYW5jZSkpKXJldHVybiB0aGlzLl9tb3ZlZD0hMCx0aGlzLl9sYXN0UG9pbnQ9ZSx0aGlzLl9tb3ZlKGksZSl9LHFvLnByb3RvdHlwZS5tb3VzZXVwV2luZG93PWZ1bmN0aW9uKHQpe2kubW91c2VCdXR0b24odCk9PT10aGlzLl9ldmVudEJ1dHRvbiYmKHRoaXMuX21vdmVkJiZpLnN1cHByZXNzQ2xpY2soKSx0aGlzLnJlc2V0KCkpO30scW8ucHJvdG90eXBlLmVuYWJsZT1mdW5jdGlvbigpe3RoaXMuX2VuYWJsZWQ9ITA7fSxxby5wcm90b3R5cGUuZGlzYWJsZT1mdW5jdGlvbigpe3RoaXMuX2VuYWJsZWQ9ITEsdGhpcy5yZXNldCgpO30scW8ucHJvdG90eXBlLmlzRW5hYmxlZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9lbmFibGVkfSxxby5wcm90b3R5cGUuaXNBY3RpdmU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYWN0aXZlfTt2YXIgVm89ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3QuYXBwbHkodGhpcyxhcmd1bWVudHMpO31yZXR1cm4gdCYmKGUuX19wcm90b19fPXQpLChlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlKSkuY29uc3RydWN0b3I9ZSxlLnByb3RvdHlwZS5tb3VzZWRvd249ZnVuY3Rpb24oZSxpKXt0LnByb3RvdHlwZS5tb3VzZWRvd24uY2FsbCh0aGlzLGUsaSksdGhpcy5fbGFzdFBvaW50JiYodGhpcy5fYWN0aXZlPSEwKTt9LGUucHJvdG90eXBlLl9jb3JyZWN0QnV0dG9uPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIDA9PT1lJiYhdC5jdHJsS2V5fSxlLnByb3RvdHlwZS5fbW92ZT1mdW5jdGlvbih0LGUpe3JldHVybiB7YXJvdW5kOmUscGFuRGVsdGE6ZS5zdWIodCl9fSxlfShxbyksR289ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3QuYXBwbHkodGhpcyxhcmd1bWVudHMpO31yZXR1cm4gdCYmKGUuX19wcm90b19fPXQpLChlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlKSkuY29uc3RydWN0b3I9ZSxlLnByb3RvdHlwZS5fY29ycmVjdEJ1dHRvbj1mdW5jdGlvbih0LGUpe3JldHVybiAwPT09ZSYmdC5jdHJsS2V5fHwyPT09ZX0sZS5wcm90b3R5cGUuX21vdmU9ZnVuY3Rpb24odCxlKXt2YXIgaT0uOCooZS54LXQueCk7aWYoaSlyZXR1cm4gdGhpcy5fYWN0aXZlPSEwLHtiZWFyaW5nRGVsdGE6aX19LGUucHJvdG90eXBlLmNvbnRleHRtZW51PWZ1bmN0aW9uKHQpe3QucHJldmVudERlZmF1bHQoKTt9LGV9KHFvKSxXbz1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7fXJldHVybiB0JiYoZS5fX3Byb3RvX189dCksKGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUpKS5jb25zdHJ1Y3Rvcj1lLGUucHJvdG90eXBlLl9jb3JyZWN0QnV0dG9uPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIDA9PT1lJiZ0LmN0cmxLZXl8fDI9PT1lfSxlLnByb3RvdHlwZS5fbW92ZT1mdW5jdGlvbih0LGUpe3ZhciBpPS0uNSooZS55LXQueSk7aWYoaSlyZXR1cm4gdGhpcy5fYWN0aXZlPSEwLHtwaXRjaERlbHRhOml9fSxlLnByb3RvdHlwZS5jb250ZXh0bWVudT1mdW5jdGlvbih0KXt0LnByZXZlbnREZWZhdWx0KCk7fSxlfShxbyksWG89ZnVuY3Rpb24odCl7dGhpcy5fbWluVG91Y2hlcz0xLHRoaXMuX2NsaWNrVG9sZXJhbmNlPXQuY2xpY2tUb2xlcmFuY2V8fDEsdGhpcy5yZXNldCgpO307WG8ucHJvdG90eXBlLnJlc2V0PWZ1bmN0aW9uKCl7dGhpcy5fYWN0aXZlPSExLHRoaXMuX3RvdWNoZXM9e30sdGhpcy5fc3VtPW5ldyB0LlBvaW50KDAsMCk7fSxYby5wcm90b3R5cGUudG91Y2hzdGFydD1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLl9jYWxjdWxhdGVUcmFuc2Zvcm0odCxlKX0sWG8ucHJvdG90eXBlLnRvdWNobW92ZT1mdW5jdGlvbih0LGUpe2lmKHRoaXMuX2FjdGl2ZSlyZXR1cm4gdC5wcmV2ZW50RGVmYXVsdCgpLHRoaXMuX2NhbGN1bGF0ZVRyYW5zZm9ybSh0LGUpfSxYby5wcm90b3R5cGUudG91Y2hlbmQ9ZnVuY3Rpb24odCxlKXt0aGlzLl9jYWxjdWxhdGVUcmFuc2Zvcm0odCxlKSx0aGlzLl9hY3RpdmUmJnQudGFyZ2V0VG91Y2hlcy5sZW5ndGg8dGhpcy5fbWluVG91Y2hlcyYmdGhpcy5yZXNldCgpO30sWG8ucHJvdG90eXBlLnRvdWNoY2FuY2VsPWZ1bmN0aW9uKCl7dGhpcy5yZXNldCgpO30sWG8ucHJvdG90eXBlLl9jYWxjdWxhdGVUcmFuc2Zvcm09ZnVuY3Rpb24oZSxpKXtlLnRhcmdldFRvdWNoZXMubGVuZ3RoPjAmJih0aGlzLl9hY3RpdmU9ITApO3ZhciBvPVVvKGUudGFyZ2V0VG91Y2hlcyxpKSxyPW5ldyB0LlBvaW50KDAsMCksYT1uZXcgdC5Qb2ludCgwLDApLG49MDtmb3IodmFyIHMgaW4gbyl7dmFyIGw9b1tzXSxjPXRoaXMuX3RvdWNoZXNbc107YyYmKHIuX2FkZChsKSxhLl9hZGQobC5zdWIoYykpLG4rKyxvW3NdPWwpO31pZih0aGlzLl90b3VjaGVzPW8sIShuPHRoaXMuX21pblRvdWNoZXMpJiZhLm1hZygpKXt2YXIgdT1hLmRpdihuKTtpZih0aGlzLl9zdW0uX2FkZCh1KSwhKHRoaXMuX3N1bS5tYWcoKTx0aGlzLl9jbGlja1RvbGVyYW5jZSkpcmV0dXJuIHthcm91bmQ6ci5kaXYobikscGFuRGVsdGE6dX19fSxYby5wcm90b3R5cGUuZW5hYmxlPWZ1bmN0aW9uKCl7dGhpcy5fZW5hYmxlZD0hMDt9LFhvLnByb3RvdHlwZS5kaXNhYmxlPWZ1bmN0aW9uKCl7dGhpcy5fZW5hYmxlZD0hMSx0aGlzLnJlc2V0KCk7fSxYby5wcm90b3R5cGUuaXNFbmFibGVkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2VuYWJsZWR9LFhvLnByb3RvdHlwZS5pc0FjdGl2ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9hY3RpdmV9O3ZhciBIbz1mdW5jdGlvbigpe3RoaXMucmVzZXQoKTt9O2Z1bmN0aW9uIEtvKHQsZSxpKXtmb3IodmFyIG89MDtvPHQudGFyZ2V0VG91Y2hlcy5sZW5ndGg7bysrKWlmKHQudGFyZ2V0VG91Y2hlc1tvXS5pZGVudGlmaWVyPT09aSlyZXR1cm4gZVtvXX1mdW5jdGlvbiBZbyh0LGUpe3JldHVybiBNYXRoLmxvZyh0L2UpL01hdGguTE4yfUhvLnByb3RvdHlwZS5yZXNldD1mdW5jdGlvbigpe3RoaXMuX2FjdGl2ZT0hMSxkZWxldGUgdGhpcy5fZmlyc3RUd29Ub3VjaGVzO30sSG8ucHJvdG90eXBlLl9zdGFydD1mdW5jdGlvbih0KXt9LEhvLnByb3RvdHlwZS5fbW92ZT1mdW5jdGlvbih0LGUsaSl7cmV0dXJuIHt9fSxIby5wcm90b3R5cGUudG91Y2hzdGFydD1mdW5jdGlvbih0LGUpe3RoaXMuX2ZpcnN0VHdvVG91Y2hlc3x8dC50YXJnZXRUb3VjaGVzLmxlbmd0aDwyfHwodGhpcy5fZmlyc3RUd29Ub3VjaGVzPVt0LnRhcmdldFRvdWNoZXNbMF0uaWRlbnRpZmllcix0LnRhcmdldFRvdWNoZXNbMV0uaWRlbnRpZmllcl0sdGhpcy5fc3RhcnQoW2VbMF0sZVsxXV0pKTt9LEhvLnByb3RvdHlwZS50b3VjaG1vdmU9ZnVuY3Rpb24odCxlKXtpZih0aGlzLl9maXJzdFR3b1RvdWNoZXMpe3QucHJldmVudERlZmF1bHQoKTt2YXIgaT10aGlzLl9maXJzdFR3b1RvdWNoZXMsbz1pWzFdLHI9S28odCxlLGlbMF0pLGE9S28odCxlLG8pO2lmKHImJmEpe3ZhciBuPXRoaXMuX2Fyb3VuZENlbnRlcj9udWxsOnIuYWRkKGEpLmRpdigyKTtyZXR1cm4gdGhpcy5fbW92ZShbcixhXSxuLHQpfX19LEhvLnByb3RvdHlwZS50b3VjaGVuZD1mdW5jdGlvbih0LGUpe2lmKHRoaXMuX2ZpcnN0VHdvVG91Y2hlcyl7dmFyIG89dGhpcy5fZmlyc3RUd29Ub3VjaGVzLHI9b1sxXSxhPUtvKHQsZSxvWzBdKSxuPUtvKHQsZSxyKTthJiZufHwodGhpcy5fYWN0aXZlJiZpLnN1cHByZXNzQ2xpY2soKSx0aGlzLnJlc2V0KCkpO319LEhvLnByb3RvdHlwZS50b3VjaGNhbmNlbD1mdW5jdGlvbigpe3RoaXMucmVzZXQoKTt9LEhvLnByb3RvdHlwZS5lbmFibGU9ZnVuY3Rpb24odCl7dGhpcy5fZW5hYmxlZD0hMCx0aGlzLl9hcm91bmRDZW50ZXI9ISF0JiYiY2VudGVyIj09PXQuYXJvdW5kO30sSG8ucHJvdG90eXBlLmRpc2FibGU9ZnVuY3Rpb24oKXt0aGlzLl9lbmFibGVkPSExLHRoaXMucmVzZXQoKTt9LEhvLnByb3RvdHlwZS5pc0VuYWJsZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZW5hYmxlZH0sSG8ucHJvdG90eXBlLmlzQWN0aXZlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2FjdGl2ZX07dmFyIEpvPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt0LmFwcGx5KHRoaXMsYXJndW1lbnRzKTt9cmV0dXJuIHQmJihlLl9fcHJvdG9fXz10KSwoZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSkpLmNvbnN0cnVjdG9yPWUsZS5wcm90b3R5cGUucmVzZXQ9ZnVuY3Rpb24oKXt0LnByb3RvdHlwZS5yZXNldC5jYWxsKHRoaXMpLGRlbGV0ZSB0aGlzLl9kaXN0YW5jZSxkZWxldGUgdGhpcy5fc3RhcnREaXN0YW5jZTt9LGUucHJvdG90eXBlLl9zdGFydD1mdW5jdGlvbih0KXt0aGlzLl9zdGFydERpc3RhbmNlPXRoaXMuX2Rpc3RhbmNlPXRbMF0uZGlzdCh0WzFdKTt9LGUucHJvdG90eXBlLl9tb3ZlPWZ1bmN0aW9uKHQsZSl7dmFyIGk9dGhpcy5fZGlzdGFuY2U7aWYodGhpcy5fZGlzdGFuY2U9dFswXS5kaXN0KHRbMV0pLHRoaXMuX2FjdGl2ZXx8IShNYXRoLmFicyhZbyh0aGlzLl9kaXN0YW5jZSx0aGlzLl9zdGFydERpc3RhbmNlKSk8LjEpKXJldHVybiB0aGlzLl9hY3RpdmU9ITAse3pvb21EZWx0YTpZbyh0aGlzLl9kaXN0YW5jZSxpKSxwaW5jaEFyb3VuZDplfX0sZX0oSG8pO2Z1bmN0aW9uIFFvKHQsZSl7cmV0dXJuIDE4MCp0LmFuZ2xlV2l0aChlKS9NYXRoLlBJfXZhciAkbz1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7fXJldHVybiB0JiYoZS5fX3Byb3RvX189dCksKGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUpKS5jb25zdHJ1Y3Rvcj1lLGUucHJvdG90eXBlLnJlc2V0PWZ1bmN0aW9uKCl7dC5wcm90b3R5cGUucmVzZXQuY2FsbCh0aGlzKSxkZWxldGUgdGhpcy5fbWluRGlhbWV0ZXIsZGVsZXRlIHRoaXMuX3N0YXJ0VmVjdG9yLGRlbGV0ZSB0aGlzLl92ZWN0b3I7fSxlLnByb3RvdHlwZS5fc3RhcnQ9ZnVuY3Rpb24odCl7dGhpcy5fc3RhcnRWZWN0b3I9dGhpcy5fdmVjdG9yPXRbMF0uc3ViKHRbMV0pLHRoaXMuX21pbkRpYW1ldGVyPXRbMF0uZGlzdCh0WzFdKTt9LGUucHJvdG90eXBlLl9tb3ZlPWZ1bmN0aW9uKHQsZSl7dmFyIGk9dGhpcy5fdmVjdG9yO2lmKHRoaXMuX3ZlY3Rvcj10WzBdLnN1Yih0WzFdKSx0aGlzLl9hY3RpdmV8fCF0aGlzLl9pc0JlbG93VGhyZXNob2xkKHRoaXMuX3ZlY3RvcikpcmV0dXJuIHRoaXMuX2FjdGl2ZT0hMCx7YmVhcmluZ0RlbHRhOlFvKHRoaXMuX3ZlY3RvcixpKSxwaW5jaEFyb3VuZDplfX0sZS5wcm90b3R5cGUuX2lzQmVsb3dUaHJlc2hvbGQ9ZnVuY3Rpb24odCl7dGhpcy5fbWluRGlhbWV0ZXI9TWF0aC5taW4odGhpcy5fbWluRGlhbWV0ZXIsdC5tYWcoKSk7dmFyIGU9MjUvKE1hdGguUEkqdGhpcy5fbWluRGlhbWV0ZXIpKjM2MCxpPVFvKHQsdGhpcy5fc3RhcnRWZWN0b3IpO3JldHVybiBNYXRoLmFicyhpKTxlfSxlfShIbyk7ZnVuY3Rpb24gdHIodCl7cmV0dXJuIE1hdGguYWJzKHQueSk+TWF0aC5hYnModC54KX12YXIgZXI9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3QuYXBwbHkodGhpcyxhcmd1bWVudHMpO31yZXR1cm4gdCYmKGUuX19wcm90b19fPXQpLChlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlKSkuY29uc3RydWN0b3I9ZSxlLnByb3RvdHlwZS5yZXNldD1mdW5jdGlvbigpe3QucHJvdG90eXBlLnJlc2V0LmNhbGwodGhpcyksdGhpcy5fdmFsaWQ9dm9pZCAwLGRlbGV0ZSB0aGlzLl9maXJzdE1vdmUsZGVsZXRlIHRoaXMuX2xhc3RQb2ludHM7fSxlLnByb3RvdHlwZS5fc3RhcnQ9ZnVuY3Rpb24odCl7dGhpcy5fbGFzdFBvaW50cz10LHRyKHRbMF0uc3ViKHRbMV0pKSYmKHRoaXMuX3ZhbGlkPSExKTt9LGUucHJvdG90eXBlLl9tb3ZlPWZ1bmN0aW9uKHQsZSxpKXt2YXIgbz10WzBdLnN1Yih0aGlzLl9sYXN0UG9pbnRzWzBdKSxyPXRbMV0uc3ViKHRoaXMuX2xhc3RQb2ludHNbMV0pO2lmKHRoaXMuX3ZhbGlkPXRoaXMuZ2VzdHVyZUJlZ2luc1ZlcnRpY2FsbHkobyxyLGkudGltZVN0YW1wKSx0aGlzLl92YWxpZClyZXR1cm4gdGhpcy5fbGFzdFBvaW50cz10LHRoaXMuX2FjdGl2ZT0hMCx7cGl0Y2hEZWx0YTooby55K3IueSkvMiotLjV9fSxlLnByb3RvdHlwZS5nZXN0dXJlQmVnaW5zVmVydGljYWxseT1mdW5jdGlvbih0LGUsaSl7aWYodm9pZCAwIT09dGhpcy5fdmFsaWQpcmV0dXJuIHRoaXMuX3ZhbGlkO3ZhciBvPXQubWFnKCk+PTIscj1lLm1hZygpPj0yO2lmKG98fHIpe2lmKCFvfHwhcilyZXR1cm4gdm9pZCAwPT09dGhpcy5fZmlyc3RNb3ZlJiYodGhpcy5fZmlyc3RNb3ZlPWkpLGktdGhpcy5fZmlyc3RNb3ZlPDEwMCYmdm9pZCAwO3ZhciBhPXQueT4wPT1lLnk+MDtyZXR1cm4gdHIodCkmJnRyKGUpJiZhfX0sZX0oSG8pLGlyPXtwYW5TdGVwOjEwMCxiZWFyaW5nU3RlcDoxNSxwaXRjaFN0ZXA6MTB9LG9yPWZ1bmN0aW9uKCl7dmFyIHQ9aXI7dGhpcy5fcGFuU3RlcD10LnBhblN0ZXAsdGhpcy5fYmVhcmluZ1N0ZXA9dC5iZWFyaW5nU3RlcCx0aGlzLl9waXRjaFN0ZXA9dC5waXRjaFN0ZXA7fTtmdW5jdGlvbiBycih0KXtyZXR1cm4gdCooMi10KX1vci5wcm90b3R5cGUucmVzZXQ9ZnVuY3Rpb24oKXt0aGlzLl9hY3RpdmU9ITE7fSxvci5wcm90b3R5cGUua2V5ZG93bj1mdW5jdGlvbih0KXt2YXIgZT10aGlzO2lmKCEodC5hbHRLZXl8fHQuY3RybEtleXx8dC5tZXRhS2V5KSl7dmFyIGk9MCxvPTAscj0wLGE9MCxuPTA7c3dpdGNoKHQua2V5Q29kZSl7Y2FzZSA2MTpjYXNlIDEwNzpjYXNlIDE3MTpjYXNlIDE4NzppPTE7YnJlYWs7Y2FzZSAxODk6Y2FzZSAxMDk6Y2FzZSAxNzM6aT0tMTticmVhaztjYXNlIDM3OnQuc2hpZnRLZXk/bz0tMToodC5wcmV2ZW50RGVmYXVsdCgpLGE9LTEpO2JyZWFrO2Nhc2UgMzk6dC5zaGlmdEtleT9vPTE6KHQucHJldmVudERlZmF1bHQoKSxhPTEpO2JyZWFrO2Nhc2UgMzg6dC5zaGlmdEtleT9yPTE6KHQucHJldmVudERlZmF1bHQoKSxuPS0xKTticmVhaztjYXNlIDQwOnQuc2hpZnRLZXk/cj0tMToodC5wcmV2ZW50RGVmYXVsdCgpLG49MSk7YnJlYWs7ZGVmYXVsdDpyZXR1cm59cmV0dXJuIHtjYW1lcmFBbmltYXRpb246ZnVuY3Rpb24ocyl7dmFyIGw9cy5nZXRab29tKCk7cy5lYXNlVG8oe2R1cmF0aW9uOjMwMCxlYXNlSWQ6ImtleWJvYXJkSGFuZGxlciIsZWFzaW5nOnJyLHpvb206aT9NYXRoLnJvdW5kKGwpK2kqKHQuc2hpZnRLZXk/MjoxKTpsLGJlYXJpbmc6cy5nZXRCZWFyaW5nKCkrbyplLl9iZWFyaW5nU3RlcCxwaXRjaDpzLmdldFBpdGNoKCkrciplLl9waXRjaFN0ZXAsb2Zmc2V0OlstYSplLl9wYW5TdGVwLC1uKmUuX3BhblN0ZXBdLGNlbnRlcjpzLmdldENlbnRlcigpfSx7b3JpZ2luYWxFdmVudDp0fSk7fX19fSxvci5wcm90b3R5cGUuZW5hYmxlPWZ1bmN0aW9uKCl7dGhpcy5fZW5hYmxlZD0hMDt9LG9yLnByb3RvdHlwZS5kaXNhYmxlPWZ1bmN0aW9uKCl7dGhpcy5fZW5hYmxlZD0hMSx0aGlzLnJlc2V0KCk7fSxvci5wcm90b3R5cGUuaXNFbmFibGVkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2VuYWJsZWR9LG9yLnByb3RvdHlwZS5pc0FjdGl2ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9hY3RpdmV9O3ZhciBhcj1mdW5jdGlvbihlLGkpe3RoaXMuX21hcD1lLHRoaXMuX2VsPWUuZ2V0Q2FudmFzQ29udGFpbmVyKCksdGhpcy5faGFuZGxlcj1pLHRoaXMuX2RlbHRhPTAsdGhpcy5fZGVmYXVsdFpvb21SYXRlPS4wMSx0aGlzLl93aGVlbFpvb21SYXRlPTEvNDUwLHQuYmluZEFsbChbIl9vbldoZWVsIiwiX29uVGltZW91dCIsIl9vblNjcm9sbEZyYW1lIiwiX29uU2Nyb2xsRmluaXNoZWQiXSx0aGlzKTt9O2FyLnByb3RvdHlwZS5zZXRab29tUmF0ZT1mdW5jdGlvbih0KXt0aGlzLl9kZWZhdWx0Wm9vbVJhdGU9dDt9LGFyLnByb3RvdHlwZS5zZXRXaGVlbFpvb21SYXRlPWZ1bmN0aW9uKHQpe3RoaXMuX3doZWVsWm9vbVJhdGU9dDt9LGFyLnByb3RvdHlwZS5pc0VuYWJsZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gISF0aGlzLl9lbmFibGVkfSxhci5wcm90b3R5cGUuaXNBY3RpdmU9ZnVuY3Rpb24oKXtyZXR1cm4gISF0aGlzLl9hY3RpdmV8fHZvaWQgMCE9PXRoaXMuX2ZpbmlzaFRpbWVvdXR9LGFyLnByb3RvdHlwZS5pc1pvb21pbmc9ZnVuY3Rpb24oKXtyZXR1cm4gISF0aGlzLl96b29taW5nfSxhci5wcm90b3R5cGUuZW5hYmxlPWZ1bmN0aW9uKHQpe3RoaXMuaXNFbmFibGVkKCl8fCh0aGlzLl9lbmFibGVkPSEwLHRoaXMuX2Fyb3VuZENlbnRlcj10JiYiY2VudGVyIj09PXQuYXJvdW5kKTt9LGFyLnByb3RvdHlwZS5kaXNhYmxlPWZ1bmN0aW9uKCl7dGhpcy5pc0VuYWJsZWQoKSYmKHRoaXMuX2VuYWJsZWQ9ITEpO30sYXIucHJvdG90eXBlLndoZWVsPWZ1bmN0aW9uKGUpe2lmKHRoaXMuaXNFbmFibGVkKCkpe3ZhciBpPWUuZGVsdGFNb2RlPT09dC53aW5kb3cuV2hlZWxFdmVudC5ET01fREVMVEFfTElORT80MCplLmRlbHRhWTplLmRlbHRhWSxvPXQuYnJvd3Nlci5ub3coKSxyPW8tKHRoaXMuX2xhc3RXaGVlbEV2ZW50VGltZXx8MCk7dGhpcy5fbGFzdFdoZWVsRXZlbnRUaW1lPW8sMCE9PWkmJmklNC4wMDAyNDQxNDA2MjU9PTA/dGhpcy5fdHlwZT0id2hlZWwiOjAhPT1pJiZNYXRoLmFicyhpKTw0P3RoaXMuX3R5cGU9InRyYWNrcGFkIjpyPjQwMD8odGhpcy5fdHlwZT1udWxsLHRoaXMuX2xhc3RWYWx1ZT1pLHRoaXMuX3RpbWVvdXQ9c2V0VGltZW91dCh0aGlzLl9vblRpbWVvdXQsNDAsZSkpOnRoaXMuX3R5cGV8fCh0aGlzLl90eXBlPU1hdGguYWJzKHIqaSk8MjAwPyJ0cmFja3BhZCI6IndoZWVsIix0aGlzLl90aW1lb3V0JiYoY2xlYXJUaW1lb3V0KHRoaXMuX3RpbWVvdXQpLHRoaXMuX3RpbWVvdXQ9bnVsbCxpKz10aGlzLl9sYXN0VmFsdWUpKSxlLnNoaWZ0S2V5JiZpJiYoaS89NCksdGhpcy5fdHlwZSYmKHRoaXMuX2xhc3RXaGVlbEV2ZW50PWUsdGhpcy5fZGVsdGEtPWksdGhpcy5fYWN0aXZlfHx0aGlzLl9zdGFydChlKSksZS5wcmV2ZW50RGVmYXVsdCgpO319LGFyLnByb3RvdHlwZS5fb25UaW1lb3V0PWZ1bmN0aW9uKHQpe3RoaXMuX3R5cGU9IndoZWVsIix0aGlzLl9kZWx0YS09dGhpcy5fbGFzdFZhbHVlLHRoaXMuX2FjdGl2ZXx8dGhpcy5fc3RhcnQodCk7fSxhci5wcm90b3R5cGUuX3N0YXJ0PWZ1bmN0aW9uKGUpe2lmKHRoaXMuX2RlbHRhKXt0aGlzLl9mcmFtZUlkJiYodGhpcy5fZnJhbWVJZD1udWxsKSx0aGlzLl9hY3RpdmU9ITAsdGhpcy5pc1pvb21pbmcoKXx8KHRoaXMuX3pvb21pbmc9ITApLHRoaXMuX2ZpbmlzaFRpbWVvdXQmJihjbGVhclRpbWVvdXQodGhpcy5fZmluaXNoVGltZW91dCksZGVsZXRlIHRoaXMuX2ZpbmlzaFRpbWVvdXQpO3ZhciBvPWkubW91c2VQb3ModGhpcy5fZWwsZSk7dGhpcy5fYXJvdW5kPXQuTG5nTGF0LmNvbnZlcnQodGhpcy5fYXJvdW5kQ2VudGVyP3RoaXMuX21hcC5nZXRDZW50ZXIoKTp0aGlzLl9tYXAudW5wcm9qZWN0KG8pKSx0aGlzLl9hcm91bmRQb2ludD10aGlzLl9tYXAudHJhbnNmb3JtLmxvY2F0aW9uUG9pbnQodGhpcy5fYXJvdW5kKSx0aGlzLl9mcmFtZUlkfHwodGhpcy5fZnJhbWVJZD0hMCx0aGlzLl9oYW5kbGVyLl90cmlnZ2VyUmVuZGVyRnJhbWUoKSk7fX0sYXIucHJvdG90eXBlLnJlbmRlckZyYW1lPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX29uU2Nyb2xsRnJhbWUoKX0sYXIucHJvdG90eXBlLl9vblNjcm9sbEZyYW1lPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcztpZih0aGlzLl9mcmFtZUlkJiYodGhpcy5fZnJhbWVJZD1udWxsLHRoaXMuaXNBY3RpdmUoKSkpe3ZhciBpPXRoaXMuX21hcC50cmFuc2Zvcm07aWYoMCE9PXRoaXMuX2RlbHRhKXt2YXIgbz0id2hlZWwiPT09dGhpcy5fdHlwZSYmTWF0aC5hYnModGhpcy5fZGVsdGEpPjQuMDAwMjQ0MTQwNjI1P3RoaXMuX3doZWVsWm9vbVJhdGU6dGhpcy5fZGVmYXVsdFpvb21SYXRlLHI9Mi8oMStNYXRoLmV4cCgtTWF0aC5hYnModGhpcy5fZGVsdGEqbykpKTt0aGlzLl9kZWx0YTwwJiYwIT09ciYmKHI9MS9yKTt2YXIgYT0ibnVtYmVyIj09dHlwZW9mIHRoaXMuX3RhcmdldFpvb20/aS56b29tU2NhbGUodGhpcy5fdGFyZ2V0Wm9vbSk6aS5zY2FsZTt0aGlzLl90YXJnZXRab29tPU1hdGgubWluKGkubWF4Wm9vbSxNYXRoLm1heChpLm1pblpvb20saS5zY2FsZVpvb20oYSpyKSkpLCJ3aGVlbCI9PT10aGlzLl90eXBlJiYodGhpcy5fc3RhcnRab29tPWkuem9vbSx0aGlzLl9lYXNpbmc9dGhpcy5fc21vb3RoT3V0RWFzaW5nKDIwMCkpLHRoaXMuX2RlbHRhPTA7fXZhciBuLHM9Im51bWJlciI9PXR5cGVvZiB0aGlzLl90YXJnZXRab29tP3RoaXMuX3RhcmdldFpvb206aS56b29tLGw9dGhpcy5fc3RhcnRab29tLGM9dGhpcy5fZWFzaW5nLHU9ITE7aWYoIndoZWVsIj09PXRoaXMuX3R5cGUmJmwmJmMpe3ZhciBoPU1hdGgubWluKCh0LmJyb3dzZXIubm93KCktdGhpcy5fbGFzdFdoZWVsRXZlbnRUaW1lKS8yMDAsMSkscD1jKGgpO249dC5udW1iZXIobCxzLHApLGg8MT90aGlzLl9mcmFtZUlkfHwodGhpcy5fZnJhbWVJZD0hMCk6dT0hMDt9ZWxzZSBuPXMsdT0hMDtyZXR1cm4gdGhpcy5fYWN0aXZlPSEwLHUmJih0aGlzLl9hY3RpdmU9ITEsdGhpcy5fZmluaXNoVGltZW91dD1zZXRUaW1lb3V0KChmdW5jdGlvbigpe2UuX3pvb21pbmc9ITEsZS5faGFuZGxlci5fdHJpZ2dlclJlbmRlckZyYW1lKCksZGVsZXRlIGUuX3RhcmdldFpvb20sZGVsZXRlIGUuX2ZpbmlzaFRpbWVvdXQ7fSksMjAwKSkse25vSW5lcnRpYTohMCxuZWVkc1JlbmRlckZyYW1lOiF1LHpvb21EZWx0YTpuLWkuem9vbSxhcm91bmQ6dGhpcy5fYXJvdW5kUG9pbnQsb3JpZ2luYWxFdmVudDp0aGlzLl9sYXN0V2hlZWxFdmVudH19fSxhci5wcm90b3R5cGUuX3Ntb290aE91dEVhc2luZz1mdW5jdGlvbihlKXt2YXIgaT10LmVhc2U7aWYodGhpcy5fcHJldkVhc2Upe3ZhciBvPXRoaXMuX3ByZXZFYXNlLHI9KHQuYnJvd3Nlci5ub3coKS1vLnN0YXJ0KS9vLmR1cmF0aW9uLGE9by5lYXNpbmcocisuMDEpLW8uZWFzaW5nKHIpLG49LjI3L01hdGguc3FydChhKmErMWUtNCkqLjAxLHM9TWF0aC5zcXJ0KC4wNzI5LW4qbik7aT10LmJlemllcihuLHMsLjI1LDEpO31yZXR1cm4gdGhpcy5fcHJldkVhc2U9e3N0YXJ0OnQuYnJvd3Nlci5ub3coKSxkdXJhdGlvbjplLGVhc2luZzppfSxpfSxhci5wcm90b3R5cGUucmVzZXQ9ZnVuY3Rpb24oKXt0aGlzLl9hY3RpdmU9ITE7fTt2YXIgbnI9ZnVuY3Rpb24odCxlKXt0aGlzLl9jbGlja1pvb209dCx0aGlzLl90YXBab29tPWU7fTtuci5wcm90b3R5cGUuZW5hYmxlPWZ1bmN0aW9uKCl7dGhpcy5fY2xpY2tab29tLmVuYWJsZSgpLHRoaXMuX3RhcFpvb20uZW5hYmxlKCk7fSxuci5wcm90b3R5cGUuZGlzYWJsZT1mdW5jdGlvbigpe3RoaXMuX2NsaWNrWm9vbS5kaXNhYmxlKCksdGhpcy5fdGFwWm9vbS5kaXNhYmxlKCk7fSxuci5wcm90b3R5cGUuaXNFbmFibGVkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NsaWNrWm9vbS5pc0VuYWJsZWQoKSYmdGhpcy5fdGFwWm9vbS5pc0VuYWJsZWQoKX0sbnIucHJvdG90eXBlLmlzQWN0aXZlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NsaWNrWm9vbS5pc0FjdGl2ZSgpfHx0aGlzLl90YXBab29tLmlzQWN0aXZlKCl9O3ZhciBzcj1mdW5jdGlvbigpe3RoaXMucmVzZXQoKTt9O3NyLnByb3RvdHlwZS5yZXNldD1mdW5jdGlvbigpe3RoaXMuX2FjdGl2ZT0hMTt9LHNyLnByb3RvdHlwZS5kYmxjbGljaz1mdW5jdGlvbih0LGUpe3JldHVybiB0LnByZXZlbnREZWZhdWx0KCkse2NhbWVyYUFuaW1hdGlvbjpmdW5jdGlvbihpKXtpLmVhc2VUbyh7ZHVyYXRpb246MzAwLHpvb206aS5nZXRab29tKCkrKHQuc2hpZnRLZXk/LTE6MSksYXJvdW5kOmkudW5wcm9qZWN0KGUpfSx7b3JpZ2luYWxFdmVudDp0fSk7fX19LHNyLnByb3RvdHlwZS5lbmFibGU9ZnVuY3Rpb24oKXt0aGlzLl9lbmFibGVkPSEwO30sc3IucHJvdG90eXBlLmRpc2FibGU9ZnVuY3Rpb24oKXt0aGlzLl9lbmFibGVkPSExLHRoaXMucmVzZXQoKTt9LHNyLnByb3RvdHlwZS5pc0VuYWJsZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZW5hYmxlZH0sc3IucHJvdG90eXBlLmlzQWN0aXZlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2FjdGl2ZX07dmFyIGxyPWZ1bmN0aW9uKCl7dGhpcy5fdGFwPW5ldyBabyh7bnVtVG91Y2hlczoxLG51bVRhcHM6MX0pLHRoaXMucmVzZXQoKTt9O2xyLnByb3RvdHlwZS5yZXNldD1mdW5jdGlvbigpe3RoaXMuX2FjdGl2ZT0hMSxkZWxldGUgdGhpcy5fc3dpcGVQb2ludCxkZWxldGUgdGhpcy5fc3dpcGVUb3VjaCxkZWxldGUgdGhpcy5fdGFwVGltZSx0aGlzLl90YXAucmVzZXQoKTt9LGxyLnByb3RvdHlwZS50b3VjaHN0YXJ0PWZ1bmN0aW9uKHQsZSl7dGhpcy5fc3dpcGVQb2ludHx8KHRoaXMuX3RhcFRpbWUmJnQudGltZVN0YW1wLXRoaXMuX3RhcFRpbWU+NTAwJiZ0aGlzLnJlc2V0KCksdGhpcy5fdGFwVGltZT90LnRhcmdldFRvdWNoZXMubGVuZ3RoPjAmJih0aGlzLl9zd2lwZVBvaW50PWVbMF0sdGhpcy5fc3dpcGVUb3VjaD10LnRhcmdldFRvdWNoZXNbMF0uaWRlbnRpZmllcik6dGhpcy5fdGFwLnRvdWNoc3RhcnQodCxlKSk7fSxsci5wcm90b3R5cGUudG91Y2htb3ZlPWZ1bmN0aW9uKHQsZSl7aWYodGhpcy5fdGFwVGltZSl7aWYodGhpcy5fc3dpcGVQb2ludCl7aWYodC50YXJnZXRUb3VjaGVzWzBdLmlkZW50aWZpZXIhPT10aGlzLl9zd2lwZVRvdWNoKXJldHVybjt2YXIgaT1lWzBdLG89aS55LXRoaXMuX3N3aXBlUG9pbnQueTtyZXR1cm4gdGhpcy5fc3dpcGVQb2ludD1pLHQucHJldmVudERlZmF1bHQoKSx0aGlzLl9hY3RpdmU9ITAse3pvb21EZWx0YTpvLzEyOH19fWVsc2UgdGhpcy5fdGFwLnRvdWNobW92ZSh0LGUpO30sbHIucHJvdG90eXBlLnRvdWNoZW5kPWZ1bmN0aW9uKHQpe3RoaXMuX3RhcFRpbWU/dGhpcy5fc3dpcGVQb2ludCYmMD09PXQudGFyZ2V0VG91Y2hlcy5sZW5ndGgmJnRoaXMucmVzZXQoKTp0aGlzLl90YXAudG91Y2hlbmQodCkmJih0aGlzLl90YXBUaW1lPXQudGltZVN0YW1wKTt9LGxyLnByb3RvdHlwZS50b3VjaGNhbmNlbD1mdW5jdGlvbigpe3RoaXMucmVzZXQoKTt9LGxyLnByb3RvdHlwZS5lbmFibGU9ZnVuY3Rpb24oKXt0aGlzLl9lbmFibGVkPSEwO30sbHIucHJvdG90eXBlLmRpc2FibGU9ZnVuY3Rpb24oKXt0aGlzLl9lbmFibGVkPSExLHRoaXMucmVzZXQoKTt9LGxyLnByb3RvdHlwZS5pc0VuYWJsZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZW5hYmxlZH0sbHIucHJvdG90eXBlLmlzQWN0aXZlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2FjdGl2ZX07dmFyIGNyPWZ1bmN0aW9uKHQsZSxpKXt0aGlzLl9lbD10LHRoaXMuX21vdXNlUGFuPWUsdGhpcy5fdG91Y2hQYW49aTt9O2NyLnByb3RvdHlwZS5lbmFibGU9ZnVuY3Rpb24odCl7dGhpcy5faW5lcnRpYU9wdGlvbnM9dHx8e30sdGhpcy5fbW91c2VQYW4uZW5hYmxlKCksdGhpcy5fdG91Y2hQYW4uZW5hYmxlKCksdGhpcy5fZWwuY2xhc3NMaXN0LmFkZCgibWFwYm94Z2wtdG91Y2gtZHJhZy1wYW4iKTt9LGNyLnByb3RvdHlwZS5kaXNhYmxlPWZ1bmN0aW9uKCl7dGhpcy5fbW91c2VQYW4uZGlzYWJsZSgpLHRoaXMuX3RvdWNoUGFuLmRpc2FibGUoKSx0aGlzLl9lbC5jbGFzc0xpc3QucmVtb3ZlKCJtYXBib3hnbC10b3VjaC1kcmFnLXBhbiIpO30sY3IucHJvdG90eXBlLmlzRW5hYmxlZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9tb3VzZVBhbi5pc0VuYWJsZWQoKSYmdGhpcy5fdG91Y2hQYW4uaXNFbmFibGVkKCl9LGNyLnByb3RvdHlwZS5pc0FjdGl2ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9tb3VzZVBhbi5pc0FjdGl2ZSgpfHx0aGlzLl90b3VjaFBhbi5pc0FjdGl2ZSgpfTt2YXIgdXI9ZnVuY3Rpb24odCxlLGkpe3RoaXMuX3BpdGNoV2l0aFJvdGF0ZT10LnBpdGNoV2l0aFJvdGF0ZSx0aGlzLl9tb3VzZVJvdGF0ZT1lLHRoaXMuX21vdXNlUGl0Y2g9aTt9O3VyLnByb3RvdHlwZS5lbmFibGU9ZnVuY3Rpb24oKXt0aGlzLl9tb3VzZVJvdGF0ZS5lbmFibGUoKSx0aGlzLl9waXRjaFdpdGhSb3RhdGUmJnRoaXMuX21vdXNlUGl0Y2guZW5hYmxlKCk7fSx1ci5wcm90b3R5cGUuZGlzYWJsZT1mdW5jdGlvbigpe3RoaXMuX21vdXNlUm90YXRlLmRpc2FibGUoKSx0aGlzLl9tb3VzZVBpdGNoLmRpc2FibGUoKTt9LHVyLnByb3RvdHlwZS5pc0VuYWJsZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbW91c2VSb3RhdGUuaXNFbmFibGVkKCkmJighdGhpcy5fcGl0Y2hXaXRoUm90YXRlfHx0aGlzLl9tb3VzZVBpdGNoLmlzRW5hYmxlZCgpKX0sdXIucHJvdG90eXBlLmlzQWN0aXZlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX21vdXNlUm90YXRlLmlzQWN0aXZlKCl8fHRoaXMuX21vdXNlUGl0Y2guaXNBY3RpdmUoKX07dmFyIGhyPWZ1bmN0aW9uKHQsZSxpLG8pe3RoaXMuX2VsPXQsdGhpcy5fdG91Y2hab29tPWUsdGhpcy5fdG91Y2hSb3RhdGU9aSx0aGlzLl90YXBEcmFnWm9vbT1vLHRoaXMuX3JvdGF0aW9uRGlzYWJsZWQ9ITEsdGhpcy5fZW5hYmxlZD0hMDt9O2hyLnByb3RvdHlwZS5lbmFibGU9ZnVuY3Rpb24odCl7dGhpcy5fdG91Y2hab29tLmVuYWJsZSh0KSx0aGlzLl9yb3RhdGlvbkRpc2FibGVkfHx0aGlzLl90b3VjaFJvdGF0ZS5lbmFibGUodCksdGhpcy5fdGFwRHJhZ1pvb20uZW5hYmxlKCksdGhpcy5fZWwuY2xhc3NMaXN0LmFkZCgibWFwYm94Z2wtdG91Y2gtem9vbS1yb3RhdGUiKTt9LGhyLnByb3RvdHlwZS5kaXNhYmxlPWZ1bmN0aW9uKCl7dGhpcy5fdG91Y2hab29tLmRpc2FibGUoKSx0aGlzLl90b3VjaFJvdGF0ZS5kaXNhYmxlKCksdGhpcy5fdGFwRHJhZ1pvb20uZGlzYWJsZSgpLHRoaXMuX2VsLmNsYXNzTGlzdC5yZW1vdmUoIm1hcGJveGdsLXRvdWNoLXpvb20tcm90YXRlIik7fSxoci5wcm90b3R5cGUuaXNFbmFibGVkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3RvdWNoWm9vbS5pc0VuYWJsZWQoKSYmKHRoaXMuX3JvdGF0aW9uRGlzYWJsZWR8fHRoaXMuX3RvdWNoUm90YXRlLmlzRW5hYmxlZCgpKSYmdGhpcy5fdGFwRHJhZ1pvb20uaXNFbmFibGVkKCl9LGhyLnByb3RvdHlwZS5pc0FjdGl2ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl90b3VjaFpvb20uaXNBY3RpdmUoKXx8dGhpcy5fdG91Y2hSb3RhdGUuaXNBY3RpdmUoKXx8dGhpcy5fdGFwRHJhZ1pvb20uaXNBY3RpdmUoKX0saHIucHJvdG90eXBlLmRpc2FibGVSb3RhdGlvbj1mdW5jdGlvbigpe3RoaXMuX3JvdGF0aW9uRGlzYWJsZWQ9ITAsdGhpcy5fdG91Y2hSb3RhdGUuZGlzYWJsZSgpO30saHIucHJvdG90eXBlLmVuYWJsZVJvdGF0aW9uPWZ1bmN0aW9uKCl7dGhpcy5fcm90YXRpb25EaXNhYmxlZD0hMSx0aGlzLl90b3VjaFpvb20uaXNFbmFibGVkKCkmJnRoaXMuX3RvdWNoUm90YXRlLmVuYWJsZSgpO307dmFyIHByPWZ1bmN0aW9uKHQpe3JldHVybiB0Lnpvb218fHQuZHJhZ3x8dC5waXRjaHx8dC5yb3RhdGV9LGRyPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt0LmFwcGx5KHRoaXMsYXJndW1lbnRzKTt9cmV0dXJuIHQmJihlLl9fcHJvdG9fXz10KSwoZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSkpLmNvbnN0cnVjdG9yPWUsZX0odC5FdmVudCk7ZnVuY3Rpb24gX3IodCl7cmV0dXJuIHQucGFuRGVsdGEmJnQucGFuRGVsdGEubWFnKCl8fHQuem9vbURlbHRhfHx0LmJlYXJpbmdEZWx0YXx8dC5waXRjaERlbHRhfXZhciBmcj1mdW5jdGlvbihlLG8pe3RoaXMuX21hcD1lLHRoaXMuX2VsPXRoaXMuX21hcC5nZXRDYW52YXNDb250YWluZXIoKSx0aGlzLl9oYW5kbGVycz1bXSx0aGlzLl9oYW5kbGVyc0J5SWQ9e30sdGhpcy5fY2hhbmdlcz1bXSx0aGlzLl9pbmVydGlhPW5ldyBEbyhlKSx0aGlzLl9iZWFyaW5nU25hcD1vLmJlYXJpbmdTbmFwLHRoaXMuX3ByZXZpb3VzQWN0aXZlSGFuZGxlcnM9e30sdGhpcy5fZXZlbnRzSW5Qcm9ncmVzcz17fSx0aGlzLl9hZGREZWZhdWx0SGFuZGxlcnMobyksdC5iaW5kQWxsKFsiaGFuZGxlRXZlbnQiLCJoYW5kbGVXaW5kb3dFdmVudCJdLHRoaXMpO3ZhciByPXRoaXMuX2VsO3RoaXMuX2xpc3RlbmVycz1bW3IsInRvdWNoc3RhcnQiLHtwYXNzaXZlOiExfV0sW3IsInRvdWNobW92ZSIse3Bhc3NpdmU6ITF9XSxbciwidG91Y2hlbmQiLHZvaWQgMF0sW3IsInRvdWNoY2FuY2VsIix2b2lkIDBdLFtyLCJtb3VzZWRvd24iLHZvaWQgMF0sW3IsIm1vdXNlbW92ZSIsdm9pZCAwXSxbciwibW91c2V1cCIsdm9pZCAwXSxbdC53aW5kb3cuZG9jdW1lbnQsIm1vdXNlbW92ZSIse2NhcHR1cmU6ITB9XSxbdC53aW5kb3cuZG9jdW1lbnQsIm1vdXNldXAiLHZvaWQgMF0sW3IsIm1vdXNlb3ZlciIsdm9pZCAwXSxbciwibW91c2VvdXQiLHZvaWQgMF0sW3IsImRibGNsaWNrIix2b2lkIDBdLFtyLCJjbGljayIsdm9pZCAwXSxbciwia2V5ZG93biIse2NhcHR1cmU6ITF9XSxbciwia2V5dXAiLHZvaWQgMF0sW3IsIndoZWVsIix7cGFzc2l2ZTohMX1dLFtyLCJjb250ZXh0bWVudSIsdm9pZCAwXSxbdC53aW5kb3csImJsdXIiLHZvaWQgMF1dO2Zvcih2YXIgYT0wLG49dGhpcy5fbGlzdGVuZXJzO2E8bi5sZW5ndGg7YSs9MSl7dmFyIHM9blthXSxsPXNbMF07aS5hZGRFdmVudExpc3RlbmVyKGwsc1sxXSxsPT09dC53aW5kb3cuZG9jdW1lbnQ/dGhpcy5oYW5kbGVXaW5kb3dFdmVudDp0aGlzLmhhbmRsZUV2ZW50LHNbMl0pO319O2ZyLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7Zm9yKHZhciBlPTAsbz10aGlzLl9saXN0ZW5lcnM7ZTxvLmxlbmd0aDtlKz0xKXt2YXIgcj1vW2VdLGE9clswXTtpLnJlbW92ZUV2ZW50TGlzdGVuZXIoYSxyWzFdLGE9PT10LndpbmRvdy5kb2N1bWVudD90aGlzLmhhbmRsZVdpbmRvd0V2ZW50OnRoaXMuaGFuZGxlRXZlbnQsclsyXSk7fX0sZnIucHJvdG90eXBlLl9hZGREZWZhdWx0SGFuZGxlcnM9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fbWFwLGk9ZS5nZXRDYW52YXNDb250YWluZXIoKTt0aGlzLl9hZGQoIm1hcEV2ZW50IixuZXcgQm8oZSx0KSk7dmFyIG89ZS5ib3hab29tPW5ldyBGbyhlLHQpO3RoaXMuX2FkZCgiYm94Wm9vbSIsbyk7dmFyIHI9bmV3IGpvLGE9bmV3IHNyO2UuZG91YmxlQ2xpY2tab29tPW5ldyBucihhLHIpLHRoaXMuX2FkZCgidGFwWm9vbSIsciksdGhpcy5fYWRkKCJjbGlja1pvb20iLGEpO3ZhciBuPW5ldyBscjt0aGlzLl9hZGQoInRhcERyYWdab29tIixuKTt2YXIgcz1lLnRvdWNoUGl0Y2g9bmV3IGVyO3RoaXMuX2FkZCgidG91Y2hQaXRjaCIscyk7dmFyIGw9bmV3IEdvKHQpLGM9bmV3IFdvKHQpO2UuZHJhZ1JvdGF0ZT1uZXcgdXIodCxsLGMpLHRoaXMuX2FkZCgibW91c2VSb3RhdGUiLGwsWyJtb3VzZVBpdGNoIl0pLHRoaXMuX2FkZCgibW91c2VQaXRjaCIsYyxbIm1vdXNlUm90YXRlIl0pO3ZhciB1PW5ldyBWbyh0KSxoPW5ldyBYbyh0KTtlLmRyYWdQYW49bmV3IGNyKGksdSxoKSx0aGlzLl9hZGQoIm1vdXNlUGFuIix1KSx0aGlzLl9hZGQoInRvdWNoUGFuIixoLFsidG91Y2hab29tIiwidG91Y2hSb3RhdGUiXSk7dmFyIHA9bmV3ICRvLGQ9bmV3IEpvO2UudG91Y2hab29tUm90YXRlPW5ldyBocihpLGQscCxuKSx0aGlzLl9hZGQoInRvdWNoUm90YXRlIixwLFsidG91Y2hQYW4iLCJ0b3VjaFpvb20iXSksdGhpcy5fYWRkKCJ0b3VjaFpvb20iLGQsWyJ0b3VjaFBhbiIsInRvdWNoUm90YXRlIl0pO3ZhciBfPWUuc2Nyb2xsWm9vbT1uZXcgYXIoZSx0aGlzKTt0aGlzLl9hZGQoInNjcm9sbFpvb20iLF8sWyJtb3VzZVBhbiJdKTt2YXIgZj1lLmtleWJvYXJkPW5ldyBvcjt0aGlzLl9hZGQoImtleWJvYXJkIixmKSx0aGlzLl9hZGQoImJsb2NrYWJsZU1hcEV2ZW50IixuZXcgT28oZSkpO2Zvcih2YXIgbT0wLGc9WyJib3hab29tIiwiZG91YmxlQ2xpY2tab29tIiwidGFwRHJhZ1pvb20iLCJ0b3VjaFBpdGNoIiwiZHJhZ1JvdGF0ZSIsImRyYWdQYW4iLCJ0b3VjaFpvb21Sb3RhdGUiLCJzY3JvbGxab29tIiwia2V5Ym9hcmQiXTttPGcubGVuZ3RoO20rPTEpe3ZhciB2PWdbbV07dC5pbnRlcmFjdGl2ZSYmdFt2XSYmZVt2XS5lbmFibGUodFt2XSk7fX0sZnIucHJvdG90eXBlLl9hZGQ9ZnVuY3Rpb24odCxlLGkpe3RoaXMuX2hhbmRsZXJzLnB1c2goe2hhbmRsZXJOYW1lOnQsaGFuZGxlcjplLGFsbG93ZWQ6aX0pLHRoaXMuX2hhbmRsZXJzQnlJZFt0XT1lO30sZnIucHJvdG90eXBlLnN0b3A9ZnVuY3Rpb24oKXtpZighdGhpcy5fdXBkYXRpbmdDYW1lcmEpe2Zvcih2YXIgdD0wLGU9dGhpcy5faGFuZGxlcnM7dDxlLmxlbmd0aDt0Kz0xKWVbdF0uaGFuZGxlci5yZXNldCgpO3RoaXMuX2luZXJ0aWEuY2xlYXIoKSx0aGlzLl9maXJlRXZlbnRzKHt9LHt9KSx0aGlzLl9jaGFuZ2VzPVtdO319LGZyLnByb3RvdHlwZS5pc0FjdGl2ZT1mdW5jdGlvbigpe2Zvcih2YXIgdD0wLGU9dGhpcy5faGFuZGxlcnM7dDxlLmxlbmd0aDt0Kz0xKWlmKGVbdF0uaGFuZGxlci5pc0FjdGl2ZSgpKXJldHVybiAhMDtyZXR1cm4gITF9LGZyLnByb3RvdHlwZS5pc1pvb21pbmc9ZnVuY3Rpb24oKXtyZXR1cm4gISF0aGlzLl9ldmVudHNJblByb2dyZXNzLnpvb218fHRoaXMuX21hcC5zY3JvbGxab29tLmlzWm9vbWluZygpfSxmci5wcm90b3R5cGUuaXNSb3RhdGluZz1mdW5jdGlvbigpe3JldHVybiAhIXRoaXMuX2V2ZW50c0luUHJvZ3Jlc3Mucm90YXRlfSxmci5wcm90b3R5cGUuX2Jsb2NrZWRCeUFjdGl2ZT1mdW5jdGlvbih0LGUsaSl7Zm9yKHZhciBvIGluIHQpaWYobyE9PWkmJighZXx8ZS5pbmRleE9mKG8pPDApKXJldHVybiAhMDtyZXR1cm4gITF9LGZyLnByb3RvdHlwZS5oYW5kbGVXaW5kb3dFdmVudD1mdW5jdGlvbih0KXt0aGlzLmhhbmRsZUV2ZW50KHQsdC50eXBlKyJXaW5kb3ciKTt9LGZyLnByb3RvdHlwZS5oYW5kbGVFdmVudD1mdW5jdGlvbih0LGUpe2lmKCJibHVyIiE9PXQudHlwZSl7dGhpcy5fdXBkYXRpbmdDYW1lcmE9ITA7Zm9yKHZhciBvPSJyZW5kZXJGcmFtZSI9PT10LnR5cGU/dm9pZCAwOnQscj17bmVlZHNSZW5kZXJGcmFtZTohMX0sYT17fSxuPXt9LHM9dD90LnRhcmdldFRvdWNoZXM/aS50b3VjaFBvcyh0aGlzLl9lbCx0LnRhcmdldFRvdWNoZXMpOmkubW91c2VQb3ModGhpcy5fZWwsdCk6bnVsbCxsPTAsYz10aGlzLl9oYW5kbGVycztsPGMubGVuZ3RoO2wrPTEpe3ZhciB1PWNbbF0saD11LmhhbmRsZXJOYW1lLHA9dS5oYW5kbGVyLGQ9dS5hbGxvd2VkO2lmKHAuaXNFbmFibGVkKCkpe3ZhciBfPXZvaWQgMDt0aGlzLl9ibG9ja2VkQnlBY3RpdmUobixkLGgpP3AucmVzZXQoKTpwW2V8fHQudHlwZV0mJihfPXBbZXx8dC50eXBlXSh0LHMpLHRoaXMubWVyZ2VIYW5kbGVyUmVzdWx0KHIsYSxfLGgsbyksXyYmXy5uZWVkc1JlbmRlckZyYW1lJiZ0aGlzLl90cmlnZ2VyUmVuZGVyRnJhbWUoKSksKF98fHAuaXNBY3RpdmUoKSkmJihuW2hdPXApO319dmFyIGY9e307Zm9yKHZhciBtIGluIHRoaXMuX3ByZXZpb3VzQWN0aXZlSGFuZGxlcnMpblttXXx8KGZbbV09byk7dGhpcy5fcHJldmlvdXNBY3RpdmVIYW5kbGVycz1uLChPYmplY3Qua2V5cyhmKS5sZW5ndGh8fF9yKHIpKSYmKHRoaXMuX2NoYW5nZXMucHVzaChbcixhLGZdKSx0aGlzLl90cmlnZ2VyUmVuZGVyRnJhbWUoKSksKE9iamVjdC5rZXlzKG4pLmxlbmd0aHx8X3IocikpJiZ0aGlzLl9tYXAuX3N0b3AoITApLHRoaXMuX3VwZGF0aW5nQ2FtZXJhPSExO3ZhciBnPXIuY2FtZXJhQW5pbWF0aW9uO2cmJih0aGlzLl9pbmVydGlhLmNsZWFyKCksdGhpcy5fZmlyZUV2ZW50cyh7fSx7fSksdGhpcy5fY2hhbmdlcz1bXSxnKHRoaXMuX21hcCkpO31lbHNlIHRoaXMuc3RvcCgpO30sZnIucHJvdG90eXBlLm1lcmdlSGFuZGxlclJlc3VsdD1mdW5jdGlvbihlLGksbyxyLGEpe2lmKG8pe3QuZXh0ZW5kKGUsbyk7dmFyIG49e2hhbmRsZXJOYW1lOnIsb3JpZ2luYWxFdmVudDpvLm9yaWdpbmFsRXZlbnR8fGF9O3ZvaWQgMCE9PW8uem9vbURlbHRhJiYoaS56b29tPW4pLHZvaWQgMCE9PW8ucGFuRGVsdGEmJihpLmRyYWc9biksdm9pZCAwIT09by5waXRjaERlbHRhJiYoaS5waXRjaD1uKSx2b2lkIDAhPT1vLmJlYXJpbmdEZWx0YSYmKGkucm90YXRlPW4pO319LGZyLnByb3RvdHlwZS5fYXBwbHlDaGFuZ2VzPWZ1bmN0aW9uKCl7Zm9yKHZhciBlPXt9LGk9e30sbz17fSxyPTAsYT10aGlzLl9jaGFuZ2VzO3I8YS5sZW5ndGg7cis9MSl7dmFyIG49YVtyXSxzPW5bMF0sbD1uWzFdLGM9blsyXTtzLnBhbkRlbHRhJiYoZS5wYW5EZWx0YT0oZS5wYW5EZWx0YXx8bmV3IHQuUG9pbnQoMCwwKSkuX2FkZChzLnBhbkRlbHRhKSkscy56b29tRGVsdGEmJihlLnpvb21EZWx0YT0oZS56b29tRGVsdGF8fDApK3Muem9vbURlbHRhKSxzLmJlYXJpbmdEZWx0YSYmKGUuYmVhcmluZ0RlbHRhPShlLmJlYXJpbmdEZWx0YXx8MCkrcy5iZWFyaW5nRGVsdGEpLHMucGl0Y2hEZWx0YSYmKGUucGl0Y2hEZWx0YT0oZS5waXRjaERlbHRhfHwwKStzLnBpdGNoRGVsdGEpLHZvaWQgMCE9PXMuYXJvdW5kJiYoZS5hcm91bmQ9cy5hcm91bmQpLHZvaWQgMCE9PXMucGluY2hBcm91bmQmJihlLnBpbmNoQXJvdW5kPXMucGluY2hBcm91bmQpLHMubm9JbmVydGlhJiYoZS5ub0luZXJ0aWE9cy5ub0luZXJ0aWEpLHQuZXh0ZW5kKGksbCksdC5leHRlbmQobyxjKTt9dGhpcy5fdXBkYXRlTWFwVHJhbnNmb3JtKGUsaSxvKSx0aGlzLl9jaGFuZ2VzPVtdO30sZnIucHJvdG90eXBlLl91cGRhdGVNYXBUcmFuc2Zvcm09ZnVuY3Rpb24odCxlLGkpe3ZhciBvPXRoaXMuX21hcCxyPW8udHJhbnNmb3JtO2lmKCFfcih0KSlyZXR1cm4gdGhpcy5fZmlyZUV2ZW50cyhlLGkpO3ZhciBhPXQucGFuRGVsdGEsbj10Lnpvb21EZWx0YSxzPXQuYmVhcmluZ0RlbHRhLGw9dC5waXRjaERlbHRhLGM9dC5hcm91bmQsdT10LnBpbmNoQXJvdW5kO3ZvaWQgMCE9PXUmJihjPXUpLG8uX3N0b3AoITApLGM9Y3x8by50cmFuc2Zvcm0uY2VudGVyUG9pbnQ7dmFyIGg9ci5wb2ludExvY2F0aW9uKGE/Yy5zdWIoYSk6Yyk7cyYmKHIuYmVhcmluZys9cyksbCYmKHIucGl0Y2grPWwpLG4mJihyLnpvb20rPW4pLHIuc2V0TG9jYXRpb25BdFBvaW50KGgsYyksdGhpcy5fbWFwLl91cGRhdGUoKSx0Lm5vSW5lcnRpYXx8dGhpcy5faW5lcnRpYS5yZWNvcmQodCksdGhpcy5fZmlyZUV2ZW50cyhlLGkpO30sZnIucHJvdG90eXBlLl9maXJlRXZlbnRzPWZ1bmN0aW9uKGUsaSl7dmFyIG8scj10aGlzLGE9cHIodGhpcy5fZXZlbnRzSW5Qcm9ncmVzcyksbj1wcihlKTtmb3IodmFyIHMgaW4gIWEmJm4mJnRoaXMuX2ZpcmVFdmVudCgibW92ZXN0YXJ0IixuLm9yaWdpbmFsRXZlbnQpLGUpe3ZhciBsPWVbc10ub3JpZ2luYWxFdmVudCxjPSF0aGlzLl9ldmVudHNJblByb2dyZXNzW3NdO3RoaXMuX2V2ZW50c0luUHJvZ3Jlc3Nbc109ZVtzXSxjJiZ0aGlzLl9maXJlRXZlbnQocysic3RhcnQiLGwpO31mb3IodmFyIHUgaW4gZS5yb3RhdGUmJih0aGlzLl9iZWFyaW5nQ2hhbmdlZD0hMCksbiYmdGhpcy5fZmlyZUV2ZW50KCJtb3ZlIixuLm9yaWdpbmFsRXZlbnQpLGUpdGhpcy5fZmlyZUV2ZW50KHUsZVt1XS5vcmlnaW5hbEV2ZW50KTtmb3IodmFyIGggaW4gdGhpcy5fZXZlbnRzSW5Qcm9ncmVzcyl7dmFyIHA9dGhpcy5fZXZlbnRzSW5Qcm9ncmVzc1toXSxkPXAuaGFuZGxlck5hbWUsXz1wLm9yaWdpbmFsRXZlbnQ7dGhpcy5faGFuZGxlcnNCeUlkW2RdLmlzQWN0aXZlKCl8fChkZWxldGUgdGhpcy5fZXZlbnRzSW5Qcm9ncmVzc1toXSx0aGlzLl9maXJlRXZlbnQoaCsiZW5kIixvPWlbZF18fF8pKTt9dmFyIGY9cHIodGhpcy5fZXZlbnRzSW5Qcm9ncmVzcyk7aWYoKGF8fG4pJiYhZil7dGhpcy5fdXBkYXRpbmdDYW1lcmE9ITA7dmFyIG09dGhpcy5faW5lcnRpYS5fb25Nb3ZlRW5kKHRoaXMuX21hcC5kcmFnUGFuLl9pbmVydGlhT3B0aW9ucyksZz1mdW5jdGlvbih0KXtyZXR1cm4gMCE9PXQmJi1yLl9iZWFyaW5nU25hcDx0JiZ0PHIuX2JlYXJpbmdTbmFwfTttPyhnKG0uYmVhcmluZ3x8dGhpcy5fbWFwLmdldEJlYXJpbmcoKSkmJihtLmJlYXJpbmc9MCksdGhpcy5fbWFwLmVhc2VUbyhtLHtvcmlnaW5hbEV2ZW50Om99KSk6KHRoaXMuX21hcC5maXJlKG5ldyB0LkV2ZW50KCJtb3ZlZW5kIix7b3JpZ2luYWxFdmVudDpvfSkpLGcodGhpcy5fbWFwLmdldEJlYXJpbmcoKSkmJnRoaXMuX21hcC5yZXNldE5vcnRoKCkpLHRoaXMuX2JlYXJpbmdDaGFuZ2VkPSExLHRoaXMuX3VwZGF0aW5nQ2FtZXJhPSExO319LGZyLnByb3RvdHlwZS5fZmlyZUV2ZW50PWZ1bmN0aW9uKGUsaSl7dGhpcy5fbWFwLmZpcmUobmV3IHQuRXZlbnQoZSxpP3tvcmlnaW5hbEV2ZW50Oml9Ont9KSk7fSxmci5wcm90b3R5cGUuX3RyaWdnZXJSZW5kZXJGcmFtZT1mdW5jdGlvbigpe3ZhciB0PXRoaXM7dm9pZCAwPT09dGhpcy5fZnJhbWVJZCYmKHRoaXMuX2ZyYW1lSWQ9dGhpcy5fbWFwLl9yZXF1ZXN0UmVuZGVyRnJhbWUoKGZ1bmN0aW9uKGUpe2RlbGV0ZSB0Ll9mcmFtZUlkLHQuaGFuZGxlRXZlbnQobmV3IGRyKCJyZW5kZXJGcmFtZSIse3RpbWVTdGFtcDplfSkpLHQuX2FwcGx5Q2hhbmdlcygpO30pKSk7fTt2YXIgbXI9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gaShpLG8pe2UuY2FsbCh0aGlzKSx0aGlzLl9tb3Zpbmc9ITEsdGhpcy5fem9vbWluZz0hMSx0aGlzLnRyYW5zZm9ybT1pLHRoaXMuX2JlYXJpbmdTbmFwPW8uYmVhcmluZ1NuYXAsdC5iaW5kQWxsKFsiX3JlbmRlckZyYW1lQ2FsbGJhY2siXSx0aGlzKTt9cmV0dXJuIGUmJihpLl9fcHJvdG9fXz1lKSwoaS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlJiZlLnByb3RvdHlwZSkpLmNvbnN0cnVjdG9yPWksaS5wcm90b3R5cGUuZ2V0Q2VudGVyPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyB0LkxuZ0xhdCh0aGlzLnRyYW5zZm9ybS5jZW50ZXIubG5nLHRoaXMudHJhbnNmb3JtLmNlbnRlci5sYXQpfSxpLnByb3RvdHlwZS5zZXRDZW50ZXI9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5qdW1wVG8oe2NlbnRlcjp0fSxlKX0saS5wcm90b3R5cGUucGFuQnk9ZnVuY3Rpb24oZSxpLG8pe3JldHVybiBlPXQuUG9pbnQuY29udmVydChlKS5tdWx0KC0xKSx0aGlzLnBhblRvKHRoaXMudHJhbnNmb3JtLmNlbnRlcix0LmV4dGVuZCh7b2Zmc2V0OmV9LGkpLG8pfSxpLnByb3RvdHlwZS5wYW5Ubz1mdW5jdGlvbihlLGksbyl7cmV0dXJuIHRoaXMuZWFzZVRvKHQuZXh0ZW5kKHtjZW50ZXI6ZX0saSksbyl9LGkucHJvdG90eXBlLmdldFpvb209ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50cmFuc2Zvcm0uem9vbX0saS5wcm90b3R5cGUuc2V0Wm9vbT1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLmp1bXBUbyh7em9vbTp0fSxlKSx0aGlzfSxpLnByb3RvdHlwZS56b29tVG89ZnVuY3Rpb24oZSxpLG8pe3JldHVybiB0aGlzLmVhc2VUbyh0LmV4dGVuZCh7em9vbTplfSxpKSxvKX0saS5wcm90b3R5cGUuem9vbUluPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuem9vbVRvKHRoaXMuZ2V0Wm9vbSgpKzEsdCxlKSx0aGlzfSxpLnByb3RvdHlwZS56b29tT3V0PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuem9vbVRvKHRoaXMuZ2V0Wm9vbSgpLTEsdCxlKSx0aGlzfSxpLnByb3RvdHlwZS5nZXRCZWFyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudHJhbnNmb3JtLmJlYXJpbmd9LGkucHJvdG90eXBlLnNldEJlYXJpbmc9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5qdW1wVG8oe2JlYXJpbmc6dH0sZSksdGhpc30saS5wcm90b3R5cGUuZ2V0UGFkZGluZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLnRyYW5zZm9ybS5wYWRkaW5nfSxpLnByb3RvdHlwZS5zZXRQYWRkaW5nPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuanVtcFRvKHtwYWRkaW5nOnR9LGUpLHRoaXN9LGkucHJvdG90eXBlLnJvdGF0ZVRvPWZ1bmN0aW9uKGUsaSxvKXtyZXR1cm4gdGhpcy5lYXNlVG8odC5leHRlbmQoe2JlYXJpbmc6ZX0saSksbyl9LGkucHJvdG90eXBlLnJlc2V0Tm9ydGg9ZnVuY3Rpb24oZSxpKXtyZXR1cm4gdGhpcy5yb3RhdGVUbygwLHQuZXh0ZW5kKHtkdXJhdGlvbjoxZTN9LGUpLGkpLHRoaXN9LGkucHJvdG90eXBlLnJlc2V0Tm9ydGhQaXRjaD1mdW5jdGlvbihlLGkpe3JldHVybiB0aGlzLmVhc2VUbyh0LmV4dGVuZCh7YmVhcmluZzowLHBpdGNoOjAsZHVyYXRpb246MWUzfSxlKSxpKSx0aGlzfSxpLnByb3RvdHlwZS5zbmFwVG9Ob3J0aD1mdW5jdGlvbih0LGUpe3JldHVybiBNYXRoLmFicyh0aGlzLmdldEJlYXJpbmcoKSk8dGhpcy5fYmVhcmluZ1NuYXA/dGhpcy5yZXNldE5vcnRoKHQsZSk6dGhpc30saS5wcm90b3R5cGUuZ2V0UGl0Y2g9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50cmFuc2Zvcm0ucGl0Y2h9LGkucHJvdG90eXBlLnNldFBpdGNoPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuanVtcFRvKHtwaXRjaDp0fSxlKSx0aGlzfSxpLnByb3RvdHlwZS5jYW1lcmFGb3JCb3VuZHM9ZnVuY3Rpb24oZSxpKXtyZXR1cm4gZT10LkxuZ0xhdEJvdW5kcy5jb252ZXJ0KGUpLHRoaXMuX2NhbWVyYUZvckJveEFuZEJlYXJpbmcoZS5nZXROb3J0aFdlc3QoKSxlLmdldFNvdXRoRWFzdCgpLDAsaSl9LGkucHJvdG90eXBlLl9jYW1lcmFGb3JCb3hBbmRCZWFyaW5nPWZ1bmN0aW9uKGUsaSxvLHIpe3ZhciBhPXt0b3A6MCxib3R0b206MCxyaWdodDowLGxlZnQ6MH07aWYoIm51bWJlciI9PXR5cGVvZihyPXQuZXh0ZW5kKHtwYWRkaW5nOmEsb2Zmc2V0OlswLDBdLG1heFpvb206dGhpcy50cmFuc2Zvcm0ubWF4Wm9vbX0scikpLnBhZGRpbmcpe3ZhciBuPXIucGFkZGluZztyLnBhZGRpbmc9e3RvcDpuLGJvdHRvbTpuLHJpZ2h0Om4sbGVmdDpufTt9ci5wYWRkaW5nPXQuZXh0ZW5kKGEsci5wYWRkaW5nKTt2YXIgcz10aGlzLnRyYW5zZm9ybSxsPXMucGFkZGluZyxjPXMucHJvamVjdCh0LkxuZ0xhdC5jb252ZXJ0KGUpKSx1PXMucHJvamVjdCh0LkxuZ0xhdC5jb252ZXJ0KGkpKSxoPWMucm90YXRlKC1vKk1hdGguUEkvMTgwKSxwPXUucm90YXRlKC1vKk1hdGguUEkvMTgwKSxkPW5ldyB0LlBvaW50KE1hdGgubWF4KGgueCxwLngpLE1hdGgubWF4KGgueSxwLnkpKSxfPW5ldyB0LlBvaW50KE1hdGgubWluKGgueCxwLngpLE1hdGgubWluKGgueSxwLnkpKSxmPWQuc3ViKF8pLG09KHMud2lkdGgtKGwubGVmdCtsLnJpZ2h0K3IucGFkZGluZy5sZWZ0K3IucGFkZGluZy5yaWdodCkpL2YueCxnPShzLmhlaWdodC0obC50b3ArbC5ib3R0b20rci5wYWRkaW5nLnRvcCtyLnBhZGRpbmcuYm90dG9tKSkvZi55O2lmKCEoZzwwfHxtPDApKXt2YXIgdj1NYXRoLm1pbihzLnNjYWxlWm9vbShzLnNjYWxlKk1hdGgubWluKG0sZykpLHIubWF4Wm9vbSkseT10LlBvaW50LmNvbnZlcnQoci5vZmZzZXQpLHg9bmV3IHQuUG9pbnQoeS54KyhyLnBhZGRpbmcubGVmdC1yLnBhZGRpbmcucmlnaHQpLzIseS55KyhyLnBhZGRpbmcudG9wLXIucGFkZGluZy5ib3R0b20pLzIpLm11bHQocy5zY2FsZS9zLnpvb21TY2FsZSh2KSk7cmV0dXJuIHtjZW50ZXI6cy51bnByb2plY3QoYy5hZGQodSkuZGl2KDIpLnN1Yih4KSksem9vbTp2LGJlYXJpbmc6b319dC53YXJuT25jZSgiTWFwIGNhbm5vdCBmaXQgd2l0aGluIGNhbnZhcyB3aXRoIHRoZSBnaXZlbiBib3VuZHMsIHBhZGRpbmcsIGFuZC9vciBvZmZzZXQuIik7fSxpLnByb3RvdHlwZS5maXRCb3VuZHM9ZnVuY3Rpb24odCxlLGkpe3JldHVybiB0aGlzLl9maXRJbnRlcm5hbCh0aGlzLmNhbWVyYUZvckJvdW5kcyh0LGUpLGUsaSl9LGkucHJvdG90eXBlLmZpdFNjcmVlbkNvb3JkaW5hdGVzPWZ1bmN0aW9uKGUsaSxvLHIsYSl7cmV0dXJuIHRoaXMuX2ZpdEludGVybmFsKHRoaXMuX2NhbWVyYUZvckJveEFuZEJlYXJpbmcodGhpcy50cmFuc2Zvcm0ucG9pbnRMb2NhdGlvbih0LlBvaW50LmNvbnZlcnQoZSkpLHRoaXMudHJhbnNmb3JtLnBvaW50TG9jYXRpb24odC5Qb2ludC5jb252ZXJ0KGkpKSxvLHIpLHIsYSl9LGkucHJvdG90eXBlLl9maXRJbnRlcm5hbD1mdW5jdGlvbihlLGksbyl7cmV0dXJuIGU/KGRlbGV0ZShpPXQuZXh0ZW5kKGUsaSkpLnBhZGRpbmcsaS5saW5lYXI/dGhpcy5lYXNlVG8oaSxvKTp0aGlzLmZseVRvKGksbykpOnRoaXN9LGkucHJvdG90eXBlLmp1bXBUbz1mdW5jdGlvbihlLGkpe3RoaXMuc3RvcCgpO3ZhciBvPXRoaXMudHJhbnNmb3JtLHI9ITEsYT0hMSxuPSExO3JldHVybiAiem9vbSJpbiBlJiZvLnpvb20hPT0rZS56b29tJiYocj0hMCxvLnpvb209K2Uuem9vbSksdm9pZCAwIT09ZS5jZW50ZXImJihvLmNlbnRlcj10LkxuZ0xhdC5jb252ZXJ0KGUuY2VudGVyKSksImJlYXJpbmciaW4gZSYmby5iZWFyaW5nIT09K2UuYmVhcmluZyYmKGE9ITAsby5iZWFyaW5nPStlLmJlYXJpbmcpLCJwaXRjaCJpbiBlJiZvLnBpdGNoIT09K2UucGl0Y2gmJihuPSEwLG8ucGl0Y2g9K2UucGl0Y2gpLG51bGw9PWUucGFkZGluZ3x8by5pc1BhZGRpbmdFcXVhbChlLnBhZGRpbmcpfHwoby5wYWRkaW5nPWUucGFkZGluZyksdGhpcy5maXJlKG5ldyB0LkV2ZW50KCJtb3Zlc3RhcnQiLGkpKS5maXJlKG5ldyB0LkV2ZW50KCJtb3ZlIixpKSksciYmdGhpcy5maXJlKG5ldyB0LkV2ZW50KCJ6b29tc3RhcnQiLGkpKS5maXJlKG5ldyB0LkV2ZW50KCJ6b29tIixpKSkuZmlyZShuZXcgdC5FdmVudCgiem9vbWVuZCIsaSkpLGEmJnRoaXMuZmlyZShuZXcgdC5FdmVudCgicm90YXRlc3RhcnQiLGkpKS5maXJlKG5ldyB0LkV2ZW50KCJyb3RhdGUiLGkpKS5maXJlKG5ldyB0LkV2ZW50KCJyb3RhdGVlbmQiLGkpKSxuJiZ0aGlzLmZpcmUobmV3IHQuRXZlbnQoInBpdGNoc3RhcnQiLGkpKS5maXJlKG5ldyB0LkV2ZW50KCJwaXRjaCIsaSkpLmZpcmUobmV3IHQuRXZlbnQoInBpdGNoZW5kIixpKSksdGhpcy5maXJlKG5ldyB0LkV2ZW50KCJtb3ZlZW5kIixpKSl9LGkucHJvdG90eXBlLmVhc2VUbz1mdW5jdGlvbihlLGkpe3ZhciBvPXRoaXM7dGhpcy5fc3RvcCghMSxlLmVhc2VJZCksKCExPT09KGU9dC5leHRlbmQoe29mZnNldDpbMCwwXSxkdXJhdGlvbjo1MDAsZWFzaW5nOnQuZWFzZX0sZSkpLmFuaW1hdGV8fCFlLmVzc2VudGlhbCYmdC5icm93c2VyLnByZWZlcnNSZWR1Y2VkTW90aW9uKSYmKGUuZHVyYXRpb249MCk7dmFyIHI9dGhpcy50cmFuc2Zvcm0sYT10aGlzLmdldFpvb20oKSxuPXRoaXMuZ2V0QmVhcmluZygpLHM9dGhpcy5nZXRQaXRjaCgpLGw9dGhpcy5nZXRQYWRkaW5nKCksYz0iem9vbSJpbiBlPytlLnpvb206YSx1PSJiZWFyaW5nImluIGU/dGhpcy5fbm9ybWFsaXplQmVhcmluZyhlLmJlYXJpbmcsbik6bixoPSJwaXRjaCJpbiBlPytlLnBpdGNoOnMscD0icGFkZGluZyJpbiBlP2UucGFkZGluZzpyLnBhZGRpbmcsZD10LlBvaW50LmNvbnZlcnQoZS5vZmZzZXQpLF89ci5jZW50ZXJQb2ludC5hZGQoZCksZj1yLnBvaW50TG9jYXRpb24oXyksbT10LkxuZ0xhdC5jb252ZXJ0KGUuY2VudGVyfHxmKTt0aGlzLl9ub3JtYWxpemVDZW50ZXIobSk7dmFyIGcsdix5PXIucHJvamVjdChmKSx4PXIucHJvamVjdChtKS5zdWIoeSksYj1yLnpvb21TY2FsZShjLWEpO2UuYXJvdW5kJiYoZz10LkxuZ0xhdC5jb252ZXJ0KGUuYXJvdW5kKSx2PXIubG9jYXRpb25Qb2ludChnKSk7dmFyIHc9e21vdmluZzp0aGlzLl9tb3Zpbmcsem9vbWluZzp0aGlzLl96b29taW5nLHJvdGF0aW5nOnRoaXMuX3JvdGF0aW5nLHBpdGNoaW5nOnRoaXMuX3BpdGNoaW5nfTtyZXR1cm4gdGhpcy5fem9vbWluZz10aGlzLl96b29taW5nfHxjIT09YSx0aGlzLl9yb3RhdGluZz10aGlzLl9yb3RhdGluZ3x8biE9PXUsdGhpcy5fcGl0Y2hpbmc9dGhpcy5fcGl0Y2hpbmd8fGghPT1zLHRoaXMuX3BhZGRpbmc9IXIuaXNQYWRkaW5nRXF1YWwocCksdGhpcy5fZWFzZUlkPWUuZWFzZUlkLHRoaXMuX3ByZXBhcmVFYXNlKGksZS5ub01vdmVTdGFydCx3KSxjbGVhclRpbWVvdXQodGhpcy5fZWFzZUVuZFRpbWVvdXRJRCksdGhpcy5fZWFzZSgoZnVuY3Rpb24oZSl7aWYoby5fem9vbWluZyYmKHIuem9vbT10Lm51bWJlcihhLGMsZSkpLG8uX3JvdGF0aW5nJiYoci5iZWFyaW5nPXQubnVtYmVyKG4sdSxlKSksby5fcGl0Y2hpbmcmJihyLnBpdGNoPXQubnVtYmVyKHMsaCxlKSksby5fcGFkZGluZyYmKHIuaW50ZXJwb2xhdGVQYWRkaW5nKGwscCxlKSxfPXIuY2VudGVyUG9pbnQuYWRkKGQpKSxnKXIuc2V0TG9jYXRpb25BdFBvaW50KGcsdik7ZWxzZSB7dmFyIGY9ci56b29tU2NhbGUoci56b29tLWEpLG09Yz5hP01hdGgubWluKDIsYik6TWF0aC5tYXgoLjUsYiksdz1NYXRoLnBvdyhtLDEtZSksVD1yLnVucHJvamVjdCh5LmFkZCh4Lm11bHQoZSp3KSkubXVsdChmKSk7ci5zZXRMb2NhdGlvbkF0UG9pbnQoci5yZW5kZXJXb3JsZENvcGllcz9ULndyYXAoKTpULF8pO31vLl9maXJlTW92ZUV2ZW50cyhpKTt9KSwoZnVuY3Rpb24odCl7by5fYWZ0ZXJFYXNlKGksdCk7fSksZSksdGhpc30saS5wcm90b3R5cGUuX3ByZXBhcmVFYXNlPWZ1bmN0aW9uKGUsaSxvKXt2b2lkIDA9PT1vJiYobz17fSksdGhpcy5fbW92aW5nPSEwLGl8fG8ubW92aW5nfHx0aGlzLmZpcmUobmV3IHQuRXZlbnQoIm1vdmVzdGFydCIsZSkpLHRoaXMuX3pvb21pbmcmJiFvLnpvb21pbmcmJnRoaXMuZmlyZShuZXcgdC5FdmVudCgiem9vbXN0YXJ0IixlKSksdGhpcy5fcm90YXRpbmcmJiFvLnJvdGF0aW5nJiZ0aGlzLmZpcmUobmV3IHQuRXZlbnQoInJvdGF0ZXN0YXJ0IixlKSksdGhpcy5fcGl0Y2hpbmcmJiFvLnBpdGNoaW5nJiZ0aGlzLmZpcmUobmV3IHQuRXZlbnQoInBpdGNoc3RhcnQiLGUpKTt9LGkucHJvdG90eXBlLl9maXJlTW92ZUV2ZW50cz1mdW5jdGlvbihlKXt0aGlzLmZpcmUobmV3IHQuRXZlbnQoIm1vdmUiLGUpKSx0aGlzLl96b29taW5nJiZ0aGlzLmZpcmUobmV3IHQuRXZlbnQoInpvb20iLGUpKSx0aGlzLl9yb3RhdGluZyYmdGhpcy5maXJlKG5ldyB0LkV2ZW50KCJyb3RhdGUiLGUpKSx0aGlzLl9waXRjaGluZyYmdGhpcy5maXJlKG5ldyB0LkV2ZW50KCJwaXRjaCIsZSkpO30saS5wcm90b3R5cGUuX2FmdGVyRWFzZT1mdW5jdGlvbihlLGkpe2lmKCF0aGlzLl9lYXNlSWR8fCFpfHx0aGlzLl9lYXNlSWQhPT1pKXtkZWxldGUgdGhpcy5fZWFzZUlkO3ZhciBvPXRoaXMuX3pvb21pbmcscj10aGlzLl9yb3RhdGluZyxhPXRoaXMuX3BpdGNoaW5nO3RoaXMuX21vdmluZz0hMSx0aGlzLl96b29taW5nPSExLHRoaXMuX3JvdGF0aW5nPSExLHRoaXMuX3BpdGNoaW5nPSExLHRoaXMuX3BhZGRpbmc9ITEsbyYmdGhpcy5maXJlKG5ldyB0LkV2ZW50KCJ6b29tZW5kIixlKSksciYmdGhpcy5maXJlKG5ldyB0LkV2ZW50KCJyb3RhdGVlbmQiLGUpKSxhJiZ0aGlzLmZpcmUobmV3IHQuRXZlbnQoInBpdGNoZW5kIixlKSksdGhpcy5maXJlKG5ldyB0LkV2ZW50KCJtb3ZlZW5kIixlKSk7fX0saS5wcm90b3R5cGUuZmx5VG89ZnVuY3Rpb24oZSxpKXt2YXIgbz10aGlzO2lmKCFlLmVzc2VudGlhbCYmdC5icm93c2VyLnByZWZlcnNSZWR1Y2VkTW90aW9uKXt2YXIgcj10LnBpY2soZSxbImNlbnRlciIsInpvb20iLCJiZWFyaW5nIiwicGl0Y2giLCJhcm91bmQiXSk7cmV0dXJuIHRoaXMuanVtcFRvKHIsaSl9dGhpcy5zdG9wKCksZT10LmV4dGVuZCh7b2Zmc2V0OlswLDBdLHNwZWVkOjEuMixjdXJ2ZToxLjQyLGVhc2luZzp0LmVhc2V9LGUpO3ZhciBhPXRoaXMudHJhbnNmb3JtLG49dGhpcy5nZXRab29tKCkscz10aGlzLmdldEJlYXJpbmcoKSxsPXRoaXMuZ2V0UGl0Y2goKSxjPXRoaXMuZ2V0UGFkZGluZygpLHU9Inpvb20iaW4gZT90LmNsYW1wKCtlLnpvb20sYS5taW5ab29tLGEubWF4Wm9vbSk6bixoPSJiZWFyaW5nImluIGU/dGhpcy5fbm9ybWFsaXplQmVhcmluZyhlLmJlYXJpbmcscyk6cyxwPSJwaXRjaCJpbiBlPytlLnBpdGNoOmwsZD0icGFkZGluZyJpbiBlP2UucGFkZGluZzphLnBhZGRpbmcsXz1hLnpvb21TY2FsZSh1LW4pLGY9dC5Qb2ludC5jb252ZXJ0KGUub2Zmc2V0KSxtPWEuY2VudGVyUG9pbnQuYWRkKGYpLGc9YS5wb2ludExvY2F0aW9uKG0pLHY9dC5MbmdMYXQuY29udmVydChlLmNlbnRlcnx8Zyk7dGhpcy5fbm9ybWFsaXplQ2VudGVyKHYpO3ZhciB5PWEucHJvamVjdChnKSx4PWEucHJvamVjdCh2KS5zdWIoeSksYj1lLmN1cnZlLHc9TWF0aC5tYXgoYS53aWR0aCxhLmhlaWdodCksVD13L18sRT14Lm1hZygpO2lmKCJtaW5ab29tImluIGUpe3ZhciBJPXQuY2xhbXAoTWF0aC5taW4oZS5taW5ab29tLG4sdSksYS5taW5ab29tLGEubWF4Wm9vbSksUD13L2Euem9vbVNjYWxlKEktbik7Yj1NYXRoLnNxcnQoUC9FKjIpO312YXIgUz1iKmI7ZnVuY3Rpb24gQyh0KXt2YXIgZT0oVCpULXcqdysodD8tMToxKSpTKlMqRSpFKS8oMioodD9UOncpKlMqRSk7cmV0dXJuIE1hdGgubG9nKE1hdGguc3FydChlKmUrMSktZSl9ZnVuY3Rpb24geih0KXtyZXR1cm4gKE1hdGguZXhwKHQpLU1hdGguZXhwKC10KSkvMn1mdW5jdGlvbiBEKHQpe3JldHVybiAoTWF0aC5leHAodCkrTWF0aC5leHAoLXQpKS8yfXZhciBNPUMoMCksQT1mdW5jdGlvbih0KXtyZXR1cm4gRChNKS9EKE0rYip0KX0sTD1mdW5jdGlvbih0KXtyZXR1cm4gdyooKEQoTSkqKHooZT1NK2IqdCkvRChlKSkteihNKSkvUykvRTt2YXIgZTt9LFI9KEMoMSktTSkvYjtpZihNYXRoLmFicyhFKTwxZS02fHwhaXNGaW5pdGUoUikpe2lmKE1hdGguYWJzKHctVCk8MWUtNilyZXR1cm4gdGhpcy5lYXNlVG8oZSxpKTt2YXIgaz1UPHc/LTE6MTtSPU1hdGguYWJzKE1hdGgubG9nKFQvdykpL2IsTD1mdW5jdGlvbigpe3JldHVybiAwfSxBPWZ1bmN0aW9uKHQpe3JldHVybiBNYXRoLmV4cChrKmIqdCl9O31yZXR1cm4gZS5kdXJhdGlvbj0iZHVyYXRpb24iaW4gZT8rZS5kdXJhdGlvbjoxZTMqUi8oInNjcmVlblNwZWVkImluIGU/K2Uuc2NyZWVuU3BlZWQvYjorZS5zcGVlZCksZS5tYXhEdXJhdGlvbiYmZS5kdXJhdGlvbj5lLm1heER1cmF0aW9uJiYoZS5kdXJhdGlvbj0wKSx0aGlzLl96b29taW5nPSEwLHRoaXMuX3JvdGF0aW5nPXMhPT1oLHRoaXMuX3BpdGNoaW5nPXAhPT1sLHRoaXMuX3BhZGRpbmc9IWEuaXNQYWRkaW5nRXF1YWwoZCksdGhpcy5fcHJlcGFyZUVhc2UoaSwhMSksdGhpcy5fZWFzZSgoZnVuY3Rpb24oZSl7dmFyIHI9ZSpSLF89MS9BKHIpO2Euem9vbT0xPT09ZT91Om4rYS5zY2FsZVpvb20oXyksby5fcm90YXRpbmcmJihhLmJlYXJpbmc9dC5udW1iZXIocyxoLGUpKSxvLl9waXRjaGluZyYmKGEucGl0Y2g9dC5udW1iZXIobCxwLGUpKSxvLl9wYWRkaW5nJiYoYS5pbnRlcnBvbGF0ZVBhZGRpbmcoYyxkLGUpLG09YS5jZW50ZXJQb2ludC5hZGQoZikpO3ZhciBnPTE9PT1lP3Y6YS51bnByb2plY3QoeS5hZGQoeC5tdWx0KEwocikpKS5tdWx0KF8pKTthLnNldExvY2F0aW9uQXRQb2ludChhLnJlbmRlcldvcmxkQ29waWVzP2cud3JhcCgpOmcsbSksby5fZmlyZU1vdmVFdmVudHMoaSk7fSksKGZ1bmN0aW9uKCl7cmV0dXJuIG8uX2FmdGVyRWFzZShpKX0pLGUpLHRoaXN9LGkucHJvdG90eXBlLmlzRWFzaW5nPWZ1bmN0aW9uKCl7cmV0dXJuICEhdGhpcy5fZWFzZUZyYW1lSWR9LGkucHJvdG90eXBlLnN0b3A9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3RvcCgpfSxpLnByb3RvdHlwZS5fc3RvcD1mdW5jdGlvbih0LGUpe2lmKHRoaXMuX2Vhc2VGcmFtZUlkJiYodGhpcy5fY2FuY2VsUmVuZGVyRnJhbWUodGhpcy5fZWFzZUZyYW1lSWQpLGRlbGV0ZSB0aGlzLl9lYXNlRnJhbWVJZCxkZWxldGUgdGhpcy5fb25FYXNlRnJhbWUpLHRoaXMuX29uRWFzZUVuZCl7dmFyIGk9dGhpcy5fb25FYXNlRW5kO2RlbGV0ZSB0aGlzLl9vbkVhc2VFbmQsaS5jYWxsKHRoaXMsZSk7fWlmKCF0KXt2YXIgbz10aGlzLmhhbmRsZXJzO28mJm8uc3RvcCgpO31yZXR1cm4gdGhpc30saS5wcm90b3R5cGUuX2Vhc2U9ZnVuY3Rpb24oZSxpLG8peyExPT09by5hbmltYXRlfHwwPT09by5kdXJhdGlvbj8oZSgxKSxpKCkpOih0aGlzLl9lYXNlU3RhcnQ9dC5icm93c2VyLm5vdygpLHRoaXMuX2Vhc2VPcHRpb25zPW8sdGhpcy5fb25FYXNlRnJhbWU9ZSx0aGlzLl9vbkVhc2VFbmQ9aSx0aGlzLl9lYXNlRnJhbWVJZD10aGlzLl9yZXF1ZXN0UmVuZGVyRnJhbWUodGhpcy5fcmVuZGVyRnJhbWVDYWxsYmFjaykpO30saS5wcm90b3R5cGUuX3JlbmRlckZyYW1lQ2FsbGJhY2s9ZnVuY3Rpb24oKXt2YXIgZT1NYXRoLm1pbigodC5icm93c2VyLm5vdygpLXRoaXMuX2Vhc2VTdGFydCkvdGhpcy5fZWFzZU9wdGlvbnMuZHVyYXRpb24sMSk7dGhpcy5fb25FYXNlRnJhbWUodGhpcy5fZWFzZU9wdGlvbnMuZWFzaW5nKGUpKSxlPDE/dGhpcy5fZWFzZUZyYW1lSWQ9dGhpcy5fcmVxdWVzdFJlbmRlckZyYW1lKHRoaXMuX3JlbmRlckZyYW1lQ2FsbGJhY2spOnRoaXMuc3RvcCgpO30saS5wcm90b3R5cGUuX25vcm1hbGl6ZUJlYXJpbmc9ZnVuY3Rpb24oZSxpKXtlPXQud3JhcChlLC0xODAsMTgwKTt2YXIgbz1NYXRoLmFicyhlLWkpO3JldHVybiBNYXRoLmFicyhlLTM2MC1pKTxvJiYoZS09MzYwKSxNYXRoLmFicyhlKzM2MC1pKTxvJiYoZSs9MzYwKSxlfSxpLnByb3RvdHlwZS5fbm9ybWFsaXplQ2VudGVyPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMudHJhbnNmb3JtO2lmKGUucmVuZGVyV29ybGRDb3BpZXMmJiFlLmxuZ1JhbmdlKXt2YXIgaT10LmxuZy1lLmNlbnRlci5sbmc7dC5sbmcrPWk+MTgwPy0zNjA6aTwtMTgwPzM2MDowO319LGl9KHQuRXZlbnRlZCksZ3I9ZnVuY3Rpb24oZSl7dm9pZCAwPT09ZSYmKGU9e30pLHRoaXMub3B0aW9ucz1lLHQuYmluZEFsbChbIl91cGRhdGVFZGl0TGluayIsIl91cGRhdGVEYXRhIiwiX3VwZGF0ZUNvbXBhY3QiXSx0aGlzKTt9O2dyLnByb3RvdHlwZS5nZXREZWZhdWx0UG9zaXRpb249ZnVuY3Rpb24oKXtyZXR1cm4gImJvdHRvbS1yaWdodCJ9LGdyLnByb3RvdHlwZS5vbkFkZD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLm9wdGlvbnMmJnRoaXMub3B0aW9ucy5jb21wYWN0O3JldHVybiB0aGlzLl9tYXA9dCx0aGlzLl9jb250YWluZXI9aS5jcmVhdGUoImRpdiIsIm1hcGJveGdsLWN0cmwgbWFwYm94Z2wtY3RybC1hdHRyaWIiKSx0aGlzLl9pbm5lckNvbnRhaW5lcj1pLmNyZWF0ZSgiZGl2IiwibWFwYm94Z2wtY3RybC1hdHRyaWItaW5uZXIiLHRoaXMuX2NvbnRhaW5lciksZSYmdGhpcy5fY29udGFpbmVyLmNsYXNzTGlzdC5hZGQoIm1hcGJveGdsLWNvbXBhY3QiKSx0aGlzLl91cGRhdGVBdHRyaWJ1dGlvbnMoKSx0aGlzLl91cGRhdGVFZGl0TGluaygpLHRoaXMuX21hcC5vbigic3R5bGVkYXRhIix0aGlzLl91cGRhdGVEYXRhKSx0aGlzLl9tYXAub24oInNvdXJjZWRhdGEiLHRoaXMuX3VwZGF0ZURhdGEpLHRoaXMuX21hcC5vbigibW92ZWVuZCIsdGhpcy5fdXBkYXRlRWRpdExpbmspLHZvaWQgMD09PWUmJih0aGlzLl9tYXAub24oInJlc2l6ZSIsdGhpcy5fdXBkYXRlQ29tcGFjdCksdGhpcy5fdXBkYXRlQ29tcGFjdCgpKSx0aGlzLl9jb250YWluZXJ9LGdyLnByb3RvdHlwZS5vblJlbW92ZT1mdW5jdGlvbigpe2kucmVtb3ZlKHRoaXMuX2NvbnRhaW5lciksdGhpcy5fbWFwLm9mZigic3R5bGVkYXRhIix0aGlzLl91cGRhdGVEYXRhKSx0aGlzLl9tYXAub2ZmKCJzb3VyY2VkYXRhIix0aGlzLl91cGRhdGVEYXRhKSx0aGlzLl9tYXAub2ZmKCJtb3ZlZW5kIix0aGlzLl91cGRhdGVFZGl0TGluayksdGhpcy5fbWFwLm9mZigicmVzaXplIix0aGlzLl91cGRhdGVDb21wYWN0KSx0aGlzLl9tYXA9dm9pZCAwLHRoaXMuX2F0dHJpYkhUTUw9dm9pZCAwO30sZ3IucHJvdG90eXBlLl91cGRhdGVFZGl0TGluaz1mdW5jdGlvbigpe3ZhciBlPXRoaXMuX2VkaXRMaW5rO2V8fChlPXRoaXMuX2VkaXRMaW5rPXRoaXMuX2NvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCIubWFwYm94LWltcHJvdmUtbWFwIikpO3ZhciBpPVt7a2V5OiJvd25lciIsdmFsdWU6dGhpcy5zdHlsZU93bmVyfSx7a2V5OiJpZCIsdmFsdWU6dGhpcy5zdHlsZUlkfSx7a2V5OiJhY2Nlc3NfdG9rZW4iLHZhbHVlOnRoaXMuX21hcC5fcmVxdWVzdE1hbmFnZXIuX2N1c3RvbUFjY2Vzc1Rva2VufHx0LmNvbmZpZy5BQ0NFU1NfVE9LRU59XTtpZihlKXt2YXIgbz1pLnJlZHVjZSgoZnVuY3Rpb24odCxlLG8pe3JldHVybiBlLnZhbHVlJiYodCs9ZS5rZXkrIj0iK2UudmFsdWUrKG88aS5sZW5ndGgtMT8iJiI6IiIpKSx0fSksIj8iKTtlLmhyZWY9dC5jb25maWcuRkVFREJBQ0tfVVJMKyIvIitvKyh0aGlzLl9tYXAuX2hhc2g/dGhpcy5fbWFwLl9oYXNoLmdldEhhc2hTdHJpbmcoITApOiIiKSxlLnJlbD0ibm9vcGVuZXIgbm9mb2xsb3ciO319LGdyLnByb3RvdHlwZS5fdXBkYXRlRGF0YT1mdW5jdGlvbih0KXshdHx8Im1ldGFkYXRhIiE9PXQuc291cmNlRGF0YVR5cGUmJiJzdHlsZSIhPT10LmRhdGFUeXBlfHwodGhpcy5fdXBkYXRlQXR0cmlidXRpb25zKCksdGhpcy5fdXBkYXRlRWRpdExpbmsoKSk7fSxnci5wcm90b3R5cGUuX3VwZGF0ZUF0dHJpYnV0aW9ucz1mdW5jdGlvbigpe2lmKHRoaXMuX21hcC5zdHlsZSl7dmFyIHQ9W107aWYodGhpcy5vcHRpb25zLmN1c3RvbUF0dHJpYnV0aW9uJiYoQXJyYXkuaXNBcnJheSh0aGlzLm9wdGlvbnMuY3VzdG9tQXR0cmlidXRpb24pP3Q9dC5jb25jYXQodGhpcy5vcHRpb25zLmN1c3RvbUF0dHJpYnV0aW9uLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuICJzdHJpbmciIT10eXBlb2YgdD8iIjp0fSkpKToic3RyaW5nIj09dHlwZW9mIHRoaXMub3B0aW9ucy5jdXN0b21BdHRyaWJ1dGlvbiYmdC5wdXNoKHRoaXMub3B0aW9ucy5jdXN0b21BdHRyaWJ1dGlvbikpLHRoaXMuX21hcC5zdHlsZS5zdHlsZXNoZWV0KXt2YXIgZT10aGlzLl9tYXAuc3R5bGUuc3R5bGVzaGVldDt0aGlzLnN0eWxlT3duZXI9ZS5vd25lcix0aGlzLnN0eWxlSWQ9ZS5pZDt9dmFyIGk9dGhpcy5fbWFwLnN0eWxlLnNvdXJjZUNhY2hlcztmb3IodmFyIG8gaW4gaSl7dmFyIHI9aVtvXTtpZihyLnVzZWQpe3ZhciBhPXIuZ2V0U291cmNlKCk7YS5hdHRyaWJ1dGlvbiYmdC5pbmRleE9mKGEuYXR0cmlidXRpb24pPDAmJnQucHVzaChhLmF0dHJpYnV0aW9uKTt9fXQuc29ydCgoZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5sZW5ndGgtZS5sZW5ndGh9KSk7dmFyIG49KHQ9dC5maWx0ZXIoKGZ1bmN0aW9uKGUsaSl7Zm9yKHZhciBvPWkrMTtvPHQubGVuZ3RoO28rKylpZih0W29dLmluZGV4T2YoZSk+PTApcmV0dXJuICExO3JldHVybiAhMH0pKSkuam9pbigiIHwgIik7biE9PXRoaXMuX2F0dHJpYkhUTUwmJih0aGlzLl9hdHRyaWJIVE1MPW4sdC5sZW5ndGg/KHRoaXMuX2lubmVyQ29udGFpbmVyLmlubmVySFRNTD1uLHRoaXMuX2NvbnRhaW5lci5jbGFzc0xpc3QucmVtb3ZlKCJtYXBib3hnbC1hdHRyaWItZW1wdHkiKSk6dGhpcy5fY29udGFpbmVyLmNsYXNzTGlzdC5hZGQoIm1hcGJveGdsLWF0dHJpYi1lbXB0eSIpLHRoaXMuX2VkaXRMaW5rPW51bGwpO319LGdyLnByb3RvdHlwZS5fdXBkYXRlQ29tcGFjdD1mdW5jdGlvbigpe3RoaXMuX21hcC5nZXRDYW52YXNDb250YWluZXIoKS5vZmZzZXRXaWR0aDw9NjQwP3RoaXMuX2NvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCJtYXBib3hnbC1jb21wYWN0Iik6dGhpcy5fY29udGFpbmVyLmNsYXNzTGlzdC5yZW1vdmUoIm1hcGJveGdsLWNvbXBhY3QiKTt9O3ZhciB2cj1mdW5jdGlvbigpe3QuYmluZEFsbChbIl91cGRhdGVMb2dvIl0sdGhpcyksdC5iaW5kQWxsKFsiX3VwZGF0ZUNvbXBhY3QiXSx0aGlzKTt9O3ZyLnByb3RvdHlwZS5vbkFkZD1mdW5jdGlvbih0KXt0aGlzLl9tYXA9dCx0aGlzLl9jb250YWluZXI9aS5jcmVhdGUoImRpdiIsIm1hcGJveGdsLWN0cmwiKTt2YXIgZT1pLmNyZWF0ZSgiYSIsIm1hcGJveGdsLWN0cmwtbG9nbyIpO3JldHVybiBlLnRhcmdldD0iX2JsYW5rIixlLnJlbD0ibm9vcGVuZXIgbm9mb2xsb3ciLGUuaHJlZj0iaHR0cHM6Ly93d3cubWFwYm94LmNvbS8iLGUuc2V0QXR0cmlidXRlKCJhcmlhLWxhYmVsIix0aGlzLl9tYXAuX2dldFVJU3RyaW5nKCJMb2dvQ29udHJvbC5UaXRsZSIpKSxlLnNldEF0dHJpYnV0ZSgicmVsIiwibm9vcGVuZXIgbm9mb2xsb3ciKSx0aGlzLl9jb250YWluZXIuYXBwZW5kQ2hpbGQoZSksdGhpcy5fY29udGFpbmVyLnN0eWxlLmRpc3BsYXk9Im5vbmUiLHRoaXMuX21hcC5vbigic291cmNlZGF0YSIsdGhpcy5fdXBkYXRlTG9nbyksdGhpcy5fdXBkYXRlTG9nbygpLHRoaXMuX21hcC5vbigicmVzaXplIix0aGlzLl91cGRhdGVDb21wYWN0KSx0aGlzLl91cGRhdGVDb21wYWN0KCksdGhpcy5fY29udGFpbmVyfSx2ci5wcm90b3R5cGUub25SZW1vdmU9ZnVuY3Rpb24oKXtpLnJlbW92ZSh0aGlzLl9jb250YWluZXIpLHRoaXMuX21hcC5vZmYoInNvdXJjZWRhdGEiLHRoaXMuX3VwZGF0ZUxvZ28pLHRoaXMuX21hcC5vZmYoInJlc2l6ZSIsdGhpcy5fdXBkYXRlQ29tcGFjdCk7fSx2ci5wcm90b3R5cGUuZ2V0RGVmYXVsdFBvc2l0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuICJib3R0b20tbGVmdCJ9LHZyLnByb3RvdHlwZS5fdXBkYXRlTG9nbz1mdW5jdGlvbih0KXt0JiYibWV0YWRhdGEiIT09dC5zb3VyY2VEYXRhVHlwZXx8KHRoaXMuX2NvbnRhaW5lci5zdHlsZS5kaXNwbGF5PXRoaXMuX2xvZ29SZXF1aXJlZCgpPyJibG9jayI6Im5vbmUiKTt9LHZyLnByb3RvdHlwZS5fbG9nb1JlcXVpcmVkPWZ1bmN0aW9uKCl7aWYodGhpcy5fbWFwLnN0eWxlKXt2YXIgdD10aGlzLl9tYXAuc3R5bGUuc291cmNlQ2FjaGVzO2Zvcih2YXIgZSBpbiB0KWlmKHRbZV0uZ2V0U291cmNlKCkubWFwYm94X2xvZ28pcmV0dXJuICEwO3JldHVybiAhMX19LHZyLnByb3RvdHlwZS5fdXBkYXRlQ29tcGFjdD1mdW5jdGlvbigpe3ZhciB0PXRoaXMuX2NvbnRhaW5lci5jaGlsZHJlbjtpZih0Lmxlbmd0aCl7dmFyIGU9dFswXTt0aGlzLl9tYXAuZ2V0Q2FudmFzQ29udGFpbmVyKCkub2Zmc2V0V2lkdGg8MjUwP2UuY2xhc3NMaXN0LmFkZCgibWFwYm94Z2wtY29tcGFjdCIpOmUuY2xhc3NMaXN0LnJlbW92ZSgibWFwYm94Z2wtY29tcGFjdCIpO319O3ZhciB5cj1mdW5jdGlvbigpe3RoaXMuX3F1ZXVlPVtdLHRoaXMuX2lkPTAsdGhpcy5fY2xlYXJlZD0hMSx0aGlzLl9jdXJyZW50bHlSdW5uaW5nPSExO307eXIucHJvdG90eXBlLmFkZD1mdW5jdGlvbih0KXt2YXIgZT0rK3RoaXMuX2lkO3JldHVybiB0aGlzLl9xdWV1ZS5wdXNoKHtjYWxsYmFjazp0LGlkOmUsY2FuY2VsbGVkOiExfSksZX0seXIucHJvdG90eXBlLnJlbW92ZT1mdW5jdGlvbih0KXtmb3IodmFyIGU9dGhpcy5fY3VycmVudGx5UnVubmluZyxpPTAsbz1lP3RoaXMuX3F1ZXVlLmNvbmNhdChlKTp0aGlzLl9xdWV1ZTtpPG8ubGVuZ3RoO2krPTEpe3ZhciByPW9baV07aWYoci5pZD09PXQpcmV0dXJuIHZvaWQoci5jYW5jZWxsZWQ9ITApfX0seXIucHJvdG90eXBlLnJ1bj1mdW5jdGlvbih0KXt2b2lkIDA9PT10JiYodD0wKTt2YXIgZT10aGlzLl9jdXJyZW50bHlSdW5uaW5nPXRoaXMuX3F1ZXVlO3RoaXMuX3F1ZXVlPVtdO2Zvcih2YXIgaT0wLG89ZTtpPG8ubGVuZ3RoO2krPTEpe3ZhciByPW9baV07aWYoIXIuY2FuY2VsbGVkJiYoci5jYWxsYmFjayh0KSx0aGlzLl9jbGVhcmVkKSlicmVha310aGlzLl9jbGVhcmVkPSExLHRoaXMuX2N1cnJlbnRseVJ1bm5pbmc9ITE7fSx5ci5wcm90b3R5cGUuY2xlYXI9ZnVuY3Rpb24oKXt0aGlzLl9jdXJyZW50bHlSdW5uaW5nJiYodGhpcy5fY2xlYXJlZD0hMCksdGhpcy5fcXVldWU9W107fTt2YXIgeHI9eyJGdWxsc2NyZWVuQ29udHJvbC5FbnRlciI6IkVudGVyIGZ1bGxzY3JlZW4iLCJGdWxsc2NyZWVuQ29udHJvbC5FeGl0IjoiRXhpdCBmdWxsc2NyZWVuIiwiR2VvbG9jYXRlQ29udHJvbC5GaW5kTXlMb2NhdGlvbiI6IkZpbmQgbXkgbG9jYXRpb24iLCJHZW9sb2NhdGVDb250cm9sLkxvY2F0aW9uTm90QXZhaWxhYmxlIjoiTG9jYXRpb24gbm90IGF2YWlsYWJsZSIsIkxvZ29Db250cm9sLlRpdGxlIjoiTWFwYm94IGxvZ28iLCJOYXZpZ2F0aW9uQ29udHJvbC5SZXNldEJlYXJpbmciOiJSZXNldCBiZWFyaW5nIHRvIG5vcnRoIiwiTmF2aWdhdGlvbkNvbnRyb2wuWm9vbUluIjoiWm9vbSBpbiIsIk5hdmlnYXRpb25Db250cm9sLlpvb21PdXQiOiJab29tIG91dCIsIlNjYWxlQ29udHJvbC5GZWV0IjoiZnQiLCJTY2FsZUNvbnRyb2wuTWV0ZXJzIjoibSIsIlNjYWxlQ29udHJvbC5LaWxvbWV0ZXJzIjoia20iLCJTY2FsZUNvbnRyb2wuTWlsZXMiOiJtaSIsIlNjYWxlQ29udHJvbC5OYXV0aWNhbE1pbGVzIjoibm0ifSxicj10LndpbmRvdy5IVE1MSW1hZ2VFbGVtZW50LHdyPXQud2luZG93LkhUTUxFbGVtZW50LFRyPXQud2luZG93LkltYWdlQml0bWFwLEVyPXtjZW50ZXI6WzAsMF0sem9vbTowLGJlYXJpbmc6MCxwaXRjaDowLG1pblpvb206LTIsbWF4Wm9vbToyMixtaW5QaXRjaDowLG1heFBpdGNoOjYwLGludGVyYWN0aXZlOiEwLHNjcm9sbFpvb206ITAsYm94Wm9vbTohMCxkcmFnUm90YXRlOiEwLGRyYWdQYW46ITAsa2V5Ym9hcmQ6ITAsZG91YmxlQ2xpY2tab29tOiEwLHRvdWNoWm9vbVJvdGF0ZTohMCx0b3VjaFBpdGNoOiEwLGJlYXJpbmdTbmFwOjcsY2xpY2tUb2xlcmFuY2U6MyxwaXRjaFdpdGhSb3RhdGU6ITAsaGFzaDohMSxhdHRyaWJ1dGlvbkNvbnRyb2w6ITAsZmFpbElmTWFqb3JQZXJmb3JtYW5jZUNhdmVhdDohMSxwcmVzZXJ2ZURyYXdpbmdCdWZmZXI6ITEsdHJhY2tSZXNpemU6ITAscmVuZGVyV29ybGRDb3BpZXM6ITAscmVmcmVzaEV4cGlyZWRUaWxlczohMCxtYXhUaWxlQ2FjaGVTaXplOm51bGwsbG9jYWxJZGVvZ3JhcGhGb250RmFtaWx5OiJzYW5zLXNlcmlmIix0cmFuc2Zvcm1SZXF1ZXN0Om51bGwsYWNjZXNzVG9rZW46bnVsbCxmYWRlRHVyYXRpb246MzAwLGNyb3NzU291cmNlQ29sbGlzaW9uczohMH0sSXI9ZnVuY3Rpb24obyl7ZnVuY3Rpb24gcihlKXt2YXIgaT10aGlzO2lmKG51bGwhPShlPXQuZXh0ZW5kKHt9LEVyLGUpKS5taW5ab29tJiZudWxsIT1lLm1heFpvb20mJmUubWluWm9vbT5lLm1heFpvb20pdGhyb3cgbmV3IEVycm9yKCJtYXhab29tIG11c3QgYmUgZ3JlYXRlciB0aGFuIG9yIGVxdWFsIHRvIG1pblpvb20iKTtpZihudWxsIT1lLm1pblBpdGNoJiZudWxsIT1lLm1heFBpdGNoJiZlLm1pblBpdGNoPmUubWF4UGl0Y2gpdGhyb3cgbmV3IEVycm9yKCJtYXhQaXRjaCBtdXN0IGJlIGdyZWF0ZXIgdGhhbiBvciBlcXVhbCB0byBtaW5QaXRjaCIpO2lmKG51bGwhPWUubWluUGl0Y2gmJmUubWluUGl0Y2g8MCl0aHJvdyBuZXcgRXJyb3IoIm1pblBpdGNoIG11c3QgYmUgZ3JlYXRlciB0aGFuIG9yIGVxdWFsIHRvIDAiKTtpZihudWxsIT1lLm1heFBpdGNoJiZlLm1heFBpdGNoPjYwKXRocm93IG5ldyBFcnJvcigibWF4UGl0Y2ggbXVzdCBiZSBsZXNzIHRoYW4gb3IgZXF1YWwgdG8gNjAiKTt2YXIgcj1uZXcgd28oZS5taW5ab29tLGUubWF4Wm9vbSxlLm1pblBpdGNoLGUubWF4UGl0Y2gsZS5yZW5kZXJXb3JsZENvcGllcyk7aWYoby5jYWxsKHRoaXMscixlKSx0aGlzLl9pbnRlcmFjdGl2ZT1lLmludGVyYWN0aXZlLHRoaXMuX21heFRpbGVDYWNoZVNpemU9ZS5tYXhUaWxlQ2FjaGVTaXplLHRoaXMuX2ZhaWxJZk1ham9yUGVyZm9ybWFuY2VDYXZlYXQ9ZS5mYWlsSWZNYWpvclBlcmZvcm1hbmNlQ2F2ZWF0LHRoaXMuX3ByZXNlcnZlRHJhd2luZ0J1ZmZlcj1lLnByZXNlcnZlRHJhd2luZ0J1ZmZlcix0aGlzLl9hbnRpYWxpYXM9ZS5hbnRpYWxpYXMsdGhpcy5fdHJhY2tSZXNpemU9ZS50cmFja1Jlc2l6ZSx0aGlzLl9iZWFyaW5nU25hcD1lLmJlYXJpbmdTbmFwLHRoaXMuX3JlZnJlc2hFeHBpcmVkVGlsZXM9ZS5yZWZyZXNoRXhwaXJlZFRpbGVzLHRoaXMuX2ZhZGVEdXJhdGlvbj1lLmZhZGVEdXJhdGlvbix0aGlzLl9jcm9zc1NvdXJjZUNvbGxpc2lvbnM9ZS5jcm9zc1NvdXJjZUNvbGxpc2lvbnMsdGhpcy5fY3Jvc3NGYWRpbmdGYWN0b3I9MSx0aGlzLl9jb2xsZWN0UmVzb3VyY2VUaW1pbmc9ZS5jb2xsZWN0UmVzb3VyY2VUaW1pbmcsdGhpcy5fcmVuZGVyVGFza1F1ZXVlPW5ldyB5cix0aGlzLl9jb250cm9scz1bXSx0aGlzLl9tYXBJZD10LnVuaXF1ZUlkKCksdGhpcy5fbG9jYWxlPXQuZXh0ZW5kKHt9LHhyLGUubG9jYWxlKSx0aGlzLl9yZXF1ZXN0TWFuYWdlcj1uZXcgdC5SZXF1ZXN0TWFuYWdlcihlLnRyYW5zZm9ybVJlcXVlc3QsZS5hY2Nlc3NUb2tlbiksInN0cmluZyI9PXR5cGVvZiBlLmNvbnRhaW5lcil7aWYodGhpcy5fY29udGFpbmVyPXQud2luZG93LmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGUuY29udGFpbmVyKSwhdGhpcy5fY29udGFpbmVyKXRocm93IG5ldyBFcnJvcigiQ29udGFpbmVyICciK2UuY29udGFpbmVyKyInIG5vdCBmb3VuZC4iKX1lbHNlIHtpZighKGUuY29udGFpbmVyIGluc3RhbmNlb2Ygd3IpKXRocm93IG5ldyBFcnJvcigiSW52YWxpZCB0eXBlOiAnY29udGFpbmVyJyBtdXN0IGJlIGEgU3RyaW5nIG9yIEhUTUxFbGVtZW50LiIpO3RoaXMuX2NvbnRhaW5lcj1lLmNvbnRhaW5lcjt9aWYoZS5tYXhCb3VuZHMmJnRoaXMuc2V0TWF4Qm91bmRzKGUubWF4Qm91bmRzKSx0LmJpbmRBbGwoWyJfb25XaW5kb3dPbmxpbmUiLCJfb25XaW5kb3dSZXNpemUiLCJfY29udGV4dExvc3QiLCJfY29udGV4dFJlc3RvcmVkIl0sdGhpcyksdGhpcy5fc2V0dXBDb250YWluZXIoKSx0aGlzLl9zZXR1cFBhaW50ZXIoKSx2b2lkIDA9PT10aGlzLnBhaW50ZXIpdGhyb3cgbmV3IEVycm9yKCJGYWlsZWQgdG8gaW5pdGlhbGl6ZSBXZWJHTC4iKTt0aGlzLm9uKCJtb3ZlIiwoZnVuY3Rpb24oKXtyZXR1cm4gaS5fdXBkYXRlKCExKX0pKSx0aGlzLm9uKCJtb3ZlZW5kIiwoZnVuY3Rpb24oKXtyZXR1cm4gaS5fdXBkYXRlKCExKX0pKSx0aGlzLm9uKCJ6b29tIiwoZnVuY3Rpb24oKXtyZXR1cm4gaS5fdXBkYXRlKCEwKX0pKSx2b2lkIDAhPT10LndpbmRvdyYmKHQud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoIm9ubGluZSIsdGhpcy5fb25XaW5kb3dPbmxpbmUsITEpLHQud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoInJlc2l6ZSIsdGhpcy5fb25XaW5kb3dSZXNpemUsITEpKSx0aGlzLmhhbmRsZXJzPW5ldyBmcih0aGlzLGUpLHRoaXMuX2hhc2g9ZS5oYXNoJiZuZXcgRW8oInN0cmluZyI9PXR5cGVvZiBlLmhhc2gmJmUuaGFzaHx8dm9pZCAwKS5hZGRUbyh0aGlzKSx0aGlzLl9oYXNoJiZ0aGlzLl9oYXNoLl9vbkhhc2hDaGFuZ2UoKXx8KHRoaXMuanVtcFRvKHtjZW50ZXI6ZS5jZW50ZXIsem9vbTplLnpvb20sYmVhcmluZzplLmJlYXJpbmcscGl0Y2g6ZS5waXRjaH0pLGUuYm91bmRzJiYodGhpcy5yZXNpemUoKSx0aGlzLmZpdEJvdW5kcyhlLmJvdW5kcyx0LmV4dGVuZCh7fSxlLmZpdEJvdW5kc09wdGlvbnMse2R1cmF0aW9uOjB9KSkpKSx0aGlzLnJlc2l6ZSgpLHRoaXMuX2xvY2FsSWRlb2dyYXBoRm9udEZhbWlseT1lLmxvY2FsSWRlb2dyYXBoRm9udEZhbWlseSxlLnN0eWxlJiZ0aGlzLnNldFN0eWxlKGUuc3R5bGUse2xvY2FsSWRlb2dyYXBoRm9udEZhbWlseTplLmxvY2FsSWRlb2dyYXBoRm9udEZhbWlseX0pLGUuYXR0cmlidXRpb25Db250cm9sJiZ0aGlzLmFkZENvbnRyb2wobmV3IGdyKHtjdXN0b21BdHRyaWJ1dGlvbjplLmN1c3RvbUF0dHJpYnV0aW9ufSkpLHRoaXMuYWRkQ29udHJvbChuZXcgdnIsZS5sb2dvUG9zaXRpb24pLHRoaXMub24oInN0eWxlLmxvYWQiLChmdW5jdGlvbigpe2kudHJhbnNmb3JtLnVubW9kaWZpZWQmJmkuanVtcFRvKGkuc3R5bGUuc3R5bGVzaGVldCk7fSkpLHRoaXMub24oImRhdGEiLChmdW5jdGlvbihlKXtpLl91cGRhdGUoInN0eWxlIj09PWUuZGF0YVR5cGUpLGkuZmlyZShuZXcgdC5FdmVudChlLmRhdGFUeXBlKyJkYXRhIixlKSk7fSkpLHRoaXMub24oImRhdGFsb2FkaW5nIiwoZnVuY3Rpb24oZSl7aS5maXJlKG5ldyB0LkV2ZW50KGUuZGF0YVR5cGUrImRhdGFsb2FkaW5nIixlKSk7fSkpO31vJiYoci5fX3Byb3RvX189byksKHIucHJvdG90eXBlPU9iamVjdC5jcmVhdGUobyYmby5wcm90b3R5cGUpKS5jb25zdHJ1Y3Rvcj1yO3ZhciBhPXtzaG93VGlsZUJvdW5kYXJpZXM6e2NvbmZpZ3VyYWJsZTohMH0sc2hvd1BhZGRpbmc6e2NvbmZpZ3VyYWJsZTohMH0sc2hvd0NvbGxpc2lvbkJveGVzOntjb25maWd1cmFibGU6ITB9LHNob3dPdmVyZHJhd0luc3BlY3Rvcjp7Y29uZmlndXJhYmxlOiEwfSxyZXBhaW50Ontjb25maWd1cmFibGU6ITB9LHZlcnRpY2VzOntjb25maWd1cmFibGU6ITB9LHZlcnNpb246e2NvbmZpZ3VyYWJsZTohMH19O3JldHVybiByLnByb3RvdHlwZS5fZ2V0TWFwSWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbWFwSWR9LHIucHJvdG90eXBlLmFkZENvbnRyb2w9ZnVuY3Rpb24oZSxpKXtpZih2b2lkIDA9PT1pJiZlLmdldERlZmF1bHRQb3NpdGlvbiYmKGk9ZS5nZXREZWZhdWx0UG9zaXRpb24oKSksdm9pZCAwPT09aSYmKGk9InRvcC1yaWdodCIpLCFlfHwhZS5vbkFkZClyZXR1cm4gdGhpcy5maXJlKG5ldyB0LkVycm9yRXZlbnQobmV3IEVycm9yKCJJbnZhbGlkIGFyZ3VtZW50IHRvIG1hcC5hZGRDb250cm9sKCkuIEFyZ3VtZW50IG11c3QgYmUgYSBjb250cm9sIHdpdGggb25BZGQgYW5kIG9uUmVtb3ZlIG1ldGhvZHMuIikpKTt2YXIgbz1lLm9uQWRkKHRoaXMpO3RoaXMuX2NvbnRyb2xzLnB1c2goZSk7dmFyIHI9dGhpcy5fY29udHJvbFBvc2l0aW9uc1tpXTtyZXR1cm4gLTEhPT1pLmluZGV4T2YoImJvdHRvbSIpP3IuaW5zZXJ0QmVmb3JlKG8sci5maXJzdENoaWxkKTpyLmFwcGVuZENoaWxkKG8pLHRoaXN9LHIucHJvdG90eXBlLnJlbW92ZUNvbnRyb2w9ZnVuY3Rpb24oZSl7aWYoIWV8fCFlLm9uUmVtb3ZlKXJldHVybiB0aGlzLmZpcmUobmV3IHQuRXJyb3JFdmVudChuZXcgRXJyb3IoIkludmFsaWQgYXJndW1lbnQgdG8gbWFwLnJlbW92ZUNvbnRyb2woKS4gQXJndW1lbnQgbXVzdCBiZSBhIGNvbnRyb2wgd2l0aCBvbkFkZCBhbmQgb25SZW1vdmUgbWV0aG9kcy4iKSkpO3ZhciBpPXRoaXMuX2NvbnRyb2xzLmluZGV4T2YoZSk7cmV0dXJuIGk+LTEmJnRoaXMuX2NvbnRyb2xzLnNwbGljZShpLDEpLGUub25SZW1vdmUodGhpcyksdGhpc30sci5wcm90b3R5cGUucmVzaXplPWZ1bmN0aW9uKGUpe3ZhciBpPXRoaXMuX2NvbnRhaW5lckRpbWVuc2lvbnMoKSxvPWlbMF0scj1pWzFdO3RoaXMuX3Jlc2l6ZUNhbnZhcyhvLHIpLHRoaXMudHJhbnNmb3JtLnJlc2l6ZShvLHIpLHRoaXMucGFpbnRlci5yZXNpemUobyxyKTt2YXIgYT0hdGhpcy5fbW92aW5nO3JldHVybiBhJiYodGhpcy5zdG9wKCksdGhpcy5maXJlKG5ldyB0LkV2ZW50KCJtb3Zlc3RhcnQiLGUpKS5maXJlKG5ldyB0LkV2ZW50KCJtb3ZlIixlKSkpLHRoaXMuZmlyZShuZXcgdC5FdmVudCgicmVzaXplIixlKSksYSYmdGhpcy5maXJlKG5ldyB0LkV2ZW50KCJtb3ZlZW5kIixlKSksdGhpc30sci5wcm90b3R5cGUuZ2V0Qm91bmRzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudHJhbnNmb3JtLmdldEJvdW5kcygpfSxyLnByb3RvdHlwZS5nZXRNYXhCb3VuZHM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50cmFuc2Zvcm0uZ2V0TWF4Qm91bmRzKCl9LHIucHJvdG90eXBlLnNldE1heEJvdW5kcz1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy50cmFuc2Zvcm0uc2V0TWF4Qm91bmRzKHQuTG5nTGF0Qm91bmRzLmNvbnZlcnQoZSkpLHRoaXMuX3VwZGF0ZSgpfSxyLnByb3RvdHlwZS5zZXRNaW5ab29tPWZ1bmN0aW9uKHQpe2lmKCh0PW51bGw9PXQ/LTI6dCk+PS0yJiZ0PD10aGlzLnRyYW5zZm9ybS5tYXhab29tKXJldHVybiB0aGlzLnRyYW5zZm9ybS5taW5ab29tPXQsdGhpcy5fdXBkYXRlKCksdGhpcy5nZXRab29tKCk8dCYmdGhpcy5zZXRab29tKHQpLHRoaXM7dGhyb3cgbmV3IEVycm9yKCJtaW5ab29tIG11c3QgYmUgYmV0d2VlbiAtMiBhbmQgdGhlIGN1cnJlbnQgbWF4Wm9vbSwgaW5jbHVzaXZlIil9LHIucHJvdG90eXBlLmdldE1pblpvb209ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50cmFuc2Zvcm0ubWluWm9vbX0sci5wcm90b3R5cGUuc2V0TWF4Wm9vbT1mdW5jdGlvbih0KXtpZigodD1udWxsPT10PzIyOnQpPj10aGlzLnRyYW5zZm9ybS5taW5ab29tKXJldHVybiB0aGlzLnRyYW5zZm9ybS5tYXhab29tPXQsdGhpcy5fdXBkYXRlKCksdGhpcy5nZXRab29tKCk+dCYmdGhpcy5zZXRab29tKHQpLHRoaXM7dGhyb3cgbmV3IEVycm9yKCJtYXhab29tIG11c3QgYmUgZ3JlYXRlciB0aGFuIHRoZSBjdXJyZW50IG1pblpvb20iKX0sci5wcm90b3R5cGUuZ2V0TWF4Wm9vbT1mdW5jdGlvbigpe3JldHVybiB0aGlzLnRyYW5zZm9ybS5tYXhab29tfSxyLnByb3RvdHlwZS5zZXRNaW5QaXRjaD1mdW5jdGlvbih0KXtpZigodD1udWxsPT10PzA6dCk8MCl0aHJvdyBuZXcgRXJyb3IoIm1pblBpdGNoIG11c3QgYmUgZ3JlYXRlciB0aGFuIG9yIGVxdWFsIHRvIDAiKTtpZih0Pj0wJiZ0PD10aGlzLnRyYW5zZm9ybS5tYXhQaXRjaClyZXR1cm4gdGhpcy50cmFuc2Zvcm0ubWluUGl0Y2g9dCx0aGlzLl91cGRhdGUoKSx0aGlzLmdldFBpdGNoKCk8dCYmdGhpcy5zZXRQaXRjaCh0KSx0aGlzO3Rocm93IG5ldyBFcnJvcigibWluUGl0Y2ggbXVzdCBiZSBiZXR3ZWVuIDAgYW5kIHRoZSBjdXJyZW50IG1heFBpdGNoLCBpbmNsdXNpdmUiKX0sci5wcm90b3R5cGUuZ2V0TWluUGl0Y2g9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50cmFuc2Zvcm0ubWluUGl0Y2h9LHIucHJvdG90eXBlLnNldE1heFBpdGNoPWZ1bmN0aW9uKHQpe2lmKCh0PW51bGw9PXQ/NjA6dCk+NjApdGhyb3cgbmV3IEVycm9yKCJtYXhQaXRjaCBtdXN0IGJlIGxlc3MgdGhhbiBvciBlcXVhbCB0byA2MCIpO2lmKHQ+PXRoaXMudHJhbnNmb3JtLm1pblBpdGNoKXJldHVybiB0aGlzLnRyYW5zZm9ybS5tYXhQaXRjaD10LHRoaXMuX3VwZGF0ZSgpLHRoaXMuZ2V0UGl0Y2goKT50JiZ0aGlzLnNldFBpdGNoKHQpLHRoaXM7dGhyb3cgbmV3IEVycm9yKCJtYXhQaXRjaCBtdXN0IGJlIGdyZWF0ZXIgdGhhbiB0aGUgY3VycmVudCBtaW5QaXRjaCIpfSxyLnByb3RvdHlwZS5nZXRNYXhQaXRjaD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnRyYW5zZm9ybS5tYXhQaXRjaH0sci5wcm90b3R5cGUuZ2V0UmVuZGVyV29ybGRDb3BpZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50cmFuc2Zvcm0ucmVuZGVyV29ybGRDb3BpZXN9LHIucHJvdG90eXBlLnNldFJlbmRlcldvcmxkQ29waWVzPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnRyYW5zZm9ybS5yZW5kZXJXb3JsZENvcGllcz10LHRoaXMuX3VwZGF0ZSgpfSxyLnByb3RvdHlwZS5wcm9qZWN0PWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnRyYW5zZm9ybS5sb2NhdGlvblBvaW50KHQuTG5nTGF0LmNvbnZlcnQoZSkpfSxyLnByb3RvdHlwZS51bnByb2plY3Q9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMudHJhbnNmb3JtLnBvaW50TG9jYXRpb24odC5Qb2ludC5jb252ZXJ0KGUpKX0sci5wcm90b3R5cGUuaXNNb3Zpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbW92aW5nfHx0aGlzLmhhbmRsZXJzLmlzQWN0aXZlKCl9LHIucHJvdG90eXBlLmlzWm9vbWluZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl96b29taW5nfHx0aGlzLmhhbmRsZXJzLmlzWm9vbWluZygpfSxyLnByb3RvdHlwZS5pc1JvdGF0aW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3JvdGF0aW5nfHx0aGlzLmhhbmRsZXJzLmlzUm90YXRpbmcoKX0sci5wcm90b3R5cGUuX2NyZWF0ZURlbGVnYXRlZExpc3RlbmVyPWZ1bmN0aW9uKHQsZSxpKXt2YXIgbyxyPXRoaXM7aWYoIm1vdXNlZW50ZXIiPT09dHx8Im1vdXNlb3ZlciI9PT10KXt2YXIgYT0hMTtyZXR1cm4ge2xheWVyOmUsbGlzdGVuZXI6aSxkZWxlZ2F0ZXM6e21vdXNlbW92ZTpmdW5jdGlvbihvKXt2YXIgbj1yLmdldExheWVyKGUpP3IucXVlcnlSZW5kZXJlZEZlYXR1cmVzKG8ucG9pbnQse2xheWVyczpbZV19KTpbXTtuLmxlbmd0aD9hfHwoYT0hMCxpLmNhbGwocixuZXcgTG8odCxyLG8ub3JpZ2luYWxFdmVudCx7ZmVhdHVyZXM6bn0pKSk6YT0hMTt9LG1vdXNlb3V0OmZ1bmN0aW9uKCl7YT0hMTt9fX19aWYoIm1vdXNlbGVhdmUiPT09dHx8Im1vdXNlb3V0Ij09PXQpe3ZhciBuPSExO3JldHVybiB7bGF5ZXI6ZSxsaXN0ZW5lcjppLGRlbGVnYXRlczp7bW91c2Vtb3ZlOmZ1bmN0aW9uKG8peyhyLmdldExheWVyKGUpP3IucXVlcnlSZW5kZXJlZEZlYXR1cmVzKG8ucG9pbnQse2xheWVyczpbZV19KTpbXSkubGVuZ3RoP249ITA6biYmKG49ITEsaS5jYWxsKHIsbmV3IExvKHQscixvLm9yaWdpbmFsRXZlbnQpKSk7fSxtb3VzZW91dDpmdW5jdGlvbihlKXtuJiYobj0hMSxpLmNhbGwocixuZXcgTG8odCxyLGUub3JpZ2luYWxFdmVudCkpKTt9fX19cmV0dXJuIHtsYXllcjplLGxpc3RlbmVyOmksZGVsZWdhdGVzOihvPXt9LG9bdF09ZnVuY3Rpb24odCl7dmFyIG89ci5nZXRMYXllcihlKT9yLnF1ZXJ5UmVuZGVyZWRGZWF0dXJlcyh0LnBvaW50LHtsYXllcnM6W2VdfSk6W107by5sZW5ndGgmJih0LmZlYXR1cmVzPW8saS5jYWxsKHIsdCksZGVsZXRlIHQuZmVhdHVyZXMpO30sbyl9fSxyLnByb3RvdHlwZS5vbj1mdW5jdGlvbih0LGUsaSl7aWYodm9pZCAwPT09aSlyZXR1cm4gby5wcm90b3R5cGUub24uY2FsbCh0aGlzLHQsZSk7dmFyIHI9dGhpcy5fY3JlYXRlRGVsZWdhdGVkTGlzdGVuZXIodCxlLGkpO2Zvcih2YXIgYSBpbiB0aGlzLl9kZWxlZ2F0ZWRMaXN0ZW5lcnM9dGhpcy5fZGVsZWdhdGVkTGlzdGVuZXJzfHx7fSx0aGlzLl9kZWxlZ2F0ZWRMaXN0ZW5lcnNbdF09dGhpcy5fZGVsZWdhdGVkTGlzdGVuZXJzW3RdfHxbXSx0aGlzLl9kZWxlZ2F0ZWRMaXN0ZW5lcnNbdF0ucHVzaChyKSxyLmRlbGVnYXRlcyl0aGlzLm9uKGEsci5kZWxlZ2F0ZXNbYV0pO3JldHVybiB0aGlzfSxyLnByb3RvdHlwZS5vbmNlPWZ1bmN0aW9uKHQsZSxpKXtpZih2b2lkIDA9PT1pKXJldHVybiBvLnByb3RvdHlwZS5vbmNlLmNhbGwodGhpcyx0LGUpO3ZhciByPXRoaXMuX2NyZWF0ZURlbGVnYXRlZExpc3RlbmVyKHQsZSxpKTtmb3IodmFyIGEgaW4gci5kZWxlZ2F0ZXMpdGhpcy5vbmNlKGEsci5kZWxlZ2F0ZXNbYV0pO3JldHVybiB0aGlzfSxyLnByb3RvdHlwZS5vZmY9ZnVuY3Rpb24odCxlLGkpe3ZhciByPXRoaXM7cmV0dXJuIHZvaWQgMD09PWk/by5wcm90b3R5cGUub2ZmLmNhbGwodGhpcyx0LGUpOih0aGlzLl9kZWxlZ2F0ZWRMaXN0ZW5lcnMmJnRoaXMuX2RlbGVnYXRlZExpc3RlbmVyc1t0XSYmZnVuY3Rpb24obyl7Zm9yKHZhciBhPW9bdF0sbj0wO248YS5sZW5ndGg7bisrKXt2YXIgcz1hW25dO2lmKHMubGF5ZXI9PT1lJiZzLmxpc3RlbmVyPT09aSl7Zm9yKHZhciBsIGluIHMuZGVsZWdhdGVzKXIub2ZmKGwscy5kZWxlZ2F0ZXNbbF0pO3JldHVybiBhLnNwbGljZShuLDEpLHJ9fX0odGhpcy5fZGVsZWdhdGVkTGlzdGVuZXJzKSx0aGlzKX0sci5wcm90b3R5cGUucXVlcnlSZW5kZXJlZEZlYXR1cmVzPWZ1bmN0aW9uKGUsaSl7aWYoIXRoaXMuc3R5bGUpcmV0dXJuIFtdO3ZhciBvO2lmKHZvaWQgMCE9PWl8fHZvaWQgMD09PWV8fGUgaW5zdGFuY2VvZiB0LlBvaW50fHxBcnJheS5pc0FycmF5KGUpfHwoaT1lLGU9dm9pZCAwKSxpPWl8fHt9LChlPWV8fFtbMCwwXSxbdGhpcy50cmFuc2Zvcm0ud2lkdGgsdGhpcy50cmFuc2Zvcm0uaGVpZ2h0XV0paW5zdGFuY2VvZiB0LlBvaW50fHwibnVtYmVyIj09dHlwZW9mIGVbMF0pbz1bdC5Qb2ludC5jb252ZXJ0KGUpXTtlbHNlIHt2YXIgcj10LlBvaW50LmNvbnZlcnQoZVswXSksYT10LlBvaW50LmNvbnZlcnQoZVsxXSk7bz1bcixuZXcgdC5Qb2ludChhLngsci55KSxhLG5ldyB0LlBvaW50KHIueCxhLnkpLHJdO31yZXR1cm4gdGhpcy5zdHlsZS5xdWVyeVJlbmRlcmVkRmVhdHVyZXMobyxpLHRoaXMudHJhbnNmb3JtKX0sci5wcm90b3R5cGUucXVlcnlTb3VyY2VGZWF0dXJlcz1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLnN0eWxlLnF1ZXJ5U291cmNlRmVhdHVyZXModCxlKX0sci5wcm90b3R5cGUuc2V0U3R5bGU9ZnVuY3Rpb24oZSxpKXtyZXR1cm4gITEhPT0oaT10LmV4dGVuZCh7fSx7bG9jYWxJZGVvZ3JhcGhGb250RmFtaWx5OnRoaXMuX2xvY2FsSWRlb2dyYXBoRm9udEZhbWlseX0saSkpLmRpZmYmJmkubG9jYWxJZGVvZ3JhcGhGb250RmFtaWx5PT09dGhpcy5fbG9jYWxJZGVvZ3JhcGhGb250RmFtaWx5JiZ0aGlzLnN0eWxlJiZlPyh0aGlzLl9kaWZmU3R5bGUoZSxpKSx0aGlzKToodGhpcy5fbG9jYWxJZGVvZ3JhcGhGb250RmFtaWx5PWkubG9jYWxJZGVvZ3JhcGhGb250RmFtaWx5LHRoaXMuX3VwZGF0ZVN0eWxlKGUsaSkpfSxyLnByb3RvdHlwZS5fZ2V0VUlTdHJpbmc9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fbG9jYWxlW3RdO2lmKG51bGw9PWUpdGhyb3cgbmV3IEVycm9yKCJNaXNzaW5nIFVJIHN0cmluZyAnIit0KyInIik7cmV0dXJuIGV9LHIucHJvdG90eXBlLl91cGRhdGVTdHlsZT1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLnN0eWxlJiYodGhpcy5zdHlsZS5zZXRFdmVudGVkUGFyZW50KG51bGwpLHRoaXMuc3R5bGUuX3JlbW92ZSgpKSx0Pyh0aGlzLnN0eWxlPW5ldyBxZSh0aGlzLGV8fHt9KSx0aGlzLnN0eWxlLnNldEV2ZW50ZWRQYXJlbnQodGhpcyx7c3R5bGU6dGhpcy5zdHlsZX0pLCJzdHJpbmciPT10eXBlb2YgdD90aGlzLnN0eWxlLmxvYWRVUkwodCk6dGhpcy5zdHlsZS5sb2FkSlNPTih0KSx0aGlzKTooZGVsZXRlIHRoaXMuc3R5bGUsdGhpcyl9LHIucHJvdG90eXBlLl9sYXp5SW5pdEVtcHR5U3R5bGU9ZnVuY3Rpb24oKXt0aGlzLnN0eWxlfHwodGhpcy5zdHlsZT1uZXcgcWUodGhpcyx7fSksdGhpcy5zdHlsZS5zZXRFdmVudGVkUGFyZW50KHRoaXMse3N0eWxlOnRoaXMuc3R5bGV9KSx0aGlzLnN0eWxlLmxvYWRFbXB0eSgpKTt9LHIucHJvdG90eXBlLl9kaWZmU3R5bGU9ZnVuY3Rpb24oZSxpKXt2YXIgbz10aGlzO2lmKCJzdHJpbmciPT10eXBlb2YgZSl7dmFyIHI9dGhpcy5fcmVxdWVzdE1hbmFnZXIubm9ybWFsaXplU3R5bGVVUkwoZSksYT10aGlzLl9yZXF1ZXN0TWFuYWdlci50cmFuc2Zvcm1SZXF1ZXN0KHIsdC5SZXNvdXJjZVR5cGUuU3R5bGUpO3QuZ2V0SlNPTihhLChmdW5jdGlvbihlLHIpe2U/by5maXJlKG5ldyB0LkVycm9yRXZlbnQoZSkpOnImJm8uX3VwZGF0ZURpZmYocixpKTt9KSk7fWVsc2UgIm9iamVjdCI9PXR5cGVvZiBlJiZ0aGlzLl91cGRhdGVEaWZmKGUsaSk7fSxyLnByb3RvdHlwZS5fdXBkYXRlRGlmZj1mdW5jdGlvbihlLGkpe3RyeXt0aGlzLnN0eWxlLnNldFN0YXRlKGUpJiZ0aGlzLl91cGRhdGUoITApO31jYXRjaChvKXt0Lndhcm5PbmNlKCJVbmFibGUgdG8gcGVyZm9ybSBzdHlsZSBkaWZmOiAiKyhvLm1lc3NhZ2V8fG8uZXJyb3J8fG8pKyIuICBSZWJ1aWxkaW5nIHRoZSBzdHlsZSBmcm9tIHNjcmF0Y2guIiksdGhpcy5fdXBkYXRlU3R5bGUoZSxpKTt9fSxyLnByb3RvdHlwZS5nZXRTdHlsZT1mdW5jdGlvbigpe2lmKHRoaXMuc3R5bGUpcmV0dXJuIHRoaXMuc3R5bGUuc2VyaWFsaXplKCl9LHIucHJvdG90eXBlLmlzU3R5bGVMb2FkZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zdHlsZT90aGlzLnN0eWxlLmxvYWRlZCgpOnQud2Fybk9uY2UoIlRoZXJlIGlzIG5vIHN0eWxlIGFkZGVkIHRvIHRoZSBtYXAuIil9LHIucHJvdG90eXBlLmFkZFNvdXJjZT1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLl9sYXp5SW5pdEVtcHR5U3R5bGUoKSx0aGlzLnN0eWxlLmFkZFNvdXJjZSh0LGUpLHRoaXMuX3VwZGF0ZSghMCl9LHIucHJvdG90eXBlLmlzU291cmNlTG9hZGVkPWZ1bmN0aW9uKGUpe3ZhciBpPXRoaXMuc3R5bGUmJnRoaXMuc3R5bGUuc291cmNlQ2FjaGVzW2VdO2lmKHZvaWQgMCE9PWkpcmV0dXJuIGkubG9hZGVkKCk7dGhpcy5maXJlKG5ldyB0LkVycm9yRXZlbnQobmV3IEVycm9yKCJUaGVyZSBpcyBubyBzb3VyY2Ugd2l0aCBJRCAnIitlKyInIikpKTt9LHIucHJvdG90eXBlLmFyZVRpbGVzTG9hZGVkPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5zdHlsZSYmdGhpcy5zdHlsZS5zb3VyY2VDYWNoZXM7Zm9yKHZhciBlIGluIHQpe3ZhciBpPXRbZV0uX3RpbGVzO2Zvcih2YXIgbyBpbiBpKXt2YXIgcj1pW29dO2lmKCJsb2FkZWQiIT09ci5zdGF0ZSYmImVycm9yZWQiIT09ci5zdGF0ZSlyZXR1cm4gITF9fXJldHVybiAhMH0sci5wcm90b3R5cGUuYWRkU291cmNlVHlwZT1mdW5jdGlvbih0LGUsaSl7cmV0dXJuIHRoaXMuX2xhenlJbml0RW1wdHlTdHlsZSgpLHRoaXMuc3R5bGUuYWRkU291cmNlVHlwZSh0LGUsaSl9LHIucHJvdG90eXBlLnJlbW92ZVNvdXJjZT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5zdHlsZS5yZW1vdmVTb3VyY2UodCksdGhpcy5fdXBkYXRlKCEwKX0sci5wcm90b3R5cGUuZ2V0U291cmNlPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnN0eWxlLmdldFNvdXJjZSh0KX0sci5wcm90b3R5cGUuYWRkSW1hZ2U9ZnVuY3Rpb24oZSxpLG8pe3ZvaWQgMD09PW8mJihvPXt9KTt2YXIgcj1vLnBpeGVsUmF0aW87dm9pZCAwPT09ciYmKHI9MSk7dmFyIGE9by5zZGY7dm9pZCAwPT09YSYmKGE9ITEpO3ZhciBuPW8uc3RyZXRjaFgscz1vLnN0cmV0Y2hZLGw9by5jb250ZW50O2lmKHRoaXMuX2xhenlJbml0RW1wdHlTdHlsZSgpLGkgaW5zdGFuY2VvZiBicnx8VHImJmkgaW5zdGFuY2VvZiBUcil7dmFyIGM9dC5icm93c2VyLmdldEltYWdlRGF0YShpKTt0aGlzLnN0eWxlLmFkZEltYWdlKGUse2RhdGE6bmV3IHQuUkdCQUltYWdlKHt3aWR0aDpjLndpZHRoLGhlaWdodDpjLmhlaWdodH0sYy5kYXRhKSxwaXhlbFJhdGlvOnIsc3RyZXRjaFg6bixzdHJldGNoWTpzLGNvbnRlbnQ6bCxzZGY6YSx2ZXJzaW9uOjB9KTt9ZWxzZSB7aWYodm9pZCAwPT09aS53aWR0aHx8dm9pZCAwPT09aS5oZWlnaHQpcmV0dXJuIHRoaXMuZmlyZShuZXcgdC5FcnJvckV2ZW50KG5ldyBFcnJvcigiSW52YWxpZCBhcmd1bWVudHMgdG8gbWFwLmFkZEltYWdlKCkuIFRoZSBzZWNvbmQgYXJndW1lbnQgbXVzdCBiZSBhbiBgSFRNTEltYWdlRWxlbWVudGAsIGBJbWFnZURhdGFgLCBgSW1hZ2VCaXRtYXBgLCBvciBvYmplY3Qgd2l0aCBgd2lkdGhgLCBgaGVpZ2h0YCwgYW5kIGBkYXRhYCBwcm9wZXJ0aWVzIHdpdGggdGhlIHNhbWUgZm9ybWF0IGFzIGBJbWFnZURhdGFgIikpKTt2YXIgdT1pO3RoaXMuc3R5bGUuYWRkSW1hZ2UoZSx7ZGF0YTpuZXcgdC5SR0JBSW1hZ2Uoe3dpZHRoOmkud2lkdGgsaGVpZ2h0OmkuaGVpZ2h0fSxuZXcgVWludDhBcnJheShpLmRhdGEpKSxwaXhlbFJhdGlvOnIsc3RyZXRjaFg6bixzdHJldGNoWTpzLGNvbnRlbnQ6bCxzZGY6YSx2ZXJzaW9uOjAsdXNlckltYWdlOnV9KSx1Lm9uQWRkJiZ1Lm9uQWRkKHRoaXMsZSk7fX0sci5wcm90b3R5cGUudXBkYXRlSW1hZ2U9ZnVuY3Rpb24oZSxpKXt2YXIgbz10aGlzLnN0eWxlLmdldEltYWdlKGUpO2lmKCFvKXJldHVybiB0aGlzLmZpcmUobmV3IHQuRXJyb3JFdmVudChuZXcgRXJyb3IoIlRoZSBtYXAgaGFzIG5vIGltYWdlIHdpdGggdGhhdCBpZC4gSWYgeW91IGFyZSBhZGRpbmcgYSBuZXcgaW1hZ2UgdXNlIGBtYXAuYWRkSW1hZ2UoLi4uKWAgaW5zdGVhZC4iKSkpO3ZhciByPWkgaW5zdGFuY2VvZiBicnx8VHImJmkgaW5zdGFuY2VvZiBUcj90LmJyb3dzZXIuZ2V0SW1hZ2VEYXRhKGkpOmksYT1yLndpZHRoLG49ci5oZWlnaHQscz1yLmRhdGE7cmV0dXJuIHZvaWQgMD09PWF8fHZvaWQgMD09PW4/dGhpcy5maXJlKG5ldyB0LkVycm9yRXZlbnQobmV3IEVycm9yKCJJbnZhbGlkIGFyZ3VtZW50cyB0byBtYXAudXBkYXRlSW1hZ2UoKS4gVGhlIHNlY29uZCBhcmd1bWVudCBtdXN0IGJlIGFuIGBIVE1MSW1hZ2VFbGVtZW50YCwgYEltYWdlRGF0YWAsIGBJbWFnZUJpdG1hcGAsIG9yIG9iamVjdCB3aXRoIGB3aWR0aGAsIGBoZWlnaHRgLCBhbmQgYGRhdGFgIHByb3BlcnRpZXMgd2l0aCB0aGUgc2FtZSBmb3JtYXQgYXMgYEltYWdlRGF0YWAiKSkpOmEhPT1vLmRhdGEud2lkdGh8fG4hPT1vLmRhdGEuaGVpZ2h0P3RoaXMuZmlyZShuZXcgdC5FcnJvckV2ZW50KG5ldyBFcnJvcigiVGhlIHdpZHRoIGFuZCBoZWlnaHQgb2YgdGhlIHVwZGF0ZWQgaW1hZ2UgbXVzdCBiZSB0aGF0IHNhbWUgYXMgdGhlIHByZXZpb3VzIHZlcnNpb24gb2YgdGhlIGltYWdlIikpKTooby5kYXRhLnJlcGxhY2UocywhKGkgaW5zdGFuY2VvZiBicnx8VHImJmkgaW5zdGFuY2VvZiBUcikpLHZvaWQgdGhpcy5zdHlsZS51cGRhdGVJbWFnZShlLG8pKX0sci5wcm90b3R5cGUuaGFzSW1hZ2U9ZnVuY3Rpb24oZSl7cmV0dXJuIGU/ISF0aGlzLnN0eWxlLmdldEltYWdlKGUpOih0aGlzLmZpcmUobmV3IHQuRXJyb3JFdmVudChuZXcgRXJyb3IoIk1pc3NpbmcgcmVxdWlyZWQgaW1hZ2UgaWQiKSkpLCExKX0sci5wcm90b3R5cGUucmVtb3ZlSW1hZ2U9ZnVuY3Rpb24odCl7dGhpcy5zdHlsZS5yZW1vdmVJbWFnZSh0KTt9LHIucHJvdG90eXBlLmxvYWRJbWFnZT1mdW5jdGlvbihlLGkpe3QuZ2V0SW1hZ2UodGhpcy5fcmVxdWVzdE1hbmFnZXIudHJhbnNmb3JtUmVxdWVzdChlLHQuUmVzb3VyY2VUeXBlLkltYWdlKSxpKTt9LHIucHJvdG90eXBlLmxpc3RJbWFnZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zdHlsZS5saXN0SW1hZ2VzKCl9LHIucHJvdG90eXBlLmFkZExheWVyPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuX2xhenlJbml0RW1wdHlTdHlsZSgpLHRoaXMuc3R5bGUuYWRkTGF5ZXIodCxlKSx0aGlzLl91cGRhdGUoITApfSxyLnByb3RvdHlwZS5tb3ZlTGF5ZXI9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5zdHlsZS5tb3ZlTGF5ZXIodCxlKSx0aGlzLl91cGRhdGUoITApfSxyLnByb3RvdHlwZS5yZW1vdmVMYXllcj1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5zdHlsZS5yZW1vdmVMYXllcih0KSx0aGlzLl91cGRhdGUoITApfSxyLnByb3RvdHlwZS5nZXRMYXllcj1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5zdHlsZS5nZXRMYXllcih0KX0sci5wcm90b3R5cGUuc2V0TGF5ZXJab29tUmFuZ2U9ZnVuY3Rpb24odCxlLGkpe3JldHVybiB0aGlzLnN0eWxlLnNldExheWVyWm9vbVJhbmdlKHQsZSxpKSx0aGlzLl91cGRhdGUoITApfSxyLnByb3RvdHlwZS5zZXRGaWx0ZXI9ZnVuY3Rpb24odCxlLGkpe3JldHVybiB2b2lkIDA9PT1pJiYoaT17fSksdGhpcy5zdHlsZS5zZXRGaWx0ZXIodCxlLGkpLHRoaXMuX3VwZGF0ZSghMCl9LHIucHJvdG90eXBlLmdldEZpbHRlcj1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5zdHlsZS5nZXRGaWx0ZXIodCl9LHIucHJvdG90eXBlLnNldFBhaW50UHJvcGVydHk9ZnVuY3Rpb24odCxlLGksbyl7cmV0dXJuIHZvaWQgMD09PW8mJihvPXt9KSx0aGlzLnN0eWxlLnNldFBhaW50UHJvcGVydHkodCxlLGksbyksdGhpcy5fdXBkYXRlKCEwKX0sci5wcm90b3R5cGUuZ2V0UGFpbnRQcm9wZXJ0eT1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLnN0eWxlLmdldFBhaW50UHJvcGVydHkodCxlKX0sci5wcm90b3R5cGUuc2V0TGF5b3V0UHJvcGVydHk9ZnVuY3Rpb24odCxlLGksbyl7cmV0dXJuIHZvaWQgMD09PW8mJihvPXt9KSx0aGlzLnN0eWxlLnNldExheW91dFByb3BlcnR5KHQsZSxpLG8pLHRoaXMuX3VwZGF0ZSghMCl9LHIucHJvdG90eXBlLmdldExheW91dFByb3BlcnR5PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuc3R5bGUuZ2V0TGF5b3V0UHJvcGVydHkodCxlKX0sci5wcm90b3R5cGUuc2V0TGlnaHQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdm9pZCAwPT09ZSYmKGU9e30pLHRoaXMuX2xhenlJbml0RW1wdHlTdHlsZSgpLHRoaXMuc3R5bGUuc2V0TGlnaHQodCxlKSx0aGlzLl91cGRhdGUoITApfSxyLnByb3RvdHlwZS5nZXRMaWdodD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnN0eWxlLmdldExpZ2h0KCl9LHIucHJvdG90eXBlLnNldEZlYXR1cmVTdGF0ZT1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLnN0eWxlLnNldEZlYXR1cmVTdGF0ZSh0LGUpLHRoaXMuX3VwZGF0ZSgpfSxyLnByb3RvdHlwZS5yZW1vdmVGZWF0dXJlU3RhdGU9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5zdHlsZS5yZW1vdmVGZWF0dXJlU3RhdGUodCxlKSx0aGlzLl91cGRhdGUoKX0sci5wcm90b3R5cGUuZ2V0RmVhdHVyZVN0YXRlPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnN0eWxlLmdldEZlYXR1cmVTdGF0ZSh0KX0sci5wcm90b3R5cGUuZ2V0Q29udGFpbmVyPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NvbnRhaW5lcn0sci5wcm90b3R5cGUuZ2V0Q2FudmFzQ29udGFpbmVyPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NhbnZhc0NvbnRhaW5lcn0sci5wcm90b3R5cGUuZ2V0Q2FudmFzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NhbnZhc30sci5wcm90b3R5cGUuX2NvbnRhaW5lckRpbWVuc2lvbnM9ZnVuY3Rpb24oKXt2YXIgdD0wLGU9MDtyZXR1cm4gdGhpcy5fY29udGFpbmVyJiYodD10aGlzLl9jb250YWluZXIuY2xpZW50V2lkdGh8fDQwMCxlPXRoaXMuX2NvbnRhaW5lci5jbGllbnRIZWlnaHR8fDMwMCksW3QsZV19LHIucHJvdG90eXBlLl9kZXRlY3RNaXNzaW5nQ1NTPWZ1bmN0aW9uKCl7InJnYigyNTAsIDEyOCwgMTE0KSIhPT10LndpbmRvdy5nZXRDb21wdXRlZFN0eWxlKHRoaXMuX21pc3NpbmdDU1NDYW5hcnkpLmdldFByb3BlcnR5VmFsdWUoImJhY2tncm91bmQtY29sb3IiKSYmdC53YXJuT25jZSgiVGhpcyBwYWdlIGFwcGVhcnMgdG8gYmUgbWlzc2luZyBDU1MgZGVjbGFyYXRpb25zIGZvciBNYXBib3ggR0wgSlMsIHdoaWNoIG1heSBjYXVzZSB0aGUgbWFwIHRvIGRpc3BsYXkgaW5jb3JyZWN0bHkuIFBsZWFzZSBlbnN1cmUgeW91ciBwYWdlIGluY2x1ZGVzIG1hcGJveC1nbC5jc3MsIGFzIGRlc2NyaWJlZCBpbiBodHRwczovL3d3dy5tYXBib3guY29tL21hcGJveC1nbC1qcy9hcGkvLiIpO30sci5wcm90b3R5cGUuX3NldHVwQ29udGFpbmVyPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fY29udGFpbmVyO3QuY2xhc3NMaXN0LmFkZCgibWFwYm94Z2wtbWFwIiksKHRoaXMuX21pc3NpbmdDU1NDYW5hcnk9aS5jcmVhdGUoImRpdiIsIm1hcGJveGdsLWNhbmFyeSIsdCkpLnN0eWxlLnZpc2liaWxpdHk9ImhpZGRlbiIsdGhpcy5fZGV0ZWN0TWlzc2luZ0NTUygpO3ZhciBlPXRoaXMuX2NhbnZhc0NvbnRhaW5lcj1pLmNyZWF0ZSgiZGl2IiwibWFwYm94Z2wtY2FudmFzLWNvbnRhaW5lciIsdCk7dGhpcy5faW50ZXJhY3RpdmUmJmUuY2xhc3NMaXN0LmFkZCgibWFwYm94Z2wtaW50ZXJhY3RpdmUiKSx0aGlzLl9jYW52YXM9aS5jcmVhdGUoImNhbnZhcyIsIm1hcGJveGdsLWNhbnZhcyIsZSksdGhpcy5fY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoIndlYmdsY29udGV4dGxvc3QiLHRoaXMuX2NvbnRleHRMb3N0LCExKSx0aGlzLl9jYW52YXMuYWRkRXZlbnRMaXN0ZW5lcigid2ViZ2xjb250ZXh0cmVzdG9yZWQiLHRoaXMuX2NvbnRleHRSZXN0b3JlZCwhMSksdGhpcy5fY2FudmFzLnNldEF0dHJpYnV0ZSgidGFiaW5kZXgiLCIwIiksdGhpcy5fY2FudmFzLnNldEF0dHJpYnV0ZSgiYXJpYS1sYWJlbCIsIk1hcCIpO3ZhciBvPXRoaXMuX2NvbnRhaW5lckRpbWVuc2lvbnMoKTt0aGlzLl9yZXNpemVDYW52YXMob1swXSxvWzFdKTt2YXIgcj10aGlzLl9jb250cm9sQ29udGFpbmVyPWkuY3JlYXRlKCJkaXYiLCJtYXBib3hnbC1jb250cm9sLWNvbnRhaW5lciIsdCksYT10aGlzLl9jb250cm9sUG9zaXRpb25zPXt9O1sidG9wLWxlZnQiLCJ0b3AtcmlnaHQiLCJib3R0b20tbGVmdCIsImJvdHRvbS1yaWdodCJdLmZvckVhY2goKGZ1bmN0aW9uKHQpe2FbdF09aS5jcmVhdGUoImRpdiIsIm1hcGJveGdsLWN0cmwtIit0LHIpO30pKTt9LHIucHJvdG90eXBlLl9yZXNpemVDYW52YXM9ZnVuY3Rpb24oZSxpKXt2YXIgbz10LmJyb3dzZXIuZGV2aWNlUGl4ZWxSYXRpb3x8MTt0aGlzLl9jYW52YXMud2lkdGg9byplLHRoaXMuX2NhbnZhcy5oZWlnaHQ9byppLHRoaXMuX2NhbnZhcy5zdHlsZS53aWR0aD1lKyJweCIsdGhpcy5fY2FudmFzLnN0eWxlLmhlaWdodD1pKyJweCI7fSxyLnByb3RvdHlwZS5fc2V0dXBQYWludGVyPWZ1bmN0aW9uKCl7dmFyIGk9dC5leHRlbmQoe30sZS53ZWJHTENvbnRleHRBdHRyaWJ1dGVzLHtmYWlsSWZNYWpvclBlcmZvcm1hbmNlQ2F2ZWF0OnRoaXMuX2ZhaWxJZk1ham9yUGVyZm9ybWFuY2VDYXZlYXQscHJlc2VydmVEcmF3aW5nQnVmZmVyOnRoaXMuX3ByZXNlcnZlRHJhd2luZ0J1ZmZlcixhbnRpYWxpYXM6dGhpcy5fYW50aWFsaWFzfHwhMX0pLG89dGhpcy5fY2FudmFzLmdldENvbnRleHQoIndlYmdsIixpKXx8dGhpcy5fY2FudmFzLmdldENvbnRleHQoImV4cGVyaW1lbnRhbC13ZWJnbCIsaSk7bz8odGhpcy5wYWludGVyPW5ldyB2byhvLHRoaXMudHJhbnNmb3JtKSx0LndlYnBTdXBwb3J0ZWQudGVzdFN1cHBvcnQobykpOnRoaXMuZmlyZShuZXcgdC5FcnJvckV2ZW50KG5ldyBFcnJvcigiRmFpbGVkIHRvIGluaXRpYWxpemUgV2ViR0wiKSkpO30sci5wcm90b3R5cGUuX2NvbnRleHRMb3N0PWZ1bmN0aW9uKGUpe2UucHJldmVudERlZmF1bHQoKSx0aGlzLl9mcmFtZSYmKHRoaXMuX2ZyYW1lLmNhbmNlbCgpLHRoaXMuX2ZyYW1lPW51bGwpLHRoaXMuZmlyZShuZXcgdC5FdmVudCgid2ViZ2xjb250ZXh0bG9zdCIse29yaWdpbmFsRXZlbnQ6ZX0pKTt9LHIucHJvdG90eXBlLl9jb250ZXh0UmVzdG9yZWQ9ZnVuY3Rpb24oZSl7dGhpcy5fc2V0dXBQYWludGVyKCksdGhpcy5yZXNpemUoKSx0aGlzLl91cGRhdGUoKSx0aGlzLmZpcmUobmV3IHQuRXZlbnQoIndlYmdsY29udGV4dHJlc3RvcmVkIix7b3JpZ2luYWxFdmVudDplfSkpO30sci5wcm90b3R5cGUubG9hZGVkPWZ1bmN0aW9uKCl7cmV0dXJuICF0aGlzLl9zdHlsZURpcnR5JiYhdGhpcy5fc291cmNlc0RpcnR5JiYhIXRoaXMuc3R5bGUmJnRoaXMuc3R5bGUubG9hZGVkKCl9LHIucHJvdG90eXBlLl91cGRhdGU9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuc3R5bGU/KHRoaXMuX3N0eWxlRGlydHk9dGhpcy5fc3R5bGVEaXJ0eXx8dCx0aGlzLl9zb3VyY2VzRGlydHk9ITAsdGhpcy50cmlnZ2VyUmVwYWludCgpLHRoaXMpOnRoaXN9LHIucHJvdG90eXBlLl9yZXF1ZXN0UmVuZGVyRnJhbWU9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX3VwZGF0ZSgpLHRoaXMuX3JlbmRlclRhc2tRdWV1ZS5hZGQodCl9LHIucHJvdG90eXBlLl9jYW5jZWxSZW5kZXJGcmFtZT1mdW5jdGlvbih0KXt0aGlzLl9yZW5kZXJUYXNrUXVldWUucmVtb3ZlKHQpO30sci5wcm90b3R5cGUuX3JlbmRlcj1mdW5jdGlvbihlKXt2YXIgaSxvPXRoaXMscj0wLGE9dGhpcy5wYWludGVyLmNvbnRleHQuZXh0VGltZXJRdWVyeTtpZih0aGlzLmxpc3RlbnMoImdwdS10aW1pbmctZnJhbWUiKSYmKGk9YS5jcmVhdGVRdWVyeUVYVCgpLGEuYmVnaW5RdWVyeUVYVChhLlRJTUVfRUxBUFNFRF9FWFQsaSkscj10LmJyb3dzZXIubm93KCkpLHRoaXMucGFpbnRlci5jb250ZXh0LnNldERpcnR5KCksdGhpcy5wYWludGVyLnNldEJhc2VTdGF0ZSgpLHRoaXMuX3JlbmRlclRhc2tRdWV1ZS5ydW4oZSksIXRoaXMuX3JlbW92ZWQpe3ZhciBuPSExO2lmKHRoaXMuc3R5bGUmJnRoaXMuX3N0eWxlRGlydHkpe3RoaXMuX3N0eWxlRGlydHk9ITE7dmFyIHM9dGhpcy50cmFuc2Zvcm0uem9vbSxsPXQuYnJvd3Nlci5ub3coKTt0aGlzLnN0eWxlLnpvb21IaXN0b3J5LnVwZGF0ZShzLGwpO3ZhciBjPW5ldyB0LkV2YWx1YXRpb25QYXJhbWV0ZXJzKHMse25vdzpsLGZhZGVEdXJhdGlvbjp0aGlzLl9mYWRlRHVyYXRpb24sem9vbUhpc3Rvcnk6dGhpcy5zdHlsZS56b29tSGlzdG9yeSx0cmFuc2l0aW9uOnRoaXMuc3R5bGUuZ2V0VHJhbnNpdGlvbigpfSksdT1jLmNyb3NzRmFkaW5nRmFjdG9yKCk7MT09PXUmJnU9PT10aGlzLl9jcm9zc0ZhZGluZ0ZhY3Rvcnx8KG49ITAsdGhpcy5fY3Jvc3NGYWRpbmdGYWN0b3I9dSksdGhpcy5zdHlsZS51cGRhdGUoYyk7fWlmKHRoaXMuc3R5bGUmJnRoaXMuX3NvdXJjZXNEaXJ0eSYmKHRoaXMuX3NvdXJjZXNEaXJ0eT0hMSx0aGlzLnN0eWxlLl91cGRhdGVTb3VyY2VzKHRoaXMudHJhbnNmb3JtKSksdGhpcy5fcGxhY2VtZW50RGlydHk9dGhpcy5zdHlsZSYmdGhpcy5zdHlsZS5fdXBkYXRlUGxhY2VtZW50KHRoaXMucGFpbnRlci50cmFuc2Zvcm0sdGhpcy5zaG93Q29sbGlzaW9uQm94ZXMsdGhpcy5fZmFkZUR1cmF0aW9uLHRoaXMuX2Nyb3NzU291cmNlQ29sbGlzaW9ucyksdGhpcy5wYWludGVyLnJlbmRlcih0aGlzLnN0eWxlLHtzaG93VGlsZUJvdW5kYXJpZXM6dGhpcy5zaG93VGlsZUJvdW5kYXJpZXMsc2hvd092ZXJkcmF3SW5zcGVjdG9yOnRoaXMuX3Nob3dPdmVyZHJhd0luc3BlY3Rvcixyb3RhdGluZzp0aGlzLmlzUm90YXRpbmcoKSx6b29taW5nOnRoaXMuaXNab29taW5nKCksbW92aW5nOnRoaXMuaXNNb3ZpbmcoKSxmYWRlRHVyYXRpb246dGhpcy5fZmFkZUR1cmF0aW9uLHNob3dQYWRkaW5nOnRoaXMuc2hvd1BhZGRpbmcsZ3B1VGltaW5nOiEhdGhpcy5saXN0ZW5zKCJncHUtdGltaW5nLWxheWVyIil9KSx0aGlzLmZpcmUobmV3IHQuRXZlbnQoInJlbmRlciIpKSx0aGlzLmxvYWRlZCgpJiYhdGhpcy5fbG9hZGVkJiYodGhpcy5fbG9hZGVkPSEwLHRoaXMuZmlyZShuZXcgdC5FdmVudCgibG9hZCIpKSksdGhpcy5zdHlsZSYmKHRoaXMuc3R5bGUuaGFzVHJhbnNpdGlvbnMoKXx8bikmJih0aGlzLl9zdHlsZURpcnR5PSEwKSx0aGlzLnN0eWxlJiYhdGhpcy5fcGxhY2VtZW50RGlydHkmJnRoaXMuc3R5bGUuX3JlbGVhc2VTeW1ib2xGYWRlVGlsZXMoKSx0aGlzLmxpc3RlbnMoImdwdS10aW1pbmctZnJhbWUiKSl7dmFyIGg9dC5icm93c2VyLm5vdygpLXI7YS5lbmRRdWVyeUVYVChhLlRJTUVfRUxBUFNFRF9FWFQsaSksc2V0VGltZW91dCgoZnVuY3Rpb24oKXt2YXIgZT1hLmdldFF1ZXJ5T2JqZWN0RVhUKGksYS5RVUVSWV9SRVNVTFRfRVhUKS8xZTY7YS5kZWxldGVRdWVyeUVYVChpKSxvLmZpcmUobmV3IHQuRXZlbnQoImdwdS10aW1pbmctZnJhbWUiLHtjcHVUaW1lOmgsZ3B1VGltZTplfSkpO30pLDUwKTt9aWYodGhpcy5saXN0ZW5zKCJncHUtdGltaW5nLWxheWVyIikpe3ZhciBwPXRoaXMucGFpbnRlci5jb2xsZWN0R3B1VGltZXJzKCk7c2V0VGltZW91dCgoZnVuY3Rpb24oKXt2YXIgZT1vLnBhaW50ZXIucXVlcnlHcHVUaW1lcnMocCk7by5maXJlKG5ldyB0LkV2ZW50KCJncHUtdGltaW5nLWxheWVyIix7bGF5ZXJUaW1lczplfSkpO30pLDUwKTt9cmV0dXJuIHRoaXMuX3NvdXJjZXNEaXJ0eXx8dGhpcy5fc3R5bGVEaXJ0eXx8dGhpcy5fcGxhY2VtZW50RGlydHl8fHRoaXMuX3JlcGFpbnQ/dGhpcy50cmlnZ2VyUmVwYWludCgpOiF0aGlzLmlzTW92aW5nKCkmJnRoaXMubG9hZGVkKCkmJih0aGlzLl9mdWxseUxvYWRlZHx8KHRoaXMuX2Z1bGx5TG9hZGVkPSEwKSx0aGlzLmZpcmUobmV3IHQuRXZlbnQoImlkbGUiKSkpLHRoaXN9fSxyLnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24oKXt0aGlzLl9oYXNoJiZ0aGlzLl9oYXNoLnJlbW92ZSgpO2Zvcih2YXIgZT0wLGk9dGhpcy5fY29udHJvbHM7ZTxpLmxlbmd0aDtlKz0xKWlbZV0ub25SZW1vdmUodGhpcyk7dGhpcy5fY29udHJvbHM9W10sdGhpcy5fZnJhbWUmJih0aGlzLl9mcmFtZS5jYW5jZWwoKSx0aGlzLl9mcmFtZT1udWxsKSx0aGlzLl9yZW5kZXJUYXNrUXVldWUuY2xlYXIoKSx0aGlzLnBhaW50ZXIuZGVzdHJveSgpLHRoaXMuaGFuZGxlcnMuZGVzdHJveSgpLGRlbGV0ZSB0aGlzLmhhbmRsZXJzLHRoaXMuc2V0U3R5bGUobnVsbCksdm9pZCAwIT09dC53aW5kb3cmJih0LndpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCJyZXNpemUiLHRoaXMuX29uV2luZG93UmVzaXplLCExKSx0LndpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCJvbmxpbmUiLHRoaXMuX29uV2luZG93T25saW5lLCExKSk7dmFyIG89dGhpcy5wYWludGVyLmNvbnRleHQuZ2wuZ2V0RXh0ZW5zaW9uKCJXRUJHTF9sb3NlX2NvbnRleHQiKTtvJiZvLmxvc2VDb250ZXh0KCksUHIodGhpcy5fY2FudmFzQ29udGFpbmVyKSxQcih0aGlzLl9jb250cm9sQ29udGFpbmVyKSxQcih0aGlzLl9taXNzaW5nQ1NTQ2FuYXJ5KSx0aGlzLl9jb250YWluZXIuY2xhc3NMaXN0LnJlbW92ZSgibWFwYm94Z2wtbWFwIiksdGhpcy5fcmVtb3ZlZD0hMCx0aGlzLmZpcmUobmV3IHQuRXZlbnQoInJlbW92ZSIpKTt9LHIucHJvdG90eXBlLnRyaWdnZXJSZXBhaW50PWZ1bmN0aW9uKCl7dmFyIGU9dGhpczt0aGlzLnN0eWxlJiYhdGhpcy5fZnJhbWUmJih0aGlzLl9mcmFtZT10LmJyb3dzZXIuZnJhbWUoKGZ1bmN0aW9uKHQpe2UuX2ZyYW1lPW51bGwsZS5fcmVuZGVyKHQpO30pKSk7fSxyLnByb3RvdHlwZS5fb25XaW5kb3dPbmxpbmU9ZnVuY3Rpb24oKXt0aGlzLl91cGRhdGUoKTt9LHIucHJvdG90eXBlLl9vbldpbmRvd1Jlc2l6ZT1mdW5jdGlvbih0KXt0aGlzLl90cmFja1Jlc2l6ZSYmdGhpcy5yZXNpemUoe29yaWdpbmFsRXZlbnQ6dH0pLl91cGRhdGUoKTt9LGEuc2hvd1RpbGVCb3VuZGFyaWVzLmdldD1mdW5jdGlvbigpe3JldHVybiAhIXRoaXMuX3Nob3dUaWxlQm91bmRhcmllc30sYS5zaG93VGlsZUJvdW5kYXJpZXMuc2V0PWZ1bmN0aW9uKHQpe3RoaXMuX3Nob3dUaWxlQm91bmRhcmllcyE9PXQmJih0aGlzLl9zaG93VGlsZUJvdW5kYXJpZXM9dCx0aGlzLl91cGRhdGUoKSk7fSxhLnNob3dQYWRkaW5nLmdldD1mdW5jdGlvbigpe3JldHVybiAhIXRoaXMuX3Nob3dQYWRkaW5nfSxhLnNob3dQYWRkaW5nLnNldD1mdW5jdGlvbih0KXt0aGlzLl9zaG93UGFkZGluZyE9PXQmJih0aGlzLl9zaG93UGFkZGluZz10LHRoaXMuX3VwZGF0ZSgpKTt9LGEuc2hvd0NvbGxpc2lvbkJveGVzLmdldD1mdW5jdGlvbigpe3JldHVybiAhIXRoaXMuX3Nob3dDb2xsaXNpb25Cb3hlc30sYS5zaG93Q29sbGlzaW9uQm94ZXMuc2V0PWZ1bmN0aW9uKHQpe3RoaXMuX3Nob3dDb2xsaXNpb25Cb3hlcyE9PXQmJih0aGlzLl9zaG93Q29sbGlzaW9uQm94ZXM9dCx0P3RoaXMuc3R5bGUuX2dlbmVyYXRlQ29sbGlzaW9uQm94ZXMoKTp0aGlzLl91cGRhdGUoKSk7fSxhLnNob3dPdmVyZHJhd0luc3BlY3Rvci5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gISF0aGlzLl9zaG93T3ZlcmRyYXdJbnNwZWN0b3J9LGEuc2hvd092ZXJkcmF3SW5zcGVjdG9yLnNldD1mdW5jdGlvbih0KXt0aGlzLl9zaG93T3ZlcmRyYXdJbnNwZWN0b3IhPT10JiYodGhpcy5fc2hvd092ZXJkcmF3SW5zcGVjdG9yPXQsdGhpcy5fdXBkYXRlKCkpO30sYS5yZXBhaW50LmdldD1mdW5jdGlvbigpe3JldHVybiAhIXRoaXMuX3JlcGFpbnR9LGEucmVwYWludC5zZXQ9ZnVuY3Rpb24odCl7dGhpcy5fcmVwYWludCE9PXQmJih0aGlzLl9yZXBhaW50PXQsdGhpcy50cmlnZ2VyUmVwYWludCgpKTt9LGEudmVydGljZXMuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuICEhdGhpcy5fdmVydGljZXN9LGEudmVydGljZXMuc2V0PWZ1bmN0aW9uKHQpe3RoaXMuX3ZlcnRpY2VzPXQsdGhpcy5fdXBkYXRlKCk7fSxyLnByb3RvdHlwZS5fc2V0Q2FjaGVMaW1pdHM9ZnVuY3Rpb24oZSxpKXt0LnNldENhY2hlTGltaXRzKGUsaSk7fSxhLnZlcnNpb24uZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHQudmVyc2lvbn0sT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoci5wcm90b3R5cGUsYSkscn0obXIpO2Z1bmN0aW9uIFByKHQpe3QucGFyZW50Tm9kZSYmdC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHQpO312YXIgU3I9e3Nob3dDb21wYXNzOiEwLHNob3dab29tOiEwLHZpc3VhbGl6ZVBpdGNoOiExfSxDcj1mdW5jdGlvbihlKXt2YXIgbz10aGlzO3RoaXMub3B0aW9ucz10LmV4dGVuZCh7fSxTcixlKSx0aGlzLl9jb250YWluZXI9aS5jcmVhdGUoImRpdiIsIm1hcGJveGdsLWN0cmwgbWFwYm94Z2wtY3RybC1ncm91cCIpLHRoaXMuX2NvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKCJjb250ZXh0bWVudSIsKGZ1bmN0aW9uKHQpe3JldHVybiB0LnByZXZlbnREZWZhdWx0KCl9KSksdGhpcy5vcHRpb25zLnNob3dab29tJiYodC5iaW5kQWxsKFsiX3NldEJ1dHRvblRpdGxlIiwiX3VwZGF0ZVpvb21CdXR0b25zIl0sdGhpcyksdGhpcy5fem9vbUluQnV0dG9uPXRoaXMuX2NyZWF0ZUJ1dHRvbigibWFwYm94Z2wtY3RybC16b29tLWluIiwoZnVuY3Rpb24odCl7cmV0dXJuIG8uX21hcC56b29tSW4oe30se29yaWdpbmFsRXZlbnQ6dH0pfSkpLGkuY3JlYXRlKCJzcGFuIiwibWFwYm94Z2wtY3RybC1pY29uIix0aGlzLl96b29tSW5CdXR0b24pLnNldEF0dHJpYnV0ZSgiYXJpYS1oaWRkZW4iLCEwKSx0aGlzLl96b29tT3V0QnV0dG9uPXRoaXMuX2NyZWF0ZUJ1dHRvbigibWFwYm94Z2wtY3RybC16b29tLW91dCIsKGZ1bmN0aW9uKHQpe3JldHVybiBvLl9tYXAuem9vbU91dCh7fSx7b3JpZ2luYWxFdmVudDp0fSl9KSksaS5jcmVhdGUoInNwYW4iLCJtYXBib3hnbC1jdHJsLWljb24iLHRoaXMuX3pvb21PdXRCdXR0b24pLnNldEF0dHJpYnV0ZSgiYXJpYS1oaWRkZW4iLCEwKSksdGhpcy5vcHRpb25zLnNob3dDb21wYXNzJiYodC5iaW5kQWxsKFsiX3JvdGF0ZUNvbXBhc3NBcnJvdyJdLHRoaXMpLHRoaXMuX2NvbXBhc3M9dGhpcy5fY3JlYXRlQnV0dG9uKCJtYXBib3hnbC1jdHJsLWNvbXBhc3MiLChmdW5jdGlvbih0KXtvLm9wdGlvbnMudmlzdWFsaXplUGl0Y2g/by5fbWFwLnJlc2V0Tm9ydGhQaXRjaCh7fSx7b3JpZ2luYWxFdmVudDp0fSk6by5fbWFwLnJlc2V0Tm9ydGgoe30se29yaWdpbmFsRXZlbnQ6dH0pO30pKSx0aGlzLl9jb21wYXNzSWNvbj1pLmNyZWF0ZSgic3BhbiIsIm1hcGJveGdsLWN0cmwtaWNvbiIsdGhpcy5fY29tcGFzcyksdGhpcy5fY29tcGFzc0ljb24uc2V0QXR0cmlidXRlKCJhcmlhLWhpZGRlbiIsITApKTt9O0NyLnByb3RvdHlwZS5fdXBkYXRlWm9vbUJ1dHRvbnM9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9tYXAuZ2V0Wm9vbSgpO3RoaXMuX3pvb21JbkJ1dHRvbi5kaXNhYmxlZD10PT09dGhpcy5fbWFwLmdldE1heFpvb20oKSx0aGlzLl96b29tT3V0QnV0dG9uLmRpc2FibGVkPXQ9PT10aGlzLl9tYXAuZ2V0TWluWm9vbSgpO30sQ3IucHJvdG90eXBlLl9yb3RhdGVDb21wYXNzQXJyb3c9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLm9wdGlvbnMudmlzdWFsaXplUGl0Y2g/InNjYWxlKCIrMS9NYXRoLnBvdyhNYXRoLmNvcyh0aGlzLl9tYXAudHJhbnNmb3JtLnBpdGNoKihNYXRoLlBJLzE4MCkpLC41KSsiKSByb3RhdGVYKCIrdGhpcy5fbWFwLnRyYW5zZm9ybS5waXRjaCsiZGVnKSByb3RhdGVaKCIrdGhpcy5fbWFwLnRyYW5zZm9ybS5hbmdsZSooMTgwL01hdGguUEkpKyJkZWcpIjoicm90YXRlKCIrdGhpcy5fbWFwLnRyYW5zZm9ybS5hbmdsZSooMTgwL01hdGguUEkpKyJkZWcpIjt0aGlzLl9jb21wYXNzSWNvbi5zdHlsZS50cmFuc2Zvcm09dDt9LENyLnByb3RvdHlwZS5vbkFkZD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fbWFwPXQsdGhpcy5vcHRpb25zLnNob3dab29tJiYodGhpcy5fc2V0QnV0dG9uVGl0bGUodGhpcy5fem9vbUluQnV0dG9uLCJab29tSW4iKSx0aGlzLl9zZXRCdXR0b25UaXRsZSh0aGlzLl96b29tT3V0QnV0dG9uLCJab29tT3V0IiksdGhpcy5fbWFwLm9uKCJ6b29tIix0aGlzLl91cGRhdGVab29tQnV0dG9ucyksdGhpcy5fdXBkYXRlWm9vbUJ1dHRvbnMoKSksdGhpcy5vcHRpb25zLnNob3dDb21wYXNzJiYodGhpcy5fc2V0QnV0dG9uVGl0bGUodGhpcy5fY29tcGFzcywiUmVzZXRCZWFyaW5nIiksdGhpcy5vcHRpb25zLnZpc3VhbGl6ZVBpdGNoJiZ0aGlzLl9tYXAub24oInBpdGNoIix0aGlzLl9yb3RhdGVDb21wYXNzQXJyb3cpLHRoaXMuX21hcC5vbigicm90YXRlIix0aGlzLl9yb3RhdGVDb21wYXNzQXJyb3cpLHRoaXMuX3JvdGF0ZUNvbXBhc3NBcnJvdygpLHRoaXMuX2hhbmRsZXI9bmV3IHpyKHRoaXMuX21hcCx0aGlzLl9jb21wYXNzLHRoaXMub3B0aW9ucy52aXN1YWxpemVQaXRjaCkpLHRoaXMuX2NvbnRhaW5lcn0sQ3IucHJvdG90eXBlLm9uUmVtb3ZlPWZ1bmN0aW9uKCl7aS5yZW1vdmUodGhpcy5fY29udGFpbmVyKSx0aGlzLm9wdGlvbnMuc2hvd1pvb20mJnRoaXMuX21hcC5vZmYoInpvb20iLHRoaXMuX3VwZGF0ZVpvb21CdXR0b25zKSx0aGlzLm9wdGlvbnMuc2hvd0NvbXBhc3MmJih0aGlzLm9wdGlvbnMudmlzdWFsaXplUGl0Y2gmJnRoaXMuX21hcC5vZmYoInBpdGNoIix0aGlzLl9yb3RhdGVDb21wYXNzQXJyb3cpLHRoaXMuX21hcC5vZmYoInJvdGF0ZSIsdGhpcy5fcm90YXRlQ29tcGFzc0Fycm93KSx0aGlzLl9oYW5kbGVyLm9mZigpLGRlbGV0ZSB0aGlzLl9oYW5kbGVyKSxkZWxldGUgdGhpcy5fbWFwO30sQ3IucHJvdG90eXBlLl9jcmVhdGVCdXR0b249ZnVuY3Rpb24odCxlKXt2YXIgbz1pLmNyZWF0ZSgiYnV0dG9uIix0LHRoaXMuX2NvbnRhaW5lcik7cmV0dXJuIG8udHlwZT0iYnV0dG9uIixvLmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIixlKSxvfSxDci5wcm90b3R5cGUuX3NldEJ1dHRvblRpdGxlPWZ1bmN0aW9uKHQsZSl7dmFyIGk9dGhpcy5fbWFwLl9nZXRVSVN0cmluZygiTmF2aWdhdGlvbkNvbnRyb2wuIitlKTt0LnRpdGxlPWksdC5zZXRBdHRyaWJ1dGUoImFyaWEtbGFiZWwiLGkpO307dmFyIHpyPWZ1bmN0aW9uKGUsbyxyKXt2b2lkIDA9PT1yJiYocj0hMSksdGhpcy5fY2xpY2tUb2xlcmFuY2U9MTAsdGhpcy5lbGVtZW50PW8sdGhpcy5tb3VzZVJvdGF0ZT1uZXcgR28oe2NsaWNrVG9sZXJhbmNlOmUuZHJhZ1JvdGF0ZS5fbW91c2VSb3RhdGUuX2NsaWNrVG9sZXJhbmNlfSksdGhpcy5tYXA9ZSxyJiYodGhpcy5tb3VzZVBpdGNoPW5ldyBXbyh7Y2xpY2tUb2xlcmFuY2U6ZS5kcmFnUm90YXRlLl9tb3VzZVBpdGNoLl9jbGlja1RvbGVyYW5jZX0pKSx0LmJpbmRBbGwoWyJtb3VzZWRvd24iLCJtb3VzZW1vdmUiLCJtb3VzZXVwIiwidG91Y2hzdGFydCIsInRvdWNobW92ZSIsInRvdWNoZW5kIiwicmVzZXQiXSx0aGlzKSxpLmFkZEV2ZW50TGlzdGVuZXIobywibW91c2Vkb3duIix0aGlzLm1vdXNlZG93biksaS5hZGRFdmVudExpc3RlbmVyKG8sInRvdWNoc3RhcnQiLHRoaXMudG91Y2hzdGFydCx7cGFzc2l2ZTohMX0pLGkuYWRkRXZlbnRMaXN0ZW5lcihvLCJ0b3VjaG1vdmUiLHRoaXMudG91Y2htb3ZlKSxpLmFkZEV2ZW50TGlzdGVuZXIobywidG91Y2hlbmQiLHRoaXMudG91Y2hlbmQpLGkuYWRkRXZlbnRMaXN0ZW5lcihvLCJ0b3VjaGNhbmNlbCIsdGhpcy5yZXNldCk7fTtmdW5jdGlvbiBEcihlLGksbyl7aWYoZT1uZXcgdC5MbmdMYXQoZS5sbmcsZS5sYXQpLGkpe3ZhciByPW5ldyB0LkxuZ0xhdChlLmxuZy0zNjAsZS5sYXQpLGE9bmV3IHQuTG5nTGF0KGUubG5nKzM2MCxlLmxhdCksbj1vLmxvY2F0aW9uUG9pbnQoZSkuZGlzdFNxcihpKTtvLmxvY2F0aW9uUG9pbnQocikuZGlzdFNxcihpKTxuP2U9cjpvLmxvY2F0aW9uUG9pbnQoYSkuZGlzdFNxcihpKTxuJiYoZT1hKTt9Zm9yKDtNYXRoLmFicyhlLmxuZy1vLmNlbnRlci5sbmcpPjE4MDspe3ZhciBzPW8ubG9jYXRpb25Qb2ludChlKTtpZihzLng+PTAmJnMueT49MCYmcy54PD1vLndpZHRoJiZzLnk8PW8uaGVpZ2h0KWJyZWFrO2UubG5nPm8uY2VudGVyLmxuZz9lLmxuZy09MzYwOmUubG5nKz0zNjA7fXJldHVybiBlfXpyLnByb3RvdHlwZS5kb3duPWZ1bmN0aW9uKHQsZSl7dGhpcy5tb3VzZVJvdGF0ZS5tb3VzZWRvd24odCxlKSx0aGlzLm1vdXNlUGl0Y2gmJnRoaXMubW91c2VQaXRjaC5tb3VzZWRvd24odCxlKSxpLmRpc2FibGVEcmFnKCk7fSx6ci5wcm90b3R5cGUubW92ZT1mdW5jdGlvbih0LGUpe3ZhciBpPXRoaXMubWFwLG89dGhpcy5tb3VzZVJvdGF0ZS5tb3VzZW1vdmVXaW5kb3codCxlKTtpZihvJiZvLmJlYXJpbmdEZWx0YSYmaS5zZXRCZWFyaW5nKGkuZ2V0QmVhcmluZygpK28uYmVhcmluZ0RlbHRhKSx0aGlzLm1vdXNlUGl0Y2gpe3ZhciByPXRoaXMubW91c2VQaXRjaC5tb3VzZW1vdmVXaW5kb3codCxlKTtyJiZyLnBpdGNoRGVsdGEmJmkuc2V0UGl0Y2goaS5nZXRQaXRjaCgpK3IucGl0Y2hEZWx0YSk7fX0senIucHJvdG90eXBlLm9mZj1mdW5jdGlvbigpe3ZhciB0PXRoaXMuZWxlbWVudDtpLnJlbW92ZUV2ZW50TGlzdGVuZXIodCwibW91c2Vkb3duIix0aGlzLm1vdXNlZG93biksaS5yZW1vdmVFdmVudExpc3RlbmVyKHQsInRvdWNoc3RhcnQiLHRoaXMudG91Y2hzdGFydCx7cGFzc2l2ZTohMX0pLGkucmVtb3ZlRXZlbnRMaXN0ZW5lcih0LCJ0b3VjaG1vdmUiLHRoaXMudG91Y2htb3ZlKSxpLnJlbW92ZUV2ZW50TGlzdGVuZXIodCwidG91Y2hlbmQiLHRoaXMudG91Y2hlbmQpLGkucmVtb3ZlRXZlbnRMaXN0ZW5lcih0LCJ0b3VjaGNhbmNlbCIsdGhpcy5yZXNldCksdGhpcy5vZmZUZW1wKCk7fSx6ci5wcm90b3R5cGUub2ZmVGVtcD1mdW5jdGlvbigpe2kuZW5hYmxlRHJhZygpLGkucmVtb3ZlRXZlbnRMaXN0ZW5lcih0LndpbmRvdywibW91c2Vtb3ZlIix0aGlzLm1vdXNlbW92ZSksaS5yZW1vdmVFdmVudExpc3RlbmVyKHQud2luZG93LCJtb3VzZXVwIix0aGlzLm1vdXNldXApO30senIucHJvdG90eXBlLm1vdXNlZG93bj1mdW5jdGlvbihlKXt0aGlzLmRvd24odC5leHRlbmQoe30sZSx7Y3RybEtleTohMCxwcmV2ZW50RGVmYXVsdDpmdW5jdGlvbigpe3JldHVybiBlLnByZXZlbnREZWZhdWx0KCl9fSksaS5tb3VzZVBvcyh0aGlzLmVsZW1lbnQsZSkpLGkuYWRkRXZlbnRMaXN0ZW5lcih0LndpbmRvdywibW91c2Vtb3ZlIix0aGlzLm1vdXNlbW92ZSksaS5hZGRFdmVudExpc3RlbmVyKHQud2luZG93LCJtb3VzZXVwIix0aGlzLm1vdXNldXApO30senIucHJvdG90eXBlLm1vdXNlbW92ZT1mdW5jdGlvbih0KXt0aGlzLm1vdmUodCxpLm1vdXNlUG9zKHRoaXMuZWxlbWVudCx0KSk7fSx6ci5wcm90b3R5cGUubW91c2V1cD1mdW5jdGlvbih0KXt0aGlzLm1vdXNlUm90YXRlLm1vdXNldXBXaW5kb3codCksdGhpcy5tb3VzZVBpdGNoJiZ0aGlzLm1vdXNlUGl0Y2gubW91c2V1cFdpbmRvdyh0KSx0aGlzLm9mZlRlbXAoKTt9LHpyLnByb3RvdHlwZS50b3VjaHN0YXJ0PWZ1bmN0aW9uKHQpezEhPT10LnRhcmdldFRvdWNoZXMubGVuZ3RoP3RoaXMucmVzZXQoKToodGhpcy5fc3RhcnRQb3M9dGhpcy5fbGFzdFBvcz1pLnRvdWNoUG9zKHRoaXMuZWxlbWVudCx0LnRhcmdldFRvdWNoZXMpWzBdLHRoaXMuZG93bih7dHlwZToibW91c2Vkb3duIixidXR0b246MCxjdHJsS2V5OiEwLHByZXZlbnREZWZhdWx0OmZ1bmN0aW9uKCl7cmV0dXJuIHQucHJldmVudERlZmF1bHQoKX19LHRoaXMuX3N0YXJ0UG9zKSk7fSx6ci5wcm90b3R5cGUudG91Y2htb3ZlPWZ1bmN0aW9uKHQpezEhPT10LnRhcmdldFRvdWNoZXMubGVuZ3RoP3RoaXMucmVzZXQoKToodGhpcy5fbGFzdFBvcz1pLnRvdWNoUG9zKHRoaXMuZWxlbWVudCx0LnRhcmdldFRvdWNoZXMpWzBdLHRoaXMubW92ZSh7cHJldmVudERlZmF1bHQ6ZnVuY3Rpb24oKXtyZXR1cm4gdC5wcmV2ZW50RGVmYXVsdCgpfX0sdGhpcy5fbGFzdFBvcykpO30senIucHJvdG90eXBlLnRvdWNoZW5kPWZ1bmN0aW9uKHQpezA9PT10LnRhcmdldFRvdWNoZXMubGVuZ3RoJiZ0aGlzLl9zdGFydFBvcyYmdGhpcy5fbGFzdFBvcyYmdGhpcy5fc3RhcnRQb3MuZGlzdCh0aGlzLl9sYXN0UG9zKTx0aGlzLl9jbGlja1RvbGVyYW5jZSYmdGhpcy5lbGVtZW50LmNsaWNrKCksdGhpcy5yZXNldCgpO30senIucHJvdG90eXBlLnJlc2V0PWZ1bmN0aW9uKCl7dGhpcy5tb3VzZVJvdGF0ZS5yZXNldCgpLHRoaXMubW91c2VQaXRjaCYmdGhpcy5tb3VzZVBpdGNoLnJlc2V0KCksZGVsZXRlIHRoaXMuX3N0YXJ0UG9zLGRlbGV0ZSB0aGlzLl9sYXN0UG9zLHRoaXMub2ZmVGVtcCgpO307dmFyIE1yPXtjZW50ZXI6InRyYW5zbGF0ZSgtNTAlLC01MCUpIix0b3A6InRyYW5zbGF0ZSgtNTAlLDApIiwidG9wLWxlZnQiOiJ0cmFuc2xhdGUoMCwwKSIsInRvcC1yaWdodCI6InRyYW5zbGF0ZSgtMTAwJSwwKSIsYm90dG9tOiJ0cmFuc2xhdGUoLTUwJSwtMTAwJSkiLCJib3R0b20tbGVmdCI6InRyYW5zbGF0ZSgwLC0xMDAlKSIsImJvdHRvbS1yaWdodCI6InRyYW5zbGF0ZSgtMTAwJSwtMTAwJSkiLGxlZnQ6InRyYW5zbGF0ZSgwLC01MCUpIixyaWdodDoidHJhbnNsYXRlKC0xMDAlLC01MCUpIn07ZnVuY3Rpb24gQXIodCxlLGkpe3ZhciBvPXQuY2xhc3NMaXN0O2Zvcih2YXIgciBpbiBNcilvLnJlbW92ZSgibWFwYm94Z2wtIitpKyItYW5jaG9yLSIrcik7by5hZGQoIm1hcGJveGdsLSIraSsiLWFuY2hvci0iK2UpO312YXIgTHIsUnI9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gbyhvLHIpe3ZhciBhPXRoaXM7aWYoZS5jYWxsKHRoaXMpLChvIGluc3RhbmNlb2YgdC53aW5kb3cuSFRNTEVsZW1lbnR8fHIpJiYobz10LmV4dGVuZCh7ZWxlbWVudDpvfSxyKSksdC5iaW5kQWxsKFsiX3VwZGF0ZSIsIl9vbk1vdmUiLCJfb25VcCIsIl9hZGREcmFnSGFuZGxlciIsIl9vbk1hcENsaWNrIiwiX29uS2V5UHJlc3MiXSx0aGlzKSx0aGlzLl9hbmNob3I9byYmby5hbmNob3J8fCJjZW50ZXIiLHRoaXMuX2NvbG9yPW8mJm8uY29sb3J8fCIjM0ZCMUNFIix0aGlzLl9kcmFnZ2FibGU9byYmby5kcmFnZ2FibGV8fCExLHRoaXMuX3N0YXRlPSJpbmFjdGl2ZSIsdGhpcy5fcm90YXRpb249byYmby5yb3RhdGlvbnx8MCx0aGlzLl9yb3RhdGlvbkFsaWdubWVudD1vJiZvLnJvdGF0aW9uQWxpZ25tZW50fHwiYXV0byIsdGhpcy5fcGl0Y2hBbGlnbm1lbnQ9byYmby5waXRjaEFsaWdubWVudCYmImF1dG8iIT09by5waXRjaEFsaWdubWVudD9vLnBpdGNoQWxpZ25tZW50OnRoaXMuX3JvdGF0aW9uQWxpZ25tZW50LG8mJm8uZWxlbWVudCl0aGlzLl9lbGVtZW50PW8uZWxlbWVudCx0aGlzLl9vZmZzZXQ9dC5Qb2ludC5jb252ZXJ0KG8mJm8ub2Zmc2V0fHxbMCwwXSk7ZWxzZSB7dGhpcy5fZGVmYXVsdE1hcmtlcj0hMCx0aGlzLl9lbGVtZW50PWkuY3JlYXRlKCJkaXYiKSx0aGlzLl9lbGVtZW50LnNldEF0dHJpYnV0ZSgiYXJpYS1sYWJlbCIsIk1hcCBtYXJrZXIiKTt2YXIgbj1pLmNyZWF0ZU5TKCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIsInN2ZyIpO24uc2V0QXR0cmlidXRlTlMobnVsbCwiZGlzcGxheSIsImJsb2NrIiksbi5zZXRBdHRyaWJ1dGVOUyhudWxsLCJoZWlnaHQiLCI0MXB4Iiksbi5zZXRBdHRyaWJ1dGVOUyhudWxsLCJ3aWR0aCIsIjI3cHgiKSxuLnNldEF0dHJpYnV0ZU5TKG51bGwsInZpZXdCb3giLCIwIDAgMjcgNDEiKTt2YXIgcz1pLmNyZWF0ZU5TKCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIsImciKTtzLnNldEF0dHJpYnV0ZU5TKG51bGwsInN0cm9rZSIsIm5vbmUiKSxzLnNldEF0dHJpYnV0ZU5TKG51bGwsInN0cm9rZS13aWR0aCIsIjEiKSxzLnNldEF0dHJpYnV0ZU5TKG51bGwsImZpbGwiLCJub25lIikscy5zZXRBdHRyaWJ1dGVOUyhudWxsLCJmaWxsLXJ1bGUiLCJldmVub2RkIik7dmFyIGw9aS5jcmVhdGVOUygiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciLCJnIik7bC5zZXRBdHRyaWJ1dGVOUyhudWxsLCJmaWxsLXJ1bGUiLCJub256ZXJvIik7dmFyIGM9aS5jcmVhdGVOUygiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciLCJnIik7Yy5zZXRBdHRyaWJ1dGVOUyhudWxsLCJ0cmFuc2Zvcm0iLCJ0cmFuc2xhdGUoMy4wLCAyOS4wKSIpLGMuc2V0QXR0cmlidXRlTlMobnVsbCwiZmlsbCIsIiMwMDAwMDAiKTtmb3IodmFyIHU9MCxoPVt7cng6IjEwLjUiLHJ5OiI1LjI1MDAyMjczIn0se3J4OiIxMC41IixyeToiNS4yNTAwMjI3MyJ9LHtyeDoiOS41IixyeToiNC43NzI3NTAwNyJ9LHtyeDoiOC41IixyeToiNC4yOTU0OTkzNiJ9LHtyeDoiNy41IixyeToiMy44MTgyMjMwOCJ9LHtyeDoiNi41IixyeToiMy4zNDA5NDY3OSJ9LHtyeDoiNS41IixyeToiMi44NjM2NzA1MSJ9LHtyeDoiNC41IixyeToiMi4zODYzNjg2NCJ9XTt1PGgubGVuZ3RoO3UrPTEpe3ZhciBwPWhbdV0sZD1pLmNyZWF0ZU5TKCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIsImVsbGlwc2UiKTtkLnNldEF0dHJpYnV0ZU5TKG51bGwsIm9wYWNpdHkiLCIwLjA0IiksZC5zZXRBdHRyaWJ1dGVOUyhudWxsLCJjeCIsIjEwLjUiKSxkLnNldEF0dHJpYnV0ZU5TKG51bGwsImN5IiwiNS44MDAyOTAwOCIpLGQuc2V0QXR0cmlidXRlTlMobnVsbCwicngiLHAucngpLGQuc2V0QXR0cmlidXRlTlMobnVsbCwicnkiLHAucnkpLGMuYXBwZW5kQ2hpbGQoZCk7fXZhciBfPWkuY3JlYXRlTlMoImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiwiZyIpO18uc2V0QXR0cmlidXRlTlMobnVsbCwiZmlsbCIsdGhpcy5fY29sb3IpO3ZhciBmPWkuY3JlYXRlTlMoImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiwicGF0aCIpO2Yuc2V0QXR0cmlidXRlTlMobnVsbCwiZCIsIk0yNywxMy41IEMyNywxOS4wNzQ2NDQgMjAuMjUwMDAxLDI3LjAwMDAwMiAxNC43NSwzNC41MDAwMDIgQzE0LjAxNjY2NSwzNS41MDAwMDQgMTIuOTgzMzM1LDM1LjUwMDAwNCAxMi4yNSwzNC41MDAwMDIgQzYuNzQ5OTk5MywyNy4wMDAwMDIgMCwxOS4yMjI1NjIgMCwxMy41IEMwLDYuMDQ0MTU1OSA2LjA0NDE1NTksMCAxMy41LDAgQzIwLjk1NTg0NCwwIDI3LDYuMDQ0MTU1OSAyNywxMy41IFoiKSxfLmFwcGVuZENoaWxkKGYpO3ZhciBtPWkuY3JlYXRlTlMoImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiwiZyIpO20uc2V0QXR0cmlidXRlTlMobnVsbCwib3BhY2l0eSIsIjAuMjUiKSxtLnNldEF0dHJpYnV0ZU5TKG51bGwsImZpbGwiLCIjMDAwMDAwIik7dmFyIGc9aS5jcmVhdGVOUygiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciLCJwYXRoIik7Zy5zZXRBdHRyaWJ1dGVOUyhudWxsLCJkIiwiTTEzLjUsMCBDNi4wNDQxNTU5LDAgMCw2LjA0NDE1NTkgMCwxMy41IEMwLDE5LjIyMjU2MiA2Ljc0OTk5OTMsMjcgMTIuMjUsMzQuNSBDMTMsMzUuNTIyNzI3IDE0LjAxNjY2NCwzNS41MDAwMDQgMTQuNzUsMzQuNSBDMjAuMjUwMDAxLDI3IDI3LDE5LjA3NDY0NCAyNywxMy41IEMyNyw2LjA0NDE1NTkgMjAuOTU1ODQ0LDAgMTMuNSwwIFogTTEzLjUsMSBDMjAuNDE1NDA0LDEgMjYsNi41ODQ1OTYgMjYsMTMuNSBDMjYsMTUuODk4NjU3IDI0LjQ5NTU4NCwxOS4xODE0MzEgMjIuMjIwNzAzLDIyLjczODI4MSBDMTkuOTQ1ODIzLDI2LjI5NTEzMiAxNi43MDUxMTksMzAuMTQyMTY3IDEzLjk0MzM1OSwzMy45MDgyMDMgQzEzLjc0MzQ0NSwzNC4xODA4MTQgMTMuNjEyNzE1LDM0LjMyMjczOCAxMy41LDM0LjQ0MTQwNiBDMTMuMzg3Mjg1LDM0LjMyMjczOCAxMy4yNTY1NTUsMzQuMTgwODE0IDEzLjA1NjY0MSwzMy45MDgyMDMgQzEwLjI4NDQ4MSwzMC4xMjc5ODUgNy40MTQ4Njg0LDI2LjMxNDE1OSA1LjAxNTYyNSwyMi43NzM0MzggQzIuNjE2MzgxNiwxOS4yMzI3MTUgMSwxNS45NTM1MzggMSwxMy41IEMxLDYuNTg0NTk2IDYuNTg0NTk2LDEgMTMuNSwxIFoiKSxtLmFwcGVuZENoaWxkKGcpO3ZhciB2PWkuY3JlYXRlTlMoImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiwiZyIpO3Yuc2V0QXR0cmlidXRlTlMobnVsbCwidHJhbnNmb3JtIiwidHJhbnNsYXRlKDYuMCwgNy4wKSIpLHYuc2V0QXR0cmlidXRlTlMobnVsbCwiZmlsbCIsIiNGRkZGRkYiKTt2YXIgeT1pLmNyZWF0ZU5TKCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIsImciKTt5LnNldEF0dHJpYnV0ZU5TKG51bGwsInRyYW5zZm9ybSIsInRyYW5zbGF0ZSg4LjAsIDguMCkiKTt2YXIgeD1pLmNyZWF0ZU5TKCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIsImNpcmNsZSIpO3guc2V0QXR0cmlidXRlTlMobnVsbCwiZmlsbCIsIiMwMDAwMDAiKSx4LnNldEF0dHJpYnV0ZU5TKG51bGwsIm9wYWNpdHkiLCIwLjI1IikseC5zZXRBdHRyaWJ1dGVOUyhudWxsLCJjeCIsIjUuNSIpLHguc2V0QXR0cmlidXRlTlMobnVsbCwiY3kiLCI1LjUiKSx4LnNldEF0dHJpYnV0ZU5TKG51bGwsInIiLCI1LjQ5OTk5NjIiKTt2YXIgYj1pLmNyZWF0ZU5TKCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIsImNpcmNsZSIpO2Iuc2V0QXR0cmlidXRlTlMobnVsbCwiZmlsbCIsIiNGRkZGRkYiKSxiLnNldEF0dHJpYnV0ZU5TKG51bGwsImN4IiwiNS41IiksYi5zZXRBdHRyaWJ1dGVOUyhudWxsLCJjeSIsIjUuNSIpLGIuc2V0QXR0cmlidXRlTlMobnVsbCwiciIsIjUuNDk5OTk2MiIpLHkuYXBwZW5kQ2hpbGQoeCkseS5hcHBlbmRDaGlsZChiKSxsLmFwcGVuZENoaWxkKGMpLGwuYXBwZW5kQ2hpbGQoXyksbC5hcHBlbmRDaGlsZChtKSxsLmFwcGVuZENoaWxkKHYpLGwuYXBwZW5kQ2hpbGQoeSksbi5hcHBlbmRDaGlsZChsKSx0aGlzLl9lbGVtZW50LmFwcGVuZENoaWxkKG4pLHRoaXMuX29mZnNldD10LlBvaW50LmNvbnZlcnQobyYmby5vZmZzZXR8fFswLC0xNF0pO310aGlzLl9lbGVtZW50LmNsYXNzTGlzdC5hZGQoIm1hcGJveGdsLW1hcmtlciIpLHRoaXMuX2VsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigiZHJhZ3N0YXJ0IiwoZnVuY3Rpb24odCl7dC5wcmV2ZW50RGVmYXVsdCgpO30pKSx0aGlzLl9lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoIm1vdXNlZG93biIsKGZ1bmN0aW9uKHQpe3QucHJldmVudERlZmF1bHQoKTt9KSksdGhpcy5fZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCJmb2N1cyIsKGZ1bmN0aW9uKCl7dmFyIHQ9YS5fbWFwLmdldENvbnRhaW5lcigpO3Quc2Nyb2xsVG9wPTAsdC5zY3JvbGxMZWZ0PTA7fSkpLEFyKHRoaXMuX2VsZW1lbnQsdGhpcy5fYW5jaG9yLCJtYXJrZXIiKSx0aGlzLl9wb3B1cD1udWxsO31yZXR1cm4gZSYmKG8uX19wcm90b19fPWUpLChvLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGUmJmUucHJvdG90eXBlKSkuY29uc3RydWN0b3I9byxvLnByb3RvdHlwZS5hZGRUbz1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5yZW1vdmUoKSx0aGlzLl9tYXA9dCx0LmdldENhbnZhc0NvbnRhaW5lcigpLmFwcGVuZENoaWxkKHRoaXMuX2VsZW1lbnQpLHQub24oIm1vdmUiLHRoaXMuX3VwZGF0ZSksdC5vbigibW92ZWVuZCIsdGhpcy5fdXBkYXRlKSx0aGlzLnNldERyYWdnYWJsZSh0aGlzLl9kcmFnZ2FibGUpLHRoaXMuX3VwZGF0ZSgpLHRoaXMuX21hcC5vbigiY2xpY2siLHRoaXMuX29uTWFwQ2xpY2spLHRoaXN9LG8ucHJvdG90eXBlLnJlbW92ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9tYXAmJih0aGlzLl9tYXAub2ZmKCJjbGljayIsdGhpcy5fb25NYXBDbGljayksdGhpcy5fbWFwLm9mZigibW92ZSIsdGhpcy5fdXBkYXRlKSx0aGlzLl9tYXAub2ZmKCJtb3ZlZW5kIix0aGlzLl91cGRhdGUpLHRoaXMuX21hcC5vZmYoIm1vdXNlZG93biIsdGhpcy5fYWRkRHJhZ0hhbmRsZXIpLHRoaXMuX21hcC5vZmYoInRvdWNoc3RhcnQiLHRoaXMuX2FkZERyYWdIYW5kbGVyKSx0aGlzLl9tYXAub2ZmKCJtb3VzZXVwIix0aGlzLl9vblVwKSx0aGlzLl9tYXAub2ZmKCJ0b3VjaGVuZCIsdGhpcy5fb25VcCksdGhpcy5fbWFwLm9mZigibW91c2Vtb3ZlIix0aGlzLl9vbk1vdmUpLHRoaXMuX21hcC5vZmYoInRvdWNobW92ZSIsdGhpcy5fb25Nb3ZlKSxkZWxldGUgdGhpcy5fbWFwKSxpLnJlbW92ZSh0aGlzLl9lbGVtZW50KSx0aGlzLl9wb3B1cCYmdGhpcy5fcG9wdXAucmVtb3ZlKCksdGhpc30sby5wcm90b3R5cGUuZ2V0TG5nTGF0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2xuZ0xhdH0sby5wcm90b3R5cGUuc2V0TG5nTGF0PWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9sbmdMYXQ9dC5MbmdMYXQuY29udmVydChlKSx0aGlzLl9wb3M9bnVsbCx0aGlzLl9wb3B1cCYmdGhpcy5fcG9wdXAuc2V0TG5nTGF0KHRoaXMuX2xuZ0xhdCksdGhpcy5fdXBkYXRlKCksdGhpc30sby5wcm90b3R5cGUuZ2V0RWxlbWVudD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9lbGVtZW50fSxvLnByb3RvdHlwZS5zZXRQb3B1cD1mdW5jdGlvbih0KXtpZih0aGlzLl9wb3B1cCYmKHRoaXMuX3BvcHVwLnJlbW92ZSgpLHRoaXMuX3BvcHVwPW51bGwsdGhpcy5fZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCJrZXlwcmVzcyIsdGhpcy5fb25LZXlQcmVzcyksdGhpcy5fb3JpZ2luYWxUYWJJbmRleHx8dGhpcy5fZWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoInRhYmluZGV4IikpLHQpe2lmKCEoIm9mZnNldCJpbiB0Lm9wdGlvbnMpKXt2YXIgZT1NYXRoLnNxcnQoTWF0aC5wb3coMTMuNSwyKS8yKTt0Lm9wdGlvbnMub2Zmc2V0PXRoaXMuX2RlZmF1bHRNYXJrZXI/e3RvcDpbMCwwXSwidG9wLWxlZnQiOlswLDBdLCJ0b3AtcmlnaHQiOlswLDBdLGJvdHRvbTpbMCwtMzguMV0sImJvdHRvbS1sZWZ0IjpbZSwtMSooMjQuNitlKV0sImJvdHRvbS1yaWdodCI6Wy1lLC0xKigyNC42K2UpXSxsZWZ0OlsxMy41LC0yNC42XSxyaWdodDpbLTEzLjUsLTI0LjZdfTp0aGlzLl9vZmZzZXQ7fXRoaXMuX3BvcHVwPXQsdGhpcy5fbG5nTGF0JiZ0aGlzLl9wb3B1cC5zZXRMbmdMYXQodGhpcy5fbG5nTGF0KSx0aGlzLl9vcmlnaW5hbFRhYkluZGV4PXRoaXMuX2VsZW1lbnQuZ2V0QXR0cmlidXRlKCJ0YWJpbmRleCIpLHRoaXMuX29yaWdpbmFsVGFiSW5kZXh8fHRoaXMuX2VsZW1lbnQuc2V0QXR0cmlidXRlKCJ0YWJpbmRleCIsIjAiKSx0aGlzLl9lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoImtleXByZXNzIix0aGlzLl9vbktleVByZXNzKTt9cmV0dXJuIHRoaXN9LG8ucHJvdG90eXBlLl9vbktleVByZXNzPWZ1bmN0aW9uKHQpe3ZhciBlPXQuY29kZSxpPXQuY2hhckNvZGV8fHQua2V5Q29kZTsiU3BhY2UiIT09ZSYmIkVudGVyIiE9PWUmJjMyIT09aSYmMTMhPT1pfHx0aGlzLnRvZ2dsZVBvcHVwKCk7fSxvLnByb3RvdHlwZS5fb25NYXBDbGljaz1mdW5jdGlvbih0KXt2YXIgZT10Lm9yaWdpbmFsRXZlbnQudGFyZ2V0LGk9dGhpcy5fZWxlbWVudDt0aGlzLl9wb3B1cCYmKGU9PT1pfHxpLmNvbnRhaW5zKGUpKSYmdGhpcy50b2dnbGVQb3B1cCgpO30sby5wcm90b3R5cGUuZ2V0UG9wdXA9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcG9wdXB9LG8ucHJvdG90eXBlLnRvZ2dsZVBvcHVwPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fcG9wdXA7cmV0dXJuIHQ/KHQuaXNPcGVuKCk/dC5yZW1vdmUoKTp0LmFkZFRvKHRoaXMuX21hcCksdGhpcyk6dGhpc30sby5wcm90b3R5cGUuX3VwZGF0ZT1mdW5jdGlvbih0KXtpZih0aGlzLl9tYXApe3RoaXMuX21hcC50cmFuc2Zvcm0ucmVuZGVyV29ybGRDb3BpZXMmJih0aGlzLl9sbmdMYXQ9RHIodGhpcy5fbG5nTGF0LHRoaXMuX3Bvcyx0aGlzLl9tYXAudHJhbnNmb3JtKSksdGhpcy5fcG9zPXRoaXMuX21hcC5wcm9qZWN0KHRoaXMuX2xuZ0xhdCkuX2FkZCh0aGlzLl9vZmZzZXQpO3ZhciBlPSIiOyJ2aWV3cG9ydCI9PT10aGlzLl9yb3RhdGlvbkFsaWdubWVudHx8ImF1dG8iPT09dGhpcy5fcm90YXRpb25BbGlnbm1lbnQ/ZT0icm90YXRlWigiK3RoaXMuX3JvdGF0aW9uKyJkZWcpIjoibWFwIj09PXRoaXMuX3JvdGF0aW9uQWxpZ25tZW50JiYoZT0icm90YXRlWigiKyh0aGlzLl9yb3RhdGlvbi10aGlzLl9tYXAuZ2V0QmVhcmluZygpKSsiZGVnKSIpO3ZhciBvPSIiOyJ2aWV3cG9ydCI9PT10aGlzLl9waXRjaEFsaWdubWVudHx8ImF1dG8iPT09dGhpcy5fcGl0Y2hBbGlnbm1lbnQ/bz0icm90YXRlWCgwZGVnKSI6Im1hcCI9PT10aGlzLl9waXRjaEFsaWdubWVudCYmKG89InJvdGF0ZVgoIit0aGlzLl9tYXAuZ2V0UGl0Y2goKSsiZGVnKSIpLHQmJiJtb3ZlZW5kIiE9PXQudHlwZXx8KHRoaXMuX3Bvcz10aGlzLl9wb3Mucm91bmQoKSksaS5zZXRUcmFuc2Zvcm0odGhpcy5fZWxlbWVudCxNclt0aGlzLl9hbmNob3JdKyIgdHJhbnNsYXRlKCIrdGhpcy5fcG9zLngrInB4LCAiK3RoaXMuX3Bvcy55KyJweCkgIitvKyIgIitlKTt9fSxvLnByb3RvdHlwZS5nZXRPZmZzZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fb2Zmc2V0fSxvLnByb3RvdHlwZS5zZXRPZmZzZXQ9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX29mZnNldD10LlBvaW50LmNvbnZlcnQoZSksdGhpcy5fdXBkYXRlKCksdGhpc30sby5wcm90b3R5cGUuX29uTW92ZT1mdW5jdGlvbihlKXt0aGlzLl9wb3M9ZS5wb2ludC5zdWIodGhpcy5fcG9zaXRpb25EZWx0YSksdGhpcy5fbG5nTGF0PXRoaXMuX21hcC51bnByb2plY3QodGhpcy5fcG9zKSx0aGlzLnNldExuZ0xhdCh0aGlzLl9sbmdMYXQpLHRoaXMuX2VsZW1lbnQuc3R5bGUucG9pbnRlckV2ZW50cz0ibm9uZSIsInBlbmRpbmciPT09dGhpcy5fc3RhdGUmJih0aGlzLl9zdGF0ZT0iYWN0aXZlIix0aGlzLmZpcmUobmV3IHQuRXZlbnQoImRyYWdzdGFydCIpKSksdGhpcy5maXJlKG5ldyB0LkV2ZW50KCJkcmFnIikpO30sby5wcm90b3R5cGUuX29uVXA9ZnVuY3Rpb24oKXt0aGlzLl9lbGVtZW50LnN0eWxlLnBvaW50ZXJFdmVudHM9ImF1dG8iLHRoaXMuX3Bvc2l0aW9uRGVsdGE9bnVsbCx0aGlzLl9tYXAub2ZmKCJtb3VzZW1vdmUiLHRoaXMuX29uTW92ZSksdGhpcy5fbWFwLm9mZigidG91Y2htb3ZlIix0aGlzLl9vbk1vdmUpLCJhY3RpdmUiPT09dGhpcy5fc3RhdGUmJnRoaXMuZmlyZShuZXcgdC5FdmVudCgiZHJhZ2VuZCIpKSx0aGlzLl9zdGF0ZT0iaW5hY3RpdmUiO30sby5wcm90b3R5cGUuX2FkZERyYWdIYW5kbGVyPWZ1bmN0aW9uKHQpe3RoaXMuX2VsZW1lbnQuY29udGFpbnModC5vcmlnaW5hbEV2ZW50LnRhcmdldCkmJih0LnByZXZlbnREZWZhdWx0KCksdGhpcy5fcG9zaXRpb25EZWx0YT10LnBvaW50LnN1Yih0aGlzLl9wb3MpLmFkZCh0aGlzLl9vZmZzZXQpLHRoaXMuX3N0YXRlPSJwZW5kaW5nIix0aGlzLl9tYXAub24oIm1vdXNlbW92ZSIsdGhpcy5fb25Nb3ZlKSx0aGlzLl9tYXAub24oInRvdWNobW92ZSIsdGhpcy5fb25Nb3ZlKSx0aGlzLl9tYXAub25jZSgibW91c2V1cCIsdGhpcy5fb25VcCksdGhpcy5fbWFwLm9uY2UoInRvdWNoZW5kIix0aGlzLl9vblVwKSk7fSxvLnByb3RvdHlwZS5zZXREcmFnZ2FibGU9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2RyYWdnYWJsZT0hIXQsdGhpcy5fbWFwJiYodD8odGhpcy5fbWFwLm9uKCJtb3VzZWRvd24iLHRoaXMuX2FkZERyYWdIYW5kbGVyKSx0aGlzLl9tYXAub24oInRvdWNoc3RhcnQiLHRoaXMuX2FkZERyYWdIYW5kbGVyKSk6KHRoaXMuX21hcC5vZmYoIm1vdXNlZG93biIsdGhpcy5fYWRkRHJhZ0hhbmRsZXIpLHRoaXMuX21hcC5vZmYoInRvdWNoc3RhcnQiLHRoaXMuX2FkZERyYWdIYW5kbGVyKSkpLHRoaXN9LG8ucHJvdG90eXBlLmlzRHJhZ2dhYmxlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2RyYWdnYWJsZX0sby5wcm90b3R5cGUuc2V0Um90YXRpb249ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX3JvdGF0aW9uPXR8fDAsdGhpcy5fdXBkYXRlKCksdGhpc30sby5wcm90b3R5cGUuZ2V0Um90YXRpb249ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcm90YXRpb259LG8ucHJvdG90eXBlLnNldFJvdGF0aW9uQWxpZ25tZW50PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9yb3RhdGlvbkFsaWdubWVudD10fHwiYXV0byIsdGhpcy5fdXBkYXRlKCksdGhpc30sby5wcm90b3R5cGUuZ2V0Um90YXRpb25BbGlnbm1lbnQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcm90YXRpb25BbGlnbm1lbnR9LG8ucHJvdG90eXBlLnNldFBpdGNoQWxpZ25tZW50PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9waXRjaEFsaWdubWVudD10JiYiYXV0byIhPT10P3Q6dGhpcy5fcm90YXRpb25BbGlnbm1lbnQsdGhpcy5fdXBkYXRlKCksdGhpc30sby5wcm90b3R5cGUuZ2V0UGl0Y2hBbGlnbm1lbnQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcGl0Y2hBbGlnbm1lbnR9LG99KHQuRXZlbnRlZCksa3I9e3Bvc2l0aW9uT3B0aW9uczp7ZW5hYmxlSGlnaEFjY3VyYWN5OiExLG1heGltdW1BZ2U6MCx0aW1lb3V0OjZlM30sZml0Qm91bmRzT3B0aW9uczp7bWF4Wm9vbToxNX0sdHJhY2tVc2VyTG9jYXRpb246ITEsc2hvd0FjY3VyYWN5Q2lyY2xlOiEwLHNob3dVc2VyTG9jYXRpb246ITB9LEJyPTAsT3I9ITEsRnI9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gbyhpKXtlLmNhbGwodGhpcyksdGhpcy5vcHRpb25zPXQuZXh0ZW5kKHt9LGtyLGkpLHQuYmluZEFsbChbIl9vblN1Y2Nlc3MiLCJfb25FcnJvciIsIl9vblpvb20iLCJfZmluaXNoIiwiX3NldHVwVUkiLCJfdXBkYXRlQ2FtZXJhIiwiX3VwZGF0ZU1hcmtlciJdLHRoaXMpO31yZXR1cm4gZSYmKG8uX19wcm90b19fPWUpLChvLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGUmJmUucHJvdG90eXBlKSkuY29uc3RydWN0b3I9byxvLnByb3RvdHlwZS5vbkFkZD1mdW5jdGlvbihlKXt2YXIgbztyZXR1cm4gdGhpcy5fbWFwPWUsdGhpcy5fY29udGFpbmVyPWkuY3JlYXRlKCJkaXYiLCJtYXBib3hnbC1jdHJsIG1hcGJveGdsLWN0cmwtZ3JvdXAiKSxvPXRoaXMuX3NldHVwVUksdm9pZCAwIT09THI/byhMcik6dm9pZCAwIT09dC53aW5kb3cubmF2aWdhdG9yLnBlcm1pc3Npb25zP3Qud2luZG93Lm5hdmlnYXRvci5wZXJtaXNzaW9ucy5xdWVyeSh7bmFtZToiZ2VvbG9jYXRpb24ifSkudGhlbigoZnVuY3Rpb24odCl7byhMcj0iZGVuaWVkIiE9PXQuc3RhdGUpO30pKTpvKExyPSEhdC53aW5kb3cubmF2aWdhdG9yLmdlb2xvY2F0aW9uKSx0aGlzLl9jb250YWluZXJ9LG8ucHJvdG90eXBlLm9uUmVtb3ZlPWZ1bmN0aW9uKCl7dm9pZCAwIT09dGhpcy5fZ2VvbG9jYXRpb25XYXRjaElEJiYodC53aW5kb3cubmF2aWdhdG9yLmdlb2xvY2F0aW9uLmNsZWFyV2F0Y2godGhpcy5fZ2VvbG9jYXRpb25XYXRjaElEKSx0aGlzLl9nZW9sb2NhdGlvbldhdGNoSUQ9dm9pZCAwKSx0aGlzLm9wdGlvbnMuc2hvd1VzZXJMb2NhdGlvbiYmdGhpcy5fdXNlckxvY2F0aW9uRG90TWFya2VyJiZ0aGlzLl91c2VyTG9jYXRpb25Eb3RNYXJrZXIucmVtb3ZlKCksdGhpcy5vcHRpb25zLnNob3dBY2N1cmFjeUNpcmNsZSYmdGhpcy5fYWNjdXJhY3lDaXJjbGVNYXJrZXImJnRoaXMuX2FjY3VyYWN5Q2lyY2xlTWFya2VyLnJlbW92ZSgpLGkucmVtb3ZlKHRoaXMuX2NvbnRhaW5lciksdGhpcy5fbWFwLm9mZigiem9vbSIsdGhpcy5fb25ab29tKSx0aGlzLl9tYXA9dm9pZCAwLEJyPTAsT3I9ITE7fSxvLnByb3RvdHlwZS5faXNPdXRPZk1hcE1heEJvdW5kcz1mdW5jdGlvbih0KXt2YXIgZT10aGlzLl9tYXAuZ2V0TWF4Qm91bmRzKCksaT10LmNvb3JkcztyZXR1cm4gZSYmKGkubG9uZ2l0dWRlPGUuZ2V0V2VzdCgpfHxpLmxvbmdpdHVkZT5lLmdldEVhc3QoKXx8aS5sYXRpdHVkZTxlLmdldFNvdXRoKCl8fGkubGF0aXR1ZGU+ZS5nZXROb3J0aCgpKX0sby5wcm90b3R5cGUuX3NldEVycm9yU3RhdGU9ZnVuY3Rpb24oKXtzd2l0Y2godGhpcy5fd2F0Y2hTdGF0ZSl7Y2FzZSJXQUlUSU5HX0FDVElWRSI6dGhpcy5fd2F0Y2hTdGF0ZT0iQUNUSVZFX0VSUk9SIix0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LnJlbW92ZSgibWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtYWN0aXZlIiksdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmNsYXNzTGlzdC5hZGQoIm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLWFjdGl2ZS1lcnJvciIpO2JyZWFrO2Nhc2UiQUNUSVZFX0xPQ0siOnRoaXMuX3dhdGNoU3RhdGU9IkFDVElWRV9FUlJPUiIsdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoIm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLWFjdGl2ZSIpLHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKCJtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS1hY3RpdmUtZXJyb3IiKSx0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LmFkZCgibWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtd2FpdGluZyIpO2JyZWFrO2Nhc2UiQkFDS0dST1VORCI6dGhpcy5fd2F0Y2hTdGF0ZT0iQkFDS0dST1VORF9FUlJPUiIsdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoIm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLWJhY2tncm91bmQiKSx0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LmFkZCgibWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtYmFja2dyb3VuZC1lcnJvciIpLHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKCJtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS13YWl0aW5nIik7fX0sby5wcm90b3R5cGUuX29uU3VjY2Vzcz1mdW5jdGlvbihlKXtpZih0aGlzLl9tYXApe2lmKHRoaXMuX2lzT3V0T2ZNYXBNYXhCb3VuZHMoZSkpcmV0dXJuIHRoaXMuX3NldEVycm9yU3RhdGUoKSx0aGlzLmZpcmUobmV3IHQuRXZlbnQoIm91dG9mbWF4Ym91bmRzIixlKSksdGhpcy5fdXBkYXRlTWFya2VyKCksdm9pZCB0aGlzLl9maW5pc2goKTtpZih0aGlzLm9wdGlvbnMudHJhY2tVc2VyTG9jYXRpb24pc3dpdGNoKHRoaXMuX2xhc3RLbm93blBvc2l0aW9uPWUsdGhpcy5fd2F0Y2hTdGF0ZSl7Y2FzZSJXQUlUSU5HX0FDVElWRSI6Y2FzZSJBQ1RJVkVfTE9DSyI6Y2FzZSJBQ1RJVkVfRVJST1IiOnRoaXMuX3dhdGNoU3RhdGU9IkFDVElWRV9MT0NLIix0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LnJlbW92ZSgibWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtd2FpdGluZyIpLHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKCJtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS1hY3RpdmUtZXJyb3IiKSx0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LmFkZCgibWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtYWN0aXZlIik7YnJlYWs7Y2FzZSJCQUNLR1JPVU5EIjpjYXNlIkJBQ0tHUk9VTkRfRVJST1IiOnRoaXMuX3dhdGNoU3RhdGU9IkJBQ0tHUk9VTkQiLHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKCJtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS13YWl0aW5nIiksdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoIm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLWJhY2tncm91bmQtZXJyb3IiKSx0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LmFkZCgibWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtYmFja2dyb3VuZCIpO310aGlzLm9wdGlvbnMuc2hvd1VzZXJMb2NhdGlvbiYmIk9GRiIhPT10aGlzLl93YXRjaFN0YXRlJiZ0aGlzLl91cGRhdGVNYXJrZXIoZSksdGhpcy5vcHRpb25zLnRyYWNrVXNlckxvY2F0aW9uJiYiQUNUSVZFX0xPQ0siIT09dGhpcy5fd2F0Y2hTdGF0ZXx8dGhpcy5fdXBkYXRlQ2FtZXJhKGUpLHRoaXMub3B0aW9ucy5zaG93VXNlckxvY2F0aW9uJiZ0aGlzLl9kb3RFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoIm1hcGJveGdsLXVzZXItbG9jYXRpb24tZG90LXN0YWxlIiksdGhpcy5maXJlKG5ldyB0LkV2ZW50KCJnZW9sb2NhdGUiLGUpKSx0aGlzLl9maW5pc2goKTt9fSxvLnByb3RvdHlwZS5fdXBkYXRlQ2FtZXJhPWZ1bmN0aW9uKGUpe3ZhciBpPW5ldyB0LkxuZ0xhdChlLmNvb3Jkcy5sb25naXR1ZGUsZS5jb29yZHMubGF0aXR1ZGUpLG89ZS5jb29yZHMuYWNjdXJhY3kscj10aGlzLl9tYXAuZ2V0QmVhcmluZygpLGE9dC5leHRlbmQoe2JlYXJpbmc6cn0sdGhpcy5vcHRpb25zLmZpdEJvdW5kc09wdGlvbnMpO3RoaXMuX21hcC5maXRCb3VuZHMoaS50b0JvdW5kcyhvKSxhLHtnZW9sb2NhdGVTb3VyY2U6ITB9KTt9LG8ucHJvdG90eXBlLl91cGRhdGVNYXJrZXI9ZnVuY3Rpb24oZSl7aWYoZSl7dmFyIGk9bmV3IHQuTG5nTGF0KGUuY29vcmRzLmxvbmdpdHVkZSxlLmNvb3Jkcy5sYXRpdHVkZSk7dGhpcy5fYWNjdXJhY3lDaXJjbGVNYXJrZXIuc2V0TG5nTGF0KGkpLmFkZFRvKHRoaXMuX21hcCksdGhpcy5fdXNlckxvY2F0aW9uRG90TWFya2VyLnNldExuZ0xhdChpKS5hZGRUbyh0aGlzLl9tYXApLHRoaXMuX2FjY3VyYWN5PWUuY29vcmRzLmFjY3VyYWN5LHRoaXMub3B0aW9ucy5zaG93VXNlckxvY2F0aW9uJiZ0aGlzLm9wdGlvbnMuc2hvd0FjY3VyYWN5Q2lyY2xlJiZ0aGlzLl91cGRhdGVDaXJjbGVSYWRpdXMoKTt9ZWxzZSB0aGlzLl91c2VyTG9jYXRpb25Eb3RNYXJrZXIucmVtb3ZlKCksdGhpcy5fYWNjdXJhY3lDaXJjbGVNYXJrZXIucmVtb3ZlKCk7fSxvLnByb3RvdHlwZS5fdXBkYXRlQ2lyY2xlUmFkaXVzPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fbWFwLl9jb250YWluZXIuY2xpZW50SGVpZ2h0LzIsZT10aGlzLl9tYXAudW5wcm9qZWN0KFswLHRdKSxpPXRoaXMuX21hcC51bnByb2plY3QoWzEsdF0pLG89ZS5kaXN0YW5jZVRvKGkpLHI9TWF0aC5jZWlsKDIqdGhpcy5fYWNjdXJhY3kvbyk7dGhpcy5fY2lyY2xlRWxlbWVudC5zdHlsZS53aWR0aD1yKyJweCIsdGhpcy5fY2lyY2xlRWxlbWVudC5zdHlsZS5oZWlnaHQ9cisicHgiO30sby5wcm90b3R5cGUuX29uWm9vbT1mdW5jdGlvbigpe3RoaXMub3B0aW9ucy5zaG93VXNlckxvY2F0aW9uJiZ0aGlzLm9wdGlvbnMuc2hvd0FjY3VyYWN5Q2lyY2xlJiZ0aGlzLl91cGRhdGVDaXJjbGVSYWRpdXMoKTt9LG8ucHJvdG90eXBlLl9vbkVycm9yPWZ1bmN0aW9uKGUpe2lmKHRoaXMuX21hcCl7aWYodGhpcy5vcHRpb25zLnRyYWNrVXNlckxvY2F0aW9uKWlmKDE9PT1lLmNvZGUpe3RoaXMuX3dhdGNoU3RhdGU9Ik9GRiIsdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoIm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLXdhaXRpbmciKSx0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LnJlbW92ZSgibWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtYWN0aXZlIiksdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoIm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLWFjdGl2ZS1lcnJvciIpLHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKCJtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS1iYWNrZ3JvdW5kIiksdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoIm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLWJhY2tncm91bmQtZXJyb3IiKSx0aGlzLl9nZW9sb2NhdGVCdXR0b24uZGlzYWJsZWQ9ITA7dmFyIGk9dGhpcy5fbWFwLl9nZXRVSVN0cmluZygiR2VvbG9jYXRlQ29udHJvbC5Mb2NhdGlvbk5vdEF2YWlsYWJsZSIpO3RoaXMuX2dlb2xvY2F0ZUJ1dHRvbi50aXRsZT1pLHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5zZXRBdHRyaWJ1dGUoImFyaWEtbGFiZWwiLGkpLHZvaWQgMCE9PXRoaXMuX2dlb2xvY2F0aW9uV2F0Y2hJRCYmdGhpcy5fY2xlYXJXYXRjaCgpO31lbHNlIHtpZigzPT09ZS5jb2RlJiZPcilyZXR1cm47dGhpcy5fc2V0RXJyb3JTdGF0ZSgpO30iT0ZGIiE9PXRoaXMuX3dhdGNoU3RhdGUmJnRoaXMub3B0aW9ucy5zaG93VXNlckxvY2F0aW9uJiZ0aGlzLl9kb3RFbGVtZW50LmNsYXNzTGlzdC5hZGQoIm1hcGJveGdsLXVzZXItbG9jYXRpb24tZG90LXN0YWxlIiksdGhpcy5maXJlKG5ldyB0LkV2ZW50KCJlcnJvciIsZSkpLHRoaXMuX2ZpbmlzaCgpO319LG8ucHJvdG90eXBlLl9maW5pc2g9ZnVuY3Rpb24oKXt0aGlzLl90aW1lb3V0SWQmJmNsZWFyVGltZW91dCh0aGlzLl90aW1lb3V0SWQpLHRoaXMuX3RpbWVvdXRJZD12b2lkIDA7fSxvLnByb3RvdHlwZS5fc2V0dXBVST1mdW5jdGlvbihlKXt2YXIgbz10aGlzO2lmKHRoaXMuX2NvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKCJjb250ZXh0bWVudSIsKGZ1bmN0aW9uKHQpe3JldHVybiB0LnByZXZlbnREZWZhdWx0KCl9KSksdGhpcy5fZ2VvbG9jYXRlQnV0dG9uPWkuY3JlYXRlKCJidXR0b24iLCJtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZSIsdGhpcy5fY29udGFpbmVyKSxpLmNyZWF0ZSgic3BhbiIsIm1hcGJveGdsLWN0cmwtaWNvbiIsdGhpcy5fZ2VvbG9jYXRlQnV0dG9uKS5zZXRBdHRyaWJ1dGUoImFyaWEtaGlkZGVuIiwhMCksdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLnR5cGU9ImJ1dHRvbiIsITE9PT1lKXt0Lndhcm5PbmNlKCJHZW9sb2NhdGlvbiBzdXBwb3J0IGlzIG5vdCBhdmFpbGFibGUgc28gdGhlIEdlb2xvY2F0ZUNvbnRyb2wgd2lsbCBiZSBkaXNhYmxlZC4iKTt2YXIgcj10aGlzLl9tYXAuX2dldFVJU3RyaW5nKCJHZW9sb2NhdGVDb250cm9sLkxvY2F0aW9uTm90QXZhaWxhYmxlIik7dGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmRpc2FibGVkPSEwLHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi50aXRsZT1yLHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5zZXRBdHRyaWJ1dGUoImFyaWEtbGFiZWwiLHIpO31lbHNlIHt2YXIgYT10aGlzLl9tYXAuX2dldFVJU3RyaW5nKCJHZW9sb2NhdGVDb250cm9sLkZpbmRNeUxvY2F0aW9uIik7dGhpcy5fZ2VvbG9jYXRlQnV0dG9uLnRpdGxlPWEsdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLnNldEF0dHJpYnV0ZSgiYXJpYS1sYWJlbCIsYSk7fXRoaXMub3B0aW9ucy50cmFja1VzZXJMb2NhdGlvbiYmKHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5zZXRBdHRyaWJ1dGUoImFyaWEtcHJlc3NlZCIsImZhbHNlIiksdGhpcy5fd2F0Y2hTdGF0ZT0iT0ZGIiksdGhpcy5vcHRpb25zLnNob3dVc2VyTG9jYXRpb24mJih0aGlzLl9kb3RFbGVtZW50PWkuY3JlYXRlKCJkaXYiLCJtYXBib3hnbC11c2VyLWxvY2F0aW9uLWRvdCIpLHRoaXMuX3VzZXJMb2NhdGlvbkRvdE1hcmtlcj1uZXcgUnIodGhpcy5fZG90RWxlbWVudCksdGhpcy5fY2lyY2xlRWxlbWVudD1pLmNyZWF0ZSgiZGl2IiwibWFwYm94Z2wtdXNlci1sb2NhdGlvbi1hY2N1cmFjeS1jaXJjbGUiKSx0aGlzLl9hY2N1cmFjeUNpcmNsZU1hcmtlcj1uZXcgUnIoe2VsZW1lbnQ6dGhpcy5fY2lyY2xlRWxlbWVudCxwaXRjaEFsaWdubWVudDoibWFwIn0pLHRoaXMub3B0aW9ucy50cmFja1VzZXJMb2NhdGlvbiYmKHRoaXMuX3dhdGNoU3RhdGU9Ik9GRiIpLHRoaXMuX21hcC5vbigiem9vbSIsdGhpcy5fb25ab29tKSksdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIix0aGlzLnRyaWdnZXIuYmluZCh0aGlzKSksdGhpcy5fc2V0dXA9ITAsdGhpcy5vcHRpb25zLnRyYWNrVXNlckxvY2F0aW9uJiZ0aGlzLl9tYXAub24oIm1vdmVzdGFydCIsKGZ1bmN0aW9uKGUpe2UuZ2VvbG9jYXRlU291cmNlfHwiQUNUSVZFX0xPQ0siIT09by5fd2F0Y2hTdGF0ZXx8ZS5vcmlnaW5hbEV2ZW50JiYicmVzaXplIj09PWUub3JpZ2luYWxFdmVudC50eXBlfHwoby5fd2F0Y2hTdGF0ZT0iQkFDS0dST1VORCIsby5fZ2VvbG9jYXRlQnV0dG9uLmNsYXNzTGlzdC5hZGQoIm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLWJhY2tncm91bmQiKSxvLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LnJlbW92ZSgibWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtYWN0aXZlIiksby5maXJlKG5ldyB0LkV2ZW50KCJ0cmFja3VzZXJsb2NhdGlvbmVuZCIpKSk7fSkpO30sby5wcm90b3R5cGUudHJpZ2dlcj1mdW5jdGlvbigpe2lmKCF0aGlzLl9zZXR1cClyZXR1cm4gdC53YXJuT25jZSgiR2VvbG9jYXRlIGNvbnRyb2wgdHJpZ2dlcmVkIGJlZm9yZSBhZGRlZCB0byBhIG1hcCIpLCExO2lmKHRoaXMub3B0aW9ucy50cmFja1VzZXJMb2NhdGlvbil7c3dpdGNoKHRoaXMuX3dhdGNoU3RhdGUpe2Nhc2UiT0ZGIjp0aGlzLl93YXRjaFN0YXRlPSJXQUlUSU5HX0FDVElWRSIsdGhpcy5maXJlKG5ldyB0LkV2ZW50KCJ0cmFja3VzZXJsb2NhdGlvbnN0YXJ0IikpO2JyZWFrO2Nhc2UiV0FJVElOR19BQ1RJVkUiOmNhc2UiQUNUSVZFX0xPQ0siOmNhc2UiQUNUSVZFX0VSUk9SIjpjYXNlIkJBQ0tHUk9VTkRfRVJST1IiOkJyLS0sT3I9ITEsdGhpcy5fd2F0Y2hTdGF0ZT0iT0ZGIix0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LnJlbW92ZSgibWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtd2FpdGluZyIpLHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKCJtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS1hY3RpdmUiKSx0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LnJlbW92ZSgibWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtYWN0aXZlLWVycm9yIiksdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoIm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLWJhY2tncm91bmQiKSx0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LnJlbW92ZSgibWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtYmFja2dyb3VuZC1lcnJvciIpLHRoaXMuZmlyZShuZXcgdC5FdmVudCgidHJhY2t1c2VybG9jYXRpb25lbmQiKSk7YnJlYWs7Y2FzZSJCQUNLR1JPVU5EIjp0aGlzLl93YXRjaFN0YXRlPSJBQ1RJVkVfTE9DSyIsdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoIm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLWJhY2tncm91bmQiKSx0aGlzLl9sYXN0S25vd25Qb3NpdGlvbiYmdGhpcy5fdXBkYXRlQ2FtZXJhKHRoaXMuX2xhc3RLbm93blBvc2l0aW9uKSx0aGlzLmZpcmUobmV3IHQuRXZlbnQoInRyYWNrdXNlcmxvY2F0aW9uc3RhcnQiKSk7fXN3aXRjaCh0aGlzLl93YXRjaFN0YXRlKXtjYXNlIldBSVRJTkdfQUNUSVZFIjp0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LmFkZCgibWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtd2FpdGluZyIpLHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKCJtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS1hY3RpdmUiKTticmVhaztjYXNlIkFDVElWRV9MT0NLIjp0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LmFkZCgibWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtYWN0aXZlIik7YnJlYWs7Y2FzZSJBQ1RJVkVfRVJST1IiOnRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKCJtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS13YWl0aW5nIiksdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmNsYXNzTGlzdC5hZGQoIm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLWFjdGl2ZS1lcnJvciIpO2JyZWFrO2Nhc2UiQkFDS0dST1VORCI6dGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmNsYXNzTGlzdC5hZGQoIm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLWJhY2tncm91bmQiKTticmVhaztjYXNlIkJBQ0tHUk9VTkRfRVJST1IiOnRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKCJtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS13YWl0aW5nIiksdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmNsYXNzTGlzdC5hZGQoIm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLWJhY2tncm91bmQtZXJyb3IiKTt9aWYoIk9GRiI9PT10aGlzLl93YXRjaFN0YXRlJiZ2b2lkIDAhPT10aGlzLl9nZW9sb2NhdGlvbldhdGNoSUQpdGhpcy5fY2xlYXJXYXRjaCgpO2Vsc2UgaWYodm9pZCAwPT09dGhpcy5fZ2VvbG9jYXRpb25XYXRjaElEKXt2YXIgZTt0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LmFkZCgibWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtd2FpdGluZyIpLHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5zZXRBdHRyaWJ1dGUoImFyaWEtcHJlc3NlZCIsInRydWUiKSwrK0JyPjE/KGU9e21heGltdW1BZ2U6NmU1LHRpbWVvdXQ6MH0sT3I9ITApOihlPXRoaXMub3B0aW9ucy5wb3NpdGlvbk9wdGlvbnMsT3I9ITEpLHRoaXMuX2dlb2xvY2F0aW9uV2F0Y2hJRD10LndpbmRvdy5uYXZpZ2F0b3IuZ2VvbG9jYXRpb24ud2F0Y2hQb3NpdGlvbih0aGlzLl9vblN1Y2Nlc3MsdGhpcy5fb25FcnJvcixlKTt9fWVsc2UgdC53aW5kb3cubmF2aWdhdG9yLmdlb2xvY2F0aW9uLmdldEN1cnJlbnRQb3NpdGlvbih0aGlzLl9vblN1Y2Nlc3MsdGhpcy5fb25FcnJvcix0aGlzLm9wdGlvbnMucG9zaXRpb25PcHRpb25zKSx0aGlzLl90aW1lb3V0SWQ9c2V0VGltZW91dCh0aGlzLl9maW5pc2gsMWU0KTtyZXR1cm4gITB9LG8ucHJvdG90eXBlLl9jbGVhcldhdGNoPWZ1bmN0aW9uKCl7dC53aW5kb3cubmF2aWdhdG9yLmdlb2xvY2F0aW9uLmNsZWFyV2F0Y2godGhpcy5fZ2VvbG9jYXRpb25XYXRjaElEKSx0aGlzLl9nZW9sb2NhdGlvbldhdGNoSUQ9dm9pZCAwLHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKCJtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS13YWl0aW5nIiksdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLnNldEF0dHJpYnV0ZSgiYXJpYS1wcmVzc2VkIiwiZmFsc2UiKSx0aGlzLm9wdGlvbnMuc2hvd1VzZXJMb2NhdGlvbiYmdGhpcy5fdXBkYXRlTWFya2VyKG51bGwpO30sb30odC5FdmVudGVkKSxVcj17bWF4V2lkdGg6MTAwLHVuaXQ6Im1ldHJpYyJ9LE5yPWZ1bmN0aW9uKGUpe3RoaXMub3B0aW9ucz10LmV4dGVuZCh7fSxVcixlKSx0LmJpbmRBbGwoWyJfb25Nb3ZlIiwic2V0VW5pdCJdLHRoaXMpO307ZnVuY3Rpb24gWnIodCxlLGkpe3ZhciBvPWkmJmkubWF4V2lkdGh8fDEwMCxyPXQuX2NvbnRhaW5lci5jbGllbnRIZWlnaHQvMixhPXQudW5wcm9qZWN0KFswLHJdKSxuPXQudW5wcm9qZWN0KFtvLHJdKSxzPWEuZGlzdGFuY2VUbyhuKTtpZihpJiYiaW1wZXJpYWwiPT09aS51bml0KXt2YXIgbD0zLjI4MDgqcztsPjUyODA/anIoZSxvLGwvNTI4MCx0Ll9nZXRVSVN0cmluZygiU2NhbGVDb250cm9sLk1pbGVzIikpOmpyKGUsbyxsLHQuX2dldFVJU3RyaW5nKCJTY2FsZUNvbnRyb2wuRmVldCIpKTt9ZWxzZSBpJiYibmF1dGljYWwiPT09aS51bml0P2pyKGUsbyxzLzE4NTIsdC5fZ2V0VUlTdHJpbmcoIlNjYWxlQ29udHJvbC5OYXV0aWNhbE1pbGVzIikpOnM+PTFlMz9qcihlLG8scy8xZTMsdC5fZ2V0VUlTdHJpbmcoIlNjYWxlQ29udHJvbC5LaWxvbWV0ZXJzIikpOmpyKGUsbyxzLHQuX2dldFVJU3RyaW5nKCJTY2FsZUNvbnRyb2wuTWV0ZXJzIikpO31mdW5jdGlvbiBqcih0LGUsaSxvKXt2YXIgcixhLG4scz0ocj1pLChhPU1hdGgucG93KDEwLCgiIitNYXRoLmZsb29yKHIpKS5sZW5ndGgtMSkpKihuPShuPXIvYSk+PTEwPzEwOm4+PTU/NTpuPj0zPzM6bj49Mj8yOm4+PTE/MTpmdW5jdGlvbih0KXt2YXIgZT1NYXRoLnBvdygxMCxNYXRoLmNlaWwoLU1hdGgubG9nKHQpL01hdGguTE4xMCkpO3JldHVybiBNYXRoLnJvdW5kKHQqZSkvZX0obikpKTt0LnN0eWxlLndpZHRoPWUqKHMvaSkrInB4Iix0LmlubmVySFRNTD1zKyImbmJzcDsiK287fU5yLnByb3RvdHlwZS5nZXREZWZhdWx0UG9zaXRpb249ZnVuY3Rpb24oKXtyZXR1cm4gImJvdHRvbS1sZWZ0In0sTnIucHJvdG90eXBlLl9vbk1vdmU9ZnVuY3Rpb24oKXtacih0aGlzLl9tYXAsdGhpcy5fY29udGFpbmVyLHRoaXMub3B0aW9ucyk7fSxOci5wcm90b3R5cGUub25BZGQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX21hcD10LHRoaXMuX2NvbnRhaW5lcj1pLmNyZWF0ZSgiZGl2IiwibWFwYm94Z2wtY3RybCBtYXBib3hnbC1jdHJsLXNjYWxlIix0LmdldENvbnRhaW5lcigpKSx0aGlzLl9tYXAub24oIm1vdmUiLHRoaXMuX29uTW92ZSksdGhpcy5fb25Nb3ZlKCksdGhpcy5fY29udGFpbmVyfSxOci5wcm90b3R5cGUub25SZW1vdmU9ZnVuY3Rpb24oKXtpLnJlbW92ZSh0aGlzLl9jb250YWluZXIpLHRoaXMuX21hcC5vZmYoIm1vdmUiLHRoaXMuX29uTW92ZSksdGhpcy5fbWFwPXZvaWQgMDt9LE5yLnByb3RvdHlwZS5zZXRVbml0PWZ1bmN0aW9uKHQpe3RoaXMub3B0aW9ucy51bml0PXQsWnIodGhpcy5fbWFwLHRoaXMuX2NvbnRhaW5lcix0aGlzLm9wdGlvbnMpO307dmFyIHFyPWZ1bmN0aW9uKGUpe3RoaXMuX2Z1bGxzY3JlZW49ITEsZSYmZS5jb250YWluZXImJihlLmNvbnRhaW5lciBpbnN0YW5jZW9mIHQud2luZG93LkhUTUxFbGVtZW50P3RoaXMuX2NvbnRhaW5lcj1lLmNvbnRhaW5lcjp0Lndhcm5PbmNlKCJGdWxsIHNjcmVlbiBjb250cm9sICdjb250YWluZXInIG11c3QgYmUgYSBET00gZWxlbWVudC4iKSksdC5iaW5kQWxsKFsiX29uQ2xpY2tGdWxsc2NyZWVuIiwiX2NoYW5nZUljb24iXSx0aGlzKSwib25mdWxsc2NyZWVuY2hhbmdlImluIHQud2luZG93LmRvY3VtZW50P3RoaXMuX2Z1bGxzY3JlZW5jaGFuZ2U9ImZ1bGxzY3JlZW5jaGFuZ2UiOiJvbm1vemZ1bGxzY3JlZW5jaGFuZ2UiaW4gdC53aW5kb3cuZG9jdW1lbnQ/dGhpcy5fZnVsbHNjcmVlbmNoYW5nZT0ibW96ZnVsbHNjcmVlbmNoYW5nZSI6Im9ud2Via2l0ZnVsbHNjcmVlbmNoYW5nZSJpbiB0LndpbmRvdy5kb2N1bWVudD90aGlzLl9mdWxsc2NyZWVuY2hhbmdlPSJ3ZWJraXRmdWxsc2NyZWVuY2hhbmdlIjoib25tc2Z1bGxzY3JlZW5jaGFuZ2UiaW4gdC53aW5kb3cuZG9jdW1lbnQmJih0aGlzLl9mdWxsc2NyZWVuY2hhbmdlPSJNU0Z1bGxzY3JlZW5DaGFuZ2UiKTt9O3FyLnByb3RvdHlwZS5vbkFkZD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fbWFwPWUsdGhpcy5fY29udGFpbmVyfHwodGhpcy5fY29udGFpbmVyPXRoaXMuX21hcC5nZXRDb250YWluZXIoKSksdGhpcy5fY29udHJvbENvbnRhaW5lcj1pLmNyZWF0ZSgiZGl2IiwibWFwYm94Z2wtY3RybCBtYXBib3hnbC1jdHJsLWdyb3VwIiksdGhpcy5fY2hlY2tGdWxsc2NyZWVuU3VwcG9ydCgpP3RoaXMuX3NldHVwVUkoKToodGhpcy5fY29udHJvbENvbnRhaW5lci5zdHlsZS5kaXNwbGF5PSJub25lIix0Lndhcm5PbmNlKCJUaGlzIGRldmljZSBkb2VzIG5vdCBzdXBwb3J0IGZ1bGxzY3JlZW4gbW9kZS4iKSksdGhpcy5fY29udHJvbENvbnRhaW5lcn0scXIucHJvdG90eXBlLm9uUmVtb3ZlPWZ1bmN0aW9uKCl7aS5yZW1vdmUodGhpcy5fY29udHJvbENvbnRhaW5lciksdGhpcy5fbWFwPW51bGwsdC53aW5kb3cuZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcih0aGlzLl9mdWxsc2NyZWVuY2hhbmdlLHRoaXMuX2NoYW5nZUljb24pO30scXIucHJvdG90eXBlLl9jaGVja0Z1bGxzY3JlZW5TdXBwb3J0PWZ1bmN0aW9uKCl7cmV0dXJuICEhKHQud2luZG93LmRvY3VtZW50LmZ1bGxzY3JlZW5FbmFibGVkfHx0LndpbmRvdy5kb2N1bWVudC5tb3pGdWxsU2NyZWVuRW5hYmxlZHx8dC53aW5kb3cuZG9jdW1lbnQubXNGdWxsc2NyZWVuRW5hYmxlZHx8dC53aW5kb3cuZG9jdW1lbnQud2Via2l0RnVsbHNjcmVlbkVuYWJsZWQpfSxxci5wcm90b3R5cGUuX3NldHVwVUk9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLl9mdWxsc2NyZWVuQnV0dG9uPWkuY3JlYXRlKCJidXR0b24iLCJtYXBib3hnbC1jdHJsLWZ1bGxzY3JlZW4iLHRoaXMuX2NvbnRyb2xDb250YWluZXIpO2kuY3JlYXRlKCJzcGFuIiwibWFwYm94Z2wtY3RybC1pY29uIixlKS5zZXRBdHRyaWJ1dGUoImFyaWEtaGlkZGVuIiwhMCksZS50eXBlPSJidXR0b24iLHRoaXMuX3VwZGF0ZVRpdGxlKCksdGhpcy5fZnVsbHNjcmVlbkJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsdGhpcy5fb25DbGlja0Z1bGxzY3JlZW4pLHQud2luZG93LmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIodGhpcy5fZnVsbHNjcmVlbmNoYW5nZSx0aGlzLl9jaGFuZ2VJY29uKTt9LHFyLnByb3RvdHlwZS5fdXBkYXRlVGl0bGU9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9nZXRUaXRsZSgpO3RoaXMuX2Z1bGxzY3JlZW5CdXR0b24uc2V0QXR0cmlidXRlKCJhcmlhLWxhYmVsIix0KSx0aGlzLl9mdWxsc2NyZWVuQnV0dG9uLnRpdGxlPXQ7fSxxci5wcm90b3R5cGUuX2dldFRpdGxlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX21hcC5fZ2V0VUlTdHJpbmcodGhpcy5faXNGdWxsc2NyZWVuKCk/IkZ1bGxzY3JlZW5Db250cm9sLkV4aXQiOiJGdWxsc2NyZWVuQ29udHJvbC5FbnRlciIpfSxxci5wcm90b3R5cGUuX2lzRnVsbHNjcmVlbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9mdWxsc2NyZWVufSxxci5wcm90b3R5cGUuX2NoYW5nZUljb249ZnVuY3Rpb24oKXsodC53aW5kb3cuZG9jdW1lbnQuZnVsbHNjcmVlbkVsZW1lbnR8fHQud2luZG93LmRvY3VtZW50Lm1vekZ1bGxTY3JlZW5FbGVtZW50fHx0LndpbmRvdy5kb2N1bWVudC53ZWJraXRGdWxsc2NyZWVuRWxlbWVudHx8dC53aW5kb3cuZG9jdW1lbnQubXNGdWxsc2NyZWVuRWxlbWVudCk9PT10aGlzLl9jb250YWluZXIhPT10aGlzLl9mdWxsc2NyZWVuJiYodGhpcy5fZnVsbHNjcmVlbj0hdGhpcy5fZnVsbHNjcmVlbix0aGlzLl9mdWxsc2NyZWVuQnV0dG9uLmNsYXNzTGlzdC50b2dnbGUoIm1hcGJveGdsLWN0cmwtc2hyaW5rIiksdGhpcy5fZnVsbHNjcmVlbkJ1dHRvbi5jbGFzc0xpc3QudG9nZ2xlKCJtYXBib3hnbC1jdHJsLWZ1bGxzY3JlZW4iKSx0aGlzLl91cGRhdGVUaXRsZSgpKTt9LHFyLnByb3RvdHlwZS5fb25DbGlja0Z1bGxzY3JlZW49ZnVuY3Rpb24oKXt0aGlzLl9pc0Z1bGxzY3JlZW4oKT90LndpbmRvdy5kb2N1bWVudC5leGl0RnVsbHNjcmVlbj90LndpbmRvdy5kb2N1bWVudC5leGl0RnVsbHNjcmVlbigpOnQud2luZG93LmRvY3VtZW50Lm1vekNhbmNlbEZ1bGxTY3JlZW4/dC53aW5kb3cuZG9jdW1lbnQubW96Q2FuY2VsRnVsbFNjcmVlbigpOnQud2luZG93LmRvY3VtZW50Lm1zRXhpdEZ1bGxzY3JlZW4/dC53aW5kb3cuZG9jdW1lbnQubXNFeGl0RnVsbHNjcmVlbigpOnQud2luZG93LmRvY3VtZW50LndlYmtpdENhbmNlbEZ1bGxTY3JlZW4mJnQud2luZG93LmRvY3VtZW50LndlYmtpdENhbmNlbEZ1bGxTY3JlZW4oKTp0aGlzLl9jb250YWluZXIucmVxdWVzdEZ1bGxzY3JlZW4/dGhpcy5fY29udGFpbmVyLnJlcXVlc3RGdWxsc2NyZWVuKCk6dGhpcy5fY29udGFpbmVyLm1velJlcXVlc3RGdWxsU2NyZWVuP3RoaXMuX2NvbnRhaW5lci5tb3pSZXF1ZXN0RnVsbFNjcmVlbigpOnRoaXMuX2NvbnRhaW5lci5tc1JlcXVlc3RGdWxsc2NyZWVuP3RoaXMuX2NvbnRhaW5lci5tc1JlcXVlc3RGdWxsc2NyZWVuKCk6dGhpcy5fY29udGFpbmVyLndlYmtpdFJlcXVlc3RGdWxsc2NyZWVuJiZ0aGlzLl9jb250YWluZXIud2Via2l0UmVxdWVzdEZ1bGxzY3JlZW4oKTt9O3ZhciBWcj17Y2xvc2VCdXR0b246ITAsY2xvc2VPbkNsaWNrOiEwLGNsYXNzTmFtZToiIixtYXhXaWR0aDoiMjQwcHgifSxHcj1mdW5jdGlvbihlKXtmdW5jdGlvbiBvKGkpe2UuY2FsbCh0aGlzKSx0aGlzLm9wdGlvbnM9dC5leHRlbmQoT2JqZWN0LmNyZWF0ZShWciksaSksdC5iaW5kQWxsKFsiX3VwZGF0ZSIsIl9vbkNsb3NlIiwicmVtb3ZlIiwiX29uTW91c2VNb3ZlIiwiX29uTW91c2VVcCIsIl9vbkRyYWciXSx0aGlzKTt9cmV0dXJuIGUmJihvLl9fcHJvdG9fXz1lKSwoby5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlJiZlLnByb3RvdHlwZSkpLmNvbnN0cnVjdG9yPW8sby5wcm90b3R5cGUuYWRkVG89ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX21hcCYmdGhpcy5yZW1vdmUoKSx0aGlzLl9tYXA9ZSx0aGlzLm9wdGlvbnMuY2xvc2VPbkNsaWNrJiZ0aGlzLl9tYXAub24oImNsaWNrIix0aGlzLl9vbkNsb3NlKSx0aGlzLm9wdGlvbnMuY2xvc2VPbk1vdmUmJnRoaXMuX21hcC5vbigibW92ZSIsdGhpcy5fb25DbG9zZSksdGhpcy5fbWFwLm9uKCJyZW1vdmUiLHRoaXMucmVtb3ZlKSx0aGlzLl91cGRhdGUoKSx0aGlzLl90cmFja1BvaW50ZXI/KHRoaXMuX21hcC5vbigibW91c2Vtb3ZlIix0aGlzLl9vbk1vdXNlTW92ZSksdGhpcy5fbWFwLm9uKCJtb3VzZXVwIix0aGlzLl9vbk1vdXNlVXApLHRoaXMuX2NvbnRhaW5lciYmdGhpcy5fY29udGFpbmVyLmNsYXNzTGlzdC5hZGQoIm1hcGJveGdsLXBvcHVwLXRyYWNrLXBvaW50ZXIiKSx0aGlzLl9tYXAuX2NhbnZhc0NvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCJtYXBib3hnbC10cmFjay1wb2ludGVyIikpOnRoaXMuX21hcC5vbigibW92ZSIsdGhpcy5fdXBkYXRlKSx0aGlzLmZpcmUobmV3IHQuRXZlbnQoIm9wZW4iKSksdGhpc30sby5wcm90b3R5cGUuaXNPcGVuPWZ1bmN0aW9uKCl7cmV0dXJuICEhdGhpcy5fbWFwfSxvLnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY29udGVudCYmaS5yZW1vdmUodGhpcy5fY29udGVudCksdGhpcy5fY29udGFpbmVyJiYoaS5yZW1vdmUodGhpcy5fY29udGFpbmVyKSxkZWxldGUgdGhpcy5fY29udGFpbmVyKSx0aGlzLl9tYXAmJih0aGlzLl9tYXAub2ZmKCJtb3ZlIix0aGlzLl91cGRhdGUpLHRoaXMuX21hcC5vZmYoIm1vdmUiLHRoaXMuX29uQ2xvc2UpLHRoaXMuX21hcC5vZmYoImNsaWNrIix0aGlzLl9vbkNsb3NlKSx0aGlzLl9tYXAub2ZmKCJyZW1vdmUiLHRoaXMucmVtb3ZlKSx0aGlzLl9tYXAub2ZmKCJtb3VzZW1vdmUiLHRoaXMuX29uTW91c2VNb3ZlKSx0aGlzLl9tYXAub2ZmKCJtb3VzZXVwIix0aGlzLl9vbk1vdXNlVXApLHRoaXMuX21hcC5vZmYoImRyYWciLHRoaXMuX29uRHJhZyksZGVsZXRlIHRoaXMuX21hcCksdGhpcy5maXJlKG5ldyB0LkV2ZW50KCJjbG9zZSIpKSx0aGlzfSxvLnByb3RvdHlwZS5nZXRMbmdMYXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbG5nTGF0fSxvLnByb3RvdHlwZS5zZXRMbmdMYXQ9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX2xuZ0xhdD10LkxuZ0xhdC5jb252ZXJ0KGUpLHRoaXMuX3Bvcz1udWxsLHRoaXMuX3RyYWNrUG9pbnRlcj0hMSx0aGlzLl91cGRhdGUoKSx0aGlzLl9tYXAmJih0aGlzLl9tYXAub24oIm1vdmUiLHRoaXMuX3VwZGF0ZSksdGhpcy5fbWFwLm9mZigibW91c2Vtb3ZlIix0aGlzLl9vbk1vdXNlTW92ZSksdGhpcy5fY29udGFpbmVyJiZ0aGlzLl9jb250YWluZXIuY2xhc3NMaXN0LnJlbW92ZSgibWFwYm94Z2wtcG9wdXAtdHJhY2stcG9pbnRlciIpLHRoaXMuX21hcC5fY2FudmFzQ29udGFpbmVyLmNsYXNzTGlzdC5yZW1vdmUoIm1hcGJveGdsLXRyYWNrLXBvaW50ZXIiKSksdGhpc30sby5wcm90b3R5cGUudHJhY2tQb2ludGVyPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3RyYWNrUG9pbnRlcj0hMCx0aGlzLl9wb3M9bnVsbCx0aGlzLl91cGRhdGUoKSx0aGlzLl9tYXAmJih0aGlzLl9tYXAub2ZmKCJtb3ZlIix0aGlzLl91cGRhdGUpLHRoaXMuX21hcC5vbigibW91c2Vtb3ZlIix0aGlzLl9vbk1vdXNlTW92ZSksdGhpcy5fbWFwLm9uKCJkcmFnIix0aGlzLl9vbkRyYWcpLHRoaXMuX2NvbnRhaW5lciYmdGhpcy5fY29udGFpbmVyLmNsYXNzTGlzdC5hZGQoIm1hcGJveGdsLXBvcHVwLXRyYWNrLXBvaW50ZXIiKSx0aGlzLl9tYXAuX2NhbnZhc0NvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCJtYXBib3hnbC10cmFjay1wb2ludGVyIikpLHRoaXN9LG8ucHJvdG90eXBlLmdldEVsZW1lbnQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY29udGFpbmVyfSxvLnByb3RvdHlwZS5zZXRUZXh0PWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnNldERPTUNvbnRlbnQodC53aW5kb3cuZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoZSkpfSxvLnByb3RvdHlwZS5zZXRIVE1MPWZ1bmN0aW9uKGUpe3ZhciBpLG89dC53aW5kb3cuZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpLHI9dC53aW5kb3cuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYm9keSIpO2ZvcihyLmlubmVySFRNTD1lO2k9ci5maXJzdENoaWxkOylvLmFwcGVuZENoaWxkKGkpO3JldHVybiB0aGlzLnNldERPTUNvbnRlbnQobyl9LG8ucHJvdG90eXBlLmdldE1heFdpZHRoPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NvbnRhaW5lciYmdGhpcy5fY29udGFpbmVyLnN0eWxlLm1heFdpZHRofSxvLnByb3RvdHlwZS5zZXRNYXhXaWR0aD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5vcHRpb25zLm1heFdpZHRoPXQsdGhpcy5fdXBkYXRlKCksdGhpc30sby5wcm90b3R5cGUuc2V0RE9NQ29udGVudD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fY3JlYXRlQ29udGVudCgpLHRoaXMuX2NvbnRlbnQuYXBwZW5kQ2hpbGQodCksdGhpcy5fdXBkYXRlKCksdGhpc30sby5wcm90b3R5cGUuYWRkQ2xhc3NOYW1lPWZ1bmN0aW9uKHQpe3RoaXMuX2NvbnRhaW5lciYmdGhpcy5fY29udGFpbmVyLmNsYXNzTGlzdC5hZGQodCk7fSxvLnByb3RvdHlwZS5yZW1vdmVDbGFzc05hbWU9ZnVuY3Rpb24odCl7dGhpcy5fY29udGFpbmVyJiZ0aGlzLl9jb250YWluZXIuY2xhc3NMaXN0LnJlbW92ZSh0KTt9LG8ucHJvdG90eXBlLnRvZ2dsZUNsYXNzTmFtZT1mdW5jdGlvbih0KXtpZih0aGlzLl9jb250YWluZXIpcmV0dXJuIHRoaXMuX2NvbnRhaW5lci5jbGFzc0xpc3QudG9nZ2xlKHQpfSxvLnByb3RvdHlwZS5fY3JlYXRlQ29udGVudD1mdW5jdGlvbigpe3RoaXMuX2NvbnRlbnQmJmkucmVtb3ZlKHRoaXMuX2NvbnRlbnQpLHRoaXMuX2NvbnRlbnQ9aS5jcmVhdGUoImRpdiIsIm1hcGJveGdsLXBvcHVwLWNvbnRlbnQiLHRoaXMuX2NvbnRhaW5lciksdGhpcy5vcHRpb25zLmNsb3NlQnV0dG9uJiYodGhpcy5fY2xvc2VCdXR0b249aS5jcmVhdGUoImJ1dHRvbiIsIm1hcGJveGdsLXBvcHVwLWNsb3NlLWJ1dHRvbiIsdGhpcy5fY29udGVudCksdGhpcy5fY2xvc2VCdXR0b24udHlwZT0iYnV0dG9uIix0aGlzLl9jbG9zZUJ1dHRvbi5zZXRBdHRyaWJ1dGUoImFyaWEtbGFiZWwiLCJDbG9zZSBwb3B1cCIpLHRoaXMuX2Nsb3NlQnV0dG9uLmlubmVySFRNTD0iJiMyMTU7Iix0aGlzLl9jbG9zZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsdGhpcy5fb25DbG9zZSkpO30sby5wcm90b3R5cGUuX29uTW91c2VVcD1mdW5jdGlvbih0KXt0aGlzLl91cGRhdGUodC5wb2ludCk7fSxvLnByb3RvdHlwZS5fb25Nb3VzZU1vdmU9ZnVuY3Rpb24odCl7dGhpcy5fdXBkYXRlKHQucG9pbnQpO30sby5wcm90b3R5cGUuX29uRHJhZz1mdW5jdGlvbih0KXt0aGlzLl91cGRhdGUodC5wb2ludCk7fSxvLnByb3RvdHlwZS5fdXBkYXRlPWZ1bmN0aW9uKGUpe3ZhciBvPXRoaXM7aWYodGhpcy5fbWFwJiYodGhpcy5fbG5nTGF0fHx0aGlzLl90cmFja1BvaW50ZXIpJiZ0aGlzLl9jb250ZW50JiYodGhpcy5fY29udGFpbmVyfHwodGhpcy5fY29udGFpbmVyPWkuY3JlYXRlKCJkaXYiLCJtYXBib3hnbC1wb3B1cCIsdGhpcy5fbWFwLmdldENvbnRhaW5lcigpKSx0aGlzLl90aXA9aS5jcmVhdGUoImRpdiIsIm1hcGJveGdsLXBvcHVwLXRpcCIsdGhpcy5fY29udGFpbmVyKSx0aGlzLl9jb250YWluZXIuYXBwZW5kQ2hpbGQodGhpcy5fY29udGVudCksdGhpcy5vcHRpb25zLmNsYXNzTmFtZSYmdGhpcy5vcHRpb25zLmNsYXNzTmFtZS5zcGxpdCgiICIpLmZvckVhY2goKGZ1bmN0aW9uKHQpe3JldHVybiBvLl9jb250YWluZXIuY2xhc3NMaXN0LmFkZCh0KX0pKSx0aGlzLl90cmFja1BvaW50ZXImJnRoaXMuX2NvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCJtYXBib3hnbC1wb3B1cC10cmFjay1wb2ludGVyIikpLHRoaXMub3B0aW9ucy5tYXhXaWR0aCYmdGhpcy5fY29udGFpbmVyLnN0eWxlLm1heFdpZHRoIT09dGhpcy5vcHRpb25zLm1heFdpZHRoJiYodGhpcy5fY29udGFpbmVyLnN0eWxlLm1heFdpZHRoPXRoaXMub3B0aW9ucy5tYXhXaWR0aCksdGhpcy5fbWFwLnRyYW5zZm9ybS5yZW5kZXJXb3JsZENvcGllcyYmIXRoaXMuX3RyYWNrUG9pbnRlciYmKHRoaXMuX2xuZ0xhdD1Ecih0aGlzLl9sbmdMYXQsdGhpcy5fcG9zLHRoaXMuX21hcC50cmFuc2Zvcm0pKSwhdGhpcy5fdHJhY2tQb2ludGVyfHxlKSl7dmFyIHI9dGhpcy5fcG9zPXRoaXMuX3RyYWNrUG9pbnRlciYmZT9lOnRoaXMuX21hcC5wcm9qZWN0KHRoaXMuX2xuZ0xhdCksYT10aGlzLm9wdGlvbnMuYW5jaG9yLG49ZnVuY3Rpb24gZShpKXtpZihpKXtpZigibnVtYmVyIj09dHlwZW9mIGkpe3ZhciBvPU1hdGgucm91bmQoTWF0aC5zcXJ0KC41Kk1hdGgucG93KGksMikpKTtyZXR1cm4ge2NlbnRlcjpuZXcgdC5Qb2ludCgwLDApLHRvcDpuZXcgdC5Qb2ludCgwLGkpLCJ0b3AtbGVmdCI6bmV3IHQuUG9pbnQobyxvKSwidG9wLXJpZ2h0IjpuZXcgdC5Qb2ludCgtbyxvKSxib3R0b206bmV3IHQuUG9pbnQoMCwtaSksImJvdHRvbS1sZWZ0IjpuZXcgdC5Qb2ludChvLC1vKSwiYm90dG9tLXJpZ2h0IjpuZXcgdC5Qb2ludCgtbywtbyksbGVmdDpuZXcgdC5Qb2ludChpLDApLHJpZ2h0Om5ldyB0LlBvaW50KC1pLDApfX1pZihpIGluc3RhbmNlb2YgdC5Qb2ludHx8QXJyYXkuaXNBcnJheShpKSl7dmFyIHI9dC5Qb2ludC5jb252ZXJ0KGkpO3JldHVybiB7Y2VudGVyOnIsdG9wOnIsInRvcC1sZWZ0IjpyLCJ0b3AtcmlnaHQiOnIsYm90dG9tOnIsImJvdHRvbS1sZWZ0IjpyLCJib3R0b20tcmlnaHQiOnIsbGVmdDpyLHJpZ2h0OnJ9fXJldHVybiB7Y2VudGVyOnQuUG9pbnQuY29udmVydChpLmNlbnRlcnx8WzAsMF0pLHRvcDp0LlBvaW50LmNvbnZlcnQoaS50b3B8fFswLDBdKSwidG9wLWxlZnQiOnQuUG9pbnQuY29udmVydChpWyJ0b3AtbGVmdCJdfHxbMCwwXSksInRvcC1yaWdodCI6dC5Qb2ludC5jb252ZXJ0KGlbInRvcC1yaWdodCJdfHxbMCwwXSksYm90dG9tOnQuUG9pbnQuY29udmVydChpLmJvdHRvbXx8WzAsMF0pLCJib3R0b20tbGVmdCI6dC5Qb2ludC5jb252ZXJ0KGlbImJvdHRvbS1sZWZ0Il18fFswLDBdKSwiYm90dG9tLXJpZ2h0Ijp0LlBvaW50LmNvbnZlcnQoaVsiYm90dG9tLXJpZ2h0Il18fFswLDBdKSxsZWZ0OnQuUG9pbnQuY29udmVydChpLmxlZnR8fFswLDBdKSxyaWdodDp0LlBvaW50LmNvbnZlcnQoaS5yaWdodHx8WzAsMF0pfX1yZXR1cm4gZShuZXcgdC5Qb2ludCgwLDApKX0odGhpcy5vcHRpb25zLm9mZnNldCk7aWYoIWEpe3ZhciBzLGw9dGhpcy5fY29udGFpbmVyLm9mZnNldFdpZHRoLGM9dGhpcy5fY29udGFpbmVyLm9mZnNldEhlaWdodDtzPXIueStuLmJvdHRvbS55PGM/WyJ0b3AiXTpyLnk+dGhpcy5fbWFwLnRyYW5zZm9ybS5oZWlnaHQtYz9bImJvdHRvbSJdOltdLHIueDxsLzI/cy5wdXNoKCJsZWZ0Iik6ci54PnRoaXMuX21hcC50cmFuc2Zvcm0ud2lkdGgtbC8yJiZzLnB1c2goInJpZ2h0IiksYT0wPT09cy5sZW5ndGg/ImJvdHRvbSI6cy5qb2luKCItIik7fXZhciB1PXIuYWRkKG5bYV0pLnJvdW5kKCk7aS5zZXRUcmFuc2Zvcm0odGhpcy5fY29udGFpbmVyLE1yW2FdKyIgdHJhbnNsYXRlKCIrdS54KyJweCwiK3UueSsicHgpIiksQXIodGhpcy5fY29udGFpbmVyLGEsInBvcHVwIik7fX0sby5wcm90b3R5cGUuX29uQ2xvc2U9ZnVuY3Rpb24oKXt0aGlzLnJlbW92ZSgpO30sb30odC5FdmVudGVkKSxXcj17dmVyc2lvbjp0LnZlcnNpb24sc3VwcG9ydGVkOmUsc2V0UlRMVGV4dFBsdWdpbjp0LnNldFJUTFRleHRQbHVnaW4sZ2V0UlRMVGV4dFBsdWdpblN0YXR1czp0LmdldFJUTFRleHRQbHVnaW5TdGF0dXMsTWFwOklyLE5hdmlnYXRpb25Db250cm9sOkNyLEdlb2xvY2F0ZUNvbnRyb2w6RnIsQXR0cmlidXRpb25Db250cm9sOmdyLFNjYWxlQ29udHJvbDpOcixGdWxsc2NyZWVuQ29udHJvbDpxcixQb3B1cDpHcixNYXJrZXI6UnIsU3R5bGU6cWUsTG5nTGF0OnQuTG5nTGF0LExuZ0xhdEJvdW5kczp0LkxuZ0xhdEJvdW5kcyxQb2ludDp0LlBvaW50LE1lcmNhdG9yQ29vcmRpbmF0ZTp0Lk1lcmNhdG9yQ29vcmRpbmF0ZSxFdmVudGVkOnQuRXZlbnRlZCxjb25maWc6dC5jb25maWcscHJld2FybTpmdW5jdGlvbigpe0Z0KCkuYWNxdWlyZShSdCk7fSxjbGVhclByZXdhcm1lZFJlc291cmNlczpmdW5jdGlvbigpe3ZhciB0PUJ0O3QmJih0LmlzUHJlbG9hZGVkKCkmJjE9PT10Lm51bUFjdGl2ZSgpPyh0LnJlbGVhc2UoUnQpLEJ0PW51bGwpOmNvbnNvbGUud2FybigiQ291bGQgbm90IGNsZWFyIFdlYldvcmtlcnMgc2luY2UgdGhlcmUgYXJlIGFjdGl2ZSBNYXAgaW5zdGFuY2VzIHRoYXQgc3RpbGwgcmVmZXJlbmNlIGl0LiBUaGUgcHJlLXdhcm1lZCBXZWJXb3JrZXIgcG9vbCBjYW4gb25seSBiZSBjbGVhcmVkIHdoZW4gYWxsIG1hcCBpbnN0YW5jZXMgaGF2ZSBiZWVuIHJlbW92ZWQgd2l0aCBtYXAucmVtb3ZlKCkiKSk7fSxnZXQgYWNjZXNzVG9rZW4oKXtyZXR1cm4gdC5jb25maWcuQUNDRVNTX1RPS0VOfSxzZXQgYWNjZXNzVG9rZW4oZSl7dC5jb25maWcuQUNDRVNTX1RPS0VOPWU7fSxnZXQgYmFzZUFwaVVybCgpe3JldHVybiB0LmNvbmZpZy5BUElfVVJMfSxzZXQgYmFzZUFwaVVybChlKXt0LmNvbmZpZy5BUElfVVJMPWU7fSxnZXQgd29ya2VyQ291bnQoKXtyZXR1cm4ga3Qud29ya2VyQ291bnR9LHNldCB3b3JrZXJDb3VudCh0KXtrdC53b3JrZXJDb3VudD10O30sZ2V0IG1heFBhcmFsbGVsSW1hZ2VSZXF1ZXN0cygpe3JldHVybiB0LmNvbmZpZy5NQVhfUEFSQUxMRUxfSU1BR0VfUkVRVUVTVFN9LHNldCBtYXhQYXJhbGxlbEltYWdlUmVxdWVzdHMoZSl7dC5jb25maWcuTUFYX1BBUkFMTEVMX0lNQUdFX1JFUVVFU1RTPWU7fSxjbGVhclN0b3JhZ2U6ZnVuY3Rpb24oZSl7dC5jbGVhclRpbGVDYWNoZShlKTt9LHdvcmtlclVybDoiIn07cmV0dXJuIFdyfSkpOwoKLy8KCnJldHVybiBtYXBib3hnbDsKCn0pKSk7Ci8vIyBzb3VyY2VNYXBwaW5nVVJMPW1hcGJveC1nbC5qcy5tYXAK"></script>
<link href="data:text/css,%2EmapViewStateContainer%20%7B%0A%0Aposition%3A%20absolute%3B%0Atop%3A%200%3B%0Aleft%3A%200%3B%0Az%2Dindex%3A%2099%3B%0A%7D%0A%2EmapViewState%20%7B%0Afont%2Dfamily%3A%20Arial%2C%20sans%2Dserif%3B%0Afont%2Dsize%3A%2014px%3B%0Aheight%3A%20auto%3B%0Abackground%2Dcolor%3A%20%23fff%3B%0Apadding%3A%208px%3B%0Amargin%3A%208px%3B%0A%0Aborder%2Dradius%3A%204px%3B%0Adisplay%3A%20inline%2Dblock%3B%0Aoverflow%3A%20auto%3B%0Aposition%3A%20relative%3B%0A%7D%0A%2EmapTitleContainer%20%7B%0A%0Aposition%3A%20absolute%3B%0Atop%3A%200%3B%0Aleft%3A%200%3B%0Az%2Dindex%3A%2099%3B%0A%7D%0A%2EmapTitle%20%7B%0Afont%2Dfamily%3A%20Arial%2C%20sans%2Dserif%3B%0Afont%2Dsize%3A%2014px%3B%0Aheight%3A%20auto%3B%0Abackground%2Dcolor%3A%20%23fff%3B%0Apadding%3A%208px%3B%0Amargin%3A%208px%3B%0A%0Aborder%2Dradius%3A%204px%3B%0Adisplay%3A%20inline%2Dblock%3B%0Aoverflow%3A%20auto%3B%0Aposition%3A%20relative%3B%0A%7D%0A%0A%2ElegendContainer%20%7B%0Aposition%3A%20absolute%3B%0Abottom%3A%200%3B%0Aright%3A%200%3B%0Az%2Dindex%3A%2099%3B%0A%0Apadding%2Dbottom%3A%2014px%3B%0A%7D%0A%2Elegend%20%7B%0Afont%2Dfamily%3A%20Arial%2C%20sans%2Dserif%3B%0Abackground%3A%20%23fff%3B%0Apadding%3A%208px%3B%0Amargin%3A%208px%3B%0Aborder%3A%201px%20solid%20%23b8b8b8%3B%0Aborder%2Dradius%3A%204px%3B%0Adisplay%3Ainline%2Dblock%3B%0Amax%2Dheight%3A%20200px%3B%0Amax%2Dwidth%3A%20200px%3B%0Aoverflow%3A%20auto%3B%0Aposition%3A%20relative%3B%0Abottom%3A%200%3B%0Aright%3A%200%3B%0A%7D%0A%2ElegendTitle%20%7B%0A%0Afont%2Dsize%3A%2014px%3B%0Apadding%2Dbottom%3A%204px%3B%0Aheight%3A%20auto%3B%0Aleft%3A%20float%3B%0A%7D%0A%2ElegendContent%7B%0A%0Adisplay%3A%20inline%2Dflex%3B%0Awhite%2Dspace%3A%20nowrap%3B%0A%7D%0A%2EtickContainer%7B%0Apadding%2Dleft%3A%202px%3B%0Aheight%3A%20auto%3B%0Adisplay%3A%20inline%2Dblock%3B%0A%7D%0A%2ElabelContainer%7B%0A%0Apadding%2Dleft%3A%206px%3B%0Aheight%3A%20auto%3B%0Adisplay%3A%20inline%2Dblock%3B%0A%7D%0A%23legend%20h3%20%7B%0Amargin%2Dtop%3A%200%3B%0A%7D%0A%23legend%20img%20%7B%0Avertical%2Dalign%3A%20middle%3B%0A%7D%0A%0A%2Eoverlays%20canvas%20%7B%0Amix%2Dblend%2Dmode%3A%20multiply%3B%0A%7D%0A%2Edeckgl%2Dparent%2Dclass%20%7B%0Aisolation%3A%20%27isolate%27%3B%0A%7D%0A%0A%2Emapdecktooltip%3Aempty%20%7B%0Adisplay%3A%20none%3B%0A%7D%0A%2Emapdecktooltip%20%7B%0A%0A%0A%0Afont%2Dfamily%3A%20Helvetica%2C%20Arial%2C%20sans%2Dserif%3B%0Afont%2Dsize%3A%2011px%3B%0Aposition%3A%20absolute%3B%0Apadding%3A%204px%3B%0Amargin%3A%208px%3B%0Abackground%3A%20rgba%280%2C%200%2C%200%2C%200%2E8%29%3B%0Acolor%3A%20%23fff%3B%0Amax%2Dwidth%3A%20300px%3B%0Afont%2Dsize%3A%2010px%3B%0Az%2Dindex%3A%209%3B%0Apointer%2Devents%3A%20none%3B%0A%7D%0A" rel="stylesheet" />
<script src="data:application/javascript;base64,SFRNTFdpZGdldHMud2lkZ2V0KHsKCiAgbmFtZTogJ21hcGRlY2snLAogIHR5cGU6ICdvdXRwdXQnLAoKICBmYWN0b3J5OiBmdW5jdGlvbihlbCwgd2lkdGgsIGhlaWdodCkgewoKICAgIHJldHVybiB7CgogICAgICByZW5kZXJWYWx1ZTogZnVuY3Rpb24oeCkgewoKICAgICAgCW1kX3NldHVwX3dpbmRvdyggZWwuaWQgKTsKCgkJCQlpZiggeC5zaG93X3ZpZXdfc3RhdGUgKSB7CiAgICAgIAkgIG1kX3NldHVwX3ZpZXdfc3RhdGUoIGVsLmlkICk7CiAgICAgIAkgIHdpbmRvd1tlbC5pZCArICdtYXBWaWV3U3RhdGUnXSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOwogICAgICAJICB3aW5kb3dbZWwuaWQgKyAnbWFwVmlld1N0YXRlJ10uc2V0QXR0cmlidXRlKCdpZCcsIGVsLmlkICsgJ21hcFZpZXdTdGF0ZScpOwogICAgICAJICB3aW5kb3dbZWwuaWQgKyAnbWFwVmlld1N0YXRlJ10uc2V0QXR0cmlidXRlKCdjbGFzcycsICdtYXBWaWV3U3RhdGUnKTsKICAgICAgCSAgdmFyIG1hcGJveF9jdHJsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoICJtYXBWaWV3U3RhdGVDb250YWluZXIiK2VsLmlkKTsKICAgIAkJCW1hcGJveF9jdHJsLmFwcGVuZENoaWxkKCB3aW5kb3dbZWwuaWQgKyAnbWFwVmlld1N0YXRlJ10gKTsKCQkJCX0KCiAgICAgICAgLy8gSU5JVElBTCBWSUVXCiAgICAgICAgd2luZG93W2VsLmlkICsgJ0lOSVRJQUxfVklFV19TVEFURSddID0gewogICAgICAgIAlsb25naXR1ZGU6IHgubG9jYXRpb25bMF0sCiAgICAgICAgCWxhdGl0dWRlOiB4LmxvY2F0aW9uWzFdLAogICAgICAgIAl6b29tOiB4Lnpvb20sCiAgICAgICAgCXBpdGNoOiB4LnBpdGNoLAogICAgICAgIAliZWFyaW5nOiB4LmJlYXJpbmcsCiAgICAgICAgCW1heFpvb206IHgubWF4X3pvb20sCiAgICAgICAJIAltaW5ab29tOiB4Lm1pbl96b29tLAogICAgICAgCSAJbWF4UGl0Y2g6IHgubWF4X3BpdGNoLAogICAgICAgCSAJbWluUGl0Y2g6IHgubWluX3BpdGNoCiAgICAgICAgfTsKCiAgICAgICBpZiggeC5hY2Nlc3NfdG9rZW4gPT09IG51bGwgKSB7CiAgICAgICAJIGNvbnN0IGRlY2tnbCA9IG5ldyBkZWNrLkRlY2tHTCh7CiAgICAgICAJIAkgIHZpZXdzOiBbIG5ldyBkZWNrLk1hcFZpZXcoewogICAgICAgCSAJICAJaWQ6IGVsLmlkLAogICAgICAgCSAJICAJcmVwZWF0OiB4LnJlcGVhdF92aWV3CiAgICAgICAJIAkgIAl9KSBdLAogICAgICAgCSAJICBtYXA6IGZhbHNlLAoJCQkgICAgICBjb250YWluZXI6IGVsLmlkLAoJCQkgICAgICBpbml0aWFsVmlld1N0YXRlOiB3aW5kb3dbZWwuaWQgKyAnSU5JVElBTF9WSUVXX1NUQVRFJ10sCgkJCSAgICAgIGxheWVyczogW10sCgkJCSAgICAgIGNvbnRyb2xsZXI6IHRydWUKCQkJICAgICAgLy9vbkxheWVySG92ZXI6IHNldFRvb2x0aXAKCQkJICAgfSk7CgkJCSAgIHdpbmRvd1tlbC5pZCArICdtYXAnXSA9IGRlY2tnbDsKICAgICAgIH0gZWxzZSB7CiAgICAgICAgY29uc3QgZGVja2dsID0gbmV3IGRlY2suRGVja0dMKHsKICAgICAgICAJICB2aWV3czogWyBuZXcgZGVjay5NYXBWaWV3KHsKICAgICAgICAJICAJaWQ6IGVsLmlkLAogICAgICAgIAkgIAlyZXBlYXQ6IHgucmVwZWF0X3ZpZXcKICAgICAgICAJICAJfSkgXSwKICAgICAgICAgIAltYXBib3hBcGlBY2Nlc3NUb2tlbjogeC5hY2Nlc3NfdG9rZW4sCgkJCSAgICAgIGNvbnRhaW5lcjogZWwuaWQsCgkJCSAgICAgIG1hcFN0eWxlOiB4LnN0eWxlLAoJCQkgICAgICBpbml0aWFsVmlld1N0YXRlOiB3aW5kb3dbZWwuaWQgKyAnSU5JVElBTF9WSUVXX1NUQVRFJ10sCgkJCSAgICAgIGxheWVyczogW10sCgkJCSAgICAgIGNvbnRyb2xsZXI6IHRydWUsCgkJCSAgICAgIC8vb25MYXllckhvdmVyOiBzZXRUb29sdGlwCgkJCSAgICAgIG9uVmlld1N0YXRlQ2hhbmdlOiAoe3ZpZXdJZCwgdmlld1N0YXRlLCBpbnRlcmFjdGlvblN0YXRlfSkgPT4gewoKCQkJICAgICAgCWlmICghSFRNTFdpZGdldHMuc2hpbnlNb2RlICYmICF4LnNob3dfdmlld19zdGF0ZSApIHsgcmV0dXJuOyB9CgkJCQkJCQkvLyBhcyBwZXI6CgkJCQkJCQkvLyBodHRwczovL2dpdGh1Yi5jb20vdWJlci9kZWNrLmdsL2lzc3Vlcy8zMzQ0CgkJCQkJCQkvLyBodHRwczovL2dpdGh1Yi5jb20vU3ltYm9saXhBVS9tYXBkZWNrL2lzc3Vlcy8yMTEKCQkJICAgICAgCWNvbnN0IHZpZXdwb3J0ID0gbmV3IGRlY2suV2ViTWVyY2F0b3JWaWV3cG9ydCh2aWV3U3RhdGUpOwogIAkJCQkJCWNvbnN0IG53ID0gdmlld3BvcnQudW5wcm9qZWN0KFswLCAwXSk7CiAgCQkJCQkJY29uc3Qgc2UgPSB2aWV3cG9ydC51bnByb2plY3QoW3ZpZXdwb3J0LndpZHRoLCB2aWV3cG9ydC5oZWlnaHRdKTsKCiAgCQkJCQkJY29uc3QgdyA9IG53WzBdIDwgLTE4MCA/IC0xODAgOiAoIG53WzBdID4gMTgwID8gMTgwIDogbndbMF0gKTsKICAJCQkJCQljb25zdCBuID0gbndbMV0gPCAtOTAgPyAtOTAgOiAoIG53WzFdID4gOTAgPyA5MCA6IG53WzFdICk7CgogIAkJCQkJCWNvbnN0IGUgPSBzZVswXSA8IC0xODAgPyAtMTgwIDogKCBzZVswXSA+IDE4MCA/IDE4MCA6IHNlWzBdICk7CiAgCQkJCQkJY29uc3QgcyA9IHNlWzFdIDwgLTkwID8gLTkwIDogKCBzZVsxXSA+IDkwID8gOTAgOiBzZVsxXSApOwoKICAJCQkJCQl2aWV3U3RhdGUudmlld0lkID0gdmlld0lkOwoKCQkJCQkJCXZpZXdTdGF0ZS52aWV3Qm91bmRzID0gewogIAkJCQkJCQlub3J0aDogbiwgLy9ud1sxXSwKICAJCQkJCQkJZWFzdDogIGUsIC8vc2VbMF0sCiAgCQkJCQkJCXNvdXRoOiBzLCAvL3NlWzFdLAogIAkJCQkJCQl3ZXN0OiAgdyAvL253WzBdCiAgCQkJCQkJfTsKICAJCQkJCQl2aWV3U3RhdGUuaW50ZXJhY3Rpb25TdGF0ZSA9IGludGVyYWN0aW9uU3RhdGU7CgogIAkJCQkJCWlmKCB4LnNob3dfdmlld19zdGF0ZSApIHsKICAJCQkJCQkJdmFyIHZzID0gSlNPTi5zdHJpbmdpZnkoIHZpZXdTdGF0ZSApOwogIAkJCQkJCQkvL2NvbnNvbGUubG9nKCB2cyApOwogIAkJCQkJCQl3aW5kb3dbZWwuaWQgKyAnbWFwVmlld1N0YXRlJ10uaW5uZXJIVE1MID0gdnM7CiAgCQkJCQkJfQoKICAJCQkJCQlpZiAoIUhUTUxXaWRnZXRzLnNoaW55TW9kZSApIHsgcmV0dXJuOyB9CgoJCQkJCQkgIFNoaW55Lm9uSW5wdXRDaGFuZ2UoZWwuaWQgKyAnX3ZpZXdfY2hhbmdlJywgdmlld1N0YXRlKTsKCQkJICAgICAgfSwKCQkJICAgICAgb25EcmFnU3RhcnQoaW5mbywgZXZlbnQpewoJCQkgICAgICAJaWYgKCFIVE1MV2lkZ2V0cy5zaGlueU1vZGUpIHsgcmV0dXJuOyB9CgkJCSAgICAgIAkvL2lmKCBpbmZvLmxheWVyICE9PSBudWxsICkgeyBpbmZvLmxheWVyID0gbnVsbDsgfSAgLy8gZHJhZ2dpbmcgYSBsYXllcjsKCQkJICAgICAgCWluZm8ubGF5ZXIgPSB1bmRlZmluZWQ7IC8vIGluIGNhc2Ugb2YgZHJhZ2dpbmcgYSBsYXllcgoJCQkgICAgICAJU2hpbnkub25JbnB1dENoYW5nZShlbC5pZCArJ19kcmFnX3N0YXJ0JywgaW5mbyk7CgkJCSAgICAgIH0sCgkJCSAgICAgIG9uRHJhZyhpbmZvLCBldmVudCl7CgkJCSAgICAgIAlpZiAoIUhUTUxXaWRnZXRzLnNoaW55TW9kZSkgeyByZXR1cm47IH0KCQkJICAgICAgCS8vaWYoIGluZm8ubGF5ZXIgIT09IG51bGwgKSB7IGluZm8ubGF5ZXIgPSBudWxsOyB9ICAvLyBkcmFnZ2luZyBhIGxheWVyOwoJCQkgICAgICAJaW5mby5sYXllciA9IHVuZGVmaW5lZDsgLy8gaW4gY2FzZSBvZiBkcmFnZ2luZyBhIGxheWVyCgkJCSAgICAgIAlTaGlueS5vbklucHV0Q2hhbmdlKGVsLmlkICsnX2RyYWcnLCBpbmZvKTsKCQkJICAgICAgfSwKCQkJICAgICAgb25EcmFnRW5kKGluZm8sIGV2ZW50KXsKCQkJICAgICAgCWlmICghSFRNTFdpZGdldHMuc2hpbnlNb2RlKSB7IHJldHVybjsgfQoJCQkgICAgICAJLy9pZiggaW5mby5sYXllciAhPT0gbnVsbCApIHsgaW5mby5sYXllciA9IG51bGw7IH0gIC8vIGRyYWdnaW5nIGEgbGF5ZXI7CgkJCSAgICAgIAlpbmZvLmxheWVyID0gdW5kZWZpbmVkOyAvLyBpbiBjYXNlIG9mIGRyYWdnaW5nIGEgbGF5ZXIKCQkJICAgICAgCVNoaW55Lm9uSW5wdXRDaGFuZ2UoZWwuaWQgKydfZHJhZ19lbmQnLCBpbmZvKTsKCQkJICAgICAgfSwKCQkJICAgICAgb25SZXNpemUoc2l6ZSkgewoJCQkgICAgICAJaWYgKCFIVE1MV2lkZ2V0cy5zaGlueU1vZGUpIHsgcmV0dXJuOyB9CgkJCSAgICAgIAlTaGlueS5vbklucHV0Q2hhbmdlKGVsLmlkICsnX3Jlc2l6ZScsIHNpemUpOwoJCQkgICAgICB9CgkJCSAgfSk7CgoJCQkgIHdpbmRvd1tlbC5pZCArICdtYXAnXSA9IGRlY2tnbDsKCiAgICAgICB9CgkJCSAgICBtZF9pbml0aWFsaXNlX21hcChlbCwgeCk7CiAgICAgIH0sCgogICAgICByZXNpemU6IGZ1bmN0aW9uKHdpZHRoLCBoZWlnaHQpIHsKCiAgICAgICAgLy8gVE9ETzogY29kZSB0byByZS1yZW5kZXIgdGhlIHdpZGdldCB3aXRoIGEgbmV3IHNpemUKICAgICAgfQogICAgfTsKICB9Cn0pOwoKCmlmIChIVE1MV2lkZ2V0cy5zaGlueU1vZGUpIHsKCiAgU2hpbnkuYWRkQ3VzdG9tTWVzc2FnZUhhbmRsZXIoIm1hcGRlY2ttYXAtY2FsbHMiLCBmdW5jdGlvbiAoZGF0YSkgewoKICAJLy9jb25zb2xlLmxvZyggIm1hcGRlY2ttYXAtY2FsbHMiICk7CgogICAgdmFyIGlkID0gZGF0YS5pZCwgICAvLyB0aGUgZGl2IGlkIG9mIHRoZSBtYXAKICAgICAgZWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZCksCiAgICAgIG1hcCA9IGVsLAogICAgICBjYWxsID0gW10sCiAgICAgIGkgPSAwOwoKICAgIGlmICghbWFwKSB7CiAgICAgIC8vY29uc29sZS5sb2coIkNvdWxkbid0IGZpbmQgbWFwIHdpdGggaWQgIiArIGlkKTsKICAgICAgcmV0dXJuOwogICAgfQoKICAgIGZvciAoaSA9IDA7IGkgPCBkYXRhLmNhbGxzLmxlbmd0aDsgaSsrKSB7CgogICAgICBjYWxsID0gZGF0YS5jYWxsc1tpXTsKCiAgICAgIC8vcHVzaCB0aGUgbWFwSWQgaW50byB0aGUgY2FsbC5hcmdzCiAgICAgIGNhbGwuYXJncy51bnNoaWZ0KGlkKTsKCiAgICAgIGlmIChjYWxsLmRlcGVuZGVuY2llcykgewogICAgICAgIFNoaW55LnJlbmRlckRlcGVuZGVuY2llcyhjYWxsLmRlcGVuZGVuY2llcyk7CiAgICAgIH0KCiAgICAgIGlmICh3aW5kb3dbY2FsbC5tZXRob2RdKSB7CiAgICAgICAgd2luZG93W2NhbGwubWV0aG9kXS5hcHBseSh3aW5kb3dbaWQgKyAnbWFwJ10sIGNhbGwuYXJncyk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgLy9jb25zb2xlLmxvZygiVW5rbm93biBmdW5jdGlvbiAiICsgY2FsbC5tZXRob2QpOwogICAgICB9CiAgICB9CiAgfSk7Cn0KCg=="></script>

</head>
<body style="background-color: white;">
<div id="htmlwidget_container">
<div id="htmlwidget-eae250bd75c79a8e9733" class="mapdeck html-widget" style="width:100%;height:800px;">

</div>
</div>
<script type="application/json" data-for="htmlwidget-eae250bd75c79a8e9733">{"x":{"access_token":"pk.eyJ1IjoiamVucy1tb3VudGFpbm1hdGgiLCJhIjoiTmJ2Z3FHNCJ9.ifMzNW0vPH1Yc6As93HP9A","style":"mapbox://styles/jens-mountainmath/cjncbngol1e3s2snof3ssdd3d","pitch":0,"zoom":0,"location":[0,0],"bearing":0,"max_zoom":20,"min_zoom":0,"max_pitch":60,"min_pitch":0,"show_view_state":false,"repeat_view":false,"calls":[{"functions":"md_change_location","args":["mapdeck",[-123.123253062903,49.2491386912447],16,null,null,null,"linear"]}]},"evals":[],"jsHooks":[]}</script>
<script type="application/htmlwidget-sizing" data-for="htmlwidget-eae250bd75c79a8e9733">{"viewer":{"width":"100%","height":800,"padding":0,"fill":true},"browser":{"width":"100%","height":800,"padding":0,"fill":false}}</script>
</body>
</html>
